webpackJsonp([15],{

/***/ 1216:
/* no static exports found */
/* all exports used */
/*!*********************************************************************************!*\
  !*** ./src/components/worklist/markerinformation/examinerstatechangeoption.tsx ***!
  \*********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/**\r\n * examinerStateChangeOption contains the available state for the examiner.\r\n * @param props\r\n */\r\nvar examinerStateChangeOption = function (props) {\r\n    return (React.createElement(\"div\", { className: 'approval-options' },\r\n        React.createElement(\"input\", { type: 'radio', value: 'selected', onChange: function () { props.onSelectionChange(); }, id: props.id, name: 'changeStatus', checked: props.isChecked ? true : false }),\r\n        React.createElement(\"label\", { htmlFor: props.id },\r\n            React.createElement(\"span\", { className: 'radio-ui' }),\r\n            React.createElement(\"span\", { className: 'label-text' }, props.stateText))));\r\n};\r\nmodule.exports = examinerStateChangeOption;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIxNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtlcmluZm9ybWF0aW9uL2V4YW1pbmVyc3RhdGVjaGFuZ2VvcHRpb24udHN4PzgwZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5cclxuaW50ZXJmYWNlIENoYW5nZUV4YW1pbmVyU3RhdGVPcHRpb25Qcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBvblNlbGVjdGlvbkNoYW5nZT86IEZ1bmN0aW9uO1xyXG4gICAgaXNDaGVja2VkOiBib29sZWFuO1xyXG4gICAgc3RhdGVUZXh0OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBleGFtaW5lclN0YXRlQ2hhbmdlT3B0aW9uIGNvbnRhaW5zIHRoZSBhdmFpbGFibGUgc3RhdGUgZm9yIHRoZSBleGFtaW5lci5cclxuICogQHBhcmFtIHByb3BzXHJcbiAqL1xyXG5jb25zdCBleGFtaW5lclN0YXRlQ2hhbmdlT3B0aW9uOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8Q2hhbmdlRXhhbWluZXJTdGF0ZU9wdGlvblByb3BzPiA9IChwcm9wczogQ2hhbmdlRXhhbWluZXJTdGF0ZU9wdGlvblByb3BzKSA9PiB7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYXBwcm92YWwtb3B0aW9ucyc+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgdmFsdWU9J3NlbGVjdGVkJyBvbkNoYW5nZT17KCkgPT4geyBwcm9wcy5vblNlbGVjdGlvbkNoYW5nZSgpOyB9IH0gaWQ9e3Byb3BzLmlkfSBuYW1lPSdjaGFuZ2VTdGF0dXMnXHJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtwcm9wcy5pc0NoZWNrZWQgPyB0cnVlIDogZmFsc2V9IC8+XHJcbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtwcm9wcy5pZH0+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3JhZGlvLXVpJz48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xhYmVsLXRleHQnPntwcm9wcy5zdGF0ZVRleHR9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxufTtcclxuXHJcbmV4cG9ydCA9IGV4YW1pbmVyU3RhdGVDaGFuZ2VPcHRpb247XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtlcmluZm9ybWF0aW9uL2V4YW1pbmVyc3RhdGVjaGFuZ2VvcHRpb24udHN4Il0sIm1hcHBpbmdzIjoiO0FBQUE7QUFTQTs7O0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 486:
/* no static exports found */
/* all exports used */
/*!***********************************************************************!*\
  !*** ./src/utility/teammanagement/helpers/helpexaminersdatahelper.ts ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar teamManagementStore = __webpack_require__(/*! ../../../stores/teammanagement/teammanagementstore */ 245);\r\nvar enums = __webpack_require__(/*! ../../../components/utility/enums */ 225);\r\n/**\r\n * Helper class for help examiner data\r\n */\r\nvar HelpExaminerDataHelper = /** @class */ (function () {\r\n    function HelpExaminerDataHelper() {\r\n        var _this = this;\r\n        /**\r\n         * Get SEP Actions.\r\n         */\r\n        this.getSEPActions = function (examinerRoleId) {\r\n            if (teamManagementStore && teamManagementStore.instance.examinersForHelpExaminers) {\r\n                _this.sepActions = new Array();\r\n                var examinersForHelpExaminers = teamManagementStore.instance.examinersForHelpExaminers.toArray();\r\n                examinersForHelpExaminers.forEach(function (examiner) {\r\n                    if (examiner.examinerRoleId === examinerRoleId) {\r\n                        var actions = examiner.actions;\r\n                        actions.forEach(function (item) {\r\n                            if (item === enums.SEPAction.ProvideSecondStandardisation\r\n                                || item === enums.SEPAction.Approve\r\n                                || item === enums.SEPAction.Re_approve\r\n                                || item === enums.SEPAction.SendMessage) {\r\n                                _this.sepActions.push(item);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            return _this.sepActions;\r\n        };\r\n    }\r\n    return HelpExaminerDataHelper;\r\n}());\r\nmodule.exports = HelpExaminerDataHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvdGVhbW1hbmFnZW1lbnQvaGVscGVycy9oZWxwZXhhbWluZXJzZGF0YWhlbHBlci50cz83MWNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0ZWFtTWFuYWdlbWVudFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3RlYW1tYW5hZ2VtZW50L3RlYW1tYW5hZ2VtZW50c3RvcmUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XHJcblxyXG4vKipcclxuICogSGVscGVyIGNsYXNzIGZvciBoZWxwIGV4YW1pbmVyIGRhdGFcclxuICovXHJcbmNsYXNzIEhlbHBFeGFtaW5lckRhdGFIZWxwZXIge1xyXG5cclxuICAgIHByaXZhdGUgc2VwQWN0aW9uczogQXJyYXk8bnVtYmVyPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBTRVAgQWN0aW9ucy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFNFUEFjdGlvbnMgPSAoZXhhbWluZXJSb2xlSWQgOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGVhbU1hbmFnZW1lbnRTdG9yZSAmJiB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyc0ZvckhlbHBFeGFtaW5lcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXBBY3Rpb25zID0gbmV3IEFycmF5PG51bWJlcj4oKTtcclxuICAgICAgICAgICAgbGV0IGV4YW1pbmVyc0ZvckhlbHBFeGFtaW5lcnMgPSB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyc0ZvckhlbHBFeGFtaW5lcnMudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBleGFtaW5lcnNGb3JIZWxwRXhhbWluZXJzLmZvckVhY2goKGV4YW1pbmVyOiBFeGFtaW5lckRhdGFGb3JIZWxwRXhhbWluZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChleGFtaW5lci5leGFtaW5lclJvbGVJZCA9PT0gZXhhbWluZXJSb2xlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aW9ucyA9IGV4YW1pbmVyLmFjdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9ucy5mb3JFYWNoKChpdGVtOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gPT09IGVudW1zLlNFUEFjdGlvbi5Qcm92aWRlU2Vjb25kU3RhbmRhcmRpc2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBpdGVtID09PSBlbnVtcy5TRVBBY3Rpb24uQXBwcm92ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgaXRlbSA9PT0gZW51bXMuU0VQQWN0aW9uLlJlX2FwcHJvdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGl0ZW0gPT09IGVudW1zLlNFUEFjdGlvbi5TZW5kTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXBBY3Rpb25zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5zZXBBY3Rpb25zO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBIZWxwRXhhbWluZXJEYXRhSGVscGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS90ZWFtbWFuYWdlbWVudC9oZWxwZXJzL2hlbHBleGFtaW5lcnNkYXRhaGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 587:
/* no static exports found */
/* all exports used */
/*!********************************************************************************!*\
  !*** ./src/components/worklist/markerinformation/examinerstatechangepopup.tsx ***!
  \********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar GenericButton = __webpack_require__(/*! ../../utility/genericbutton */ 290);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar ExaminerStateChangeOption = __webpack_require__(/*! ./examinerstatechangeoption */ 1216);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar operationModeHelper = __webpack_require__(/*! ../../utility/userdetails/userinfo/operationmodehelper */ 289);\r\nvar helpExaminersDataHelper = __webpack_require__(/*! ../../../utility/teammanagement/helpers/helpexaminersdatahelper */ 486);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar stringHelper = __webpack_require__(/*! ../../../utility/generic/stringhelper */ 254);\r\nvar constants = __webpack_require__(/*! ../../utility/constants */ 241);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar applicationStore = __webpack_require__(/*! ../../../stores/applicationoffline/applicationstore */ 247);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar teamManagementActionCreator;\r\nvar examinerStatuseArguments;\r\nvar teamManagementStore;\r\nvar secondStandardisationArguments;\r\nvar qigActionCreator;\r\nvar worklistActionCreator;\r\n/**\r\n * ExaminerStateChangePopup contain team change status options, ok and cancel buttons.\r\n * @param props\r\n * @param state\r\n */\r\nvar ExaminerStateChangePopup = /** @class */ (function (_super) {\r\n    __extends(ExaminerStateChangePopup, _super);\r\n    /**\r\n     * Constructor Messagepopup\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function ExaminerStateChangePopup(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.defaultSelectedOption = enums.ChangeStatusOptions.None;\r\n        /**\r\n         * Save examiner state change selection in to data base.\r\n         */\r\n        _this.saveChangeExaminerStateSelection = function () {\r\n            _this.isShowPopup = false;\r\n            _this.setState({ renderedOn: Date.now() });\r\n            //On clicking OK button in change examiner status popup\r\n            // Please check whether application is online.\r\n            // If yes, proceed with saving the examiner status otherwise interrupt action.\r\n            if (applicationStore.instance.isOnline) {\r\n                // Save examiner status only if the selected approval status not equal to current status.\r\n                // do save only if some other option is being selected\r\n                if (_this.selectedExaminerStatus !== _this.defaultSelectedOption) {\r\n                    teamManagementActionCreator.setExaminerChangeStatusButtonBusy();\r\n                    if (_this.sepActions && _this.sepActions.length > 0) {\r\n                        // SEP Action Execution\r\n                        _this.executeSEPApprovalManagementAction();\r\n                    }\r\n                    else {\r\n                        if (_this.selectedExaminerStatus === enums.ChangeStatusOptions.SendForSecondStandardisation) {\r\n                            // Non SEP Send For Second STD\r\n                            _this.provideSecondStandardisation();\r\n                        }\r\n                        else {\r\n                            // Non SEP Status Change\r\n                            _this.changeExaminerStatus();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                applicationActionCreator.checkActionInterrupted();\r\n            }\r\n        };\r\n        /**\r\n         * Save examiner state change selection in to data base.\r\n         */\r\n        _this.onSelectionChange = function (changeStateOption) {\r\n            _this.isApprovedChecked = false;\r\n            _this.iscurrentStateChecked = false;\r\n            _this.isSecondStandardisationAvailableChecked = false;\r\n            _this.isReApprovedChecked = false;\r\n            _this.isSuspendedOptionChecked = false;\r\n            _this.isApprovedPendingReviewChecked = false;\r\n            switch (changeStateOption) {\r\n                case _this.defaultSelectedOption:\r\n                    _this.iscurrentStateChecked = true;\r\n                    break;\r\n                case enums.ChangeStatusOptions.Approved:\r\n                    _this.isApprovedChecked = true;\r\n                    break;\r\n                case enums.ChangeStatusOptions.Suspended:\r\n                    _this.isSuspendedOptionChecked = true;\r\n                    break;\r\n                case enums.ChangeStatusOptions.SendForSecondStandardisation:\r\n                    _this.isSecondStandardisationAvailableChecked = true;\r\n                    break;\r\n                case enums.ChangeStatusOptions.Re_approve:\r\n                    _this.isReApprovedChecked = true;\r\n                    break;\r\n                case enums.ChangeStatusOptions.AprovedPendingReview:\r\n                    _this.isApprovedPendingReviewChecked = true;\r\n                    break;\r\n            }\r\n            _this.selectedExaminerStatus = changeStateOption;\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Cancel the examiner state change selection.\r\n         */\r\n        _this.cancelExaminerStateChangeSelection = function () {\r\n            _this.isShowPopup = false;\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Handles the action event for showing change status popup.\r\n         */\r\n        _this.toggleExaminerChangeStatusPopup = function (isPopupVisible) {\r\n            _this.bindChangeStatusOption();\r\n            _this.isShowPopup = isPopupVisible;\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        // Set the default states\r\n        _this.state = {\r\n            renderedOn: 0\r\n        };\r\n        _this.saveChangeExaminerStateSelection = _this.saveChangeExaminerStateSelection.bind(_this);\r\n        _this.cancelExaminerStateChangeSelection = _this.cancelExaminerStateChangeSelection.bind(_this);\r\n        _this.isSecondStandardisationOptionAvailable = false;\r\n        _this.isShowPopup = false;\r\n        _this.toggleExaminerChangeStatusPopup = _this.toggleExaminerChangeStatusPopup.bind(_this);\r\n        _this.helpExaminersDataHelper = new helpExaminersDataHelper();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    ExaminerStateChangePopup.prototype.render = function () {\r\n        var _this = this;\r\n        var approvedState;\r\n        var secondStandardisationState;\r\n        var aprovedPendingReviewState;\r\n        var currentSelectedState = null;\r\n        var reapprovedState;\r\n        var suspendedState;\r\n        var formattedString;\r\n        if (this.sepActions && this.sepActions.length > 0) {\r\n            // SEP OPTIONS\r\n            this.sepActions.forEach(function (sepaction) {\r\n                if (sepaction === enums.SEPAction.ProvideSecondStandardisation) {\r\n                    secondStandardisationState = (React.createElement(ExaminerStateChangeOption, { id: 'changeStatusStnd', key: 'changeStatusStnd', isChecked: _this.isSecondStandardisationAvailableChecked, stateText: localeStore.instance.\r\n                            TranslateText('team-management.examiner-worklist.change-status-sep.' +\r\n                            enums.SEPAction[sepaction]), onSelectionChange: _this.onSelectionChange.bind(_this, enums.ChangeStatusOptions.SendForSecondStandardisation), selectedLanguage: _this.props.selectedLanguage }));\r\n                }\r\n                if (sepaction === enums.SEPAction.Approve) {\r\n                    approvedState = (React.createElement(ExaminerStateChangeOption, { id: 'changeStatusApprove', key: 'changeStatusApprove', isChecked: _this.isApprovedChecked, stateText: localeStore.instance.\r\n                            TranslateText('team-management.examiner-worklist.change-status-sep.' +\r\n                            enums.SEPAction[sepaction]), onSelectionChange: _this.onSelectionChange.bind(_this, enums.ChangeStatusOptions.Approved), selectedLanguage: _this.props.selectedLanguage }));\r\n                }\r\n                if (sepaction === enums.SEPAction.Re_approve) {\r\n                    reapprovedState = (React.createElement(ExaminerStateChangeOption, { id: 'changeStatusReApprove', key: 'changeStatusReApprove', isChecked: _this.isReApprovedChecked, stateText: stringHelper.format(localeStore.instance.\r\n                            TranslateText('team-management.examiner-worklist.change-status-sep.' +\r\n                            enums.SEPAction[sepaction]), [constants.NONBREAKING_HYPHEN_UNICODE]), onSelectionChange: _this.onSelectionChange.bind(_this, enums.ChangeStatusOptions.Re_approve), selectedLanguage: _this.props.selectedLanguage }));\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            // NON SEP Options\r\n            currentSelectedState = (React.createElement(ExaminerStateChangeOption, { id: 'defaultSelectedState', key: 'defaultSelectedState', isChecked: this.iscurrentStateChecked, stateText: localeStore.instance.TranslateText('generic.approval-statuses.' +\r\n                    enums.ExaminerApproval[this.props.currentState]), onSelectionChange: this.onSelectionChange.bind(this, this.defaultSelectedOption), selectedLanguage: this.props.selectedLanguage }));\r\n            if (this.props.currentState === enums.ExaminerApproval.Approved) {\r\n                suspendedState = (React.createElement(ExaminerStateChangeOption, { id: 'changeStatusSuspend', key: 'changeStatusSuspend', isChecked: this.isSuspendedOptionChecked, stateText: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.suspend'), onSelectionChange: this.onSelectionChange.bind(this, enums.ChangeStatusOptions.Suspended), selectedLanguage: this.props.selectedLanguage }));\r\n            }\r\n            if (this.props.currentState === enums.ExaminerApproval.Suspended ||\r\n                this.props.currentState === enums.ExaminerApproval.NotApproved) {\r\n                approvedState = (React.createElement(ExaminerStateChangeOption, { id: 'changeStatusApprove', key: 'changeStatusApprove', isChecked: this.isApprovedChecked, stateText: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.approve'), onSelectionChange: this.onSelectionChange.bind(this, enums.ChangeStatusOptions.Approved), selectedLanguage: this.props.selectedLanguage }));\r\n                aprovedPendingReviewState = (React.createElement(ExaminerStateChangeOption, { id: 'changeStatusApprovePendingReview', key: 'changeStatusaprovedPendingReview', isChecked: this.isApprovedPendingReviewChecked, stateText: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.approve-pending-review'), onSelectionChange: this.onSelectionChange.bind(this, enums.ChangeStatusOptions.AprovedPendingReview), selectedLanguage: this.props.selectedLanguage }));\r\n            }\r\n            if (this.props.currentState === enums.ExaminerApproval.NotApproved) {\r\n                secondStandardisationState = (this.isSecondStandardisationOptionAvailable ? React.createElement(ExaminerStateChangeOption, { id: 'changeStatusStnd', key: 'changeStatusStnd', isChecked: this.isSecondStandardisationAvailableChecked, stateText: localeStore.instance.\r\n                        TranslateText('team-management.examiner-worklist.change-status.send-second-standardisation'), onSelectionChange: this.onSelectionChange.bind(this, enums.ChangeStatusOptions.SendForSecondStandardisation), selectedLanguage: this.props.selectedLanguage }) : null);\r\n            }\r\n            if (this.props.currentState === enums.ExaminerApproval.ApprovedReview) {\r\n                approvedState = (React.createElement(ExaminerStateChangeOption, { id: 'changeStatusApprove', key: 'changeStatusApprove', isChecked: this.isApprovedChecked, stateText: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.approve'), onSelectionChange: this.onSelectionChange.bind(this, enums.ChangeStatusOptions.Approved), selectedLanguage: this.props.selectedLanguage }));\r\n                suspendedState = (React.createElement(ExaminerStateChangeOption, { id: 'changeStatusSuspend', key: 'changeStatusSuspend', isChecked: this.isSuspendedOptionChecked, stateText: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.suspend'), onSelectionChange: this.onSelectionChange.bind(this, enums.ChangeStatusOptions.Suspended), selectedLanguage: this.props.selectedLanguage }));\r\n            }\r\n        }\r\n        return (React.createElement(\"div\", { className: classNames('popup small change-status popup-overlay ', { 'open': this.isShowPopup }), id: 'changeStatus', role: 'dialog', \"aria-labelledby\": 'popup1Title', \"aria-describedby\": 'popup1Desc' },\r\n            React.createElement(\"div\", { className: 'popup-wrap' },\r\n                React.createElement(\"div\", { className: 'popup-content', id: 'popup1Desc' },\r\n                    currentSelectedState,\r\n                    approvedState,\r\n                    aprovedPendingReviewState,\r\n                    reapprovedState,\r\n                    secondStandardisationState,\r\n                    suspendedState),\r\n                React.createElement(\"div\", { className: 'popup-footer text-right' },\r\n                    React.createElement(GenericButton, { id: 'button-rounded-close-button', key: 'key_button rounded close-button', className: 'button rounded close-button', title: localeStore.instance.TranslateText('generic.user-menu.profile-section.cancel-email-button'), content: localeStore.instance.TranslateText('generic.user-menu.profile-section.cancel-email-button'), disabled: false, onClick: this.cancelExaminerStateChangeSelection, selectedLanguage: this.props.selectedLanguage }),\r\n                    React.createElement(GenericButton, { id: 'button-primary-rounded-button', key: 'key_button primary rounded-button', className: 'button primary rounded', title: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.ok-button'), content: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.ok-button'), disabled: false, onClick: this.saveChangeExaminerStateSelection, selectedLanguage: this.props.selectedLanguage })))));\r\n    };\r\n    /**\r\n     * Component did mount\r\n     */\r\n    ExaminerStateChangePopup.prototype.componentDidMount = function () {\r\n        this.loadDependencies();\r\n    };\r\n    /**\r\n     * Component will unmount\r\n     */\r\n    ExaminerStateChangePopup.prototype.componentWillUnmount = function () {\r\n        this.removeEventListeners();\r\n    };\r\n    /**\r\n     *  This will load the dependencies for team management dynamically during component mount.\r\n     */\r\n    ExaminerStateChangePopup.prototype.loadDependencies = function () {\r\n        __webpack_require__.e/* require.ensure */(16).then((function () {\r\n            teamManagementActionCreator = __webpack_require__(/*! ../../../actions/teammanagement/teammanagementactioncreator */ 263);\r\n            examinerStatuseArguments = __webpack_require__(/*! ../../../dataservices/teammanagement/typings/setexaminerstatusearguments */ 603);\r\n            teamManagementStore = __webpack_require__(/*! ../../../stores/teammanagement/teammanagementstore */ 245);\r\n            secondStandardisationArguments = __webpack_require__(/*! ../../../dataservices/teammanagement/typings/setsecondStandardisationarguments */ 604);\r\n            qigActionCreator = __webpack_require__(/*! ../../../actions/qigselector/qigselectoractioncreator */ 253);\r\n            worklistActionCreator = __webpack_require__(/*! ../../../actions/worklist/worklistactioncreator */ 261);\r\n            this.addEventListeners();\r\n        }.bind(this)).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\r\n    };\r\n    /**\r\n     * Hook all event listeners for team management here, It will be called after loading depencies\r\n     * We required this type of implementation for the initial routing page like worklist, responsecontainer etc.\r\n     */\r\n    ExaminerStateChangePopup.prototype.addEventListeners = function () {\r\n        if (markerOperationModeFactory && markerOperationModeFactory.operationMode.isTeamManagementMode) {\r\n            teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.CHANGE_STATUS_POPUP_VISIBILITY_UPDATED, this.toggleExaminerChangeStatusPopup);\r\n        }\r\n    };\r\n    /**\r\n     * Remove all event listeners for team management here.\r\n     */\r\n    ExaminerStateChangePopup.prototype.removeEventListeners = function () {\r\n        if (markerOperationModeFactory && markerOperationModeFactory.operationMode.isTeamManagementMode) {\r\n            teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.CHANGE_STATUS_POPUP_VISIBILITY_UPDATED, this.toggleExaminerChangeStatusPopup);\r\n        }\r\n    };\r\n    /**\r\n     * Verify second standardisation available or not.\r\n     */\r\n    ExaminerStateChangePopup.prototype.verifySecondStandardisationOptionAvailable = function () {\r\n        if (qigStore && qigStore.instance.selectedQIGForMarkerOperation) {\r\n            if (qigStore.instance.selectedQIGForMarkerOperation.hasSecondStandardisationResponseClassified) {\r\n                if (!qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember) {\r\n                    if (qigStore.instance.selectedQIGForMarkerOperation.markingTargets) {\r\n                        this.isSecondStandardisationOptionAvailable = !this.isSecondStandardisationTargetAvailable();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Verify second standardisation target available or not.\r\n     */\r\n    ExaminerStateChangePopup.prototype.isSecondStandardisationTargetAvailable = function () {\r\n        return qigStore.instance.selectedQIGForMarkerOperation.markingTargets.some(function (target) {\r\n            return target.markingMode === enums.MarkingMode.ES_TeamApproval;\r\n        });\r\n    };\r\n    /**\r\n     * Bind change status option.\r\n     */\r\n    ExaminerStateChangePopup.prototype.bindChangeStatusOption = function () {\r\n        var _this = this;\r\n        if (qigStore && qigStore.instance.selectedQIGForMarkerOperation) {\r\n            this.sepActions = this.helpExaminersDataHelper.\r\n                getSEPActions(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId);\r\n        }\r\n        this.iscurrentStateChecked = false;\r\n        this.isApprovedChecked = false;\r\n        this.isSecondStandardisationAvailableChecked = false;\r\n        this.isReApprovedChecked = false;\r\n        this.isSuspendedOptionChecked = false;\r\n        this.isApprovedPendingReviewChecked = false;\r\n        if (this.sepActions && this.sepActions.length > 0) {\r\n            // For SEP Actions, the defaultSelectedOption is none as it should be.\r\n            // New set of SEP actions will be displayed and\r\n            // the first one in the list will be set as selected.\r\n            this.sepActions.forEach(function (sepaction) {\r\n                switch (sepaction) {\r\n                    case enums.SEPAction.Approve:\r\n                        _this.isApprovedChecked = true;\r\n                        _this.selectedExaminerStatus = enums.ChangeStatusOptions.Approved;\r\n                        return;\r\n                    case enums.SEPAction.Re_approve:\r\n                        _this.isReApprovedChecked = true;\r\n                        _this.selectedExaminerStatus = enums.ChangeStatusOptions.Re_approve;\r\n                        return;\r\n                    case enums.SEPAction.ProvideSecondStandardisation:\r\n                        _this.isSecondStandardisationAvailableChecked = true;\r\n                        _this.selectedExaminerStatus = enums.ChangeStatusOptions.SendForSecondStandardisation;\r\n                        return;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            // For Non SEP, when the popup is loaded,\r\n            // Selected Option and the Default Option must be the examiner approval status.\r\n            switch (this.props.currentState) {\r\n                case enums.ExaminerApproval.NotApproved:\r\n                    this.defaultSelectedOption = enums.ChangeStatusOptions.NotApproved;\r\n                    break;\r\n                case enums.ExaminerApproval.Suspended:\r\n                    this.defaultSelectedOption = enums.ChangeStatusOptions.Suspended;\r\n                    break;\r\n                case enums.ExaminerApproval.Approved:\r\n                    this.defaultSelectedOption = enums.ChangeStatusOptions.Approved;\r\n                    break;\r\n                case enums.ExaminerApproval.ApprovedReview:\r\n                    this.defaultSelectedOption = enums.ChangeStatusOptions.AprovedPendingReview;\r\n                    break;\r\n                default:\r\n                    this.defaultSelectedOption = enums.ChangeStatusOptions.None;\r\n                    break;\r\n            }\r\n            this.iscurrentStateChecked = true;\r\n            this.selectedExaminerStatus = this.defaultSelectedOption;\r\n            this.verifySecondStandardisationOptionAvailable();\r\n        }\r\n    };\r\n    /**\r\n     * Method to change the examiner status in Non SEP.\r\n     */\r\n    ExaminerStateChangePopup.prototype.changeExaminerStatus = function () {\r\n        var newStatus;\r\n        switch (this.selectedExaminerStatus) {\r\n            case enums.ChangeStatusOptions.Approved:\r\n                newStatus = enums.ExaminerApproval.Approved;\r\n                break;\r\n            case enums.ChangeStatusOptions.NotApproved:\r\n                newStatus = enums.ExaminerApproval.NotApproved;\r\n                break;\r\n            case enums.ChangeStatusOptions.Suspended:\r\n                newStatus = enums.ExaminerApproval.Suspended;\r\n                break;\r\n            case enums.ChangeStatusOptions.AprovedPendingReview:\r\n                newStatus = enums.ExaminerApproval.ApprovedReview;\r\n                break;\r\n        }\r\n        examinerStatuseArguments = {\r\n            examinerRoleId: qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId,\r\n            markSchemeGroupId: qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId,\r\n            examinerStatus: newStatus,\r\n            questionPaperPartId: qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId,\r\n            previousExaminerStatus: this.props.currentState,\r\n            loggedInExaminerRoleId: operationModeHelper.authorisedExaminerRoleId,\r\n            subordinateExaminerId: teamManagementStore.instance.examinerDrillDownData ?\r\n                teamManagementStore.instance.examinerDrillDownData.examinerId : 0\r\n        };\r\n        teamManagementActionCreator.changeExaminerStatus(examinerStatuseArguments);\r\n    };\r\n    /**\r\n     * Method to provide second standardisation for an examiner.\r\n     */\r\n    ExaminerStateChangePopup.prototype.provideSecondStandardisation = function () {\r\n        secondStandardisationArguments = {\r\n            examinerRoleId: qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId,\r\n            markSchemeGroupId: qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId,\r\n            markingModeId: enums.MarkingMode.Approval,\r\n            loggedInExaminerRoleId: operationModeHelper.authorisedExaminerRoleId,\r\n            subordinateExaminerId: teamManagementStore.instance.examinerDrillDownData ?\r\n                teamManagementStore.instance.examinerDrillDownData.examinerId : 0\r\n        };\r\n        teamManagementActionCreator.provideSecondStandardisation(secondStandardisationArguments);\r\n    };\r\n    /**\r\n     * Method to execute SEP approval management action.\r\n     */\r\n    ExaminerStateChangePopup.prototype.executeSEPApprovalManagementAction = function () {\r\n        var actionIdentifier;\r\n        if (this.isApprovedChecked) {\r\n            actionIdentifier = enums.SEPAction.Approve;\r\n        }\r\n        else if (this.isSecondStandardisationAvailableChecked) {\r\n            actionIdentifier = enums.SEPAction.ProvideSecondStandardisation;\r\n        }\r\n        else if (this.isReApprovedChecked) {\r\n            actionIdentifier = enums.SEPAction.Re_approve;\r\n        }\r\n        var dataCollection = new Array();\r\n        var examinerSEPAction = {\r\n            examinerRoleId: qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId,\r\n            markSchemeGroupId: qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId,\r\n            requestedByExaminerRoleId: operationModeHelper.authorisedExaminerRoleId\r\n        };\r\n        dataCollection.push(examinerSEPAction);\r\n        var examinerSEPActions = Immutable.List(dataCollection);\r\n        var doSEPApprovalManagementActionArgument = {\r\n            actionIdentifier: actionIdentifier,\r\n            examiners: examinerSEPActions\r\n        };\r\n        teamManagementActionCreator.ExecuteApprovalManagementAction(doSEPApprovalManagementActionArgument);\r\n    };\r\n    return ExaminerStateChangePopup;\r\n}(pureRenderComponent));\r\nmodule.exports = ExaminerStateChangePopup;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTg3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3QvbWFya2VyaW5mb3JtYXRpb24vZXhhbWluZXJzdGF0ZWNoYW5nZXBvcHVwLnRzeD9kZTEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcbmltcG9ydCBHZW5lcmljQnV0dG9uID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9nZW5lcmljYnV0dG9uJyk7XG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XG5pbXBvcnQgRXhhbWluZXJTdGF0ZUNoYW5nZU9wdGlvbiA9IHJlcXVpcmUoJy4vZXhhbWluZXJzdGF0ZWNoYW5nZW9wdGlvbicpO1xuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xuaW1wb3J0IG9wZXJhdGlvbk1vZGVIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3VzZXJkZXRhaWxzL3VzZXJpbmZvL29wZXJhdGlvbm1vZGVoZWxwZXInKTtcbmltcG9ydCBtYXJrZXJJbmZvcm1hdGlvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tYXJrZXJpbmZvcm1hdGlvbi90eXBpbmdzL21hcmtlcmluZm9ybWF0aW9uJyk7XG5pbXBvcnQgaGVscEV4YW1pbmVyc0RhdGFIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L3RlYW1tYW5hZ2VtZW50L2hlbHBlcnMvaGVscGV4YW1pbmVyc2RhdGFoZWxwZXInKTtcbmltcG9ydCBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvbWFya2Vyb3BlcmF0aW9ubW9kZS9tYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeScpO1xuaW1wb3J0IHN0cmluZ0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ2VuZXJpYy9zdHJpbmdoZWxwZXInKTtcbmltcG9ydCBjb25zdGFudHMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2NvbnN0YW50cycpO1xuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xuaW1wb3J0IGFwcGxpY2F0aW9uU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvYXBwbGljYXRpb25vZmZsaW5lL2FwcGxpY2F0aW9uc3RvcmUnKTtcbmltcG9ydCBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbmFjdGlvbmNyZWF0b3InKTtcblxubGV0IHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvcjtcbmxldCBleGFtaW5lclN0YXR1c2VBcmd1bWVudHM7XG5sZXQgdGVhbU1hbmFnZW1lbnRTdG9yZTtcbmxldCBzZWNvbmRTdGFuZGFyZGlzYXRpb25Bcmd1bWVudHM7XG5sZXQgcWlnQWN0aW9uQ3JlYXRvcjtcbmxldCB3b3JrbGlzdEFjdGlvbkNyZWF0b3I7XG5cbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XG4gICAgY3VycmVudFN0YXRlOiBlbnVtcy5FeGFtaW5lckFwcHJvdmFsO1xuICAgIG1hcmtlckluZm9ybWF0aW9uOiBtYXJrZXJJbmZvcm1hdGlvbjtcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgICByZW5kZXJlZE9uPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIEV4YW1pbmVyU3RhdGVDaGFuZ2VQb3B1cCBjb250YWluIHRlYW0gY2hhbmdlIHN0YXR1cyBvcHRpb25zLCBvayBhbmQgY2FuY2VsIGJ1dHRvbnMuXG4gKiBAcGFyYW0gcHJvcHNcbiAqIEBwYXJhbSBzdGF0ZVxuICovXG5jbGFzcyBFeGFtaW5lclN0YXRlQ2hhbmdlUG9wdXAgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSBpc0FwcHJvdmVkQ2hlY2tlZDogYm9vbGVhbjtcbiAgICBwcml2YXRlIGlzU3VzcGVuZGVkT3B0aW9uQ2hlY2tlZDogYm9vbGVhbjtcbiAgICBwcml2YXRlIGlzY3VycmVudFN0YXRlQ2hlY2tlZDogYm9vbGVhbjtcbiAgICBwcml2YXRlIGlzU2Vjb25kU3RhbmRhcmRpc2F0aW9uQXZhaWxhYmxlQ2hlY2tlZDogYm9vbGVhbjtcbiAgICBwcml2YXRlIHNlbGVjdGVkRXhhbWluZXJTdGF0dXM6IGVudW1zLkNoYW5nZVN0YXR1c09wdGlvbnM7XG4gICAgcHJpdmF0ZSBpc1NlY29uZFN0YW5kYXJkaXNhdGlvbk9wdGlvbkF2YWlsYWJsZTogYm9vbGVhbjtcbiAgICBwcml2YXRlIGlzU2hvd1BvcHVwOiBib29sZWFuO1xuICAgIHByaXZhdGUgc2VwQWN0aW9uczogQXJyYXk8bnVtYmVyPjtcbiAgICBwcml2YXRlIGhlbHBFeGFtaW5lcnNEYXRhSGVscGVyOiBoZWxwRXhhbWluZXJzRGF0YUhlbHBlcjtcbiAgICBwcml2YXRlIGRlZmF1bHRTZWxlY3RlZE9wdGlvbjogZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucyA9IGVudW1zLkNoYW5nZVN0YXR1c09wdGlvbnMuTm9uZTtcbiAgICBwcml2YXRlIGlzUmVBcHByb3ZlZENoZWNrZWQ6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBpc0FwcHJvdmVkUGVuZGluZ1Jldmlld0NoZWNrZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBNZXNzYWdlcG9wdXBcbiAgICAgKiBAcGFyYW0gcHJvcHNcbiAgICAgKiBAcGFyYW0gc3RhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBTdGF0ZSkge1xuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xuXG4gICAgICAgIC8vIFNldCB0aGUgZGVmYXVsdCBzdGF0ZXNcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHJlbmRlcmVkT246IDBcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNhdmVDaGFuZ2VFeGFtaW5lclN0YXRlU2VsZWN0aW9uID0gdGhpcy5zYXZlQ2hhbmdlRXhhbWluZXJTdGF0ZVNlbGVjdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhbmNlbEV4YW1pbmVyU3RhdGVDaGFuZ2VTZWxlY3Rpb24gPSB0aGlzLmNhbmNlbEV4YW1pbmVyU3RhdGVDaGFuZ2VTZWxlY3Rpb24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc1NlY29uZFN0YW5kYXJkaXNhdGlvbk9wdGlvbkF2YWlsYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU2hvd1BvcHVwID0gZmFsc2U7XG4gICAgICAgIHRoaXMudG9nZ2xlRXhhbWluZXJDaGFuZ2VTdGF0dXNQb3B1cCA9IHRoaXMudG9nZ2xlRXhhbWluZXJDaGFuZ2VTdGF0dXNQb3B1cC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhlbHBFeGFtaW5lcnNEYXRhSGVscGVyID0gbmV3IGhlbHBFeGFtaW5lcnNEYXRhSGVscGVyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XG5cbiAgICAgICAgbGV0IGFwcHJvdmVkU3RhdGU6IEpTWC5FbGVtZW50O1xuICAgICAgICBsZXQgc2Vjb25kU3RhbmRhcmRpc2F0aW9uU3RhdGU6IEpTWC5FbGVtZW50O1xuICAgICAgICBsZXQgYXByb3ZlZFBlbmRpbmdSZXZpZXdTdGF0ZTogSlNYLkVsZW1lbnQ7XG4gICAgICAgIGxldCBjdXJyZW50U2VsZWN0ZWRTdGF0ZTogSlNYLkVsZW1lbnQgPSBudWxsO1xuICAgICAgICBsZXQgcmVhcHByb3ZlZFN0YXRlOiBKU1guRWxlbWVudDtcbiAgICAgICAgbGV0IHN1c3BlbmRlZFN0YXRlOiBKU1guRWxlbWVudDtcbiAgICAgICAgbGV0IGZvcm1hdHRlZFN0cmluZzogc3RyaW5nO1xuICAgICAgICBpZiAodGhpcy5zZXBBY3Rpb25zICYmIHRoaXMuc2VwQWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gLy8gU0VQIE9QVElPTlNcbiAgICAgICAgICAgIHRoaXMuc2VwQWN0aW9ucy5mb3JFYWNoKChzZXBhY3Rpb246IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZXBhY3Rpb24gPT09IGVudW1zLlNFUEFjdGlvbi5Qcm92aWRlU2Vjb25kU3RhbmRhcmRpc2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZFN0YW5kYXJkaXNhdGlvblN0YXRlID0gKDxFeGFtaW5lclN0YXRlQ2hhbmdlT3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA9J2NoYW5nZVN0YXR1c1N0bmQnXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9J2NoYW5nZVN0YXR1c1N0bmQnXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NoZWNrZWQgPSB7IHRoaXMuaXNTZWNvbmRTdGFuZGFyZGlzYXRpb25BdmFpbGFibGVDaGVja2VkIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlVGV4dCA9IHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuY2hhbmdlLXN0YXR1cy1zZXAuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuU0VQQWN0aW9uW3NlcGFjdGlvbl0pIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlID0geyB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcywgZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucy5TZW5kRm9yU2Vjb25kU3RhbmRhcmRpc2F0aW9uKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlID0ge3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX0vPik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZXBhY3Rpb24gPT09IGVudW1zLlNFUEFjdGlvbi5BcHByb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkU3RhdGUgPSAoPEV4YW1pbmVyU3RhdGVDaGFuZ2VPcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkID0nY2hhbmdlU3RhdHVzQXBwcm92ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0nY2hhbmdlU3RhdHVzQXBwcm92ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tlZCA9IHsgdGhpcy5pc0FwcHJvdmVkQ2hlY2tlZCB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZVRleHQgPSB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmNoYW5nZS1zdGF0dXMtc2VwLicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlNFUEFjdGlvbltzZXBhY3Rpb25dKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdGlvbkNoYW5nZSA9IHsgdGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMsIGVudW1zLkNoYW5nZVN0YXR1c09wdGlvbnMuQXBwcm92ZWQpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2UgPSB7dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfS8+KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlcGFjdGlvbiA9PT0gZW51bXMuU0VQQWN0aW9uLlJlX2FwcHJvdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhcHByb3ZlZFN0YXRlID0gKDxFeGFtaW5lclN0YXRlQ2hhbmdlT3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA9J2NoYW5nZVN0YXR1c1JlQXBwcm92ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0nY2hhbmdlU3RhdHVzUmVBcHByb3ZlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNDaGVja2VkID0geyB0aGlzLmlzUmVBcHByb3ZlZENoZWNrZWQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVUZXh0ID0ge3N0cmluZ0hlbHBlci5mb3JtYXQobG9jYWxlU3RvcmUuaW5zdGFuY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmNoYW5nZS1zdGF0dXMtc2VwLicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlNFUEFjdGlvbltzZXBhY3Rpb25dKSwgW2NvbnN0YW50cy5OT05CUkVBS0lOR19IWVBIRU5fVU5JQ09ERV0pIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlID0geyB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcywgZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucy5SZV9hcHByb3ZlKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlID0ge3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX0vPik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIC8vIE5PTiBTRVAgT3B0aW9uc1xuICAgICAgICAgICAgY3VycmVudFNlbGVjdGVkU3RhdGUgPSAoPEV4YW1pbmVyU3RhdGVDaGFuZ2VPcHRpb25cbiAgICAgICAgICAgICAgICBpZD0nZGVmYXVsdFNlbGVjdGVkU3RhdGUnXG4gICAgICAgICAgICAgICAga2V5PSdkZWZhdWx0U2VsZWN0ZWRTdGF0ZSdcbiAgICAgICAgICAgICAgICBpc0NoZWNrZWQ9e3RoaXMuaXNjdXJyZW50U3RhdGVDaGVja2VkfVxuICAgICAgICAgICAgICAgIHN0YXRlVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5hcHByb3ZhbC1zdGF0dXNlcy4nICtcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuRXhhbWluZXJBcHByb3ZhbFt0aGlzLnByb3BzLmN1cnJlbnRTdGF0ZV0pfVxuICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXt0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcywgdGhpcy5kZWZhdWx0U2VsZWN0ZWRPcHRpb24pfVxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX0gLz4pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jdXJyZW50U3RhdGUgPT09IGVudW1zLkV4YW1pbmVyQXBwcm92YWwuQXBwcm92ZWQpe1xuXG4gICAgICAgICAgICAgICAgc3VzcGVuZGVkU3RhdGUgPSAoPEV4YW1pbmVyU3RhdGVDaGFuZ2VPcHRpb25cbiAgICAgICAgICAgICAgICAgICAgaWQ9J2NoYW5nZVN0YXR1c1N1c3BlbmQnXG4gICAgICAgICAgICAgICAgICAgIGtleT0nY2hhbmdlU3RhdHVzU3VzcGVuZCdcbiAgICAgICAgICAgICAgICAgICAgaXNDaGVja2VkPXt0aGlzLmlzU3VzcGVuZGVkT3B0aW9uQ2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdGVUZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuY2hhbmdlLXN0YXR1cy5zdXNwZW5kJyl9XG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXt0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcywgZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucy5TdXNwZW5kZWQpfVxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9IC8+KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY3VycmVudFN0YXRlID09PSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLlN1c3BlbmRlZCB8fFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY3VycmVudFN0YXRlID09PSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLk5vdEFwcHJvdmVkKSB7XG5cbiAgICAgICAgICAgICAgICBhcHByb3ZlZFN0YXRlID0gKDxFeGFtaW5lclN0YXRlQ2hhbmdlT3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlkPSdjaGFuZ2VTdGF0dXNBcHByb3ZlJ1xuICAgICAgICAgICAgICAgICAgICBrZXk9J2NoYW5nZVN0YXR1c0FwcHJvdmUnXG4gICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tlZD17dGhpcy5pc0FwcHJvdmVkQ2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdGVUZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuY2hhbmdlLXN0YXR1cy5hcHByb3ZlJyl9XG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXt0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcywgZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucy5BcHByb3ZlZCl9XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX0gLz4pO1xuXG4gICAgICAgICAgICAgICAgYXByb3ZlZFBlbmRpbmdSZXZpZXdTdGF0ZSA9ICg8RXhhbWluZXJTdGF0ZUNoYW5nZU9wdGlvblxuICAgICAgICAgICAgICAgICAgICBpZD0nY2hhbmdlU3RhdHVzQXBwcm92ZVBlbmRpbmdSZXZpZXcnXG4gICAgICAgICAgICAgICAgICAgIGtleT0nY2hhbmdlU3RhdHVzYXByb3ZlZFBlbmRpbmdSZXZpZXcnXG4gICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tlZD17dGhpcy5pc0FwcHJvdmVkUGVuZGluZ1Jldmlld0NoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmNoYW5nZS1zdGF0dXMuYXBwcm92ZS1wZW5kaW5nLXJldmlldycpfVxuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdGlvbkNoYW5nZT17dGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMsIGVudW1zLkNoYW5nZVN0YXR1c09wdGlvbnMuQXByb3ZlZFBlbmRpbmdSZXZpZXcpfVxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9IC8+KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY3VycmVudFN0YXRlID09PSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLk5vdEFwcHJvdmVkKSB7XG5cbiAgICAgICAgICAgICAgICBzZWNvbmRTdGFuZGFyZGlzYXRpb25TdGF0ZSA9ICh0aGlzLmlzU2Vjb25kU3RhbmRhcmRpc2F0aW9uT3B0aW9uQXZhaWxhYmxlID8gPEV4YW1pbmVyU3RhdGVDaGFuZ2VPcHRpb25cbiAgICAgICAgICAgICAgICAgICAgaWQgPSdjaGFuZ2VTdGF0dXNTdG5kJ1xuICAgICAgICAgICAgICAgICAgICBrZXk9J2NoYW5nZVN0YXR1c1N0bmQnXG4gICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tlZD17dGhpcy5pc1NlY29uZFN0YW5kYXJkaXNhdGlvbkF2YWlsYWJsZUNoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuY2hhbmdlLXN0YXR1cy5zZW5kLXNlY29uZC1zdGFuZGFyZGlzYXRpb24nKSB9XG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlID0geyB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcywgZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucy5TZW5kRm9yU2Vjb25kU3RhbmRhcmRpc2F0aW9uKSB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2UgPSB7dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfS8+IDogbnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmN1cnJlbnRTdGF0ZSA9PT0gZW51bXMuRXhhbWluZXJBcHByb3ZhbC5BcHByb3ZlZFJldmlldykge1xuICAgICAgICAgICAgICAgIGFwcHJvdmVkU3RhdGUgPSAoPEV4YW1pbmVyU3RhdGVDaGFuZ2VPcHRpb25cbiAgICAgICAgICAgICAgICAgICAgaWQ9J2NoYW5nZVN0YXR1c0FwcHJvdmUnXG4gICAgICAgICAgICAgICAgICAgIGtleT0nY2hhbmdlU3RhdHVzQXBwcm92ZSdcbiAgICAgICAgICAgICAgICAgICAgaXNDaGVja2VkPXt0aGlzLmlzQXBwcm92ZWRDaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZVRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5jaGFuZ2Utc3RhdHVzLmFwcHJvdmUnKX1cbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9e3RoaXMub25TZWxlY3Rpb25DaGFuZ2UuYmluZCh0aGlzLCBlbnVtcy5DaGFuZ2VTdGF0dXNPcHRpb25zLkFwcHJvdmVkKX1cbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfSAvPik7XG5cbiAgICAgICAgICAgICAgICBzdXNwZW5kZWRTdGF0ZSA9ICg8RXhhbWluZXJTdGF0ZUNoYW5nZU9wdGlvblxuICAgICAgICAgICAgICAgICAgICBpZD0nY2hhbmdlU3RhdHVzU3VzcGVuZCdcbiAgICAgICAgICAgICAgICAgICAga2V5PSdjaGFuZ2VTdGF0dXNTdXNwZW5kJ1xuICAgICAgICAgICAgICAgICAgICBpc0NoZWNrZWQ9e3RoaXMuaXNTdXNwZW5kZWRPcHRpb25DaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZVRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5jaGFuZ2Utc3RhdHVzLnN1c3BlbmQnKX1cbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9e3RoaXMub25TZWxlY3Rpb25DaGFuZ2UuYmluZCh0aGlzLCBlbnVtcy5DaGFuZ2VTdGF0dXNPcHRpb25zLlN1c3BlbmRlZCl9XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX0gLz4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdwb3B1cCBzbWFsbCBjaGFuZ2Utc3RhdHVzIHBvcHVwLW92ZXJsYXkgJyxcbiAgICAgICAgICAgICAgICB7ICdvcGVuJzogdGhpcy5pc1Nob3dQb3B1cCB9KSB9XG4gICAgICAgICAgICAgICAgaWQ9J2NoYW5nZVN0YXR1cycgcm9sZT0nZGlhbG9nJyBhcmlhLWxhYmVsbGVkYnk9J3BvcHVwMVRpdGxlJyBhcmlhLWRlc2NyaWJlZGJ5PSdwb3B1cDFEZXNjJz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncG9wdXAtd3JhcCc+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC1jb250ZW50JyBpZD0ncG9wdXAxRGVzYyc+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFNlbGVjdGVkU3RhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICB7YXBwcm92ZWRTdGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHthcHJvdmVkUGVuZGluZ1Jldmlld1N0YXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAge3JlYXBwcm92ZWRTdGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWNvbmRTdGFuZGFyZGlzYXRpb25TdGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdXNwZW5kZWRTdGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncG9wdXAtZm9vdGVyIHRleHQtcmlnaHQnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEdlbmVyaWNCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17ICdidXR0b24tcm91bmRlZC1jbG9zZS1idXR0b24nIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9eydrZXlfYnV0dG9uIHJvdW5kZWQgY2xvc2UtYnV0dG9uJyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsnYnV0dG9uIHJvdW5kZWQgY2xvc2UtYnV0dG9uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy51c2VyLW1lbnUucHJvZmlsZS1zZWN0aW9uLmNhbmNlbC1lbWFpbC1idXR0b24nKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy51c2VyLW1lbnUucHJvZmlsZS1zZWN0aW9uLmNhbmNlbC1lbWFpbC1idXR0b24nKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2FuY2VsRXhhbWluZXJTdGF0ZUNoYW5nZVNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlID0ge3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEdlbmVyaWNCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17ICdidXR0b24tcHJpbWFyeS1yb3VuZGVkLWJ1dHRvbicgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2tleV9idXR0b24gcHJpbWFyeSByb3VuZGVkLWJ1dHRvbicgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17J2J1dHRvbiBwcmltYXJ5IHJvdW5kZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuY2hhbmdlLXN0YXR1cy5vay1idXR0b24nKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmNoYW5nZS1zdGF0dXMub2stYnV0dG9uJykgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNhdmVDaGFuZ2VFeGFtaW5lclN0YXRlU2VsZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2UgPSB7dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfS8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcG9uZW50IGRpZCBtb3VudFxuICAgICAqL1xuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5sb2FkRGVwZW5kZW5jaWVzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcG9uZW50IHdpbGwgdW5tb3VudFxuICAgICAqL1xuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBUaGlzIHdpbGwgbG9hZCB0aGUgZGVwZW5kZW5jaWVzIGZvciB0ZWFtIG1hbmFnZW1lbnQgZHluYW1pY2FsbHkgZHVyaW5nIGNvbXBvbmVudCBtb3VudC5cbiAgICAgKi9cbiAgICBwcml2YXRlIGxvYWREZXBlbmRlbmNpZXMoKSB7XG4gICAgICAgIHJlcXVpcmUuZW5zdXJlKFtcbiAgICAgICAgICAgICcuLi8uLi8uLi9hY3Rpb25zL3RlYW1tYW5hZ2VtZW50L3RlYW1tYW5hZ2VtZW50YWN0aW9uY3JlYXRvcicsXG4gICAgICAgICAgICAnLi4vLi4vLi4vZGF0YXNlcnZpY2VzL3RlYW1tYW5hZ2VtZW50L3R5cGluZ3Mvc2V0ZXhhbWluZXJzdGF0dXNlYXJndW1lbnRzJyxcbiAgICAgICAgICAgICcuLi8uLi8uLi9zdG9yZXMvdGVhbW1hbmFnZW1lbnQvdGVhbW1hbmFnZW1lbnRzdG9yZScsXG4gICAgICAgICAgICAnLi4vLi4vLi4vZGF0YXNlcnZpY2VzL3RlYW1tYW5hZ2VtZW50L3R5cGluZ3Mvc2V0c2Vjb25kU3RhbmRhcmRpc2F0aW9uYXJndW1lbnRzJyxcbiAgICAgICAgICAgICcuLi8uLi8uLi9hY3Rpb25zL3FpZ3NlbGVjdG9yL3FpZ3NlbGVjdG9yYWN0aW9uY3JlYXRvcicsXG4gICAgICAgICAgICAnLi4vLi4vLi4vYWN0aW9ucy93b3JrbGlzdC93b3JrbGlzdGFjdGlvbmNyZWF0b3InXSxcblxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvdGVhbW1hbmFnZW1lbnQvdGVhbW1hbmFnZW1lbnRhY3Rpb25jcmVhdG9yJyk7XG4gICAgICAgICAgICAgICAgZXhhbWluZXJTdGF0dXNlQXJndW1lbnRzID0gcmVxdWlyZSgnLi4vLi4vLi4vZGF0YXNlcnZpY2VzL3RlYW1tYW5hZ2VtZW50L3R5cGluZ3Mvc2V0ZXhhbWluZXJzdGF0dXNlYXJndW1lbnRzJyk7XG4gICAgICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudHN0b3JlJyk7XG4gICAgICAgICAgICAgICAgc2Vjb25kU3RhbmRhcmRpc2F0aW9uQXJndW1lbnRzID0gcmVxdWlyZSgnLi4vLi4vLi4vZGF0YXNlcnZpY2VzL3RlYW1tYW5hZ2VtZW50L3R5cGluZ3Mvc2V0c2Vjb25kU3RhbmRhcmRpc2F0aW9uYXJndW1lbnRzJyk7XG4gICAgICAgICAgICAgICAgcWlnQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvcWlnc2VsZWN0b3IvcWlnc2VsZWN0b3JhY3Rpb25jcmVhdG9yJyk7XG4gICAgICAgICAgICAgICAgd29ya2xpc3RBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy93b3JrbGlzdC93b3JrbGlzdGFjdGlvbmNyZWF0b3InKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIb29rIGFsbCBldmVudCBsaXN0ZW5lcnMgZm9yIHRlYW0gbWFuYWdlbWVudCBoZXJlLCBJdCB3aWxsIGJlIGNhbGxlZCBhZnRlciBsb2FkaW5nIGRlcGVuY2llc1xuICAgICAqIFdlIHJlcXVpcmVkIHRoaXMgdHlwZSBvZiBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIGluaXRpYWwgcm91dGluZyBwYWdlIGxpa2Ugd29ya2xpc3QsIHJlc3BvbnNlY29udGFpbmVyIGV0Yy5cbiAgICAgKi9cbiAgICBwcml2YXRlIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgJiYgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1RlYW1NYW5hZ2VtZW50TW9kZSkge1xuXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5DSEFOR0VfU1RBVFVTX1BPUFVQX1ZJU0lCSUxJVFlfVVBEQVRFRCxcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUV4YW1pbmVyQ2hhbmdlU3RhdHVzUG9wdXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMgZm9yIHRlYW0gbWFuYWdlbWVudCBoZXJlLlxuICAgICAqL1xuICAgIHByaXZhdGUgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeSAmJiBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlKSB7XG5cbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIodGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLkNIQU5HRV9TVEFUVVNfUE9QVVBfVklTSUJJTElUWV9VUERBVEVELFxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlRXhhbWluZXJDaGFuZ2VTdGF0dXNQb3B1cCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIGV4YW1pbmVyIHN0YXRlIGNoYW5nZSBzZWxlY3Rpb24gaW4gdG8gZGF0YSBiYXNlLlxuICAgICAqL1xuICAgcHJpdmF0ZSBzYXZlQ2hhbmdlRXhhbWluZXJTdGF0ZVNlbGVjdGlvbiA9ICgpID0+IHtcblxuICAgICAgICB0aGlzLmlzU2hvd1BvcHVwID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZW5kZXJlZE9uOiBEYXRlLm5vdygpIH0pO1xuICAgICAgICAvL09uIGNsaWNraW5nIE9LIGJ1dHRvbiBpbiBjaGFuZ2UgZXhhbWluZXIgc3RhdHVzIHBvcHVwXG4gICAgICAgIC8vIFBsZWFzZSBjaGVjayB3aGV0aGVyIGFwcGxpY2F0aW9uIGlzIG9ubGluZS5cbiAgICAgICAgLy8gSWYgeWVzLCBwcm9jZWVkIHdpdGggc2F2aW5nIHRoZSBleGFtaW5lciBzdGF0dXMgb3RoZXJ3aXNlIGludGVycnVwdCBhY3Rpb24uXG4gICAgICAgIGlmIChhcHBsaWNhdGlvblN0b3JlLmluc3RhbmNlLmlzT25saW5lKSB7XG5cbiAgICAgICAgICAgIC8vIFNhdmUgZXhhbWluZXIgc3RhdHVzIG9ubHkgaWYgdGhlIHNlbGVjdGVkIGFwcHJvdmFsIHN0YXR1cyBub3QgZXF1YWwgdG8gY3VycmVudCBzdGF0dXMuXG4gICAgICAgICAgICAvLyBkbyBzYXZlIG9ubHkgaWYgc29tZSBvdGhlciBvcHRpb24gaXMgYmVpbmcgc2VsZWN0ZWRcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFeGFtaW5lclN0YXR1cyAhPT0gdGhpcy5kZWZhdWx0U2VsZWN0ZWRPcHRpb24pIHtcblxuICAgICAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvci5zZXRFeGFtaW5lckNoYW5nZVN0YXR1c0J1dHRvbkJ1c3koKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlcEFjdGlvbnMgJiYgdGhpcy5zZXBBY3Rpb25zLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTRVAgQWN0aW9uIEV4ZWN1dGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVTRVBBcHByb3ZhbE1hbmFnZW1lbnRBY3Rpb24oKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRXhhbWluZXJTdGF0dXMgPT09IGVudW1zLkNoYW5nZVN0YXR1c09wdGlvbnMuU2VuZEZvclNlY29uZFN0YW5kYXJkaXNhdGlvbikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb24gU0VQIFNlbmQgRm9yIFNlY29uZCBTVERcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvdmlkZVNlY29uZFN0YW5kYXJkaXNhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vbiBTRVAgU3RhdHVzIENoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VFeGFtaW5lclN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yLmNoZWNrQWN0aW9uSW50ZXJydXB0ZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIGV4YW1pbmVyIHN0YXRlIGNoYW5nZSBzZWxlY3Rpb24gaW4gdG8gZGF0YSBiYXNlLlxuICAgICAqL1xuICAgIHByaXZhdGUgb25TZWxlY3Rpb25DaGFuZ2UgPSAoY2hhbmdlU3RhdGVPcHRpb246IGVudW1zLkNoYW5nZVN0YXR1c09wdGlvbnMpID0+IHtcblxuICAgICAgICB0aGlzLmlzQXBwcm92ZWRDaGVja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNjdXJyZW50U3RhdGVDaGVja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTZWNvbmRTdGFuZGFyZGlzYXRpb25BdmFpbGFibGVDaGVja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNSZUFwcHJvdmVkQ2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3VzcGVuZGVkT3B0aW9uQ2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzQXBwcm92ZWRQZW5kaW5nUmV2aWV3Q2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKGNoYW5nZVN0YXRlT3B0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIHRoaXMuZGVmYXVsdFNlbGVjdGVkT3B0aW9uOlxuICAgICAgICAgICAgICAgIHRoaXMuaXNjdXJyZW50U3RhdGVDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucy5BcHByb3ZlZDpcbiAgICAgICAgICAgICAgICB0aGlzLmlzQXBwcm92ZWRDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucy5TdXNwZW5kZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5pc1N1c3BlbmRlZE9wdGlvbkNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5DaGFuZ2VTdGF0dXNPcHRpb25zLlNlbmRGb3JTZWNvbmRTdGFuZGFyZGlzYXRpb246XG4gICAgICAgICAgICAgICAgdGhpcy5pc1NlY29uZFN0YW5kYXJkaXNhdGlvbkF2YWlsYWJsZUNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5DaGFuZ2VTdGF0dXNPcHRpb25zLlJlX2FwcHJvdmU6XG4gICAgICAgICAgICAgICAgdGhpcy5pc1JlQXBwcm92ZWRDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucy5BcHJvdmVkUGVuZGluZ1JldmlldzpcbiAgICAgICAgICAgICAgICB0aGlzLmlzQXBwcm92ZWRQZW5kaW5nUmV2aWV3Q2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlbGVjdGVkRXhhbWluZXJTdGF0dXMgPSBjaGFuZ2VTdGF0ZU9wdGlvbjtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbmNlbCB0aGUgZXhhbWluZXIgc3RhdGUgY2hhbmdlIHNlbGVjdGlvbi5cbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbmNlbEV4YW1pbmVyU3RhdGVDaGFuZ2VTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuaXNTaG93UG9wdXAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZlcmlmeSBzZWNvbmQgc3RhbmRhcmRpc2F0aW9uIGF2YWlsYWJsZSBvciBub3QuXG4gICAgICovXG4gICAgcHJpdmF0ZSB2ZXJpZnlTZWNvbmRTdGFuZGFyZGlzYXRpb25PcHRpb25BdmFpbGFibGUoKSB7XG4gICAgICAgIGlmIChxaWdTdG9yZSAmJiBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbikge1xuICAgICAgICAgICAgaWYgKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmhhc1NlY29uZFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlQ2xhc3NpZmllZCkge1xuICAgICAgICAgICAgICAgIGlmICghcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya2luZ1RhcmdldHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTZWNvbmRTdGFuZGFyZGlzYXRpb25PcHRpb25BdmFpbGFibGUgPSAhdGhpcy5pc1NlY29uZFN0YW5kYXJkaXNhdGlvblRhcmdldEF2YWlsYWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZ5IHNlY29uZCBzdGFuZGFyZGlzYXRpb24gdGFyZ2V0IGF2YWlsYWJsZSBvciBub3QuXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc1NlY29uZFN0YW5kYXJkaXNhdGlvblRhcmdldEF2YWlsYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtpbmdUYXJnZXRzLnNvbWUoKHRhcmdldDogYW55KSA9PlxuICAgICAgICAgICAgdGFyZ2V0Lm1hcmtpbmdNb2RlID09PSBlbnVtcy5NYXJraW5nTW9kZS5FU19UZWFtQXBwcm92YWwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmQgY2hhbmdlIHN0YXR1cyBvcHRpb24uXG4gICAgICovXG4gICAgcHJpdmF0ZSBiaW5kQ2hhbmdlU3RhdHVzT3B0aW9uKCkge1xuXG4gICAgICAgIGlmIChxaWdTdG9yZSAmJiBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZXBBY3Rpb25zID0gdGhpcy5oZWxwRXhhbWluZXJzRGF0YUhlbHBlci5cbiAgICAgICAgICAgICAgICBnZXRTRVBBY3Rpb25zKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNjdXJyZW50U3RhdGVDaGVja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNBcHByb3ZlZENoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1NlY29uZFN0YW5kYXJkaXNhdGlvbkF2YWlsYWJsZUNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1JlQXBwcm92ZWRDaGVja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTdXNwZW5kZWRPcHRpb25DaGVja2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNBcHByb3ZlZFBlbmRpbmdSZXZpZXdDaGVja2VkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuc2VwQWN0aW9ucyAmJiB0aGlzLnNlcEFjdGlvbnMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICAvLyBGb3IgU0VQIEFjdGlvbnMsIHRoZSBkZWZhdWx0U2VsZWN0ZWRPcHRpb24gaXMgbm9uZSBhcyBpdCBzaG91bGQgYmUuXG4gICAgICAgICAgICAvLyBOZXcgc2V0IG9mIFNFUCBhY3Rpb25zIHdpbGwgYmUgZGlzcGxheWVkIGFuZFxuICAgICAgICAgICAgLy8gdGhlIGZpcnN0IG9uZSBpbiB0aGUgbGlzdCB3aWxsIGJlIHNldCBhcyBzZWxlY3RlZC5cblxuICAgICAgICAgICAgdGhpcy5zZXBBY3Rpb25zLmZvckVhY2goKHNlcGFjdGlvbjogZW51bXMuU0VQQWN0aW9uKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlcGFjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU0VQQWN0aW9uLkFwcHJvdmU6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQXBwcm92ZWRDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFeGFtaW5lclN0YXR1cyA9IGVudW1zLkNoYW5nZVN0YXR1c09wdGlvbnMuQXBwcm92ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TRVBBY3Rpb24uUmVfYXBwcm92ZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNSZUFwcHJvdmVkQ2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRXhhbWluZXJTdGF0dXMgPSBlbnVtcy5DaGFuZ2VTdGF0dXNPcHRpb25zLlJlX2FwcHJvdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TRVBBY3Rpb24uUHJvdmlkZVNlY29uZFN0YW5kYXJkaXNhdGlvbjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTZWNvbmRTdGFuZGFyZGlzYXRpb25BdmFpbGFibGVDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFeGFtaW5lclN0YXR1cyA9IGVudW1zLkNoYW5nZVN0YXR1c09wdGlvbnMuU2VuZEZvclNlY29uZFN0YW5kYXJkaXNhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgLy8gRm9yIE5vbiBTRVAsIHdoZW4gdGhlIHBvcHVwIGlzIGxvYWRlZCxcbiAgICAgICAgICAgIC8vIFNlbGVjdGVkIE9wdGlvbiBhbmQgdGhlIERlZmF1bHQgT3B0aW9uIG11c3QgYmUgdGhlIGV4YW1pbmVyIGFwcHJvdmFsIHN0YXR1cy5cblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnByb3BzLmN1cnJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJBcHByb3ZhbC5Ob3RBcHByb3ZlZDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0U2VsZWN0ZWRPcHRpb24gPSBlbnVtcy5DaGFuZ2VTdGF0dXNPcHRpb25zLk5vdEFwcHJvdmVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyQXBwcm92YWwuU3VzcGVuZGVkOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRTZWxlY3RlZE9wdGlvbiA9IGVudW1zLkNoYW5nZVN0YXR1c09wdGlvbnMuU3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyQXBwcm92YWwuQXBwcm92ZWQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdGVkT3B0aW9uID0gZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucy5BcHByb3ZlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLkFwcHJvdmVkUmV2aWV3OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRTZWxlY3RlZE9wdGlvbiA9IGVudW1zLkNoYW5nZVN0YXR1c09wdGlvbnMuQXByb3ZlZFBlbmRpbmdSZXZpZXc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdGVkT3B0aW9uID0gZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucy5Ob25lO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pc2N1cnJlbnRTdGF0ZUNoZWNrZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRXhhbWluZXJTdGF0dXMgPSB0aGlzLmRlZmF1bHRTZWxlY3RlZE9wdGlvbjtcblxuICAgICAgICAgICAgdGhpcy52ZXJpZnlTZWNvbmRTdGFuZGFyZGlzYXRpb25PcHRpb25BdmFpbGFibGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGFjdGlvbiBldmVudCBmb3Igc2hvd2luZyBjaGFuZ2Ugc3RhdHVzIHBvcHVwLlxuICAgICAqL1xuICAgIHByaXZhdGUgdG9nZ2xlRXhhbWluZXJDaGFuZ2VTdGF0dXNQb3B1cCA9IChpc1BvcHVwVmlzaWJsZTogYm9vbGVhbikgPT4ge1xuICAgICAgICB0aGlzLmJpbmRDaGFuZ2VTdGF0dXNPcHRpb24oKTtcbiAgICAgICAgdGhpcy5pc1Nob3dQb3B1cCA9IGlzUG9wdXBWaXNpYmxlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGNoYW5nZSB0aGUgZXhhbWluZXIgc3RhdHVzIGluIE5vbiBTRVAuXG4gICAgICovXG4gICAgcHJpdmF0ZSBjaGFuZ2VFeGFtaW5lclN0YXR1cygpIHtcblxuICAgICAgICBsZXQgbmV3U3RhdHVzOiBlbnVtcy5FeGFtaW5lckFwcHJvdmFsO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5zZWxlY3RlZEV4YW1pbmVyU3RhdHVzKSB7XG5cbiAgICAgICAgICAgIGNhc2UgZW51bXMuQ2hhbmdlU3RhdHVzT3B0aW9ucy5BcHByb3ZlZDpcbiAgICAgICAgICAgICAgICBuZXdTdGF0dXMgPSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLkFwcHJvdmVkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5DaGFuZ2VTdGF0dXNPcHRpb25zLk5vdEFwcHJvdmVkOlxuICAgICAgICAgICAgICAgIG5ld1N0YXR1cyA9IGVudW1zLkV4YW1pbmVyQXBwcm92YWwuTm90QXBwcm92ZWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVudW1zLkNoYW5nZVN0YXR1c09wdGlvbnMuU3VzcGVuZGVkOlxuICAgICAgICAgICAgICAgIG5ld1N0YXR1cyA9IGVudW1zLkV4YW1pbmVyQXBwcm92YWwuU3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5DaGFuZ2VTdGF0dXNPcHRpb25zLkFwcm92ZWRQZW5kaW5nUmV2aWV3OlxuICAgICAgICAgICAgICAgIG5ld1N0YXR1cyA9IGVudW1zLkV4YW1pbmVyQXBwcm92YWwuQXBwcm92ZWRSZXZpZXc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBleGFtaW5lclN0YXR1c2VBcmd1bWVudHMgPSB7XG4gICAgICAgICAgICBleGFtaW5lclJvbGVJZDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXG4gICAgICAgICAgICBleGFtaW5lclN0YXR1czogbmV3U3RhdHVzLFxuICAgICAgICAgICAgcXVlc3Rpb25QYXBlclBhcnRJZDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ucXVlc3Rpb25QYXBlclBhcnRJZCxcbiAgICAgICAgICAgIHByZXZpb3VzRXhhbWluZXJTdGF0dXM6IHRoaXMucHJvcHMuY3VycmVudFN0YXRlLFxuICAgICAgICAgICAgbG9nZ2VkSW5FeGFtaW5lclJvbGVJZDogb3BlcmF0aW9uTW9kZUhlbHBlci5hdXRob3Jpc2VkRXhhbWluZXJSb2xlSWQsXG4gICAgICAgICAgICBzdWJvcmRpbmF0ZUV4YW1pbmVySWQ6IHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UuZXhhbWluZXJEcmlsbERvd25EYXRhID9cbiAgICAgICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyRHJpbGxEb3duRGF0YS5leGFtaW5lcklkIDogMFxuICAgICAgICB9O1xuXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvci5jaGFuZ2VFeGFtaW5lclN0YXR1cyhleGFtaW5lclN0YXR1c2VBcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBwcm92aWRlIHNlY29uZCBzdGFuZGFyZGlzYXRpb24gZm9yIGFuIGV4YW1pbmVyLlxuICAgICAqL1xuICAgIHByaXZhdGUgcHJvdmlkZVNlY29uZFN0YW5kYXJkaXNhdGlvbigpIHtcbiAgICAgICAgc2Vjb25kU3RhbmRhcmRpc2F0aW9uQXJndW1lbnRzID0ge1xuICAgICAgICAgICAgZXhhbWluZXJSb2xlSWQ6IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkLFxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWQ6IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxuICAgICAgICAgICAgbWFya2luZ01vZGVJZDogZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwsXG4gICAgICAgICAgICBsb2dnZWRJbkV4YW1pbmVyUm9sZUlkOiBvcGVyYXRpb25Nb2RlSGVscGVyLmF1dGhvcmlzZWRFeGFtaW5lclJvbGVJZCxcbiAgICAgICAgICAgIHN1Ym9yZGluYXRlRXhhbWluZXJJZDogdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5leGFtaW5lckRyaWxsRG93bkRhdGEgP1xuICAgICAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UuZXhhbWluZXJEcmlsbERvd25EYXRhLmV4YW1pbmVySWQgOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yLnByb3ZpZGVTZWNvbmRTdGFuZGFyZGlzYXRpb24oc2Vjb25kU3RhbmRhcmRpc2F0aW9uQXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gZXhlY3V0ZSBTRVAgYXBwcm92YWwgbWFuYWdlbWVudCBhY3Rpb24uXG4gICAgICovXG4gICAgcHJpdmF0ZSBleGVjdXRlU0VQQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uKCkge1xuXG4gICAgICAgIGxldCBhY3Rpb25JZGVudGlmaWVyOiBudW1iZXI7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNBcHByb3ZlZENoZWNrZWQpIHtcbiAgICAgICAgICAgIGFjdGlvbklkZW50aWZpZXIgPSBlbnVtcy5TRVBBY3Rpb24uQXBwcm92ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzU2Vjb25kU3RhbmRhcmRpc2F0aW9uQXZhaWxhYmxlQ2hlY2tlZCkge1xuICAgICAgICAgICAgYWN0aW9uSWRlbnRpZmllciA9IGVudW1zLlNFUEFjdGlvbi5Qcm92aWRlU2Vjb25kU3RhbmRhcmRpc2F0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNSZUFwcHJvdmVkQ2hlY2tlZCkge1xuICAgICAgICAgICAgYWN0aW9uSWRlbnRpZmllciA9IGVudW1zLlNFUEFjdGlvbi5SZV9hcHByb3ZlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhdGFDb2xsZWN0aW9uOiBBcnJheTxFeGFtaW5lckZvclNFUEFjdGlvbj4gPSBuZXcgQXJyYXk8RXhhbWluZXJGb3JTRVBBY3Rpb24+KCk7XG4gICAgICAgIGxldCBleGFtaW5lclNFUEFjdGlvbjogRXhhbWluZXJGb3JTRVBBY3Rpb24gPSB7XG4gICAgICAgICAgICBleGFtaW5lclJvbGVJZDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXG4gICAgICAgICAgICByZXF1ZXN0ZWRCeUV4YW1pbmVyUm9sZUlkOiBvcGVyYXRpb25Nb2RlSGVscGVyLmF1dGhvcmlzZWRFeGFtaW5lclJvbGVJZFxuICAgICAgICB9O1xuICAgICAgICBkYXRhQ29sbGVjdGlvbi5wdXNoKGV4YW1pbmVyU0VQQWN0aW9uKTtcbiAgICAgICAgbGV0IGV4YW1pbmVyU0VQQWN0aW9ucyA9IEltbXV0YWJsZS5MaXN0PEV4YW1pbmVyRm9yU0VQQWN0aW9uPihkYXRhQ29sbGVjdGlvbik7XG5cbiAgICAgICAgbGV0IGRvU0VQQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uQXJndW1lbnQ6IERvU0VQQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uQXJndW1lbnQgPSB7XG4gICAgICAgICAgICBhY3Rpb25JZGVudGlmaWVyOiBhY3Rpb25JZGVudGlmaWVyLFxuICAgICAgICAgICAgZXhhbWluZXJzOiBleGFtaW5lclNFUEFjdGlvbnNcbiAgICAgICAgfTtcblxuICAgICAgICB0ZWFtTWFuYWdlbWVudEFjdGlvbkNyZWF0b3IuRXhlY3V0ZUFwcHJvdmFsTWFuYWdlbWVudEFjdGlvbihkb1NFUEFwcHJvdmFsTWFuYWdlbWVudEFjdGlvbkFyZ3VtZW50KTtcbiAgICB9XG59XG5cbmV4cG9ydCA9IEV4YW1pbmVyU3RhdGVDaGFuZ2VQb3B1cDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3QvbWFya2VyaW5mb3JtYXRpb24vZXhhbWluZXJzdGF0ZWNoYW5nZXBvcHVwLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBOzs7O0FBSUE7QUFDQTtBQUFBO0FBZUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFUQTtBQXlQQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTNhQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFLQTtBQUlBO0FBRUE7QUFPQTtBQUVBO0FBQ0E7QUFFQTtBQVFBO0FBT0E7QUFFQTtBQUVBO0FBS0E7QUFHQTtBQUVBO0FBQ0E7QUFRQTtBQU9BO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBU0E7QUFhQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsNERBTUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBd0ZBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFXQTs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ })

});