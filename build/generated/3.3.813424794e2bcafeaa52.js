webpackJsonp([3],{

/***/ 1042:
/* no static exports found */
/* all exports used */
/*!*****************************************************************************!*\
  !*** ./src/components/markschemestructure/supervisorremarkdecisionicon.tsx ***!
  \*****************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\n/**\r\n * Supervisor remark decision icon in worklist.\r\n * @param props\r\n */\r\nvar supervisorremarkdecisionicon = function (props) {\r\n    return (React.createElement(\"div\", { className: classNames('col wl-eur-reason-holder', { 'text-left': props.isTileView }) },\r\n        React.createElement(\"div\", { className: 'col-inner' },\r\n            React.createElement(\"a\", { className: 'resp-alerts', title: localeStore.instance.TranslateText('marking.worklist.response-data.supervisor-remark-decision-not-specified-icon-tooltip') },\r\n                React.createElement(\"span\", { className: 'sprite-icon edit-box-yellow-icon', id: props.id })))));\r\n};\r\nmodule.exports = supervisorremarkdecisionicon;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA0Mi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL21hcmtzY2hlbWVzdHJ1Y3R1cmUvc3VwZXJ2aXNvcnJlbWFya2RlY2lzaW9uaWNvbi50c3g/ZGU0YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmxldCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgU3VwZXJ2aXNvciByZW1hcmsgZGVjaXNpb24gaWNvblxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGlzVGlsZVZpZXc6IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdXBlcnZpc29yIHJlbWFyayBkZWNpc2lvbiBpY29uIGluIHdvcmtsaXN0LlxyXG4gKiBAcGFyYW0gcHJvcHNcclxuICovXHJcbmNvbnN0IHN1cGVydmlzb3JyZW1hcmtkZWNpc2lvbmljb246IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxQcm9wcz4gPSAocHJvcHM6IFByb3BzKSA9PiB7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17IGNsYXNzTmFtZXMoJ2NvbCB3bC1ldXItcmVhc29uLWhvbGRlcicsIHsgJ3RleHQtbGVmdCc6IHByb3BzLmlzVGlsZVZpZXcgfSkgfT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eydjb2wtaW5uZXInfT5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT17J3Jlc3AtYWxlcnRzJ30gdGl0bGU9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zdXBlcnZpc29yLXJlbWFyay1kZWNpc2lvbi1ub3Qtc3BlY2lmaWVkLWljb24tdG9vbHRpcCcpfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9eydzcHJpdGUtaWNvbiBlZGl0LWJveC15ZWxsb3ctaWNvbid9ICBpZD17cHJvcHMuaWR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxufTtcclxuXHJcbmV4cG9ydCA9IHN1cGVydmlzb3JyZW1hcmtkZWNpc2lvbmljb247XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9tYXJrc2NoZW1lc3RydWN0dXJlL3N1cGVydmlzb3JyZW1hcmtkZWNpc2lvbmljb24udHN4Il0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFTQTs7O0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBTUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1177:
/* no static exports found */
/* all exports used */
/*!*****************************************************!*\
  !*** ./src/components/utility/grid/gridcontrol.tsx ***!
  \*****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/// <reference path='typings/row.ts' />\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\nvar qualityFeedbackHelper = __webpack_require__(/*! ../../../utility/qualityfeedback/qualityfeedbackhelper */ 309);\r\nvar QualityFeedbackBanner = __webpack_require__(/*! ../../worklist/banner/qualityfeedbackbanner */ 585);\r\n/**\r\n * Represents the GridControl Component\r\n */\r\nvar GridControl = /** @class */ (function (_super) {\r\n    __extends(GridControl, _super);\r\n    /**\r\n     * Constructor GridControl\r\n     * @param properties\r\n     * @param state\r\n     */\r\n    function GridControl(properties, state) {\r\n        var _this = _super.call(this, properties, state) || this;\r\n        /**\r\n         * This method will call callback function\r\n         */\r\n        _this.handleClick = function (rowId) {\r\n            this.props.onClickCallBack(rowId);\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render method for GridControl.\r\n     */\r\n    GridControl.prototype.render = function () {\r\n        var that = this;\r\n        var seqIndex;\r\n        var seq;\r\n        var index = -1; // Set to -1 because we need to show banner only at 0 index and increment before return li statement\r\n        var isQualityFeedbackMessageToBeDisplayed = qualityFeedbackHelper.isQualtiyHelperMessageNeededToBeDisplayed(this.props.worklistType);\r\n        if (this.props.gridRows != null) {\r\n            var gridSeq_1 = this.props.gridRows.keySeq();\r\n            seqIndex = 0;\r\n            //Creating grid rows\r\n            var gridRowElements = this.props.gridRows.map(function (gridRow) {\r\n                //Creating grid rows elements\r\n                var gridRowElement = gridRow.getCells().map(function (gridCell) {\r\n                    var gridCellElement = gridCell.columnElement;\r\n                    return (gridCellElement);\r\n                });\r\n                index++;\r\n                return (React.createElement(\"li\", { onClick: that.handleClick.bind(that, gridRow.getRowId()), key: 'gridcomponent_' + gridSeq_1.get(seqIndex++), className: classNames((_a = {},\r\n                        _a[gridRow.getRowStyle()] = true,\r\n                        _a)), title: gridRow.getRowTitle() },\r\n                    gridRowElement,\r\n                    that.renderQualityFeedbackBanner(index, isQualityFeedbackMessageToBeDisplayed)));\r\n                var _a;\r\n            });\r\n            index = -1;\r\n            return (React.createElement(\"div\", { className: classNames('grid-wrapper', { 'show-seed-message': isQualityFeedbackMessageToBeDisplayed }) },\r\n                React.createElement(\"ul\", { id: this.props.id, key: 'key_' + this.props.id, className: this.props.gridStyle }, gridRowElements)));\r\n        }\r\n        else {\r\n            return (React.createElement(\"div\", { className: 'grid-wrapper' }));\r\n        }\r\n    };\r\n    /**\r\n     * Render quality feedback banner\r\n     * @param {number} index\r\n     * @param {boolean} isQualityFeedbackMessageToBeDisplayed\r\n     * @returns\r\n     */\r\n    GridControl.prototype.renderQualityFeedbackBanner = function (index, isQualityFeedbackMessageToBeDisplayed) {\r\n        if (index === 0 && isQualityFeedbackMessageToBeDisplayed) {\r\n            return (React.createElement(QualityFeedbackBanner, { id: 'quality-feedback-banner', key: 'quality-feedback-banner', isAriaHidden: false, selectedLanguage: this.props.selectedLanguage, header: '', message: qualityFeedbackHelper.getQualityFeedbackStatusMessage(), role: '', bannerType: enums.BannerType.QualityFeedbackBanner }));\r\n        }\r\n    };\r\n    return GridControl;\r\n}(pureRenderComponent));\r\nmodule.exports = GridControl;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE3Ny5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9ncmlkY29udHJvbC50c3g/MGVkZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPSd0eXBpbmdzL3Jvdy50cycgLz5cclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDplbmFibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmxldCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi9lbnVtcycpO1xyXG5pbXBvcnQgcXVhbGl0eUZlZWRiYWNrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9xdWFsaXR5ZmVlZGJhY2svcXVhbGl0eWZlZWRiYWNraGVscGVyJyk7XHJcbmltcG9ydCBRdWFsaXR5RmVlZGJhY2tCYW5uZXIgPSByZXF1aXJlKCcuLi8uLi93b3JrbGlzdC9iYW5uZXIvcXVhbGl0eWZlZWRiYWNrYmFubmVyJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBHcmlkQ29udHJvbCBjb21wb25lbnRcclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBncmlkUm93czogSW1tdXRhYmxlLkxpc3Q8Um93PjtcclxuICAgIGdyaWRTdHlsZTogc3RyaW5nO1xyXG4gICAgb25DbGlja0NhbGxCYWNrOiBGdW5jdGlvbjtcclxuICAgIHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlO1xyXG59XHJcblxyXG4vKipcclxuICogUmVwcmVzZW50cyB0aGUgR3JpZENvbnRyb2wgQ29tcG9uZW50XHJcbiAqL1xyXG5jbGFzcyBHcmlkQ29udHJvbCBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3IgR3JpZENvbnRyb2xcclxuICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcGVydGllczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wZXJ0aWVzLCBzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgbWV0aG9kIGZvciBHcmlkQ29udHJvbC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgbGV0IHNlcUluZGV4OiBudW1iZXI7XHJcbiAgICAgICAgbGV0IHNlcTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBpbmRleDogbnVtYmVyID0gLTE7IC8vIFNldCB0byAtMSBiZWNhdXNlIHdlIG5lZWQgdG8gc2hvdyBiYW5uZXIgb25seSBhdCAwIGluZGV4IGFuZCBpbmNyZW1lbnQgYmVmb3JlIHJldHVybiBsaSBzdGF0ZW1lbnRcclxuICAgICAgICBsZXQgaXNRdWFsaXR5RmVlZGJhY2tNZXNzYWdlVG9CZURpc3BsYXllZDogYm9vbGVhbiA9XHJcbiAgICAgICAgICAgIHF1YWxpdHlGZWVkYmFja0hlbHBlci5pc1F1YWx0aXlIZWxwZXJNZXNzYWdlTmVlZGVkVG9CZURpc3BsYXllZCh0aGlzLnByb3BzLndvcmtsaXN0VHlwZSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmdyaWRSb3dzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRTZXEgPSB0aGlzLnByb3BzLmdyaWRSb3dzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBzZXFJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIC8vQ3JlYXRpbmcgZ3JpZCByb3dzXHJcbiAgICAgICAgICAgIGxldCBncmlkUm93RWxlbWVudHMgPSB0aGlzLnByb3BzLmdyaWRSb3dzLm1hcChmdW5jdGlvbiAoZ3JpZFJvdzogUm93KSB7XHJcbiAgICAgICAgICAgICAgICAvL0NyZWF0aW5nIGdyaWQgcm93cyBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRSb3dFbGVtZW50ID0gZ3JpZFJvdy5nZXRDZWxscygpLm1hcChmdW5jdGlvbiAoZ3JpZENlbGw6IENlbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZENlbGxFbGVtZW50ID0gZ3JpZENlbGwuY29sdW1uRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ2VsbEVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXt0aGF0LmhhbmRsZUNsaWNrLmJpbmQodGhhdCwgZ3JpZFJvdy5nZXRSb3dJZCgpKSB9IGtleSA9IHsnZ3JpZGNvbXBvbmVudF8nICsgZ3JpZFNlcS5nZXQoc2VxSW5kZXgrKykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSB7Y2xhc3NOYW1lcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZ3JpZFJvdy5nZXRSb3dTdHlsZSgpXTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2dyaWRSb3cuZ2V0Um93VGl0bGUoKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2dyaWRSb3dFbGVtZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhhdC5yZW5kZXJRdWFsaXR5RmVlZGJhY2tCYW5uZXIoaW5kZXgsIGlzUXVhbGl0eUZlZWRiYWNrTWVzc2FnZVRvQmVEaXNwbGF5ZWQpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBpbmRleCA9IC0xO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lID0geyBjbGFzc05hbWVzKCdncmlkLXdyYXBwZXInLCB7ICdzaG93LXNlZWQtbWVzc2FnZSc6IGlzUXVhbGl0eUZlZWRiYWNrTWVzc2FnZVRvQmVEaXNwbGF5ZWQgfSkgfT5cclxuICAgICAgICAgICAgICAgICAgICA8dWwgaWQ9IHt0aGlzLnByb3BzLmlkfSBrZXk9IHsna2V5XycgKyB0aGlzLnByb3BzLmlkfSBjbGFzc05hbWU9e3RoaXMucHJvcHMuZ3JpZFN0eWxlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2dyaWRSb3dFbGVtZW50c31cclxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lID0gJ2dyaWQtd3JhcHBlcic+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGNhbGwgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBoYW5kbGVDbGljayA9IGZ1bmN0aW9uIChyb3dJZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrQ2FsbEJhY2socm93SWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBxdWFsaXR5IGZlZWRiYWNrIGJhbm5lclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUXVhbGl0eUZlZWRiYWNrTWVzc2FnZVRvQmVEaXNwbGF5ZWRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyUXVhbGl0eUZlZWRiYWNrQmFubmVyKGluZGV4OiBudW1iZXIsIGlzUXVhbGl0eUZlZWRiYWNrTWVzc2FnZVRvQmVEaXNwbGF5ZWQ6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAoaW5kZXggPT09IDAgJiYgaXNRdWFsaXR5RmVlZGJhY2tNZXNzYWdlVG9CZURpc3BsYXllZCkge1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICg8UXVhbGl0eUZlZWRiYWNrQmFubmVyXHJcbiAgICAgICAgICAgICAgICBpZCA9ICdxdWFsaXR5LWZlZWRiYWNrLWJhbm5lcidcclxuICAgICAgICAgICAgICAgIGtleSA9ICdxdWFsaXR5LWZlZWRiYWNrLWJhbm5lcidcclxuICAgICAgICAgICAgICAgIGlzQXJpYUhpZGRlbiA9IHsgZmFsc2V9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlID0geyB0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2UgfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyID0gJydcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSB7IHF1YWxpdHlGZWVkYmFja0hlbHBlci5nZXRRdWFsaXR5RmVlZGJhY2tTdGF0dXNNZXNzYWdlKCkgfVxyXG4gICAgICAgICAgICAgICAgcm9sZSA9ICcnXHJcbiAgICAgICAgICAgICAgICBiYW5uZXJUeXBlID0geyBlbnVtcy5CYW5uZXJUeXBlLlF1YWxpdHlGZWVkYmFja0Jhbm5lciB9IC8+KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gR3JpZENvbnRyb2w7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9ncmlkY29udHJvbC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUErREE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBbEVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFJQTtBQUVBO0FBR0E7QUFDQTs7QUFHQTtBQUdBO0FBRUE7QUFFQTtBQUtBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFTQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQVNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1181:
/* no static exports found */
/* all exports used */
/*!*******************************************************************************!*\
  !*** ./src/components/utility/grid/worklisthelpers/atypicalworklisthelper.ts ***!
  \*******************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar worklistGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/worklistgridcolumns.json */ 449);\r\nvar worklistValidatorFactory = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorfactory */ 319);\r\nvar worklistValidatorList = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorlist */ 304);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar worklistHelperBase = __webpack_require__(/*! ./worklisthelperbase */ 458);\r\nvar jsonRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar stringFormatHelper = __webpack_require__(/*! ../../../../utility/stringformat/stringformathelper */ 250);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar xmlHelper = __webpack_require__(/*! ../../../../utility/generic/xmlhelper */ 379);\r\nvar worklistStore = __webpack_require__(/*! ../../../../stores/worklist/workliststore */ 231);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * class for WorkList Helper implementation\r\n */\r\nvar AtypicalWorklistHelper = /** @class */ (function (_super) {\r\n    __extends(AtypicalWorklistHelper, _super);\r\n    function AtypicalWorklistHelper() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * GenerateRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param responseListData - list of atypical open responses\r\n     * @param responseType - type of the response\r\n     * @param gridType - type of gridview tile/detail\r\n     * @returns grid row collection.\r\n     */\r\n    AtypicalWorklistHelper.prototype.generateRowDefinion = function (responseListData, responseType, gridType) {\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(worklistGridColumnsJson);\r\n        this._immutableWorkListCollection = Immutable.List();\r\n        switch (responseType) {\r\n            case enums.ResponseMode.open:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenTiled(responseListData);\r\n                        break;\r\n                }\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedTiled(responseListData);\r\n                        break;\r\n                }\r\n                break;\r\n            case enums.ResponseMode.pending:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForPendingDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForPendingTiled(responseListData);\r\n                        break;\r\n                }\r\n                break;\r\n        }\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForAtypicalOpenTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of atypical open responses\r\n     * @returns grid row collection.\r\n     */\r\n    AtypicalWorklistHelper.prototype.getRowDefinionForOpenTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.atypicalworklist.open.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // Get fresh set of groups for every columns\r\n                this.emptyGroupColumns();\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            var element = this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.atypical);\r\n                            this.mapGroupColumns('worklist-tile-footer', element);\r\n                            break;\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.open, undefined, false, false, true);\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            // show only if there are blocking exceptions\r\n                            if (responseData[componentPropsJson.hasBlockingExceptions]) {\r\n                                var element_1 = this.getLinkedExceptionElement(responseData, componentPropsJson, key);\r\n                                this.mapGroupColumns('icon-holder', element_1);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotated_' + gridColumnCount;\r\n                            // Create annotation indicator element.\r\n                            var allPageElement = this.getAllPageAnnotationIndicatorElement(responseData, componentPropsJson, key);\r\n                            // Checking whether the indicator is valid to display.\r\n                            if (allPageElement !== undefined) {\r\n                                this.mapGroupColumns('icon-holder', allPageElement);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, true));\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                // If there are elements queued to group, then group the elements.\r\n                if (this.groupColumns) {\r\n                    _workListCell = new gridCell();\r\n                    key = gridSeq.get(responseListCount) + '_Tile_Group_';\r\n                    _workListCell.columnElement = this.groupColumnElements('worklist-tile-footer', key);\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                _worklistRow.setRowStyle(this.setRowStyle(responseStatus));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForClosedTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of atypical open responses\r\n     * @returns grid row collection.\r\n     */\r\n    AtypicalWorklistHelper.prototype.getRowDefinionForClosedTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var isSeedHighlighted = false;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.directedremarkworklist.closed.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // Get fresh set of groups for every columns\r\n                this.emptyGroupColumns();\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.closed, undefined, false, false);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                var _rowStyle = this.setRowStyle(Immutable.List().push(enums.ResponseStatus.none), enums.AccuracyIndicatorType.Unknown);\r\n                _worklistRow.setRowStyle(_rowStyle);\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * Get atypical pending worklist details.\r\n     * @param {WorklistBase} responseListData\r\n     * @returns\r\n     */\r\n    AtypicalWorklistHelper.prototype.getRowDefinionForPendingTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.directedremarkworklist.pending.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + 'ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.pending);\r\n                            break;\r\n                        case gridColumnNames.GracePeriodTime:\r\n                            key = gridSeq.get(responseListCount) + 'GracePeriodTime_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getAllocatedDateElement(responseData, componentPropsJson, key, false, false, true);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                _worklistRow.setRowStyle(this.setRowStyle(Immutable.List().push(enums.ResponseStatus.none), undefined));\r\n                _worklistRow.setRowTitle(this.setRowTitle(responseData.accuracyIndicatorTypeID));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForAtypicalOpenDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of atypical open responses\r\n     * @returns grid row collection.\r\n     */\r\n    AtypicalWorklistHelper.prototype.getRowDefinionForOpenDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            this.setShowOriginalMarkerName(responseListData);\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.atypicalworklist.open.detailview.GridColumns;\r\n                //this.resolvedGridColumnsJson.marking.directedremarkworklist.open.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.atypical, false));\r\n                            break;\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.open, true));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllocatedDate(responseData, componentPropsJson, key, true));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotatedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllPageAnnotatedIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.OriginalMarkerName:\r\n                            key = gridSeq.get(responseListCount) + '_OriginalMarker_' + gridColumnCount;\r\n                            var originalMarkerName = this.getFormattedName(responseData.originalMarkerInitials, responseData.originalMarkerSurname);\r\n                            _workListCell.columnElement = (this.getGenericTextElement(originalMarkerName, key));\r\n                            break;\r\n                        case gridColumnNames.CentreNum:\r\n                            key = gridSeq.get(responseListCount) + '_Centre_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreNumber, key));\r\n                            break;\r\n                        case gridColumnNames.CentreCandidateNum:\r\n                            key = gridSeq.get(responseListCount) + '_CentreCandidate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreCandidateNumber, key));\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, enums.AccuracyIndicatorType.Unknown, undefined));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * Generate row defenitions for pending detailed worklist in atypical\r\n     * @param responseListData\r\n     */\r\n    AtypicalWorklistHelper.prototype.getRowDefinionForPendingDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var _worklistRow;\r\n        var componentPropsJson;\r\n        var key;\r\n        // Grid columns\r\n        var gridLeftColumn = Array();\r\n        var gridMiddleColumn = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _workListCell;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.atypicalworklist.pending.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + 'TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.pending, true));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + 'LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + 'LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.GracePeriodTime:\r\n                            key = gridSeq.get(responseListCount) + 'GracePeriodTime_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGracePeriodElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.CentreNum:\r\n                            key = gridSeq.get(responseListCount) + '_Centre_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreNumber, key));\r\n                            break;\r\n                        case gridColumnNames.CentreCandidateNum:\r\n                            key = gridSeq.get(responseListCount) + '_CentreCandidate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreCandidateNumber, key));\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, enums.AccuracyIndicatorType.Unknown, undefined));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForAtypicalClosedDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of live open responses\r\n     * @returns grid row collection.\r\n     */\r\n    AtypicalWorklistHelper.prototype.getRowDefinionForClosedDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var _worklistRow;\r\n        var componentPropsJson;\r\n        var key;\r\n        // Grid columns\r\n        var gridLeftColumn = Array();\r\n        var gridMiddleColumn = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _workListCell;\r\n        var isSeedResponse;\r\n        var isSeedHighlighted = false;\r\n        var cssClass;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.atypicalworklist.closed.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.closed);\r\n                gridLeftColumn = new Array();\r\n                gridMiddleColumn = new Array();\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.closed, false));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllocatedDateElement(responseData, componentPropsJson, key, false, false, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.CentreNum:\r\n                            key = gridSeq.get(responseListCount) + '_Centre_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreNumber, key));\r\n                            break;\r\n                        case gridColumnNames.CentreCandidateNum:\r\n                            key = gridSeq.get(responseListCount) + '_CentreCandidate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreCandidateNumber, key));\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                var additionalComponent = this.renderQualityFeedbackBanner(responseListCount, enums.WorklistType.directedRemark);\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, enums.AccuracyIndicatorType.Unknown, additionalComponent, cssClass));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * Get the out put of formatted username\r\n     * @param {userInfoArgument} userInforArg\r\n     * @returns\r\n     */\r\n    AtypicalWorklistHelper.prototype.getFormattedName = function (initials, surname) {\r\n        var formattedString = stringFormatHelper.getUserNameFormat().toLowerCase();\r\n        formattedString = formattedString.replace('{initials}', initials);\r\n        formattedString = formattedString.replace('{surname}', surname);\r\n        return formattedString;\r\n    };\r\n    /**\r\n     * returns whether the the given column is hidden or not\r\n     * @param responseColumn\r\n     */\r\n    AtypicalWorklistHelper.prototype.getCellVisibility = function (column) {\r\n        var isHidden = false;\r\n        switch (column) {\r\n            case gridColumnNames.OriginalMarkerName:\r\n                isHidden = (this.getRemarkSeedingCCValue() === true) || (this.showOriginalMarkerName === false);\r\n                break;\r\n            case gridColumnNames.SLAOIndicator:\r\n                if (this.isStructuredQIG() === false) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n            case gridColumnNames.AllPageAnnotedIndicator:\r\n                if (this.isStructuredQIG() === true) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n            case gridColumnNames.TotalMark:\r\n                if (this.isNonNumeric() === true) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n        }\r\n        return isHidden;\r\n    };\r\n    /**\r\n     * returns the grdicolumns based on the response mode and worklist type\r\n     * @param responseMode\r\n     */\r\n    AtypicalWorklistHelper.prototype.getGridColumns = function (resolvedGridColumnsJson, worklistType, responseMode, isFrozen) {\r\n        if (isFrozen === void 0) { isFrozen = false; }\r\n        var gridColumns;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.atypicalworklist.open.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.liveworklist.open.frozenRows.GridColumns;\r\n                break;\r\n            case enums.ResponseMode.pending:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.atypicalworklist.pending.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.liveworklist.pending.frozenRows.GridColumns;\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.atypicalworklist.closed.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.liveworklist.closed.frozenRows.GridColumns;\r\n                break;\r\n        }\r\n        return gridColumns;\r\n    };\r\n    /**\r\n     * returns the resposne staus based on the worklist and its validator type\r\n     * @param worklistType\r\n     * @param responseMode\r\n     */\r\n    AtypicalWorklistHelper.prototype.getResponseStatus = function (responseData, responseMode) {\r\n        var responseStatus;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                responseStatus = worklistValidatorFactory.getValidator(worklistValidatorList.directedRemarkOpen).\r\n                    submitButtonValidate(responseData);\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n            case enums.ResponseMode.pending:\r\n                responseStatus = Immutable.List().push(enums.ResponseStatus.none);\r\n                break;\r\n        }\r\n        return responseStatus;\r\n    };\r\n    /**\r\n     * set the variable of showOriginalMarkerName based on the value in worklist data.\r\n     * @param responseListData\r\n     */\r\n    AtypicalWorklistHelper.prototype.setShowOriginalMarkerName = function (responseListData) {\r\n        var _responseListData = responseListData.responses.toArray();\r\n        for (var _responseCount = 0; _responseCount < _responseListData.length; _responseCount++) {\r\n            if (_responseListData[_responseCount].showOriginalMarkerName === true) {\r\n                this.showOriginalMarkerName = true;\r\n                return;\r\n            }\r\n        }\r\n        this.showOriginalMarkerName = false;\r\n    };\r\n    /**\r\n     * get the value of remark seeding cc based on the remark type.\r\n     */\r\n    AtypicalWorklistHelper.prototype.getRemarkSeedingCCValue = function () {\r\n        var ccValue = configurableCharacteristicsHelper.getExamSessionCCValue(configurableCharacteristicsNames.RemarkSeeding, qigStore.instance.selectedQIGForMarkerOperation.examSessionId);\r\n        if (ccValue && ccValue !== '') {\r\n            var xmlHelperObj = new xmlHelper(ccValue);\r\n            var remarkType = xmlHelperObj.getNodeValueByName('RemarkType');\r\n            remarkType = (remarkType) ? remarkType.replace(/ /g, '') : '';\r\n            return (enums.RemarkRequestType[worklistStore.instance.getRemarkRequestType] === remarkType);\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    return AtypicalWorklistHelper;\r\n}(worklistHelperBase));\r\nmodule.exports = AtypicalWorklistHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4MS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGhlbHBlcnMvYXR5cGljYWx3b3JrbGlzdGhlbHBlci50cz9lMjkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBncmlkUm93ID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL2dyaWRyb3cnKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgZ3JpZENlbGwgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZGNlbGwnKTtcclxubGV0IHdvcmtsaXN0R3JpZENvbHVtbnNKc29uID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL3dvcmtsaXN0Z3JpZGNvbHVtbnMuanNvbicpO1xyXG5pbXBvcnQgd29ya2xpc3RWYWxpZGF0b3JGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvd29ya2xpc3R2YWxpZGF0b3JmYWN0b3J5Jyk7XHJcbmltcG9ydCB3b3JrbGlzdFZhbGlkYXRvckxpc3QgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy93b3JrbGlzdHZhbGlkYXRvcmxpc3QnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vZW51bXMnKTtcclxuaW1wb3J0IGdyaWRDb2x1bW5OYW1lcyA9IHJlcXVpcmUoJy4uL2dyaWRjb2x1bW5uYW1lcycpO1xyXG5pbXBvcnQgd29ya2xpc3RIZWxwZXJCYXNlID0gcmVxdWlyZSgnLi93b3JrbGlzdGhlbHBlcmJhc2UnKTtcclxuaW1wb3J0IGpzb25SZWZSZXNvbHZlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvanNvbnJlZnJlc29sdmVyL2pvc25yZWZyZXNvbHZlcicpO1xyXG5pbXBvcnQgc3RyaW5nRm9ybWF0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9zdHJpbmdmb3JtYXQvc3RyaW5nZm9ybWF0aGVscGVyJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCB4bWxIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2dlbmVyaWMveG1saGVscGVyJyk7XHJcbmltcG9ydCB3b3JrbGlzdFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3dvcmtsaXN0c3RvcmUnKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IE1hcmtDaGFuZ2VSZWFzb24gPSByZXF1aXJlKCcuLi8uLi8uLi9tYXJrc2NoZW1lc3RydWN0dXJlL21hcmtjaGFuZ2VyZWFzb24nKTtcclxuaW1wb3J0IHF1YWxpdHlGZWVkYmFja0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvcXVhbGl0eWZlZWRiYWNrL3F1YWxpdHlmZWVkYmFja2hlbHBlcicpO1xyXG5cclxuLyoqXHJcbiAqIGNsYXNzIGZvciBXb3JrTGlzdCBIZWxwZXIgaW1wbGVtZW50YXRpb25cclxuICovXHJcbmNsYXNzIEF0eXBpY2FsV29ya2xpc3RIZWxwZXIgZXh0ZW5kcyB3b3JrbGlzdEhlbHBlckJhc2Uge1xyXG5cclxuICAgIC8qKiB2YXJpYWJsZSB0byBob2xkcyB3aGV0aGVyIHRoZSBvcmlnaW5hbCBtYXJrZXIgbmFtZSBzaG93cyBvciBub3QgYmFzZWQgb24gREIgdmFsdWUgKG5vdCBDQykgKi9cclxuICAgIHByaXZhdGUgc2hvd09yaWdpbmFsTWFya2VyTmFtZTogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlUm93RGVmaW5pb24gaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZFxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIGF0eXBpY2FsIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VUeXBlIC0gdHlwZSBvZiB0aGUgcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBncmlkVHlwZSAtIHR5cGUgb2YgZ3JpZHZpZXcgdGlsZS9kZXRhaWxcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZVJvd0RlZmluaW9uKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSxcclxuICAgICAgICByZXNwb25zZVR5cGU6IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBncmlkVHlwZTogZW51bXMuR3JpZFR5cGUpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcblxyXG4gICAgICAgIHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24gPSBqc29uUmVmUmVzb2x2ZXIucmVzb2x2ZVJlZnMod29ya2xpc3RHcmlkQ29sdW1uc0pzb24pO1xyXG5cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuTGlzdDxncmlkUm93PigpO1xyXG4gICAgICAgIHN3aXRjaCAocmVzcG9uc2VUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGdyaWRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvck9wZW5EZXRhaWwocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUudGlsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JPcGVuVGlsZWQocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZDpcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZ3JpZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkdyaWRUeXBlLmRldGFpbGVkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaW9uRm9yQ2xvc2VkRGV0YWlsKHJlc3BvbnNlTGlzdERhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkdyaWRUeXBlLnRpbGVkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaW9uRm9yQ2xvc2VkVGlsZWQocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmc6XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGdyaWRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvclBlbmRpbmdEZXRhaWwocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUudGlsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JQZW5kaW5nVGlsZWQocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvckF0eXBpY2FsT3BlblRpbGVkIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWQgaW4gdGlsZWQgdmlld1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIGF0eXBpY2FsIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yT3BlblRpbGVkKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcclxuICAgICAgICBsZXQgX3dvcmtsaXN0Um93OiBncmlkUm93O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQga2V5OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZUxpc3REYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRTZXEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy5rZXlTZXEoKTtcclxuICAgICAgICAgICAgbGV0IF9yZXNwb25zZUxpc3REYXRhID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCByZXNwb25zZUxpc3RDb3VudCA9IDA7IHJlc3BvbnNlTGlzdENvdW50IDwgX3Jlc3BvbnNlTGlzdERhdGEubGVuZ3RoOyByZXNwb25zZUxpc3RDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBkYXRhIHJvd1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9IChyZXNwb25zZURhdGEuaXNXaG9sZVJlc3BvbnNlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnJlbGF0ZWRSSUdEZXRhaWxzKSA/IDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVN0YXR1cyA9IHRoaXMuZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhLCBlbnVtcy5SZXNwb25zZU1vZGUub3Blbik7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLmF0eXBpY2Fsd29ya2xpc3Qub3Blbi50aWxldmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldCBmcmVzaCBzZXQgb2YgZ3JvdXBzIGZvciBldmVyeSBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtcHR5R3JvdXBDb2x1bW5zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcG9uZW50UHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTWFya2luZ1Byb2dyZXNzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19NYXJraW5nUHJvZ3Jlc3NfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5nZXRNYXJraW5nUHJvZ3Jlc3NFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLldvcmtsaXN0VHlwZS5hdHlwaWNhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcEdyb3VwQ29sdW1ucygnd29ya2xpc3QtdGlsZS1mb290ZXInLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5SZXNwb25zZUlkQ29sdW1uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZXNwb25zZUlkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFJlc3BvbnNlSWRDb2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcblx0XHRcdFx0XHRcdFx0XHRrZXksXHJcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUxpc3REYXRhLmhhc051bWVyaWNNYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZEV4Y2VwdGlvbkluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGlua2VkRXhjZXB0aW9uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdyBvbmx5IGlmIHRoZXJlIGFyZSBibG9ja2luZyBleGNlcHRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhW2NvbXBvbmVudFByb3BzSnNvbi5oYXNCbG9ja2luZ0V4Y2VwdGlvbnNdKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5nZXRMaW5rZWRFeGNlcHRpb25FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwR3JvdXBDb2x1bW5zKCdpY29uLWhvbGRlcicsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxQYWdlQW5ub3RhdGVkXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFubm90YXRpb24gaW5kaWNhdG9yIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWxsUGFnZUVsZW1lbnQgPSB0aGlzLmdldEFsbFBhZ2VBbm5vdGF0aW9uSW5kaWNhdG9yRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2tpbmcgd2hldGhlciB0aGUgaW5kaWNhdG9yIGlzIHZhbGlkIHRvIGRpc3BsYXkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsUGFnZUVsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwR3JvdXBDb2x1bW5zKCdpY29uLWhvbGRlcicsIGFsbFBhZ2VFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGVsZW1lbnRzIHF1ZXVlZCB0byBncm91cCwgdGhlbiBncm91cCB0aGUgZWxlbWVudHMuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cENvbHVtbnMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfVGlsZV9Hcm91cF8nO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ3JvdXBDb2x1bW5FbGVtZW50cygnd29ya2xpc3QtdGlsZS1mb290ZXInLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd1N0eWxlKHRoaXMuc2V0Um93U3R5bGUocmVzcG9uc2VTdGF0dXMpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dJZChwYXJzZUZsb2F0KHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRDZWxscyhfd29ya0xpc3RDZWxsY29sbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goX3dvcmtsaXN0Um93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvckNsb3NlZFRpbGVkIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWQgaW4gdGlsZWQgdmlld1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIGF0eXBpY2FsIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yQ2xvc2VkVGlsZWQocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuICAgICAgICBsZXQgaXNTZWVkSGlnaGxpZ2h0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF0gY29sbGVjdGlvbiBpbnNpZGUgbG9vcCwgaXRzIGFjY2Vzc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkID0gKHJlc3BvbnNlRGF0YS5pc1dob2xlUmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEucmVsYXRlZFJJR0RldGFpbHMpID8gMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLmRpcmVjdGVkcmVtYXJrd29ya2xpc3QuY2xvc2VkLnRpbGV2aWV3LkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0IGZyZXNoIHNldCBvZiBncm91cHMgZm9yIGV2ZXJ5IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1wdHlHcm91cENvbHVtbnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5SZXNwb25zZUlkQ29sdW1uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZXNwb25zZUlkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFJlc3BvbnNlSWRDb2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcblx0XHRcdFx0XHRcdFx0XHRrZXksXHJcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUxpc3REYXRhLmhhc051bWVyaWNNYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IF9yb3dTdHlsZTogc3RyaW5nID0gdGhpcy5zZXRSb3dTdHlsZShJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4oKS5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vbmUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5Vbmtub3duKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dTdHlsZShfcm93U3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd0lkKHBhcnNlRmxvYXQocmVzcG9uc2VEYXRhLmRpc3BsYXlJZCkpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldENlbGxzKF93b3JrTGlzdENlbGxjb2xsZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChfd29ya2xpc3RSb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3dvcmtMaXN0Um93Q29sbGVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhdHlwaWNhbCBwZW5kaW5nIHdvcmtsaXN0IGRldGFpbHMuXHJcbiAgICAgKiBAcGFyYW0ge1dvcmtsaXN0QmFzZX0gcmVzcG9uc2VMaXN0RGF0YVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvclBlbmRpbmdUaWxlZChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPSAocmVzcG9uc2VEYXRhLmlzV2hvbGVSZXNwb25zZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5yZWxhdGVkUklHRGV0YWlscykgPyAwIDpcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuZGlyZWN0ZWRyZW1hcmt3b3JrbGlzdC5wZW5kaW5nLnRpbGV2aWV3LkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5SZXNwb25zZUlkQ29sdW1uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ1Jlc3BvbnNlSWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuXHRcdFx0XHRcdFx0XHRcdGtleSxcclxuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkdyYWNlUGVyaW9kVGltZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdHcmFjZVBlcmlvZFRpbWVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0QWxsb2NhdGVkRGF0ZUVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd1N0eWxlKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Um93U3R5bGUoSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCkucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub25lKSwgdW5kZWZpbmVkKSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93VGl0bGUodGhpcy5zZXRSb3dUaXRsZShyZXNwb25zZURhdGEuYWNjdXJhY3lJbmRpY2F0b3JUeXBlSUQpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dJZChwYXJzZUZsb2F0KHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRDZWxscyhfd29ya0xpc3RDZWxsY29sbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goX3dvcmtsaXN0Um93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvckF0eXBpY2FsT3BlbkRldGFpbCBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkIGluIGRldGFpbCB2aWV3XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YSAtIGxpc3Qgb2YgYXR5cGljYWwgb3BlbiByZXNwb25zZXNcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb25Gb3JPcGVuRGV0YWlsKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQga2V5OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZUxpc3REYXRhICE9IG51bGwpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2hvd09yaWdpbmFsTWFya2VyTmFtZShyZXNwb25zZUxpc3REYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlTGlzdExlbmd0aCA9IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5hdHlwaWNhbHdvcmtsaXN0Lm9wZW4uZGV0YWlsdmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLmRpcmVjdGVkcmVtYXJrd29ya2xpc3Qub3Blbi5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF0gY29sbGVjdGlvbiBpbnNpZGUgbG9vcCwgaXRzIGFjY2Vzc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkID0gKHJlc3BvbnNlRGF0YS5pc1dob2xlUmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEucmVsYXRlZFJJR0RldGFpbHMpID8gMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzID0gdGhpcy5nZXRSZXNwb25zZVN0YXR1cyhyZXNwb25zZURhdGEsIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTWFya2luZ1Byb2dyZXNzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19NYXJraW5nUHJvZ3Jlc3NfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldE1hcmtpbmdQcm9ncmVzc0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuV29ya2xpc3RUeXBlLmF0eXBpY2FsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVG90YWxNYXJrOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19Ub3RhbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRvdGFsTWFya0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5tYXhpbXVtTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxvY2F0ZWREYXRlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxvY2F0ZWREYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBbGxvY2F0ZWREYXRlKHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsUGFnZUFubm90ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbFBhZ2VBbm5vdGF0ZWRJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFsbFBhZ2VBbm5vdGF0ZWRJbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MaW5rZWRNZXNzYWdlSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRNZXNzYWdlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMaW5rZWRNZXNzYWdlRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZEV4Y2VwdGlvbkluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGlua2VkRXhjZXB0aW9uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMaW5rZWRFeGNlcHRpb25FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuT3JpZ2luYWxNYXJrZXJOYW1lOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19PcmlnaW5hbE1hcmtlcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9yaWdpbmFsTWFya2VyTmFtZTogc3RyaW5nID0gdGhpcy5nZXRGb3JtYXR0ZWROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlRGF0YS5vcmlnaW5hbE1hcmtlckluaXRpYWxzLCByZXNwb25zZURhdGEub3JpZ2luYWxNYXJrZXJTdXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChvcmlnaW5hbE1hcmtlck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlTnVtOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19DZW50cmVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEuY2VudHJlTnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkNlbnRyZUNhbmRpZGF0ZU51bTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQ2VudHJlQ2FuZGlkYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLmNlbnRyZUNhbmRpZGF0ZU51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuaXNIaWRkZW4gPSB0aGlzLmdldENlbGxWaXNpYmlsaXR5KF9yZXNwb25zZUNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmRpc3BsYXlJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5Vbmtub3duLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgcm93IGRlZmVuaXRpb25zIGZvciBwZW5kaW5nIGRldGFpbGVkIHdvcmtsaXN0IGluIGF0eXBpY2FsXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yUGVuZGluZ0RldGFpbChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtsaXN0Um93OiBncmlkUm93O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQga2V5OiBzdHJpbmc7XHJcbiAgICAgICAgLy8gR3JpZCBjb2x1bW5zXHJcbiAgICAgICAgbGV0IGdyaWRMZWZ0Q29sdW1uID0gQXJyYXk8SlNYLkVsZW1lbnQ+KCk7XHJcbiAgICAgICAgbGV0IGdyaWRNaWRkbGVDb2x1bW4gPSBBcnJheTxKU1guRWxlbWVudD4oKTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZUxpc3REYXRhICE9IG51bGwpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlTGlzdExlbmd0aCA9IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5hdHlwaWNhbHdvcmtsaXN0LnBlbmRpbmcuZGV0YWlsdmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9IChyZXNwb25zZURhdGEuaXNXaG9sZVJlc3BvbnNlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnJlbGF0ZWRSSUdEZXRhaWxzKSA/IDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVN0YXR1cyA9IHRoaXMuZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhLCBlbnVtcy5SZXNwb25zZU1vZGUub3Blbik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFyazpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdUb3RhbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRvdGFsTWFya0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5tYXhpbXVtTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcsIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MaW5rZWRNZXNzYWdlSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ0xpbmtlZE1lc3NhZ2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmtlZE1lc3NhZ2VFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiwga2V5LCBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZEV4Y2VwdGlvbkluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdMaW5rZWRFeGNlcHRpb25fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmtlZEV4Y2VwdGlvbkVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLCBrZXksIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuR3JhY2VQZXJpb2RUaW1lOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ0dyYWNlUGVyaW9kVGltZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JhY2VQZXJpb2RFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LCBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNMQU9JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFNMQU9JbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5DZW50cmVOdW06XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0NlbnRyZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5jZW50cmVOdW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlQ2FuZGlkYXRlTnVtOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19DZW50cmVDYW5kaWRhdGVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEuY2VudHJlQ2FuZGlkYXRlTnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5pc0hpZGRlbiA9IHRoaXMuZ2V0Q2VsbFZpc2liaWxpdHkoX3Jlc3BvbnNlQ29sdW1uKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuZGlzcGxheUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLlVua25vd24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3dvcmtMaXN0Um93Q29sbGVjdGlvbik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvckF0eXBpY2FsQ2xvc2VkRGV0YWlsIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWQgaW4gZGV0YWlsIHZpZXdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBsaXZlIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yQ2xvc2VkRGV0YWlsKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuICAgICAgICAvLyBHcmlkIGNvbHVtbnNcclxuICAgICAgICBsZXQgZ3JpZExlZnRDb2x1bW4gPSBBcnJheTxKU1guRWxlbWVudD4oKTtcclxuICAgICAgICBsZXQgZ3JpZE1pZGRsZUNvbHVtbiA9IEFycmF5PEpTWC5FbGVtZW50PigpO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQgaXNTZWVkUmVzcG9uc2U6IGJvb2xlYW47XHJcbiAgICAgICAgbGV0IGlzU2VlZEhpZ2hsaWdodGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGNzc0NsYXNzOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZUxpc3REYXRhICE9IG51bGwpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlTGlzdExlbmd0aCA9IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5hdHlwaWNhbHdvcmtsaXN0LmNsb3NlZC5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF0gY29sbGVjdGlvbiBpbnNpZGUgbG9vcCwgaXRzIGFjY2Vzc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkID0gKHJlc3BvbnNlRGF0YS5pc1dob2xlUmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEucmVsYXRlZFJJR0RldGFpbHMpID8gMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzID0gdGhpcy5nZXRSZXNwb25zZVN0YXR1cyhyZXNwb25zZURhdGEsIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGdyaWRMZWZ0Q29sdW1uID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICBncmlkTWlkZGxlQ29sdW1uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVG90YWxNYXJrOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19Ub3RhbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRvdGFsTWFya0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5tYXhpbXVtTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbG9jYXRlZERhdGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbG9jYXRlZERhdGVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFsbG9jYXRlZERhdGVFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkTWVzc2FnZUluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGlua2VkTWVzc2FnZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlua2VkTWVzc2FnZUVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLCBrZXksIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkRXhjZXB0aW9uSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRFeGNlcHRpb25fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmtlZEV4Y2VwdGlvbkVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLCBrZXksIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU0xBT0luZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfU0xBT0luZGljYXRvcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0U0xBT0luZGljYXRvckVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkNlbnRyZU51bTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQ2VudHJlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLmNlbnRyZU51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5DZW50cmVDYW5kaWRhdGVOdW06XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0NlbnRyZUNhbmRpZGF0ZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5jZW50cmVDYW5kaWRhdGVOdW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmlzSGlkZGVuID0gdGhpcy5nZXRDZWxsVmlzaWJpbGl0eShfcmVzcG9uc2VDb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPSAoZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcykgPyBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBhZGRpdGlvbmFsQ29tcG9uZW50ID0gdGhpcy5yZW5kZXJRdWFsaXR5RmVlZGJhY2tCYW5uZXIocmVzcG9uc2VMaXN0Q291bnQsIGVudW1zLldvcmtsaXN0VHlwZS5kaXJlY3RlZFJlbWFyayk7XHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuZGlzcGxheUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLlVua25vd24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxDb21wb25lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBvdXQgcHV0IG9mIGZvcm1hdHRlZCB1c2VybmFtZVxyXG4gICAgICogQHBhcmFtIHt1c2VySW5mb0FyZ3VtZW50fSB1c2VySW5mb3JBcmdcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Rm9ybWF0dGVkTmFtZShpbml0aWFsczogc3RyaW5nLCBzdXJuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBmb3JtYXR0ZWRTdHJpbmc6IHN0cmluZyA9IHN0cmluZ0Zvcm1hdEhlbHBlci5nZXRVc2VyTmFtZUZvcm1hdCgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gZm9ybWF0dGVkU3RyaW5nLnJlcGxhY2UoJ3tpbml0aWFsc30nLCBpbml0aWFscyk7XHJcbiAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gZm9ybWF0dGVkU3RyaW5nLnJlcGxhY2UoJ3tzdXJuYW1lfScsIHN1cm5hbWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB3aGV0aGVyIHRoZSB0aGUgZ2l2ZW4gY29sdW1uIGlzIGhpZGRlbiBvciBub3RcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUNvbHVtblxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0Q2VsbFZpc2liaWxpdHkoY29sdW1uOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgbGV0IGlzSGlkZGVuOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk9yaWdpbmFsTWFya2VyTmFtZTpcclxuICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gKHRoaXMuZ2V0UmVtYXJrU2VlZGluZ0NDVmFsdWUoKSA9PT0gdHJ1ZSkgfHwgKHRoaXMuc2hvd09yaWdpbmFsTWFya2VyTmFtZSA9PT0gZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNMQU9JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1N0cnVjdHVyZWRRSUcoKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsUGFnZUFubm90ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1N0cnVjdHVyZWRRSUcoKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Ub3RhbE1hcms6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc05vbk51bWVyaWMoKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGlzSGlkZGVuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgZ3JkaWNvbHVtbnMgYmFzZWQgb24gdGhlIHJlc3BvbnNlIG1vZGUgYW5kIHdvcmtsaXN0IHR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldEdyaWRDb2x1bW5zKHJlc29sdmVkR3JpZENvbHVtbnNKc29uOiBhbnksIHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlLCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBpc0Zyb3plbjogYm9vbGVhbiA9IGZhbHNlKSB7XHJcblxyXG4gICAgICAgIGxldCBncmlkQ29sdW1uczogYW55O1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuOlxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSAoaXNGcm96ZW4gPT09IGZhbHNlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5hdHlwaWNhbHdvcmtsaXN0Lm9wZW4uZGV0YWlsdmlldy5HcmlkQ29sdW1uc1xyXG4gICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5saXZld29ya2xpc3Qub3Blbi5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmc6XHJcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1ucyA9IChpc0Zyb3plbiA9PT0gZmFsc2UpID9cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLmF0eXBpY2Fsd29ya2xpc3QucGVuZGluZy5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLmxpdmV3b3JrbGlzdC5wZW5kaW5nLmZyb3plblJvd3MuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkOlxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSAoaXNGcm96ZW4gPT09IGZhbHNlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5hdHlwaWNhbHdvcmtsaXN0LmNsb3NlZC5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLmxpdmV3b3JrbGlzdC5jbG9zZWQuZnJvemVuUm93cy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGdyaWRDb2x1bW5zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcmVzcG9zbmUgc3RhdXMgYmFzZWQgb24gdGhlIHdvcmtsaXN0IGFuZCBpdHMgdmFsaWRhdG9yIHR5cGVcclxuICAgICAqIEBwYXJhbSB3b3JrbGlzdFR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldFJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSk6XHJcbiAgICAgICAgSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+IHtcclxuXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz47XHJcblxyXG4gICAgICAgIHN3aXRjaCAocmVzcG9uc2VNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyA9IHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeS5nZXRWYWxpZGF0b3Iod29ya2xpc3RWYWxpZGF0b3JMaXN0LmRpcmVjdGVkUmVtYXJrT3BlbikuXHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0QnV0dG9uVmFsaWRhdGUocmVzcG9uc2VEYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQ6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmc6XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyA9IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPigpLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubm9uZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXNwb25zZVN0YXR1cztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldCB0aGUgdmFyaWFibGUgb2Ygc2hvd09yaWdpbmFsTWFya2VyTmFtZSBiYXNlZCBvbiB0aGUgdmFsdWUgaW4gd29ya2xpc3QgZGF0YS5cclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2V0U2hvd09yaWdpbmFsTWFya2VyTmFtZShyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpIHtcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgZm9yIChsZXQgX3Jlc3BvbnNlQ291bnQgPSAwOyBfcmVzcG9uc2VDb3VudCA8IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgX3Jlc3BvbnNlQ291bnQrKykge1xyXG4gICAgICAgICAgICBpZiAoX3Jlc3BvbnNlTGlzdERhdGFbX3Jlc3BvbnNlQ291bnRdLnNob3dPcmlnaW5hbE1hcmtlck5hbWUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd09yaWdpbmFsTWFya2VyTmFtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaG93T3JpZ2luYWxNYXJrZXJOYW1lID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgdGhlIHZhbHVlIG9mIHJlbWFyayBzZWVkaW5nIGNjIGJhc2VkIG9uIHRoZSByZW1hcmsgdHlwZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSZW1hcmtTZWVkaW5nQ0NWYWx1ZSgpIHtcclxuICAgICAgICBsZXQgY2NWYWx1ZSA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRFeGFtU2Vzc2lvbkNDVmFsdWUoY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuUmVtYXJrU2VlZGluZyxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbVNlc3Npb25JZCk7XHJcbiAgICAgICAgaWYgKGNjVmFsdWUgJiYgY2NWYWx1ZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgbGV0IHhtbEhlbHBlck9iaiA9IG5ldyB4bWxIZWxwZXIoY2NWYWx1ZSk7XHJcbiAgICAgICAgICAgIGxldCByZW1hcmtUeXBlID0geG1sSGVscGVyT2JqLmdldE5vZGVWYWx1ZUJ5TmFtZSgnUmVtYXJrVHlwZScpO1xyXG4gICAgICAgICAgICByZW1hcmtUeXBlID0gKHJlbWFya1R5cGUpID8gcmVtYXJrVHlwZS5yZXBsYWNlKC8gL2csICcnKSA6ICcnO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZVt3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbWFya1JlcXVlc3RUeXBlXSA9PT0gcmVtYXJrVHlwZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gQXR5cGljYWxXb3JrbGlzdEhlbHBlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3dvcmtsaXN0aGVscGVycy9hdHlwaWNhbHdvcmtsaXN0aGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7O0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBNjFCQTtBQXgxQkE7Ozs7OztBQU1BO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1182:
/* no static exports found */
/* all exports used */
/*!***************************************************************************!*\
  !*** ./src/components/utility/grid/worklisthelpers/liveworklisthelper.ts ***!
  \***************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar worklistGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/worklistgridcolumns.json */ 449);\r\nvar worklistValidatorFactory = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorfactory */ 319);\r\nvar worklistValidatorList = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorlist */ 304);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar worklistHelperBase = __webpack_require__(/*! ./worklisthelperbase */ 458);\r\nvar josnRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar qualityFeedbackHelper = __webpack_require__(/*! ../../../../utility/qualityfeedback/qualityfeedbackhelper */ 309);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../markeroperationmode/markeroperationmodefactory */ 232);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\nvar tagStore = __webpack_require__(/*! ../../../../stores/tags/tagstore */ 331);\r\nvar examinerStore = __webpack_require__(/*! ../../../../stores/markerinformation/examinerstore */ 259);\r\nvar localeStore = __webpack_require__(/*! ../../../../stores/locale/localestore */ 226);\r\n/**\r\n * class for WorkList Helper implementation\r\n */\r\nvar LiveWorklistHelper = /** @class */ (function (_super) {\r\n    __extends(LiveWorklistHelper, _super);\r\n    function LiveWorklistHelper() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /* variable to holds the response type for showing the response type label*/\r\n        _this._responseType = enums.ResponseType.None;\r\n        return _this;\r\n    }\r\n    /**\r\n     * GenerateRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param responseListData - list of live open responses\r\n     * @param responseType - type of the response\r\n     * @param gridType - type of gridview tile/detail\r\n     * @returns grid row collection.\r\n     */\r\n    LiveWorklistHelper.prototype.generateRowDefinion = function (responseListData, responseType, gridType) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(worklistGridColumnsJson);\r\n        this._immutableWorkListCollection = Immutable.List();\r\n        switch (responseType) {\r\n            case enums.ResponseMode.open:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenTiled(responseListData);\r\n                        break;\r\n                    default:\r\n                }\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedTiled(responseListData);\r\n                        break;\r\n                    default:\r\n                }\r\n                break;\r\n            case enums.ResponseMode.pending:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForPendingDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForPendingTiled(responseListData);\r\n                        break;\r\n                }\r\n        }\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForLiveOpenTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of live open responses\r\n     * @returns grid row collection.\r\n     */\r\n    LiveWorklistHelper.prototype.getRowDefinionForClosedTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var isSeedHighlighted = false;\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.liveworklist.closed.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                var isSeedResponse = responseData.seedTypeId !== enums.SeedType.None ? true : false;\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            this._responseType = this.getResponseLabelType(responseData, enums.ResponseMode.closed);\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.closed, undefined, true, isSeedResponse, true, this._responseType);\r\n                            break;\r\n                        case gridColumnNames.MarksDifference:\r\n                            if (isSeedResponse === true) {\r\n                                key = gridSeq.get(responseListCount) + '_MarksDifference_' + gridColumnCount;\r\n                                _workListCell.columnElement = this.getMarksDifferenceColumnElement(responseData, componentPropsJson, key, true);\r\n                            }\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                var _rowStyle = this.setRowStyle(Immutable.List().push(enums.ResponseStatus.none), isSeedResponse === true ? responseData.accuracyIndicatorTypeID : enums.AccuracyIndicatorType.Unknown);\r\n                if (this._responseType !== enums.ResponseType.None) {\r\n                    _rowStyle += ' labeled';\r\n                }\r\n                if (isSeedResponse && this.showSeedLabel) {\r\n                    _rowStyle += ' seed';\r\n                }\r\n                if (!isSeedHighlighted\r\n                    && qualityFeedbackHelper.isSeedNeededToBeHighlighted(responseData.qualityFeedbackStatusId, isSeedResponse)) {\r\n                    _rowStyle += ' highlight-seed';\r\n                    isSeedHighlighted = true;\r\n                }\r\n                _worklistRow.setRowStyle(_rowStyle);\r\n                _worklistRow.setRowTitle(this.setRowTitle(responseData.accuracyIndicatorTypeID));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForLiveOpenTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of live open responses\r\n     * @returns grid row collection.\r\n     */\r\n    LiveWorklistHelper.prototype.getRowDefinionForOpenTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.liveworklist.open.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // Get fresh set of groups for every columns\r\n                this.emptyGroupColumns();\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            var element = this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.live);\r\n                            this.mapGroupColumns('worklist-tile-footer', element);\r\n                            break;\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            this._responseType = this.getResponseLabelType(responseData, enums.ResponseMode.open);\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.open);\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            // show only if there are blocking exceptions or zoning exceptions\r\n                            if (responseData[componentPropsJson.hasBlockingExceptions]\r\n                                || responseData[componentPropsJson.hasZoningExceptions]) {\r\n                                var element_1 = this.getLinkedExceptionElement(responseData, componentPropsJson, key);\r\n                                this.mapGroupColumns('icon-holder', element_1);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotated_' + gridColumnCount;\r\n                            // Create annotation indicator element.\r\n                            var allPageElement = this.getAllPageAnnotationIndicatorElement(responseData, componentPropsJson, key);\r\n                            // Checking whether the indicator is valid to display.\r\n                            if (allPageElement !== undefined) {\r\n                                this.mapGroupColumns('icon-holder', allPageElement);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, true));\r\n                            break;\r\n                        case gridColumnNames.AllFilesNotViewedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllFilesNotViewedIndicator_' + gridColumnCount;\r\n                            var allFilesNotViewedElement = (this.getAllFilesNotViewedIndicatorElement(responseData, componentPropsJson, key));\r\n                            this.mapGroupColumns('worklist-tile-footer', allFilesNotViewedElement);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                // If there are elements queued to group, then group the elements.\r\n                if (this.groupColumns) {\r\n                    _workListCell = new gridCell();\r\n                    key = gridSeq.get(responseListCount) + '_Tile_Group_';\r\n                    _workListCell.columnElement = this.groupColumnElements('worklist-tile-footer', key);\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                var _rowStyle = this.setRowStyle(responseStatus);\r\n                if (this._responseType !== enums.ResponseType.None) {\r\n                    _rowStyle += ' labeled';\r\n                }\r\n                _worklistRow.setRowStyle(_rowStyle);\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForLiveOpenDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of live open responses\r\n     * @returns grid row collection.\r\n     */\r\n    LiveWorklistHelper.prototype.getRowDefinionForClosedDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var _worklistRow;\r\n        var componentPropsJson;\r\n        var key;\r\n        // Grid columns\r\n        var gridLeftColumn = Array();\r\n        var gridMiddleColumn = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _workListCell;\r\n        var cssClass;\r\n        var isResponseTypeLabelVisible;\r\n        var isSeedResponse;\r\n        var isSeedHighlighted = false;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.liveworklist.closed.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.closed);\r\n                gridLeftColumn = new Array();\r\n                gridMiddleColumn = new Array();\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.SpecialistType:\r\n                            key = gridSeq.get(responseListCount) + '_SpecialistType_' + gridColumnCount;\r\n                            _workListCell.columnElement =\r\n                                (this.getGenericTextElement(responseData.specialistType ===\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType) ?\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType)\r\n                                    : responseData.specialistType, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.closed, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.ResponseTypeLabel:\r\n                            this._responseType = this.getResponseLabelType(responseData, enums.ResponseMode.closed);\r\n                            isResponseTypeLabelVisible = this._responseType !== enums.ResponseType.None;\r\n                            key = gridSeq.get(responseListCount) + '_ResponseTypeLabel_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getResponseTypeLabel(key, isResponseTypeLabelVisible, this._responseType));\r\n                            if (!isSeedHighlighted && qualityFeedbackHelper.isSeedNeededToBeHighlighted(responseData.qualityFeedbackStatusId, isResponseTypeLabelVisible)) {\r\n                                cssClass = 'highlight-seed';\r\n                                isSeedHighlighted = true;\r\n                            }\r\n                            else {\r\n                                cssClass = '';\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.AccuracyIndicator:\r\n                            // accuracy indicator is shown only when its values is set\r\n                            isSeedResponse = markerOperationModeFactory.operationMode.isSeedResponse(responseData);\r\n                            if (isSeedResponse) {\r\n                                key = gridSeq.get(responseListCount) + '_AccuracyIndicator_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getAccuracyIndicatorElement(responseData, componentPropsJson, key, false));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.AbsoluteMarksDifference:\r\n                            isSeedResponse = markerOperationModeFactory.operationMode.isSeedResponse(responseData);\r\n                            if (isSeedResponse) {\r\n                                key = gridSeq.get(responseListCount) + '_AbsoluteMarksDifference_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getMarksDifferenceElement(responseData, componentPropsJson, key, enums.MarksDifferenceType.AbsoluteMarksDifference, false));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.TotalMarksDifference:\r\n                            isSeedResponse = markerOperationModeFactory.operationMode.isSeedResponse(responseData);\r\n                            if (isSeedResponse) {\r\n                                key = gridSeq.get(responseListCount) + '_TotalMarksDifference_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getMarksDifferenceElement(responseData, componentPropsJson, key, enums.MarksDifferenceType.TotalMarksDifference, false));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.SampleLabel:\r\n                            key = gridSeq.get(responseListCount) + '_SampleLabel_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSampleLabel(key, responseData.sampleCommentId));\r\n                            break;\r\n                        case gridColumnNames.ReviewedByLabel:\r\n                            key = gridSeq.get(responseListCount) + '_ReviewedByLabel_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getReviewedByLabel(key, responseData));\r\n                            break;\r\n                        case gridColumnNames.CentreNum:\r\n                            if (!markerOperationModeFactory.operationMode.shouldDisplayCenterNumber &&\r\n                                !markerOperationModeFactory.operationMode.isSeedResponse(responseData)) {\r\n                                key = gridSeq.get(responseListCount) + '_Centre_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getGenericTextElement(responseData.centreNumber, key));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.TagIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_TagIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTag(key, responseData.tagId, tagStore.instance.tags, responseData.markGroupId));\r\n                            break;\r\n                        case gridColumnNames.SupervisorReviewComment:\r\n                            key = gridSeq.get(responseListCount) + '_SupervisorReviewComment_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSupervisorReviewComment(key, responseData));\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.closed, responseData), undefined, cssClass));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * Get the response label type for worklist\r\n     * @param responseData\r\n     * @param responseMode\r\n     */\r\n    LiveWorklistHelper.prototype.getResponseLabelType = function (responseData, responseMode) {\r\n        var isPEOrAPE = markerOperationModeFactory.operationMode.isSelectedExaminerPEOrAPE;\r\n        var isSTM = markerOperationModeFactory.operationMode.isLoggedInExaminerSTM;\r\n        var showSeedResponsLabel = responseData.seedTypeId !== enums.SeedType.None;\r\n        var showPromotedSeedResponseLabel = responseData.isCurrentMarkGroupPromotedAsSeed && isSTM;\r\n        var showDefinitiveResponseLabel;\r\n        if ((responseData).isWholeResponse) {\r\n            return enums.ResponseType.WholeResponse;\r\n        }\r\n        if (responseData.isPromotedSeed) {\r\n            showDefinitiveResponseLabel = responseData.isCurrentMarkGroupPromotedAsSeed && isPEOrAPE;\r\n        }\r\n        else {\r\n            showDefinitiveResponseLabel = responseData.hasDefinitiveMarks && isPEOrAPE;\r\n        }\r\n        if (responseMode === enums.ResponseMode.open) {\r\n            return showSeedResponsLabel ? enums.ResponseType.Seed : enums.ResponseType.None;\r\n        }\r\n        else {\r\n            return showSeedResponsLabel ? enums.ResponseType.Seed\r\n                : showDefinitiveResponseLabel ? enums.ResponseType.Definitive\r\n                    : showPromotedSeedResponseLabel ? enums.ResponseType.PromotedSeed : enums.ResponseType.None;\r\n        }\r\n    };\r\n    /**\r\n     * getRowDefinionForLiveOpenDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of live open responses\r\n     * @returns grid row collection.\r\n     */\r\n    LiveWorklistHelper.prototype.getRowDefinionForOpenDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var isSeedResponse;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.liveworklist.open.detailview.GridColumns;\r\n                //this.resolvedGridColumnsJson.marking.liveworklist.open.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.live, false));\r\n                            break;\r\n                        case gridColumnNames.SpecialistType:\r\n                            key = gridSeq.get(responseListCount) + '_SpecialistType_' + gridColumnCount;\r\n                            _workListCell.columnElement =\r\n                                (this.getGenericTextElement(responseData.specialistType ===\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType) ?\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType)\r\n                                    : responseData.specialistType, key));\r\n                            break;\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.open, true));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllocatedDate(responseData, componentPropsJson, key, true));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotatedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllPageAnnotatedIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.ResponseTypeLabel:\r\n                            this._responseType = this.getResponseLabelType(responseData, enums.ResponseMode.open);\r\n                            isSeedResponse = this._responseType !== enums.ResponseType.None;\r\n                            key = gridSeq.get(responseListCount) + '_ResponseTypeLabel_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getResponseTypeLabel(key, isSeedResponse, this._responseType));\r\n                            break;\r\n                        case gridColumnNames.SampleLabel:\r\n                            key = gridSeq.get(responseListCount) + '_SampleLabel_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSampleLabel(key, responseData.sampleCommentId));\r\n                            break;\r\n                        case gridColumnNames.TagIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_TagIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTag(key, responseData.tagId, tagStore.instance.tags, responseData.markGroupId));\r\n                            break;\r\n                        case gridColumnNames.AllFilesNotViewedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllFilesNotViewedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllFilesNotViewedIndicatorElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                var additionalComponent = this.renderQualityFeedbackBanner(responseListCount, enums.WorklistType.live);\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.open, responseData), additionalComponent));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * Generate row defenitions for pending detailed worklist in live\r\n     * @param responseListData\r\n     */\r\n    LiveWorklistHelper.prototype.getRowDefinionForPendingDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var _worklistRow;\r\n        var componentPropsJson;\r\n        var key;\r\n        var isResponseTypeLabelVisible;\r\n        // Grid columns\r\n        var gridLeftColumn = Array();\r\n        var gridMiddleColumn = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _workListCell;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.liveworklist.pending.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.pending);\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + 'TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.SpecialistType:\r\n                            key = gridSeq.get(responseListCount) + '_SpecialistType_' + gridColumnCount;\r\n                            _workListCell.columnElement =\r\n                                (this.getGenericTextElement(responseData.specialistType ===\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType) ?\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType)\r\n                                    : responseData.specialistType, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.pending, true));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + 'LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + 'LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.GracePeriodTime:\r\n                            key = gridSeq.get(responseListCount) + 'GracePeriodTime_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGracePeriodElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.ResponseTypeLabel:\r\n                            // for pending tab there is only whole respones label is used\r\n                            this._responseType = this.getResponseLabelType(responseData, enums.ResponseMode.pending);\r\n                            isResponseTypeLabelVisible = this._responseType === enums.ResponseType.WholeResponse;\r\n                            key = gridSeq.get(responseListCount) + '_ResponseTypeLabel_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getResponseTypeLabel(key, isResponseTypeLabelVisible, this._responseType));\r\n                            break;\r\n                        case gridColumnNames.SampleLabel:\r\n                            key = gridSeq.get(responseListCount) + '_SampleLabel_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSampleLabel(key, responseData.sampleCommentId));\r\n                            break;\r\n                        case gridColumnNames.TagIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_TagIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTag(key, responseData.tagId, tagStore.instance.tags, responseData.markGroupId));\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                var additionalComponent = this.renderQualityFeedbackBanner(responseListCount, enums.WorklistType.live);\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.pending, responseData), additionalComponent));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * Generate row defenitions for pending tiled worklist in live\r\n     * @param responseListData\r\n     */\r\n    LiveWorklistHelper.prototype.getRowDefinionForPendingTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.liveworklist.pending.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            this._responseType = this.getResponseLabelType(responseData, enums.ResponseMode.pending);\r\n                            key = gridSeq.get(responseListCount) + 'ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.pending);\r\n                            break;\r\n                        case gridColumnNames.GracePeriodTime:\r\n                            key = gridSeq.get(responseListCount) + 'GracePeriodTime_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getAllocatedDateElement(responseData, componentPropsJson, key, false, false, true);\r\n                            break;\r\n                        case gridColumnNames.MarksDifference:\r\n                            key = gridSeq.get(responseListCount) + '_MarksDifference_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getMarksDifferenceColumnElement(responseData, componentPropsJson, key, true);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                var _rowStyle = this.setRowStyle(Immutable.List().push(enums.ResponseStatus.none), undefined);\r\n                if (this._responseType !== enums.ResponseType.None) {\r\n                    _rowStyle += ' labeled';\r\n                }\r\n                _worklistRow.setRowStyle(_rowStyle);\r\n                _worklistRow.setRowTitle(this.setRowTitle(responseData.accuracyIndicatorTypeID));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * returns the resposne staus based on the worklist and its validator type\r\n     * @param worklistType\r\n     * @param responseMode\r\n     */\r\n    LiveWorklistHelper.prototype.getResponseStatus = function (responseData, responseMode) {\r\n        var responseStatus;\r\n        responseStatus = worklistValidatorFactory.getValidator(worklistValidatorList.liveOpen).\r\n            submitButtonValidate(responseData);\r\n        return responseStatus;\r\n    };\r\n    /**\r\n     * returns whether the the given column is hidden or not\r\n     * @param responseColumn\r\n     */\r\n    LiveWorklistHelper.prototype.getCellVisibility = function (column) {\r\n        var isHidden = false;\r\n        var specialistResponseCC = (configurableCharacteristicsHelper.getExamSessionCCValue(configurableCharacteristicsNames.SpecialistResponseMarking, qigStore.instance.selectedQIGForMarkerOperation.examSessionId).toLowerCase() === 'true');\r\n        switch (column) {\r\n            case gridColumnNames.AbsoluteMarksDifference:\r\n            case gridColumnNames.TotalMarksDifference:\r\n            case gridColumnNames.AccuracyIndicator:\r\n                isHidden = markerOperationModeFactory.operationMode.isQualityFeedbackWorklistColumnsHidden;\r\n                break;\r\n            case gridColumnNames.SLAOIndicator:\r\n                isHidden = markerOperationModeFactory.operationMode.isSLAOIndicatorHidden(this.isStructuredQIG());\r\n                break;\r\n            case gridColumnNames.AllPageAnnotedIndicator:\r\n                isHidden = markerOperationModeFactory.operationMode.isAllPageAnnotedIndicatorHidden(this.isStructuredQIG());\r\n                break;\r\n            case gridColumnNames.LinkedExceptionIndicator:\r\n                isHidden = markerOperationModeFactory.operationMode.isLinkedExceptionIndicatorHidden;\r\n                break;\r\n            case gridColumnNames.TotalMark:\r\n                if (this.isNonNumeric() === true) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n            case gridColumnNames.ResponseTypeLabel:\r\n                isHidden = (this._responseType === enums.ResponseType.Seed) ?\r\n                    markerOperationModeFactory.operationMode.isSeedLabelHidden : false;\r\n                break;\r\n            case gridColumnNames.SampleLabel:\r\n                isHidden = markerOperationModeFactory.operationMode.isSampleLabelHidden(enums.WorklistType.live);\r\n                break;\r\n            case gridColumnNames.ReviewedByLabel:\r\n                isHidden = markerOperationModeFactory.operationMode.isReviewedByLabelHidden;\r\n                break;\r\n            case gridColumnNames.CentreNum:\r\n                isHidden = markerOperationModeFactory.operationMode.isHelpExaminersView ?\r\n                    true : markerOperationModeFactory.operationMode.shouldDisplayCenterNumber;\r\n                break;\r\n            case gridColumnNames.SpecialistType:\r\n                isHidden = !((examinerStore.instance.getMarkerInformation.isSpecialist\r\n                    || (qigStore.instance.selectedQIGForMarkerOperation &&\r\n                        qigStore.instance.selectedQIGForMarkerOperation.role === enums.ExaminerRole.principalExaminer))\r\n                    && specialistResponseCC);\r\n                break;\r\n            case gridColumnNames.SupervisorReviewComment:\r\n                isHidden = markerOperationModeFactory.operationMode.isSupervisorReviewCommentColumnHidden;\r\n                break;\r\n        }\r\n        return isHidden;\r\n    };\r\n    /**\r\n     * returns the grdicolumns based on the response mode and worklist type\r\n     * @param responseMode\r\n     */\r\n    LiveWorklistHelper.prototype.getGridColumns = function (resolvedGridColumnsJson, worklistType, responseMode, isFrozen) {\r\n        if (isFrozen === void 0) { isFrozen = false; }\r\n        var gridColumns;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                gridColumns = (isFrozen === false) ? resolvedGridColumnsJson.marking.liveworklist.open.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.liveworklist.open.frozenRows.GridColumns;\r\n                break;\r\n            case enums.ResponseMode.pending:\r\n                gridColumns = (isFrozen === false) ? resolvedGridColumnsJson.marking.liveworklist.pending.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.liveworklist.pending.frozenRows.GridColumns;\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                gridColumns = (isFrozen === false) ? resolvedGridColumnsJson.marking.liveworklist.closed.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.liveworklist.closed.frozenRows.GridColumns;\r\n                break;\r\n        }\r\n        return gridColumns;\r\n    };\r\n    /**\r\n     * returns the accuracy type based on accuracy  and CC values\r\n     * @param responseMode\r\n     * @param responseData\r\n     */\r\n    LiveWorklistHelper.prototype.getAccuracyType = function (responseMode, responseData) {\r\n        var accuracyType;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n            case enums.ResponseMode.pending:\r\n                accuracyType = enums.AccuracyIndicatorType.Unknown;\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                var qualityFeedbackCC = (configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.AutomaticQualityFeedback, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId) === 'true');\r\n                var isSeedResponse = (responseData.seedTypeId !== enums.SeedType.None) &&\r\n                    (responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown);\r\n                accuracyType = ((isSeedResponse === true && (qualityFeedbackCC === true ||\r\n                    markerOperationModeFactory.operationMode.isTeamManagementMode)) ?\r\n                    responseData.accuracyIndicatorTypeID : enums.AccuracyIndicatorType.Unknown);\r\n                break;\r\n        }\r\n        return accuracyType;\r\n    };\r\n    return LiveWorklistHelper;\r\n}(worklistHelperBase));\r\nmodule.exports = LiveWorklistHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4Mi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGhlbHBlcnMvbGl2ZXdvcmtsaXN0aGVscGVyLnRzPzliZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGdyaWRSb3cgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZHJvdycpO1xyXG5pbXBvcnQgSW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XHJcbmltcG9ydCBncmlkQ2VsbCA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9ncmlkY2VsbCcpO1xyXG5sZXQgd29ya2xpc3RHcmlkQ29sdW1uc0pzb24gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvd29ya2xpc3RncmlkY29sdW1ucy5qc29uJyk7XHJcbmltcG9ydCB3b3JrbGlzdFZhbGlkYXRvckZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy93b3JrbGlzdHZhbGlkYXRvcmZhY3RvcnknKTtcclxuaW1wb3J0IHdvcmtsaXN0VmFsaWRhdG9yTGlzdCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9ybGlzdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9lbnVtcycpO1xyXG5pbXBvcnQgZ3JpZENvbHVtbk5hbWVzID0gcmVxdWlyZSgnLi4vZ3JpZGNvbHVtbm5hbWVzJyk7XHJcbmltcG9ydCB3b3JrbGlzdEhlbHBlckJhc2UgPSByZXF1aXJlKCcuL3dvcmtsaXN0aGVscGVyYmFzZScpO1xyXG5pbXBvcnQgam9zblJlZlJlc29sdmVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9qc29ucmVmcmVzb2x2ZXIvam9zbnJlZnJlc29sdmVyJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcyA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMnKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzaGVscGVyJyk7XHJcbmltcG9ydCBxdWFsaXR5RmVlZGJhY2tIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3F1YWxpdHlmZWVkYmFjay9xdWFsaXR5ZmVlZGJhY2toZWxwZXInKTtcclxuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vbWFya2Vyb3BlcmF0aW9ubW9kZS9tYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeScpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IHRhZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3RvcmVzL3RhZ3MvdGFnc3RvcmUnKTtcclxuaW1wb3J0IGV4YW1pbmVyU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvbWFya2VyaW5mb3JtYXRpb24vZXhhbWluZXJzdG9yZScpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcblxyXG4vKipcclxuICogY2xhc3MgZm9yIFdvcmtMaXN0IEhlbHBlciBpbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuY2xhc3MgTGl2ZVdvcmtsaXN0SGVscGVyIGV4dGVuZHMgd29ya2xpc3RIZWxwZXJCYXNlIHtcclxuXHJcbiAgICAvKiB2YXJpYWJsZSB0byBob2xkcyB0aGUgcmVzcG9uc2UgdHlwZSBmb3Igc2hvd2luZyB0aGUgcmVzcG9uc2UgdHlwZSBsYWJlbCovXHJcbiAgICBwcml2YXRlIF9yZXNwb25zZVR5cGUgPSBlbnVtcy5SZXNwb25zZVR5cGUuTm9uZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlUm93RGVmaW5pb24gaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZFxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIGxpdmUgb3BlbiByZXNwb25zZXNcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVR5cGUgLSB0eXBlIG9mIHRoZSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIGdyaWRUeXBlIC0gdHlwZSBvZiBncmlkdmlldyB0aWxlL2RldGFpbFxyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdlbmVyYXRlUm93RGVmaW5pb24ocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlLFxyXG4gICAgICAgIHJlc3BvbnNlVHlwZTogZW51bXMuUmVzcG9uc2VNb2RlLFxyXG4gICAgICAgIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpvc25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyh3b3JrbGlzdEdyaWRDb2x1bW5zSnNvbik7XHJcblxyXG4gICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZVR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUub3BlbjpcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZ3JpZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkdyaWRUeXBlLmRldGFpbGVkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaW9uRm9yT3BlbkRldGFpbChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS50aWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvck9wZW5UaWxlZChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQ6XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGdyaWRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvckNsb3NlZERldGFpbChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS50aWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvckNsb3NlZFRpbGVkKHJlc3BvbnNlTGlzdERhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmc6XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGdyaWRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvclBlbmRpbmdEZXRhaWwocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUudGlsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JQZW5kaW5nVGlsZWQocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0Um93RGVmaW5pb25Gb3JMaXZlT3BlblRpbGVkIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWQgaW4gdGlsZWQgdmlld1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIGxpdmUgb3BlbiByZXNwb25zZXNcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb25Gb3JDbG9zZWRUaWxlZChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgbGV0IGlzU2VlZEhpZ2hsaWdodGVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCByZXNwb25zZUxpc3RDb3VudCA9IDA7IHJlc3BvbnNlTGlzdENvdW50IDwgX3Jlc3BvbnNlTGlzdERhdGEubGVuZ3RoOyByZXNwb25zZUxpc3RDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBkYXRhIHJvd1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogTGl2ZUNsb3NlZFJlc3BvbnNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGFzIExpdmVDbG9zZWRSZXNwb25zZTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPSAocmVzcG9uc2VEYXRhLmlzV2hvbGVSZXNwb25zZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5yZWxhdGVkUklHRGV0YWlscykgPyAwIDpcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcubGl2ZXdvcmtsaXN0LmNsb3NlZC50aWxldmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpc1NlZWRSZXNwb25zZTogYm9vbGVhbiA9IChyZXNwb25zZURhdGEgYXMgTGl2ZUNsb3NlZFJlc3BvbnNlKS5zZWVkVHlwZUlkICE9PSBlbnVtcy5TZWVkVHlwZS5Ob25lID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlSWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNwb25zZVR5cGUgPSB0aGlzLmdldFJlc3BvbnNlTGFiZWxUeXBlKHJlc3BvbnNlRGF0YSwgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1Jlc3BvbnNlSWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuXHRcdFx0XHRcdFx0XHRcdGtleSxcclxuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NlZWRSZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc3BvbnNlVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTWFya3NEaWZmZXJlbmNlOlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1NlZWRSZXNwb25zZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTWFya3NEaWZmZXJlbmNlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRNYXJrc0RpZmZlcmVuY2VDb2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgX3Jvd1N0eWxlOiBzdHJpbmcgPSB0aGlzLnNldFJvd1N0eWxlKEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPigpLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubm9uZSksXHJcbiAgICAgICAgICAgICAgICAgICAgaXNTZWVkUmVzcG9uc2UgPT09IHRydWUgPyByZXNwb25zZURhdGEuYWNjdXJhY3lJbmRpY2F0b3JUeXBlSUQgOiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93bik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc3BvbnNlVHlwZSAhPT0gZW51bXMuUmVzcG9uc2VUeXBlLk5vbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBfcm93U3R5bGUgKz0gJyBsYWJlbGVkJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNTZWVkUmVzcG9uc2UgJiYgdGhpcy5zaG93U2VlZExhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jvd1N0eWxlICs9ICcgc2VlZCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1NlZWRIaWdobGlnaHRlZFxyXG4gICAgICAgICAgICAgICAgICAgICYmIHF1YWxpdHlGZWVkYmFja0hlbHBlci5pc1NlZWROZWVkZWRUb0JlSGlnaGxpZ2h0ZWQocmVzcG9uc2VEYXRhLnF1YWxpdHlGZWVkYmFja1N0YXR1c0lkLCBpc1NlZWRSZXNwb25zZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfcm93U3R5bGUgKz0gJyBoaWdobGlnaHQtc2VlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTZWVkSGlnaGxpZ2h0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dTdHlsZShfcm93U3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd1RpdGxlKHRoaXMuc2V0Um93VGl0bGUocmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEKSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93SWQocGFyc2VGbG9hdChyZXNwb25zZURhdGEuZGlzcGxheUlkKSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Q2VsbHMoX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKF93b3JrbGlzdFJvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0Um93RGVmaW5pb25Gb3JMaXZlT3BlblRpbGVkIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWQgaW4gdGlsZWQgdmlld1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIGxpdmUgb3BlbiByZXNwb25zZXNcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb25Gb3JPcGVuVGlsZWQocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF0gY29sbGVjdGlvbiBpbnNpZGUgbG9vcCwgaXRzIGFjY2Vzc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkID0gKHJlc3BvbnNlRGF0YS5pc1dob2xlUmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEucmVsYXRlZFJJR0RldGFpbHMpID8gMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzID0gdGhpcy5nZXRSZXNwb25zZVN0YXR1cyhyZXNwb25zZURhdGEsIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcubGl2ZXdvcmtsaXN0Lm9wZW4udGlsZXZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgZnJlc2ggc2V0IG9mIGdyb3VwcyBmb3IgZXZlcnkgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbXB0eUdyb3VwQ29sdW1ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk1hcmtpbmdQcm9ncmVzczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTWFya2luZ1Byb2dyZXNzXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZ2V0TWFya2luZ1Byb2dyZXNzRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcEdyb3VwQ29sdW1ucygnd29ya2xpc3QtdGlsZS1mb290ZXInLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5SZXNwb25zZUlkQ29sdW1uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2VUeXBlID0gdGhpcy5nZXRSZXNwb25zZUxhYmVsVHlwZShyZXNwb25zZURhdGEsIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfUmVzcG9uc2VJZENvbHVtbl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRSZXNwb25zZUlkQ29sdW1uRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG5cdFx0XHRcdFx0XHRcdFx0a2V5LFxyXG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VMaXN0RGF0YS5oYXNOdW1lcmljTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUub3Blbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkRXhjZXB0aW9uSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRFeGNlcHRpb25fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG93IG9ubHkgaWYgdGhlcmUgYXJlIGJsb2NraW5nIGV4Y2VwdGlvbnMgb3Igem9uaW5nIGV4Y2VwdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZURhdGFbY29tcG9uZW50UHJvcHNKc29uLmhhc0Jsb2NraW5nRXhjZXB0aW9uc11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCByZXNwb25zZURhdGFbY29tcG9uZW50UHJvcHNKc29uLmhhc1pvbmluZ0V4Y2VwdGlvbnNdKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5nZXRMaW5rZWRFeGNlcHRpb25FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwR3JvdXBDb2x1bW5zKCdpY29uLWhvbGRlcicsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxQYWdlQW5ub3RhdGVkXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFubm90YXRpb24gaW5kaWNhdG9yIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWxsUGFnZUVsZW1lbnQgPSB0aGlzLmdldEFsbFBhZ2VBbm5vdGF0aW9uSW5kaWNhdG9yRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2tpbmcgd2hldGhlciB0aGUgaW5kaWNhdG9yIGlzIHZhbGlkIHRvIGRpc3BsYXkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsUGFnZUVsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwR3JvdXBDb2x1bW5zKCdpY29uLWhvbGRlcicsIGFsbFBhZ2VFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxGaWxlc05vdFZpZXdlZEluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbGxGaWxlc05vdFZpZXdlZEVsZW1lbnQgPSAodGhpcy5nZXRBbGxGaWxlc05vdFZpZXdlZEluZGljYXRvckVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwR3JvdXBDb2x1bW5zKCd3b3JrbGlzdC10aWxlLWZvb3RlcicsIGFsbEZpbGVzTm90Vmlld2VkRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBlbGVtZW50cyBxdWV1ZWQgdG8gZ3JvdXAsIHRoZW4gZ3JvdXAgdGhlIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXBDb2x1bW5zKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1RpbGVfR3JvdXBfJztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdyb3VwQ29sdW1uRWxlbWVudHMoJ3dvcmtsaXN0LXRpbGUtZm9vdGVyJywga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBfcm93U3R5bGU6IHN0cmluZyA9IHRoaXMuc2V0Um93U3R5bGUocmVzcG9uc2VTdGF0dXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZXNwb25zZVR5cGUgIT09IGVudW1zLlJlc3BvbnNlVHlwZS5Ob25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jvd1N0eWxlICs9ICcgbGFiZWxlZCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd1N0eWxlKF9yb3dTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93SWQocGFyc2VGbG9hdChyZXNwb25zZURhdGEuZGlzcGxheUlkKSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Q2VsbHMoX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKF93b3JrbGlzdFJvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0Um93RGVmaW5pb25Gb3JMaXZlT3BlbkRldGFpbCBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkIGluIGRldGFpbCB2aWV3XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YSAtIGxpc3Qgb2YgbGl2ZSBvcGVuIHJlc3BvbnNlc1xyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvckNsb3NlZERldGFpbChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtsaXN0Um93OiBncmlkUm93O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQga2V5OiBzdHJpbmc7XHJcbiAgICAgICAgLy8gR3JpZCBjb2x1bW5zXHJcbiAgICAgICAgbGV0IGdyaWRMZWZ0Q29sdW1uID0gQXJyYXk8SlNYLkVsZW1lbnQ+KCk7XHJcbiAgICAgICAgbGV0IGdyaWRNaWRkbGVDb2x1bW4gPSBBcnJheTxKU1guRWxlbWVudD4oKTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGNzc0NsYXNzOiBzdHJpbmc7XHJcbiAgICAgICAgbGV0IGlzUmVzcG9uc2VUeXBlTGFiZWxWaXNpYmxlOiBib29sZWFuO1xyXG4gICAgICAgIGxldCBpc1NlZWRSZXNwb25zZTogYm9vbGVhbjtcclxuICAgICAgICBsZXQgaXNTZWVkSGlnaGxpZ2h0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZUxpc3RMZW5ndGggPSBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICB0aGlzLnJlc2V0RHluYW1pY0NvbHVtblNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCByZXNwb25zZUxpc3RMZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcubGl2ZXdvcmtsaXN0LmNsb3NlZC5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF0gY29sbGVjdGlvbiBpbnNpZGUgbG9vcCwgaXRzIGFjY2Vzc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkID0gKHJlc3BvbnNlRGF0YS5pc1dob2xlUmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEucmVsYXRlZFJJR0RldGFpbHMpID8gMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzID0gdGhpcy5nZXRSZXNwb25zZVN0YXR1cyhyZXNwb25zZURhdGEsIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGdyaWRMZWZ0Q29sdW1uID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICBncmlkTWlkZGxlQ29sdW1uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFyazpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfVG90YWxNYXJrXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRUb3RhbE1hcmtFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUxpc3REYXRhLmhhc051bWVyaWNNYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEubWF4aW11bU1hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNwZWNpYWxpc3RUeXBlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TcGVjaWFsaXN0VHlwZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLnNwZWNpYWxpc3RUeXBlID09PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zcGVjaWFsaXN0dHlwZS0nICsgcmVzcG9uc2VEYXRhLnNwZWNpYWxpc3RUeXBlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEuc3BlY2lhbGlzdHR5cGUtJyArIHJlc3BvbnNlRGF0YS5zcGVjaWFsaXN0VHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXNwb25zZURhdGEuc3BlY2lhbGlzdFR5cGUgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MYXN0VXBkYXRlZENvbHVtbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGFzdFVwZGF0ZWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldExhc3RVcGRhdGVkRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkTWVzc2FnZUluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGlua2VkTWVzc2FnZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlua2VkTWVzc2FnZUVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLCBrZXksIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkRXhjZXB0aW9uSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGlua2VkRXhjZXB0aW9uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmtlZEV4Y2VwdGlvbkVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sIGtleSwgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmVzcG9uc2VUeXBlTGFiZWw6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNwb25zZVR5cGUgPSB0aGlzLmdldFJlc3BvbnNlTGFiZWxUeXBlKHJlc3BvbnNlRGF0YSBhcyBMaXZlQ2xvc2VkUmVzcG9uc2UsIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXNwb25zZVR5cGVMYWJlbFZpc2libGUgPSB0aGlzLl9yZXNwb25zZVR5cGUgIT09IGVudW1zLlJlc3BvbnNlVHlwZS5Ob25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZXNwb25zZVR5cGVMYWJlbF8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFJlc3BvbnNlVHlwZUxhYmVsKGtleSwgaXNSZXNwb25zZVR5cGVMYWJlbFZpc2libGUsIHRoaXMuX3Jlc3BvbnNlVHlwZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNTZWVkSGlnaGxpZ2h0ZWQgJiYgcXVhbGl0eUZlZWRiYWNrSGVscGVyLmlzU2VlZE5lZWRlZFRvQmVIaWdobGlnaHRlZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2VEYXRhIGFzIExpdmVDbG9zZWRSZXNwb25zZSkucXVhbGl0eUZlZWRiYWNrU3RhdHVzSWQsIGlzUmVzcG9uc2VUeXBlTGFiZWxWaXNpYmxlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzID0gJ2hpZ2hsaWdodC1zZWVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NlZWRIaWdobGlnaHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWNjdXJhY3lJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhY2N1cmFjeSBpbmRpY2F0b3IgaXMgc2hvd24gb25seSB3aGVuIGl0cyB2YWx1ZXMgaXMgc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NlZWRSZXNwb25zZSA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTZWVkUmVzcG9uc2UocmVzcG9uc2VEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1NlZWRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWNjdXJhY3lJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBY2N1cmFjeUluZGljYXRvckVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VlZFJlc3BvbnNlID0gbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1NlZWRSZXNwb25zZShyZXNwb25zZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VlZFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldE1hcmtzRGlmZmVyZW5jZUVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuTWFya3NEaWZmZXJlbmNlVHlwZS5BYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Ub3RhbE1hcmtzRGlmZmVyZW5jZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VlZFJlc3BvbnNlID0gbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1NlZWRSZXNwb25zZShyZXNwb25zZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VlZFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19Ub3RhbE1hcmtzRGlmZmVyZW5jZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldE1hcmtzRGlmZmVyZW5jZUVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuTWFya3NEaWZmZXJlbmNlVHlwZS5Ub3RhbE1hcmtzRGlmZmVyZW5jZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TYW1wbGVMYWJlbDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfU2FtcGxlTGFiZWxfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFNhbXBsZUxhYmVsKGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuc2FtcGxlQ29tbWVudElkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmV2aWV3ZWRCeUxhYmVsOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZXZpZXdlZEJ5TGFiZWxfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFJldmlld2VkQnlMYWJlbChrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlTnVtOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLnNob3VsZERpc3BsYXlDZW50ZXJOdW1iZXIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1NlZWRSZXNwb25zZShyZXNwb25zZURhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19DZW50cmVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLmNlbnRyZU51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVGFnSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19UYWdJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRhZyhrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnRhZ0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ1N0b3JlLmluc3RhbmNlLnRhZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtHcm91cElkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU3VwZXJ2aXNvclJldmlld0NvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1N1cGVydmlzb3JSZXZpZXdDb21tZW50XycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTdXBlcnZpc29yUmV2aWV3Q29tbWVudChrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmlzSGlkZGVuID0gdGhpcy5nZXRDZWxsVmlzaWJpbGl0eShfcmVzcG9uc2VDb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPSAoZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcykgPyBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEFjY3VyYWN5VHlwZShlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLCByZXNwb25zZURhdGEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSByZXNwb25zZSBsYWJlbCB0eXBlIGZvciB3b3JrbGlzdFxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlRGF0YVxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTW9kZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJlc3BvbnNlTGFiZWxUeXBlKHJlc3BvbnNlRGF0YSwgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUpOiBlbnVtcy5SZXNwb25zZVR5cGUge1xyXG5cclxuICAgICAgICBsZXQgaXNQRU9yQVBFID0gbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1NlbGVjdGVkRXhhbWluZXJQRU9yQVBFO1xyXG4gICAgICAgIGxldCBpc1NUTTogYm9vbGVhbiA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNMb2dnZWRJbkV4YW1pbmVyU1RNO1xyXG5cclxuICAgICAgICBsZXQgc2hvd1NlZWRSZXNwb25zTGFiZWw6IGJvb2xlYW4gPSByZXNwb25zZURhdGEuc2VlZFR5cGVJZCAhPT0gZW51bXMuU2VlZFR5cGUuTm9uZTtcclxuXHJcbiAgICAgICAgbGV0IHNob3dQcm9tb3RlZFNlZWRSZXNwb25zZUxhYmVsOiBib29sZWFuID0gcmVzcG9uc2VEYXRhLmlzQ3VycmVudE1hcmtHcm91cFByb21vdGVkQXNTZWVkICYmIGlzU1RNO1xyXG5cclxuICAgICAgICBsZXQgc2hvd0RlZmluaXRpdmVSZXNwb25zZUxhYmVsOiBib29sZWFuO1xyXG5cclxuICAgICAgICBpZiAoKHJlc3BvbnNlRGF0YSkuaXNXaG9sZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbnVtcy5SZXNwb25zZVR5cGUuV2hvbGVSZXNwb25zZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZURhdGEuaXNQcm9tb3RlZFNlZWQpIHtcclxuICAgICAgICAgICAgc2hvd0RlZmluaXRpdmVSZXNwb25zZUxhYmVsID0gcmVzcG9uc2VEYXRhLmlzQ3VycmVudE1hcmtHcm91cFByb21vdGVkQXNTZWVkICYmIGlzUEVPckFQRTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzaG93RGVmaW5pdGl2ZVJlc3BvbnNlTGFiZWwgPSByZXNwb25zZURhdGEuaGFzRGVmaW5pdGl2ZU1hcmtzICYmIGlzUEVPckFQRTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZU1vZGUgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzaG93U2VlZFJlc3BvbnNMYWJlbCA/IGVudW1zLlJlc3BvbnNlVHlwZS5TZWVkIDogZW51bXMuUmVzcG9uc2VUeXBlLk5vbmU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNob3dTZWVkUmVzcG9uc0xhYmVsID8gZW51bXMuUmVzcG9uc2VUeXBlLlNlZWRcclxuICAgICAgICAgICAgICAgIDogc2hvd0RlZmluaXRpdmVSZXNwb25zZUxhYmVsID8gZW51bXMuUmVzcG9uc2VUeXBlLkRlZmluaXRpdmVcclxuICAgICAgICAgICAgICAgICAgICA6IHNob3dQcm9tb3RlZFNlZWRSZXNwb25zZUxhYmVsID8gZW51bXMuUmVzcG9uc2VUeXBlLlByb21vdGVkU2VlZCA6IGVudW1zLlJlc3BvbnNlVHlwZS5Ob25lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldFJvd0RlZmluaW9uRm9yTGl2ZU9wZW5EZXRhaWwgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZCBpbiBkZXRhaWwgdmlld1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIGxpdmUgb3BlbiByZXNwb25zZXNcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb25Gb3JPcGVuRGV0YWlsKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQga2V5OiBzdHJpbmc7XHJcbiAgICAgICAgbGV0IGlzU2VlZFJlc3BvbnNlOiBib29sZWFuO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlTGlzdExlbmd0aCA9IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy5yZXNldER5bmFtaWNDb2x1bW5TZXR0aW5ncygpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCByZXNwb25zZUxpc3RDb3VudCA9IDA7IHJlc3BvbnNlTGlzdENvdW50IDwgcmVzcG9uc2VMaXN0TGVuZ3RoOyByZXNwb25zZUxpc3RDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBkYXRhIHJvd1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLmxpdmV3b3JrbGlzdC5vcGVuLmRldGFpbHZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5saXZld29ya2xpc3Qub3Blbi5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF0gY29sbGVjdGlvbiBpbnNpZGUgbG9vcCwgaXRzIGFjY2Vzc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkID0gKHJlc3BvbnNlRGF0YS5pc1dob2xlUmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEucmVsYXRlZFJJR0RldGFpbHMpID8gMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzID0gdGhpcy5nZXRSZXNwb25zZVN0YXR1cyhyZXNwb25zZURhdGEsIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTWFya2luZ1Byb2dyZXNzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19NYXJraW5nUHJvZ3Jlc3NfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldE1hcmtpbmdQcm9ncmVzc0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuV29ya2xpc3RUeXBlLmxpdmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TcGVjaWFsaXN0VHlwZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfU3BlY2lhbGlzdFR5cGVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5zcGVjaWFsaXN0VHlwZSA9PT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEuc3BlY2lhbGlzdHR5cGUtJyArIHJlc3BvbnNlRGF0YS5zcGVjaWFsaXN0VHlwZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnNwZWNpYWxpc3R0eXBlLScgKyByZXNwb25zZURhdGEuc3BlY2lhbGlzdFR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzcG9uc2VEYXRhLnNwZWNpYWxpc3RUeXBlICxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVG90YWxNYXJrOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19Ub3RhbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRvdGFsTWFya0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5tYXhpbXVtTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxvY2F0ZWREYXRlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxvY2F0ZWREYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBbGxvY2F0ZWREYXRlKHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsUGFnZUFubm90ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbFBhZ2VBbm5vdGF0ZWRJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFsbFBhZ2VBbm5vdGF0ZWRJbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MaW5rZWRNZXNzYWdlSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRNZXNzYWdlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMaW5rZWRNZXNzYWdlRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZEV4Y2VwdGlvbkluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGlua2VkRXhjZXB0aW9uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMaW5rZWRFeGNlcHRpb25FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmVzcG9uc2VUeXBlTGFiZWw6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNwb25zZVR5cGUgPSB0aGlzLmdldFJlc3BvbnNlTGFiZWxUeXBlKHJlc3BvbnNlRGF0YSBhcyBMaXZlT3BlblJlc3BvbnNlLCBlbnVtcy5SZXNwb25zZU1vZGUub3Blbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NlZWRSZXNwb25zZSA9IHRoaXMuX3Jlc3BvbnNlVHlwZSAhPT0gZW51bXMuUmVzcG9uc2VUeXBlLk5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1Jlc3BvbnNlVHlwZUxhYmVsXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRSZXNwb25zZVR5cGVMYWJlbChrZXksIGlzU2VlZFJlc3BvbnNlLCB0aGlzLl9yZXNwb25zZVR5cGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TYW1wbGVMYWJlbDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfU2FtcGxlTGFiZWxfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFNhbXBsZUxhYmVsKGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuc2FtcGxlQ29tbWVudElkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVGFnSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19UYWdJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRhZyhrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnRhZ0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ1N0b3JlLmluc3RhbmNlLnRhZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtHcm91cElkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBbGxGaWxlc05vdFZpZXdlZEluZGljYXRvckVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmlzSGlkZGVuID0gdGhpcy5nZXRDZWxsVmlzaWJpbGl0eShfcmVzcG9uc2VDb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPSAoZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcykgPyBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBhZGRpdGlvbmFsQ29tcG9uZW50ID0gdGhpcy5yZW5kZXJRdWFsaXR5RmVlZGJhY2tCYW5uZXIocmVzcG9uc2VMaXN0Q291bnQsIGVudW1zLldvcmtsaXN0VHlwZS5saXZlKTtcclxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEFjY3VyYWN5VHlwZShlbnVtcy5SZXNwb25zZU1vZGUub3BlbiwgcmVzcG9uc2VEYXRhKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbENvbXBvbmVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSByb3cgZGVmZW5pdGlvbnMgZm9yIHBlbmRpbmcgZGV0YWlsZWQgd29ya2xpc3QgaW4gbGl2ZVxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGFcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvclBlbmRpbmdEZXRhaWwocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBpc1Jlc3BvbnNlVHlwZUxhYmVsVmlzaWJsZTogYm9vbGVhbjtcclxuICAgICAgICAvLyBHcmlkIGNvbHVtbnNcclxuICAgICAgICBsZXQgZ3JpZExlZnRDb2x1bW4gPSBBcnJheTxKU1guRWxlbWVudD4oKTtcclxuICAgICAgICBsZXQgZ3JpZE1pZGRsZUNvbHVtbiA9IEFycmF5PEpTWC5FbGVtZW50PigpO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZUxpc3RMZW5ndGggPSBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0RHluYW1pY0NvbHVtblNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCByZXNwb25zZUxpc3RMZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcubGl2ZXdvcmtsaXN0LnBlbmRpbmcuZGV0YWlsdmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9IChyZXNwb25zZURhdGEuaXNXaG9sZVJlc3BvbnNlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnJlbGF0ZWRSSUdEZXRhaWxzKSA/IDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVN0YXR1cyA9IHRoaXMuZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhLCBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFyazpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdUb3RhbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRvdGFsTWFya0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5tYXhpbXVtTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU3BlY2lhbGlzdFR5cGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NwZWNpYWxpc3RUeXBlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEuc3BlY2lhbGlzdFR5cGUgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnNwZWNpYWxpc3R0eXBlLScgKyByZXNwb25zZURhdGEuc3BlY2lhbGlzdFR5cGUpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zcGVjaWFsaXN0dHlwZS0nICsgcmVzcG9uc2VEYXRhLnNwZWNpYWxpc3RUeXBlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlc3BvbnNlRGF0YS5zcGVjaWFsaXN0VHlwZSAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxhc3RVcGRhdGVkQ29sdW1uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MYXN0VXBkYXRlZENvbHVtbl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0TGFzdFVwZGF0ZWRFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nLCB0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkTWVzc2FnZUluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdMaW5rZWRNZXNzYWdlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMaW5rZWRNZXNzYWdlRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sIGtleSwgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MaW5rZWRFeGNlcHRpb25JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnTGlua2VkRXhjZXB0aW9uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMaW5rZWRFeGNlcHRpb25FbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiwga2V5LCBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkdyYWNlUGVyaW9kVGltZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdHcmFjZVBlcmlvZFRpbWVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyYWNlUGVyaW9kRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSwgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmVzcG9uc2VUeXBlTGFiZWw6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgcGVuZGluZyB0YWIgdGhlcmUgaXMgb25seSB3aG9sZSByZXNwb25lcyBsYWJlbCBpcyB1c2VkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNwb25zZVR5cGUgPSB0aGlzLmdldFJlc3BvbnNlTGFiZWxUeXBlKHJlc3BvbnNlRGF0YSBhcyBMaXZlT3BlblJlc3BvbnNlLCBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Jlc3BvbnNlVHlwZUxhYmVsVmlzaWJsZSA9IHRoaXMuX3Jlc3BvbnNlVHlwZSA9PT0gZW51bXMuUmVzcG9uc2VUeXBlLldob2xlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1Jlc3BvbnNlVHlwZUxhYmVsXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRSZXNwb25zZVR5cGVMYWJlbChrZXksIGlzUmVzcG9uc2VUeXBlTGFiZWxWaXNpYmxlLCB0aGlzLl9yZXNwb25zZVR5cGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TYW1wbGVMYWJlbDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfU2FtcGxlTGFiZWxfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFNhbXBsZUxhYmVsKGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuc2FtcGxlQ29tbWVudElkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVGFnSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19UYWdJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRhZyhrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnRhZ0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ1N0b3JlLmluc3RhbmNlLnRhZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtHcm91cElkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5pc0hpZGRlbiA9IHRoaXMuZ2V0Q2VsbFZpc2liaWxpdHkoX3Jlc3BvbnNlQ29sdW1uKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYWRkaXRpb25hbENvbXBvbmVudCA9IHRoaXMucmVuZGVyUXVhbGl0eUZlZWRiYWNrQmFubmVyKHJlc3BvbnNlTGlzdENvdW50LCBlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuZGlzcGxheUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRBY2N1cmFjeVR5cGUoZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcsIHJlc3BvbnNlRGF0YSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxDb21wb25lbnQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgcm93IGRlZmVuaXRpb25zIGZvciBwZW5kaW5nIHRpbGVkIHdvcmtsaXN0IGluIGxpdmVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb25Gb3JQZW5kaW5nVGlsZWQocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF0gY29sbGVjdGlvbiBpbnNpZGUgbG9vcCwgaXRzIGFjY2Vzc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkID0gKHJlc3BvbnNlRGF0YS5pc1dob2xlUmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEucmVsYXRlZFJJR0RldGFpbHMpID8gMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLmxpdmV3b3JrbGlzdC5wZW5kaW5nLnRpbGV2aWV3LkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5SZXNwb25zZUlkQ29sdW1uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2VUeXBlID0gdGhpcy5nZXRSZXNwb25zZUxhYmVsVHlwZShyZXNwb25zZURhdGEgYXMgTGl2ZU9wZW5SZXNwb25zZSwgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ1Jlc3BvbnNlSWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuXHRcdFx0XHRcdFx0XHRcdGtleSxcclxuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkdyYWNlUGVyaW9kVGltZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdHcmFjZVBlcmlvZFRpbWVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0QWxsb2NhdGVkRGF0ZUVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTWFya3NEaWZmZXJlbmNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19NYXJrc0RpZmZlcmVuY2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0TWFya3NEaWZmZXJlbmNlQ29sdW1uRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBfcm93U3R5bGU6IHN0cmluZyA9IHRoaXMuc2V0Um93U3R5bGUoSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCkucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub25lKSwgdW5kZWZpbmVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVzcG9uc2VUeXBlICE9PSBlbnVtcy5SZXNwb25zZVR5cGUuTm9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yb3dTdHlsZSArPSAnIGxhYmVsZWQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dTdHlsZShfcm93U3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd1RpdGxlKHRoaXMuc2V0Um93VGl0bGUocmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEKSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93SWQocGFyc2VGbG9hdChyZXNwb25zZURhdGEuZGlzcGxheUlkKSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Q2VsbHMoX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKF93b3JrbGlzdFJvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcmVzcG9zbmUgc3RhdXMgYmFzZWQgb24gdGhlIHdvcmtsaXN0IGFuZCBpdHMgdmFsaWRhdG9yIHR5cGVcclxuICAgICAqIEBwYXJhbSB3b3JrbGlzdFR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldFJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSk6XHJcbiAgICAgICAgSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+IHtcclxuXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz47XHJcbiAgICAgICAgcmVzcG9uc2VTdGF0dXMgPSB3b3JrbGlzdFZhbGlkYXRvckZhY3RvcnkuZ2V0VmFsaWRhdG9yKHdvcmtsaXN0VmFsaWRhdG9yTGlzdC5saXZlT3BlbikuXHJcbiAgICAgICAgICAgIHN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlRGF0YSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXNwb25zZVN0YXR1cztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgd2hldGhlciB0aGUgdGhlIGdpdmVuIGNvbHVtbiBpcyBoaWRkZW4gb3Igbm90XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VDb2x1bW5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldENlbGxWaXNpYmlsaXR5KGNvbHVtbjogc3RyaW5nKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGxldCBpc0hpZGRlbjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBzcGVjaWFsaXN0UmVzcG9uc2VDQyA9IChjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0RXhhbVNlc3Npb25DQ1ZhbHVlKFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcy5TcGVjaWFsaXN0UmVzcG9uc2VNYXJraW5nLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtU2Vzc2lvbklkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGNvbHVtbikge1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZTpcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVG90YWxNYXJrc0RpZmZlcmVuY2U6XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFjY3VyYWN5SW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzUXVhbGl0eUZlZWRiYWNrV29ya2xpc3RDb2x1bW5zSGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNMQU9JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTTEFPSW5kaWNhdG9ySGlkZGVuKHRoaXMuaXNTdHJ1Y3R1cmVkUUlHKCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzQWxsUGFnZUFubm90ZWRJbmRpY2F0b3JIaWRkZW4odGhpcy5pc1N0cnVjdHVyZWRRSUcoKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkRXhjZXB0aW9uSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzTGlua2VkRXhjZXB0aW9uSW5kaWNhdG9ySGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFyazpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTm9uTnVtZXJpYygpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNIaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlVHlwZUxhYmVsOlxyXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSAodGhpcy5fcmVzcG9uc2VUeXBlID09PSBlbnVtcy5SZXNwb25zZVR5cGUuU2VlZCkgP1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTZWVkTGFiZWxIaWRkZW4gOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TYW1wbGVMYWJlbDpcclxuICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1NhbXBsZUxhYmVsSGlkZGVuKGVudW1zLldvcmtsaXN0VHlwZS5saXZlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5SZXZpZXdlZEJ5TGFiZWw6XHJcbiAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNSZXZpZXdlZEJ5TGFiZWxIaWRkZW47XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlTnVtOlxyXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzSGVscEV4YW1pbmVyc1ZpZXcgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlIDogbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5zaG91bGREaXNwbGF5Q2VudGVyTnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNwZWNpYWxpc3RUeXBlOlxyXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSAhKChleGFtaW5lclN0b3JlLmluc3RhbmNlLmdldE1hcmtlckluZm9ybWF0aW9uLmlzU3BlY2lhbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgIHx8IChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLnJvbGUgPT09IGVudW1zLkV4YW1pbmVyUm9sZS5wcmluY2lwYWxFeGFtaW5lcikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHNwZWNpYWxpc3RSZXNwb25zZUNDICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU3VwZXJ2aXNvclJldmlld0NvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTdXBlcnZpc29yUmV2aWV3Q29tbWVudENvbHVtbkhpZGRlbjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGlzSGlkZGVuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgZ3JkaWNvbHVtbnMgYmFzZWQgb24gdGhlIHJlc3BvbnNlIG1vZGUgYW5kIHdvcmtsaXN0IHR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldEdyaWRDb2x1bW5zKHJlc29sdmVkR3JpZENvbHVtbnNKc29uOiBhbnksIHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlLCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBpc0Zyb3plbjogYm9vbGVhbiA9IGZhbHNlKSB7XHJcblxyXG4gICAgICAgIGxldCBncmlkQ29sdW1uczogYW55O1xyXG4gICAgICAgIHN3aXRjaCAocmVzcG9uc2VNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1ucyA9IChpc0Zyb3plbiA9PT0gZmFsc2UpID8gcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5saXZld29ya2xpc3Qub3Blbi5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLmxpdmV3b3JrbGlzdC5vcGVuLmZyb3plblJvd3MuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZzpcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgPyByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLmxpdmV3b3JrbGlzdC5wZW5kaW5nLmRldGFpbHZpZXcuR3JpZENvbHVtbnNcclxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcubGl2ZXdvcmtsaXN0LnBlbmRpbmcuZnJvemVuUm93cy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQ6XHJcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1ucyA9IChpc0Zyb3plbiA9PT0gZmFsc2UpID8gcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5saXZld29ya2xpc3QuY2xvc2VkLmRldGFpbHZpZXcuR3JpZENvbHVtbnNcclxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcubGl2ZXdvcmtsaXN0LmNsb3NlZC5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZ3JpZENvbHVtbnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBhY2N1cmFjeSB0eXBlIGJhc2VkIG9uIGFjY3VyYWN5ICBhbmQgQ0MgdmFsdWVzXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VNb2RlXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VEYXRhXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRBY2N1cmFjeVR5cGUocmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUsIHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlKTogZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlIHtcclxuXHJcbiAgICAgICAgbGV0IGFjY3VyYWN5VHlwZTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZU1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUub3BlbjpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZzpcclxuICAgICAgICAgICAgICAgIGFjY3VyYWN5VHlwZSA9IGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5Vbmtub3duO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQ6XHJcbiAgICAgICAgICAgICAgICBsZXQgcXVhbGl0eUZlZWRiYWNrQ0MgPSAoY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuQXV0b21hdGljUXVhbGl0eUZlZWRiYWNrLFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkKSA9PT0gJ3RydWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgaXNTZWVkUmVzcG9uc2UgPSAoKHJlc3BvbnNlRGF0YSBhcyBMaXZlQ2xvc2VkUmVzcG9uc2UpLnNlZWRUeXBlSWQgIT09IGVudW1zLlNlZWRUeXBlLk5vbmUpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlRGF0YS5hY2N1cmFjeUluZGljYXRvclR5cGVJRCAhPT0gZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLlVua25vd24pO1xyXG5cclxuICAgICAgICAgICAgICAgIGFjY3VyYWN5VHlwZSA9ICgoaXNTZWVkUmVzcG9uc2UgPT09IHRydWUgJiYgKHF1YWxpdHlGZWVkYmFja0NDID09PSB0cnVlIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1RlYW1NYW5hZ2VtZW50TW9kZSkpID9cclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuYWNjdXJhY3lJbmRpY2F0b3JUeXBlSUQgOiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93bik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhY2N1cmFjeVR5cGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IExpdmVXb3JrbGlzdEhlbHBlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3dvcmtsaXN0aGVscGVycy9saXZld29ya2xpc3RoZWxwZXIudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7O0FBa2lDQTtBQWhpQ0E7Ozs7OztBQU1BO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1183:
/* no static exports found */
/* all exports used */
/*!***********************************************************************************!*\
  !*** ./src/components/utility/grid/worklisthelpers/markingcheckworklisthelper.ts ***!
  \***********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar worklistHelperBase = __webpack_require__(/*! ./worklisthelperbase */ 458);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\nvar josnRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar worklistValidatorList = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorlist */ 304);\r\nvar worklistValidatorFactory = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorfactory */ 319);\r\nvar worklistGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/worklistgridcolumns.json */ 449);\r\n/**\r\n * class for Marking Check WorkList Helper implementation\r\n */\r\nvar MarkingCheckWorklistHelper = /** @class */ (function (_super) {\r\n    __extends(MarkingCheckWorklistHelper, _super);\r\n    function MarkingCheckWorklistHelper() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * GenerateRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param responseListData - list of live open responses\r\n     * @param responseType - type of the response\r\n     * @param gridType - type of gridview tile/detail\r\n     * @returns grid row collection.\r\n     */\r\n    MarkingCheckWorklistHelper.prototype.generateRowDefinion = function (responseListData, responseType, gridType) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(worklistGridColumnsJson);\r\n        this._immutableWorkListCollection = Immutable.List();\r\n        switch (responseType) {\r\n            case enums.ResponseMode.open:\r\n                if (gridType === enums.GridType.detailed) {\r\n                    this._immutableWorkListCollection = this.getRowDefinionForOpenDetail(responseListData);\r\n                }\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                if (gridType === enums.GridType.detailed) {\r\n                    this._immutableWorkListCollection = this.getRowDefinionForClosedDetail(responseListData);\r\n                }\r\n                break;\r\n            case enums.ResponseMode.pending:\r\n                if (gridType === enums.GridType.detailed) {\r\n                    this._immutableWorkListCollection = this.getRowDefinionForPendingDetail(responseListData);\r\n                }\r\n                break;\r\n        }\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForLiveOpenDetail is used for generating row collection for closed WorkList Grid in detail view\r\n     * @param responseListData - list of live open responses\r\n     * @returns grid row collection.\r\n     */\r\n    MarkingCheckWorklistHelper.prototype.getRowDefinionForClosedDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var key;\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _workListCell;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.markingcheckworklist.closed.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.closed);\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            if (this.isNonNumeric() === true) {\r\n                                _workListCell.isHidden = true;\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.closed, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                    }\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.closed, responseData), undefined));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForLiveOpenDetail is used for generating row collection for open WorkList Grid in detail view\r\n     * @param responseListData - list of live open responses\r\n     * @returns grid row collection.\r\n     */\r\n    MarkingCheckWorklistHelper.prototype.getRowDefinionForOpenDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.markingcheckworklist.open.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.live, false));\r\n                            break;\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            if (this.isNonNumeric() === true) {\r\n                                _workListCell.isHidden = true;\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.open, true));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllocatedDate(responseData, componentPropsJson, key, true));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                    }\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                var additionalComponent = this.renderQualityFeedbackBanner(responseListCount, enums.WorklistType.live);\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.open, responseData), additionalComponent));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * Generate row defenitions for pending detailed worklist in live\r\n     * @param responseListData\r\n     */\r\n    MarkingCheckWorklistHelper.prototype.getRowDefinionForPendingDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var key;\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _workListCell;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.markingcheckworklist.pending.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.pending);\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + 'TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            if (this.isNonNumeric() === true) {\r\n                                _workListCell.isHidden = true;\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.pending, true));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + 'LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.GracePeriodTime:\r\n                            key = gridSeq.get(responseListCount) + 'GracePeriodTime_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGracePeriodElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                    }\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                var additionalComponent = this.renderQualityFeedbackBanner(responseListCount, enums.WorklistType.live);\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.pending, responseData), additionalComponent));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * returns the response status based on the worklist and its validator type\r\n     * @param worklistType\r\n     * @param responseMode\r\n     */\r\n    MarkingCheckWorklistHelper.prototype.getResponseStatus = function (responseData, responseMode) {\r\n        var responseStatus;\r\n        responseStatus = worklistValidatorFactory.getValidator(worklistValidatorList.liveOpen).\r\n            submitButtonValidate(responseData);\r\n        return responseStatus;\r\n    };\r\n    /**\r\n     * returns the gridcolumns based on the response mode and worklist type\r\n     * @param responseMode\r\n     */\r\n    MarkingCheckWorklistHelper.prototype.getGridColumns = function (resolvedGridColumnsJson, worklistType, responseMode, isFrozen) {\r\n        if (isFrozen === void 0) { isFrozen = false; }\r\n        var gridColumns;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                gridColumns = (isFrozen === false) ? resolvedGridColumnsJson.marking.markingcheckworklist.open.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.markingcheckworklist.open.frozenRows.GridColumns;\r\n                break;\r\n            case enums.ResponseMode.pending:\r\n                gridColumns = (isFrozen === false) ? resolvedGridColumnsJson.marking.markingcheckworklist.pending.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.markingcheckworklist.pending.frozenRows.GridColumns;\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                gridColumns = (isFrozen === false) ? resolvedGridColumnsJson.marking.markingcheckworklist.closed.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.markingcheckworklist.closed.frozenRows.GridColumns;\r\n                break;\r\n        }\r\n        return gridColumns;\r\n    };\r\n    return MarkingCheckWorklistHelper;\r\n}(worklistHelperBase));\r\nmodule.exports = MarkingCheckWorklistHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4My5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGhlbHBlcnMvbWFya2luZ2NoZWNrd29ya2xpc3RoZWxwZXIudHM/MzFlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9lbnVtcycpO1xyXG5pbXBvcnQgSW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XHJcbmltcG9ydCBncmlkQ29sdW1uTmFtZXMgPSByZXF1aXJlKCcuLi9ncmlkY29sdW1ubmFtZXMnKTtcclxuaW1wb3J0IGdyaWRSb3cgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZHJvdycpO1xyXG5pbXBvcnQgd29ya2xpc3RIZWxwZXJCYXNlID0gcmVxdWlyZSgnLi93b3JrbGlzdGhlbHBlcmJhc2UnKTtcclxuaW1wb3J0IGdyaWRDZWxsID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL2dyaWRjZWxsJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgam9zblJlZlJlc29sdmVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9qc29ucmVmcmVzb2x2ZXIvam9zbnJlZnJlc29sdmVyJyk7XHJcbmltcG9ydCB3b3JrbGlzdFZhbGlkYXRvckxpc3QgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy93b3JrbGlzdHZhbGlkYXRvcmxpc3QnKTtcclxuaW1wb3J0IHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9yZmFjdG9yeScpO1xyXG5cclxubGV0IHdvcmtsaXN0R3JpZENvbHVtbnNKc29uID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL3dvcmtsaXN0Z3JpZGNvbHVtbnMuanNvbicpO1xyXG5cclxuLyoqXHJcbiAqIGNsYXNzIGZvciBNYXJraW5nIENoZWNrIFdvcmtMaXN0IEhlbHBlciBpbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuY2xhc3MgTWFya2luZ0NoZWNrV29ya2xpc3RIZWxwZXIgZXh0ZW5kcyB3b3JrbGlzdEhlbHBlckJhc2Uge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVSb3dEZWZpbmlvbiBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YSAtIGxpc3Qgb2YgbGl2ZSBvcGVuIHJlc3BvbnNlc1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlVHlwZSAtIHR5cGUgb2YgdGhlIHJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gZ3JpZFR5cGUgLSB0eXBlIG9mIGdyaWR2aWV3IHRpbGUvZGV0YWlsXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2VuZXJhdGVSb3dEZWZpbmlvbihyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UsXHJcbiAgICAgICAgcmVzcG9uc2VUeXBlOiBlbnVtcy5SZXNwb25zZU1vZGUsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG5cclxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0gam9zblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHdvcmtsaXN0R3JpZENvbHVtbnNKc29uKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4oKTtcclxuICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuOlxyXG4gICAgICAgICAgICAgICAgaWYgKGdyaWRUeXBlID09PSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaW9uRm9yT3BlbkRldGFpbChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZFR5cGUgPT09IGVudW1zLkdyaWRUeXBlLmRldGFpbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvckNsb3NlZERldGFpbChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nOlxyXG4gICAgICAgICAgICAgICAgaWYgKGdyaWRUeXBlID09PSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JQZW5kaW5nRGV0YWlsKHJlc3BvbnNlTGlzdERhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvckxpdmVPcGVuRGV0YWlsIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIGNsb3NlZCBXb3JrTGlzdCBHcmlkIGluIGRldGFpbCB2aWV3XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YSAtIGxpc3Qgb2YgbGl2ZSBvcGVuIHJlc3BvbnNlc1xyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvckNsb3NlZERldGFpbChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZUxpc3RMZW5ndGggPSBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0RHluYW1pY0NvbHVtblNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCByZXNwb25zZUxpc3RMZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcubWFya2luZ2NoZWNrd29ya2xpc3QuY2xvc2VkLmRldGFpbHZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9IChyZXNwb25zZURhdGEuaXNXaG9sZVJlc3BvbnNlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnJlbGF0ZWRSSUdEZXRhaWxzKSA/IDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVN0YXR1cyA9IHRoaXMuZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhLCBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVG90YWxNYXJrOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19Ub3RhbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRvdGFsTWFya0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5tYXhpbXVtTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNOb25OdW1lcmljKCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmlzSGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZE1lc3NhZ2VJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xpbmtlZE1lc3NhZ2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmtlZE1lc3NhZ2VFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiwga2V5LCBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuZGlzcGxheUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRBY2N1cmFjeVR5cGUoZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCwgcmVzcG9uc2VEYXRhKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0Um93RGVmaW5pb25Gb3JMaXZlT3BlbkRldGFpbCBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBvcGVuIFdvcmtMaXN0IEdyaWQgaW4gZGV0YWlsIHZpZXdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBsaXZlIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yT3BlbkRldGFpbChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZUxpc3RMZW5ndGggPSBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5tYXJraW5nY2hlY2t3b3JrbGlzdC5vcGVuLmRldGFpbHZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9IChyZXNwb25zZURhdGEuaXNXaG9sZVJlc3BvbnNlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnJlbGF0ZWRSSUdEZXRhaWxzKSA/IDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVN0YXR1cyA9IHRoaXMuZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhLCBlbnVtcy5SZXNwb25zZU1vZGUub3Blbik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk1hcmtpbmdQcm9ncmVzczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTWFya2luZ1Byb2dyZXNzXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRNYXJraW5nUHJvZ3Jlc3NFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLldvcmtsaXN0VHlwZS5saXZlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVG90YWxNYXJrOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19Ub3RhbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRvdGFsTWFya0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5tYXhpbXVtTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNOb25OdW1lcmljKCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmlzSGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxvY2F0ZWREYXRlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxvY2F0ZWREYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBbGxvY2F0ZWREYXRlKHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MaW5rZWRNZXNzYWdlSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRNZXNzYWdlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMaW5rZWRNZXNzYWdlRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYWRkaXRpb25hbENvbXBvbmVudCA9IHRoaXMucmVuZGVyUXVhbGl0eUZlZWRiYWNrQmFubmVyKHJlc3BvbnNlTGlzdENvdW50LCBlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuZGlzcGxheUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRBY2N1cmFjeVR5cGUoZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sIHJlc3BvbnNlRGF0YSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxDb21wb25lbnQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgcm93IGRlZmVuaXRpb25zIGZvciBwZW5kaW5nIGRldGFpbGVkIHdvcmtsaXN0IGluIGxpdmVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb25Gb3JQZW5kaW5nRGV0YWlsKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQga2V5OiBzdHJpbmc7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlTGlzdExlbmd0aCA9IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5tYXJraW5nY2hlY2t3b3JrbGlzdC5wZW5kaW5nLmRldGFpbHZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9IChyZXNwb25zZURhdGEuaXNXaG9sZVJlc3BvbnNlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnJlbGF0ZWRSSUdEZXRhaWxzKSA/IDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVN0YXR1cyA9IHRoaXMuZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhLCBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFyazpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdUb3RhbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRvdGFsTWFya0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5tYXhpbXVtTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNOb25OdW1lcmljKCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmlzSGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcsIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MaW5rZWRNZXNzYWdlSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ0xpbmtlZE1lc3NhZ2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmtlZE1lc3NhZ2VFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiwga2V5LCBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkdyYWNlUGVyaW9kVGltZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdHcmFjZVBlcmlvZFRpbWVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyYWNlUGVyaW9kRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSwgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGFkZGl0aW9uYWxDb21wb25lbnQgPSB0aGlzLnJlbmRlclF1YWxpdHlGZWVkYmFja0Jhbm5lcihyZXNwb25zZUxpc3RDb3VudCwgZW51bXMuV29ya2xpc3RUeXBlLmxpdmUpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmRpc3BsYXlJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QWNjdXJhY3lUeXBlKGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nLCByZXNwb25zZURhdGEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsQ29tcG9uZW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHJlc3BvbnNlIHN0YXR1cyBiYXNlZCBvbiB0aGUgd29ya2xpc3QgYW5kIGl0cyB2YWxpZGF0b3IgdHlwZVxyXG4gICAgICogQHBhcmFtIHdvcmtsaXN0VHlwZVxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTW9kZVxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UsIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlKTpcclxuICAgICAgICBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4ge1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPjtcclxuICAgICAgICByZXNwb25zZVN0YXR1cyA9IHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeS5nZXRWYWxpZGF0b3Iod29ya2xpc3RWYWxpZGF0b3JMaXN0LmxpdmVPcGVuKS5cclxuICAgICAgICAgICAgc3VibWl0QnV0dG9uVmFsaWRhdGUocmVzcG9uc2VEYXRhKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlU3RhdHVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgZ3JpZGNvbHVtbnMgYmFzZWQgb24gdGhlIHJlc3BvbnNlIG1vZGUgYW5kIHdvcmtsaXN0IHR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldEdyaWRDb2x1bW5zKHJlc29sdmVkR3JpZENvbHVtbnNKc29uOiBhbnksIHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlLCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBpc0Zyb3plbjogYm9vbGVhbiA9IGZhbHNlKSB7XHJcblxyXG4gICAgICAgIGxldCBncmlkQ29sdW1uczogYW55O1xyXG4gICAgICAgIHN3aXRjaCAocmVzcG9uc2VNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1ucyA9IChpc0Zyb3plbiA9PT0gZmFsc2UpID8gcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5tYXJraW5nY2hlY2t3b3JrbGlzdC5vcGVuLmRldGFpbHZpZXcuR3JpZENvbHVtbnNcclxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcubWFya2luZ2NoZWNrd29ya2xpc3Qub3Blbi5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmc6XHJcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1ucyA9IChpc0Zyb3plbiA9PT0gZmFsc2UpID8gcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5tYXJraW5nY2hlY2t3b3JrbGlzdC5wZW5kaW5nLmRldGFpbHZpZXcuR3JpZENvbHVtbnNcclxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcubWFya2luZ2NoZWNrd29ya2xpc3QucGVuZGluZy5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZDpcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgPyByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLm1hcmtpbmdjaGVja3dvcmtsaXN0LmNsb3NlZC5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLm1hcmtpbmdjaGVja3dvcmtsaXN0LmNsb3NlZC5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZ3JpZENvbHVtbnM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IE1hcmtpbmdDaGVja1dvcmtsaXN0SGVscGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy91dGlsaXR5L2dyaWQvd29ya2xpc3RoZWxwZXJzL21hcmtpbmdjaGVja3dvcmtsaXN0aGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBc1hBO0FBcFhBOzs7Ozs7QUFNQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1184:
/* no static exports found */
/* all exports used */
/*!*******************************************************************************!*\
  !*** ./src/components/utility/grid/worklisthelpers/practiceworklisthelper.ts ***!
  \*******************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar worklistGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/worklistgridcolumns.json */ 449);\r\nvar worklistValidatorFactory = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorfactory */ 319);\r\nvar worklistValidatorList = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorlist */ 304);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar worklistHelperBase = __webpack_require__(/*! ./worklisthelperbase */ 458);\r\nvar localeStore = __webpack_require__(/*! ../../../../stores/locale/localestore */ 226);\r\nvar josnRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * class for WorkList Helper implementation\r\n */\r\nvar PracticeWorklistHelper = /** @class */ (function (_super) {\r\n    __extends(PracticeWorklistHelper, _super);\r\n    function PracticeWorklistHelper() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * GenerateRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param responseListData - list of practice open responses\r\n     * @param responseType - type of the response\r\n     * @param gridType - type of gridview tile/detail\r\n     * @returns grid row collection.\r\n     */\r\n    PracticeWorklistHelper.prototype.generateRowDefinion = function (responseListData, responseType, gridType) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(worklistGridColumnsJson);\r\n        this._immutableWorkListCollection = Immutable.List();\r\n        switch (responseType) {\r\n            case enums.ResponseMode.open:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenTiled(responseListData);\r\n                        break;\r\n                    default:\r\n                }\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedTiled(responseListData);\r\n                        break;\r\n                    default:\r\n                }\r\n                break;\r\n        }\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForpracticeOpenTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of practice open responses\r\n     * @returns grid row collection.\r\n     */\r\n    PracticeWorklistHelper.prototype.getRowDefinionForClosedTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.practiceworklist.closed.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.closed, localeStore.instance.TranslateText('marking.worklist.response-data.practice-response-title') + ' ');\r\n                            break;\r\n                        case gridColumnNames.MarksDifference:\r\n                            key = gridSeq.get(responseListCount) + '_MarksDifference_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getMarksDifferenceColumnElement(responseData, componentPropsJson, key, true);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                // setting row style and row title according to its accuracy type\r\n                _worklistRow.setRowStyle(this.setRowStyle(Immutable.List().push(enums.ResponseStatus.none), responseData.accuracyIndicatorTypeID));\r\n                _worklistRow.setRowTitle(this.setRowTitle(responseData.accuracyIndicatorTypeID));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForpracticeOpenTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of practice open responses\r\n     * @returns grid row collection.\r\n     */\r\n    PracticeWorklistHelper.prototype.getRowDefinionForOpenTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.practiceworklist.open.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                this.emptyGroupColumns();\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            var element = this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.practice);\r\n                            this.mapGroupColumns('worklist-tile-footer', element);\r\n                            break;\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.open, localeStore.instance.TranslateText('marking.worklist.response-data.practice-response-title') + ' ');\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotated_' + gridColumnCount;\r\n                            // Create annotation indicator element.\r\n                            var allPageElement = this.getAllPageAnnotationIndicatorElement(responseData, componentPropsJson, key);\r\n                            // Checking whether the indicator is valid to display.\r\n                            if (allPageElement !== undefined) {\r\n                                this.mapGroupColumns('icon-holder', allPageElement);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, true));\r\n                            break;\r\n                        case gridColumnNames.AllFilesNotViewedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllFilesNotViewedIndicator_' + gridColumnCount;\r\n                            var allFilesNotViewedElement = (this.getAllFilesNotViewedIndicatorElement(responseData, componentPropsJson, key));\r\n                            this.mapGroupColumns('worklist-tile-footer', allFilesNotViewedElement);\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                // If there are elements queued to group, then group the elements.\r\n                if (this.groupColumns) {\r\n                    _workListCell = new gridCell();\r\n                    key = gridSeq.get(responseListCount) + '_Tile_Group_';\r\n                    _workListCell.columnElement = this.groupColumnElements('worklist-tile-footer', key);\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                _worklistRow.setRowStyle(this.setRowStyle(responseStatus));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForpracticeOpenDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of practice open responses\r\n     * @returns grid row collection.\r\n     */\r\n    PracticeWorklistHelper.prototype.getRowDefinionForClosedDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var key;\r\n        var _workListRowCellCollection = Array();\r\n        var _worklistRow;\r\n        var _workListCell;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.practiceworklist.closed.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowCellCollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _workListCell = new gridCell();\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key);\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getAllocatedDate(responseData, componentPropsJson, key, true);\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.closed, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getLinkedMessageElement(responseData, componentPropsJson, key, false);\r\n                            break;\r\n                        case gridColumnNames.AccuracyIndicator:\r\n                            // accuracy indicator is shown only when its values is set\r\n                            if (responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown) {\r\n                                key = gridSeq.get(responseListCount) + '_AccuracyIndicator_' + gridColumnCount;\r\n                                _workListCell.columnElement = this.getAccuracyIndicatorElement(responseData, componentPropsJson, key, false);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.AbsoluteMarksDifference:\r\n                            key = gridSeq.get(responseListCount) + '_AbsoluteMarksDifference_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarksDifferenceElement(responseData, componentPropsJson, key, enums.MarksDifferenceType.AbsoluteMarksDifference, false));\r\n                            break;\r\n                        case gridColumnNames.TotalMarksDifference:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMarksDifference_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarksDifferenceElement(responseData, componentPropsJson, key, enums.MarksDifferenceType.TotalMarksDifference, false));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotatedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllPageAnnotatedIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowCellCollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                // Added parameters to set new column 'gridRightColumn' and set marksdifference value to that column\r\n                _workListRowCollection.push(this.getGridRow(Immutable.List().push(enums.ResponseStatus.none), responseData.displayId, _workListRowCellCollection, responseData.accuracyIndicatorTypeID));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForpracticeOpenDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of practice open responses\r\n     * @returns grid row collection.\r\n     */\r\n    PracticeWorklistHelper.prototype.getRowDefinionForOpenDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var key;\r\n        var _workListRowCellCollection = Array();\r\n        var _worklistRow;\r\n        var _workListCell;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.practiceworklist.open.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowCellCollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _workListCell = new gridCell();\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.practice, false);\r\n                            break;\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key);\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.open, true));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getAllocatedDate(responseData, componentPropsJson, key, true);\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getLinkedMessageElement(responseData, componentPropsJson, key, false);\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotatedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllPageAnnotatedIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.AllFilesNotViewedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllFilesNotViewedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllFilesNotViewedIndicatorElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowCellCollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowCellCollection));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * returns the resposne staus based on the worklist and its validator type\r\n     * @param worklistType\r\n     * @param responseMode\r\n     */\r\n    PracticeWorklistHelper.prototype.getResponseStatus = function (responseData, responseMode) {\r\n        var responseStatus;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                responseStatus = worklistValidatorFactory.getValidator(worklistValidatorList.practiceOpen).\r\n                    submitButtonValidate(responseData);\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                responseStatus = Immutable.List().push(enums.ResponseStatus.none);\r\n                break;\r\n        }\r\n        return responseStatus;\r\n    };\r\n    /**\r\n     * returns the grdicolumns based on the response mode and worklist type\r\n     * @param responseMode\r\n     */\r\n    PracticeWorklistHelper.prototype.getGridColumns = function (resolvedGridColumnsJson, worklistType, responseMode, isFrozen) {\r\n        if (isFrozen === void 0) { isFrozen = false; }\r\n        var gridColumns;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.practiceworklist.open.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.practiceworklist.open.frozenRows.GridColumns;\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.practiceworklist.closed.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.practiceworklist.closed.frozenRows.GridColumns;\r\n                break;\r\n        }\r\n        return gridColumns;\r\n    };\r\n    /**\r\n     * returns the accuracy type based on accuracy  and CC values\r\n     * @param responseMode\r\n     * @param responseData\r\n     */\r\n    PracticeWorklistHelper.prototype.getAccuracyType = function (responseMode, responseData) {\r\n        if (responseMode === enums.ResponseMode.closed) {\r\n            return responseData.accuracyIndicatorTypeID;\r\n        }\r\n        else {\r\n            return enums.AccuracyIndicatorType.Unknown;\r\n        }\r\n    };\r\n    /**\r\n     * returns whether the the given column is hidden or not\r\n     * @param responseColumn\r\n     */\r\n    PracticeWorklistHelper.prototype.getCellVisibility = function (column) {\r\n        var isHidden = false;\r\n        switch (column) {\r\n            case gridColumnNames.SLAOIndicator:\r\n                if (this.isStructuredQIG() === false) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n            case gridColumnNames.AllPageAnnotedIndicator:\r\n                if (this.isStructuredQIG() === true) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n        }\r\n        return isHidden;\r\n    };\r\n    return PracticeWorklistHelper;\r\n}(worklistHelperBase));\r\nmodule.exports = PracticeWorklistHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4NC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGhlbHBlcnMvcHJhY3RpY2V3b3JrbGlzdGhlbHBlci50cz83ZDkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBncmlkUm93ID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL2dyaWRyb3cnKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgZ3JpZENlbGwgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZGNlbGwnKTtcclxubGV0IHdvcmtsaXN0R3JpZENvbHVtbnNKc29uID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL3dvcmtsaXN0Z3JpZGNvbHVtbnMuanNvbicpO1xyXG5pbXBvcnQgd29ya2xpc3RWYWxpZGF0b3JGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvd29ya2xpc3R2YWxpZGF0b3JmYWN0b3J5Jyk7XHJcbmltcG9ydCB3b3JrbGlzdFZhbGlkYXRvckxpc3QgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy93b3JrbGlzdHZhbGlkYXRvcmxpc3QnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vZW51bXMnKTtcclxuaW1wb3J0IGdyaWRDb2x1bW5OYW1lcyA9IHJlcXVpcmUoJy4uL2dyaWRjb2x1bW5uYW1lcycpO1xyXG5pbXBvcnQgd29ya2xpc3RIZWxwZXJCYXNlID0gcmVxdWlyZSgnLi93b3JrbGlzdGhlbHBlcmJhc2UnKTtcclxuaW1wb3J0IHJlc3BvbnNlSWRDb2x1bW4gPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvcmVzcG9uc2VpZGNvbHVtbicpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBNYXJraW5nUHJvZ3Jlc3MgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvbWFya2luZ3Byb2dyZXNzJyk7XHJcbmltcG9ydCBqb3NuUmVmUmVzb2x2ZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2pzb25yZWZyZXNvbHZlci9qb3NucmVmcmVzb2x2ZXInKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcblxyXG4vKipcclxuICogY2xhc3MgZm9yIFdvcmtMaXN0IEhlbHBlciBpbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuY2xhc3MgUHJhY3RpY2VXb3JrbGlzdEhlbHBlciBleHRlbmRzIHdvcmtsaXN0SGVscGVyQmFzZSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZVJvd0RlZmluaW9uIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWRcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBwcmFjdGljZSBvcGVuIHJlc3BvbnNlc1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlVHlwZSAtIHR5cGUgb2YgdGhlIHJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gZ3JpZFR5cGUgLSB0eXBlIG9mIGdyaWR2aWV3IHRpbGUvZGV0YWlsXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2VuZXJhdGVSb3dEZWZpbmlvbihyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UsXHJcbiAgICAgICAgcmVzcG9uc2VUeXBlOiBlbnVtcy5SZXNwb25zZU1vZGUsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24gPSBqb3NuUmVmUmVzb2x2ZXIucmVzb2x2ZVJlZnMod29ya2xpc3RHcmlkQ29sdW1uc0pzb24pO1xyXG4gICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZVR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUub3BlbjpcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZ3JpZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkdyaWRUeXBlLmRldGFpbGVkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaW9uRm9yT3BlbkRldGFpbChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS50aWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvck9wZW5UaWxlZChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQ6XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGdyaWRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvckNsb3NlZERldGFpbChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS50aWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvckNsb3NlZFRpbGVkKHJlc3BvbnNlTGlzdERhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvcnByYWN0aWNlT3BlblRpbGVkIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWQgaW4gdGlsZWQgdmlld1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIHByYWN0aWNlIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yQ2xvc2VkVGlsZWQocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5wcmFjdGljZXdvcmtsaXN0LmNsb3NlZC50aWxldmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPVxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlSWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1Jlc3BvbnNlSWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuXHRcdFx0XHRcdFx0XHRcdGtleSxcclxuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEucHJhY3RpY2UtcmVzcG9uc2UtdGl0bGUnKSArICcgJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTWFya3NEaWZmZXJlbmNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19NYXJrc0RpZmZlcmVuY2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0TWFya3NEaWZmZXJlbmNlQ29sdW1uRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gc2V0dGluZyByb3cgc3R5bGUgYW5kIHJvdyB0aXRsZSBhY2NvcmRpbmcgdG8gaXRzIGFjY3VyYWN5IHR5cGVcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dTdHlsZShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFJvd1N0eWxlKEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPigpLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubm9uZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5hY2N1cmFjeUluZGljYXRvclR5cGVJRCkpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd1RpdGxlKHRoaXMuc2V0Um93VGl0bGUocmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEKSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93SWQocGFyc2VGbG9hdChyZXNwb25zZURhdGEuZGlzcGxheUlkKSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Q2VsbHMoX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKF93b3JrbGlzdFJvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0Um93RGVmaW5pb25Gb3JwcmFjdGljZU9wZW5UaWxlZCBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkIGluIHRpbGVkIHZpZXdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBwcmFjdGljZSBvcGVuIHJlc3BvbnNlc1xyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvck9wZW5UaWxlZChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPVxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVN0YXR1cyA9IHRoaXMuZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhLCBlbnVtcy5SZXNwb25zZU1vZGUub3Blbik7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnByYWN0aWNld29ya2xpc3Qub3Blbi50aWxldmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZW1wdHlHcm91cENvbHVtbnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJraW5nUHJvZ3Jlc3M6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX01hcmtpbmdQcm9ncmVzc18nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmdldE1hcmtpbmdQcm9ncmVzc0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuV29ya2xpc3RUeXBlLnByYWN0aWNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwR3JvdXBDb2x1bW5zKCd3b3JrbGlzdC10aWxlLWZvb3RlcicsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlSWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1Jlc3BvbnNlSWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuXHRcdFx0XHRcdFx0XHRcdGtleSxcclxuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnByYWN0aWNlLXJlc3BvbnNlLXRpdGxlJykgKyAnICcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxQYWdlQW5ub3RhdGVkXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFubm90YXRpb24gaW5kaWNhdG9yIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWxsUGFnZUVsZW1lbnQgPSB0aGlzLmdldEFsbFBhZ2VBbm5vdGF0aW9uSW5kaWNhdG9yRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2tpbmcgd2hldGhlciB0aGUgaW5kaWNhdG9yIGlzIHZhbGlkIHRvIGRpc3BsYXkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsUGFnZUVsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwR3JvdXBDb2x1bW5zKCdpY29uLWhvbGRlcicsIGFsbFBhZ2VFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxGaWxlc05vdFZpZXdlZEluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbGxGaWxlc05vdFZpZXdlZEVsZW1lbnQgPSAodGhpcy5nZXRBbGxGaWxlc05vdFZpZXdlZEluZGljYXRvckVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwR3JvdXBDb2x1bW5zKCd3b3JrbGlzdC10aWxlLWZvb3RlcicsIGFsbEZpbGVzTm90Vmlld2VkRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgZWxlbWVudHMgcXVldWVkIHRvIGdyb3VwLCB0aGVuIGdyb3VwIHRoZSBlbGVtZW50cy5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyb3VwQ29sdW1ucykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19UaWxlX0dyb3VwXyc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5ncm91cENvbHVtbkVsZW1lbnRzKCd3b3JrbGlzdC10aWxlLWZvb3RlcicsIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93U3R5bGUodGhpcy5zZXRSb3dTdHlsZShyZXNwb25zZVN0YXR1cykpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd0lkKHBhcnNlRmxvYXQocmVzcG9uc2VEYXRhLmRpc3BsYXlJZCkpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldENlbGxzKF93b3JrTGlzdENlbGxjb2xsZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChfd29ya2xpc3RSb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3dvcmtMaXN0Um93Q29sbGVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldFJvd0RlZmluaW9uRm9ycHJhY3RpY2VPcGVuRGV0YWlsIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWQgaW4gZGV0YWlsIHZpZXdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBwcmFjdGljZSBvcGVuIHJlc3BvbnNlc1xyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvckNsb3NlZERldGFpbChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDZWxsQ29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZUxpc3RMZW5ndGggPSBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5wcmFjdGljZXdvcmtsaXN0LmNsb3NlZC5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q2VsbENvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcG9uZW50UHJvcHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFyazpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfVG90YWxNYXJrXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFRvdGFsTWFya0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5tYXhpbXVtTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxvY2F0ZWREYXRlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxvY2F0ZWREYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldEFsbG9jYXRlZERhdGUocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZE1lc3NhZ2VJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xpbmtlZE1lc3NhZ2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0TGlua2VkTWVzc2FnZUVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFjY3VyYWN5SW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWNjdXJhY3kgaW5kaWNhdG9yIGlzIHNob3duIG9ubHkgd2hlbiBpdHMgdmFsdWVzIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGF0YS5hY2N1cmFjeUluZGljYXRvclR5cGVJRCAhPT0gZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLlVua25vd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FjY3VyYWN5SW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRBY2N1cmFjeUluZGljYXRvckVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWJzb2x1dGVNYXJrc0RpZmZlcmVuY2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldE1hcmtzRGlmZmVyZW5jZUVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuTWFya3NEaWZmZXJlbmNlVHlwZS5BYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFya3NEaWZmZXJlbmNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19Ub3RhbE1hcmtzRGlmZmVyZW5jZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0TWFya3NEaWZmZXJlbmNlRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5NYXJrc0RpZmZlcmVuY2VUeXBlLlRvdGFsTWFya3NEaWZmZXJlbmNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU0xBT0luZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfU0xBT0luZGljYXRvcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0U0xBT0luZGljYXRvckVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxQYWdlQW5ub3RhdGVkSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBbGxQYWdlQW5ub3RhdGVkSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmlzSGlkZGVuID0gdGhpcy5nZXRDZWxsVmlzaWJpbGl0eShfcmVzcG9uc2VDb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPSAoZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcykgPyBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDZWxsQ29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgLy8gQWRkZWQgcGFyYW1ldGVycyB0byBzZXQgbmV3IGNvbHVtbiAnZ3JpZFJpZ2h0Q29sdW1uJyBhbmQgc2V0IG1hcmtzZGlmZmVyZW5jZSB2YWx1ZSB0byB0aGF0IGNvbHVtblxyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCkucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub25lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmRpc3BsYXlJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q2VsbENvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5hY2N1cmFjeUluZGljYXRvclR5cGVJRCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3dvcmtMaXN0Um93Q29sbGVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldFJvd0RlZmluaW9uRm9ycHJhY3RpY2VPcGVuRGV0YWlsIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWQgaW4gZGV0YWlsIHZpZXdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBwcmFjdGljZSBvcGVuIHJlc3BvbnNlc1xyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvck9wZW5EZXRhaWwocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q2VsbENvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcclxuICAgICAgICBsZXQgX3dvcmtsaXN0Um93OiBncmlkUm93O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZUxpc3RMZW5ndGggPSBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5wcmFjdGljZXdvcmtsaXN0Lm9wZW4uZGV0YWlsdmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NlbGxDb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPVxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVN0YXR1cyA9IHRoaXMuZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhLCBlbnVtcy5SZXNwb25zZU1vZGUub3Blbik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk1hcmtpbmdQcm9ncmVzczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTWFya2luZ1Byb2dyZXNzXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldE1hcmtpbmdQcm9ncmVzc0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuV29ya2xpc3RUeXBlLnByYWN0aWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Ub3RhbE1hcms6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1RvdGFsTWFya18nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRUb3RhbE1hcmtFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUxpc3REYXRhLmhhc051bWVyaWNNYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEubWF4aW11bU1hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxvY2F0ZWREYXRlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxvY2F0ZWREYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldEFsbG9jYXRlZERhdGUocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkTWVzc2FnZUluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGlua2VkTWVzc2FnZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRMaW5rZWRNZXNzYWdlRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsUGFnZUFubm90ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbFBhZ2VBbm5vdGF0ZWRJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFsbFBhZ2VBbm5vdGF0ZWRJbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBbGxGaWxlc05vdFZpZXdlZEluZGljYXRvckVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuaXNIaWRkZW4gPSB0aGlzLmdldENlbGxWaXNpYmlsaXR5KF9yZXNwb25zZUNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NlbGxDb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2godGhpcy5nZXRHcmlkUm93KFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q2VsbENvbGxlY3Rpb24pKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcmVzcG9zbmUgc3RhdXMgYmFzZWQgb24gdGhlIHdvcmtsaXN0IGFuZCBpdHMgdmFsaWRhdG9yIHR5cGVcclxuICAgICAqIEBwYXJhbSB3b3JrbGlzdFR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldFJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSk6XHJcbiAgICAgICAgSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+IHtcclxuXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz47XHJcblxyXG4gICAgICAgIHN3aXRjaCAocmVzcG9uc2VNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyA9IHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeS5nZXRWYWxpZGF0b3Iod29ya2xpc3RWYWxpZGF0b3JMaXN0LnByYWN0aWNlT3BlbikuXHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0QnV0dG9uVmFsaWRhdGUocmVzcG9uc2VEYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQ6XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyA9IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPigpLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubm9uZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXNwb25zZVN0YXR1cztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGdyZGljb2x1bW5zIGJhc2VkIG9uIHRoZSByZXNwb25zZSBtb2RlIGFuZCB3b3JrbGlzdCB0eXBlXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VNb2RlXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRHcmlkQ29sdW1ucyhyZXNvbHZlZEdyaWRDb2x1bW5zSnNvbjogYW55LCB3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSwgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUsXHJcbiAgICAgICAgaXNGcm96ZW46IGJvb2xlYW4gPSBmYWxzZSkge1xyXG5cclxuICAgICAgICBsZXQgZ3JpZENvbHVtbnM6IGFueTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZU1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUub3BlbjpcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcucHJhY3RpY2V3b3JrbGlzdC5vcGVuLmRldGFpbHZpZXcuR3JpZENvbHVtbnNcclxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcucHJhY3RpY2V3b3JrbGlzdC5vcGVuLmZyb3plblJvd3MuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkOlxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSAoaXNGcm96ZW4gPT09IGZhbHNlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5wcmFjdGljZXdvcmtsaXN0LmNsb3NlZC5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnByYWN0aWNld29ya2xpc3QuY2xvc2VkLmZyb3plblJvd3MuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBncmlkQ29sdW1ucztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGFjY3VyYWN5IHR5cGUgYmFzZWQgb24gYWNjdXJhY3kgIGFuZCBDQyB2YWx1ZXNcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURhdGFcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldEFjY3VyYWN5VHlwZShyZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSwgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UpOiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUge1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VNb2RlID09PSBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZURhdGEuYWNjdXJhY3lJbmRpY2F0b3JUeXBlSUQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5Vbmtub3duO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgd2hldGhlciB0aGUgdGhlIGdpdmVuIGNvbHVtbiBpcyBoaWRkZW4gb3Igbm90XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VDb2x1bW5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldENlbGxWaXNpYmlsaXR5KGNvbHVtbjogc3RyaW5nKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGxldCBpc0hpZGRlbjogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGNvbHVtbikge1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdHJ1Y3R1cmVkUUlHKCkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNIaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdHJ1Y3R1cmVkUUlHKCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpc0hpZGRlbjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gUHJhY3RpY2VXb3JrbGlzdEhlbHBlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3dvcmtsaXN0aGVscGVycy9wcmFjdGljZXdvcmtsaXN0aGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUFBOztBQThqQkE7QUE1akJBOzs7Ozs7QUFNQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1185:
/* no static exports found */
/* all exports used */
/*!*****************************************************************************!*\
  !*** ./src/components/utility/grid/worklisthelpers/remarkworklisthelper.ts ***!
  \*****************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar worklistGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/worklistgridcolumns.json */ 449);\r\nvar worklistValidatorFactory = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorfactory */ 319);\r\nvar worklistValidatorList = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorlist */ 304);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar worklistHelperBase = __webpack_require__(/*! ./worklisthelperbase */ 458);\r\nvar jsonRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar stringFormatHelper = __webpack_require__(/*! ../../../../utility/stringformat/stringformathelper */ 250);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar xmlHelper = __webpack_require__(/*! ../../../../utility/generic/xmlhelper */ 379);\r\nvar worklistStore = __webpack_require__(/*! ../../../../stores/worklist/workliststore */ 231);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\nvar localeStore = __webpack_require__(/*! ../../../../stores/locale/localestore */ 226);\r\nvar MarkChangeReason = __webpack_require__(/*! ../../../markschemestructure/markchangereason */ 502);\r\nvar SupervisorRemarkDecisionIcon = __webpack_require__(/*! ../../../markschemestructure/supervisorremarkdecisionicon */ 1042);\r\nvar qualityFeedbackHelper = __webpack_require__(/*! ../../../../utility/qualityfeedback/qualityfeedbackhelper */ 309);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../markeroperationmode/markeroperationmodefactory */ 232);\r\nvar tagStore = __webpack_require__(/*! ../../../../stores/tags/tagstore */ 331);\r\nvar examinerStore = __webpack_require__(/*! ../../../../stores/markerinformation/examinerstore */ 259);\r\n/**\r\n * class for WorkList Helper implementation\r\n */\r\nvar RemarkWorklistHelper = /** @class */ (function (_super) {\r\n    __extends(RemarkWorklistHelper, _super);\r\n    function RemarkWorklistHelper() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /* variable to holds the response type for showing the response type label*/\r\n        _this._responseType = enums.ResponseType.None;\r\n        return _this;\r\n    }\r\n    /**\r\n     * GenerateRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param responseListData - list of directed remark open responses\r\n     * @param responseType - type of the response\r\n     * @param gridType - type of gridview tile/detail\r\n     * @returns grid row collection.\r\n     */\r\n    RemarkWorklistHelper.prototype.generateRowDefinion = function (responseListData, responseType, gridType) {\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(worklistGridColumnsJson);\r\n        this._immutableWorkListCollection = Immutable.List();\r\n        switch (responseType) {\r\n            case enums.ResponseMode.open:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenTiled(responseListData);\r\n                        break;\r\n                }\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedTiled(responseListData);\r\n                        break;\r\n                }\r\n                break;\r\n            case enums.ResponseMode.pending:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForPendingDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForPendingTiled(responseListData);\r\n                        break;\r\n                }\r\n                break;\r\n        }\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForDirectedRemarkOpenTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of directed remark open responses\r\n     * @returns grid row collection.\r\n     */\r\n    RemarkWorklistHelper.prototype.getRowDefinionForOpenTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.directedremarkworklist.open.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // Get fresh set of groups for every columns\r\n                this.emptyGroupColumns();\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            var element = this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.directedRemark);\r\n                            this.mapGroupColumns('worklist-tile-footer', element);\r\n                            break;\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.open, undefined, false, false, true);\r\n                            break;\r\n                        case gridColumnNames.MarkChangeReason:\r\n                            if (responseData[componentPropsJson.markingProgress] === 100 &&\r\n                                responseData.markChangeReasonVisible\r\n                                && responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown\r\n                                && responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Accurate\r\n                                && !responseData.markChangeReason) {\r\n                                key = gridSeq.get(responseListCount) + '_MarkChangeReason_' + gridColumnCount;\r\n                                var element_1 = this.getMarkChangeReasonColumnElement(responseData, componentPropsJson, key, enums.ResponseMode.open);\r\n                                this.mapGroupColumns('icon-holder', element_1);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.SupervisorRemarkDecision:\r\n                            if (this.isSupervisorRemarkDecisionVisible() &&\r\n                                (responseData.supervisorRemarkMarkChangeReasonID === 0) &&\r\n                                responseData.markingProgress === 100) {\r\n                                key = gridSeq.get(responseListCount) + '_RemarkdecisonButton_' + gridColumnCount;\r\n                                var element_2 = this.getSupervisorDecisionColumnElement(responseData, key, true);\r\n                                this.mapGroupColumns('icon-holder', element_2);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            // show only if there are blocking exceptions\r\n                            if (responseData[componentPropsJson.hasBlockingExceptions]) {\r\n                                var element_3 = this.getLinkedExceptionElement(responseData, componentPropsJson, key);\r\n                                this.mapGroupColumns('icon-holder', element_3);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotated_' + gridColumnCount;\r\n                            // Create annotation indicator element.\r\n                            var allPageElement = this.getAllPageAnnotationIndicatorElement(responseData, componentPropsJson, key);\r\n                            // Checking whether the indicator is valid to display.\r\n                            if (allPageElement !== undefined) {\r\n                                this.mapGroupColumns('icon-holder', allPageElement);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, true));\r\n                            break;\r\n                        case gridColumnNames.AllFilesNotViewedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllFilesNotViewedIndicator_' + gridColumnCount;\r\n                            var allFilesNotViewedElement = (this.getAllFilesNotViewedIndicatorElement(responseData, componentPropsJson, key));\r\n                            this.mapGroupColumns('worklist-tile-footer', allFilesNotViewedElement);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                // If there are elements queued to group, then group the elements.\r\n                if (this.groupColumns) {\r\n                    _workListCell = new gridCell();\r\n                    key = gridSeq.get(responseListCount) + '_Tile_Group_';\r\n                    _workListCell.columnElement = this.groupColumnElements('worklist-tile-footer', key);\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                _worklistRow.setRowStyle(this.setRowStyle(responseStatus));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * Gets the response label type for remark worklist\r\n     * @param responseData\r\n     */\r\n    RemarkWorklistHelper.prototype.getResponseLabelType = function (responseData) {\r\n        var isSeedResponse = ((responseData).seedTypeId !== enums.SeedType.None)\r\n            && (responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown);\r\n        return isSeedResponse ? enums.ResponseType.Seed : enums.ResponseType.None;\r\n    };\r\n    /**\r\n     * getRowDefinionForClosedTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of directed open responses\r\n     * @returns grid row collection.\r\n     */\r\n    RemarkWorklistHelper.prototype.getRowDefinionForClosedTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var isSeedHighlighted = false;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.directedremarkworklist.closed.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // Get fresh set of groups for every columns\r\n                this.emptyGroupColumns();\r\n                var isSeedResponse = responseData.seedTypeId !==\r\n                    enums.SeedType.None ? true : false;\r\n                var isEurSeedResponse = responseData.seedTypeId ===\r\n                    enums.SeedType.EUR;\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            this._responseType = this.getResponseLabelType(responseData);\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.closed, undefined, false, isEurSeedResponse, true, this._responseType);\r\n                            break;\r\n                        case gridColumnNames.MarksDifference:\r\n                            if (isEurSeedResponse === true && markerOperationModeFactory.operationMode.isAutomaticQualityFeedbackCCOn) {\r\n                                key = gridSeq.get(responseListCount) + '_MarksDifference_' + gridColumnCount;\r\n                                _workListCell.columnElement = this.getMarksDifferenceColumnElement(responseData, componentPropsJson, key, true);\r\n                            }\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                var _rowStyle = this.setRowStyle(Immutable.List().push(enums.ResponseStatus.none), isEurSeedResponse === true ? responseData.accuracyIndicatorTypeID : enums.AccuracyIndicatorType.Unknown);\r\n                if (this._responseType !== enums.ResponseType.None) {\r\n                    _rowStyle += ' labeled';\r\n                }\r\n                if (isSeedResponse && this.showSeedLabel) {\r\n                    _rowStyle += ' seed';\r\n                }\r\n                if (!isSeedHighlighted\r\n                    && qualityFeedbackHelper.isSeedNeededToBeHighlighted(responseData.\r\n                        qualityFeedbackStatusId, isEurSeedResponse)) {\r\n                    _rowStyle += ' highlight-seed';\r\n                    isSeedHighlighted = true;\r\n                }\r\n                _worklistRow.setRowStyle(_rowStyle);\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * Get directed remark pending worklist details.\r\n     * @param {WorklistBase} responseListData\r\n     * @returns\r\n     */\r\n    RemarkWorklistHelper.prototype.getRowDefinionForPendingTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.directedremarkworklist.pending.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + 'ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.pending);\r\n                            break;\r\n                        case gridColumnNames.GracePeriodTime:\r\n                            key = gridSeq.get(responseListCount) + 'GracePeriodTime_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getAllocatedDateElement(responseData, componentPropsJson, key, false, false, true);\r\n                            break;\r\n                        case gridColumnNames.MarksDifference:\r\n                            key = gridSeq.get(responseListCount) + '_MarksDifference_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getMarksDifferenceColumnElement(responseData, componentPropsJson, key, true);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                _worklistRow.setRowStyle(this.setRowStyle(Immutable.List().push(enums.ResponseStatus.none), undefined));\r\n                _worklistRow.setRowTitle(this.setRowTitle(responseData.accuracyIndicatorTypeID));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForLiveOpenDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of live open responses\r\n     * @returns grid row collection.\r\n     */\r\n    RemarkWorklistHelper.prototype.getRowDefinionForOpenDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var isSeedResponseVisible;\r\n        if (responseListData != null) {\r\n            this.setShowOriginalMarkerName(responseListData);\r\n            this.setNonNumeric(!responseListData.hasNumericMark);\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.directedremarkworklist.open.detailview.GridColumns;\r\n                //this.resolvedGridColumnsJson.marking.directedremarkworklist.open.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.directedRemark, false));\r\n                            break;\r\n                        case gridColumnNames.SpecialistType:\r\n                            key = gridSeq.get(responseListCount) + '_SpecialistType_' + gridColumnCount;\r\n                            _workListCell.columnElement =\r\n                                (this.getGenericTextElement(responseData.specialistType ===\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType) ?\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType)\r\n                                    : responseData.specialistType, key));\r\n                            break;\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.open, true));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllocatedDate(responseData, componentPropsJson, key, true));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotatedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllPageAnnotatedIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.OriginalMarkerName:\r\n                            key = gridSeq.get(responseListCount) + '_OriginalMarker_' + gridColumnCount;\r\n                            var originalMarkerName = this.getFormattedName(responseData.originalMarkerInitials, responseData.originalMarkerSurname);\r\n                            _workListCell.columnElement = (this.getGenericTextElement(originalMarkerName, key));\r\n                            break;\r\n                        case gridColumnNames.CentreNum:\r\n                            if (this.getRemarkSeedingCCValue() === false) {\r\n                                key = gridSeq.get(responseListCount) + '_Centre_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getGenericTextElement(responseData.centreNumber, key));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.CentreCandidateNum:\r\n                            key = gridSeq.get(responseListCount) + '_CentreCandidate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreCandidateNumber, key));\r\n                            break;\r\n                        case gridColumnNames.MarkChangeReason:\r\n                            if (responseData[componentPropsJson.markingProgress] === 100 &&\r\n                                responseData.markChangeReasonVisible\r\n                                && responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown\r\n                                && responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Accurate\r\n                                && !responseData.markChangeReason) {\r\n                                key = gridSeq.get(responseListCount) + '_MarkChangeReason_' + gridColumnCount;\r\n                                _workListCell.columnElement = this.getMarkChangeReasonColumnElement(responseData, componentPropsJson, key, enums.ResponseMode.open);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.SupervisorRemarkDecision:\r\n                            if (this.isSupervisorRemarkDecisionVisible() &&\r\n                                (responseData.supervisorRemarkMarkChangeReasonID === 0) &&\r\n                                responseData.markingProgress === 100) {\r\n                                key = gridSeq.get(responseListCount) + '_RemarkdecisonButton_' + gridColumnCount;\r\n                                _workListCell.columnElement = this.getSupervisorDecisionColumnElement(responseData, key);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.ResponseTypeLabel:\r\n                            isSeedResponseVisible = responseData.seedTypeId !== enums.SeedType.None;\r\n                            var responseType = isSeedResponseVisible ? enums.ResponseType.Seed : enums.ResponseType.None;\r\n                            key = gridSeq.get(responseListCount) + '_ResponseTypeLabel_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getResponseTypeLabel(key, isSeedResponseVisible, responseType));\r\n                            break;\r\n                        case gridColumnNames.OriginalMark:\r\n                            if (responseData.markingProgress === 100) {\r\n                                key = gridSeq.get(responseListCount) + '_OriginalMark_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getOriginalMarkElement(key, responseData, componentPropsJson, (responseData.markingProgress === 100)));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.OriginalMarkAccuracy:\r\n                            // accuracy indicator is shown only when its values is set\r\n                            if (responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown\r\n                                && responseData.markingProgress === 100) {\r\n                                key = gridSeq.get(responseListCount) + '_OriginalMarkAccuracy_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getOriginalMarkAccuracyElement(key, responseData, componentPropsJson, (responseData.markingProgress === 100)));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.Finalmarkselected:\r\n                            var decisionType = this.getSupervisorRemarkDecisionType(responseData);\r\n                            if (this.isSupervisorRemarkDecisionVisible() && decisionType !== null) {\r\n                                key = gridSeq.get(responseListCount) + '_Finalmarkselected_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getGenericTextElement(decisionType, key));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.TagIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_TagIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTag(key, responseData.tagId, tagStore.instance.tags, responseData.markGroupId));\r\n                            break;\r\n                        case gridColumnNames.AllFilesNotViewedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllFilesNotViewedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllFilesNotViewedIndicatorElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.open, responseData), undefined));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * get supervisor remark decision type\r\n     * @param response\r\n     */\r\n    RemarkWorklistHelper.prototype.getSupervisorRemarkDecisionType = function (response) {\r\n        var supervisorRemarkFinalMarkSetID = response.supervisorRemarkFinalMarkSetID;\r\n        if (supervisorRemarkFinalMarkSetID === 2) {\r\n            return localeStore.instance.TranslateText('marking.worklist.supervisor-remark-decision.original-marks-chosen');\r\n        }\r\n        else if (supervisorRemarkFinalMarkSetID === 1) {\r\n            return localeStore.instance.TranslateText('marking.worklist.supervisor-remark-decision.remark-chosen');\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    };\r\n    /**\r\n     * Generate row defenitions for pending detailed worklist in live\r\n     * @param responseListData\r\n     */\r\n    RemarkWorklistHelper.prototype.getRowDefinionForPendingDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var _worklistRow;\r\n        var componentPropsJson;\r\n        var key;\r\n        // Grid columns\r\n        var gridLeftColumn = Array();\r\n        var gridMiddleColumn = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _workListCell;\r\n        if (responseListData != null) {\r\n            this.setShowOriginalMarkerName(responseListData);\r\n            this.setNonNumeric(!responseListData.hasNumericMark);\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.directedremarkworklist.pending.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + 'TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.SpecialistType:\r\n                            key = gridSeq.get(responseListCount) + '_SpecialistType_' + gridColumnCount;\r\n                            _workListCell.columnElement =\r\n                                (this.getGenericTextElement(responseData.specialistType ===\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType) ?\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType)\r\n                                    : responseData.specialistType, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.pending, true));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + 'LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + 'LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.GracePeriodTime:\r\n                            key = gridSeq.get(responseListCount) + 'GracePeriodTime_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGracePeriodElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.OriginalMarkerName:\r\n                            key = gridSeq.get(responseListCount) + '_OriginalMarker_' + gridColumnCount;\r\n                            var originalMarkerName = this.getFormattedName(responseData.originalMarkerInitials, responseData.originalMarkerSurname);\r\n                            _workListCell.columnElement = (this.getGenericTextElement(originalMarkerName, key));\r\n                            break;\r\n                        case gridColumnNames.CentreNum:\r\n                            key = gridSeq.get(responseListCount) + '_Centre_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreNumber, key));\r\n                            break;\r\n                        case gridColumnNames.CentreCandidateNum:\r\n                            key = gridSeq.get(responseListCount) + '_CentreCandidate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreCandidateNumber, key));\r\n                            break;\r\n                        case gridColumnNames.OriginalMark:\r\n                            key = gridSeq.get(responseListCount) + '_OriginalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getOriginalMarkElement(key, responseData, componentPropsJson, true));\r\n                            break;\r\n                        case gridColumnNames.OriginalMarkAccuracy:\r\n                            // accuracy indicator is shown only when its values is set\r\n                            if (responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown) {\r\n                                key = gridSeq.get(responseListCount) + '_OriginalMarkAccuracy_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getOriginalMarkAccuracyElement(key, responseData, componentPropsJson, true));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.Finalmarkselected:\r\n                            var decisionType = this.getSupervisorRemarkDecisionType(responseData);\r\n                            if (this.isSupervisorRemarkDecisionVisible()) {\r\n                                key = gridSeq.get(responseListCount) + '_Finalmarkselected_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getGenericTextElement(decisionType, key));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.TagIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_TagIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTag(key, responseData.tagId, tagStore.instance.tags, responseData.markGroupId));\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.pending, responseData), undefined));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForLiveOpenDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of live open responses\r\n     * @returns grid row collection.\r\n     */\r\n    RemarkWorklistHelper.prototype.getRowDefinionForClosedDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var _worklistRow;\r\n        var componentPropsJson;\r\n        var key;\r\n        // Grid columns\r\n        var gridLeftColumn = Array();\r\n        var gridMiddleColumn = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _workListCell;\r\n        var isSeedResponse;\r\n        var isSeedHighlighted = false;\r\n        var cssClass;\r\n        if (responseListData != null) {\r\n            this.setShowOriginalMarkerName(responseListData);\r\n            this.setNonNumeric(!responseListData.hasNumericMark);\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.directedremarkworklist.closed.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId = (responseData.isWholeResponse &&\r\n                    responseData.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.closed);\r\n                var isEurSeedResponse = responseData.seedTypeId ===\r\n                    enums.SeedType.EUR;\r\n                gridLeftColumn = new Array();\r\n                gridMiddleColumn = new Array();\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.SpecialistType:\r\n                            key = gridSeq.get(responseListCount) + '_SpecialistType_' + gridColumnCount;\r\n                            _workListCell.columnElement =\r\n                                (this.getGenericTextElement(responseData.specialistType ===\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType) ?\r\n                                    localeStore.instance.TranslateText('marking.worklist.response-data.specialisttype-' + responseData.specialistType)\r\n                                    : responseData.specialistType, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.closed, false));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllocatedDateElement(responseData, componentPropsJson, key, false, false, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.OriginalMarkerName:\r\n                            key = gridSeq.get(responseListCount) + '_OriginalMarker_' + gridColumnCount;\r\n                            var originalMarkerName = this.getFormattedName(responseData.originalMarkerInitials, responseData.originalMarkerSurname);\r\n                            _workListCell.columnElement = (this.getGenericTextElement(originalMarkerName, key));\r\n                            break;\r\n                        case gridColumnNames.CentreNum:\r\n                            key = gridSeq.get(responseListCount) + '_Centre_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreNumber, key));\r\n                            break;\r\n                        case gridColumnNames.CentreCandidateNum:\r\n                            key = gridSeq.get(responseListCount) + '_CentreCandidate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreCandidateNumber, key));\r\n                            break;\r\n                        case gridColumnNames.AccuracyIndicator:\r\n                            // accuracy indicator is shown only when its values is set\r\n                            if (isEurSeedResponse === true\r\n                                && responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown) {\r\n                                key = gridSeq.get(responseListCount) + '_AccuracyIndicator_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getAccuracyIndicatorElement(responseData, componentPropsJson, key, false));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.AbsoluteMarksDifference:\r\n                            if (isEurSeedResponse === true) {\r\n                                key = gridSeq.get(responseListCount) + '_AbsoluteMarksDifference_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getMarksDifferenceElement(responseData, componentPropsJson, key, enums.MarksDifferenceType.AbsoluteMarksDifference, false));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.TotalMarksDifference:\r\n                            if (isEurSeedResponse === true) {\r\n                                key = gridSeq.get(responseListCount) + '_TotalMarksDifference_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getMarksDifferenceElement(responseData, componentPropsJson, key, enums.MarksDifferenceType.TotalMarksDifference, false));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.ResponseTypeLabel:\r\n                            var responseType = this.getResponseLabelType(responseData);\r\n                            var isResponseTypeLabelVisible = responseType !== enums.ResponseType.None;\r\n                            key = gridSeq.get(responseListCount) + '_ResponseTypeLabel_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getResponseTypeLabel(key, isResponseTypeLabelVisible, responseType));\r\n                            if (!isSeedHighlighted && qualityFeedbackHelper.isSeedNeededToBeHighlighted(responseData.qualityFeedbackStatusId, isResponseTypeLabelVisible)) {\r\n                                cssClass = 'highlight-seed';\r\n                                isSeedHighlighted = true;\r\n                            }\r\n                            else {\r\n                                cssClass = '';\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.OriginalMark:\r\n                            key = gridSeq.get(responseListCount) + '_OriginalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getOriginalMarkElement(key, responseData, componentPropsJson, true));\r\n                            break;\r\n                        case gridColumnNames.OriginalMarkAccuracy:\r\n                            // accuracy indicator is shown only when its values is set\r\n                            if (responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown) {\r\n                                key = gridSeq.get(responseListCount) + '_OriginalMarkAccuracy_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getOriginalMarkAccuracyElement(key, responseData, componentPropsJson, true));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.Finalmarkselected:\r\n                            var decisionType = this.getSupervisorRemarkDecisionType(responseData);\r\n                            if (this.isSupervisorRemarkDecisionVisible() && decisionType !== null) {\r\n                                key = gridSeq.get(responseListCount) + '_Finalmarkselected_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getGenericTextElement(decisionType, key));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.TagIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_TagIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTag(key, responseData.tagId, tagStore.instance.tags, responseData.markGroupId));\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                var additionalComponent = this.renderQualityFeedbackBanner(responseListCount, enums.WorklistType.directedRemark);\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.closed, responseData), additionalComponent, cssClass));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * Get the out put of formatted username\r\n     * @param {userInfoArgument} userInforArg\r\n     * @returns\r\n     */\r\n    RemarkWorklistHelper.prototype.getFormattedName = function (initials, surname) {\r\n        var formattedString = stringFormatHelper.getUserNameFormat().toLowerCase();\r\n        formattedString = formattedString.replace('{initials}', initials);\r\n        formattedString = formattedString.replace('{surname}', surname);\r\n        return formattedString;\r\n    };\r\n    /**\r\n     * returns whether the the given column is hidden or not\r\n     * @param responseColumn\r\n     */\r\n    RemarkWorklistHelper.prototype.getCellVisibility = function (column) {\r\n        var isHidden = false;\r\n        var specialistResponseCC = (configurableCharacteristicsHelper.getExamSessionCCValue(configurableCharacteristicsNames.SpecialistResponseMarking, qigStore.instance.selectedQIGForMarkerOperation.examSessionId).toLowerCase() === 'true');\r\n        switch (column) {\r\n            case gridColumnNames.AbsoluteMarksDifference:\r\n            case gridColumnNames.TotalMarksDifference:\r\n            case gridColumnNames.AccuracyIndicator:\r\n                isHidden = !((configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.AutomaticQualityFeedback, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId) === 'true')\r\n                    && (this.getRemarkSeedingCCValue() === true));\r\n                break;\r\n            case gridColumnNames.OriginalMarkerName:\r\n                isHidden = (this.getRemarkSeedingCCValue() === true) || (this.showOriginalMarkerName === false);\r\n                break;\r\n            case gridColumnNames.SLAOIndicator:\r\n                if (this.isStructuredQIG() === false) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n            case gridColumnNames.AllPageAnnotedIndicator:\r\n                if (this.isStructuredQIG() === true) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n            case gridColumnNames.TotalMark:\r\n                if (this.isNonNumeric() === true) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n            case gridColumnNames.ResponseTypeLabel:\r\n                isHidden = markerOperationModeFactory.operationMode.isSeedLabelHidden;\r\n                break;\r\n            case gridColumnNames.SupervisorRemarkDecision:\r\n            case gridColumnNames.Finalmarkselected:\r\n                isHidden = !this.isSupervisorRemarkColumnsVisible;\r\n                break;\r\n            case gridColumnNames.OriginalMark:\r\n            case gridColumnNames.OriginalMarkAccuracy:\r\n                isHidden = !this.isSupervisorRemarkColumnsVisible || this.isNonNumeric();\r\n                break;\r\n            case gridColumnNames.CentreNum:\r\n                isHidden = (worklistStore.instance.getResponseMode === enums.ResponseMode.open) &&\r\n                    (this.getRemarkSeedingCCValue() === true) ? true : false;\r\n                break;\r\n            case gridColumnNames.SpecialistType:\r\n                isHidden = !((examinerStore.instance.getMarkerInformation.isSpecialist\r\n                    || (qigStore.instance.getSelectedQIGForTheLoggedInUser &&\r\n                        qigStore.instance.getSelectedQIGForTheLoggedInUser.role === enums.ExaminerRole.principalExaminer))\r\n                    && specialistResponseCC);\r\n                break;\r\n        }\r\n        return isHidden;\r\n    };\r\n    Object.defineProperty(RemarkWorklistHelper.prototype, \"isSupervisorRemarkColumnsVisible\", {\r\n        /**\r\n         * return whether we need to show/hide the supervisor remark worklist columns\r\n         */\r\n        get: function () {\r\n            var markSchemeGroupId = qigStore.instance.selectedQIGForMarkerOperation ?\r\n                qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId : 0;\r\n            var isSupervisorRemarkDecisionCCOn = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SupervisorRemarkDecision, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n            return (isSupervisorRemarkDecisionCCOn\r\n                && worklistStore.instance.getRemarkRequestType === enums.RemarkRequestType.SupervisorRemark);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * returns the grdicolumns based on the response mode and worklist type\r\n     * @param responseMode\r\n     */\r\n    RemarkWorklistHelper.prototype.getGridColumns = function (resolvedGridColumnsJson, worklistType, responseMode, isFrozen) {\r\n        if (isFrozen === void 0) { isFrozen = false; }\r\n        var gridColumns;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.directedremarkworklist.open.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.liveworklist.open.frozenRows.GridColumns;\r\n                break;\r\n            case enums.ResponseMode.pending:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.directedremarkworklist.pending.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.liveworklist.pending.frozenRows.GridColumns;\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.directedremarkworklist.closed.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.liveworklist.closed.frozenRows.GridColumns;\r\n                break;\r\n        }\r\n        return gridColumns;\r\n    };\r\n    /**\r\n     * returns the accuracy type based on accuracy  and CC values\r\n     * @param responseMode\r\n     * @param responseData\r\n     */\r\n    RemarkWorklistHelper.prototype.getAccuracyType = function (responseMode, responseData) {\r\n        var accuracyType;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n            case enums.ResponseMode.pending:\r\n                accuracyType = enums.AccuracyIndicatorType.Unknown;\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                var qualityFeedbackCC = (configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.AutomaticQualityFeedback, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId) === 'true');\r\n                var isSeedResponse = (responseData.seedTypeId !== enums.SeedType.None) &&\r\n                    (responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown);\r\n                accuracyType = ((isSeedResponse === true && qualityFeedbackCC === true && this.getRemarkSeedingCCValue() === true) ?\r\n                    responseData.accuracyIndicatorTypeID : enums.AccuracyIndicatorType.Unknown);\r\n                break;\r\n        }\r\n        return accuracyType;\r\n    };\r\n    /**\r\n     * returns the resposne staus based on the worklist and its validator type\r\n     * @param worklistType\r\n     * @param responseMode\r\n     */\r\n    RemarkWorklistHelper.prototype.getResponseStatus = function (responseData, responseMode) {\r\n        var responseStatus;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                responseStatus = worklistValidatorFactory.getValidator(worklistValidatorList.directedRemarkOpen).\r\n                    submitButtonValidate(responseData);\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n            case enums.ResponseMode.pending:\r\n                responseStatus = Immutable.List().push(enums.ResponseStatus.none);\r\n                break;\r\n        }\r\n        return responseStatus;\r\n    };\r\n    /**\r\n     * set the variable of showOriginalMarkerName based on the value in worklist data.\r\n     * @param responseListData\r\n     */\r\n    RemarkWorklistHelper.prototype.setShowOriginalMarkerName = function (responseListData) {\r\n        var _responseListData = responseListData.responses.toArray();\r\n        for (var _responseCount = 0; _responseCount < _responseListData.length; _responseCount++) {\r\n            if (_responseListData[_responseCount].showOriginalMarkerName === true) {\r\n                this.showOriginalMarkerName = true;\r\n                return;\r\n            }\r\n        }\r\n        this.showOriginalMarkerName = false;\r\n    };\r\n    /**\r\n     * get the value of remark seeding cc based on the remark type.\r\n     */\r\n    RemarkWorklistHelper.prototype.getRemarkSeedingCCValue = function () {\r\n        var ccValue = configurableCharacteristicsHelper.getExamSessionCCValue(configurableCharacteristicsNames.RemarkSeeding, qigStore.instance.selectedQIGForMarkerOperation.examSessionId);\r\n        if (ccValue && ccValue !== '') {\r\n            var xmlHelperObj = new xmlHelper(ccValue);\r\n            var remarkType = xmlHelperObj.getNodeValueByName('RemarkType');\r\n            remarkType = (remarkType) ? remarkType.replace(/ /g, '') : '';\r\n            return (enums.RemarkRequestType[worklistStore.instance.getRemarkRequestType] === remarkType);\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * creating react element for the  MarkChangeReason component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the MarkingProgress component\r\n     * @param seq - key value for the component\r\n     * @param responseMode - response mode\r\n     * @returns JSX.Element.\r\n     */\r\n    RemarkWorklistHelper.prototype.getMarkChangeReasonColumnElement = function (responseData, propsNames, seq, responseMode) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isInResponse: false,\r\n            markChangeReason: responseData.markChangeReason\r\n        };\r\n        var markChangeReason = Immutable.List([React.createElement(MarkChangeReason, componentProps)]);\r\n        return this.getWrappedColumn(markChangeReason, 'col wl-eur-reason-holder', seq + 'wrapped').columnElement;\r\n    };\r\n    /**\r\n     * get supervisor remark decision visibility\r\n     * @param response\r\n     */\r\n    RemarkWorklistHelper.prototype.isSupervisorRemarkDecisionVisible = function () {\r\n        var markSchemeGroupId = qigStore.instance.selectedQIGForMarkerOperation ?\r\n            qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId : 0;\r\n        var isSupervisorRemarkDecisionCCOn = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SupervisorRemarkDecision, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        return (isSupervisorRemarkDecisionCCOn\r\n            && worklistStore.instance.getRemarkRequestType === enums.RemarkRequestType.SupervisorRemark);\r\n    };\r\n    /**\r\n     * creating react element for the  Supervisordecision component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the MarkingProgress component\r\n     * @param seq - key value for the component\r\n     */\r\n    RemarkWorklistHelper.prototype.getSupervisorDecisionColumnElement = function (responseData, seq, isTileView) {\r\n        if (isTileView === void 0) { isTileView = false; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            isTileView: isTileView,\r\n            selectedLanguage: localeStore.instance.Locale\r\n        };\r\n        return React.createElement(SupervisorRemarkDecisionIcon, componentProps);\r\n    };\r\n    return RemarkWorklistHelper;\r\n}(worklistHelperBase));\r\nmodule.exports = RemarkWorklistHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4NS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGhlbHBlcnMvcmVtYXJrd29ya2xpc3RoZWxwZXIudHM/NGMxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZ3JpZFJvdyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9ncmlkcm93Jyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IGdyaWRDZWxsID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL2dyaWRjZWxsJyk7XHJcbmxldCB3b3JrbGlzdEdyaWRDb2x1bW5zSnNvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGdyaWRjb2x1bW5zLmpzb24nKTtcclxuaW1wb3J0IHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9yZmFjdG9yeScpO1xyXG5pbXBvcnQgd29ya2xpc3RWYWxpZGF0b3JMaXN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvd29ya2xpc3R2YWxpZGF0b3JsaXN0Jyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL2VudW1zJyk7XHJcbmltcG9ydCBncmlkQ29sdW1uTmFtZXMgPSByZXF1aXJlKCcuLi9ncmlkY29sdW1ubmFtZXMnKTtcclxuaW1wb3J0IHdvcmtsaXN0SGVscGVyQmFzZSA9IHJlcXVpcmUoJy4vd29ya2xpc3RoZWxwZXJiYXNlJyk7XHJcbmltcG9ydCBqc29uUmVmUmVzb2x2ZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2pzb25yZWZyZXNvbHZlci9qb3NucmVmcmVzb2x2ZXInKTtcclxuaW1wb3J0IHN0cmluZ0Zvcm1hdEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvc3RyaW5nZm9ybWF0L3N0cmluZ2Zvcm1hdGhlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xyXG5pbXBvcnQgeG1sSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL3htbGhlbHBlcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBNYXJrQ2hhbmdlUmVhc29uID0gcmVxdWlyZSgnLi4vLi4vLi4vbWFya3NjaGVtZXN0cnVjdHVyZS9tYXJrY2hhbmdlcmVhc29uJyk7XHJcbmltcG9ydCBTdXBlcnZpc29yUmVtYXJrRGVjaXNpb25JY29uID0gcmVxdWlyZSgnLi4vLi4vLi4vbWFya3NjaGVtZXN0cnVjdHVyZS9zdXBlcnZpc29ycmVtYXJrZGVjaXNpb25pY29uJyk7XHJcbmltcG9ydCBxdWFsaXR5RmVlZGJhY2tIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3F1YWxpdHlmZWVkYmFjay9xdWFsaXR5ZmVlZGJhY2toZWxwZXInKTtcclxuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vbWFya2Vyb3BlcmF0aW9ubW9kZS9tYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeScpO1xyXG5pbXBvcnQgbWFya2luZ09wZXJhdGlvbk1vZGUgPSByZXF1aXJlKCcuLi8uLi9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtpbmdvcGVyYXRpb25tb2RlJyk7XHJcbmltcG9ydCB0YWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy90YWdzL3RhZ3N0b3JlJyk7XHJcbmltcG9ydCBleGFtaW5lclN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3RvcmVzL21hcmtlcmluZm9ybWF0aW9uL2V4YW1pbmVyc3RvcmUnKTtcclxuXHJcbi8qKlxyXG4gKiBjbGFzcyBmb3IgV29ya0xpc3QgSGVscGVyIGltcGxlbWVudGF0aW9uXHJcbiAqL1xyXG5jbGFzcyBSZW1hcmtXb3JrbGlzdEhlbHBlciBleHRlbmRzIHdvcmtsaXN0SGVscGVyQmFzZSB7XHJcblxyXG4gICAgLyoqIHZhcmlhYmxlIHRvIGhvbGRzIHdoZXRoZXIgdGhlIG9yaWdpbmFsIG1hcmtlciBuYW1lIHNob3dzIG9yIG5vdCBiYXNlZCBvbiBEQiB2YWx1ZSAobm90IENDKSAqL1xyXG4gICAgcHJpdmF0ZSBzaG93T3JpZ2luYWxNYXJrZXJOYW1lOiBib29sZWFuO1xyXG5cclxuICAgIC8qIHZhcmlhYmxlIHRvIGhvbGRzIHRoZSByZXNwb25zZSB0eXBlIGZvciBzaG93aW5nIHRoZSByZXNwb25zZSB0eXBlIGxhYmVsKi9cclxuICAgIHByaXZhdGUgX3Jlc3BvbnNlVHlwZSA9IGVudW1zLlJlc3BvbnNlVHlwZS5Ob25lO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVSb3dEZWZpbmlvbiBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YSAtIGxpc3Qgb2YgZGlyZWN0ZWQgcmVtYXJrIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VUeXBlIC0gdHlwZSBvZiB0aGUgcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBncmlkVHlwZSAtIHR5cGUgb2YgZ3JpZHZpZXcgdGlsZS9kZXRhaWxcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZVJvd0RlZmluaW9uKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSxcclxuICAgICAgICByZXNwb25zZVR5cGU6IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBncmlkVHlwZTogZW51bXMuR3JpZFR5cGUpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcblxyXG4gICAgICAgIHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24gPSBqc29uUmVmUmVzb2x2ZXIucmVzb2x2ZVJlZnMod29ya2xpc3RHcmlkQ29sdW1uc0pzb24pO1xyXG5cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuTGlzdDxncmlkUm93PigpO1xyXG4gICAgICAgIHN3aXRjaCAocmVzcG9uc2VUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGdyaWRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvck9wZW5EZXRhaWwocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUudGlsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JPcGVuVGlsZWQocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZDpcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZ3JpZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkdyaWRUeXBlLmRldGFpbGVkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaW9uRm9yQ2xvc2VkRGV0YWlsKHJlc3BvbnNlTGlzdERhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkdyaWRUeXBlLnRpbGVkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaW9uRm9yQ2xvc2VkVGlsZWQocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmc6XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGdyaWRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvclBlbmRpbmdEZXRhaWwocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUudGlsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JQZW5kaW5nVGlsZWQocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvckRpcmVjdGVkUmVtYXJrT3BlblRpbGVkIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWQgaW4gdGlsZWQgdmlld1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIGRpcmVjdGVkIHJlbWFyayBvcGVuIHJlc3BvbnNlc1xyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvck9wZW5UaWxlZChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPSAocmVzcG9uc2VEYXRhLmlzV2hvbGVSZXNwb25zZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5yZWxhdGVkUklHRGV0YWlscykgPyAwIDpcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXMgPSB0aGlzLmdldFJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlRGF0YSwgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4pO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5kaXJlY3RlZHJlbWFya3dvcmtsaXN0Lm9wZW4udGlsZXZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgZnJlc2ggc2V0IG9mIGdyb3VwcyBmb3IgZXZlcnkgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbXB0eUdyb3VwQ29sdW1ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk1hcmtpbmdQcm9ncmVzczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTWFya2luZ1Byb2dyZXNzXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZ2V0TWFya2luZ1Byb2dyZXNzRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Xb3JrbGlzdFR5cGUuZGlyZWN0ZWRSZW1hcmspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBHcm91cENvbHVtbnMoJ3dvcmtsaXN0LXRpbGUtZm9vdGVyJywgZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmVzcG9uc2VJZENvbHVtbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfUmVzcG9uc2VJZENvbHVtbl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRSZXNwb25zZUlkQ29sdW1uRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG5cdFx0XHRcdFx0XHRcdFx0a2V5LFxyXG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VMaXN0RGF0YS5oYXNOdW1lcmljTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUub3BlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsIGZhbHNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJrQ2hhbmdlUmVhc29uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGF0YVtjb21wb25lbnRQcm9wc0pzb24ubWFya2luZ1Byb2dyZXNzXSA9PT0gMTAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtDaGFuZ2VSZWFzb25WaXNpYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgcmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEICE9PSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93blxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJlc3BvbnNlRGF0YS5hY2N1cmFjeUluZGljYXRvclR5cGVJRCAhPT0gZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLkFjY3VyYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIXJlc3BvbnNlRGF0YS5tYXJrQ2hhbmdlUmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19NYXJrQ2hhbmdlUmVhc29uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmdldE1hcmtDaGFuZ2VSZWFzb25Db2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcEdyb3VwQ29sdW1ucygnaWNvbi1ob2xkZXInLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TdXBlcnZpc29yUmVtYXJrRGVjaXNpb246XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1N1cGVydmlzb3JSZW1hcmtEZWNpc2lvblZpc2libGUoKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZXNwb25zZURhdGEuc3VwZXJ2aXNvclJlbWFya01hcmtDaGFuZ2VSZWFzb25JRCA9PT0gMCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya2luZ1Byb2dyZXNzID09PSAxMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1JlbWFya2RlY2lzb25CdXR0b25fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZ2V0U3VwZXJ2aXNvckRlY2lzaW9uQ29sdW1uRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBHcm91cENvbHVtbnMoJ2ljb24taG9sZGVyJywgZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkRXhjZXB0aW9uSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRFeGNlcHRpb25fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG93IG9ubHkgaWYgdGhlcmUgYXJlIGJsb2NraW5nIGV4Y2VwdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZURhdGFbY29tcG9uZW50UHJvcHNKc29uLmhhc0Jsb2NraW5nRXhjZXB0aW9uc10pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmdldExpbmtlZEV4Y2VwdGlvbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBHcm91cENvbHVtbnMoJ2ljb24taG9sZGVyJywgZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsUGFnZUFubm90ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbFBhZ2VBbm5vdGF0ZWRfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYW5ub3RhdGlvbiBpbmRpY2F0b3IgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbGxQYWdlRWxlbWVudCA9IHRoaXMuZ2V0QWxsUGFnZUFubm90YXRpb25JbmRpY2F0b3JFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVja2luZyB3aGV0aGVyIHRoZSBpbmRpY2F0b3IgaXMgdmFsaWQgdG8gZGlzcGxheS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxQYWdlRWxlbWVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBHcm91cENvbHVtbnMoJ2ljb24taG9sZGVyJywgYWxsUGFnZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNMQU9JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFNMQU9JbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxGaWxlc05vdFZpZXdlZEluZGljYXRvcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFsbEZpbGVzTm90Vmlld2VkRWxlbWVudCA9ICh0aGlzLmdldEFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBHcm91cENvbHVtbnMoJ3dvcmtsaXN0LXRpbGUtZm9vdGVyJywgYWxsRmlsZXNOb3RWaWV3ZWRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGVsZW1lbnRzIHF1ZXVlZCB0byBncm91cCwgdGhlbiBncm91cCB0aGUgZWxlbWVudHMuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cENvbHVtbnMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfVGlsZV9Hcm91cF8nO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ3JvdXBDb2x1bW5FbGVtZW50cygnd29ya2xpc3QtdGlsZS1mb290ZXInLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd1N0eWxlKHRoaXMuc2V0Um93U3R5bGUocmVzcG9uc2VTdGF0dXMpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dJZChwYXJzZUZsb2F0KHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRDZWxscyhfd29ya0xpc3RDZWxsY29sbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goX3dvcmtsaXN0Um93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSByZXNwb25zZSBsYWJlbCB0eXBlIGZvciByZW1hcmsgd29ya2xpc3RcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURhdGFcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSZXNwb25zZUxhYmVsVHlwZShyZXNwb25zZURhdGEpOiBlbnVtcy5SZXNwb25zZVR5cGUge1xyXG4gICAgICAgIGxldCBpc1NlZWRSZXNwb25zZTogYm9vbGVhbiA9ICgocmVzcG9uc2VEYXRhKS5zZWVkVHlwZUlkICE9PSBlbnVtcy5TZWVkVHlwZS5Ob25lKVxyXG4gICAgICAgICAgICAmJiAocmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEICE9PSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93bik7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGlzU2VlZFJlc3BvbnNlID8gZW51bXMuUmVzcG9uc2VUeXBlLlNlZWQgOiBlbnVtcy5SZXNwb25zZVR5cGUuTm9uZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldFJvd0RlZmluaW9uRm9yQ2xvc2VkVGlsZWQgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZCBpbiB0aWxlZCB2aWV3XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YSAtIGxpc3Qgb2YgZGlyZWN0ZWQgb3BlbiByZXNwb25zZXNcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb25Gb3JDbG9zZWRUaWxlZChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBpc1NlZWRIaWdobGlnaHRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPSAocmVzcG9uc2VEYXRhLmlzV2hvbGVSZXNwb25zZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5yZWxhdGVkUklHRGV0YWlscykgPyAwIDpcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuZGlyZWN0ZWRyZW1hcmt3b3JrbGlzdC5jbG9zZWQudGlsZXZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgZnJlc2ggc2V0IG9mIGdyb3VwcyBmb3IgZXZlcnkgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbXB0eUdyb3VwQ29sdW1ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpc1NlZWRSZXNwb25zZTogYm9vbGVhbiA9IChyZXNwb25zZURhdGEgYXMgRGlyZWN0ZWRSZW1hcmtDbG9zZWRSZXNwb25zZSkuc2VlZFR5cGVJZCAhPT1cclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TZWVkVHlwZS5Ob25lID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpc0V1clNlZWRSZXNwb25zZTogYm9vbGVhbiA9IChyZXNwb25zZURhdGEgYXMgRGlyZWN0ZWRSZW1hcmtDbG9zZWRSZXNwb25zZSkuc2VlZFR5cGVJZCA9PT1cclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TZWVkVHlwZS5FVVI7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcG9uZW50UHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmVzcG9uc2VJZENvbHVtbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc3BvbnNlVHlwZSA9IHRoaXMuZ2V0UmVzcG9uc2VMYWJlbFR5cGUocmVzcG9uc2VEYXRhIGFzIERpcmVjdGVkUmVtYXJrQ2xvc2VkUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZXNwb25zZUlkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFJlc3BvbnNlSWRDb2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcblx0XHRcdFx0XHRcdFx0XHRrZXksXHJcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUxpc3REYXRhLmhhc051bWVyaWNNYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRXVyU2VlZFJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2VUeXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJrc0RpZmZlcmVuY2U6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXVyU2VlZFJlc3BvbnNlID09PSB0cnVlICYmIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNBdXRvbWF0aWNRdWFsaXR5RmVlZGJhY2tDQ09uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19NYXJrc0RpZmZlcmVuY2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldE1hcmtzRGlmZmVyZW5jZUNvbHVtbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBfcm93U3R5bGU6IHN0cmluZyA9IHRoaXMuc2V0Um93U3R5bGUoSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCkucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub25lKSxcclxuICAgICAgICAgICAgICAgICAgICBpc0V1clNlZWRSZXNwb25zZSA9PT0gdHJ1ZSA/IHJlc3BvbnNlRGF0YS5hY2N1cmFjeUluZGljYXRvclR5cGVJRCA6IGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5Vbmtub3duKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVzcG9uc2VUeXBlICE9PSBlbnVtcy5SZXNwb25zZVR5cGUuTm9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yb3dTdHlsZSArPSAnIGxhYmVsZWQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpc1NlZWRSZXNwb25zZSAmJiB0aGlzLnNob3dTZWVkTGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBfcm93U3R5bGUgKz0gJyBzZWVkJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzU2VlZEhpZ2hsaWdodGVkXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcXVhbGl0eUZlZWRiYWNrSGVscGVyLmlzU2VlZE5lZWRlZFRvQmVIaWdobGlnaHRlZCgocmVzcG9uc2VEYXRhIGFzIERpcmVjdGVkUmVtYXJrQ2xvc2VkUmVzcG9uc2UpLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5RmVlZGJhY2tTdGF0dXNJZCwgaXNFdXJTZWVkUmVzcG9uc2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jvd1N0eWxlICs9ICcgaGlnaGxpZ2h0LXNlZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU2VlZEhpZ2hsaWdodGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93U3R5bGUoX3Jvd1N0eWxlKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dJZChwYXJzZUZsb2F0KHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRDZWxscyhfd29ya0xpc3RDZWxsY29sbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goX3dvcmtsaXN0Um93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgZGlyZWN0ZWQgcmVtYXJrIHBlbmRpbmcgd29ya2xpc3QgZGV0YWlscy5cclxuICAgICAqIEBwYXJhbSB7V29ya2xpc3RCYXNlfSByZXNwb25zZUxpc3REYXRhXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yUGVuZGluZ1RpbGVkKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcclxuICAgICAgICBsZXQgX3dvcmtsaXN0Um93OiBncmlkUm93O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQga2V5OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZUxpc3REYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRTZXEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy5rZXlTZXEoKTtcclxuICAgICAgICAgICAgbGV0IF9yZXNwb25zZUxpc3REYXRhID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCByZXNwb25zZUxpc3RDb3VudCA9IDA7IHJlc3BvbnNlTGlzdENvdW50IDwgX3Jlc3BvbnNlTGlzdERhdGEubGVuZ3RoOyByZXNwb25zZUxpc3RDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBkYXRhIHJvd1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9IChyZXNwb25zZURhdGEuaXNXaG9sZVJlc3BvbnNlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnJlbGF0ZWRSSUdEZXRhaWxzKSA/IDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5kaXJlY3RlZHJlbWFya3dvcmtsaXN0LnBlbmRpbmcudGlsZXZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlSWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnUmVzcG9uc2VJZENvbHVtbl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRSZXNwb25zZUlkQ29sdW1uRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG5cdFx0XHRcdFx0XHRcdFx0a2V5LFxyXG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VMaXN0RGF0YS5oYXNOdW1lcmljTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuR3JhY2VQZXJpb2RUaW1lOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ0dyYWNlUGVyaW9kVGltZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRBbGxvY2F0ZWREYXRlRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJrc0RpZmZlcmVuY2U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX01hcmtzRGlmZmVyZW5jZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRNYXJrc0RpZmZlcmVuY2VDb2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93U3R5bGUoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRSb3dTdHlsZShJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4oKS5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vbmUpLCB1bmRlZmluZWQpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dUaXRsZSh0aGlzLnNldFJvd1RpdGxlKHJlc3BvbnNlRGF0YS5hY2N1cmFjeUluZGljYXRvclR5cGVJRCkpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd0lkKHBhcnNlRmxvYXQocmVzcG9uc2VEYXRhLmRpc3BsYXlJZCkpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldENlbGxzKF93b3JrTGlzdENlbGxjb2xsZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChfd29ya2xpc3RSb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3dvcmtMaXN0Um93Q29sbGVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldFJvd0RlZmluaW9uRm9yTGl2ZU9wZW5EZXRhaWwgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZCBpbiBkZXRhaWwgdmlld1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIGxpdmUgb3BlbiByZXNwb25zZXNcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb25Gb3JPcGVuRGV0YWlsKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQga2V5OiBzdHJpbmc7XHJcbiAgICAgICAgbGV0IGlzU2VlZFJlc3BvbnNlVmlzaWJsZTogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTaG93T3JpZ2luYWxNYXJrZXJOYW1lKHJlc3BvbnNlTGlzdERhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLnNldE5vbk51bWVyaWMoIXJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmspO1xyXG5cclxuICAgICAgICAgICAgbGV0IGdyaWRTZXEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy5rZXlTZXEoKTtcclxuICAgICAgICAgICAgbGV0IF9yZXNwb25zZUxpc3REYXRhID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VMaXN0TGVuZ3RoID0gX3Jlc3BvbnNlTGlzdERhdGEubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNldER5bmFtaWNDb2x1bW5TZXR0aW5ncygpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCByZXNwb25zZUxpc3RDb3VudCA9IDA7IHJlc3BvbnNlTGlzdENvdW50IDwgcmVzcG9uc2VMaXN0TGVuZ3RoOyByZXNwb25zZUxpc3RDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBkYXRhIHJvd1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLmRpcmVjdGVkcmVtYXJrd29ya2xpc3Qub3Blbi5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuZGlyZWN0ZWRyZW1hcmt3b3JrbGlzdC5vcGVuLmRldGFpbHZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPSAocmVzcG9uc2VEYXRhLmlzV2hvbGVSZXNwb25zZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5yZWxhdGVkUklHRGV0YWlscykgPyAwIDpcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXMgPSB0aGlzLmdldFJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlRGF0YSwgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcG9uZW50UHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJraW5nUHJvZ3Jlc3M6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX01hcmtpbmdQcm9ncmVzc18nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0TWFya2luZ1Byb2dyZXNzRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Xb3JrbGlzdFR5cGUuZGlyZWN0ZWRSZW1hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TcGVjaWFsaXN0VHlwZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfU3BlY2lhbGlzdFR5cGVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLnNwZWNpYWxpc3RUeXBlID09PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zcGVjaWFsaXN0dHlwZS0nICsgcmVzcG9uc2VEYXRhLnNwZWNpYWxpc3RUeXBlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEuc3BlY2lhbGlzdHR5cGUtJyArIHJlc3BvbnNlRGF0YS5zcGVjaWFsaXN0VHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXNwb25zZURhdGEuc3BlY2lhbGlzdFR5cGUgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Ub3RhbE1hcms6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1RvdGFsTWFya18nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0VG90YWxNYXJrRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5oYXNOdW1lcmljTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUxpc3REYXRhLm1heGltdW1NYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MYXN0VXBkYXRlZENvbHVtbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGFzdFVwZGF0ZWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldExhc3RVcGRhdGVkRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUub3BlbiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbG9jYXRlZERhdGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbG9jYXRlZERhdGVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFsbG9jYXRlZERhdGUocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNMQU9JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFNMQU9JbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxQYWdlQW5ub3RlZEluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWxsUGFnZUFubm90YXRlZEluZGljYXRvcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0QWxsUGFnZUFubm90YXRlZEluZGljYXRvckVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZE1lc3NhZ2VJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xpbmtlZE1lc3NhZ2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldExpbmtlZE1lc3NhZ2VFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkRXhjZXB0aW9uSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRFeGNlcHRpb25fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldExpbmtlZEV4Y2VwdGlvbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5PcmlnaW5hbE1hcmtlck5hbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX09yaWdpbmFsTWFya2VyXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3JpZ2luYWxNYXJrZXJOYW1lOiBzdHJpbmcgPSB0aGlzLmdldEZvcm1hdHRlZE5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2VEYXRhLm9yaWdpbmFsTWFya2VySW5pdGlhbHMsIHJlc3BvbnNlRGF0YS5vcmlnaW5hbE1hcmtlclN1cm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KG9yaWdpbmFsTWFya2VyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5DZW50cmVOdW06XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRSZW1hcmtTZWVkaW5nQ0NWYWx1ZSgpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQ2VudHJlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5jZW50cmVOdW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkNlbnRyZUNhbmRpZGF0ZU51bTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQ2VudHJlQ2FuZGlkYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLmNlbnRyZUNhbmRpZGF0ZU51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJrQ2hhbmdlUmVhc29uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGF0YVtjb21wb25lbnRQcm9wc0pzb24ubWFya2luZ1Byb2dyZXNzXSA9PT0gMTAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtDaGFuZ2VSZWFzb25WaXNpYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgcmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEICE9PSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93blxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJlc3BvbnNlRGF0YS5hY2N1cmFjeUluZGljYXRvclR5cGVJRCAhPT0gZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLkFjY3VyYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIXJlc3BvbnNlRGF0YS5tYXJrQ2hhbmdlUmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19NYXJrQ2hhbmdlUmVhc29uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRNYXJrQ2hhbmdlUmVhc29uQ29sdW1uRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUub3Blbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdXBlcnZpc29yUmVtYXJrRGVjaXNpb25WaXNpYmxlKCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2VEYXRhLnN1cGVydmlzb3JSZW1hcmtNYXJrQ2hhbmdlUmVhc29uSUQgPT09IDApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtpbmdQcm9ncmVzcyA9PT0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZW1hcmtkZWNpc29uQnV0dG9uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRTdXBlcnZpc29yRGVjaXNpb25Db2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5SZXNwb25zZVR5cGVMYWJlbDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VlZFJlc3BvbnNlVmlzaWJsZSA9IChyZXNwb25zZURhdGEgYXMgRGlyZWN0ZWRSZW1hcmtPcGVuUmVzcG9uc2UpLnNlZWRUeXBlSWQgIT09IGVudW1zLlNlZWRUeXBlLk5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VUeXBlID0gaXNTZWVkUmVzcG9uc2VWaXNpYmxlID8gZW51bXMuUmVzcG9uc2VUeXBlLlNlZWQgOiBlbnVtcy5SZXNwb25zZVR5cGUuTm9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfUmVzcG9uc2VUeXBlTGFiZWxfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFJlc3BvbnNlVHlwZUxhYmVsKGtleSwgaXNTZWVkUmVzcG9uc2VWaXNpYmxlLCByZXNwb25zZVR5cGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5PcmlnaW5hbE1hcms6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLm1hcmtpbmdQcm9ncmVzcyA9PT0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19PcmlnaW5hbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRPcmlnaW5hbE1hcmtFbGVtZW50KGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLCBjb21wb25lbnRQcm9wc0pzb24sIChyZXNwb25zZURhdGEubWFya2luZ1Byb2dyZXNzID09PSAxMDApKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuT3JpZ2luYWxNYXJrQWNjdXJhY3k6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhY2N1cmFjeSBpbmRpY2F0b3IgaXMgc2hvd24gb25seSB3aGVuIGl0cyB2YWx1ZXMgaXMgc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEICE9PSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93blxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJlc3BvbnNlRGF0YS5tYXJraW5nUHJvZ3Jlc3MgPT09IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfT3JpZ2luYWxNYXJrQWNjdXJhY3lfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRPcmlnaW5hbE1hcmtBY2N1cmFjeUVsZW1lbnQoa2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsIGNvbXBvbmVudFByb3BzSnNvbiwgKHJlc3BvbnNlRGF0YS5tYXJraW5nUHJvZ3Jlc3MgPT09IDEwMCkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5GaW5hbG1hcmtzZWxlY3RlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWNpc2lvblR5cGU6IHN0cmluZyA9IHRoaXMuZ2V0U3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uVHlwZShyZXNwb25zZURhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uVmlzaWJsZSgpICYmIGRlY2lzaW9uVHlwZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfRmluYWxtYXJrc2VsZWN0ZWRfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQoZGVjaXNpb25UeXBlLCBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5UYWdJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1RhZ0luZGljYXRvcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0VGFnKGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEudGFnSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnU3RvcmUuaW5zdGFuY2UudGFncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya0dyb3VwSWQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxGaWxlc05vdFZpZXdlZEluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuaXNIaWRkZW4gPSB0aGlzLmdldENlbGxWaXNpYmlsaXR5KF9yZXNwb25zZUNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmRpc3BsYXlJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QWNjdXJhY3lUeXBlKGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuLCByZXNwb25zZURhdGEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHN1cGVydmlzb3IgcmVtYXJrIGRlY2lzaW9uIHR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFN1cGVydmlzb3JSZW1hcmtEZWNpc2lvblR5cGUocmVzcG9uc2U6IFJlc3BvbnNlQmFzZSk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHN1cGVydmlzb3JSZW1hcmtGaW5hbE1hcmtTZXRJRDogbnVtYmVyID0gcmVzcG9uc2Uuc3VwZXJ2aXNvclJlbWFya0ZpbmFsTWFya1NldElEO1xyXG4gICAgICAgIGlmIChzdXBlcnZpc29yUmVtYXJrRmluYWxNYXJrU2V0SUQgPT09IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3Quc3VwZXJ2aXNvci1yZW1hcmstZGVjaXNpb24ub3JpZ2luYWwtbWFya3MtY2hvc2VuJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzdXBlcnZpc29yUmVtYXJrRmluYWxNYXJrU2V0SUQgPT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3Quc3VwZXJ2aXNvci1yZW1hcmstZGVjaXNpb24ucmVtYXJrLWNob3NlbicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSByb3cgZGVmZW5pdGlvbnMgZm9yIHBlbmRpbmcgZGV0YWlsZWQgd29ya2xpc3QgaW4gbGl2ZVxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGFcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvclBlbmRpbmdEZXRhaWwocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG4gICAgICAgIC8vIEdyaWQgY29sdW1uc1xyXG4gICAgICAgIGxldCBncmlkTGVmdENvbHVtbiA9IEFycmF5PEpTWC5FbGVtZW50PigpO1xyXG4gICAgICAgIGxldCBncmlkTWlkZGxlQ29sdW1uID0gQXJyYXk8SlNYLkVsZW1lbnQ+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFNob3dPcmlnaW5hbE1hcmtlck5hbWUocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Tm9uTnVtZXJpYyghcmVzcG9uc2VMaXN0RGF0YS5oYXNOdW1lcmljTWFyayk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZUxpc3RMZW5ndGggPSBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0RHluYW1pY0NvbHVtblNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCByZXNwb25zZUxpc3RMZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuZGlyZWN0ZWRyZW1hcmt3b3JrbGlzdC5wZW5kaW5nLmRldGFpbHZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPSAocmVzcG9uc2VEYXRhLmlzV2hvbGVSZXNwb25zZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5yZWxhdGVkUklHRGV0YWlscykgPyAwIDpcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXMgPSB0aGlzLmdldFJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlRGF0YSwgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcG9uZW50UHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Ub3RhbE1hcms6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnVG90YWxNYXJrXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRUb3RhbE1hcmtFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUxpc3REYXRhLmhhc051bWVyaWNNYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEubWF4aW11bU1hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNwZWNpYWxpc3RUeXBlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TcGVjaWFsaXN0VHlwZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5zcGVjaWFsaXN0VHlwZSA9PT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEuc3BlY2lhbGlzdHR5cGUtJyArIHJlc3BvbnNlRGF0YS5zcGVjaWFsaXN0VHlwZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnNwZWNpYWxpc3R0eXBlLScgKyByZXNwb25zZURhdGEuc3BlY2lhbGlzdFR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzcG9uc2VEYXRhLnNwZWNpYWxpc3RUeXBlICxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcsIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MaW5rZWRNZXNzYWdlSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ0xpbmtlZE1lc3NhZ2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmtlZE1lc3NhZ2VFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiwga2V5LCBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZEV4Y2VwdGlvbkluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdMaW5rZWRFeGNlcHRpb25fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmtlZEV4Y2VwdGlvbkVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLCBrZXksIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuR3JhY2VQZXJpb2RUaW1lOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ0dyYWNlUGVyaW9kVGltZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JhY2VQZXJpb2RFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LCBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNMQU9JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFNMQU9JbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5PcmlnaW5hbE1hcmtlck5hbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX09yaWdpbmFsTWFya2VyXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3JpZ2luYWxNYXJrZXJOYW1lOiBzdHJpbmcgPSB0aGlzLmdldEZvcm1hdHRlZE5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2VEYXRhLm9yaWdpbmFsTWFya2VySW5pdGlhbHMsIHJlc3BvbnNlRGF0YS5vcmlnaW5hbE1hcmtlclN1cm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KG9yaWdpbmFsTWFya2VyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5DZW50cmVOdW06XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0NlbnRyZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5jZW50cmVOdW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlQ2FuZGlkYXRlTnVtOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19DZW50cmVDYW5kaWRhdGVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEuY2VudHJlQ2FuZGlkYXRlTnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk9yaWdpbmFsTWFyazpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfT3JpZ2luYWxNYXJrXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRPcmlnaW5hbE1hcmtFbGVtZW50KGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsIGNvbXBvbmVudFByb3BzSnNvbiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk9yaWdpbmFsTWFya0FjY3VyYWN5OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWNjdXJhY3kgaW5kaWNhdG9yIGlzIHNob3duIG9ubHkgd2hlbiBpdHMgdmFsdWVzIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGF0YS5hY2N1cmFjeUluZGljYXRvclR5cGVJRCAhPT0gZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLlVua25vd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX09yaWdpbmFsTWFya0FjY3VyYWN5XycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0T3JpZ2luYWxNYXJrQWNjdXJhY3lFbGVtZW50KGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLCBjb21wb25lbnRQcm9wc0pzb24sIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5GaW5hbG1hcmtzZWxlY3RlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWNpc2lvblR5cGU6IHN0cmluZyA9IHRoaXMuZ2V0U3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uVHlwZShyZXNwb25zZURhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uVmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19GaW5hbG1hcmtzZWxlY3RlZF8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChkZWNpc2lvblR5cGUsIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRhZ0luZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfVGFnSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRUYWcoa2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS50YWdJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdTdG9yZS5pbnN0YW5jZS50YWdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrR3JvdXBJZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5pc0hpZGRlbiA9IHRoaXMuZ2V0Q2VsbFZpc2liaWxpdHkoX3Jlc3BvbnNlQ29sdW1uKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuZGlzcGxheUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRBY2N1cmFjeVR5cGUoZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcsIHJlc3BvbnNlRGF0YSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3dvcmtMaXN0Um93Q29sbGVjdGlvbik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvckxpdmVPcGVuRGV0YWlsIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWQgaW4gZGV0YWlsIHZpZXdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBsaXZlIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yQ2xvc2VkRGV0YWlsKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuICAgICAgICAvLyBHcmlkIGNvbHVtbnNcclxuICAgICAgICBsZXQgZ3JpZExlZnRDb2x1bW4gPSBBcnJheTxKU1guRWxlbWVudD4oKTtcclxuICAgICAgICBsZXQgZ3JpZE1pZGRsZUNvbHVtbiA9IEFycmF5PEpTWC5FbGVtZW50PigpO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQgaXNTZWVkUmVzcG9uc2U6IGJvb2xlYW47XHJcbiAgICAgICAgbGV0IGlzU2VlZEhpZ2hsaWdodGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGNzc0NsYXNzOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZUxpc3REYXRhICE9IG51bGwpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2hvd09yaWdpbmFsTWFya2VyTmFtZShyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5zZXROb25OdW1lcmljKCFyZXNwb25zZUxpc3REYXRhLmhhc051bWVyaWNNYXJrKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlTGlzdExlbmd0aCA9IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5kaXJlY3RlZHJlbWFya3dvcmtsaXN0LmNsb3NlZC5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF0gY29sbGVjdGlvbiBpbnNpZGUgbG9vcCwgaXRzIGFjY2Vzc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkID0gKHJlc3BvbnNlRGF0YS5pc1dob2xlUmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEucmVsYXRlZFJJR0RldGFpbHMpID8gMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzID0gdGhpcy5nZXRSZXNwb25zZVN0YXR1cyhyZXNwb25zZURhdGEsIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzRXVyU2VlZFJlc3BvbnNlOiBib29sZWFuID0gKHJlc3BvbnNlRGF0YSBhcyBEaXJlY3RlZFJlbWFya0Nsb3NlZFJlc3BvbnNlKS5zZWVkVHlwZUlkID09PVxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlNlZWRUeXBlLkVVUjtcclxuXHJcbiAgICAgICAgICAgICAgICBncmlkTGVmdENvbHVtbiA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgZ3JpZE1pZGRsZUNvbHVtbiA9IG5ldyBBcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcG9uZW50UHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFyazpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfVG90YWxNYXJrXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRUb3RhbE1hcmtFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUxpc3REYXRhLmhhc051bWVyaWNNYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEubWF4aW11bU1hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNwZWNpYWxpc3RUeXBlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TcGVjaWFsaXN0VHlwZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLnNwZWNpYWxpc3RUeXBlID09PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zcGVjaWFsaXN0dHlwZS0nICsgcmVzcG9uc2VEYXRhLnNwZWNpYWxpc3RUeXBlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEuc3BlY2lhbGlzdHR5cGUtJyArIHJlc3BvbnNlRGF0YS5zcGVjaWFsaXN0VHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXNwb25zZURhdGEuc3BlY2lhbGlzdFR5cGUgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MYXN0VXBkYXRlZENvbHVtbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGFzdFVwZGF0ZWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldExhc3RVcGRhdGVkRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsb2NhdGVkRGF0ZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWxsb2NhdGVkRGF0ZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0QWxsb2NhdGVkRGF0ZUVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MaW5rZWRNZXNzYWdlSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRNZXNzYWdlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMaW5rZWRNZXNzYWdlRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sIGtleSwgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MaW5rZWRFeGNlcHRpb25JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xpbmtlZEV4Y2VwdGlvbl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlua2VkRXhjZXB0aW9uRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sIGtleSwgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuT3JpZ2luYWxNYXJrZXJOYW1lOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19PcmlnaW5hbE1hcmtlcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9yaWdpbmFsTWFya2VyTmFtZTogc3RyaW5nID0gdGhpcy5nZXRGb3JtYXR0ZWROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlRGF0YS5vcmlnaW5hbE1hcmtlckluaXRpYWxzLCByZXNwb25zZURhdGEub3JpZ2luYWxNYXJrZXJTdXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChvcmlnaW5hbE1hcmtlck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlTnVtOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19DZW50cmVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEuY2VudHJlTnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkNlbnRyZUNhbmRpZGF0ZU51bTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQ2VudHJlQ2FuZGlkYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLmNlbnRyZUNhbmRpZGF0ZU51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BY2N1cmFjeUluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFjY3VyYWN5IGluZGljYXRvciBpcyBzaG93biBvbmx5IHdoZW4gaXRzIHZhbHVlcyBpcyBzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0V1clNlZWRSZXNwb25zZSA9PT0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJlc3BvbnNlRGF0YS5hY2N1cmFjeUluZGljYXRvclR5cGVJRCAhPT0gZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLlVua25vd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FjY3VyYWN5SW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0QWNjdXJhY3lJbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWJzb2x1dGVNYXJrc0RpZmZlcmVuY2U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFdXJTZWVkUmVzcG9uc2UgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0Fic29sdXRlTWFya3NEaWZmZXJlbmNlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0TWFya3NEaWZmZXJlbmNlRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5NYXJrc0RpZmZlcmVuY2VUeXBlLkFic29sdXRlTWFya3NEaWZmZXJlbmNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFya3NEaWZmZXJlbmNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXVyU2VlZFJlc3BvbnNlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19Ub3RhbE1hcmtzRGlmZmVyZW5jZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldE1hcmtzRGlmZmVyZW5jZUVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuTWFya3NEaWZmZXJlbmNlVHlwZS5Ub3RhbE1hcmtzRGlmZmVyZW5jZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5SZXNwb25zZVR5cGVMYWJlbDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVR5cGUgPSB0aGlzLmdldFJlc3BvbnNlTGFiZWxUeXBlKHJlc3BvbnNlRGF0YSBhcyBEaXJlY3RlZFJlbWFya0Nsb3NlZFJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc1Jlc3BvbnNlVHlwZUxhYmVsVmlzaWJsZSA9IHJlc3BvbnNlVHlwZSAhPT0gZW51bXMuUmVzcG9uc2VUeXBlLk5vbmU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZXNwb25zZVR5cGVMYWJlbF8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0UmVzcG9uc2VUeXBlTGFiZWwoa2V5LCBpc1Jlc3BvbnNlVHlwZUxhYmVsVmlzaWJsZSwgcmVzcG9uc2VUeXBlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1NlZWRIaWdobGlnaHRlZCAmJiBxdWFsaXR5RmVlZGJhY2tIZWxwZXIuaXNTZWVkTmVlZGVkVG9CZUhpZ2hsaWdodGVkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZXNwb25zZURhdGEgYXMgRGlyZWN0ZWRSZW1hcmtDbG9zZWRSZXNwb25zZSkucXVhbGl0eUZlZWRiYWNrU3RhdHVzSWQsIGlzUmVzcG9uc2VUeXBlTGFiZWxWaXNpYmxlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzID0gJ2hpZ2hsaWdodC1zZWVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NlZWRIaWdobGlnaHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuT3JpZ2luYWxNYXJrOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19PcmlnaW5hbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldE9yaWdpbmFsTWFya0VsZW1lbnQoa2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSwgY29tcG9uZW50UHJvcHNKc29uLCB0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuT3JpZ2luYWxNYXJrQWNjdXJhY3k6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhY2N1cmFjeSBpbmRpY2F0b3IgaXMgc2hvd24gb25seSB3aGVuIGl0cyB2YWx1ZXMgaXMgc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEICE9PSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfT3JpZ2luYWxNYXJrQWNjdXJhY3lfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRPcmlnaW5hbE1hcmtBY2N1cmFjeUVsZW1lbnQoa2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsIGNvbXBvbmVudFByb3BzSnNvbiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkZpbmFsbWFya3NlbGVjdGVkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlY2lzaW9uVHlwZTogc3RyaW5nID0gdGhpcy5nZXRTdXBlcnZpc29yUmVtYXJrRGVjaXNpb25UeXBlKHJlc3BvbnNlRGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdXBlcnZpc29yUmVtYXJrRGVjaXNpb25WaXNpYmxlKCkgJiYgZGVjaXNpb25UeXBlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19GaW5hbG1hcmtzZWxlY3RlZF8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChkZWNpc2lvblR5cGUsIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRhZ0luZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfVGFnSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRUYWcoa2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS50YWdJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdTdG9yZS5pbnN0YW5jZS50YWdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrR3JvdXBJZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5pc0hpZGRlbiA9IHRoaXMuZ2V0Q2VsbFZpc2liaWxpdHkoX3Jlc3BvbnNlQ29sdW1uKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYWRkaXRpb25hbENvbXBvbmVudCA9IHRoaXMucmVuZGVyUXVhbGl0eUZlZWRiYWNrQmFubmVyKHJlc3BvbnNlTGlzdENvdW50LCBlbnVtcy5Xb3JrbGlzdFR5cGUuZGlyZWN0ZWRSZW1hcmspO1xyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmRpc3BsYXlJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QWNjdXJhY3lUeXBlKGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQsIHJlc3BvbnNlRGF0YSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxDb21wb25lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBvdXQgcHV0IG9mIGZvcm1hdHRlZCB1c2VybmFtZVxyXG4gICAgICogQHBhcmFtIHt1c2VySW5mb0FyZ3VtZW50fSB1c2VySW5mb3JBcmdcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Rm9ybWF0dGVkTmFtZShpbml0aWFsczogc3RyaW5nLCBzdXJuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBmb3JtYXR0ZWRTdHJpbmc6IHN0cmluZyA9IHN0cmluZ0Zvcm1hdEhlbHBlci5nZXRVc2VyTmFtZUZvcm1hdCgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gZm9ybWF0dGVkU3RyaW5nLnJlcGxhY2UoJ3tpbml0aWFsc30nLCBpbml0aWFscyk7XHJcbiAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gZm9ybWF0dGVkU3RyaW5nLnJlcGxhY2UoJ3tzdXJuYW1lfScsIHN1cm5hbWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB3aGV0aGVyIHRoZSB0aGUgZ2l2ZW4gY29sdW1uIGlzIGhpZGRlbiBvciBub3RcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUNvbHVtblxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0Q2VsbFZpc2liaWxpdHkoY29sdW1uOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgbGV0IGlzSGlkZGVuOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHNwZWNpYWxpc3RSZXNwb25zZUNDID0gKGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRFeGFtU2Vzc2lvbkNDVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNwZWNpYWxpc3RSZXNwb25zZU1hcmtpbmcsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1TZXNzaW9uSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyk7XHJcbiAgICAgICAgc3dpdGNoIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWJzb2x1dGVNYXJrc0RpZmZlcmVuY2U6XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFya3NEaWZmZXJlbmNlOlxyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BY2N1cmFjeUluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gISgoY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuQXV0b21hdGljUXVhbGl0eUZlZWRiYWNrLFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkKSA9PT0gJ3RydWUnKVxyXG4gICAgICAgICAgICAgICAgICAgICYmICh0aGlzLmdldFJlbWFya1NlZWRpbmdDQ1ZhbHVlKCkgPT09IHRydWUpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5PcmlnaW5hbE1hcmtlck5hbWU6XHJcbiAgICAgICAgICAgICAgICBpc0hpZGRlbiA9ICh0aGlzLmdldFJlbWFya1NlZWRpbmdDQ1ZhbHVlKCkgPT09IHRydWUpIHx8ICh0aGlzLnNob3dPcmlnaW5hbE1hcmtlck5hbWUgPT09IGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdHJ1Y3R1cmVkUUlHKCkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNIaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdHJ1Y3R1cmVkUUlHKCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVG90YWxNYXJrOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNOb25OdW1lcmljKCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmVzcG9uc2VUeXBlTGFiZWw6XHJcbiAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTZWVkTGFiZWxIaWRkZW47XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uOlxyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5GaW5hbG1hcmtzZWxlY3RlZDpcclxuICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gIXRoaXMuaXNTdXBlcnZpc29yUmVtYXJrQ29sdW1uc1Zpc2libGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuT3JpZ2luYWxNYXJrOlxyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5PcmlnaW5hbE1hcmtBY2N1cmFjeTpcclxuICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gIXRoaXMuaXNTdXBlcnZpc29yUmVtYXJrQ29sdW1uc1Zpc2libGUgfHwgdGhpcy5pc05vbk51bWVyaWMoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5DZW50cmVOdW06XHJcbiAgICAgICAgICAgICAgICBpc0hpZGRlbiA9ICh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmdldFJlbWFya1NlZWRpbmdDQ1ZhbHVlKCkgPT09IHRydWUpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNwZWNpYWxpc3RUeXBlOlxyXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSAhKCAoZXhhbWluZXJTdG9yZS5pbnN0YW5jZS5nZXRNYXJrZXJJbmZvcm1hdGlvbi5pc1NwZWNpYWxpc3RcclxuICAgICAgICAgICAgICAgICAgICB8fCAocWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIucm9sZSA9PT0gZW51bXMuRXhhbWluZXJSb2xlLnByaW5jaXBhbEV4YW1pbmVyKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgc3BlY2lhbGlzdFJlc3BvbnNlQ0MgKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGlzSGlkZGVuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJuIHdoZXRoZXIgd2UgbmVlZCB0byBzaG93L2hpZGUgdGhlIHN1cGVydmlzb3IgcmVtYXJrIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXQgaXNTdXBlcnZpc29yUmVtYXJrQ29sdW1uc1Zpc2libGUoKSB7XHJcbiAgICAgICAgbGV0IG1hcmtTY2hlbWVHcm91cElkID0gcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24gP1xyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCA6IDA7XHJcblxyXG4gICAgICAgIGxldCBpc1N1cGVydmlzb3JSZW1hcmtEZWNpc2lvbkNDT246IGJvb2xlYW4gPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uLCBtYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICByZXR1cm4gKGlzU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uQ0NPblxyXG4gICAgICAgICAgICAmJiB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbWFya1JlcXVlc3RUeXBlID09PSBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZS5TdXBlcnZpc29yUmVtYXJrKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGdyZGljb2x1bW5zIGJhc2VkIG9uIHRoZSByZXNwb25zZSBtb2RlIGFuZCB3b3JrbGlzdCB0eXBlXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VNb2RlXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRHcmlkQ29sdW1ucyhyZXNvbHZlZEdyaWRDb2x1bW5zSnNvbjogYW55LCB3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSwgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUsXHJcbiAgICAgICAgaXNGcm96ZW46IGJvb2xlYW4gPSBmYWxzZSkge1xyXG5cclxuICAgICAgICBsZXQgZ3JpZENvbHVtbnM6IGFueTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZU1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUub3BlbjpcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuZGlyZWN0ZWRyZW1hcmt3b3JrbGlzdC5vcGVuLmRldGFpbHZpZXcuR3JpZENvbHVtbnNcclxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcubGl2ZXdvcmtsaXN0Lm9wZW4uZnJvemVuUm93cy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nOlxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSAoaXNGcm96ZW4gPT09IGZhbHNlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5kaXJlY3RlZHJlbWFya3dvcmtsaXN0LnBlbmRpbmcuZGV0YWlsdmlldy5HcmlkQ29sdW1uc1xyXG4gICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5saXZld29ya2xpc3QucGVuZGluZy5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZDpcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuZGlyZWN0ZWRyZW1hcmt3b3JrbGlzdC5jbG9zZWQuZGV0YWlsdmlldy5HcmlkQ29sdW1uc1xyXG4gICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5saXZld29ya2xpc3QuY2xvc2VkLmZyb3plblJvd3MuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBncmlkQ29sdW1ucztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGFjY3VyYWN5IHR5cGUgYmFzZWQgb24gYWNjdXJhY3kgIGFuZCBDQyB2YWx1ZXNcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURhdGFcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldEFjY3VyYWN5VHlwZShyZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSwgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UpOiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUge1xyXG5cclxuICAgICAgICBsZXQgYWNjdXJhY3lUeXBlO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nOlxyXG4gICAgICAgICAgICAgICAgYWNjdXJhY3lUeXBlID0gZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLlVua25vd247XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZDpcclxuICAgICAgICAgICAgICAgIGxldCBxdWFsaXR5RmVlZGJhY2tDQyA9IChjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcy5BdXRvbWF0aWNRdWFsaXR5RmVlZGJhY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQpID09PSAndHJ1ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpc1NlZWRSZXNwb25zZSA9ICgocmVzcG9uc2VEYXRhIGFzIExpdmVDbG9zZWRSZXNwb25zZSkuc2VlZFR5cGVJZCAhPT0gZW51bXMuU2VlZFR5cGUuTm9uZSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEICE9PSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93bik7XHJcblxyXG4gICAgICAgICAgICAgICAgYWNjdXJhY3lUeXBlID0gKChpc1NlZWRSZXNwb25zZSA9PT0gdHJ1ZSAmJiBxdWFsaXR5RmVlZGJhY2tDQyA9PT0gdHJ1ZSAmJiB0aGlzLmdldFJlbWFya1NlZWRpbmdDQ1ZhbHVlKCkgPT09IHRydWUpID9cclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuYWNjdXJhY3lJbmRpY2F0b3JUeXBlSUQgOiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93bik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhY2N1cmFjeVR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSByZXNwb3NuZSBzdGF1cyBiYXNlZCBvbiB0aGUgd29ya2xpc3QgYW5kIGl0cyB2YWxpZGF0b3IgdHlwZVxyXG4gICAgICogQHBhcmFtIHdvcmtsaXN0VHlwZVxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTW9kZVxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UsIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlKTpcclxuICAgICAgICBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4ge1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPjtcclxuXHJcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZU1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUub3BlbjpcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzID0gd29ya2xpc3RWYWxpZGF0b3JGYWN0b3J5LmdldFZhbGlkYXRvcih3b3JrbGlzdFZhbGlkYXRvckxpc3QuZGlyZWN0ZWRSZW1hcmtPcGVuKS5cclxuICAgICAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b25WYWxpZGF0ZShyZXNwb25zZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZDpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZzpcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzID0gSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCkucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub25lKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlU3RhdHVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc2V0IHRoZSB2YXJpYWJsZSBvZiBzaG93T3JpZ2luYWxNYXJrZXJOYW1lIGJhc2VkIG9uIHRoZSB2YWx1ZSBpbiB3b3JrbGlzdCBkYXRhLlxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGFcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXRTaG93T3JpZ2luYWxNYXJrZXJOYW1lKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSkge1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICBmb3IgKGxldCBfcmVzcG9uc2VDb3VudCA9IDA7IF9yZXNwb25zZUNvdW50IDwgX3Jlc3BvbnNlTGlzdERhdGEubGVuZ3RoOyBfcmVzcG9uc2VDb3VudCsrKSB7XHJcbiAgICAgICAgICAgIGlmIChfcmVzcG9uc2VMaXN0RGF0YVtfcmVzcG9uc2VDb3VudF0uc2hvd09yaWdpbmFsTWFya2VyTmFtZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93T3JpZ2luYWxNYXJrZXJOYW1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNob3dPcmlnaW5hbE1hcmtlck5hbWUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldCB0aGUgdmFsdWUgb2YgcmVtYXJrIHNlZWRpbmcgY2MgYmFzZWQgb24gdGhlIHJlbWFyayB0eXBlLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJlbWFya1NlZWRpbmdDQ1ZhbHVlKCkge1xyXG4gICAgICAgIGxldCBjY1ZhbHVlID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldEV4YW1TZXNzaW9uQ0NWYWx1ZShjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcy5SZW1hcmtTZWVkaW5nLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtU2Vzc2lvbklkKTtcclxuICAgICAgICBpZiAoY2NWYWx1ZSAmJiBjY1ZhbHVlICE9PSAnJykge1xyXG4gICAgICAgICAgICBsZXQgeG1sSGVscGVyT2JqID0gbmV3IHhtbEhlbHBlcihjY1ZhbHVlKTtcclxuICAgICAgICAgICAgbGV0IHJlbWFya1R5cGUgPSB4bWxIZWxwZXJPYmouZ2V0Tm9kZVZhbHVlQnlOYW1lKCdSZW1hcmtUeXBlJyk7XHJcbiAgICAgICAgICAgIHJlbWFya1R5cGUgPSAocmVtYXJrVHlwZSkgPyByZW1hcmtUeXBlLnJlcGxhY2UoLyAvZywgJycpIDogJyc7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gKGVudW1zLlJlbWFya1JlcXVlc3RUeXBlW3dvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVtYXJrUmVxdWVzdFR5cGVdID09PSByZW1hcmtUeXBlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBNYXJrQ2hhbmdlUmVhc29uIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlRGF0YSAtIHJlc3BvbnNlIGRhdGFcclxuICAgICAqIEBwYXJhbSBwcm9wc05hbWVzIC0gcHJvcCBuYW1lcyBmb3IgdGhlIE1hcmtpbmdQcm9ncmVzcyBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSBzZXEgLSBrZXkgdmFsdWUgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGUgLSByZXNwb25zZSBtb2RlXHJcbiAgICAgKiBAcmV0dXJucyBKU1guRWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1hcmtDaGFuZ2VSZWFzb25Db2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLFxyXG4gICAgICAgIHByb3BzTmFtZXM6IGFueSxcclxuICAgICAgICBzZXE6IHN0cmluZyxcclxuICAgICAgICByZXNwb25zZU1vZGU/OiBlbnVtcy5SZXNwb25zZU1vZGUpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XHJcblxyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxyXG4gICAgICAgICAgICBpc0luUmVzcG9uc2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBtYXJrQ2hhbmdlUmVhc29uOiByZXNwb25zZURhdGEubWFya0NoYW5nZVJlYXNvblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBtYXJrQ2hhbmdlUmVhc29uID0gSW1tdXRhYmxlLkxpc3Q8SlNYLkVsZW1lbnQ+KFtSZWFjdC5jcmVhdGVFbGVtZW50KE1hcmtDaGFuZ2VSZWFzb24sIGNvbXBvbmVudFByb3BzKV0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFdyYXBwZWRDb2x1bW4obWFya0NoYW5nZVJlYXNvbiwgJ2NvbCB3bC1ldXItcmVhc29uLWhvbGRlcicsIHNlcSArICd3cmFwcGVkJykuY29sdW1uRWxlbWVudDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgc3VwZXJ2aXNvciByZW1hcmsgZGVjaXNpb24gdmlzaWJpbGl0eVxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNTdXBlcnZpc29yUmVtYXJrRGVjaXNpb25WaXNpYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZCA9IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uID9cclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQgOiAwO1xyXG5cclxuICAgICAgICBsZXQgaXNTdXBlcnZpc29yUmVtYXJrRGVjaXNpb25DQ09uOiBib29sZWFuID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlN1cGVydmlzb3JSZW1hcmtEZWNpc2lvbiwgbWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChpc1N1cGVydmlzb3JSZW1hcmtEZWNpc2lvbkNDT25cclxuICAgICAgICAgICAgJiYgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZW1hcmtSZXF1ZXN0VHlwZSA9PT0gZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUuU3VwZXJ2aXNvclJlbWFyayk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjcmVhdGluZyByZWFjdCBlbGVtZW50IGZvciB0aGUgIFN1cGVydmlzb3JkZWNpc2lvbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURhdGEgLSByZXNwb25zZSBkYXRhXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNOYW1lcyAtIHByb3AgbmFtZXMgZm9yIHRoZSBNYXJraW5nUHJvZ3Jlc3MgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0gc2VxIC0ga2V5IHZhbHVlIGZvciB0aGUgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRTdXBlcnZpc29yRGVjaXNpb25Db2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLFxyXG4gICAgICAgIHNlcTogc3RyaW5nLFxyXG4gICAgICAgIGlzVGlsZVZpZXc6IGJvb2xlYW4gPSBmYWxzZSk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcclxuXHJcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGtleTogc2VxLFxyXG4gICAgICAgICAgICBpZDogc2VxLFxyXG4gICAgICAgICAgICBpc1RpbGVWaWV3OiBpc1RpbGVWaWV3LFxyXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdXBlcnZpc29yUmVtYXJrRGVjaXNpb25JY29uLCBjb21wb25lbnRQcm9wcyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFJlbWFya1dvcmtsaXN0SGVscGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy91dGlsaXR5L2dyaWQvd29ya2xpc3RoZWxwZXJzL3JlbWFya3dvcmtsaXN0aGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBOztBQTJ5Q0E7QUF6eUNBOzs7Ozs7QUFNQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBOzs7QUFBQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1186:
/* no static exports found */
/* all exports used */
/*!********************************************************************************************!*\
  !*** ./src/components/utility/grid/worklisthelpers/secondstandardisationworklisthelper.ts ***!
  \********************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar worklistGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/worklistgridcolumns.json */ 449);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar localeStore = __webpack_require__(/*! ../../../../stores/locale/localestore */ 226);\r\nvar worklistValidatorFactory = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorfactory */ 319);\r\nvar worklistValidatorList = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorlist */ 304);\r\nvar worklistHelperBase = __webpack_require__(/*! ./worklisthelperbase */ 458);\r\nvar josnRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../markeroperationmode/markeroperationmodefactory */ 232);\r\n/**\r\n * class for WorkList Helper implementation\r\n */\r\nvar StandardisationWorklistHelper = /** @class */ (function (_super) {\r\n    __extends(StandardisationWorklistHelper, _super);\r\n    function StandardisationWorklistHelper() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * GenerateRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param responseListData - list of second std responses\r\n     * @param responseType - type of the response\r\n     * @param gridType - type of gridview tile/detail\r\n     * @returns grid row collection.\r\n     */\r\n    StandardisationWorklistHelper.prototype.generateRowDefinion = function (responseListData, responseType, gridType) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(worklistGridColumnsJson);\r\n        this._immutableWorkListCollection = Immutable.List();\r\n        switch (responseType) {\r\n            case enums.ResponseMode.open:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenTiled(responseListData);\r\n                        break;\r\n                    default:\r\n                }\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedTiled(responseListData);\r\n                        break;\r\n                    default:\r\n                }\r\n                break;\r\n        }\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForClosedTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of standardisation open responses\r\n     * @returns grid row collection.\r\n     */\r\n    StandardisationWorklistHelper.prototype.getRowDefinionForClosedTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var isESTeamMember = qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember;\r\n        if (responseListData !== null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.standardisationworklist.closed.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.closed, (isESTeamMember ?\r\n                                localeStore.instance.TranslateText('marking.worklist.response-data.stm-standardisation-response-title') :\r\n                                localeStore.instance.TranslateText('marking.worklist.response-data.second-standardisation-response-title'))\r\n                                + ' ');\r\n                            break;\r\n                        case gridColumnNames.MarksDifference:\r\n                            key = gridSeq.get(responseListCount) + '_MarksDifference_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getMarksDifferenceColumnElement(responseData, componentPropsJson, key, true);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                // setting row style and row title according to its accuracy type\r\n                _worklistRow.setRowStyle(this.setRowStyle(Immutable.List().push(enums.ResponseStatus.none), this.getAccuracyType(enums.ResponseMode.closed, responseData)));\r\n                _worklistRow.setRowTitle(this.setRowTitle(this.getAccuracyType(enums.ResponseMode.closed, responseData)));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForOpenTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of Standardisation open responses\r\n     * @returns grid row collection.\r\n     */\r\n    StandardisationWorklistHelper.prototype.getRowDefinionForOpenTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var isESTeamMember = qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember;\r\n        if (responseListData !== null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                /** Getting the worklist data row */\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.standardisationworklist.open.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // Get fresh set of groups for every columns\r\n                this.emptyGroupColumns();\r\n                /** Getting the worklist columns */\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            var element = this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.secondstandardisation);\r\n                            this.mapGroupColumns('worklist-tile-footer', element);\r\n                            break;\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.open, (isESTeamMember ?\r\n                                localeStore.instance.TranslateText('marking.worklist.response-data.stm-standardisation-response-title') :\r\n                                localeStore.instance.TranslateText('marking.worklist.response-data.second-standardisation-response-title'))\r\n                                + ' ');\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotated_' + gridColumnCount;\r\n                            // Create annotation indicator element.\r\n                            var allPageElement = this.getAllPageAnnotationIndicatorElement(responseData, componentPropsJson, key);\r\n                            // Checking whether the indicator is valid to display.\r\n                            if (allPageElement !== undefined) {\r\n                                this.mapGroupColumns('icon-holder', allPageElement);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, true));\r\n                            break;\r\n                        case gridColumnNames.AllFilesNotViewedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllFilesNotViewedIndicator_' + gridColumnCount;\r\n                            var allFilesNotViewedElement = (this.getAllFilesNotViewedIndicatorElement(responseData, componentPropsJson, key));\r\n                            this.mapGroupColumns('worklist-tile-footer', allFilesNotViewedElement);\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                // If there are elements queued to group, then group the elements.\r\n                if (this.groupColumns) {\r\n                    _workListCell = new gridCell();\r\n                    key = gridSeq.get(responseListCount) + '_Tile_Group_';\r\n                    _workListCell.columnElement = this.groupColumnElements('worklist-tile-footer', key);\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                _worklistRow.setRowStyle(this.setRowStyle(responseStatus));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForOpenDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of standardisation open responses\r\n     * @returns grid row collection.\r\n     */\r\n    StandardisationWorklistHelper.prototype.getRowDefinionForOpenDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                /** Getting the worklist data row */\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.standardisationworklist.open.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                /** Getting the worklist columns */\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.standardisation, false));\r\n                            break;\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.open, true));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllocatedDate(responseData, componentPropsJson, key, true));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotatedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllPageAnnotatedIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.AllFilesNotViewedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllFilesNotViewedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllFilesNotViewedIndicatorElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.open, responseData), undefined));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForClosedDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of standardisation open responses\r\n     * @returns grid row collection.\r\n     */\r\n    StandardisationWorklistHelper.prototype.getRowDefinionForClosedDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                /** Getting the worklist data row */\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.standardisationworklist.closed.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** Getting the worklist columns */\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.closed, false));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllocatedDate(responseData, componentPropsJson, key, true));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotatedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllPageAnnotatedIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.AccuracyIndicator:\r\n                            // accuracy indicator is shown only when its values is set\r\n                            if (responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown) {\r\n                                key = gridSeq.get(responseListCount) + '_AccuracyIndicator_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getAccuracyIndicatorElement(responseData, componentPropsJson, key, false));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.AbsoluteMarksDifference:\r\n                            key = gridSeq.get(responseListCount) + '_AbsoluteMarksDifference_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarksDifferenceElement(responseData, componentPropsJson, key, enums.MarksDifferenceType.AbsoluteMarksDifference, false));\r\n                            break;\r\n                        case gridColumnNames.TotalMarksDifference:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMarksDifference_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarksDifferenceElement(responseData, componentPropsJson, key, enums.MarksDifferenceType.TotalMarksDifference, false));\r\n                            break;\r\n                        case gridColumnNames.ReviewedByLabel:\r\n                            key = gridSeq.get(responseListCount) + '_ReviewedByLabel_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getReviewedByLabel(key, responseData));\r\n                            break;\r\n                        case gridColumnNames.SupervisorReviewComment:\r\n                            key = gridSeq.get(responseListCount) + '_SupervisorReviewComment_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSupervisorReviewComment(key, responseData));\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(Immutable.List().push(enums.ResponseStatus.none), responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.closed, responseData), undefined));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * returns the resposne staus based on the worklist and its validator type\r\n     * @param worklistType\r\n     * @param responseMode\r\n     */\r\n    StandardisationWorklistHelper.prototype.getResponseStatus = function (responseData, responseMode) {\r\n        var responseStatus;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                responseStatus = worklistValidatorFactory.getValidator(worklistValidatorList.standardisationOpen).\r\n                    submitButtonValidate(responseData);\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                responseStatus = Immutable.List().push(enums.ResponseStatus.none);\r\n                break;\r\n        }\r\n        return responseStatus;\r\n    };\r\n    /**\r\n     * returns whether the the given column is hidden or not\r\n     * @param responseColumn\r\n     */\r\n    StandardisationWorklistHelper.prototype.getCellVisibility = function (column) {\r\n        var isHidden = false;\r\n        switch (column) {\r\n            case gridColumnNames.AbsoluteMarksDifference:\r\n            case gridColumnNames.TotalMarksDifference:\r\n            case gridColumnNames.AccuracyIndicator:\r\n                isHidden = !(configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ShowStandardisationDefinitiveMarks, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId) === 'true');\r\n                break;\r\n            case gridColumnNames.SLAOIndicator:\r\n                if (this.isStructuredQIG() === false) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n            case gridColumnNames.AllPageAnnotedIndicator:\r\n                if (this.isStructuredQIG() === true) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n            case gridColumnNames.ReviewedByLabel:\r\n                isHidden = markerOperationModeFactory.operationMode.isReviewedByLabelHidden;\r\n                break;\r\n            case gridColumnNames.SupervisorReviewComment:\r\n                isHidden = markerOperationModeFactory.operationMode.isSupervisorReviewCommentColumnHidden;\r\n                break;\r\n        }\r\n        return isHidden;\r\n    };\r\n    /**\r\n     * returns the grdicolumns based on the response mode and worklist type\r\n     * @param responseMode\r\n     */\r\n    StandardisationWorklistHelper.prototype.getGridColumns = function (resolvedGridColumnsJson, worklistType, responseMode, isFrozen) {\r\n        if (isFrozen === void 0) { isFrozen = false; }\r\n        var gridColumns;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.standardisationworklist.open.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.standardisationworklist.open.frozenRows.GridColumns;\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.standardisationworklist.closed.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.standardisationworklist.closed.frozenRows.GridColumns;\r\n                break;\r\n        }\r\n        return gridColumns;\r\n    };\r\n    /**\r\n     * returns the accuracy type based on accuracy  and CC values\r\n     * @param responseMode\r\n     * @param responseData\r\n     */\r\n    StandardisationWorklistHelper.prototype.getAccuracyType = function (responseMode, responseData) {\r\n        var _isShowStandardisationDefinitiveMarks = (configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ShowStandardisationDefinitiveMarks, responseData.markSchemeGroupId).toLowerCase() === 'true');\r\n        if (responseMode === enums.ResponseMode.closed && _isShowStandardisationDefinitiveMarks === true) {\r\n            return responseData.accuracyIndicatorTypeID;\r\n        }\r\n        else {\r\n            return enums.AccuracyIndicatorType.Unknown;\r\n        }\r\n    };\r\n    return StandardisationWorklistHelper;\r\n}(worklistHelperBase));\r\nmodule.exports = StandardisationWorklistHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4Ni5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGhlbHBlcnMvc2Vjb25kc3RhbmRhcmRpc2F0aW9ud29ya2xpc3RoZWxwZXIudHM/M2FmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9lbnVtcycpO1xyXG5pbXBvcnQgZ3JpZENvbHVtbk5hbWVzID0gcmVxdWlyZSgnLi4vZ3JpZGNvbHVtbm5hbWVzJyk7XHJcbmltcG9ydCBncmlkUm93ID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL2dyaWRyb3cnKTtcclxuaW1wb3J0IGdyaWRDZWxsID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL2dyaWRjZWxsJyk7XHJcbmxldCB3b3JrbGlzdEdyaWRDb2x1bW5zSnNvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGdyaWRjb2x1bW5zLmpzb24nKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCByZXNwb25zZUlkQ29sdW1uID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL3Jlc3BvbnNlaWRjb2x1bW4nKTtcclxuaW1wb3J0IHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9yZmFjdG9yeScpO1xyXG5pbXBvcnQgd29ya2xpc3RWYWxpZGF0b3JMaXN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvd29ya2xpc3R2YWxpZGF0b3JsaXN0Jyk7XHJcbmltcG9ydCB3b3JrbGlzdEhlbHBlckJhc2UgPSByZXF1aXJlKCcuL3dvcmtsaXN0aGVscGVyYmFzZScpO1xyXG5pbXBvcnQgam9zblJlZlJlc29sdmVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9qc29ucmVmcmVzb2x2ZXIvam9zbnJlZnJlc29sdmVyJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xyXG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XHJcblxyXG4vKipcclxuICogY2xhc3MgZm9yIFdvcmtMaXN0IEhlbHBlciBpbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuY2xhc3MgU3RhbmRhcmRpc2F0aW9uV29ya2xpc3RIZWxwZXIgZXh0ZW5kcyB3b3JrbGlzdEhlbHBlckJhc2Uge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVSb3dEZWZpbmlvbiBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YSAtIGxpc3Qgb2Ygc2Vjb25kIHN0ZCByZXNwb25zZXNcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVR5cGUgLSB0eXBlIG9mIHRoZSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIGdyaWRUeXBlIC0gdHlwZSBvZiBncmlkdmlldyB0aWxlL2RldGFpbFxyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdlbmVyYXRlUm93RGVmaW5pb24ocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlLFxyXG4gICAgICAgIHJlc3BvbnNlVHlwZTogZW51bXMuUmVzcG9uc2VNb2RlLFxyXG4gICAgICAgIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0gam9zblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHdvcmtsaXN0R3JpZENvbHVtbnNKc29uKTtcclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuTGlzdDxncmlkUm93PigpO1xyXG4gICAgICAgIHN3aXRjaCAocmVzcG9uc2VUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGdyaWRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvck9wZW5EZXRhaWwocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUudGlsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JPcGVuVGlsZWQocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChncmlkVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUuZGV0YWlsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JDbG9zZWREZXRhaWwocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUudGlsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JDbG9zZWRUaWxlZChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0Um93RGVmaW5pb25Gb3JDbG9zZWRUaWxlZCBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkIGluIHRpbGVkIHZpZXdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBzdGFuZGFyZGlzYXRpb24gb3BlbiByZXNwb25zZXNcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb25Gb3JDbG9zZWRUaWxlZChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBpc0VTVGVhbU1lbWJlciA9IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXI7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZUxpc3REYXRhICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnN0YW5kYXJkaXNhdGlvbndvcmtsaXN0LmNsb3NlZC50aWxldmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPVxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlSWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1Jlc3BvbnNlSWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuXHRcdFx0XHRcdFx0XHRcdGtleSxcclxuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaXNFU1RlYW1NZW1iZXIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zdG0tc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlLXRpdGxlJykgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zZWNvbmQtc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlLXRpdGxlJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnICcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk1hcmtzRGlmZmVyZW5jZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTWFya3NEaWZmZXJlbmNlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldE1hcmtzRGlmZmVyZW5jZUNvbHVtbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHNldHRpbmcgcm93IHN0eWxlIGFuZCByb3cgdGl0bGUgYWNjb3JkaW5nIHRvIGl0cyBhY2N1cmFjeSB0eXBlXHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93U3R5bGUoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRSb3dTdHlsZShJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4oKS5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vbmUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEFjY3VyYWN5VHlwZShlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLCByZXNwb25zZURhdGEpKSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93VGl0bGUodGhpcy5zZXRSb3dUaXRsZSh0aGlzLmdldEFjY3VyYWN5VHlwZShlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLCByZXNwb25zZURhdGEpKSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93SWQocGFyc2VGbG9hdChyZXNwb25zZURhdGEuZGlzcGxheUlkKSk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Q2VsbHMoX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKF93b3JrbGlzdFJvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0Um93RGVmaW5pb25Gb3JPcGVuVGlsZWQgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZCBpbiB0aWxlZCB2aWV3XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YSAtIGxpc3Qgb2YgU3RhbmRhcmRpc2F0aW9uIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yT3BlblRpbGVkKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcclxuICAgICAgICBsZXQgX3dvcmtsaXN0Um93OiBncmlkUm93O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQga2V5OiBzdHJpbmc7XHJcbiAgICAgICAgbGV0IGlzRVNUZWFtTWVtYmVyID0gcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlcjtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRTZXEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy5rZXlTZXEoKTtcclxuICAgICAgICAgICAgbGV0IF9yZXNwb25zZUxpc3REYXRhID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCByZXNwb25zZUxpc3RDb3VudCA9IDA7IHJlc3BvbnNlTGlzdENvdW50IDwgX3Jlc3BvbnNlTGlzdERhdGEubGVuZ3RoOyByZXNwb25zZUxpc3RDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAvKiogR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3cgKi9cclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPVxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVN0YXR1cyA9IHRoaXMuZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhLCBlbnVtcy5SZXNwb25zZU1vZGUub3Blbik7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnN0YW5kYXJkaXNhdGlvbndvcmtsaXN0Lm9wZW4udGlsZXZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgZnJlc2ggc2V0IG9mIGdyb3VwcyBmb3IgZXZlcnkgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbXB0eUdyb3VwQ29sdW1ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKiBHZXR0aW5nIHRoZSB3b3JrbGlzdCBjb2x1bW5zICovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJraW5nUHJvZ3Jlc3M6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX01hcmtpbmdQcm9ncmVzc18nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmdldE1hcmtpbmdQcm9ncmVzc0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuV29ya2xpc3RUeXBlLnNlY29uZHN0YW5kYXJkaXNhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcEdyb3VwQ29sdW1ucygnd29ya2xpc3QtdGlsZS1mb290ZXInLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5SZXNwb25zZUlkQ29sdW1uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZXNwb25zZUlkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFJlc3BvbnNlSWRDb2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcblx0XHRcdFx0XHRcdFx0XHRrZXksXHJcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUxpc3REYXRhLmhhc051bWVyaWNNYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpc0VTVGVhbU1lbWJlciA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnN0bS1zdGFuZGFyZGlzYXRpb24tcmVzcG9uc2UtdGl0bGUnKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnNlY29uZC1zdGFuZGFyZGlzYXRpb24tcmVzcG9uc2UtdGl0bGUnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICcgJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsUGFnZUFubm90ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbFBhZ2VBbm5vdGF0ZWRfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYW5ub3RhdGlvbiBpbmRpY2F0b3IgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbGxQYWdlRWxlbWVudCA9IHRoaXMuZ2V0QWxsUGFnZUFubm90YXRpb25JbmRpY2F0b3JFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVja2luZyB3aGV0aGVyIHRoZSBpbmRpY2F0b3IgaXMgdmFsaWQgdG8gZGlzcGxheS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxQYWdlRWxlbWVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBHcm91cENvbHVtbnMoJ2ljb24taG9sZGVyJywgYWxsUGFnZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNMQU9JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFNMQU9JbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxGaWxlc05vdFZpZXdlZEluZGljYXRvcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFsbEZpbGVzTm90Vmlld2VkRWxlbWVudCA9ICh0aGlzLmdldEFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBHcm91cENvbHVtbnMoJ3dvcmtsaXN0LXRpbGUtZm9vdGVyJywgYWxsRmlsZXNOb3RWaWV3ZWRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBlbGVtZW50cyBxdWV1ZWQgdG8gZ3JvdXAsIHRoZW4gZ3JvdXAgdGhlIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXBDb2x1bW5zKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1RpbGVfR3JvdXBfJztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdyb3VwQ29sdW1uRWxlbWVudHMoJ3dvcmtsaXN0LXRpbGUtZm9vdGVyJywga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd1N0eWxlKHRoaXMuc2V0Um93U3R5bGUocmVzcG9uc2VTdGF0dXMpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dJZChwYXJzZUZsb2F0KHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRDZWxscyhfd29ya0xpc3RDZWxsY29sbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goX3dvcmtsaXN0Um93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvck9wZW5EZXRhaWwgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZCBpbiBkZXRhaWwgdmlld1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIHN0YW5kYXJkaXNhdGlvbiBvcGVuIHJlc3BvbnNlc1xyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvck9wZW5EZXRhaWwocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcclxuICAgICAgICBsZXQgX3dvcmtsaXN0Um93OiBncmlkUm93O1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IF9yZXNwb25zZUxpc3REYXRhID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VMaXN0TGVuZ3RoID0gX3Jlc3BvbnNlTGlzdERhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0RHluYW1pY0NvbHVtblNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCByZXNwb25zZUxpc3RMZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8qKiBHZXR0aW5nIHRoZSB3b3JrbGlzdCBkYXRhIHJvdyAqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnN0YW5kYXJkaXNhdGlvbndvcmtsaXN0Lm9wZW4uZGV0YWlsdmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzID0gdGhpcy5nZXRSZXNwb25zZVN0YXR1cyhyZXNwb25zZURhdGEsIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiogR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1ucyAqL1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk1hcmtpbmdQcm9ncmVzczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTWFya2luZ1Byb2dyZXNzXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRNYXJraW5nUHJvZ3Jlc3NFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLldvcmtsaXN0VHlwZS5zdGFuZGFyZGlzYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Ub3RhbE1hcms6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1RvdGFsTWFya18nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0VG90YWxNYXJrRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5oYXNOdW1lcmljTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUxpc3REYXRhLm1heGltdW1NYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MYXN0VXBkYXRlZENvbHVtbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGFzdFVwZGF0ZWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldExhc3RVcGRhdGVkRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUub3BlbiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbG9jYXRlZERhdGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbG9jYXRlZERhdGVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFsbG9jYXRlZERhdGUocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNMQU9JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFNMQU9JbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxQYWdlQW5ub3RlZEluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWxsUGFnZUFubm90YXRlZEluZGljYXRvcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0QWxsUGFnZUFubm90YXRlZEluZGljYXRvckVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZE1lc3NhZ2VJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xpbmtlZE1lc3NhZ2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldExpbmtlZE1lc3NhZ2VFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkRXhjZXB0aW9uSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRFeGNlcHRpb25fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldExpbmtlZEV4Y2VwdGlvbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxGaWxlc05vdFZpZXdlZEluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuaXNIaWRkZW4gPSB0aGlzLmdldENlbGxWaXNpYmlsaXR5KF9yZXNwb25zZUNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmRpc3BsYXlJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QWNjdXJhY3lUeXBlKGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuLCByZXNwb25zZURhdGEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvckNsb3NlZERldGFpbCBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkIGluIGRldGFpbCB2aWV3XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YSAtIGxpc3Qgb2Ygc3RhbmRhcmRpc2F0aW9uIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yQ2xvc2VkRGV0YWlsKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQga2V5OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZUxpc3REYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRTZXEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy5rZXlTZXEoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlTGlzdExlbmd0aCA9IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy5yZXNldER5bmFtaWNDb2x1bW5TZXR0aW5ncygpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCByZXNwb25zZUxpc3RDb3VudCA9IDA7IHJlc3BvbnNlTGlzdENvdW50IDwgcmVzcG9uc2VMaXN0TGVuZ3RoOyByZXNwb25zZUxpc3RDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAvKiogR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3cgKi9cclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5zdGFuZGFyZGlzYXRpb253b3JrbGlzdC5jbG9zZWQuZGV0YWlsdmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnMgKi9cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcG9uZW50UHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Ub3RhbE1hcms6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1RvdGFsTWFya18nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0VG90YWxNYXJrRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5oYXNOdW1lcmljTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUxpc3REYXRhLm1heGltdW1NYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MYXN0VXBkYXRlZENvbHVtbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGFzdFVwZGF0ZWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldExhc3RVcGRhdGVkRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLCBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbG9jYXRlZERhdGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbG9jYXRlZERhdGVfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFsbG9jYXRlZERhdGUocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNMQU9JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFNMQU9JbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxQYWdlQW5ub3RlZEluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWxsUGFnZUFubm90YXRlZEluZGljYXRvcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0QWxsUGFnZUFubm90YXRlZEluZGljYXRvckVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZE1lc3NhZ2VJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xpbmtlZE1lc3NhZ2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldExpbmtlZE1lc3NhZ2VFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGlua2VkRXhjZXB0aW9uSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRFeGNlcHRpb25fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldExpbmtlZEV4Y2VwdGlvbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BY2N1cmFjeUluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFjY3VyYWN5IGluZGljYXRvciBpcyBzaG93biBvbmx5IHdoZW4gaXRzIHZhbHVlcyBpcyBzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZURhdGEuYWNjdXJhY3lJbmRpY2F0b3JUeXBlSUQgIT09IGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5Vbmtub3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BY2N1cmFjeUluZGljYXRvcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFjY3VyYWN5SW5kaWNhdG9yRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSwgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWJzb2x1dGVNYXJrc0RpZmZlcmVuY2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldE1hcmtzRGlmZmVyZW5jZUVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuTWFya3NEaWZmZXJlbmNlVHlwZS5BYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFya3NEaWZmZXJlbmNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19Ub3RhbE1hcmtzRGlmZmVyZW5jZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0TWFya3NEaWZmZXJlbmNlRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5NYXJrc0RpZmZlcmVuY2VUeXBlLlRvdGFsTWFya3NEaWZmZXJlbmNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmV2aWV3ZWRCeUxhYmVsOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZXZpZXdlZEJ5TGFiZWxfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFJldmlld2VkQnlMYWJlbChrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU3VwZXJ2aXNvclJldmlld0NvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1N1cGVydmlzb3JSZXZpZXdDb21tZW50XycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0U3VwZXJ2aXNvclJldmlld0NvbW1lbnQoa2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuaXNIaWRkZW4gPSB0aGlzLmdldENlbGxWaXNpYmlsaXR5KF9yZXNwb25zZUNvbHVtbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4oKS5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vbmUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuZGlzcGxheUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRBY2N1cmFjeVR5cGUoZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCwgcmVzcG9uc2VEYXRhKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcmVzcG9zbmUgc3RhdXMgYmFzZWQgb24gdGhlIHdvcmtsaXN0IGFuZCBpdHMgdmFsaWRhdG9yIHR5cGVcclxuICAgICAqIEBwYXJhbSB3b3JrbGlzdFR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldFJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSk6XHJcbiAgICAgICAgSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+IHtcclxuXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz47XHJcblxyXG4gICAgICAgIHN3aXRjaCAocmVzcG9uc2VNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyA9IHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeS5nZXRWYWxpZGF0b3Iod29ya2xpc3RWYWxpZGF0b3JMaXN0LnN0YW5kYXJkaXNhdGlvbk9wZW4pLlxyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkOlxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMgPSBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4oKS5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vbmUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzcG9uc2VTdGF0dXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHdoZXRoZXIgdGhlIHRoZSBnaXZlbiBjb2x1bW4gaXMgaGlkZGVuIG9yIG5vdFxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlQ29sdW1uXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRDZWxsVmlzaWJpbGl0eShjb2x1bW46IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICBsZXQgaXNIaWRkZW46IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWJzb2x1dGVNYXJrc0RpZmZlcmVuY2U6XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFya3NEaWZmZXJlbmNlOlxyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BY2N1cmFjeUluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gIShjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcy5TaG93U3RhbmRhcmRpc2F0aW9uRGVmaW5pdGl2ZU1hcmtzLFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkKSA9PT0gJ3RydWUnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdHJ1Y3R1cmVkUUlHKCkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNIaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdHJ1Y3R1cmVkUUlHKCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmV2aWV3ZWRCeUxhYmVsOlxyXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzUmV2aWV3ZWRCeUxhYmVsSGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlN1cGVydmlzb3JSZXZpZXdDb21tZW50OlxyXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzU3VwZXJ2aXNvclJldmlld0NvbW1lbnRDb2x1bW5IaWRkZW47XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpc0hpZGRlbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGdyZGljb2x1bW5zIGJhc2VkIG9uIHRoZSByZXNwb25zZSBtb2RlIGFuZCB3b3JrbGlzdCB0eXBlXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VNb2RlXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRHcmlkQ29sdW1ucyhyZXNvbHZlZEdyaWRDb2x1bW5zSnNvbjogYW55LCB3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSwgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUsXHJcbiAgICAgICAgaXNGcm96ZW46IGJvb2xlYW4gPSBmYWxzZSkge1xyXG5cclxuICAgICAgICBsZXQgZ3JpZENvbHVtbnM6IGFueTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZU1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUub3BlbjpcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuc3RhbmRhcmRpc2F0aW9ud29ya2xpc3Qub3Blbi5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnN0YW5kYXJkaXNhdGlvbndvcmtsaXN0Lm9wZW4uZnJvemVuUm93cy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQ6XHJcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1ucyA9IChpc0Zyb3plbiA9PT0gZmFsc2UpID9cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnN0YW5kYXJkaXNhdGlvbndvcmtsaXN0LmNsb3NlZC5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnN0YW5kYXJkaXNhdGlvbndvcmtsaXN0LmNsb3NlZC5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZ3JpZENvbHVtbnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBhY2N1cmFjeSB0eXBlIGJhc2VkIG9uIGFjY3VyYWN5ICBhbmQgQ0MgdmFsdWVzXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VNb2RlXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VEYXRhXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRBY2N1cmFjeVR5cGUocmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUsIHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlKTogZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlIHtcclxuXHJcbiAgICAgICAgbGV0IF9pc1Nob3dTdGFuZGFyZGlzYXRpb25EZWZpbml0aXZlTWFya3MgPSAoY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNob3dTdGFuZGFyZGlzYXRpb25EZWZpbml0aXZlTWFya3MsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnKTtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCAmJiBfaXNTaG93U3RhbmRhcmRpc2F0aW9uRGVmaW5pdGl2ZU1hcmtzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZURhdGEuYWNjdXJhY3lJbmRpY2F0b3JUeXBlSUQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5Vbmtub3duO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gU3RhbmRhcmRpc2F0aW9uV29ya2xpc3RIZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGhlbHBlcnMvc2Vjb25kc3RhbmRhcmRpc2F0aW9ud29ya2xpc3RoZWxwZXIudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBaW5CQTtBQS9tQkE7Ozs7OztBQU1BO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1187:
/* no static exports found */
/* all exports used */
/*!*********************************************************************************!*\
  !*** ./src/components/utility/grid/worklisthelpers/simulationworklisthelper.ts ***!
  \*********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar worklistGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/worklistgridcolumns.json */ 449);\r\nvar worklistValidatorFactory = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorfactory */ 319);\r\nvar worklistValidatorList = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorlist */ 304);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar worklistHelperBase = __webpack_require__(/*! ./worklisthelperbase */ 458);\r\nvar josnRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * class for WorkList Helper implementation\r\n */\r\nvar SimulationWorklistHelper = /** @class */ (function (_super) {\r\n    __extends(SimulationWorklistHelper, _super);\r\n    function SimulationWorklistHelper() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * GenerateRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param responseListData - list of simulation open responses\r\n     * @param responseType - type of the response\r\n     * @param gridType - type of gridview tile/detail\r\n     * @returns grid row collection.\r\n     */\r\n    SimulationWorklistHelper.prototype.generateRowDefinion = function (responseListData, responseType, gridType) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(worklistGridColumnsJson);\r\n        this._immutableWorkListCollection = Immutable.List();\r\n        switch (gridType) {\r\n            case enums.GridType.detailed:\r\n                this._immutableWorkListCollection = this.getRowDefinionForOpenDetail(responseListData);\r\n                break;\r\n            case enums.GridType.tiled:\r\n                this._immutableWorkListCollection = this.getRowDefinionForOpenTiled(responseListData);\r\n                break;\r\n            default:\r\n        }\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForSimulationOpenTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of simulation open responses\r\n     * @returns grid row collection.\r\n     */\r\n    SimulationWorklistHelper.prototype.getRowDefinionForOpenTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.simulationworklist.open.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // Get fresh set of groups for every columns\r\n                this.emptyGroupColumns();\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            var element = this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.simulation);\r\n                            this.mapGroupColumns('worklist-tile-footer', element);\r\n                            break;\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.open);\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotated_' + gridColumnCount;\r\n                            // Create annotation indicator element.\r\n                            var allPageElement = this.getAllPageAnnotationIndicatorElement(responseData, componentPropsJson, key);\r\n                            // Checking whether the indicator is valid to display.\r\n                            if (allPageElement !== undefined) {\r\n                                this.mapGroupColumns('icon-holder', allPageElement);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, true));\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                // If there are elements queued to group, then group the elements.\r\n                if (this.groupColumns) {\r\n                    _workListCell = new gridCell();\r\n                    key = gridSeq.get(responseListCount) + '_Tile_Group_';\r\n                    _workListCell.columnElement = this.groupColumnElements('worklist-tile-footer', key);\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                _worklistRow.setRowStyle(this.setRowStyle(responseStatus));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForSimulationOpenDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of simulation open responses\r\n     * @returns grid row collection.\r\n     */\r\n    SimulationWorklistHelper.prototype.getRowDefinionForOpenDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var isSeedResponse;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.simulationworklist.open.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.simulation, false));\r\n                            break;\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.open, true));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllocatedDate(responseData, componentPropsJson, key, true));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotatedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllPageAnnotatedIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                var additionalComponent = this.renderQualityFeedbackBanner(responseListCount, enums.WorklistType.simulation);\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.open, responseData), additionalComponent));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * returns the resposne staus based on the worklist and its validator type\r\n     * @param worklistType\r\n     * @param responseMode\r\n     */\r\n    SimulationWorklistHelper.prototype.getResponseStatus = function (responseData, responseMode) {\r\n        var responseStatus;\r\n        responseStatus = worklistValidatorFactory.getValidator(worklistValidatorList.liveOpen).\r\n            submitButtonValidate(responseData);\r\n        return responseStatus;\r\n    };\r\n    /**\r\n     * returns whether the the given column is hidden or not\r\n     * @param responseColumn\r\n     */\r\n    SimulationWorklistHelper.prototype.getCellVisibility = function (column) {\r\n        var isHidden = false;\r\n        switch (column) {\r\n            case gridColumnNames.SLAOIndicator:\r\n                isHidden = !this.isStructuredQIG();\r\n                break;\r\n            case gridColumnNames.AllPageAnnotedIndicator:\r\n                isHidden = this.isStructuredQIG();\r\n                break;\r\n            case gridColumnNames.TotalMark:\r\n                if (this.isNonNumeric() === true) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n        }\r\n        return isHidden;\r\n    };\r\n    /**\r\n     * returns the grdicolumns based on the response mode and worklist type\r\n     * @param responseMode\r\n     */\r\n    SimulationWorklistHelper.prototype.getGridColumns = function (resolvedGridColumnsJson, worklistType, responseMode, isFrozen) {\r\n        if (isFrozen === void 0) { isFrozen = false; }\r\n        var gridColumns;\r\n        gridColumns = (isFrozen === false) ? resolvedGridColumnsJson.marking.simulationworklist.open.detailview.GridColumns\r\n            : resolvedGridColumnsJson.marking.simulationworklist.open.frozenRows.GridColumns;\r\n        return gridColumns;\r\n    };\r\n    return SimulationWorklistHelper;\r\n}(worklistHelperBase));\r\nmodule.exports = SimulationWorklistHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4Ny5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGhlbHBlcnMvc2ltdWxhdGlvbndvcmtsaXN0aGVscGVyLnRzP2RjNmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGdyaWRSb3cgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZHJvdycpO1xyXG5pbXBvcnQgSW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XHJcbmltcG9ydCBncmlkQ2VsbCA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9ncmlkY2VsbCcpO1xyXG5sZXQgd29ya2xpc3RHcmlkQ29sdW1uc0pzb24gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvd29ya2xpc3RncmlkY29sdW1ucy5qc29uJyk7XHJcbmltcG9ydCB3b3JrbGlzdFZhbGlkYXRvckZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy93b3JrbGlzdHZhbGlkYXRvcmZhY3RvcnknKTtcclxuaW1wb3J0IHdvcmtsaXN0VmFsaWRhdG9yTGlzdCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9ybGlzdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9lbnVtcycpO1xyXG5pbXBvcnQgZ3JpZENvbHVtbk5hbWVzID0gcmVxdWlyZSgnLi4vZ3JpZGNvbHVtbm5hbWVzJyk7XHJcbmltcG9ydCB3b3JrbGlzdEhlbHBlckJhc2UgPSByZXF1aXJlKCcuL3dvcmtsaXN0aGVscGVyYmFzZScpO1xyXG5pbXBvcnQgam9zblJlZlJlc29sdmVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9qc29ucmVmcmVzb2x2ZXIvam9zbnJlZnJlc29sdmVyJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5cclxuLyoqXHJcbiAqIGNsYXNzIGZvciBXb3JrTGlzdCBIZWxwZXIgaW1wbGVtZW50YXRpb25cclxuICovXHJcbmNsYXNzIFNpbXVsYXRpb25Xb3JrbGlzdEhlbHBlciBleHRlbmRzIHdvcmtsaXN0SGVscGVyQmFzZSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZVJvd0RlZmluaW9uIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWRcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBzaW11bGF0aW9uIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VUeXBlIC0gdHlwZSBvZiB0aGUgcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBncmlkVHlwZSAtIHR5cGUgb2YgZ3JpZHZpZXcgdGlsZS9kZXRhaWxcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZVJvd0RlZmluaW9uKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSxcclxuICAgICAgICByZXNwb25zZVR5cGU6IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBncmlkVHlwZTogZW51bXMuR3JpZFR5cGUpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcblxyXG4gICAgICAgIHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24gPSBqb3NuUmVmUmVzb2x2ZXIucmVzb2x2ZVJlZnMod29ya2xpc3RHcmlkQ29sdW1uc0pzb24pO1xyXG5cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuTGlzdDxncmlkUm93PigpO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGdyaWRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUuZGV0YWlsZWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaW9uRm9yT3BlbkRldGFpbChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkdyaWRUeXBlLnRpbGVkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvck9wZW5UaWxlZChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldFJvd0RlZmluaW9uRm9yU2ltdWxhdGlvbk9wZW5UaWxlZCBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkIGluIHRpbGVkIHZpZXdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBzaW11bGF0aW9uIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yT3BlblRpbGVkKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcclxuICAgICAgICBsZXQgX3dvcmtsaXN0Um93OiBncmlkUm93O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQga2V5OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZUxpc3REYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRTZXEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy5rZXlTZXEoKTtcclxuICAgICAgICAgICAgbGV0IF9yZXNwb25zZUxpc3REYXRhID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCByZXNwb25zZUxpc3RDb3VudCA9IDA7IHJlc3BvbnNlTGlzdENvdW50IDwgX3Jlc3BvbnNlTGlzdERhdGEubGVuZ3RoOyByZXNwb25zZUxpc3RDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSB3b3JrbGlzdCBkYXRhIHJvd1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzID0gdGhpcy5nZXRSZXNwb25zZVN0YXR1cyhyZXNwb25zZURhdGEsIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuc2ltdWxhdGlvbndvcmtsaXN0Lm9wZW4udGlsZXZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgZnJlc2ggc2V0IG9mIGdyb3VwcyBmb3IgZXZlcnkgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbXB0eUdyb3VwQ29sdW1ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk1hcmtpbmdQcm9ncmVzczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTWFya2luZ1Byb2dyZXNzXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZ2V0TWFya2luZ1Byb2dyZXNzRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Xb3JrbGlzdFR5cGUuc2ltdWxhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcEdyb3VwQ29sdW1ucygnd29ya2xpc3QtdGlsZS1mb290ZXInLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5SZXNwb25zZUlkQ29sdW1uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZXNwb25zZUlkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFJlc3BvbnNlSWRDb2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxQYWdlQW5ub3RhdGVkXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFubm90YXRpb24gaW5kaWNhdG9yIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWxsUGFnZUVsZW1lbnQgPSB0aGlzLmdldEFsbFBhZ2VBbm5vdGF0aW9uSW5kaWNhdG9yRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2tpbmcgd2hldGhlciB0aGUgaW5kaWNhdG9yIGlzIHZhbGlkIHRvIGRpc3BsYXkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsUGFnZUVsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwR3JvdXBDb2x1bW5zKCdpY29uLWhvbGRlcicsIGFsbFBhZ2VFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGVsZW1lbnRzIHF1ZXVlZCB0byBncm91cCwgdGhlbiBncm91cCB0aGUgZWxlbWVudHMuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cENvbHVtbnMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfVGlsZV9Hcm91cF8nO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ3JvdXBDb2x1bW5FbGVtZW50cygnd29ya2xpc3QtdGlsZS1mb290ZXInLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd1N0eWxlKHRoaXMuc2V0Um93U3R5bGUocmVzcG9uc2VTdGF0dXMpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dJZChwYXJzZUZsb2F0KHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRDZWxscyhfd29ya0xpc3RDZWxsY29sbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goX3dvcmtsaXN0Um93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvclNpbXVsYXRpb25PcGVuRGV0YWlsIGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFdvcmtMaXN0IEdyaWQgaW4gZGV0YWlsIHZpZXdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBzaW11bGF0aW9uIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaW9uRm9yT3BlbkRldGFpbChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBpc1NlZWRSZXNwb25zZTogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZUxpc3RMZW5ndGggPSBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1ucyA9IHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5zaW11bGF0aW9ud29ya2xpc3Qub3Blbi5kZXRhaWx2aWV3LkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF0gY29sbGVjdGlvbiBpbnNpZGUgbG9vcCwgaXRzIGFjY2Vzc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkID1cclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXMgPSB0aGlzLmdldFJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlRGF0YSwgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcG9uZW50UHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJraW5nUHJvZ3Jlc3M6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX01hcmtpbmdQcm9ncmVzc18nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0TWFya2luZ1Byb2dyZXNzRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Xb3JrbGlzdFR5cGUuc2ltdWxhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsTWFyazpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfVG90YWxNYXJrXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRUb3RhbE1hcmtFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUxpc3REYXRhLmhhc051bWVyaWNNYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEubWF4aW11bU1hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxhc3RVcGRhdGVkQ29sdW1uOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MYXN0VXBkYXRlZENvbHVtbl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0TGFzdFVwZGF0ZWRFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuLCB0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsb2NhdGVkRGF0ZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWxsb2NhdGVkRGF0ZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0QWxsb2NhdGVkRGF0ZShyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU0xBT0luZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfU0xBT0luZGljYXRvcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0U0xBT0luZGljYXRvckVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxQYWdlQW5ub3RhdGVkSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBbGxQYWdlQW5ub3RhdGVkSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5pc0hpZGRlbiA9IHRoaXMuZ2V0Q2VsbFZpc2liaWxpdHkoX3Jlc3BvbnNlQ29sdW1uKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYWRkaXRpb25hbENvbXBvbmVudCA9IHRoaXMucmVuZGVyUXVhbGl0eUZlZWRiYWNrQmFubmVyKHJlc3BvbnNlTGlzdENvdW50LCBlbnVtcy5Xb3JrbGlzdFR5cGUuc2ltdWxhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuZGlzcGxheUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRBY2N1cmFjeVR5cGUoZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sIHJlc3BvbnNlRGF0YSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxDb21wb25lbnQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcmVzcG9zbmUgc3RhdXMgYmFzZWQgb24gdGhlIHdvcmtsaXN0IGFuZCBpdHMgdmFsaWRhdG9yIHR5cGVcclxuICAgICAqIEBwYXJhbSB3b3JrbGlzdFR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldFJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSk6XHJcbiAgICAgICAgSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+IHtcclxuXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz47XHJcbiAgICAgICAgcmVzcG9uc2VTdGF0dXMgPSB3b3JrbGlzdFZhbGlkYXRvckZhY3RvcnkuZ2V0VmFsaWRhdG9yKHdvcmtsaXN0VmFsaWRhdG9yTGlzdC5saXZlT3BlbikuXHJcbiAgICAgICAgICAgIHN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlRGF0YSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXNwb25zZVN0YXR1cztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgd2hldGhlciB0aGUgdGhlIGdpdmVuIGNvbHVtbiBpcyBoaWRkZW4gb3Igbm90XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VDb2x1bW5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldENlbGxWaXNpYmlsaXR5KGNvbHVtbjogc3RyaW5nKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGxldCBpc0hpZGRlbjogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGNvbHVtbikge1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSAhdGhpcy5pc1N0cnVjdHVyZWRRSUcoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxQYWdlQW5ub3RlZEluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gdGhpcy5pc1N0cnVjdHVyZWRRSUcoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Ub3RhbE1hcms6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc05vbk51bWVyaWMoKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGlzSGlkZGVuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgZ3JkaWNvbHVtbnMgYmFzZWQgb24gdGhlIHJlc3BvbnNlIG1vZGUgYW5kIHdvcmtsaXN0IHR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldEdyaWRDb2x1bW5zKHJlc29sdmVkR3JpZENvbHVtbnNKc29uOiBhbnksIHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlLCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBpc0Zyb3plbjogYm9vbGVhbiA9IGZhbHNlKSB7XHJcblxyXG4gICAgICAgIGxldCBncmlkQ29sdW1uczogYW55O1xyXG4gICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgPyByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnNpbXVsYXRpb253b3JrbGlzdC5vcGVuLmRldGFpbHZpZXcuR3JpZENvbHVtbnNcclxuICAgICAgICAgICAgOiByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnNpbXVsYXRpb253b3JrbGlzdC5vcGVuLmZyb3plblJvd3MuR3JpZENvbHVtbnM7XHJcblxyXG4gICAgICAgIHJldHVybiBncmlkQ29sdW1ucztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gU2ltdWxhdGlvbldvcmtsaXN0SGVscGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy91dGlsaXR5L2dyaWQvd29ya2xpc3RoZWxwZXJzL3NpbXVsYXRpb253b3JrbGlzdGhlbHBlci50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBZ1RBO0FBOVNBOzs7Ozs7QUFNQTtBQUNBO0FBSUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1188:
/* no static exports found */
/* all exports used */
/*!**************************************************************************************!*\
  !*** ./src/components/utility/grid/worklisthelpers/standardisationworklisthelper.ts ***!
  \**************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar worklistGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/worklistgridcolumns.json */ 449);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar localeStore = __webpack_require__(/*! ../../../../stores/locale/localestore */ 226);\r\nvar worklistValidatorFactory = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorfactory */ 319);\r\nvar worklistValidatorList = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorlist */ 304);\r\nvar worklistHelperBase = __webpack_require__(/*! ./worklisthelperbase */ 458);\r\nvar josnRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../markeroperationmode/markeroperationmodefactory */ 232);\r\n/**\r\n * class for WorkList Helper implementation\r\n */\r\nvar StandardisationWorklistHelper = /** @class */ (function (_super) {\r\n    __extends(StandardisationWorklistHelper, _super);\r\n    function StandardisationWorklistHelper() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * GenerateRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param responseListData - list of live open responses\r\n     * @param responseType - type of the response\r\n     * @param gridType - type of gridview tile/detail\r\n     * @returns grid row collection.\r\n     */\r\n    StandardisationWorklistHelper.prototype.generateRowDefinion = function (responseListData, responseType, gridType) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(worklistGridColumnsJson);\r\n        this._immutableWorkListCollection = Immutable.List();\r\n        switch (responseType) {\r\n            case enums.ResponseMode.open:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForOpenTiled(responseListData);\r\n                        break;\r\n                    default:\r\n                }\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                switch (gridType) {\r\n                    case enums.GridType.detailed:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedDetail(responseListData);\r\n                        break;\r\n                    case enums.GridType.tiled:\r\n                        this._immutableWorkListCollection = this.getRowDefinionForClosedTiled(responseListData);\r\n                        break;\r\n                    default:\r\n                }\r\n                break;\r\n        }\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForClosedTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of standardisation open responses\r\n     * @returns grid row collection.\r\n     */\r\n    StandardisationWorklistHelper.prototype.getRowDefinionForClosedTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.standardisationworklist.closed.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.closed, localeStore.instance.TranslateText('marking.worklist.response-data.standardisation-response-title') + ' ');\r\n                            break;\r\n                        case gridColumnNames.MarksDifference:\r\n                            key = gridSeq.get(responseListCount) + '_MarksDifference_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getMarksDifferenceColumnElement(responseData, componentPropsJson, key, true);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                var _isShowStandardisationDefinitiveMarks = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ShowStandardisationDefinitiveMarks, responseData.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                // setting row style and row title according to its accuracy type\r\n                _worklistRow.setRowStyle(this.setRowStyle(Immutable.List().push(enums.ResponseStatus.none), _isShowStandardisationDefinitiveMarks ? responseData.accuracyIndicatorTypeID : null));\r\n                _worklistRow.setRowTitle(this.setRowTitle(_isShowStandardisationDefinitiveMarks ? responseData.accuracyIndicatorTypeID : null));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForOpenTiled is used for generating row collection for WorkList Grid in tiled view\r\n     * @param responseListData - list of Standardisation open responses\r\n     * @returns grid row collection.\r\n     */\r\n    StandardisationWorklistHelper.prototype.getRowDefinionForOpenTiled = function (responseListData) {\r\n        var _workListCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                /** Getting the worklist data row */\r\n                _worklistRow = new gridRow();\r\n                _workListCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.standardisationworklist.open.tileview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                // Get fresh set of groups for every columns\r\n                this.emptyGroupColumns();\r\n                /** Getting the worklist columns */\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            var element = this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.standardisation);\r\n                            this.mapGroupColumns('worklist-tile-footer', element);\r\n                            break;\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdColumnElement(responseData, componentPropsJson, key, responseListData.hasNumericMark, enums.ResponseMode.open, localeStore.instance.TranslateText('marking.worklist.response-data.standardisation-response-title') + ' ');\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotated_' + gridColumnCount;\r\n                            // Create annotation indicator element.\r\n                            var allPageElement = this.getAllPageAnnotationIndicatorElement(responseData, componentPropsJson, key);\r\n                            // Checking whether the indicator is valid to display.\r\n                            if (allPageElement !== undefined) {\r\n                                this.mapGroupColumns('icon-holder', allPageElement);\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, true));\r\n                            break;\r\n                        case gridColumnNames.AllFilesNotViewedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllFilesNotViewedIndicator_' + gridColumnCount;\r\n                            var allFilesNotViewedElement = (this.getAllFilesNotViewedIndicatorElement(responseData, componentPropsJson, key));\r\n                            this.mapGroupColumns('worklist-tile-footer', allFilesNotViewedElement);\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                // If there are elements queued to group, then group the elements.\r\n                if (this.groupColumns) {\r\n                    _workListCell = new gridCell();\r\n                    key = gridSeq.get(responseListCount) + '_Tile_Group_';\r\n                    _workListCell.columnElement = this.groupColumnElements('worklist-tile-footer', key);\r\n                    _workListCellcollection.push(_workListCell);\r\n                }\r\n                _worklistRow.setRowStyle(this.setRowStyle(responseStatus));\r\n                _worklistRow.setRowId(parseFloat(responseData.displayId));\r\n                _worklistRow.setCells(_workListCellcollection);\r\n                _workListRowCollection.push(_worklistRow);\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForOpenDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of standardisation open responses\r\n     * @returns grid row collection.\r\n     */\r\n    StandardisationWorklistHelper.prototype.getRowDefinionForOpenDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                /** Getting the worklist data row */\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.standardisationworklist.open.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                var responseStatus = this.getResponseStatus(responseData, enums.ResponseMode.open);\r\n                var _isShowStandardisationDefinitiveMarks = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ShowStandardisationDefinitiveMarks, responseData.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                /** Getting the worklist columns */\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.MarkingProgress:\r\n                            key = gridSeq.get(responseListCount) + '_MarkingProgress_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarkingProgressElement(responseData, componentPropsJson, key, responseStatus, enums.WorklistType.standardisation, false));\r\n                            break;\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.open, true));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllocatedDate(responseData, componentPropsJson, key, true));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotatedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllPageAnnotatedIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.AllFilesNotViewedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllFilesNotViewedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllFilesNotViewedIndicatorElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.open, responseData), undefined));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * getRowDefinionForClosedDetail is used for generating row collection for WorkList Grid in detail view\r\n     * @param responseListData - list of standardisation open responses\r\n     * @returns grid row collection.\r\n     */\r\n    StandardisationWorklistHelper.prototype.getRowDefinionForClosedDetail = function (responseListData) {\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            this.resetDynamicColumnSettings();\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                /** Getting the worklist data row */\r\n                var gridColumns = this.resolvedGridColumnsJson.marking.standardisationworklist.closed.detailview.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                responseData.markSchemeGroupId =\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** Getting the worklist columns */\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.TotalMark:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMark_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getTotalMarkElement(responseData, responseListData.hasNumericMark, responseListData.maximumMark, componentPropsJson, key));\r\n                            break;\r\n                        case gridColumnNames.LastUpdatedColumn:\r\n                            key = gridSeq.get(responseListCount) + '_LastUpdatedColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLastUpdatedElement(responseData, componentPropsJson, key, enums.ResponseMode.closed, false));\r\n                            break;\r\n                        case gridColumnNames.AllocatedDate:\r\n                            key = gridSeq.get(responseListCount) + '_AllocatedDate_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllocatedDate(responseData, componentPropsJson, key, true));\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.AllPageAnnotedIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_AllPageAnnotatedIndicator_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getAllPageAnnotatedIndicatorElement(responseData, componentPropsJson, key, true, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedMessageIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedMessage_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedMessageElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.LinkedExceptionIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_LinkedException_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getLinkedExceptionElement(responseData, componentPropsJson, key, false));\r\n                            break;\r\n                        case gridColumnNames.AccuracyIndicator:\r\n                            // accuracy indicator is shown only when its values is set\r\n                            if (responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown) {\r\n                                key = gridSeq.get(responseListCount) + '_AccuracyIndicator_' + gridColumnCount;\r\n                                _workListCell.columnElement = (this.getAccuracyIndicatorElement(responseData, componentPropsJson, key, false));\r\n                            }\r\n                            break;\r\n                        case gridColumnNames.AbsoluteMarksDifference:\r\n                            key = gridSeq.get(responseListCount) + '_AbsoluteMarksDifference_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarksDifferenceElement(responseData, componentPropsJson, key, enums.MarksDifferenceType.AbsoluteMarksDifference, false));\r\n                            break;\r\n                        case gridColumnNames.TotalMarksDifference:\r\n                            key = gridSeq.get(responseListCount) + '_TotalMarksDifference_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getMarksDifferenceElement(responseData, componentPropsJson, key, enums.MarksDifferenceType.TotalMarksDifference, false));\r\n                            break;\r\n                        case gridColumnNames.ReviewedByLabel:\r\n                            key = gridSeq.get(responseListCount) + '_ReviewedByLabel_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getReviewedByLabel(key, responseData));\r\n                            break;\r\n                        case gridColumnNames.SupervisorReviewComment:\r\n                            key = gridSeq.get(responseListCount) + '_SupervisorReviewComment_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getSupervisorReviewComment(key, responseData));\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                // Creating the grid row collection.\r\n                _workListRowCollection.push(this.getGridRow(Immutable.List().push(enums.ResponseStatus.none), responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(enums.ResponseMode.closed, responseData), undefined));\r\n            }\r\n        }\r\n        this._immutableWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * returns the resposne staus based on the worklist and its validator type\r\n     * @param worklistType\r\n     * @param responseMode\r\n     */\r\n    StandardisationWorklistHelper.prototype.getResponseStatus = function (responseData, responseMode) {\r\n        var responseStatus;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                responseStatus = worklistValidatorFactory.getValidator(worklistValidatorList.standardisationOpen).\r\n                    submitButtonValidate(responseData);\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                responseStatus = Immutable.List().push(enums.ResponseStatus.none);\r\n                break;\r\n        }\r\n        return responseStatus;\r\n    };\r\n    /**\r\n     * returns whether the the given column is hidden or not\r\n     * @param responseColumn\r\n     */\r\n    StandardisationWorklistHelper.prototype.getCellVisibility = function (column) {\r\n        var isHidden = false;\r\n        switch (column) {\r\n            case gridColumnNames.AbsoluteMarksDifference:\r\n            case gridColumnNames.TotalMarksDifference:\r\n            case gridColumnNames.AccuracyIndicator:\r\n                isHidden = !(configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ShowStandardisationDefinitiveMarks, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId) === 'true');\r\n                break;\r\n            case gridColumnNames.SLAOIndicator:\r\n                if (this.isStructuredQIG() === false) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n            case gridColumnNames.AllPageAnnotedIndicator:\r\n                if (this.isStructuredQIG() === true) {\r\n                    isHidden = true;\r\n                }\r\n                break;\r\n            case gridColumnNames.ReviewedByLabel:\r\n                isHidden = markerOperationModeFactory.operationMode.isReviewedByLabelHidden;\r\n                break;\r\n            case gridColumnNames.SupervisorReviewComment:\r\n                isHidden = markerOperationModeFactory.operationMode.isSupervisorReviewCommentColumnHidden;\r\n                break;\r\n        }\r\n        return isHidden;\r\n    };\r\n    /**\r\n     * returns the grdicolumns based on the response mode and worklist type\r\n     * @param responseMode\r\n     */\r\n    StandardisationWorklistHelper.prototype.getGridColumns = function (resolvedGridColumnsJson, worklistType, responseMode, isFrozen) {\r\n        if (isFrozen === void 0) { isFrozen = false; }\r\n        var gridColumns;\r\n        switch (responseMode) {\r\n            case enums.ResponseMode.open:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.standardisationworklist.open.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.standardisationworklist.open.frozenRows.GridColumns;\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                gridColumns = (isFrozen === false) ?\r\n                    resolvedGridColumnsJson.marking.standardisationworklist.closed.detailview.GridColumns\r\n                    : resolvedGridColumnsJson.marking.standardisationworklist.closed.frozenRows.GridColumns;\r\n                break;\r\n        }\r\n        return gridColumns;\r\n    };\r\n    /**\r\n     * returns the accuracy type based on accuracy  and CC values\r\n     * @param responseMode\r\n     * @param responseData\r\n     */\r\n    StandardisationWorklistHelper.prototype.getAccuracyType = function (responseMode, responseData) {\r\n        var _isShowStandardisationDefinitiveMarks = (configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ShowStandardisationDefinitiveMarks, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId).toLowerCase() === 'true');\r\n        if (responseMode === enums.ResponseMode.closed && _isShowStandardisationDefinitiveMarks === true) {\r\n            return responseData.accuracyIndicatorTypeID;\r\n        }\r\n        else {\r\n            return enums.AccuracyIndicatorType.Unknown;\r\n        }\r\n    };\r\n    return StandardisationWorklistHelper;\r\n}(worklistHelperBase));\r\nmodule.exports = StandardisationWorklistHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4OC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGhlbHBlcnMvc3RhbmRhcmRpc2F0aW9ud29ya2xpc3RoZWxwZXIudHM/NjI2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9lbnVtcycpO1xyXG5pbXBvcnQgZ3JpZENvbHVtbk5hbWVzID0gcmVxdWlyZSgnLi4vZ3JpZGNvbHVtbm5hbWVzJyk7XHJcbmltcG9ydCBncmlkUm93ID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL2dyaWRyb3cnKTtcclxuaW1wb3J0IGdyaWRDZWxsID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL2dyaWRjZWxsJyk7XHJcbmxldCB3b3JrbGlzdEdyaWRDb2x1bW5zSnNvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGdyaWRjb2x1bW5zLmpzb24nKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCByZXNwb25zZUlkQ29sdW1uID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL3Jlc3BvbnNlaWRjb2x1bW4nKTtcclxuaW1wb3J0IHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9yZmFjdG9yeScpO1xyXG5pbXBvcnQgd29ya2xpc3RWYWxpZGF0b3JMaXN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvd29ya2xpc3R2YWxpZGF0b3JsaXN0Jyk7XHJcbmltcG9ydCB3b3JrbGlzdEhlbHBlckJhc2UgPSByZXF1aXJlKCcuL3dvcmtsaXN0aGVscGVyYmFzZScpO1xyXG5pbXBvcnQgam9zblJlZlJlc29sdmVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9qc29ucmVmcmVzb2x2ZXIvam9zbnJlZnJlc29sdmVyJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCBjY0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzaGVscGVyJyk7XHJcbmltcG9ydCBjY05hbWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vbWFya2Vyb3BlcmF0aW9ubW9kZS9tYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeScpO1xyXG5cclxuLyoqXHJcbiAqIGNsYXNzIGZvciBXb3JrTGlzdCBIZWxwZXIgaW1wbGVtZW50YXRpb25cclxuICovXHJcbmNsYXNzIFN0YW5kYXJkaXNhdGlvbldvcmtsaXN0SGVscGVyIGV4dGVuZHMgd29ya2xpc3RIZWxwZXJCYXNlIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlUm93RGVmaW5pb24gaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZFxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIGxpdmUgb3BlbiByZXNwb25zZXNcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVR5cGUgLSB0eXBlIG9mIHRoZSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIGdyaWRUeXBlIC0gdHlwZSBvZiBncmlkdmlldyB0aWxlL2RldGFpbFxyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdlbmVyYXRlUm93RGVmaW5pb24ocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlLFxyXG4gICAgICAgIHJlc3BvbnNlVHlwZTogZW51bXMuUmVzcG9uc2VNb2RlLFxyXG4gICAgICAgIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0gam9zblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHdvcmtsaXN0R3JpZENvbHVtbnNKc29uKTtcclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuTGlzdDxncmlkUm93PigpO1xyXG4gICAgICAgIHN3aXRjaCAocmVzcG9uc2VUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGdyaWRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gdGhpcy5nZXRSb3dEZWZpbmlvbkZvck9wZW5EZXRhaWwocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUudGlsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JPcGVuVGlsZWQocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChncmlkVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUuZGV0YWlsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JDbG9zZWREZXRhaWwocmVzcG9uc2VMaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuR3JpZFR5cGUudGlsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pb25Gb3JDbG9zZWRUaWxlZChyZXNwb25zZUxpc3REYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0Um93RGVmaW5pb25Gb3JDbG9zZWRUaWxlZCBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkIGluIHRpbGVkIHZpZXdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBzdGFuZGFyZGlzYXRpb24gb3BlbiByZXNwb25zZXNcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb25Gb3JDbG9zZWRUaWxlZChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnN0YW5kYXJkaXNhdGlvbndvcmtsaXN0LmNsb3NlZC50aWxldmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPVxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlSWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1Jlc3BvbnNlSWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuXHRcdFx0XHRcdFx0XHRcdGtleSxcclxuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnN0YW5kYXJkaXNhdGlvbi1yZXNwb25zZS10aXRsZScpICsgJyAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJrc0RpZmZlcmVuY2U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX01hcmtzRGlmZmVyZW5jZV8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRNYXJrc0RpZmZlcmVuY2VDb2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uLnB1c2goX3dvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IF9pc1Nob3dTdGFuZGFyZGlzYXRpb25EZWZpbml0aXZlTWFya3MgPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcy5TaG93U3RhbmRhcmRpc2F0aW9uRGVmaW5pdGl2ZU1hcmtzLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNldHRpbmcgcm93IHN0eWxlIGFuZCByb3cgdGl0bGUgYWNjb3JkaW5nIHRvIGl0cyBhY2N1cmFjeSB0eXBlXHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93U3R5bGUoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRSb3dTdHlsZShJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4oKS5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vbmUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfaXNTaG93U3RhbmRhcmRpc2F0aW9uRGVmaW5pdGl2ZU1hcmtzID8gcmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEIDogbnVsbCkpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd1RpdGxlKHRoaXMuc2V0Um93VGl0bGVcclxuICAgICAgICAgICAgICAgICAgICAoX2lzU2hvd1N0YW5kYXJkaXNhdGlvbkRlZmluaXRpdmVNYXJrcyA/IHJlc3BvbnNlRGF0YS5hY2N1cmFjeUluZGljYXRvclR5cGVJRCA6IG51bGwpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dJZChwYXJzZUZsb2F0KHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRDZWxscyhfd29ya0xpc3RDZWxsY29sbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goX3dvcmtsaXN0Um93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvck9wZW5UaWxlZCBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkIGluIHRpbGVkIHZpZXdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBTdGFuZGFyZGlzYXRpb24gb3BlbiByZXNwb25zZXNcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb25Gb3JPcGVuVGlsZWQocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8qKiBHZXR0aW5nIHRoZSB3b3JrbGlzdCBkYXRhIHJvdyAqL1xyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzID0gdGhpcy5nZXRSZXNwb25zZVN0YXR1cyhyZXNwb25zZURhdGEsIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuc3RhbmRhcmRpc2F0aW9ud29ya2xpc3Qub3Blbi50aWxldmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldCBmcmVzaCBzZXQgb2YgZ3JvdXBzIGZvciBldmVyeSBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtcHR5R3JvdXBDb2x1bW5zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnMgKi9cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX3Jlc3BvbnNlQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk1hcmtpbmdQcm9ncmVzczpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTWFya2luZ1Byb2dyZXNzXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZ2V0TWFya2luZ1Byb2dyZXNzRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Xb3JrbGlzdFR5cGUuc3RhbmRhcmRpc2F0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwR3JvdXBDb2x1bW5zKCd3b3JrbGlzdC10aWxlLWZvb3RlcicsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlSWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1Jlc3BvbnNlSWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuXHRcdFx0XHRcdFx0XHRcdGtleSxcclxuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zdGFuZGFyZGlzYXRpb24tcmVzcG9uc2UtdGl0bGUnKSArICcgJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsUGFnZUFubm90ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbFBhZ2VBbm5vdGF0ZWRfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYW5ub3RhdGlvbiBpbmRpY2F0b3IgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbGxQYWdlRWxlbWVudCA9IHRoaXMuZ2V0QWxsUGFnZUFubm90YXRpb25JbmRpY2F0b3JFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVja2luZyB3aGV0aGVyIHRoZSBpbmRpY2F0b3IgaXMgdmFsaWQgdG8gZGlzcGxheS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxQYWdlRWxlbWVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBHcm91cENvbHVtbnMoJ2ljb24taG9sZGVyJywgYWxsUGFnZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNMQU9JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFNMQU9JbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxGaWxlc05vdFZpZXdlZEluZGljYXRvcl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFsbEZpbGVzTm90Vmlld2VkRWxlbWVudCA9ICh0aGlzLmdldEFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBHcm91cENvbHVtbnMoJ3dvcmtsaXN0LXRpbGUtZm9vdGVyJywgYWxsRmlsZXNOb3RWaWV3ZWRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBlbGVtZW50cyBxdWV1ZWQgdG8gZ3JvdXAsIHRoZW4gZ3JvdXAgdGhlIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXBDb2x1bW5zKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1RpbGVfR3JvdXBfJztcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdyb3VwQ29sdW1uRWxlbWVudHMoJ3dvcmtsaXN0LXRpbGUtZm9vdGVyJywga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3dvcmtsaXN0Um93LnNldFJvd1N0eWxlKHRoaXMuc2V0Um93U3R5bGUocmVzcG9uc2VTdGF0dXMpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dJZChwYXJzZUZsb2F0KHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQpKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdy5zZXRDZWxscyhfd29ya0xpc3RDZWxsY29sbGVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goX3dvcmtsaXN0Um93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRSb3dEZWZpbmlvbkZvck9wZW5EZXRhaWwgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZCBpbiBkZXRhaWwgdmlld1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIHN0YW5kYXJkaXNhdGlvbiBvcGVuIHJlc3BvbnNlc1xyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvck9wZW5EZXRhaWwocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcclxuICAgICAgICBsZXQgX3dvcmtsaXN0Um93OiBncmlkUm93O1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IF9yZXNwb25zZUxpc3REYXRhID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VMaXN0TGVuZ3RoID0gX3Jlc3BvbnNlTGlzdERhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0RHluYW1pY0NvbHVtblNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCByZXNwb25zZUxpc3RMZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8qKiBHZXR0aW5nIHRoZSB3b3JrbGlzdCBkYXRhIHJvdyAqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5tYXJraW5nLnN0YW5kYXJkaXNhdGlvbndvcmtsaXN0Lm9wZW4uZGV0YWlsdmlldy5HcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgIF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzID0gdGhpcy5nZXRSZXNwb25zZVN0YXR1cyhyZXNwb25zZURhdGEsIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgX2lzU2hvd1N0YW5kYXJkaXNhdGlvbkRlZmluaXRpdmVNYXJrcyA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNob3dTdGFuZGFyZGlzYXRpb25EZWZpbml0aXZlTWFya3MsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgLyoqIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnMgKi9cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcG9uZW50UHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJraW5nUHJvZ3Jlc3M6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX01hcmtpbmdQcm9ncmVzc18nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0TWFya2luZ1Byb2dyZXNzRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Xb3JrbGlzdFR5cGUuc3RhbmRhcmRpc2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVG90YWxNYXJrOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19Ub3RhbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRvdGFsTWFya0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5tYXhpbXVtTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxvY2F0ZWREYXRlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxvY2F0ZWREYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBbGxvY2F0ZWREYXRlKHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsUGFnZUFubm90ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbFBhZ2VBbm5vdGF0ZWRJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFsbFBhZ2VBbm5vdGF0ZWRJbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MaW5rZWRNZXNzYWdlSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRNZXNzYWdlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMaW5rZWRNZXNzYWdlRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZEV4Y2VwdGlvbkluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGlua2VkRXhjZXB0aW9uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMaW5rZWRFeGNlcHRpb25FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBbGxGaWxlc05vdFZpZXdlZEluZGljYXRvckVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmlzSGlkZGVuID0gdGhpcy5nZXRDZWxsVmlzaWJpbGl0eShfcmVzcG9uc2VDb2x1bW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPSAoZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcykgPyBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEFjY3VyYWN5VHlwZShlbnVtcy5SZXNwb25zZU1vZGUub3BlbiwgcmVzcG9uc2VEYXRhKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1tdXRhYmxlV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0Um93RGVmaW5pb25Gb3JDbG9zZWREZXRhaWwgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZCBpbiBkZXRhaWwgdmlld1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIHN0YW5kYXJkaXNhdGlvbiBvcGVuIHJlc3BvbnNlc1xyXG4gICAgICogQHJldHVybnMgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbmlvbkZvckNsb3NlZERldGFpbChyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XHJcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gcmVzcG9uc2VMaXN0RGF0YS5yZXNwb25zZXMua2V5U2VxKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZUxpc3RMZW5ndGggPSBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgLyoqIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93ICovXHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuc3RhbmRhcmRpc2F0aW9ud29ya2xpc3QuY2xvc2VkLmRldGFpbHZpZXcuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQgPVxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKiBHZXR0aW5nIHRoZSB3b3JrbGlzdCBjb2x1bW5zICovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVG90YWxNYXJrOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19Ub3RhbE1hcmtfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldFRvdGFsTWFya0VsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTGlzdERhdGEuaGFzTnVtZXJpY01hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VMaXN0RGF0YS5tYXhpbXVtTWFyayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTGFzdFVwZGF0ZWRDb2x1bW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0xhc3RVcGRhdGVkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCwgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxvY2F0ZWREYXRlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19BbGxvY2F0ZWREYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBbGxvY2F0ZWREYXRlKHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TTEFPSW5kaWNhdG9yXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTTEFPSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsUGFnZUFubm90ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0FsbFBhZ2VBbm5vdGF0ZWRJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEFsbFBhZ2VBbm5vdGF0ZWRJbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MaW5rZWRNZXNzYWdlSW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19MaW5rZWRNZXNzYWdlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMaW5rZWRNZXNzYWdlRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZEV4Y2VwdGlvbkluZGljYXRvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfTGlua2VkRXhjZXB0aW9uXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRMaW5rZWRFeGNlcHRpb25FbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWNjdXJhY3lJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhY2N1cmFjeSBpbmRpY2F0b3IgaXMgc2hvd24gb25seSB3aGVuIGl0cyB2YWx1ZXMgaXMgc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEICE9PSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQWNjdXJhY3lJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRBY2N1cmFjeUluZGljYXRvckVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWJzb2x1dGVNYXJrc0RpZmZlcmVuY2U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0Fic29sdXRlTWFya3NEaWZmZXJlbmNlXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRNYXJrc0RpZmZlcmVuY2VFbGVtZW50KHJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLk1hcmtzRGlmZmVyZW5jZVR5cGUuQWJzb2x1dGVNYXJrc0RpZmZlcmVuY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Ub3RhbE1hcmtzRGlmZmVyZW5jZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfVG90YWxNYXJrc0RpZmZlcmVuY2VfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldE1hcmtzRGlmZmVyZW5jZUVsZW1lbnQocmVzcG9uc2VEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuTWFya3NEaWZmZXJlbmNlVHlwZS5Ub3RhbE1hcmtzRGlmZmVyZW5jZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJldmlld2VkQnlMYWJlbDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfUmV2aWV3ZWRCeUxhYmVsXycgKyBncmlkQ29sdW1uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0UmV2aWV3ZWRCeUxhYmVsKGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TdXBlcnZpc29yUmV2aWV3Q29tbWVudDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfU3VwZXJ2aXNvclJldmlld0NvbW1lbnRfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRTdXBlcnZpc29yUmV2aWV3Q29tbWVudChrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5pc0hpZGRlbiA9IHRoaXMuZ2V0Q2VsbFZpc2liaWxpdHkoX3Jlc3BvbnNlQ29sdW1uKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPigpLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubm9uZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEFjY3VyYWN5VHlwZShlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLCByZXNwb25zZURhdGEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbW11dGFibGVXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSByZXNwb3NuZSBzdGF1cyBiYXNlZCBvbiB0aGUgd29ya2xpc3QgYW5kIGl0cyB2YWxpZGF0b3IgdHlwZVxyXG4gICAgICogQHBhcmFtIHdvcmtsaXN0VHlwZVxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTW9kZVxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0UmVzcG9uc2VTdGF0dXMocmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UsIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlKTpcclxuICAgICAgICBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4ge1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPjtcclxuXHJcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZU1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUub3BlbjpcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzID0gd29ya2xpc3RWYWxpZGF0b3JGYWN0b3J5LmdldFZhbGlkYXRvcih3b3JrbGlzdFZhbGlkYXRvckxpc3Quc3RhbmRhcmRpc2F0aW9uT3BlbikuXHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0QnV0dG9uVmFsaWRhdGUocmVzcG9uc2VEYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQ6XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyA9IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPigpLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubm9uZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXNwb25zZVN0YXR1cztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgd2hldGhlciB0aGUgdGhlIGdpdmVuIGNvbHVtbiBpcyBoaWRkZW4gb3Igbm90XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VDb2x1bW5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldENlbGxWaXNpYmlsaXR5KGNvbHVtbjogc3RyaW5nKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGxldCBpc0hpZGRlbjogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGNvbHVtbikge1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZTpcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVG90YWxNYXJrc0RpZmZlcmVuY2U6XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFjY3VyYWN5SW5kaWNhdG9yOlxyXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSAhKGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNob3dTdGFuZGFyZGlzYXRpb25EZWZpbml0aXZlTWFya3MsXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQpID09PSAndHJ1ZScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNMQU9JbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1N0cnVjdHVyZWRRSUcoKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQWxsUGFnZUFubm90ZWRJbmRpY2F0b3I6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1N0cnVjdHVyZWRRSUcoKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5SZXZpZXdlZEJ5TGFiZWw6XHJcbiAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNSZXZpZXdlZEJ5TGFiZWxIaWRkZW47XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU3VwZXJ2aXNvclJldmlld0NvbW1lbnQ6XHJcbiAgICAgICAgICAgICAgICBpc0hpZGRlbiA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTdXBlcnZpc29yUmV2aWV3Q29tbWVudENvbHVtbkhpZGRlbjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGlzSGlkZGVuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgZ3JkaWNvbHVtbnMgYmFzZWQgb24gdGhlIHJlc3BvbnNlIG1vZGUgYW5kIHdvcmtsaXN0IHR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldEdyaWRDb2x1bW5zKHJlc29sdmVkR3JpZENvbHVtbnNKc29uOiBhbnksIHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlLCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBpc0Zyb3plbjogYm9vbGVhbiA9IGZhbHNlKSB7XHJcblxyXG4gICAgICAgIGxldCBncmlkQ29sdW1uczogYW55O1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuOlxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSAoaXNGcm96ZW4gPT09IGZhbHNlKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24ubWFya2luZy5zdGFuZGFyZGlzYXRpb253b3JrbGlzdC5vcGVuLmRldGFpbHZpZXcuR3JpZENvbHVtbnNcclxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuc3RhbmRhcmRpc2F0aW9ud29ya2xpc3Qub3Blbi5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZDpcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuc3RhbmRhcmRpc2F0aW9ud29ya2xpc3QuY2xvc2VkLmRldGFpbHZpZXcuR3JpZENvbHVtbnNcclxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLm1hcmtpbmcuc3RhbmRhcmRpc2F0aW9ud29ya2xpc3QuY2xvc2VkLmZyb3plblJvd3MuR3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBncmlkQ29sdW1ucztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGFjY3VyYWN5IHR5cGUgYmFzZWQgb24gYWNjdXJhY3kgIGFuZCBDQyB2YWx1ZXNcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURhdGFcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldEFjY3VyYWN5VHlwZShyZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSwgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UpOiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUge1xyXG5cclxuICAgICAgICBsZXQgX2lzU2hvd1N0YW5kYXJkaXNhdGlvbkRlZmluaXRpdmVNYXJrcyA9IChjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuU2hvd1N0YW5kYXJkaXNhdGlvbkRlZmluaXRpdmVNYXJrcyxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyk7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZU1vZGUgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQgJiYgX2lzU2hvd1N0YW5kYXJkaXNhdGlvbkRlZmluaXRpdmVNYXJrcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93bjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFN0YW5kYXJkaXNhdGlvbldvcmtsaXN0SGVscGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy91dGlsaXR5L2dyaWQvd29ya2xpc3RoZWxwZXJzL3N0YW5kYXJkaXNhdGlvbndvcmtsaXN0aGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUFBOztBQWluQkE7QUEvbUJBOzs7Ozs7QUFNQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1198:
/* no static exports found */
/* all exports used */
/*!********************************************************************************!*\
  !*** ./src/components/utility/progressindicator/circularprogressindicator.tsx ***!
  \********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*tslint:disable:no-unused-expression*/\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar CircularProgressIndicator = /** @class */ (function (_super) {\r\n    __extends(CircularProgressIndicator, _super);\r\n    function CircularProgressIndicator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * This method will return the coordinates for progress path.\r\n     * @param r : radius\r\n     * @param degree : degree\r\n     */\r\n    CircularProgressIndicator.prototype.getPoint = function (r, degree) {\r\n        var size = this.props.size;\r\n        var d = degree / 180 * Math.PI;\r\n        return {\r\n            x: r * Math.sin(d) + size / 2,\r\n            y: this.props.trackWidth / 2 + r * (1 - Math.cos(d))\r\n        };\r\n    };\r\n    /**\r\n     * Render method for the Progress indicator.\r\n     */\r\n    CircularProgressIndicator.prototype.render = function () {\r\n        var _this = this;\r\n        var progressComponents = Array();\r\n        var progressPaths = Array();\r\n        var prevProgress = 0;\r\n        var size = this.props.size;\r\n        var r = size / 2 - this.props.trackWidth / 2;\r\n        this.props.progress.map(function (item) {\r\n            var progress = item.progress + prevProgress;\r\n            var endDegree = progress * 360 / 100;\r\n            var s = _this.getPoint(r, _this.props.startDegree);\r\n            var e = _this.getPoint(r, endDegree);\r\n            var progressPath = null;\r\n            if (progress < 50) {\r\n                progressPath = 'M ' + s.x + ' ' + s.y + ' A ' + r + ' ' + r + ', 0, 0, 1, ' + e.x + ',' + e.y;\r\n            }\r\n            else {\r\n                var m = _this.getPoint(r, _this.props.startDegree + 180);\r\n                progressPath = 'M ' + s.x + ' ' + s.y + ' A ' + r + ' ' + r + ', 0, 0, 1, ' + m.x + ',' + m.y + '\\n        M ' + m.x + ' '\r\n                    + m.y + ' A ' + r + ' ' + r + ', 0, 0, 1, ' + e.x + ',' + e.y;\r\n            }\r\n            // set the previous progress for next item\r\n            prevProgress = progress;\r\n            progressPaths.push({ progress: progress, progressPath: progressPath, style: item.className });\r\n        });\r\n        // This will create progress path components.\r\n        // Currently IE is not supporting SVG animations so that we implemented a different logic for IE\r\n        progressPaths.map(function (progressPathItem, i) {\r\n            var circumference = Math.round(2 * Math.PI * r);\r\n            var style = { strokeLinecap: 'round' };\r\n            if (progressPathItem.progress > 0) {\r\n                progressComponents.push(React.createElement('path', {\r\n                    d: progressPathItem.progressPath, className: progressPathItem.style + ' path',\r\n                    key: 'path_' + i,\r\n                    style: style\r\n                }));\r\n            }\r\n        });\r\n        return (React.createElement(\"svg\", { width: size, height: size, viewBox: '0 0 ' + size + ' ' + size, className: 'target-svg' },\r\n            React.createElement(\"circle\", { cx: size / 2, cy: size / 2, r: r, className: this.props.trackStyle }),\r\n            progressComponents.reverse()));\r\n    };\r\n    return CircularProgressIndicator;\r\n}(pureRenderComponent));\r\nmodule.exports = CircularProgressIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE5OC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvcHJvZ3Jlc3NpbmRpY2F0b3IvY2lyY3VsYXJwcm9ncmVzc2luZGljYXRvci50c3g/ZjFiZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKnRzbGludDpkaXNhYmxlOm5vLXVudXNlZC1leHByZXNzaW9uKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGEgY29tcG9uZW50XHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gICAgc2l6ZTogbnVtYmVyO1xyXG4gICAgc3RhcnREZWdyZWU6IG51bWJlcjtcclxuICAgIGVuZERlZ3JlZTogbnVtYmVyO1xyXG4gICAgdHJhY2tXaWR0aDogbnVtYmVyO1xyXG4gICAgdHJhY2tTdHlsZTogc3RyaW5nO1xyXG4gICAgcHJvZ3Jlc3M6IEFycmF5PGFueT47XHJcbn1cclxuXHJcbmNsYXNzIENpcmN1bGFyUHJvZ3Jlc3NJbmRpY2F0b3IgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBjb29yZGluYXRlcyBmb3IgcHJvZ3Jlc3MgcGF0aC5cclxuICAgICAqIEBwYXJhbSByIDogcmFkaXVzXHJcbiAgICAgKiBAcGFyYW0gZGVncmVlIDogZGVncmVlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0UG9pbnQocjogYW55LCBkZWdyZWU6IGFueSk6IGFueSB7XHJcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLnByb3BzLnNpemU7XHJcbiAgICAgICAgbGV0IGQgPSBkZWdyZWUgLyAxODAgKiBNYXRoLlBJO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiByICogTWF0aC5zaW4oZCkgKyBzaXplIC8gMixcclxuICAgICAgICAgICAgeTogdGhpcy5wcm9wcy50cmFja1dpZHRoIC8gMiArIHIgKiAoMSAtIE1hdGguY29zKGQpKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgbWV0aG9kIGZvciB0aGUgUHJvZ3Jlc3MgaW5kaWNhdG9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICBsZXQgcHJvZ3Jlc3NDb21wb25lbnRzOiBBcnJheTxhbnk+ID0gQXJyYXk8YW55PigpO1xyXG4gICAgICAgIGxldCBwcm9ncmVzc1BhdGhzOiBBcnJheTxhbnk+ID0gQXJyYXk8YW55PigpO1xyXG5cclxuICAgICAgICBsZXQgcHJldlByb2dyZXNzOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBzaXplOiBudW1iZXIgPSB0aGlzLnByb3BzLnNpemU7XHJcbiAgICAgICAgbGV0IHI6IG51bWJlciA9IHNpemUgLyAyIC0gdGhpcy5wcm9wcy50cmFja1dpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcy5wcm9ncmVzcy5tYXAoKGl0ZW06IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHByb2dyZXNzOiBudW1iZXIgPSBpdGVtLnByb2dyZXNzICsgcHJldlByb2dyZXNzO1xyXG4gICAgICAgICAgICBsZXQgZW5kRGVncmVlOiBudW1iZXIgPSBwcm9ncmVzcyAqIDM2MCAvIDEwMDtcclxuICAgICAgICAgICAgbGV0IHMgPSB0aGlzLmdldFBvaW50KHIsIHRoaXMucHJvcHMuc3RhcnREZWdyZWUpO1xyXG4gICAgICAgICAgICBsZXQgZSA9IHRoaXMuZ2V0UG9pbnQociwgZW5kRGVncmVlKTtcclxuICAgICAgICAgICAgbGV0IHByb2dyZXNzUGF0aDogc3RyaW5nID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChwcm9ncmVzcyA8IDUwKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc1BhdGggPSAnTSAnICsgcy54ICsgJyAnICsgcy55ICsgJyBBICcgKyByICsgJyAnICsgciArICcsIDAsIDAsIDEsICcgKyBlLnggKyAnLCcgKyBlLnk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbSA9IHRoaXMuZ2V0UG9pbnQociwgdGhpcy5wcm9wcy5zdGFydERlZ3JlZSArIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc1BhdGggPSAnTSAnICsgcy54ICsgJyAnICsgcy55ICsgJyBBICcgKyByICsgJyAnICsgciArICcsIDAsIDAsIDEsICcgKyBtLnggKyAnLCcgKyBtLnkgKyAnXFxuICAgICAgICBNICcgKyBtLnggKyAnICdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgbS55ICsgJyBBICcgKyByICsgJyAnICsgciArICcsIDAsIDAsIDEsICcgKyBlLnggKyAnLCcgKyBlLnk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNldCB0aGUgcHJldmlvdXMgcHJvZ3Jlc3MgZm9yIG5leHQgaXRlbVxyXG4gICAgICAgICAgICBwcmV2UHJvZ3Jlc3MgPSBwcm9ncmVzcztcclxuICAgICAgICAgICAgcHJvZ3Jlc3NQYXRocy5wdXNoKHsgcHJvZ3Jlc3M6IHByb2dyZXNzLCBwcm9ncmVzc1BhdGg6IHByb2dyZXNzUGF0aCwgc3R5bGU6IGl0ZW0uY2xhc3NOYW1lIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBUaGlzIHdpbGwgY3JlYXRlIHByb2dyZXNzIHBhdGggY29tcG9uZW50cy5cclxuICAgICAgICAvLyBDdXJyZW50bHkgSUUgaXMgbm90IHN1cHBvcnRpbmcgU1ZHIGFuaW1hdGlvbnMgc28gdGhhdCB3ZSBpbXBsZW1lbnRlZCBhIGRpZmZlcmVudCBsb2dpYyBmb3IgSUVcclxuICAgICAgICBwcm9ncmVzc1BhdGhzLm1hcCgocHJvZ3Jlc3NQYXRoSXRlbTogYW55LCBpOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNpcmN1bWZlcmVuY2U6IG51bWJlciA9IE1hdGgucm91bmQoMiAqIE1hdGguUEkgKiByKTtcclxuICAgICAgICAgICAgbGV0IHN0eWxlID0geyBzdHJva2VMaW5lY2FwOiAncm91bmQnIH07XHJcblxyXG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3NQYXRoSXRlbS5wcm9ncmVzcyA+IDApIHtcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzQ29tcG9uZW50cy5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZDogcHJvZ3Jlc3NQYXRoSXRlbS5wcm9ncmVzc1BhdGgsIGNsYXNzTmFtZTogcHJvZ3Jlc3NQYXRoSXRlbS5zdHlsZSArICcgcGF0aCcsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGF0aF8nICsgaSxcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogc3R5bGVcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9e3NpemV9IGhlaWdodD17c2l6ZX0gdmlld0JveD17JzAgMCAnICsgc2l6ZSArICcgJyArIHNpemV9IGNsYXNzTmFtZSA9ICd0YXJnZXQtc3ZnJz5cclxuICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9e3NpemUgLyAyfSBjeT17c2l6ZSAvIDJ9IHI9e3J9IGNsYXNzTmFtZT17dGhpcy5wcm9wcy50cmFja1N0eWxlfT48L2NpcmNsZT5cclxuICAgICAgICAgICAgICAgICAgIHtwcm9ncmVzc0NvbXBvbmVudHMucmV2ZXJzZSgpIH1cclxuICAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBDaXJjdWxhclByb2dyZXNzSW5kaWNhdG9yO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9wcm9ncmVzc2luZGljYXRvci9jaXJjdWxhcnByb2dyZXNzaW5kaWNhdG9yLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFjQTtBQUFBO0FBQUE7O0FBd0VBO0FBdEVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1199:
/* no static exports found */
/* all exports used */
/*!***********************************************************************************************!*\
  !*** ./src/components/utility/responseallocation/responseallocationbuttonvalidationhelper.ts ***!
  \***********************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar responseAllocationButtonValidationParameter = __webpack_require__(/*! ./responseallocationbuttonvalidationparameter */ 1200);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar targetSummaryStore = __webpack_require__(/*! ../../../stores/worklist/targetsummarystore */ 305);\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar qigSelectorValidationHelper = __webpack_require__(/*! ../qigselector/qigselectorvalidationhelper */ 483);\r\nvar loginStore = __webpack_require__(/*! ../../../stores/login/loginstore */ 286);\r\nvar responseHelper = __webpack_require__(/*! ../responsehelper/responsehelper */ 249);\r\n/**\r\n * Helper class for response allocation button\r\n * It handles the enabling/disabling as well as the visibility status of the button\r\n */\r\nvar ResponseAllocationButtonValidationHelper = /** @class */ (function () {\r\n    function ResponseAllocationButtonValidationHelper() {\r\n    }\r\n    /**\r\n     * Returns an entity representing the states to be set for the response allocation button\r\n     * @param liveWorklistStatistics contains the worklist details\r\n     * @param examinerQigStatus the current qig status of the examiner\r\n     * @param examinerApprovalStatus contains the examiner approval status\r\n     * @param worklistType stores the worklist type\r\n     * @param remarkRequestType stores the remark request type\r\n     */\r\n    ResponseAllocationButtonValidationHelper.validate = function (liveWorklistStatistics, examinerQigStatus, examinerApprovalStatus, worklistType, remarkRequestType, isTeamManagementMode) {\r\n        var responseAllocationButtonMainText;\r\n        var responseAllocationButtonTitle = '';\r\n        var responseAllocationButtonSubText = '';\r\n        var isResponseAllocateButtonVisible = true;\r\n        var isResponseAllocateButtonEnabled = false;\r\n        var isWorklistInformationBannerVisible = false;\r\n        // Getting the response allocation dropdown buttons text\r\n        var responseAllocationButtonSingleResponseText;\r\n        var responseAllocationButtonUpToOpenResponseText;\r\n        var isWholeResponseResponseAllocationButtonAvailable = false;\r\n        // we need to hide the Response allocation button if the marker operation mode is Team Management.\r\n        if (isTeamManagementMode) {\r\n            isResponseAllocateButtonVisible = false;\r\n        }\r\n        else {\r\n            // Getting the response allocation main button text\r\n            // Added the condition to add new button text for pooled remarks\r\n            responseAllocationButtonMainText = (worklistType === enums.WorklistType.pooledRemark)\r\n                || (worklistType === enums.WorklistType.simulation) ?\r\n                localeStore.instance.TranslateText('marking.worklist.action-buttons.allocate-button-remarks') :\r\n                localeStore.instance.TranslateText('marking.worklist.action-buttons.allocate-button');\r\n            responseAllocationButtonSingleResponseText = localeStore.instance.\r\n                TranslateText('marking.worklist.action-buttons.allocate-single-response');\r\n            responseAllocationButtonUpToOpenResponseText = localeStore.instance.\r\n                TranslateText('marking.worklist.action-buttons.allocate-to-concurrent-limit');\r\n            if (worklistType === enums.WorklistType.live\r\n                && qigStore.instance.isWholeResponseAvailable) {\r\n                /* If Ebookmarking then there should not be whole response button */\r\n                isWholeResponseResponseAllocationButtonAvailable = responseHelper.isEbookMarking ? false : true;\r\n            }\r\n            else {\r\n                isWholeResponseResponseAllocationButtonAvailable = false;\r\n            }\r\n            // Setting the different visibility status to the GetNewResponse button based on the current status of the Examiner\r\n            switch (examinerQigStatus) {\r\n                case enums.ExaminerQIGStatus.WaitingStandardisation:\r\n                case enums.ExaminerQIGStatus.Simulation:\r\n                    isResponseAllocateButtonVisible = true;\r\n                    isResponseAllocateButtonEnabled = true;\r\n                    isWorklistInformationBannerVisible = true;\r\n                    break;\r\n                case enums.ExaminerQIGStatus.Practice:\r\n                case enums.ExaminerQIGStatus.StandardisationMarking:\r\n                case enums.ExaminerQIGStatus.SecondStandardisationMarking:\r\n                case enums.ExaminerQIGStatus.STMStandardisationMarking:\r\n                case enums.ExaminerQIGStatus.AwaitingApproval:\r\n                    isResponseAllocateButtonVisible = false;\r\n                    isResponseAllocateButtonEnabled = false;\r\n                    break;\r\n                case enums.ExaminerQIGStatus.LiveComplete:\r\n                case enums.ExaminerQIGStatus.OverAllTargetCompleted:\r\n                    isWorklistInformationBannerVisible = true;\r\n                    break;\r\n                case enums.ExaminerQIGStatus.QualityFeedback:\r\n                case enums.ExaminerQIGStatus.Suspended:\r\n                case enums.ExaminerQIGStatus.OverAllTargetReached:\r\n                    isResponseAllocateButtonEnabled = false;\r\n                    break;\r\n                case enums.ExaminerQIGStatus.LiveMarking:\r\n                    isWorklistInformationBannerVisible = true;\r\n                    isResponseAllocateButtonEnabled = true;\r\n                    break;\r\n                default:\r\n                    isResponseAllocateButtonVisible = true;\r\n                    isResponseAllocateButtonEnabled = true;\r\n                    break;\r\n            }\r\n            // Examiner Approval Status needs not be considered while the marker is in Simulation Marking.\r\n            if (examinerQigStatus !== enums.ExaminerQIGStatus.Simulation) {\r\n                switch (examinerApprovalStatus) {\r\n                    case enums.ExaminerApproval.Approved:\r\n                    case enums.ExaminerApproval.ConditionallyApproved:\r\n                    case enums.ExaminerApproval.ApprovedReview:\r\n                        break;\r\n                    default:\r\n                        isResponseAllocateButtonVisible = true;\r\n                        isResponseAllocateButtonEnabled = false;\r\n                        responseAllocationButtonTitle =\r\n                            localeStore.instance.TranslateText('marking.worklist.action-buttons.allocate-button-not-approved-tooltip');\r\n                        responseAllocationButtonSubText =\r\n                            localeStore.instance.TranslateText('marking.worklist.action-buttons.allocate-button-suspended-indicator');\r\n                        break;\r\n                }\r\n            }\r\n            if (loginStore.instance.isAdminRemarker) {\r\n                isResponseAllocateButtonVisible = true;\r\n            }\r\n            if (liveWorklistStatistics !== undefined && examinerApprovalStatus !== enums.ExaminerApproval.Suspended) {\r\n                var isConcurrentLimitMet = new qigSelectorValidationHelper()\r\n                    .isConcurrentLimitMet(qigStore.instance.selectedQIGForMarkerOperation, liveWorklistStatistics);\r\n                //Not applicable for pooled remark since the live complete status does not affect pooled remarks\r\n                if ((examinerQigStatus === enums.ExaminerQIGStatus.LiveComplete\r\n                    || examinerQigStatus === enums.ExaminerQIGStatus.OverAllTargetReached\r\n                    || examinerQigStatus === enums.ExaminerQIGStatus.OverAllTargetCompleted)\r\n                    && worklistType !== enums.WorklistType.pooledRemark) {\r\n                    // If the live marking is completed or the marking target is reached.\r\n                    isResponseAllocateButtonEnabled = false;\r\n                    responseAllocationButtonSubText = localeStore.instance.TranslateText('marking.worklist.action-buttons.allocate-button-target-reached-indicator');\r\n                }\r\n                else if (isConcurrentLimitMet) {\r\n                    // If the current open response count meets the concurrent limit\r\n                    responseAllocationButtonSubText =\r\n                        localeStore.instance.TranslateText('marking.worklist.action-buttons.allocate-button-concurrent-limit-reached-indicator');\r\n                    isResponseAllocateButtonEnabled = false;\r\n                }\r\n                else if (liveWorklistStatistics.unallocatedResponsesCount <= 0) {\r\n                    // If there are no unallocated responses left\r\n                    responseAllocationButtonSubText = localeStore.instance.TranslateText('marking.worklist.no-responses-available-helper.header');\r\n                    isResponseAllocateButtonEnabled = false;\r\n                }\r\n                else {\r\n                    //If the above conditions are not satisfied the allocation button should be enabled\r\n                    isResponseAllocateButtonEnabled = true;\r\n                }\r\n            }\r\n            // If the allocation button is already enabled, then disable the same if the total responses count\r\n            // has gone over the maximum marking limit and over allocation\r\n            if (isResponseAllocateButtonEnabled) {\r\n                var isAggregateTargetsCCEnabled = qigStore.instance.selectedQIGForMarkerOperation.isAggregateQIGTargetsON;\r\n                if (worklistType === enums.WorklistType.live) {\r\n                    var currentTarget = targetSummaryStore.instance.getCurrentTarget();\r\n                    if (currentTarget && currentTarget.markingModeID === enums.MarkingMode.LiveMarking) {\r\n                        // Retrieving the marking targets collection\r\n                        var targetSummary = targetSummaryStore.instance.getExaminerMarkingTargetProgress();\r\n                        if (targetSummary) {\r\n                            var totalLiveResponsesCount = 0;\r\n                            // Looping through the marking targets collection\r\n                            for (var index = 0; index < targetSummary.count(); index++) {\r\n                                var target = targetSummary.get(index);\r\n                                if (target.markingModeID === enums.MarkingMode.LiveMarking\r\n                                    || target.examinerProgress.isDirectedRemark) {\r\n                                    if (isAggregateTargetsCCEnabled) {\r\n                                        // Summing up the total live responses count\r\n                                        totalLiveResponsesCount += target.aggregatedOpenResponsesCount +\r\n                                            target.aggregatedClosedResponsesCount;\r\n                                    }\r\n                                    else {\r\n                                        // Summing up the total live responses count\r\n                                        totalLiveResponsesCount += target.examinerProgress.openResponsesCount +\r\n                                            target.examinerProgress.pendingResponsesCount +\r\n                                            target.examinerProgress.closedResponsesCount;\r\n                                    }\r\n                                    if (target.markingModeID === enums.MarkingMode.LiveMarking && !isAggregateTargetsCCEnabled) {\r\n                                        totalLiveResponsesCount += target.examinerProgress.atypicalOpenResponsesCount;\r\n                                    }\r\n                                }\r\n                            }\r\n                            var maximumMarkingLimit = isAggregateTargetsCCEnabled ?\r\n                                currentTarget.aggregatedMaximumMarkingLimit : currentTarget.maximumMarkingLimit;\r\n                            var overAllocationCount = isAggregateTargetsCCEnabled ?\r\n                                currentTarget.aggregatedOverAllocationCount : currentTarget.overAllocationCount;\r\n                            // Setting the visibility of response allocation button status\r\n                            isResponseAllocateButtonEnabled =\r\n                                totalLiveResponsesCount < maximumMarkingLimit + overAllocationCount;\r\n                            if (isResponseAllocateButtonEnabled) {\r\n                                responseAllocationButtonTitle =\r\n                                    localeStore.instance.TranslateText('marking.worklist.action-buttons.allocate-button-tooltip');\r\n                            }\r\n                            else {\r\n                                responseAllocationButtonTitle = '';\r\n                            }\r\n                        }\r\n                    }\r\n                    //if the worklist type is pooledremark we dont have to check about the current target of the examiner\r\n                    // and also the over allocation target of the examiner\r\n                }\r\n                else if (worklistType === enums.WorklistType.pooledRemark) {\r\n                    var target = targetSummaryStore.instance.getRemarkTarget(remarkRequestType);\r\n                    if (target) {\r\n                        var totalRemarkResponsesCount = 0;\r\n                        var maximumMarkingLimit = 0;\r\n                        var overAllocationCount = 0;\r\n                        var isMaximumMarkingLimitMet = false;\r\n                        var isConcurrentLimitMet = false;\r\n                        // Summing up the total remark responses count\r\n                        if (isAggregateTargetsCCEnabled) {\r\n                            totalRemarkResponsesCount += target.aggregatedOpenResponsesCount +\r\n                                target.aggregatedClosedResponsesCount;\r\n                            maximumMarkingLimit = target.aggregatedMaximumMarkingLimit;\r\n                            overAllocationCount = target.aggregatedOverAllocationCount;\r\n                            isMaximumMarkingLimitMet = (totalRemarkResponsesCount === maximumMarkingLimit + overAllocationCount);\r\n                            isConcurrentLimitMet = (target.aggregatedOpenResponsesCount === target.aggregatedMaximumConcurrentLimit);\r\n                            // Setting the visibility of response allocation button status\r\n                            isResponseAllocateButtonEnabled = (target.aggregatedOpenResponsesCount <\r\n                                target.aggregatedMaximumConcurrentLimit)\r\n                                && (totalRemarkResponsesCount < maximumMarkingLimit + overAllocationCount);\r\n                        }\r\n                        else {\r\n                            totalRemarkResponsesCount += target.examinerProgress.openResponsesCount +\r\n                                target.examinerProgress.pendingResponsesCount +\r\n                                target.examinerProgress.closedResponsesCount;\r\n                            maximumMarkingLimit = target.maximumMarkingLimit;\r\n                            overAllocationCount = target.overAllocationCount;\r\n                            // Setting the visibility of response allocation button status\r\n                            isResponseAllocateButtonEnabled = (totalRemarkResponsesCount < maximumMarkingLimit + overAllocationCount);\r\n                        }\r\n                        if (!isResponseAllocateButtonEnabled) {\r\n                            if (isAggregateTargetsCCEnabled && isConcurrentLimitMet && !isMaximumMarkingLimitMet) {\r\n                                responseAllocationButtonSubText = localeStore.instance.TranslateText('marking.worklist.action-buttons.allocate-button-concurrent-limit-reached-indicator');\r\n                            }\r\n                            else {\r\n                                responseAllocationButtonSubText = localeStore.instance.TranslateText('marking.worklist.action-buttons.allocate-button-target-reached-indicator');\r\n                            }\r\n                            responseAllocationButtonTitle = '';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // returning the parameter which defines the button state\r\n        return new responseAllocationButtonValidationParameter(responseAllocationButtonMainText, responseAllocationButtonSubText, isResponseAllocateButtonVisible, isResponseAllocateButtonEnabled, isWorklistInformationBannerVisible, responseAllocationButtonTitle, responseAllocationButtonSingleResponseText, responseAllocationButtonUpToOpenResponseText, isWholeResponseResponseAllocationButtonAvailable);\r\n    };\r\n    return ResponseAllocationButtonValidationHelper;\r\n}());\r\nmodule.exports = ResponseAllocationButtonValidationHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE5OS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvcmVzcG9uc2VhbGxvY2F0aW9uL3Jlc3BvbnNlYWxsb2NhdGlvbmJ1dHRvbnZhbGlkYXRpb25oZWxwZXIudHM/NmZlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVmFsaWRhdGlvblBhcmFtZXRlciA9IHJlcXVpcmUoJy4vcmVzcG9uc2VhbGxvY2F0aW9uYnV0dG9udmFsaWRhdGlvbnBhcmFtZXRlcicpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCB0YXJnZXRTdW1tYXJ5U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvd29ya2xpc3QvdGFyZ2V0c3VtbWFyeXN0b3JlJyk7XHJcbmltcG9ydCBtYXJraW5nVGFyZ2V0U3VtbWFyeSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC90eXBpbmdzL21hcmtpbmd0YXJnZXRzdW1tYXJ5Jyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uL2VudW1zJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgcWlnU2VsZWN0b3JWYWxpZGF0aW9uSGVscGVyID0gcmVxdWlyZSgnLi4vcWlnc2VsZWN0b3IvcWlnc2VsZWN0b3J2YWxpZGF0aW9uaGVscGVyJyk7XHJcbmltcG9ydCBsb2dpblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvZ2luL2xvZ2luc3RvcmUnKTtcclxuaW1wb3J0IHJlc3BvbnNlSGVscGVyID0gcmVxdWlyZSgnLi4vcmVzcG9uc2VoZWxwZXIvcmVzcG9uc2VoZWxwZXInKTtcclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHJlc3BvbnNlIGFsbG9jYXRpb24gYnV0dG9uXHJcbiAqIEl0IGhhbmRsZXMgdGhlIGVuYWJsaW5nL2Rpc2FibGluZyBhcyB3ZWxsIGFzIHRoZSB2aXNpYmlsaXR5IHN0YXR1cyBvZiB0aGUgYnV0dG9uXHJcbiAqL1xyXG5jbGFzcyBSZXNwb25zZUFsbG9jYXRpb25CdXR0b25WYWxpZGF0aW9uSGVscGVyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gZW50aXR5IHJlcHJlc2VudGluZyB0aGUgc3RhdGVzIHRvIGJlIHNldCBmb3IgdGhlIHJlc3BvbnNlIGFsbG9jYXRpb24gYnV0dG9uXHJcbiAgICAgKiBAcGFyYW0gbGl2ZVdvcmtsaXN0U3RhdGlzdGljcyBjb250YWlucyB0aGUgd29ya2xpc3QgZGV0YWlsc1xyXG4gICAgICogQHBhcmFtIGV4YW1pbmVyUWlnU3RhdHVzIHRoZSBjdXJyZW50IHFpZyBzdGF0dXMgb2YgdGhlIGV4YW1pbmVyXHJcbiAgICAgKiBAcGFyYW0gZXhhbWluZXJBcHByb3ZhbFN0YXR1cyBjb250YWlucyB0aGUgZXhhbWluZXIgYXBwcm92YWwgc3RhdHVzXHJcbiAgICAgKiBAcGFyYW0gd29ya2xpc3RUeXBlIHN0b3JlcyB0aGUgd29ya2xpc3QgdHlwZVxyXG4gICAgICogQHBhcmFtIHJlbWFya1JlcXVlc3RUeXBlIHN0b3JlcyB0aGUgcmVtYXJrIHJlcXVlc3QgdHlwZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHZhbGlkYXRlKGxpdmVXb3JrbGlzdFN0YXRpc3RpY3M6IExpdmVPcGVuV29ya2xpc3QsIGV4YW1pbmVyUWlnU3RhdHVzOiBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cyxcclxuICAgICAgICBleGFtaW5lckFwcHJvdmFsU3RhdHVzOiBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLCB3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSwgcmVtYXJrUmVxdWVzdFR5cGU6IGVudW1zLlJlbWFya1JlcXVlc3RUeXBlLFxyXG4gICAgICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBib29sZWFuKVxyXG4gICAgICAgIDogcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVmFsaWRhdGlvblBhcmFtZXRlciB7XHJcblxyXG4gICAgICAgIGxldCByZXNwb25zZUFsbG9jYXRpb25CdXR0b25NYWluVGV4dDogc3RyaW5nO1xyXG4gICAgICAgIGxldCByZXNwb25zZUFsbG9jYXRpb25CdXR0b25UaXRsZTogc3RyaW5nID0gJyc7XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblN1YlRleHQ6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGxldCBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25WaXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcclxuICAgICAgICBsZXQgaXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uRW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBpc1dvcmtsaXN0SW5mb3JtYXRpb25CYW5uZXJWaXNpYmxlOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIEdldHRpbmcgdGhlIHJlc3BvbnNlIGFsbG9jYXRpb24gZHJvcGRvd24gYnV0dG9ucyB0ZXh0XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblNpbmdsZVJlc3BvbnNlVGV4dDogc3RyaW5nO1xyXG4gICAgICAgIGxldCByZXNwb25zZUFsbG9jYXRpb25CdXR0b25VcFRvT3BlblJlc3BvbnNlVGV4dDogc3RyaW5nO1xyXG4gICAgICAgIGxldCBpc1dob2xlUmVzcG9uc2VSZXNwb25zZUFsbG9jYXRpb25CdXR0b25BdmFpbGFibGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gd2UgbmVlZCB0byBoaWRlIHRoZSBSZXNwb25zZSBhbGxvY2F0aW9uIGJ1dHRvbiBpZiB0aGUgbWFya2VyIG9wZXJhdGlvbiBtb2RlIGlzIFRlYW0gTWFuYWdlbWVudC5cclxuICAgICAgICBpZiAoaXNUZWFtTWFuYWdlbWVudE1vZGUpIHtcclxuICAgICAgICAgICAgaXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSByZXNwb25zZSBhbGxvY2F0aW9uIG1haW4gYnV0dG9uIHRleHRcclxuICAgICAgICAgICAgLy8gQWRkZWQgdGhlIGNvbmRpdGlvbiB0byBhZGQgbmV3IGJ1dHRvbiB0ZXh0IGZvciBwb29sZWQgcmVtYXJrc1xyXG4gICAgICAgICAgICByZXNwb25zZUFsbG9jYXRpb25CdXR0b25NYWluVGV4dCA9ICh3b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5wb29sZWRSZW1hcmspXHJcbiAgICAgICAgICAgICAgICB8fCAod29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuc2ltdWxhdGlvbikgP1xyXG4gICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5hY3Rpb24tYnV0dG9ucy5hbGxvY2F0ZS1idXR0b24tcmVtYXJrcycpIDpcclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QuYWN0aW9uLWJ1dHRvbnMuYWxsb2NhdGUtYnV0dG9uJyk7XHJcblxyXG4gICAgICAgICAgICByZXNwb25zZUFsbG9jYXRpb25CdXR0b25TaW5nbGVSZXNwb25zZVRleHQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgICAgIFRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QuYWN0aW9uLWJ1dHRvbnMuYWxsb2NhdGUtc2luZ2xlLXJlc3BvbnNlJyk7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblVwVG9PcGVuUmVzcG9uc2VUZXh0ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAgICBUcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmFjdGlvbi1idXR0b25zLmFsbG9jYXRlLXRvLWNvbmN1cnJlbnQtbGltaXQnKTtcclxuICAgICAgICAgICAgaWYgKHdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLmxpdmVcclxuICAgICAgICAgICAgICAgICYmIHFpZ1N0b3JlLmluc3RhbmNlLmlzV2hvbGVSZXNwb25zZUF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgLyogSWYgRWJvb2ttYXJraW5nIHRoZW4gdGhlcmUgc2hvdWxkIG5vdCBiZSB3aG9sZSByZXNwb25zZSBidXR0b24gKi9cclxuICAgICAgICAgICAgICAgIGlzV2hvbGVSZXNwb25zZVJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvbkF2YWlsYWJsZSA9IHJlc3BvbnNlSGVscGVyLmlzRWJvb2tNYXJraW5nID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXNXaG9sZVJlc3BvbnNlUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uQXZhaWxhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNldHRpbmcgdGhlIGRpZmZlcmVudCB2aXNpYmlsaXR5IHN0YXR1cyB0byB0aGUgR2V0TmV3UmVzcG9uc2UgYnV0dG9uIGJhc2VkIG9uIHRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgRXhhbWluZXJcclxuICAgICAgICAgICAgc3dpdGNoIChleGFtaW5lclFpZ1N0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5XYWl0aW5nU3RhbmRhcmRpc2F0aW9uOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5TaW11bGF0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvblZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvbkVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzV29ya2xpc3RJbmZvcm1hdGlvbkJhbm5lclZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5QcmFjdGljZTpcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuU3RhbmRhcmRpc2F0aW9uTWFya2luZzpcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuU2Vjb25kU3RhbmRhcmRpc2F0aW9uTWFya2luZzpcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuU1RNU3RhbmRhcmRpc2F0aW9uTWFya2luZzpcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuQXdhaXRpbmdBcHByb3ZhbDpcclxuICAgICAgICAgICAgICAgICAgICBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25WaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5MaXZlQ29tcGxldGU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLk92ZXJBbGxUYXJnZXRDb21wbGV0ZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaXNXb3JrbGlzdEluZm9ybWF0aW9uQmFubmVyVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLlF1YWxpdHlGZWVkYmFjazpcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuU3VzcGVuZGVkOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5PdmVyQWxsVGFyZ2V0UmVhY2hlZDpcclxuICAgICAgICAgICAgICAgICAgICBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25FbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLkxpdmVNYXJraW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIGlzV29ya2xpc3RJbmZvcm1hdGlvbkJhbm5lclZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvbkVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25WaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25FbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRXhhbWluZXIgQXBwcm92YWwgU3RhdHVzIG5lZWRzIG5vdCBiZSBjb25zaWRlcmVkIHdoaWxlIHRoZSBtYXJrZXIgaXMgaW4gU2ltdWxhdGlvbiBNYXJraW5nLlxyXG4gICAgICAgICAgICBpZiAoZXhhbWluZXJRaWdTdGF0dXMgIT09IGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLlNpbXVsYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXhhbWluZXJBcHByb3ZhbFN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJBcHByb3ZhbC5BcHByb3ZlZDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyQXBwcm92YWwuQ29uZGl0aW9uYWxseUFwcHJvdmVkOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJBcHByb3ZhbC5BcHByb3ZlZFJldmlldzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5hY3Rpb24tYnV0dG9ucy5hbGxvY2F0ZS1idXR0b24tbm90LWFwcHJvdmVkLXRvb2x0aXAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uU3ViVGV4dCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmFjdGlvbi1idXR0b25zLmFsbG9jYXRlLWJ1dHRvbi1zdXNwZW5kZWQtaW5kaWNhdG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobG9naW5TdG9yZS5pbnN0YW5jZS5pc0FkbWluUmVtYXJrZXIpIHtcclxuICAgICAgICAgICAgICAgIGlzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvblZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobGl2ZVdvcmtsaXN0U3RhdGlzdGljcyAhPT0gdW5kZWZpbmVkICYmIGV4YW1pbmVyQXBwcm92YWxTdGF0dXMgIT09IGVudW1zLkV4YW1pbmVyQXBwcm92YWwuU3VzcGVuZGVkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGlzQ29uY3VycmVudExpbWl0TWV0OiBib29sZWFuID0gbmV3IHFpZ1NlbGVjdG9yVmFsaWRhdGlvbkhlbHBlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmlzQ29uY3VycmVudExpbWl0TWV0KHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLCBsaXZlV29ya2xpc3RTdGF0aXN0aWNzKTtcclxuICAgICAgICAgICAgICAgIC8vTm90IGFwcGxpY2FibGUgZm9yIHBvb2xlZCByZW1hcmsgc2luY2UgdGhlIGxpdmUgY29tcGxldGUgc3RhdHVzIGRvZXMgbm90IGFmZmVjdCBwb29sZWQgcmVtYXJrc1xyXG4gICAgICAgICAgICAgICAgaWYgKChleGFtaW5lclFpZ1N0YXR1cyA9PT0gZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuTGl2ZUNvbXBsZXRlXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgZXhhbWluZXJRaWdTdGF0dXMgPT09IGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLk92ZXJBbGxUYXJnZXRSZWFjaGVkXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgZXhhbWluZXJRaWdTdGF0dXMgPT09IGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLk92ZXJBbGxUYXJnZXRDb21wbGV0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgd29ya2xpc3RUeXBlICE9PSBlbnVtcy5Xb3JrbGlzdFR5cGUucG9vbGVkUmVtYXJrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGxpdmUgbWFya2luZyBpcyBjb21wbGV0ZWQgb3IgdGhlIG1hcmtpbmcgdGFyZ2V0IGlzIHJlYWNoZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgaXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblN1YlRleHQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5hY3Rpb24tYnV0dG9ucy5hbGxvY2F0ZS1idXR0b24tdGFyZ2V0LXJlYWNoZWQtaW5kaWNhdG9yJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQ29uY3VycmVudExpbWl0TWV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgb3BlbiByZXNwb25zZSBjb3VudCBtZWV0cyB0aGUgY29uY3VycmVudCBsaW1pdFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblN1YlRleHQgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QuYWN0aW9uLWJ1dHRvbnMuYWxsb2NhdGUtYnV0dG9uLWNvbmN1cnJlbnQtbGltaXQtcmVhY2hlZC1pbmRpY2F0b3InKTtcclxuICAgICAgICAgICAgICAgICAgICBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25FbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpdmVXb3JrbGlzdFN0YXRpc3RpY3MudW5hbGxvY2F0ZWRSZXNwb25zZXNDb3VudCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIHVuYWxsb2NhdGVkIHJlc3BvbnNlcyBsZWZ0XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uU3ViVGV4dCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCdtYXJraW5nLndvcmtsaXN0Lm5vLXJlc3BvbnNlcy1hdmFpbGFibGUtaGVscGVyLmhlYWRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvbkVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9JZiB0aGUgYWJvdmUgY29uZGl0aW9ucyBhcmUgbm90IHNhdGlzZmllZCB0aGUgYWxsb2NhdGlvbiBidXR0b24gc2hvdWxkIGJlIGVuYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25FbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIGFsbG9jYXRpb24gYnV0dG9uIGlzIGFscmVhZHkgZW5hYmxlZCwgdGhlbiBkaXNhYmxlIHRoZSBzYW1lIGlmIHRoZSB0b3RhbCByZXNwb25zZXMgY291bnRcclxuICAgICAgICAgICAgLy8gaGFzIGdvbmUgb3ZlciB0aGUgbWF4aW11bSBtYXJraW5nIGxpbWl0IGFuZCBvdmVyIGFsbG9jYXRpb25cclxuICAgICAgICAgICAgaWYgKGlzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvbkVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc0FnZ3JlZ2F0ZVRhcmdldHNDQ0VuYWJsZWQ6IGJvb2xlYW4gPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5pc0FnZ3JlZ2F0ZVFJR1RhcmdldHNPTjtcclxuICAgICAgICAgICAgICAgIGlmICh3b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5saXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRUYXJnZXQ6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5ID0gdGFyZ2V0U3VtbWFyeVN0b3JlLmluc3RhbmNlLmdldEN1cnJlbnRUYXJnZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhcmdldCAmJiBjdXJyZW50VGFyZ2V0Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLkxpdmVNYXJraW5nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXRyaWV2aW5nIHRoZSBtYXJraW5nIHRhcmdldHMgY29sbGVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0U3VtbWFyeTogSW1tdXRhYmxlLkxpc3Q8bWFya2luZ1RhcmdldFN1bW1hcnk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IHRhcmdldFN1bW1hcnlTdG9yZS5pbnN0YW5jZS5nZXRFeGFtaW5lck1hcmtpbmdUYXJnZXRQcm9ncmVzcygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFN1bW1hcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbExpdmVSZXNwb25zZXNDb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvb3BpbmcgdGhyb3VnaCB0aGUgbWFya2luZyB0YXJnZXRzIGNvbGxlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0YXJnZXRTdW1tYXJ5LmNvdW50KCk7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSA9IHRhcmdldFN1bW1hcnkuZ2V0KGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLkxpdmVNYXJraW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRhcmdldC5leGFtaW5lclByb2dyZXNzLmlzRGlyZWN0ZWRSZW1hcmspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQWdncmVnYXRlVGFyZ2V0c0NDRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1bW1pbmcgdXAgdGhlIHRvdGFsIGxpdmUgcmVzcG9uc2VzIGNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxMaXZlUmVzcG9uc2VzQ291bnQgKz0gdGFyZ2V0LmFnZ3JlZ2F0ZWRPcGVuUmVzcG9uc2VzQ291bnQgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5hZ2dyZWdhdGVkQ2xvc2VkUmVzcG9uc2VzQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdW1taW5nIHVwIHRoZSB0b3RhbCBsaXZlIHJlc3BvbnNlcyBjb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxMaXZlUmVzcG9uc2VzQ291bnQgKz0gdGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3Mub3BlblJlc3BvbnNlc0NvdW50ICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5leGFtaW5lclByb2dyZXNzLnBlbmRpbmdSZXNwb25zZXNDb3VudCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5jbG9zZWRSZXNwb25zZXNDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZyAmJiAhaXNBZ2dyZWdhdGVUYXJnZXRzQ0NFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbExpdmVSZXNwb25zZXNDb3VudCArPSB0YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5hdHlwaWNhbE9wZW5SZXNwb25zZXNDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4aW11bU1hcmtpbmdMaW1pdDogbnVtYmVyID0gaXNBZ2dyZWdhdGVUYXJnZXRzQ0NFbmFibGVkID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0LmFnZ3JlZ2F0ZWRNYXhpbXVtTWFya2luZ0xpbWl0IDogY3VycmVudFRhcmdldC5tYXhpbXVtTWFya2luZ0xpbWl0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG92ZXJBbGxvY2F0aW9uQ291bnQ6IG51bWJlciA9IGlzQWdncmVnYXRlVGFyZ2V0c0NDRW5hYmxlZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldC5hZ2dyZWdhdGVkT3ZlckFsbG9jYXRpb25Db3VudCA6IGN1cnJlbnRUYXJnZXQub3ZlckFsbG9jYXRpb25Db3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR0aW5nIHRoZSB2aXNpYmlsaXR5IG9mIHJlc3BvbnNlIGFsbG9jYXRpb24gYnV0dG9uIHN0YXR1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uRW5hYmxlZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxMaXZlUmVzcG9uc2VzQ291bnQgPCBtYXhpbXVtTWFya2luZ0xpbWl0ICsgb3ZlckFsbG9jYXRpb25Db3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblRpdGxlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5hY3Rpb24tYnV0dG9ucy5hbGxvY2F0ZS1idXR0b24tdG9vbHRpcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUFsbG9jYXRpb25CdXR0b25UaXRsZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgdGhlIHdvcmtsaXN0IHR5cGUgaXMgcG9vbGVkcmVtYXJrIHdlIGRvbnQgaGF2ZSB0byBjaGVjayBhYm91dCB0aGUgY3VycmVudCB0YXJnZXQgb2YgdGhlIGV4YW1pbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGFsc28gdGhlIG92ZXIgYWxsb2NhdGlvbiB0YXJnZXQgb2YgdGhlIGV4YW1pbmVyXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnBvb2xlZFJlbWFyaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXQ6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5ID0gdGFyZ2V0U3VtbWFyeVN0b3JlLmluc3RhbmNlLmdldFJlbWFya1RhcmdldChyZW1hcmtSZXF1ZXN0VHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWxSZW1hcmtSZXNwb25zZXNDb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1heGltdW1NYXJraW5nTGltaXQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvdmVyQWxsb2NhdGlvbkNvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNNYXhpbXVtTWFya2luZ0xpbWl0TWV0OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc0NvbmN1cnJlbnRMaW1pdE1ldDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdW1taW5nIHVwIHRoZSB0b3RhbCByZW1hcmsgcmVzcG9uc2VzIGNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FnZ3JlZ2F0ZVRhcmdldHNDQ0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUmVtYXJrUmVzcG9uc2VzQ291bnQgKz0gdGFyZ2V0LmFnZ3JlZ2F0ZWRPcGVuUmVzcG9uc2VzQ291bnQgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5hZ2dyZWdhdGVkQ2xvc2VkUmVzcG9uc2VzQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtTWFya2luZ0xpbWl0ID0gdGFyZ2V0LmFnZ3JlZ2F0ZWRNYXhpbXVtTWFya2luZ0xpbWl0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlckFsbG9jYXRpb25Db3VudCA9IHRhcmdldC5hZ2dyZWdhdGVkT3ZlckFsbG9jYXRpb25Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWF4aW11bU1hcmtpbmdMaW1pdE1ldCA9ICh0b3RhbFJlbWFya1Jlc3BvbnNlc0NvdW50ID09PSBtYXhpbXVtTWFya2luZ0xpbWl0ICsgb3ZlckFsbG9jYXRpb25Db3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbmN1cnJlbnRMaW1pdE1ldCA9ICh0YXJnZXQuYWdncmVnYXRlZE9wZW5SZXNwb25zZXNDb3VudCA9PT0gdGFyZ2V0LmFnZ3JlZ2F0ZWRNYXhpbXVtQ29uY3VycmVudExpbWl0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR0aW5nIHRoZSB2aXNpYmlsaXR5IG9mIHJlc3BvbnNlIGFsbG9jYXRpb24gYnV0dG9uIHN0YXR1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uRW5hYmxlZCA9ICh0YXJnZXQuYWdncmVnYXRlZE9wZW5SZXNwb25zZXNDb3VudCA8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmFnZ3JlZ2F0ZWRNYXhpbXVtQ29uY3VycmVudExpbWl0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICh0b3RhbFJlbWFya1Jlc3BvbnNlc0NvdW50IDwgbWF4aW11bU1hcmtpbmdMaW1pdCArIG92ZXJBbGxvY2F0aW9uQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxSZW1hcmtSZXNwb25zZXNDb3VudCArPSB0YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5vcGVuUmVzcG9uc2VzQ291bnQgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5leGFtaW5lclByb2dyZXNzLnBlbmRpbmdSZXNwb25zZXNDb3VudCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuY2xvc2VkUmVzcG9uc2VzQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtTWFya2luZ0xpbWl0ID0gdGFyZ2V0Lm1heGltdW1NYXJraW5nTGltaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyQWxsb2NhdGlvbkNvdW50ID0gdGFyZ2V0Lm92ZXJBbGxvY2F0aW9uQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR0aW5nIHRoZSB2aXNpYmlsaXR5IG9mIHJlc3BvbnNlIGFsbG9jYXRpb24gYnV0dG9uIHN0YXR1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uRW5hYmxlZCA9ICh0b3RhbFJlbWFya1Jlc3BvbnNlc0NvdW50IDwgbWF4aW11bU1hcmtpbmdMaW1pdCArIG92ZXJBbGxvY2F0aW9uQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvbkVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FnZ3JlZ2F0ZVRhcmdldHNDQ0VuYWJsZWQgJiYgaXNDb25jdXJyZW50TGltaXRNZXQgJiYgIWlzTWF4aW11bU1hcmtpbmdMaW1pdE1ldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblN1YlRleHQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5hY3Rpb24tYnV0dG9ucy5hbGxvY2F0ZS1idXR0b24tY29uY3VycmVudC1saW1pdC1yZWFjaGVkLWluZGljYXRvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUFsbG9jYXRpb25CdXR0b25TdWJUZXh0ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuYWN0aW9uLWJ1dHRvbnMuYWxsb2NhdGUtYnV0dG9uLXRhcmdldC1yZWFjaGVkLWluZGljYXRvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVGl0bGUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcmV0dXJuaW5nIHRoZSBwYXJhbWV0ZXIgd2hpY2ggZGVmaW5lcyB0aGUgYnV0dG9uIHN0YXRlXHJcbiAgICAgICAgcmV0dXJuIG5ldyByZXNwb25zZUFsbG9jYXRpb25CdXR0b25WYWxpZGF0aW9uUGFyYW1ldGVyKHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvbk1haW5UZXh0LFxyXG4gICAgICAgICAgICByZXNwb25zZUFsbG9jYXRpb25CdXR0b25TdWJUZXh0LFxyXG4gICAgICAgICAgICBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25WaXNpYmxlLFxyXG4gICAgICAgICAgICBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25FbmFibGVkLFxyXG4gICAgICAgICAgICBpc1dvcmtsaXN0SW5mb3JtYXRpb25CYW5uZXJWaXNpYmxlLFxyXG4gICAgICAgICAgICByZXNwb25zZUFsbG9jYXRpb25CdXR0b25UaXRsZSxcclxuICAgICAgICAgICAgcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uU2luZ2xlUmVzcG9uc2VUZXh0LFxyXG4gICAgICAgICAgICByZXNwb25zZUFsbG9jYXRpb25CdXR0b25VcFRvT3BlblJlc3BvbnNlVGV4dCxcclxuICAgICAgICAgICAgaXNXaG9sZVJlc3BvbnNlUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uQXZhaWxhYmxlXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVmFsaWRhdGlvbkhlbHBlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9yZXNwb25zZWFsbG9jYXRpb24vcmVzcG9uc2VhbGxvY2F0aW9uYnV0dG9udmFsaWRhdGlvbmhlbHBlci50cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUFBO0FBMFBBO0FBeFBBOzs7Ozs7O0FBT0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBVUE7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1200:
/* no static exports found */
/* all exports used */
/*!**************************************************************************************************!*\
  !*** ./src/components/utility/responseallocation/responseallocationbuttonvalidationparameter.ts ***!
  \**************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Entity class for response allocation button validation\r\n */\r\nvar ResponseAllocationButtonValidationParameter = /** @class */ (function () {\r\n    /**\r\n     * Initializing new instance of response allocation button validation entity.\r\n     */\r\n    function ResponseAllocationButtonValidationParameter(responseAllocationButtonMainText, responseAllocationButtonSubText, isResponseAllocateButtonVisible, isResponseAllocateButtonEnabled, isWorklistInformationBannerVisible, responseAllocationButtonTitle, responseAllocationButtonSingleResponseText, responseAllocationButtonUpToOpenResponseText, isWholeResponseResponseAllocationButtonAvailable) {\r\n        this.responseAllocationButtonMainText = responseAllocationButtonMainText;\r\n        this.responseAllocationButtonSubText = responseAllocationButtonSubText;\r\n        this.isResponseAllocateButtonVisible = isResponseAllocateButtonVisible;\r\n        this.isResponseAllocateButtonEnabled = isResponseAllocateButtonEnabled;\r\n        this.isWorklistInformationBannerVisible = isWorklistInformationBannerVisible;\r\n        this.responseAllocationButtonTitle = responseAllocationButtonTitle;\r\n        this.responseAllocationButtonSingleResponseText = responseAllocationButtonSingleResponseText;\r\n        this.responseAllocationButtonUpToOpenResponseText = responseAllocationButtonUpToOpenResponseText;\r\n        this.isWholeResponseResponseAllocationButtonAvailable = isWholeResponseResponseAllocationButtonAvailable;\r\n    }\r\n    Object.defineProperty(ResponseAllocationButtonValidationParameter.prototype, \"ResponseAllocationButtonMainText\", {\r\n        /**\r\n         * Returns back the Resource Key for Error Dialog Header Text\r\n         */\r\n        get: function () {\r\n            return this.responseAllocationButtonMainText;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResponseAllocationButtonValidationParameter.prototype, \"ResponseAllocationButtonSubText\", {\r\n        /**\r\n         * Returns back the Resource Key for Error Dialog Header Text\r\n         */\r\n        get: function () {\r\n            return this.responseAllocationButtonSubText;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResponseAllocationButtonValidationParameter.prototype, \"IsResponseAllocateButtonVisible\", {\r\n        /**\r\n         * Returns back the Resource Key for Error Dialog Header Text\r\n         */\r\n        get: function () {\r\n            return this.isResponseAllocateButtonVisible;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResponseAllocationButtonValidationParameter.prototype, \"IsResponseAllocateButtonEnabled\", {\r\n        /**\r\n         * Returns back the Resource Key for Error Dialog Header Text\r\n         */\r\n        get: function () {\r\n            return this.isResponseAllocateButtonEnabled;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResponseAllocationButtonValidationParameter.prototype, \"IsWorklistInformationBannerVisible\", {\r\n        /**\r\n         * Returns back if the worklist banner should be visible or not\r\n         */\r\n        get: function () {\r\n            return this.isWorklistInformationBannerVisible;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResponseAllocationButtonValidationParameter.prototype, \"ResponseAllocationButtonTitle\", {\r\n        /**\r\n         * Returns back the Resource Key for Title for response button\r\n         */\r\n        get: function () {\r\n            return this.responseAllocationButtonTitle;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResponseAllocationButtonValidationParameter.prototype, \"ResponseAllocationButtonSingleResponseText\", {\r\n        /**\r\n         * Returns back the Resource Key for Single Response Text\r\n         */\r\n        get: function () {\r\n            return this.responseAllocationButtonSingleResponseText;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResponseAllocationButtonValidationParameter.prototype, \"ResponseAllocationButtonUpToOpenResponseText\", {\r\n        /**\r\n         * Returns back the Resource Key for Up To Open Response Text\r\n         */\r\n        get: function () {\r\n            return this.responseAllocationButtonUpToOpenResponseText;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResponseAllocationButtonValidationParameter.prototype, \"IsWholeResponseResponseAllocationButtonAvailable\", {\r\n        /**\r\n         * Returns back the Resource Key for Whole Response enbled\r\n         */\r\n        get: function () {\r\n            return this.isWholeResponseResponseAllocationButtonAvailable;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ResponseAllocationButtonValidationParameter;\r\n}());\r\nmodule.exports = ResponseAllocationButtonValidationParameter;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIwMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvcmVzcG9uc2VhbGxvY2F0aW9uL3Jlc3BvbnNlYWxsb2NhdGlvbmJ1dHRvbnZhbGlkYXRpb25wYXJhbWV0ZXIudHM/OThiOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRW50aXR5IGNsYXNzIGZvciByZXNwb25zZSBhbGxvY2F0aW9uIGJ1dHRvbiB2YWxpZGF0aW9uXHJcbiAqL1xyXG5jbGFzcyBSZXNwb25zZUFsbG9jYXRpb25CdXR0b25WYWxpZGF0aW9uUGFyYW1ldGVyIHtcclxuICAgIHByaXZhdGUgcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uTWFpblRleHQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uU3ViVGV4dDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25WaXNpYmxlOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25FbmFibGVkOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBpc1dvcmtsaXN0SW5mb3JtYXRpb25CYW5uZXJWaXNpYmxlOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSByZXNwb25zZUFsbG9jYXRpb25CdXR0b25UaXRsZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZXNwb25zZUFsbG9jYXRpb25CdXR0b25TaW5nbGVSZXNwb25zZVRleHQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVXBUb09wZW5SZXNwb25zZVRleHQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgaXNXaG9sZVJlc3BvbnNlUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uQXZhaWxhYmxlOiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6aW5nIG5ldyBpbnN0YW5jZSBvZiByZXNwb25zZSBhbGxvY2F0aW9uIGJ1dHRvbiB2YWxpZGF0aW9uIGVudGl0eS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uTWFpblRleHQ6IHN0cmluZyxcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblN1YlRleHQ6IHN0cmluZyxcclxuICAgICAgICAgICAgICAgIGlzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvblZpc2libGU6IGJvb2xlYW4sXHJcbiAgICAgICAgICAgICAgICBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25FbmFibGVkOiBib29sZWFuLFxyXG4gICAgICAgICAgICAgICAgaXNXb3JrbGlzdEluZm9ybWF0aW9uQmFubmVyVmlzaWJsZTogYm9vbGVhbixcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblRpdGxlOiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZUFsbG9jYXRpb25CdXR0b25TaW5nbGVSZXNwb25zZVRleHQ6IHN0cmluZyxcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblVwVG9PcGVuUmVzcG9uc2VUZXh0OiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBpc1dob2xlUmVzcG9uc2VSZXNwb25zZUFsbG9jYXRpb25CdXR0b25BdmFpbGFibGU6IGJvb2xlYW4pIHtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNwb25zZUFsbG9jYXRpb25CdXR0b25NYWluVGV4dCA9IHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvbk1haW5UZXh0O1xyXG4gICAgICAgIHRoaXMucmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uU3ViVGV4dCA9IHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblN1YlRleHQ7XHJcbiAgICAgICAgdGhpcy5pc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25WaXNpYmxlID0gaXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uVmlzaWJsZTtcclxuICAgICAgICB0aGlzLmlzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvbkVuYWJsZWQgPSBpc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25FbmFibGVkO1xyXG4gICAgICAgIHRoaXMuaXNXb3JrbGlzdEluZm9ybWF0aW9uQmFubmVyVmlzaWJsZSA9IGlzV29ya2xpc3RJbmZvcm1hdGlvbkJhbm5lclZpc2libGU7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZUFsbG9jYXRpb25CdXR0b25UaXRsZSA9IHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblRpdGxlO1xyXG4gICAgICAgIHRoaXMucmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uU2luZ2xlUmVzcG9uc2VUZXh0ID0gcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uU2luZ2xlUmVzcG9uc2VUZXh0O1xyXG4gICAgICAgIHRoaXMucmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVXBUb09wZW5SZXNwb25zZVRleHQgPSByZXNwb25zZUFsbG9jYXRpb25CdXR0b25VcFRvT3BlblJlc3BvbnNlVGV4dDtcclxuICAgICAgICB0aGlzLmlzV2hvbGVSZXNwb25zZVJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvbkF2YWlsYWJsZSA9IGlzV2hvbGVSZXNwb25zZVJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvbkF2YWlsYWJsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYmFjayB0aGUgUmVzb3VyY2UgS2V5IGZvciBFcnJvciBEaWFsb2cgSGVhZGVyIFRleHRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBSZXNwb25zZUFsbG9jYXRpb25CdXR0b25NYWluVGV4dCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvbk1haW5UZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBiYWNrIHRoZSBSZXNvdXJjZSBLZXkgZm9yIEVycm9yIERpYWxvZyBIZWFkZXIgVGV4dFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IFJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblN1YlRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZUFsbG9jYXRpb25CdXR0b25TdWJUZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBiYWNrIHRoZSBSZXNvdXJjZSBLZXkgZm9yIEVycm9yIERpYWxvZyBIZWFkZXIgVGV4dFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IElzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvblZpc2libGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uVmlzaWJsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYmFjayB0aGUgUmVzb3VyY2UgS2V5IGZvciBFcnJvciBEaWFsb2cgSGVhZGVyIFRleHRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBJc1Jlc3BvbnNlQWxsb2NhdGVCdXR0b25FbmFibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvbkVuYWJsZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGJhY2sgaWYgdGhlIHdvcmtsaXN0IGJhbm5lciBzaG91bGQgYmUgdmlzaWJsZSBvciBub3RcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBJc1dvcmtsaXN0SW5mb3JtYXRpb25CYW5uZXJWaXNpYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzV29ya2xpc3RJbmZvcm1hdGlvbkJhbm5lclZpc2libGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGJhY2sgdGhlIFJlc291cmNlIEtleSBmb3IgVGl0bGUgZm9yIHJlc3BvbnNlIGJ1dHRvblxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IFJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblRpdGxlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVGl0bGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGJhY2sgdGhlIFJlc291cmNlIEtleSBmb3IgU2luZ2xlIFJlc3BvbnNlIFRleHRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBSZXNwb25zZUFsbG9jYXRpb25CdXR0b25TaW5nbGVSZXNwb25zZVRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZUFsbG9jYXRpb25CdXR0b25TaW5nbGVSZXNwb25zZVRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGJhY2sgdGhlIFJlc291cmNlIEtleSBmb3IgVXAgVG8gT3BlbiBSZXNwb25zZSBUZXh0XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVXBUb09wZW5SZXNwb25zZVRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZUFsbG9jYXRpb25CdXR0b25VcFRvT3BlblJlc3BvbnNlVGV4dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYmFjayB0aGUgUmVzb3VyY2UgS2V5IGZvciBXaG9sZSBSZXNwb25zZSBlbmJsZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBJc1dob2xlUmVzcG9uc2VSZXNwb25zZUFsbG9jYXRpb25CdXR0b25BdmFpbGFibGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNXaG9sZVJlc3BvbnNlUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uQXZhaWxhYmxlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0ID0gUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVmFsaWRhdGlvblBhcmFtZXRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9yZXNwb25zZWFsbG9jYXRpb24vcmVzcG9uc2VhbGxvY2F0aW9uYnV0dG9udmFsaWRhdGlvbnBhcmFtZXRlci50cyJdLCJtYXBwaW5ncyI6IjtBQUFBOztBQUVBO0FBQ0E7QUFXQTs7QUFFQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFFQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1208:
/* no static exports found */
/* all exports used */
/*!***************************************************!*\
  !*** ./src/components/utility/tab/tabcontent.tsx ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\n/* tslint:disable:no-reserved-keywords */\r\n/**\r\n * Represents the Tab Content Compoent\r\n */\r\nvar TabContent = /** @class */ (function (_super) {\r\n    __extends(TabContent, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function TabContent(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * Render method for Tab Content.\r\n     */\r\n    TabContent.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: classNames(this.props.class, { ' active': this.props.isSelected }), key: 'key_' + this.props.id, id: this.props.id }, this.props.content));\r\n    };\r\n    return TabContent;\r\n}(pureRenderComponent));\r\nmodule.exports = TabContent;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIwOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvdGFiL3RhYmNvbnRlbnQudHN4P2RkMTYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmxldCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xyXG5cclxuLyogdHNsaW50OmRpc2FibGU6bm8tcmVzZXJ2ZWQta2V5d29yZHMgKi9cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgdGhlIFRhYiBDb250ZW50IGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICAgIGluZGV4OiBudW1iZXI7XHJcbiAgICBrZXk6IHN0cmluZztcclxuICAgIGNsYXNzOiBzdHJpbmc7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgaXNTZWxlY3RlZDogYm9vbGVhbjtcclxuICAgIGNvbnRlbnQ6IEpTWC5FbGVtZW50O1xyXG4gICAgcmVuZGVyZWRPbj86IG51bWJlcjtcclxufVxyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby1yZXNlcnZlZC1rZXl3b3JkcyAqL1xyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgdGhlIFRhYiBDb250ZW50IENvbXBvZW50XHJcbiAqL1xyXG5jbGFzcyBUYWJDb250ZW50IGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcbiAgICAvKipcclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgbWV0aG9kIGZvciBUYWIgQ29udGVudC5cclxuICAgICAqL1xyXG4gICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsgY2xhc3NOYW1lcyh0aGlzLnByb3BzLmNsYXNzLCB7ICcgYWN0aXZlJzogdGhpcy5wcm9wcy5pc1NlbGVjdGVkIH0pIH1cclxuICAgICAgICAgICAgICAgIGtleT17J2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfT5cclxuICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY29udGVudCB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFRhYkNvbnRlbnQ7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvdGFiL3RhYmNvbnRlbnQudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1209:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/utility/tab/tabcontentcontainer.tsx ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar TabContent = __webpack_require__(/*! ./tabcontent */ 1208);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\n/**\r\n * Represents the Tab content container Compoent\r\n */\r\nvar TabContentContainer = /** @class */ (function (_super) {\r\n    __extends(TabContentContainer, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function TabContentContainer(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * Render method for Tab content container.\r\n     */\r\n    TabContentContainer.prototype.render = function () {\r\n        var _this = this;\r\n        var tabContents = [];\r\n        this.props.tabContents.map(function (tabItem) {\r\n            tabContents.push(React.createElement(TabContent, { renderedOn: _this.props.renderedOn, index: tabItem.index, key: 'tabContentItem_' + tabItem.index, class: tabItem.class, isSelected: tabItem.isSelected, id: tabItem.id, content: tabItem.content }));\r\n        });\r\n        return (React.createElement(\"div\", { className: 'tab-content-holder', key: 'tab_container_key', id: 'tab_container' }, tabContents));\r\n    };\r\n    return TabContentContainer;\r\n}(pureRenderComponent));\r\nmodule.exports = TabContentContainer;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIwOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvdGFiL3RhYmNvbnRlbnRjb250YWluZXIudHN4P2RmODgiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBUYWJDb250ZW50ID0gcmVxdWlyZSgnLi90YWJjb250ZW50Jyk7XHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBUYWIgY29udGVudCBjb250YWluZXIgY29tcG9uZW50XHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlIHtcclxuICAgIHRhYkNvbnRlbnRzOiBBcnJheTxhbnk+O1xyXG4gICAgcmVuZGVyZWRPbj86IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgdGhlIFRhYiBjb250ZW50IGNvbnRhaW5lciBDb21wb2VudFxyXG4gKi9cclxuY2xhc3MgVGFiQ29udGVudENvbnRhaW5lciBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBtZXRob2QgZm9yIFRhYiBjb250ZW50IGNvbnRhaW5lci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgbGV0IHRhYkNvbnRlbnRzOiBKU1guRWxlbWVudFtdID0gW107XHJcbiAgICAgICAgdGhpcy5wcm9wcy50YWJDb250ZW50cy5tYXAoKHRhYkl0ZW06IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGFiQ29udGVudHMucHVzaCg8VGFiQ29udGVudCByZW5kZXJlZE9uPXt0aGlzLnByb3BzLnJlbmRlcmVkT259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg9e3RhYkl0ZW0uaW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PSB7ICd0YWJDb250ZW50SXRlbV8nICsgdGFiSXRlbS5pbmRleCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9IHt0YWJJdGVtLmNsYXNzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9IHt0YWJJdGVtLmlzU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSB7dGFiSXRlbS5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0ge3RhYkl0ZW0uY29udGVudH0gLz4pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGFiLWNvbnRlbnQtaG9sZGVyJ1xyXG4gICAgICAgICAgICAgICAga2V5ID0geyAndGFiX2NvbnRhaW5lcl9rZXknfVxyXG4gICAgICAgICAgICAgICAgaWQgPSB7J3RhYl9jb250YWluZXInfT5cclxuICAgICAgICAgICAgICAgIHsgdGFiQ29udGVudHMgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCA9IFRhYkNvbnRlbnRDb250YWluZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvdGFiL3RhYmNvbnRlbnRjb250YWluZXIudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFPQTtBQUVBO0FBT0E7QUFDQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1210:
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./src/components/utility/tab/tabhelper.ts ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar qualityFeedbackHelper = __webpack_require__(/*! ../../../utility/qualityfeedback/qualityfeedbackhelper */ 309);\r\nvar loginStore = __webpack_require__(/*! ../../../stores/login/loginstore */ 286);\r\n/**\r\n * Helper class for creating worklist tab\r\n */\r\nvar TabHelper = /** @class */ (function () {\r\n    function TabHelper() {\r\n    }\r\n    /**\r\n     * returns the tab header data.\r\n     * @param worklistTabDetails - tab details\r\n     * @param selectedTab - selected tab\r\n     */\r\n    TabHelper.getTabHeaderData = function (worklistTabDetails, selectedTab) {\r\n        var tabHeader = [];\r\n        var tabToBeSelectedBasedOnQualityFeedback = qualityFeedbackHelper.getResponseModeBasedOnQualityFeedback();\r\n        var tabToBeSelected = tabToBeSelectedBasedOnQualityFeedback !== undefined ?\r\n            tabToBeSelectedBasedOnQualityFeedback : selectedTab;\r\n        /* set the corresponding response count on the tab */\r\n        if (worklistTabDetails !== undefined && worklistTabDetails.length > 0) {\r\n            worklistTabDetails.map(function (item) {\r\n                switch (item.responseMode) {\r\n                    case enums.ResponseMode.closed:\r\n                        tabHeader.push({\r\n                            index: enums.ResponseMode.closed,\r\n                            class: 'arrow-tab resp-closed',\r\n                            isSelected: selectedTab === enums.ResponseMode.closed,\r\n                            isDisabled: qualityFeedbackHelper.isTabDisabledBasedOnQualityFeedback(tabToBeSelectedBasedOnQualityFeedback, enums.ResponseMode.closed),\r\n                            tabNavigation: 'responseTab_Closed',\r\n                            headerCount: item.responseCount,\r\n                            headerText: localeStore.instance.TranslateText('marking.worklist.submitted-closed-tab'),\r\n                            id: 'Closed',\r\n                            key: 'Closed'\r\n                        });\r\n                        break;\r\n                    case enums.ResponseMode.pending:\r\n                        var isGraceTabVisible = (qigStore.instance.selectedQIGForMarkerOperation.hasGracePeriod ||\r\n                            item.responseCount > 0) && !loginStore.instance.isAdminRemarker;\r\n                        if (isGraceTabVisible) {\r\n                            tabHeader.push({\r\n                                index: enums.ResponseMode.pending,\r\n                                class: 'arrow-tab resp-grace',\r\n                                isSelected: selectedTab === enums.ResponseMode.pending,\r\n                                isDisabled: qualityFeedbackHelper.isTabDisabledBasedOnQualityFeedback(tabToBeSelectedBasedOnQualityFeedback, enums.ResponseMode.pending),\r\n                                tabNavigation: 'responseTab_Pending',\r\n                                headerCount: item.responseCount,\r\n                                headerText: localeStore.instance.TranslateText('marking.worklist.submitted-editable-tab'),\r\n                                id: 'Pending',\r\n                                key: 'Pending'\r\n                            });\r\n                        }\r\n                        break;\r\n                    case enums.ResponseMode.open:\r\n                        tabHeader.push({\r\n                            index: enums.ResponseMode.open,\r\n                            class: 'arrow-tab resp-open',\r\n                            isSelected: selectedTab === enums.ResponseMode.open,\r\n                            isDisabled: qualityFeedbackHelper.isTabDisabledBasedOnQualityFeedback(tabToBeSelectedBasedOnQualityFeedback, enums.ResponseMode.open),\r\n                            tabNavigation: 'responseTab_Open',\r\n                            headerCount: item.responseCount,\r\n                            headerText: localeStore.instance.TranslateText('marking.worklist.open-for-marking-tab'),\r\n                            id: 'Open',\r\n                            key: 'Open'\r\n                        });\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            });\r\n        }\r\n        return tabHeader;\r\n    };\r\n    return TabHelper;\r\n}());\r\nmodule.exports = TabHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIxMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvdGFiL3RhYmhlbHBlci50cz81ZjJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uL2VudW1zJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcbmltcG9ydCBxdWFsaXR5RmVlZGJhY2tIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L3F1YWxpdHlmZWVkYmFjay9xdWFsaXR5ZmVlZGJhY2toZWxwZXInKTtcclxuaW1wb3J0IGxvZ2luU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9naW4vbG9naW5zdG9yZScpO1xyXG5cclxuLyoqXHJcbiAqIEhlbHBlciBjbGFzcyBmb3IgY3JlYXRpbmcgd29ya2xpc3QgdGFiXHJcbiAqL1xyXG5jbGFzcyBUYWJIZWxwZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSB0YWIgaGVhZGVyIGRhdGEuXHJcbiAgICAgKiBAcGFyYW0gd29ya2xpc3RUYWJEZXRhaWxzIC0gdGFiIGRldGFpbHNcclxuICAgICAqIEBwYXJhbSBzZWxlY3RlZFRhYiAtIHNlbGVjdGVkIHRhYlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFRhYkhlYWRlckRhdGEoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0VGFiRGV0YWlsczogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRUYWI6IGVudW1zLlJlc3BvbnNlTW9kZSk6IEFycmF5PFRhYkhlYWRlckRhdGE+IHtcclxuICAgICAgICBsZXQgdGFiSGVhZGVyOiBBcnJheTxUYWJIZWFkZXJEYXRhPiA9IFtdO1xyXG4gICAgICAgIGxldCB0YWJUb0JlU2VsZWN0ZWRCYXNlZE9uUXVhbGl0eUZlZWRiYWNrOiBlbnVtcy5SZXNwb25zZU1vZGUgPSBxdWFsaXR5RmVlZGJhY2tIZWxwZXIuZ2V0UmVzcG9uc2VNb2RlQmFzZWRPblF1YWxpdHlGZWVkYmFjaygpO1xyXG4gICAgICAgIGxldCB0YWJUb0JlU2VsZWN0ZWQ6IGVudW1zLlJlc3BvbnNlTW9kZSA9IHRhYlRvQmVTZWxlY3RlZEJhc2VkT25RdWFsaXR5RmVlZGJhY2sgIT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgIHRhYlRvQmVTZWxlY3RlZEJhc2VkT25RdWFsaXR5RmVlZGJhY2sgOiBzZWxlY3RlZFRhYjtcclxuXHJcbiAgICAgICAgLyogc2V0IHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlIGNvdW50IG9uIHRoZSB0YWIgKi9cclxuICAgICAgICBpZiAod29ya2xpc3RUYWJEZXRhaWxzICE9PSB1bmRlZmluZWQgJiYgd29ya2xpc3RUYWJEZXRhaWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzLm1hcCgoaXRlbTogV29ya2xpc3RUYWJEZXRhaWxzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGl0ZW0ucmVzcG9uc2VNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYkhlYWRlci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2Fycm93LXRhYiByZXNwLWNsb3NlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZDogc2VsZWN0ZWRUYWIgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEaXNhYmxlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5RmVlZGJhY2tIZWxwZXIuaXNUYWJEaXNhYmxlZEJhc2VkT25RdWFsaXR5RmVlZGJhY2sodGFiVG9CZVNlbGVjdGVkQmFzZWRPblF1YWxpdHlGZWVkYmFjayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiTmF2aWdhdGlvbjogJ3Jlc3BvbnNlVGFiX0Nsb3NlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyQ291bnQ6IGl0ZW0ucmVzcG9uc2VDb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJUZXh0OiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdHRlZC1jbG9zZWQtdGFiJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdDbG9zZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ0Nsb3NlZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzR3JhY2VUYWJWaXNpYmxlID0gKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmhhc0dyYWNlUGVyaW9kIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc3BvbnNlQ291bnQgPiAwKSAmJiAhbG9naW5TdG9yZS5pbnN0YW5jZS5pc0FkbWluUmVtYXJrZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGlzR3JhY2VUYWJWaXNpYmxlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYkhlYWRlci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2Fycm93LXRhYiByZXNwLWdyYWNlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZDogc2VsZWN0ZWRUYWIgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5RmVlZGJhY2tIZWxwZXIuaXNUYWJEaXNhYmxlZEJhc2VkT25RdWFsaXR5RmVlZGJhY2sodGFiVG9CZVNlbGVjdGVkQmFzZWRPblF1YWxpdHlGZWVkYmFjayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiTmF2aWdhdGlvbjogJ3Jlc3BvbnNlVGFiX1BlbmRpbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJDb3VudDogaXRlbS5yZXNwb25zZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJUZXh0OiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdHRlZC1lZGl0YWJsZS10YWInKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdQZW5kaW5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnUGVuZGluZydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJIZWFkZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnYXJyb3ctdGFiIHJlc3Atb3BlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZDogc2VsZWN0ZWRUYWIgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eUZlZWRiYWNrSGVscGVyLmlzVGFiRGlzYWJsZWRCYXNlZE9uUXVhbGl0eUZlZWRiYWNrKHRhYlRvQmVTZWxlY3RlZEJhc2VkT25RdWFsaXR5RmVlZGJhY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJOYXZpZ2F0aW9uOiAncmVzcG9uc2VUYWJfT3BlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyQ291bnQ6IGl0ZW0ucmVzcG9uc2VDb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJUZXh0OiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0Lm9wZW4tZm9yLW1hcmtpbmctdGFiJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdPcGVuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdPcGVuJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0YWJIZWFkZXI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFRhYkhlbHBlcjtcclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy91dGlsaXR5L3RhYi90YWJoZWxwZXIudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBMkVBO0FBMUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1214:
/* no static exports found */
/* all exports used */
/*!*******************************************************!*\
  !*** ./src/components/worklist/atypicalsearchbar.tsx ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\nvar responseactioncreator = __webpack_require__(/*! ../../actions/response/responseactioncreator */ 257);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar responseStore = __webpack_require__(/*! ../../stores/response/responsestore */ 235);\r\nvar applicationactioncreator = __webpack_require__(/*! ../../actions/applicationoffline/applicationactioncreator */ 256);\r\n/**\r\n * React component.\r\n * @param {Props} props\r\n * @returns\r\n */\r\nvar AtypicalSearchBar = /** @class */ (function (_super) {\r\n    __extends(AtypicalSearchBar, _super);\r\n    /**\r\n     * Constructor for atypical search bar\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function AtypicalSearchBar(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.centerNumber = '';\r\n        _this.candidateNumber = '';\r\n        /**\r\n         * Triggered to reset the center and candidate search field.\r\n         */\r\n        _this.resetAtypicalSearchField = function (result) {\r\n            if (!result || result.searchResultCode === enums.SearchResultCode.MarkerNotApproved ||\r\n                result.searchResultCode === enums.SearchResultCode.MarkerSuspended) {\r\n                _this.refs.atyCenterName.value = '';\r\n                _this.refs.atyCandidateName.value = '';\r\n                _this.setState({\r\n                    isCenterValueSet: false,\r\n                    isCandidateValueSet: false\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Triggered to reset the center and candidate search field if marker got suspended on atypical response allocation.\r\n         */\r\n        _this.onResponseAllocated = function (responseAllocationErrorCode) {\r\n            if (responseAllocationErrorCode !== enums.ResponseAllocationErrorCode.suspendedMarker) {\r\n                _this.resetAtypicalSearchField();\r\n            }\r\n        };\r\n        /**\r\n         * This method will call on Atypical Center number onChange event\r\n         */\r\n        _this.onAtypicalCenterChange = function (event) {\r\n            var a = event.target.value;\r\n            if (a.trim().length > 0) {\r\n                _this.centerNumber = a.trim();\r\n                _this.setState({\r\n                    isCenterValueSet: true,\r\n                    isCandidateValueSet: _this.state.isCandidateValueSet\r\n                });\r\n            }\r\n            else {\r\n                _this.setState({\r\n                    isCenterValueSet: false,\r\n                    isCandidateValueSet: _this.state.isCandidateValueSet\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * This method will call on Atypical Candidate number onChange event\r\n         */\r\n        _this.onAtypicalCandiadateChange = function (event) {\r\n            var a = event.target.value;\r\n            if (a.trim().length > 0) {\r\n                _this.candidateNumber = a.trim();\r\n                _this.setState({\r\n                    isCenterValueSet: _this.state.isCenterValueSet,\r\n                    isCandidateValueSet: true\r\n                });\r\n            }\r\n            else {\r\n                _this.setState({\r\n                    isCenterValueSet: _this.state.isCenterValueSet,\r\n                    isCandidateValueSet: false\r\n                });\r\n            }\r\n        };\r\n        _this.state = {\r\n            isCenterValueSet: false,\r\n            isCandidateValueSet: false\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * render component\r\n     */\r\n    AtypicalSearchBar.prototype.render = function () {\r\n        return React.createElement(\"div\", { className: 'atypical-search-wrap middle-content' },\r\n            React.createElement(\"div\", { className: 'aty-center' },\r\n                React.createElement(\"label\", { htmlFor: 'atyCenter', className: (this.props.disableControls) ? 'disabled' : '' }, localeStore.instance.TranslateText('marking.worklist.atypical.centre-search-label')),\r\n                React.createElement(\"input\", { type: 'text', name: 'atyCenterName', onChange: this.onAtypicalCenterChange, ref: 'atyCenterName', id: 'atyCenter', disabled: this.props.disableControls, maxLength: 128, className: 'search-input Center', title: (this.props.disableControls) ?\r\n                        localeStore.instance.TranslateText('marking.worklist.atypical-search-error-dialog.atypical-search-error-disabled') :\r\n                        localeStore.instance.TranslateText('marking.worklist.atypical.centre-search-tooltip') })),\r\n            React.createElement(\"div\", { className: 'aty-candidate' },\r\n                React.createElement(\"label\", { htmlFor: 'atyCandidate', className: (this.props.disableControls) ? 'disabled' : '' }, localeStore.instance.TranslateText('marking.worklist.atypical.candidate-search-label')),\r\n                React.createElement(\"input\", { type: 'text', name: 'atyCandidateName', onChange: this.onAtypicalCandiadateChange, ref: 'atyCandidateName', id: 'atyCandidate', disabled: this.props.disableControls, maxLength: 128, className: 'search-input Candidate', title: (this.props.disableControls) ?\r\n                        localeStore.instance.TranslateText('marking.worklist.atypical-search-error-dialog.atypical-search-error-disabled') :\r\n                        localeStore.instance.TranslateText('marking.worklist.atypical.candidate-search-tooltip') })),\r\n            React.createElement(\"div\", { className: 'aty-search-btn' },\r\n                React.createElement(\"button\", { className: (((this.state.isCenterValueSet && this.state.isCandidateValueSet) === false)\r\n                        || this.props.disableControls) ?\r\n                        'btn primary rounded disabled' : 'btn primary rounded', title: (this.props.disableControls) ?\r\n                        localeStore.instance.TranslateText('marking.worklist.atypical-search-error-dialog.atypical-search-error-disabled') :\r\n                        localeStore.instance.TranslateText('marking.worklist.atypical.search-button-tooltip'), id: 'atySearch', onClick: this.onAtypicalSearchButtonClick.bind(this) }, localeStore.instance.TranslateText('marking.worklist.atypical.search-button'))));\r\n    };\r\n    /**\r\n     * This function gets invoked when the component is about to be mounted\r\n     */\r\n    AtypicalSearchBar.prototype.componentDidMount = function () {\r\n        responseStore.instance.addListener(responseStore.ResponseStore.RESET_ATYPICAL_SEARCH_FIELD, this.resetAtypicalSearchField);\r\n        responseStore.instance.addListener(responseStore.ResponseStore.ATYPICAL_SEARCH_RESULT_EVENT, this.resetAtypicalSearchField);\r\n        responseStore.instance.addListener(responseStore.ResponseStore.RESPONSE_ALLOCATED_EVENT, this.onResponseAllocated);\r\n    };\r\n    /**\r\n     * This function gets invoked when the component is about to be unmounted\r\n     */\r\n    AtypicalSearchBar.prototype.componentWillUnmount = function () {\r\n        responseStore.instance.removeListener(responseStore.ResponseStore.RESET_ATYPICAL_SEARCH_FIELD, this.resetAtypicalSearchField);\r\n        responseStore.instance.removeListener(responseStore.ResponseStore.ATYPICAL_SEARCH_RESULT_EVENT, this.resetAtypicalSearchField);\r\n        responseStore.instance.removeListener(responseStore.ResponseStore.RESPONSE_ALLOCATED_EVENT, this.onResponseAllocated);\r\n    };\r\n    /**\r\n     * Method which handles the click event of Atypical response search button.\r\n     */\r\n    AtypicalSearchBar.prototype.onAtypicalSearchButtonClick = function () {\r\n        if (!applicationactioncreator.checkActionInterrupted()) {\r\n            return;\r\n        }\r\n        if (this.state.isCenterValueSet && this.state.isCandidateValueSet) {\r\n            // set the sarch parameter\r\n            var searchAtypicalResponseArgument = {\r\n                candidateNumber: this.candidateNumber,\r\n                centreNumber: this.centerNumber,\r\n                examinerRoleId: qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId,\r\n                markSchemeGroupId: qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId\r\n            };\r\n            responseactioncreator.searchAtypicalResponse(searchAtypicalResponseArgument);\r\n        }\r\n    };\r\n    return AtypicalSearchBar;\r\n}(pureRenderComponent));\r\nmodule.exports = AtypicalSearchBar;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIxNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L2F0eXBpY2Fsc2VhcmNoYmFyLnRzeD9hN2YzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBleGFtaW5lclN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL21hcmtlcmluZm9ybWF0aW9uL2V4YW1pbmVyc3RvcmUnKTtcclxuaW1wb3J0IHJlc3BvbnNlYWN0aW9uY3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvcmVzcG9uc2UvcmVzcG9uc2VhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCByZXNwb25zZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3Jlc3BvbnNlL3Jlc3BvbnNlc3RvcmUnKTtcclxuaW1wb3J0IGF0eXBpY2FsUmVzcG9uc2VTZWFyY2hSZXN1bHQgPSByZXF1aXJlKCcuLi8uLi9kYXRhc2VydmljZXMvcmVzcG9uc2UvYXR5cGljYWxyZXNwb25zZXNlYXJjaHJlc3VsdCcpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25hY3Rpb25jcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25hY3Rpb25jcmVhdG9yJyk7XHJcbi8qIHRzbGludDplbmFibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBhIGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGRpc2FibGVDb250cm9scz86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbGwgZmllbGRzIG9wdGlvbmFsIHRvIGFsbG93IHBhcnRpYWwgc3RhdGUgdXBkYXRlcyBpbiBzZXRTdGF0ZVxyXG4gKi9cclxuaW50ZXJmYWNlIFN0YXRlIHtcclxuICAgIGlzQ2VudGVyVmFsdWVTZXQ6IGJvb2xlYW47XHJcbiAgICBpc0NhbmRpZGF0ZVZhbHVlU2V0OiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50LlxyXG4gKiBAcGFyYW0ge1Byb3BzfSBwcm9wc1xyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuY2xhc3MgQXR5cGljYWxTZWFyY2hCYXIgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xyXG5cclxuICAgIHByaXZhdGUgY2VudGVyTnVtYmVyOiBzdHJpbmcgPSAnJztcclxuICAgIHByaXZhdGUgY2FuZGlkYXRlTnVtYmVyOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIGZvciBhdHlwaWNhbCBzZWFyY2ggYmFyXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBTdGF0ZSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaXNDZW50ZXJWYWx1ZVNldDogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzQ2FuZGlkYXRlVmFsdWVTZXQ6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJlZnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlZnM6IHtcclxuICAgICAgICBba2V5OiBzdHJpbmddOiAoRWxlbWVudCk7XHJcbiAgICAgICAgYXR5Q2VudGVyTmFtZTogKEhUTUxJbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIGF0eUNhbmRpZGF0ZU5hbWU6IChIVE1MSW5wdXRFbGVtZW50KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG5cclxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2F0eXBpY2FsLXNlYXJjaC13cmFwIG1pZGRsZS1jb250ZW50Jz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdhdHktY2VudGVyJz5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj0nYXR5Q2VudGVyJyBjbGFzc05hbWU9eyh0aGlzLnByb3BzLmRpc2FibGVDb250cm9scykgPyAnZGlzYWJsZWQnIDogJyd9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5hdHlwaWNhbC5jZW50cmUtc2VhcmNoLWxhYmVsJykgfTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2F0eUNlbnRlck5hbWUnIG9uQ2hhbmdlPSB7dGhpcy5vbkF0eXBpY2FsQ2VudGVyQ2hhbmdlfSAgcmVmPSdhdHlDZW50ZXJOYW1lJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD0nYXR5Q2VudGVyJyAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZUNvbnRyb2xzfSBtYXhMZW5ndGg9ezEyOH0gY2xhc3NOYW1lPSdzZWFyY2gtaW5wdXQgQ2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17KHRoaXMucHJvcHMuZGlzYWJsZUNvbnRyb2xzKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCdtYXJraW5nLndvcmtsaXN0LmF0eXBpY2FsLXNlYXJjaC1lcnJvci1kaWFsb2cuYXR5cGljYWwtc2VhcmNoLWVycm9yLWRpc2FibGVkJykgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5hdHlwaWNhbC5jZW50cmUtc2VhcmNoLXRvb2x0aXAnKSB9Lz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdhdHktY2FuZGlkYXRlJz5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj0nYXR5Q2FuZGlkYXRlJyBjbGFzc05hbWU9eyh0aGlzLnByb3BzLmRpc2FibGVDb250cm9scykgPyAnZGlzYWJsZWQnIDogJyd9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5hdHlwaWNhbC5jYW5kaWRhdGUtc2VhcmNoLWxhYmVsJykgfTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J2F0eUNhbmRpZGF0ZU5hbWUnIG9uQ2hhbmdlPSB7dGhpcy5vbkF0eXBpY2FsQ2FuZGlhZGF0ZUNoYW5nZX0gcmVmPSdhdHlDYW5kaWRhdGVOYW1lJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD0nYXR5Q2FuZGlkYXRlJyBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlQ29udHJvbHN9IG1heExlbmd0aD17MTI4fSBjbGFzc05hbWU9J3NlYXJjaC1pbnB1dCBDYW5kaWRhdGUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXsodGhpcy5wcm9wcy5kaXNhYmxlQ29udHJvbHMpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QuYXR5cGljYWwtc2VhcmNoLWVycm9yLWRpYWxvZy5hdHlwaWNhbC1zZWFyY2gtZXJyb3ItZGlzYWJsZWQnKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmF0eXBpY2FsLmNhbmRpZGF0ZS1zZWFyY2gtdG9vbHRpcCcpIH0vPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2F0eS1zZWFyY2gtYnRuJz5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17KCgodGhpcy5zdGF0ZS5pc0NlbnRlclZhbHVlU2V0ICYmIHRoaXMuc3RhdGUuaXNDYW5kaWRhdGVWYWx1ZVNldCkgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCB0aGlzLnByb3BzLmRpc2FibGVDb250cm9scykgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYnRuIHByaW1hcnkgcm91bmRlZCBkaXNhYmxlZCcgOiAnYnRuIHByaW1hcnkgcm91bmRlZCd9XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9eyh0aGlzLnByb3BzLmRpc2FibGVDb250cm9scykgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QuYXR5cGljYWwtc2VhcmNoLWVycm9yLWRpYWxvZy5hdHlwaWNhbC1zZWFyY2gtZXJyb3ItZGlzYWJsZWQnKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmF0eXBpY2FsLnNlYXJjaC1idXR0b24tdG9vbHRpcCcpIH1cclxuICAgICAgICAgICAgICAgICAgICBpZD0nYXR5U2VhcmNoJyBvbkNsaWNrPXt0aGlzLm9uQXR5cGljYWxTZWFyY2hCdXR0b25DbGljay5iaW5kKHRoaXMpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QuYXR5cGljYWwuc2VhcmNoLWJ1dHRvbicpIH08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBnZXRzIGludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFib3V0IHRvIGJlIG1vdW50ZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHJlc3BvbnNlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIocmVzcG9uc2VTdG9yZS5SZXNwb25zZVN0b3JlLlJFU0VUX0FUWVBJQ0FMX1NFQVJDSF9GSUVMRCwgdGhpcy5yZXNldEF0eXBpY2FsU2VhcmNoRmllbGQpO1xyXG4gICAgICAgIHJlc3BvbnNlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIocmVzcG9uc2VTdG9yZS5SZXNwb25zZVN0b3JlLkFUWVBJQ0FMX1NFQVJDSF9SRVNVTFRfRVZFTlQsIHRoaXMucmVzZXRBdHlwaWNhbFNlYXJjaEZpZWxkKTtcclxuICAgICAgICByZXNwb25zZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKHJlc3BvbnNlU3RvcmUuUmVzcG9uc2VTdG9yZS5SRVNQT05TRV9BTExPQ0FURURfRVZFTlQsIHRoaXMub25SZXNwb25zZUFsbG9jYXRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGdldHMgaW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgYWJvdXQgdG8gYmUgdW5tb3VudGVkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICByZXNwb25zZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHJlc3BvbnNlU3RvcmUuUmVzcG9uc2VTdG9yZS5SRVNFVF9BVFlQSUNBTF9TRUFSQ0hfRklFTEQsIHRoaXMucmVzZXRBdHlwaWNhbFNlYXJjaEZpZWxkKTtcclxuICAgICAgICByZXNwb25zZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHJlc3BvbnNlU3RvcmUuUmVzcG9uc2VTdG9yZS5BVFlQSUNBTF9TRUFSQ0hfUkVTVUxUX0VWRU5ULCB0aGlzLnJlc2V0QXR5cGljYWxTZWFyY2hGaWVsZCk7XHJcbiAgICAgICAgcmVzcG9uc2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihyZXNwb25zZVN0b3JlLlJlc3BvbnNlU3RvcmUuUkVTUE9OU0VfQUxMT0NBVEVEX0VWRU5ULCB0aGlzLm9uUmVzcG9uc2VBbGxvY2F0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlcmVkIHRvIHJlc2V0IHRoZSBjZW50ZXIgYW5kIGNhbmRpZGF0ZSBzZWFyY2ggZmllbGQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVzZXRBdHlwaWNhbFNlYXJjaEZpZWxkID0gKHJlc3VsdD86IGF0eXBpY2FsUmVzcG9uc2VTZWFyY2hSZXN1bHQpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoIXJlc3VsdCB8fCByZXN1bHQuc2VhcmNoUmVzdWx0Q29kZSA9PT0gZW51bXMuU2VhcmNoUmVzdWx0Q29kZS5NYXJrZXJOb3RBcHByb3ZlZCB8fFxyXG4gICAgICAgICAgICByZXN1bHQuc2VhcmNoUmVzdWx0Q29kZSA9PT0gZW51bXMuU2VhcmNoUmVzdWx0Q29kZS5NYXJrZXJTdXNwZW5kZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZzLmF0eUNlbnRlck5hbWUudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5yZWZzLmF0eUNhbmRpZGF0ZU5hbWUudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpc0NlbnRlclZhbHVlU2V0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzQ2FuZGlkYXRlVmFsdWVTZXQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXJlZCB0byByZXNldCB0aGUgY2VudGVyIGFuZCBjYW5kaWRhdGUgc2VhcmNoIGZpZWxkIGlmIG1hcmtlciBnb3Qgc3VzcGVuZGVkIG9uIGF0eXBpY2FsIHJlc3BvbnNlIGFsbG9jYXRpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SZXNwb25zZUFsbG9jYXRlZCA9IChyZXNwb25zZUFsbG9jYXRpb25FcnJvckNvZGU6IGVudW1zLlJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmIChyZXNwb25zZUFsbG9jYXRpb25FcnJvckNvZGUgIT09IGVudW1zLlJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZS5zdXNwZW5kZWRNYXJrZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldEF0eXBpY2FsU2VhcmNoRmllbGQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGNhbGwgb24gQXR5cGljYWwgQ2VudGVyIG51bWJlciBvbkNoYW5nZSBldmVudFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQXR5cGljYWxDZW50ZXJDaGFuZ2UgPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIGxldCBhOiBzdHJpbmcgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgaWYgKGEudHJpbSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jZW50ZXJOdW1iZXIgPSBhLnRyaW0oKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpc0NlbnRlclZhbHVlU2V0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaXNDYW5kaWRhdGVWYWx1ZVNldDogdGhpcy5zdGF0ZS5pc0NhbmRpZGF0ZVZhbHVlU2V0XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgaXNDZW50ZXJWYWx1ZVNldDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0NhbmRpZGF0ZVZhbHVlU2V0OiB0aGlzLnN0YXRlLmlzQ2FuZGlkYXRlVmFsdWVTZXRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgY2FsbCBvbiBBdHlwaWNhbCBDYW5kaWRhdGUgbnVtYmVyIG9uQ2hhbmdlIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25BdHlwaWNhbENhbmRpYWRhdGVDaGFuZ2UgPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIGxldCBhOiBzdHJpbmcgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgaWYgKGEudHJpbSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5kaWRhdGVOdW1iZXIgPSBhLnRyaW0oKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpc0NlbnRlclZhbHVlU2V0OiB0aGlzLnN0YXRlLmlzQ2VudGVyVmFsdWVTZXQsXHJcbiAgICAgICAgICAgICAgICBpc0NhbmRpZGF0ZVZhbHVlU2V0OiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgaXNDZW50ZXJWYWx1ZVNldDogdGhpcy5zdGF0ZS5pc0NlbnRlclZhbHVlU2V0LFxyXG4gICAgICAgICAgICAgICAgaXNDYW5kaWRhdGVWYWx1ZVNldDogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB3aGljaCBoYW5kbGVzIHRoZSBjbGljayBldmVudCBvZiBBdHlwaWNhbCByZXNwb25zZSBzZWFyY2ggYnV0dG9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQXR5cGljYWxTZWFyY2hCdXR0b25DbGljaygpIHtcclxuICAgICAgICBpZiAoIWFwcGxpY2F0aW9uYWN0aW9uY3JlYXRvci5jaGVja0FjdGlvbkludGVycnVwdGVkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNDZW50ZXJWYWx1ZVNldCAmJiB0aGlzLnN0YXRlLmlzQ2FuZGlkYXRlVmFsdWVTZXQpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgc2FyY2ggcGFyYW1ldGVyXHJcbiAgICAgICAgICAgICAgICBsZXQgc2VhcmNoQXR5cGljYWxSZXNwb25zZUFyZ3VtZW50OiBTZWFyY2hBdHlwaWNhbFJlc3BvbnNlQXJndW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlTnVtYmVyOiB0aGlzLmNhbmRpZGF0ZU51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICBjZW50cmVOdW1iZXI6IHRoaXMuY2VudGVyTnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4YW1pbmVyUm9sZUlkOiBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZWFjdGlvbmNyZWF0b3Iuc2VhcmNoQXR5cGljYWxSZXNwb25zZShzZWFyY2hBdHlwaWNhbFJlc3BvbnNlQXJndW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgPSBBdHlwaWNhbFNlYXJjaEJhcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3QvYXR5cGljYWxzZWFyY2hiYXIudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWtCQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUtBOzs7O0FBSUE7QUFDQTtBQUFBO0FBUkE7QUFDQTtBQWtGQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJJQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQVdBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBS0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1215:
/* no static exports found */
/* all exports used */
/*!*********************************************************************************!*\
  !*** ./src/components/worklist/markerinformation/examinerstatechangebutton.tsx ***!
  \*********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * changeExaminerStateButton contain the examiner state change button and its click event.\r\n * @param props\r\n */\r\nvar examinerStateChangeButton = function (props) {\r\n    return (React.createElement(\"div\", { className: 'status-btn-holder padding-top-10 text-center' },\r\n        React.createElement(\"button\", { className: 'primary rounded change-sts-btn popup-nav', id: 'examinerstatechangebutton', \"data-popup\": 'changeStatus', \"aria-haspopup\": 'true', onClick: function () { props.showExaminerStateChangePopup(); }, disabled: props.isDisabled }, localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.change-status-button'))));\r\n};\r\nmodule.exports = examinerStateChangeButton;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIxNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtlcmluZm9ybWF0aW9uL2V4YW1pbmVyc3RhdGVjaGFuZ2VidXR0b24udHN4P2ZlNzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5cclxuaW50ZXJmYWNlIENoYW5nZUV4YW1pbmVyU3RhdGVQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBzaG93RXhhbWluZXJTdGF0ZUNoYW5nZVBvcHVwOiBGdW5jdGlvbjtcclxuICAgIGlzRGlzYWJsZWQ6IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBjaGFuZ2VFeGFtaW5lclN0YXRlQnV0dG9uIGNvbnRhaW4gdGhlIGV4YW1pbmVyIHN0YXRlIGNoYW5nZSBidXR0b24gYW5kIGl0cyBjbGljayBldmVudC5cclxuICogQHBhcmFtIHByb3BzXHJcbiAqL1xyXG5jb25zdCBleGFtaW5lclN0YXRlQ2hhbmdlQnV0dG9uOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8Q2hhbmdlRXhhbWluZXJTdGF0ZVByb3BzPiA9IChwcm9wczogQ2hhbmdlRXhhbWluZXJTdGF0ZVByb3BzKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzdGF0dXMtYnRuLWhvbGRlciBwYWRkaW5nLXRvcC0xMCB0ZXh0LWNlbnRlcic+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPSdwcmltYXJ5IHJvdW5kZWQgY2hhbmdlLXN0cy1idG4gcG9wdXAtbmF2J1xyXG4gICAgICAgICAgICAgICAgaWQ9J2V4YW1pbmVyc3RhdGVjaGFuZ2VidXR0b24nXHJcbiAgICAgICAgICAgICAgICBkYXRhLXBvcHVwPSdjaGFuZ2VTdGF0dXMnIGFyaWEtaGFzcG9wdXA9J3RydWUnXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHByb3BzLnNob3dFeGFtaW5lclN0YXRlQ2hhbmdlUG9wdXAoKTsgfX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5pc0Rpc2FibGVkfT5cclxuICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuY2hhbmdlLXN0YXR1cy5jaGFuZ2Utc3RhdHVzLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn07XHJcblxyXG5leHBvcnQgPSBleGFtaW5lclN0YXRlQ2hhbmdlQnV0dG9uO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9tYXJrZXJpbmZvcm1hdGlvbi9leGFtaW5lcnN0YXRlY2hhbmdlYnV0dG9uLnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFPQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1217:
/* no static exports found */
/* all exports used */
/*!**************************************************************************!*\
  !*** ./src/components/worklist/markerinformation/markingcheckbutton.tsx ***!
  \**************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * examinerMarkingCheckButton contain the examiner's marking check button to raise marking checks.\r\n * @param props\r\n */\r\nvar markingCheckButton = function (props) {\r\n    return (React.createElement(\"div\", { className: 'status-btn-holder padding-top-10 text-center', id: props.id + '_wrapper' },\r\n        React.createElement(\"button\", { className: 'primary rounded req-marking-check', id: 'marking_check_button_id', key: props.id + '_key', onClick: function () { props.onMarkingCheckButtonClick(); }, disabled: props.disable }, localeStore.instance.TranslateText('marking.worklist.left-panel.request-marking-check-button'))));\r\n};\r\nmodule.exports = markingCheckButton;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIxNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtlcmluZm9ybWF0aW9uL21hcmtpbmdjaGVja2J1dHRvbi50c3g/ZWZhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcblxyXG5pbnRlcmZhY2UgTWFya2luZ0NoZWNrQnV0dG9uUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgb25NYXJraW5nQ2hlY2tCdXR0b25DbGljazogRnVuY3Rpb247XHJcbiAgICBkaXNhYmxlOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogZXhhbWluZXJNYXJraW5nQ2hlY2tCdXR0b24gY29udGFpbiB0aGUgZXhhbWluZXIncyBtYXJraW5nIGNoZWNrIGJ1dHRvbiB0byByYWlzZSBtYXJraW5nIGNoZWNrcy5cclxuICogQHBhcmFtIHByb3BzXHJcbiAqL1xyXG5jb25zdCBtYXJraW5nQ2hlY2tCdXR0b246IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxNYXJraW5nQ2hlY2tCdXR0b25Qcm9wcz4gPSAocHJvcHM6IE1hcmtpbmdDaGVja0J1dHRvblByb3BzKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzdGF0dXMtYnRuLWhvbGRlciBwYWRkaW5nLXRvcC0xMCB0ZXh0LWNlbnRlcicgaWQ9e3Byb3BzLmlkICsgJ193cmFwcGVyJ30+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPSdwcmltYXJ5IHJvdW5kZWQgcmVxLW1hcmtpbmctY2hlY2snXHJcbiAgICAgICAgICAgICAgICBpZD17J21hcmtpbmdfY2hlY2tfYnV0dG9uX2lkJ31cclxuICAgICAgICAgICAgICAgIGtleT17cHJvcHMuaWQgKyAnX2tleSd9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHByb3BzLm9uTWFya2luZ0NoZWNrQnV0dG9uQ2xpY2soKTsgfX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlfT5cclxuICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmxlZnQtcGFuZWwucmVxdWVzdC1tYXJraW5nLWNoZWNrLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn07XHJcblxyXG5leHBvcnQgPSBtYXJraW5nQ2hlY2tCdXR0b247XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtlcmluZm9ybWF0aW9uL21hcmtpbmdjaGVja2J1dHRvbi50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBT0E7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBU0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1220:
/* no static exports found */
/* all exports used */
/*!***************************************************************************!*\
  !*** ./src/components/worklist/markerinformation/personalinformation.tsx ***!
  \***************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar SendMessageLink = __webpack_require__(/*! ./sendmessagelink */ 590);\r\n/**\r\n * React class for supervisor information.\r\n */\r\nvar PersonalInformation = /** @class */ (function (_super) {\r\n    __extends(PersonalInformation, _super);\r\n    /**\r\n     * constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function PersonalInformation(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * Render method for personal information.\r\n     */\r\n    PersonalInformation.prototype.render = function () {\r\n        return (React.createElement(\"div\", { id: 'my_info_panel', className: 'my-info clearfix' },\r\n            React.createElement(\"div\", { className: 'user-photo-holder user-medium-icon sprite-icon' }),\r\n            React.createElement(\"div\", { className: 'user-details-holder' },\r\n                React.createElement(\"div\", { id: 'user_name', className: 'user-name large-text' }, this.props.examinerName),\r\n                React.createElement(\"div\", { id: 'user_role', className: 'designation small-text' }, this.getRoleText()),\r\n                this.renderSendMessageSection(),\r\n                React.createElement(\"div\", { className: 'approve-status-holder padding-top-5' },\r\n                    React.createElement(\"span\", { className: this.determineStatusClass(false) },\r\n                        React.createElement(\"span\", { id: 'user_approval_icon', className: this.determineStatusClass(true) }),\r\n                        React.createElement(\"span\", { id: 'user_approval_status', className: 'small-text padding-left-5' }, this.getApprovalStatusText()),\r\n                        this.props.markingCheckStatus ?\r\n                            React.createElement(\"span\", { id: 'marking_check_status_id', className: 'check-request-status' }, '(' + this.props.markingCheckStatus + ')') : null)))));\r\n    };\r\n    /**\r\n     * Render Send Message Link for Team Management\r\n     */\r\n    PersonalInformation.prototype.renderSendMessageSection = function () {\r\n        if (this.props.isTeamManagementMode) {\r\n            return React.createElement(SendMessageLink, { onClick: this.props.showMessagePopup, id: 'sendMsg', key: 'sendMsg' });\r\n        }\r\n    };\r\n    /**\r\n     * Return the Approval Status text.(localized)\r\n     */\r\n    PersonalInformation.prototype.getApprovalStatusText = function () {\r\n        // status text for quality feedback status.\r\n        if (this.props.qualityFeedbackStatus) {\r\n            var approvalStatusText = '';\r\n            approvalStatusText = 'qig-statuses.' + enums.ExaminerQIGStatus[11];\r\n            return localeStore.instance.TranslateText('home.' + approvalStatusText);\r\n        }\r\n        else {\r\n            var approvalStatusText = '';\r\n            approvalStatusText = 'approval-statuses.' + enums.ExaminerApproval[this.props.approvalStatus];\r\n            return localeStore.instance.TranslateText('generic.' + approvalStatusText);\r\n        }\r\n    };\r\n    /**\r\n     * Return the Role text.(localized)\r\n     */\r\n    PersonalInformation.prototype.getRoleText = function () {\r\n        var roleText = '';\r\n        roleText = 'examiner-roles.' + enums.ExaminerRole[this.props.examinerRole];\r\n        return localeStore.instance.TranslateText('generic.' + roleText);\r\n    };\r\n    /**\r\n     * Determine the class for the approval status.\r\n     */\r\n    PersonalInformation.prototype.determineStatusClass = function (isIcon) {\r\n        var iconClass = 'sprite-icon {0}-small-icon';\r\n        var bubbleClass = 'bubble show {0} no-border white-bg rounded';\r\n        var iconClassValue = 'warning';\r\n        var bubbleClassValue = 'warning';\r\n        switch (this.props.approvalStatus) {\r\n            case enums.ExaminerApproval.Approved:\r\n                iconClassValue = 'success';\r\n                bubbleClassValue = 'success';\r\n                break;\r\n            case enums.ExaminerApproval.ConditionallyApproved:\r\n            case enums.ExaminerApproval.ApprovedReview:\r\n                iconClassValue = 'warning';\r\n                bubbleClassValue = 'warning';\r\n                break;\r\n            case enums.ExaminerApproval.NotApproved:\r\n                iconClassValue = 'not-approved';\r\n                bubbleClassValue = 'warning';\r\n                break;\r\n            case enums.ExaminerApproval.Suspended:\r\n                iconClassValue = 'error';\r\n                bubbleClassValue = 'error';\r\n                break;\r\n            default:\r\n                iconClassValue = 'warning';\r\n                bubbleClassValue = 'warning';\r\n                break;\r\n        }\r\n        // color class for quality feedback\r\n        if (this.props.qualityFeedbackStatus) {\r\n            iconClassValue = 'warning';\r\n            bubbleClassValue = 'warning';\r\n        }\r\n        if (isIcon) {\r\n            return iconClass.replace('{0}', iconClassValue);\r\n        }\r\n        else {\r\n            return bubbleClass.replace('{0}', bubbleClassValue);\r\n        }\r\n    };\r\n    return PersonalInformation;\r\n}(pureRenderComponent));\r\nmodule.exports = PersonalInformation;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtlcmluZm9ybWF0aW9uL3BlcnNvbmFsaW5mb3JtYXRpb24udHN4Pzg2NzgiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgU2VuZE1lc3NhZ2VMaW5rID0gcmVxdWlyZSgnLi9zZW5kbWVzc2FnZWxpbmsnKTtcclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgYSBjb21wb25lbnRcclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2Uge1xyXG4gICAgZXhhbWluZXJOYW1lOiBzdHJpbmc7XHJcbiAgICBleGFtaW5lclJvbGU6IG51bWJlcjtcclxuICAgIGFwcHJvdmFsU3RhdHVzOiBlbnVtcy5FeGFtaW5lckFwcHJvdmFsO1xyXG4gICAgcXVhbGl0eUZlZWRiYWNrU3RhdHVzOiBib29sZWFuO1xyXG4gICAgbWFya2luZ0NoZWNrU3RhdHVzPzogc3RyaW5nO1xyXG4gICAgaXNUZWFtTWFuYWdlbWVudE1vZGU6IGJvb2xlYW47XHJcbiAgICBzaG93TWVzc2FnZVBvcHVwOiBGdW5jdGlvbjtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjbGFzcyBmb3Igc3VwZXJ2aXNvciBpbmZvcm1hdGlvbi5cclxuICovXHJcbmNsYXNzIFBlcnNvbmFsSW5mb3JtYXRpb24gZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIG1ldGhvZCBmb3IgcGVyc29uYWwgaW5mb3JtYXRpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuICg8ZGl2IGlkPSdteV9pbmZvX3BhbmVsJyBjbGFzc05hbWU9J215LWluZm8gY2xlYXJmaXgnPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndXNlci1waG90by1ob2xkZXIgdXNlci1tZWRpdW0taWNvbiBzcHJpdGUtaWNvbicvPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndXNlci1kZXRhaWxzLWhvbGRlcic+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPSd1c2VyX25hbWUnIGNsYXNzTmFtZT0ndXNlci1uYW1lIGxhcmdlLXRleHQnPnt0aGlzLnByb3BzLmV4YW1pbmVyTmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9J3VzZXJfcm9sZScgY2xhc3NOYW1lPSdkZXNpZ25hdGlvbiBzbWFsbC10ZXh0Jz57dGhpcy5nZXRSb2xlVGV4dCgpIH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJTZW5kTWVzc2FnZVNlY3Rpb24oKSB9XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYXBwcm92ZS1zdGF0dXMtaG9sZGVyIHBhZGRpbmctdG9wLTUnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17dGhpcy5kZXRlcm1pbmVTdGF0dXNDbGFzcyhmYWxzZSkgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9J3VzZXJfYXBwcm92YWxfaWNvbicgY2xhc3NOYW1lPXt0aGlzLmRldGVybWluZVN0YXR1c0NsYXNzKHRydWUpIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9J3VzZXJfYXBwcm92YWxfc3RhdHVzJyBjbGFzc05hbWU9J3NtYWxsLXRleHQgcGFkZGluZy1sZWZ0LTUnPnt0aGlzLmdldEFwcHJvdmFsU3RhdHVzVGV4dCgpIH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLm1hcmtpbmdDaGVja1N0YXR1cyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZCA9ICdtYXJraW5nX2NoZWNrX3N0YXR1c19pZCcgY2xhc3NOYW1lPSAnY2hlY2stcmVxdWVzdC1zdGF0dXMnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsnKCcgKyB0aGlzLnByb3BzLm1hcmtpbmdDaGVja1N0YXR1cyArICcpJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4gOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj4pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIFNlbmQgTWVzc2FnZSBMaW5rIGZvciBUZWFtIE1hbmFnZW1lbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZW5kZXJTZW5kTWVzc2FnZVNlY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxTZW5kTWVzc2FnZUxpbmsgb25DbGljayA9IHsgdGhpcy5wcm9wcy5zaG93TWVzc2FnZVBvcHVwIH0gaWQgPSdzZW5kTXNnJyBrZXk9J3NlbmRNc2cnIC8+O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgQXBwcm92YWwgU3RhdHVzIHRleHQuKGxvY2FsaXplZClcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRBcHByb3ZhbFN0YXR1c1RleHQoKSB7XHJcblxyXG4gICAgICAgIC8vIHN0YXR1cyB0ZXh0IGZvciBxdWFsaXR5IGZlZWRiYWNrIHN0YXR1cy5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5xdWFsaXR5RmVlZGJhY2tTdGF0dXMpIHtcclxuICAgICAgICAgICAgbGV0IGFwcHJvdmFsU3RhdHVzVGV4dCA9ICcnO1xyXG4gICAgICAgICAgICBhcHByb3ZhbFN0YXR1c1RleHQgPSAncWlnLXN0YXR1c2VzLicgKyBlbnVtcy5FeGFtaW5lclFJR1N0YXR1c1sxMV07XHJcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdob21lLicgKyBhcHByb3ZhbFN0YXR1c1RleHQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBhcHByb3ZhbFN0YXR1c1RleHQgPSAnJztcclxuICAgICAgICAgICAgYXBwcm92YWxTdGF0dXNUZXh0ID0gJ2FwcHJvdmFsLXN0YXR1c2VzLicgKyBlbnVtcy5FeGFtaW5lckFwcHJvdmFsW3RoaXMucHJvcHMuYXBwcm92YWxTdGF0dXNdO1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy4nICsgYXBwcm92YWxTdGF0dXNUZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gdGhlIFJvbGUgdGV4dC4obG9jYWxpemVkKVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvbGVUZXh0KCkge1xyXG4gICAgICAgIGxldCByb2xlVGV4dCA9ICcnO1xyXG4gICAgICAgIHJvbGVUZXh0ID0gJ2V4YW1pbmVyLXJvbGVzLicgKyBlbnVtcy5FeGFtaW5lclJvbGVbdGhpcy5wcm9wcy5leGFtaW5lclJvbGVdO1xyXG4gICAgICAgIHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLicgKyByb2xlVGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmUgdGhlIGNsYXNzIGZvciB0aGUgYXBwcm92YWwgc3RhdHVzLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGRldGVybWluZVN0YXR1c0NsYXNzKGlzSWNvbjogYm9vbGVhbikge1xyXG4gICAgICAgIGxldCBpY29uQ2xhc3MgPSAnc3ByaXRlLWljb24gezB9LXNtYWxsLWljb24nO1xyXG4gICAgICAgIGxldCBidWJibGVDbGFzcyA9ICdidWJibGUgc2hvdyB7MH0gbm8tYm9yZGVyIHdoaXRlLWJnIHJvdW5kZWQnO1xyXG4gICAgICAgIGxldCBpY29uQ2xhc3NWYWx1ZSA9ICd3YXJuaW5nJztcclxuICAgICAgICBsZXQgYnViYmxlQ2xhc3NWYWx1ZSA9ICd3YXJuaW5nJztcclxuXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnByb3BzLmFwcHJvdmFsU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJBcHByb3ZhbC5BcHByb3ZlZDpcclxuICAgICAgICAgICAgICAgIGljb25DbGFzc1ZhbHVlID0gJ3N1Y2Nlc3MnO1xyXG4gICAgICAgICAgICAgICAgYnViYmxlQ2xhc3NWYWx1ZSA9ICdzdWNjZXNzJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyQXBwcm92YWwuQ29uZGl0aW9uYWxseUFwcHJvdmVkOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyQXBwcm92YWwuQXBwcm92ZWRSZXZpZXc6XHJcbiAgICAgICAgICAgICAgICBpY29uQ2xhc3NWYWx1ZSA9ICd3YXJuaW5nJztcclxuICAgICAgICAgICAgICAgIGJ1YmJsZUNsYXNzVmFsdWUgPSAnd2FybmluZyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLk5vdEFwcHJvdmVkOlxyXG4gICAgICAgICAgICAgICAgaWNvbkNsYXNzVmFsdWUgPSAnbm90LWFwcHJvdmVkJztcclxuICAgICAgICAgICAgICAgIGJ1YmJsZUNsYXNzVmFsdWUgPSAnd2FybmluZyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLlN1c3BlbmRlZDpcclxuICAgICAgICAgICAgICAgIGljb25DbGFzc1ZhbHVlID0gJ2Vycm9yJztcclxuICAgICAgICAgICAgICAgIGJ1YmJsZUNsYXNzVmFsdWUgPSAnZXJyb3InO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpY29uQ2xhc3NWYWx1ZSA9ICd3YXJuaW5nJztcclxuICAgICAgICAgICAgICAgIGJ1YmJsZUNsYXNzVmFsdWUgPSAnd2FybmluZyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGNvbG9yIGNsYXNzIGZvciBxdWFsaXR5IGZlZWRiYWNrXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucXVhbGl0eUZlZWRiYWNrU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGljb25DbGFzc1ZhbHVlID0gJ3dhcm5pbmcnO1xyXG4gICAgICAgICAgICBidWJibGVDbGFzc1ZhbHVlID0gJ3dhcm5pbmcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzSWNvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gaWNvbkNsYXNzLnJlcGxhY2UoJ3swfScsIGljb25DbGFzc1ZhbHVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gYnViYmxlQ2xhc3MucmVwbGFjZSgnezB9JywgYnViYmxlQ2xhc3NWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBQZXJzb25hbEluZm9ybWF0aW9uO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9tYXJrZXJpbmZvcm1hdGlvbi9wZXJzb25hbGluZm9ybWF0aW9uLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFlQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1221:
/* no static exports found */
/* all exports used */
/*!*****************************************************************************!*\
  !*** ./src/components/worklist/markerinformation/supervisorinformation.tsx ***!
  \*****************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar stringHelper = __webpack_require__(/*! ../../../utility/generic/stringhelper */ 254);\r\nvar SendMessageLink = __webpack_require__(/*! ./sendmessagelink */ 590);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\n/**\r\n * React class for supervisor information.\r\n */\r\nvar SupervisorInformation = /** @class */ (function (_super) {\r\n    __extends(SupervisorInformation, _super);\r\n    /**\r\n     * constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function SupervisorInformation(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * Render method for supervisor information.\r\n     */\r\n    SupervisorInformation.prototype.render = function () {\r\n        if (this.props.isTeamManagementMode || this.props.supervisorName === '') {\r\n            return (React.createElement(\"div\", null));\r\n        }\r\n        var sendMessageLink = this.props.showMessageLink ?\r\n            (React.createElement(SendMessageLink, { onClick: this.props.showMessagePopup, id: 'sendMsg', key: 'sendMsg' })) : null;\r\n        return (React.createElement(\"div\", { id: 'supervisor_info_panel', className: 'supervisor-info relative clearfix padding-bottom-30' },\r\n            React.createElement(\"div\", { className: 'user-photo-holder user-medium-icon sprite-icon' },\r\n                React.createElement(\"span\", { className: classNames('online-status-bubble', { 'online': this.props.isSupervisorOnline }) })),\r\n            React.createElement(\"div\", { className: 'hierarchy-line' }),\r\n            React.createElement(\"div\", { className: 'user-details-holder' },\r\n                React.createElement(\"div\", { className: 'online-status small-text' }, this.getSupervisorOnlineStatusText()),\r\n                React.createElement(\"div\", { id: 'supervisor_name', className: 'user-name large-text' }, this.props.supervisorName),\r\n                React.createElement(\"div\", { id: 'supervisor_designation', className: 'designation small-text' }, localeStore.instance.TranslateText('marking.worklist.left-panel.my-supervisor')),\r\n                sendMessageLink)));\r\n    };\r\n    /**\r\n     * This method will return the localised text for supervisor online status.\r\n     */\r\n    SupervisorInformation.prototype.getSupervisorOnlineStatusText = function () {\r\n        var offlineHours = Math.floor(this.props.supervisorLogoutDiffInMinutes / 60);\r\n        var offlineDays = 0;\r\n        if (this.props.isSupervisorOnline) {\r\n            return localeStore.instance.TranslateText('marking.worklist.left-panel.supervisor-online');\r\n        }\r\n        else {\r\n            if (this.props.supervisorLogoutDiffInMinutes === -1) {\r\n                return localeStore.instance.TranslateText('marking.worklist.left-panel.supervisor-offline');\r\n            }\r\n            else if (offlineHours === 0) {\r\n                return localeStore.instance.TranslateText('marking.worklist.left-panel.supervisor-offline-less-than-1-hour');\r\n            }\r\n            else if (offlineHours === 1) {\r\n                return stringHelper.format(localeStore.instance.TranslateText('marking.worklist.left-panel.supervisor-offline-hour'), [String(offlineHours)]);\r\n            }\r\n            else if (offlineHours > 1 && offlineHours < 24) {\r\n                return stringHelper.format(localeStore.instance.TranslateText('marking.worklist.left-panel.supervisor-offline-hours'), [String(offlineHours)]);\r\n            }\r\n            else if (offlineHours < 48) {\r\n                offlineDays = Math.floor(offlineHours / 24);\r\n                return stringHelper.format(localeStore.instance.TranslateText('marking.worklist.left-panel.supervisor-offline-day'), [String(offlineDays)]);\r\n            }\r\n            else if (offlineHours >= 48) {\r\n                offlineDays = Math.floor(offlineHours / 24);\r\n                return stringHelper.format(localeStore.instance.TranslateText('marking.worklist.left-panel.supervisor-offline-days'), [String(offlineDays)]);\r\n            }\r\n        }\r\n    };\r\n    return SupervisorInformation;\r\n}(pureRenderComponent));\r\nmodule.exports = SupervisorInformation;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtlcmluZm9ybWF0aW9uL3N1cGVydmlzb3JpbmZvcm1hdGlvbi50c3g/MTJiNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgc3RyaW5nSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL3N0cmluZ2hlbHBlcicpO1xyXG5pbXBvcnQgU2VuZE1lc3NhZ2VMaW5rID0gcmVxdWlyZSgnLi9zZW5kbWVzc2FnZWxpbmsnKTtcclxubGV0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBhIGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSB7XHJcbiAgICBzdXBlcnZpc29yTmFtZTogc3RyaW5nO1xyXG4gICAgaXNTdXBlcnZpc29yT25saW5lOiBib29sZWFuO1xyXG4gICAgc3VwZXJ2aXNvckxvZ291dERpZmZJbk1pbnV0ZXM6IG51bWJlcjtcclxuICAgIHNob3dNZXNzYWdlUG9wdXA6IEZ1bmN0aW9uO1xyXG4gICAgaXNUZWFtTWFuYWdlbWVudE1vZGU6IGJvb2xlYW47XHJcbiAgICBzaG93TWVzc2FnZUxpbms6IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjbGFzcyBmb3Igc3VwZXJ2aXNvciBpbmZvcm1hdGlvbi5cclxuICovXHJcbmNsYXNzIFN1cGVydmlzb3JJbmZvcm1hdGlvbiBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgbWV0aG9kIGZvciBzdXBlcnZpc29yIGluZm9ybWF0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlIHx8IHRoaXMucHJvcHMuc3VwZXJ2aXNvck5hbWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPGRpdj48L2Rpdj4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc2VuZE1lc3NhZ2VMaW5rID0gdGhpcy5wcm9wcy5zaG93TWVzc2FnZUxpbmsgP1xyXG4gICAgICAgICAgICAoPFNlbmRNZXNzYWdlTGluayBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dNZXNzYWdlUG9wdXB9IGlkPSdzZW5kTXNnJyBrZXk9J3NlbmRNc2cnIC8+KSA6IG51bGw7XHJcbiAgICAgICAgcmV0dXJuICg8ZGl2IGlkPSdzdXBlcnZpc29yX2luZm9fcGFuZWwnIGNsYXNzTmFtZT0nc3VwZXJ2aXNvci1pbmZvIHJlbGF0aXZlIGNsZWFyZml4IHBhZGRpbmctYm90dG9tLTMwJz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3VzZXItcGhvdG8taG9sZGVyIHVzZXItbWVkaXVtLWljb24gc3ByaXRlLWljb24nPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdvbmxpbmUtc3RhdHVzLWJ1YmJsZScsIHsgJ29ubGluZSc6IHRoaXMucHJvcHMuaXNTdXBlcnZpc29yT25saW5lIH0pfSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2hpZXJhcmNoeS1saW5lJyAvPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndXNlci1kZXRhaWxzLWhvbGRlcic+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nb25saW5lLXN0YXR1cyBzbWFsbC10ZXh0Jz57dGhpcy5nZXRTdXBlcnZpc29yT25saW5lU3RhdHVzVGV4dCgpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD0nc3VwZXJ2aXNvcl9uYW1lJyBjbGFzc05hbWU9J3VzZXItbmFtZSBsYXJnZS10ZXh0Jz57dGhpcy5wcm9wcy5zdXBlcnZpc29yTmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9J3N1cGVydmlzb3JfZGVzaWduYXRpb24nIGNsYXNzTmFtZT0nZGVzaWduYXRpb24gc21hbGwtdGV4dCc+XHJcbiAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QubGVmdC1wYW5lbC5teS1zdXBlcnZpc29yJyl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHtzZW5kTWVzc2FnZUxpbmt9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2Pik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgbG9jYWxpc2VkIHRleHQgZm9yIHN1cGVydmlzb3Igb25saW5lIHN0YXR1cy5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRTdXBlcnZpc29yT25saW5lU3RhdHVzVGV4dCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBvZmZsaW5lSG91cnMgPSBNYXRoLmZsb29yKHRoaXMucHJvcHMuc3VwZXJ2aXNvckxvZ291dERpZmZJbk1pbnV0ZXMgLyA2MCk7XHJcbiAgICAgICAgbGV0IG9mZmxpbmVEYXlzOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzU3VwZXJ2aXNvck9ubGluZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5sZWZ0LXBhbmVsLnN1cGVydmlzb3Itb25saW5lJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnN1cGVydmlzb3JMb2dvdXREaWZmSW5NaW51dGVzID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QubGVmdC1wYW5lbC5zdXBlcnZpc29yLW9mZmxpbmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvZmZsaW5lSG91cnMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmxlZnQtcGFuZWwuc3VwZXJ2aXNvci1vZmZsaW5lLWxlc3MtdGhhbi0xLWhvdXInKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvZmZsaW5lSG91cnMgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdIZWxwZXIuZm9ybWF0KFxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QubGVmdC1wYW5lbC5zdXBlcnZpc29yLW9mZmxpbmUtaG91cicpLFxyXG4gICAgICAgICAgICAgICAgICAgIFtTdHJpbmcob2ZmbGluZUhvdXJzKV0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9mZmxpbmVIb3VycyA+IDEgJiYgb2ZmbGluZUhvdXJzIDwgMjQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdIZWxwZXIuZm9ybWF0KFxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QubGVmdC1wYW5lbC5zdXBlcnZpc29yLW9mZmxpbmUtaG91cnMnKSxcclxuICAgICAgICAgICAgICAgICAgICBbU3RyaW5nKG9mZmxpbmVIb3VycyldKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvZmZsaW5lSG91cnMgPCA0OCkge1xyXG4gICAgICAgICAgICAgICAgb2ZmbGluZURheXMgPSBNYXRoLmZsb29yKG9mZmxpbmVIb3VycyAvIDI0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdIZWxwZXIuZm9ybWF0KFxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QubGVmdC1wYW5lbC5zdXBlcnZpc29yLW9mZmxpbmUtZGF5JyksXHJcbiAgICAgICAgICAgICAgICAgICAgW1N0cmluZyhvZmZsaW5lRGF5cyldKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvZmZsaW5lSG91cnMgPj0gNDgpIHtcclxuICAgICAgICAgICAgICAgIG9mZmxpbmVEYXlzID0gTWF0aC5mbG9vcihvZmZsaW5lSG91cnMgLyAyNCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nSGVscGVyLmZvcm1hdChcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmxlZnQtcGFuZWwuc3VwZXJ2aXNvci1vZmZsaW5lLWRheXMnKSxcclxuICAgICAgICAgICAgICAgICAgICBbU3RyaW5nKG9mZmxpbmVEYXlzKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gU3VwZXJ2aXNvckluZm9ybWF0aW9uO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9tYXJrZXJpbmZvcm1hdGlvbi9zdXBlcnZpc29yaW5mb3JtYXRpb24udHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7O0FBRUE7QUFDQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1222:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/components/worklist/markingcheckindicator.tsx ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar markingCheckActionCreator = __webpack_require__(/*! ../../actions/markingcheck/markingcheckactioncreator */ 311);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar messageStore = __webpack_require__(/*! ../../stores/message/messagestore */ 240);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../actions/messaging/messagingactioncreator */ 268);\r\n/* tslint:disable:variable-name */\r\n/**\r\n * Marking Check Collapsible Component to show the status of the Marking Check Worklist access for an examiner\r\n * The notification bar will be available in all worklist and will be available when a PE,APE or an Auto Approved STL raise a\r\n * marking check to any of his subordinate examiners.\r\n * For STL alone he will be able to raise the marking check to the PE if the PE is his direct Paernt\r\n * @param props\r\n */\r\nvar MarkingCheckIndicator = function (props) {\r\n    // Return null if the marking check is not available or if the examiner is in team management mode\r\n    if (props.isMarkingCheckAvailable &&\r\n        !markerOperationModeFactory.operationMode.isTeamManagementMode &&\r\n        !props.isMarkCheckWorklist) {\r\n        return (React.createElement(\"div\", { className: 'message-bar', id: 'marking_check_message_bar' },\r\n            React.createElement(\"span\", { className: 'message-content', id: 'marking_check_messag_content' },\r\n                localeStore.instance.TranslateText('marking.worklist.perform-marking-check.perform-marking-check-body-1'),\r\n                React.createElement(\"a\", { className: 'white-link', id: 'marking_check_messag_link', href: 'javascript:void(0);', onClick: function () { showMarkingCheckReqWorklist(); } }, localeStore.instance.TranslateText('marking.worklist.perform-marking-check.perform-marking-check-link')),\r\n                localeStore.instance.TranslateText('marking.worklist.perform-marking-check.perform-marking-check-body-2'))));\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n    /**\r\n     * This will load the mark check requested examiners worklist\r\n     */\r\n    function showMarkingCheckReqWorklist() {\r\n        if (!messageStore.instance.isMessagePanelActive) {\r\n            markingCheckActionCreator.getMarkCheckExaminers(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n        }\r\n        else {\r\n            var messageNavigationArguments = {\r\n                responseId: null,\r\n                canNavigate: false,\r\n                navigateTo: enums.MessageNavigation.toMarkingCheckWorklist,\r\n                navigationConfirmed: false,\r\n                hasMessageContainsDirtyValue: undefined,\r\n                triggerPoint: enums.TriggerPoint.None\r\n            };\r\n            messagingActionCreator.canMessageNavigate(messageNavigationArguments);\r\n        }\r\n    }\r\n};\r\nmodule.exports = MarkingCheckIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtpbmdjaGVja2luZGljYXRvci50c3g/NjE1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudHN0b3JlJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XHJcbmltcG9ydCBtYXJraW5nQ2hlY2tBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9tYXJraW5nY2hlY2svbWFya2luZ2NoZWNrYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgdXNlckluZm9BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy91c2VyaW5mby91c2VyaW5mb2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgbWVzc2FnZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL21lc3NhZ2UvbWVzc2FnZXN0b3JlJyk7XHJcbmltcG9ydCBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9tZXNzYWdpbmcvbWVzc2FnaW5nYWN0aW9uY3JlYXRvcicpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby1lbXB0eS1pbnRlcmZhY2VzICovXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIE1hcmtpbmcgQ2hlY2sgSW5kaWNhdG9yXHJcbiAqL1xyXG5pbnRlcmZhY2UgTWFya2luZ0NoZWNrSW5kaWNhdG9yUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2UsIExvY2FsZVNlbGVjdGlvbkJhc2Uge1xyXG4gICAgaXNNYXJraW5nQ2hlY2tBdmFpbGFibGU6IGJvb2xlYW47XHJcbiAgICBpc01hcmtDaGVja1dvcmtsaXN0OiBib29sZWFuO1xyXG59XHJcblxyXG4vKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbi8qKlxyXG4gKiBNYXJraW5nIENoZWNrIENvbGxhcHNpYmxlIENvbXBvbmVudCB0byBzaG93IHRoZSBzdGF0dXMgb2YgdGhlIE1hcmtpbmcgQ2hlY2sgV29ya2xpc3QgYWNjZXNzIGZvciBhbiBleGFtaW5lclxyXG4gKiBUaGUgbm90aWZpY2F0aW9uIGJhciB3aWxsIGJlIGF2YWlsYWJsZSBpbiBhbGwgd29ya2xpc3QgYW5kIHdpbGwgYmUgYXZhaWxhYmxlIHdoZW4gYSBQRSxBUEUgb3IgYW4gQXV0byBBcHByb3ZlZCBTVEwgcmFpc2UgYVxyXG4gKiBtYXJraW5nIGNoZWNrIHRvIGFueSBvZiBoaXMgc3Vib3JkaW5hdGUgZXhhbWluZXJzLlxyXG4gKiBGb3IgU1RMIGFsb25lIGhlIHdpbGwgYmUgYWJsZSB0byByYWlzZSB0aGUgbWFya2luZyBjaGVjayB0byB0aGUgUEUgaWYgdGhlIFBFIGlzIGhpcyBkaXJlY3QgUGFlcm50XHJcbiAqIEBwYXJhbSBwcm9wc1xyXG4gKi9cclxuY29uc3QgTWFya2luZ0NoZWNrSW5kaWNhdG9yOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8TWFya2luZ0NoZWNrSW5kaWNhdG9yUHJvcHM+ID0gKHByb3BzOiBNYXJraW5nQ2hlY2tJbmRpY2F0b3JQcm9wcykgPT4ge1xyXG4gICAgLy8gUmV0dXJuIG51bGwgaWYgdGhlIG1hcmtpbmcgY2hlY2sgaXMgbm90IGF2YWlsYWJsZSBvciBpZiB0aGUgZXhhbWluZXIgaXMgaW4gdGVhbSBtYW5hZ2VtZW50IG1vZGVcclxuICAgIGlmIChwcm9wcy5pc01hcmtpbmdDaGVja0F2YWlsYWJsZSAmJlxyXG4gICAgICAgICFtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlICYmXHJcbiAgICAgICAgIXByb3BzLmlzTWFya0NoZWNrV29ya2xpc3QpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWVzc2FnZS1iYXInIGlkPSdtYXJraW5nX2NoZWNrX21lc3NhZ2VfYmFyJz5cclxuICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdtZXNzYWdlLWNvbnRlbnQnXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9J21hcmtpbmdfY2hlY2tfbWVzc2FnX2NvbnRlbnQnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5wZXJmb3JtLW1hcmtpbmctY2hlY2sucGVyZm9ybS1tYXJraW5nLWNoZWNrLWJvZHktMScpfVxyXG4gICAgICAgICAgICAgICAgICAgIDxhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nd2hpdGUtbGluaydcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J21hcmtpbmdfY2hlY2tfbWVzc2FnX2xpbmsnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgc2hvd01hcmtpbmdDaGVja1JlcVdvcmtsaXN0KCk7IH19Pntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucGVyZm9ybS1tYXJraW5nLWNoZWNrLnBlcmZvcm0tbWFya2luZy1jaGVjay1saW5rJyl9PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5wZXJmb3JtLW1hcmtpbmctY2hlY2sucGVyZm9ybS1tYXJraW5nLWNoZWNrLWJvZHktMicpfVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj4pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCBsb2FkIHRoZSBtYXJrIGNoZWNrIHJlcXVlc3RlZCBleGFtaW5lcnMgd29ya2xpc3RcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2hvd01hcmtpbmdDaGVja1JlcVdvcmtsaXN0KCkge1xyXG4gICAgICAgIGlmICghbWVzc2FnZVN0b3JlLmluc3RhbmNlLmlzTWVzc2FnZVBhbmVsQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIG1hcmtpbmdDaGVja0FjdGlvbkNyZWF0b3IuZ2V0TWFya0NoZWNrRXhhbWluZXJzKFxyXG4gICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50czogTWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHMgPSB7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZUlkOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgY2FuTmF2aWdhdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGVUbzogZW51bXMuTWVzc2FnZU5hdmlnYXRpb24udG9NYXJraW5nQ2hlY2tXb3JrbGlzdCxcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25Db25maXJtZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaGFzTWVzc2FnZUNvbnRhaW5zRGlydHlWYWx1ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlclBvaW50OiBlbnVtcy5UcmlnZ2VyUG9pbnQuTm9uZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLmNhbk1lc3NhZ2VOYXZpZ2F0ZShtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufTtcclxuXHJcbmV4cG9ydCA9IE1hcmtpbmdDaGVja0luZGljYXRvcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtpbmdjaGVja2luZGljYXRvci50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBVUE7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFNQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1223:
/* no static exports found */
/* all exports used */
/*!**********************************************************!*\
  !*** ./src/components/worklist/shared/allocateddate.tsx ***!
  \**********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n    React component for allocated date of a response\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar GenericDate = __webpack_require__(/*! ./genericdate */ 315);\r\n/**\r\n * React component class for allocated date of a response\r\n */\r\nvar AllocatedDate = /** @class */ (function (_super) {\r\n    __extends(AllocatedDate, _super);\r\n    /**\r\n     * Constructor for Allocated date\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function AllocatedDate(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.dateText = '';\r\n        _this.elementId = '';\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    AllocatedDate.prototype.render = function () {\r\n        return ((this.props.showAllocatedDate) ?\r\n            (React.createElement(\"div\", { style: this.props.width },\r\n                React.createElement(GenericDate, { dateValue: this.props.dateValue, id: 'dtalloc_' + this.props.id, key: 'dtalloc_' + this.props.id, className: 'dim-text txt-val small-text' }))) : null);\r\n    };\r\n    return AllocatedDate;\r\n}(pureRenderComponent));\r\nmodule.exports = AllocatedDate;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9hbGxvY2F0ZWRkYXRlLnRzeD8zY2I5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgICBSZWFjdCBjb21wb25lbnQgZm9yIGFsbG9jYXRlZCBkYXRlIG9mIGEgcmVzcG9uc2VcclxuKi9cclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBsb2NhbGVIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2xvY2FsZS9sb2NhbGVoZWxwZXInKTtcclxuaW1wb3J0IHN0cmluZ0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ2VuZXJpYy9zdHJpbmdoZWxwZXInKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgY29uc3RhbnQgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2NvbnN0YW50cycpO1xyXG5pbXBvcnQgR2VuZXJpY0RhdGUgPSByZXF1aXJlKCcuL2dlbmVyaWNkYXRlJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBsYXN0IHVwZGF0ZWQgZGF0ZS5cclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBkYXRlVmFsdWU/OiBEYXRlO1xyXG4gICAgZGF0ZVR5cGU6IGVudW1zLldvcmtMaXN0RGF0ZVR5cGU7XHJcbiAgICBzaG93QWxsb2NhdGVkRGF0ZTogYm9vbGVhbjtcclxuICAgIHdpZHRoPzogUmVhY3QuQ1NTUHJvcGVydGllcztcclxuICAgIHJlbmRlcmVkT24/OiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIGFsbG9jYXRlZCBkYXRlIG9mIGEgcmVzcG9uc2VcclxuICovXHJcbmNsYXNzIEFsbG9jYXRlZERhdGUgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuXHJcbiAgICBwcml2YXRlIGRhdGVUZXh0OiBzdHJpbmcgPSAnJztcclxuICAgIHByaXZhdGUgZWxlbWVudElkOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIGZvciBBbGxvY2F0ZWQgZGF0ZVxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAodGhpcy5wcm9wcy5zaG93QWxsb2NhdGVkRGF0ZSkgP1xyXG4gICAgICAgICAgICAgICAgKDxkaXYgc3R5bGU9e3RoaXMucHJvcHMud2lkdGh9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxHZW5lcmljRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlVmFsdWU9e3RoaXMucHJvcHMuZGF0ZVZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17J2R0YWxsb2NfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2R0YWxsb2NfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17J2RpbS10ZXh0IHR4dC12YWwgc21hbGwtdGV4dCd9IC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj4pIDogbnVsbFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gQWxsb2NhdGVkRGF0ZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2FsbG9jYXRlZGRhdGUudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQWFBOztBQUVBO0FBQ0E7QUFBQTtBQUtBOzs7O0FBSUE7QUFDQTtBQUFBO0FBUkE7QUFDQTs7QUFTQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1224:
/* no static exports found */
/* all exports used */
/*!****************************************************************!*\
  !*** ./src/components/worklist/shared/allocateddatecolumn.tsx ***!
  \****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for login header\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar SLAOAnnotationIndicator = __webpack_require__(/*! ./slaoannotationindicator */ 371);\r\nvar AllPAgeAnnotationIndicator = __webpack_require__(/*! ./allpageannotationindicator */ 368);\r\nvar AllocatedDateComponent = __webpack_require__(/*! ./worklistdate */ 594);\r\nvar GracePeriodTime = __webpack_require__(/*! ./graceperiodtime */ 591);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\n/**\r\n * React component class for the grid column allocated date\r\n */\r\nvar AllocatedDateColumn = /** @class */ (function (_super) {\r\n    __extends(AllocatedDateColumn, _super);\r\n    /**\r\n     * Constructor for Allocated Date\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function AllocatedDateColumn(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    AllocatedDateColumn.prototype.render = function () {\r\n        var isMarkingCompleted = (this.props.markingProgress === 100) ? true : false;\r\n        var allocatedDate = this.props.showAllocatedDate ? (React.createElement(AllocatedDateComponent, { id: this.props.id, key: 'alcDate_' + this.props.id, selectedLanguage: this.props.selectedLanguage, dateType: enums.WorkListDateType.allocatedDate, dateValue: this.props.dateValue, renderedOn: this.props.renderedOn })) : null;\r\n        /**\r\n         * component to display the time to end of grace period - visible based on condition\r\n         */\r\n        var gracePeriodTime = this.props.showTimeToEndofGracePeriod ?\r\n            (React.createElement(GracePeriodTime, { id: this.props.id, key: 'graceDate_' + this.props.id, selectedLanguage: this.props.selectedLanguage, timeToEndOfGracePeriod: this.props.timeToEndOfGracePeriod, isTileView: this.props.isTileView })) : null;\r\n        return (React.createElement(\"div\", { className: classNames('col', { 'wl-grace-period': this.props.showTimeToEndofGracePeriod ? true : false }, { 'wl-allocated-date': this.props.showAllocatedDate ? true : false }) },\r\n            React.createElement(\"div\", { className: 'col-inner' },\r\n                React.createElement(SLAOAnnotationIndicator, { selectedLanguage: this.props.selectedLanguage, isResponseHasSLAO: this.props.isResponseHasSLAO, key: 'slao_' + this.props.id, id: this.props.id, isAllAnnotated: this.props.isAllAnnotated, isMarkingCompleted: isMarkingCompleted, isTileView: this.props.isTileView, markSchemeGroupId: this.props.markSchemeGroupId }),\r\n                React.createElement(AllPAgeAnnotationIndicator, { selectedLanguage: this.props.selectedLanguage, isAllAnnotated: this.props.isAllAnnotated, key: 'apa_' + this.props.id, id: this.props.id, isMarkingCompleted: isMarkingCompleted, isTileView: this.props.isTileView, markSchemeGroupId: this.props.markSchemeGroupId }),\r\n                allocatedDate,\r\n                gracePeriodTime)));\r\n    };\r\n    return AllocatedDateColumn;\r\n}(pureRenderComponent));\r\nmodule.exports = AllocatedDateColumn;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9hbGxvY2F0ZWRkYXRlY29sdW1uLnRzeD8xZjk5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgUmVhY3QgY29tcG9uZW50IGZvciBsb2dpbiBoZWFkZXJcclxuKi9cclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgU0xBT0Fubm90YXRpb25JbmRpY2F0b3IgPSByZXF1aXJlKCcuL3NsYW9hbm5vdGF0aW9uaW5kaWNhdG9yJyk7XHJcbmltcG9ydCBBbGxQQWdlQW5ub3RhdGlvbkluZGljYXRvciA9IHJlcXVpcmUoJy4vYWxscGFnZWFubm90YXRpb25pbmRpY2F0b3InKTtcclxuaW1wb3J0IEFsbG9jYXRlZERhdGVDb21wb25lbnQgPSByZXF1aXJlKCcuL3dvcmtsaXN0ZGF0ZScpO1xyXG5pbXBvcnQgR3JhY2VQZXJpb2RUaW1lID0gcmVxdWlyZSgnLi9ncmFjZXBlcmlvZHRpbWUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgYWxsb2NhdGVkIGRhdGUgZ3JpZCBjb2x1bW4gY29tcG9uZW50XHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgZGF0ZVZhbHVlPzogRGF0ZTtcclxuICAgIGlzUmVzcG9uc2VIYXNTTEFPOiBib29sZWFuO1xyXG4gICAgaXNBbGxBbm5vdGF0ZWQ/OiBib29sZWFuO1xyXG4gICAgbWFya2luZ1Byb2dyZXNzOiBudW1iZXI7XHJcbiAgICBzaG93QWxsb2NhdGVkRGF0ZTogYm9vbGVhbjtcclxuICAgIHNob3dUaW1lVG9FbmRvZkdyYWNlUGVyaW9kPzogYm9vbGVhbjtcclxuICAgIHRpbWVUb0VuZE9mR3JhY2VQZXJpb2Q/OiBudW1iZXI7XHJcbiAgICBpc1RpbGVWaWV3PzogYm9vbGVhbjtcclxuICAgIHJlbmRlcmVkT24/OiBudW1iZXI7XHJcbiAgICBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50IGNsYXNzIGZvciB0aGUgZ3JpZCBjb2x1bW4gYWxsb2NhdGVkIGRhdGVcclxuICovXHJcbmNsYXNzIEFsbG9jYXRlZERhdGVDb2x1bW4gZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIGZvciBBbGxvY2F0ZWQgRGF0ZVxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgaXNNYXJraW5nQ29tcGxldGVkOiBib29sZWFuID0gKHRoaXMucHJvcHMubWFya2luZ1Byb2dyZXNzID09PSAxMDApID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIGxldCBhbGxvY2F0ZWREYXRlOiBKU1guRWxlbWVudCA9IHRoaXMucHJvcHMuc2hvd0FsbG9jYXRlZERhdGUgPyAoPEFsbG9jYXRlZERhdGVDb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsnYWxjRGF0ZV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVUeXBlPXtlbnVtcy5Xb3JrTGlzdERhdGVUeXBlLmFsbG9jYXRlZERhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlVmFsdWU9e3RoaXMucHJvcHMuZGF0ZVZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRPbiA9IHt0aGlzLnByb3BzLnJlbmRlcmVkT259IC8+KSA6IG51bGw7XHJcbiAgICAgICAgLyoqIFxyXG4gICAgICAgICAqIGNvbXBvbmVudCB0byBkaXNwbGF5IHRoZSB0aW1lIHRvIGVuZCBvZiBncmFjZSBwZXJpb2QgLSB2aXNpYmxlIGJhc2VkIG9uIGNvbmRpdGlvblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGxldCBncmFjZVBlcmlvZFRpbWU6IEpTWC5FbGVtZW50ID0gdGhpcy5wcm9wcy5zaG93VGltZVRvRW5kb2ZHcmFjZVBlcmlvZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxHcmFjZVBlcmlvZFRpbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2dyYWNlRGF0ZV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lVG9FbmRPZkdyYWNlUGVyaW9kPXt0aGlzLnByb3BzLnRpbWVUb0VuZE9mR3JhY2VQZXJpb2R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVGlsZVZpZXc9e3RoaXMucHJvcHMuaXNUaWxlVmlld30vPikgOiBudWxsO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnY29sJywgeyAnd2wtZ3JhY2UtcGVyaW9kJzogdGhpcy5wcm9wcy5zaG93VGltZVRvRW5kb2ZHcmFjZVBlcmlvZCA/IHRydWUgOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAnd2wtYWxsb2NhdGVkLWRhdGUnOiB0aGlzLnByb3BzLnNob3dBbGxvY2F0ZWREYXRlID8gdHJ1ZSA6IGZhbHNlIH0pIH0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtaW5uZXInPlxyXG4gICAgICAgICAgICAgICAgICAgIDxTTEFPQW5ub3RhdGlvbkluZGljYXRvciBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVzcG9uc2VIYXNTTEFPPXt0aGlzLnByb3BzLmlzUmVzcG9uc2VIYXNTTEFPfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9eydzbGFvXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBbGxBbm5vdGF0ZWQ9e3RoaXMucHJvcHMuaXNBbGxBbm5vdGF0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTWFya2luZ0NvbXBsZXRlZD17aXNNYXJraW5nQ29tcGxldGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1RpbGVWaWV3PXt0aGlzLnByb3BzLmlzVGlsZVZpZXd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkPXt0aGlzLnByb3BzLm1hcmtTY2hlbWVHcm91cElkfSAvPlxyXG4gICAgICAgICAgICAgICAgPEFsbFBBZ2VBbm5vdGF0aW9uSW5kaWNhdG9yIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICBpc0FsbEFubm90YXRlZD17dGhpcy5wcm9wcy5pc0FsbEFubm90YXRlZH1cclxuICAgICAgICAgICAgICAgICAgICBrZXk9eydhcGFfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nQ29tcGxldGVkPXtpc01hcmtpbmdDb21wbGV0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNUaWxlVmlldz17dGhpcy5wcm9wcy5pc1RpbGVWaWV3fVxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkPXt0aGlzLnByb3BzLm1hcmtTY2hlbWVHcm91cElkfS8+XHJcbiAgICAgICAgICAgICAgICAgICAge2FsbG9jYXRlZERhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAge2dyYWNlUGVyaW9kVGltZX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gQWxsb2NhdGVkRGF0ZUNvbHVtbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2FsbG9jYXRlZGRhdGVjb2x1bW4udHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpQkE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7O0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFHQTtBQUNBO0FBUUE7QUFPQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1225:
/* no static exports found */
/* all exports used */
/*!*******************************************************************!*\
  !*** ./src/components/worklist/shared/allocateresponsebutton.tsx ***!
  \*******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar responseActionCreator = __webpack_require__(/*! ../../../actions/response/responseactioncreator */ 257);\r\nvar responseStore = __webpack_require__(/*! ../../../stores/response/responsestore */ 235);\r\nvar busyIndicatorActionCreator = __webpack_require__(/*! ../../../actions/busyindicator/busyindicatoractioncreator */ 279);\r\nvar domManager = __webpack_require__(/*! ../../../utility/generic/domhelper */ 294);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar examinerStore = __webpack_require__(/*! ../../../stores/markerinformation/examinerstore */ 259);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar simulationModeHelper = __webpack_require__(/*! ../../../utility/simulation/simulationmodehelper */ 324);\r\nvar Promise = __webpack_require__(/*! es6-promise */ 41);\r\nvar qigSelectorActionCreator = __webpack_require__(/*! ../../../actions/qigselector/qigselectoractioncreator */ 253);\r\n/**\r\n * GetNewResponses class, Returns Button based on the isEnabled value\r\n */\r\nvar AllocateResponseButton = /** @class */ (function (_super) {\r\n    __extends(AllocateResponseButton, _super);\r\n    /**\r\n     * Constructor for Allocated response button\r\n     * @param props\r\n     */\r\n    function AllocateResponseButton(props) {\r\n        var _this = _super.call(this, props, null) || this;\r\n        _this._boundHandleOnClick = null;\r\n        /**\r\n         * Method which handles the click event of window\r\n         */\r\n        _this.handleOnClick = function (source) {\r\n            /** check if the clicked element is a child of the user details list item. if not close the open window */\r\n            if (source.target !== undefined &&\r\n                domManager.searchParentNode(source.target, function (el) {\r\n                    return el.id === 'getNewResponseButton_arrow';\r\n                }) == null) {\r\n                if (_this.state.isOpen !== undefined && _this.state.isOpen === true) {\r\n                    /** Close the dropdown list */\r\n                    _this.setState({\r\n                        isOpen: false\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Method which gets invoked once response allocation is completed\r\n         */\r\n        _this.onResponseAllocated = function (responseAllocationErrorCode) {\r\n            _this.setState({\r\n                isClicked: false\r\n            });\r\n        };\r\n        _this.state = {\r\n            isClicked: false,\r\n            isOpen: false,\r\n            isAllocating: false,\r\n            isClickedArrowButton: false\r\n        };\r\n        _this._boundHandleOnClick = _this.handleOnClick.bind(_this);\r\n        _this.onArrowButtonClick = _this.onArrowButtonClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    AllocateResponseButton.prototype.render = function () {\r\n        if (this.props.isEnabled && !this.state.isClicked && !this.state.isAllocating) {\r\n            // Added pooled remark and simulation condition since for both,\r\n            // allocation button's arrow need not be shown for allocating multiple responses\r\n            if (this.props.worklistType === enums.WorklistType.pooledRemark || this.props.worklistType === enums.WorklistType.simulation) {\r\n                return (React.createElement(\"button\", { id: this.props.id, className: 'primary rounded large download-rsp-btn split-btn', onClick: this.onGetNewResponseButtonClick.bind(this, false, false) },\r\n                    React.createElement(\"span\", { id: this.props.id + '_mainText', className: 'padding-left-5 text-middle' }, this.props.buttonMainText)));\r\n            }\r\n            else {\r\n                return (React.createElement(\"div\", { className: classNames('split-button-wrap dropdown-wrap', {\r\n                        ' open': this.state.isOpen && this.state.isClickedArrowButton,\r\n                        ' close': !this.state.isOpen && this.state.isClickedArrowButton,\r\n                        '': this.state.isClickedArrowButton\r\n                    }) },\r\n                    React.createElement(\"button\", { id: this.props.id, className: 'primary rounded large download-rsp-btn split-btn', onClick: this.onGetNewResponseButtonClick.bind(this, true, false) },\r\n                        React.createElement(\"span\", { id: this.props.id + '_mainText', className: 'padding-left-5 text-middle' }, this.props.buttonMainText)),\r\n                    React.createElement(\"button\", { id: this.props.id + '_arrow', className: 'primary rounded large split-btn split-btn-arrow menu-button', title: this.props.title, onClick: this.onArrowButtonClick },\r\n                        React.createElement(\"span\", { id: this.props.id + '_headerWithArrow', className: 'sprite-icon menu-arrow-m-white-icon text-middle' })),\r\n                    React.createElement(\"ul\", { className: 'menu' },\r\n                        React.createElement(\"li\", null,\r\n                            React.createElement(\"a\", { href: 'javascript:void(0)', id: this.props.id + '_single', onClick: this.onGetNewResponseButtonClick.bind(this, false, false) },\r\n                                this.props.buttonSingleResponseText,\r\n                                \" \")),\r\n                        React.createElement(\"li\", null,\r\n                            React.createElement(\"a\", { href: 'javascript:void(0)', id: this.props.id + '_concurrent', onClick: this.onGetNewResponseButtonClick.bind(this, true, false) },\r\n                                this.props.buttonUpToOpenResponseLimitText,\r\n                                \" \")),\r\n                        this.props.isWholeResponseButtonAvailable ?\r\n                            React.createElement(\"li\", null,\r\n                                React.createElement(\"a\", { href: 'javascript:void(0)', id: this.props.id + '_wholeresponse', onClick: this.onGetNewResponseButtonClick.bind(this, false, true) },\r\n                                    localeStore.instance.\r\n                                        TranslateText('marking.worklist.action-buttons.allocate-whole-response'),\r\n                                    \" \")) : null)));\r\n            }\r\n        }\r\n        else if (this.state.isAllocating) {\r\n            // Added pooled remark and simulation condition since for both,\r\n            // allocation button's arrow need not be shown for allocating multiple responses\r\n            if (this.props.worklistType === enums.WorklistType.pooledRemark || this.props.worklistType === enums.WorklistType.simulation) {\r\n                return (React.createElement(\"button\", { id: this.props.id, className: 'primary rounded large download-rsp-btn split-btn disabled', onClick: this.onGetNewResponseButtonClick.bind(this, false, false) },\r\n                    React.createElement(\"span\", { id: this.props.id + '_mainText', className: 'padding-left-5 text-middle' }, this.props.buttonMainText)));\r\n            }\r\n            else {\r\n                return (React.createElement(\"div\", { className: 'split-button-wrap dropdown-wrap' },\r\n                    React.createElement(\"button\", { id: this.props.id, className: 'primary rounded large download-rsp-btn split-btn disabled', title: this.props.title },\r\n                        React.createElement(\"span\", { id: this.props.id + '_mainText', className: 'padding-left-5 padding-right-10 text-middle' }, this.props.buttonMainText)),\r\n                    React.createElement(\"button\", { className: 'primary rounded large split-btn split-btn-arrow menu-button disabled' },\r\n                        React.createElement(\"span\", { className: 'sprite-icon menu-arrow-icon text-middle' })),\r\n                    React.createElement(\"ul\", { className: 'menu' },\r\n                        React.createElement(\"li\", null,\r\n                            React.createElement(\"a\", { href: 'javascript:void(0)', id: this.props.id + '_single' },\r\n                                this.props.buttonSingleResponseText,\r\n                                \" \")),\r\n                        React.createElement(\"li\", null,\r\n                            React.createElement(\"a\", { href: 'javascript:void(0)', id: this.props.id + '_concurrent' },\r\n                                this.props.buttonUpToOpenResponseLimitText,\r\n                                \" \")),\r\n                        this.props.isWholeResponseButtonAvailable ?\r\n                            React.createElement(\"li\", null,\r\n                                React.createElement(\"a\", { href: 'javascript:void(0)', id: this.props.id + '_wholeresponse' },\r\n                                    localeStore.instance.\r\n                                        TranslateText('marking.worklist.action-buttons.allocate-whole-response'),\r\n                                    \" \")) : null)));\r\n            }\r\n        }\r\n        else {\r\n            // Added pooled remark and simulation condition since for both,\r\n            // allocation button's arrow need not be shown for allocating multiple responses\r\n            if (this.props.worklistType === enums.WorklistType.pooledRemark || this.props.worklistType === enums.WorklistType.simulation) {\r\n                return (React.createElement(\"button\", { id: this.props.id, className: 'primary rounded large download-rsp-btn split-btn disabled', title: this.props.title },\r\n                    React.createElement(\"span\", { id: this.props.id + '_mainText', className: 'padding-left-5 text-middle' }, this.props.buttonMainText),\r\n                    React.createElement(\"span\", { id: this.props.id + '_subText', className: 'awaiting-feedback-msg text-middle small-text' }, this.props.buttonSubText)));\r\n            }\r\n            else {\r\n                return (React.createElement(\"div\", { className: 'split-button-wrap dropdown-wrap' },\r\n                    React.createElement(\"button\", { id: this.props.id, className: 'primary rounded large download-rsp-btn split-btn disabled', title: this.props.title },\r\n                        React.createElement(\"span\", { id: this.props.id + '_mainText', className: 'padding-left-5 text-middle' }, this.props.buttonMainText),\r\n                        React.createElement(\"span\", { id: this.props.id + '_subText', className: 'awaiting-feedback-msg text-middle small-text' }, this.props.buttonSubText)),\r\n                    React.createElement(\"button\", { className: 'primary rounded large split-btn split-btn-arrow menu-button disabled' },\r\n                        React.createElement(\"span\", { className: 'sprite-icon menu-arrow-icon text-middle' })),\r\n                    React.createElement(\"ul\", { className: 'menu' },\r\n                        React.createElement(\"li\", null,\r\n                            React.createElement(\"a\", { href: 'javascript:void(0)', id: this.props.id + '_single' },\r\n                                this.props.buttonSingleResponseText,\r\n                                \" \")),\r\n                        React.createElement(\"li\", null,\r\n                            React.createElement(\"a\", { href: 'javascript:void(0)', id: this.props.id + '_concurrent' },\r\n                                this.props.buttonUpToOpenResponseLimitText,\r\n                                \" \")),\r\n                        this.props.isWholeResponseButtonAvailable ?\r\n                            React.createElement(\"li\", null,\r\n                                React.createElement(\"a\", { href: 'javascript:void(0)', id: this.props.id + '_wholeresponse' },\r\n                                    localeStore.instance.\r\n                                        TranslateText('marking.worklist.action-buttons.allocate-whole-response'),\r\n                                    \" \")) : null)));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * When component mounts\r\n     */\r\n    AllocateResponseButton.prototype.componentDidMount = function () {\r\n        window.addEventListener('touchend', this._boundHandleOnClick);\r\n        window.addEventListener('click', this._boundHandleOnClick);\r\n        responseStore.instance.addListener(responseStore.ResponseStore.RESPONSE_ALLOCATED_EVENT, this.onResponseAllocated);\r\n    };\r\n    /**\r\n     * When component unmounts\r\n     */\r\n    AllocateResponseButton.prototype.componentWillUnmount = function () {\r\n        responseStore.instance.removeListener(responseStore.ResponseStore.RESPONSE_ALLOCATED_EVENT, this.onResponseAllocated);\r\n        window.removeEventListener('click', this._boundHandleOnClick);\r\n        window.removeEventListener('touchend', this._boundHandleOnClick);\r\n    };\r\n    /**\r\n     * Method which handles the click event of Get New Response button\r\n     */\r\n    AllocateResponseButton.prototype.onGetNewResponseButtonClick = function (isConcurrentDownload, isWholeResponseDownload) {\r\n        this.setState({\r\n            isClicked: true,\r\n            isAllocating: true\r\n        });\r\n        // Check for standardisation setup completion.\r\n        var that = this;\r\n        if (simulationModeHelper.shouldCheckForStandardisationSetupCompletion()) {\r\n            var promise = qigSelectorActionCreator.checkStandardisationSetupCompleted(qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId, enums.PageContainers.WorkList, enums.PageContainers.WorkList);\r\n            Promise.Promise.all([promise]).then(function (data) {\r\n                if (data[0] === false) {\r\n                    that.continueOnGetNewResponseButtonClick(isConcurrentDownload, isWholeResponseDownload);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            that.continueOnGetNewResponseButtonClick(isConcurrentDownload, isWholeResponseDownload);\r\n        }\r\n    };\r\n    /**\r\n     * Method which handles the click event of Get New Response button\r\n     */\r\n    AllocateResponseButton.prototype.continueOnGetNewResponseButtonClick = function (isConcurrentDownload, isWholeResponseDownload) {\r\n        var isCandidatePrioritisationCCON = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.CandidatePrioritisation).toLowerCase() === 'true' ? true : false;\r\n        var isQualityRemarkCCON = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.QualityRemark, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId).toLowerCase()\r\n            === 'true' ? true : false;\r\n        responseActionCreator.allocateResponse(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, this.props.worklistType, isConcurrentDownload, qigStore.instance.selectedQIGForMarkerOperation.examSessionId, qigStore.instance.selectedQIGForMarkerOperation.role === enums.ExaminerRole.principalExaminer, qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember, examinerStore.instance.getMarkerInformation.examinerId, isCandidatePrioritisationCCON, isQualityRemarkCCON, worklistStore.instance.getRemarkRequestType, isWholeResponseDownload, qigStore.instance.isAggregatedQigCCEnabledForCurrentQig);\r\n        // Invoking onBusy method\r\n        busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.responseAllocation);\r\n    };\r\n    /**\r\n     * Method which handles the click event of Arrow Button\r\n     */\r\n    AllocateResponseButton.prototype.onArrowButtonClick = function () {\r\n        this.setState({\r\n            isOpen: !this.state.isOpen,\r\n            isClickedArrowButton: true\r\n        });\r\n    };\r\n    return AllocateResponseButton;\r\n}(pureRenderComponent));\r\nmodule.exports = AllocateResponseButton;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9hbGxvY2F0ZXJlc3BvbnNlYnV0dG9uLnRzeD9mMmQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCByZXNwb25zZUFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL3Jlc3BvbnNlL3Jlc3BvbnNlYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgcmVzcG9uc2VTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9yZXNwb25zZS9yZXNwb25zZXN0b3JlJyk7XHJcbmltcG9ydCBidXN5SW5kaWNhdG9yQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvYnVzeWluZGljYXRvci9idXN5aW5kaWNhdG9yYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgZG9tTWFuYWdlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ2VuZXJpYy9kb21oZWxwZXInKTtcclxubGV0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCBleGFtaW5lclN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL21hcmtlcmluZm9ybWF0aW9uL2V4YW1pbmVyc3RvcmUnKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgc2ltdWxhdGlvbk1vZGVIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L3NpbXVsYXRpb24vc2ltdWxhdGlvbm1vZGVoZWxwZXInKTtcclxuaW1wb3J0IFByb21pc2UgPSByZXF1aXJlKCdlczYtcHJvbWlzZScpO1xyXG5pbXBvcnQgcWlnU2VsZWN0b3JBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9xaWdzZWxlY3Rvci9xaWdzZWxlY3RvcmFjdGlvbmNyZWF0b3InKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wc1xyXG4gKiBAcGFyYW0ge1Byb3BzfSBwcm9wc1xyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGlzRW5hYmxlZDogYm9vbGVhbjtcclxuICAgIHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlO1xyXG4gICAgYnV0dG9uTWFpblRleHQ6IHN0cmluZztcclxuICAgIGJ1dHRvblN1YlRleHQ6IHN0cmluZztcclxuICAgIHRpdGxlOiBzdHJpbmc7XHJcbiAgICBidXR0b25TaW5nbGVSZXNwb25zZVRleHQ6IHN0cmluZztcclxuICAgIGJ1dHRvblVwVG9PcGVuUmVzcG9uc2VMaW1pdFRleHQ6IHN0cmluZztcclxuICAgIGlzV2hvbGVSZXNwb25zZUJ1dHRvbkF2YWlsYWJsZTogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlIHtcclxuICAgIGlzQ2xpY2tlZD86IGJvb2xlYW47XHJcbiAgICBpc09wZW4/OiBib29sZWFuO1xyXG4gICAgaXNBbGxvY2F0aW5nPzogYm9vbGVhbjtcclxuICAgIGlzQ2xpY2tlZEFycm93QnV0dG9uPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldE5ld1Jlc3BvbnNlcyBjbGFzcywgUmV0dXJucyBCdXR0b24gYmFzZWQgb24gdGhlIGlzRW5hYmxlZCB2YWx1ZVxyXG4gKi9cclxuY2xhc3MgQWxsb2NhdGVSZXNwb25zZUJ1dHRvbiBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XHJcblxyXG4gICAgcHJpdmF0ZSBfYm91bmRIYW5kbGVPbkNsaWNrOiBFdmVudExpc3RlbmVyT2JqZWN0ID0gbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIGZvciBBbGxvY2F0ZWQgcmVzcG9uc2UgYnV0dG9uXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIG51bGwpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpc0NsaWNrZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc09wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBpc0FsbG9jYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc0NsaWNrZWRBcnJvd0J1dHRvbjogZmFsc2VcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLl9ib3VuZEhhbmRsZU9uQ2xpY2sgPSB0aGlzLmhhbmRsZU9uQ2xpY2suYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uQXJyb3dCdXR0b25DbGljayA9IHRoaXMub25BcnJvd0J1dHRvbkNsaWNrLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzRW5hYmxlZCAmJiAhdGhpcy5zdGF0ZS5pc0NsaWNrZWQgJiYgIXRoaXMuc3RhdGUuaXNBbGxvY2F0aW5nKSB7XHJcbiAgICAgICAgICAgIC8vIEFkZGVkIHBvb2xlZCByZW1hcmsgYW5kIHNpbXVsYXRpb24gY29uZGl0aW9uIHNpbmNlIGZvciBib3RoLFxyXG4gICAgICAgICAgICAvLyBhbGxvY2F0aW9uIGJ1dHRvbidzIGFycm93IG5lZWQgbm90IGJlIHNob3duIGZvciBhbGxvY2F0aW5nIG11bHRpcGxlIHJlc3BvbnNlc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5wb29sZWRSZW1hcmsgfHwgdGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5zaW11bGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9e3RoaXMucHJvcHMuaWR9IGNsYXNzTmFtZT0ncHJpbWFyeSByb3VuZGVkIGxhcmdlIGRvd25sb2FkLXJzcC1idG4gc3BsaXQtYnRuJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uR2V0TmV3UmVzcG9uc2VCdXR0b25DbGljay5iaW5kKHRoaXMsIGZhbHNlLCBmYWxzZSkgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPXt0aGlzLnByb3BzLmlkICsgJ19tYWluVGV4dCd9IGNsYXNzTmFtZT0ncGFkZGluZy1sZWZ0LTUgdGV4dC1taWRkbGUnPnsgdGhpcy5wcm9wcy5idXR0b25NYWluVGV4dCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsgY2xhc3NOYW1lcygnc3BsaXQtYnV0dG9uLXdyYXAgZHJvcGRvd24td3JhcCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgb3Blbic6IHRoaXMuc3RhdGUuaXNPcGVuICYmIHRoaXMuc3RhdGUuaXNDbGlja2VkQXJyb3dCdXR0b24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGNsb3NlJzogIXRoaXMuc3RhdGUuaXNPcGVuICYmIHRoaXMuc3RhdGUuaXNDbGlja2VkQXJyb3dCdXR0b24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJzogdGhpcy5zdGF0ZS5pc0NsaWNrZWRBcnJvd0J1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPXt0aGlzLnByb3BzLmlkfSBjbGFzc05hbWU9J3ByaW1hcnkgcm91bmRlZCBsYXJnZSBkb3dubG9hZC1yc3AtYnRuIHNwbGl0LWJ0bidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25HZXROZXdSZXNwb25zZUJ1dHRvbkNsaWNrLmJpbmQodGhpcywgdHJ1ZSwgZmFsc2UpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD17dGhpcy5wcm9wcy5pZCArICdfbWFpblRleHQnfSBjbGFzc05hbWU9J3BhZGRpbmctbGVmdC01IHRleHQtbWlkZGxlJz57IHRoaXMucHJvcHMuYnV0dG9uTWFpblRleHQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD17dGhpcy5wcm9wcy5pZCArICdfYXJyb3cnfSBjbGFzc05hbWU9J3ByaW1hcnkgcm91bmRlZCBsYXJnZSBzcGxpdC1idG4gc3BsaXQtYnRuLWFycm93IG1lbnUtYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9IG9uQ2xpY2s9e3RoaXMub25BcnJvd0J1dHRvbkNsaWNrfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0ge3RoaXMucHJvcHMuaWQgKyAnX2hlYWRlcldpdGhBcnJvdyd9IGNsYXNzTmFtZT0nc3ByaXRlLWljb24gbWVudS1hcnJvdy1tLXdoaXRlLWljb24gdGV4dC1taWRkbGUnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT0nbWVudSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApJyBpZD17dGhpcy5wcm9wcy5pZCArICdfc2luZ2xlJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uR2V0TmV3UmVzcG9uc2VCdXR0b25DbGljay5iaW5kKHRoaXMsIGZhbHNlLCBmYWxzZSkgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuYnV0dG9uU2luZ2xlUmVzcG9uc2VUZXh0fSA8L2E+PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIGlkPXt0aGlzLnByb3BzLmlkICsgJ19jb25jdXJyZW50J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uR2V0TmV3UmVzcG9uc2VCdXR0b25DbGljay5iaW5kKHRoaXMsIHRydWUsIGZhbHNlKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5idXR0b25VcFRvT3BlblJlc3BvbnNlTGltaXRUZXh0fSA8L2E+PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmlzV2hvbGVSZXNwb25zZUJ1dHRvbkF2YWlsYWJsZSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKScgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX3dob2xlcmVzcG9uc2UnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uR2V0TmV3UmVzcG9uc2VCdXR0b25DbGljay5iaW5kKHRoaXMsIGZhbHNlLCB0cnVlKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmFjdGlvbi1idXR0b25zLmFsbG9jYXRlLXdob2xlLXJlc3BvbnNlJykgfSA8L2E+PC9saT4gOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0FsbG9jYXRpbmcpIHtcclxuICAgICAgICAgICAgLy8gQWRkZWQgcG9vbGVkIHJlbWFyayBhbmQgc2ltdWxhdGlvbiBjb25kaXRpb24gc2luY2UgZm9yIGJvdGgsXHJcbiAgICAgICAgICAgIC8vIGFsbG9jYXRpb24gYnV0dG9uJ3MgYXJyb3cgbmVlZCBub3QgYmUgc2hvd24gZm9yIGFsbG9jYXRpbmcgbXVsdGlwbGUgcmVzcG9uc2VzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLndvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnBvb2xlZFJlbWFyayB8fCB0aGlzLnByb3BzLndvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnNpbXVsYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD17dGhpcy5wcm9wcy5pZH0gY2xhc3NOYW1lPSdwcmltYXJ5IHJvdW5kZWQgbGFyZ2UgZG93bmxvYWQtcnNwLWJ0biBzcGxpdC1idG4gZGlzYWJsZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25HZXROZXdSZXNwb25zZUJ1dHRvbkNsaWNrLmJpbmQodGhpcywgZmFsc2UsIGZhbHNlKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD17dGhpcy5wcm9wcy5pZCArICdfbWFpblRleHQnfSBjbGFzc05hbWU9J3BhZGRpbmctbGVmdC01IHRleHQtbWlkZGxlJz57IHRoaXMucHJvcHMuYnV0dG9uTWFpblRleHQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BsaXQtYnV0dG9uLXdyYXAgZHJvcGRvd24td3JhcCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9e3RoaXMucHJvcHMuaWR9IGNsYXNzTmFtZT0ncHJpbWFyeSByb3VuZGVkIGxhcmdlIGRvd25sb2FkLXJzcC1idG4gc3BsaXQtYnRuIGRpc2FibGVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9e3RoaXMucHJvcHMuaWQgKyAnX21haW5UZXh0J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3BhZGRpbmctbGVmdC01IHBhZGRpbmctcmlnaHQtMTAgdGV4dC1taWRkbGUnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5idXR0b25NYWluVGV4dCB9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J3ByaW1hcnkgcm91bmRlZCBsYXJnZSBzcGxpdC1idG4gc3BsaXQtYnRuLWFycm93IG1lbnUtYnV0dG9uIGRpc2FibGVkJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3ByaXRlLWljb24gbWVudS1hcnJvdy1pY29uIHRleHQtbWlkZGxlJz48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPSdtZW51Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIGlkPXt0aGlzLnByb3BzLmlkICsgJ19zaW5nbGUnfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmJ1dHRvblNpbmdsZVJlc3BvbnNlVGV4dH0gPC9hPjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApJyBpZD17dGhpcy5wcm9wcy5pZCArICdfY29uY3VycmVudCd9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuYnV0dG9uVXBUb09wZW5SZXNwb25zZUxpbWl0VGV4dH0gPC9hPjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pc1dob2xlUmVzcG9uc2VCdXR0b25BdmFpbGFibGUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIGlkPXt0aGlzLnByb3BzLmlkICsgJ193aG9sZXJlc3BvbnNlJ30gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmFjdGlvbi1idXR0b25zLmFsbG9jYXRlLXdob2xlLXJlc3BvbnNlJykgfSA8L2E+PC9saT4gOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2ID5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBBZGRlZCBwb29sZWQgcmVtYXJrIGFuZCBzaW11bGF0aW9uIGNvbmRpdGlvbiBzaW5jZSBmb3IgYm90aCxcclxuICAgICAgICAgICAgLy8gYWxsb2NhdGlvbiBidXR0b24ncyBhcnJvdyBuZWVkIG5vdCBiZSBzaG93biBmb3IgYWxsb2NhdGluZyBtdWx0aXBsZSByZXNwb25zZXNcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMud29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUucG9vbGVkUmVtYXJrIHx8IHRoaXMucHJvcHMud29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuc2ltdWxhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPXt0aGlzLnByb3BzLmlkfSBjbGFzc05hbWU9J3ByaW1hcnkgcm91bmRlZCBsYXJnZSBkb3dubG9hZC1yc3AtYnRuIHNwbGl0LWJ0biBkaXNhYmxlZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD17dGhpcy5wcm9wcy5pZCArICdfbWFpblRleHQnfSBjbGFzc05hbWU9J3BhZGRpbmctbGVmdC01IHRleHQtbWlkZGxlJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5wcm9wcy5idXR0b25NYWluVGV4dCB9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD17dGhpcy5wcm9wcy5pZCArICdfc3ViVGV4dCd9IGNsYXNzTmFtZT0nYXdhaXRpbmctZmVlZGJhY2stbXNnIHRleHQtbWlkZGxlIHNtYWxsLXRleHQnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmJ1dHRvblN1YlRleHQgfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGxpdC1idXR0b24td3JhcCBkcm9wZG93bi13cmFwJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD17dGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ncHJpbWFyeSByb3VuZGVkIGxhcmdlIGRvd25sb2FkLXJzcC1idG4gc3BsaXQtYnRuIGRpc2FibGVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9e3RoaXMucHJvcHMuaWQgKyAnX21haW5UZXh0J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3BhZGRpbmctbGVmdC01IHRleHQtbWlkZGxlJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuYnV0dG9uTWFpblRleHQgfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPXt0aGlzLnByb3BzLmlkICsgJ19zdWJUZXh0J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2F3YWl0aW5nLWZlZWRiYWNrLW1zZyB0ZXh0LW1pZGRsZSBzbWFsbC10ZXh0Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuYnV0dG9uU3ViVGV4dCB9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J3ByaW1hcnkgcm91bmRlZCBsYXJnZSBzcGxpdC1idG4gc3BsaXQtYnRuLWFycm93IG1lbnUtYnV0dG9uIGRpc2FibGVkJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3ByaXRlLWljb24gbWVudS1hcnJvdy1pY29uIHRleHQtbWlkZGxlJz48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPSdtZW51Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIGlkPXt0aGlzLnByb3BzLmlkICsgJ19zaW5nbGUnfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnByb3BzLmJ1dHRvblNpbmdsZVJlc3BvbnNlVGV4dH0gPC9hPjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApJyBpZD17dGhpcy5wcm9wcy5pZCArICdfY29uY3VycmVudCd9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucHJvcHMuYnV0dG9uVXBUb09wZW5SZXNwb25zZUxpbWl0VGV4dH0gPC9hPjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pc1dob2xlUmVzcG9uc2VCdXR0b25BdmFpbGFibGUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIGlkPXt0aGlzLnByb3BzLmlkICsgJ193aG9sZXJlc3BvbnNlJ30gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmFjdGlvbi1idXR0b25zLmFsbG9jYXRlLXdob2xlLXJlc3BvbnNlJykgfSA8L2E+PC9saT4gOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZW4gY29tcG9uZW50IG1vdW50c1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5fYm91bmRIYW5kbGVPbkNsaWNrKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9ib3VuZEhhbmRsZU9uQ2xpY2spO1xyXG4gICAgICAgIHJlc3BvbnNlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIocmVzcG9uc2VTdG9yZS5SZXNwb25zZVN0b3JlLlJFU1BPTlNFX0FMTE9DQVRFRF9FVkVOVCwgdGhpcy5vblJlc3BvbnNlQWxsb2NhdGVkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZW4gY29tcG9uZW50IHVubW91bnRzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICByZXNwb25zZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHJlc3BvbnNlU3RvcmUuUmVzcG9uc2VTdG9yZS5SRVNQT05TRV9BTExPQ0FURURfRVZFTlQsIHRoaXMub25SZXNwb25zZUFsbG9jYXRlZCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fYm91bmRIYW5kbGVPbkNsaWNrKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9ib3VuZEhhbmRsZU9uQ2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHdoaWNoIGhhbmRsZXMgdGhlIGNsaWNrIGV2ZW50IG9mIEdldCBOZXcgUmVzcG9uc2UgYnV0dG9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25HZXROZXdSZXNwb25zZUJ1dHRvbkNsaWNrKGlzQ29uY3VycmVudERvd25sb2FkOiBib29sZWFuLCBpc1dob2xlUmVzcG9uc2VEb3dubG9hZDogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0NsaWNrZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGlzQWxsb2NhdGluZzogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIENoZWNrIGZvciBzdGFuZGFyZGlzYXRpb24gc2V0dXAgY29tcGxldGlvbi5cclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHNpbXVsYXRpb25Nb2RlSGVscGVyLnNob3VsZENoZWNrRm9yU3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0aW9uKCkpIHtcclxuICAgICAgICAgICAgbGV0IHByb21pc2UgPSBxaWdTZWxlY3RvckFjdGlvbkNyZWF0b3IuY2hlY2tTdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlZChcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgZW51bXMuUGFnZUNvbnRhaW5lcnMuV29ya0xpc3QsXHJcbiAgICAgICAgICAgICAgICBlbnVtcy5QYWdlQ29udGFpbmVycy5Xb3JrTGlzdCk7XHJcbiAgICAgICAgICAgIFByb21pc2UuUHJvbWlzZS5hbGwoW3Byb21pc2VdKS50aGVuKGZ1bmN0aW9uIChkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhWzBdID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuY29udGludWVPbkdldE5ld1Jlc3BvbnNlQnV0dG9uQ2xpY2soaXNDb25jdXJyZW50RG93bmxvYWQsIGlzV2hvbGVSZXNwb25zZURvd25sb2FkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhhdC5jb250aW51ZU9uR2V0TmV3UmVzcG9uc2VCdXR0b25DbGljayhpc0NvbmN1cnJlbnREb3dubG9hZCwgaXNXaG9sZVJlc3BvbnNlRG93bmxvYWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB3aGljaCBoYW5kbGVzIHRoZSBjbGljayBldmVudCBvZiBHZXQgTmV3IFJlc3BvbnNlIGJ1dHRvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNvbnRpbnVlT25HZXROZXdSZXNwb25zZUJ1dHRvbkNsaWNrKGlzQ29uY3VycmVudERvd25sb2FkOiBib29sZWFuLCBpc1dob2xlUmVzcG9uc2VEb3dubG9hZDogYm9vbGVhbikge1xyXG4gICAgICAgIGxldCBpc0NhbmRpZGF0ZVByaW9yaXRpc2F0aW9uQ0NPTiA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcy5DYW5kaWRhdGVQcmlvcml0aXNhdGlvbikudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIGxldCBpc1F1YWxpdHlSZW1hcmtDQ09OID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlF1YWxpdHlSZW1hcmssXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgcmVzcG9uc2VBY3Rpb25DcmVhdG9yLmFsbG9jYXRlUmVzcG9uc2UocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLndvcmtsaXN0VHlwZSxcclxuICAgICAgICAgICAgaXNDb25jdXJyZW50RG93bmxvYWQsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1TZXNzaW9uSWQsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLnJvbGUgPT09IGVudW1zLkV4YW1pbmVyUm9sZS5wcmluY2lwYWxFeGFtaW5lcixcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlcixcclxuICAgICAgICAgICAgZXhhbWluZXJTdG9yZS5pbnN0YW5jZS5nZXRNYXJrZXJJbmZvcm1hdGlvbi5leGFtaW5lcklkLFxyXG4gICAgICAgICAgICBpc0NhbmRpZGF0ZVByaW9yaXRpc2F0aW9uQ0NPTixcclxuICAgICAgICAgICAgaXNRdWFsaXR5UmVtYXJrQ0NPTixcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZW1hcmtSZXF1ZXN0VHlwZSxcclxuICAgICAgICAgICAgaXNXaG9sZVJlc3BvbnNlRG93bmxvYWQsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmlzQWdncmVnYXRlZFFpZ0NDRW5hYmxlZEZvckN1cnJlbnRRaWcpO1xyXG4gICAgICAgIC8vIEludm9raW5nIG9uQnVzeSBtZXRob2RcclxuICAgICAgICBidXN5SW5kaWNhdG9yQWN0aW9uQ3JlYXRvci5zZXRCdXN5SW5kaWNhdG9ySW52b2tlcihlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5yZXNwb25zZUFsbG9jYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHdoaWNoIGhhbmRsZXMgdGhlIGNsaWNrIGV2ZW50IG9mIEFycm93IEJ1dHRvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQXJyb3dCdXR0b25DbGljaygpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNPcGVuOiAhdGhpcy5zdGF0ZS5pc09wZW4sXHJcbiAgICAgICAgICAgIGlzQ2xpY2tlZEFycm93QnV0dG9uOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2Qgd2hpY2ggaGFuZGxlcyB0aGUgY2xpY2sgZXZlbnQgb2Ygd2luZG93XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaGFuZGxlT25DbGljayA9IChzb3VyY2U6IGFueSk6IGFueSA9PiB7XHJcbiAgICAgICAgLyoqIGNoZWNrIGlmIHRoZSBjbGlja2VkIGVsZW1lbnQgaXMgYSBjaGlsZCBvZiB0aGUgdXNlciBkZXRhaWxzIGxpc3QgaXRlbS4gaWYgbm90IGNsb3NlIHRoZSBvcGVuIHdpbmRvdyAqL1xyXG4gICAgICAgIGlmIChzb3VyY2UudGFyZ2V0ICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgZG9tTWFuYWdlci5zZWFyY2hQYXJlbnROb2RlKHNvdXJjZS50YXJnZXQsIGZ1bmN0aW9uIChlbDogYW55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwuaWQgPT09ICdnZXROZXdSZXNwb25zZUJ1dHRvbl9hcnJvdyc7XHJcbiAgICAgICAgICAgIH0pID09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNPcGVuICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zdGF0ZS5pc09wZW4gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIC8qKiBDbG9zZSB0aGUgZHJvcGRvd24gbGlzdCAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNPcGVuOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHdoaWNoIGdldHMgaW52b2tlZCBvbmNlIHJlc3BvbnNlIGFsbG9jYXRpb24gaXMgY29tcGxldGVkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SZXNwb25zZUFsbG9jYXRlZCA9IChyZXNwb25zZUFsbG9jYXRpb25FcnJvckNvZGU6IGVudW1zLlJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZSk6IHZvaWQgPT4ge1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNDbGlja2VkOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgPSBBbGxvY2F0ZVJlc3BvbnNlQnV0dG9uO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvYWxsb2NhdGVyZXNwb25zZWJ1dHRvbi50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBd0JBOztBQUVBO0FBQ0E7QUFBQTtBQUlBOzs7QUFHQTtBQUNBO0FBQUE7QUFOQTtBQXVPQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUF4UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUdBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUlBO0FBQUE7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE2QkE7QUFBQTtBQUlBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1227:
/* no static exports found */
/* all exports used */
/*!*********************************************************************!*\
  !*** ./src/components/worklist/shared/linkedexceptionindicator.tsx ***!
  \*********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar localeHelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\nvar stringHelper = __webpack_require__(/*! ../../../utility/generic/stringhelper */ 254);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar markSchemeHelper = __webpack_require__(/*! ../../../utility/markscheme/markschemehelper */ 276);\r\nvar messageStore = __webpack_require__(/*! ../../../stores/message/messagestore */ 240);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../../actions/messaging/messagingactioncreator */ 268);\r\nvar responseHelper = __webpack_require__(/*! ../../utility/responsehelper/responsehelper */ 249);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../utility/ecoursework/ecourseworkhelper */ 238);\r\nvar applicationStore = __webpack_require__(/*! ../../../stores/applicationoffline/applicationstore */ 247);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar exceptionHelper = __webpack_require__(/*! ../../utility/exception/exceptionhelper */ 426);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\n/**\r\n * React component.\r\n * @param {Props} props\r\n * @returns\r\n */\r\nvar LinkedExceptionIndicator = /** @class */ (function (_super) {\r\n    __extends(LinkedExceptionIndicator, _super);\r\n    /**\r\n     * Constructor for linked exception indicator\r\n     * @param props\r\n     */\r\n    function LinkedExceptionIndicator(props) {\r\n        var _this = _super.call(this, props, null) || this;\r\n        /**\r\n         * Open response while clicking on linked exception icon\r\n         */\r\n        _this.onLinkedExceptionIconClick = function (event) {\r\n            if (!applicationStore.instance.isOnline) {\r\n                applicationActionCreator.checkActionInterrupted();\r\n            }\r\n            else {\r\n                event.stopPropagation();\r\n                var displayId = _this.props.displayId.toString();\r\n                var exceptionicon = true;\r\n                var selectedMarkingMode = worklistStore.instance.getMarkingModeByWorkListType(worklistStore.instance.currentWorklistType);\r\n                eCourseworkHelper.fetchECourseWorkCandidateScriptMetadata(parseInt(displayId));\r\n                exceptionHelper.getNewExceptions(markerOperationModeFactory.operationMode.isTeamManagementMode, markerOperationModeFactory.operationMode.isAwardingMode, displayId, exceptionicon);\r\n                if (!messageStore.instance.isMessagePanelActive) {\r\n                    var openedResponseDetails = worklistStore.instance.getResponseDetails(displayId);\r\n                    responseHelper.openResponse(parseInt(displayId), enums.ResponseNavigation.specific, worklistStore.instance.getResponseMode, openedResponseDetails.markGroupId, enums.ResponseViewMode.zoneView, enums.TriggerPoint.WorkListResponseExceptionIcon);\r\n                    markSchemeHelper.getMarks(parseInt(displayId), selectedMarkingMode);\r\n                }\r\n                else {\r\n                    var messageNavigationArguments = {\r\n                        responseId: parseInt(displayId),\r\n                        canNavigate: false,\r\n                        navigateTo: enums.MessageNavigation.toResponse,\r\n                        navigationConfirmed: false,\r\n                        hasMessageContainsDirtyValue: undefined,\r\n                        triggerPoint: enums.TriggerPoint.WorkListResponseExceptionIcon\r\n                    };\r\n                    messagingActionCreator.canMessageNavigate(messageNavigationArguments);\r\n                }\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * render component\r\n     */\r\n    LinkedExceptionIndicator.prototype.render = function () {\r\n        return (!this.props.isTileView) ? this.getExceptionContent()\r\n            :\r\n                (React.createElement(\"div\", { className: 'col wl-alert text-left', id: this.props.id + '_execeptionIndicator' }, this.getExceptionContent()));\r\n    };\r\n    /**\r\n     * Retrns exception content.\r\n     * @returns\r\n     */\r\n    LinkedExceptionIndicator.prototype.getExceptionContent = function () {\r\n        var result = (React.createElement(\"div\", null));\r\n        var toolTipText = '';\r\n        var exceptionClassName = '';\r\n        var notificationClassName = '';\r\n        var exceptionAltText = localeStore.instance.TranslateText('generic.worklist.information-text');\r\n        // The exception alert count:\r\n        // On viewing one's own worklist,\r\n        // the number of exception that has been resolved by supervisor and needs action by the logged in user.\r\n        // In team management view,\r\n        // the number or exception that the supervisor needs to action.\r\n        var exceptionAlertCount = this.props.isTeamManagementMode ?\r\n            (this.props.unactionedExceptionCount ? this.props.unactionedExceptionCount : 0) :\r\n            (this.props.resolvedExceptionsCount ? this.props.resolvedExceptionsCount : 0);\r\n        if (!this.props.hasExceptions && !this.props.hasZoningExceptions) {\r\n            return result;\r\n        }\r\n        if (this.props.hasExceptions && !this.props.hasBlockingExceptions && this.props.resolvedExceptionsCount === 0) {\r\n            toolTipText = this.props.isTeamManagementMode ?\r\n                localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.exceptions-icon-tooltip') :\r\n                localeStore.instance.TranslateText('marking.worklist.response-data.exceptions-icon-tooltip');\r\n            exceptionClassName = 'sprite-icon info-icon-dark-small';\r\n        }\r\n        else if (this.props.hasBlockingExceptions && this.props.resolvedExceptionsCount === 0) {\r\n            toolTipText = this.props.isTeamManagementMode ?\r\n                localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.blocking-exceptions-icon-tooltip') :\r\n                localeStore.instance.TranslateText('marking.worklist.response-data.blocking-exceptions-icon-tooltip');\r\n            exceptionClassName = 'sprite-icon info-icon-yellow';\r\n        }\r\n        else if (this.props.hasExceptions && !this.props.hasBlockingExceptions && this.props.resolvedExceptionsCount > 0) {\r\n            toolTipText = this.props.isTeamManagementMode ?\r\n                stringHelper.format(localeStore.instance.\r\n                    TranslateText('team-management.examiner-worklist.response-data.resolved-exceptions-icon-tooltip'), [String(this.props.resolvedExceptionsCount)]) :\r\n                stringHelper.format(localeStore.instance.TranslateText('marking.worklist.response-data.resolved-exceptions-icon-tooltip'), [String(this.props.resolvedExceptionsCount)]);\r\n            exceptionClassName = 'sprite-icon info-icon-dark-small';\r\n        }\r\n        else if (this.props.hasBlockingExceptions && this.props.resolvedExceptionsCount > 0) {\r\n            toolTipText = this.props.isTeamManagementMode ? stringHelper.format(localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.resolved-and-blocking-exceptions-icon-tooltip'), [String(this.props.resolvedExceptionsCount)]) :\r\n                stringHelper.format(localeStore.instance.TranslateText('marking.worklist.response-data.resolved-and-blocking-exceptions-icon-tooltip'), [String(this.props.resolvedExceptionsCount)]);\r\n            exceptionClassName = 'sprite-icon info-icon-yellow';\r\n        }\r\n        else if (!this.props.hasZoningExceptions) {\r\n            toolTipText = this.props.isTeamManagementMode ?\r\n                localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.exceptions-icon-tooltip') :\r\n                localeStore.instance.TranslateText('marking.worklist.response-data.exceptions-icon-tooltip');\r\n            exceptionClassName = 'sprite-icon info-icon-dark-small';\r\n        }\r\n        ////Append the tooltip of existing exceptions with zoning exception tooltip if sibling rig contains zoning exception\r\n        if (this.props.hasZoningExceptions) {\r\n            if (toolTipText && !this.props.isZoningExceptionRaisedInSameScript) {\r\n                toolTipText = toolTipText + '\\n\\n' + (this.props.isTeamManagementMode ?\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.zoning-exceptions-icon-tooltip') :\r\n                    localeStore.instance.TranslateText('marking.worklist.response-data.zoning-exceptions-icon-tooltip'));\r\n            }\r\n            else if (this.props.isZoningExceptionRaisedInSameScript) {\r\n                toolTipText = this.props.isTeamManagementMode ?\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.blocking-exceptions-icon-tooltip') :\r\n                    localeStore.instance.TranslateText('marking.worklist.response-data.blocking-exceptions-icon-tooltip');\r\n            }\r\n            else {\r\n                toolTipText = this.props.isTeamManagementMode ?\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.zoning-exceptions-icon-tooltip') :\r\n                    localeStore.instance.TranslateText('marking.worklist.response-data.zoning-exceptions-icon-tooltip');\r\n            }\r\n            exceptionClassName = 'sprite-icon info-icon-yellow';\r\n        }\r\n        /**\r\n         * If exceptionAlertCount is greater than 0 notification will show\r\n         */\r\n        if (exceptionAlertCount > 0) {\r\n            result = (!this.props.isTileView) ? React.createElement(\"div\", { className: 'wl-alert', id: this.props.id + '_execeptionIndicatorNotification' },\r\n                React.createElement(\"a\", { title: toolTipText, className: 'resp-alerts', onClick: this.onLinkedExceptionIconClick },\r\n                    React.createElement(\"span\", { className: exceptionClassName },\r\n                        \" \",\r\n                        exceptionAltText,\r\n                        \" \"),\r\n                    React.createElement(\"span\", { className: 'notification circle', id: this.props.id + '_execeptionIndicatorNotification' },\r\n                        localeHelper.toLocaleString(exceptionAlertCount),\r\n                        \" \"))) :\r\n                React.createElement(\"div\", { className: 'col-inner' },\r\n                    React.createElement(\"a\", { title: toolTipText, className: 'resp-alerts', onClick: this.onLinkedExceptionIconClick },\r\n                        React.createElement(\"span\", { className: exceptionClassName },\r\n                            \" \",\r\n                            exceptionAltText,\r\n                            \" \"),\r\n                        React.createElement(\"span\", { className: 'notification circle', id: this.props.id + '_execeptionIndicatorNotification' },\r\n                            localeHelper.toLocaleString(exceptionAlertCount),\r\n                            \" \")));\r\n        }\r\n        else if (this.props.hasZoningExceptions && !this.props.hasExceptions) {\r\n            result = (!this.props.isTileView) ? React.createElement(\"div\", { className: 'wl-alert', id: this.props.id + '_execeptionIndicatorNotification' },\r\n                React.createElement(\"a\", { title: toolTipText, className: 'resp-alerts', onClick: function (e) { e.stopPropagation(); } },\r\n                    React.createElement(\"span\", { className: exceptionClassName },\r\n                        \" \",\r\n                        exceptionAltText,\r\n                        \" \")))\r\n                :\r\n                    React.createElement(\"div\", { className: 'col-inner' },\r\n                        React.createElement(\"a\", { title: toolTipText, className: 'resp-alerts', onClick: function (e) { e.stopPropagation(); } },\r\n                            React.createElement(\"span\", { className: exceptionClassName },\r\n                                \" \",\r\n                                exceptionAltText,\r\n                                \" \")));\r\n        }\r\n        else {\r\n            result = (!this.props.isTileView) ? React.createElement(\"div\", { className: 'wl-alert', id: this.props.id + '_execeptionIndicatorNotification' },\r\n                React.createElement(\"a\", { title: toolTipText, className: 'resp-alerts', onClick: this.onLinkedExceptionIconClick },\r\n                    React.createElement(\"span\", { className: exceptionClassName },\r\n                        \" \",\r\n                        exceptionAltText,\r\n                        \" \")))\r\n                :\r\n                    React.createElement(\"div\", { className: 'col-inner' },\r\n                        React.createElement(\"a\", { title: toolTipText, className: 'resp-alerts', onClick: this.onLinkedExceptionIconClick },\r\n                            React.createElement(\"span\", { className: exceptionClassName },\r\n                                \" \",\r\n                                exceptionAltText,\r\n                                \" \")));\r\n        }\r\n        return (result);\r\n    };\r\n    return LinkedExceptionIndicator;\r\n}(pureRenderComponent));\r\nmodule.exports = LinkedExceptionIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9saW5rZWRleGNlcHRpb25pbmRpY2F0b3IudHN4P2E3YTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGxvY2FsZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgc3RyaW5nSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL3N0cmluZ2hlbHBlcicpO1xyXG5pbXBvcnQgcmVzcG9uc2VBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9yZXNwb25zZS9yZXNwb25zZWFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBtYXJrU2NoZW1lSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9tYXJrc2NoZW1lL21hcmtzY2hlbWVoZWxwZXInKTtcclxuaW1wb3J0IG1lc3NhZ2VTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tZXNzYWdlL21lc3NhZ2VzdG9yZScpO1xyXG5pbXBvcnQgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvbWVzc2FnaW5nL21lc3NhZ2luZ2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHJlc3BvbnNlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9yZXNwb25zZWhlbHBlci9yZXNwb25zZWhlbHBlcicpO1xyXG5pbXBvcnQgZUNvdXJzZXdvcmtIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbnN0b3JlJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGV4Y2VwdGlvbkhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZXhjZXB0aW9uL2V4Y2VwdGlvbmhlbHBlcicpO1xyXG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGEgY29tcG9uZW5ldC5cclxuICogQHBhcmFtIHtQcm9wc30gcHJvcHNcclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBoYXNFeGNlcHRpb25zOiBib29sZWFuO1xyXG4gICAgaGFzWm9uaW5nRXhjZXB0aW9uczogYm9vbGVhbjtcclxuICAgIGlzWm9uaW5nRXhjZXB0aW9uUmFpc2VkSW5TYW1lU2NyaXB0OiBib29sZWFuO1xyXG4gICAgaGFzQmxvY2tpbmdFeGNlcHRpb25zOiBib29sZWFuO1xyXG4gICAgcmVzb2x2ZWRFeGNlcHRpb25zQ291bnQ/OiBudW1iZXI7XHJcbiAgICBpc1RpbGVWaWV3PzogYm9vbGVhbjtcclxuICAgIGRpc3BsYXlJZDogc3RyaW5nO1xyXG4gICAgaXNUZWFtTWFuYWdlbWVudE1vZGU6IGJvb2xlYW47XHJcbiAgICB1bmFjdGlvbmVkRXhjZXB0aW9uQ291bnQ/OiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQuXHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5jbGFzcyBMaW5rZWRFeGNlcHRpb25JbmRpY2F0b3IgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIGZvciBsaW5rZWQgZXhjZXB0aW9uIGluZGljYXRvclxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XHJcblxyXG4gICAgICAgIHJldHVybiAoIXRoaXMucHJvcHMuaXNUaWxlVmlldykgPyB0aGlzLmdldEV4Y2VwdGlvbkNvbnRlbnQoKVxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICg8ZGl2IGNsYXNzTmFtZT0nY29sIHdsLWFsZXJ0IHRleHQtbGVmdCcgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX2V4ZWNlcHRpb25JbmRpY2F0b3InfT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLmdldEV4Y2VwdGlvbkNvbnRlbnQoKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPcGVuIHJlc3BvbnNlIHdoaWxlIGNsaWNraW5nIG9uIGxpbmtlZCBleGNlcHRpb24gaWNvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uTGlua2VkRXhjZXB0aW9uSWNvbkNsaWNrID0gKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUpIHtcclxuICAgICAgICAgICAgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yLmNoZWNrQWN0aW9uSW50ZXJydXB0ZWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgbGV0IGRpc3BsYXlJZCA9IHRoaXMucHJvcHMuZGlzcGxheUlkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGxldCBleGNlcHRpb25pY29uOiBib29sZWFuID0gdHJ1ZTtcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkTWFya2luZ01vZGUgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldE1hcmtpbmdNb2RlQnlXb3JrTGlzdFR5cGUod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlKTtcclxuICAgICAgICAgICAgZUNvdXJzZXdvcmtIZWxwZXIuZmV0Y2hFQ291cnNlV29ya0NhbmRpZGF0ZVNjcmlwdE1ldGFkYXRhKHBhcnNlSW50KGRpc3BsYXlJZCkpO1xyXG4gICAgICAgICAgICBleGNlcHRpb25IZWxwZXIuZ2V0TmV3RXhjZXB0aW9ucyhtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlLFxyXG4gICAgICAgICAgICAgICAgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc0F3YXJkaW5nTW9kZSwgZGlzcGxheUlkLCBleGNlcHRpb25pY29uKTtcclxuICAgICAgICAgICAgaWYgKCFtZXNzYWdlU3RvcmUuaW5zdGFuY2UuaXNNZXNzYWdlUGFuZWxBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGxldCBvcGVuZWRSZXNwb25zZURldGFpbHMgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlRGV0YWlscyhkaXNwbGF5SWQpO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VIZWxwZXIub3BlblJlc3BvbnNlKFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KGRpc3BsYXlJZCksXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VOYXZpZ2F0aW9uLnNwZWNpZmljLFxyXG4gICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVzcG9uc2VNb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW5lZFJlc3BvbnNlRGV0YWlscy5tYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZVZpZXdNb2RlLnpvbmVWaWV3LFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlRyaWdnZXJQb2ludC5Xb3JrTGlzdFJlc3BvbnNlRXhjZXB0aW9uSWNvbik7XHJcbiAgICAgICAgICAgICAgICBtYXJrU2NoZW1lSGVscGVyLmdldE1hcmtzKHBhcnNlSW50KGRpc3BsYXlJZCksIHNlbGVjdGVkTWFya2luZ01vZGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzOiBNZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUlkOiBwYXJzZUludChkaXNwbGF5SWQpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbk5hdmlnYXRlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvOiBlbnVtcy5NZXNzYWdlTmF2aWdhdGlvbi50b1Jlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25Db25maXJtZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhc01lc3NhZ2VDb250YWluc0RpcnR5VmFsdWU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyUG9pbnQ6IGVudW1zLlRyaWdnZXJQb2ludC5Xb3JrTGlzdFJlc3BvbnNlRXhjZXB0aW9uSWNvblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IuY2FuTWVzc2FnZU5hdmlnYXRlKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRybnMgZXhjZXB0aW9uIGNvbnRlbnQuXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEV4Y2VwdGlvbkNvbnRlbnQoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSAoPGRpdj48L2Rpdj4pO1xyXG4gICAgICAgIGxldCB0b29sVGlwVGV4dDogc3RyaW5nID0gJyc7XHJcbiAgICAgICAgbGV0IGV4Y2VwdGlvbkNsYXNzTmFtZTogc3RyaW5nID0gJyc7XHJcbiAgICAgICAgbGV0IG5vdGlmaWNhdGlvbkNsYXNzTmFtZTogc3RyaW5nID0gJyc7XHJcbiAgICAgICAgbGV0IGV4Y2VwdGlvbkFsdFRleHQ6IHN0cmluZyA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMud29ya2xpc3QuaW5mb3JtYXRpb24tdGV4dCcpO1xyXG5cclxuICAgICAgICAvLyBUaGUgZXhjZXB0aW9uIGFsZXJ0IGNvdW50OlxyXG4gICAgICAgIC8vIE9uIHZpZXdpbmcgb25lJ3Mgb3duIHdvcmtsaXN0LFxyXG4gICAgICAgIC8vIHRoZSBudW1iZXIgb2YgZXhjZXB0aW9uIHRoYXQgaGFzIGJlZW4gcmVzb2x2ZWQgYnkgc3VwZXJ2aXNvciBhbmQgbmVlZHMgYWN0aW9uIGJ5IHRoZSBsb2dnZWQgaW4gdXNlci5cclxuICAgICAgICAvLyBJbiB0ZWFtIG1hbmFnZW1lbnQgdmlldyxcclxuICAgICAgICAvLyB0aGUgbnVtYmVyIG9yIGV4Y2VwdGlvbiB0aGF0IHRoZSBzdXBlcnZpc29yIG5lZWRzIHRvIGFjdGlvbi5cclxuXHJcbiAgICAgICAgbGV0IGV4Y2VwdGlvbkFsZXJ0Q291bnQ6IG51bWJlciA9IHRoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGUgP1xyXG4gICAgICAgICAgICAodGhpcy5wcm9wcy51bmFjdGlvbmVkRXhjZXB0aW9uQ291bnQgPyB0aGlzLnByb3BzLnVuYWN0aW9uZWRFeGNlcHRpb25Db3VudCA6IDApIDpcclxuICAgICAgICAgICAgKHRoaXMucHJvcHMucmVzb2x2ZWRFeGNlcHRpb25zQ291bnQgPyB0aGlzLnByb3BzLnJlc29sdmVkRXhjZXB0aW9uc0NvdW50IDogMCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5oYXNFeGNlcHRpb25zICYmICF0aGlzLnByb3BzLmhhc1pvbmluZ0V4Y2VwdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmhhc0V4Y2VwdGlvbnMgJiYgIXRoaXMucHJvcHMuaGFzQmxvY2tpbmdFeGNlcHRpb25zICYmIHRoaXMucHJvcHMucmVzb2x2ZWRFeGNlcHRpb25zQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgdG9vbFRpcFRleHQgPSB0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlID9cclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5yZXNwb25zZS1kYXRhLmV4Y2VwdGlvbnMtaWNvbi10b29sdGlwJykgOlxyXG4gICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLmV4Y2VwdGlvbnMtaWNvbi10b29sdGlwJyk7XHJcbiAgICAgICAgICAgIGV4Y2VwdGlvbkNsYXNzTmFtZSA9ICdzcHJpdGUtaWNvbiBpbmZvLWljb24tZGFyay1zbWFsbCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmhhc0Jsb2NraW5nRXhjZXB0aW9ucyAmJiB0aGlzLnByb3BzLnJlc29sdmVkRXhjZXB0aW9uc0NvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRvb2xUaXBUZXh0ID0gdGhpcy5wcm9wcy5pc1RlYW1NYW5hZ2VtZW50TW9kZSA/XHJcbiAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QucmVzcG9uc2UtZGF0YS5ibG9ja2luZy1leGNlcHRpb25zLWljb24tdG9vbHRpcCcpIDpcclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5ibG9ja2luZy1leGNlcHRpb25zLWljb24tdG9vbHRpcCcpO1xyXG4gICAgICAgICAgICBleGNlcHRpb25DbGFzc05hbWUgPSAnc3ByaXRlLWljb24gaW5mby1pY29uLXllbGxvdyc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmhhc0V4Y2VwdGlvbnMgJiYgIXRoaXMucHJvcHMuaGFzQmxvY2tpbmdFeGNlcHRpb25zICYmIHRoaXMucHJvcHMucmVzb2x2ZWRFeGNlcHRpb25zQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIHRvb2xUaXBUZXh0ID0gdGhpcy5wcm9wcy5pc1RlYW1NYW5hZ2VtZW50TW9kZSA/XHJcbiAgICAgICAgICAgICAgICBzdHJpbmdIZWxwZXIuZm9ybWF0KGxvY2FsZVN0b3JlLmluc3RhbmNlLlxyXG4gICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5yZXNwb25zZS1kYXRhLnJlc29sdmVkLWV4Y2VwdGlvbnMtaWNvbi10b29sdGlwJyksXHJcbiAgICAgICAgICAgICAgICAgICAgW1N0cmluZyh0aGlzLnByb3BzLnJlc29sdmVkRXhjZXB0aW9uc0NvdW50KV0pIDpcclxuICAgICAgICAgICAgICAgIHN0cmluZ0hlbHBlci5mb3JtYXQobG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnJlc29sdmVkLWV4Y2VwdGlvbnMtaWNvbi10b29sdGlwJyksXHJcbiAgICAgICAgICAgICAgICAgICAgW1N0cmluZyh0aGlzLnByb3BzLnJlc29sdmVkRXhjZXB0aW9uc0NvdW50KV0pO1xyXG4gICAgICAgICAgICBleGNlcHRpb25DbGFzc05hbWUgPSAnc3ByaXRlLWljb24gaW5mby1pY29uLWRhcmstc21hbGwnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5oYXNCbG9ja2luZ0V4Y2VwdGlvbnMgJiYgdGhpcy5wcm9wcy5yZXNvbHZlZEV4Y2VwdGlvbnNDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgdG9vbFRpcFRleHQgPSB0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlID8gc3RyaW5nSGVscGVyLmZvcm1hdChcclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5yZXNwb25zZS1kYXRhLnJlc29sdmVkLWFuZC1ibG9ja2luZy1leGNlcHRpb25zLWljb24tdG9vbHRpcCcpLFxyXG4gICAgICAgICAgICAgICAgW1N0cmluZyh0aGlzLnByb3BzLnJlc29sdmVkRXhjZXB0aW9uc0NvdW50KV0pIDpcclxuICAgICAgICAgICAgICAgIHN0cmluZ0hlbHBlci5mb3JtYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnJlc29sdmVkLWFuZC1ibG9ja2luZy1leGNlcHRpb25zLWljb24tdG9vbHRpcCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIFtTdHJpbmcodGhpcy5wcm9wcy5yZXNvbHZlZEV4Y2VwdGlvbnNDb3VudCldKTtcclxuICAgICAgICAgICAgZXhjZXB0aW9uQ2xhc3NOYW1lID0gJ3Nwcml0ZS1pY29uIGluZm8taWNvbi15ZWxsb3cnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMucHJvcHMuaGFzWm9uaW5nRXhjZXB0aW9ucykge1xyXG4gICAgICAgICAgICB0b29sVGlwVGV4dCA9IHRoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGUgP1xyXG4gICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LnJlc3BvbnNlLWRhdGEuZXhjZXB0aW9ucy1pY29uLXRvb2x0aXAnKSA6XHJcbiAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEuZXhjZXB0aW9ucy1pY29uLXRvb2x0aXAnKTtcclxuICAgICAgICAgICAgZXhjZXB0aW9uQ2xhc3NOYW1lID0gJ3Nwcml0ZS1pY29uIGluZm8taWNvbi1kYXJrLXNtYWxsJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy9BcHBlbmQgdGhlIHRvb2x0aXAgb2YgZXhpc3RpbmcgZXhjZXB0aW9ucyB3aXRoIHpvbmluZyBleGNlcHRpb24gdG9vbHRpcCBpZiBzaWJsaW5nIHJpZyBjb250YWlucyB6b25pbmcgZXhjZXB0aW9uXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaGFzWm9uaW5nRXhjZXB0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAodG9vbFRpcFRleHQgJiYgIXRoaXMucHJvcHMuaXNab25pbmdFeGNlcHRpb25SYWlzZWRJblNhbWVTY3JpcHQpIHtcclxuICAgICAgICAgICAgICAgIHRvb2xUaXBUZXh0ID0gdG9vbFRpcFRleHQgKyAnXFxuXFxuJyArICh0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlID9cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QucmVzcG9uc2UtZGF0YS56b25pbmctZXhjZXB0aW9ucy1pY29uLXRvb2x0aXAnKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnpvbmluZy1leGNlcHRpb25zLWljb24tdG9vbHRpcCcpKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmlzWm9uaW5nRXhjZXB0aW9uUmFpc2VkSW5TYW1lU2NyaXB0KSB7XHJcbiAgICAgICAgICAgICAgICB0b29sVGlwVGV4dCA9IHRoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGUgP1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5yZXNwb25zZS1kYXRhLmJsb2NraW5nLWV4Y2VwdGlvbnMtaWNvbi10b29sdGlwJykgOlxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5ibG9ja2luZy1leGNlcHRpb25zLWljb24tdG9vbHRpcCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdG9vbFRpcFRleHQgPSB0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlID9cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QucmVzcG9uc2UtZGF0YS56b25pbmctZXhjZXB0aW9ucy1pY29uLXRvb2x0aXAnKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnpvbmluZy1leGNlcHRpb25zLWljb24tdG9vbHRpcCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV4Y2VwdGlvbkNsYXNzTmFtZSA9ICdzcHJpdGUtaWNvbiBpbmZvLWljb24teWVsbG93JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIElmIGV4Y2VwdGlvbkFsZXJ0Q291bnQgaXMgZ3JlYXRlciB0aGFuIDAgbm90aWZpY2F0aW9uIHdpbGwgc2hvd1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChleGNlcHRpb25BbGVydENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSAoIXRoaXMucHJvcHMuaXNUaWxlVmlldykgPyA8ZGl2IGNsYXNzTmFtZT0nd2wtYWxlcnQnXHJcbiAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZCArICdfZXhlY2VwdGlvbkluZGljYXRvck5vdGlmaWNhdGlvbid9PlxyXG4gICAgICAgICAgICAgICAgPGEgdGl0bGU9e3Rvb2xUaXBUZXh0fSBjbGFzc05hbWU9J3Jlc3AtYWxlcnRzJyBvbkNsaWNrPXt0aGlzLm9uTGlua2VkRXhjZXB0aW9uSWNvbkNsaWNrfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2V4Y2VwdGlvbkNsYXNzTmFtZX0+IHtleGNlcHRpb25BbHRUZXh0fSA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdub3RpZmljYXRpb24gY2lyY2xlJyBpZD17dGhpcy5wcm9wcy5pZCArICdfZXhlY2VwdGlvbkluZGljYXRvck5vdGlmaWNhdGlvbid9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2xvY2FsZUhlbHBlci50b0xvY2FsZVN0cmluZyhleGNlcHRpb25BbGVydENvdW50KX0gPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8L2Rpdj4gOlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC1pbm5lcic+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9e3Rvb2xUaXBUZXh0fSBjbGFzc05hbWU9J3Jlc3AtYWxlcnRzJyBvbkNsaWNrPXt0aGlzLm9uTGlua2VkRXhjZXB0aW9uSWNvbkNsaWNrfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtleGNlcHRpb25DbGFzc05hbWV9PiB7ZXhjZXB0aW9uQWx0VGV4dH0gPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J25vdGlmaWNhdGlvbiBjaXJjbGUnIGlkPXt0aGlzLnByb3BzLmlkICsgJ19leGVjZXB0aW9uSW5kaWNhdG9yTm90aWZpY2F0aW9uJ30gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2xvY2FsZUhlbHBlci50b0xvY2FsZVN0cmluZyhleGNlcHRpb25BbGVydENvdW50KX0gPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PjtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuaGFzWm9uaW5nRXhjZXB0aW9ucyAmJiAhdGhpcy5wcm9wcy5oYXNFeGNlcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9ICghdGhpcy5wcm9wcy5pc1RpbGVWaWV3KSA/IDxkaXYgY2xhc3NOYW1lPSd3bC1hbGVydCdcclxuICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkICsgJ19leGVjZXB0aW9uSW5kaWNhdG9yTm90aWZpY2F0aW9uJ30+XHJcbiAgICAgICAgICAgICAgICA8YSB0aXRsZT17dG9vbFRpcFRleHR9IGNsYXNzTmFtZT0ncmVzcC1hbGVydHMnIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17ZXhjZXB0aW9uQ2xhc3NOYW1lfT4ge2V4Y2VwdGlvbkFsdFRleHR9IDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLWlubmVyJz5cclxuICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT17dG9vbFRpcFRleHR9IGNsYXNzTmFtZT0ncmVzcC1hbGVydHMnIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2V4Y2VwdGlvbkNsYXNzTmFtZX0+IHtleGNlcHRpb25BbHRUZXh0fSA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9ICghdGhpcy5wcm9wcy5pc1RpbGVWaWV3KSA/IDxkaXYgY2xhc3NOYW1lPSd3bC1hbGVydCdcclxuICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkICsgJ19leGVjZXB0aW9uSW5kaWNhdG9yTm90aWZpY2F0aW9uJ30+XHJcbiAgICAgICAgICAgICAgICA8YSB0aXRsZT17dG9vbFRpcFRleHR9IGNsYXNzTmFtZT0ncmVzcC1hbGVydHMnIG9uQ2xpY2s9e3RoaXMub25MaW5rZWRFeGNlcHRpb25JY29uQ2xpY2t9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17ZXhjZXB0aW9uQ2xhc3NOYW1lfT4ge2V4Y2VwdGlvbkFsdFRleHR9IDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLWlubmVyJz5cclxuICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT17dG9vbFRpcFRleHR9IGNsYXNzTmFtZT0ncmVzcC1hbGVydHMnIG9uQ2xpY2s9e3RoaXMub25MaW5rZWRFeGNlcHRpb25JY29uQ2xpY2t9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2V4Y2VwdGlvbkNsYXNzTmFtZX0+IHtleGNlcHRpb25BbHRUZXh0fSA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHJlc3VsdCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IExpbmtlZEV4Y2VwdGlvbkluZGljYXRvcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9saW5rZWRleGNlcHRpb25pbmRpY2F0b3IudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrQkE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFFQTs7O0FBR0E7QUFDQTtBQUFBO0FBaUJBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFuREE7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUF3Q0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBOztBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFFQTtBQUNBOztBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBRUE7QUFDQTs7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1228:
/* no static exports found */
/* all exports used */
/*!******************************************************************!*\
  !*** ./src/components/worklist/shared/marksdifferencecolumn.tsx ***!
  \******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar MarksDifference = __webpack_require__(/*! ./marksdifference */ 592);\r\nvar AccuracyIndicator = __webpack_require__(/*! ./accuracyindicator */ 496);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar MarksDifferenceColumn = /** @class */ (function (_super) {\r\n    __extends(MarksDifferenceColumn, _super);\r\n    /**\r\n     * Constructor for MarksDiffrenceColumn\r\n     * @param props\r\n     */\r\n    function MarksDifferenceColumn(props) {\r\n        var _this = _super.call(this, props, null) || this;\r\n        _this.classNameAmd = 'amd small-text';\r\n        _this.classNameTmd = 'tmd small-text';\r\n        _this.titleAmd = markerOperationModeFactory.operationMode.absoluteMarkDifferenceTitle;\r\n        _this.titleTmd = markerOperationModeFactory.operationMode.totalMarkDifferenceTitle;\r\n        _this.marksDifferenceTextAmd = 'marking.worklist.tile-view-labels.amd';\r\n        _this.marksDifferenceTextTmd = 'marking.worklist.tile-view-labels.tmd';\r\n        _this.absoluteMarksDifference = 0;\r\n        _this.totalMarksDifference = 0;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    MarksDifferenceColumn.prototype.render = function () {\r\n        var workListType = worklistStore.instance.currentWorklistType;\r\n        var _isShowStandardisationDefinitiveMarks = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ShowStandardisationDefinitiveMarks, this.props.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        this.absoluteMarksDifference = this.props.absoluteMarksDifference;\r\n        this.totalMarksDifference = this.props.totalMarksDifference;\r\n        var showAccuracyIndicator = true;\r\n        var showAMDTMD = true;\r\n        var className = 'col wl-tolerance';\r\n        if (!this.props.isTileView) {\r\n            showAccuracyIndicator = false;\r\n            className = 'col wl-amdtmd';\r\n            if (this.props.accuracyIndicator === enums.AccuracyIndicatorType.Accurate\r\n                || this.props.accuracyIndicator === enums.AccuracyIndicatorType.AccurateNR || this.props.accuracyIndicator === 0) {\r\n                showAMDTMD = false;\r\n            }\r\n        }\r\n        else {\r\n            if (this.props.showAccuracyIndicator) {\r\n                if (this.props.accuracyIndicator === enums.AccuracyIndicatorType.Accurate\r\n                    || this.props.accuracyIndicator === enums.AccuracyIndicatorType.AccurateNR\r\n                    || this.props.accuracyIndicator === 0) {\r\n                    showAccuracyIndicator = true;\r\n                    showAMDTMD = false;\r\n                }\r\n            }\r\n            else {\r\n                showAccuracyIndicator = false;\r\n                showAMDTMD = false;\r\n            }\r\n        }\r\n        // render only if AMD value is set\r\n        var amdMarksDifference = showAMDTMD ? (React.createElement(MarksDifference, { id: this.props.id + '_amd', key: 'key_amd_' + this.props.id, className: this.classNameAmd, title: this.titleAmd, marksDifferenceText: this.marksDifferenceTextAmd, marksDifference: this.props.absoluteMarksDifference, selectedLanguage: this.props.selectedLanguage, marksDifferenceType: enums.MarksDifferenceType.AbsoluteMarksDifference, isTileView: this.props.isTileView })) : null;\r\n        // render only if TMD value is set\r\n        var tmdMarksDifference = showAMDTMD ? (React.createElement(MarksDifference, { id: this.props.id + '_tmd', key: 'key_tmd_' + this.props.id, className: this.classNameTmd, title: this.titleTmd, marksDifferenceText: this.marksDifferenceTextTmd, marksDifference: this.props.totalMarksDifference, selectedLanguage: this.props.selectedLanguage, marksDifferenceType: enums.MarksDifferenceType.TotalMarksDifference, isTileView: this.props.isTileView })) : null;\r\n        var accuracy = showAccuracyIndicator ? (React.createElement(AccuracyIndicator, { id: this.props.id, key: this.props.id, accuracyIndicator: this.props.accuracyIndicator, isTileView: this.props.isTileView, selectedLanguage: this.props.selectedLanguage })) : null;\r\n        // do not render if both flags are false.\r\n        var markWithAccuracy = (showAccuracyIndicator || showAMDTMD) ? (React.createElement(\"div\", { className: 'worklist-tile-footer' },\r\n            React.createElement(\"div\", { className: className, id: this.props.id + '_marksDifference' },\r\n                React.createElement(\"div\", { className: 'col-inner' },\r\n                    accuracy,\r\n                    amdMarksDifference,\r\n                    tmdMarksDifference)))) : null;\r\n        return (markWithAccuracy);\r\n    };\r\n    return MarksDifferenceColumn;\r\n}(PureRenderComponent));\r\nmodule.exports = MarksDifferenceColumn;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9tYXJrc2RpZmZlcmVuY2Vjb2x1bW4udHN4P2QxMWQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDplbmFibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBQdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGxvY2FsZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xyXG5pbXBvcnQgTWFya3NEaWZmZXJlbmNlID0gcmVxdWlyZSgnLi9tYXJrc2RpZmZlcmVuY2UnKTtcclxuaW1wb3J0IEFjY3VyYWN5SW5kaWNhdG9yID0gcmVxdWlyZSgnLi9hY2N1cmFjeWluZGljYXRvcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IHF1YWxpdHlGZWVkYmFja0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvcXVhbGl0eWZlZWRiYWNrL3F1YWxpdHlmZWVkYmFja2hlbHBlcicpO1xyXG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgY29tcG9uZW50LlxyXG4gKiBAcGFyYW0ge1Byb3BzfSBwcm9wc1xyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGFic29sdXRlTWFya3NEaWZmZXJlbmNlPzogbnVtYmVyO1xyXG4gICAgdG90YWxNYXJrc0RpZmZlcmVuY2U/OiBudW1iZXI7XHJcbiAgICBhY2N1cmFjeUluZGljYXRvcj86IG51bWJlcjtcclxuICAgIGlzVGlsZVZpZXc/OiBib29sZWFuO1xyXG4gICAgc2hvd0FjY3VyYWN5SW5kaWNhdG9yOiBib29sZWFuO1xyXG4gICAgbWFya1NjaGVtZUdyb3VwSWQ6IG51bWJlcjtcclxufVxyXG5cclxuY2xhc3MgTWFya3NEaWZmZXJlbmNlQ29sdW1uIGV4dGVuZHMgUHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcbiAgICBwcml2YXRlIGNsYXNzTmFtZUFtZDogc3RyaW5nID0gJ2FtZCBzbWFsbC10ZXh0JztcclxuICAgIHByaXZhdGUgY2xhc3NOYW1lVG1kOiBzdHJpbmcgPSAndG1kIHNtYWxsLXRleHQnO1xyXG4gICAgcHJpdmF0ZSB0aXRsZUFtZDogc3RyaW5nID0gbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5hYnNvbHV0ZU1hcmtEaWZmZXJlbmNlVGl0bGU7XHJcbiAgICBwcml2YXRlIHRpdGxlVG1kOiBzdHJpbmcgPSBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLnRvdGFsTWFya0RpZmZlcmVuY2VUaXRsZTtcclxuICAgIHByaXZhdGUgbWFya3NEaWZmZXJlbmNlVGV4dEFtZDogc3RyaW5nID0gJ21hcmtpbmcud29ya2xpc3QudGlsZS12aWV3LWxhYmVscy5hbWQnO1xyXG4gICAgcHJpdmF0ZSBtYXJrc0RpZmZlcmVuY2VUZXh0VG1kOiBzdHJpbmcgPSAnbWFya2luZy53b3JrbGlzdC50aWxlLXZpZXctbGFiZWxzLnRtZCc7XHJcbiAgICBwcml2YXRlIGFic29sdXRlTWFya3NEaWZmZXJlbmNlOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSB0b3RhbE1hcmtzRGlmZmVyZW5jZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIGZvciBNYXJrc0RpZmZyZW5jZUNvbHVtblxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG5cclxuICAgICAgICBsZXQgd29ya0xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGU7XHJcblxyXG4gICAgICAgIGxldCBfaXNTaG93U3RhbmRhcmRpc2F0aW9uRGVmaW5pdGl2ZU1hcmtzID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNob3dTdGFuZGFyZGlzYXRpb25EZWZpbml0aXZlTWFya3MsXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMubWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB0aGlzLmFic29sdXRlTWFya3NEaWZmZXJlbmNlID0gdGhpcy5wcm9wcy5hYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZTtcclxuICAgICAgICB0aGlzLnRvdGFsTWFya3NEaWZmZXJlbmNlID0gdGhpcy5wcm9wcy50b3RhbE1hcmtzRGlmZmVyZW5jZTtcclxuXHJcbiAgICAgICAgbGV0IHNob3dBY2N1cmFjeUluZGljYXRvcjogYm9vbGVhbiA9IHRydWU7XHJcbiAgICAgICAgbGV0IHNob3dBTURUTUQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgICAgIGxldCBjbGFzc05hbWU6IHN0cmluZyA9ICdjb2wgd2wtdG9sZXJhbmNlJztcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmlzVGlsZVZpZXcpIHtcclxuICAgICAgICAgICAgc2hvd0FjY3VyYWN5SW5kaWNhdG9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9ICdjb2wgd2wtYW1kdG1kJztcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuYWNjdXJhY3lJbmRpY2F0b3IgPT09IGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5BY2N1cmF0ZVxyXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5hY2N1cmFjeUluZGljYXRvciA9PT0gZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLkFjY3VyYXRlTlIgfHwgdGhpcy5wcm9wcy5hY2N1cmFjeUluZGljYXRvciA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc2hvd0FNRFRNRCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2hvd0FjY3VyYWN5SW5kaWNhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5hY2N1cmFjeUluZGljYXRvciA9PT0gZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLkFjY3VyYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5hY2N1cmFjeUluZGljYXRvciA9PT0gZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLkFjY3VyYXRlTlJcclxuICAgICAgICAgICAgICAgICAgICB8fCB0aGlzLnByb3BzLmFjY3VyYWN5SW5kaWNhdG9yID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0FjY3VyYWN5SW5kaWNhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzaG93QU1EVE1EID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzaG93QWNjdXJhY3lJbmRpY2F0b3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNob3dBTURUTUQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcmVuZGVyIG9ubHkgaWYgQU1EIHZhbHVlIGlzIHNldFxyXG4gICAgICAgIGxldCBhbWRNYXJrc0RpZmZlcmVuY2U6IEpTWC5FbGVtZW50ID0gc2hvd0FNRFRNRCA/ICg8TWFya3NEaWZmZXJlbmNlXHJcbiAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkICsgJ19hbWQnfVxyXG4gICAgICAgICAgICBrZXk9eydrZXlfYW1kXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuY2xhc3NOYW1lQW1kfVxyXG4gICAgICAgICAgICB0aXRsZT17dGhpcy50aXRsZUFtZH1cclxuICAgICAgICAgICAgbWFya3NEaWZmZXJlbmNlVGV4dD17dGhpcy5tYXJrc0RpZmZlcmVuY2VUZXh0QW1kfVxyXG4gICAgICAgICAgICBtYXJrc0RpZmZlcmVuY2U9e3RoaXMucHJvcHMuYWJzb2x1dGVNYXJrc0RpZmZlcmVuY2V9XHJcbiAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgbWFya3NEaWZmZXJlbmNlVHlwZSA9IHtlbnVtcy5NYXJrc0RpZmZlcmVuY2VUeXBlLkFic29sdXRlTWFya3NEaWZmZXJlbmNlfVxyXG4gICAgICAgICAgICBpc1RpbGVWaWV3PXt0aGlzLnByb3BzLmlzVGlsZVZpZXd9XHJcbiAgICAgICAgICAgIC8+KSA6IG51bGw7XHJcblxyXG4gICAgICAgIC8vIHJlbmRlciBvbmx5IGlmIFRNRCB2YWx1ZSBpcyBzZXRcclxuICAgICAgICBsZXQgdG1kTWFya3NEaWZmZXJlbmNlOiBKU1guRWxlbWVudCA9IHNob3dBTURUTUQgPyAoPE1hcmtzRGlmZmVyZW5jZVxyXG4gICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZCArICdfdG1kJ31cclxuICAgICAgICAgICAga2V5PXsna2V5X3RtZF8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmNsYXNzTmFtZVRtZH1cclxuICAgICAgICAgICAgdGl0bGU9e3RoaXMudGl0bGVUbWR9XHJcbiAgICAgICAgICAgIG1hcmtzRGlmZmVyZW5jZVRleHQ9e3RoaXMubWFya3NEaWZmZXJlbmNlVGV4dFRtZH1cclxuICAgICAgICAgICAgbWFya3NEaWZmZXJlbmNlPXt0aGlzLnByb3BzLnRvdGFsTWFya3NEaWZmZXJlbmNlfVxyXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgIG1hcmtzRGlmZmVyZW5jZVR5cGUgPSB7ZW51bXMuTWFya3NEaWZmZXJlbmNlVHlwZS5Ub3RhbE1hcmtzRGlmZmVyZW5jZX1cclxuICAgICAgICAgICAgaXNUaWxlVmlldz17dGhpcy5wcm9wcy5pc1RpbGVWaWV3fVxyXG4gICAgICAgICAgICAvPikgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgYWNjdXJhY3k6IEpTWC5FbGVtZW50ID0gc2hvd0FjY3VyYWN5SW5kaWNhdG9yID8gKDxBY2N1cmFjeUluZGljYXRvclxyXG4gICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH0ga2V5PXt0aGlzLnByb3BzLmlkfSBhY2N1cmFjeUluZGljYXRvcj17dGhpcy5wcm9wcy5hY2N1cmFjeUluZGljYXRvcn0gaXNUaWxlVmlldz17dGhpcy5wcm9wcy5pc1RpbGVWaWV3fVxyXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9Lz4pIDogbnVsbDtcclxuXHJcbiAgICAgICAgLy8gZG8gbm90IHJlbmRlciBpZiBib3RoIGZsYWdzIGFyZSBmYWxzZS5cclxuICAgICAgICBsZXQgbWFya1dpdGhBY2N1cmFjeTogSlNYLkVsZW1lbnQgPSAoc2hvd0FjY3VyYWN5SW5kaWNhdG9yIHx8IHNob3dBTURUTUQpID8gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nd29ya2xpc3QtdGlsZS1mb290ZXInPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaWQ9e3RoaXMucHJvcHMuaWQgKyAnX21hcmtzRGlmZmVyZW5jZSd9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtaW5uZXInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7YWNjdXJhY3l9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHthbWRNYXJrc0RpZmZlcmVuY2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0bWRNYXJrc0RpZmZlcmVuY2V9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+KSA6IG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIG1hcmtXaXRoQWNjdXJhY3lcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBNYXJrc0RpZmZlcmVuY2VDb2x1bW47XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL21hcmtzZGlmZmVyZW5jZWNvbHVtbi50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWNBO0FBQUE7QUFVQTs7O0FBR0E7QUFDQTtBQUFBO0FBYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFRQTtBQUVBOzs7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFZQTtBQUNBO0FBWUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBR0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1229:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/components/worklist/shared/originalmarkaccuracy.tsx ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../../components/utility/enums */ 225);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\n/**\r\n * React component\r\n * @param {Props} props\r\n */\r\n/* tslint:disable:variable-name */\r\nvar OriginalMarkAccuracy = function (props) {\r\n    /* tslint:enable:variable-name */\r\n    var className = 'small-text';\r\n    var accuracyType = '';\r\n    var title = '';\r\n    if (props.isVisible) {\r\n        switch (props.accuracyIndicatorType) {\r\n            case enums.AccuracyIndicatorType.Accurate:\r\n            case enums.AccuracyIndicatorType.AccurateNR:\r\n                className = className + ' txt-accurate';\r\n                accuracyType = localeStore.instance.TranslateText('generic.accuracy-indicators.accurate');\r\n                title = markerOperationModeFactory.operationMode.accurateOriginalAccuracyIndicatorTitle;\r\n                break;\r\n            case enums.AccuracyIndicatorType.OutsideTolerance:\r\n            case enums.AccuracyIndicatorType.OutsideToleranceNR:\r\n                className = className + ' txt-inacurate';\r\n                accuracyType = localeStore.instance.TranslateText('generic.accuracy-indicators.inaccurate');\r\n                title = markerOperationModeFactory.operationMode.inaccurateOriginalAccuracyIndicatorTitle;\r\n                break;\r\n            case enums.AccuracyIndicatorType.WithinTolerance:\r\n            case enums.AccuracyIndicatorType.WithinToleranceNR:\r\n                className = className + ' txt-intolerence';\r\n                accuracyType = localeStore.instance.TranslateText('generic.accuracy-indicators.in-tolerance');\r\n                title = markerOperationModeFactory.operationMode.intoleranceOriginalAccuracyIndicatorTitle;\r\n                break;\r\n            default:\r\n                className = className + ' txt-accurate';\r\n                break;\r\n        }\r\n    }\r\n    return (React.createElement(\"span\", { className: className, id: props.id, title: title }, accuracyType));\r\n};\r\nmodule.exports = OriginalMarkAccuracy;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9vcmlnaW5hbG1hcmthY2N1cmFjeS50c3g/YzJjYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBhIGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGlzVmlzaWJsZTogYm9vbGVhbjtcclxuICAgIGFjY3VyYWN5SW5kaWNhdG9yVHlwZTogZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqL1xyXG4gLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5jb25zdCBPcmlnaW5hbE1hcmtBY2N1cmFjeSA9IChwcm9wczogUHJvcHMpOiBKU1guRWxlbWVudCA9PiB7XHJcbi8qIHRzbGludDplbmFibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5cclxuICAgIGxldCBjbGFzc05hbWUgPSAnc21hbGwtdGV4dCc7XHJcbiAgICBsZXQgYWNjdXJhY3lUeXBlID0gJyc7XHJcbiAgICBsZXQgdGl0bGUgPSAnJztcclxuXHJcbiAgICBpZiAocHJvcHMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgc3dpdGNoIChwcm9wcy5hY2N1cmFjeUluZGljYXRvclR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuQWNjdXJhdGU6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLkFjY3VyYXRlTlI6XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnIHR4dC1hY2N1cmF0ZSc7XHJcbiAgICAgICAgICAgICAgICBhY2N1cmFjeVR5cGUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmFjY3VyYWN5LWluZGljYXRvcnMuYWNjdXJhdGUnKTtcclxuICAgICAgICAgICAgICAgIHRpdGxlID0gbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5hY2N1cmF0ZU9yaWdpbmFsQWNjdXJhY3lJbmRpY2F0b3JUaXRsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5PdXRzaWRlVG9sZXJhbmNlOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5PdXRzaWRlVG9sZXJhbmNlTlI6XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnIHR4dC1pbmFjdXJhdGUnO1xyXG4gICAgICAgICAgICAgICAgYWNjdXJhY3lUeXBlID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5hY2N1cmFjeS1pbmRpY2F0b3JzLmluYWNjdXJhdGUnKTtcclxuICAgICAgICAgICAgICAgIHRpdGxlID0gbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pbmFjY3VyYXRlT3JpZ2luYWxBY2N1cmFjeUluZGljYXRvclRpdGxlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLldpdGhpblRvbGVyYW5jZTpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuV2l0aGluVG9sZXJhbmNlTlI6XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnIHR4dC1pbnRvbGVyZW5jZSc7XHJcbiAgICAgICAgICAgICAgICBhY2N1cmFjeVR5cGUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmFjY3VyYWN5LWluZGljYXRvcnMuaW4tdG9sZXJhbmNlJyk7XHJcbiAgICAgICAgICAgICAgICB0aXRsZSA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaW50b2xlcmFuY2VPcmlnaW5hbEFjY3VyYWN5SW5kaWNhdG9yVGl0bGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZSArICcgdHh0LWFjY3VyYXRlJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBpZD17cHJvcHMuaWR9IHRpdGxlPXt0aXRsZX0+e2FjY3VyYWN5VHlwZX08L3NwYW4+XHJcbiAgICApO1xyXG59O1xyXG5cclxuZXhwb3J0ID0gT3JpZ2luYWxNYXJrQWNjdXJhY3k7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvb3JpZ2luYWxtYXJrYWNjdXJhY3kudHN4Il0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1230:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/components/worklist/shared/originalmarktotal.tsx ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar enums = __webpack_require__(/*! ../../../components/utility/enums */ 225);\r\n/**\r\n * React component\r\n * @param {Props} props\r\n */\r\n/* tslint:disable:variable-name */\r\nvar OriginalMarkTotal = function (props) {\r\n    /* tslint:enable:variable-name */\r\n    var className = 'large-text';\r\n    if (props.isVisible) {\r\n        switch (props.accuracyIndicatorType) {\r\n            case enums.AccuracyIndicatorType.Accurate:\r\n            case enums.AccuracyIndicatorType.AccurateNR:\r\n                className = className + ' txt-accurate';\r\n                break;\r\n            case enums.AccuracyIndicatorType.OutsideTolerance:\r\n            case enums.AccuracyIndicatorType.OutsideToleranceNR:\r\n                className = className + ' txt-inacurate';\r\n                break;\r\n            case enums.AccuracyIndicatorType.WithinTolerance:\r\n            case enums.AccuracyIndicatorType.WithinToleranceNR:\r\n                className = className + ' txt-intolerence';\r\n                break;\r\n            default:\r\n                className = className + ' txt-accurate';\r\n                break;\r\n        }\r\n    }\r\n    return (React.createElement(\"span\", { className: className, id: props.id }, (props.isVisible) ? props.originalMarkTotal : '--'));\r\n};\r\nmodule.exports = OriginalMarkTotal;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9vcmlnaW5hbG1hcmt0b3RhbC50c3g/OGJlNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGEgY29tcG9uZW50XHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgaXNOb25OdW1lcmljTWFyazogYm9vbGVhbjtcclxuICAgIG9yaWdpbmFsTWFya1RvdGFsOiBudW1iZXI7XHJcbiAgICBpc1Zpc2libGU6IGJvb2xlYW47XHJcbiAgICBhY2N1cmFjeUluZGljYXRvclR5cGU6IGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge1Byb3BzfSBwcm9wc1xyXG4gKi9cclxuLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5jb25zdCBPcmlnaW5hbE1hcmtUb3RhbCA9IChwcm9wczogUHJvcHMpOiBKU1guRWxlbWVudCA9PiB7XHJcbi8qIHRzbGludDplbmFibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5cclxuICAgIGxldCBjbGFzc05hbWUgPSAnbGFyZ2UtdGV4dCc7XHJcbiAgICBpZiAocHJvcHMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgc3dpdGNoIChwcm9wcy5hY2N1cmFjeUluZGljYXRvclR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuQWNjdXJhdGU6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLkFjY3VyYXRlTlI6XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnIHR4dC1hY2N1cmF0ZSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuT3V0c2lkZVRvbGVyYW5jZTpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuT3V0c2lkZVRvbGVyYW5jZU5SOlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJyB0eHQtaW5hY3VyYXRlJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5XaXRoaW5Ub2xlcmFuY2U6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLldpdGhpblRvbGVyYW5jZU5SOlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJyB0eHQtaW50b2xlcmVuY2UnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnIHR4dC1hY2N1cmF0ZSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaWQ9e3Byb3BzLmlkfT57KHByb3BzLmlzVmlzaWJsZSkgPyBwcm9wcy5vcmlnaW5hbE1hcmtUb3RhbCA6ICctLSd9PC9zcGFuPlxyXG4gICAgKTtcclxufTtcclxuXHJcbmV4cG9ydCA9IE9yaWdpbmFsTWFya1RvdGFsO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL29yaWdpbmFsbWFya3RvdGFsLnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFHQTtBQVlBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1231:
/* no static exports found */
/* all exports used */
/*!******************************************************************!*\
  !*** ./src/components/worklist/shared/pendingworklistbanner.tsx ***!
  \******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/// <reference path='gridtogglebutton.tsx' />\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * Class for displaying worklist message.\r\n */\r\nvar PendingWorklistBanner = /** @class */ (function (_super) {\r\n    __extends(PendingWorklistBanner, _super);\r\n    /**\r\n     * Constructor for worklist message\r\n     * @param props\r\n     */\r\n    function PendingWorklistBanner(props) {\r\n        return _super.call(this, props, null) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    PendingWorklistBanner.prototype.render = function () {\r\n        if (this.props.isVisible) {\r\n            return (React.createElement(\"div\", { className: 'message-bar' },\r\n                React.createElement(\"span\", { className: 'message-content' },\r\n                    React.createElement(\"div\", { className: 'text-left', id: 'pendingWorklistBannerId' }, localeStore.instance.TranslateText('marking.worklist.submitted-editable-worklist-helper')))));\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    return PendingWorklistBanner;\r\n}(pureRenderComponent));\r\nmodule.exports = PendingWorklistBanner;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9wZW5kaW5nd29ya2xpc3RiYW5uZXIudHN4PzBhMTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD0nZ3JpZHRvZ2dsZWJ1dHRvbi50c3gnIC8+XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BzXHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgaXNWaXNpYmxlOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgZm9yIGRpc3BsYXlpbmcgd29ya2xpc3QgbWVzc2FnZS5cclxuICovXHJcbmNsYXNzIFBlbmRpbmdXb3JrbGlzdEJhbm5lciBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3IgZm9yIHdvcmtsaXN0IG1lc3NhZ2UgXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuICg8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J21lc3NhZ2UtYmFyJz5cclxuICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdtZXNzYWdlLWNvbnRlbnQnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LWxlZnQnIGlkPSdwZW5kaW5nV29ya2xpc3RCYW5uZXJJZCc+XHJcbiAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3Quc3VibWl0dGVkLWVkaXRhYmxlLXdvcmtsaXN0LWhlbHBlcicpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCA9IFBlbmRpbmdXb3JrbGlzdEJhbm5lcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3BlbmRpbmd3b3JrbGlzdGJhbm5lci50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1232:
/* no static exports found */
/* all exports used */
/*!*************************************************************!*\
  !*** ./src/components/worklist/shared/responseidcolumn.tsx ***!
  \*************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar ResponseIdGridElement = __webpack_require__(/*! ./responseidgridelement */ 370);\r\nvar LastUpdatedDate = __webpack_require__(/*! ./worklistdate */ 594);\r\nvar ResponseTypeLabel = __webpack_require__(/*! ./responsetypelabel */ 593);\r\nvar TotalMarkTile = __webpack_require__(/*! ./totalmarktile */ 1237);\r\n/**\r\n * React component class forthe grid column responseid and last updated date\r\n */\r\nvar ResponseIdColumn = /** @class */ (function (_super) {\r\n    __extends(ResponseIdColumn, _super);\r\n    /**\r\n     * Constructor for ResponseIdColumn\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function ResponseIdColumn(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    ResponseIdColumn.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: 'col wl-id' },\r\n            React.createElement(\"div\", { className: 'col-inner' },\r\n                React.createElement(ResponseIdGridElement, { selectedLanguage: this.props.selectedLanguage, displayId: this.props.displayId, isClickable: this.props.isResponseIdClickable, id: this.props.id, key: 'key_response_id_grid_element_' + this.props.id, isTileView: this.props.isTileView }),\r\n                React.createElement(ResponseTypeLabel, { id: this.props.id + '_Seed', key: this.props.id + '_Seed', isResponseTypeLabelVisible: this.props.isResponseTypeLabelVisible, responseType: this.props.responseType }),\r\n                React.createElement(TotalMarkTile, { id: this.props.id + '_totalmarktile', key: this.props.id + '_totalmarktilekey', selectedLanguage: this.props.selectedLanguage, isNonNumericMark: !this.props.hasNumericMark, maximumMark: 0, totalMark: this.props.totalMarkValue, markingProgress: this.props.markingProgress }),\r\n                React.createElement(LastUpdatedDate, { selectedLanguage: this.props.selectedLanguage, dateType: this.props.worklistDateType, dateValue: this.props.dateValue, id: this.props.id, isTileView: this.props.isTileView, key: 'key_last_updated_date_' + this.props.id }))));\r\n    };\r\n    return ResponseIdColumn;\r\n}(pureRenderComponent));\r\nmodule.exports = ResponseIdColumn;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9yZXNwb25zZWlkY29sdW1uLnRzeD9iNWZiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZW5hYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgUmVzcG9uc2VJZEdyaWRFbGVtZW50ID0gcmVxdWlyZSgnLi9yZXNwb25zZWlkZ3JpZGVsZW1lbnQnKTtcclxuaW1wb3J0IExhc3RVcGRhdGVkRGF0ZSA9IHJlcXVpcmUoJy4vd29ya2xpc3RkYXRlJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IFJlc3BvbnNlVHlwZUxhYmVsID0gcmVxdWlyZSgnLi9yZXNwb25zZXR5cGVsYWJlbCcpO1xyXG5pbXBvcnQgVG90YWxNYXJrVGlsZSA9IHJlcXVpcmUoJy4vdG90YWxtYXJrdGlsZScpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgcmVzcG9uc2VpZCBhbmQgbGFzdCB1cGRhdGVkIGRhdGUgY29sdW1uXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgZGlzcGxheUlkPzogc3RyaW5nO1xyXG4gICAgZGF0ZVZhbHVlPzogRGF0ZTtcclxuICAgIHdvcmtsaXN0RGF0ZVR5cGU/OiBlbnVtcy5Xb3JrTGlzdERhdGVUeXBlO1xyXG4gICAgaXNSZXNwb25zZUlkQ2xpY2thYmxlPzogYm9vbGVhbjtcclxuICAgIGlzUmVzcG9uc2VUeXBlTGFiZWxWaXNpYmxlPzogYm9vbGVhbjtcclxuXHRpc1RpbGVWaWV3PzogYm9vbGVhbjtcclxuXHRoYXNOdW1lcmljTWFyaz86IGJvb2xlYW47XHJcblx0bWFya2luZ1Byb2dyZXNzPzogbnVtYmVyO1xyXG4gICAgdG90YWxNYXJrVmFsdWU/OiBudW1iZXI7XHJcbiAgICByZXNwb25zZVR5cGU/OiBlbnVtcy5SZXNwb25zZVR5cGU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9ydGhlIGdyaWQgY29sdW1uIHJlc3BvbnNlaWQgYW5kIGxhc3QgdXBkYXRlZCBkYXRlXHJcbiAqL1xyXG5jbGFzcyBSZXNwb25zZUlkQ29sdW1uIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgUmVzcG9uc2VJZENvbHVtblxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sIHdsLWlkJz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC1pbm5lcic+XHJcbiAgICAgICAgICAgICAgICA8UmVzcG9uc2VJZEdyaWRFbGVtZW50IHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUlkPXt0aGlzLnByb3BzLmRpc3BsYXlJZH0gaXNDbGlja2FibGUgPSB7dGhpcy5wcm9wcy5pc1Jlc3BvbnNlSWRDbGlja2FibGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfSBrZXk9eydrZXlfcmVzcG9uc2VfaWRfZ3JpZF9lbGVtZW50XycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1RpbGVWaWV3PXt0aGlzLnByb3BzLmlzVGlsZVZpZXd9IC8+XHJcblxyXG4gICAgICAgICAgICAgICAgPFJlc3BvbnNlVHlwZUxhYmVsIGlkID0geyB0aGlzLnByb3BzLmlkICsgJ19TZWVkJyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IHsgdGhpcy5wcm9wcy5pZCArICdfU2VlZCcgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1Jlc3BvbnNlVHlwZUxhYmVsVmlzaWJsZSA9IHsgdGhpcy5wcm9wcy5pc1Jlc3BvbnNlVHlwZUxhYmVsVmlzaWJsZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZSA9IHsgdGhpcy5wcm9wcy5yZXNwb25zZVR5cGV9Lz5cclxuXHJcblx0XHRcdFx0PFRvdGFsTWFya1RpbGUgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX3RvdGFsbWFya3RpbGUnfVxyXG5cdFx0XHRcdFx0a2V5PXt0aGlzLnByb3BzLmlkICsgJ190b3RhbG1hcmt0aWxla2V5J31cclxuXHRcdFx0XHRcdHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuXHRcdFx0XHRcdGlzTm9uTnVtZXJpY01hcms9eyF0aGlzLnByb3BzLmhhc051bWVyaWNNYXJrfVxyXG5cdFx0XHRcdFx0bWF4aW11bU1hcms9ezB9XHJcblx0XHRcdFx0XHR0b3RhbE1hcms9e3RoaXMucHJvcHMudG90YWxNYXJrVmFsdWV9XHJcblx0XHRcdFx0XHRtYXJraW5nUHJvZ3Jlc3M9e3RoaXMucHJvcHMubWFya2luZ1Byb2dyZXNzfSAvPlxyXG5cclxuICAgICAgICAgICAgICAgIDxMYXN0VXBkYXRlZERhdGUgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlVHlwZT17dGhpcy5wcm9wcy53b3JrbGlzdERhdGVUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlVmFsdWU9e3RoaXMucHJvcHMuZGF0ZVZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUaWxlVmlldz17dGhpcy5wcm9wcy5pc1RpbGVWaWV3fVxyXG5cdFx0XHRcdFx0XHRrZXk9eydrZXlfbGFzdF91cGRhdGVkX2RhdGVfJyArIHRoaXMucHJvcHMuaWR9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBSZXNwb25zZUlkQ29sdW1uO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvcmVzcG9uc2VpZGNvbHVtbi50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWtCQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBS0E7QUFRQTtBQVNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1233:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/worklist/shared/reviewedbylabel.tsx ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar operationModeHelper = __webpack_require__(/*! ../../utility/userdetails/userinfo/operationmodehelper */ 289);\r\nvar stringFormatHelper = __webpack_require__(/*! ../../../utility/stringformat/stringformathelper */ 250);\r\n/**\r\n * Stateless reviewed by label component\r\n * @param props\r\n */\r\n/* tslint:disable:variable-name */\r\nvar ReviewedByLabel = function (props) {\r\n    /* tslint:enable:variable-name */\r\n    if (props.reviewedByInitials && props.reviewedBySurname || props.isAutoChecked) {\r\n        return (React.createElement(\"span\", { className: 'dim-text small-text' }, props.isAutoChecked ? localeStore.instance.\r\n            TranslateText('team-management.examiner-worklist.response-data.auto-reviewed') : operationModeHelper &&\r\n            props.reviewedById &&\r\n            operationModeHelper.authorisedExaminerRoleId ===\r\n                props.reviewedById ?\r\n            localeStore.instance.\r\n                TranslateText('team-management.examiner-worklist.response-data.reviewed-by-me') :\r\n            stringFormatHelper.getFormattedExaminerName(props.reviewedByInitials, props.reviewedBySurname)));\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\nmodule.exports = ReviewedByLabel;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9yZXZpZXdlZGJ5bGFiZWwudHN4P2VmMTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IFB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgb3BlcmF0aW9uTW9kZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvdXNlcmRldGFpbHMvdXNlcmluZm8vb3BlcmF0aW9ubW9kZWhlbHBlcicpO1xyXG5pbXBvcnQgc3RyaW5nRm9ybWF0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9zdHJpbmdmb3JtYXQvc3RyaW5nZm9ybWF0aGVscGVyJyk7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgcmV2aWV3ZWRCeUlkOiBudW1iZXI7XHJcbiAgICByZXZpZXdlZEJ5SW5pdGlhbHM6IHN0cmluZztcclxuICAgIHJldmlld2VkQnlTdXJuYW1lOiBzdHJpbmc7XHJcbiAgICBpc0F1dG9DaGVja2VkOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogU3RhdGVsZXNzIHJldmlld2VkIGJ5IGxhYmVsIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0gcHJvcHNcclxuICovXHJcbi8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cclxuY29uc3QgUmV2aWV3ZWRCeUxhYmVsID0gKHByb3BzOiBQcm9wcyk6IEpTWC5FbGVtZW50ID0+IHtcclxuICAgIC8qIHRzbGludDplbmFibGU6dmFyaWFibGUtbmFtZSAqL1xyXG4gICAgaWYgKHByb3BzLnJldmlld2VkQnlJbml0aWFscyAmJiBwcm9wcy5yZXZpZXdlZEJ5U3VybmFtZSB8fCBwcm9wcy5pc0F1dG9DaGVja2VkKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPCBzcGFuIGNsYXNzTmFtZT0nZGltLXRleHQgc21hbGwtdGV4dCcgPlxyXG4gICAgICAgICAgICAgICAge3Byb3BzLmlzQXV0b0NoZWNrZWQgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QucmVzcG9uc2UtZGF0YS5hdXRvLXJldmlld2VkJykgOiBvcGVyYXRpb25Nb2RlSGVscGVyICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMucmV2aWV3ZWRCeUlkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uTW9kZUhlbHBlci5hdXRob3Jpc2VkRXhhbWluZXJSb2xlSWQgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMucmV2aWV3ZWRCeUlkID9cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LnJlc3BvbnNlLWRhdGEucmV2aWV3ZWQtYnktbWUnKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nRm9ybWF0SGVscGVyLmdldEZvcm1hdHRlZEV4YW1pbmVyTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAocHJvcHMucmV2aWV3ZWRCeUluaXRpYWxzLCBwcm9wcy5yZXZpZXdlZEJ5U3VybmFtZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0ID0gUmV2aWV3ZWRCeUxhYmVsO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvcmV2aWV3ZWRieWxhYmVsLnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBU0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1234:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/components/worklist/shared/samplelabel.tsx ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../../components/utility/enums */ 225);\r\n/**\r\n * Stateless sample label component\r\n * @param props\r\n */\r\n/* tslint:disable:variable-name */\r\nvar SampleLabel = function (props) {\r\n    /* tslint:enable:variable-name */\r\n    if (props.sampleCommentId === enums.SampleReviewComment.None) {\r\n        return null;\r\n    }\r\n    else {\r\n        return (React.createElement(\"span\", { className: 'dim-text small-text' }, localeStore.instance.\r\n            TranslateText('team-management.response.supervisor-sampling-comments.' + props.sampleCommentId)));\r\n    }\r\n};\r\nmodule.exports = SampleLabel;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9zYW1wbGVsYWJlbC50c3g/ZDJkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgUHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9lbnVtcycpO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIHNhbXBsZUNvbW1lbnRJZDogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogU3RhdGVsZXNzIHNhbXBsZSBsYWJlbCBjb21wb25lbnRcclxuICogQHBhcmFtIHByb3BzXHJcbiAqL1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbmNvbnN0IFNhbXBsZUxhYmVsID0gKHByb3BzOiBQcm9wcyk6IEpTWC5FbGVtZW50ID0+IHtcclxuLyogdHNsaW50OmVuYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbiAgICBpZiAocHJvcHMuc2FtcGxlQ29tbWVudElkID09PSBlbnVtcy5TYW1wbGVSZXZpZXdDb21tZW50Lk5vbmUpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPCBzcGFuIGNsYXNzTmFtZT0gJ2RpbS10ZXh0IHNtYWxsLXRleHQnID5cclxuICAgICAgICAgICAgICAgIHsgbG9jYWxlU3RvcmUuaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LnJlc3BvbnNlLnN1cGVydmlzb3Itc2FtcGxpbmctY29tbWVudHMuJyArIHByb3BzLnNhbXBsZUNvbW1lbnRJZClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgPSBTYW1wbGVMYWJlbDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3NhbXBsZWxhYmVsLnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBRUE7QUFDQTtBQU1BOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUlBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1235:
/* no static exports found */
/* all exports used */
/*!***************************************************************************!*\
  !*** ./src/components/worklist/shared/standardisationworklistmessage.tsx ***!
  \***************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar StandardisationWorkListMessage = /** @class */ (function (_super) {\r\n    __extends(StandardisationWorkListMessage, _super);\r\n    /**\r\n     * Constructor for StandardisationWorklistMessage\r\n     * @param props\r\n     */\r\n    function StandardisationWorkListMessage(props) {\r\n        return _super.call(this, props, null) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    StandardisationWorkListMessage.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: 'grid-holder grid-view' },\r\n            React.createElement(\"div\", { className: 'grid-wrapper', id: this.props.id },\r\n                React.createElement(\"div\", { className: 'message-box worklist-msgs wait-advise-msg' },\r\n                    React.createElement(\"h3\", { className: 'bolder msg-title' }, localeStore.instance.TranslateText('marking.worklist.not-approved-helper.header')),\r\n                    React.createElement(\"p\", { className: 'message-body' }, \" \"),\r\n                    React.createElement(\"p\", null, localeStore.instance.TranslateText('marking.worklist.not-approved-helper.body-line-1')),\r\n                    React.createElement(\"p\", null,\r\n                        localeStore.instance.TranslateText('marking.worklist.not-approved-helper.body-line-2'),\r\n                        \" \"),\r\n                    React.createElement(\"p\", null)))));\r\n    };\r\n    return StandardisationWorkListMessage;\r\n}(pureRenderComponent));\r\nmodule.exports = StandardisationWorkListMessage;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9zdGFuZGFyZGlzYXRpb253b3JrbGlzdG1lc3NhZ2UudHN4P2I4YmIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IEJ1c3lJbmRpY2F0b3IgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2J1c3lpbmRpY2F0b3IvYnVzeWluZGljYXRvcicpO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxufVxyXG5cclxuY2xhc3MgU3RhbmRhcmRpc2F0aW9uV29ya0xpc3RNZXNzYWdlIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgU3RhbmRhcmRpc2F0aW9uV29ya2xpc3RNZXNzYWdlXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIG51bGwpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQtaG9sZGVyIGdyaWQtdmlldyc+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JpZC13cmFwcGVyJyBpZCA9IHt0aGlzLnByb3BzLmlkfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWVzc2FnZS1ib3ggd29ya2xpc3QtbXNncyB3YWl0LWFkdmlzZS1tc2cnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9J2JvbGRlciBtc2ctdGl0bGUnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3Qubm90LWFwcHJvdmVkLWhlbHBlci5oZWFkZXInKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J21lc3NhZ2UtYm9keSc+IDwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cD57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5ub3QtYXBwcm92ZWQtaGVscGVyLmJvZHktbGluZS0xJykgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cD57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5ub3QtYXBwcm92ZWQtaGVscGVyLmJvZHktbGluZS0yJykgfSA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gU3RhbmRhcmRpc2F0aW9uV29ya0xpc3RNZXNzYWdlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvc3RhbmRhcmRpc2F0aW9ud29ya2xpc3RtZXNzYWdlLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1236:
/* no static exports found */
/* all exports used */
/*!********************************************************************!*\
  !*** ./src/components/worklist/shared/supervisorreviewcomment.tsx ***!
  \********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * Stateless supervisor review comment component\r\n * @param props\r\n */\r\n/* tslint:disable:variable-name */\r\nvar SupervisorReviewComment = function (props) {\r\n    /* tslint:enable:variable-name */\r\n    if (props.reviewCommentId && props.reviewCommentId > 0) {\r\n        return (React.createElement(\"span\", { className: 'dim-text small-text' }, localeStore.instance.TranslateText('team-management.response.review-comments.' + props.reviewCommentId)));\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\nmodule.exports = SupervisorReviewComment;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9zdXBlcnZpc29ycmV2aWV3Y29tbWVudC50c3g/MjkyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICByZXZpZXdDb21tZW50SWQ6IGVudW1zLlNldEFzUmV2aWV3ZWRDb21tZW50O1xyXG59XHJcblxyXG4vKipcclxuICogU3RhdGVsZXNzIHN1cGVydmlzb3IgcmV2aWV3IGNvbW1lbnQgY29tcG9uZW50XHJcbiAqIEBwYXJhbSBwcm9wc1xyXG4gKi9cclxuLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5jb25zdCBTdXBlcnZpc29yUmV2aWV3Q29tbWVudCA9IChwcm9wczogUHJvcHMpOiBKU1guRWxlbWVudCA9PiB7XHJcbiAgICAvKiB0c2xpbnQ6ZW5hYmxlOnZhcmlhYmxlLW5hbWUgKi9cclxuICAgIGlmIChwcm9wcy5yZXZpZXdDb21tZW50SWQgJiYgcHJvcHMucmV2aWV3Q29tbWVudElkID4gMCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDwgc3BhbiBjbGFzc05hbWU9J2RpbS10ZXh0IHNtYWxsLXRleHQnID5cclxuICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQucmVzcG9uc2UucmV2aWV3LWNvbW1lbnRzLicgKyBwcm9wcy5yZXZpZXdDb21tZW50SWQpfVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgPSBTdXBlcnZpc29yUmV2aWV3Q29tbWVudDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3N1cGVydmlzb3JyZXZpZXdjb21tZW50LnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFPQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1237:
/* no static exports found */
/* all exports used */
/*!**********************************************************!*\
  !*** ./src/components/worklist/shared/totalmarktile.tsx ***!
  \**********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar totalMark = __webpack_require__(/*! ./totalmark */ 390);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar markingstore = __webpack_require__(/*! ../../../stores/marking/markingstore */ 236);\r\n/**\r\n * React component\r\n * @param {Props} props\r\n */\r\nvar TotalMarkTile = /** @class */ (function (_super) {\r\n    __extends(TotalMarkTile, _super);\r\n    /**\r\n     * Constructor for TotalMarkTile\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function TotalMarkTile(props, state) {\r\n        return _super.call(this, props) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    TotalMarkTile.prototype.render = function () {\r\n        if (this.props.isNonNumericMark || this.props.markingProgress === 0) {\r\n            return null;\r\n        }\r\n        var hasComplexOptionality = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ComplexOptionality, markingstore.instance.selectedQIGMarkSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        var totalprogress = this.props.markingProgress;\r\n        var result = React.createElement(\"span\", null);\r\n        var totalmark;\r\n        //Hide totalmark based on cc value and totalprogress.\r\n        if (hasComplexOptionality && totalprogress < 100) {\r\n            totalmark = '...';\r\n            result = (React.createElement(\"span\", { title: this.getTranslated('marking.worklist.complex-optionality.total-marks'), className: 'large-text', id: 'totalMark_' + this.props.id }, totalmark));\r\n        }\r\n        else {\r\n            totalmark = this.props.totalMark.toLocaleString(this.currentLocale);\r\n            result = (React.createElement(\"span\", { className: 'large-text', id: 'totalMark_' + this.props.id }, totalmark));\r\n        }\r\n        return (React.createElement(\"p\", { className: 'resp-mark small-text' },\r\n            React.createElement(\"span\", { className: 'dim-text' }, this.getTranslated('marking.worklist.list-view-column-headers.total-mark') + ':'),\r\n            result));\r\n    };\r\n    return TotalMarkTile;\r\n}(totalMark));\r\nmodule.exports = TotalMarkTile;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC90b3RhbG1hcmt0aWxlLnRzeD9kM2EzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgdG90YWxNYXJrID0gcmVxdWlyZSgnLi90b3RhbG1hcmsnKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzaGVscGVyJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMnKTtcclxuaW1wb3J0IG1hcmtpbmdzdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tYXJraW5nL21hcmtpbmdzdG9yZScpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqL1xyXG5jbGFzcyBUb3RhbE1hcmtUaWxlIGV4dGVuZHMgdG90YWxNYXJrIHtcclxuXHJcblx0LyoqXHJcblx0ICogQ29uc3RydWN0b3IgZm9yIFRvdGFsTWFya1RpbGVcclxuXHQgKiBAcGFyYW0gcHJvcHNcclxuXHQgKiBAcGFyYW0gc3RhdGVcclxuXHQgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBhbnksIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pc05vbk51bWVyaWNNYXJrIHx8IHRoaXMucHJvcHMubWFya2luZ1Byb2dyZXNzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaGFzQ29tcGxleE9wdGlvbmFsaXR5ID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkNvbXBsZXhPcHRpb25hbGl0eSxcclxuICAgICAgICAgICAgbWFya2luZ3N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHTWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICBsZXQgdG90YWxwcm9ncmVzcyA9IHRoaXMucHJvcHMubWFya2luZ1Byb2dyZXNzO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSA8c3Bhbj48L3NwYW4+O1xyXG4gICAgICAgIGxldCB0b3RhbG1hcms6IHN0cmluZztcclxuICAgICAgICAvL0hpZGUgdG90YWxtYXJrIGJhc2VkIG9uIGNjIHZhbHVlIGFuZCB0b3RhbHByb2dyZXNzLlxyXG4gICAgICAgIGlmIChoYXNDb21wbGV4T3B0aW9uYWxpdHkgJiYgdG90YWxwcm9ncmVzcyA8IDEwMCkge1xyXG4gICAgICAgICAgICB0b3RhbG1hcmsgPSAnLi4uJztcclxuICAgICAgICAgICAgcmVzdWx0ID0gKDxzcGFuIHRpdGxlPXt0aGlzLmdldFRyYW5zbGF0ZWQoJ21hcmtpbmcud29ya2xpc3QuY29tcGxleC1vcHRpb25hbGl0eS50b3RhbC1tYXJrcycpfSBjbGFzc05hbWU9J2xhcmdlLXRleHQnXHJcbiAgICAgICAgICAgICAgICBpZD17J3RvdGFsTWFya18nICsgdGhpcy5wcm9wcy5pZH0+e3RvdGFsbWFya308L3NwYW4+KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0b3RhbG1hcmsgPSB0aGlzLnByb3BzLnRvdGFsTWFyay50b0xvY2FsZVN0cmluZyh0aGlzLmN1cnJlbnRMb2NhbGUpO1xyXG4gICAgICAgICAgICByZXN1bHQgPSAoPHNwYW4gY2xhc3NOYW1lPSdsYXJnZS10ZXh0JyBpZD17J3RvdGFsTWFya18nICsgdGhpcy5wcm9wcy5pZH0+e3RvdGFsbWFya308L3NwYW4+KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICg8cCBjbGFzc05hbWU9J3Jlc3AtbWFyayBzbWFsbC10ZXh0Jz5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdkaW0tdGV4dCc+e3RoaXMuZ2V0VHJhbnNsYXRlZCgnbWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMudG90YWwtbWFyaycpICsgJzonfTwvc3Bhbj5cclxuICAgICAgICAgICAge3Jlc3VsdH1cclxuICAgICAgICA8L3A+KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gVG90YWxNYXJrVGlsZTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC90b3RhbG1hcmt0aWxlLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7O0FBR0E7QUFDQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1238:
/* no static exports found */
/* all exports used */
/*!********************************************************************************!*\
  !*** ./src/components/worklist/targetsummary/liveorpooledremarktargetitem.tsx ***!
  \********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar TargetDetails = __webpack_require__(/*! ./targetdetails */ 1239);\r\nvar TargetItem = __webpack_require__(/*! ./targetitem */ 595);\r\nvar ProgressIndicator = __webpack_require__(/*! ../../utility/progressindicator/circularprogressindicator */ 1198);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar LiveOrPooledRemarkTargetItem = /** @class */ (function (_super) {\r\n    __extends(LiveOrPooledRemarkTargetItem, _super);\r\n    /**\r\n     * constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function LiveOrPooledRemarkTargetItem(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.onTargetClickFun = _this.onTargetClick.bind(_this, _this.props.target.markingModeID, _this.props.remarkRequestTypeID, _this.props.isDirectedRemark);\r\n        var markingModeName;\r\n        if (_this.props.target.markingModeID === enums.MarkingMode.Remarking) {\r\n            _this.markingModeName = enums.RemarkRequestType[_this.props.remarkRequestTypeID];\r\n        }\r\n        else {\r\n            _this.markingModeName = enums.MarkingMode[_this.props.target.markingModeID];\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.render = function () {\r\n        var idString = this.props.id;\r\n        //If the maximum remarking target is 0, then we don't have to show the particular remark tab\r\n        if (this.props.target.maximumMarkingLimit === 0 && this.props.remarkRequestTypeID !== undefined) {\r\n            return null;\r\n        }\r\n        else {\r\n            return (React.createElement(\"li\", { id: 'target_' + this.markingModeName, className: classNames('panel', {\r\n                    'completed': (this.props.target.isTargetCompleted || this.props.isOverAllTargetCompleted),\r\n                    'disabled': this.props.isDisabled, 'open': this.props.isSelected\r\n                }), onClick: this.onTargetClickFun },\r\n                !this.props.isAggregatedTargetsCCEnabled ? this.renderTargetIndicator() :\r\n                    React.createElement(\"span\", { className: 'menu-count' },\r\n                        React.createElement(\"span\", { className: 'sprite-icon pencil-icon' })),\r\n                this.renderProgressIndicatorSection(idString),\r\n                this.renderTickSection(),\r\n                React.createElement(\"a\", { href: 'javascript:void(0)', id: this.markingModeName + '_title', className: 'left-menu-link panel-link', title: this.markingModeName === enums.getEnumString(enums.MarkingMode, enums.MarkingMode.LiveMarking) ?\r\n                        localeStore.instance.TranslateText('generic.marking-modes.Marking') :\r\n                        localeStore.instance.TranslateText('generic.marking-modes.' + this.markingModeName) },\r\n                    React.createElement(\"span\", { id: this.markingModeName + '_menutext', className: 'menu-text large-text' }, this.markingModeName === enums.getEnumString(enums.MarkingMode, enums.MarkingMode.LiveMarking) ?\r\n                        localeStore.instance.TranslateText('generic.marking-modes.Marking') :\r\n                        localeStore.instance.TranslateText('generic.marking-modes.' + this.markingModeName)),\r\n                    this.renderRemaingDaysSection(),\r\n                    React.createElement(\"div\", { className: 'menu-text-small small-text' },\r\n                        React.createElement(\"span\", { id: this.markingModeName + '_target_date', className: 'menu-label' }, localeStore.instance.TranslateText('marking.worklist.left-panel.target' +\r\n                            ((this.props.target.isTargetCompleted || this.props.isOverAllTargetCompleted)\r\n                                ? '-completed-date-label' : '-date-label'))),\r\n                        React.createElement(\"span\", { id: this.markingModeName + '_targetCompleteDate', className: 'date-text' }, this.getFormattedMarkingCompletionDate()))),\r\n                this.renderTargetDetails()));\r\n        }\r\n    };\r\n    /**\r\n     * Render Target details\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.renderTargetDetails = function () {\r\n        if (this.props.target.markingModeID === enums.MarkingMode.LiveMarking) {\r\n            return (React.createElement(TargetDetails, { id: this.props.id, key: this.props.id, markingTargetsSummary: this.props.target, selectedLanguage: this.props.selectedLanguage, renderdOn: this.props.renderedOn, directedRemarkTarget: this.props.directedRemarkTarget, isTeamManagementMode: this.props.isTeamManagementMode }));\r\n        }\r\n    };\r\n    /**\r\n     * Render the Target Status section, If target is not completed then display open response count for progress wheel animation\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.renderTargetIndicator = function () {\r\n        if ((this.props.target.isCurrentTarget || this.props.target.markingModeID === enums.MarkingMode.Remarking)\r\n            && !this.props.isDisabled && (!this.props.target.isTargetCompleted && !this.props.isOverAllTargetCompleted)) {\r\n            return React.createElement(\"span\", { id: this.markingModeName + '_status', className: 'menu-count graph-transition' }, this.getTotalOpenResponsesCount());\r\n        }\r\n        else if (!this.props.target.isTargetCompleted && !this.props.isOverAllTargetCompleted) {\r\n            return (React.createElement(\"span\", { id: this.markingModeName + '_status', className: 'menu-count' },\r\n                React.createElement(\"span\", { id: this.markingModeName + '_dotindicator', className: 'sprite-icon dot-dot-dot-icon' })));\r\n        }\r\n    };\r\n    /**\r\n     * Render the tick section\r\n     * @returns\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.renderTickSection = function () {\r\n        if (this.props.target.isTargetCompleted || this.props.isOverAllTargetCompleted) {\r\n            return (React.createElement(\"span\", { id: this.markingModeName + '_status', className: 'menu-count-completed' },\r\n                React.createElement(\"span\", { className: 'sprite-icon tick-circle-icon' })));\r\n        }\r\n    };\r\n    /**\r\n     * Renders the progress indicator section\r\n     * @param idString\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.renderProgressIndicatorSection = function (idString) {\r\n        if (!this.props.isOverAllTargetCompleted &&\r\n            !this.props.target.isTargetCompleted &&\r\n            this.props.isSelected &&\r\n            !this.props.isAggregatedTargetsCCEnabled) {\r\n            return (React.createElement(\"div\", { className: 'radial-progress-holder animated', id: this.markingModeName + '_progress' },\r\n                this.renderProgressIndicator(),\r\n                this.renderProgressIndicatorContents(idString)));\r\n        }\r\n    };\r\n    /**\r\n     * Render the progress indicator contents, If target is completed no need to display this section\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.renderProgressIndicatorContents = function (idString) {\r\n        var directedRemarkResponseCountList = this.getDirectedRemarkRequestProgress();\r\n        var totalResponsesCount = this.props.target.examinerProgress.closedResponsesCount +\r\n            +this.props.target.examinerProgress.pendingResponsesCount\r\n            + this.props.target.examinerProgress.openResponsesCount\r\n            + (isNaN(this.props.target.examinerProgress.atypicalOpenResponsesCount) ?\r\n                0 : this.props.target.examinerProgress.atypicalOpenResponsesCount)\r\n            + (isNaN(this.props.target.examinerProgress.atypicalPendingResponsesCount) ?\r\n                0 : this.props.target.examinerProgress.atypicalPendingResponsesCount)\r\n            + (isNaN(this.props.target.examinerProgress.atypicalClosedResponsesCount) ?\r\n                0 : this.props.target.examinerProgress.atypicalClosedResponsesCount)\r\n            + directedRemarkResponseCountList[0]\r\n            + directedRemarkResponseCountList[1]\r\n            + directedRemarkResponseCountList[2];\r\n        // Rendering over allocation\r\n        var overAllocationIndicator = this.renderOverAllocationIndicator(this.props.target, totalResponsesCount);\r\n        if (!this.props.target.isTargetCompleted && !this.props.isOverAllTargetCompleted) {\r\n            return React.createElement(\"div\", { className: 'inset-text' },\r\n                overAllocationIndicator,\r\n                React.createElement(\"div\", { id: 'targetSummaryCount' + idString, className: 'large-text' },\r\n                    this.props.target.examinerProgress.closedResponsesCount\r\n                        + this.props.target.examinerProgress.pendingResponsesCount\r\n                        + (isNaN(this.props.target.examinerProgress.atypicalPendingResponsesCount) ?\r\n                            0 : this.props.target.examinerProgress.atypicalPendingResponsesCount)\r\n                        + (isNaN(this.props.target.examinerProgress.atypicalClosedResponsesCount) ?\r\n                            0 : this.props.target.examinerProgress.atypicalClosedResponsesCount)\r\n                        + directedRemarkResponseCountList[1]\r\n                        + directedRemarkResponseCountList[2],\r\n                    \"/\",\r\n                    (this.props.target.maximumMarkingLimit)),\r\n                React.createElement(\"div\", { className: 'small-text', id: 'submitted-text' + idString }, localeStore.instance.TranslateText('marking.worklist.left-panel.submitted-count-label')));\r\n        }\r\n    };\r\n    /**\r\n     * Renders the over allocation indicator in the progress summary\r\n     * @param target\r\n     * @param totalResponsesCount\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.renderOverAllocationIndicator = function (target, totalResponsesCount) {\r\n        var currentlyInOverAllocation = target.overAllocationCount > 0 ?\r\n            totalResponsesCount >= target.maximumMarkingLimit : false;\r\n        return currentlyInOverAllocation ?\r\n            React.createElement(\"span\", { className: 'sprite-icon lock-open-icon', title: localeStore.instance.TranslateText('marking.worklist.left-panel.over-allocation-tooltip') }) : null;\r\n    };\r\n    /**\r\n     * Render the progress indicator, If target is completed no need to display this section\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.renderProgressIndicator = function () {\r\n        if (!this.props.target.isTargetCompleted && !this.props.isOverAllTargetCompleted) {\r\n            return React.createElement(ProgressIndicator, { size: 104, startDegree: 0, endDegree: 360, trackWidth: 6, trackStyle: 'target-track-style', progress: this.getProgressDetails() });\r\n        }\r\n    };\r\n    /**\r\n     * Get the remaining days section, If target is completed no need to display the section\r\n     * @param markingTarget\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.renderRemaingDaysSection = function () {\r\n        if (!this.props.target.isTargetCompleted && !this.props.isOverAllTargetCompleted) {\r\n            return React.createElement(\"span\", { id: this.markingModeName + '_targetremainingDays', className: 'menu-highlight-text' },\r\n                this.remainingDaysForMarkingCompletion(),\r\n                ' ' + localeStore.instance.TranslateText('marking.worklist.left-panel.days-until-target'));\r\n        }\r\n        else {\r\n            return React.createElement(\"span\", { id: this.markingModeName + '_targetremainingDays', className: 'menu-highlight-text' }, localeStore.instance.TranslateText('marking.worklist.left-panel.target-completed'));\r\n        }\r\n    };\r\n    /**\r\n     * Method will return an array of progress items.\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.getProgressDetails = function () {\r\n        var progressItems = new Array();\r\n        var directedRemarkResponseCountList = this.getDirectedRemarkRequestProgress();\r\n        var total = this.props.target.maximumMarkingLimit;\r\n        // If there are any responses, then colour should be applied to the progress wheel\r\n        if (total > 0) {\r\n            var closedResponsesCount = 0;\r\n            var inGraceResponsesCount = 0;\r\n            var openResponsesCount = 0;\r\n            // Determining the closed responses count\r\n            closedResponsesCount = this.props.target.examinerProgress.closedResponsesCount\r\n                + (isNaN(this.props.target.examinerProgress.atypicalClosedResponsesCount) ?\r\n                    0 : this.props.target.examinerProgress.atypicalClosedResponsesCount)\r\n                + directedRemarkResponseCountList[2];\r\n            // If closed responses count doesn't meet the actual marking target, then determine the in-grace responses count\r\n            if (closedResponsesCount < total) {\r\n                // Determining the in-grace responses count\r\n                inGraceResponsesCount = this.props.target.examinerProgress.pendingResponsesCount\r\n                    + (isNaN(this.props.target.examinerProgress.atypicalPendingResponsesCount) ?\r\n                        0 : this.props.target.examinerProgress.atypicalPendingResponsesCount)\r\n                    + directedRemarkResponseCountList[1];\r\n                // If the in-grace + closed responses count doesn't meet the actual marking target,\r\n                // then determine the open responses count\r\n                if ((inGraceResponsesCount + closedResponsesCount) < total) {\r\n                    // Determining the open responses count\r\n                    openResponsesCount = this.props.target.examinerProgress.openResponsesCount\r\n                        + (isNaN(this.props.target.examinerProgress.atypicalOpenResponsesCount) ?\r\n                            0 : this.props.target.examinerProgress.atypicalOpenResponsesCount)\r\n                        + directedRemarkResponseCountList[0];\r\n                    // If the open + in-grace + closed responses count crosses the actual marking target,\r\n                    // then the open responses count should be the difference between the marking target limit\r\n                    // and the sum of closed and in-grace responses\r\n                    if ((openResponsesCount + inGraceResponsesCount + closedResponsesCount) > total) {\r\n                        openResponsesCount = total - (closedResponsesCount + inGraceResponsesCount);\r\n                    }\r\n                }\r\n                else {\r\n                    // If the in-grace + closed responses count crosses the actual marking target,\r\n                    // then the in-grace responses count should be the difference between the marking target limit\r\n                    // and the count of closed responses\r\n                    inGraceResponsesCount = total - closedResponsesCount;\r\n                }\r\n            }\r\n            else {\r\n                // If the closed responses count crosses the actual marking target,\r\n                // then the closed responses count should be the set as the marking target limit\r\n                closedResponsesCount = total;\r\n            }\r\n            // Determining the closed responses percentage\r\n            var closedPercentage = 100 / total * closedResponsesCount;\r\n            // Determining the pending responses percentage\r\n            var inGracePercentage = 100 / total * inGraceResponsesCount;\r\n            // Determining the open responses percentage\r\n            var openPercentage = 100 / total * openResponsesCount;\r\n            if (closedPercentage > 0) {\r\n                progressItems.push({ progress: closedPercentage, className: 'target-progress-style' });\r\n            }\r\n            if (inGracePercentage > 0) {\r\n                progressItems.push({ progress: inGracePercentage, className: 'target-progress-style2' });\r\n            }\r\n            if (openPercentage > 0) {\r\n                progressItems.push({ progress: openPercentage, className: 'target-progress-style1' });\r\n            }\r\n        }\r\n        return progressItems;\r\n    };\r\n    /**\r\n     * Get directed remark request progress count\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.getDirectedRemarkRequestProgress = function () {\r\n        var directedRemarkTargets = this.props.directedRemarkTarget;\r\n        var directedRemarkResponseCountList = [];\r\n        var open = 0;\r\n        var closed = 0;\r\n        var inGrace = 0;\r\n        if (directedRemarkTargets != null && directedRemarkTargets !== undefined) {\r\n            var directedRemarkTargetsList = directedRemarkTargets.map(function (markingTarget) {\r\n                if (markingTarget.markingModeID === enums.MarkingMode.Remarking\r\n                    && markingTarget.examinerProgress.isDirectedRemark === true) {\r\n                    open += markingTarget.examinerProgress.openResponsesCount;\r\n                    inGrace += markingTarget.examinerProgress.pendingResponsesCount;\r\n                    closed += markingTarget.examinerProgress.closedResponsesCount;\r\n                }\r\n            });\r\n        }\r\n        directedRemarkResponseCountList.push(open);\r\n        directedRemarkResponseCountList.push(inGrace);\r\n        directedRemarkResponseCountList.push(closed);\r\n        return directedRemarkResponseCountList;\r\n    };\r\n    /**\r\n     * Method to return the total open responses count\r\n     */\r\n    LiveOrPooledRemarkTargetItem.prototype.getTotalOpenResponsesCount = function () {\r\n        var directedRemarkResponseCountList = this.getDirectedRemarkRequestProgress();\r\n        var openResponseCount = 0;\r\n        openResponseCount += this.props.target.examinerProgress.openResponsesCount\r\n            + (isNaN(this.props.target.examinerProgress.atypicalOpenResponsesCount) ?\r\n                0 : this.props.target.examinerProgress.atypicalOpenResponsesCount)\r\n            + directedRemarkResponseCountList[0];\r\n        return openResponseCount;\r\n    };\r\n    return LiveOrPooledRemarkTargetItem;\r\n}(TargetItem));\r\nmodule.exports = LiveOrPooledRemarkTargetItem;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3RhcmdldHN1bW1hcnkvbGl2ZW9ycG9vbGVkcmVtYXJrdGFyZ2V0aXRlbS50c3g/MmIxYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxu77u/aW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgbG9jYWxlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9sb2NhbGUvbG9jYWxlaGVscGVyJyk7XHJcbmltcG9ydCBUYXJnZXREZXRhaWxzID0gcmVxdWlyZSgnLi90YXJnZXRkZXRhaWxzJyk7XHJcbmltcG9ydCBUYXJnZXRJdGVtID0gcmVxdWlyZSgnLi90YXJnZXRpdGVtJyk7XHJcbmltcG9ydCBQcm9ncmVzc0luZGljYXRvciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvcHJvZ3Jlc3NpbmRpY2F0b3IvY2lyY3VsYXJwcm9ncmVzc2luZGljYXRvcicpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBtYXJraW5nVGFyZ2V0U3VtbWFyeSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC90eXBpbmdzL21hcmtpbmd0YXJnZXRzdW1tYXJ5Jyk7XHJcbmltcG9ydCB0YXJnZXRTdW1tYXJ5U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvd29ya2xpc3QvdGFyZ2V0c3VtbWFyeXN0b3JlJyk7XHJcbmxldCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xyXG5pbXBvcnQgSW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBhIGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgUHJvcHNCYXNlLCBMb2NhbGVTZWxlY3Rpb25CYXNlIHtcclxuICAgIHRhcmdldDogbWFya2luZ1RhcmdldFN1bW1hcnk7XHJcbiAgICBpc0Rpc2FibGVkOiBib29sZWFuO1xyXG4gICAgaXNTZWxlY3RlZDogYm9vbGVhbjtcclxuICAgIHJlbmRlcmVkT246IG51bWJlcjtcclxuICAgIG9uQ2xpY2tDYWxsYmFjazogRnVuY3Rpb247XHJcbiAgICBkaXJlY3RlZFJlbWFya1RhcmdldD86IEltbXV0YWJsZS5MaXN0PG1hcmtpbmdUYXJnZXRTdW1tYXJ5PjtcclxuICAgIGlzT3ZlckFsbFRhcmdldENvbXBsZXRlZDogYm9vbGVhbjtcclxuICAgIHJlbWFya1JlcXVlc3RUeXBlSUQ6IGVudW1zLlJlbWFya1JlcXVlc3RUeXBlO1xyXG4gICAgaXNEaXJlY3RlZFJlbWFyazogYm9vbGVhbjtcclxuICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBib29sZWFuO1xyXG4gICAgaXNBZ2dyZWdhdGVkVGFyZ2V0c0NDRW5hYmxlZDogYm9vbGVhbjtcclxufVxyXG5cclxuY2xhc3MgTGl2ZU9yUG9vbGVkUmVtYXJrVGFyZ2V0SXRlbSBleHRlbmRzIFRhcmdldEl0ZW0ge1xyXG5cclxuICAgIHByaXZhdGUgbWFya2luZ01vZGVOYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB2YXJpYWJsZSBmb3IgaG9sZGluZyBmdW5jdGlvbnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblRhcmdldENsaWNrRnVuOiBhbnk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjb25zdHJ1Y3RvclxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgICAgICB0aGlzLm9uVGFyZ2V0Q2xpY2tGdW4gPSB0aGlzLm9uVGFyZ2V0Q2xpY2suYmluZChcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy50YXJnZXQubWFya2luZ01vZGVJRCxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZW1hcmtSZXF1ZXN0VHlwZUlELFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmlzRGlyZWN0ZWRSZW1hcmspO1xyXG5cclxuICAgICAgICBsZXQgbWFya2luZ01vZGVOYW1lO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRhcmdldC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5SZW1hcmtpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJraW5nTW9kZU5hbWUgPSBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZVt0aGlzLnByb3BzLnJlbWFya1JlcXVlc3RUeXBlSURdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya2luZ01vZGVOYW1lID0gZW51bXMuTWFya2luZ01vZGVbdGhpcy5wcm9wcy50YXJnZXQubWFya2luZ01vZGVJRF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgaWRTdHJpbmcgPSB0aGlzLnByb3BzLmlkO1xyXG4gICAgICAgIC8vSWYgdGhlIG1heGltdW0gcmVtYXJraW5nIHRhcmdldCBpcyAwLCB0aGVuIHdlIGRvbid0IGhhdmUgdG8gc2hvdyB0aGUgcGFydGljdWxhciByZW1hcmsgdGFiXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudGFyZ2V0Lm1heGltdW1NYXJraW5nTGltaXQgPT09IDAgJiYgdGhpcy5wcm9wcy5yZW1hcmtSZXF1ZXN0VHlwZUlEICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxsaSBpZD0geyd0YXJnZXRfJyArIHRoaXMubWFya2luZ01vZGVOYW1lfSBjbGFzc05hbWU9eyBjbGFzc05hbWVzKCdwYW5lbCcsXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29tcGxldGVkJzogKHRoaXMucHJvcHMudGFyZ2V0LmlzVGFyZ2V0Q29tcGxldGVkIHx8IHRoaXMucHJvcHMuaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc2FibGVkJzogdGhpcy5wcm9wcy5pc0Rpc2FibGVkLCAnb3Blbic6IHRoaXMucHJvcHMuaXNTZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pIH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5vblRhcmdldENsaWNrRnVuIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyF0aGlzLnByb3BzLmlzQWdncmVnYXRlZFRhcmdldHNDQ0VuYWJsZWQgPyB0aGlzLnJlbmRlclRhcmdldEluZGljYXRvcigpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXsnbWVudS1jb3VudCd9PjxzcGFuIGNsYXNzTmFtZT17J3Nwcml0ZS1pY29uIHBlbmNpbC1pY29uJ30+PC9zcGFuPjwvc3Bhbj59XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiBQcm9ncmVzcyBpbmRpY2F0b3Igd2l0aCB0YXJnZXQgc3VtbWFyeSovfVxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlclByb2dyZXNzSW5kaWNhdG9yU2VjdGlvbihpZFN0cmluZyl9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiB0YXJnZXQgc3VtbWFyeSBpbiB0aGUgR3JhcGgqL31cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJUaWNrU2VjdGlvbigpIH1cclxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIGlkPXt0aGlzLm1hcmtpbmdNb2RlTmFtZSArICdfdGl0bGUnfSBjbGFzc05hbWU9J2xlZnQtbWVudS1saW5rIHBhbmVsLWxpbmsnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLm1hcmtpbmdNb2RlTmFtZSA9PT0gZW51bXMuZ2V0RW51bVN0cmluZyhlbnVtcy5NYXJraW5nTW9kZSwgZW51bXMuTWFya2luZ01vZGUuTGl2ZU1hcmtpbmcpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMubWFya2luZy1tb2Rlcy5NYXJraW5nJykgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5tYXJraW5nLW1vZGVzLicgKyB0aGlzLm1hcmtpbmdNb2RlTmFtZSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD17IHRoaXMubWFya2luZ01vZGVOYW1lICsgJ19tZW51dGV4dCd9IGNsYXNzTmFtZT0nbWVudS10ZXh0IGxhcmdlLXRleHQnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMubWFya2luZ01vZGVOYW1lID09PSBlbnVtcy5nZXRFbnVtU3RyaW5nKGVudW1zLk1hcmtpbmdNb2RlLCBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZykgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMubWFya2luZy1tb2Rlcy5NYXJraW5nJykgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMubWFya2luZy1tb2Rlcy4nICsgdGhpcy5tYXJraW5nTW9kZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlclJlbWFpbmdEYXlzU2VjdGlvbigpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21lbnUtdGV4dC1zbWFsbCBzbWFsbC10ZXh0Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPXsgdGhpcy5tYXJraW5nTW9kZU5hbWUgKyAnX3RhcmdldF9kYXRlJ30gY2xhc3NOYW1lPSdtZW51LWxhYmVsJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5sZWZ0LXBhbmVsLnRhcmdldCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKHRoaXMucHJvcHMudGFyZ2V0LmlzVGFyZ2V0Q29tcGxldGVkIHx8IHRoaXMucHJvcHMuaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnLWNvbXBsZXRlZC1kYXRlLWxhYmVsJyA6ICctZGF0ZS1sYWJlbCcpKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD17IHRoaXMubWFya2luZ01vZGVOYW1lICsgJ190YXJnZXRDb21wbGV0ZURhdGUnfSBjbGFzc05hbWU9J2RhdGUtdGV4dCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLmdldEZvcm1hdHRlZE1hcmtpbmdDb21wbGV0aW9uRGF0ZSgpIH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJUYXJnZXREZXRhaWxzKCkgfVxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgVGFyZ2V0IGRldGFpbHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZW5kZXJUYXJnZXREZXRhaWxzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRhcmdldC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZykge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPFRhcmdldERldGFpbHMgaWQ9e3RoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXt0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeT17dGhpcy5wcm9wcy50YXJnZXR9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfSByZW5kZXJkT24gPSB7IHRoaXMucHJvcHMucmVuZGVyZWRPbiB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0ZWRSZW1hcmtUYXJnZXQ9e3RoaXMucHJvcHMuZGlyZWN0ZWRSZW1hcmtUYXJnZXR9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNUZWFtTWFuYWdlbWVudE1vZGUgPSB7IHRoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGUgfT5cclxuICAgICAgICAgICAgICAgIDwvVGFyZ2V0RGV0YWlscz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIFRhcmdldCBTdGF0dXMgc2VjdGlvbiwgSWYgdGFyZ2V0IGlzIG5vdCBjb21wbGV0ZWQgdGhlbiBkaXNwbGF5IG9wZW4gcmVzcG9uc2UgY291bnQgZm9yIHByb2dyZXNzIHdoZWVsIGFuaW1hdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlbmRlclRhcmdldEluZGljYXRvcigpIHtcclxuICAgICAgICBpZiAoKHRoaXMucHJvcHMudGFyZ2V0LmlzQ3VycmVudFRhcmdldCB8fCB0aGlzLnByb3BzLnRhcmdldC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5SZW1hcmtpbmcpXHJcbiAgICAgICAgICAgICYmICF0aGlzLnByb3BzLmlzRGlzYWJsZWQgJiYgKCF0aGlzLnByb3BzLnRhcmdldC5pc1RhcmdldENvbXBsZXRlZCAmJiAhdGhpcy5wcm9wcy5pc092ZXJBbGxUYXJnZXRDb21wbGV0ZWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8c3BhbiBpZD17dGhpcy5tYXJraW5nTW9kZU5hbWUgKyAnX3N0YXR1cyd9IGNsYXNzTmFtZT0gJ21lbnUtY291bnQgZ3JhcGgtdHJhbnNpdGlvbic+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMuZ2V0VG90YWxPcGVuUmVzcG9uc2VzQ291bnQoKSB9PC9zcGFuPjtcclxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnByb3BzLnRhcmdldC5pc1RhcmdldENvbXBsZXRlZCAmJiAhdGhpcy5wcm9wcy5pc092ZXJBbGxUYXJnZXRDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICg8c3BhbiBpZD17dGhpcy5tYXJraW5nTW9kZU5hbWUgKyAnX3N0YXR1cyd9IGNsYXNzTmFtZT0gJ21lbnUtY291bnQnPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9e3RoaXMubWFya2luZ01vZGVOYW1lICsgJ19kb3RpbmRpY2F0b3InfSBjbGFzc05hbWU9ICdzcHJpdGUtaWNvbiBkb3QtZG90LWRvdC1pY29uJz48L3NwYW4+PC9zcGFuPik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIHRoZSB0aWNrIHNlY3Rpb25cclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyVGlja1NlY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudGFyZ2V0LmlzVGFyZ2V0Q29tcGxldGVkIHx8IHRoaXMucHJvcHMuaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPHNwYW4gaWQ9e3RoaXMubWFya2luZ01vZGVOYW1lICsgJ19zdGF0dXMnfSBjbGFzc05hbWU9J21lbnUtY291bnQtY29tcGxldGVkJz5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3ByaXRlLWljb24gdGljay1jaXJjbGUtaWNvbic+PC9zcGFuPlxyXG4gICAgICAgICAgICA8L3NwYW4+KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXJzIHRoZSBwcm9ncmVzcyBpbmRpY2F0b3Igc2VjdGlvblxyXG4gICAgICogQHBhcmFtIGlkU3RyaW5nXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyUHJvZ3Jlc3NJbmRpY2F0b3JTZWN0aW9uKGlkU3RyaW5nOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhdGhpcy5wcm9wcy5pc092ZXJBbGxUYXJnZXRDb21wbGV0ZWQgJiZcclxuICAgICAgICAgICAgIXRoaXMucHJvcHMudGFyZ2V0LmlzVGFyZ2V0Q29tcGxldGVkICYmXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaXNTZWxlY3RlZCAmJlxyXG4gICAgICAgICAgICAhdGhpcy5wcm9wcy5pc0FnZ3JlZ2F0ZWRUYXJnZXRzQ0NFbmFibGVkXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPGRpdiBjbGFzc05hbWU9J3JhZGlhbC1wcm9ncmVzcy1ob2xkZXIgYW5pbWF0ZWQnIGlkPXt0aGlzLm1hcmtpbmdNb2RlTmFtZSArICdfcHJvZ3Jlc3MnfT5cclxuICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJQcm9ncmVzc0luZGljYXRvcigpIH1cclxuXHJcbiAgICAgICAgICAgICAgICB7LyogU2VjdGlvbiA6PT4gVGFyZ2V0IE5hbWUsTm8uIE9mIERheXMgUmVtYWluaW5nLCBUYXJnZXQgQ29tcGxldGlvbiBEYXRlKi99XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyUHJvZ3Jlc3NJbmRpY2F0b3JDb250ZW50cyhpZFN0cmluZykgfVxyXG4gICAgICAgICAgICA8L2Rpdj4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yIGNvbnRlbnRzLCBJZiB0YXJnZXQgaXMgY29tcGxldGVkIG5vIG5lZWQgdG8gZGlzcGxheSB0aGlzIHNlY3Rpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZW5kZXJQcm9ncmVzc0luZGljYXRvckNvbnRlbnRzKGlkU3RyaW5nOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgZGlyZWN0ZWRSZW1hcmtSZXNwb25zZUNvdW50TGlzdDogQXJyYXk8bnVtYmVyPiA9IHRoaXMuZ2V0RGlyZWN0ZWRSZW1hcmtSZXF1ZXN0UHJvZ3Jlc3MoKTtcclxuXHJcbiAgICAgICAgbGV0IHRvdGFsUmVzcG9uc2VzQ291bnQ6IG51bWJlciA9IHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuY2xvc2VkUmVzcG9uc2VzQ291bnQgK1xyXG4gICAgICAgICAgICArIHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MucGVuZGluZ1Jlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgICAgICsgdGhpcy5wcm9wcy50YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5vcGVuUmVzcG9uc2VzQ291bnRcclxuICAgICAgICAgICAgKyAoaXNOYU4odGhpcy5wcm9wcy50YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5hdHlwaWNhbE9wZW5SZXNwb25zZXNDb3VudCkgP1xyXG4gICAgICAgICAgICAgICAgMCA6IHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxPcGVuUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgICAgICsgKGlzTmFOKHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxQZW5kaW5nUmVzcG9uc2VzQ291bnQpID9cclxuICAgICAgICAgICAgICAgIDAgOiB0aGlzLnByb3BzLnRhcmdldC5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsUGVuZGluZ1Jlc3BvbnNlc0NvdW50KVxyXG4gICAgICAgICAgICArIChpc05hTih0aGlzLnByb3BzLnRhcmdldC5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsQ2xvc2VkUmVzcG9uc2VzQ291bnQpID9cclxuICAgICAgICAgICAgICAgIDAgOiB0aGlzLnByb3BzLnRhcmdldC5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsQ2xvc2VkUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgICAgICsgZGlyZWN0ZWRSZW1hcmtSZXNwb25zZUNvdW50TGlzdFswXVxyXG4gICAgICAgICAgICArIGRpcmVjdGVkUmVtYXJrUmVzcG9uc2VDb3VudExpc3RbMV1cclxuICAgICAgICAgICAgKyBkaXJlY3RlZFJlbWFya1Jlc3BvbnNlQ291bnRMaXN0WzJdO1xyXG5cclxuICAgICAgICAvLyBSZW5kZXJpbmcgb3ZlciBhbGxvY2F0aW9uXHJcbiAgICAgICAgbGV0IG92ZXJBbGxvY2F0aW9uSW5kaWNhdG9yID0gdGhpcy5yZW5kZXJPdmVyQWxsb2NhdGlvbkluZGljYXRvcih0aGlzLnByb3BzLnRhcmdldCwgdG90YWxSZXNwb25zZXNDb3VudCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy50YXJnZXQuaXNUYXJnZXRDb21wbGV0ZWQgJiYgIXRoaXMucHJvcHMuaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0naW5zZXQtdGV4dCc+XHJcbiAgICAgICAgICAgICAgICB7b3ZlckFsbG9jYXRpb25JbmRpY2F0b3J9XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPXsndGFyZ2V0U3VtbWFyeUNvdW50JyArIGlkU3RyaW5nfSBjbGFzc05hbWU9J2xhcmdlLXRleHQnPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnRhcmdldC5leGFtaW5lclByb2dyZXNzLmNsb3NlZFJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgdGhpcy5wcm9wcy50YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5wZW5kaW5nUmVzcG9uc2VzQ291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoaXNOYU4odGhpcy5wcm9wcy50YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5hdHlwaWNhbFBlbmRpbmdSZXNwb25zZXNDb3VudCkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCA6IHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxQZW5kaW5nUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGlzTmFOKHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxDbG9zZWRSZXNwb25zZXNDb3VudCkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCA6IHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxDbG9zZWRSZXNwb25zZXNDb3VudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKyBkaXJlY3RlZFJlbWFya1Jlc3BvbnNlQ291bnRMaXN0WzFdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgZGlyZWN0ZWRSZW1hcmtSZXNwb25zZUNvdW50TGlzdFsyXX1cclxuICAgICAgICAgICAgICAgICAgICAvXHJcbiAgICAgICAgICAgICAgICAgICAgeyh0aGlzLnByb3BzLnRhcmdldC5tYXhpbXVtTWFya2luZ0xpbWl0KSB9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzbWFsbC10ZXh0JyBpZCA9eyAnc3VibWl0dGVkLXRleHQnICsgaWRTdHJpbmcgfT5cclxuICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5sZWZ0LXBhbmVsLnN1Ym1pdHRlZC1jb3VudC1sYWJlbCcpIH08L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlcnMgdGhlIG92ZXIgYWxsb2NhdGlvbiBpbmRpY2F0b3IgaW4gdGhlIHByb2dyZXNzIHN1bW1hcnlcclxuICAgICAqIEBwYXJhbSB0YXJnZXRcclxuICAgICAqIEBwYXJhbSB0b3RhbFJlc3BvbnNlc0NvdW50XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyT3ZlckFsbG9jYXRpb25JbmRpY2F0b3IodGFyZ2V0OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSwgdG90YWxSZXNwb25zZXNDb3VudDogbnVtYmVyKTogSlNYLkVsZW1lbnQge1xyXG5cclxuICAgICAgICBsZXQgY3VycmVudGx5SW5PdmVyQWxsb2NhdGlvbjogYm9vbGVhbiA9IHRhcmdldC5vdmVyQWxsb2NhdGlvbkNvdW50ID4gMCA/XHJcbiAgICAgICAgICAgIHRvdGFsUmVzcG9uc2VzQ291bnQgPj0gdGFyZ2V0Lm1heGltdW1NYXJraW5nTGltaXQgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRseUluT3ZlckFsbG9jYXRpb24gP1xyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Nwcml0ZS1pY29uIGxvY2stb3Blbi1pY29uJ1xyXG4gICAgICAgICAgICAgICAgdGl0bGU9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QubGVmdC1wYW5lbC5vdmVyLWFsbG9jYXRpb24tdG9vbHRpcCcpIH0vPiA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIHByb2dyZXNzIGluZGljYXRvciwgSWYgdGFyZ2V0IGlzIGNvbXBsZXRlZCBubyBuZWVkIHRvIGRpc3BsYXkgdGhpcyBzZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyUHJvZ3Jlc3NJbmRpY2F0b3IoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLnRhcmdldC5pc1RhcmdldENvbXBsZXRlZCAmJiAhdGhpcy5wcm9wcy5pc092ZXJBbGxUYXJnZXRDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxQcm9ncmVzc0luZGljYXRvciBzaXplPXsxMDR9IHN0YXJ0RGVncmVlPXswfSBlbmREZWdyZWU9ezM2MH1cclxuICAgICAgICAgICAgICAgIHRyYWNrV2lkdGg9ezZ9XHJcbiAgICAgICAgICAgICAgICB0cmFja1N0eWxlPSd0YXJnZXQtdHJhY2stc3R5bGUnXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzcz17IHRoaXMuZ2V0UHJvZ3Jlc3NEZXRhaWxzKCkgfT5cclxuICAgICAgICAgICAgPC9Qcm9ncmVzc0luZGljYXRvcj47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSByZW1haW5pbmcgZGF5cyBzZWN0aW9uLCBJZiB0YXJnZXQgaXMgY29tcGxldGVkIG5vIG5lZWQgdG8gZGlzcGxheSB0aGUgc2VjdGlvblxyXG4gICAgICogQHBhcmFtIG1hcmtpbmdUYXJnZXRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZW5kZXJSZW1haW5nRGF5c1NlY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLnRhcmdldC5pc1RhcmdldENvbXBsZXRlZCAmJiAhdGhpcy5wcm9wcy5pc092ZXJBbGxUYXJnZXRDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxzcGFuIGlkPXsgdGhpcy5tYXJraW5nTW9kZU5hbWUgKyAnX3RhcmdldHJlbWFpbmluZ0RheXMnfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdtZW51LWhpZ2hsaWdodC10ZXh0Jz5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbWFpbmluZ0RheXNGb3JNYXJraW5nQ29tcGxldGlvbigpIH1cclxuICAgICAgICAgICAgICAgIHsnICcgKyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmxlZnQtcGFuZWwuZGF5cy11bnRpbC10YXJnZXQnKSB9XHJcbiAgICAgICAgICAgIDwvc3Bhbj47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxzcGFuIGlkPXt0aGlzLm1hcmtpbmdNb2RlTmFtZSArICdfdGFyZ2V0cmVtYWluaW5nRGF5cyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbWVudS1oaWdobGlnaHQtdGV4dCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5sZWZ0LXBhbmVsLnRhcmdldC1jb21wbGV0ZWQnKX1cclxuICAgICAgICAgICAgICAgICAgIDwvc3Bhbj47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIHByb2dyZXNzIGl0ZW1zLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFByb2dyZXNzRGV0YWlscygpOiBBcnJheTxhbnk+IHtcclxuXHJcbiAgICAgICAgbGV0IHByb2dyZXNzSXRlbXM6IEFycmF5PGFueT4gPSBuZXcgQXJyYXk8YW55PigpO1xyXG4gICAgICAgIGxldCBkaXJlY3RlZFJlbWFya1Jlc3BvbnNlQ291bnRMaXN0OiBBcnJheTxudW1iZXI+ID0gdGhpcy5nZXREaXJlY3RlZFJlbWFya1JlcXVlc3RQcm9ncmVzcygpO1xyXG4gICAgICAgIGxldCB0b3RhbDogbnVtYmVyID0gdGhpcy5wcm9wcy50YXJnZXQubWF4aW11bU1hcmtpbmdMaW1pdDtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSByZXNwb25zZXMsIHRoZW4gY29sb3VyIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSBwcm9ncmVzcyB3aGVlbFxyXG4gICAgICAgIGlmICh0b3RhbCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBjbG9zZWRSZXNwb25zZXNDb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgbGV0IGluR3JhY2VSZXNwb25zZXNDb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgbGV0IG9wZW5SZXNwb25zZXNDb3VudDogbnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgICAgIC8vIERldGVybWluaW5nIHRoZSBjbG9zZWQgcmVzcG9uc2VzIGNvdW50XHJcbiAgICAgICAgICAgIGNsb3NlZFJlc3BvbnNlc0NvdW50ID0gdGhpcy5wcm9wcy50YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5jbG9zZWRSZXNwb25zZXNDb3VudFxyXG4gICAgICAgICAgICAgICAgKyAoaXNOYU4odGhpcy5wcm9wcy50YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5hdHlwaWNhbENsb3NlZFJlc3BvbnNlc0NvdW50KSA/XHJcbiAgICAgICAgICAgICAgICAgICAgMCA6IHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxDbG9zZWRSZXNwb25zZXNDb3VudClcclxuICAgICAgICAgICAgICAgICsgZGlyZWN0ZWRSZW1hcmtSZXNwb25zZUNvdW50TGlzdFsyXTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIGNsb3NlZCByZXNwb25zZXMgY291bnQgZG9lc24ndCBtZWV0IHRoZSBhY3R1YWwgbWFya2luZyB0YXJnZXQsIHRoZW4gZGV0ZXJtaW5lIHRoZSBpbi1ncmFjZSByZXNwb25zZXMgY291bnRcclxuICAgICAgICAgICAgaWYgKGNsb3NlZFJlc3BvbnNlc0NvdW50IDwgdG90YWwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmluZyB0aGUgaW4tZ3JhY2UgcmVzcG9uc2VzIGNvdW50XHJcbiAgICAgICAgICAgICAgICBpbkdyYWNlUmVzcG9uc2VzQ291bnQgPSB0aGlzLnByb3BzLnRhcmdldC5leGFtaW5lclByb2dyZXNzLnBlbmRpbmdSZXNwb25zZXNDb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICsgKGlzTmFOKHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxQZW5kaW5nUmVzcG9uc2VzQ291bnQpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgMCA6IHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxQZW5kaW5nUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgICAgICAgICAgICAgKyBkaXJlY3RlZFJlbWFya1Jlc3BvbnNlQ291bnRMaXN0WzFdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBpbi1ncmFjZSArIGNsb3NlZCByZXNwb25zZXMgY291bnQgZG9lc24ndCBtZWV0IHRoZSBhY3R1YWwgbWFya2luZyB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAvLyB0aGVuIGRldGVybWluZSB0aGUgb3BlbiByZXNwb25zZXMgY291bnRcclxuICAgICAgICAgICAgICAgIGlmICgoaW5HcmFjZVJlc3BvbnNlc0NvdW50ICsgY2xvc2VkUmVzcG9uc2VzQ291bnQpIDwgdG90YWwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5pbmcgdGhlIG9wZW4gcmVzcG9uc2VzIGNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlblJlc3BvbnNlc0NvdW50ID0gdGhpcy5wcm9wcy50YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5vcGVuUmVzcG9uc2VzQ291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoaXNOYU4odGhpcy5wcm9wcy50YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5hdHlwaWNhbE9wZW5SZXNwb25zZXNDb3VudCkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCA6IHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxPcGVuUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgZGlyZWN0ZWRSZW1hcmtSZXNwb25zZUNvdW50TGlzdFswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG9wZW4gKyBpbi1ncmFjZSArIGNsb3NlZCByZXNwb25zZXMgY291bnQgY3Jvc3NlcyB0aGUgYWN0dWFsIG1hcmtpbmcgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gdGhlIG9wZW4gcmVzcG9uc2VzIGNvdW50IHNob3VsZCBiZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBtYXJraW5nIHRhcmdldCBsaW1pdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0aGUgc3VtIG9mIGNsb3NlZCBhbmQgaW4tZ3JhY2UgcmVzcG9uc2VzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChvcGVuUmVzcG9uc2VzQ291bnQgKyBpbkdyYWNlUmVzcG9uc2VzQ291bnQgKyBjbG9zZWRSZXNwb25zZXNDb3VudCkgPiB0b3RhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuUmVzcG9uc2VzQ291bnQgPSB0b3RhbCAtIChjbG9zZWRSZXNwb25zZXNDb3VudCArIGluR3JhY2VSZXNwb25zZXNDb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGluLWdyYWNlICsgY2xvc2VkIHJlc3BvbnNlcyBjb3VudCBjcm9zc2VzIHRoZSBhY3R1YWwgbWFya2luZyB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiB0aGUgaW4tZ3JhY2UgcmVzcG9uc2VzIGNvdW50IHNob3VsZCBiZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBtYXJraW5nIHRhcmdldCBsaW1pdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0aGUgY291bnQgb2YgY2xvc2VkIHJlc3BvbnNlc1xyXG4gICAgICAgICAgICAgICAgICAgIGluR3JhY2VSZXNwb25zZXNDb3VudCA9IHRvdGFsIC0gY2xvc2VkUmVzcG9uc2VzQ291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNsb3NlZCByZXNwb25zZXMgY291bnQgY3Jvc3NlcyB0aGUgYWN0dWFsIG1hcmtpbmcgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgLy8gdGhlbiB0aGUgY2xvc2VkIHJlc3BvbnNlcyBjb3VudCBzaG91bGQgYmUgdGhlIHNldCBhcyB0aGUgbWFya2luZyB0YXJnZXQgbGltaXRcclxuICAgICAgICAgICAgICAgIGNsb3NlZFJlc3BvbnNlc0NvdW50ID0gdG90YWw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIERldGVybWluaW5nIHRoZSBjbG9zZWQgcmVzcG9uc2VzIHBlcmNlbnRhZ2VcclxuICAgICAgICAgICAgbGV0IGNsb3NlZFBlcmNlbnRhZ2U6IG51bWJlciA9IDEwMCAvIHRvdGFsICogY2xvc2VkUmVzcG9uc2VzQ291bnQ7XHJcblxyXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmluZyB0aGUgcGVuZGluZyByZXNwb25zZXMgcGVyY2VudGFnZVxyXG4gICAgICAgICAgICBsZXQgaW5HcmFjZVBlcmNlbnRhZ2U6IG51bWJlciA9IDEwMCAvIHRvdGFsICogaW5HcmFjZVJlc3BvbnNlc0NvdW50O1xyXG5cclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5pbmcgdGhlIG9wZW4gcmVzcG9uc2VzIHBlcmNlbnRhZ2VcclxuICAgICAgICAgICAgbGV0IG9wZW5QZXJjZW50YWdlOiBudW1iZXIgPSAxMDAgLyB0b3RhbCAqIG9wZW5SZXNwb25zZXNDb3VudDtcclxuXHJcbiAgICAgICAgICAgIGlmIChjbG9zZWRQZXJjZW50YWdlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NJdGVtcy5wdXNoKHsgcHJvZ3Jlc3M6IGNsb3NlZFBlcmNlbnRhZ2UsIGNsYXNzTmFtZTogJ3RhcmdldC1wcm9ncmVzcy1zdHlsZScgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpbkdyYWNlUGVyY2VudGFnZSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzSXRlbXMucHVzaCh7IHByb2dyZXNzOiBpbkdyYWNlUGVyY2VudGFnZSwgY2xhc3NOYW1lOiAndGFyZ2V0LXByb2dyZXNzLXN0eWxlMicgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChvcGVuUGVyY2VudGFnZSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzSXRlbXMucHVzaCh7IHByb2dyZXNzOiBvcGVuUGVyY2VudGFnZSwgY2xhc3NOYW1lOiAndGFyZ2V0LXByb2dyZXNzLXN0eWxlMScgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9ncmVzc0l0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGRpcmVjdGVkIHJlbWFyayByZXF1ZXN0IHByb2dyZXNzIGNvdW50XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0RGlyZWN0ZWRSZW1hcmtSZXF1ZXN0UHJvZ3Jlc3MoKTogQXJyYXk8bnVtYmVyPiB7XHJcbiAgICAgICAgbGV0IGRpcmVjdGVkUmVtYXJrVGFyZ2V0cyA9IHRoaXMucHJvcHMuZGlyZWN0ZWRSZW1hcmtUYXJnZXQ7XHJcbiAgICAgICAgbGV0IGRpcmVjdGVkUmVtYXJrUmVzcG9uc2VDb3VudExpc3Q6IEFycmF5PG51bWJlcj4gPSBbXTtcclxuICAgICAgICBsZXQgb3BlbjogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgY2xvc2VkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBpbkdyYWNlOiBudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICBpZiAoZGlyZWN0ZWRSZW1hcmtUYXJnZXRzICE9IG51bGwgJiYgZGlyZWN0ZWRSZW1hcmtUYXJnZXRzICE9PSB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBkaXJlY3RlZFJlbWFya1RhcmdldHNMaXN0ID0gZGlyZWN0ZWRSZW1hcmtUYXJnZXRzLm1hcCgobWFya2luZ1RhcmdldDogbWFya2luZ1RhcmdldFN1bW1hcnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWFya2luZ1RhcmdldC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5SZW1hcmtpbmdcclxuICAgICAgICAgICAgICAgICAgICAmJiBtYXJraW5nVGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuaXNEaXJlY3RlZFJlbWFyayA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wZW4gKz0gbWFya2luZ1RhcmdldC5leGFtaW5lclByb2dyZXNzLm9wZW5SZXNwb25zZXNDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICBpbkdyYWNlICs9IG1hcmtpbmdUYXJnZXQuZXhhbWluZXJQcm9ncmVzcy5wZW5kaW5nUmVzcG9uc2VzQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VkICs9IG1hcmtpbmdUYXJnZXQuZXhhbWluZXJQcm9ncmVzcy5jbG9zZWRSZXNwb25zZXNDb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaXJlY3RlZFJlbWFya1Jlc3BvbnNlQ291bnRMaXN0LnB1c2gob3Blbik7XHJcbiAgICAgICAgZGlyZWN0ZWRSZW1hcmtSZXNwb25zZUNvdW50TGlzdC5wdXNoKGluR3JhY2UpO1xyXG4gICAgICAgIGRpcmVjdGVkUmVtYXJrUmVzcG9uc2VDb3VudExpc3QucHVzaChjbG9zZWQpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGlyZWN0ZWRSZW1hcmtSZXNwb25zZUNvdW50TGlzdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byByZXR1cm4gdGhlIHRvdGFsIG9wZW4gcmVzcG9uc2VzIGNvdW50XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0VG90YWxPcGVuUmVzcG9uc2VzQ291bnQoKSB7XHJcbiAgICAgICAgbGV0IGRpcmVjdGVkUmVtYXJrUmVzcG9uc2VDb3VudExpc3Q6IEFycmF5PG51bWJlcj4gPSB0aGlzLmdldERpcmVjdGVkUmVtYXJrUmVxdWVzdFByb2dyZXNzKCk7XHJcbiAgICAgICAgbGV0IG9wZW5SZXNwb25zZUNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgb3BlblJlc3BvbnNlQ291bnQgKz0gdGhpcy5wcm9wcy50YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5vcGVuUmVzcG9uc2VzQ291bnRcclxuICAgICAgICAgICAgKyAoaXNOYU4odGhpcy5wcm9wcy50YXJnZXQuZXhhbWluZXJQcm9ncmVzcy5hdHlwaWNhbE9wZW5SZXNwb25zZXNDb3VudCkgP1xyXG4gICAgICAgICAgICAgICAgMCA6IHRoaXMucHJvcHMudGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxPcGVuUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgICAgICsgZGlyZWN0ZWRSZW1hcmtSZXNwb25zZUNvdW50TGlzdFswXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9wZW5SZXNwb25zZUNvdW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBMaXZlT3JQb29sZWRSZW1hcmtUYXJnZXRJdGVtO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC90YXJnZXRzdW1tYXJ5L2xpdmVvcnBvb2xlZHJlbWFya3RhcmdldGl0ZW0udHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFvQkE7QUFBQTtBQVNBOzs7O0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFJQTtBQUdBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFHQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1239:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/components/worklist/targetsummary/targetdetails.tsx ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar WorklistType = __webpack_require__(/*! ./worklisttype */ 1240);\r\nvar sortHelper = __webpack_require__(/*! ../../../utility/sorting/sorthelper */ 272);\r\nvar comparerList = __webpack_require__(/*! ../../../utility/sorting/sortbase/comparerlist */ 262);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\n/**\r\n * Class for the Target Details => Progress Graph, Marking Name + Target section and the worklist items for the target.\r\n */\r\nvar TargetDetails = /** @class */ (function (_super) {\r\n    __extends(TargetDetails, _super);\r\n    /**\r\n     * Constructor for Target Details\r\n     * @param props\r\n     */\r\n    function TargetDetails(props) {\r\n        return _super.call(this, props, null) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    TargetDetails.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: 'panel-content clearfix', \"aria-hidden\": 'true' }, this.renderWorklistTypes()));\r\n    };\r\n    /**\r\n     * Render worklist types\r\n     */\r\n    TargetDetails.prototype.renderWorklistTypes = function () {\r\n        if (this.props.markingTargetsSummary.markingModeID === enums.MarkingMode.LiveMarking) {\r\n            var directedRemarkRequestRenderer = this.renderDirectedRemarkWorklistType();\r\n            return (React.createElement(\"ul\", { className: 'shift-right' },\r\n                React.createElement(WorklistType, { id: 'worklist_live', key: 'worklist_live', targetCount: this.props.markingTargetsSummary.examinerProgress.openResponsesCount, worklistType: enums.WorklistType.live, remarkRequestType: enums.RemarkRequestType.Unknown, isDirectedRemark: false, selectedLanguage: this.props.selectedLanguage, isTeamManagementMode: this.props.isTeamManagementMode }),\r\n                React.createElement(WorklistType, { id: 'worklist_atypical', key: 'worklist_atypical', targetCount: this.props.markingTargetsSummary.examinerProgress.atypicalOpenResponsesCount, worklistType: enums.WorklistType.atypical, remarkRequestType: enums.RemarkRequestType.Unknown, isDirectedRemark: false, selectedLanguage: this.props.selectedLanguage, isTeamManagementMode: this.props.isTeamManagementMode }),\r\n                directedRemarkRequestRenderer));\r\n        }\r\n        else {\r\n            return (React.createElement(\"ul\", { className: 'shift-right' },\r\n                React.createElement(WorklistType, { id: 'worklist_' + this.props.id, key: 'worklist_key_' + this.props.id, targetCount: this.props.markingTargetsSummary.examinerProgress.openResponsesCount, worklistType: this.props.markingTargetsSummary.markingModeID, remarkRequestType: enums.RemarkRequestType.Unknown, isDirectedRemark: false, selectedLanguage: this.props.selectedLanguage, isTeamManagementMode: this.props.isTeamManagementMode })));\r\n        }\r\n    };\r\n    /**\r\n     * Render directed remark worklist type\r\n     */\r\n    TargetDetails.prototype.renderDirectedRemarkWorklistType = function () {\r\n        var _this = this;\r\n        var directedRemarkTargets = this.props.directedRemarkTarget;\r\n        if (directedRemarkTargets != null && directedRemarkTargets !== undefined) {\r\n            if (directedRemarkTargets !== undefined && directedRemarkTargets.count() > 0) {\r\n                // Sort the directed remark target based on their locale string\r\n                directedRemarkTargets = Immutable.List(sortHelper.sort(directedRemarkTargets.toArray(), comparerList.remarkRequestTypeComparer));\r\n                var directedRemarkTargetsList = directedRemarkTargets.map(function (markingTarget) {\r\n                    // Get the total response count\r\n                    var responseCount = markingTarget.examinerProgress.openResponsesCount\r\n                        + markingTarget.examinerProgress.pendingResponsesCount\r\n                        + markingTarget.examinerProgress.closedResponsesCount;\r\n                    // Only if open + closed + pending response count is > 0 then display the remark request type\r\n                    if (responseCount > 0) {\r\n                        return (React.createElement(WorklistType, { id: 'worklist_directed_remark_' + enums.RemarkRequestType[markingTarget.remarkRequestTypeID], key: 'worklist_directed_remark_' + enums.RemarkRequestType[markingTarget.remarkRequestTypeID], targetCount: markingTarget.examinerProgress.openResponsesCount, remarkRequestType: markingTarget.remarkRequestTypeID, worklistType: enums.WorklistType.directedRemark, isDirectedRemark: true, selectedLanguage: _this.props.selectedLanguage, isTeamManagementMode: _this.props.isTeamManagementMode }));\r\n                    }\r\n                });\r\n                return directedRemarkTargetsList;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return TargetDetails;\r\n}(pureRenderComponent));\r\nmodule.exports = TargetDetails;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3RhcmdldHN1bW1hcnkvdGFyZ2V0ZGV0YWlscy50c3g/M2E5NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxu77u/aW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuLyogdHNsaW50OmVuYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBtYXJraW5nVGFyZ2V0U3VtbWFyeSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC90eXBpbmdzL21hcmtpbmd0YXJnZXRzdW1tYXJ5Jyk7XHJcbmltcG9ydCBXb3JrbGlzdFR5cGUgPSByZXF1aXJlKCcuL3dvcmtsaXN0dHlwZScpO1xyXG5pbXBvcnQgdGFyZ2V0U3VtbWFyeVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3RhcmdldHN1bW1hcnlzdG9yZScpO1xyXG5pbXBvcnQgc29ydEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvc29ydGluZy9zb3J0aGVscGVyJyk7XHJcbmltcG9ydCBjb21wYXJlckxpc3QgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L3NvcnRpbmcvc29ydGJhc2UvY29tcGFyZXJsaXN0Jyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGEgY29tcG9uZW50XHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2UsIExvY2FsZVNlbGVjdGlvbkJhc2Uge1xyXG4gICAgbWFya2luZ1RhcmdldHNTdW1tYXJ5OiBtYXJraW5nVGFyZ2V0U3VtbWFyeTtcclxuICAgIHJlbmRlcmRPbjogbnVtYmVyO1xyXG4gICAgZGlyZWN0ZWRSZW1hcmtUYXJnZXQ/OiBJbW11dGFibGUuTGlzdDxtYXJraW5nVGFyZ2V0U3VtbWFyeT47XHJcbiAgICBpc1RlYW1NYW5hZ2VtZW50TW9kZTogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIENsYXNzIGZvciB0aGUgVGFyZ2V0IERldGFpbHMgPT4gUHJvZ3Jlc3MgR3JhcGgsIE1hcmtpbmcgTmFtZSArIFRhcmdldCBzZWN0aW9uIGFuZCB0aGUgd29ya2xpc3QgaXRlbXMgZm9yIHRoZSB0YXJnZXQuXHJcbiAqL1xyXG5jbGFzcyBUYXJnZXREZXRhaWxzIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgVGFyZ2V0IERldGFpbHNcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYW5lbC1jb250ZW50IGNsZWFyZml4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJXb3JrbGlzdFR5cGVzKCkgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIHdvcmtsaXN0IHR5cGVzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyV29ya2xpc3RUeXBlcygpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5tYXJraW5nVGFyZ2V0c1N1bW1hcnkubWFya2luZ01vZGVJRCA9PT0gZW51bXMuTWFya2luZ01vZGUuTGl2ZU1hcmtpbmcpIHtcclxuICAgICAgICAgICAgbGV0IGRpcmVjdGVkUmVtYXJrUmVxdWVzdFJlbmRlcmVyID0gdGhpcy5yZW5kZXJEaXJlY3RlZFJlbWFya1dvcmtsaXN0VHlwZSgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9J3NoaWZ0LXJpZ2h0Jz5cclxuICAgICAgICAgICAgICAgICAgICA8V29ya2xpc3RUeXBlIGlkPSd3b3JrbGlzdF9saXZlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9eyd3b3JrbGlzdF9saXZlJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q291bnQ9e3RoaXMucHJvcHMubWFya2luZ1RhcmdldHNTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3Mub3BlblJlc3BvbnNlc0NvdW50IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RUeXBlPXtlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtYXJrUmVxdWVzdFR5cGU9e2VudW1zLlJlbWFya1JlcXVlc3RUeXBlLlVua25vd259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlyZWN0ZWRSZW1hcmsgPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1RlYW1NYW5hZ2VtZW50TW9kZSA9IHt0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Xb3JrbGlzdFR5cGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPFdvcmtsaXN0VHlwZSBpZD0nd29ya2xpc3RfYXR5cGljYWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J3dvcmtsaXN0X2F0eXBpY2FsJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q291bnQ9e3RoaXMucHJvcHMubWFya2luZ1RhcmdldHNTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxPcGVuUmVzcG9uc2VzQ291bnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0VHlwZT17ZW51bXMuV29ya2xpc3RUeXBlLmF0eXBpY2FsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1hcmtSZXF1ZXN0VHlwZT17ZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUuVW5rbm93bn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEaXJlY3RlZFJlbWFyayA9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlID0ge3RoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1dvcmtsaXN0VHlwZT5cclxuICAgICAgICAgICAgICAgICAgICB7IGRpcmVjdGVkUmVtYXJrUmVxdWVzdFJlbmRlcmVyIH1cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9J3NoaWZ0LXJpZ2h0Jz5cclxuICAgICAgICAgICAgICAgICAgICA8V29ya2xpc3RUeXBlIGlkPXsnd29ya2xpc3RfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J3dvcmtsaXN0X2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q291bnQ9e3RoaXMucHJvcHMubWFya2luZ1RhcmdldHNTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3Mub3BlblJlc3BvbnNlc0NvdW50IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RUeXBlPXt0aGlzLnByb3BzLm1hcmtpbmdUYXJnZXRzU3VtbWFyeS5tYXJraW5nTW9kZUlEfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1hcmtSZXF1ZXN0VHlwZT17ZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUuVW5rbm93bn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEaXJlY3RlZFJlbWFyayA9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlID0ge3RoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGV9PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvV29ya2xpc3RUeXBlPlxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgZGlyZWN0ZWQgcmVtYXJrIHdvcmtsaXN0IHR5cGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZW5kZXJEaXJlY3RlZFJlbWFya1dvcmtsaXN0VHlwZSgpIHtcclxuICAgICAgICBsZXQgZGlyZWN0ZWRSZW1hcmtUYXJnZXRzID0gdGhpcy5wcm9wcy5kaXJlY3RlZFJlbWFya1RhcmdldDtcclxuXHJcbiAgICAgICAgaWYgKGRpcmVjdGVkUmVtYXJrVGFyZ2V0cyAhPSBudWxsICYmIGRpcmVjdGVkUmVtYXJrVGFyZ2V0cyAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlyZWN0ZWRSZW1hcmtUYXJnZXRzICE9PSB1bmRlZmluZWQgJiYgZGlyZWN0ZWRSZW1hcmtUYXJnZXRzLmNvdW50KCkgPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU29ydCB0aGUgZGlyZWN0ZWQgcmVtYXJrIHRhcmdldCBiYXNlZCBvbiB0aGVpciBsb2NhbGUgc3RyaW5nXHJcbiAgICAgICAgICAgICAgICBkaXJlY3RlZFJlbWFya1RhcmdldHMgPSBJbW11dGFibGUuTGlzdDxhbnk+KHNvcnRIZWxwZXIuc29ydChkaXJlY3RlZFJlbWFya1RhcmdldHMudG9BcnJheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhcmVyTGlzdC5yZW1hcmtSZXF1ZXN0VHlwZUNvbXBhcmVyKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGRpcmVjdGVkUmVtYXJrVGFyZ2V0c0xpc3QgPSBkaXJlY3RlZFJlbWFya1RhcmdldHMubWFwKChtYXJraW5nVGFyZ2V0OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHRvdGFsIHJlc3BvbnNlIGNvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlQ291bnQgPSBtYXJraW5nVGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3Mub3BlblJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgbWFya2luZ1RhcmdldC5leGFtaW5lclByb2dyZXNzLnBlbmRpbmdSZXNwb25zZXNDb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICArIG1hcmtpbmdUYXJnZXQuZXhhbWluZXJQcm9ncmVzcy5jbG9zZWRSZXNwb25zZXNDb3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSBpZiBvcGVuICsgY2xvc2VkICsgcGVuZGluZyByZXNwb25zZSBjb3VudCBpcyA+IDAgdGhlbiBkaXNwbGF5IHRoZSByZW1hcmsgcmVxdWVzdCB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlQ291bnQgPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDxXb3JrbGlzdFR5cGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSB7ICd3b3JrbGlzdF9kaXJlY3RlZF9yZW1hcmtfJyArIGVudW1zLlJlbWFya1JlcXVlc3RUeXBlW21hcmtpbmdUYXJnZXQucmVtYXJrUmVxdWVzdFR5cGVJRF19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9IHsgJ3dvcmtsaXN0X2RpcmVjdGVkX3JlbWFya18nICsgZW51bXMuUmVtYXJrUmVxdWVzdFR5cGVbbWFya2luZ1RhcmdldC5yZW1hcmtSZXF1ZXN0VHlwZUlEXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENvdW50PXttYXJraW5nVGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3Mub3BlblJlc3BvbnNlc0NvdW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtYXJrUmVxdWVzdFR5cGU9e21hcmtpbmdUYXJnZXQucmVtYXJrUmVxdWVzdFR5cGVJRH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0VHlwZT17ZW51bXMuV29ya2xpc3RUeXBlLmRpcmVjdGVkUmVtYXJrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEaXJlY3RlZFJlbWFyayA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1RlYW1NYW5hZ2VtZW50TW9kZSA9IHt0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Xb3JrbGlzdFR5cGU+KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlyZWN0ZWRSZW1hcmtUYXJnZXRzTGlzdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFRhcmdldERldGFpbHM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3RhcmdldHN1bW1hcnkvdGFyZ2V0ZGV0YWlscy50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBWUE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFTQTtBQVNBO0FBR0E7QUFBQTtBQUNBO0FBRUE7QUFXQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFVQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 1240:
/* no static exports found */
/* all exports used */
/*!****************************************************************!*\
  !*** ./src/components/worklist/targetsummary/worklisttype.tsx ***!
  \****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar worklistActionCreator = __webpack_require__(/*! ../../../actions/worklist/worklistactioncreator */ 261);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar stringHelper = __webpack_require__(/*! ../../../utility/generic/stringhelper */ 254);\r\nvar constants = __webpack_require__(/*! ../../utility/constants */ 241);\r\nvar qualityFeedbackHelper = __webpack_require__(/*! ../../../utility/qualityfeedback/qualityfeedbackhelper */ 309);\r\nvar targetSummaryStore = __webpack_require__(/*! ../../../stores/worklist/targetsummarystore */ 305);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar applicationStore = __webpack_require__(/*! ../../../stores/applicationoffline/applicationstore */ 247);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar markingInstructioActionCreator = __webpack_require__(/*! ../../../actions/markinginstructions/markinginstructionactioncreator */ 476);\r\nvar markingInstructionStore = __webpack_require__(/*! ../../../stores/markinginstruction/markinginstructionstore */ 532);\r\nvar WorklistType = /** @class */ (function (_super) {\r\n    __extends(WorklistType, _super);\r\n    /**\r\n     * Constructor for WorklistType\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function WorklistType(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.isActive = false;\r\n        _this.isDisabled = false;\r\n        /**\r\n         * When live/atypical/supervisor remark selected\r\n         * If we open a response and close that then we need to take the response mode from response store( selected response mode)\r\n         * otherwise It will take the response mode from worklist store.\r\n         */\r\n        _this.markingModeChanged = function () {\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        _this.state = { renderedOn: 0 };\r\n        _this.handleMarkingModeClick = _this.handleMarkingModeClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Subscribe to events\r\n     */\r\n    WorklistType.prototype.componentDidMount = function () {\r\n        /* subscribing to worklist marking mode change event */\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.WORKLIST_MARKING_MODE_CHANGE, this.markingModeChanged);\r\n    };\r\n    /**\r\n     * Unsubscribe events\r\n     */\r\n    WorklistType.prototype.componentWillUnmount = function () {\r\n        /* subscribing to worklist marking mode change event */\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.WORKLIST_MARKING_MODE_CHANGE, this.markingModeChanged);\r\n    };\r\n    /**\r\n     * Render componets\r\n     * @returns formated html result\r\n     */\r\n    WorklistType.prototype.render = function () {\r\n        this.isActive = worklistStore.instance.currentWorklistType === this.props.worklistType\r\n            && worklistStore.instance.getRemarkRequestType === this.props.remarkRequestType;\r\n        this.isDisabled = qualityFeedbackHelper.isWorklistDisabledBasedOnQualityFeedback(this.props.worklistType, this.props.remarkRequestType);\r\n        var targetCount = this.props.targetCount;\r\n        var worklistTypeName;\r\n        if (this.props.worklistType === enums.WorklistType.directedRemark) {\r\n            worklistTypeName = stringHelper.format(localeStore.instance.TranslateText(this.getDirectedRemarkLocaleKey(this.props.remarkRequestType)), [constants.NONBREAKING_HYPHEN_UNICODE]);\r\n        }\r\n        else {\r\n            worklistTypeName = localeStore.instance.TranslateText(this.getMarkingModeLocalekey(this.props.worklistType));\r\n        }\r\n        // Render output\r\n        return (React.createElement(\"li\", { className: classNames('', { 'active': this.isActive }, { 'disabled': this.isDisabled }) },\r\n            React.createElement(\"a\", { id: 'worklistType' + this.props.id, href: 'javascript:void(0)', title: worklistTypeName, className: 'left-submenu-item', onClick: this.handleMarkingModeClick },\r\n                React.createElement(\"span\", { className: 'menu-count' }, targetCount),\r\n                worklistTypeName)));\r\n    };\r\n    /**\r\n     * Notify the worklist change selected event\r\n     * @param event\r\n     */\r\n    WorklistType.prototype.handleMarkingModeClick = function (event) {\r\n        if (!applicationStore.instance.isOnline) {\r\n            applicationActionCreator.checkActionInterrupted();\r\n        }\r\n        else {\r\n            if (markingInstructionStore.instance.isMarkingInstructionPanelOpen) {\r\n                // if the marking instruction panel is opened then close it on clicking the worklist type, \r\n                // this click event is not propagating to worklist since it is stoped from here\r\n                markingInstructioActionCreator.markingInstructionPanelOpenActionCreator(false);\r\n            }\r\n            if (this.isDisabled !== true) {\r\n                /*The Atypical label should not be clickable for now(sprint4)*/\r\n                if (this.props.worklistType === enums.WorklistType.live ||\r\n                    this.props.worklistType === enums.WorklistType.atypical ||\r\n                    this.props.worklistType === enums.WorklistType.directedRemark) {\r\n                    var markingMode = worklistStore.instance.getMarkingModeByWorkListType(this.props.worklistType);\r\n                    var responseMode = markerOperationModeFactory.operationMode.responseModeBasedOnQualityFeedback(enums.ResponseMode.open, markingMode, this.props.remarkRequestType, this.props.worklistType);\r\n                    if (qigStore.instance.selectedQIGForMarkerOperation) {\r\n                        worklistActionCreator.notifyWorklistTypeChange(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId, this.props.worklistType, responseMode, this.props.remarkRequestType, this.props.isDirectedRemark, qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember, !(targetSummaryStore.instance.isSupervisorRemarkCreated ||\r\n                            // disable cache if a supervisor remark created or \r\n                            // if whole responses are present. as changes can be made in a different QIG\r\n                            // and mainly in atypical responses which behave as whole response\r\n                            (qigStore.instance.relatedQigList && qigStore.instance.relatedQigList.count() > 1)));\r\n                    }\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n        }\r\n    };\r\n    /**\r\n     * Get the marking mode locale key according to the marking mode selection.\r\n     * @param {enums.WorklistType} worklistType\r\n     * @returns marking mode key\r\n     */\r\n    WorklistType.prototype.getMarkingModeLocalekey = function (worklistType) {\r\n        return 'marking.worklist.worklist-type.' + enums.WorklistType[worklistType];\r\n    };\r\n    /**\r\n     * Get the directed remark locale key according to the directed remark request type.\r\n     * @param {enums.RemarkRequestType} remarkRequestType\r\n     * @returns remark request key\r\n     */\r\n    WorklistType.prototype.getDirectedRemarkLocaleKey = function (remarkRequestType) {\r\n        return 'generic.remark-types.long-names.' + enums.RemarkRequestType[remarkRequestType];\r\n    };\r\n    return WorklistType;\r\n}(pureRenderComponent));\r\nmodule.exports = WorklistType;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI0MC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3RhcmdldHN1bW1hcnkvd29ya2xpc3R0eXBlLnRzeD8zYWRlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbi8qIHRzbGludDplbmFibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xuaW1wb3J0IHdvcmtsaXN0QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvd29ya2xpc3Qvd29ya2xpc3RhY3Rpb25jcmVhdG9yJyk7XG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcbmltcG9ydCBtYXJraW5nVGFyZ2V0U3VtbWFyeSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC90eXBpbmdzL21hcmtpbmd0YXJnZXRzdW1tYXJ5Jyk7XG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XG5pbXBvcnQgc3RyaW5nSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL3N0cmluZ2hlbHBlcicpO1xuaW1wb3J0IGNvbnN0YW50cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uc3RhbnRzJyk7XG5pbXBvcnQgcXVhbGl0eUZlZWRiYWNrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9xdWFsaXR5ZmVlZGJhY2svcXVhbGl0eWZlZWRiYWNraGVscGVyJyk7XG5pbXBvcnQgdGFyZ2V0U3VtbWFyeVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3RhcmdldHN1bW1hcnlzdG9yZScpO1xuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcbmltcG9ydCBhcHBsaWNhdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbnN0b3JlJyk7XG5pbXBvcnQgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25hY3Rpb25jcmVhdG9yJyk7XG5pbXBvcnQgbWFya2luZ0luc3RydWN0aW9BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9tYXJraW5naW5zdHJ1Y3Rpb25zL21hcmtpbmdpbnN0cnVjdGlvbmFjdGlvbmNyZWF0b3InKTtcbmltcG9ydCBtYXJraW5nSW5zdHJ1Y3Rpb25TdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tYXJraW5naW5zdHJ1Y3Rpb24vbWFya2luZ2luc3RydWN0aW9uc3RvcmUnKTtcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIG9mIGEgY29tcG9uZW50XG4gKi9cbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XG4gICAgdGFyZ2V0Q291bnQ6IG51bWJlcjtcbiAgICB3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZTtcbiAgICByZW1hcmtSZXF1ZXN0VHlwZTogZW51bXMuUmVtYXJrUmVxdWVzdFR5cGU7XG4gICAgaXNEaXJlY3RlZFJlbWFyazogYm9vbGVhbjtcbiAgICBpc1RlYW1NYW5hZ2VtZW50TW9kZTogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgICByZW5kZXJlZE9uOiBudW1iZXI7XG59XG5cbmNsYXNzIFdvcmtsaXN0VHlwZSBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG5cbiAgICBwcml2YXRlIGlzQWN0aXZlOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBpc0Rpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgV29ya2xpc3RUeXBlXG4gICAgICogQHBhcmFtIHByb3BzXG4gICAgICogQHBhcmFtIHN0YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogU3RhdGUpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0geyByZW5kZXJlZE9uOiAwIH07XG4gICAgICAgIHRoaXMuaGFuZGxlTWFya2luZ01vZGVDbGljayA9IHRoaXMuaGFuZGxlTWFya2luZ01vZGVDbGljay5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0byBldmVudHNcbiAgICAgKi9cbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIC8qIHN1YnNjcmliaW5nIHRvIHdvcmtsaXN0IG1hcmtpbmcgbW9kZSBjaGFuZ2UgZXZlbnQgKi9cbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuV09SS0xJU1RfTUFSS0lOR19NT0RFX0NIQU5HRSwgdGhpcy5tYXJraW5nTW9kZUNoYW5nZWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlIGV2ZW50c1xuICAgICAqL1xuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgLyogc3Vic2NyaWJpbmcgdG8gd29ya2xpc3QgbWFya2luZyBtb2RlIGNoYW5nZSBldmVudCAqL1xuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHdvcmtsaXN0U3RvcmUuV29ya0xpc3RTdG9yZS5XT1JLTElTVF9NQVJLSU5HX01PREVfQ0hBTkdFLCB0aGlzLm1hcmtpbmdNb2RlQ2hhbmdlZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbXBvbmV0c1xuICAgICAqIEByZXR1cm5zIGZvcm1hdGVkIGh0bWwgcmVzdWx0XG4gICAgICovXG4gICAgcHVibGljIHJlbmRlcigpIHtcblxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlID09PSB0aGlzLnByb3BzLndvcmtsaXN0VHlwZVxuICAgICAgICAgICAgJiYgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZW1hcmtSZXF1ZXN0VHlwZSA9PT0gdGhpcy5wcm9wcy5yZW1hcmtSZXF1ZXN0VHlwZTtcblxuICAgICAgICB0aGlzLmlzRGlzYWJsZWQgPSBxdWFsaXR5RmVlZGJhY2tIZWxwZXIuaXNXb3JrbGlzdERpc2FibGVkQmFzZWRPblF1YWxpdHlGZWVkYmFja1xuICAgICAgICAgICAgKHRoaXMucHJvcHMud29ya2xpc3RUeXBlLCB0aGlzLnByb3BzLnJlbWFya1JlcXVlc3RUeXBlKTtcblxuICAgICAgICBsZXQgdGFyZ2V0Q291bnQgPSB0aGlzLnByb3BzLnRhcmdldENvdW50O1xuICAgICAgICBsZXQgd29ya2xpc3RUeXBlTmFtZTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5kaXJlY3RlZFJlbWFyaykge1xuICAgICAgICAgICAgd29ya2xpc3RUeXBlTmFtZSA9IHN0cmluZ0hlbHBlci5mb3JtYXQobG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcbiAgICAgICAgICAgICAgICB0aGlzLmdldERpcmVjdGVkUmVtYXJrTG9jYWxlS2V5KHRoaXMucHJvcHMucmVtYXJrUmVxdWVzdFR5cGUpKSwgW2NvbnN0YW50cy5OT05CUkVBS0lOR19IWVBIRU5fVU5JQ09ERV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd29ya2xpc3RUeXBlTmFtZSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQodGhpcy5nZXRNYXJraW5nTW9kZUxvY2FsZWtleSh0aGlzLnByb3BzLndvcmtsaXN0VHlwZSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmRlciBvdXRwdXRcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJycsIHsgJ2FjdGl2ZSc6IHRoaXMuaXNBY3RpdmUgfSwgeyAnZGlzYWJsZWQnOiB0aGlzLmlzRGlzYWJsZWQgfSkgfT5cbiAgICAgICAgICAgICAgICA8YSBpZD17J3dvcmtsaXN0VHlwZScgKyB0aGlzLnByb3BzLmlkfSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXt3b3JrbGlzdFR5cGVOYW1lfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2xlZnQtc3VibWVudS1pdGVtJ1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZU1hcmtpbmdNb2RlQ2xpY2t9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J21lbnUtY291bnQnPnt0YXJnZXRDb3VudH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIHt3b3JrbGlzdFR5cGVOYW1lfVxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoZSB3b3JrbGlzdCBjaGFuZ2Ugc2VsZWN0ZWQgZXZlbnRcbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKi9cbiAgICBwcml2YXRlIGhhbmRsZU1hcmtpbmdNb2RlQ2xpY2soZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUpIHtcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uQWN0aW9uQ3JlYXRvci5jaGVja0FjdGlvbkludGVycnVwdGVkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobWFya2luZ0luc3RydWN0aW9uU3RvcmUuaW5zdGFuY2UuaXNNYXJraW5nSW5zdHJ1Y3Rpb25QYW5lbE9wZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgbWFya2luZyBpbnN0cnVjdGlvbiBwYW5lbCBpcyBvcGVuZWQgdGhlbiBjbG9zZSBpdCBvbiBjbGlja2luZyB0aGUgd29ya2xpc3QgdHlwZSwgXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjbGljayBldmVudCBpcyBub3QgcHJvcGFnYXRpbmcgdG8gd29ya2xpc3Qgc2luY2UgaXQgaXMgc3RvcGVkIGZyb20gaGVyZVxuICAgICAgICAgICAgICAgIG1hcmtpbmdJbnN0cnVjdGlvQWN0aW9uQ3JlYXRvci5tYXJraW5nSW5zdHJ1Y3Rpb25QYW5lbE9wZW5BY3Rpb25DcmVhdG9yKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGlzYWJsZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvKlRoZSDigJxBdHlwaWNhbOKAnSBsYWJlbCBzaG91bGQgbm90IGJlIGNsaWNrYWJsZSBmb3Igbm93KHNwcmludDQpKi9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5saXZlIHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMud29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuYXR5cGljYWwgfHxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5kaXJlY3RlZFJlbWFyaykge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXJraW5nTW9kZTogZW51bXMuTWFya2luZ01vZGUgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldE1hcmtpbmdNb2RlQnlXb3JrTGlzdFR5cGUodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUucmVzcG9uc2VNb2RlQmFzZWRPblF1YWxpdHlGZWVkYmFjayhcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuLCBtYXJraW5nTW9kZSwgdGhpcy5wcm9wcy5yZW1hcmtSZXF1ZXN0VHlwZSwgdGhpcy5wcm9wcy53b3JrbGlzdFR5cGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RBY3Rpb25DcmVhdG9yLm5vdGlmeVdvcmtsaXN0VHlwZUNoYW5nZShxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyUGFydElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMud29ya2xpc3RUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlbWFya1JlcXVlc3RUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaXNEaXJlY3RlZFJlbWFyayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5pc0VsZWN0cm9uaWNTdGFuZGFyZGlzYXRpb25UZWFtTWVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEodGFyZ2V0U3VtbWFyeVN0b3JlLmluc3RhbmNlLmlzU3VwZXJ2aXNvclJlbWFya0NyZWF0ZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZSBjYWNoZSBpZiBhIHN1cGVydmlzb3IgcmVtYXJrIGNyZWF0ZWQgb3IgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHdob2xlIHJlc3BvbnNlcyBhcmUgcHJlc2VudC4gYXMgY2hhbmdlcyBjYW4gYmUgbWFkZSBpbiBhIGRpZmZlcmVudCBRSUdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIG1haW5seSBpbiBhdHlwaWNhbCByZXNwb25zZXMgd2hpY2ggYmVoYXZlIGFzIHdob2xlIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChxaWdTdG9yZS5pbnN0YW5jZS5yZWxhdGVkUWlnTGlzdCAmJiBxaWdTdG9yZS5pbnN0YW5jZS5yZWxhdGVkUWlnTGlzdC5jb3VudCgpID4gMSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXJraW5nIG1vZGUgbG9jYWxlIGtleSBhY2NvcmRpbmcgdG8gdGhlIG1hcmtpbmcgbW9kZSBzZWxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtlbnVtcy5Xb3JrbGlzdFR5cGV9IHdvcmtsaXN0VHlwZVxuICAgICAqIEByZXR1cm5zIG1hcmtpbmcgbW9kZSBrZXlcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldE1hcmtpbmdNb2RlTG9jYWxla2V5KHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdtYXJraW5nLndvcmtsaXN0LndvcmtsaXN0LXR5cGUuJyArIGVudW1zLldvcmtsaXN0VHlwZVt3b3JrbGlzdFR5cGVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGlyZWN0ZWQgcmVtYXJrIGxvY2FsZSBrZXkgYWNjb3JkaW5nIHRvIHRoZSBkaXJlY3RlZCByZW1hcmsgcmVxdWVzdCB0eXBlLlxuICAgICAqIEBwYXJhbSB7ZW51bXMuUmVtYXJrUmVxdWVzdFR5cGV9IHJlbWFya1JlcXVlc3RUeXBlXG4gICAgICogQHJldHVybnMgcmVtYXJrIHJlcXVlc3Qga2V5XG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXREaXJlY3RlZFJlbWFya0xvY2FsZUtleShyZW1hcmtSZXF1ZXN0VHlwZTogZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ2dlbmVyaWMucmVtYXJrLXR5cGVzLmxvbmctbmFtZXMuJyArIGVudW1zLlJlbWFya1JlcXVlc3RUeXBlW3JlbWFya1JlcXVlc3RUeXBlXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGxpdmUvYXR5cGljYWwvc3VwZXJ2aXNvciByZW1hcmsgc2VsZWN0ZWRcbiAgICAgKiBJZiB3ZSBvcGVuIGEgcmVzcG9uc2UgYW5kIGNsb3NlIHRoYXQgdGhlbiB3ZSBuZWVkIHRvIHRha2UgdGhlIHJlc3BvbnNlIG1vZGUgZnJvbSByZXNwb25zZSBzdG9yZSggc2VsZWN0ZWQgcmVzcG9uc2UgbW9kZSlcbiAgICAgKiBvdGhlcndpc2UgSXQgd2lsbCB0YWtlIHRoZSByZXNwb25zZSBtb2RlIGZyb20gd29ya2xpc3Qgc3RvcmUuXG4gICAgICovXG4gICAgcHJpdmF0ZSBtYXJraW5nTW9kZUNoYW5nZWQgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKVxuICAgICAgICB9KTtcbiAgICB9O1xufVxuZXhwb3J0ID0gV29ya2xpc3RUeXBlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC90YXJnZXRzdW1tYXJ5L3dvcmtsaXN0dHlwZS50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpQkE7QUFBQTtBQUtBOzs7O0FBSUE7QUFDQTtBQUFBO0FBUkE7QUFDQTtBQWdJQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9IQTtBQUNBOztBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBSUE7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 1242:
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./src/components/worklist/worklistfilter.tsx ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\nvar ccValues = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsvalues */ 392);\r\n/* tslint:disable:variable-name */\r\nvar FilterItem = function (props) {\r\n    if (props.isVisible) {\r\n        return (React.createElement(\"li\", { id: 'filter' + enums.getEnumString(enums.WorklistSeedFilter, props.filter), className: props.selectedFilter === props.filter ? 'selected' : '' },\r\n            React.createElement(\"input\", { type: 'radio', id: props.id, name: props.name, value: props.selectedFilter === props.filter ? 'selected' : '', checked: props.selectedFilter === props.filter ? true : false }),\r\n            React.createElement(\"label\", { htmlFor: props.id, onClick: function () { props.onFilterChanged(props.filter); } },\r\n                React.createElement(\"span\", { className: 'radio-ui' }),\r\n                React.createElement(\"span\", { className: 'label-text' }, props.label))));\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\n/**\r\n * Stateless component for Worklist filter\r\n * @param props\r\n */\r\nvar WorklistFilter = function (props) {\r\n    if (props.isVisible) {\r\n        return (React.createElement(\"div\", { className: 'col-wrap grid-nav padding-bottom-15' },\r\n            React.createElement(\"ul\", { className: 'worklist-radio-filter' },\r\n                React.createElement(\"li\", { className: 'filter-by-title' },\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('team-management.examiner-worklist.filters.filter-by'),\r\n                        \" \")),\r\n                React.createElement(FilterItem, { id: 'fltrAll', key: 'key-fltrAll', name: 'filterSeeds', isVisible: true, onFilterChanged: props.onFilterChanged, label: localeStore.instance.TranslateText('team-management.examiner-worklist.filters.all-responses'), filter: enums.WorklistSeedFilter.All, selectedFilter: props.selectedFilter }),\r\n                React.createElement(FilterItem, { id: 'fltrSeeds', key: 'key-fltrSeeds', name: 'filterSeeds', isVisible: true, onFilterChanged: props.onFilterChanged, label: localeStore.instance.TranslateText('team-management.examiner-worklist.filters.seeds-only'), filter: enums.WorklistSeedFilter.SeedsOnly, selectedFilter: props.selectedFilter }),\r\n                React.createElement(FilterItem, { id: 'fltrUnrevdSeeds', key: 'key-fltrUnrevdSeeds', name: 'filterSeeds', isVisible: !ccValues.seniorExaminerPool(props.markSchemeGroupId), onFilterChanged: props.onFilterChanged, label: localeStore.instance.TranslateText('team-management.examiner-worklist.filters.unreviewed-seeds-only'), filter: enums.WorklistSeedFilter.UnreviewedSeedsOnly, selectedFilter: props.selectedFilter }))));\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\nmodule.exports = WorklistFilter;\r\n/* tslint:enable */\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI0Mi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3dvcmtsaXN0ZmlsdGVyLnRzeD8yOGEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGNjVmFsdWVzID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3N2YWx1ZXMnKTtcclxuXHJcblxyXG5pbnRlcmZhY2UgV29ya2xpc3RGaWx0ZXJQcm9wcyBleHRlbmRzIFByb3BzQmFzZSB7XHJcbiAgICBpc1Zpc2libGU6IGJvb2xlYW47XHJcbiAgICBzZWxlY3RlZEZpbHRlcjogZW51bXMuV29ya2xpc3RTZWVkRmlsdGVyO1xyXG4gICAgb25GaWx0ZXJDaGFuZ2VkOiBGdW5jdGlvbjtcclxuICAgIG1hcmtTY2hlbWVHcm91cElkOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBXb3JrbGlzdEZpbHRlckl0ZW1Qcm9wcyBleHRlbmRzIFByb3BzQmFzZSB7XHJcbiAgICBpc1Zpc2libGU6IGJvb2xlYW47XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBsYWJlbDogc3RyaW5nO1xyXG4gICAgb25GaWx0ZXJDaGFuZ2VkOiBGdW5jdGlvbjtcclxuICAgIGZpbHRlcjogZW51bXMuV29ya2xpc3RTZWVkRmlsdGVyO1xyXG4gICAgc2VsZWN0ZWRGaWx0ZXI6IGVudW1zLldvcmtsaXN0U2VlZEZpbHRlcjtcclxufVxyXG5cclxuLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5cclxuY29uc3QgRmlsdGVySXRlbTogUmVhY3QuU3RhdGVsZXNzQ29tcG9uZW50PFdvcmtsaXN0RmlsdGVySXRlbVByb3BzPiA9IChwcm9wczogV29ya2xpc3RGaWx0ZXJJdGVtUHJvcHMpID0+IHtcclxuICAgIGlmIChwcm9wcy5pc1Zpc2libGUpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8bGkgaWQ9eydmaWx0ZXInICsgZW51bXMuZ2V0RW51bVN0cmluZyhlbnVtcy5Xb3JrbGlzdFNlZWRGaWx0ZXIsIHByb3BzLmZpbHRlcil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3Byb3BzLnNlbGVjdGVkRmlsdGVyID09PSBwcm9wcy5maWx0ZXIgPyAnc2VsZWN0ZWQnIDogJyd9PlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J3JhZGlvJyBpZD17cHJvcHMuaWR9IG5hbWU9e3Byb3BzLm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Byb3BzLnNlbGVjdGVkRmlsdGVyID09PSBwcm9wcy5maWx0ZXIgPyAnc2VsZWN0ZWQnIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cHJvcHMuc2VsZWN0ZWRGaWx0ZXIgPT09IHByb3BzLmZpbHRlciA/IHRydWUgOiBmYWxzZX0+XHJcbiAgICAgICAgICAgICAgICA8L2lucHV0PlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9e3Byb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgcHJvcHMub25GaWx0ZXJDaGFuZ2VkKHByb3BzLmZpbHRlcik7IH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ncmFkaW8tdWknPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xhYmVsLXRleHQnPntwcm9wcy5sYWJlbH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2xpPik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBTdGF0ZWxlc3MgY29tcG9uZW50IGZvciBXb3JrbGlzdCBmaWx0ZXJcclxuICogQHBhcmFtIHByb3BzXHJcbiAqL1xyXG5jb25zdCBXb3JrbGlzdEZpbHRlcjogUmVhY3QuU3RhdGVsZXNzQ29tcG9uZW50PFdvcmtsaXN0RmlsdGVyUHJvcHM+ID0gKHByb3BzOiBXb3JrbGlzdEZpbHRlclByb3BzKSA9PiB7XHJcbiAgICBpZiAocHJvcHMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC13cmFwIGdyaWQtbmF2IHBhZGRpbmctYm90dG9tLTE1Jz5cclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9J3dvcmtsaXN0LXJhZGlvLWZpbHRlcic+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT0nZmlsdGVyLWJ5LXRpdGxlJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5maWx0ZXJzLmZpbHRlci1ieScpfSA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICA8RmlsdGVySXRlbSBpZD17J2ZsdHJBbGwnfSBrZXk9eydrZXktZmx0ckFsbCd9IG5hbWU9eydmaWx0ZXJTZWVkcyd9IGlzVmlzaWJsZT17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25GaWx0ZXJDaGFuZ2VkPXtwcm9wcy5vbkZpbHRlckNoYW5nZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuZmlsdGVycy5hbGwtcmVzcG9uc2VzJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcj17ZW51bXMuV29ya2xpc3RTZWVkRmlsdGVyLkFsbH0gc2VsZWN0ZWRGaWx0ZXI9e3Byb3BzLnNlbGVjdGVkRmlsdGVyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxGaWx0ZXJJdGVtIGlkPXsnZmx0clNlZWRzJ30ga2V5PXsna2V5LWZsdHJTZWVkcyd9IG5hbWU9eydmaWx0ZXJTZWVkcyd9IGlzVmlzaWJsZT17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25GaWx0ZXJDaGFuZ2VkPXtwcm9wcy5vbkZpbHRlckNoYW5nZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuZmlsdGVycy5zZWVkcy1vbmx5Jyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcj17ZW51bXMuV29ya2xpc3RTZWVkRmlsdGVyLlNlZWRzT25seX0gc2VsZWN0ZWRGaWx0ZXI9e3Byb3BzLnNlbGVjdGVkRmlsdGVyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxGaWx0ZXJJdGVtIGlkPXsnZmx0clVucmV2ZFNlZWRzJ30ga2V5PXsna2V5LWZsdHJVbnJldmRTZWVkcyd9IG5hbWU9eydmaWx0ZXJTZWVkcyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZT17IWNjVmFsdWVzLnNlbmlvckV4YW1pbmVyUG9vbChwcm9wcy5tYXJrU2NoZW1lR3JvdXBJZCl9IG9uRmlsdGVyQ2hhbmdlZD17cHJvcHMub25GaWx0ZXJDaGFuZ2VkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmZpbHRlcnMudW5yZXZpZXdlZC1zZWVkcy1vbmx5Jyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcj17ZW51bXMuV29ya2xpc3RTZWVkRmlsdGVyLlVucmV2aWV3ZWRTZWVkc09ubHl9IHNlbGVjdGVkRmlsdGVyPXtwcm9wcy5zZWxlY3RlZEZpbHRlcn0gLz5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0ID0gV29ya2xpc3RGaWx0ZXI7XHJcbi8qIHRzbGludDplbmFibGUgKi9cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3dvcmtsaXN0ZmlsdGVyLnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBbUJBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUVBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBSUE7QUFJQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1243:
/* no static exports found */
/* all exports used */
/*!**********************************************************!*\
  !*** ./src/components/worklist/worklisttablewrapper.tsx ***!
  \**********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar ReactDom = __webpack_require__(/*! react-dom */ 6);\r\nvar TableControl = __webpack_require__(/*! ../utility/table/tablewrapper */ 445);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar timerHelper = __webpack_require__(/*! ../../utility/generic/timerhelper */ 448);\r\nvar worklistActionCreator = __webpack_require__(/*! ../../actions/worklist/worklistactioncreator */ 261);\r\nvar deviceHelper = __webpack_require__(/*! ../../utility/touch/devicehelper */ 316);\r\nvar eventManagerBase = __webpack_require__(/*! ../base/eventmanager/eventmanagerbase */ 320);\r\nvar eventTypes = __webpack_require__(/*! ../base/eventmanager/eventtypes */ 306);\r\nvar direction = __webpack_require__(/*! ../base/eventmanager/direction */ 333);\r\nvar tableHelper = __webpack_require__(/*! ../utility/table/tablehelper */ 452);\r\nvar SCROLL_DAMPENING_FACTOR = 15;\r\nvar INITIAL_DISPLACEMENT_OFFSET = 20;\r\n/**\r\n * React wrapper component for worklist tables\r\n */\r\nvar WorklistTableWrapper = /** @class */ (function (_super) {\r\n    __extends(WorklistTableWrapper, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function WorklistTableWrapper(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /*checks user action is swipe or pan*/\r\n        _this.isSwipe = false;\r\n        /**\r\n         * on scroll on the worklist set the scroll of the display IDs table\r\n         * @param any\r\n         */\r\n        _this.onScrollHandler = function (e) {\r\n            var tableScrollHolder = _this.refs.tableScrollHolder;\r\n            var scrollTop = _this.refs.tableScrollHolder.scrollTop;\r\n            var scrollleft = _this.refs.tableScrollHolder.scrollLeft;\r\n            _this.refs.frozenTableHolder.scrollTop = scrollTop;\r\n            _this.refs.headerScrollHolder.scrollLeft = scrollleft;\r\n            _this.setScrollablevariable();\r\n            _this.refs.workListGridPanel.className = _this.getGridClass();\r\n        };\r\n        _this.onMouseWheel = function (e) {\r\n            _this.refs.tableScrollHolder.scrollTop = _this.refs.frozenTableHolder.scrollTop + e.deltaY;\r\n            _this.setScrollablevariable();\r\n            _this.refs.workListGridPanel.className = _this.getGridClass();\r\n        };\r\n        /**\r\n         * set the margins and css styles for diff divs and tables in worklist\r\n         */\r\n        _this.setMarginsAndStyle = function () {\r\n            // we need to recalculate the column widths in window resize\r\n            _this.setColumnWidths();\r\n            var tableScrollHolder = _this.refs.tableScrollHolder;\r\n            if (_this.refs.frozenTableHolder) {\r\n                _this.frozenHeadStyle = {};\r\n            }\r\n            if (tableScrollHolder) {\r\n                var hScrollbarWidth = tableScrollHolder.offsetWidth - tableScrollHolder.clientWidth;\r\n                var vScrollbarWidth = tableScrollHolder.offsetHeight - tableScrollHolder.clientHeight;\r\n                _this.cssRowHeaderTableStyle = { marginRight: -hScrollbarWidth };\r\n                _this.cssRowHeaderHeaderTableStyle = { marginRight: hScrollbarWidth };\r\n                _this.cssContentWrapTableStyle = { paddingBottom: vScrollbarWidth, paddingRight: hScrollbarWidth };\r\n                _this.cssBodyWrapTableStyle = { right: -hScrollbarWidth, bottom: -vScrollbarWidth };\r\n                _this.setScrollablevariable();\r\n                timerHelper.handleReactUpdatesOnWindowResize(function () {\r\n                    _this.setState({\r\n                        renderedOn: Date.now()\r\n                    });\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * returns the grid class (for shadow)\r\n         */\r\n        _this.getGridClass = function () {\r\n            var gridClass = classNames('work-list-grid', { 'scrolled-left': _this.isScrolledLeft === true }, { 'scrolled-right': _this.isScrolledRight === true });\r\n            return gridClass;\r\n        };\r\n        _this.onSortClick = function (comparerName, sortDirection) {\r\n            _this.props.onSortClick(comparerName, sortDirection);\r\n        };\r\n        _this.setColumnWidths = function () {\r\n            tableHelper.setColumnWidthsForTable(_this.props.getGridControlId(), 'frozenHeader_', 'rowHeader_');\r\n            tableHelper.setColumnWidthsForTable(_this.props.getGridControlId(), 'columnHeader_', '');\r\n        };\r\n        _this.onScrollHandler = _this.onScrollHandler.bind(_this);\r\n        _this.onMouseWheel = _this.onMouseWheel.bind(_this);\r\n        _this.onSwipeHandler = _this.onSwipeHandler.bind(_this);\r\n        _this.onPanMove = _this.onPanMove.bind(_this);\r\n        //this.onTouchMove = this.onTouchMove.bind(this);\r\n        _this.isScrolledLeft = true;\r\n        _this.isScrolledRight = true;\r\n        _this.onSortClick = _this.onSortClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    WorklistTableWrapper.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: this.getGridClass(), style: this.cssRowHeaderTableStyle, ref: 'workListGridPanel' },\r\n            React.createElement(\"div\", { className: 'table-header-wrap', style: this.cssRowHeaderHeaderTableStyle },\r\n                React.createElement(\"div\", { className: 'table-wrap-lt', ref: 'frozenHeader', style: this.frozenHeadStyle },\r\n                    React.createElement(TableControl, { tableHeaderRows: this.props.frozenHeaderRows, gridStyle: 'table-view', id: 'frozenHeader_' + this.props.getGridControlId(), key: 'key_frozenHeader_' + this.props.id, worklistType: this.props.worklistType, selectedLanguage: this.props.selectedLanguage, onSortClick: this.onSortClick, renderedOn: this.props.renderedOn })),\r\n                React.createElement(\"div\", { className: 'table-wrap-t' },\r\n                    React.createElement(\"div\", { className: 'header-scroll-holder', ref: 'headerScrollHolder' },\r\n                        React.createElement(TableControl, { tableHeaderRows: this.props.columnHeaderRows, gridStyle: 'grid-view', id: 'columnHeader_' + this.props.getGridControlId(), key: 'key_columnHeader_' + this.props.id, worklistType: this.props.worklistType, selectedLanguage: this.props.selectedLanguage, onSortClick: this.onSortClick, renderedOn: this.props.renderedOn })),\r\n                    React.createElement(\"div\", { className: 'drop-shadow' }, \" \"))),\r\n            React.createElement(\"div\", { className: 'table-content-wrap', style: this.cssContentWrapTableStyle },\r\n                React.createElement(\"div\", { className: 'table-wrap-l', ref: 'frozenTableHolder', onWheel: this.onMouseWheel },\r\n                    React.createElement(TableControl, { tableBodyRows: this.props.frozenBodyRows, gridStyle: 'table-view', id: 'rowHeader_' + this.props.getGridControlId(), key: 'key_rowHeader_' + this.props.id, worklistType: this.props.worklistType, selectedLanguage: this.props.selectedLanguage, renderedOn: this.props.renderedOn })),\r\n                React.createElement(\"div\", { className: 'table-body-wrap' },\r\n                    React.createElement(\"div\", { className: 'table-scroll-holder', style: this.cssBodyWrapTableStyle, ref: 'tableScrollHolder', onScroll: this.onScrollHandler },\r\n                        React.createElement(\"div\", { className: 'table-content-holder' },\r\n                            React.createElement(TableControl, { tableBodyRows: this.props.gridRows, gridStyle: 'table-view', id: this.props.getGridControlId(), key: 'key_' + this.props.id, worklistType: this.props.worklistType, selectedLanguage: this.props.selectedLanguage, renderedOn: this.props.renderedOn }))),\r\n                    React.createElement(\"div\", { className: 'drop-shadow' }, \" \")))));\r\n    };\r\n    /**\r\n     * Trigger on swipe move.\r\n     */\r\n    WorklistTableWrapper.prototype.onSwipeHandler = function (event) {\r\n        this.isSwipe = true;\r\n        /** To prevent event bubbling */\r\n        event.srcEvent.preventDefault();\r\n        var displacement = event.deltaY;\r\n        this.refs.tableScrollHolder.scrollTop = this.refs.frozenTableHolder.scrollTop - displacement;\r\n    };\r\n    /**\r\n     * Trigger on touch move.\r\n     */\r\n    //private onTouchMove(event: any) {\r\n    //    /** To prevent the default flickering behavior of ipad safari */\r\n    //    event.preventDefault();\r\n    //}\r\n    /**\r\n     * Trigger on touch move.\r\n     */\r\n    WorklistTableWrapper.prototype.onPanMove = function (event) {\r\n        event.srcEvent.preventDefault();\r\n        var displacement = event.deltaY;\r\n        if (!this.isSwipe) {\r\n            event.srcEvent.preventDefault();\r\n            var displacement_1 = event.deltaY;\r\n            if (Math.abs(displacement_1) > INITIAL_DISPLACEMENT_OFFSET && this.refs.tableScrollHolder && this.refs.frozenTableHolder) {\r\n                // The displacement is divided by a dampening factor to restrict the fast scroll movement \r\n                this.refs.tableScrollHolder.scrollTop = this.refs.frozenTableHolder.scrollTop - (displacement_1 / SCROLL_DAMPENING_FACTOR);\r\n            }\r\n        }\r\n        this.isSwipe = false;\r\n    };\r\n    /**\r\n     * This will setup events\r\n     */\r\n    WorklistTableWrapper.prototype.setUpEvents = function () {\r\n        var element = ReactDom.findDOMNode(this.refs.frozenTableHolder);\r\n        if (element && !this.eventHandler.isInitialized) {\r\n            this.eventHandler.initEvents(element);\r\n            this.eventHandler.get(eventTypes.SWIPE, { direction: direction.DirectionOptions.DIRECTION_VERTICAL, threshold: 5 });\r\n            this.eventHandler.on(eventTypes.SWIPE, this.onSwipeHandler);\r\n            this.eventHandler.get(eventTypes.PAN, { direction: direction.DirectionOptions.DIRECTION_VERTICAL, threshold: 5 });\r\n            this.eventHandler.on(eventTypes.PAN, this.onPanMove);\r\n        }\r\n    };\r\n    /**\r\n     * unsubscribing hammer touch events and handlers\r\n     */\r\n    WorklistTableWrapper.prototype.unRegisterEvents = function () {\r\n        if (this.eventHandler.isInitialized) {\r\n            this.eventHandler.destroy();\r\n        }\r\n    };\r\n    /**\r\n     * margins and styles should be set after first render.\r\n     */\r\n    WorklistTableWrapper.prototype.componentDidUpdate = function () {\r\n        // setting min-width except sorting\r\n        if (this.props.doSetMinWidth) {\r\n            this.setColumnWidths();\r\n        }\r\n    };\r\n    /**\r\n     * margins and styles should be set after first render.\r\n     */\r\n    WorklistTableWrapper.prototype.componentDidMount = function () {\r\n        this.setMarginsAndStyle();\r\n        window.addEventListener('resize', this.setMarginsAndStyle);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.SETSCROLL_WORKLIST_COLUMNS, this.setMarginsAndStyle);\r\n        if (deviceHelper.isTouchDevice()) {\r\n            this.setUpEvents();\r\n        }\r\n    };\r\n    /**\r\n     * Unsubscribe events\r\n     */\r\n    WorklistTableWrapper.prototype.componentWillUnmount = function () {\r\n        window.removeEventListener('resize', this.setMarginsAndStyle);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.SETSCROLL_WORKLIST_COLUMNS, this.setMarginsAndStyle);\r\n        // unregister events\r\n        this.unRegisterEvents();\r\n    };\r\n    /**\r\n     * Comparing the props to check the rerender\r\n     * @param {Props} nextProps\r\n     */\r\n    WorklistTableWrapper.prototype.componentWillReceiveProps = function (nextProps) {\r\n        if (this.props.selectedLanguage !== nextProps.selectedLanguage) {\r\n            worklistActionCreator.setScrollWorklistColumns();\r\n        }\r\n    };\r\n    /**\r\n     * set the left/right scrollable variables\r\n     * @param tableScrollHolder\r\n     */\r\n    WorklistTableWrapper.prototype.setScrollablevariable = function () {\r\n        if (this.refs.tableScrollHolder) {\r\n            if (this.refs.tableScrollHolder.scrollLeft <= 0) {\r\n                this.isScrolledLeft = true;\r\n            }\r\n            else {\r\n                this.isScrolledLeft = false;\r\n            }\r\n            if ((this.refs.tableScrollHolder.scrollLeft + this.refs.tableScrollHolder.offsetWidth) >=\r\n                this.refs.tableScrollHolder.scrollWidth) {\r\n                this.isScrolledRight = true;\r\n            }\r\n            else {\r\n                this.isScrolledRight = false;\r\n            }\r\n        }\r\n    };\r\n    return WorklistTableWrapper;\r\n}(eventManagerBase));\r\nmodule.exports = WorklistTableWrapper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI0My5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3dvcmtsaXN0dGFibGV3cmFwcGVyLnRzeD9kMjAxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBSZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xyXG5pbXBvcnQgVGFibGVDb250cm9sID0gcmVxdWlyZSgnLi4vdXRpbGl0eS90YWJsZS90YWJsZXdyYXBwZXInKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgdGltZXJIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2dlbmVyaWMvdGltZXJoZWxwZXInKTtcclxuaW1wb3J0IHdvcmtsaXN0QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvd29ya2xpc3Qvd29ya2xpc3RhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBkZXZpY2VIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3RvdWNoL2RldmljZWhlbHBlcicpO1xyXG5pbXBvcnQgZXZlbnRNYW5hZ2VyQmFzZSA9IHJlcXVpcmUoJy4uL2Jhc2UvZXZlbnRtYW5hZ2VyL2V2ZW50bWFuYWdlcmJhc2UnKTtcclxuaW1wb3J0IGV2ZW50VHlwZXMgPSByZXF1aXJlKCcuLi9iYXNlL2V2ZW50bWFuYWdlci9ldmVudHR5cGVzJyk7XHJcbmltcG9ydCBkaXJlY3Rpb24gPSByZXF1aXJlKCcuLi9iYXNlL2V2ZW50bWFuYWdlci9kaXJlY3Rpb24nKTtcclxuaW1wb3J0IHRhYmxlSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS90YWJsZS90YWJsZWhlbHBlcicpO1xyXG5pbXBvcnQgaHRtbFV0aWxpdGllcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZ2VuZXJpYy9odG1sdXRpbGl0aWVzJyk7XHJcbmNvbnN0IFNDUk9MTF9EQU1QRU5JTkdfRkFDVE9SID0gMTU7XHJcbmNvbnN0IElOSVRJQUxfRElTUExBQ0VNRU5UX09GRlNFVCA9IDIwO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgUHJvcHNCYXNlLCBMb2NhbGVTZWxlY3Rpb25CYXNlIHtcclxuICAgIHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlO1xyXG4gICAgZnJvemVuSGVhZGVyUm93czogSW1tdXRhYmxlLkxpc3Q8Um93PjtcclxuICAgIGNvbHVtbkhlYWRlclJvd3M6IEltbXV0YWJsZS5MaXN0PFJvdz47XHJcbiAgICBmcm96ZW5Cb2R5Um93czogSW1tdXRhYmxlLkxpc3Q8Um93PjtcclxuICAgIGdyaWRSb3dzOiBJbW11dGFibGUuTGlzdDxSb3c+O1xyXG4gICAgZ2V0R3JpZENvbnRyb2xJZDogRnVuY3Rpb247XHJcbiAgICBvblNvcnRDbGljaz86IEZ1bmN0aW9uO1xyXG4gICAgZG9TZXRNaW5XaWR0aD86IGJvb2xlYW47XHJcbiAgICByZW5kZXJlZE9uOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgICByZW5kZXJlZE9uOiBudW1iZXI7XHJcbn1cclxuLyoqXHJcbiAqIFJlYWN0IHdyYXBwZXIgY29tcG9uZW50IGZvciB3b3JrbGlzdCB0YWJsZXNcclxuICovXHJcbmNsYXNzIFdvcmtsaXN0VGFibGVXcmFwcGVyIGV4dGVuZHMgZXZlbnRNYW5hZ2VyQmFzZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBjc3NSb3dIZWFkZXJUYWJsZVN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xyXG4gICAgcHJpdmF0ZSBjc3NSb3dIZWFkZXJIZWFkZXJUYWJsZVN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xyXG4gICAgcHJpdmF0ZSBjc3NDb250ZW50V3JhcFRhYmxlU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXM7XHJcbiAgICBwcml2YXRlIGNzc0JvZHlXcmFwVGFibGVTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcztcclxuICAgIHByaXZhdGUgZnJvemVuSGVhZFN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xyXG4gICAgcHJpdmF0ZSBpc1Njcm9sbGVkTGVmdDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgaXNTY3JvbGxlZFJpZ2h0OiBib29sZWFuO1xyXG4gICAgLypjaGVja3MgdXNlciBhY3Rpb24gaXMgc3dpcGUgb3IgcGFuKi9cclxuXHRwcml2YXRlIGlzU3dpcGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAvKiogcmVmcyAqL1xyXG4gICAgcHVibGljIHJlZnM6IHtcclxuICAgICAgICBba2V5OiBzdHJpbmddOiAoRWxlbWVudCk7XHJcbiAgICAgICAgdGFibGVTY3JvbGxIb2xkZXI6IChIVE1MRGl2RWxlbWVudCk7XHJcbiAgICAgICAgd29ya0xpc3RHcmlkUGFuZWw6IChIVE1MRGl2RWxlbWVudCk7XHJcbiAgICAgICAgaGVhZGVyU2Nyb2xsSG9sZGVyOiAoSFRNTERpdkVsZW1lbnQpO1xyXG4gICAgICAgIGZyb3plblRhYmxlSG9sZGVyOiAoSFRNTERpdkVsZW1lbnQpO1xyXG4gICAgICAgIGZyb3plbkhlYWRlcjogKEhUTUxEaXZFbGVtZW50KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuXHJcbiAgICAgICAgdGhpcy5vblNjcm9sbEhhbmRsZXIgPSB0aGlzLm9uU2Nyb2xsSGFuZGxlci5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25Nb3VzZVdoZWVsID0gdGhpcy5vbk1vdXNlV2hlZWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uU3dpcGVIYW5kbGVyID0gdGhpcy5vblN3aXBlSGFuZGxlci5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25QYW5Nb3ZlID0gdGhpcy5vblBhbk1vdmUuYmluZCh0aGlzKTtcclxuICAgICAgICAvL3RoaXMub25Ub3VjaE1vdmUgPSB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5pc1Njcm9sbGVkTGVmdCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pc1Njcm9sbGVkUmlnaHQgPSB0cnVlO1xyXG5cclxuXHRcdHRoaXMub25Tb3J0Q2xpY2sgPSB0aGlzLm9uU29ydENsaWNrLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldEdyaWRDbGFzcygpIH0gc3R5bGU9IHsgdGhpcy5jc3NSb3dIZWFkZXJUYWJsZVN0eWxlIH0gcmVmPSB7ICd3b3JrTGlzdEdyaWRQYW5lbCd9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RhYmxlLWhlYWRlci13cmFwJyBzdHlsZT0geyB0aGlzLmNzc1Jvd0hlYWRlckhlYWRlclRhYmxlU3R5bGUgfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RhYmxlLXdyYXAtbHQnIHJlZiA9IHsnZnJvemVuSGVhZGVyJ30gc3R5bGU9IHt0aGlzLmZyb3plbkhlYWRTdHlsZX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb250cm9sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUhlYWRlclJvd3MgPSB7IHRoaXMucHJvcHMuZnJvemVuSGVhZGVyUm93cyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkU3R5bGUgPSB7ICd0YWJsZS12aWV3J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkID0geyAnZnJvemVuSGVhZGVyXycgKyB0aGlzLnByb3BzLmdldEdyaWRDb250cm9sSWQoKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSB7ICdrZXlfZnJvemVuSGVhZGVyXycgKyB0aGlzLnByb3BzLmlkIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0VHlwZSA9IHsgdGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZSA9IHsgdGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU29ydENsaWNrID0ge3RoaXMub25Tb3J0Q2xpY2t9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJlZE9uPXt0aGlzLnByb3BzLnJlbmRlcmVkT259Lz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8IGRpdiBjbGFzc05hbWU9ICd0YWJsZS13cmFwLXQnID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2hlYWRlci1zY3JvbGwtaG9sZGVyJyByZWY9IHsgJ2hlYWRlclNjcm9sbEhvbGRlcid9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlSGVhZGVyUm93cyA9IHsgdGhpcy5wcm9wcy5jb2x1bW5IZWFkZXJSb3dzIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkU3R5bGUgPSB7ICdncmlkLXZpZXcnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkID0geyAnY29sdW1uSGVhZGVyXycgKyB0aGlzLnByb3BzLmdldEdyaWRDb250cm9sSWQoKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0geyAna2V5X2NvbHVtbkhlYWRlcl8nICsgdGhpcy5wcm9wcy5pZCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RUeXBlID0geyB0aGlzLnByb3BzLndvcmtsaXN0VHlwZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZSA9IHsgdGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNvcnRDbGljayA9IHt0aGlzLm9uU29ydENsaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkT249e3RoaXMucHJvcHMucmVuZGVyZWRPbn0vPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCBkaXYgY2xhc3NOYW1lPSAnZHJvcC1zaGFkb3cnID4gPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwgZGl2IGNsYXNzTmFtZT0gJ3RhYmxlLWNvbnRlbnQtd3JhcCcgc3R5bGU9IHsgdGhpcy5jc3NDb250ZW50V3JhcFRhYmxlU3R5bGUgfSA+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT17J3RhYmxlLXdyYXAtbCd9XHJcblx0XHRcdFx0XHRcdHJlZj17J2Zyb3plblRhYmxlSG9sZGVyJ31cclxuXHRcdFx0XHRcdFx0b25XaGVlbD17dGhpcy5vbk1vdXNlV2hlZWx9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDb250cm9sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUJvZHlSb3dzID0geyB0aGlzLnByb3BzLmZyb3plbkJvZHlSb3dzIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRTdHlsZSA9IHsgJ3RhYmxlLXZpZXcnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSB7ICdyb3dIZWFkZXJfJyArIHRoaXMucHJvcHMuZ2V0R3JpZENvbnRyb2xJZCgpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IHsgJ2tleV9yb3dIZWFkZXJfJyArIHRoaXMucHJvcHMuaWQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RUeXBlID0geyB0aGlzLnByb3BzLndvcmtsaXN0VHlwZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlID0geyB0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2UgfVxyXG5cdFx0XHRcdFx0XHRcdHJlbmRlcmVkT249e3RoaXMucHJvcHMucmVuZGVyZWRPbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8IGRpdiBjbGFzc05hbWUgPSAndGFibGUtYm9keS13cmFwJyA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lID0gJ3RhYmxlLXNjcm9sbC1ob2xkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHsgdGhpcy5jc3NCb2R5V3JhcFRhYmxlU3R5bGUgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmID0geyAndGFibGVTY3JvbGxIb2xkZXInfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TY3JvbGwgPSB7IHRoaXMub25TY3JvbGxIYW5kbGVyIH0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RhYmxlLWNvbnRlbnQtaG9sZGVyJyA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUJvZHlSb3dzID0geyB0aGlzLnByb3BzLmdyaWRSb3dzIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFN0eWxlID0geyAndGFibGUtdmlldyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkID0geyB0aGlzLnByb3BzLmdldEdyaWRDb250cm9sSWQoKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IHsgJ2tleV8nICsgdGhpcy5wcm9wcy5pZCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0VHlwZSA9IHsgdGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlID0geyB0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2UgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJlZE9uPXt0aGlzLnByb3BzLnJlbmRlcmVkT259Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCBkaXYgY2xhc3NOYW1lPSAnZHJvcC1zaGFkb3cnID4gPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBvbiBzY3JvbGwgb24gdGhlIHdvcmtsaXN0IHNldCB0aGUgc2Nyb2xsIG9mIHRoZSBkaXNwbGF5IElEcyB0YWJsZVxyXG4gICAgICogQHBhcmFtIGFueVxyXG4gICAgICovXHJcblx0cHJpdmF0ZSBvblNjcm9sbEhhbmRsZXIgPSAoZTogYW55KSA9PiB7XHJcblx0XHRsZXQgdGFibGVTY3JvbGxIb2xkZXIgPSB0aGlzLnJlZnMudGFibGVTY3JvbGxIb2xkZXI7XHJcblx0XHRsZXQgc2Nyb2xsVG9wOiBudW1iZXIgPSB0aGlzLnJlZnMudGFibGVTY3JvbGxIb2xkZXIuc2Nyb2xsVG9wO1xyXG5cdFx0bGV0IHNjcm9sbGxlZnQ6IG51bWJlciA9IHRoaXMucmVmcy50YWJsZVNjcm9sbEhvbGRlci5zY3JvbGxMZWZ0O1xyXG5cclxuXHRcdHRoaXMucmVmcy5mcm96ZW5UYWJsZUhvbGRlci5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XHJcblx0XHR0aGlzLnJlZnMuaGVhZGVyU2Nyb2xsSG9sZGVyLnNjcm9sbExlZnQgPSBzY3JvbGxsZWZ0O1xyXG5cclxuXHRcdHRoaXMuc2V0U2Nyb2xsYWJsZXZhcmlhYmxlKCk7XHJcblx0XHR0aGlzLnJlZnMud29ya0xpc3RHcmlkUGFuZWwuY2xhc3NOYW1lID0gdGhpcy5nZXRHcmlkQ2xhc3MoKTtcclxuXHR9O1xyXG5cclxuICAgIHByaXZhdGUgb25Nb3VzZVdoZWVsID0gKGU6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVmcy50YWJsZVNjcm9sbEhvbGRlci5zY3JvbGxUb3AgPSB0aGlzLnJlZnMuZnJvemVuVGFibGVIb2xkZXIuc2Nyb2xsVG9wICsgZS5kZWx0YVk7XHJcbiAgICAgICAgdGhpcy5zZXRTY3JvbGxhYmxldmFyaWFibGUoKTtcclxuICAgICAgICB0aGlzLnJlZnMud29ya0xpc3RHcmlkUGFuZWwuY2xhc3NOYW1lID0gdGhpcy5nZXRHcmlkQ2xhc3MoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIG9uIHN3aXBlIG1vdmUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Td2lwZUhhbmRsZXIoZXZlbnQ6IEV2ZW50Q3VzdG9tKSB7XHJcbiAgICAgICAgdGhpcy5pc1N3aXBlID0gdHJ1ZTtcclxuICAgICAgICAvKiogVG8gcHJldmVudCBldmVudCBidWJibGluZyAqL1xyXG4gICAgICAgIGV2ZW50LnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IGRpc3BsYWNlbWVudDogbnVtYmVyID0gZXZlbnQuZGVsdGFZO1xyXG4gICAgICAgIHRoaXMucmVmcy50YWJsZVNjcm9sbEhvbGRlci5zY3JvbGxUb3AgPSB0aGlzLnJlZnMuZnJvemVuVGFibGVIb2xkZXIuc2Nyb2xsVG9wIC0gZGlzcGxhY2VtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlciBvbiB0b3VjaCBtb3ZlLlxyXG4gICAgICovXHJcbiAgICAvL3ByaXZhdGUgb25Ub3VjaE1vdmUoZXZlbnQ6IGFueSkge1xyXG4gICAgLy8gICAgLyoqIFRvIHByZXZlbnQgdGhlIGRlZmF1bHQgZmxpY2tlcmluZyBiZWhhdmlvciBvZiBpcGFkIHNhZmFyaSAqL1xyXG4gICAgLy8gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlciBvbiB0b3VjaCBtb3ZlLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUGFuTW92ZShldmVudDogRXZlbnRDdXN0b20pIHtcclxuICAgICAgICBldmVudC5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGxldCBkaXNwbGFjZW1lbnQ6IG51bWJlciA9IGV2ZW50LmRlbHRhWTtcclxuICAgICAgICBpZiAoIXRoaXMuaXNTd2lwZSkge1xyXG4gICAgICAgICAgICBldmVudC5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsZXQgZGlzcGxhY2VtZW50OiBudW1iZXIgPSBldmVudC5kZWx0YVk7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkaXNwbGFjZW1lbnQpID4gSU5JVElBTF9ESVNQTEFDRU1FTlRfT0ZGU0VUICYmIHRoaXMucmVmcy50YWJsZVNjcm9sbEhvbGRlciAmJiB0aGlzLnJlZnMuZnJvemVuVGFibGVIb2xkZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSBkaXNwbGFjZW1lbnQgaXMgZGl2aWRlZCBieSBhIGRhbXBlbmluZyBmYWN0b3IgdG8gcmVzdHJpY3QgdGhlIGZhc3Qgc2Nyb2xsIG1vdmVtZW50IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZzLnRhYmxlU2Nyb2xsSG9sZGVyLnNjcm9sbFRvcCA9IHRoaXMucmVmcy5mcm96ZW5UYWJsZUhvbGRlci5zY3JvbGxUb3AgLSAoZGlzcGxhY2VtZW50IC8gU0NST0xMX0RBTVBFTklOR19GQUNUT1IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXNTd2lwZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc2V0IHRoZSBtYXJnaW5zIGFuZCBjc3Mgc3R5bGVzIGZvciBkaWZmIGRpdnMgYW5kIHRhYmxlcyBpbiB3b3JrbGlzdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldE1hcmdpbnNBbmRTdHlsZSA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZWNhbGN1bGF0ZSB0aGUgY29sdW1uIHdpZHRocyBpbiB3aW5kb3cgcmVzaXplXHJcbiAgICAgICAgdGhpcy5zZXRDb2x1bW5XaWR0aHMoKTtcclxuXHJcbiAgICAgICAgbGV0IHRhYmxlU2Nyb2xsSG9sZGVyID0gdGhpcy5yZWZzLnRhYmxlU2Nyb2xsSG9sZGVyO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yZWZzLmZyb3plblRhYmxlSG9sZGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJvemVuSGVhZFN0eWxlID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFibGVTY3JvbGxIb2xkZXIpIHtcclxuICAgICAgICAgICAgbGV0IGhTY3JvbGxiYXJXaWR0aCA9IHRhYmxlU2Nyb2xsSG9sZGVyLm9mZnNldFdpZHRoIC0gdGFibGVTY3JvbGxIb2xkZXIuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgICAgIGxldCB2U2Nyb2xsYmFyV2lkdGggPSB0YWJsZVNjcm9sbEhvbGRlci5vZmZzZXRIZWlnaHQgLSB0YWJsZVNjcm9sbEhvbGRlci5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNzc1Jvd0hlYWRlclRhYmxlU3R5bGUgPSB7IG1hcmdpblJpZ2h0OiAtaFNjcm9sbGJhcldpZHRoIH07XHJcbiAgICAgICAgICAgIHRoaXMuY3NzUm93SGVhZGVySGVhZGVyVGFibGVTdHlsZSA9IHsgbWFyZ2luUmlnaHQ6IGhTY3JvbGxiYXJXaWR0aCB9O1xyXG4gICAgICAgICAgICB0aGlzLmNzc0NvbnRlbnRXcmFwVGFibGVTdHlsZSA9IHsgcGFkZGluZ0JvdHRvbTogdlNjcm9sbGJhcldpZHRoLCBwYWRkaW5nUmlnaHQ6IGhTY3JvbGxiYXJXaWR0aCB9O1xyXG4gICAgICAgICAgICB0aGlzLmNzc0JvZHlXcmFwVGFibGVTdHlsZSA9IHsgcmlnaHQ6IC1oU2Nyb2xsYmFyV2lkdGgsIGJvdHRvbTogLXZTY3JvbGxiYXJXaWR0aCB9O1xyXG4gICAgICAgICAgICB0aGlzLnNldFNjcm9sbGFibGV2YXJpYWJsZSgpO1xyXG4gICAgICAgICAgICB0aW1lckhlbHBlci5oYW5kbGVSZWFjdFVwZGF0ZXNPbldpbmRvd1Jlc2l6ZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlZE9uOiBEYXRlLm5vdygpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIHdpbGwgc2V0dXAgZXZlbnRzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2V0VXBFdmVudHMoKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQ6IEVsZW1lbnQgPSBSZWFjdERvbS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuZnJvemVuVGFibGVIb2xkZXIpO1xyXG5cclxuICAgICAgICBpZiAoZWxlbWVudCAmJiAhdGhpcy5ldmVudEhhbmRsZXIuaXNJbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5pbml0RXZlbnRzKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5nZXQoZXZlbnRUeXBlcy5TV0lQRSwgeyBkaXJlY3Rpb246IGRpcmVjdGlvbi5EaXJlY3Rpb25PcHRpb25zLkRJUkVDVElPTl9WRVJUSUNBTCwgdGhyZXNob2xkOiA1IH0pO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5vbihldmVudFR5cGVzLlNXSVBFLCB0aGlzLm9uU3dpcGVIYW5kbGVyKTtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZ2V0KGV2ZW50VHlwZXMuUEFOLCB7IGRpcmVjdGlvbjogZGlyZWN0aW9uLkRpcmVjdGlvbk9wdGlvbnMuRElSRUNUSU9OX1ZFUlRJQ0FMLCB0aHJlc2hvbGQ6IDUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLm9uKGV2ZW50VHlwZXMuUEFOLCB0aGlzLm9uUGFuTW92ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdW5zdWJzY3JpYmluZyBoYW1tZXIgdG91Y2ggZXZlbnRzIGFuZCBoYW5kbGVyc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHVuUmVnaXN0ZXJFdmVudHMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRIYW5kbGVyLmlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG1hcmdpbnMgYW5kIHN0eWxlcyBzaG91bGQgYmUgc2V0IGFmdGVyIGZpcnN0IHJlbmRlci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuICAgICAgICAvLyBzZXR0aW5nIG1pbi13aWR0aCBleGNlcHQgc29ydGluZ1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRvU2V0TWluV2lkdGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRDb2x1bW5XaWR0aHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBtYXJnaW5zIGFuZCBzdHlsZXMgc2hvdWxkIGJlIHNldCBhZnRlciBmaXJzdCByZW5kZXIuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnNldE1hcmdpbnNBbmRTdHlsZSgpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnNldE1hcmdpbnNBbmRTdHlsZSk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuU0VUU0NST0xMX1dPUktMSVNUX0NPTFVNTlMsIHRoaXMuc2V0TWFyZ2luc0FuZFN0eWxlKTtcclxuXHJcbiAgICAgICAgaWYgKGRldmljZUhlbHBlci5pc1RvdWNoRGV2aWNlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRVcEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVuc3Vic2NyaWJlIGV2ZW50c1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuc2V0TWFyZ2luc0FuZFN0eWxlKTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHdvcmtsaXN0U3RvcmUuV29ya0xpc3RTdG9yZS5TRVRTQ1JPTExfV09SS0xJU1RfQ09MVU1OUywgdGhpcy5zZXRNYXJnaW5zQW5kU3R5bGUpO1xyXG5cclxuICAgICAgICAvLyB1bnJlZ2lzdGVyIGV2ZW50c1xyXG4gICAgICAgIHRoaXMudW5SZWdpc3RlckV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcGFyaW5nIHRoZSBwcm9wcyB0byBjaGVjayB0aGUgcmVyZW5kZXJcclxuICAgICAqIEBwYXJhbSB7UHJvcHN9IG5leHRQcm9wc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IFByb3BzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZSAhPT0gbmV4dFByb3BzLnNlbGVjdGVkTGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgd29ya2xpc3RBY3Rpb25DcmVhdG9yLnNldFNjcm9sbFdvcmtsaXN0Q29sdW1ucygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldCB0aGUgbGVmdC9yaWdodCBzY3JvbGxhYmxlIHZhcmlhYmxlc1xyXG4gICAgICogQHBhcmFtIHRhYmxlU2Nyb2xsSG9sZGVyXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2V0U2Nyb2xsYWJsZXZhcmlhYmxlKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yZWZzLnRhYmxlU2Nyb2xsSG9sZGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlZnMudGFibGVTY3JvbGxIb2xkZXIuc2Nyb2xsTGVmdCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU2Nyb2xsZWRMZWZ0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTY3JvbGxlZExlZnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKHRoaXMucmVmcy50YWJsZVNjcm9sbEhvbGRlci5zY3JvbGxMZWZ0ICsgdGhpcy5yZWZzLnRhYmxlU2Nyb2xsSG9sZGVyLm9mZnNldFdpZHRoKSA+PVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZzLnRhYmxlU2Nyb2xsSG9sZGVyLnNjcm9sbFdpZHRoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1Njcm9sbGVkUmlnaHQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1Njcm9sbGVkUmlnaHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGdyaWQgY2xhc3MgKGZvciBzaGFkb3cpXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0R3JpZENsYXNzID0gKCk6IHN0cmluZyA9PiB7XHJcblxyXG4gICAgICAgIGxldCBncmlkQ2xhc3MgPSBjbGFzc05hbWVzKCd3b3JrLWxpc3QtZ3JpZCcsXHJcbiAgICAgICAgICAgIHsgJ3Njcm9sbGVkLWxlZnQnOiB0aGlzLmlzU2Nyb2xsZWRMZWZ0ID09PSB0cnVlIH0sXHJcbiAgICAgICAgICAgIHsgJ3Njcm9sbGVkLXJpZ2h0JzogdGhpcy5pc1Njcm9sbGVkUmlnaHQgPT09IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBncmlkQ2xhc3M7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgb25Tb3J0Q2xpY2sgPSAoY29tcGFyZXJOYW1lOiBzdHJpbmcsIHNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uU29ydENsaWNrKGNvbXBhcmVyTmFtZSwgc29ydERpcmVjdGlvbik7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgc2V0Q29sdW1uV2lkdGhzID0gKCkgPT4ge1xyXG4gICAgICAgIHRhYmxlSGVscGVyLnNldENvbHVtbldpZHRoc0ZvclRhYmxlKHRoaXMucHJvcHMuZ2V0R3JpZENvbnRyb2xJZCgpLCAnZnJvemVuSGVhZGVyXycsICdyb3dIZWFkZXJfJyk7XHJcbiAgICAgICAgdGFibGVIZWxwZXIuc2V0Q29sdW1uV2lkdGhzRm9yVGFibGUodGhpcy5wcm9wcy5nZXRHcmlkQ29udHJvbElkKCksICdjb2x1bW5IZWFkZXJfJywgJycpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCA9IFdvcmtsaXN0VGFibGVXcmFwcGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC93b3JrbGlzdHRhYmxld3JhcHBlci50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWlCQTs7QUFFQTtBQUNBO0FBQUE7QUFzQkE7O0FBRUE7QUFDQTtBQUFBO0FBaEJBO0FBQ0E7QUFtR0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXNDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNkZBOztBQUVBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQXhSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBVUE7QUFHQTtBQUNBO0FBR0E7QUFTQTtBQUNBO0FBSUE7QUFDQTtBQVVBO0FBS0E7QUF5QkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0NBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFzQkE7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 1446:
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./src/utility/worklist/worklistfactory.ts ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar remarkworklisthelper = __webpack_require__(/*! ../../components/utility/grid/worklisthelpers/remarkworklisthelper */ 1185);\r\nvar liveworklisthelper = __webpack_require__(/*! ../../components/utility/grid/worklisthelpers/liveworklisthelper */ 1182);\r\nvar atypicalworklisthelper = __webpack_require__(/*! ../../components/utility/grid/worklisthelpers/atypicalworklisthelper */ 1181);\r\nvar practiceworklisthelper = __webpack_require__(/*! ../../components/utility/grid/worklisthelpers/practiceworklisthelper */ 1184);\r\nvar secondstandardisationworklisthelper = __webpack_require__(/*! ../../components/utility/grid/worklisthelpers/secondstandardisationworklisthelper */ 1186);\r\nvar standardisationworklisthelper = __webpack_require__(/*! ../../components/utility/grid/worklisthelpers/standardisationworklisthelper */ 1188);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar markingCheckWorklistHelper = __webpack_require__(/*! ../../components/utility/grid/worklisthelpers/markingcheckworklisthelper */ 1183);\r\nvar simulationWorklistHelper = __webpack_require__(/*! ../../components/utility/grid/worklisthelpers/simulationworklisthelper */ 1187);\r\nvar WorkListFactory = /** @class */ (function () {\r\n    function WorkListFactory() {\r\n    }\r\n    /**\r\n     * returns the worklist helper object based on the type\r\n     * @param worklistType\r\n     */\r\n    WorkListFactory.prototype.getWorklistHelper = function (worklistType) {\r\n        var worklistHelper;\r\n        switch (worklistType) {\r\n            case enums.WorklistType.live:\r\n                worklistHelper = worklistStore.instance.isMarkingCheckMode ?\r\n                    new markingCheckWorklistHelper() : new liveworklisthelper();\r\n                break;\r\n            case enums.WorklistType.atypical:\r\n                worklistHelper = new atypicalworklisthelper();\r\n                break;\r\n            case enums.WorklistType.practice:\r\n                worklistHelper = new practiceworklisthelper();\r\n                break;\r\n            case enums.WorklistType.standardisation:\r\n                worklistHelper = new standardisationworklisthelper();\r\n                break;\r\n            case enums.WorklistType.secondstandardisation:\r\n                worklistHelper = new secondstandardisationworklisthelper();\r\n                break;\r\n            case enums.WorklistType.directedRemark:\r\n            case enums.WorklistType.pooledRemark:\r\n                worklistHelper = new remarkworklisthelper();\r\n                break;\r\n            case enums.WorklistType.simulation:\r\n                worklistHelper = new simulationWorklistHelper();\r\n                break;\r\n        }\r\n        return worklistHelper;\r\n    };\r\n    return WorkListFactory;\r\n}());\r\nvar workListFactory = new WorkListFactory();\r\nmodule.exports = workListFactory;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ0Ni5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlsaXR5L3dvcmtsaXN0L3dvcmtsaXN0ZmFjdG9yeS50cz84ZGNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB3b3JrbGlzdEhlbHBlciA9IHJlcXVpcmUoJy4vd29ya2xpc3RoZWxwZXInKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCByZW1hcmt3b3JrbGlzdGhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3dvcmtsaXN0aGVscGVycy9yZW1hcmt3b3JrbGlzdGhlbHBlcicpO1xyXG5pbXBvcnQgbGl2ZXdvcmtsaXN0aGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2dyaWQvd29ya2xpc3RoZWxwZXJzL2xpdmV3b3JrbGlzdGhlbHBlcicpO1xyXG5pbXBvcnQgYXR5cGljYWx3b3JrbGlzdGhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3dvcmtsaXN0aGVscGVycy9hdHlwaWNhbHdvcmtsaXN0aGVscGVyJyk7XHJcbmltcG9ydCBwcmFjdGljZXdvcmtsaXN0aGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2dyaWQvd29ya2xpc3RoZWxwZXJzL3ByYWN0aWNld29ya2xpc3RoZWxwZXInKTtcclxuaW1wb3J0IHNlY29uZHN0YW5kYXJkaXNhdGlvbndvcmtsaXN0aGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2dyaWQvd29ya2xpc3RoZWxwZXJzL3NlY29uZHN0YW5kYXJkaXNhdGlvbndvcmtsaXN0aGVscGVyJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb253b3JrbGlzdGhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3dvcmtsaXN0aGVscGVycy9zdGFuZGFyZGlzYXRpb253b3JrbGlzdGhlbHBlcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBtYXJraW5nQ2hlY2tXb3JrbGlzdEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3dvcmtsaXN0aGVscGVycy9tYXJraW5nY2hlY2t3b3JrbGlzdGhlbHBlcicpO1xyXG5pbXBvcnQgc2ltdWxhdGlvbldvcmtsaXN0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2dyaWQvd29ya2xpc3RoZWxwZXJzL3NpbXVsYXRpb253b3JrbGlzdGhlbHBlcicpO1xyXG5cclxuY2xhc3MgV29ya0xpc3RGYWN0b3J5IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHdvcmtsaXN0IGhlbHBlciBvYmplY3QgYmFzZWQgb24gdGhlIHR5cGVcclxuICAgICAqIEBwYXJhbSB3b3JrbGlzdFR5cGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFdvcmtsaXN0SGVscGVyKHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlKTogd29ya2xpc3RIZWxwZXIge1xyXG5cclxuICAgICAgICBsZXQgd29ya2xpc3RIZWxwZXI6IHdvcmtsaXN0SGVscGVyO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHdvcmtsaXN0VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLldvcmtsaXN0VHlwZS5saXZlOlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RIZWxwZXIgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzTWFya2luZ0NoZWNrTW9kZSA/XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IG1hcmtpbmdDaGVja1dvcmtsaXN0SGVscGVyKCkgOiBuZXcgbGl2ZXdvcmtsaXN0aGVscGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5Xb3JrbGlzdFR5cGUuYXR5cGljYWw6XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdEhlbHBlciA9IG5ldyBhdHlwaWNhbHdvcmtsaXN0aGVscGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5Xb3JrbGlzdFR5cGUucHJhY3RpY2U6XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdEhlbHBlciA9IG5ldyBwcmFjdGljZXdvcmtsaXN0aGVscGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5Xb3JrbGlzdFR5cGUuc3RhbmRhcmRpc2F0aW9uOlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RIZWxwZXIgPSBuZXcgc3RhbmRhcmRpc2F0aW9ud29ya2xpc3RoZWxwZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLldvcmtsaXN0VHlwZS5zZWNvbmRzdGFuZGFyZGlzYXRpb246XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdEhlbHBlciA9IG5ldyBzZWNvbmRzdGFuZGFyZGlzYXRpb253b3JrbGlzdGhlbHBlcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuV29ya2xpc3RUeXBlLmRpcmVjdGVkUmVtYXJrOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLldvcmtsaXN0VHlwZS5wb29sZWRSZW1hcms6XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdEhlbHBlciA9IG5ldyByZW1hcmt3b3JrbGlzdGhlbHBlcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuV29ya2xpc3RUeXBlLnNpbXVsYXRpb246XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdEhlbHBlciA9IG5ldyBzaW11bGF0aW9uV29ya2xpc3RIZWxwZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHdvcmtsaXN0SGVscGVyO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgd29ya0xpc3RGYWN0b3J5ID0gbmV3IFdvcmtMaXN0RmFjdG9yeSgpO1xyXG5leHBvcnQgPSB3b3JrTGlzdEZhY3Rvcnk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L3dvcmtsaXN0L3dvcmtsaXN0ZmFjdG9yeS50cyJdLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQXNDQTtBQXBDQTs7O0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 273:
/* no static exports found */
/* all exports used */
/*!**************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetupgridcolumns.json ***!
  \**************************************************************************/
/***/ (function(module, exports) {

eval("module.exports = {\"definitions\":{\"Marks\":{\"$id\":\"13\",\"GridColumn\":\"MarksColumn\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.marks\",\"ComparerName\":\"markComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-mark-obt\"},\"LastMarker\":{\"$id\":\"14\",\"GridColumn\":\"LastMarkerColumn\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.last-marker\",\"ComparerName\":\"stdLastMarkerComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-last-marker\"},\"Note\":{\"$id\":\"15\",\"GridColumn\":\"NoteColumn\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.note\",\"ComparerName\":\"stdNoteComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-note\"},\"TagIndicator\":{\"$id\":\"16\",\"GridColumn\":\"TagIndicator\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.tag\",\"CssClass\":\"col-tag\",\"ComparerName\":\"tagComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"selectedTagId\":\"selectedTagId\",\"tagList\":\"tagList\",\"markGroupId\":\"markGroupId\"}},\"LastUpdated\":{\"$id\":\"17\",\"GridColumn\":\"LastUpdatedColumn\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.last-updated\",\"ComparerName\":\"updatedDateComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-modified\",\"ComponentProps\":{\"updatedDate\":\"updatedDate\"}},\"ResponseId\":{\"$id\":\"18\",\"GridColumn\":\"ResponseIdColumn\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.response-id\",\"ComparerName\":\"responseIdComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-response header-col\"},\"LinkedMessageIndicator\":{\"$id\":\"19\",\"GridColumn\":\"LinkedMessageIndicator\",\"ColumnHeader\":\"\",\"CssClass\":\"col-message\",\"ComponentProps\":{\"hasMessages\":\"hasMessages\",\"unreadMessagesCount\":\"unreadMessagesCount\",\"displayId\":\"displayId\",\"isTeamManagementMode\":\"isTeamManagementMode\"}},\"RIGOrder\":{\"$id\":\"20\",\"GridColumn\":\"RigOrderColumn\",\"ColumnHeader\":\"\",\"Sortable\":\"false\"},\"Centre\":{\"$id\":\"31\",\"GridColumn\":\"Centre\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.centre\",\"CssClass\":\"col-centre header-col\",\"ComparerName\":\"centreComparer\",\"Sortable\":\"true\"},\"Scripts\":{\"$id\":\"32\",\"GridColumn\":\"Scripts\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.scripts\",\"CssClass\":\"col-scripts\",\"ComparerName\":\"stdScriptComparer\",\"Sortable\":\"true\"},\"Available\":{\"$id\":\"33\",\"GridColumn\":\"ScriptsAvailable\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.available-scripts\",\"CssClass\":\"col-scripts-available\",\"ComparerName\":\"stdScriptAvailableComparer\",\"Sortable\":\"true\"},\"FirstScanned\":{\"$id\":\"34\",\"GridColumn\":\"FirstScanned\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.first-scanned\",\"CssClass\":\"col-first-scanned\",\"ComparerName\":\"stdFirstScannedComparer\",\"Sortable\":\"true\"},\"ScriptId\":{\"$id\":\"35\",\"GridColumn\":\"ScriptId\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.script-id\",\"ComparerName\":\"stdScriptIdComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-script-id header-col\",\"ComponentProps\":{\"ScriptId\":\"candidateScriptId\"}},\"Candidate\":{\"$id\":\"36\",\"GridColumn\":\"CentreCandidateNum\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.candidate\",\"ComparerName\":\"candidateComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-candidate\",\"ComponentProps\":{\"Candidate\":\"CentreCandidateNum\"}},\"Status\":{\"$id\":\"37\",\"GridColumn\":\"Status\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.status\",\"ComparerName\":\"stdStatusComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-available-status\",\"ComponentProps\":{\"Status\":\"Status\"}},\"SLAOIndicator\":{\"$id\":\"38\",\"GridColumn\":\"SLAOIndicator\",\"ColumnHeader\":\"\",\"CssClass\":\"col-slao\",\"ComponentProps\":{\"hasAdditionalObjects\":\"hasAdditionalObjects\",\"hasAllPagesAnnotated\":\"hasAllPagesAnnotated\",\"markingProgress\":\"markingProgress\"}},\"MarkingProgress\":{\"$id\":\"39\",\"GridColumn\":\"Status\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.status\",\"ComparerName\":\"progressComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-status\",\"ComponentProps\":{\"markingProgress\":\"markingProgress\",\"esmarkGroupId\":\"esmarkGroupId\"}},\"ModifiedDate\":{\"$id\":\"40\",\"GridColumn\":\"Status\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.status\",\"ComparerName\":\"updatedDateComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-status\",\"ComponentProps\":{\"Status\":\"Status\"}},\"AllPageAnnotedIndicator\":{\"$id\":\"41\",\"GridColumn\":\"AllPageAnnotedIndicator\",\"CssClass\":\"col-slao\",\"ColumnHeader\":\"\",\"ComponentProps\":{\"hasAllPagesAnnotated\":\"hasAllPagesAnnotated\",\"markingProgress\":\"markingProgress\"}},\"AllFilesNotViewedIndicator\":{\"$id\":\"42\",\"GridColumn\":\"AllFilesNotViewedIndicator\",\"CssClass\":\"col-slao\",\"ColumnHeader\":\"\",\"ComponentProps\":{\"allFilesViewed\":\"allFilesViewed\",\"markingProgress\":\"markingProgress\",\"isECourseworkComponent\":\"isECourseworkComponent\"}},\"DeClassify\":{\"$id\":\"44\",\"GridColumn\":\"DeClassifyColumn\",\"ColumnHeader\":\"\",\"CssClass\":\"last-cell col-declassify\"},\"QuestionItems\":{\"$id\":\"43\",\"GridColumn\":\"QuestionItems\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.question-items\",\"CssClass\":\"col-question-item\",\"ComponentProps\":{\"QuestionItems\":\"QuestionItems\"}},\"OrginalSession\":{\"$id\":\"45\",\"GridColumn\":\"OrginalSession\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.original-session\",\"ComparerName\":\"stdOrginalSessionComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-org-session\",\"ComponentProps\":{\"Status\":\"OrginalSession\"}},\"OrginalClassification\":{\"$id\":\"46\",\"GridColumn\":\"OrginalClassification\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.original-classification\",\"ComparerName\":\"stdOrginalClassificationComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-org-classification\"},\"Mark\":{\"$id\":\"47\",\"GridColumn\":\"Mark\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.original-mark\",\"ComparerName\":\"marksComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-mark-obt\"},\"OrginalMarksUpdated\":{\"$id\":\"48\",\"GridColumn\":\"OrginalMarksUpdated\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.original-marks-updated\",\"ComparerName\":\"orginalMarksUpdatedComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-updated-mark\"},\"HideResponse\":{\"$id\":\"49\",\"GridColumn\":\"HideResponse\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.hide-response\",\"Sortable\":\"false\",\"CssClass\":\"col-hide-response\"},\"TotalTimeReused\":{\"$id\":\"50\",\"GridColumn\":\"Totaltimereused\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.total-times-reused\",\"ComparerName\":\"totalTimesReusedComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-time-reused text-center\"},\"LastUsed\":{\"$id\":\"51\",\"GridColumn\":\"LastUsed\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.last-used\",\"ComparerName\":\"lastUsedComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-last-used\"},\"TimesReusedInThisSession\":{\"$id\":\"52\",\"GridColumn\":\"TimesReusedInThisSession\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.times-reused-in-this-session\",\"ComparerName\":\"totalTimesReusedSessionComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-time-reused-in-session text-center\"},\"UpdatePending\":{\"$id\":\"53\",\"GridColumn\":\"UpdatePending\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.update-pending\",\"ComparerName\":\"updatePendingComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-update-pending\"},\"IsReused\":{\"$id\":\"54\",\"GridColumn\":\"Status\",\"Sortable\":\"false\",\"CssClass\":\"col-re-use\"},\"IsReusedInThisQIG\":{\"$id\":\"55\",\"GridColumn\":\"IsReusedInThisQIG\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.re-used-inthis-qig\",\"ComparerName\":\"stdIsReusedInQigComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-re-use\"},\"ReuseCentre\":{\"$id\":\"56\",\"GridColumn\":\"Centre\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.centre\",\"CssClass\":\"col-centre header-col\",\"ComparerName\":\"stdCentreComparer\",\"Sortable\":\"true\"},\"ReuseCandidate\":{\"$id\":\"57\",\"GridColumn\":\"CentreCandidateNum\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.candidate\",\"ComparerName\":\"stdCandidateComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-candidate\",\"ComponentProps\":{\"Candidate\":\"CentreCandidateNum\"}},\"unclassifiedMarkingProgress\":{\"$id\":\"58\",\"GridColumn\":\"Status\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.status\",\"ComparerName\":\"unclassifiedprogressComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-status\",\"ComponentProps\":{\"markingProgress\":\"markingProgress\",\"esmarkGroupId\":\"esmarkGroupId\"}}},\"IsSharedProvisional\":{\"$id\":\"59\",\"GridColumn\":\"IsSharedProvisional\",\"CssClass\":\"col-share header-col\",\"ColumnHeader\":\"\"},\"standardisationsetup\":{\"SelectResponse\":{\"Centre\":{\"GridColumns\":[{\"$ref\":\"31\"},{\"$ref\":\"32\"},{\"$ref\":\"33\"},{\"$ref\":\"34\"}]},\"Script\":{\"GridColumns\":[{\"$ref\":\"36\"},{\"$ref\":\"37\"},{\"$ref\":\"38\"},{\"$ref\":\"43\"}]},\"FrozenRows\":{\"GridColumns\":[{\"$ref\":\"35\"}]}},\"PreviousSession\":{\"ReusableResponse\":{\"GridColumns\":[{\"$ref\":\"56\"},{\"$ref\":\"57\"},{\"$ref\":\"47\"},{\"$ref\":\"48\"},{\"$ref\":\"49\"},{\"$ref\":\"50\"},{\"$ref\":\"52\"},{\"$ref\":\"51\"},{\"$ref\":\"55\"},{\"$ref\":\"53\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"35\"},{\"$ref\":\"54\"},{\"$ref\":\"45\"},{\"$ref\":\"46\"}]}},\"ProvisionalResponse\":{\"totalmarksview\":{\"GridColumns\":[{\"$ref\":\"35\"},{\"$ref\":\"39\"},{\"$ref\":\"31\"},{\"$ref\":\"36\"},{\"$ref\":\"13\"},{\"$ref\":\"15\"},{\"$ref\":\"38\"},{\"$ref\":\"41\"},{\"$ref\":\"42\"},{\"$ref\":\"19\"},{\"$ref\":\"16\"},{\"$ref\":\"17\"}]},\"marksbyquestionview\":{\"GridColumns\":[{\"$ref\":\"13\"},{\"$ref\":\"39\"},{\"$ref\":\"15\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"59\"},{\"$ref\":\"18\"}]}},\"UnClassifiedResponse\":{\"totalmarksview\":{\"GridColumns\":[{\"$ref\":\"35\"},{\"$ref\":\"31\"},{\"$ref\":\"58\"},{\"$ref\":\"36\"},{\"$ref\":\"13\"},{\"$ref\":\"14\"},{\"$ref\":\"15\"},{\"$ref\":\"38\"},{\"$ref\":\"41\"},{\"$ref\":\"19\"},{\"$ref\":\"16\"},{\"$ref\":\"17\"}]},\"marksbyquestionview\":{\"GridColumns\":[{\"$ref\":\"13\"},{\"$ref\":\"58\"},{\"$ref\":\"15\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"18\"}]}},\"ClassifiedResponse\":{\"totalmarksview\":{\"GridColumns\":[{\"$ref\":\"35\"},{\"$ref\":\"31\"},{\"$ref\":\"36\"},{\"$ref\":\"13\"},{\"$ref\":\"14\"},{\"$ref\":\"15\"},{\"$ref\":\"19\"},{\"$ref\":\"16\"},{\"$ref\":\"17\"},{\"$ref\":\"44\"}]},\"marksbyquestionview\":{\"GridColumns\":[{\"$ref\":\"13\"},{\"$ref\":\"14\"},{\"$ref\":\"15\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"20\"},{\"$ref\":\"18\"}]}}}}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjczLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwZ3JpZGNvbHVtbnMuanNvbj82OTFhIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1wiZGVmaW5pdGlvbnNcIjp7XCJNYXJrc1wiOntcIiRpZFwiOlwiMTNcIixcIkdyaWRDb2x1bW5cIjpcIk1hcmtzQ29sdW1uXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLm1hcmtzXCIsXCJDb21wYXJlck5hbWVcIjpcIm1hcmtDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtbWFyay1vYnRcIn0sXCJMYXN0TWFya2VyXCI6e1wiJGlkXCI6XCIxNFwiLFwiR3JpZENvbHVtblwiOlwiTGFzdE1hcmtlckNvbHVtblwiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5sYXN0LW1hcmtlclwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGRMYXN0TWFya2VyQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDc3NDbGFzc1wiOlwiY29sLWxhc3QtbWFya2VyXCJ9LFwiTm90ZVwiOntcIiRpZFwiOlwiMTVcIixcIkdyaWRDb2x1bW5cIjpcIk5vdGVDb2x1bW5cIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMubm90ZVwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGROb3RlQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDc3NDbGFzc1wiOlwiY29sLW5vdGVcIn0sXCJUYWdJbmRpY2F0b3JcIjp7XCIkaWRcIjpcIjE2XCIsXCJHcmlkQ29sdW1uXCI6XCJUYWdJbmRpY2F0b3JcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMudGFnXCIsXCJDc3NDbGFzc1wiOlwiY29sLXRhZ1wiLFwiQ29tcGFyZXJOYW1lXCI6XCJ0YWdDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNvbXBvbmVudFByb3BzXCI6e1wic2VsZWN0ZWRUYWdJZFwiOlwic2VsZWN0ZWRUYWdJZFwiLFwidGFnTGlzdFwiOlwidGFnTGlzdFwiLFwibWFya0dyb3VwSWRcIjpcIm1hcmtHcm91cElkXCJ9fSxcIkxhc3RVcGRhdGVkXCI6e1wiJGlkXCI6XCIxN1wiLFwiR3JpZENvbHVtblwiOlwiTGFzdFVwZGF0ZWRDb2x1bW5cIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMubGFzdC11cGRhdGVkXCIsXCJDb21wYXJlck5hbWVcIjpcInVwZGF0ZWREYXRlQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDc3NDbGFzc1wiOlwiY29sLW1vZGlmaWVkXCIsXCJDb21wb25lbnRQcm9wc1wiOntcInVwZGF0ZWREYXRlXCI6XCJ1cGRhdGVkRGF0ZVwifX0sXCJSZXNwb25zZUlkXCI6e1wiJGlkXCI6XCIxOFwiLFwiR3JpZENvbHVtblwiOlwiUmVzcG9uc2VJZENvbHVtblwiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5yZXNwb25zZS1pZFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJyZXNwb25zZUlkQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDc3NDbGFzc1wiOlwiY29sLXJlc3BvbnNlIGhlYWRlci1jb2xcIn0sXCJMaW5rZWRNZXNzYWdlSW5kaWNhdG9yXCI6e1wiJGlkXCI6XCIxOVwiLFwiR3JpZENvbHVtblwiOlwiTGlua2VkTWVzc2FnZUluZGljYXRvclwiLFwiQ29sdW1uSGVhZGVyXCI6XCJcIixcIkNzc0NsYXNzXCI6XCJjb2wtbWVzc2FnZVwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJoYXNNZXNzYWdlc1wiOlwiaGFzTWVzc2FnZXNcIixcInVucmVhZE1lc3NhZ2VzQ291bnRcIjpcInVucmVhZE1lc3NhZ2VzQ291bnRcIixcImRpc3BsYXlJZFwiOlwiZGlzcGxheUlkXCIsXCJpc1RlYW1NYW5hZ2VtZW50TW9kZVwiOlwiaXNUZWFtTWFuYWdlbWVudE1vZGVcIn19LFwiUklHT3JkZXJcIjp7XCIkaWRcIjpcIjIwXCIsXCJHcmlkQ29sdW1uXCI6XCJSaWdPcmRlckNvbHVtblwiLFwiQ29sdW1uSGVhZGVyXCI6XCJcIixcIlNvcnRhYmxlXCI6XCJmYWxzZVwifSxcIkNlbnRyZVwiOntcIiRpZFwiOlwiMzFcIixcIkdyaWRDb2x1bW5cIjpcIkNlbnRyZVwiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5jZW50cmVcIixcIkNzc0NsYXNzXCI6XCJjb2wtY2VudHJlIGhlYWRlci1jb2xcIixcIkNvbXBhcmVyTmFtZVwiOlwiY2VudHJlQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCJ9LFwiU2NyaXB0c1wiOntcIiRpZFwiOlwiMzJcIixcIkdyaWRDb2x1bW5cIjpcIlNjcmlwdHNcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMuc2NyaXB0c1wiLFwiQ3NzQ2xhc3NcIjpcImNvbC1zY3JpcHRzXCIsXCJDb21wYXJlck5hbWVcIjpcInN0ZFNjcmlwdENvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwifSxcIkF2YWlsYWJsZVwiOntcIiRpZFwiOlwiMzNcIixcIkdyaWRDb2x1bW5cIjpcIlNjcmlwdHNBdmFpbGFibGVcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMuYXZhaWxhYmxlLXNjcmlwdHNcIixcIkNzc0NsYXNzXCI6XCJjb2wtc2NyaXB0cy1hdmFpbGFibGVcIixcIkNvbXBhcmVyTmFtZVwiOlwic3RkU2NyaXB0QXZhaWxhYmxlQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCJ9LFwiRmlyc3RTY2FubmVkXCI6e1wiJGlkXCI6XCIzNFwiLFwiR3JpZENvbHVtblwiOlwiRmlyc3RTY2FubmVkXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLmZpcnN0LXNjYW5uZWRcIixcIkNzc0NsYXNzXCI6XCJjb2wtZmlyc3Qtc2Nhbm5lZFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGRGaXJzdFNjYW5uZWRDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIn0sXCJTY3JpcHRJZFwiOntcIiRpZFwiOlwiMzVcIixcIkdyaWRDb2x1bW5cIjpcIlNjcmlwdElkXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLnNjcmlwdC1pZFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGRTY3JpcHRJZENvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1zY3JpcHQtaWQgaGVhZGVyLWNvbFwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJTY3JpcHRJZFwiOlwiY2FuZGlkYXRlU2NyaXB0SWRcIn19LFwiQ2FuZGlkYXRlXCI6e1wiJGlkXCI6XCIzNlwiLFwiR3JpZENvbHVtblwiOlwiQ2VudHJlQ2FuZGlkYXRlTnVtXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLmNhbmRpZGF0ZVwiLFwiQ29tcGFyZXJOYW1lXCI6XCJjYW5kaWRhdGVDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtY2FuZGlkYXRlXCIsXCJDb21wb25lbnRQcm9wc1wiOntcIkNhbmRpZGF0ZVwiOlwiQ2VudHJlQ2FuZGlkYXRlTnVtXCJ9fSxcIlN0YXR1c1wiOntcIiRpZFwiOlwiMzdcIixcIkdyaWRDb2x1bW5cIjpcIlN0YXR1c1wiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5zdGF0dXNcIixcIkNvbXBhcmVyTmFtZVwiOlwic3RkU3RhdHVzQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDc3NDbGFzc1wiOlwiY29sLWF2YWlsYWJsZS1zdGF0dXNcIixcIkNvbXBvbmVudFByb3BzXCI6e1wiU3RhdHVzXCI6XCJTdGF0dXNcIn19LFwiU0xBT0luZGljYXRvclwiOntcIiRpZFwiOlwiMzhcIixcIkdyaWRDb2x1bW5cIjpcIlNMQU9JbmRpY2F0b3JcIixcIkNvbHVtbkhlYWRlclwiOlwiXCIsXCJDc3NDbGFzc1wiOlwiY29sLXNsYW9cIixcIkNvbXBvbmVudFByb3BzXCI6e1wiaGFzQWRkaXRpb25hbE9iamVjdHNcIjpcImhhc0FkZGl0aW9uYWxPYmplY3RzXCIsXCJoYXNBbGxQYWdlc0Fubm90YXRlZFwiOlwiaGFzQWxsUGFnZXNBbm5vdGF0ZWRcIixcIm1hcmtpbmdQcm9ncmVzc1wiOlwibWFya2luZ1Byb2dyZXNzXCJ9fSxcIk1hcmtpbmdQcm9ncmVzc1wiOntcIiRpZFwiOlwiMzlcIixcIkdyaWRDb2x1bW5cIjpcIlN0YXR1c1wiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5zdGF0dXNcIixcIkNvbXBhcmVyTmFtZVwiOlwicHJvZ3Jlc3NDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtc3RhdHVzXCIsXCJDb21wb25lbnRQcm9wc1wiOntcIm1hcmtpbmdQcm9ncmVzc1wiOlwibWFya2luZ1Byb2dyZXNzXCIsXCJlc21hcmtHcm91cElkXCI6XCJlc21hcmtHcm91cElkXCJ9fSxcIk1vZGlmaWVkRGF0ZVwiOntcIiRpZFwiOlwiNDBcIixcIkdyaWRDb2x1bW5cIjpcIlN0YXR1c1wiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5zdGF0dXNcIixcIkNvbXBhcmVyTmFtZVwiOlwidXBkYXRlZERhdGVDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtc3RhdHVzXCIsXCJDb21wb25lbnRQcm9wc1wiOntcIlN0YXR1c1wiOlwiU3RhdHVzXCJ9fSxcIkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yXCI6e1wiJGlkXCI6XCI0MVwiLFwiR3JpZENvbHVtblwiOlwiQWxsUGFnZUFubm90ZWRJbmRpY2F0b3JcIixcIkNzc0NsYXNzXCI6XCJjb2wtc2xhb1wiLFwiQ29sdW1uSGVhZGVyXCI6XCJcIixcIkNvbXBvbmVudFByb3BzXCI6e1wiaGFzQWxsUGFnZXNBbm5vdGF0ZWRcIjpcImhhc0FsbFBhZ2VzQW5ub3RhdGVkXCIsXCJtYXJraW5nUHJvZ3Jlc3NcIjpcIm1hcmtpbmdQcm9ncmVzc1wifX0sXCJBbGxGaWxlc05vdFZpZXdlZEluZGljYXRvclwiOntcIiRpZFwiOlwiNDJcIixcIkdyaWRDb2x1bW5cIjpcIkFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yXCIsXCJDc3NDbGFzc1wiOlwiY29sLXNsYW9cIixcIkNvbHVtbkhlYWRlclwiOlwiXCIsXCJDb21wb25lbnRQcm9wc1wiOntcImFsbEZpbGVzVmlld2VkXCI6XCJhbGxGaWxlc1ZpZXdlZFwiLFwibWFya2luZ1Byb2dyZXNzXCI6XCJtYXJraW5nUHJvZ3Jlc3NcIixcImlzRUNvdXJzZXdvcmtDb21wb25lbnRcIjpcImlzRUNvdXJzZXdvcmtDb21wb25lbnRcIn19LFwiRGVDbGFzc2lmeVwiOntcIiRpZFwiOlwiNDRcIixcIkdyaWRDb2x1bW5cIjpcIkRlQ2xhc3NpZnlDb2x1bW5cIixcIkNvbHVtbkhlYWRlclwiOlwiXCIsXCJDc3NDbGFzc1wiOlwibGFzdC1jZWxsIGNvbC1kZWNsYXNzaWZ5XCJ9LFwiUXVlc3Rpb25JdGVtc1wiOntcIiRpZFwiOlwiNDNcIixcIkdyaWRDb2x1bW5cIjpcIlF1ZXN0aW9uSXRlbXNcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMucXVlc3Rpb24taXRlbXNcIixcIkNzc0NsYXNzXCI6XCJjb2wtcXVlc3Rpb24taXRlbVwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJRdWVzdGlvbkl0ZW1zXCI6XCJRdWVzdGlvbkl0ZW1zXCJ9fSxcIk9yZ2luYWxTZXNzaW9uXCI6e1wiJGlkXCI6XCI0NVwiLFwiR3JpZENvbHVtblwiOlwiT3JnaW5hbFNlc3Npb25cIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2Uub3JpZ2luYWwtc2Vzc2lvblwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGRPcmdpbmFsU2Vzc2lvbkNvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1vcmctc2Vzc2lvblwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJTdGF0dXNcIjpcIk9yZ2luYWxTZXNzaW9uXCJ9fSxcIk9yZ2luYWxDbGFzc2lmaWNhdGlvblwiOntcIiRpZFwiOlwiNDZcIixcIkdyaWRDb2x1bW5cIjpcIk9yZ2luYWxDbGFzc2lmaWNhdGlvblwiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAucHJldmlvdXMtc2Vzc2lvbi5yZXVzYWJsZS1yZXNwb25zZS5vcmlnaW5hbC1jbGFzc2lmaWNhdGlvblwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGRPcmdpbmFsQ2xhc3NpZmljYXRpb25Db21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtb3JnLWNsYXNzaWZpY2F0aW9uXCJ9LFwiTWFya1wiOntcIiRpZFwiOlwiNDdcIixcIkdyaWRDb2x1bW5cIjpcIk1hcmtcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2Uub3JpZ2luYWwtbWFya1wiLFwiQ29tcGFyZXJOYW1lXCI6XCJtYXJrc0NvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1tYXJrLW9idFwifSxcIk9yZ2luYWxNYXJrc1VwZGF0ZWRcIjp7XCIkaWRcIjpcIjQ4XCIsXCJHcmlkQ29sdW1uXCI6XCJPcmdpbmFsTWFya3NVcGRhdGVkXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNhYmxlLXJlc3BvbnNlLm9yaWdpbmFsLW1hcmtzLXVwZGF0ZWRcIixcIkNvbXBhcmVyTmFtZVwiOlwib3JnaW5hbE1hcmtzVXBkYXRlZENvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC11cGRhdGVkLW1hcmtcIn0sXCJIaWRlUmVzcG9uc2VcIjp7XCIkaWRcIjpcIjQ5XCIsXCJHcmlkQ29sdW1uXCI6XCJIaWRlUmVzcG9uc2VcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2UuaGlkZS1yZXNwb25zZVwiLFwiU29ydGFibGVcIjpcImZhbHNlXCIsXCJDc3NDbGFzc1wiOlwiY29sLWhpZGUtcmVzcG9uc2VcIn0sXCJUb3RhbFRpbWVSZXVzZWRcIjp7XCIkaWRcIjpcIjUwXCIsXCJHcmlkQ29sdW1uXCI6XCJUb3RhbHRpbWVyZXVzZWRcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2UudG90YWwtdGltZXMtcmV1c2VkXCIsXCJDb21wYXJlck5hbWVcIjpcInRvdGFsVGltZXNSZXVzZWRDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtdGltZS1yZXVzZWQgdGV4dC1jZW50ZXJcIn0sXCJMYXN0VXNlZFwiOntcIiRpZFwiOlwiNTFcIixcIkdyaWRDb2x1bW5cIjpcIkxhc3RVc2VkXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNhYmxlLXJlc3BvbnNlLmxhc3QtdXNlZFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJsYXN0VXNlZENvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1sYXN0LXVzZWRcIn0sXCJUaW1lc1JldXNlZEluVGhpc1Nlc3Npb25cIjp7XCIkaWRcIjpcIjUyXCIsXCJHcmlkQ29sdW1uXCI6XCJUaW1lc1JldXNlZEluVGhpc1Nlc3Npb25cIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2UudGltZXMtcmV1c2VkLWluLXRoaXMtc2Vzc2lvblwiLFwiQ29tcGFyZXJOYW1lXCI6XCJ0b3RhbFRpbWVzUmV1c2VkU2Vzc2lvbkNvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC10aW1lLXJldXNlZC1pbi1zZXNzaW9uIHRleHQtY2VudGVyXCJ9LFwiVXBkYXRlUGVuZGluZ1wiOntcIiRpZFwiOlwiNTNcIixcIkdyaWRDb2x1bW5cIjpcIlVwZGF0ZVBlbmRpbmdcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2UudXBkYXRlLXBlbmRpbmdcIixcIkNvbXBhcmVyTmFtZVwiOlwidXBkYXRlUGVuZGluZ0NvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC11cGRhdGUtcGVuZGluZ1wifSxcIklzUmV1c2VkXCI6e1wiJGlkXCI6XCI1NFwiLFwiR3JpZENvbHVtblwiOlwiU3RhdHVzXCIsXCJTb3J0YWJsZVwiOlwiZmFsc2VcIixcIkNzc0NsYXNzXCI6XCJjb2wtcmUtdXNlXCJ9LFwiSXNSZXVzZWRJblRoaXNRSUdcIjp7XCIkaWRcIjpcIjU1XCIsXCJHcmlkQ29sdW1uXCI6XCJJc1JldXNlZEluVGhpc1FJR1wiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAucHJldmlvdXMtc2Vzc2lvbi5yZXVzYWJsZS1yZXNwb25zZS5yZS11c2VkLWludGhpcy1xaWdcIixcIkNvbXBhcmVyTmFtZVwiOlwic3RkSXNSZXVzZWRJblFpZ0NvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1yZS11c2VcIn0sXCJSZXVzZUNlbnRyZVwiOntcIiRpZFwiOlwiNTZcIixcIkdyaWRDb2x1bW5cIjpcIkNlbnRyZVwiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5jZW50cmVcIixcIkNzc0NsYXNzXCI6XCJjb2wtY2VudHJlIGhlYWRlci1jb2xcIixcIkNvbXBhcmVyTmFtZVwiOlwic3RkQ2VudHJlQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCJ9LFwiUmV1c2VDYW5kaWRhdGVcIjp7XCIkaWRcIjpcIjU3XCIsXCJHcmlkQ29sdW1uXCI6XCJDZW50cmVDYW5kaWRhdGVOdW1cIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMuY2FuZGlkYXRlXCIsXCJDb21wYXJlck5hbWVcIjpcInN0ZENhbmRpZGF0ZUNvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1jYW5kaWRhdGVcIixcIkNvbXBvbmVudFByb3BzXCI6e1wiQ2FuZGlkYXRlXCI6XCJDZW50cmVDYW5kaWRhdGVOdW1cIn19LFwidW5jbGFzc2lmaWVkTWFya2luZ1Byb2dyZXNzXCI6e1wiJGlkXCI6XCI1OFwiLFwiR3JpZENvbHVtblwiOlwiU3RhdHVzXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLnN0YXR1c1wiLFwiQ29tcGFyZXJOYW1lXCI6XCJ1bmNsYXNzaWZpZWRwcm9ncmVzc0NvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1zdGF0dXNcIixcIkNvbXBvbmVudFByb3BzXCI6e1wibWFya2luZ1Byb2dyZXNzXCI6XCJtYXJraW5nUHJvZ3Jlc3NcIixcImVzbWFya0dyb3VwSWRcIjpcImVzbWFya0dyb3VwSWRcIn19fSxcIklzU2hhcmVkUHJvdmlzaW9uYWxcIjp7XCIkaWRcIjpcIjU5XCIsXCJHcmlkQ29sdW1uXCI6XCJJc1NoYXJlZFByb3Zpc2lvbmFsXCIsXCJDc3NDbGFzc1wiOlwiY29sLXNoYXJlIGhlYWRlci1jb2xcIixcIkNvbHVtbkhlYWRlclwiOlwiXCJ9LFwic3RhbmRhcmRpc2F0aW9uc2V0dXBcIjp7XCJTZWxlY3RSZXNwb25zZVwiOntcIkNlbnRyZVwiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjMxXCJ9LHtcIiRyZWZcIjpcIjMyXCJ9LHtcIiRyZWZcIjpcIjMzXCJ9LHtcIiRyZWZcIjpcIjM0XCJ9XX0sXCJTY3JpcHRcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIzNlwifSx7XCIkcmVmXCI6XCIzN1wifSx7XCIkcmVmXCI6XCIzOFwifSx7XCIkcmVmXCI6XCI0M1wifV19LFwiRnJvemVuUm93c1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjM1XCJ9XX19LFwiUHJldmlvdXNTZXNzaW9uXCI6e1wiUmV1c2FibGVSZXNwb25zZVwiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjU2XCJ9LHtcIiRyZWZcIjpcIjU3XCJ9LHtcIiRyZWZcIjpcIjQ3XCJ9LHtcIiRyZWZcIjpcIjQ4XCJ9LHtcIiRyZWZcIjpcIjQ5XCJ9LHtcIiRyZWZcIjpcIjUwXCJ9LHtcIiRyZWZcIjpcIjUyXCJ9LHtcIiRyZWZcIjpcIjUxXCJ9LHtcIiRyZWZcIjpcIjU1XCJ9LHtcIiRyZWZcIjpcIjUzXCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMzVcIn0se1wiJHJlZlwiOlwiNTRcIn0se1wiJHJlZlwiOlwiNDVcIn0se1wiJHJlZlwiOlwiNDZcIn1dfX0sXCJQcm92aXNpb25hbFJlc3BvbnNlXCI6e1widG90YWxtYXJrc3ZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIzNVwifSx7XCIkcmVmXCI6XCIzOVwifSx7XCIkcmVmXCI6XCIzMVwifSx7XCIkcmVmXCI6XCIzNlwifSx7XCIkcmVmXCI6XCIxM1wifSx7XCIkcmVmXCI6XCIxNVwifSx7XCIkcmVmXCI6XCIzOFwifSx7XCIkcmVmXCI6XCI0MVwifSx7XCIkcmVmXCI6XCI0MlwifSx7XCIkcmVmXCI6XCIxOVwifSx7XCIkcmVmXCI6XCIxNlwifSx7XCIkcmVmXCI6XCIxN1wifV19LFwibWFya3NieXF1ZXN0aW9udmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjEzXCJ9LHtcIiRyZWZcIjpcIjM5XCJ9LHtcIiRyZWZcIjpcIjE1XCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiNTlcIn0se1wiJHJlZlwiOlwiMThcIn1dfX0sXCJVbkNsYXNzaWZpZWRSZXNwb25zZVwiOntcInRvdGFsbWFya3N2aWV3XCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMzVcIn0se1wiJHJlZlwiOlwiMzFcIn0se1wiJHJlZlwiOlwiNThcIn0se1wiJHJlZlwiOlwiMzZcIn0se1wiJHJlZlwiOlwiMTNcIn0se1wiJHJlZlwiOlwiMTRcIn0se1wiJHJlZlwiOlwiMTVcIn0se1wiJHJlZlwiOlwiMzhcIn0se1wiJHJlZlwiOlwiNDFcIn0se1wiJHJlZlwiOlwiMTlcIn0se1wiJHJlZlwiOlwiMTZcIn0se1wiJHJlZlwiOlwiMTdcIn1dfSxcIm1hcmtzYnlxdWVzdGlvbnZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxM1wifSx7XCIkcmVmXCI6XCI1OFwifSx7XCIkcmVmXCI6XCIxNVwifV19LFwiZnJvemVuUm93c1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjE4XCJ9XX19LFwiQ2xhc3NpZmllZFJlc3BvbnNlXCI6e1widG90YWxtYXJrc3ZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIzNVwifSx7XCIkcmVmXCI6XCIzMVwifSx7XCIkcmVmXCI6XCIzNlwifSx7XCIkcmVmXCI6XCIxM1wifSx7XCIkcmVmXCI6XCIxNFwifSx7XCIkcmVmXCI6XCIxNVwifSx7XCIkcmVmXCI6XCIxOVwifSx7XCIkcmVmXCI6XCIxNlwifSx7XCIkcmVmXCI6XCIxN1wifSx7XCIkcmVmXCI6XCI0NFwifV19LFwibWFya3NieXF1ZXN0aW9udmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjEzXCJ9LHtcIiRyZWZcIjpcIjE0XCJ9LHtcIiRyZWZcIjpcIjE1XCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMjBcIn0se1wiJHJlZlwiOlwiMThcIn1dfX19fVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwZ3JpZGNvbHVtbnMuanNvblxuLy8gbW9kdWxlIGlkID0gMjczXG4vLyBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2IDcgOCA5Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 274:
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./src/components/utility/grid/gridcell.ts ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Cell for GridControl Compoent\r\n */\r\nvar GridCell = /** @class */ (function () {\r\n    function GridCell() {\r\n        this.comparerName = undefined;\r\n        this.sortDirection = undefined;\r\n        this.isSortable = true;\r\n    }\r\n    /**\r\n     * returns the cell style\r\n     */\r\n    GridCell.prototype.getCellStyle = function () {\r\n        return this.cellStyle;\r\n    };\r\n    /**\r\n     * set the cell style\r\n     * @param {string} _cellStyle\r\n     */\r\n    GridCell.prototype.setCellStyle = function (_cellStyle) {\r\n        this.cellStyle = _cellStyle;\r\n    };\r\n    /**\r\n     * returns the additional cell Element\r\n     */\r\n    GridCell.prototype.getAdditionalElement = function () {\r\n        return this.additionalElement;\r\n    };\r\n    /**\r\n     * sets the additional cell Element\r\n     * @param _additionalElement\r\n     */\r\n    GridCell.prototype.setAdditionalElement = function (_additionalElement) {\r\n        this.additionalElement = _additionalElement;\r\n    };\r\n    return GridCell;\r\n}());\r\nmodule.exports = GridCell;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL2dyaWRjZWxsLnRzPzBjNjciXSwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD0ndHlwaW5ncy9jZWxsLnRzJyAvPlxyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi9lbnVtcycpO1xyXG5cclxuLyoqXHJcbiAqIENlbGwgZm9yIEdyaWRDb250cm9sIENvbXBvZW50XHJcbiAqL1xyXG5jbGFzcyBHcmlkQ2VsbCBpbXBsZW1lbnRzIENlbGwge1xyXG5cclxuICAgIHByaXZhdGUgY2VsbFN0eWxlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGFkZGl0aW9uYWxFbGVtZW50OiBKU1guRWxlbWVudDtcclxuXHJcbiAgICAvKipcclxuICAgICAqICBHcmlkIGNlbGwncyBFbGVtZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb2x1bW5FbGVtZW50OiBKU1guRWxlbWVudDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGNlbGwgc3R5bGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldENlbGxTdHlsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jZWxsU3R5bGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFxyXG4gICAgICogc2V0IHRoZSBjZWxsIHN0eWxlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gX2NlbGxTdHlsZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Q2VsbFN0eWxlKF9jZWxsU3R5bGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuY2VsbFN0eWxlID0gX2NlbGxTdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGFkZGl0aW9uYWwgY2VsbCBFbGVtZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRBZGRpdGlvbmFsRWxlbWVudCgpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkaXRpb25hbEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXRzIHRoZSBhZGRpdGlvbmFsIGNlbGwgRWxlbWVudFxyXG4gICAgICogQHBhcmFtIF9hZGRpdGlvbmFsRWxlbWVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0QWRkaXRpb25hbEVsZW1lbnQoX2FkZGl0aW9uYWxFbGVtZW50OiBKU1guRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuYWRkaXRpb25hbEVsZW1lbnQgPSBfYWRkaXRpb25hbEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIHJldHVybnMgd2hldGhlciB0aGUgY2VsbCBpcyBoaWRkZW4gKi9cclxuICAgIHB1YmxpYyBpc0hpZGRlbjogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgY29tcGFyZXJOYW1lOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIHNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24gPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIGlzU29ydGFibGU6IGJvb2xlYW4gPSB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgPSBHcmlkQ2VsbDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL2dyaWRjZWxsLnRzIl0sIm1hcHBpbmdzIjoiO0FBR0E7O0FBRUE7QUFDQTtBQUFBO0FBMkNBO0FBRUE7QUFFQTtBQUNBO0FBdENBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 281:
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src/utility/locale/localehelper.ts ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * helper class with utilty methods for localisation of date, time and number\r\n */\r\nvar LocaleHelper = /** @class */ (function () {\r\n    function LocaleHelper() {\r\n    }\r\n    /**\r\n     * returns the localised string based on the local time zone (machine's locale).\r\n     * @param object - date/time/number to be localised.\r\n     */\r\n    LocaleHelper.toLocaleString = function (object) {\r\n        if (object == null || object === undefined) {\r\n            return '';\r\n        }\r\n        return object.toLocaleString();\r\n    };\r\n    /**\r\n     * returns the localised date string based on the local time zone (machine's locale).\r\n     * @param object - date to be localised.\r\n     */\r\n    LocaleHelper.toLocaleDateString = function (object) {\r\n        if (object == null || object === undefined) {\r\n            return '';\r\n        }\r\n        return object.toLocaleDateString(navigator.language);\r\n    };\r\n    /**\r\n     * returns the localised time string based on the local time zone (machine's locale).\r\n     * @param object - time to be localised.\r\n     */\r\n    LocaleHelper.toLocaleTimeString = function (object) {\r\n        if (object == null || object === undefined) {\r\n            return '';\r\n        }\r\n        // Remove seconds from time.\r\n        return object.toLocaleTimeString(navigator.language);\r\n    };\r\n    /**\r\n     * returns the localised date time string based on the local time zone (machine's locale).\r\n     * @param object - Date and time to be localised.\r\n     */\r\n    LocaleHelper.toLocaleDateTimeString = function (object) {\r\n        if (object == null || object === undefined) {\r\n            return '';\r\n        }\r\n        return object.toLocaleDateString(navigator.language) + ' ' +\r\n            object.toLocaleTimeString(navigator.language);\r\n    };\r\n    /**\r\n     * get the awarding body\r\n     * @param locale\r\n     */\r\n    LocaleHelper.getAwardingBodyLocale = function (locale) {\r\n        //Checking wether browser language exist in languageJson\r\n        var langExist;\r\n        langExist = false;\r\n        languageList.languages.language.map(function (lang) {\r\n            if (lang.code === locale) {\r\n                langExist = true;\r\n            }\r\n        });\r\n        var awardingBody = languageList.languages['awarding-body'];\r\n        if (!langExist) {\r\n            // If the customer doesnt support the browser language select the default language\r\n            locale = languageList.languages['default-culture'];\r\n        }\r\n        /**\r\n         * Splitting the locale to take the langauge code only.The locale conatin both language and country code,\r\n         * the corresponding locale json name contain only language code.\r\n         */\r\n        var localeCode = locale.split('-')[0];\r\n        /**\r\n         * The locale JSON file name should be in a format of awardingbody-locale.json.\r\n         * Populating the url based on te awarding body and locale selected.\r\n         */\r\n        return awardingBody.toLowerCase() + '-' + localeCode;\r\n    };\r\n    return LocaleHelper;\r\n}());\r\nmodule.exports = LocaleHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjgxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlci50cz8yOGE1Il0sInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgbGV0IGxhbmd1YWdlTGlzdDogYW55O1xyXG5cclxuLyoqXHJcbiAqIGhlbHBlciBjbGFzcyB3aXRoIHV0aWx0eSBtZXRob2RzIGZvciBsb2NhbGlzYXRpb24gb2YgZGF0ZSwgdGltZSBhbmQgbnVtYmVyXHJcbiAqL1xyXG5jbGFzcyBMb2NhbGVIZWxwZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBsb2NhbGlzZWQgc3RyaW5nIGJhc2VkIG9uIHRoZSBsb2NhbCB0aW1lIHpvbmUgKG1hY2hpbmUncyBsb2NhbGUpLlxyXG4gICAgICogQHBhcmFtIG9iamVjdCAtIGRhdGUvdGltZS9udW1iZXIgdG8gYmUgbG9jYWxpc2VkLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHRvTG9jYWxlU3RyaW5nKG9iamVjdDogYW55KSB7XHJcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsIHx8IG9iamVjdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9iamVjdC50b0xvY2FsZVN0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgbG9jYWxpc2VkIGRhdGUgc3RyaW5nIGJhc2VkIG9uIHRoZSBsb2NhbCB0aW1lIHpvbmUgKG1hY2hpbmUncyBsb2NhbGUpLlxyXG4gICAgICogQHBhcmFtIG9iamVjdCAtIGRhdGUgdG8gYmUgbG9jYWxpc2VkLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHRvTG9jYWxlRGF0ZVN0cmluZyhvYmplY3Q6IERhdGUpIHtcclxuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwgfHwgb2JqZWN0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqZWN0LnRvTG9jYWxlRGF0ZVN0cmluZyhuYXZpZ2F0b3IubGFuZ3VhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgbG9jYWxpc2VkIHRpbWUgc3RyaW5nIGJhc2VkIG9uIHRoZSBsb2NhbCB0aW1lIHpvbmUgKG1hY2hpbmUncyBsb2NhbGUpLlxyXG4gICAgICogQHBhcmFtIG9iamVjdCAtIHRpbWUgdG8gYmUgbG9jYWxpc2VkLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHRvTG9jYWxlVGltZVN0cmluZyhvYmplY3Q6IERhdGUpIHtcclxuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwgfHwgb2JqZWN0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHNlY29uZHMgZnJvbSB0aW1lLlxyXG4gICAgICAgIHJldHVybiBvYmplY3QudG9Mb2NhbGVUaW1lU3RyaW5nKG5hdmlnYXRvci5sYW5ndWFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBsb2NhbGlzZWQgZGF0ZSB0aW1lIHN0cmluZyBiYXNlZCBvbiB0aGUgbG9jYWwgdGltZSB6b25lIChtYWNoaW5lJ3MgbG9jYWxlKS5cclxuICAgICAqIEBwYXJhbSBvYmplY3QgLSBEYXRlIGFuZCB0aW1lIHRvIGJlIGxvY2FsaXNlZC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0b0xvY2FsZURhdGVUaW1lU3RyaW5nKG9iamVjdDogRGF0ZSkge1xyXG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCB8fCBvYmplY3QgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb2JqZWN0LnRvTG9jYWxlRGF0ZVN0cmluZyhuYXZpZ2F0b3IubGFuZ3VhZ2UpICsgJyAnICtcclxuICAgICAgICAgICAgICAgb2JqZWN0LnRvTG9jYWxlVGltZVN0cmluZyhuYXZpZ2F0b3IubGFuZ3VhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHRoZSBhd2FyZGluZyBib2R5XHJcbiAgICAgKiBAcGFyYW0gbG9jYWxlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QXdhcmRpbmdCb2R5TG9jYWxlKGxvY2FsZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgLy9DaGVja2luZyB3ZXRoZXIgYnJvd3NlciBsYW5ndWFnZSBleGlzdCBpbiBsYW5ndWFnZUpzb25cclxuICAgICAgICBsZXQgbGFuZ0V4aXN0OiBib29sZWFuO1xyXG4gICAgICAgIGxhbmdFeGlzdCA9IGZhbHNlO1xyXG4gICAgICAgIGxhbmd1YWdlTGlzdC5sYW5ndWFnZXMubGFuZ3VhZ2UubWFwKGZ1bmN0aW9uIChsYW5nOiBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKGxhbmcuY29kZSA9PT0gbG9jYWxlKSB7XHJcbiAgICAgICAgICAgICAgICBsYW5nRXhpc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBhd2FyZGluZ0JvZHkgPSBsYW5ndWFnZUxpc3QubGFuZ3VhZ2VzWydhd2FyZGluZy1ib2R5J107XHJcbiAgICAgICAgaWYgKCFsYW5nRXhpc3QpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGN1c3RvbWVyIGRvZXNudCBzdXBwb3J0IHRoZSBicm93c2VyIGxhbmd1YWdlIHNlbGVjdCB0aGUgZGVmYXVsdCBsYW5ndWFnZVxyXG4gICAgICAgICAgICBsb2NhbGUgPSBsYW5ndWFnZUxpc3QubGFuZ3VhZ2VzWydkZWZhdWx0LWN1bHR1cmUnXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNwbGl0dGluZyB0aGUgbG9jYWxlIHRvIHRha2UgdGhlIGxhbmdhdWdlIGNvZGUgb25seS5UaGUgbG9jYWxlIGNvbmF0aW4gYm90aCBsYW5ndWFnZSBhbmQgY291bnRyeSBjb2RlLFxyXG4gICAgICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIGxvY2FsZSBqc29uIG5hbWUgY29udGFpbiBvbmx5IGxhbmd1YWdlIGNvZGUuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbGV0IGxvY2FsZUNvZGUgPSBsb2NhbGUuc3BsaXQoJy0nKVswXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGxvY2FsZSBKU09OIGZpbGUgbmFtZSBzaG91bGQgYmUgaW4gYSBmb3JtYXQgb2YgYXdhcmRpbmdib2R5LWxvY2FsZS5qc29uLlxyXG4gICAgICAgICAqIFBvcHVsYXRpbmcgdGhlIHVybCBiYXNlZCBvbiB0ZSBhd2FyZGluZyBib2R5IGFuZCBsb2NhbGUgc2VsZWN0ZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmV0dXJuIGF3YXJkaW5nQm9keS50b0xvd2VyQ2FzZSgpICsgJy0nICsgbG9jYWxlQ29kZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gTG9jYWxlSGVscGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS9sb2NhbGUvbG9jYWxlaGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBa0ZBO0FBakZBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 283:
/* no static exports found */
/* all exports used */
/*!*********************************************************!*\
  !*** ./src/components/utility/message/messagehelper.ts ***!
  \*********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\r\nvar messagestore = __webpack_require__(/*! ../../../stores/message/messagestore */ 240);\r\nvar groupHelper = __webpack_require__(/*! ../../../utility/grouping/grouphelper */ 430);\r\nvar grouperList = __webpack_require__(/*! ../../../utility/grouping/groupingbase/grouperlist */ 427);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\nvar localehelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\nvar stringFormatHelper = __webpack_require__(/*! ../../../utility/stringformat/stringformathelper */ 250);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar messageEditorConstants = __webpack_require__(/*! ../messageeditorconstants */ 325);\r\nvar stringHelper = __webpack_require__(/*! ../../../utility/generic/stringhelper */ 254);\r\nvar htmlUtilities = __webpack_require__(/*! ../../../utility/generic/htmlutilities */ 243);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../markeroperationmode/markeroperationmodefactory */ 232);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar MessageHelper = /** @class */ (function () {\r\n    function MessageHelper() {\r\n    }\r\n    /**\r\n     * Get the Header to display and the related messges\r\n     * @param messages\r\n     */\r\n    MessageHelper.getGroupedMessageObject = function (messages, expandOrCollapseDetails) {\r\n        var _this = this;\r\n        // To store the messages after the grouping and sorting\r\n        var messageList = Immutable.List();\r\n        // Get the messages grouped by QIG\r\n        var groupedMessages = groupHelper.group(messages, grouperList.MessageQigGrouper, enums.GroupByField.qig);\r\n        // Get the key seq\r\n        var groupedKeys = groupedMessages.keySeq();\r\n        // Create the return object\r\n        var returnObj = [];\r\n        // Loop through the keys and find the list of messages for the group.\r\n        groupedKeys.forEach(function (qigId) {\r\n            // Get the messages for the group.\r\n            var currentMessageGroup = groupedMessages.get(qigId);\r\n            // Clear the collection, In each group.\r\n            var messages = [];\r\n            // Get the each messages for the group.\r\n            currentMessageGroup.map(function (message) {\r\n                if (message.status === enums.MessageReadStatus.New && messagestore.instance.isMessageRead(message.examinerMessageId)) {\r\n                    message.status = enums.MessageReadStatus.Read;\r\n                }\r\n                messages.push(message);\r\n            });\r\n            // Get the awarding body name format\r\n            var nameToDisplay = MessageHelper.getDisplayText(messages[0]);\r\n            var messageFolderType = messages[0].messageFolderType;\r\n            // Create an object to store messages\r\n            var groupedObj = {\r\n                qigId: parseInt(qigId),\r\n                isOpen: _this.isQigOpen(parseInt(qigId), messageFolderType, expandOrCollapseDetails),\r\n                textToDisplay: nameToDisplay,\r\n                messages: messages,\r\n                unReadMessages: messages.filter(function (x) {\r\n                    return x.status === enums.MessageReadStatus.New && !messagestore.instance.isMessageRead(x.examinerMessageId);\r\n                }).length\r\n            };\r\n            returnObj.push(groupedObj);\r\n        });\r\n        // Sort the objects based on the display header.\r\n        var getGroupedMessageObject = returnObj.sort(function (obj1, obj2) {\r\n            return obj1.textToDisplay.localeCompare(obj2.textToDisplay);\r\n        });\r\n        // Get the messages as in the order of displaying in the UI\r\n        getGroupedMessageObject.forEach(function (messageObject) {\r\n            messageList = Immutable.List(messageList.concat(messageObject.messages));\r\n        });\r\n        var messageGroupDetails = {\r\n            // Stores the Grouped Object along with those messages\r\n            MessageGroupObjects: getGroupedMessageObject,\r\n            // Store all messages for the UI\r\n            messages: messageList\r\n        };\r\n        return messageGroupDetails;\r\n    };\r\n    /**\r\n     * Returns whether a particular qig is open or not\r\n     * @param expandOrCollapseDetails\r\n     */\r\n    MessageHelper.isQigOpen = function (qigId, messageFolderType, expandOrCollapseDetails) {\r\n        return expandOrCollapseDetails ? expandOrCollapseDetails.get(qigId, true) : true;\r\n    };\r\n    /**\r\n     * Get the time style for the Date\r\n     * @param timeToDisplay\r\n     * @param todayTextConversionRequired : for deciding Today text conversion\r\n     */\r\n    MessageHelper.getDateToDisplay = function (timeToDisplay, todayTextConversionRequired) {\r\n        if (todayTextConversionRequired === void 0) { todayTextConversionRequired = true; }\r\n        var timeToDisplayDate = new Date(timeToDisplay);\r\n        var todaysDate = new Date();\r\n        var time = localehelper.toLocaleTimeString(new Date(timeToDisplay.toString()));\r\n        // call setHours to take the time out of the comparison\r\n        if ((timeToDisplayDate.setHours(0, 0, 0, 0) === todaysDate.setHours(0, 0, 0, 0)) && todayTextConversionRequired) {\r\n            // Date equals today's date. Display date feild as Today.\r\n            return localeStore.instance.TranslateText('messaging.message-lists.message-detail.date-today') + ' ' + time;\r\n        }\r\n        else {\r\n            return localehelper.toLocaleDateString(new Date(timeToDisplay)) + ' ' + time;\r\n        }\r\n    };\r\n    /**\r\n     * Get the Display Header for the Group Header.\r\n     * @param message\r\n     */\r\n    MessageHelper.getDisplayText = function (message) {\r\n        var msg = messagestore.instance.messagesMarkSchemes;\r\n        if (msg) {\r\n            var messageList = msg.filter(function (messages) { return messages.markSchemeGroupId === message.markSchemeGroupId; });\r\n            {\r\n                return stringFormatHelper.formatAwardingBodyQIG(messageList.first().markSchemeGroupName, messageList.first().assessmentCode, messageList.first().sessionName, messageList.first().componentId, messageList.first().questionPaperName, messageList.first().assessmentName, messageList.first().componentName, stringFormatHelper.getOverviewQIGNameFormat());\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Return the Mark Scheme Group Name\r\n     * @param message\r\n     */\r\n    MessageHelper.getMarkSchemeGroupName = function (message) {\r\n        var msg = messagestore.instance.messagesMarkSchemes;\r\n        if (msg) {\r\n            return msg.filter(function (messages) { return messages.markSchemeGroupId === message.markSchemeGroupId; }).\r\n                first().markSchemeGroupName;\r\n        }\r\n    };\r\n    /**\r\n     * Used to create the MessageOrExceptionLinkedItems based on the messages\r\n     * @param messages\r\n     */\r\n    MessageHelper.getMessageLinkedItems = function (messages) {\r\n        var messageOrExceptionLinkedItems = [];\r\n        var items = messages.forEach(function (message) {\r\n            messageOrExceptionLinkedItems.push({\r\n                itemId: message.examinerMessageId,\r\n                senderOrItem: message.toTeam ?\r\n                    localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.entire-team') :\r\n                    MessageHelper.appendExaminer(message),\r\n                priorityOrStatus: message.priorityName,\r\n                subjectOrType: message.subject,\r\n                timeToDisplay: message.displayDate,\r\n                isUnreadOrUnactioned: message.status === enums.MessageReadStatus.New &&\r\n                    !messagestore.instance.isMessageRead(message.examinerMessageId)\r\n            });\r\n        });\r\n        return Immutable.List(messageOrExceptionLinkedItems);\r\n    };\r\n    /**\r\n     * append examiners\r\n     */\r\n    MessageHelper.appendExaminer = function (message) {\r\n        var examiners = '';\r\n        if (message && message.toExaminerDetails != null) {\r\n            message.toExaminerDetails.map(function (item) {\r\n                examiners += item.fullName + ';';\r\n            });\r\n            // removing last item semicolon\r\n            return examiners.replace(/;$/, '');\r\n        }\r\n        else {\r\n            examiners = message.examinerDetails.fullName;\r\n        }\r\n        return examiners;\r\n    };\r\n    /**\r\n     * This method will returns the message content based on the template name\r\n     * @param templateName - template name\r\n     * @param messageBody - message content\r\n     */\r\n    MessageHelper.getMessageContent = function (templateName, messageFrom, date, messageBody) {\r\n        var template;\r\n        switch (templateName) {\r\n            case enums.MessageType.InboxReply:\r\n            case enums.MessageType.ResponseReply:\r\n                template = stringHelper.format(localeStore.instance.TranslateText('messaging.compose-message.new-message-templates.reply'), [messageEditorConstants.TINYMCE_DEFAULT_FONT, messageEditorConstants.TINYMCE_DEFAULT_FONTSIZE,\r\n                    this.getDateToDisplay(date, false), messageFrom, messageBody]);\r\n                break;\r\n            case enums.MessageType.InboxForward:\r\n            case enums.MessageType.ResponseForward:\r\n                template = stringHelper.format(localeStore.instance.TranslateText('messaging.compose-message.new-message-templates.forward'), [messageEditorConstants.TINYMCE_DEFAULT_FONT, messageEditorConstants.TINYMCE_DEFAULT_FONTSIZE,\r\n                    this.getDateToDisplay(date, false), messageFrom, messageBody]);\r\n                break;\r\n            case enums.MessageType.ResponseCompose:\r\n            case enums.MessageType.WorklistCompose:\r\n            case enums.MessageType.InboxCompose:\r\n            case enums.MessageType.TeamCompose:\r\n                template = stringHelper.format(localeStore.instance.TranslateText('messaging.compose-message.new-message-templates.new'), [messageEditorConstants.TINYMCE_DEFAULT_FONT, messageEditorConstants.TINYMCE_DEFAULT_FONTSIZE]);\r\n                break;\r\n        }\r\n        return template;\r\n    };\r\n    /**\r\n     * This method will return the Menu Action items needed based on the folder type\r\n     * @param folderType\r\n     * @param messageActions: an array of message actions\r\n     */\r\n    MessageHelper.getMessageMenuActionItems = function (folderType, messageActions) {\r\n        var _this = this;\r\n        var messageMenuActionItems = [];\r\n        switch (folderType) {\r\n            case enums.MessageFolderType.Inbox:\r\n                if (messageActions && messageActions.length > 0) {\r\n                    messageActions.map(function (x) {\r\n                        var actionItems = _this.messageActionItems(x);\r\n                        if (actionItems) {\r\n                            messageMenuActionItems.push(actionItems);\r\n                        }\r\n                    });\r\n                }\r\n        }\r\n        return messageMenuActionItems;\r\n    };\r\n    /**\r\n     * This method will return the localised message string based on message type\r\n     */\r\n    MessageHelper.getMessageHeader = function (messageType) {\r\n        var messageHeader;\r\n        switch (messageType) {\r\n            case enums.MessageType.InboxCompose:\r\n            case enums.MessageType.WorklistCompose:\r\n            case enums.MessageType.ResponseCompose:\r\n            case enums.MessageType.TeamCompose:\r\n                messageHeader = localeStore.instance.TranslateText('messaging.compose-message.new-message-header');\r\n                break;\r\n            case enums.MessageType.InboxForward:\r\n            case enums.MessageType.ResponseForward:\r\n                messageHeader = localeStore.instance.TranslateText('messaging.compose-message.forward-header');\r\n                break;\r\n            case enums.MessageType.InboxReply:\r\n            case enums.MessageType.ResponseReply:\r\n                messageHeader = localeStore.instance.TranslateText('messaging.compose-message.reply-header');\r\n                break;\r\n            case enums.MessageType.ResponseDetails:\r\n                messageHeader = localeStore.instance.TranslateText('marking.response.message-panel.header');\r\n        }\r\n        return messageHeader;\r\n    };\r\n    /**\r\n     * This method will returns the subject string\r\n     * @param messageType\r\n     * @param subject\r\n     */\r\n    MessageHelper.getSubjectContent = function (messageType, subject) {\r\n        var subjectText;\r\n        var subjectPrefix;\r\n        switch (messageType) {\r\n            case enums.MessageType.InboxCompose:\r\n                subjectText = subject;\r\n                break;\r\n            case enums.MessageType.InboxForward:\r\n            case enums.MessageType.ResponseForward:\r\n                subjectPrefix = localeStore.instance.TranslateText('messaging.compose-message.forward-prefix');\r\n                subjectText = subject.indexOf(subjectPrefix) === -1 ? subjectPrefix + ' ' + subject : subject;\r\n                break;\r\n            case enums.MessageType.InboxReply:\r\n            case enums.MessageType.ResponseReply:\r\n                subjectPrefix = localeStore.instance.TranslateText('messaging.compose-message.reply-prefix');\r\n                subjectText = subject.indexOf(subjectPrefix) === -1 ? subjectPrefix + ' ' + subject : subject;\r\n                break;\r\n        }\r\n        return subjectText;\r\n    };\r\n    Object.defineProperty(MessageHelper, \"getCreateNewMessageText\", {\r\n        /**\r\n         * Get the Create new text for the component.\r\n         */\r\n        get: function () {\r\n            return localeStore.instance.TranslateText('marking.response.message-list-panel.create-new-message');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * This method will return the Menu Action item based on the action parameter\r\n     * @param messageAction\r\n     */\r\n    MessageHelper.messageActionItems = function (messageAction) {\r\n        switch (messageAction) {\r\n            case enums.MessageAction.Reply:\r\n                return ({\r\n                    id: enums.MessageAction.Reply,\r\n                    icon: 'reply-icon',\r\n                    name: localeStore.instance.TranslateText('messaging.message-lists.message-detail.reply-button')\r\n                });\r\n            case enums.MessageAction.Forward:\r\n                if (!markerOperationModeFactory.operationMode.isForwardButtonHidden) {\r\n                    return ({\r\n                        id: enums.MessageAction.Forward,\r\n                        icon: 'forward-icon',\r\n                        name: localeStore.instance.TranslateText('messaging.message-lists.message-detail.forward-button')\r\n                    });\r\n                }\r\n                break;\r\n            case enums.MessageAction.Delete:\r\n                return ({\r\n                    id: enums.MessageAction.Delete,\r\n                    icon: 'delete-icon-small',\r\n                    name: localeStore.instance.TranslateText('messaging.message-lists.message-detail.delete-button')\r\n                });\r\n        }\r\n    };\r\n    /**\r\n     * This method will update the IFrame content with message details\r\n     * @param o\r\n     * @param e\r\n     */\r\n    MessageHelper.addIFrameForMessageDetails = function (o, e) {\r\n        var timeout = 0;\r\n        // add script to init mouse click event in parent window for any 'click' in current window\r\n        var scriptBlock = 'window.addEventListener(\\'click\\', function() { parent.initMouseClickEvent(); });';\r\n        var headTagContent = '<style type=\"text/css\"> p,body{margin:0;padding:0;}</style>';\r\n        if (htmlUtilities.isIPadDevice && htmlUtilities.getUserDevice().browser === 'Safari') {\r\n            //include script to block double tap and pinch zoom in iPad safari\r\n            scriptBlock +=\r\n                'window.addEventListener(\\'touchend\\', blockDoubleTapZoom);' +\r\n                    'window.addEventListener(\\'touchstart\\', blockPinchToZoom);' +\r\n                    //block double tap zoom\r\n                    'let lastTap = 0;' +\r\n                    'function blockDoubleTapZoom ( e ) {' +\r\n                    'let currentTime = new Date().getTime();' +\r\n                    'let tapLength = currentTime - lastTap;' +\r\n                    'if (tapLength < 500 && tapLength > 0) {' +\r\n                    'e.preventDefault();}' +\r\n                    'lastTap = currentTime;' +\r\n                    //init mouse click event\r\n                    'parent.initMouseClickEvent(); }' +\r\n                    //block pinch zoom\r\n                    'function blockPinchToZoom ( e ) {' +\r\n                    'if (e.touches.length > 1) {' +\r\n                    'e.preventDefault();}' +\r\n                    '}';\r\n        }\r\n        else {\r\n            //incluse script to init mouse click event in parent window for any 'touch' in current window\r\n            scriptBlock +=\r\n                'window.addEventListener(\\'touchend\\', function() { parent.initMouseClickEvent(); });';\r\n        }\r\n        var content = e.getContent().trim() +\r\n            '<script>' + scriptBlock + '</script >';\r\n        // put a timeout of 0, otherwise message details are not rendering on first message item click\r\n        if (!htmlUtilities.isTabletOrMobileDevice && htmlUtilities.getUserDevice().browser === 'Firefox') {\r\n            timeout = 50;\r\n        }\r\n        setTimeout(function () {\r\n            $('#msg-iframe_ifr').contents().find('head').html(headTagContent);\r\n            $('#msg-iframe_ifr').contents().find('body').html(content);\r\n        }, timeout);\r\n    };\r\n    /**\r\n     * Returns a boolean indicating whether the message panel is edited.\r\n     */\r\n    MessageHelper.isMessagePanelEdited = function (messageType, messageToFieldValues, messageToFieldIds) {\r\n        if (messagestore.instance.isMessagePanelActive) {\r\n            var currentActiveEditorId = tinymce.activeEditor.id;\r\n            var activeEditor = tinymce.get(MessageHelper.messageEditorId);\r\n            if (messageType === enums.MessageType.InboxCompose || messageType === enums.MessageType.InboxForward ||\r\n                messageType === enums.MessageType.InboxReply) {\r\n                return MessageHelper.messageSubject && MessageHelper.messageSubject.trim().length > 0 ||\r\n                    activeEditor.getContent({ format: 'text' }).trim().length > 0 ||\r\n                    ((messageToFieldValues && messageToFieldValues.length > 0) &&\r\n                        (messageToFieldIds && messageToFieldIds.length > 0));\r\n            }\r\n            else if (messageType === enums.MessageType.ResponseCompose\r\n                || messageType === enums.MessageType.WorklistCompose || messageType === enums.MessageType.ResponseReply\r\n                || messageType === enums.MessageType.ResponseForward || messageType === enums.MessageType.TeamCompose) {\r\n                return MessageHelper.messageSubject && MessageHelper.messageSubject.trim().length > 0 ||\r\n                    activeEditor.getContent({ format: 'text' }).trim().length > 0;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * This method revamps the marking mode naming for display in message\r\n     * @param markingMode\r\n     * @param isElectronicStandardisationTeamMember\r\n     */\r\n    MessageHelper.getMarkingModeText = function (markingMode, isElectronicStandardisationTeamMember) {\r\n        if (markingMode === enums.MarkingMode.ES_TeamApproval) {\r\n            if (isElectronicStandardisationTeamMember) {\r\n                return ((localeStore.instance.TranslateText('marking.worklist.response-data.stm-standardisation-response-title')) + ' ');\r\n            }\r\n            else {\r\n                return ((localeStore.instance.TranslateText('marking.worklist.response-data.second-standardisation-response-title')) + ' ');\r\n            }\r\n        }\r\n        else if (markingMode === enums.MarkingMode.Practice) {\r\n            return ((localeStore.instance.TranslateText('marking.worklist.response-data.practice-response-title')) + ' ');\r\n        }\r\n        else if (markingMode === enums.MarkingMode.Approval) {\r\n            return ((localeStore.instance.TranslateText('marking.worklist.response-data.standardisation-response-title')) + ' ');\r\n        }\r\n        else if (markingMode === enums.MarkingMode.ES_TeamApproval) {\r\n            return ((localeStore.instance.TranslateText('marking.worklist.response-data.second-standardisation-response-title')) + ' ');\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    };\r\n    MessageHelper._isPasteEnabled = false;\r\n    MessageHelper.messageEditorId = 'msg-tinymce-editor';\r\n    /**\r\n     * This method will return the selected item for priority dropdown based on priority name\r\n     */\r\n    MessageHelper.getPriorityDropDownSelectedItem = function (priorityName) {\r\n        if (priorityName === enums.getEnumString(enums.MessagePriority, enums.MessagePriority.Standard)) {\r\n            return enums.MessagePriority.Standard;\r\n        }\r\n        else if (priorityName === enums.getEnumString(enums.MessagePriority, enums.MessagePriority.Important)) {\r\n            return enums.MessagePriority.Important;\r\n        }\r\n        else if (priorityName === enums.getEnumString(enums.MessagePriority, enums.MessagePriority.Mandatory)) {\r\n            // When replying and forwarding a  mandatory message,priority need to be reset to standard.\r\n            return enums.MessagePriority.Standard;\r\n        }\r\n    };\r\n    /**\r\n     * returns the navigate to default options for different message types.\r\n     */\r\n    MessageHelper.getNavigateAwayType = function (messageType) {\r\n        var navigateTo = enums.SaveAndNavigate.none;\r\n        switch (messageType) {\r\n            case enums.MessageType.ResponseReply:\r\n            case enums.MessageType.ResponseForward:\r\n            case enums.MessageType.ResponseCompose:\r\n                navigateTo = enums.SaveAndNavigate.toNewResponseMessageCompose;\r\n                break;\r\n        }\r\n        return navigateTo;\r\n    };\r\n    /**\r\n     * Returns true if focus needs to be set in tinymce editor else return false\r\n     */\r\n    MessageHelper.hasFocus = function (messageType) {\r\n        return (messageType === enums.MessageType.InboxForward || messageType === enums.MessageType.InboxReply\r\n            || messageType === enums.MessageType.ResponseReply || messageType === enums.MessageType.ResponseForward);\r\n    };\r\n    MessageHelper.addInitMouseClickEventScriptBlock = function () {\r\n        // we have to close opened priority drop down and user options (logout options) while clicking on outside that. iframe was\r\n        // preventing the click event to propagate outside so closing of those things are not happening while clicking on iframe.\r\n        // dynamically add script to create mouse event\r\n        var scriptElement = document.getElementById('init_mouse_click_event_script_block');\r\n        var isScriptElementPresent = false;\r\n        if (scriptElement != null) {\r\n            isScriptElementPresent = true;\r\n        }\r\n        else {\r\n            scriptElement = document.createElement('script');\r\n            scriptElement.id = 'init_mouse_click_event_script_block';\r\n            scriptElement.innerText =\r\n                'function initMouseClickEvent() {' +\r\n                    'let event = document.createEvent(\\'MouseEvents\\');' +\r\n                    'event.initMouseEvent(\\'click\\', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);' +\r\n                    'window.dispatchEvent(event); }';\r\n        }\r\n        if (!isScriptElementPresent) {\r\n            document.body.appendChild(scriptElement);\r\n        }\r\n    };\r\n    MessageHelper.removeInitMouseClickEventScriptBlock = function () {\r\n        var scriptElement = document.getElementById('init_mouse_click_event_script_block');\r\n        if (htmlUtilities.getUserDevice().browser !== 'IE') {\r\n            document.body.removeChild(scriptElement);\r\n        }\r\n    };\r\n    MessageHelper.setPasteEnabledAction = function (isPasteEnabled) {\r\n        MessageHelper._isPasteEnabled = isPasteEnabled;\r\n    };\r\n    /**\r\n     * Method which gets the selected QIG's name based on the Awarding Body specific QIG Naming format\r\n     */\r\n    MessageHelper.getCurrentQIGName = function () {\r\n        // Calling the helper method to format the QIG Name\r\n        if (qigStore.instance.selectedQIGForMarkerOperation !== undefined) {\r\n            var selectedQig = qigStore.instance.selectedQIGForMarkerOperation;\r\n            return stringFormatHelper.formatAwardingBodyQIG(selectedQig.markSchemeGroupName, selectedQig.assessmentCode, selectedQig.sessionName, selectedQig.componentId, selectedQig.questionPaperName, selectedQig.assessmentName, selectedQig.componentName, stringFormatHelper.getOverviewQIGNameFormat());\r\n        }\r\n        // If a QIG is not selected, return the default text to be shown on the drop down\r\n        return localeStore.instance.TranslateText('messaging.compose-message.please-select-qig-placeholder');\r\n    };\r\n    /**\r\n     * Handles changes in the message panel subject section.\r\n     * @param e\r\n     */\r\n    MessageHelper.handleSubjectChange = function (subject) {\r\n        MessageHelper.messageSubject = subject;\r\n    };\r\n    return MessageHelper;\r\n}());\r\nmodule.exports = MessageHelper;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 42)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjgzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9tZXNzYWdlL21lc3NhZ2VoZWxwZXIudHM/NmViOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWVzc2FnZXN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL21lc3NhZ2UvbWVzc2FnZXN0b3JlJyk7XHJcbmltcG9ydCBxaWdTdW1tYXJ5ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3R5cGluZ3MvcWlnc3VtbWFyeScpO1xyXG5pbXBvcnQgZ3JvdXBIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyb3VwaW5nL2dyb3VwaGVscGVyJyk7XHJcbmltcG9ydCBncm91cGVyTGlzdCA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JvdXBpbmcvZ3JvdXBpbmdiYXNlL2dyb3VwZXJsaXN0Jyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vZW51bXMnKTtcclxuaW1wb3J0IGxvY2FsZWhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgc3RyaW5nRm9ybWF0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9zdHJpbmdmb3JtYXQvc3RyaW5nZm9ybWF0aGVscGVyJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IG1lc3NhZ2VFZGl0b3JDb25zdGFudHMgPSByZXF1aXJlKCcuLi9tZXNzYWdlZWRpdG9yY29uc3RhbnRzJyk7XHJcbmltcG9ydCBzdHJpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dlbmVyaWMvc3RyaW5naGVscGVyJyk7XHJcbmltcG9ydCBodG1sVXRpbGl0aWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL2h0bWx1dGlsaXRpZXMnKTtcclxuaW1wb3J0IG5hdmlnYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9uYXZpZ2F0aW9uL25hdmlnYXRpb25zdG9yZScpO1xyXG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudHN0b3JlJyk7XHJcbmltcG9ydCBleGFtaW5lclN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL21hcmtlcmluZm9ybWF0aW9uL2V4YW1pbmVyc3RvcmUnKTtcclxuXHJcbmRlY2xhcmUgbGV0IHRpbnltY2U6IGFueTtcclxuXHJcbmNsYXNzIE1lc3NhZ2VIZWxwZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgX2lzUGFzdGVFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbWVzc2FnZUVkaXRvcklkOiBzdHJpbmcgPSAnbXNnLXRpbnltY2UtZWRpdG9yJztcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBtZXNzYWdlU3ViamVjdDogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBIZWFkZXIgdG8gZGlzcGxheSBhbmQgdGhlIHJlbGF0ZWQgbWVzc2dlc1xyXG4gICAgICogQHBhcmFtIG1lc3NhZ2VzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0R3JvdXBlZE1lc3NhZ2VPYmplY3QobWVzc2FnZXM6IEltbXV0YWJsZS5MaXN0PE1lc3NhZ2U+LCBleHBhbmRPckNvbGxhcHNlRGV0YWlsczogSW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+KTpcclxuICAgICAgICBNZXNzYWdlR3JvdXBEZXRhaWxzIHtcclxuICAgICAgICAvLyBUbyBzdG9yZSB0aGUgbWVzc2FnZXMgYWZ0ZXIgdGhlIGdyb3VwaW5nIGFuZCBzb3J0aW5nXHJcbiAgICAgICAgbGV0IG1lc3NhZ2VMaXN0OiBJbW11dGFibGUuTGlzdDxNZXNzYWdlPiA9IEltbXV0YWJsZS5MaXN0PE1lc3NhZ2U+KCk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgbWVzc2FnZXMgZ3JvdXBlZCBieSBRSUdcclxuICAgICAgICBsZXQgZ3JvdXBlZE1lc3NhZ2VzID0gZ3JvdXBIZWxwZXIuZ3JvdXAobWVzc2FnZXMsIGdyb3VwZXJMaXN0Lk1lc3NhZ2VRaWdHcm91cGVyLCBlbnVtcy5Hcm91cEJ5RmllbGQucWlnKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBrZXkgc2VxXHJcbiAgICAgICAgbGV0IGdyb3VwZWRLZXlzID0gZ3JvdXBlZE1lc3NhZ2VzLmtleVNlcSgpO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGhlIHJldHVybiBvYmplY3RcclxuICAgICAgICBsZXQgcmV0dXJuT2JqOiBNZXNzYWdlR3JvdXBEYXRhW10gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBrZXlzIGFuZCBmaW5kIHRoZSBsaXN0IG9mIG1lc3NhZ2VzIGZvciB0aGUgZ3JvdXAuXHJcbiAgICAgICAgZ3JvdXBlZEtleXMuZm9yRWFjaCgocWlnSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIG1lc3NhZ2VzIGZvciB0aGUgZ3JvdXAuXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50TWVzc2FnZUdyb3VwID0gZ3JvdXBlZE1lc3NhZ2VzLmdldChxaWdJZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgY29sbGVjdGlvbiwgSW4gZWFjaCBncm91cC5cclxuICAgICAgICAgICAgbGV0IG1lc3NhZ2VzID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGVhY2ggbWVzc2FnZXMgZm9yIHRoZSBncm91cC5cclxuICAgICAgICAgICAgY3VycmVudE1lc3NhZ2VHcm91cC5tYXAoKG1lc3NhZ2U6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSBlbnVtcy5NZXNzYWdlUmVhZFN0YXR1cy5OZXcgJiYgbWVzc2FnZXN0b3JlLmluc3RhbmNlLmlzTWVzc2FnZVJlYWQobWVzc2FnZS5leGFtaW5lck1lc3NhZ2VJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXR1cyA9IGVudW1zLk1lc3NhZ2VSZWFkU3RhdHVzLlJlYWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgYXdhcmRpbmcgYm9keSBuYW1lIGZvcm1hdFxyXG4gICAgICAgICAgICBsZXQgbmFtZVRvRGlzcGxheSA9IE1lc3NhZ2VIZWxwZXIuZ2V0RGlzcGxheVRleHQobWVzc2FnZXNbMF0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IG1lc3NhZ2VGb2xkZXJUeXBlOiBlbnVtcy5NZXNzYWdlRm9sZGVyVHlwZSA9IG1lc3NhZ2VzWzBdLm1lc3NhZ2VGb2xkZXJUeXBlO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIG9iamVjdCB0byBzdG9yZSBtZXNzYWdlc1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXBlZE9iajogTWVzc2FnZUdyb3VwRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHFpZ0lkOiBwYXJzZUludChxaWdJZCksXHJcbiAgICAgICAgICAgICAgICBpc09wZW46IHRoaXMuaXNRaWdPcGVuKHBhcnNlSW50KHFpZ0lkKSwgbWVzc2FnZUZvbGRlclR5cGUsIGV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzKSxcclxuICAgICAgICAgICAgICAgIHRleHRUb0Rpc3BsYXk6IG5hbWVUb0Rpc3BsYXksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMsXHJcbiAgICAgICAgICAgICAgICB1blJlYWRNZXNzYWdlczogbWVzc2FnZXMuZmlsdGVyKCh4OiBNZXNzYWdlKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHguc3RhdHVzID09PSBlbnVtcy5NZXNzYWdlUmVhZFN0YXR1cy5OZXcgJiYgIW1lc3NhZ2VzdG9yZS5pbnN0YW5jZS5pc01lc3NhZ2VSZWFkKHguZXhhbWluZXJNZXNzYWdlSWQpKS5sZW5ndGhcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybk9iai5wdXNoKGdyb3VwZWRPYmopO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTb3J0IHRoZSBvYmplY3RzIGJhc2VkIG9uIHRoZSBkaXNwbGF5IGhlYWRlci5cclxuICAgICAgICBsZXQgZ2V0R3JvdXBlZE1lc3NhZ2VPYmplY3QgPSByZXR1cm5PYmouc29ydChmdW5jdGlvbiAob2JqMTogTWVzc2FnZUdyb3VwRGF0YSwgb2JqMjogTWVzc2FnZUdyb3VwRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqMS50ZXh0VG9EaXNwbGF5LmxvY2FsZUNvbXBhcmUob2JqMi50ZXh0VG9EaXNwbGF5KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBtZXNzYWdlcyBhcyBpbiB0aGUgb3JkZXIgb2YgZGlzcGxheWluZyBpbiB0aGUgVUlcclxuICAgICAgICBnZXRHcm91cGVkTWVzc2FnZU9iamVjdC5mb3JFYWNoKChtZXNzYWdlT2JqZWN0OiBNZXNzYWdlR3JvdXBEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VMaXN0ID0gSW1tdXRhYmxlLkxpc3Q8TWVzc2FnZT4obWVzc2FnZUxpc3QuY29uY2F0KG1lc3NhZ2VPYmplY3QubWVzc2FnZXMpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IG1lc3NhZ2VHcm91cERldGFpbHM6IE1lc3NhZ2VHcm91cERldGFpbHMgPSB7XHJcbiAgICAgICAgICAgIC8vIFN0b3JlcyB0aGUgR3JvdXBlZCBPYmplY3QgYWxvbmcgd2l0aCB0aG9zZSBtZXNzYWdlc1xyXG4gICAgICAgICAgICBNZXNzYWdlR3JvdXBPYmplY3RzOiBnZXRHcm91cGVkTWVzc2FnZU9iamVjdCxcclxuXHJcbiAgICAgICAgICAgIC8vIFN0b3JlIGFsbCBtZXNzYWdlcyBmb3IgdGhlIFVJXHJcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlTGlzdFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBtZXNzYWdlR3JvdXBEZXRhaWxzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB3aGV0aGVyIGEgcGFydGljdWxhciBxaWcgaXMgb3BlbiBvciBub3RcclxuICAgICAqIEBwYXJhbSBleHBhbmRPckNvbGxhcHNlRGV0YWlscyBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaXNRaWdPcGVuKHFpZ0lkOiBudW1iZXIsIG1lc3NhZ2VGb2xkZXJUeXBlOiBlbnVtcy5NZXNzYWdlRm9sZGVyVHlwZSxcclxuICAgICAgICBleHBhbmRPckNvbGxhcHNlRGV0YWlsczogSW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzID8gZXhwYW5kT3JDb2xsYXBzZURldGFpbHMuZ2V0KHFpZ0lkLCB0cnVlKSA6IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHRpbWUgc3R5bGUgZm9yIHRoZSBEYXRlXHJcbiAgICAgKiBAcGFyYW0gdGltZVRvRGlzcGxheVxyXG4gICAgICogQHBhcmFtIHRvZGF5VGV4dENvbnZlcnNpb25SZXF1aXJlZCA6IGZvciBkZWNpZGluZyBUb2RheSB0ZXh0IGNvbnZlcnNpb25cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXREYXRlVG9EaXNwbGF5KHRpbWVUb0Rpc3BsYXk6IHN0cmluZywgdG9kYXlUZXh0Q29udmVyc2lvblJlcXVpcmVkOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCB0aW1lVG9EaXNwbGF5RGF0ZSA9IG5ldyBEYXRlKHRpbWVUb0Rpc3BsYXkpO1xyXG5cclxuICAgICAgICBsZXQgdG9kYXlzRGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgIGxldCB0aW1lOiBzdHJpbmcgPSBsb2NhbGVoZWxwZXIudG9Mb2NhbGVUaW1lU3RyaW5nKG5ldyBEYXRlKHRpbWVUb0Rpc3BsYXkudG9TdHJpbmcoKSkpO1xyXG5cclxuICAgICAgICAvLyBjYWxsIHNldEhvdXJzIHRvIHRha2UgdGhlIHRpbWUgb3V0IG9mIHRoZSBjb21wYXJpc29uXHJcbiAgICAgICAgaWYgKCh0aW1lVG9EaXNwbGF5RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKSA9PT0gdG9kYXlzRGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKSkgJiYgdG9kYXlUZXh0Q29udmVyc2lvblJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIC8vIERhdGUgZXF1YWxzIHRvZGF5J3MgZGF0ZS4gRGlzcGxheSBkYXRlIGZlaWxkIGFzIFRvZGF5LlxyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLm1lc3NhZ2UtbGlzdHMubWVzc2FnZS1kZXRhaWwuZGF0ZS10b2RheScpICsgJyAnICsgdGltZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlaGVscGVyLnRvTG9jYWxlRGF0ZVN0cmluZyhuZXcgRGF0ZSh0aW1lVG9EaXNwbGF5KSkgKyAnICcgKyB0aW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgRGlzcGxheSBIZWFkZXIgZm9yIHRoZSBHcm91cCBIZWFkZXIuXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldERpc3BsYXlUZXh0KG1lc3NhZ2U6IE1lc3NhZ2UpIHtcclxuICAgICAgICBsZXQgbXNnID0gbWVzc2FnZXN0b3JlLmluc3RhbmNlLm1lc3NhZ2VzTWFya1NjaGVtZXM7XHJcbiAgICAgICAgaWYgKG1zZykge1xyXG4gICAgICAgICAgICBsZXQgbWVzc2FnZUxpc3QgPSBtc2cuZmlsdGVyKChtZXNzYWdlczogTWVzc2FnaW5nTWFya1NjaGVtZSkgPT4gbWVzc2FnZXMubWFya1NjaGVtZUdyb3VwSWQgPT09IG1lc3NhZ2UubWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nRm9ybWF0SGVscGVyLmZvcm1hdEF3YXJkaW5nQm9keVFJRyhcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTGlzdC5maXJzdCgpLm1hcmtTY2hlbWVHcm91cE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUxpc3QuZmlyc3QoKS5hc3Nlc3NtZW50Q29kZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTGlzdC5maXJzdCgpLnNlc3Npb25OYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VMaXN0LmZpcnN0KCkuY29tcG9uZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUxpc3QuZmlyc3QoKS5xdWVzdGlvblBhcGVyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTGlzdC5maXJzdCgpLmFzc2Vzc21lbnROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VMaXN0LmZpcnN0KCkuY29tcG9uZW50TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmdGb3JtYXRIZWxwZXIuZ2V0T3ZlcnZpZXdRSUdOYW1lRm9ybWF0KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBNYXJrIFNjaGVtZSBHcm91cCBOYW1lXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE1hcmtTY2hlbWVHcm91cE5hbWUobWVzc2FnZTogTWVzc2FnZSk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IG1zZyA9IG1lc3NhZ2VzdG9yZS5pbnN0YW5jZS5tZXNzYWdlc01hcmtTY2hlbWVzO1xyXG4gICAgICAgIGlmIChtc2cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1zZy5maWx0ZXIoKG1lc3NhZ2VzOiBNZXNzYWdpbmdNYXJrU2NoZW1lKSA9PiBtZXNzYWdlcy5tYXJrU2NoZW1lR3JvdXBJZCA9PT0gbWVzc2FnZS5tYXJrU2NoZW1lR3JvdXBJZCkuXHJcbiAgICAgICAgICAgICAgICBmaXJzdCgpLm1hcmtTY2hlbWVHcm91cE5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlZCB0byBjcmVhdGUgdGhlIE1lc3NhZ2VPckV4Y2VwdGlvbkxpbmtlZEl0ZW1zIGJhc2VkIG9uIHRoZSBtZXNzYWdlc1xyXG4gICAgICogQHBhcmFtIG1lc3NhZ2VzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TWVzc2FnZUxpbmtlZEl0ZW1zKG1lc3NhZ2VzOiBJbW11dGFibGUuTGlzdDxNZXNzYWdlPik6IEltbXV0YWJsZS5MaXN0PE1lc3NhZ2VPckV4Y2VwdGlvbkxpbmtlZEl0ZW0+IHtcclxuICAgICAgICBsZXQgbWVzc2FnZU9yRXhjZXB0aW9uTGlua2VkSXRlbXM6IE1lc3NhZ2VPckV4Y2VwdGlvbkxpbmtlZEl0ZW1bXSA9IFtdO1xyXG4gICAgICAgIGxldCBpdGVtcyA9IG1lc3NhZ2VzLmZvckVhY2goKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgbWVzc2FnZU9yRXhjZXB0aW9uTGlua2VkSXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBpdGVtSWQ6IG1lc3NhZ2UuZXhhbWluZXJNZXNzYWdlSWQsXHJcbiAgICAgICAgICAgICAgICBzZW5kZXJPckl0ZW06IG1lc3NhZ2UudG9UZWFtID9cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLnJlY2lwaWVudC1zZWxlY3Rvci5lbnRpcmUtdGVhbScpIDpcclxuICAgICAgICAgICAgICAgICAgICBNZXNzYWdlSGVscGVyLmFwcGVuZEV4YW1pbmVyKG1lc3NhZ2UpLFxyXG4gICAgICAgICAgICAgICAgcHJpb3JpdHlPclN0YXR1czogbWVzc2FnZS5wcmlvcml0eU5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdWJqZWN0T3JUeXBlOiBtZXNzYWdlLnN1YmplY3QsXHJcbiAgICAgICAgICAgICAgICB0aW1lVG9EaXNwbGF5OiBtZXNzYWdlLmRpc3BsYXlEYXRlLFxyXG4gICAgICAgICAgICAgICAgaXNVbnJlYWRPclVuYWN0aW9uZWQ6IG1lc3NhZ2Uuc3RhdHVzID09PSBlbnVtcy5NZXNzYWdlUmVhZFN0YXR1cy5OZXcgJiZcclxuICAgICAgICAgICAgICAgICFtZXNzYWdlc3RvcmUuaW5zdGFuY2UuaXNNZXNzYWdlUmVhZChtZXNzYWdlLmV4YW1pbmVyTWVzc2FnZUlkKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIEltbXV0YWJsZS5MaXN0KG1lc3NhZ2VPckV4Y2VwdGlvbkxpbmtlZEl0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGFwcGVuZCBleGFtaW5lcnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXBwZW5kRXhhbWluZXIobWVzc2FnZTogTWVzc2FnZSk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIGxldCBleGFtaW5lcnM6IHN0cmluZyA9ICcnO1xyXG5cclxuICAgICAgICBpZiAobWVzc2FnZSAmJiBtZXNzYWdlLnRvRXhhbWluZXJEZXRhaWxzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbWVzc2FnZS50b0V4YW1pbmVyRGV0YWlscy5tYXAoKGl0ZW06IEV4YW1pbmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBleGFtaW5lcnMgKz0gaXRlbS5mdWxsTmFtZSArICc7JztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyByZW1vdmluZyBsYXN0IGl0ZW0gc2VtaWNvbG9uXHJcbiAgICAgICAgICAgIHJldHVybiBleGFtaW5lcnMucmVwbGFjZSgvOyQvLCAnJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXhhbWluZXJzID0gbWVzc2FnZS5leGFtaW5lckRldGFpbHMuZnVsbE5hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZXhhbWluZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm5zIHRoZSBtZXNzYWdlIGNvbnRlbnQgYmFzZWQgb24gdGhlIHRlbXBsYXRlIG5hbWVcclxuICAgICAqIEBwYXJhbSB0ZW1wbGF0ZU5hbWUgLSB0ZW1wbGF0ZSBuYW1lXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZUJvZHkgLSBtZXNzYWdlIGNvbnRlbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRNZXNzYWdlQ29udGVudCh0ZW1wbGF0ZU5hbWU6IGVudW1zLk1lc3NhZ2VUeXBlLCBtZXNzYWdlRnJvbT86IHN0cmluZywgZGF0ZT86IHN0cmluZywgbWVzc2FnZUJvZHk/OiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGU6IHN0cmluZztcclxuICAgICAgICBzd2l0Y2ggKHRlbXBsYXRlTmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94UmVwbHk6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VSZXBseTpcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gc3RyaW5nSGVscGVyLmZvcm1hdChsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLm5ldy1tZXNzYWdlLXRlbXBsYXRlcy5yZXBseScpLFxyXG4gICAgICAgICAgICAgICAgICAgIFttZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05ULCBtZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05UU0laRSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERhdGVUb0Rpc3BsYXkoZGF0ZSwgZmFsc2UpLCBtZXNzYWdlRnJvbSwgbWVzc2FnZUJvZHldKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Rm9yd2FyZDpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZUZvcndhcmQ6XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IHN0cmluZ0hlbHBlci5mb3JtYXQobG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5uZXctbWVzc2FnZS10ZW1wbGF0ZXMuZm9yd2FyZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIFttZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05ULCBtZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05UU0laRSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERhdGVUb0Rpc3BsYXkoZGF0ZSwgZmFsc2UpLCBtZXNzYWdlRnJvbSwgbWVzc2FnZUJvZHldKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLlJlc3BvbnNlQ29tcG9zZTpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5Xb3JrbGlzdENvbXBvc2U6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hDb21wb3NlOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLlRlYW1Db21wb3NlOlxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUgPSBzdHJpbmdIZWxwZXIuZm9ybWF0KGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UubmV3LW1lc3NhZ2UtdGVtcGxhdGVzLm5ldycpLFxyXG4gICAgICAgICAgICAgICAgICAgIFttZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05ULCBtZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05UU0laRV0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIE1lbnUgQWN0aW9uIGl0ZW1zIG5lZWRlZCBiYXNlZCBvbiB0aGUgZm9sZGVyIHR5cGVcclxuICAgICAqIEBwYXJhbSBmb2xkZXJUeXBlXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZUFjdGlvbnM6IGFuIGFycmF5IG9mIG1lc3NhZ2UgYWN0aW9uc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE1lc3NhZ2VNZW51QWN0aW9uSXRlbXMoZm9sZGVyVHlwZTogZW51bXMuTWVzc2FnZUZvbGRlclR5cGUsIG1lc3NhZ2VBY3Rpb25zOiBBcnJheTxlbnVtcy5NZXNzYWdlQWN0aW9uPikge1xyXG4gICAgICAgIGxldCBtZXNzYWdlTWVudUFjdGlvbkl0ZW1zOiBBcnJheTxhbnk+ID0gW107XHJcbiAgICAgICAgc3dpdGNoIChmb2xkZXJUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZUZvbGRlclR5cGUuSW5ib3g6XHJcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZUFjdGlvbnMgJiYgbWVzc2FnZUFjdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VBY3Rpb25zLm1hcCgoeDogZW51bXMuTWVzc2FnZUFjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aW9uSXRlbXMgPSB0aGlzLm1lc3NhZ2VBY3Rpb25JdGVtcyh4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbkl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTWVudUFjdGlvbkl0ZW1zLnB1c2goYWN0aW9uSXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXNzYWdlTWVudUFjdGlvbkl0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIGxvY2FsaXNlZCBtZXNzYWdlIHN0cmluZyBiYXNlZCBvbiBtZXNzYWdlIHR5cGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRNZXNzYWdlSGVhZGVyKG1lc3NhZ2VUeXBlOiBlbnVtcy5NZXNzYWdlVHlwZSkge1xyXG4gICAgICAgIGxldCBtZXNzYWdlSGVhZGVyOiBzdHJpbmc7XHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Q29tcG9zZTpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5Xb3JrbGlzdENvbXBvc2U6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VDb21wb3NlOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLlRlYW1Db21wb3NlOlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlciA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UubmV3LW1lc3NhZ2UtaGVhZGVyJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveEZvcndhcmQ6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VGb3J3YXJkOlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlciA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UuZm9yd2FyZC1oZWFkZXInKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94UmVwbHk6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VSZXBseTpcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXIgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLnJlcGx5LWhlYWRlcicpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VEZXRhaWxzOlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlciA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcucmVzcG9uc2UubWVzc2FnZS1wYW5lbC5oZWFkZXInKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbWVzc2FnZUhlYWRlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJucyB0aGUgc3ViamVjdCBzdHJpbmdcclxuICAgICAqIEBwYXJhbSBtZXNzYWdlVHlwZVxyXG4gICAgICogQHBhcmFtIHN1YmplY3RcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRTdWJqZWN0Q29udGVudChtZXNzYWdlVHlwZTogZW51bXMuTWVzc2FnZVR5cGUsIHN1YmplY3Q6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBzdWJqZWN0VGV4dDogc3RyaW5nO1xyXG4gICAgICAgIGxldCBzdWJqZWN0UHJlZml4OiBzdHJpbmc7XHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Q29tcG9zZTpcclxuICAgICAgICAgICAgICAgIHN1YmplY3RUZXh0ID0gc3ViamVjdDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Rm9yd2FyZDpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZUZvcndhcmQ6XHJcbiAgICAgICAgICAgICAgICBzdWJqZWN0UHJlZml4ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5mb3J3YXJkLXByZWZpeCcpO1xyXG4gICAgICAgICAgICAgICAgc3ViamVjdFRleHQgPSBzdWJqZWN0LmluZGV4T2Yoc3ViamVjdFByZWZpeCkgPT09IC0xID8gc3ViamVjdFByZWZpeCArICcgJyArIHN1YmplY3QgOiBzdWJqZWN0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hSZXBseTpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZVJlcGx5OlxyXG4gICAgICAgICAgICAgICAgc3ViamVjdFByZWZpeCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UucmVwbHktcHJlZml4Jyk7XHJcbiAgICAgICAgICAgICAgICBzdWJqZWN0VGV4dCA9IHN1YmplY3QuaW5kZXhPZihzdWJqZWN0UHJlZml4KSA9PT0gLTEgPyBzdWJqZWN0UHJlZml4ICsgJyAnICsgc3ViamVjdCA6IHN1YmplY3Q7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdWJqZWN0VGV4dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgQ3JlYXRlIG5ldyB0ZXh0IGZvciB0aGUgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBnZXRDcmVhdGVOZXdNZXNzYWdlVGV4dCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLnJlc3BvbnNlLm1lc3NhZ2UtbGlzdC1wYW5lbC5jcmVhdGUtbmV3LW1lc3NhZ2UnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBNZW51IEFjdGlvbiBpdGVtIGJhc2VkIG9uIHRoZSBhY3Rpb24gcGFyYW1ldGVyXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZUFjdGlvblxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIG1lc3NhZ2VBY3Rpb25JdGVtcyhtZXNzYWdlQWN0aW9uOiBlbnVtcy5NZXNzYWdlQWN0aW9uKSB7XHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlQWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZUFjdGlvbi5SZXBseTpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBlbnVtcy5NZXNzYWdlQWN0aW9uLlJlcGx5LFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdyZXBseS1pY29uJyxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcubWVzc2FnZS1saXN0cy5tZXNzYWdlLWRldGFpbC5yZXBseS1idXR0b24nKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZUFjdGlvbi5Gb3J3YXJkOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzRm9yd2FyZEJ1dHRvbkhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZW51bXMuTWVzc2FnZUFjdGlvbi5Gb3J3YXJkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZm9yd2FyZC1pY29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLm1lc3NhZ2UtbGlzdHMubWVzc2FnZS1kZXRhaWwuZm9yd2FyZC1idXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZUFjdGlvbi5EZWxldGU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogZW51bXMuTWVzc2FnZUFjdGlvbi5EZWxldGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2RlbGV0ZS1pY29uLXNtYWxsJyxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcubWVzc2FnZS1saXN0cy5tZXNzYWdlLWRldGFpbC5kZWxldGUtYnV0dG9uJylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBzZWxlY3RlZCBpdGVtIGZvciBwcmlvcml0eSBkcm9wZG93biBiYXNlZCBvbiBwcmlvcml0eSBuYW1lXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0UHJpb3JpdHlEcm9wRG93blNlbGVjdGVkSXRlbSA9IChwcmlvcml0eU5hbWU6IHN0cmluZyk6IGVudW1zLk1lc3NhZ2VQcmlvcml0eSA9PiB7XHJcbiAgICAgICAgaWYgKHByaW9yaXR5TmFtZSA9PT0gZW51bXMuZ2V0RW51bVN0cmluZyhlbnVtcy5NZXNzYWdlUHJpb3JpdHksIGVudW1zLk1lc3NhZ2VQcmlvcml0eS5TdGFuZGFyZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVudW1zLk1lc3NhZ2VQcmlvcml0eS5TdGFuZGFyZDtcclxuICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5TmFtZSA9PT0gZW51bXMuZ2V0RW51bVN0cmluZyhlbnVtcy5NZXNzYWdlUHJpb3JpdHksIGVudW1zLk1lc3NhZ2VQcmlvcml0eS5JbXBvcnRhbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbnVtcy5NZXNzYWdlUHJpb3JpdHkuSW1wb3J0YW50O1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHlOYW1lID09PSBlbnVtcy5nZXRFbnVtU3RyaW5nKGVudW1zLk1lc3NhZ2VQcmlvcml0eSwgZW51bXMuTWVzc2FnZVByaW9yaXR5Lk1hbmRhdG9yeSkpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiByZXBseWluZyBhbmQgZm9yd2FyZGluZyBhICBtYW5kYXRvcnkgbWVzc2FnZSxwcmlvcml0eSBuZWVkIHRvIGJlIHJlc2V0IHRvIHN0YW5kYXJkLlxyXG4gICAgICAgICAgICByZXR1cm4gZW51bXMuTWVzc2FnZVByaW9yaXR5LlN0YW5kYXJkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBuYXZpZ2F0ZSB0byBkZWZhdWx0IG9wdGlvbnMgZm9yIGRpZmZlcmVudCBtZXNzYWdlIHR5cGVzLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE5hdmlnYXRlQXdheVR5cGUgPSAobWVzc2FnZVR5cGU6IGVudW1zLk1lc3NhZ2VUeXBlKTogZW51bXMuU2F2ZUFuZE5hdmlnYXRlID0+IHtcclxuICAgICAgICBsZXQgbmF2aWdhdGVUbzogZW51bXMuU2F2ZUFuZE5hdmlnYXRlID0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm5vbmU7XHJcblxyXG4gICAgICAgIHN3aXRjaCAobWVzc2FnZVR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZVJlcGx5OlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLlJlc3BvbnNlRm9yd2FyZDpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZUNvbXBvc2U6XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvID0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvTmV3UmVzcG9uc2VNZXNzYWdlQ29tcG9zZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRlVG87XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGZvY3VzIG5lZWRzIHRvIGJlIHNldCBpbiB0aW55bWNlIGVkaXRvciBlbHNlIHJldHVybiBmYWxzZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGhhc0ZvY3VzID0gKG1lc3NhZ2VUeXBlOiBlbnVtcy5NZXNzYWdlVHlwZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiAobWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Rm9yd2FyZCB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hSZXBseVxyXG4gICAgICAgICAgICB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VSZXBseSB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VGb3J3YXJkKTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGRJbml0TW91c2VDbGlja0V2ZW50U2NyaXB0QmxvY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBjbG9zZSBvcGVuZWQgcHJpb3JpdHkgZHJvcCBkb3duIGFuZCB1c2VyIG9wdGlvbnMgKGxvZ291dCBvcHRpb25zKSB3aGlsZSBjbGlja2luZyBvbiBvdXRzaWRlIHRoYXQuIGlmcmFtZSB3YXNcclxuICAgICAgICAvLyBwcmV2ZW50aW5nIHRoZSBjbGljayBldmVudCB0byBwcm9wYWdhdGUgb3V0c2lkZSBzbyBjbG9zaW5nIG9mIHRob3NlIHRoaW5ncyBhcmUgbm90IGhhcHBlbmluZyB3aGlsZSBjbGlja2luZyBvbiBpZnJhbWUuXHJcbiAgICAgICAgLy8gZHluYW1pY2FsbHkgYWRkIHNjcmlwdCB0byBjcmVhdGUgbW91c2UgZXZlbnRcclxuICAgICAgICBsZXQgc2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbml0X21vdXNlX2NsaWNrX2V2ZW50X3NjcmlwdF9ibG9jaycpO1xyXG4gICAgICAgIGxldCBpc1NjcmlwdEVsZW1lbnRQcmVzZW50OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHNjcmlwdEVsZW1lbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpc1NjcmlwdEVsZW1lbnRQcmVzZW50ID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzY3JpcHRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgICAgICAgIHNjcmlwdEVsZW1lbnQuaWQgPSAnaW5pdF9tb3VzZV9jbGlja19ldmVudF9zY3JpcHRfYmxvY2snO1xyXG4gICAgICAgICAgICBzY3JpcHRFbGVtZW50LmlubmVyVGV4dCA9XHJcbiAgICAgICAgICAgICAgICAnZnVuY3Rpb24gaW5pdE1vdXNlQ2xpY2tFdmVudCgpIHsnICtcclxuICAgICAgICAgICAgICAgICdsZXQgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcXCdNb3VzZUV2ZW50c1xcJyk7JyArXHJcbiAgICAgICAgICAgICAgICAnZXZlbnQuaW5pdE1vdXNlRXZlbnQoXFwnY2xpY2tcXCcsIHRydWUsIHRydWUsIHdpbmRvdywgMCwgMCwgMCwgODAsIDIwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7JyArXHJcbiAgICAgICAgICAgICAgICAnd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpOyB9JztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1NjcmlwdEVsZW1lbnRQcmVzZW50KSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlbW92ZUluaXRNb3VzZUNsaWNrRXZlbnRTY3JpcHRCbG9jayA9ICgpID0+IHtcclxuICAgICAgICBsZXQgc2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbml0X21vdXNlX2NsaWNrX2V2ZW50X3NjcmlwdF9ibG9jaycpO1xyXG4gICAgICAgIGlmIChodG1sVXRpbGl0aWVzLmdldFVzZXJEZXZpY2UoKS5icm93c2VyICE9PSAnSUUnKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2NyaXB0RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldFBhc3RlRW5hYmxlZEFjdGlvbiA9IChpc1Bhc3RlRW5hYmxlZDogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIE1lc3NhZ2VIZWxwZXIuX2lzUGFzdGVFbmFibGVkID0gaXNQYXN0ZUVuYWJsZWQ7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgdXBkYXRlIHRoZSBJRnJhbWUgY29udGVudCB3aXRoIG1lc3NhZ2UgZGV0YWlsc1xyXG4gICAgICogQHBhcmFtIG9cclxuICAgICAqIEBwYXJhbSBlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkSUZyYW1lRm9yTWVzc2FnZURldGFpbHMobzogYW55LCBlOiBhbnkpIHtcclxuICAgICAgICBsZXQgdGltZW91dDogbnVtYmVyID0gMDtcclxuICAgICAgICAvLyBhZGQgc2NyaXB0IHRvIGluaXQgbW91c2UgY2xpY2sgZXZlbnQgaW4gcGFyZW50IHdpbmRvdyBmb3IgYW55ICdjbGljaycgaW4gY3VycmVudCB3aW5kb3dcclxuICAgICAgICBsZXQgc2NyaXB0QmxvY2sgPSAnd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFwnY2xpY2tcXCcsIGZ1bmN0aW9uKCkgeyBwYXJlbnQuaW5pdE1vdXNlQ2xpY2tFdmVudCgpOyB9KTsnO1xyXG5cclxuICAgICAgICBsZXQgaGVhZFRhZ0NvbnRlbnQgPSAnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPiBwLGJvZHl7bWFyZ2luOjA7cGFkZGluZzowO308L3N0eWxlPic7XHJcblxyXG4gICAgICAgIGlmIChodG1sVXRpbGl0aWVzLmlzSVBhZERldmljZSAmJiBodG1sVXRpbGl0aWVzLmdldFVzZXJEZXZpY2UoKS5icm93c2VyID09PSAnU2FmYXJpJykge1xyXG4gICAgICAgICAgICAvL2luY2x1ZGUgc2NyaXB0IHRvIGJsb2NrIGRvdWJsZSB0YXAgYW5kIHBpbmNoIHpvb20gaW4gaVBhZCBzYWZhcmlcclxuICAgICAgICAgICAgc2NyaXB0QmxvY2sgKz1cclxuICAgICAgICAgICAgICAgICd3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcXCd0b3VjaGVuZFxcJywgYmxvY2tEb3VibGVUYXBab29tKTsnICtcclxuICAgICAgICAgICAgICAgICd3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcXCd0b3VjaHN0YXJ0XFwnLCBibG9ja1BpbmNoVG9ab29tKTsnICtcclxuICAgICAgICAgICAgICAgIC8vYmxvY2sgZG91YmxlIHRhcCB6b29tXHJcbiAgICAgICAgICAgICAgICAnbGV0IGxhc3RUYXAgPSAwOycgK1xyXG4gICAgICAgICAgICAgICAgJ2Z1bmN0aW9uIGJsb2NrRG91YmxlVGFwWm9vbSAoIGUgKSB7JyArXHJcbiAgICAgICAgICAgICAgICAnbGV0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7JyArXHJcbiAgICAgICAgICAgICAgICAnbGV0IHRhcExlbmd0aCA9IGN1cnJlbnRUaW1lIC0gbGFzdFRhcDsnICtcclxuICAgICAgICAgICAgICAgICdpZiAodGFwTGVuZ3RoIDwgNTAwICYmIHRhcExlbmd0aCA+IDApIHsnICtcclxuICAgICAgICAgICAgICAgICdlLnByZXZlbnREZWZhdWx0KCk7fScgK1xyXG4gICAgICAgICAgICAgICAgJ2xhc3RUYXAgPSBjdXJyZW50VGltZTsnICtcclxuICAgICAgICAgICAgICAgIC8vaW5pdCBtb3VzZSBjbGljayBldmVudFxyXG4gICAgICAgICAgICAgICAgJ3BhcmVudC5pbml0TW91c2VDbGlja0V2ZW50KCk7IH0nICtcclxuICAgICAgICAgICAgICAgIC8vYmxvY2sgcGluY2ggem9vbVxyXG4gICAgICAgICAgICAgICAgJ2Z1bmN0aW9uIGJsb2NrUGluY2hUb1pvb20gKCBlICkgeycgK1xyXG4gICAgICAgICAgICAgICAgJ2lmIChlLnRvdWNoZXMubGVuZ3RoID4gMSkgeycgK1xyXG4gICAgICAgICAgICAgICAgJ2UucHJldmVudERlZmF1bHQoKTt9JyArXHJcbiAgICAgICAgICAgICAgICAnfSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9pbmNsdXNlIHNjcmlwdCB0byBpbml0IG1vdXNlIGNsaWNrIGV2ZW50IGluIHBhcmVudCB3aW5kb3cgZm9yIGFueSAndG91Y2gnIGluIGN1cnJlbnQgd2luZG93XHJcbiAgICAgICAgICAgIHNjcmlwdEJsb2NrICs9XHJcbiAgICAgICAgICAgICAgICAnd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFwndG91Y2hlbmRcXCcsIGZ1bmN0aW9uKCkgeyBwYXJlbnQuaW5pdE1vdXNlQ2xpY2tFdmVudCgpOyB9KTsnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGNvbnRlbnQ6IHN0cmluZyA9IGUuZ2V0Q29udGVudCgpLnRyaW0oKSArXHJcbiAgICAgICAgICAgICc8c2NyaXB0PicgKyBzY3JpcHRCbG9jayArICc8L3NjcmlwdCA+JztcclxuICAgICAgICAvLyBwdXQgYSB0aW1lb3V0IG9mIDAsIG90aGVyd2lzZSBtZXNzYWdlIGRldGFpbHMgYXJlIG5vdCByZW5kZXJpbmcgb24gZmlyc3QgbWVzc2FnZSBpdGVtIGNsaWNrXHJcbiAgICAgICAgaWYgKCFodG1sVXRpbGl0aWVzLmlzVGFibGV0T3JNb2JpbGVEZXZpY2UgJiYgaHRtbFV0aWxpdGllcy5nZXRVc2VyRGV2aWNlKCkuYnJvd3NlciA9PT0gJ0ZpcmVmb3gnKSB7XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSA1MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICQoJyNtc2ctaWZyYW1lX2lmcicpLmNvbnRlbnRzKCkuZmluZCgnaGVhZCcpLmh0bWwoaGVhZFRhZ0NvbnRlbnQpO1xyXG4gICAgICAgICAgICAkKCcjbXNnLWlmcmFtZV9pZnInKS5jb250ZW50cygpLmZpbmQoJ2JvZHknKS5odG1sKGNvbnRlbnQpO1xyXG4gICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHdoaWNoIGdldHMgdGhlIHNlbGVjdGVkIFFJRydzIG5hbWUgYmFzZWQgb24gdGhlIEF3YXJkaW5nIEJvZHkgc3BlY2lmaWMgUUlHIE5hbWluZyBmb3JtYXRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRDdXJyZW50UUlHTmFtZSA9ICgpID0+IHtcclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBoZWxwZXIgbWV0aG9kIHRvIGZvcm1hdCB0aGUgUUlHIE5hbWVcclxuICAgICAgICBpZiAocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRRaWcgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbjtcclxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ0Zvcm1hdEhlbHBlci5mb3JtYXRBd2FyZGluZ0JvZHlRSUcoXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFFpZy5tYXJrU2NoZW1lR3JvdXBOYW1lLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRRaWcuYXNzZXNzbWVudENvZGUsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFFpZy5zZXNzaW9uTmFtZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUWlnLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRRaWcucXVlc3Rpb25QYXBlck5hbWUsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFFpZy5hc3Nlc3NtZW50TmFtZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUWlnLmNvbXBvbmVudE5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdHJpbmdGb3JtYXRIZWxwZXIuZ2V0T3ZlcnZpZXdRSUdOYW1lRm9ybWF0KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBhIFFJRyBpcyBub3Qgc2VsZWN0ZWQsIHJldHVybiB0aGUgZGVmYXVsdCB0ZXh0IHRvIGJlIHNob3duIG9uIHRoZSBkcm9wIGRvd25cclxuICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5wbGVhc2Utc2VsZWN0LXFpZy1wbGFjZWhvbGRlcicpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWVzc2FnZSBwYW5lbCBpcyBlZGl0ZWQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNNZXNzYWdlUGFuZWxFZGl0ZWQobWVzc2FnZVR5cGU6IGVudW1zLk1lc3NhZ2VUeXBlLCBtZXNzYWdlVG9GaWVsZFZhbHVlczogQXJyYXk8c3RyaW5nPixcclxuICAgICAgICBtZXNzYWdlVG9GaWVsZElkczogQXJyYXk8bnVtYmVyPikge1xyXG4gICAgICAgIGlmIChtZXNzYWdlc3RvcmUuaW5zdGFuY2UuaXNNZXNzYWdlUGFuZWxBY3RpdmUpIHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRBY3RpdmVFZGl0b3JJZCA9IHRpbnltY2UuYWN0aXZlRWRpdG9yLmlkO1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlRWRpdG9yID0gdGlueW1jZS5nZXQoTWVzc2FnZUhlbHBlci5tZXNzYWdlRWRpdG9ySWQpO1xyXG4gICAgICAgICAgICBpZiAobWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Q29tcG9zZSB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hGb3J3YXJkIHx8XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hSZXBseSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1lc3NhZ2VIZWxwZXIubWVzc2FnZVN1YmplY3QgJiYgTWVzc2FnZUhlbHBlci5tZXNzYWdlU3ViamVjdC50cmltKCkubGVuZ3RoID4gMCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVkaXRvci5nZXRDb250ZW50KHsgZm9ybWF0OiAndGV4dCcgfSkudHJpbSgpLmxlbmd0aCA+IDAgfHxcclxuICAgICAgICAgICAgICAgICAgICAoKG1lc3NhZ2VUb0ZpZWxkVmFsdWVzICYmIG1lc3NhZ2VUb0ZpZWxkVmFsdWVzLmxlbmd0aCA+IDApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChtZXNzYWdlVG9GaWVsZElkcyAmJiBtZXNzYWdlVG9GaWVsZElkcy5sZW5ndGggPiAwKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLlJlc3BvbnNlQ29tcG9zZVxyXG4gICAgICAgICAgICAgICAgfHwgbWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLldvcmtsaXN0Q29tcG9zZSB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VSZXBseVxyXG4gICAgICAgICAgICAgICAgfHwgbWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLlJlc3BvbnNlRm9yd2FyZCB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuVGVhbUNvbXBvc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNZXNzYWdlSGVscGVyLm1lc3NhZ2VTdWJqZWN0ICYmIE1lc3NhZ2VIZWxwZXIubWVzc2FnZVN1YmplY3QudHJpbSgpLmxlbmd0aCA+IDAgfHxcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVFZGl0b3IuZ2V0Q29udGVudCh7IGZvcm1hdDogJ3RleHQnIH0pLnRyaW0oKS5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyBjaGFuZ2VzIGluIHRoZSBtZXNzYWdlIHBhbmVsIHN1YmplY3Qgc2VjdGlvbi5cclxuICAgICAqIEBwYXJhbSBlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgaGFuZGxlU3ViamVjdENoYW5nZSA9IChzdWJqZWN0OiBzdHJpbmcpID0+IHtcclxuICAgICAgICBNZXNzYWdlSGVscGVyLm1lc3NhZ2VTdWJqZWN0ID0gc3ViamVjdDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCByZXZhbXBzIHRoZSBtYXJraW5nIG1vZGUgbmFtaW5nIGZvciBkaXNwbGF5IGluIG1lc3NhZ2VcclxuICAgICAqIEBwYXJhbSBtYXJraW5nTW9kZVxyXG4gICAgICogQHBhcmFtIGlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRNYXJraW5nTW9kZVRleHQobWFya2luZ01vZGU6IG51bWJlciwgaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlcjogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKG1hcmtpbmdNb2RlID09PSBlbnVtcy5NYXJraW5nTW9kZS5FU19UZWFtQXBwcm92YWwpIHtcclxuICAgICAgICAgICAgaWYgKGlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zdG0tc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlLXRpdGxlJykpICsgJyAnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zZWNvbmQtc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlLXRpdGxlJykpICsgJyAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAobWFya2luZ01vZGUgPT09IGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5wcmFjdGljZS1yZXNwb25zZS10aXRsZScpKSArICcgJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXJraW5nTW9kZSA9PT0gZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuICgobG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnN0YW5kYXJkaXNhdGlvbi1yZXNwb25zZS10aXRsZScpKSArICcgJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXJraW5nTW9kZSA9PT0gZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnNlY29uZC1zdGFuZGFyZGlzYXRpb24tcmVzcG9uc2UtdGl0bGUnKSkgKyAnICcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IE1lc3NhZ2VIZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvbWVzc2FnZS9tZXNzYWdlaGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBd2hCQTtBQWhoQkE7OztBQUdBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1QkE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXJoQkE7QUFFQTtBQTRVQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXFEQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQXlCQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUEyQkE7QUFBQTtBQUVBOztBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 292:
/* no static exports found */
/* all exports used */
/*!***************************************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetuphelpers/standardisationsetuphelperbase.ts ***!
  \***************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar localeStore = __webpack_require__(/*! ../../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar GenericComponentWrapper = __webpack_require__(/*! ../genericcomponentwrapper */ 365);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar ColumnHeader = __webpack_require__(/*! ../../../worklist/shared/columnheader */ 329);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar jsonRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar GenericTextColumn = __webpack_require__(/*! ../../../worklist/shared/generictextcolumn */ 387);\r\nvar comparerList = __webpack_require__(/*! ../../../../utility/sorting/sortbase/comparerlist */ 262);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../markeroperationmode/markeroperationmodefactory */ 232);\r\nvar immutable = __webpack_require__(/*! immutable */ 40);\r\nvar standardisationSetupGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/standardisationsetupgridcolumns.json */ 273);\r\nvar blueBannerMessage = __webpack_require__(/*! ../../../standardisationsetup/shared/bluebanner */ 401);\r\nvar totalMark = __webpack_require__(/*! ../../../worklist/shared/totalmarkdetail */ 391);\r\nvar TagList = __webpack_require__(/*! ../../../response/responsescreen/taglist */ 313);\r\nvar stdResponseId = __webpack_require__(/*! ../../../standardisationsetup/shared/standardisationresponseid */ 406);\r\nvar LinkedMessageIndicator = __webpack_require__(/*! ../../../worklist/shared/linkedmessageindicator */ 389);\r\nvar LastUpdatedColumn = __webpack_require__(/*! ../../../worklist/shared/lastupdatedcolumn */ 388);\r\nvar scriptidgridelement = __webpack_require__(/*! ../../../standardisationsetup/shared/scriptidgridelement */ 403);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar ecourseWorkHelper = __webpack_require__(/*! ../../ecoursework/ecourseworkhelper */ 238);\r\nvar RigOrder = __webpack_require__(/*! ../../../standardisationsetup/shared/rigorder */ 402);\r\nvar tagStore = __webpack_require__(/*! ../../../../stores/tags/tagstore */ 331);\r\nvar slaoAnnotationIndicator = __webpack_require__(/*! ../../../worklist/shared/slaoannotationindicator */ 371);\r\nvar MarkingProgress = __webpack_require__(/*! ../../../worklist/shared/markingprogress */ 369);\r\nvar marksColumn = __webpack_require__(/*! ../../../worklist/shared/markscolumn */ 415);\r\nvar allPageAnnotationIndicator = __webpack_require__(/*! ../../../worklist/shared/allpageannotationindicator */ 368);\r\nvar allFilesNotViewedIndicator = __webpack_require__(/*! ../../../worklist/shared/allfilesnotviewedindicator */ 386);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../ecoursework/ecourseworkhelper */ 238);\r\nvar submitHelper = __webpack_require__(/*! ../../submit/submithelper */ 282);\r\nvar DeclassifyButton = __webpack_require__(/*! ../../../standardisationsetup/declassifybutton */ 400);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\nvar stringFormatHelper = __webpack_require__(/*! ../../../../utility/stringformat/stringformathelper */ 250);\r\nvar genericDate = __webpack_require__(/*! ../../../worklist/shared/genericdate */ 315);\r\nvar xmlHelper = __webpack_require__(/*! ../../../../utility/generic/xmlhelper */ 379);\r\nvar sortHelper = __webpack_require__(/*! ../../../../utility/sorting/sorthelper */ 272);\r\nvar sharedResponseIndicatorElement = __webpack_require__(/*! ../../../standardisationsetup/shared/sharedresponseindicator */ 405);\r\n/**\r\n * class for WorkList Helper implementation\r\n */\r\nvar StandardisationSetupHelperBase = /** @class */ (function () {\r\n    function StandardisationSetupHelperBase() {\r\n        var _this = this;\r\n        this._dateLengthInPixel = 0;\r\n        this._isNonNumeric = false;\r\n        /**\r\n         * returns the blue banner element\r\n         * @param selectedWorkList\r\n         * @param targetCount\r\n         * @param isESTeamMember\r\n         * @param selectedSession\r\n         */\r\n        this.getBlueBannerForTargets = function (selectedWorkList, targetCount, isESTeamMember, selectedSession) {\r\n            var componentProps;\r\n            componentProps = {\r\n                key: selectedWorkList + '_blueBanner',\r\n                blueBannerMessageKey: _this.getRightContainerBlueBannerKey(selectedWorkList, targetCount, isESTeamMember, selectedSession)\r\n            };\r\n            return React.createElement(blueBannerMessage, componentProps);\r\n        };\r\n        /**\r\n         * returns the blue banner message key for resource file\r\n         * @param selectedWorkList\r\n         * @param targetCount\r\n         * @param isESTeamMember\r\n         * @param selectedSession\r\n         */\r\n        this.getRightContainerBlueBannerKey = function (selectedWorkList, targetCount, isESTeamMember, selectedSession) {\r\n            if (isESTeamMember === void 0) { isESTeamMember = false; }\r\n            var key;\r\n            switch (selectedWorkList) {\r\n                case enums.StandardisationSetup.None:\r\n                    key = 'standardisation-setup.right-container.select-response-bluebanner-message';\r\n                    break;\r\n                case enums.StandardisationSetup.SelectResponse:\r\n                    if (selectedSession !== null && selectedSession !== undefined\r\n                        && selectedSession === enums.StandardisationSessionTab.PreviousSession) {\r\n                        targetCount === 0 ?\r\n                            key = 'standardisation-setup.right-container.select-response-previouse-session-empty-message' :\r\n                            key = 'standardisation-setup.right-container.select-response-previouse-session-default-message';\r\n                    }\r\n                    else {\r\n                        key = 'standardisation-setup.right-container.select-response-bluebanner-message';\r\n                    }\r\n                    break;\r\n                case enums.StandardisationSetup.ProvisionalResponse:\r\n                    key = targetCount > 0 ? 'standardisation-setup.right-container.provisional-bluebanner-message' :\r\n                        'standardisation-setup.right-container.empty-responses-provisional-bluebanner-message';\r\n                    break;\r\n                case enums.StandardisationSetup.UnClassifiedResponse:\r\n                    var isSeedVisible = standardisationSetupStore.instance.stdSetupPermissionCCData ?\r\n                        standardisationSetupStore.instance.stdSetupPermissionCCData.role.viewByClassification.classifications.seeding :\r\n                        false;\r\n                    // Check whether the logged in examiner role is present in the 'StandardisationSetupPermissions' CC\r\n                    var isLoggedInExaminerRolePresentInCC = standardisationSetupStore.instance.stdSetupPermissionCCData.isLoggedInExaminerRolePresentInCC;\r\n                    var loggedInExaminerRole = standardisationSetupStore.instance.stdSetupPermissionCCData.role.name;\r\n                    key = targetCount > 0 ?\r\n                        ((isESTeamMember && (isSeedVisible === false || isSeedVisible === undefined)) ?\r\n                            'standardisation-setup.right-container.unclassified-bluebanner-message-for-esteam' :\r\n                            'standardisation-setup.right-container.unclassified-bluebanner-message') :\r\n                        (isESTeamMember && !isLoggedInExaminerRolePresentInCC) ?\r\n                            'standardisation-setup.right-container.empty-responses-unclassified-without-role-bluebanner-message' :\r\n                            'standardisation-setup.right-container.empty-responses-unclassified-bluebanner-message';\r\n                    break;\r\n                case enums.StandardisationSetup.ClassifiedResponse:\r\n                    key = targetCount > 0 ? 'standardisation-setup.right-container.classified-bluebanner-message' :\r\n                        'standardisation-setup.right-container.empty-responses-classified-bluebanner-message';\r\n                    break;\r\n            }\r\n            return key;\r\n        };\r\n    }\r\n    /**\r\n     * Get the Configurable characteristic value.\r\n     * @param ccName\r\n     * @returns\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getCCValue = function (ccName, markSchemeGroupId) {\r\n        return configurableCharacteristicsHelper.getCharacteristicValue(ccName, markSchemeGroupId);\r\n    };\r\n    /**\r\n     * Get Session tab visibilty in SSU\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getSessionTabVisibiltyinSelectResponse = function () {\r\n        return (configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ReuseRIG).toLowerCase() === 'true'\r\n            && standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.reuseResponses);\r\n    };\r\n    /**\r\n     * Get the retain provisional CC\r\n     */\r\n    StandardisationSetupHelperBase.prototype.isRetainProvisionalMarksCCOn = function () {\r\n        return configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.RetainProvisionalMarks, standardisationSetupStore.instance.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n    };\r\n    /**\r\n     * generateStandardisationRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param workListSelection\r\n     * @param gridType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateStandardisationRowDefinion = function (comparerName, sortDirection, workListSelection, gridType) {\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Generating Reusable response worklist grid row definition\r\n     * @param reusableResponsesList\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateReusableResponsesRowDefinition = function (reusableResponsesList) {\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Generating frozen row body for reusable responses grid\r\n     * @param reusableResponsesList\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateStandardisationFrozenRowBodyReusableGrid = function (reusableResponsesList, comparerName, sortDirection) {\r\n        return this._stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * generateScriptRowDefinition is used for generating row collection for Select response Script Grid\r\n     * @param standardisationScriptList\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateScriptRowDefinition = function (standardisationScriptList) {\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * GenerateTableHeader is used for generating header collection.\r\n     * @param standardisationSetupType\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param gridType\r\n     * @param selectedSessionTab\r\n     * @param centreOrScript\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateTableHeader = function (standardisationSetupType, comparerName, sortDirection, gridType, selectedSessionTab, centreOrScript) {\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        var _tableHeaderCollection = this.getTableHeader(standardisationSetupType, comparerName, sortDirection, selectedSessionTab, gridType, centreOrScript);\r\n        return _tableHeaderCollection;\r\n    };\r\n    /**\r\n     * generateFrozenRowBody is used for generating row collection for Standardisation Setup Grid\r\n     * @param standardisationSetupDetailsList\r\n     * @param standardisationSetupType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateFrozenRowBody = function (standardisationSetupDetailsList, standardisationSetupType, gridType, comparerName, sortDirection) {\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        var _workListFrozenRowBodyCollection = this.getFrozenRowBodyForListView(standardisationSetupDetailsList, standardisationSetupType, gridType, comparerName, sortDirection);\r\n        return _workListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Is used for generating row header collection for WorkList table\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param standardisationSetupType\r\n     * @param selectedSessionTab\r\n     * @param isSortable\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateFrozenRowHeader = function (comparerName, sortDirection, standardisationSetupType, selectedSessionTab, isSortable) {\r\n        if (selectedSessionTab === void 0) { selectedSessionTab = enums.StandardisationSessionTab.CurrentSession; }\r\n        if (isSortable === void 0) { isSortable = true; }\r\n        // Get the frozen column list from json\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        var _frozenRowHeaderCollection = this.getFrozenRowHeader(comparerName, sortDirection, isSortable, standardisationSetupType, selectedSessionTab);\r\n        return _frozenRowHeaderCollection;\r\n    };\r\n    /**\r\n     * Is used for generating frozen row body collection for STD WorkList table\r\n     * @param standardisationResponseListData\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateStandardisationFrozenRowBody = function (comparerName, sortDirection, standardisationSetupType, gridType) {\r\n        return this._stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * create a wraper for grid column\r\n     * @param elements\r\n     * @param className\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getWrappedColumn = function (elements, className, seq) {\r\n        var componentProps;\r\n        var _workListCell;\r\n        var _gridCell = new gridCell();\r\n        var element;\r\n        componentProps = {\r\n            key: seq,\r\n            divClassName: className,\r\n            componentList: elements\r\n        };\r\n        _workListCell = new gridCell();\r\n        _workListCell.columnElement = React.createElement(GenericComponentWrapper, componentProps);\r\n        return _workListCell;\r\n    };\r\n    /**\r\n     * creating grid columns collection\r\n     * @param gridgridLeftColumn\r\n     * @param gridMiddleColumn\r\n     * @param key\r\n     * @param gridRightColumn - to display AMD and TMD based on Accuracy Indicator\r\n     * @returns grid cell collection.\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getGridCells = function (gridgridLeftColumn, gridMiddleColumn, key, gridRightColumn) {\r\n        var _gridCells = new Array();\r\n        _gridCells.push(this.getWrappedColumn(Immutable.List(gridgridLeftColumn), 'col left-col', 'Grid_left_' + key));\r\n        _gridCells.push(this.getWrappedColumn(Immutable.List(gridMiddleColumn), 'col centre-col', 'Grid_centre_' + key));\r\n        // create column for AMD and TMD only if gridRightColumn is not null\r\n        if (gridRightColumn !== null) {\r\n            _gridCells.push(this.getWrappedColumn(Immutable.List(gridRightColumn), 'col right-col', 'Grid_right_' + key));\r\n        }\r\n        return _gridCells;\r\n    };\r\n    /**\r\n     * Group the elements based on the classNames.\r\n     * @param {string} groupClassName\r\n     * @param {string} seq\r\n     * @returns the grouped JSX.Element.\r\n     * @Summary groupClassName is the root element className and the column list may contain\r\n     * the key same as groupClassName. Then that will not group the elements instead add it as\r\n     * immediate child node.\r\n     */\r\n    StandardisationSetupHelperBase.prototype.groupColumnElements = function (groupClassName, seq) {\r\n        var elements = Immutable.List();\r\n        // loop through the class group names to find the child and group.\r\n        for (var key in this._groupColumns) {\r\n            if (this._groupColumns[key].values) {\r\n                var componentProps_1 = {\r\n                    id: this._groupColumns[key] + seq,\r\n                    key: this._groupColumns[key] + seq,\r\n                    divClassName: key,\r\n                    componentList: this._groupColumns[key].values\r\n                };\r\n                // If the key same as main group className then we dont need to create a childnode.\r\n                // treating it as immediate child of the main element.\r\n                if (key !== groupClassName) {\r\n                    elements = elements.push(React.createElement(GenericComponentWrapper, componentProps_1));\r\n                }\r\n                else {\r\n                    this._groupColumns[key].values.map(function (x) {\r\n                        elements = elements.push(x);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        var componentProps = {\r\n            id: groupClassName + seq,\r\n            key: groupClassName + seq,\r\n            divClassName: groupClassName,\r\n            componentList: elements\r\n        };\r\n        return React.createElement(GenericComponentWrapper, componentProps);\r\n    };\r\n    /**\r\n     * Start with fresh group.\r\n     */\r\n    StandardisationSetupHelperBase.prototype.emptyGroupColumns = function () {\r\n        // start with a fresh list of column group set.\r\n        this._groupColumns = {};\r\n    };\r\n    Object.defineProperty(StandardisationSetupHelperBase.prototype, \"groupColumns\", {\r\n        /**\r\n         * Return the group columns\r\n         * @returns\r\n         */\r\n        get: function () {\r\n            return this._groupColumns;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Mapping the each elements to a group.\r\n     * This add the elements to a dictionary which has className as key\r\n     * and list of elements that  grouped under the className.\r\n     * @param {string} className\r\n     * @param {JSX.Element} element\r\n     */\r\n    StandardisationSetupHelperBase.prototype.mapGroupColumns = function (className, element) {\r\n        // If not group class has been added create a new object\r\n        // otherwise add to the existing.\r\n        if (this._groupColumns[className] === undefined) {\r\n            this._groupColumns[className] = { values: Immutable.List() };\r\n        }\r\n        this._groupColumns[className].values = this._groupColumns[className].values.push(element);\r\n    };\r\n    /**\r\n     * creating react element for the  Column Header component\r\n     * @param seq - key value for the component\r\n     * @param displayText - the text to append with the display id.\r\n     * @returns JSX.Element.\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getColumnHeaderElement = function (seq, headerText, gridColumn, isCurrentSort, isSortRequired, sortDirection) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            headerText: headerText,\r\n            sortDirection: sortDirection,\r\n            isCurrentSort: isCurrentSort,\r\n            isSortingRequired: isSortRequired\r\n        };\r\n        return React.createElement(ColumnHeader, componentProps);\r\n    };\r\n    /**\r\n     * returns the table row collection for table header.\r\n     * @param standardisationSetupType\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param selectedSessionTab\r\n     * @param gridType\r\n     * @param centreOrScript\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getTableHeader = function (standardisationSetupType, comparerName, sortDirection, selectedSessionTab, gridType, centreOrScript) {\r\n        if (selectedSessionTab === void 0) { selectedSessionTab = enums.StandardisationSessionTab.CurrentSession; }\r\n        var _columnHeaderCollection = Array();\r\n        var _cell;\r\n        var _row = new gridRow();\r\n        var _columnHeaderCellcollection = new Array();\r\n        var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, standardisationSetupType, false, gridType, selectedSessionTab, centreOrScript);\r\n        var gridColumnLength = gridColumns.length;\r\n        this.resetDynamicColumnSettings();\r\n        // Getting the classified worklist columns\r\n        for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n            _cell = new gridCell();\r\n            var _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n            var headerText = gridColumns[gridColumnCount].ColumnHeader;\r\n            var _comparerName = gridColumns[gridColumnCount].ComparerName;\r\n            headerText = (headerText && headerText !== '') ? localeStore.instance.TranslateText(headerText) : '';\r\n            var key = 'columnHeader_' + gridColumnCount;\r\n            var isCurrentSort = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n                undefined : (comparerName === _comparerName);\r\n            var isSortRequired = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n                false : (gridColumns[gridColumnCount].Sortable === 'true');\r\n            var currentSortDirection = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n                undefined : sortDirection;\r\n            _cell.columnElement = this.getColumnHeaderElement(key, headerText, _responseColumn, isCurrentSort, isSortRequired, currentSortDirection);\r\n            _cell.isHidden = this.getCellVisibility(_responseColumn);\r\n            // No sort for classification\r\n            if (standardisationSetupType !== enums.StandardisationSetup.ClassifiedResponse) {\r\n                _cell.comparerName = _comparerName;\r\n                _cell.sortDirection = this.getSortDirection((comparerName === _comparerName), sortDirection);\r\n            }\r\n            var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n            _cell.setCellStyle(cellStyle);\r\n            // Creating the grid row collection.\r\n            _columnHeaderCellcollection.push(_cell);\r\n        }\r\n        // Get Dynamic Headers for Individual question when Mark By question view selected\r\n        if (gridType === enums.GridType.markByQuestion) {\r\n            var standardisationResponseListData = Immutable.List(standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses);\r\n            _columnHeaderCellcollection.concat(this.getDynamicHeadersForMarks(standardisationResponseListData, _columnHeaderCellcollection));\r\n            if (standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse &&\r\n                (standardisationSetupStore.instance.stdSetupPermissionCCData &&\r\n                    standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.declassify) &&\r\n                this.isRetainProvisionalMarksCCOn() &&\r\n                !qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n                var key = 'columnHeader_Declassify';\r\n                var cellStyle = 'last-cell-header';\r\n                _cell = new gridCell();\r\n                // create question header element for each question.\r\n                _cell.columnElement = this.getColumnHeaderElement(key, '', undefined, undefined, false, undefined);\r\n                _cell.isHidden = false;\r\n                _cell.setCellStyle(cellStyle);\r\n                // Creating the grid row collection.\r\n                _columnHeaderCellcollection.push(_cell);\r\n            }\r\n            else {\r\n                //Adding the 'last-cell' column as this column is not added to classified worklst by default\r\n                var key = 'columnHeader_Declassify';\r\n                var cellStyle = 'last-cell-header';\r\n                _cell = new gridCell();\r\n                _cell.isHidden = false;\r\n                _cell.setCellStyle(cellStyle);\r\n                // Creating the grid row collection.\r\n                _columnHeaderCellcollection.push(_cell);\r\n            }\r\n        }\r\n        _row.setRowId(1);\r\n        _row.setCells(_columnHeaderCellcollection);\r\n        _columnHeaderCollection.push(_row);\r\n        var _standardisationTableHeaderCollection = Immutable.fromJS(_columnHeaderCollection);\r\n        return _standardisationTableHeaderCollection;\r\n    };\r\n    /**\r\n     * returns the table row collection of frozen table\r\n     * @param standardisationSetupDetailsList\r\n     * @param standardisationSetupType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getFrozenRowBodyForListView = function (standardisationSetupDetailsList, standardisationSetupType, gridType, comparerName, sortDirection) {\r\n        var _rowHeaderCellcollection = Array();\r\n        var _row;\r\n        var _rowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _cell;\r\n        var key;\r\n        var cssClass;\r\n        var submitResponse = new submitHelper();\r\n        if (standardisationSetupDetailsList != null) {\r\n            var gridSeq = void 0;\r\n            var _responseListData = void 0;\r\n            var gridColumns = void 0;\r\n            var gridRowIdColumn = void 0;\r\n            switch (standardisationSetupType) {\r\n                case enums.StandardisationSetup.SelectResponse:\r\n                    if (standardisationSetupDetailsList.standardisationScriptDetailsList) {\r\n                        gridSeq = standardisationSetupDetailsList.standardisationScriptDetailsList.centreScriptList.keySeq();\r\n                        _responseListData = standardisationSetupDetailsList.standardisationScriptDetailsList.centreScriptList.toArray();\r\n                        gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, standardisationSetupType, true, null, enums.StandardisationSessionTab.CurrentSession, 'Script');\r\n                        gridRowIdColumn = 'candidateScriptId';\r\n                    }\r\n                    else {\r\n                        return;\r\n                    }\r\n                    break;\r\n                case enums.StandardisationSetup.ProvisionalResponse:\r\n                    _responseListData = standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses;\r\n                    var sortedData = void 0;\r\n                    sortedData = Immutable.List(sortHelper.sort(_responseListData, comparerList[comparerName]));\r\n                    _responseListData = sortedData.toArray();\r\n                    gridSeq = Immutable.List(_responseListData).keySeq();\r\n                    gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, standardisationSetupType, true, gridType);\r\n                    break;\r\n                case enums.StandardisationSetup.None:\r\n                    break;\r\n            }\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the list data row\r\n                _row = new gridRow();\r\n                _rowHeaderCellcollection = new Array();\r\n                var responseData = _responseListData[responseListCount];\r\n                var gridColumnLength = gridColumns.length;\r\n                var responseStatuses = submitResponse.submitButtonValidate(responseData, responseData.markingProgress, false, false);\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _cell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    //Switch statement for adding frozen columns.\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ScriptId:\r\n                            key = gridSeq.get(responseListCount) + '_ScriptId_' + gridColumnCount;\r\n                            _cell.columnElement = this.getScriptIdElement(responseData, componentPropsJson, key, (localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.script-id')\r\n                                + ' '), true);\r\n                            _cell.setCellStyle('col-script-id header-col');\r\n                            _rowHeaderCellcollection.push(_cell);\r\n                            break;\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _cell.columnElement = this.getResponseIdColumnElement(responseData, key, true);\r\n                            _cell.setCellStyle('col-response header-col');\r\n                            _rowHeaderCellcollection.push(_cell);\r\n                            break;\r\n                        case gridColumnNames.IsSharedProvisional:\r\n                            var isSharedProvisional = this.isCommonProvisionalStandardisationOn()\r\n                                && standardisationSetupStore.instance.stdSetupPermissionCCData.role\r\n                                    .permissions.viewCommonProvisionalAvailableResponses\r\n                                && responseData.isSharedProvisional;\r\n                            key = gridSeq.get(responseListCount) + '_ShareResponseIndicatorColumn_' + gridColumnCount;\r\n                            _cell.columnElement = this.getSharedResponseIndicatorElement(isSharedProvisional, key);\r\n                            _cell.setCellStyle('col-share');\r\n                            _rowHeaderCellcollection.push(_cell);\r\n                            break;\r\n                    }\r\n                }\r\n                // Creating the table row collection.\r\n                _rowCollection.push(this.getGridRow(responseData[gridRowIdColumn], _rowHeaderCellcollection, undefined, cssClass, responseStatuses));\r\n            }\r\n        }\r\n        var _frozenRowBodyCollection = Immutable.fromJS(_rowCollection);\r\n        return _frozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * get Script Id Element\r\n     * @param standardisationScriptDetails\r\n     * @param propsNames\r\n     * @param seq\r\n     * @param displayText\r\n     * @param isScriptIdClickable\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getScriptIdElement = function (standardisationScriptDetails, propsNames, seq, displayText, isScriptIdClickable) {\r\n        if (isScriptIdClickable === void 0) { isScriptIdClickable = true; }\r\n        var componentProps;\r\n        var _displayText;\r\n        _displayText = standardisationScriptDetails[propsNames.ScriptId];\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            displayId: standardisationScriptDetails[propsNames.ScriptId],\r\n            displayText: _displayText,\r\n            isClickable: isScriptIdClickable\r\n        };\r\n        return React.createElement(scriptidgridelement, componentProps);\r\n    };\r\n    /**\r\n     * returns the table row elements for frozen table header\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param isSortable\r\n     * @param standardisationSetupType\r\n     * @param selectedTab\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getFrozenRowHeader = function (comparerName, sortDirection, isSortable, standardisationSetupType, selectedSessionTab) {\r\n        var _columnHeaderCollection = Array();\r\n        var _row = new gridRow();\r\n        var _columnHeaderCellcollection = new Array();\r\n        var _comparerName;\r\n        var _gridColumnName = '';\r\n        var _cellStyle = '';\r\n        switch (standardisationSetupType) {\r\n            case enums.StandardisationSetup.SelectResponse:\r\n                switch (selectedSessionTab) {\r\n                    case enums.StandardisationSessionTab.CurrentSession:\r\n                        _comparerName = comparerList.stdScriptIdComparer;\r\n                        _gridColumnName = localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.script-id');\r\n                        _cellStyle = 'col-script-id header-col';\r\n                        // Creating the grid row collection.\r\n                        _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, _gridColumnName, _cellStyle, comparerName, isSortable, _comparerName, sortDirection));\r\n                        break;\r\n                    case enums.StandardisationSessionTab.PreviousSession:\r\n                        var _cell = void 0;\r\n                        var gridColumns_1 = this.getGridColumns(this.resolvedGridColumnsJson, enums.StandardisationSetup.SelectResponse, true, null, enums.StandardisationSessionTab.PreviousSession);\r\n                        var gridColumnLength_1 = gridColumns_1.length;\r\n                        for (var gridColumnCount = 0; gridColumnCount < gridColumnLength_1; gridColumnCount++) {\r\n                            _cell = new gridCell();\r\n                            var key = 'frozenRowHeader_' + gridColumnCount;\r\n                            var currentComparer = gridColumns_1[gridColumnCount].ComparerName;\r\n                            var isSortRequired = gridColumns_1[gridColumnCount].Sortable === 'true';\r\n                            var headerText = gridColumns_1[gridColumnCount].ColumnHeader;\r\n                            headerText = (headerText && headerText !== '') ? localeStore.instance.TranslateText(headerText) : '';\r\n                            var cellStyle = (gridColumns_1[gridColumnCount].CssClass) ? gridColumns_1[gridColumnCount].CssClass : '';\r\n                            // Creating the grid row collection.\r\n                            _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, headerText, cellStyle, comparerName, isSortRequired, comparerList[currentComparer], sortDirection));\r\n                        }\r\n                        break;\r\n                }\r\n                break;\r\n            case enums.StandardisationSetup.ClassifiedResponse:\r\n                _gridColumnName =\r\n                    localeStore.instance.\r\n                        TranslateText('standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.response-id');\r\n                _cellStyle = 'col-response header-col';\r\n                // Creating the grid row collection.\r\n                _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, '', 'col-std-classify-items header-col', '', false));\r\n                _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, _gridColumnName, _cellStyle, '', false));\r\n                break;\r\n            case enums.StandardisationSetup.ProvisionalResponse:\r\n                var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, standardisationSetupType, true);\r\n                var gridColumnLength = gridColumns.length;\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    var currentComparer = gridColumns[gridColumnCount].ComparerName;\r\n                    _gridColumnName = gridColumns[gridColumnCount].ColumnHeader;\r\n                    _gridColumnName = (_gridColumnName && _gridColumnName !== '') ?\r\n                        localeStore.instance.TranslateText(_gridColumnName) : '';\r\n                    _cellStyle = (gridColumns[gridColumnCount].CssClass) ?\r\n                        gridColumns[gridColumnCount].CssClass : ''; // 'col-response header-col';\r\n                    var isSortRequired = gridColumns[gridColumnCount].Sortable === 'true';\r\n                    // Creating the grid row collection.\r\n                    _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, _gridColumnName, _cellStyle, comparerName, isSortRequired, comparerList[currentComparer], sortDirection));\r\n                }\r\n                break;\r\n            case enums.StandardisationSetup.UnClassifiedResponse:\r\n                _gridColumnName =\r\n                    localeStore.instance.\r\n                        TranslateText('standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.response-id');\r\n                _cellStyle = 'col-response header-col';\r\n                _comparerName = comparerList.responseIdComparer;\r\n                // Creating the grid row collection.\r\n                _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, _gridColumnName, _cellStyle, comparerName, isSortable, _comparerName, sortDirection));\r\n                break;\r\n            case enums.StandardisationSetup.None:\r\n                break;\r\n        }\r\n        _row.setRowId(1);\r\n        _row.setCells(_columnHeaderCellcollection);\r\n        _columnHeaderCollection.push(_row);\r\n        var _frozenRowHeaderCollection = Immutable.fromJS(_columnHeaderCollection);\r\n        return _frozenRowHeaderCollection;\r\n    };\r\n    /**\r\n     * Setting frozen header columns (Rig order empty column/Response Id for Classifed)\r\n     * @param columnHeader\r\n     * @param cellStyle\r\n     */\r\n    StandardisationSetupHelperBase.prototype.setFrozenColumnHeaders = function (standardisationSetupType, columnHeader, cellStyle, currentComparer, isSortable, _comparerName, sortDirection) {\r\n        var _cell;\r\n        _cell = new gridCell();\r\n        var key = 'frozenRowHeader';\r\n        var isCurrentSort = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n            undefined : (comparerList[currentComparer] === _comparerName);\r\n        var isSortRequired = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n            false : isSortable;\r\n        var currentSortDirection = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n            undefined : sortDirection;\r\n        //TODO : Move the magic strings outside (json?)\r\n        _cell.columnElement = this.getColumnHeaderElement(key, columnHeader, '', isCurrentSort, isSortRequired, currentSortDirection);\r\n        if (standardisationSetupType !== enums.StandardisationSetup.ClassifiedResponse) {\r\n            _cell.comparerName = comparerList[_comparerName];\r\n            _cell.sortDirection = this.getSortDirection((comparerList[currentComparer] === _comparerName), sortDirection);\r\n        }\r\n        _cell.setCellStyle(cellStyle);\r\n        return _cell;\r\n    };\r\n    /**\r\n     * returns the gridcolumns based on the response mode and worklist type\r\n     * @param resolvedGridColumnsJson\r\n     * @param standardisationSetupType\r\n     * @param isFrozen\r\n     * @param selectedSessionTab\r\n     * @param centreOrScript\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getGridColumns = function (resolvedGridColumnsJson, standardisationSetupType, isFrozen, gridType, selectedSessionTab, centreOrScript) {\r\n        if (isFrozen === void 0) { isFrozen = false; }\r\n        var gridColumns;\r\n        switch (standardisationSetupType) {\r\n            case enums.StandardisationSetup.SelectResponse:\r\n                if (selectedSessionTab === enums.StandardisationSessionTab.CurrentSession) {\r\n                    if (centreOrScript === 'Script') {\r\n                        gridColumns = (isFrozen === false) ? resolvedGridColumnsJson.standardisationsetup.SelectResponse.Script.GridColumns\r\n                            : resolvedGridColumnsJson.standardisationsetup.SelectResponse.FrozenRows.GridColumns;\r\n                    }\r\n                    else {\r\n                        gridColumns = resolvedGridColumnsJson.standardisationsetup.SelectResponse.Centre.GridColumns;\r\n                    }\r\n                }\r\n                else if (selectedSessionTab === enums.StandardisationSessionTab.PreviousSession) {\r\n                    gridColumns = (isFrozen === false) ?\r\n                        resolvedGridColumnsJson.standardisationsetup.PreviousSession.ReusableResponse.GridColumns\r\n                        : resolvedGridColumnsJson.standardisationsetup.PreviousSession.frozenRows.GridColumns;\r\n                }\r\n                break;\r\n            case enums.StandardisationSetup.ProvisionalResponse:\r\n                gridColumns = (isFrozen === false) ? (gridType === enums.GridType.totalMarks ?\r\n                    resolvedGridColumnsJson.standardisationsetup.ProvisionalResponse.totalmarksview.GridColumns\r\n                    : resolvedGridColumnsJson.standardisationsetup.ProvisionalResponse.marksbyquestionview.GridColumns)\r\n                    : resolvedGridColumnsJson.standardisationsetup.ProvisionalResponse.frozenRows.GridColumns;\r\n                break;\r\n            case enums.StandardisationSetup.UnClassifiedResponse:\r\n                gridColumns = (isFrozen === false) ? (gridType === enums.GridType.totalMarks ?\r\n                    resolvedGridColumnsJson.standardisationsetup.UnClassifiedResponse.totalmarksview.GridColumns\r\n                    : resolvedGridColumnsJson.standardisationsetup.UnClassifiedResponse.marksbyquestionview.GridColumns)\r\n                    : resolvedGridColumnsJson.standardisationsetup.UnClassifiedResponse.frozenRows.GridColumns;\r\n                break;\r\n            case enums.StandardisationSetup.ClassifiedResponse:\r\n                gridColumns = (isFrozen === false) ? (gridType === enums.GridType.totalMarks ?\r\n                    resolvedGridColumnsJson.standardisationsetup.ClassifiedResponse.totalmarksview.GridColumns\r\n                    : resolvedGridColumnsJson.standardisationsetup.ClassifiedResponse.marksbyquestionview.GridColumns)\r\n                    : resolvedGridColumnsJson.standardisationsetup.ClassifiedResponse.frozenRows.GridColumns;\r\n                break;\r\n            case enums.StandardisationSetup.None:\r\n                break;\r\n        }\r\n        return gridColumns;\r\n    };\r\n    /**\r\n     * returns whether the the given column is hidden or not\r\n     * @param responseColumn\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getCellVisibility = function (column) {\r\n        if (ecourseWorkHelper.isECourseworkComponent && column === 'FirstScanned') {\r\n            return true;\r\n        }\r\n        if (!(configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.eBookmarking).toLowerCase() === 'true' ? true : false) && column === 'QuestionItems') {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Reset dynamic column\r\n     */\r\n    StandardisationSetupHelperBase.prototype.resetDynamicColumnSettings = function () {\r\n        this._dateLengthInPixel = 0;\r\n    };\r\n    /**\r\n     * return the sort direction - if it is current sort just reverse the direction otherwise asc as defaualt direction.\r\n     * @param isCurrentSort\r\n     * @param sortDirection\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getSortDirection = function (isCurrentSort, sortDirection) {\r\n        return ((isCurrentSort === true) ?\r\n            ((sortDirection === enums.SortDirection.Ascending) ? enums.SortDirection.Descending : enums.SortDirection.Ascending)\r\n            : enums.SortDirection.Ascending);\r\n    };\r\n    /**\r\n     * Get the text value for Grid Column\r\n     * @param textValue\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getGenericTextElement = function (textValue, seq, title) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            textValue: textValue,\r\n            title: title\r\n        };\r\n        return React.createElement(GenericTextColumn, componentProps);\r\n    };\r\n    /**\r\n     * Get the Formatted date element.\r\n     * @param value\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getGenericFormattedDateElement = function (value, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            dateValue: new Date(value.toString()),\r\n            className: 'dim-text txt-val small-text'\r\n        };\r\n        return React.createElement(genericDate, componentProps);\r\n    };\r\n    /**\r\n     * Get the Converted text value for Grid Column\r\n     *  @param textValue\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getConvertTextElement = function (textValue, seq) {\r\n        var componentProps;\r\n        switch (textValue) {\r\n            case 'true':\r\n                textValue = 'Yes';\r\n                break;\r\n            case 'false':\r\n                textValue = 'No';\r\n                break;\r\n        }\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            textValue: textValue\r\n        };\r\n        return React.createElement(GenericTextColumn, componentProps);\r\n    };\r\n    /**\r\n     * Get the Marks Grid Column\r\n     * @param textValue\r\n     * @param seq\r\n     * @param usedInTotal\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getMarksColumn = function (textValue, seq, usedInTotal) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            textValue: textValue,\r\n            usedInTotal: usedInTotal\r\n        };\r\n        return React.createElement(marksColumn, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  TotalMark component\r\n     * @param mark\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getTotalMarkElement = function (mark, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            isNonNumericMark: false,\r\n            maximumMark: 100,\r\n            totalMark: mark,\r\n            markingProgress: 100,\r\n            selectedLanguage: localeStore.instance.Locale\r\n        };\r\n        return React.createElement(totalMark, componentProps);\r\n    };\r\n    /**\r\n     * returns the Selected Tag Id of response.\r\n     * @param seq\r\n     * @param tagId\r\n     * @param tagList\r\n     * @param markGroupId\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getTag = function (seq, tagId, tagList, markGroupId, markingMode) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedTagId: tagId,\r\n            tagList: tagList,\r\n            markGroupId: markGroupId,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            // isESResponse = true when tag updated from standardisation setup.\r\n            isESResponse: true,\r\n            markingMode: markingMode\r\n        };\r\n        return React.createElement(TagList, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  ResponseIdColumn component\r\n     * @param stdResponseData\r\n     * @param seq\r\n     * @param isResponseIdClickable\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getResponseIdColumnElement = function (stdResponseData, seq, isResponseIdClickable, isReusableResponseView, candidateScriptId) {\r\n        if (isResponseIdClickable === void 0) { isResponseIdClickable = true; }\r\n        if (isReusableResponseView === void 0) { isReusableResponseView = false; }\r\n        if (candidateScriptId === void 0) { candidateScriptId = ''; }\r\n        var componentProps;\r\n        var displayId = stdResponseData.displayId;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            displayId: displayId.toString(),\r\n            isResponseIdClickable: isResponseIdClickable,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isReusableResponseView: isReusableResponseView,\r\n            candidateScriptId: '1' + stdResponseData.candidateScriptId\r\n        };\r\n        return React.createElement(stdResponseId, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  LinkedMessagrIndicator component\r\n     * @param responseData\r\n     * @param propsNames\r\n     * @param seq\r\n     * @param isTileView\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getLinkedMessageElement = function (responseData, propsNames, seq, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            messageCount: responseData[propsNames.unreadMessagesCount],\r\n            hasMessages: responseData[propsNames.hasMessages],\r\n            displayId: responseData[propsNames.displayId],\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isTileView: isTileView,\r\n            isTeamManagementMode: markerOperationModeFactory.operationMode.isTeamManagementMode\r\n        };\r\n        return React.createElement(LinkedMessageIndicator, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  Last updated component\r\n     * @param lastUpdatedDate\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getLastUpdatedElement = function (stdResponseData, propsNames, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            dateType: enums.WorkListDateType.lastUpdatedDate,\r\n            dateValue: new Date(stdResponseData[propsNames.updatedDate]),\r\n            isTileView: false\r\n        };\r\n        return React.createElement(LastUpdatedColumn, componentProps);\r\n    };\r\n    /**\r\n     * create react element for declassify button\r\n     * @param title\r\n     * @param anchorclassName\r\n     * @param spanclassName\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getDeclassifyButtonElement = function (title, anchorclassName, spanclassName, seq, displayId, totalMarkValue, candidateScriptId, esCandidateScriptMarkSchemeGroupId, markingModeId, rigOrder, esMarkGroupRowVersion) {\r\n        var componentProps;\r\n        componentProps = {\r\n            title: title,\r\n            id: seq,\r\n            anchorclassName: anchorclassName,\r\n            spanclassName: spanclassName,\r\n            displayId: displayId,\r\n            totalMarkValue: totalMarkValue,\r\n            candidateScriptId: candidateScriptId,\r\n            esCandidateScriptMarkSchemeGroupId: esCandidateScriptMarkSchemeGroupId,\r\n            markSchemeGroupId: standardisationSetupStore.instance.markSchemeGroupId,\r\n            markingModeId: markingModeId,\r\n            rigOrder: rigOrder,\r\n            esMarkGroupRowVersion: esMarkGroupRowVersion\r\n        };\r\n        return React.createElement(DeclassifyButton, componentProps);\r\n    };\r\n    /**\r\n     * creating grid row\r\n     * @param {string} uniqueId\r\n     * @param {Array<gridCell>} gridCells\r\n     * @param {JSX.Element} [additionalComponent]\r\n     * @param {string} [cssClass]\r\n     * @param {Immutable.List<enums.ResponseStatus>} [responseStatus]\r\n     * @param {boolean} [overClassified]\r\n     * @returns {gridRow}\r\n     * @memberof StandardisationSetupHelperBase\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getGridRow = function (uniqueId, gridCells, additionalComponent, cssClass, responseStatus, overClassified) {\r\n        var _gridRow = new gridRow();\r\n        var className = this.setRowStyle(responseStatus, overClassified);\r\n        className = (cssClass) ? (className + ' ' + cssClass) : className;\r\n        _gridRow.setRowStyle(className);\r\n        _gridRow.setRowId(parseFloat(uniqueId));\r\n        _gridRow.setCells(gridCells);\r\n        _gridRow.setAdditionalElement(additionalComponent);\r\n        return _gridRow;\r\n    };\r\n    /**\r\n     * Set row style to amber if the response has blocking exceptions or other reasons\r\n     * @param {Immutable.List<enums.ResponseStatus>} responseStatus\r\n     * @returns {string}\r\n     * @memberof StandardisationSetupHelperBase\r\n     */\r\n    StandardisationSetupHelperBase.prototype.setRowStyle = function (responseStatus, overClassified) {\r\n        // Check whetehr the classifcation type exceeded the current target,\r\n        // if so highlight the exceeded last rows with amber color.\r\n        if ((responseStatus && (responseStatus.contains(enums.ResponseStatus.hasException) ||\r\n            responseStatus.contains(enums.ResponseStatus.hasZoningException) ||\r\n            responseStatus.contains(enums.ResponseStatus.notAllPagesAnnotated) ||\r\n            responseStatus.contains(enums.ResponseStatus.markChangeReasonNotExist) ||\r\n            responseStatus.contains(enums.ResponseStatus.supervisorRemarkDecisionNotSelected) ||\r\n            responseStatus.contains(enums.ResponseStatus.notAllFilesViewed))) || overClassified) {\r\n            return 'row warning-alert';\r\n        }\r\n        else {\r\n            return 'row';\r\n        }\r\n    };\r\n    /**\r\n     * Generate Centre Row Definition\r\n     * @param standardisationCentreList\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateCentreRowDefinition = function (standardisationCentreList) {\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Return the dynamic headers for questions\r\n     * @param standardisationResponseListData\r\n     * @param _columnHeaderCellcollection\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getDynamicHeadersForMarks = function (standardisationResponseListData, _columnHeaderCellcollection) {\r\n        // Get the Standardisation marks for the response if exist.\r\n        var _stdMarksData = standardisationResponseListData.first().standardisationMarks;\r\n        var questionsCount = _stdMarksData.length;\r\n        var _cell;\r\n        // iterate through each questions and get the display label.\r\n        for (var questionItemCount = 0; questionItemCount < questionsCount; questionItemCount++) {\r\n            _cell = new gridCell();\r\n            var headerText = _stdMarksData[questionItemCount].displayLabel;\r\n            var _comparerName = '';\r\n            headerText = (headerText && headerText !== '') ? headerText : '';\r\n            var key = 'columnHeader_' + questionItemCount;\r\n            // create question header element for each question.\r\n            _cell.columnElement = this.getColumnHeaderElement(key, headerText, undefined, undefined, false, undefined);\r\n            _cell.isHidden = false;\r\n            _cell.comparerName = _comparerName;\r\n            var cellStyle = 'col-question-item';\r\n            _cell.setCellStyle(cellStyle);\r\n            // Creating the grid row collection.\r\n            _columnHeaderCellcollection.push(_cell);\r\n        }\r\n        return _columnHeaderCellcollection;\r\n    };\r\n    /**\r\n     * Get Dynamic Value For Marks\r\n     * @param gridSeq\r\n     * @param stdResponseData\r\n     * @param _stdRowHeaderCellcollection\r\n     * @param index\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getDynamicValueForMarks = function (stdResponseData, _stdRowHeaderCellcollection, index) {\r\n        var _stdGridCell;\r\n        var key;\r\n        // Get the Standardisation marks for the response if exist.\r\n        var stdMarks = stdResponseData.standardisationMarks;\r\n        var noOfQuestions = stdMarks.length;\r\n        var mark;\r\n        var usedInTotal;\r\n        // Getting the Marks Data\r\n        for (var questionItemCount = 0; questionItemCount < noOfQuestions; questionItemCount++) {\r\n            _stdGridCell = new gridCell();\r\n            key = index + '_Questions_' + questionItemCount;\r\n            mark = isNaN(parseInt(stdMarks[questionItemCount].mark.toString())) ?\r\n                stdMarks[questionItemCount].mark : parseInt(stdMarks[questionItemCount].mark.toString());\r\n            usedInTotal = stdMarks[questionItemCount].usedInTotal;\r\n            _stdGridCell.columnElement = this.getMarksColumn(mark, key, usedInTotal);\r\n            _stdGridCell.isHidden = false;\r\n            var cellStyle = 'col-question-item';\r\n            _stdGridCell.setCellStyle(cellStyle);\r\n            _stdRowHeaderCellcollection.push(_stdGridCell);\r\n        }\r\n        return _stdRowHeaderCellcollection;\r\n    };\r\n    /**\r\n     * Method to create Frozen Body Data for different std worklists.\r\n     * @param stdResponseData\r\n     * @param gridSeq\r\n     * @param gridType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getFrozenRowData = function (stdResponseData, gridType, gridColumns, index, overClassified) {\r\n        var _stdWorkListRowHeaderCellcollection = Array();\r\n        var _stdWorkListCell;\r\n        var key;\r\n        var cellStyle;\r\n        var _stdResponseColumn;\r\n        var componentPropsJson;\r\n        var gridColumnLength = gridColumns.length;\r\n        var submitResponse = new submitHelper();\r\n        var responseStatuses = submitResponse.submitButtonValidate(stdResponseData, stdResponseData.markingProgress, false, false);\r\n        // Set rig order as \"Seed\" for seed responses.\r\n        var isSeed = (stdResponseData.markingModeId === enums.MarkingMode.Seeding);\r\n        // Getting the STD worklist columns\r\n        for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n            _stdResponseColumn = gridColumns[gridColumnCount].GridColumn;\r\n            _stdWorkListCell = new gridCell();\r\n            componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n            //Switch statement for adding frozen columns in future.\r\n            switch (_stdResponseColumn) {\r\n                case gridColumnNames.RigOrderColumn:\r\n                    key = index + '_RigOrderColumn_' + gridColumnCount;\r\n                    var className = 'dim-text small-text classify-index';\r\n                    _stdWorkListCell.columnElement = this.getRIGOrderColumnElement(key, className, undefined, isSeed ? 'Seed' : stdResponseData.rigOrder.toString());\r\n                    cellStyle = 'col-std-classify-items header-col';\r\n                    break;\r\n                case gridColumnNames.ResponseIdColumn:\r\n                    key = index + '_ResponseIdColumn_' + gridColumnCount;\r\n                    _stdWorkListCell.columnElement = this.getResponseIdColumnElement(stdResponseData, key, true);\r\n                    cellStyle = 'col-response header-col';\r\n                    break;\r\n            }\r\n            _stdWorkListCell.setCellStyle(cellStyle);\r\n            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n        }\r\n        // Return the table row.\r\n        return this.getGridRow(stdResponseData.displayId.toString(), _stdWorkListRowHeaderCellcollection, undefined, undefined, responseStatuses, overClassified);\r\n    };\r\n    /**\r\n     * Method to return ufrozen row data for different type.\r\n     * @param stdResponseListData\r\n     * @param gridColumns\r\n     * @param gridSeq\r\n     * @param gridType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getRowData = function (stdResponseListData, gridColumns, gridType, index, standardisationSetupType) {\r\n        var _this = this;\r\n        var stdGridRowCollection = Array();\r\n        var submitResponse = new submitHelper();\r\n        // Loop through each response\r\n        stdResponseListData.map(function (stdResponseData) {\r\n            var stdGridRowHeaderCellcollection = Array();\r\n            var _stdResponseColumn;\r\n            var componentPropsJson;\r\n            var _stdGridCell;\r\n            var key;\r\n            var responseStatuses = submitResponse.submitButtonValidate(stdResponseData, stdResponseData.markingProgress, false, false);\r\n            // Getting the worklist columns\r\n            for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n                _stdResponseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                _stdGridCell = new gridCell();\r\n                switch (_stdResponseColumn) {\r\n                    case gridColumnNames.ScriptId:\r\n                        key = index + '_ScriptId_' + gridColumnCount;\r\n                        var candidateScriptId = '1' + stdResponseData.candidateScriptId.toString();\r\n                        _stdGridCell.columnElement = _this.getGenericTextElement(candidateScriptId, key);\r\n                        break;\r\n                    case gridColumnNames.Centre:\r\n                        key = index + '_Centre_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getGenericTextElement(stdResponseData.centreNumber, key);\r\n                        break;\r\n                    case gridColumnNames.CentreCandidateNum:\r\n                        key = index + '_Candidate_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getGenericTextElement(stdResponseData.centreCandidateNumber, key);\r\n                        break;\r\n                    case gridColumnNames.MarksColumn:\r\n                        key = index + '_Marks_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getTotalMarkElement(stdResponseData.totalMarkValue, key);\r\n                        break;\r\n                    case gridColumnNames.LastMarkerColumn:\r\n                        key = index + '_LastMarker_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getGenericTextElement(stringFormatHelper.getFormattedExaminerName(stdResponseData.lastMarkerInitials, stdResponseData.lastMarkerSurname), key);\r\n                        break;\r\n                    case gridColumnNames.NoteColumn:\r\n                        key = index + '_Note_' + gridColumnCount;\r\n                        var title = stdResponseData.note;\r\n                        _stdGridCell.columnElement = _this.getGenericTextElement(stdResponseData.note, key, title);\r\n                        break;\r\n                    case gridColumnNames.LinkedMessageIndicator:\r\n                        key = index + '_LinkedMessage_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getLinkedMessageElement(stdResponseData, componentPropsJson, key, false);\r\n                        break;\r\n                    case gridColumnNames.TagIndicator:\r\n                        key = index + '_TagIndicator_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getTag(key, stdResponseData.tagId, tagStore.instance.tags, stdResponseData.esMarkGroupId, stdResponseData.markingModeId);\r\n                        break;\r\n                    case gridColumnNames.LastUpdatedColumn:\r\n                        key = index + '_LastUpdated_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getLastUpdatedElement(stdResponseData, componentPropsJson, key);\r\n                        break;\r\n                    case gridColumnNames.Status:\r\n                        responseStatuses = submitResponse.submitButtonValidate(stdResponseData, stdResponseData.markingProgress, false, false);\r\n                        key = index + '_Status_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getMarkingProgressElement(stdResponseData, componentPropsJson, key, responseStatuses, standardisationSetupType);\r\n                        break;\r\n                    case gridColumnNames.DeClassifyColumn:\r\n                        if ((standardisationSetupStore.instance.stdSetupPermissionCCData &&\r\n                            standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.declassify) &&\r\n                            _this.isRetainProvisionalMarksCCOn() &&\r\n                            !qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n                            key = index + '_DeClassify_' + gridColumnCount;\r\n                            _stdGridCell.columnElement = _this.getDeclassifyButtonElement('Declassify', 'close-icon-link', 'close-icon', key, stdResponseData.displayId, stdResponseData.totalMarkValue, stdResponseData.candidateScriptId, stdResponseData.esCandidateScriptMarkSchemeGroupId, stdResponseData.markingModeId, stdResponseData.rigOrder, stdResponseData.esMarkGroupRowVersion);\r\n                        }\r\n                        else {\r\n                            //Adding the 'last-cell' column as this column is not added to classified worklst by default\r\n                            key = index + '_DeClassify_' + gridColumnCount;\r\n                        }\r\n                        break;\r\n                    case gridColumnNames.SLAOIndicator:\r\n                        key = index + '_SLAOIndicator_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = (_this.getSLAOIndicatorElementForStandardisationResponses(stdResponseData, componentPropsJson, key, true, false));\r\n                        break;\r\n                    case gridColumnNames.AllPageAnnotedIndicator:\r\n                        key = index + '_AllPageAnnotated_' + gridColumnCount;\r\n                        // Create annotation indicator element.\r\n                        _stdGridCell.columnElement = _this.getAllPageAnnotationIndicatorElement(stdResponseData, componentPropsJson, key);\r\n                        break;\r\n                    case gridColumnNames.AllFilesNotViewedIndicator:\r\n                        key = index + '_AllFilesNotViewed_' + gridColumnCount;\r\n                        // Create annotation indicator element.\r\n                        _stdGridCell.columnElement = _this.getAllFilesNotViewedIndicatorElement(stdResponseData, componentPropsJson, key);\r\n                        break;\r\n                    default:\r\n                }\r\n                _stdGridCell.isHidden = _this.getCellVisibility(_stdResponseColumn);\r\n                var cellStyle = gridColumns[gridColumnCount].CssClass\r\n                    ? gridColumns[gridColumnCount].CssClass\r\n                    : '';\r\n                _stdGridCell.setCellStyle(cellStyle);\r\n                stdGridRowHeaderCellcollection.push(_stdGridCell);\r\n            }\r\n            // Get individual question's marks if Mark by question view.\r\n            if (gridType === enums.GridType.markByQuestion) {\r\n                stdGridRowHeaderCellcollection.concat(_this.getDynamicValueForMarks(stdResponseData, stdGridRowHeaderCellcollection, index));\r\n                if (standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse &&\r\n                    (standardisationSetupStore.instance.stdSetupPermissionCCData &&\r\n                        standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.declassify) &&\r\n                    _this.isRetainProvisionalMarksCCOn() &&\r\n                    !qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n                    _stdGridCell = new gridCell();\r\n                    key = index + '_DeClassify_' + stdGridRowHeaderCellcollection.length + 1;\r\n                    _stdGridCell.columnElement = _this.getDeclassifyButtonElement('Declassify', 'close-icon-link', 'close-icon', key, stdResponseData.displayId, stdResponseData.totalMarkValue, stdResponseData.candidateScriptId, stdResponseData.esCandidateScriptMarkSchemeGroupId, stdResponseData.markingModeId, stdResponseData.rigOrder, stdResponseData.esMarkGroupRowVersion);\r\n                    _stdGridCell.isHidden = _this.getCellVisibility(_stdResponseColumn);\r\n                    var cellStyle = 'last-cell col-declassify';\r\n                    _stdGridCell.setCellStyle(cellStyle);\r\n                    stdGridRowHeaderCellcollection.push(_stdGridCell);\r\n                }\r\n                else {\r\n                    //Adding the 'last-cell' column as this column is not added to classified worklst by default\r\n                    _stdGridCell = new gridCell();\r\n                    key = index + '_DeClassify_' + stdGridRowHeaderCellcollection.length + 1;\r\n                    _stdGridCell.isHidden = _this.getCellVisibility(_stdResponseColumn);\r\n                    var cellStyle = 'last-cell';\r\n                    _stdGridCell.setCellStyle(cellStyle);\r\n                    stdGridRowHeaderCellcollection.push(_stdGridCell);\r\n                }\r\n            }\r\n            // Check whetehr the classifcation type exceeded the current target,\r\n            // if so highlight the exceeded last rows with amber color.\r\n            // Applicable for Classified Worklist\r\n            var overClassified = _this.isSSUTargetsOverClassified(standardisationSetupType, stdResponseData.markingModeId, stdResponseData.rigOrder);\r\n            // Creating the grid row collection.\r\n            stdGridRowCollection.push(_this.getGridRow(stdResponseData.displayId.toString(), stdGridRowHeaderCellcollection, undefined, undefined, responseStatuses, overClassified));\r\n            index++;\r\n        });\r\n        // Return the STD Set up row collection for Unfrozen data.\r\n        return stdGridRowCollection;\r\n    };\r\n    /**\r\n     * Creating react element for the  RIG Order Column component\r\n     * @param seq\r\n     * @param className\r\n     * @param classificationType\r\n     * @param rigOrder\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getRIGOrderColumnElement = function (seq, className, classificationType, rigOrder) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            classificationType: classificationType,\r\n            rigOrder: rigOrder,\r\n            className: className\r\n        };\r\n        return React.createElement(RigOrder, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  getSLAOIndicatorElement component\r\n     * @param standardisationScriptDetails\r\n     * @param propsNames\r\n     * @param seq\r\n     * @param showMarkingProgress\r\n     * @param isTileView\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getSLAOIndicatorElement = function (standardisationScriptDetails, propsNames, seq, showMarkingProgress, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isResponseHasSLAO: standardisationScriptDetails.hasAdditionalObjects,\r\n            isAllAnnotated: false,\r\n            isMarkingCompleted: false,\r\n            isTileView: isTileView,\r\n            markSchemeGroupId: standardisationSetupStore.instance.markSchemeGroupId\r\n        };\r\n        return React.createElement(slaoAnnotationIndicator, componentProps);\r\n    };\r\n    /**\r\n     * Getting SLAO Indicator Element for Standardisation Responses\r\n     * @param {StandardisationResponseDetails} standardisationResponseDetails\r\n     * @param {*} propsNames\r\n     * @param {string} seq\r\n     * @param {boolean} showMarkingProgress\r\n     * @param {boolean} [isTileView=true]\r\n     * @returns {JSX.Element}\r\n     * @memberof StandardisationSetupHelperBase\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getSLAOIndicatorElementForStandardisationResponses = function (standardisationResponseDetails, propsNames, seq, showMarkingProgress, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isResponseHasSLAO: standardisationResponseDetails.hasAdditionalObjects,\r\n            isAllAnnotated: standardisationResponseDetails.hasAllPagesAnnotated,\r\n            isMarkingCompleted: ((showMarkingProgress ? standardisationResponseDetails.markingProgress : 100) === 100) ? true : false,\r\n            isTileView: isTileView,\r\n            markSchemeGroupId: standardisationSetupStore.instance.markSchemeGroupId\r\n        };\r\n        return React.createElement(slaoAnnotationIndicator, componentProps);\r\n    };\r\n    /**\r\n     * Creating react element for the  MarkingProgress component.\r\n     * @param standardisationResponses\r\n     * @param propsNames\r\n     * @param seq\r\n     * @param responseStatuses\r\n     * @param standardisationSetup\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getMarkingProgressElement = function (standardisationResponses, propsNames, seq, responseStatuses, standardisationSetup) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            responseStatus: responseStatuses,\r\n            progress: standardisationResponses.markingProgress,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            markGroupId: standardisationResponses.esMarkGroupId,\r\n            isSubmitDisabled: false,\r\n            standardisationSetupTab: standardisationSetup,\r\n            stdResponseDetails: standardisationResponses\r\n        };\r\n        return React.createElement(MarkingProgress, componentProps);\r\n    };\r\n    /**\r\n     * Show the AllPageAnnotationIndicator when the CC is on and marking is completed\r\n     * blocking submission.\r\n     * @param {ResponseBase} responseData\r\n     * @param {any} propsNames\r\n     * @param {string} seq\r\n     * @returns\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getAllPageAnnotationIndicatorElement = function (responseData, propsNames, seq, showMarkingProgress) {\r\n        if (showMarkingProgress === void 0) { showMarkingProgress = true; }\r\n        var isForceAnnotationCCOn = this.getCCValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, responseData.markSchemeGroupId);\r\n        var markingProgress = responseData[propsNames.markingProgress];\r\n        // we need to show this in tile view only if we 100% marked responses and\r\n        // all page annotation cc is on.\r\n        if (isForceAnnotationCCOn === 'true' && markingProgress === 100) {\r\n            var componentProps = void 0;\r\n            componentProps = {\r\n                key: seq,\r\n                id: seq,\r\n                selectedLanguage: localeStore.instance.Locale,\r\n                isAllAnnotated: responseData[propsNames.hasAllPagesAnnotated],\r\n                isMarkingCompleted: ((showMarkingProgress ? responseData[propsNames.markingProgress] : 100) === 100) ? true : false,\r\n                isTileView: false,\r\n                markSchemeGroupId: responseData.markSchemeGroupId\r\n            };\r\n            var allPageElement = Immutable.List([React.createElement(allPageAnnotationIndicator, componentProps)]);\r\n            return this.getWrappedColumn(allPageElement, 'col wl-slao-holder', seq + 'wrapped').columnElement;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * creating react element for the  getAllPageAnnotatedIndicatorElement component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the component\r\n     * @param seq - key value for the component\r\n     * @param showMarkingProgress - key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getAllFilesNotViewedIndicatorElement = function (responseData, propsNames, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            allFilesViewed: responseData[propsNames.allFilesViewed],\r\n            isMarkingCompleted: responseData[propsNames.markingProgress] === 100 ? true : false,\r\n            isTileView: false,\r\n            isECourseworkComponent: eCourseworkHelper.isECourseworkComponent\r\n        };\r\n        return React.createElement(allFilesNotViewedIndicator, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  Shared Response Indicator component\r\n     * @param stdResponseData\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getSharedResponseIndicatorElement = function (isSharedProvisional, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isSharedProvisional: isSharedProvisional\r\n        };\r\n        return React.createElement(sharedResponseIndicatorElement, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  Shared Response Indicator component\r\n     * @param stdResponseData\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.isCommonProvisionalStandardisationOn = function () {\r\n        return this.getCCValue(configurableCharacteristicsNames.CommonProvisionalStandardisation, standardisationSetupStore.instance.markSchemeGroupId).toLowerCase() === 'true';\r\n    };\r\n    /**\r\n     * Get restricted Classification types\r\n     * which should be highlighted as amber when over classified.\r\n     * @param markSchemeGroupId\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getRestrictedSSUTarget = function (markSchemeGroupId) {\r\n        var restrictSSUTargetsCCValue = configurableCharacteristicsHelper.getCharacteristicValue('RestrictStandardisationSetupTargets', markSchemeGroupId);\r\n        if (restrictSSUTargetsCCValue !== '') {\r\n            var xmlHelperObj = new xmlHelper(restrictSSUTargetsCCValue);\r\n            var restrictedTargetNodes = xmlHelperObj.getAllChildNodes();\r\n            var restrictedTargets = immutable.List();\r\n            if (restrictedTargetNodes) {\r\n                // get targets which are restricted. exclude seed.\r\n                for (var node = 0; node < restrictedTargetNodes.length; node++) {\r\n                    switch (restrictedTargetNodes[node].firstChild.nodeValue) {\r\n                        case 'Practice':\r\n                            restrictedTargets =\r\n                                immutable.List(restrictedTargets.concat(enums.MarkingMode.Practice));\r\n                            break;\r\n                        case 'Standardisation':\r\n                            restrictedTargets =\r\n                                immutable.List(restrictedTargets.concat(enums.MarkingMode.Approval));\r\n                            break;\r\n                        case 'STMStandardisation':\r\n                            restrictedTargets =\r\n                                immutable.List(restrictedTargets.concat(enums.MarkingMode.ES_TeamApproval));\r\n                            break;\r\n                    }\r\n                }\r\n                return restrictedTargets;\r\n            }\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Get Standardisation Setup Required Targets\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getStandardisationSetupRequiredTargets = function () {\r\n        var standardisationSetupRequiredTargetsCCValue = configurableCharacteristicsHelper.getCharacteristicValue('StandardisationSetupRequiredTargets');\r\n        if (standardisationSetupRequiredTargetsCCValue !== '') {\r\n            var xmlHelperObj = new xmlHelper(standardisationSetupRequiredTargetsCCValue);\r\n            var requiredTargetNodes = xmlHelperObj.getAllChildNodes();\r\n            var requiredTargets = Immutable.List();\r\n            if (requiredTargetNodes) {\r\n                // get targets which are restricted. exclude seed.\r\n                for (var node = 0; node < requiredTargetNodes.length; node++) {\r\n                    if (requiredTargetNodes[node].firstChild !== null) {\r\n                        switch (requiredTargetNodes[node].firstChild.nodeValue) {\r\n                            case 'Practice':\r\n                                requiredTargets =\r\n                                    Immutable.List(requiredTargets.concat(enums.MarkingMode.Practice));\r\n                                break;\r\n                            case 'Standardisation':\r\n                                requiredTargets =\r\n                                    Immutable.List(requiredTargets.concat(enums.MarkingMode.Approval));\r\n                                break;\r\n                            case 'STMStandardisation':\r\n                                requiredTargets =\r\n                                    Immutable.List(requiredTargets.concat(enums.MarkingMode.ES_TeamApproval));\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n                return requiredTargets;\r\n            }\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Check whether the specified target ov3erclassified\r\n     * @param tabSelection\r\n     * @param markingMode\r\n     * @param rigOrder\r\n     */\r\n    StandardisationSetupHelperBase.prototype.isSSUTargetsOverClassified = function (tabSelection, markingMode, rigOrder) {\r\n        // Hold the Restricted targets which should be highlighted when over classified.\r\n        var restrictedSSUTargets = this.getRestrictedSSUTarget(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n        var classificationSummaryTargetDetails = standardisationSetupStore.instance.classificationSummaryTargetDetails;\r\n        return tabSelection === enums.StandardisationSetup.ClassifiedResponse &&\r\n            restrictedSSUTargets && restrictedSSUTargets.contains(markingMode) &&\r\n            classificationSummaryTargetDetails.some(function (x) { return x.markingModeId === markingMode &&\r\n                x.markingModeId !== enums.MarkingMode.Seeding &&\r\n                x.count > x.target && rigOrder > x.target; });\r\n    };\r\n    return StandardisationSetupHelperBase;\r\n}());\r\nmodule.exports = StandardisationSetupHelperBase;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2UudHM/MmNhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuaW1wb3J0IGdyaWRSb3cgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZHJvdycpO1xuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xuaW1wb3J0IGdyaWRDZWxsID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL2dyaWRjZWxsJyk7XG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9lbnVtcycpO1xuaW1wb3J0IEdlbmVyaWNDb21wb25lbnRXcmFwcGVyID0gcmVxdWlyZSgnLi4vZ2VuZXJpY2NvbXBvbmVudHdyYXBwZXInKTtcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xuaW1wb3J0IENvbHVtbkhlYWRlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9jb2x1bW5oZWFkZXInKTtcbmltcG9ydCBncmlkQ29sdW1uTmFtZXMgPSByZXF1aXJlKCcuLi9ncmlkY29sdW1ubmFtZXMnKTtcbmltcG9ydCBqc29uUmVmUmVzb2x2ZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2pzb25yZWZyZXNvbHZlci9qb3NucmVmcmVzb2x2ZXInKTtcbmltcG9ydCBHZW5lcmljVGV4dENvbHVtbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9nZW5lcmljdGV4dGNvbHVtbicpO1xuaW1wb3J0IGxvY2FsSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9sb2NhbGUvbG9jYWxlaGVscGVyJyk7XG5pbXBvcnQgaHRtVXRpbGl0aWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL2h0bWx1dGlsaXRpZXMnKTtcbmltcG9ydCBjb25zdGFudHMgPSByZXF1aXJlKCcuLi8uLi9jb25zdGFudHMnKTtcbmltcG9ydCBjb21wYXJlckxpc3QgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3NvcnRpbmcvc29ydGJhc2UvY29tcGFyZXJsaXN0Jyk7XG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XG5pbXBvcnQgaW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVyJyk7XG5sZXQgc3RhbmRhcmRpc2F0aW9uU2V0dXBHcmlkQ29sdW1uc0pzb24gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBncmlkY29sdW1ucy5qc29uJyk7XG5pbXBvcnQgYmx1ZUJhbm5lck1lc3NhZ2UgPSByZXF1aXJlKCcuLi8uLi8uLi9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvYmx1ZWJhbm5lcicpO1xuaW1wb3J0IHRvdGFsTWFyayA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC90b3RhbG1hcmtkZXRhaWwnKTtcbmltcG9ydCBUYWdMaXN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vcmVzcG9uc2UvcmVzcG9uc2VzY3JlZW4vdGFnbGlzdCcpO1xuaW1wb3J0IHN0ZFJlc3BvbnNlSWQgPSByZXF1aXJlKCcuLi8uLi8uLi9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvc3RhbmRhcmRpc2F0aW9ucmVzcG9uc2VpZCcpO1xuaW1wb3J0IExpbmtlZE1lc3NhZ2VJbmRpY2F0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvbGlua2VkbWVzc2FnZWluZGljYXRvcicpO1xuaW1wb3J0IExhc3RVcGRhdGVkQ29sdW1uID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL2xhc3R1cGRhdGVkY29sdW1uJyk7XG5pbXBvcnQgc2NyaXB0aWRncmlkZWxlbWVudCA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9zY3JpcHRpZGdyaWRlbGVtZW50Jyk7XG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cHN0b3JlJyk7XG5pbXBvcnQgZWNvdXJzZVdvcmtIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9lY291cnNld29yay9lY291cnNld29ya2hlbHBlcicpO1xuaW1wb3J0IFJpZ09yZGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3JpZ29yZGVyJyk7XG5pbXBvcnQgdGFnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvdGFncy90YWdzdG9yZScpO1xuaW1wb3J0IHNsYW9Bbm5vdGF0aW9uSW5kaWNhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL3NsYW9hbm5vdGF0aW9uaW5kaWNhdG9yJyk7XG5pbXBvcnQgTWFya2luZ1Byb2dyZXNzID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL21hcmtpbmdwcm9ncmVzcycpO1xuaW1wb3J0IG1hcmtzQ29sdW1uID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL21hcmtzY29sdW1uJyk7XG5pbXBvcnQgYWxsUGFnZUFubm90YXRpb25JbmRpY2F0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvYWxscGFnZWFubm90YXRpb25pbmRpY2F0b3InKTtcbmltcG9ydCBhbGxGaWxlc05vdFZpZXdlZEluZGljYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9hbGxmaWxlc25vdHZpZXdlZGluZGljYXRvcicpO1xuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vZWNvdXJzZXdvcmsvZWNvdXJzZXdvcmtoZWxwZXInKTtcbmltcG9ydCBzdWJtaXRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9zdWJtaXQvc3VibWl0aGVscGVyJyk7XG5pbXBvcnQgRGVjbGFzc2lmeUJ1dHRvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0YW5kYXJkaXNhdGlvbnNldHVwL2RlY2xhc3NpZnlidXR0b24nKTtcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xuaW1wb3J0IHN0cmluZ0Zvcm1hdEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvc3RyaW5nZm9ybWF0L3N0cmluZ2Zvcm1hdGhlbHBlcicpO1xuaW1wb3J0IGdlbmVyaWNEYXRlID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL2dlbmVyaWNkYXRlJyk7XG5pbXBvcnQgeG1sSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL3htbGhlbHBlcicpO1xuaW1wb3J0IHNvcnRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3NvcnRpbmcvc29ydGhlbHBlcicpO1xuaW1wb3J0IHN0YW5kYXJkaXNhdGlvblRhcmdldERldGFpbCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC90eXBpbmdzL3N0YW5kYXJkaXNhdGlvbnRhcmdldGRldGFpbCcpO1xuaW1wb3J0IHNoYXJlZFJlc3BvbnNlSW5kaWNhdG9yRWxlbWVudCA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9zaGFyZWRyZXNwb25zZWluZGljYXRvcicpO1xuLyoqXG4gKiBjbGFzcyBmb3IgV29ya0xpc3QgSGVscGVyIGltcGxlbWVudGF0aW9uXG4gKi9cbmNsYXNzIFN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyQmFzZSBpbXBsZW1lbnRzIHN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyIHtcblxuICAgIC8qIHZhcmlhYmxlIHRvIGhvbGRzIHRoZSBjb2x1bW4gZGV0YWlscyBKU09OKi9cbiAgICBwdWJsaWMgcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb246IGFueTtcblxuICAgIC8qIEdyaWQgcm93cyBjb2xsZWN0aW9uICovXG4gICAgcHVibGljIF9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbjogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz47XG5cbiAgICBwdWJsaWMgX3N0ZFdvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb246IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+O1xuXG4gICAgcHVibGljIF90YWJsZUhlYWRlckNvbGxlY3Rpb246IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+O1xuXG4gICAgLy8gRWxlbWVudHMgdG8gaG9sZCBhIGRpY3Rpb25hcnkgd2l0aCBrZXkgYXMgY2xhc3MgbmFtZSB0byBncm91cCBhbmQgY29sbGVjdGlvblxuICAgIC8vIG9mIGVsZW1lbnRzXG4gICAgcHJpdmF0ZSBfZ3JvdXBDb2x1bW5zOiB7IFtpZDogc3RyaW5nXTogeyB2YWx1ZXM6IEltbXV0YWJsZS5MaXN0PEpTWC5FbGVtZW50PiB9IH07XG5cbiAgICBwcml2YXRlIF9kYXRlTGVuZ3RoSW5QaXhlbDogbnVtYmVyID0gMDtcblxuICAgIHByaXZhdGUgX2lzTm9uTnVtZXJpYzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgcm93VGl0bGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgQ29uZmlndXJhYmxlIGNoYXJhY3RlcmlzdGljIHZhbHVlLlxuICAgICAqIEBwYXJhbSBjY05hbWVcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRDQ1ZhbHVlKGNjTmFtZTogc3RyaW5nLCBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyKTogYW55IHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKGNjTmFtZSwgbWFya1NjaGVtZUdyb3VwSWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBTZXNzaW9uIHRhYiB2aXNpYmlsdHkgaW4gU1NVXG4gICAgICovXG4gICAgcHVibGljIGdldFNlc3Npb25UYWJWaXNpYmlsdHlpblNlbGVjdFJlc3BvbnNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuUmV1c2VSSUcpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJ1xuICAgICAgICAgICAgJiYgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGRTZXR1cFBlcm1pc3Npb25DQ0RhdGEucm9sZS5wZXJtaXNzaW9ucy5yZXVzZVJlc3BvbnNlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZXRhaW4gcHJvdmlzaW9uYWwgQ0NcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNSZXRhaW5Qcm92aXNpb25hbE1hcmtzQ0NPbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuUmV0YWluUHJvdmlzaW9uYWxNYXJrcyxcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG5cblx0LyoqXG5cdCAqIGdlbmVyYXRlU3RhbmRhcmRpc2F0aW9uUm93RGVmaW5pb24gaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZFxuXHQgKiBAcGFyYW0gY29tcGFyZXJOYW1lXG5cdCAqIEBwYXJhbSBzb3J0RGlyZWN0aW9uXG5cdCAqIEBwYXJhbSB3b3JrTGlzdFNlbGVjdGlvblxuXHQgKiBAcGFyYW0gZ3JpZFR5cGVcblx0ICovXG4gICAgcHVibGljIGdlbmVyYXRlU3RhbmRhcmRpc2F0aW9uUm93RGVmaW5pb24oY29tcGFyZXJOYW1lOiBzdHJpbmcsIHNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24sXG4gICAgICAgIHdvcmtMaXN0U2VsZWN0aW9uOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCwgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGluZyBSZXVzYWJsZSByZXNwb25zZSB3b3JrbGlzdCBncmlkIHJvdyBkZWZpbml0aW9uXG4gICAgICogQHBhcmFtIHJldXNhYmxlUmVzcG9uc2VzTGlzdFxuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVJldXNhYmxlUmVzcG9uc2VzUm93RGVmaW5pdGlvbihyZXVzYWJsZVJlc3BvbnNlc0xpc3Q6IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRpbmcgZnJvemVuIHJvdyBib2R5IGZvciByZXVzYWJsZSByZXNwb25zZXMgZ3JpZFxuICAgICAqIEBwYXJhbSByZXVzYWJsZVJlc3BvbnNlc0xpc3RcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5UmV1c2FibGVHcmlkKHJldXNhYmxlUmVzcG9uc2VzTGlzdDogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPixcbiAgICAgICAgY29tcGFyZXJOYW1lPzogc3RyaW5nLFxuICAgICAgICBzb3J0RGlyZWN0aW9uPzogZW51bXMuU29ydERpcmVjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RkV29ya0xpc3RGcm96ZW5Sb3dCb2R5Q29sbGVjdGlvbjtcbiAgICB9XG5cblx0LyoqXG5cdCAqIGdlbmVyYXRlU2NyaXB0Um93RGVmaW5pdGlvbiBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBTZWxlY3QgcmVzcG9uc2UgU2NyaXB0IEdyaWRcblx0ICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNjcmlwdExpc3Rcblx0ICovXG4gICAgcHVibGljIGdlbmVyYXRlU2NyaXB0Um93RGVmaW5pdGlvbihzdGFuZGFyZGlzYXRpb25TY3JpcHRMaXN0OiBTdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzTGlzdCk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlVGFibGVIZWFkZXIgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyBoZWFkZXIgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlXG4gICAgICogQHBhcmFtIGNvbXBhcmVyTmFtZVxuICAgICAqIEBwYXJhbSBzb3J0RGlyZWN0aW9uXG4gICAgICogQHBhcmFtIGdyaWRUeXBlXG4gICAgICogQHBhcmFtIHNlbGVjdGVkU2Vzc2lvblRhYlxuICAgICAqIEBwYXJhbSBjZW50cmVPclNjcmlwdFxuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVRhYmxlSGVhZGVyKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsIGNvbXBhcmVyTmFtZTogc3RyaW5nLFxuICAgICAgICBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxuICAgICAgICBncmlkVHlwZT86IGVudW1zLkdyaWRUeXBlLFxuICAgICAgICBzZWxlY3RlZFNlc3Npb25UYWI/OiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiLFxuICAgICAgICBjZW50cmVPclNjcmlwdD86IHN0cmluZyk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcblxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0ganNvblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHN0YW5kYXJkaXNhdGlvblNldHVwR3JpZENvbHVtbnNKc29uKTtcbiAgICAgICAgbGV0IF90YWJsZUhlYWRlckNvbGxlY3Rpb24gPSB0aGlzLmdldFRhYmxlSGVhZGVyKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSxcbiAgICAgICAgICAgIGNvbXBhcmVyTmFtZSwgc29ydERpcmVjdGlvbiwgc2VsZWN0ZWRTZXNzaW9uVGFiLCBncmlkVHlwZSwgY2VudHJlT3JTY3JpcHQpO1xuICAgICAgICByZXR1cm4gX3RhYmxlSGVhZGVyQ29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZW5lcmF0ZUZyb3plblJvd0JvZHkgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgU3RhbmRhcmRpc2F0aW9uIFNldHVwIEdyaWRcbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBEZXRhaWxzTGlzdFxuICAgICAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVGcm96ZW5Sb3dCb2R5KHN0YW5kYXJkaXNhdGlvblNldHVwRGV0YWlsc0xpc3Q6IFN0YW5kYXJkaXNhdGlvblNldHVwRGV0YWlsc0xpc3QsXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXG4gICAgICAgIGdyaWRUeXBlPzogZW51bXMuR3JpZFR5cGUsXG4gICAgICAgIGNvbXBhcmVyTmFtZT86IHN0cmluZyxcbiAgICAgICAgc29ydERpcmVjdGlvbj86IGVudW1zLlNvcnREaXJlY3Rpb24pOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XG5cbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpzb25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbik7XG5cbiAgICAgICAgbGV0IF93b3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uID0gdGhpcy5nZXRGcm96ZW5Sb3dCb2R5Rm9yTGlzdFZpZXcoXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cERldGFpbHNMaXN0LCBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsIGdyaWRUeXBlLCBjb21wYXJlck5hbWUsIHNvcnREaXJlY3Rpb24pO1xuXG4gICAgICAgIHJldHVybiBfd29ya0xpc3RGcm96ZW5Sb3dCb2R5Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBoZWFkZXIgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgdGFibGVcbiAgICAgKiBAcGFyYW0gY29tcGFyZXJOYW1lXG4gICAgICogQHBhcmFtIHNvcnREaXJlY3Rpb25cbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlXG4gICAgICogQHBhcmFtIHNlbGVjdGVkU2Vzc2lvblRhYlxuICAgICAqIEBwYXJhbSBpc1NvcnRhYmxlXG4gICAgICovXG4gICAgcHVibGljIGdlbmVyYXRlRnJvemVuUm93SGVhZGVyKGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGU6IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLFxuICAgICAgICBzZWxlY3RlZFNlc3Npb25UYWI6IGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIgPSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiLkN1cnJlbnRTZXNzaW9uLFxuICAgICAgICBpc1NvcnRhYmxlOiBib29sZWFuID0gdHJ1ZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcblxuICAgICAgICAvLyBHZXQgdGhlIGZyb3plbiBjb2x1bW4gbGlzdCBmcm9tIGpzb25cbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpzb25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbik7XG4gICAgICAgIGxldCBfZnJvemVuUm93SGVhZGVyQ29sbGVjdGlvbiA9IHRoaXMuZ2V0RnJvemVuUm93SGVhZGVyKGNvbXBhcmVyTmFtZSxcbiAgICAgICAgICAgIHNvcnREaXJlY3Rpb24sIGlzU29ydGFibGUsIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSwgc2VsZWN0ZWRTZXNzaW9uVGFiKTtcblxuICAgICAgICByZXR1cm4gX2Zyb3plblJvd0hlYWRlckNvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdXNlZCBmb3IgZ2VuZXJhdGluZyBmcm96ZW4gcm93IGJvZHkgY29sbGVjdGlvbiBmb3IgU1REIFdvcmtMaXN0IHRhYmxlXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlTGlzdERhdGFcbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlXG4gICAgICogQHBhcmFtIGdyaWRUeXBlXG4gICAgICovXG4gICAgcHVibGljIGdlbmVyYXRlU3RhbmRhcmRpc2F0aW9uRnJvemVuUm93Qm9keShjb21wYXJlck5hbWU6IHN0cmluZywgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbixcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RkV29ya0xpc3RGcm96ZW5Sb3dCb2R5Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgYSB3cmFwZXIgZm9yIGdyaWQgY29sdW1uXG4gICAgICogQHBhcmFtIGVsZW1lbnRzXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZVxuICAgICAqIEBwYXJhbSBzZXFcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0V3JhcHBlZENvbHVtbihlbGVtZW50czogSW1tdXRhYmxlLkxpc3Q8SlNYLkVsZW1lbnQ+LCBjbGFzc05hbWU6IHN0cmluZywgc2VxOiBzdHJpbmcpOiBncmlkQ2VsbCB7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XG4gICAgICAgIGxldCBfZ3JpZENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgbGV0IGVsZW1lbnQ6IGdyaWRDZWxsO1xuXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBkaXZDbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgICAgIGNvbXBvbmVudExpc3Q6IGVsZW1lbnRzXG4gICAgICAgIH07XG4gICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChHZW5lcmljQ29tcG9uZW50V3JhcHBlciwgY29tcG9uZW50UHJvcHMpO1xuICAgICAgICByZXR1cm4gX3dvcmtMaXN0Q2VsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGluZyBncmlkIGNvbHVtbnMgY29sbGVjdGlvblxuICAgICAqIEBwYXJhbSBncmlkZ3JpZExlZnRDb2x1bW5cbiAgICAgKiBAcGFyYW0gZ3JpZE1pZGRsZUNvbHVtblxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKiBAcGFyYW0gZ3JpZFJpZ2h0Q29sdW1uIC0gdG8gZGlzcGxheSBBTUQgYW5kIFRNRCBiYXNlZCBvbiBBY2N1cmFjeSBJbmRpY2F0b3JcbiAgICAgKiBAcmV0dXJucyBncmlkIGNlbGwgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0R3JpZENlbGxzKFxuICAgICAgICBncmlkZ3JpZExlZnRDb2x1bW46IEFycmF5PEpTWC5FbGVtZW50PixcbiAgICAgICAgZ3JpZE1pZGRsZUNvbHVtbjogQXJyYXk8SlNYLkVsZW1lbnQ+LFxuICAgICAgICBrZXk6IHN0cmluZyxcbiAgICAgICAgZ3JpZFJpZ2h0Q29sdW1uPzogQXJyYXk8SlNYLkVsZW1lbnQ+KTogQXJyYXk8Z3JpZENlbGw+IHtcbiAgICAgICAgbGV0IF9ncmlkQ2VsbHM6IEFycmF5PGdyaWRDZWxsPiA9IG5ldyBBcnJheSgpO1xuICAgICAgICBfZ3JpZENlbGxzLnB1c2godGhpcy5nZXRXcmFwcGVkQ29sdW1uKEltbXV0YWJsZS5MaXN0KGdyaWRncmlkTGVmdENvbHVtbiksICdjb2wgbGVmdC1jb2wnLCAnR3JpZF9sZWZ0XycgKyBrZXkpKTtcbiAgICAgICAgX2dyaWRDZWxscy5wdXNoKHRoaXMuZ2V0V3JhcHBlZENvbHVtbihJbW11dGFibGUuTGlzdChncmlkTWlkZGxlQ29sdW1uKSwgJ2NvbCBjZW50cmUtY29sJywgJ0dyaWRfY2VudHJlXycgKyBrZXkpKTtcbiAgICAgICAgLy8gY3JlYXRlIGNvbHVtbiBmb3IgQU1EIGFuZCBUTUQgb25seSBpZiBncmlkUmlnaHRDb2x1bW4gaXMgbm90IG51bGxcbiAgICAgICAgaWYgKGdyaWRSaWdodENvbHVtbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgX2dyaWRDZWxscy5wdXNoKHRoaXMuZ2V0V3JhcHBlZENvbHVtbihJbW11dGFibGUuTGlzdChncmlkUmlnaHRDb2x1bW4pLCAnY29sIHJpZ2h0LWNvbCcsICdHcmlkX3JpZ2h0XycgKyBrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2dyaWRDZWxscztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHcm91cCB0aGUgZWxlbWVudHMgYmFzZWQgb24gdGhlIGNsYXNzTmFtZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGdyb3VwQ2xhc3NOYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlcVxuICAgICAqIEByZXR1cm5zIHRoZSBncm91cGVkIEpTWC5FbGVtZW50LlxuICAgICAqIEBTdW1tYXJ5IGdyb3VwQ2xhc3NOYW1lIGlzIHRoZSByb290IGVsZW1lbnQgY2xhc3NOYW1lIGFuZCB0aGUgY29sdW1uIGxpc3QgbWF5IGNvbnRhaW5cbiAgICAgKiB0aGUga2V5IHNhbWUgYXMgZ3JvdXBDbGFzc05hbWUuIFRoZW4gdGhhdCB3aWxsIG5vdCBncm91cCB0aGUgZWxlbWVudHMgaW5zdGVhZCBhZGQgaXQgYXNcbiAgICAgKiBpbW1lZGlhdGUgY2hpbGQgbm9kZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ3JvdXBDb2x1bW5FbGVtZW50cyhncm91cENsYXNzTmFtZTogc3RyaW5nLCBzZXE6IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcblxuICAgICAgICBsZXQgZWxlbWVudHMgPSBJbW11dGFibGUuTGlzdDxKU1guRWxlbWVudD4oKTtcblxuICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGNsYXNzIGdyb3VwIG5hbWVzIHRvIGZpbmQgdGhlIGNoaWxkIGFuZCBncm91cC5cbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuX2dyb3VwQ29sdW1ucykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2dyb3VwQ29sdW1uc1trZXldLnZhbHVlcykge1xuICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuX2dyb3VwQ29sdW1uc1trZXldICsgc2VxLFxuICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuX2dyb3VwQ29sdW1uc1trZXldICsgc2VxLFxuICAgICAgICAgICAgICAgICAgICBkaXZDbGFzc05hbWU6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50TGlzdDogdGhpcy5fZ3JvdXBDb2x1bW5zW2tleV0udmFsdWVzXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBrZXkgc2FtZSBhcyBtYWluIGdyb3VwIGNsYXNzTmFtZSB0aGVuIHdlIGRvbnQgbmVlZCB0byBjcmVhdGUgYSBjaGlsZG5vZGUuXG4gICAgICAgICAgICAgICAgLy8gdHJlYXRpbmcgaXQgYXMgaW1tZWRpYXRlIGNoaWxkIG9mIHRoZSBtYWluIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gZ3JvdXBDbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgPSBlbGVtZW50cy5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoR2VuZXJpY0NvbXBvbmVudFdyYXBwZXIsIGNvbXBvbmVudFByb3BzKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ncm91cENvbHVtbnNba2V5XS52YWx1ZXMubWFwKCh4OiBKU1guRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgPSBlbGVtZW50cy5wdXNoKHgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBpZDogZ3JvdXBDbGFzc05hbWUgKyBzZXEsXG4gICAgICAgICAgICBrZXk6IGdyb3VwQ2xhc3NOYW1lICsgc2VxLFxuICAgICAgICAgICAgZGl2Q2xhc3NOYW1lOiBncm91cENsYXNzTmFtZSxcbiAgICAgICAgICAgIGNvbXBvbmVudExpc3Q6IGVsZW1lbnRzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEdlbmVyaWNDb21wb25lbnRXcmFwcGVyLCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgd2l0aCBmcmVzaCBncm91cC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZW1wdHlHcm91cENvbHVtbnMoKTogdm9pZCB7XG4gICAgICAgIC8vIHN0YXJ0IHdpdGggYSBmcmVzaCBsaXN0IG9mIGNvbHVtbiBncm91cCBzZXQuXG4gICAgICAgIHRoaXMuX2dyb3VwQ29sdW1ucyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZ3JvdXAgY29sdW1uc1xuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcHVibGljIGdldCBncm91cENvbHVtbnMoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyb3VwQ29sdW1ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBwaW5nIHRoZSBlYWNoIGVsZW1lbnRzIHRvIGEgZ3JvdXAuXG4gICAgICogVGhpcyBhZGQgdGhlIGVsZW1lbnRzIHRvIGEgZGljdGlvbmFyeSB3aGljaCBoYXMgY2xhc3NOYW1lIGFzIGtleVxuICAgICAqIGFuZCBsaXN0IG9mIGVsZW1lbnRzIHRoYXQgIGdyb3VwZWQgdW5kZXIgdGhlIGNsYXNzTmFtZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gICAgICogQHBhcmFtIHtKU1guRWxlbWVudH0gZWxlbWVudFxuICAgICAqL1xuICAgIHB1YmxpYyBtYXBHcm91cENvbHVtbnMoY2xhc3NOYW1lOiBzdHJpbmcsIGVsZW1lbnQ6IEpTWC5FbGVtZW50KTogdm9pZCB7XG5cbiAgICAgICAgLy8gSWYgbm90IGdyb3VwIGNsYXNzIGhhcyBiZWVuIGFkZGVkIGNyZWF0ZSBhIG5ldyBvYmplY3RcbiAgICAgICAgLy8gb3RoZXJ3aXNlIGFkZCB0byB0aGUgZXhpc3RpbmcuXG4gICAgICAgIGlmICh0aGlzLl9ncm91cENvbHVtbnNbY2xhc3NOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9ncm91cENvbHVtbnNbY2xhc3NOYW1lXSA9IHsgdmFsdWVzOiBJbW11dGFibGUuTGlzdDxKU1guRWxlbWVudD4oKSB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2dyb3VwQ29sdW1uc1tjbGFzc05hbWVdLnZhbHVlcyA9IHRoaXMuX2dyb3VwQ29sdW1uc1tjbGFzc05hbWVdLnZhbHVlcy5wdXNoKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgQ29sdW1uIEhlYWRlciBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gc2VxIC0ga2V5IHZhbHVlIGZvciB0aGUgY29tcG9uZW50XG4gICAgICogQHBhcmFtIGRpc3BsYXlUZXh0IC0gdGhlIHRleHQgdG8gYXBwZW5kIHdpdGggdGhlIGRpc3BsYXkgaWQuXG4gICAgICogQHJldHVybnMgSlNYLkVsZW1lbnQuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldENvbHVtbkhlYWRlckVsZW1lbnQoc2VxOiBzdHJpbmcsIGhlYWRlclRleHQ/OiBzdHJpbmcsIGdyaWRDb2x1bW4/OiBzdHJpbmcsXG4gICAgICAgIGlzQ3VycmVudFNvcnQ/OiBib29sZWFuLCBpc1NvcnRSZXF1aXJlZD86IGJvb2xlYW4sIHNvcnREaXJlY3Rpb24/OiBlbnVtcy5Tb3J0RGlyZWN0aW9uKTogSlNYLkVsZW1lbnQge1xuXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIGhlYWRlclRleHQ6IGhlYWRlclRleHQsXG4gICAgICAgICAgICBzb3J0RGlyZWN0aW9uOiBzb3J0RGlyZWN0aW9uLFxuICAgICAgICAgICAgaXNDdXJyZW50U29ydDogaXNDdXJyZW50U29ydCxcbiAgICAgICAgICAgIGlzU29ydGluZ1JlcXVpcmVkOiBpc1NvcnRSZXF1aXJlZFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbHVtbkhlYWRlciwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uIGZvciB0YWJsZSBoZWFkZXIuXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZVxuICAgICAqIEBwYXJhbSBjb21wYXJlck5hbWVcbiAgICAgKiBAcGFyYW0gc29ydERpcmVjdGlvblxuICAgICAqIEBwYXJhbSBzZWxlY3RlZFNlc3Npb25UYWJcbiAgICAgKiBAcGFyYW0gZ3JpZFR5cGVcbiAgICAgKiBAcGFyYW0gY2VudHJlT3JTY3JpcHRcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VGFibGVIZWFkZXIoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcbiAgICAgICAgY29tcGFyZXJOYW1lOiBzdHJpbmcsXG4gICAgICAgIHNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24sXG4gICAgICAgIHNlbGVjdGVkU2Vzc2lvblRhYjogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2Vzc2lvblRhYiA9IGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIuQ3VycmVudFNlc3Npb24sXG4gICAgICAgIGdyaWRUeXBlPzogZW51bXMuR3JpZFR5cGUsIGNlbnRyZU9yU2NyaXB0Pzogc3RyaW5nKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuICAgICAgICBsZXQgX2NvbHVtbkhlYWRlckNvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xuICAgICAgICBsZXQgX2NlbGw6IGdyaWRDZWxsO1xuICAgICAgICBsZXQgX3JvdyA9IG5ldyBncmlkUm93KCk7XG4gICAgICAgIGxldCBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb246IEFycmF5PGdyaWRDZWxsPiA9IG5ldyBBcnJheSgpO1xuICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24sXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsIGZhbHNlLCBncmlkVHlwZSwgc2VsZWN0ZWRTZXNzaW9uVGFiLCBjZW50cmVPclNjcmlwdCk7XG4gICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcblxuICAgICAgICAvLyBHZXR0aW5nIHRoZSBjbGFzc2lmaWVkIHdvcmtsaXN0IGNvbHVtbnNcbiAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcbiAgICAgICAgICAgIF9jZWxsID0gbmV3IGdyaWRDZWxsKCk7XG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xuICAgICAgICAgICAgbGV0IGhlYWRlclRleHQgPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbHVtbkhlYWRlcjtcbiAgICAgICAgICAgIGxldCBfY29tcGFyZXJOYW1lID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wYXJlck5hbWU7XG5cbiAgICAgICAgICAgIGhlYWRlclRleHQgPSAoaGVhZGVyVGV4dCAmJiBoZWFkZXJUZXh0ICE9PSAnJykgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KGhlYWRlclRleHQpIDogJyc7XG4gICAgICAgICAgICBsZXQga2V5ID0gJ2NvbHVtbkhlYWRlcl8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgbGV0IGlzQ3VycmVudFNvcnQ6IGFueSA9XG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UgP1xuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQgOiAoY29tcGFyZXJOYW1lID09PSBfY29tcGFyZXJOYW1lKTtcbiAgICAgICAgICAgIGxldCBpc1NvcnRSZXF1aXJlZDogYW55ID1cbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUgPT09IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLkNsYXNzaWZpZWRSZXNwb25zZSA/XG4gICAgICAgICAgICAgICAgICAgIGZhbHNlIDogKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uU29ydGFibGUgPT09ICd0cnVlJyk7XG4gICAgICAgICAgICBsZXQgY3VycmVudFNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24gPVxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlID9cbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkIDogc29ydERpcmVjdGlvbjtcblxuICAgICAgICAgICAgX2NlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0Q29sdW1uSGVhZGVyRWxlbWVudChcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgaGVhZGVyVGV4dCxcbiAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4sXG4gICAgICAgICAgICAgICAgaXNDdXJyZW50U29ydCxcbiAgICAgICAgICAgICAgICBpc1NvcnRSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBjdXJyZW50U29ydERpcmVjdGlvblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgX2NlbGwuaXNIaWRkZW4gPSB0aGlzLmdldENlbGxWaXNpYmlsaXR5KF9yZXNwb25zZUNvbHVtbik7XG5cbiAgICAgICAgICAgIC8vIE5vIHNvcnQgZm9yIGNsYXNzaWZpY2F0aW9uXG4gICAgICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlICE9PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBfY2VsbC5jb21wYXJlck5hbWUgPSBfY29tcGFyZXJOYW1lO1xuICAgICAgICAgICAgICAgIF9jZWxsLnNvcnREaXJlY3Rpb24gPSB0aGlzLmdldFNvcnREaXJlY3Rpb24oKGNvbXBhcmVyTmFtZSA9PT0gX2NvbXBhcmVyTmFtZSksIHNvcnREaXJlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcbiAgICAgICAgICAgIF9jZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cbiAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9jZWxsKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IER5bmFtaWMgSGVhZGVycyBmb3IgSW5kaXZpZHVhbCBxdWVzdGlvbiB3aGVuIE1hcmsgQnkgcXVlc3Rpb24gdmlldyBzZWxlY3RlZFxuICAgICAgICBpZiAoZ3JpZFR5cGUgPT09IGVudW1zLkdyaWRUeXBlLm1hcmtCeVF1ZXN0aW9uKSB7XG4gICAgICAgICAgICBsZXQgc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VMaXN0RGF0YSA9XG4gICAgICAgICAgICAgICAgSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPihcbiAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGFuZGFyZGlzYXRpb25TZXRVcFJlc3BvbnNlZGV0YWlscy5zdGFuZGFyZGlzYXRpb25SZXNwb25zZXMpO1xuICAgICAgICAgICAgX2NvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uLmNvbmNhdChcbiAgICAgICAgICAgICAgICB0aGlzLmdldER5bmFtaWNIZWFkZXJzRm9yTWFya3Moc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VMaXN0RGF0YSwgX2NvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlICYmXG4gICAgICAgICAgICAgICAgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhICYmXG4gICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhLnJvbGUucGVybWlzc2lvbnMuZGVjbGFzc2lmeSkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmV0YWluUHJvdmlzaW9uYWxNYXJrc0NDT24oKSAmJlxuICAgICAgICAgICAgICAgICFxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5zdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleSA9ICdjb2x1bW5IZWFkZXJfRGVjbGFzc2lmeSc7XG4gICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9ICdsYXN0LWNlbGwtaGVhZGVyJztcbiAgICAgICAgICAgICAgICBfY2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBxdWVzdGlvbiBoZWFkZXIgZWxlbWVudCBmb3IgZWFjaCBxdWVzdGlvbi5cbiAgICAgICAgICAgICAgICBfY2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRDb2x1bW5IZWFkZXJFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBfY2VsbC5pc0hpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF9jZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9jZWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9BZGRpbmcgdGhlICdsYXN0LWNlbGwnIGNvbHVtbiBhcyB0aGlzIGNvbHVtbiBpcyBub3QgYWRkZWQgdG8gY2xhc3NpZmllZCB3b3JrbHN0IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gJ2NvbHVtbkhlYWRlcl9EZWNsYXNzaWZ5JztcbiAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gJ2xhc3QtY2VsbC1oZWFkZXInO1xuICAgICAgICAgICAgICAgIF9jZWxsID0gbmV3IGdyaWRDZWxsKCk7XG4gICAgICAgICAgICAgICAgX2NlbGwuaXNIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfY2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cbiAgICAgICAgICAgICAgICBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfY2VsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIF9yb3cuc2V0Um93SWQoMSk7XG4gICAgICAgIF9yb3cuc2V0Q2VsbHMoX2NvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uKTtcbiAgICAgICAgX2NvbHVtbkhlYWRlckNvbGxlY3Rpb24ucHVzaChfcm93KTtcblxuICAgICAgICBsZXQgX3N0YW5kYXJkaXNhdGlvblRhYmxlSGVhZGVyQ29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX2NvbHVtbkhlYWRlckNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gX3N0YW5kYXJkaXNhdGlvblRhYmxlSGVhZGVyQ29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSB0YWJsZSByb3cgY29sbGVjdGlvbiBvZiBmcm96ZW4gdGFibGVcbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBEZXRhaWxzTGlzdFxuICAgICAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RnJvemVuUm93Qm9keUZvckxpc3RWaWV3KHN0YW5kYXJkaXNhdGlvblNldHVwRGV0YWlsc0xpc3Q6IFN0YW5kYXJkaXNhdGlvblNldHVwRGV0YWlsc0xpc3QsXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXG4gICAgICAgIGdyaWRUeXBlPzogZW51bXMuR3JpZFR5cGUsXG4gICAgICAgIGNvbXBhcmVyTmFtZT86IHN0cmluZyxcbiAgICAgICAgc29ydERpcmVjdGlvbj86IGVudW1zLlNvcnREaXJlY3Rpb24pOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XG5cbiAgICAgICAgbGV0IF9yb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xuICAgICAgICBsZXQgX3JvdzogZ3JpZFJvdztcbiAgICAgICAgbGV0IF9yb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XG4gICAgICAgIGxldCBfY2VsbDogZ3JpZENlbGw7XG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcbiAgICAgICAgbGV0IGNzc0NsYXNzOiBzdHJpbmc7XG4gICAgICAgIGxldCBzdWJtaXRSZXNwb25zZTogc3VibWl0SGVscGVyID0gbmV3IHN1Ym1pdEhlbHBlcigpO1xuXG4gICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cERldGFpbHNMaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBncmlkU2VxOiBhbnk7XG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGE6IGFueTtcbiAgICAgICAgICAgIGxldCBncmlkQ29sdW1uczogYW55O1xuICAgICAgICAgICAgbGV0IGdyaWRSb3dJZENvbHVtbjogc3RyaW5nO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuU2VsZWN0UmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cERldGFpbHNMaXN0LnN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHNMaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkU2VxID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBEZXRhaWxzTGlzdC5zdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzTGlzdC5jZW50cmVTY3JpcHRMaXN0LmtleVNlcSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlTGlzdERhdGEgPSBzdGFuZGFyZGlzYXRpb25TZXR1cERldGFpbHNMaXN0LnN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHNMaXN0LmNlbnRyZVNjcmlwdExpc3QudG9BcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24sIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSwgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIuQ3VycmVudFNlc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NjcmlwdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFJvd0lkQ29sdW1uID0gJ2NhbmRpZGF0ZVNjcmlwdElkJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUxpc3REYXRhID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGFuZGFyZGlzYXRpb25TZXRVcFJlc3BvbnNlZGV0YWlscy5zdGFuZGFyZGlzYXRpb25SZXNwb25zZXM7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzb3J0ZWREYXRhOiBhbnk7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRlZERhdGEgPSBJbW11dGFibGUuTGlzdDxhbnk+KHNvcnRIZWxwZXIuc29ydChfcmVzcG9uc2VMaXN0RGF0YSwgY29tcGFyZXJMaXN0W2NvbXBhcmVyTmFtZV0pKTtcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlTGlzdERhdGEgPSBzb3J0ZWREYXRhLnRvQXJyYXkoKTtcblxuICAgICAgICAgICAgICAgICAgICBncmlkU2VxID0gSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPlxuICAgICAgICAgICAgICAgICAgICAgICAgKF9yZXNwb25zZUxpc3REYXRhKS5rZXlTZXEoKTtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsIGdyaWRUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Ob25lOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIGxpc3QgZGF0YSByb3dcbiAgICAgICAgICAgICAgICBfcm93ID0gbmV3IGdyaWRSb3coKTtcbiAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcblxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGEgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPiA9XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdFJlc3BvbnNlLnN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlRGF0YSwgcmVzcG9uc2VEYXRhLm1hcmtpbmdQcm9ncmVzcywgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgX2NlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcblxuICAgICAgICAgICAgICAgICAgICAvL1N3aXRjaCBzdGF0ZW1lbnQgZm9yIGFkZGluZyBmcm96ZW4gY29sdW1ucy5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNjcmlwdElkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfU2NyaXB0SWRfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRTY3JpcHRJZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMuc2NyaXB0LWlkJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VsbC5zZXRDZWxsU3R5bGUoJ2NvbC1zY3JpcHQtaWQgaGVhZGVyLWNvbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9jZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlSWRDb2x1bW46XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZXNwb25zZUlkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jZWxsLnNldENlbGxTdHlsZSgnY29sLXJlc3BvbnNlIGhlYWRlci1jb2wnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfY2VsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Jc1NoYXJlZFByb3Zpc2lvbmFsOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc1NoYXJlZFByb3Zpc2lvbmFsID0gdGhpcy5pc0NvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uT24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YS5yb2xlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGVybWlzc2lvbnMudmlld0NvbW1vblByb3Zpc2lvbmFsQXZhaWxhYmxlUmVzcG9uc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJlc3BvbnNlRGF0YS5pc1NoYXJlZFByb3Zpc2lvbmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NoYXJlUmVzcG9uc2VJbmRpY2F0b3JDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0U2hhcmVkUmVzcG9uc2VJbmRpY2F0b3JFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTaGFyZWRQcm92aXNpb25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VsbC5zZXRDZWxsU3R5bGUoJ2NvbC1zaGFyZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfY2VsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgdGFibGUgcm93IGNvbGxlY3Rpb24uXG4gICAgICAgICAgICAgICAgX3Jvd0NvbGxlY3Rpb24ucHVzaChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhW2dyaWRSb3dJZENvbHVtbl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzZXNcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IF9mcm96ZW5Sb3dCb2R5Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3Jvd0NvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gX2Zyb3plblJvd0JvZHlDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCBTY3JpcHQgSWQgRWxlbWVudFxuICAgICAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzIFxuICAgICAqIEBwYXJhbSBwcm9wc05hbWVzIFxuICAgICAqIEBwYXJhbSBzZXEgXG4gICAgICogQHBhcmFtIGRpc3BsYXlUZXh0IFxuICAgICAqIEBwYXJhbSBpc1NjcmlwdElkQ2xpY2thYmxlIFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTY3JpcHRJZEVsZW1lbnQoc3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlsczogU3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlscyxcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxuICAgICAgICBzZXE6IHN0cmluZyxcbiAgICAgICAgZGlzcGxheVRleHQ/OiBzdHJpbmcsXG4gICAgICAgIGlzU2NyaXB0SWRDbGlja2FibGU6IGJvb2xlYW4gPSB0cnVlKTogSlNYLkVsZW1lbnQge1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgbGV0IF9kaXNwbGF5VGV4dDogc3RyaW5nO1xuXG4gICAgICAgIF9kaXNwbGF5VGV4dCA9IHN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHNbcHJvcHNOYW1lcy5TY3JpcHRJZF07XG5cbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlcSxcbiAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICBkaXNwbGF5SWQ6IHN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHNbcHJvcHNOYW1lcy5TY3JpcHRJZF0sXG4gICAgICAgICAgICBkaXNwbGF5VGV4dDogX2Rpc3BsYXlUZXh0LFxuICAgICAgICAgICAgaXNDbGlja2FibGU6IGlzU2NyaXB0SWRDbGlja2FibGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoc2NyaXB0aWRncmlkZWxlbWVudCwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgdGFibGUgcm93IGVsZW1lbnRzIGZvciBmcm96ZW4gdGFibGUgaGVhZGVyXG4gICAgICogQHBhcmFtIGNvbXBhcmVyTmFtZVxuICAgICAqIEBwYXJhbSBzb3J0RGlyZWN0aW9uXG4gICAgICogQHBhcmFtIGlzU29ydGFibGVcbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlXG4gICAgICogQHBhcmFtIHNlbGVjdGVkVGFiXG4gICAgICovXG4gICAgcHVibGljIGdldEZyb3plblJvd0hlYWRlcihjb21wYXJlck5hbWU6IHN0cmluZywgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbixcbiAgICAgICAgaXNTb3J0YWJsZTogYm9vbGVhbixcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcbiAgICAgICAgc2VsZWN0ZWRTZXNzaW9uVGFiOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuXG4gICAgICAgIGxldCBfY29sdW1uSGVhZGVyQ29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XG4gICAgICAgIGxldCBfcm93ID0gbmV3IGdyaWRSb3coKTtcbiAgICAgICAgbGV0IF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbjogQXJyYXk8Z3JpZENlbGw+ID0gbmV3IEFycmF5KCk7XG5cbiAgICAgICAgbGV0IF9jb21wYXJlck5hbWU6IGNvbXBhcmVyTGlzdDtcbiAgICAgICAgbGV0IF9ncmlkQ29sdW1uTmFtZTogc3RyaW5nID0gJyc7XG4gICAgICAgIGxldCBfY2VsbFN0eWxlOiBzdHJpbmcgPSAnJztcblxuICAgICAgICBzd2l0Y2ggKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5TZWxlY3RSZXNwb25zZTpcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlbGVjdGVkU2Vzc2lvblRhYikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIuQ3VycmVudFNlc3Npb246XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29tcGFyZXJOYW1lID0gY29tcGFyZXJMaXN0LnN0ZFNjcmlwdElkQ29tcGFyZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZ3JpZENvbHVtbk5hbWUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5zY3JpcHQtaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jZWxsU3R5bGUgPSAnY29sLXNjcmlwdC1pZCBoZWFkZXItY29sJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaCh0aGlzLnNldEZyb3plbkNvbHVtbkhlYWRlcnMoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLCBfZ3JpZENvbHVtbk5hbWUsIF9jZWxsU3R5bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZXJOYW1lLCBpc1NvcnRhYmxlLCBfY29tcGFyZXJOYW1lLCBzb3J0RGlyZWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiLlByZXZpb3VzU2Vzc2lvbjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfY2VsbDogZ3JpZENlbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuU2VsZWN0UmVzcG9uc2UsIHRydWUsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2Vzc2lvblRhYi5QcmV2aW91c1Nlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0gJ2Zyb3plblJvd0hlYWRlcl8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50Q29tcGFyZXI6IHN0cmluZyA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcGFyZXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc1NvcnRSZXF1aXJlZDogYm9vbGVhbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uU29ydGFibGUgPT09ICd0cnVlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGVhZGVyVGV4dCA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29sdW1uSGVhZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlclRleHQgPSAoaGVhZGVyVGV4dCAmJiBoZWFkZXJUZXh0ICE9PSAnJykgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KGhlYWRlclRleHQpIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKHRoaXMuc2V0RnJvemVuQ29sdW1uSGVhZGVycyhzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsIGhlYWRlclRleHQsIGNlbGxTdHlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZXJOYW1lLCBpc1NvcnRSZXF1aXJlZCwgY29tcGFyZXJMaXN0W2N1cnJlbnRDb21wYXJlcl0sIHNvcnREaXJlY3Rpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIF9ncmlkQ29sdW1uTmFtZSA9XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRlVGV4dCgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMucmVzcG9uc2UtaWQnKTtcbiAgICAgICAgICAgICAgICBfY2VsbFN0eWxlID0gJ2NvbC1yZXNwb25zZSBoZWFkZXItY29sJztcblxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKHRoaXMuc2V0RnJvemVuQ29sdW1uSGVhZGVycyhzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsICcnLFxuICAgICAgICAgICAgICAgICAgICAnY29sLXN0ZC1jbGFzc2lmeS1pdGVtcyBoZWFkZXItY29sJywgJycsIGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgX2NvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2godGhpcy5zZXRGcm96ZW5Db2x1bW5IZWFkZXJzKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSwgX2dyaWRDb2x1bW5OYW1lLFxuICAgICAgICAgICAgICAgICAgICBfY2VsbFN0eWxlLCAnJywgZmFsc2UpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuUHJvdmlzaW9uYWxSZXNwb25zZTpcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLFxuICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHRydWUpO1xuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudENvbXBhcmVyOiBzdHJpbmcgPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBhcmVyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9ncmlkQ29sdW1uTmFtZSA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29sdW1uSGVhZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2dyaWRDb2x1bW5OYW1lID0gKF9ncmlkQ29sdW1uTmFtZSAmJiBfZ3JpZENvbHVtbk5hbWUgIT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChfZ3JpZENvbHVtbk5hbWUpIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzIDogJyc7IC8vICdjb2wtcmVzcG9uc2UgaGVhZGVyLWNvbCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNTb3J0UmVxdWlyZWQ6IGJvb2xlYW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLlNvcnRhYmxlID09PSAndHJ1ZSc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2godGhpcy5zZXRGcm96ZW5Db2x1bW5IZWFkZXJzKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSwgX2dyaWRDb2x1bW5OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jZWxsU3R5bGUsIGNvbXBhcmVyTmFtZSwgaXNTb3J0UmVxdWlyZWQsIGNvbXBhcmVyTGlzdFtjdXJyZW50Q29tcGFyZXJdLCBzb3J0RGlyZWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5VbkNsYXNzaWZpZWRSZXNwb25zZTpcbiAgICAgICAgICAgICAgICBfZ3JpZENvbHVtbk5hbWUgPVxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLnJlc3BvbnNlLWlkJyk7XG4gICAgICAgICAgICAgICAgX2NlbGxTdHlsZSA9ICdjb2wtcmVzcG9uc2UgaGVhZGVyLWNvbCc7XG5cbiAgICAgICAgICAgICAgICBfY29tcGFyZXJOYW1lID0gY29tcGFyZXJMaXN0LnJlc3BvbnNlSWRDb21wYXJlcjtcblxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKHRoaXMuc2V0RnJvemVuQ29sdW1uSGVhZGVycyhzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsIF9ncmlkQ29sdW1uTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgX2NlbGxTdHlsZSwgY29tcGFyZXJOYW1lLCBpc1NvcnRhYmxlLCBfY29tcGFyZXJOYW1lLCBzb3J0RGlyZWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLk5vbmU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBfcm93LnNldFJvd0lkKDEpO1xuICAgICAgICBfcm93LnNldENlbGxzKF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbik7XG4gICAgICAgIF9jb2x1bW5IZWFkZXJDb2xsZWN0aW9uLnB1c2goX3Jvdyk7XG5cbiAgICAgICAgbGV0IF9mcm96ZW5Sb3dIZWFkZXJDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfY29sdW1uSGVhZGVyQ29sbGVjdGlvbik7XG5cbiAgICAgICAgcmV0dXJuIF9mcm96ZW5Sb3dIZWFkZXJDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRpbmcgZnJvemVuIGhlYWRlciBjb2x1bW5zIChSaWcgb3JkZXIgZW1wdHkgY29sdW1uL1Jlc3BvbnNlIElkIGZvciBDbGFzc2lmZWQpXG4gICAgICogQHBhcmFtIGNvbHVtbkhlYWRlclxuICAgICAqIEBwYXJhbSBjZWxsU3R5bGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgc2V0RnJvemVuQ29sdW1uSGVhZGVycyhzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGU6IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLFxuICAgICAgICBjb2x1bW5IZWFkZXI6IHN0cmluZywgY2VsbFN0eWxlOiBzdHJpbmcsXG4gICAgICAgIGN1cnJlbnRDb21wYXJlcjogc3RyaW5nLCBpc1NvcnRhYmxlOiBib29sZWFuLFxuICAgICAgICBfY29tcGFyZXJOYW1lPzogY29tcGFyZXJMaXN0LCBzb3J0RGlyZWN0aW9uPzogZW51bXMuU29ydERpcmVjdGlvbikge1xuICAgICAgICBsZXQgX2NlbGw6IGdyaWRDZWxsO1xuICAgICAgICBfY2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICBsZXQga2V5ID0gJ2Zyb3plblJvd0hlYWRlcic7XG5cbiAgICAgICAgbGV0IGlzQ3VycmVudFNvcnQ6IGFueSA9XG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUgPT09IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLkNsYXNzaWZpZWRSZXNwb25zZSA/XG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkIDogKGNvbXBhcmVyTGlzdFtjdXJyZW50Q29tcGFyZXJdID09PSBfY29tcGFyZXJOYW1lKTtcbiAgICAgICAgbGV0IGlzU29ydFJlcXVpcmVkOiBhbnkgPVxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UgP1xuICAgICAgICAgICAgICAgIGZhbHNlIDogaXNTb3J0YWJsZTtcbiAgICAgICAgbGV0IGN1cnJlbnRTb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uID1cbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlID9cbiAgICAgICAgICAgICAgICB1bmRlZmluZWQgOiBzb3J0RGlyZWN0aW9uO1xuXG4gICAgICAgIC8vVE9ETyA6IE1vdmUgdGhlIG1hZ2ljIHN0cmluZ3Mgb3V0c2lkZSAoanNvbj8pXG4gICAgICAgIF9jZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldENvbHVtbkhlYWRlckVsZW1lbnQoXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBjb2x1bW5IZWFkZXIsXG4gICAgICAgICAgICAnJyxcbiAgICAgICAgICAgIGlzQ3VycmVudFNvcnQsXG4gICAgICAgICAgICBpc1NvcnRSZXF1aXJlZCxcbiAgICAgICAgICAgIGN1cnJlbnRTb3J0RGlyZWN0aW9uXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSAhPT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfY2VsbC5jb21wYXJlck5hbWUgPSBjb21wYXJlckxpc3RbX2NvbXBhcmVyTmFtZV07XG4gICAgICAgICAgICBfY2VsbC5zb3J0RGlyZWN0aW9uID0gdGhpcy5nZXRTb3J0RGlyZWN0aW9uKChjb21wYXJlckxpc3RbY3VycmVudENvbXBhcmVyXSA9PT0gX2NvbXBhcmVyTmFtZSksIHNvcnREaXJlY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XG5cbiAgICAgICAgcmV0dXJuIF9jZWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGdyaWRjb2x1bW5zIGJhc2VkIG9uIHRoZSByZXNwb25zZSBtb2RlIGFuZCB3b3JrbGlzdCB0eXBlXG4gICAgICogQHBhcmFtIHJlc29sdmVkR3JpZENvbHVtbnNKc29uXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZVxuICAgICAqIEBwYXJhbSBpc0Zyb3plblxuICAgICAqIEBwYXJhbSBzZWxlY3RlZFNlc3Npb25UYWJcbiAgICAgKiBAcGFyYW0gY2VudHJlT3JTY3JpcHRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0R3JpZENvbHVtbnMocmVzb2x2ZWRHcmlkQ29sdW1uc0pzb246IGFueSwgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcbiAgICAgICAgaXNGcm96ZW46IGJvb2xlYW4gPSBmYWxzZSwgZ3JpZFR5cGU/OiBlbnVtcy5HcmlkVHlwZSxcbiAgICAgICAgc2VsZWN0ZWRTZXNzaW9uVGFiPzogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2Vzc2lvblRhYiwgY2VudHJlT3JTY3JpcHQ/OiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGdyaWRDb2x1bW5zOiBhbnk7XG4gICAgICAgIHN3aXRjaCAoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlNlbGVjdFJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlc3Npb25UYWIgPT09IGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIuQ3VycmVudFNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRyZU9yU2NyaXB0ID09PSAnU2NyaXB0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSAoaXNGcm96ZW4gPT09IGZhbHNlKSA/IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLlNlbGVjdFJlc3BvbnNlLlNjcmlwdC5HcmlkQ29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuU2VsZWN0UmVzcG9uc2UuRnJvemVuUm93cy5HcmlkQ29sdW1ucztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuU2VsZWN0UmVzcG9uc2UuQ2VudHJlLkdyaWRDb2x1bW5zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZFNlc3Npb25UYWIgPT09IGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIuUHJldmlvdXNTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuUHJldmlvdXNTZXNzaW9uLlJldXNhYmxlUmVzcG9uc2UuR3JpZENvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuUHJldmlvdXNTZXNzaW9uLmZyb3plblJvd3MuR3JpZENvbHVtbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgPyAoZ3JpZFR5cGUgPT09IGVudW1zLkdyaWRUeXBlLnRvdGFsTWFya3MgP1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5zdGFuZGFyZGlzYXRpb25zZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlLnRvdGFsbWFya3N2aWV3LkdyaWRDb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuUHJvdmlzaW9uYWxSZXNwb25zZS5tYXJrc2J5cXVlc3Rpb252aWV3LkdyaWRDb2x1bW5zKVxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2UuZnJvemVuUm93cy5HcmlkQ29sdW1ucztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuVW5DbGFzc2lmaWVkUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSAoaXNGcm96ZW4gPT09IGZhbHNlKSA/IChncmlkVHlwZSA9PT0gZW51bXMuR3JpZFR5cGUudG90YWxNYXJrcyA/XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLlVuQ2xhc3NpZmllZFJlc3BvbnNlLnRvdGFsbWFya3N2aWV3LkdyaWRDb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuVW5DbGFzc2lmaWVkUmVzcG9uc2UubWFya3NieXF1ZXN0aW9udmlldy5HcmlkQ29sdW1ucylcbiAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5zdGFuZGFyZGlzYXRpb25zZXR1cC5VbkNsYXNzaWZpZWRSZXNwb25zZS5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSAoaXNGcm96ZW4gPT09IGZhbHNlKSA/IChncmlkVHlwZSA9PT0gZW51bXMuR3JpZFR5cGUudG90YWxNYXJrcyA/XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLkNsYXNzaWZpZWRSZXNwb25zZS50b3RhbG1hcmtzdmlldy5HcmlkQ29sdW1uc1xuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLkNsYXNzaWZpZWRSZXNwb25zZS5tYXJrc2J5cXVlc3Rpb252aWV3LkdyaWRDb2x1bW5zKVxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLkNsYXNzaWZpZWRSZXNwb25zZS5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Ob25lOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncmlkQ29sdW1ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHdoZXRoZXIgdGhlIHRoZSBnaXZlbiBjb2x1bW4gaXMgaGlkZGVuIG9yIG5vdFxuICAgICAqIEBwYXJhbSByZXNwb25zZUNvbHVtblxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRDZWxsVmlzaWJpbGl0eShjb2x1bW46IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZWNvdXJzZVdvcmtIZWxwZXIuaXNFQ291cnNld29ya0NvbXBvbmVudCAmJiBjb2x1bW4gPT09ICdGaXJzdFNjYW5uZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLmVCb29rbWFya2luZykudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlKSAmJiBjb2x1bW4gPT09ICdRdWVzdGlvbkl0ZW1zJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0IGR5bmFtaWMgY29sdW1uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHJlc2V0RHluYW1pY0NvbHVtblNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLl9kYXRlTGVuZ3RoSW5QaXhlbCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBzb3J0IGRpcmVjdGlvbiAtIGlmIGl0IGlzIGN1cnJlbnQgc29ydCBqdXN0IHJldmVyc2UgdGhlIGRpcmVjdGlvbiBvdGhlcndpc2UgYXNjIGFzIGRlZmF1YWx0IGRpcmVjdGlvbi5cbiAgICAgKiBAcGFyYW0gaXNDdXJyZW50U29ydFxuICAgICAqIEBwYXJhbSBzb3J0RGlyZWN0aW9uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFNvcnREaXJlY3Rpb24oaXNDdXJyZW50U29ydDogYm9vbGVhbiwgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbik6IGVudW1zLlNvcnREaXJlY3Rpb24ge1xuICAgICAgICByZXR1cm4gKChpc0N1cnJlbnRTb3J0ID09PSB0cnVlKSA/XG4gICAgICAgICAgICAoKHNvcnREaXJlY3Rpb24gPT09IGVudW1zLlNvcnREaXJlY3Rpb24uQXNjZW5kaW5nKSA/IGVudW1zLlNvcnREaXJlY3Rpb24uRGVzY2VuZGluZyA6IGVudW1zLlNvcnREaXJlY3Rpb24uQXNjZW5kaW5nKVxuICAgICAgICAgICAgOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLkFzY2VuZGluZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgYmx1ZSBiYW5uZXIgZWxlbWVudFxuICAgICAqIEBwYXJhbSBzZWxlY3RlZFdvcmtMaXN0XG4gICAgICogQHBhcmFtIHRhcmdldENvdW50XG4gICAgICogQHBhcmFtIGlzRVNUZWFtTWVtYmVyXG4gICAgICogQHBhcmFtIHNlbGVjdGVkU2Vzc2lvblxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRCbHVlQmFubmVyRm9yVGFyZ2V0cyA9IChzZWxlY3RlZFdvcmtMaXN0OiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCwgdGFyZ2V0Q291bnQ6XG4gICAgICAgIG51bWJlciwgaXNFU1RlYW1NZW1iZXI/OiBib29sZWFuLCBzZWxlY3RlZFNlc3Npb24/OiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiKTogSlNYLkVsZW1lbnQgPT4ge1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlbGVjdGVkV29ya0xpc3QgKyAnX2JsdWVCYW5uZXInLFxuICAgICAgICAgICAgYmx1ZUJhbm5lck1lc3NhZ2VLZXk6IHRoaXMuZ2V0UmlnaHRDb250YWluZXJCbHVlQmFubmVyS2V5KHNlbGVjdGVkV29ya0xpc3QsIHRhcmdldENvdW50LCBpc0VTVGVhbU1lbWJlciwgc2VsZWN0ZWRTZXNzaW9uKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChibHVlQmFubmVyTWVzc2FnZSwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGJsdWUgYmFubmVyIG1lc3NhZ2Uga2V5IGZvciByZXNvdXJjZSBmaWxlXG4gICAgICogQHBhcmFtIHNlbGVjdGVkV29ya0xpc3RcbiAgICAgKiBAcGFyYW0gdGFyZ2V0Q291bnRcbiAgICAgKiBAcGFyYW0gaXNFU1RlYW1NZW1iZXJcbiAgICAgKiBAcGFyYW0gc2VsZWN0ZWRTZXNzaW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRSaWdodENvbnRhaW5lckJsdWVCYW5uZXJLZXkgPSAoc2VsZWN0ZWRXb3JrTGlzdDogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXG4gICAgICAgIHRhcmdldENvdW50OiBudW1iZXIsIGlzRVNUZWFtTWVtYmVyOiBib29sZWFuID0gZmFsc2UsIHNlbGVjdGVkU2Vzc2lvbj86IGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIpOiBzdHJpbmcgPT4ge1xuXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcbiAgICAgICAgc3dpdGNoIChzZWxlY3RlZFdvcmtMaXN0KSB7XG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLk5vbmU6XG4gICAgICAgICAgICAgICAga2V5ID0gJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5yaWdodC1jb250YWluZXIuc2VsZWN0LXJlc3BvbnNlLWJsdWViYW5uZXItbWVzc2FnZSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlNlbGVjdFJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlc3Npb24gIT09IG51bGwgJiYgc2VsZWN0ZWRTZXNzaW9uICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgJiYgc2VsZWN0ZWRTZXNzaW9uID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiLlByZXZpb3VzU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRDb3VudCA9PT0gMCA/XG4gICAgICAgICAgICAgICAgICAgIGtleSA9ICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLnNlbGVjdC1yZXNwb25zZS1wcmV2aW91c2Utc2Vzc2lvbi1lbXB0eS1tZXNzYWdlJyA6XG4gICAgICAgICAgICAgICAgICAgIGtleSA9ICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLnNlbGVjdC1yZXNwb25zZS1wcmV2aW91c2Utc2Vzc2lvbi1kZWZhdWx0LW1lc3NhZ2UnIDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnJpZ2h0LWNvbnRhaW5lci5zZWxlY3QtcmVzcG9uc2UtYmx1ZWJhbm5lci1tZXNzYWdlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAga2V5ID0gdGFyZ2V0Q291bnQgPiAwID8gJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5yaWdodC1jb250YWluZXIucHJvdmlzaW9uYWwtYmx1ZWJhbm5lci1tZXNzYWdlJyA6XG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLmVtcHR5LXJlc3BvbnNlcy1wcm92aXNpb25hbC1ibHVlYmFubmVyLW1lc3NhZ2UnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5VbkNsYXNzaWZpZWRSZXNwb25zZTpcbiAgICAgICAgICAgICAgICBsZXQgaXNTZWVkVmlzaWJsZSA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhID9cbiAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGRTZXR1cFBlcm1pc3Npb25DQ0RhdGEucm9sZS52aWV3QnlDbGFzc2lmaWNhdGlvbi5jbGFzc2lmaWNhdGlvbnMuc2VlZGluZyA6XG4gICAgICAgICAgICAgICAgICAgIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgbG9nZ2VkIGluIGV4YW1pbmVyIHJvbGUgaXMgcHJlc2VudCBpbiB0aGUgJ1N0YW5kYXJkaXNhdGlvblNldHVwUGVybWlzc2lvbnMnIENDXG4gICAgICAgICAgICAgICAgbGV0IGlzTG9nZ2VkSW5FeGFtaW5lclJvbGVQcmVzZW50SW5DQyA9XG4gICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhLmlzTG9nZ2VkSW5FeGFtaW5lclJvbGVQcmVzZW50SW5DQztcbiAgICAgICAgICAgICAgICBsZXQgbG9nZ2VkSW5FeGFtaW5lclJvbGUgPSBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YS5yb2xlLm5hbWU7XG5cbiAgICAgICAgICAgICAgICBrZXkgPSB0YXJnZXRDb3VudCA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAoKGlzRVNUZWFtTWVtYmVyICYmIChpc1NlZWRWaXNpYmxlID09PSBmYWxzZSB8fCBpc1NlZWRWaXNpYmxlID09PSB1bmRlZmluZWQpKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnJpZ2h0LWNvbnRhaW5lci51bmNsYXNzaWZpZWQtYmx1ZWJhbm5lci1tZXNzYWdlLWZvci1lc3RlYW0nIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLnVuY2xhc3NpZmllZC1ibHVlYmFubmVyLW1lc3NhZ2UnKSA6XG4gICAgICAgICAgICAgICAgICAgIChpc0VTVGVhbU1lbWJlciAmJiAhaXNMb2dnZWRJbkV4YW1pbmVyUm9sZVByZXNlbnRJbkNDKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnJpZ2h0LWNvbnRhaW5lci5lbXB0eS1yZXNwb25zZXMtdW5jbGFzc2lmaWVkLXdpdGhvdXQtcm9sZS1ibHVlYmFubmVyLW1lc3NhZ2UnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLmVtcHR5LXJlc3BvbnNlcy11bmNsYXNzaWZpZWQtYmx1ZWJhbm5lci1tZXNzYWdlJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIGtleSA9IHRhcmdldENvdW50ID4gMCA/ICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLmNsYXNzaWZpZWQtYmx1ZWJhbm5lci1tZXNzYWdlJyA6XG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLmVtcHR5LXJlc3BvbnNlcy1jbGFzc2lmaWVkLWJsdWViYW5uZXItbWVzc2FnZSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG5cblx0LyoqXG5cdCAqIEdldCB0aGUgdGV4dCB2YWx1ZSBmb3IgR3JpZCBDb2x1bW5cblx0ICogQHBhcmFtIHRleHRWYWx1ZVxuXHQgKiBAcGFyYW0gc2VxXG5cdCAqL1xuICAgIHB1YmxpYyBnZXRHZW5lcmljVGV4dEVsZW1lbnQodGV4dFZhbHVlOiBzdHJpbmcsIHNlcTogc3RyaW5nLCB0aXRsZT86IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgdGV4dFZhbHVlOiB0ZXh0VmFsdWUsXG4gICAgICAgICAgICB0aXRsZTogdGl0bGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoR2VuZXJpY1RleHRDb2x1bW4sIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIEZvcm1hdHRlZCBkYXRlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICogQHBhcmFtIHNlcVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRHZW5lcmljRm9ybWF0dGVkRGF0ZUVsZW1lbnQodmFsdWU6IERhdGUsIHNlcTogc3RyaW5nKTogSlNYLkVsZW1lbnQge1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlcSxcbiAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICBkYXRlVmFsdWU6IG5ldyBEYXRlKHZhbHVlLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnZGltLXRleHQgdHh0LXZhbCBzbWFsbC10ZXh0J1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChnZW5lcmljRGF0ZSwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgQ29udmVydGVkIHRleHQgdmFsdWUgZm9yIEdyaWQgQ29sdW1uXG4gICAgICogIEBwYXJhbSB0ZXh0VmFsdWVcbiAgICAgKiBAcGFyYW0gc2VxXG4gICAgICovXG4gICAgcHVibGljIGdldENvbnZlcnRUZXh0RWxlbWVudCh0ZXh0VmFsdWU6IHN0cmluZywgc2VxOiBzdHJpbmcpOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBzd2l0Y2ggKHRleHRWYWx1ZSkge1xuICAgICAgICAgICAgY2FzZSAndHJ1ZSc6XG4gICAgICAgICAgICAgICAgdGV4dFZhbHVlID0gJ1llcyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmYWxzZSc6XG4gICAgICAgICAgICAgICAgdGV4dFZhbHVlID0gJ05vJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIHRleHRWYWx1ZTogdGV4dFZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEdlbmVyaWNUZXh0Q29sdW1uLCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIE1hcmtzIEdyaWQgQ29sdW1uXG4gICAgICogQHBhcmFtIHRleHRWYWx1ZVxuICAgICAqIEBwYXJhbSBzZXFcbiAgICAgKiBAcGFyYW0gdXNlZEluVG90YWxcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TWFya3NDb2x1bW4odGV4dFZhbHVlOiBzdHJpbmcsIHNlcTogc3RyaW5nLCB1c2VkSW5Ub3RhbDogYm9vbGVhbik6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgdGV4dFZhbHVlOiB0ZXh0VmFsdWUsXG4gICAgICAgICAgICB1c2VkSW5Ub3RhbDogdXNlZEluVG90YWxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQobWFya3NDb2x1bW4sIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cblxuXHQvKipcblx0ICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBUb3RhbE1hcmsgY29tcG9uZW50XG5cdCAqIEBwYXJhbSBtYXJrXG5cdCAqIEBwYXJhbSBzZXFcblx0ICovXG4gICAgcHVibGljIGdldFRvdGFsTWFya0VsZW1lbnQobWFyazogbnVtYmVyLFxuICAgICAgICBzZXE6IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgaXNOb25OdW1lcmljTWFyazogZmFsc2UsXG4gICAgICAgICAgICBtYXhpbXVtTWFyazogMTAwLFxuICAgICAgICAgICAgdG90YWxNYXJrOiBtYXJrLFxuICAgICAgICAgICAgbWFya2luZ1Byb2dyZXNzOiAxMDAsXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQodG90YWxNYXJrLCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBTZWxlY3RlZCBUYWcgSWQgb2YgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIHNlcVxuICAgICAqIEBwYXJhbSB0YWdJZFxuICAgICAqIEBwYXJhbSB0YWdMaXN0XG4gICAgICogQHBhcmFtIG1hcmtHcm91cElkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFRhZyhzZXE6IHN0cmluZywgdGFnSWQ6IG51bWJlciwgdGFnTGlzdDogaW1tdXRhYmxlLkxpc3Q8VGFnPixcbiAgICAgICAgbWFya0dyb3VwSWQ6IG51bWJlciwgbWFya2luZ01vZGU6IGVudW1zLk1hcmtpbmdNb2RlKTogSlNYLkVsZW1lbnQge1xuXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgc2VsZWN0ZWRUYWdJZDogdGFnSWQsXG4gICAgICAgICAgICB0YWdMaXN0OiB0YWdMaXN0LFxuICAgICAgICAgICAgbWFya0dyb3VwSWQ6IG1hcmtHcm91cElkLFxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxuICAgICAgICAgICAgLy8gaXNFU1Jlc3BvbnNlID0gdHJ1ZSB3aGVuIHRhZyB1cGRhdGVkIGZyb20gc3RhbmRhcmRpc2F0aW9uIHNldHVwLlxuICAgICAgICAgICAgaXNFU1Jlc3BvbnNlOiB0cnVlLFxuICAgICAgICAgICAgbWFya2luZ01vZGU6IG1hcmtpbmdNb2RlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFnTGlzdCwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgUmVzcG9uc2VJZENvbHVtbiBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gc3RkUmVzcG9uc2VEYXRhXG4gICAgICogQHBhcmFtIHNlcVxuICAgICAqIEBwYXJhbSBpc1Jlc3BvbnNlSWRDbGlja2FibGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQoc3RkUmVzcG9uc2VEYXRhOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMsXG4gICAgICAgIHNlcTogc3RyaW5nLFxuICAgICAgICBpc1Jlc3BvbnNlSWRDbGlja2FibGU6IGJvb2xlYW4gPSB0cnVlLFxuICAgICAgICBpc1JldXNhYmxlUmVzcG9uc2VWaWV3OiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIGNhbmRpZGF0ZVNjcmlwdElkOiBzdHJpbmcgPSAnJyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGxldCBkaXNwbGF5SWQgPSBzdGRSZXNwb25zZURhdGEuZGlzcGxheUlkO1xuXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgZGlzcGxheUlkOiBkaXNwbGF5SWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGlzUmVzcG9uc2VJZENsaWNrYWJsZTogaXNSZXNwb25zZUlkQ2xpY2thYmxlLFxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxuICAgICAgICAgICAgaXNSZXVzYWJsZVJlc3BvbnNlVmlldzogaXNSZXVzYWJsZVJlc3BvbnNlVmlldyxcbiAgICAgICAgICAgIGNhbmRpZGF0ZVNjcmlwdElkOiAnMScgKyBzdGRSZXNwb25zZURhdGEuY2FuZGlkYXRlU2NyaXB0SWRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoc3RkUmVzcG9uc2VJZCwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuXHQvKipcblx0ICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBMaW5rZWRNZXNzYWdySW5kaWNhdG9yIGNvbXBvbmVudFxuXHQgKiBAcGFyYW0gcmVzcG9uc2VEYXRhXG5cdCAqIEBwYXJhbSBwcm9wc05hbWVzXG5cdCAqIEBwYXJhbSBzZXFcblx0ICogQHBhcmFtIGlzVGlsZVZpZXdcblx0ICovXG4gICAgcHVibGljIGdldExpbmtlZE1lc3NhZ2VFbGVtZW50KFxuICAgICAgICByZXNwb25zZURhdGE6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscywgcHJvcHNOYW1lczogYW55LCBzZXE6IHN0cmluZywgaXNUaWxlVmlldzogYm9vbGVhbiA9IHRydWUpOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIG1lc3NhZ2VDb3VudDogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMudW5yZWFkTWVzc2FnZXNDb3VudF0sXG4gICAgICAgICAgICBoYXNNZXNzYWdlczogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuaGFzTWVzc2FnZXNdLFxuICAgICAgICAgICAgZGlzcGxheUlkOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5kaXNwbGF5SWRdLFxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxuICAgICAgICAgICAgaXNUaWxlVmlldzogaXNUaWxlVmlldyxcbiAgICAgICAgICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExpbmtlZE1lc3NhZ2VJbmRpY2F0b3IsIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cblx0LyoqXG5cdCAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgTGFzdCB1cGRhdGVkIGNvbXBvbmVudFxuXHQgKiBAcGFyYW0gbGFzdFVwZGF0ZWREYXRlXG5cdCAqIEBwYXJhbSBzZXFcblx0ICovXG4gICAgcHVibGljIGdldExhc3RVcGRhdGVkRWxlbWVudChzdGRSZXNwb25zZURhdGE6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscyxcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxuICAgICAgICBzZXE6IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgZGF0ZVR5cGU6IGVudW1zLldvcmtMaXN0RGF0ZVR5cGUubGFzdFVwZGF0ZWREYXRlLFxuICAgICAgICAgICAgZGF0ZVZhbHVlOiBuZXcgRGF0ZShzdGRSZXNwb25zZURhdGFbcHJvcHNOYW1lcy51cGRhdGVkRGF0ZV0pLFxuICAgICAgICAgICAgaXNUaWxlVmlldzogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGFzdFVwZGF0ZWRDb2x1bW4sIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgcmVhY3QgZWxlbWVudCBmb3IgZGVjbGFzc2lmeSBidXR0b25cbiAgICAgKiBAcGFyYW0gdGl0bGVcbiAgICAgKiBAcGFyYW0gYW5jaG9yY2xhc3NOYW1lXG4gICAgICogQHBhcmFtIHNwYW5jbGFzc05hbWVcbiAgICAgKiBAcGFyYW0gc2VxXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXREZWNsYXNzaWZ5QnV0dG9uRWxlbWVudCh0aXRsZTogc3RyaW5nLFxuICAgICAgICBhbmNob3JjbGFzc05hbWU6IHN0cmluZyxcbiAgICAgICAgc3BhbmNsYXNzTmFtZTogc3RyaW5nLFxuICAgICAgICBzZXE6IHN0cmluZyxcbiAgICAgICAgZGlzcGxheUlkOiBzdHJpbmcsXG5cdFx0dG90YWxNYXJrVmFsdWU6IG51bWJlcixcblx0XHRjYW5kaWRhdGVTY3JpcHRJZDogbnVtYmVyLFxuXHRcdGVzQ2FuZGlkYXRlU2NyaXB0TWFya1NjaGVtZUdyb3VwSWQ6IG51bWJlcixcbiAgICAgICAgbWFya2luZ01vZGVJZDogbnVtYmVyLFxuICAgICAgICByaWdPcmRlcjogbnVtYmVyLFxuICAgICAgICBlc01hcmtHcm91cFJvd1ZlcnNpb246IHN0cmluZ1xuICAgICk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIGFuY2hvcmNsYXNzTmFtZTogYW5jaG9yY2xhc3NOYW1lLFxuICAgICAgICAgICAgc3BhbmNsYXNzTmFtZTogc3BhbmNsYXNzTmFtZSxcbiAgICAgICAgICAgIGRpc3BsYXlJZDogZGlzcGxheUlkLFxuXHRcdFx0dG90YWxNYXJrVmFsdWU6IHRvdGFsTWFya1ZhbHVlLFxuXHRcdFx0Y2FuZGlkYXRlU2NyaXB0SWQ6IGNhbmRpZGF0ZVNjcmlwdElkLFxuICAgICAgICAgICAgZXNDYW5kaWRhdGVTY3JpcHRNYXJrU2NoZW1lR3JvdXBJZDogZXNDYW5kaWRhdGVTY3JpcHRNYXJrU2NoZW1lR3JvdXBJZCxcbiAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkOiBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkLFxuXHRcdFx0bWFya2luZ01vZGVJZDogbWFya2luZ01vZGVJZCxcbiAgICAgICAgICAgIHJpZ09yZGVyOiByaWdPcmRlcixcbiAgICAgICAgICAgIGVzTWFya0dyb3VwUm93VmVyc2lvbjogZXNNYXJrR3JvdXBSb3dWZXJzaW9uXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KERlY2xhc3NpZnlCdXR0b24sIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGluZyBncmlkIHJvd1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1bmlxdWVJZCBcbiAgICAgKiBAcGFyYW0ge0FycmF5PGdyaWRDZWxsPn0gZ3JpZENlbGxzIFxuICAgICAqIEBwYXJhbSB7SlNYLkVsZW1lbnR9IFthZGRpdGlvbmFsQ29tcG9uZW50XSBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Nzc0NsYXNzXSBcbiAgICAgKiBAcGFyYW0ge0ltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPn0gW3Jlc3BvbnNlU3RhdHVzXSBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvdmVyQ2xhc3NpZmllZF1cbiAgICAgKiBAcmV0dXJucyB7Z3JpZFJvd30gXG4gICAgICogQG1lbWJlcm9mIFN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyQmFzZVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRHcmlkUm93KFxuICAgICAgICB1bmlxdWVJZDogc3RyaW5nLFxuICAgICAgICBncmlkQ2VsbHM6IEFycmF5PGdyaWRDZWxsPixcbiAgICAgICAgYWRkaXRpb25hbENvbXBvbmVudD86IEpTWC5FbGVtZW50LFxuICAgICAgICBjc3NDbGFzcz86IHN0cmluZyxcbiAgICAgICAgcmVzcG9uc2VTdGF0dXM/OiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4sXG4gICAgICAgIG92ZXJDbGFzc2lmaWVkPzogYm9vbGVhbik6IGdyaWRSb3cge1xuICAgICAgICBsZXQgX2dyaWRSb3c6IGdyaWRSb3cgPSBuZXcgZ3JpZFJvdygpO1xuICAgICAgICBsZXQgY2xhc3NOYW1lID0gdGhpcy5zZXRSb3dTdHlsZShyZXNwb25zZVN0YXR1cywgb3ZlckNsYXNzaWZpZWQpO1xuICAgICAgICBjbGFzc05hbWUgPSAoY3NzQ2xhc3MpID8gKGNsYXNzTmFtZSArICcgJyArIGNzc0NsYXNzKSA6IGNsYXNzTmFtZTtcblxuICAgICAgICBfZ3JpZFJvdy5zZXRSb3dTdHlsZShjbGFzc05hbWUpO1xuICAgICAgICBfZ3JpZFJvdy5zZXRSb3dJZChwYXJzZUZsb2F0KHVuaXF1ZUlkKSk7XG4gICAgICAgIF9ncmlkUm93LnNldENlbGxzKGdyaWRDZWxscyk7XG4gICAgICAgIF9ncmlkUm93LnNldEFkZGl0aW9uYWxFbGVtZW50KGFkZGl0aW9uYWxDb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gX2dyaWRSb3c7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHJvdyBzdHlsZSB0byBhbWJlciBpZiB0aGUgcmVzcG9uc2UgaGFzIGJsb2NraW5nIGV4Y2VwdGlvbnMgb3Igb3RoZXIgcmVhc29uc1xuICAgICAqIEBwYXJhbSB7SW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+fSByZXNwb25zZVN0YXR1cyBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBcbiAgICAgKiBAbWVtYmVyb2YgU3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXJCYXNlXG4gICAgICovXG4gICAgcHVibGljIHNldFJvd1N0eWxlKHJlc3BvbnNlU3RhdHVzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4sIG92ZXJDbGFzc2lmaWVkOiBib29sZWFuKTogc3RyaW5nIHtcblxuICAgICAgICAvLyBDaGVjayB3aGV0ZWhyIHRoZSBjbGFzc2lmY2F0aW9uIHR5cGUgZXhjZWVkZWQgdGhlIGN1cnJlbnQgdGFyZ2V0LFxuICAgICAgICAvLyBpZiBzbyBoaWdobGlnaHQgdGhlIGV4Y2VlZGVkIGxhc3Qgcm93cyB3aXRoIGFtYmVyIGNvbG9yLlxuICAgICAgICBpZiAoKHJlc3BvbnNlU3RhdHVzICYmIChyZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNFeGNlcHRpb24pIHx8XG4gICAgICAgICAgICByZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNab25pbmdFeGNlcHRpb24pIHx8XG4gICAgICAgICAgICByZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxQYWdlc0Fubm90YXRlZCkgfHxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtDaGFuZ2VSZWFzb25Ob3RFeGlzdCkgfHxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLnN1cGVydmlzb3JSZW1hcmtEZWNpc2lvbk5vdFNlbGVjdGVkKSB8fFxuICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMubm90QWxsRmlsZXNWaWV3ZWQpKSkgfHwgb3ZlckNsYXNzaWZpZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAncm93IHdhcm5pbmctYWxlcnQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICdyb3cnO1xuICAgICAgICB9XG4gICAgfVxuXG5cdC8qKlxuXHQgKiBHZW5lcmF0ZSBDZW50cmUgUm93IERlZmluaXRpb25cblx0ICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvbkNlbnRyZUxpc3Rcblx0ICovXG4gICAgcHVibGljIGdlbmVyYXRlQ2VudHJlUm93RGVmaW5pdGlvbihzdGFuZGFyZGlzYXRpb25DZW50cmVMaXN0OiBTdGFuZGFyZGlzYXRpb25DZW50cmVEZXRhaWxzTGlzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBkeW5hbWljIGhlYWRlcnMgZm9yIHF1ZXN0aW9uc1xuICAgICAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25SZXNwb25zZUxpc3REYXRhIFxuICAgICAqIEBwYXJhbSBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb24gXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldER5bmFtaWNIZWFkZXJzRm9yTWFya3Moc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VMaXN0RGF0YTogYW55LFxuICAgICAgICBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb246IEFycmF5PGdyaWRDZWxsPik6IEFycmF5PGdyaWRDZWxsPiB7XG4gICAgICAgIC8vIEdldCB0aGUgU3RhbmRhcmRpc2F0aW9uIG1hcmtzIGZvciB0aGUgcmVzcG9uc2UgaWYgZXhpc3QuXG4gICAgICAgIGxldCBfc3RkTWFya3NEYXRhID0gc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VMaXN0RGF0YS5maXJzdCgpLnN0YW5kYXJkaXNhdGlvbk1hcmtzO1xuICAgICAgICBsZXQgcXVlc3Rpb25zQ291bnQ6IGFueSA9IF9zdGRNYXJrc0RhdGEubGVuZ3RoO1xuICAgICAgICBsZXQgX2NlbGw6IGdyaWRDZWxsO1xuXG4gICAgICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYWNoIHF1ZXN0aW9ucyBhbmQgZ2V0IHRoZSBkaXNwbGF5IGxhYmVsLlxuICAgICAgICBmb3IgKGxldCBxdWVzdGlvbkl0ZW1Db3VudCA9IDA7IHF1ZXN0aW9uSXRlbUNvdW50IDwgcXVlc3Rpb25zQ291bnQ7IHF1ZXN0aW9uSXRlbUNvdW50KyspIHtcbiAgICAgICAgICAgIF9jZWxsID0gbmV3IGdyaWRDZWxsKCk7XG5cbiAgICAgICAgICAgIGxldCBoZWFkZXJUZXh0ID0gX3N0ZE1hcmtzRGF0YVtxdWVzdGlvbkl0ZW1Db3VudF0uZGlzcGxheUxhYmVsO1xuICAgICAgICAgICAgbGV0IF9jb21wYXJlck5hbWUgPSAnJztcblxuICAgICAgICAgICAgaGVhZGVyVGV4dCA9IChoZWFkZXJUZXh0ICYmIGhlYWRlclRleHQgIT09ICcnKSA/IGhlYWRlclRleHQgOiAnJztcbiAgICAgICAgICAgIGxldCBrZXkgPSAnY29sdW1uSGVhZGVyXycgKyBxdWVzdGlvbkl0ZW1Db3VudDtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIHF1ZXN0aW9uIGhlYWRlciBlbGVtZW50IGZvciBlYWNoIHF1ZXN0aW9uLlxuICAgICAgICAgICAgX2NlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0Q29sdW1uSGVhZGVyRWxlbWVudChcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgaGVhZGVyVGV4dCxcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgX2NlbGwuaXNIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIF9jZWxsLmNvbXBhcmVyTmFtZSA9IF9jb21wYXJlck5hbWU7XG4gICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gJ2NvbC1xdWVzdGlvbi1pdGVtJztcbiAgICAgICAgICAgIF9jZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cbiAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9jZWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IER5bmFtaWMgVmFsdWUgRm9yIE1hcmtzXG4gICAgICogQHBhcmFtIGdyaWRTZXFcbiAgICAgKiBAcGFyYW0gc3RkUmVzcG9uc2VEYXRhXG4gICAgICogQHBhcmFtIF9zdGRSb3dIZWFkZXJDZWxsY29sbGVjdGlvblxuICAgICAqIEBwYXJhbSBpbmRleCBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0RHluYW1pY1ZhbHVlRm9yTWFya3Moc3RkUmVzcG9uc2VEYXRhOiBhbnksXG4gICAgICAgIF9zdGRSb3dIZWFkZXJDZWxsY29sbGVjdGlvbjogQXJyYXk8Z3JpZENlbGw+LCBpbmRleDogbnVtYmVyKTogQXJyYXk8Z3JpZENlbGw+IHtcblxuICAgICAgICBsZXQgX3N0ZEdyaWRDZWxsOiBncmlkQ2VsbDtcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuXG4gICAgICAgIC8vIEdldCB0aGUgU3RhbmRhcmRpc2F0aW9uIG1hcmtzIGZvciB0aGUgcmVzcG9uc2UgaWYgZXhpc3QuXG4gICAgICAgIGxldCBzdGRNYXJrcyA9IHN0ZFJlc3BvbnNlRGF0YS5zdGFuZGFyZGlzYXRpb25NYXJrcztcbiAgICAgICAgbGV0IG5vT2ZRdWVzdGlvbnMgPSBzdGRNYXJrcy5sZW5ndGg7XG4gICAgICAgIGxldCBtYXJrOiBzdHJpbmc7XG4gICAgICAgIGxldCB1c2VkSW5Ub3RhbDogYm9vbGVhbjtcblxuICAgICAgICAvLyBHZXR0aW5nIHRoZSBNYXJrcyBEYXRhXG4gICAgICAgIGZvciAobGV0IHF1ZXN0aW9uSXRlbUNvdW50ID0gMDsgcXVlc3Rpb25JdGVtQ291bnQgPCBub09mUXVlc3Rpb25zOyBxdWVzdGlvbkl0ZW1Db3VudCsrKSB7XG4gICAgICAgICAgICBfc3RkR3JpZENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19RdWVzdGlvbnNfJyArIHF1ZXN0aW9uSXRlbUNvdW50O1xuICAgICAgICAgICAgbWFyayA9IGlzTmFOKHBhcnNlSW50KHN0ZE1hcmtzW3F1ZXN0aW9uSXRlbUNvdW50XS5tYXJrLnRvU3RyaW5nKCkpKSA/XG4gICAgICAgICAgICAgICAgc3RkTWFya3NbcXVlc3Rpb25JdGVtQ291bnRdLm1hcmsgOiBwYXJzZUludChzdGRNYXJrc1txdWVzdGlvbkl0ZW1Db3VudF0ubWFyay50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHVzZWRJblRvdGFsID0gc3RkTWFya3NbcXVlc3Rpb25JdGVtQ291bnRdLnVzZWRJblRvdGFsO1xuICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldE1hcmtzQ29sdW1uKG1hcmssIGtleSwgdXNlZEluVG90YWwpO1xuICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmlzSGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gJ2NvbC1xdWVzdGlvbi1pdGVtJztcbiAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgIF9zdGRSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRHcmlkQ2VsbCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3N0ZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjcmVhdGUgRnJvemVuIEJvZHkgRGF0YSBmb3IgZGlmZmVyZW50IHN0ZCB3b3JrbGlzdHMuXG4gICAgICogQHBhcmFtIHN0ZFJlc3BvbnNlRGF0YVxuICAgICAqIEBwYXJhbSBncmlkU2VxXG4gICAgICogQHBhcmFtIGdyaWRUeXBlXG4gICAgICovXG4gICAgcHVibGljIGdldEZyb3plblJvd0RhdGEoc3RkUmVzcG9uc2VEYXRhOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMsXG4gICAgICAgIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSwgZ3JpZENvbHVtbnM6IGFueSwgaW5kZXg6IG51bWJlciwgb3ZlckNsYXNzaWZpZWQ6IGJvb2xlYW4pOiBncmlkUm93IHtcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuICAgICAgICBsZXQgY2VsbFN0eWxlOiBzdHJpbmc7XG4gICAgICAgIGxldCBfc3RkUmVzcG9uc2VDb2x1bW46IGFueTtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xuICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcbiAgICAgICAgbGV0IHN1Ym1pdFJlc3BvbnNlOiBzdWJtaXRIZWxwZXIgPSBuZXcgc3VibWl0SGVscGVyKCk7XG4gICAgICAgIGxldCByZXNwb25zZVN0YXR1c2VzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4gPVxuICAgICAgICAgICAgc3VibWl0UmVzcG9uc2Uuc3VibWl0QnV0dG9uVmFsaWRhdGUoc3RkUmVzcG9uc2VEYXRhLCBzdGRSZXNwb25zZURhdGEubWFya2luZ1Byb2dyZXNzLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgIC8vIFNldCByaWcgb3JkZXIgYXMgXCJTZWVkXCIgZm9yIHNlZWQgcmVzcG9uc2VzLlxuICAgICAgICBsZXQgaXNTZWVkOiBib29sZWFuID0gKHN0ZFJlc3BvbnNlRGF0YS5tYXJraW5nTW9kZUlkID09PSBlbnVtcy5NYXJraW5nTW9kZS5TZWVkaW5nKTtcblxuICAgICAgICAvLyBHZXR0aW5nIHRoZSBTVEQgd29ya2xpc3QgY29sdW1uc1xuICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xuICAgICAgICAgICAgX3N0ZFJlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xuICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcbiAgICAgICAgICAgIC8vU3dpdGNoIHN0YXRlbWVudCBmb3IgYWRkaW5nIGZyb3plbiBjb2x1bW5zIGluIGZ1dHVyZS5cbiAgICAgICAgICAgIHN3aXRjaCAoX3N0ZFJlc3BvbnNlQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmlnT3JkZXJDb2x1bW46XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19SaWdPcmRlckNvbHVtbl8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gJ2RpbS10ZXh0IHNtYWxsLXRleHQgY2xhc3NpZnktaW5kZXgnO1xuICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFJJR09yZGVyQ29sdW1uRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VlZCA/ICdTZWVkJyA6IHN0ZFJlc3BvbnNlRGF0YS5yaWdPcmRlci50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNlbGxTdHlsZSA9ICdjb2wtc3RkLWNsYXNzaWZ5LWl0ZW1zIGhlYWRlci1jb2wnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlSWRDb2x1bW46XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19SZXNwb25zZUlkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNlbGxTdHlsZSA9ICdjb2wtcmVzcG9uc2UgaGVhZGVyLWNvbCc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3N0ZFdvcmtMaXN0Q2VsbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gdGhlIHRhYmxlIHJvdy5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R3JpZFJvdyhzdGRSZXNwb25zZURhdGEuZGlzcGxheUlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbixcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzZXMsXG4gICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIHJldHVybiB1ZnJvemVuIHJvdyBkYXRhIGZvciBkaWZmZXJlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0gc3RkUmVzcG9uc2VMaXN0RGF0YVxuICAgICAqIEBwYXJhbSBncmlkQ29sdW1uc1xuICAgICAqIEBwYXJhbSBncmlkU2VxXG4gICAgICogQHBhcmFtIGdyaWRUeXBlXG4gICAgICovXG4gICAgcHVibGljIGdldFJvd0RhdGEoc3RkUmVzcG9uc2VMaXN0RGF0YTogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPixcbiAgICAgICAgZ3JpZENvbHVtbnM6IGFueSwgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlLCBpbmRleDogbnVtYmVyLCBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGU6IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwKTogQXJyYXk8Z3JpZFJvdz4ge1xuICAgICAgICBsZXQgc3RkR3JpZFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xuICAgICAgICBsZXQgc3VibWl0UmVzcG9uc2U6IHN1Ym1pdEhlbHBlciA9IG5ldyBzdWJtaXRIZWxwZXIoKTtcblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggZWFjaCByZXNwb25zZVxuICAgICAgICBzdGRSZXNwb25zZUxpc3REYXRhLm1hcCgoc3RkUmVzcG9uc2VEYXRhOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMpID0+IHtcbiAgICAgICAgICAgIGxldCBzdGRHcmlkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcbiAgICAgICAgICAgIGxldCBfc3RkUmVzcG9uc2VDb2x1bW46IGFueTtcbiAgICAgICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcbiAgICAgICAgICAgIGxldCBfc3RkR3JpZENlbGw6IGdyaWRDZWxsO1xuICAgICAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPiA9XG4gICAgICAgICAgICAgICAgc3VibWl0UmVzcG9uc2Uuc3VibWl0QnV0dG9uVmFsaWRhdGUoc3RkUmVzcG9uc2VEYXRhLCBzdGRSZXNwb25zZURhdGEubWFya2luZ1Byb2dyZXNzLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xuICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbnMubGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xuICAgICAgICAgICAgICAgIF9zdGRSZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcblxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcG9uZW50UHJvcHM7XG4gICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsID0gbmV3IGdyaWRDZWxsKCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfc3RkUmVzcG9uc2VDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU2NyaXB0SWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfU2NyaXB0SWRfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGVTY3JpcHRJZCA9ICcxJyArIHN0ZFJlc3BvbnNlRGF0YS5jYW5kaWRhdGVTY3JpcHRJZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVTY3JpcHRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX0NlbnRyZV8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEuY2VudHJlTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5DZW50cmVDYW5kaWRhdGVOdW06XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfQ2FuZGlkYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5jZW50cmVDYW5kaWRhdGVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk1hcmtzQ29sdW1uOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX01hcmtzXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0VG90YWxNYXJrRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEudG90YWxNYXJrVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxhc3RNYXJrZXJDb2x1bW46XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfTGFzdE1hcmtlcl8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdGb3JtYXRIZWxwZXIuZ2V0Rm9ybWF0dGVkRXhhbWluZXJOYW1lKHN0ZFJlc3BvbnNlRGF0YS5sYXN0TWFya2VySW5pdGlhbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5sYXN0TWFya2VyU3VybmFtZSksIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTm90ZUNvbHVtbjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19Ob3RlXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBzdGRSZXNwb25zZURhdGEubm90ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQoc3RkUmVzcG9uc2VEYXRhLm5vdGUsIGtleSwgdGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZE1lc3NhZ2VJbmRpY2F0b3I6XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfTGlua2VkTWVzc2FnZV8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldExpbmtlZE1lc3NhZ2VFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRhZ0luZGljYXRvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19UYWdJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRUYWcoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS50YWdJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdTdG9yZS5pbnN0YW5jZS50YWdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5lc01hcmtHcm91cElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5tYXJraW5nTW9kZUlkXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxhc3RVcGRhdGVkQ29sdW1uOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX0xhc3RVcGRhdGVkXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0TGFzdFVwZGF0ZWRFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlN0YXR1czpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzZXMgPSBzdWJtaXRSZXNwb25zZS5zdWJtaXRCdXR0b25WYWxpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGRSZXNwb25zZURhdGEsIHN0ZFJlc3BvbnNlRGF0YS5tYXJraW5nUHJvZ3Jlc3MsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfU3RhdHVzXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0TWFya2luZ1Byb2dyZXNzRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1c2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5EZUNsYXNzaWZ5Q29sdW1uOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhLnJvbGUucGVybWlzc2lvbnMuZGVjbGFzc2lmeSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmV0YWluUHJvdmlzaW9uYWxNYXJrc0NDT24oKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5zdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX0RlQ2xhc3NpZnlfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0RGVjbGFzc2lmeUJ1dHRvbkVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEZWNsYXNzaWZ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Nsb3NlLWljb24tbGluaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjbG9zZS1pY29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEuZGlzcGxheUlkLFxuXHRcdFx0XHRcdFx0XHRcdHN0ZFJlc3BvbnNlRGF0YS50b3RhbE1hcmtWYWx1ZSxcblx0XHRcdFx0XHRcdFx0XHRzdGRSZXNwb25zZURhdGEuY2FuZGlkYXRlU2NyaXB0SWQsXG5cdFx0XHRcdFx0XHRcdFx0c3RkUmVzcG9uc2VEYXRhLmVzQ2FuZGlkYXRlU2NyaXB0TWFya1NjaGVtZUdyb3VwSWQsXG5cdFx0XHRcdFx0XHRcdFx0c3RkUmVzcG9uc2VEYXRhLm1hcmtpbmdNb2RlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5yaWdPcmRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLmVzTWFya0dyb3VwUm93VmVyc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQWRkaW5nIHRoZSAnbGFzdC1jZWxsJyBjb2x1bW4gYXMgdGhpcyBjb2x1bW4gaXMgbm90IGFkZGVkIHRvIGNsYXNzaWZpZWQgd29ya2xzdCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX0RlQ2xhc3NpZnlfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0U0xBT0luZGljYXRvckVsZW1lbnRGb3JTdGFuZGFyZGlzYXRpb25SZXNwb25zZXMoc3RkUmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX0FsbFBhZ2VBbm5vdGF0ZWRfJyArIGdyaWRDb2x1bW5Db3VudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFubm90YXRpb24gaW5kaWNhdG9yIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0QWxsUGFnZUFubm90YXRpb25JbmRpY2F0b3JFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxGaWxlc05vdFZpZXdlZEluZGljYXRvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19BbGxGaWxlc05vdFZpZXdlZF8nICsgZ3JpZENvbHVtbkNvdW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYW5ub3RhdGlvbiBpbmRpY2F0b3IgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRBbGxGaWxlc05vdFZpZXdlZEluZGljYXRvckVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmlzSGlkZGVuID0gdGhpcy5nZXRDZWxsVmlzaWJpbGl0eShfc3RkUmVzcG9uc2VDb2x1bW4pO1xuICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzXG4gICAgICAgICAgICAgICAgICAgID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzc1xuICAgICAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgICAgICBzdGRHcmlkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfc3RkR3JpZENlbGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgaW5kaXZpZHVhbCBxdWVzdGlvbidzIG1hcmtzIGlmIE1hcmsgYnkgcXVlc3Rpb24gdmlldy5cbiAgICAgICAgICAgIGlmIChncmlkVHlwZSA9PT0gZW51bXMuR3JpZFR5cGUubWFya0J5UXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICBzdGRHcmlkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24uY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldER5bmFtaWNWYWx1ZUZvck1hcmtzKFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RkR3JpZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YS5yb2xlLnBlcm1pc3Npb25zLmRlY2xhc3NpZnkpICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNSZXRhaW5Qcm92aXNpb25hbE1hcmtzQ0NPbigpICYmXG4gICAgICAgICAgICAgICAgICAgICFxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5zdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfRGVDbGFzc2lmeV8nICsgc3RkR3JpZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXREZWNsYXNzaWZ5QnV0dG9uRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdEZWNsYXNzaWZ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdjbG9zZS1pY29uLWxpbmsnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Nsb3NlLWljb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLmRpc3BsYXlJZCxcblx0XHRcdFx0XHRcdHN0ZFJlc3BvbnNlRGF0YS50b3RhbE1hcmtWYWx1ZSxcblx0XHRcdFx0XHRcdHN0ZFJlc3BvbnNlRGF0YS5jYW5kaWRhdGVTY3JpcHRJZCxcblx0XHRcdFx0XHRcdHN0ZFJlc3BvbnNlRGF0YS5lc0NhbmRpZGF0ZVNjcmlwdE1hcmtTY2hlbWVHcm91cElkLFxuXHRcdFx0XHRcdFx0c3RkUmVzcG9uc2VEYXRhLm1hcmtpbmdNb2RlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEucmlnT3JkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEuZXNNYXJrR3JvdXBSb3dWZXJzaW9uXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5pc0hpZGRlbiA9IHRoaXMuZ2V0Q2VsbFZpc2liaWxpdHkoX3N0ZFJlc3BvbnNlQ29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9ICdsYXN0LWNlbGwgY29sLWRlY2xhc3NpZnknO1xuICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0ZEdyaWRSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRHcmlkQ2VsbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy9BZGRpbmcgdGhlICdsYXN0LWNlbGwnIGNvbHVtbiBhcyB0aGlzIGNvbHVtbiBpcyBub3QgYWRkZWQgdG8gY2xhc3NpZmllZCB3b3JrbHN0IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsID0gbmV3IGdyaWRDZWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19EZUNsYXNzaWZ5XycgKyBzdGRHcmlkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmlzSGlkZGVuID0gdGhpcy5nZXRDZWxsVmlzaWJpbGl0eShfc3RkUmVzcG9uc2VDb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gJ2xhc3QtY2VsbCc7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgc3RkR3JpZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3N0ZEdyaWRDZWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHdoZXRlaHIgdGhlIGNsYXNzaWZjYXRpb24gdHlwZSBleGNlZWRlZCB0aGUgY3VycmVudCB0YXJnZXQsXG4gICAgICAgICAgICAvLyBpZiBzbyBoaWdobGlnaHQgdGhlIGV4Y2VlZGVkIGxhc3Qgcm93cyB3aXRoIGFtYmVyIGNvbG9yLlxuICAgICAgICAgICAgLy8gQXBwbGljYWJsZSBmb3IgQ2xhc3NpZmllZCBXb3JrbGlzdFxuICAgICAgICAgICAgbGV0IG92ZXJDbGFzc2lmaWVkOiBib29sZWFuID1cbiAgICAgICAgICAgICAgICB0aGlzLmlzU1NVVGFyZ2V0c092ZXJDbGFzc2lmaWVkKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSwgc3RkUmVzcG9uc2VEYXRhLm1hcmtpbmdNb2RlSWQsIHN0ZFJlc3BvbnNlRGF0YS5yaWdPcmRlcik7XG5cbiAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgc3RkR3JpZFJvd0NvbGxlY3Rpb24ucHVzaChcbiAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXG4gICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5kaXNwbGF5SWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc3RkR3JpZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXNlcyxcbiAgICAgICAgICAgICAgICAgICAgb3ZlckNsYXNzaWZpZWQpKTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJldHVybiB0aGUgU1REIFNldCB1cCByb3cgY29sbGVjdGlvbiBmb3IgVW5mcm96ZW4gZGF0YS5cbiAgICAgICAgcmV0dXJuIHN0ZEdyaWRSb3dDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgUklHIE9yZGVyIENvbHVtbiBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gc2VxXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZVxuICAgICAqIEBwYXJhbSBjbGFzc2lmaWNhdGlvblR5cGVcbiAgICAgKiBAcGFyYW0gcmlnT3JkZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UklHT3JkZXJDb2x1bW5FbGVtZW50KFxuICAgICAgICBzZXE6IHN0cmluZyxcbiAgICAgICAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gICAgICAgIGNsYXNzaWZpY2F0aW9uVHlwZT86IGVudW1zLk1hcmtpbmdNb2RlLFxuICAgICAgICByaWdPcmRlcj86IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG5cbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlcSxcbiAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICBjbGFzc2lmaWNhdGlvblR5cGU6IGNsYXNzaWZpY2F0aW9uVHlwZSxcbiAgICAgICAgICAgIHJpZ09yZGVyOiByaWdPcmRlcixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJpZ09yZGVyLCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG5cdC8qKlxuXHQgKiBjcmVhdGluZyByZWFjdCBlbGVtZW50IGZvciB0aGUgIGdldFNMQU9JbmRpY2F0b3JFbGVtZW50IGNvbXBvbmVudFxuXHQgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlsc1xuXHQgKiBAcGFyYW0gcHJvcHNOYW1lc1xuXHQgKiBAcGFyYW0gc2VxXG5cdCAqIEBwYXJhbSBzaG93TWFya2luZ1Byb2dyZXNzXG5cdCAqIEBwYXJhbSBpc1RpbGVWaWV3XG5cdCAqL1xuICAgIHB1YmxpYyBnZXRTTEFPSW5kaWNhdG9yRWxlbWVudChzdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzOiBTdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzLFxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXG4gICAgICAgIHNlcTogc3RyaW5nLFxuICAgICAgICBzaG93TWFya2luZ1Byb2dyZXNzOiBib29sZWFuLFxuICAgICAgICBpc1RpbGVWaWV3OiBib29sZWFuID0gdHJ1ZSk6IEpTWC5FbGVtZW50IHtcblxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlcSxcbiAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGUsXG4gICAgICAgICAgICBpc1Jlc3BvbnNlSGFzU0xBTzogc3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlscy5oYXNBZGRpdGlvbmFsT2JqZWN0cyxcbiAgICAgICAgICAgIGlzQWxsQW5ub3RhdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGlzTWFya2luZ0NvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICBpc1RpbGVWaWV3OiBpc1RpbGVWaWV3LFxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWQ6IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoc2xhb0Fubm90YXRpb25JbmRpY2F0b3IsIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0aW5nIFNMQU8gSW5kaWNhdG9yIEVsZW1lbnQgZm9yIFN0YW5kYXJkaXNhdGlvbiBSZXNwb25zZXNcbiAgICAgKiBAcGFyYW0ge1N0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlsc30gc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzIFxuICAgICAqIEBwYXJhbSB7Kn0gcHJvcHNOYW1lcyBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VxIFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvd01hcmtpbmdQcm9ncmVzcyBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1RpbGVWaWV3PXRydWVdIFxuICAgICAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gXG4gICAgICogQG1lbWJlcm9mIFN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyQmFzZVxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0U0xBT0luZGljYXRvckVsZW1lbnRGb3JTdGFuZGFyZGlzYXRpb25SZXNwb25zZXMoc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMsXG4gICAgICAgIHByb3BzTmFtZXM6IGFueSxcbiAgICAgICAgc2VxOiBzdHJpbmcsXG4gICAgICAgIHNob3dNYXJraW5nUHJvZ3Jlc3M6IGJvb2xlYW4sXG4gICAgICAgIGlzVGlsZVZpZXc6IGJvb2xlYW4gPSB0cnVlKTogSlNYLkVsZW1lbnQge1xuXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U6IGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZSxcbiAgICAgICAgICAgIGlzUmVzcG9uc2VIYXNTTEFPOiBzdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMuaGFzQWRkaXRpb25hbE9iamVjdHMsXG4gICAgICAgICAgICBpc0FsbEFubm90YXRlZDogc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzLmhhc0FsbFBhZ2VzQW5ub3RhdGVkLFxuICAgICAgICAgICAgaXNNYXJraW5nQ29tcGxldGVkOiAoKHNob3dNYXJraW5nUHJvZ3Jlc3MgPyBzdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMubWFya2luZ1Byb2dyZXNzIDogMTAwKSA9PT0gMTAwKSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgIGlzVGlsZVZpZXc6IGlzVGlsZVZpZXcsXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChzbGFvQW5ub3RhdGlvbkluZGljYXRvciwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuXHQvKipcblx0ICogQ3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBNYXJraW5nUHJvZ3Jlc3MgY29tcG9uZW50LlxuXHQgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzXG5cdCAqIEBwYXJhbSBwcm9wc05hbWVzXG5cdCAqIEBwYXJhbSBzZXFcblx0ICogQHBhcmFtIHJlc3BvbnNlU3RhdHVzZXNcblx0ICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwXG5cdCAqL1xuICAgIHByaXZhdGUgZ2V0TWFya2luZ1Byb2dyZXNzRWxlbWVudChzdGFuZGFyZGlzYXRpb25SZXNwb25zZXM6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscyxcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxuICAgICAgICBzZXE6IHN0cmluZyxcbiAgICAgICAgcmVzcG9uc2VTdGF0dXNlczogSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+LFxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cDogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXApOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzOiByZXNwb25zZVN0YXR1c2VzLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlcy5tYXJraW5nUHJvZ3Jlc3MsXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGUsXG4gICAgICAgICAgICBtYXJrR3JvdXBJZDogc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzLmVzTWFya0dyb3VwSWQsXG5cdFx0XHRpc1N1Ym1pdERpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVGFiOiBzdGFuZGFyZGlzYXRpb25TZXR1cCxcbiAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGV0YWlsczogc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KE1hcmtpbmdQcm9ncmVzcywgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIEFsbFBhZ2VBbm5vdGF0aW9uSW5kaWNhdG9yIHdoZW4gdGhlIENDIGlzIG9uIGFuZCBtYXJraW5nIGlzIGNvbXBsZXRlZFxuICAgICAqIGJsb2NraW5nIHN1Ym1pc3Npb24uXG4gICAgICogQHBhcmFtIHtSZXNwb25zZUJhc2V9IHJlc3BvbnNlRGF0YVxuICAgICAqIEBwYXJhbSB7YW55fSBwcm9wc05hbWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlcVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRBbGxQYWdlQW5ub3RhdGlvbkluZGljYXRvckVsZW1lbnRcbiAgICAgICAgKHJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzLFxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXG4gICAgICAgIHNlcTogc3RyaW5nLFxuICAgICAgICBzaG93TWFya2luZ1Byb2dyZXNzOiBib29sZWFuID0gdHJ1ZSk6IEpTWC5FbGVtZW50IHtcblxuICAgICAgICBsZXQgaXNGb3JjZUFubm90YXRpb25DQ09uID0gdGhpcy5nZXRDQ1ZhbHVlKGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsXG4gICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQpO1xuICAgICAgICBsZXQgbWFya2luZ1Byb2dyZXNzID0gcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMubWFya2luZ1Byb2dyZXNzXTtcblxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHNob3cgdGhpcyBpbiB0aWxlIHZpZXcgb25seSBpZiB3ZSAxMDAlIG1hcmtlZCByZXNwb25zZXMgYW5kXG4gICAgICAgIC8vIGFsbCBwYWdlIGFubm90YXRpb24gY2MgaXMgb24uXG4gICAgICAgIGlmIChpc0ZvcmNlQW5ub3RhdGlvbkNDT24gPT09ICd0cnVlJyAmJiBtYXJraW5nUHJvZ3Jlc3MgPT09IDEwMCkge1xuXG4gICAgICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxuICAgICAgICAgICAgICAgIGlzQWxsQW5ub3RhdGVkOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5oYXNBbGxQYWdlc0Fubm90YXRlZF0sXG4gICAgICAgICAgICAgICAgaXNNYXJraW5nQ29tcGxldGVkOiAoKHNob3dNYXJraW5nUHJvZ3Jlc3MgPyByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5tYXJraW5nUHJvZ3Jlc3NdIDogMTAwKSA9PT0gMTAwKSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1RpbGVWaWV3OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgYWxsUGFnZUVsZW1lbnQgPSBJbW11dGFibGUuTGlzdDxKU1guRWxlbWVudD4oW1JlYWN0LmNyZWF0ZUVsZW1lbnQoYWxsUGFnZUFubm90YXRpb25JbmRpY2F0b3IsIGNvbXBvbmVudFByb3BzKV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0V3JhcHBlZENvbHVtbihhbGxQYWdlRWxlbWVudCwgJ2NvbCB3bC1zbGFvLWhvbGRlcicsIHNlcSArICd3cmFwcGVkJykuY29sdW1uRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBnZXRBbGxQYWdlQW5ub3RhdGVkSW5kaWNhdG9yRWxlbWVudCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VEYXRhIC0gcmVzcG9uc2UgZGF0YVxuICAgICAqIEBwYXJhbSBwcm9wc05hbWVzIC0gcHJvcCBuYW1lcyBmb3IgdGhlIGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSBzZXEgLSBrZXkgdmFsdWUgZm9yIHRoZSBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gc2hvd01hcmtpbmdQcm9ncmVzcyAtIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxuICAgICAqIEByZXR1cm5zIEpTWC5FbGVtZW50LlxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0QWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzLFxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXG4gICAgICAgIHNlcTogc3RyaW5nKTogSlNYLkVsZW1lbnQge1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlcSxcbiAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGUsXG4gICAgICAgICAgICBhbGxGaWxlc1ZpZXdlZDogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuYWxsRmlsZXNWaWV3ZWRdLFxuICAgICAgICAgICAgaXNNYXJraW5nQ29tcGxldGVkOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5tYXJraW5nUHJvZ3Jlc3NdID09PSAxMDAgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICBpc1RpbGVWaWV3OiBmYWxzZSxcbiAgICAgICAgICAgIGlzRUNvdXJzZXdvcmtDb21wb25lbnQ6IGVDb3Vyc2V3b3JrSGVscGVyLmlzRUNvdXJzZXdvcmtDb21wb25lbnRcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChhbGxGaWxlc05vdFZpZXdlZEluZGljYXRvciwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgU2hhcmVkIFJlc3BvbnNlIEluZGljYXRvciBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gc3RkUmVzcG9uc2VEYXRhXG4gICAgICogQHBhcmFtIHNlcVxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0U2hhcmVkUmVzcG9uc2VJbmRpY2F0b3JFbGVtZW50KGlzU2hhcmVkUHJvdmlzaW9uYWw6IGJvb2xlYW4sXG4gICAgICAgIHNlcTogc3RyaW5nLFxuICAgICAgICApOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U6IGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZSxcbiAgICAgICAgICAgIGlzU2hhcmVkUHJvdmlzaW9uYWw6IGlzU2hhcmVkUHJvdmlzaW9uYWxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoc2hhcmVkUmVzcG9uc2VJbmRpY2F0b3JFbGVtZW50LCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBTaGFyZWQgUmVzcG9uc2UgSW5kaWNhdG9yIGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSBzdGRSZXNwb25zZURhdGFcbiAgICAgKiBAcGFyYW0gc2VxXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc0NvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uT24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRDQ1ZhbHVlKGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkNvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uLFxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCByZXN0cmljdGVkIENsYXNzaWZpY2F0aW9uIHR5cGVzXG4gICAgICogd2hpY2ggc2hvdWxkIGJlIGhpZ2hsaWdodGVkIGFzIGFtYmVyIHdoZW4gb3ZlciBjbGFzc2lmaWVkLlxuICAgICAqIEBwYXJhbSBtYXJrU2NoZW1lR3JvdXBJZFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRSZXN0cmljdGVkU1NVVGFyZ2V0KG1hcmtTY2hlbWVHcm91cElkOiBudW1iZXIpOiBpbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4ge1xuICAgICAgICBsZXQgcmVzdHJpY3RTU1VUYXJnZXRzQ0NWYWx1ZSA9XG4gICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZSgnUmVzdHJpY3RTdGFuZGFyZGlzYXRpb25TZXR1cFRhcmdldHMnLCBtYXJrU2NoZW1lR3JvdXBJZCk7XG5cbiAgICAgICAgaWYgKHJlc3RyaWN0U1NVVGFyZ2V0c0NDVmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICBsZXQgeG1sSGVscGVyT2JqID0gbmV3IHhtbEhlbHBlcihyZXN0cmljdFNTVVRhcmdldHNDQ1ZhbHVlKTtcbiAgICAgICAgICAgIGxldCByZXN0cmljdGVkVGFyZ2V0Tm9kZXMgPSB4bWxIZWxwZXJPYmouZ2V0QWxsQ2hpbGROb2RlcygpO1xuICAgICAgICAgICAgbGV0IHJlc3RyaWN0ZWRUYXJnZXRzOiBpbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4gPSBpbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4oKTtcbiAgICAgICAgICAgIGlmIChyZXN0cmljdGVkVGFyZ2V0Tm9kZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgdGFyZ2V0cyB3aGljaCBhcmUgcmVzdHJpY3RlZC4gZXhjbHVkZSBzZWVkLlxuICAgICAgICAgICAgICAgIGZvciAodmFyIG5vZGUgPSAwOyBub2RlIDwgcmVzdHJpY3RlZFRhcmdldE5vZGVzLmxlbmd0aDsgbm9kZSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVzdHJpY3RlZFRhcmdldE5vZGVzW25vZGVdLmZpcnN0Q2hpbGQubm9kZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdQcmFjdGljZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdHJpY3RlZFRhcmdldHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4ocmVzdHJpY3RlZFRhcmdldHMuY29uY2F0KGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdTdGFuZGFyZGlzYXRpb24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RyaWN0ZWRUYXJnZXRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1tdXRhYmxlLkxpc3Q8ZW51bXMuTWFya2luZ01vZGU+KHJlc3RyaWN0ZWRUYXJnZXRzLmNvbmNhdChlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnU1RNU3RhbmRhcmRpc2F0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN0cmljdGVkVGFyZ2V0cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltbXV0YWJsZS5MaXN0PGVudW1zLk1hcmtpbmdNb2RlPihyZXN0cmljdGVkVGFyZ2V0cy5jb25jYXQoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3RyaWN0ZWRUYXJnZXRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBTdGFuZGFyZGlzYXRpb24gU2V0dXAgUmVxdWlyZWQgVGFyZ2V0c1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTdGFuZGFyZGlzYXRpb25TZXR1cFJlcXVpcmVkVGFyZ2V0cygpOiBJbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4ge1xuICAgICAgICBsZXQgc3RhbmRhcmRpc2F0aW9uU2V0dXBSZXF1aXJlZFRhcmdldHNDQ1ZhbHVlID1cbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKCdTdGFuZGFyZGlzYXRpb25TZXR1cFJlcXVpcmVkVGFyZ2V0cycpO1xuXG4gICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cFJlcXVpcmVkVGFyZ2V0c0NDVmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICBsZXQgeG1sSGVscGVyT2JqID0gbmV3IHhtbEhlbHBlcihzdGFuZGFyZGlzYXRpb25TZXR1cFJlcXVpcmVkVGFyZ2V0c0NDVmFsdWUpO1xuICAgICAgICAgICAgbGV0IHJlcXVpcmVkVGFyZ2V0Tm9kZXMgPSB4bWxIZWxwZXJPYmouZ2V0QWxsQ2hpbGROb2RlcygpO1xuICAgICAgICAgICAgbGV0IHJlcXVpcmVkVGFyZ2V0czogSW1tdXRhYmxlLkxpc3Q8ZW51bXMuTWFya2luZ01vZGU+ID0gSW1tdXRhYmxlLkxpc3Q8ZW51bXMuTWFya2luZ01vZGU+KCk7XG4gICAgICAgICAgICBpZiAocmVxdWlyZWRUYXJnZXROb2Rlcykge1xuICAgICAgICAgICAgICAgIC8vIGdldCB0YXJnZXRzIHdoaWNoIGFyZSByZXN0cmljdGVkLiBleGNsdWRlIHNlZWQuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbm9kZSA9IDA7IG5vZGUgPCByZXF1aXJlZFRhcmdldE5vZGVzLmxlbmd0aDsgbm9kZSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlZFRhcmdldE5vZGVzW25vZGVdLmZpcnN0Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVxdWlyZWRUYXJnZXROb2Rlc1tub2RlXS5maXJzdENoaWxkLm5vZGVWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1ByYWN0aWNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRUYXJnZXRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEltbXV0YWJsZS5MaXN0PGVudW1zLk1hcmtpbmdNb2RlPihyZXF1aXJlZFRhcmdldHMuY29uY2F0KGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1N0YW5kYXJkaXNhdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkVGFyZ2V0cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4ocmVxdWlyZWRUYXJnZXRzLmNvbmNhdChlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdTVE1TdGFuZGFyZGlzYXRpb24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFRhcmdldHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW1tdXRhYmxlLkxpc3Q8ZW51bXMuTWFya2luZ01vZGU+KHJlcXVpcmVkVGFyZ2V0cy5jb25jYXQoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXF1aXJlZFRhcmdldHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgc3BlY2lmaWVkIHRhcmdldCBvdjNlcmNsYXNzaWZpZWRcbiAgICAgKiBAcGFyYW0gdGFiU2VsZWN0aW9uXG4gICAgICogQHBhcmFtIG1hcmtpbmdNb2RlXG4gICAgICogQHBhcmFtIHJpZ09yZGVyXG4gICAgICovXG4gICAgcHVibGljIGlzU1NVVGFyZ2V0c092ZXJDbGFzc2lmaWVkKHRhYlNlbGVjdGlvbjogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXG4gICAgICAgIG1hcmtpbmdNb2RlOiBlbnVtcy5NYXJraW5nTW9kZSwgcmlnT3JkZXI6IG51bWJlcik6IGJvb2xlYW4ge1xuXG4gICAgICAgIC8vIEhvbGQgdGhlIFJlc3RyaWN0ZWQgdGFyZ2V0cyB3aGljaCBzaG91bGQgYmUgaGlnaGxpZ2h0ZWQgd2hlbiBvdmVyIGNsYXNzaWZpZWQuXG4gICAgICAgIGxldCByZXN0cmljdGVkU1NVVGFyZ2V0cyA9XG4gICAgICAgICAgICB0aGlzLmdldFJlc3RyaWN0ZWRTU1VUYXJnZXQocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQpO1xuICAgICAgICBsZXQgY2xhc3NpZmljYXRpb25TdW1tYXJ5VGFyZ2V0RGV0YWlsczogSW1tdXRhYmxlLkxpc3Q8c3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlsPiA9XG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmNsYXNzaWZpY2F0aW9uU3VtbWFyeVRhcmdldERldGFpbHM7XG5cbiAgICAgICAgcmV0dXJuIHRhYlNlbGVjdGlvbiA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlICYmXG4gICAgICAgICAgICByZXN0cmljdGVkU1NVVGFyZ2V0cyAmJiByZXN0cmljdGVkU1NVVGFyZ2V0cy5jb250YWlucyhtYXJraW5nTW9kZSkgJiZcbiAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uU3VtbWFyeVRhcmdldERldGFpbHMuc29tZSh4ID0+IHgubWFya2luZ01vZGVJZCA9PT0gbWFya2luZ01vZGUgJiZcbiAgICAgICAgICAgICAgICB4Lm1hcmtpbmdNb2RlSWQgIT09IGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcgJiZcbiAgICAgICAgICAgICAgICB4LmNvdW50ID4geC50YXJnZXQgJiYgcmlnT3JkZXIgPiB4LnRhcmdldCk7XG4gICAgfVxufVxuZXhwb3J0ID0gU3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXJCYXNlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJzL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVyYmFzZS50cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBZ0JBO0FBRUE7QUFxeUJBOzs7Ozs7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcThCQTtBQTd5REE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7OztBQVFBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQU1BO0FBRUE7QUFHQTtBQUNBO0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFKQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOzs7Ozs7O0FBT0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTBFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7OztBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7Ozs7O0FBTUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQVFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFJQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7Ozs7OztBQU9BO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 296:
/* no static exports found */
/* all exports used */
/*!************************************************!*\
  !*** ./src/components/utility/grid/gridrow.ts ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Row Definition for Grid Compoent\r\n */\r\nvar GridRow = /** @class */ (function () {\r\n    function GridRow() {\r\n    }\r\n    /**\r\n     * returns the rowId\r\n     */\r\n    GridRow.prototype.getRowId = function () {\r\n        return this.rowId;\r\n    };\r\n    /**\r\n     * returns the cells\r\n     */\r\n    GridRow.prototype.getCells = function () {\r\n        return this.cells;\r\n    };\r\n    /**\r\n     * set the cells\r\n     */\r\n    GridRow.prototype.setCells = function (_cells) {\r\n        this.cells = _cells;\r\n    };\r\n    /**\r\n     * returns the rowStyle\r\n     */\r\n    GridRow.prototype.getRowStyle = function () {\r\n        return this.rowStyle;\r\n    };\r\n    /**\r\n     * set the rowStyle\r\n     */\r\n    GridRow.prototype.setRowStyle = function (_rowStyle) {\r\n        this.rowStyle = _rowStyle;\r\n    };\r\n    /**\r\n     * set the rowId\r\n     * @param rowId\r\n     */\r\n    GridRow.prototype.setRowId = function (rowId) {\r\n        this.rowId = rowId;\r\n    };\r\n    /**\r\n     * returns the rowTitle\r\n     */\r\n    GridRow.prototype.getRowTitle = function () {\r\n        return this.rowTitle;\r\n    };\r\n    /**\r\n     * returns the rowTitle\r\n     */\r\n    GridRow.prototype.setRowTitle = function (title) {\r\n        this.rowTitle = title;\r\n    };\r\n    /**\r\n     * returns the additional row Element\r\n     */\r\n    GridRow.prototype.getAdditionalElement = function () {\r\n        return this.additionalElement;\r\n    };\r\n    /**\r\n     * returns the additional row Element\r\n     */\r\n    GridRow.prototype.setAdditionalElement = function (_additionalElement) {\r\n        this.additionalElement = _additionalElement;\r\n    };\r\n    return GridRow;\r\n}());\r\nmodule.exports = GridRow;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL2dyaWRyb3cudHM/ZTk1YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPSd0eXBpbmdzL3Jvdy50cycgLz5cclxuaW1wb3J0IGdyaWRDZWxsID0gcmVxdWlyZSgnLi9ncmlkY2VsbCcpO1xyXG5cclxuLyoqXHJcbiAqIFJvdyBEZWZpbml0aW9uIGZvciBHcmlkIENvbXBvZW50XHJcbiAqL1xyXG5jbGFzcyBHcmlkUm93IGltcGxlbWVudHMgUm93IHtcclxuXHJcbiAgICBwcml2YXRlIGNlbGxzOiBBcnJheTxncmlkQ2VsbD47XHJcbiAgICBwcml2YXRlIHJvd1N0eWxlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJvd0lkOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJvd1RpdGxlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGFkZGl0aW9uYWxFbGVtZW50OiBKU1guRWxlbWVudDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHJvd0lkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRSb3dJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3dJZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGNlbGxzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRDZWxscygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jZWxscztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldCB0aGUgY2VsbHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldENlbGxzKF9jZWxsczogQXJyYXk8Z3JpZENlbGw+KSB7XHJcbiAgICAgICAgdGhpcy5jZWxscyA9IF9jZWxscztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHJvd1N0eWxlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRSb3dTdHlsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3dTdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldCB0aGUgcm93U3R5bGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFJvd1N0eWxlKF9yb3dTdHlsZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5yb3dTdHlsZSA9IF9yb3dTdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldCB0aGUgcm93SWRcclxuICAgICAqIEBwYXJhbSByb3dJZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Um93SWQocm93SWQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucm93SWQgPSByb3dJZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHJvd1RpdGxlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRSb3dUaXRsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3dUaXRsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHJvd1RpdGxlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRSb3dUaXRsZSh0aXRsZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5yb3dUaXRsZSA9IHRpdGxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgYWRkaXRpb25hbCByb3cgRWxlbWVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0QWRkaXRpb25hbEVsZW1lbnQoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZGl0aW9uYWxFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgYWRkaXRpb25hbCByb3cgRWxlbWVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0QWRkaXRpb25hbEVsZW1lbnQoX2FkZGl0aW9uYWxFbGVtZW50OiBKU1guRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuYWRkaXRpb25hbEVsZW1lbnQgPSBfYWRkaXRpb25hbEVsZW1lbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEdyaWRSb3c7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9ncmlkcm93LnRzIl0sIm1hcHBpbmdzIjoiO0FBR0E7O0FBRUE7QUFDQTtBQUFBO0FBOEVBO0FBdEVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 304:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/utility/worklistvalidators/worklistvalidatorlist.ts ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * List of validators used for worklists. An entry should be added to this enum for all worklist validators\r\n */\r\nvar WorklistValidatorList;\r\n(function (WorklistValidatorList) {\r\n    WorklistValidatorList[WorklistValidatorList[\"liveOpen\"] = 0] = \"liveOpen\";\r\n    WorklistValidatorList[WorklistValidatorList[\"atypicalOpen\"] = 1] = \"atypicalOpen\";\r\n    WorklistValidatorList[WorklistValidatorList[\"standardisationOpen\"] = 2] = \"standardisationOpen\";\r\n    WorklistValidatorList[WorklistValidatorList[\"practiceOpen\"] = 3] = \"practiceOpen\";\r\n    WorklistValidatorList[WorklistValidatorList[\"directedRemarkOpen\"] = 4] = \"directedRemarkOpen\";\r\n    WorklistValidatorList[WorklistValidatorList[\"simulationOpen\"] = 5] = \"simulationOpen\";\r\n})(WorklistValidatorList || (WorklistValidatorList = {}));\r\nmodule.exports = WorklistValidatorList;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9ybGlzdC50cz9lZTc5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBMaXN0IG9mIHZhbGlkYXRvcnMgdXNlZCBmb3Igd29ya2xpc3RzLiBBbiBlbnRyeSBzaG91bGQgYmUgYWRkZWQgdG8gdGhpcyBlbnVtIGZvciBhbGwgd29ya2xpc3QgdmFsaWRhdG9yc1xyXG4gKi9cclxuXHJcbmVudW0gV29ya2xpc3RWYWxpZGF0b3JMaXN0IHtcclxuICAgIGxpdmVPcGVuLFxyXG4gICAgYXR5cGljYWxPcGVuLFxyXG4gICAgc3RhbmRhcmRpc2F0aW9uT3BlbixcclxuICAgIHByYWN0aWNlT3BlbixcclxuICAgIGRpcmVjdGVkUmVtYXJrT3BlbixcclxuICAgIHNpbXVsYXRpb25PcGVuXHJcbn1cclxuZXhwb3J0ID0gV29ya2xpc3RWYWxpZGF0b3JMaXN0O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvd29ya2xpc3R2YWxpZGF0b3JsaXN0LnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7O0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 306:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/components/base/eventmanager/eventtypes.ts ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar EventTypes;\r\n(function (EventTypes) {\r\n    EventTypes.PAN = 'pan';\r\n    EventTypes.PAN_START = 'panstart';\r\n    EventTypes.PAN_END = 'panend';\r\n    EventTypes.PAN_MOVE = 'panmove';\r\n    EventTypes.PAN_CANCEL = 'pancancel';\r\n    EventTypes.PAN_LEFT = 'panleft';\r\n    EventTypes.PAN_RIGHT = 'panright';\r\n    EventTypes.PAN_UP = 'panup';\r\n    EventTypes.PAN_DOWN = 'pandown';\r\n    EventTypes.TAP = 'tap';\r\n    EventTypes.PRESS = 'press';\r\n    EventTypes.PRESS_UP = 'pressup';\r\n    EventTypes.SWIPE_LEFT = 'swipeleft';\r\n    EventTypes.SWIPE_RIGHT = 'swiperight';\r\n    EventTypes.SWIPE_UP = 'swipeup';\r\n    EventTypes.SWIPE_DOWN = 'swipedown';\r\n    EventTypes.INPUT = 'input';\r\n    EventTypes.SWIPE = 'swipe';\r\n    EventTypes.PINCH = 'pinch';\r\n    EventTypes.PINCH_START = 'pinchstart';\r\n    EventTypes.PINCH_IN = 'pinchin';\r\n    EventTypes.PINCH_OUT = 'pinchout';\r\n    EventTypes.PINCH_END = 'pinchend';\r\n    EventTypes.PINCH_CANCEL = 'pinchcancel';\r\n})(EventTypes || (EventTypes = {}));\r\nmodule.exports = EventTypes;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYmFzZS9ldmVudG1hbmFnZXIvZXZlbnR0eXBlcy50cz9kMTgwIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSBFdmVudFR5cGVzIHtcclxuICAgIGV4cG9ydCBjb25zdCBQQU4gPSAncGFuJztcclxuICAgIGV4cG9ydCBjb25zdCBQQU5fU1RBUlQgPSAncGFuc3RhcnQnO1xyXG4gICAgZXhwb3J0IGNvbnN0IFBBTl9FTkQgPSAncGFuZW5kJztcclxuICAgIGV4cG9ydCBjb25zdCBQQU5fTU9WRSA9ICdwYW5tb3ZlJztcclxuICAgIGV4cG9ydCBjb25zdCBQQU5fQ0FOQ0VMID0gJ3BhbmNhbmNlbCc7XHJcbiAgICBleHBvcnQgY29uc3QgUEFOX0xFRlQgPSAncGFubGVmdCc7XHJcbiAgICBleHBvcnQgY29uc3QgUEFOX1JJR0hUID0gJ3BhbnJpZ2h0JztcclxuICAgIGV4cG9ydCBjb25zdCBQQU5fVVAgPSAncGFudXAnO1xyXG4gICAgZXhwb3J0IGNvbnN0IFBBTl9ET1dOID0gJ3BhbmRvd24nO1xyXG4gICAgZXhwb3J0IGNvbnN0IFRBUCA9ICd0YXAnO1xyXG4gICAgZXhwb3J0IGNvbnN0IFBSRVNTID0gJ3ByZXNzJztcclxuICAgIGV4cG9ydCBjb25zdCBQUkVTU19VUCA9ICdwcmVzc3VwJztcclxuICAgIGV4cG9ydCBjb25zdCBTV0lQRV9MRUZUID0gJ3N3aXBlbGVmdCc7XHJcbiAgICBleHBvcnQgY29uc3QgU1dJUEVfUklHSFQgPSAnc3dpcGVyaWdodCc7XHJcbiAgICBleHBvcnQgY29uc3QgU1dJUEVfVVAgPSAnc3dpcGV1cCc7XHJcbiAgICBleHBvcnQgY29uc3QgU1dJUEVfRE9XTiA9ICdzd2lwZWRvd24nO1xyXG4gICAgZXhwb3J0IGNvbnN0IElOUFVUID0gJ2lucHV0JztcclxuICAgIGV4cG9ydCBjb25zdCBTV0lQRSA9ICdzd2lwZSc7XHJcbiAgICBleHBvcnQgY29uc3QgUElOQ0ggPSAncGluY2gnO1xyXG4gICAgZXhwb3J0IGNvbnN0IFBJTkNIX1NUQVJUID0gJ3BpbmNoc3RhcnQnO1xyXG4gICAgZXhwb3J0IGNvbnN0IFBJTkNIX0lOID0gJ3BpbmNoaW4nO1xyXG4gICAgZXhwb3J0IGNvbnN0IFBJTkNIX09VVCA9ICdwaW5jaG91dCc7XHJcbiAgICBleHBvcnQgY29uc3QgUElOQ0hfRU5EID0gJ3BpbmNoZW5kJztcclxuICAgIGV4cG9ydCBjb25zdCBQSU5DSF9DQU5DRUwgPSAncGluY2hjYW5jZWwnO1xyXG59XHJcblxyXG5leHBvcnQgPSBFdmVudFR5cGVzO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9iYXNlL2V2ZW50bWFuYWdlci9ldmVudHR5cGVzLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 315:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/components/worklist/shared/genericdate.tsx ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n    React component for generic date.\r\n*/\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeHelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\n/**\r\n * Stateless component for generic date.\r\n * @param props\r\n */\r\nvar genericDate = function (props) {\r\n    var dateValue = props.displayText ? props.displayText : localeHelper.toLocaleDateTimeString(props.dateValue);\r\n    return (React.createElement(\"span\", { id: props.id, className: props.className }, dateValue));\r\n};\r\nmodule.exports = genericDate;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2dlbmVyaWNkYXRlLnRzeD83YmYyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgICBSZWFjdCBjb21wb25lbnQgZm9yIGdlbmVyaWMgZGF0ZS5cclxuKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgbG9jYWxlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9sb2NhbGUvbG9jYWxlaGVscGVyJyk7XHJcbmltcG9ydCBzdHJpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dlbmVyaWMvc3RyaW5naGVscGVyJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IGNvbnN0YW50ID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25zdGFudHMnKTtcclxuXHJcbmludGVyZmFjZSBHZW5lcmljRGF0ZSBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBkYXRlVmFsdWU/OiBEYXRlO1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIGNsYXNzTmFtZTogc3RyaW5nO1xyXG4gICAgZGlzcGxheVRleHQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdGF0ZWxlc3MgY29tcG9uZW50IGZvciBnZW5lcmljIGRhdGUuXHJcbiAqIEBwYXJhbSBwcm9wc1xyXG4gKi9cclxuY29uc3QgZ2VuZXJpY0RhdGU6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxHZW5lcmljRGF0ZT4gPSAocHJvcHM6IEdlbmVyaWNEYXRlKSA9PiB7XHJcbiAgICBsZXQgZGF0ZVZhbHVlIDogc3RyaW5nID0gcHJvcHMuZGlzcGxheVRleHQgPyBwcm9wcy5kaXNwbGF5VGV4dCA6IGxvY2FsZUhlbHBlci50b0xvY2FsZURhdGVUaW1lU3RyaW5nKHByb3BzLmRhdGVWYWx1ZSk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxzcGFuIGlkPXtwcm9wcy5pZH0gY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxyXG4gICAgICAgICAgICB7ZGF0ZVZhbHVlfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICk7XHJcbn07XHJcblxyXG5leHBvcnQgPSBnZW5lcmljRGF0ZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2dlbmVyaWNkYXRlLnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBOztBQUVBO0FBQ0E7QUFFQTtBQVlBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 316:
/* no static exports found */
/* all exports used */
/*!*******************************************!*\
  !*** ./src/utility/touch/devicehelper.ts ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar DeviceHelper = /** @class */ (function () {\r\n    function DeviceHelper() {\r\n    }\r\n    /**\r\n     * return true if the device is supported touch.\r\n     */\r\n    DeviceHelper.isTouchDevice = function () {\r\n        var isTouchDevice = 'ontouchstart' in document.documentElement;\r\n        /* it returns a zero on a mouse only computer, or 1 or more on a touch enabled computer(for IE) */\r\n        var touchpoints = navigator.maxTouchPoints;\r\n        return (isTouchDevice || touchpoints > 0);\r\n    };\r\n    /**\r\n     * return true for Microsoft touch devices\r\n     */\r\n    DeviceHelper.isMSTouchDevice = function () {\r\n        return navigator.pointerEnabled ||\r\n            navigator.msPointerEnabled ||\r\n            (navigator.userAgent.match(/Windows/i) && this.isTouchDevice());\r\n    };\r\n    return DeviceHelper;\r\n}());\r\nmodule.exports = DeviceHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvdG91Y2gvZGV2aWNlaGVscGVyLnRzPzZiM2EiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRGV2aWNlSGVscGVyIHtcclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJuIHRydWUgaWYgdGhlIGRldmljZSBpcyBzdXBwb3J0ZWQgdG91Y2guXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNUb3VjaERldmljZSgpOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgbGV0IGlzVG91Y2hEZXZpY2UgPSAnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgLyogaXQgcmV0dXJucyBhIHplcm8gb24gYSBtb3VzZSBvbmx5IGNvbXB1dGVyLCBvciAxIG9yIG1vcmUgb24gYSB0b3VjaCBlbmFibGVkIGNvbXB1dGVyKGZvciBJRSkgKi9cclxuICAgICAgICBsZXQgdG91Y2hwb2ludHMgPSBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM7XHJcblxyXG4gICAgICAgIHJldHVybiAoaXNUb3VjaERldmljZSB8fCB0b3VjaHBvaW50cyA+IDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJuIHRydWUgZm9yIE1pY3Jvc29mdCB0b3VjaCBkZXZpY2VzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNNU1RvdWNoRGV2aWNlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQgfHxcclxuICAgICAgICAgICAgbmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgfHxcclxuICAgICAgICAgICAgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1dpbmRvd3MvaSkgJiYgdGhpcy5pc1RvdWNoRGV2aWNlKCkpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCA9IERldmljZUhlbHBlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3V0aWxpdHkvdG91Y2gvZGV2aWNlaGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFBQTtBQXFCQTtBQXBCQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 319:
/* no static exports found */
/* all exports used */
/*!********************************************************************!*\
  !*** ./src/utility/worklistvalidators/worklistvalidatorfactory.ts ***!
  \********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar worklistValidatorList = __webpack_require__(/*! ./worklistvalidatorlist */ 304);\r\nvar liveWorklistValidator = __webpack_require__(/*! ./liveworklistvalidator */ 421);\r\nvar standardisationWorklistValidator = __webpack_require__(/*! ./standardisationworklistvalidator */ 424);\r\nvar practiceWorklistValidator = __webpack_require__(/*! ./practiceworklistvalidator */ 422);\r\nvar directedRemarkWorlistValidator = __webpack_require__(/*! ./directedremarkworklistvalidator */ 420);\r\nvar simulationkWorlistValidator = __webpack_require__(/*! ./simulationworklistvalidator */ 423);\r\nvar WorklistValidatorFactory = /** @class */ (function () {\r\n    function WorklistValidatorFactory() {\r\n    }\r\n    /**\r\n     * returns the validator object.\r\n     * @param comparerName - Name of the validator - should be a member of the worklistvalidatorlist enum.\r\n     */\r\n    WorklistValidatorFactory.prototype.getValidator = function (validatorName) {\r\n        var worklistValidator = undefined;\r\n        switch (validatorName) {\r\n            /** instance of liveWorklistValidator to be registered in this factory */\r\n            case worklistValidatorList.liveOpen:\r\n            case worklistValidatorList.atypicalOpen:\r\n                worklistValidator = new liveWorklistValidator();\r\n                break;\r\n            case worklistValidatorList.standardisationOpen:\r\n                worklistValidator = new standardisationWorklistValidator();\r\n                break;\r\n            case worklistValidatorList.practiceOpen:\r\n                worklistValidator = new practiceWorklistValidator();\r\n                break;\r\n            case worklistValidatorList.directedRemarkOpen:\r\n                worklistValidator = new directedRemarkWorlistValidator();\r\n                break;\r\n            case worklistValidatorList.simulationOpen:\r\n                worklistValidator = new simulationkWorlistValidator();\r\n        }\r\n        /** returns the validator object corresponding to  the name */\r\n        return worklistValidator;\r\n    };\r\n    return WorklistValidatorFactory;\r\n}());\r\nvar validatorFactory = new WorklistValidatorFactory();\r\nmodule.exports = validatorFactory;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9yZmFjdG9yeS50cz8wNzM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB3b3JrbGlzdFZhbGlkYXRvckxpc3QgPSByZXF1aXJlKCcuL3dvcmtsaXN0dmFsaWRhdG9ybGlzdCcpO1xyXG5pbXBvcnQgbGl2ZVdvcmtsaXN0VmFsaWRhdG9yID0gcmVxdWlyZSgnLi9saXZld29ya2xpc3R2YWxpZGF0b3InKTtcclxuaW1wb3J0IHdvcmtsaXN0dmFsaWRhdG9yc2NoZW1hID0gcmVxdWlyZSgnLi93b3JrbGlzdHZhbGlkYXRvcnNjaGVtYScpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uV29ya2xpc3RWYWxpZGF0b3IgPSByZXF1aXJlKCcuL3N0YW5kYXJkaXNhdGlvbndvcmtsaXN0dmFsaWRhdG9yJyk7XHJcbmltcG9ydCBwcmFjdGljZVdvcmtsaXN0VmFsaWRhdG9yID0gcmVxdWlyZSgnLi9wcmFjdGljZXdvcmtsaXN0dmFsaWRhdG9yJyk7XHJcbmltcG9ydCBkaXJlY3RlZFJlbWFya1dvcmxpc3RWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2RpcmVjdGVkcmVtYXJrd29ya2xpc3R2YWxpZGF0b3InKTtcclxuaW1wb3J0IHNpbXVsYXRpb25rV29ybGlzdFZhbGlkYXRvciA9IHJlcXVpcmUoJy4vc2ltdWxhdGlvbndvcmtsaXN0dmFsaWRhdG9yJyk7XHJcblxyXG5jbGFzcyBXb3JrbGlzdFZhbGlkYXRvckZhY3Rvcnkge1xyXG4gICAvKipcclxuICAgICogcmV0dXJucyB0aGUgdmFsaWRhdG9yIG9iamVjdC5cclxuICAgICogQHBhcmFtIGNvbXBhcmVyTmFtZSAtIE5hbWUgb2YgdGhlIHZhbGlkYXRvciAtIHNob3VsZCBiZSBhIG1lbWJlciBvZiB0aGUgd29ya2xpc3R2YWxpZGF0b3JsaXN0IGVudW0uXHJcbiAgICAqL1xyXG4gICAgcHVibGljIGdldFZhbGlkYXRvcih2YWxpZGF0b3JOYW1lOiB3b3JrbGlzdFZhbGlkYXRvckxpc3QpOiB3b3JrbGlzdHZhbGlkYXRvcnNjaGVtYSB7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0VmFsaWRhdG9yOiB3b3JrbGlzdHZhbGlkYXRvcnNjaGVtYSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgc3dpdGNoICh2YWxpZGF0b3JOYW1lKSB7XHJcbiAgICAgICAgICAgIC8qKiBpbnN0YW5jZSBvZiBsaXZlV29ya2xpc3RWYWxpZGF0b3IgdG8gYmUgcmVnaXN0ZXJlZCBpbiB0aGlzIGZhY3RvcnkgKi9cclxuXHRcdFx0Y2FzZSB3b3JrbGlzdFZhbGlkYXRvckxpc3QubGl2ZU9wZW46XHJcblx0XHRcdGNhc2Ugd29ya2xpc3RWYWxpZGF0b3JMaXN0LmF0eXBpY2FsT3BlbjpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yID0gbmV3IGxpdmVXb3JrbGlzdFZhbGlkYXRvcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2Ugd29ya2xpc3RWYWxpZGF0b3JMaXN0LnN0YW5kYXJkaXNhdGlvbk9wZW46XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFZhbGlkYXRvciA9IG5ldyBzdGFuZGFyZGlzYXRpb25Xb3JrbGlzdFZhbGlkYXRvcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2Ugd29ya2xpc3RWYWxpZGF0b3JMaXN0LnByYWN0aWNlT3BlbjpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yID0gbmV3IHByYWN0aWNlV29ya2xpc3RWYWxpZGF0b3IoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIHdvcmtsaXN0VmFsaWRhdG9yTGlzdC5kaXJlY3RlZFJlbWFya09wZW46XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFZhbGlkYXRvciA9IG5ldyBkaXJlY3RlZFJlbWFya1dvcmxpc3RWYWxpZGF0b3IoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIHdvcmtsaXN0VmFsaWRhdG9yTGlzdC5zaW11bGF0aW9uT3BlbjpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yID0gbmV3IHNpbXVsYXRpb25rV29ybGlzdFZhbGlkYXRvcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqIHJldHVybnMgdGhlIHZhbGlkYXRvciBvYmplY3QgY29ycmVzcG9uZGluZyB0byAgdGhlIG5hbWUgKi9cclxuICAgICAgICByZXR1cm4gd29ya2xpc3RWYWxpZGF0b3I7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCB2YWxpZGF0b3JGYWN0b3J5ID0gbmV3IFdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeSgpO1xyXG5leHBvcnQgPSB2YWxpZGF0b3JGYWN0b3J5O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvd29ya2xpc3R2YWxpZGF0b3JmYWN0b3J5LnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQThCQTtBQTdCQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 320:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/components/base/eventmanager/eventmanagerbase.ts ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar hammerHandler = __webpack_require__(/*! ./hammerhandler */ 436);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\n/**\r\n * Base class for handling letious event types using this class object we can\r\n * switch between hammer and native events\r\n */\r\nvar EventManagerBase = /** @class */ (function (_super) {\r\n    __extends(EventManagerBase, _super);\r\n    /**\r\n     * event manager constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function EventManagerBase(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    Object.defineProperty(EventManagerBase.prototype, \"eventHandler\", {\r\n        /**\r\n         * returns the current event handler\r\n         */\r\n        get: function () {\r\n            if (!this._hammerHandler) {\r\n                this._hammerHandler = new hammerHandler();\r\n            }\r\n            return this._hammerHandler;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return EventManagerBase;\r\n}(pureRenderComponent));\r\nmodule.exports = EventManagerBase;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYmFzZS9ldmVudG1hbmFnZXIvZXZlbnRtYW5hZ2VyYmFzZS50cz9mMDQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBoYW1tZXJIYW5kbGVyID0gcmVxdWlyZSgnLi9oYW1tZXJoYW5kbGVyJyk7XHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcblxyXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3IgaGFuZGxpbmcgbGV0aW91cyBldmVudCB0eXBlcyB1c2luZyB0aGlzIGNsYXNzIG9iamVjdCB3ZSBjYW5cclxuICogc3dpdGNoIGJldHdlZW4gaGFtbWVyIGFuZCBuYXRpdmUgZXZlbnRzXHJcbiAqL1xyXG5jbGFzcyBFdmVudE1hbmFnZXJCYXNlIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxhbnksIGFueT4ge1xyXG5cclxuICAgIHByaXZhdGUgX2hhbW1lckhhbmRsZXI6IEV2ZW50TWFuYWdlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGV2ZW50IG1hbmFnZXIgY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBhbnksIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIHJldHVybnMgdGhlIGN1cnJlbnQgZXZlbnQgaGFuZGxlclxyXG4gICAgKi9cclxuICAgcHVibGljIGdldCBldmVudEhhbmRsZXIoKTogRXZlbnRNYW5hZ2VyIHtcclxuICAgICAgIGlmICghdGhpcy5faGFtbWVySGFuZGxlcikge1xyXG4gICAgICAgICAgIHRoaXMuX2hhbW1lckhhbmRsZXIgPSBuZXcgaGFtbWVySGFuZGxlcigpO1xyXG4gICAgICAgfVxyXG4gICAgICAgcmV0dXJuIHRoaXMuX2hhbW1lckhhbmRsZXI7XHJcbiAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gRXZlbnRNYW5hZ2VyQmFzZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYmFzZS9ldmVudG1hbmFnZXIvZXZlbnRtYW5hZ2VyYmFzZS50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFBQTtBQUlBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 325:
/* no static exports found */
/* all exports used */
/*!**********************************************************!*\
  !*** ./src/components/utility/messageeditorconstants.ts ***!
  \**********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar MessageEditorConstants;\r\n(function (MessageEditorConstants) {\r\n    MessageEditorConstants.TINYMCE_THEME = 'advanced';\r\n    MessageEditorConstants.TINYMCE_PLUGINS = 'link textcolor advlist';\r\n    MessageEditorConstants.TINYMCE_TOOLBAR = 'bold italic underline | fontselect fontsizeselect | alignleft aligncenter alignright | bullist numlist | link';\r\n    MessageEditorConstants.TINYMCE_FONTSIZES = '8px 10px 12px 14px 18px 24px 36px';\r\n    MessageEditorConstants.TINYMCE_FONTS = 'Andale Mono=andale mono,times;'\r\n        + 'Arial=arial,helvetica,sans-serif;'\r\n        + 'Arial Black=arial black,avant garde;'\r\n        + 'Book Antiqua=book antiqua,palatino;'\r\n        + 'Comic Sans MS=comic sans ms,sans-serif;'\r\n        + 'Courier New=courier new,courier;'\r\n        + 'Georgia=georgia,palatino;'\r\n        + 'Helvetica=helvetica;'\r\n        + 'Impact=impact,chicago;'\r\n        + 'Tahoma=tahoma,arial,helvetica,sans-serif;'\r\n        + 'Terminal=terminal,monaco;'\r\n        + 'Times New Roman=times new roman,times;'\r\n        + 'Trebuchet MS=trebuchet ms,geneva;'\r\n        + 'Verdana=verdana,geneva;';\r\n    MessageEditorConstants.TINYMCE_TEXTCOLOR_PALETTE = [\r\n        '000000', '',\r\n        '993300', '',\r\n        '333300', '',\r\n        '003300', '',\r\n        '003366', '',\r\n        '000080', '',\r\n        '333399', '',\r\n        '333333', '',\r\n        '800000', '',\r\n        '808000', '',\r\n        '008000', '',\r\n        '008080', '',\r\n        '0000FF', '',\r\n        '666699', '',\r\n        '808080', '',\r\n        'FF0000', '',\r\n        '99CC00', '',\r\n        '339966', '',\r\n        '33CCCC', '',\r\n        '3366FF', '',\r\n        '800080', '',\r\n        '999999', '',\r\n        'FF00FF', '',\r\n        '00FF00', '',\r\n        '00FFFF', '',\r\n        '00CCFF', '',\r\n        '993366', '',\r\n        'FFFFFF', '',\r\n        '99CCFF', '',\r\n    ];\r\n    MessageEditorConstants.TINYMCE_FONTNAME_CMD = 'FontName';\r\n    MessageEditorConstants.TINYMCE_FONTSIZE_CMD = 'FontSize';\r\n    MessageEditorConstants.TINYMCE_DEFAULT_FONT = 'arial,helvetica,sans-serif';\r\n    MessageEditorConstants.TINYMCE_DEFAULT_FONTSIZE = '12px';\r\n})(MessageEditorConstants || (MessageEditorConstants = {}));\r\nmodule.exports = MessageEditorConstants;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9tZXNzYWdlZWRpdG9yY29uc3RhbnRzLnRzP2NkZmYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlIE1lc3NhZ2VFZGl0b3JDb25zdGFudHMge1xyXG4gICAgZXhwb3J0IGNvbnN0IFRJTllNQ0VfVEhFTUUgPSAnYWR2YW5jZWQnO1xyXG4gICAgZXhwb3J0IGNvbnN0IFRJTllNQ0VfUExVR0lOUyA9ICdsaW5rIHRleHRjb2xvciBhZHZsaXN0JztcclxuICAgIGV4cG9ydCBjb25zdCBUSU5ZTUNFX1RPT0xCQVIgPVxyXG4gICAgICAgICdib2xkIGl0YWxpYyB1bmRlcmxpbmUgfCBmb250c2VsZWN0IGZvbnRzaXplc2VsZWN0IHwgYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgfCBidWxsaXN0IG51bWxpc3QgfCBsaW5rJztcclxuICAgIGV4cG9ydCBjb25zdCBUSU5ZTUNFX0ZPTlRTSVpFUyA9ICc4cHggMTBweCAxMnB4IDE0cHggMThweCAyNHB4IDM2cHgnO1xyXG4gICAgZXhwb3J0IGNvbnN0IFRJTllNQ0VfRk9OVFMgPSAnQW5kYWxlIE1vbm89YW5kYWxlIG1vbm8sdGltZXM7J1xyXG4gICAgICAgICsgJ0FyaWFsPWFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmOydcclxuICAgICAgICArICdBcmlhbCBCbGFjaz1hcmlhbCBibGFjayxhdmFudCBnYXJkZTsnXHJcbiAgICAgICAgKyAnQm9vayBBbnRpcXVhPWJvb2sgYW50aXF1YSxwYWxhdGlubzsnXHJcbiAgICAgICAgKyAnQ29taWMgU2FucyBNUz1jb21pYyBzYW5zIG1zLHNhbnMtc2VyaWY7J1xyXG4gICAgICAgICsgJ0NvdXJpZXIgTmV3PWNvdXJpZXIgbmV3LGNvdXJpZXI7J1xyXG4gICAgICAgICsgJ0dlb3JnaWE9Z2VvcmdpYSxwYWxhdGlubzsnXHJcbiAgICAgICAgKyAnSGVsdmV0aWNhPWhlbHZldGljYTsnXHJcbiAgICAgICAgKyAnSW1wYWN0PWltcGFjdCxjaGljYWdvOydcclxuICAgICAgICArICdUYWhvbWE9dGFob21hLGFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmOydcclxuICAgICAgICArICdUZXJtaW5hbD10ZXJtaW5hbCxtb25hY287J1xyXG4gICAgICAgICsgJ1RpbWVzIE5ldyBSb21hbj10aW1lcyBuZXcgcm9tYW4sdGltZXM7J1xyXG4gICAgICAgICsgJ1RyZWJ1Y2hldCBNUz10cmVidWNoZXQgbXMsZ2VuZXZhOydcclxuICAgICAgICArICdWZXJkYW5hPXZlcmRhbmEsZ2VuZXZhOyc7XHJcbiAgICBleHBvcnQgY29uc3QgVElOWU1DRV9URVhUQ09MT1JfUEFMRVRURSA9IFtcclxuICAgICAgICAnMDAwMDAwJywgJycsXHJcbiAgICAgICAgJzk5MzMwMCcsICcnLFxyXG4gICAgICAgICczMzMzMDAnLCAnJyxcclxuICAgICAgICAnMDAzMzAwJywgJycsXHJcbiAgICAgICAgJzAwMzM2NicsICcnLFxyXG4gICAgICAgICcwMDAwODAnLCAnJyxcclxuICAgICAgICAnMzMzMzk5JywgJycsXHJcbiAgICAgICAgJzMzMzMzMycsICcnLFxyXG4gICAgICAgICc4MDAwMDAnLCAnJyxcclxuICAgICAgICAnODA4MDAwJywgJycsXHJcbiAgICAgICAgJzAwODAwMCcsICcnLFxyXG4gICAgICAgICcwMDgwODAnLCAnJyxcclxuICAgICAgICAnMDAwMEZGJywgJycsXHJcbiAgICAgICAgJzY2NjY5OScsICcnLFxyXG4gICAgICAgICc4MDgwODAnLCAnJyxcclxuICAgICAgICAnRkYwMDAwJywgJycsXHJcbiAgICAgICAgJzk5Q0MwMCcsICcnLFxyXG4gICAgICAgICczMzk5NjYnLCAnJyxcclxuICAgICAgICAnMzNDQ0NDJywgJycsXHJcbiAgICAgICAgJzMzNjZGRicsICcnLFxyXG4gICAgICAgICc4MDAwODAnLCAnJyxcclxuICAgICAgICAnOTk5OTk5JywgJycsXHJcbiAgICAgICAgJ0ZGMDBGRicsICcnLFxyXG4gICAgICAgICcwMEZGMDAnLCAnJyxcclxuICAgICAgICAnMDBGRkZGJywgJycsXHJcbiAgICAgICAgJzAwQ0NGRicsICcnLFxyXG4gICAgICAgICc5OTMzNjYnLCAnJyxcclxuICAgICAgICAnRkZGRkZGJywgJycsXHJcbiAgICAgICAgJzk5Q0NGRicsICcnLFxyXG4gICAgXTtcclxuICAgIGV4cG9ydCBjb25zdCBUSU5ZTUNFX0ZPTlROQU1FX0NNRCA9ICdGb250TmFtZSc7XHJcbiAgICBleHBvcnQgY29uc3QgVElOWU1DRV9GT05UU0laRV9DTUQgPSAnRm9udFNpemUnO1xyXG4gICAgZXhwb3J0IGNvbnN0IFRJTllNQ0VfREVGQVVMVF9GT05UID0gJ2FyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmJztcclxuICAgIGV4cG9ydCBjb25zdCBUSU5ZTUNFX0RFRkFVTFRfRk9OVFNJWkUgPSAnMTJweCc7XHJcbn1cclxuZXhwb3J0ID0gTWVzc2FnZUVkaXRvckNvbnN0YW50cztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9tZXNzYWdlZWRpdG9yY29uc3RhbnRzLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 326:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/stores/busyindicator/busyindicatorstore.ts ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar storeBase = __webpack_require__(/*! ../base/storebase */ 285);\r\nvar dispatcher = __webpack_require__(/*! ../../app/dispatcher */ 242);\r\nvar actionType = __webpack_require__(/*! ../../actions/base/actiontypes */ 228);\r\n/* The busy indicator store */\r\nvar BusyIndicatorStore = /** @class */ (function (_super) {\r\n    __extends(BusyIndicatorStore, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function BusyIndicatorStore() {\r\n        var _this = _super.call(this) || this;\r\n        _this.dispatchToken = dispatcher.register(function (action) {\r\n            if (action.actionType === actionType.BUSY_INDICATOR) {\r\n                _this.busyIndicatorInvoker = action.getBusyIndicatorInvoker;\r\n                _this.emit(BusyIndicatorStore.BUSY_INDICATOR);\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BusyIndicatorStore.prototype, \"getBusyIndicatorInvoker\", {\r\n        /**\r\n         * Returns the busy indicator invoker\r\n         * @returns\r\n         */\r\n        get: function () {\r\n            return this.busyIndicatorInvoker;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BusyIndicatorStore.BUSY_INDICATOR = 'setBusyIndicatorInvoker';\r\n    return BusyIndicatorStore;\r\n}(storeBase));\r\nvar instance = new BusyIndicatorStore();\r\nmodule.exports = { BusyIndicatorStore: BusyIndicatorStore, instance: instance };\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3Jlcy9idXN5aW5kaWNhdG9yL2J1c3lpbmRpY2F0b3JzdG9yZS50cz83OTVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdG9yZUJhc2UgPSByZXF1aXJlKCcuLi9iYXNlL3N0b3JlYmFzZScpO1xyXG5pbXBvcnQgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uLy4uL2FwcC9kaXNwYXRjaGVyJyk7XHJcbmltcG9ydCBhY3Rpb24gPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL2Jhc2UvYWN0aW9uJyk7XHJcbmltcG9ydCBhY3Rpb25UeXBlID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9iYXNlL2FjdGlvbnR5cGVzJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgYnVzeUluZGljYXRvckFjdGlvbiA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvYnVzeWluZGljYXRvci9idXN5aW5kaWNhdG9yYWN0aW9uJyk7XHJcblxyXG4vKiBUaGUgYnVzeSBpbmRpY2F0b3Igc3RvcmUgKi9cclxuY2xhc3MgQnVzeUluZGljYXRvclN0b3JlIGV4dGVuZHMgc3RvcmVCYXNlIHtcclxuICAgIHByaXZhdGUgYnVzeUluZGljYXRvckludm9rZXI6IGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyO1xyXG4gICAgcHVibGljIHN0YXRpYyBCVVNZX0lORElDQVRPUiA9ICdzZXRCdXN5SW5kaWNhdG9ySW52b2tlcic7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoVG9rZW4gPSBkaXNwYXRjaGVyLnJlZ2lzdGVyKChhY3Rpb246IGFjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWN0aW9uLmFjdGlvblR5cGUgPT09IGFjdGlvblR5cGUuQlVTWV9JTkRJQ0FUT1IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVzeUluZGljYXRvckludm9rZXIgPSAoYWN0aW9uIGFzIGJ1c3lJbmRpY2F0b3JBY3Rpb24pLmdldEJ1c3lJbmRpY2F0b3JJbnZva2VyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KEJ1c3lJbmRpY2F0b3JTdG9yZS5CVVNZX0lORElDQVRPUik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBidXN5IGluZGljYXRvciBpbnZva2VyXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG4gICAgcHVibGljIGdldCBnZXRCdXN5SW5kaWNhdG9ySW52b2tlcigpOiBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVzeUluZGljYXRvckludm9rZXI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBpbnN0YW5jZSA9IG5ldyBCdXN5SW5kaWNhdG9yU3RvcmUoKTtcclxuZXhwb3J0ID0geyBCdXN5SW5kaWNhdG9yU3RvcmUsIGluc3RhbmNlIH07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9zdG9yZXMvYnVzeWluZGljYXRvci9idXN5aW5kaWNhdG9yc3RvcmUudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUFBO0FBSUE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBTUE7QUFKQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBckJBO0FBc0JBO0FBQUE7QUFFQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 327:
/* no static exports found */
/* all exports used */
/*!**********************************************************!*\
  !*** ./src/stores/teammanagement/warningmessagestore.ts ***!
  \**********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar dispatcher = __webpack_require__(/*! ../../app/dispatcher */ 242);\r\nvar storeBase = __webpack_require__(/*! ../base/storebase */ 285);\r\nvar actionType = __webpack_require__(/*! ../../actions/base/actiontypes */ 228);\r\n/**\r\n * Warning Message store\r\n */\r\nvar WarningMessageStore = /** @class */ (function (_super) {\r\n    __extends(WarningMessageStore, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function WarningMessageStore() {\r\n        var _this = _super.call(this) || this;\r\n        _this._dispatchToken = dispatcher.register(function (action) {\r\n            switch (action.actionType) {\r\n                case actionType.WARNING_MESSAGE_ACTION:\r\n                    var validateAction = action;\r\n                    _this.emit(WarningMessageStore.WARNING_MESSAGE_EVENT, validateAction.failureCode, validateAction.warningMessageAction);\r\n                    break;\r\n                case actionType.WARNING_MESSAGE_NAVIGATION_ACTION:\r\n                    var navigationAction = action;\r\n                    _this.emit(WarningMessageStore.WARNING_MESSAGE_NAVIGATION_EVENT, navigationAction.failureCode, navigationAction.warningMessageAction);\r\n                    break;\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    // Warning message event\r\n    WarningMessageStore.WARNING_MESSAGE_EVENT = 'warningessageevent';\r\n    // Warning message event\r\n    WarningMessageStore.WARNING_MESSAGE_NAVIGATION_EVENT = 'warningessagenavigationevent';\r\n    return WarningMessageStore;\r\n}(storeBase));\r\nvar instance = new WarningMessageStore();\r\nmodule.exports = { WarningMessageStore: WarningMessageStore, instance: instance };\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC93YXJuaW5nbWVzc2FnZXN0b3JlLnRzP2I0ZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi8uLi9hcHAvZGlzcGF0Y2hlcicpO1xyXG5pbXBvcnQgYWN0aW9uID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9iYXNlL2FjdGlvbicpO1xyXG5pbXBvcnQgc3RvcmVCYXNlID0gcmVxdWlyZSgnLi4vYmFzZS9zdG9yZWJhc2UnKTtcclxuaW1wb3J0IGFjdGlvblR5cGUgPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL2Jhc2UvYWN0aW9udHlwZXMnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCB2YWxpZGF0aW9uQWN0aW9uID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy90ZWFtbWFuYWdlbWVudC92YWxpZGF0aW9uYWN0aW9uJyk7XHJcbmltcG9ydCB3YXJuaW5nTWVzc2FnZU5hdmlnYXRpb25BY3Rpb24gPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL3RlYW1tYW5hZ2VtZW50L3dhcm5pbmdtZXNzYWdlbmF2aWdhdGlvbmFjdGlvbicpO1xyXG5cclxuLyoqXHJcbiAqIFdhcm5pbmcgTWVzc2FnZSBzdG9yZVxyXG4gKi9cclxuY2xhc3MgV2FybmluZ01lc3NhZ2VTdG9yZSBleHRlbmRzIHN0b3JlQmFzZSB7XHJcblxyXG4gICAgLy8gV2FybmluZyBtZXNzYWdlIGV2ZW50XHJcbiAgICBwdWJsaWMgc3RhdGljIFdBUk5JTkdfTUVTU0FHRV9FVkVOVCA9ICd3YXJuaW5nZXNzYWdlZXZlbnQnO1xyXG5cclxuICAgIC8vIFdhcm5pbmcgbWVzc2FnZSBldmVudFxyXG4gICAgcHVibGljIHN0YXRpYyBXQVJOSU5HX01FU1NBR0VfTkFWSUdBVElPTl9FVkVOVCA9ICd3YXJuaW5nZXNzYWdlbmF2aWdhdGlvbmV2ZW50JztcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoVG9rZW4gPSBkaXNwYXRjaGVyLnJlZ2lzdGVyKChhY3Rpb246IGFjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbi5hY3Rpb25UeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGFjdGlvblR5cGUuV0FSTklOR19NRVNTQUdFX0FDVElPTjpcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsaWRhdGVBY3Rpb24gPSAoYWN0aW9uIGFzIHZhbGlkYXRpb25BY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChXYXJuaW5nTWVzc2FnZVN0b3JlLldBUk5JTkdfTUVTU0FHRV9FVkVOVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVBY3Rpb24uZmFpbHVyZUNvZGUsIHZhbGlkYXRlQWN0aW9uLndhcm5pbmdNZXNzYWdlQWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgYWN0aW9uVHlwZS5XQVJOSU5HX01FU1NBR0VfTkFWSUdBVElPTl9BQ1RJT046XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hdmlnYXRpb25BY3Rpb24gPSAoYWN0aW9uIGFzIHdhcm5pbmdNZXNzYWdlTmF2aWdhdGlvbkFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFdhcm5pbmdNZXNzYWdlU3RvcmUuV0FSTklOR19NRVNTQUdFX05BVklHQVRJT05fRVZFTlQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25BY3Rpb24uZmFpbHVyZUNvZGUsIG5hdmlnYXRpb25BY3Rpb24ud2FybmluZ01lc3NhZ2VBY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBpbnN0YW5jZSA9IG5ldyBXYXJuaW5nTWVzc2FnZVN0b3JlKCk7XHJcbmV4cG9ydCA9IHsgV2FybmluZ01lc3NhZ2VTdG9yZSwgaW5zdGFuY2UgfTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9zdG9yZXMvdGVhbW1hbmFnZW1lbnQvd2FybmluZ21lc3NhZ2VzdG9yZS50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFLQTs7QUFFQTtBQUNBO0FBQUE7QUFRQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUF6QkE7QUFDQTtBQUVBO0FBQ0E7QUFzQkE7QUFBQTtBQUVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 329:
/* no static exports found */
/* all exports used */
/*!*********************************************************!*\
  !*** ./src/components/worklist/shared/columnheader.tsx ***!
  \*********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar SortArrow = __webpack_require__(/*! ../../utility/table/sortarrow */ 340);\r\n/* tslint:disable:variable-name */\r\nvar ColumnHeader = function (props) {\r\n    if (props.isSortingRequired) {\r\n        return (React.createElement(\"a\", { className: getSortClassName(), href: 'javascript:void(0)', title: getTitleText() },\r\n            React.createElement(\"div\", { className: 'frozen-header' },\r\n                React.createElement(\"span\", { className: 'sort-head-text', id: 'col_' + props.headerText.replace(/ /g, '') }, props.headerText),\r\n                React.createElement(SortArrow, { sortOption: props.sortOption }))));\r\n    }\r\n    else {\r\n        return (React.createElement(\"div\", { className: 'frozen-header' },\r\n            React.createElement(\"span\", { className: 'sort-head-text', id: 'col_' + props.headerText.replace(/ /g, '') }, props.headerText)));\r\n    }\r\n    /**\r\n     * This method will return the sort className\r\n     */\r\n    function getSortClassName() {\r\n        if (!props.isSortingRequired) {\r\n            return '';\r\n        }\r\n        if (props.isCurrentSort) {\r\n            if (props.sortOption === undefined || props.sortOption === enums.SortOption.Both) {\r\n                return (props.sortDirection === enums.SortDirection.Descending) ?\r\n                    'sortable-link desc' : 'sortable-link asc';\r\n            }\r\n            else if (props.sortOption === enums.SortOption.Up) {\r\n                return ('sortable-link asc');\r\n            }\r\n            else {\r\n                return ('sortable-link desc');\r\n            }\r\n        }\r\n        else {\r\n            return 'sortable-link';\r\n        }\r\n    }\r\n    /**\r\n     * Gets Title text.\r\n     */\r\n    function getTitleText() {\r\n        if (props.headerText && props.headerText !== '') {\r\n            return localeStore.instance.TranslateText('marking.worklist.list-view-column-headers.sort-by-tooltip') + ' ' + props.headerText;\r\n        }\r\n    }\r\n};\r\nmodule.exports = ColumnHeader;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2NvbHVtbmhlYWRlci50c3g/NWY3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IFNvcnRBcnJvdyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvdGFibGUvc29ydGFycm93Jyk7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2Uge1xyXG4gICAgaGVhZGVyVGV4dDogc3RyaW5nO1xyXG4gICAgc29ydERpcmVjdGlvbj86IGVudW1zLlNvcnREaXJlY3Rpb247XHJcbiAgICBpc0N1cnJlbnRTb3J0PzogYm9vbGVhbjtcclxuICAgIGlzU29ydGluZ1JlcXVpcmVkPzogYm9vbGVhbjtcclxuICAgIHNvcnRPcHRpb24/OiBlbnVtcy5Tb3J0T3B0aW9uO1xyXG59XHJcblxyXG4vKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbmNvbnN0IENvbHVtbkhlYWRlciA9IChwcm9wczogUHJvcHMpID0+IHtcclxuXHJcbiAgICBpZiAocHJvcHMuaXNTb3J0aW5nUmVxdWlyZWQpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8YSBjbGFzc05hbWU9e2dldFNvcnRDbGFzc05hbWUoKX1cclxuICAgICAgICAgICAgICAgIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKSdcclxuICAgICAgICAgICAgICAgIHRpdGxlPXtnZXRUaXRsZVRleHQoKX0gPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Zyb3plbi1oZWFkZXInPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc29ydC1oZWFkLXRleHQnIGlkPXsnY29sXycgKyBwcm9wcy5oZWFkZXJUZXh0LnJlcGxhY2UoLyAvZywgJycpfT57cHJvcHMuaGVhZGVyVGV4dH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPFNvcnRBcnJvdyBzb3J0T3B0aW9uPXtwcm9wcy5zb3J0T3B0aW9ufSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvYT4pO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Zyb3plbi1oZWFkZXInPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdzb3J0LWhlYWQtdGV4dCcgaWQ9eydjb2xfJyArIHByb3BzLmhlYWRlclRleHQucmVwbGFjZSgvIC9nLCAnJyl9Pntwcm9wcy5oZWFkZXJUZXh0fTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBzb3J0IGNsYXNzTmFtZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRTb3J0Q2xhc3NOYW1lKCkge1xyXG4gICAgICAgIGlmICghcHJvcHMuaXNTb3J0aW5nUmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHByb3BzLmlzQ3VycmVudFNvcnQpIHtcclxuICAgICAgICAgICAgaWYgKHByb3BzLnNvcnRPcHRpb24gPT09IHVuZGVmaW5lZCB8fCBwcm9wcy5zb3J0T3B0aW9uID09PSBlbnVtcy5Tb3J0T3B0aW9uLkJvdGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAocHJvcHMuc29ydERpcmVjdGlvbiA9PT0gZW51bXMuU29ydERpcmVjdGlvbi5EZXNjZW5kaW5nKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgJ3NvcnRhYmxlLWxpbmsgZGVzYycgOiAnc29ydGFibGUtbGluayBhc2MnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb3BzLnNvcnRPcHRpb24gPT09IGVudW1zLlNvcnRPcHRpb24uVXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoJ3NvcnRhYmxlLWxpbmsgYXNjJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCdzb3J0YWJsZS1saW5rIGRlc2MnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnc29ydGFibGUtbGluayc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBUaXRsZSB0ZXh0LlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRUaXRsZVRleHQoKSB7XHJcbiAgICAgICAgaWYgKHByb3BzLmhlYWRlclRleHQgJiYgcHJvcHMuaGVhZGVyVGV4dCAhPT0gJycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMuc29ydC1ieS10b29sdGlwJykgKyAnICcgKyBwcm9wcy5oZWFkZXJUZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCA9IENvbHVtbkhlYWRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2NvbHVtbmhlYWRlci50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 333:
/* no static exports found */
/* all exports used */
/*!*******************************************************!*\
  !*** ./src/components/base/eventmanager/direction.ts ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar Direction;\r\n(function (Direction) {\r\n    /**\r\n     * Enum for the Login Form components\r\n     *\r\n     * @export DirectionOptions\r\n     * @enum {number}\r\n     */\r\n    var DirectionOptions;\r\n    (function (DirectionOptions) {\r\n        DirectionOptions[DirectionOptions[\"DIRECTION_NONE\"] = 1] = \"DIRECTION_NONE\";\r\n        DirectionOptions[DirectionOptions[\"DIRECTION_LEFT\"] = 2] = \"DIRECTION_LEFT\";\r\n        DirectionOptions[DirectionOptions[\"DIRECTION_RIGHT\"] = 4] = \"DIRECTION_RIGHT\";\r\n        DirectionOptions[DirectionOptions[\"DIRECTION_UP\"] = 8] = \"DIRECTION_UP\";\r\n        DirectionOptions[DirectionOptions[\"DIRECTION_DOWN\"] = 16] = \"DIRECTION_DOWN\";\r\n        DirectionOptions[DirectionOptions[\"DIRECTION_HORIZONTAL\"] = 6] = \"DIRECTION_HORIZONTAL\";\r\n        DirectionOptions[DirectionOptions[\"DIRECTION_VERTICAL\"] = 24] = \"DIRECTION_VERTICAL\";\r\n        DirectionOptions[DirectionOptions[\"DIRECTION_ALL\"] = 30] = \"DIRECTION_ALL\";\r\n    })(DirectionOptions = Direction.DirectionOptions || (Direction.DirectionOptions = {}));\r\n})(Direction || (Direction = {}));\r\nmodule.exports = Direction;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYmFzZS9ldmVudG1hbmFnZXIvZGlyZWN0aW9uLnRzP2UxODMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlIERpcmVjdGlvbiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbnVtIGZvciB0aGUgTG9naW4gRm9ybSBjb21wb25lbnRzXHJcbiAgICAgKiBcclxuICAgICAqIEBleHBvcnQgRGlyZWN0aW9uT3B0aW9uc1xyXG4gICAgICogQGVudW0ge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGVudW0gRGlyZWN0aW9uT3B0aW9ucyB7XHJcbiAgICAgICAgRElSRUNUSU9OX05PTkUgPSAxLFxyXG4gICAgICAgIERJUkVDVElPTl9MRUZUID0gMixcclxuICAgICAgICBESVJFQ1RJT05fUklHSFQgPSA0LFxyXG4gICAgICAgIERJUkVDVElPTl9VUCA9IDgsXHJcbiAgICAgICAgRElSRUNUSU9OX0RPV04gPSAxNixcclxuICAgICAgICBESVJFQ1RJT05fSE9SSVpPTlRBTCA9IDYsXHJcbiAgICAgICAgRElSRUNUSU9OX1ZFUlRJQ0FMID0gMjQsXHJcbiAgICAgICAgRElSRUNUSU9OX0FMTCA9ICAzMFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBEaXJlY3Rpb247XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2Jhc2UvZXZlbnRtYW5hZ2VyL2RpcmVjdGlvbi50cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQUE7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 336:
/* no static exports found */
/* all exports used */
/*!*************************************************************************!*\
  !*** ./src/utility/standardisationsetup/standardisationsetupfactory.ts ***!
  \*************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar classifiedHelper = __webpack_require__(/*! ../../components/utility/grid/standardisationsetuphelpers/classifiedhelper */ 411);\r\nvar unclassifiedHelper = __webpack_require__(/*! ../../components/utility/grid/standardisationsetuphelpers/unclassifiedhelper */ 414);\r\nvar provisionalHelper = __webpack_require__(/*! ../../components/utility/grid/standardisationsetuphelpers/provisionalhelper */ 412);\r\nvar selectResponseHelper = __webpack_require__(/*! ../../components/utility/grid/standardisationsetuphelpers/selectresponsehelper */ 413);\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar StandardisationSetupFactory = /** @class */ (function () {\r\n    function StandardisationSetupFactory() {\r\n    }\r\n    /**\r\n     * returns the standard helper object based on the type\r\n     * @param teamManagementTab\r\n     */\r\n    StandardisationSetupFactory.prototype.getStandardisationSetUpWorklistHelper = function (standardisationSetUpWorkList) {\r\n        var standardisationSetUpHelper;\r\n        switch (standardisationSetUpWorkList) {\r\n            case enums.StandardisationSetup.SelectResponse:\r\n                standardisationSetUpHelper = new selectResponseHelper();\r\n                break;\r\n            case enums.StandardisationSetup.ProvisionalResponse:\r\n                standardisationSetUpHelper = new provisionalHelper();\r\n                break;\r\n            case enums.StandardisationSetup.UnClassifiedResponse:\r\n                standardisationSetUpHelper = new unclassifiedHelper();\r\n                break;\r\n            case enums.StandardisationSetup.ClassifiedResponse:\r\n                standardisationSetUpHelper = new classifiedHelper();\r\n                break;\r\n        }\r\n        return standardisationSetUpHelper;\r\n    };\r\n    return StandardisationSetupFactory;\r\n}());\r\nvar standardisationSetupFactory = new StandardisationSetupFactory();\r\nmodule.exports = standardisationSetupFactory;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uc2V0dXBmYWN0b3J5LnRzPzhmODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsYXNzaWZpZWRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcnMvY2xhc3NpZmllZGhlbHBlcicpO1xyXG5pbXBvcnQgdW5jbGFzc2lmaWVkSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJzL3VuY2xhc3NpZmllZGhlbHBlcicpO1xyXG5pbXBvcnQgcHJvdmlzaW9uYWxIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcnMvcHJvdmlzaW9uYWxoZWxwZXInKTtcclxuaW1wb3J0IHNlbGVjdFJlc3BvbnNlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJzL3NlbGVjdHJlc3BvbnNlaGVscGVyJyk7XHJcblxyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcclxuXHJcbmNsYXNzIFN0YW5kYXJkaXNhdGlvblNldHVwRmFjdG9yeSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBzdGFuZGFyZCBoZWxwZXIgb2JqZWN0IGJhc2VkIG9uIHRoZSB0eXBlXHJcbiAgICAgKiBAcGFyYW0gdGVhbU1hbmFnZW1lbnRUYWJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFN0YW5kYXJkaXNhdGlvblNldFVwV29ya2xpc3RIZWxwZXIoc3RhbmRhcmRpc2F0aW9uU2V0VXBXb3JrTGlzdDogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXApIHtcclxuXHJcbiAgICAgICAgbGV0IHN0YW5kYXJkaXNhdGlvblNldFVwSGVscGVyO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHN0YW5kYXJkaXNhdGlvblNldFVwV29ya0xpc3QpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5TZWxlY3RSZXNwb25zZTpcclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldFVwSGVscGVyID0gbmV3IHNlbGVjdFJlc3BvbnNlSGVscGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlOlxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0VXBIZWxwZXIgPSBuZXcgcHJvdmlzaW9uYWxIZWxwZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlVuQ2xhc3NpZmllZFJlc3BvbnNlOlxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0VXBIZWxwZXIgPSBuZXcgdW5jbGFzc2lmaWVkSGVscGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2U6XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXRVcEhlbHBlciA9IG5ldyBjbGFzc2lmaWVkSGVscGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdGFuZGFyZGlzYXRpb25TZXRVcEhlbHBlcjtcclxuICAgIH1cclxufVxyXG5cclxubGV0IHN0YW5kYXJkaXNhdGlvblNldHVwRmFjdG9yeSA9IG5ldyBTdGFuZGFyZGlzYXRpb25TZXR1cEZhY3RvcnkoKTtcclxuZXhwb3J0ID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBGYWN0b3J5O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cGZhY3RvcnkudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQTJCQTtBQXpCQTs7O0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 340:
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./src/components/utility/table/sortarrow.tsx ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\n/* tslint:disable:variable-name */\r\nvar SortArrow = function (props) {\r\n    switch (props.sortOption) {\r\n        case enums.SortOption.Up:\r\n            return (React.createElement(\"span\", { className: 'sort-arrow' },\r\n                React.createElement(\"span\", { className: 'sort-arrow-up' })));\r\n        case enums.SortOption.Down:\r\n            return (React.createElement(\"span\", { className: 'sort-arrow' },\r\n                React.createElement(\"span\", { className: 'sort-arrow-down' })));\r\n        default:// enums.SortOption.both or undefined\r\n            return (React.createElement(\"span\", { className: 'sort-arrow' },\r\n                React.createElement(\"span\", { className: 'sort-arrow-up' }),\r\n                React.createElement(\"span\", { className: 'sort-arrow-down' })));\r\n    }\r\n};\r\nmodule.exports = SortArrow;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90YWJsZS9zb3J0YXJyb3cudHN4PzdjYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vZW51bXMnKTtcclxuXHJcbi8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cclxuY29uc3QgU29ydEFycm93ID0gKHByb3BzOiB7IHNvcnRPcHRpb246IGVudW1zLlNvcnRPcHRpb24gfSkgPT4ge1xyXG4gICAgc3dpdGNoIChwcm9wcy5zb3J0T3B0aW9uKSB7XHJcbiAgICAgICAgY2FzZSBlbnVtcy5Tb3J0T3B0aW9uLlVwOlxyXG4gICAgICAgICAgICByZXR1cm4gKDwgc3BhbiBjbGFzc05hbWU9J3NvcnQtYXJyb3cnID5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc29ydC1hcnJvdy11cCc+PC9zcGFuPlxyXG4gICAgICAgICAgICA8L3NwYW4gPik7XHJcbiAgICAgICAgY2FzZSBlbnVtcy5Tb3J0T3B0aW9uLkRvd246XHJcbiAgICAgICAgICAgIHJldHVybiAoPCBzcGFuIGNsYXNzTmFtZT0nc29ydC1hcnJvdycgPlxyXG4gICAgICAgICAgICAgICAgPCBzcGFuIGNsYXNzTmFtZT0nc29ydC1hcnJvdy1kb3duJyA+PC9zcGFuID5cclxuICAgICAgICAgICAgPC9zcGFuID4pO1xyXG4gICAgICAgIGRlZmF1bHQ6IC8vIGVudW1zLlNvcnRPcHRpb24uYm90aCBvciB1bmRlZmluZWRcclxuICAgICAgICAgICAgcmV0dXJuICg8IHNwYW4gY2xhc3NOYW1lPSdzb3J0LWFycm93JyA+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3NvcnQtYXJyb3ctdXAnPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwgc3BhbiBjbGFzc05hbWU9J3NvcnQtYXJyb3ctZG93bicgPjwvc3BhbiA+XHJcbiAgICAgICAgICAgIDwvc3BhbiA+KTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCA9IFNvcnRBcnJvdztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90YWJsZS9zb3J0YXJyb3cudHN4Il0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 361:
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./src/components/utility/genericcheckbox.tsx ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/**\r\n * generic check box component.\r\n * @param props\r\n */\r\nvar genericCheckbox = function (props) {\r\n    return (React.createElement(\"div\", { className: props.containerClassName },\r\n        React.createElement(\"input\", { type: 'checkbox', id: props.id, className: props.className, checked: props.isChecked, disabled: props.disabled, onChange: function () { props.onSelectionChange(); } }),\r\n        React.createElement(\"label\", { htmlFor: props.id, className: props.labelClassName }, props.labelContent)));\r\n};\r\nmodule.exports = genericCheckbox;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9nZW5lcmljY2hlY2tib3gudHN4PzU3NTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIG9uU2VsZWN0aW9uQ2hhbmdlPzogRnVuY3Rpb247XHJcbiAgICBpc0NoZWNrZWQ/OiBib29sZWFuO1xyXG4gICAgbGFiZWxDb250ZW50Pzogc3RyaW5nO1xyXG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gICAgbGFiZWxDbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgICBjb250YWluZXJDbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgICBkaXNhYmxlZD86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBnZW5lcmljIGNoZWNrIGJveCBjb21wb25lbnQuXHJcbiAqIEBwYXJhbSBwcm9wc1xyXG4gKi9cclxuY29uc3QgZ2VuZXJpY0NoZWNrYm94ID0gKHByb3BzOiBQcm9wcykgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY29udGFpbmVyQ2xhc3NOYW1lfT5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9J2NoZWNrYm94J1xyXG4gICAgICAgICAgICAgICAgaWQ9e3Byb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtwcm9wcy5pc0NoZWNrZWR9XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyBwcm9wcy5vblNlbGVjdGlvbkNoYW5nZSgpOyB9fS8+XHJcbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtwcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17cHJvcHMubGFiZWxDbGFzc05hbWV9Pntwcm9wcy5sYWJlbENvbnRlbnR9PC9sYWJlbD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn07XHJcblxyXG5leHBvcnQgPSBnZW5lcmljQ2hlY2tib3g7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ2VuZXJpY2NoZWNrYm94LnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBYUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFJQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 362:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/components/utility/genericpopupwithradiobuttons.tsx ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar _this = this;\r\n/*\r\n  React component for Generic button.\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/**\r\n * React component class for Generic popup with radio buttons implementation.\r\n */\r\nvar genericPopupWithRadioButtons = function (props) {\r\n    var that = _this;\r\n    var toRender = (React.createElement(\"ul\", { id: props.id, key: 'key_ul_genericpopup', className: props.className }, props.items && props.items.map(function (item) {\r\n        return React.createElement(\"li\", { id: 'li_genericpopup_' + item.id, className: props.liClassName, key: 'key_li_genericpopup_' + item.id },\r\n            React.createElement(\"input\", { checked: item.isChecked, type: 'radio', id: item.id.toString(), onClick: function () { props.onCheckedChange(item); }, key: 'key_' + item.id, name: 'genericpopup', value: item.isChecked ? 'true' : 'false' }),\r\n            React.createElement(\"label\", { htmlFor: item.id.toString() },\r\n                React.createElement(\"span\", { className: 'radio-ui' }),\r\n                React.createElement(\"span\", { className: 'label-text' }, item.name),\r\n                React.createElement(\"span\", { className: 'label-text error' }, item.errorText)));\r\n    })));\r\n    return toRender;\r\n};\r\nmodule.exports = genericPopupWithRadioButtons;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9nZW5lcmljcG9wdXB3aXRocmFkaW9idXR0b25zLnRzeD8wMWU5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gIFJlYWN0IGNvbXBvbmVudCBmb3IgR2VuZXJpYyBidXR0b24uXG4qL1xuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXG5pbXBvcnQgZ2VuZXJpY1JhZGlvQnV0dG9uSXRlbXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2dlbmVyaWNyYWRpb2J1dHRvbml0ZW1zJyk7XG5cblxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcbiAgICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gICAgb25DaGVja2VkQ2hhbmdlPzogRnVuY3Rpb247XG4gICAgaXRlbXM/OiBBcnJheTxnZW5lcmljUmFkaW9CdXR0b25JdGVtcz47XG4gICAgcmVuZGVyZWRPbj86IG51bWJlcjtcbiAgICBsaUNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIEdlbmVyaWMgcG9wdXAgd2l0aCByYWRpbyBidXR0b25zIGltcGxlbWVudGF0aW9uLlxuICovXG5jb25zdCBnZW5lcmljUG9wdXBXaXRoUmFkaW9CdXR0b25zOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8UHJvcHM+ID0gKHByb3BzOiBQcm9wcykgPT4ge1xuICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICBsZXQgdG9SZW5kZXIgPSAoPHVsIGlkPXtwcm9wcy5pZH0ga2V5PSdrZXlfdWxfZ2VuZXJpY3BvcHVwJyBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gPlxuICAgICAgICB7XG4gICAgICAgICAgICBwcm9wcy5pdGVtcyAmJiBwcm9wcy5pdGVtcy5tYXAoKGl0ZW06IGdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zKSA9PlxuICAgICAgICAgICAgICAgIDxsaSBpZD17J2xpX2dlbmVyaWNwb3B1cF8nICsgaXRlbS5pZH0gY2xhc3NOYW1lPXtwcm9wcy5saUNsYXNzTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgIGtleT17J2tleV9saV9nZW5lcmljcG9wdXBfJyArIGl0ZW0uaWR9PlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2hlY2tlZD17aXRlbS5pc0NoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdyYWRpbycgaWQ9e2l0ZW0uaWQudG9TdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgcHJvcHMub25DaGVja2VkQ2hhbmdlKGl0ZW0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsna2V5XycgKyBpdGVtLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0nZ2VuZXJpY3BvcHVwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2l0ZW0uaXNDaGVja2VkID8gJ3RydWUnIDogJ2ZhbHNlJ30gLz5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9e2l0ZW0uaWQudG9TdHJpbmcoKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3JhZGlvLXVpJz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xhYmVsLXRleHQnPntpdGVtLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdsYWJlbC10ZXh0IGVycm9yJz57aXRlbS5lcnJvclRleHR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICA8L3VsPik7XG5cbiAgICByZXR1cm4gdG9SZW5kZXI7XG59O1xuXG5leHBvcnQgPSBnZW5lcmljUG9wdXBXaXRoUmFkaW9CdXR0b25zO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ2VuZXJpY3BvcHVwd2l0aHJhZGlvYnV0dG9ucy50c3giXSwibWFwcGluZ3MiOiI7QUFJQTtBQUpBOztBQUVBO0FBQ0E7QUFDQTtBQWFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFrQkE7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 363:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/components/utility/genericradiobuttonitems.ts ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Radio Button Items\r\n */\r\nvar GenericRadioButtonItems = /** @class */ (function () {\r\n    function GenericRadioButtonItems() {\r\n    }\r\n    return GenericRadioButtonItems;\r\n}());\r\nmodule.exports = GenericRadioButtonItems;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9nZW5lcmljcmFkaW9idXR0b25pdGVtcy50cz80ZmUwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBSYWRpbyBCdXR0b24gSXRlbXNcclxuICovXHJcbmNsYXNzIEdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zIHtcclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgaWQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBpc0NoZWNrZWQ6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgc2VxdWVuY2VObzogbnVtYmVyO1xyXG4gICAgcHVibGljIGVycm9yVGV4dD86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0ID0gR2VuZXJpY1JhZGlvQnV0dG9uSXRlbXM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ2VuZXJpY3JhZGlvYnV0dG9uaXRlbXMudHMiXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 365:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/components/utility/grid/genericcomponentwrapper.tsx ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\n/**\r\n * React component class for GenericWrapper\r\n */\r\nvar GenericComponentWrapper = /** @class */ (function (_super) {\r\n    __extends(GenericComponentWrapper, _super);\r\n    /**\r\n     * Constructor GenericComponentWrapper\r\n     * @param properties\r\n     * @param state\r\n     */\r\n    function GenericComponentWrapper(properties, state) {\r\n        return _super.call(this, properties, state) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    GenericComponentWrapper.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: this.props.divClassName }, this.props.componentList));\r\n    };\r\n    return GenericComponentWrapper;\r\n}(pureRenderComponent));\r\nmodule.exports = GenericComponentWrapper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL2dlbmVyaWNjb21wb25lbnR3cmFwcGVyLnRzeD9jYjU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGEgY29tcG9uZW50IEdlbmVyaWNXcmFwcGVyXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgZGl2Q2xhc3NOYW1lOiBzdHJpbmc7XHJcbiAgICBjb21wb25lbnRMaXN0OiBJbW11dGFibGUuTGlzdDxKU1guRWxlbWVudD47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIEdlbmVyaWNXcmFwcGVyXHJcbiAqL1xyXG5jbGFzcyBHZW5lcmljQ29tcG9uZW50V3JhcHBlciBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3IgR2VuZXJpY0NvbXBvbmVudFdyYXBwZXJcclxuICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcGVydGllczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wZXJ0aWVzLCBzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lID0ge3RoaXMucHJvcHMuZGl2Q2xhc3NOYW1lfSA+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jb21wb25lbnRMaXN0fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBHZW5lcmljQ29tcG9uZW50V3JhcHBlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL2dlbmVyaWNjb21wb25lbnR3cmFwcGVyLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBV0E7O0FBRUE7QUFDQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 367:
/* no static exports found */
/* all exports used */
/*!********************************************************************************************************************!*\
  !*** ./src/components/utility/savemarksandannotations/savemarksandannotationsnonrecoverableerrordialogcontents.ts ***!
  \********************************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar marksAndAnnotationsSaveHelper = __webpack_require__(/*! ../../../utility/marking/marksandannotationssavehelper */ 295);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\n/**\r\n * Class for generating Save Marks and annotations error dialog.\r\n */\r\nvar SaveMarksAndAnnotationsNonRecoverableErrorDialogContents = /** @class */ (function () {\r\n    /**\r\n     * @constructor\r\n     */\r\n    function SaveMarksAndAnnotationsNonRecoverableErrorDialogContents(detailedError) {\r\n        this._detailedError = false;\r\n        this._detailedError = detailedError;\r\n    }\r\n    Object.defineProperty(SaveMarksAndAnnotationsNonRecoverableErrorDialogContents.prototype, \"header\", {\r\n        /**\r\n         * returns the error dialog header.\r\n         */\r\n        get: function () {\r\n            return localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.header-error-saving-marks');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SaveMarksAndAnnotationsNonRecoverableErrorDialogContents.prototype, \"content\", {\r\n        /**\r\n         * returns the error dialog content based on the dialog type\r\n         */\r\n        get: function () {\r\n            var isDefinitive = standardisationSetupStore.instance.selectedStandardisationSetupWorkList\r\n                === enums.StandardisationSetup.UnClassifiedResponse;\r\n            if (!this._detailedError) {\r\n                return localeStore.instance.TranslateText(isDefinitive ? 'marking.response.saving-marks-error-dialog.body-error-saving-def-marks-single-response' :\r\n                    'marking.response.saving-marks-error-dialog.body-error-saving-marks-single-response');\r\n            }\r\n            else {\r\n                return localeStore.instance.TranslateText(isDefinitive ? 'marking.response.saving-marks-error-dialog.body-error-saving-def-marks-multiple-responses' :\r\n                    'marking.response.saving-marks-error-dialog.body-error-saving-marks-multiple-responses');\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SaveMarksAndAnnotationsNonRecoverableErrorDialogContents.prototype, \"tableContent\", {\r\n        /**\r\n         * This will returns the non-recoverable error items (displayIds)\r\n         */\r\n        get: function () {\r\n            return marksAndAnnotationsSaveHelper.markGroupItemsWithNonRecoverableErrors;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return SaveMarksAndAnnotationsNonRecoverableErrorDialogContents;\r\n}());\r\nmodule.exports = SaveMarksAndAnnotationsNonRecoverableErrorDialogContents;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9zYXZlbWFya3NhbmRhbm5vdGF0aW9ucy9zYXZlbWFya3NhbmRhbm5vdGF0aW9uc25vbnJlY292ZXJhYmxlZXJyb3JkaWFsb2djb250ZW50cy50cz9mMTE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbWFya2luZy9tYXJrc2FuZGFubm90YXRpb25zc2F2ZWhlbHBlcicpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cHN0b3JlJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vZW51bXMnKTtcclxuXHJcbi8qKlxyXG4gKiBDbGFzcyBmb3IgZ2VuZXJhdGluZyBTYXZlIE1hcmtzIGFuZCBhbm5vdGF0aW9ucyBlcnJvciBkaWFsb2cuXHJcbiAqL1xyXG5jbGFzcyBTYXZlTWFya3NBbmRBbm5vdGF0aW9uc05vblJlY292ZXJhYmxlRXJyb3JEaWFsb2dDb250ZW50cyB7XHJcblxyXG4gICAgcHJpdmF0ZSBfZGV0YWlsZWRFcnJvcjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZGV0YWlsZWRFcnJvcjogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX2RldGFpbGVkRXJyb3IgPSBkZXRhaWxlZEVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIHJldHVybnMgdGhlIGVycm9yIGRpYWxvZyBoZWFkZXIuXHJcbiAgICAqL1xyXG4gICAgcHVibGljIGdldCBoZWFkZXIoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgKCdtYXJraW5nLnJlc3BvbnNlLnNhdmluZy1tYXJrcy1lcnJvci1kaWFsb2cuaGVhZGVyLWVycm9yLXNhdmluZy1tYXJrcycpO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIHJldHVybnMgdGhlIGVycm9yIGRpYWxvZyBjb250ZW50IGJhc2VkIG9uIHRoZSBkaWFsb2cgdHlwZVxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBnZXQgY29udGVudCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBpc0RlZmluaXRpdmU6IGJvb2xlYW4gPSBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkU3RhbmRhcmRpc2F0aW9uU2V0dXBXb3JrTGlzdFxyXG4gICAgICAgICAgICA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuVW5DbGFzc2lmaWVkUmVzcG9uc2U7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9kZXRhaWxlZEVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAoaXNEZWZpbml0aXZlID8gJ21hcmtpbmcucmVzcG9uc2Uuc2F2aW5nLW1hcmtzLWVycm9yLWRpYWxvZy5ib2R5LWVycm9yLXNhdmluZy1kZWYtbWFya3Mtc2luZ2xlLXJlc3BvbnNlJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2Uuc2F2aW5nLW1hcmtzLWVycm9yLWRpYWxvZy5ib2R5LWVycm9yLXNhdmluZy1tYXJrcy1zaW5nbGUtcmVzcG9uc2UnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgKGlzRGVmaW5pdGl2ZSA/ICdtYXJraW5nLnJlc3BvbnNlLnNhdmluZy1tYXJrcy1lcnJvci1kaWFsb2cuYm9keS1lcnJvci1zYXZpbmctZGVmLW1hcmtzLW11bHRpcGxlLXJlc3BvbnNlcycgOlxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLnNhdmluZy1tYXJrcy1lcnJvci1kaWFsb2cuYm9keS1lcnJvci1zYXZpbmctbWFya3MtbXVsdGlwbGUtcmVzcG9uc2VzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIFRoaXMgd2lsbCByZXR1cm5zIHRoZSBub24tcmVjb3ZlcmFibGUgZXJyb3IgaXRlbXMgKGRpc3BsYXlJZHMpXHJcbiAgICAqL1xyXG4gICAgcHVibGljIGdldCB0YWJsZUNvbnRlbnQoKTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICAgICAgcmV0dXJuIG1hcmtzQW5kQW5ub3RhdGlvbnNTYXZlSGVscGVyLm1hcmtHcm91cEl0ZW1zV2l0aE5vblJlY292ZXJhYmxlRXJyb3JzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBTYXZlTWFya3NBbmRBbm5vdGF0aW9uc05vblJlY292ZXJhYmxlRXJyb3JEaWFsb2dDb250ZW50cztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9zYXZlbWFya3NhbmRhbm5vdGF0aW9ucy9zYXZlbWFya3NhbmRhbm5vdGF0aW9uc25vbnJlY292ZXJhYmxlZXJyb3JkaWFsb2djb250ZW50cy50cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFKQTtBQUtBO0FBQ0E7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7QUFBQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUFBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 368:
/* no static exports found */
/* all exports used */
/*!***********************************************************************!*\
  !*** ./src/components/worklist/shared/allpageannotationindicator.tsx ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for All pages annotation indicator\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\n/**\r\n * React component class for SLAO annotation indicator\r\n */\r\nvar AllPageAnnotationIndicator = /** @class */ (function (_super) {\r\n    __extends(AllPageAnnotationIndicator, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function AllPageAnnotationIndicator(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * returns true or false to display or hide the icon\r\n     */\r\n    AllPageAnnotationIndicator.prototype.isAllPageAnnotationIndiactorIconShow = function () {\r\n        /**\r\n         * If allpage annotated cc on, all pages are not annotated and marking is completed\r\n         * then the icon will show. in all other cases icon won't be there\r\n         */\r\n        /**\r\n         * taking the cc from cc helper\r\n         */\r\n        var _isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, this.props.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        if (_isAllPagesAnnotatedCC && this.props.isAllAnnotated === false && this.props.isMarkingCompleted) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Render component\r\n     */\r\n    AllPageAnnotationIndicator.prototype.render = function () {\r\n        var className = 'sprite-icon';\r\n        var title = '';\r\n        var isIconVisible = this.isAllPageAnnotationIndiactorIconShow();\r\n        if (isIconVisible) {\r\n            return ((this.props.isTileView) ?\r\n                (React.createElement(\"div\", { className: 'col-inner' },\r\n                    React.createElement(\"span\", { id: 'allPagesAnnotated_' + this.props.id, key: 'allPagesAnnotated_key_' + this.props.id, className: 'sprite-icon note-and-cross-icon', title: localeStore.instance.TranslateText('marking.worklist.response-data.not-all-pages-annotated-icon-tooltip') }))) :\r\n                (React.createElement(\"span\", { className: 'sprite-icon note-and-cross-icon', id: 'allPagesAnnotated_' + this.props.id, key: 'allPagesAnnotated_key_' + this.props.id, title: localeStore.instance.TranslateText('marking.worklist.response-data.not-all-pages-annotated-icon-tooltip') })));\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    return AllPageAnnotationIndicator;\r\n}(pureRenderComponent));\r\nmodule.exports = AllPageAnnotationIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2FsbHBhZ2Vhbm5vdGF0aW9uaW5kaWNhdG9yLnRzeD8wY2ViIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgUmVhY3QgY29tcG9uZW50IGZvciBBbGwgcGFnZXMgYW5ub3RhdGlvbiBpbmRpY2F0b3JcclxuKi9cclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBTTEFPIGFubm90YXRpb24gaW5kaWNhdG9yXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgaXNBbGxBbm5vdGF0ZWQ/OiBib29sZWFuO1xyXG4gICAgaXNNYXJraW5nQ29tcGxldGVkOiBib29sZWFuO1xyXG4gICAgaXNUaWxlVmlldz86IGJvb2xlYW47XHJcbiAgICBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50IGNsYXNzIGZvciBTTEFPIGFubm90YXRpb24gaW5kaWNhdG9yXHJcbiAqL1xyXG5jbGFzcyBBbGxQYWdlQW5ub3RhdGlvbkluZGljYXRvciBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdHJ1ZSBvciBmYWxzZSB0byBkaXNwbGF5IG9yIGhpZGUgdGhlIGljb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc0FsbFBhZ2VBbm5vdGF0aW9uSW5kaWFjdG9ySWNvblNob3coKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIElmIGFsbHBhZ2UgYW5ub3RhdGVkIGNjIG9uLCBhbGwgcGFnZXMgYXJlIG5vdCBhbm5vdGF0ZWQgYW5kIG1hcmtpbmcgaXMgY29tcGxldGVkXHJcbiAgICAgICAgICAgKiB0aGVuIHRoZSBpY29uIHdpbGwgc2hvdy4gaW4gYWxsIG90aGVyIGNhc2VzIGljb24gd29uJ3QgYmUgdGhlcmVcclxuICAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAvKiogXHJcbiAgICAgICAgICogdGFraW5nIHRoZSBjYyBmcm9tIGNjIGhlbHBlclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGxldCBfaXNBbGxQYWdlc0Fubm90YXRlZENDID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMubWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKF9pc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgdGhpcy5wcm9wcy5pc0FsbEFubm90YXRlZCA9PT0gZmFsc2UgJiYgdGhpcy5wcm9wcy5pc01hcmtpbmdDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgY2xhc3NOYW1lID0gJ3Nwcml0ZS1pY29uJztcclxuICAgICAgICBsZXQgdGl0bGU6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGxldCBpc0ljb25WaXNpYmxlID0gdGhpcy5pc0FsbFBhZ2VBbm5vdGF0aW9uSW5kaWFjdG9ySWNvblNob3coKTtcclxuXHJcbiAgICAgICAgaWYgKGlzSWNvblZpc2libGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLmlzVGlsZVZpZXcpID9cclxuICAgICAgICAgICAgICAgICAgICAoPGRpdiBjbGFzc05hbWU9J2NvbC1pbm5lcic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD17J2FsbFBhZ2VzQW5ub3RhdGVkXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2FsbFBhZ2VzQW5ub3RhdGVkX2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3Nwcml0ZS1pY29uIG5vdGUtYW5kLWNyb3NzLWljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEubm90LWFsbC1wYWdlcy1hbm5vdGF0ZWQtaWNvbi10b29sdGlwJyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4pIDpcclxuICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3ByaXRlLWljb24gbm90ZS1hbmQtY3Jvc3MtaWNvbicgaWQ9eydhbGxQYWdlc0Fubm90YXRlZF8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsnYWxsUGFnZXNBbm5vdGF0ZWRfa2V5XycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLm5vdC1hbGwtcGFnZXMtYW5ub3RhdGVkLWljb24tdG9vbHRpcCcpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBBbGxQYWdlQW5ub3RhdGlvbkluZGljYXRvcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9hbGxwYWdlYW5ub3RhdGlvbmluZGljYXRvci50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBOztBQUVBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUVBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 369:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/worklist/shared/markingprogress.tsx ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for login header\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar SubmitResponse = __webpack_require__(/*! ./submitresponse */ 372);\r\nvar localeHelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar ClassifyResponse = __webpack_require__(/*! ../../standardisationsetup/shared/classifyresponse */ 383);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\n/**\r\n * React component class for marking progress\r\n */\r\nvar MarkingProgress = /** @class */ (function (_super) {\r\n    __extends(MarkingProgress, _super);\r\n    /**\r\n     * Constructor for MarkingProgress\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function MarkingProgress(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * Open classify multi option pop with unclassified response details\r\n         */\r\n        _this.classifyMultiOptionPopUpOpen = function (esMarkGroupId) {\r\n            standardisationActionCreator.reclassifyMultiOptionPopupOpen(esMarkGroupId);\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    MarkingProgress.prototype.render = function () {\r\n        if (this.props.responseStatus !== undefined) {\r\n            if (this.props.responseStatus.contains(enums.ResponseStatus.readyToSubmit) &&\r\n                !(this.props.isTeamManagementMode ||\r\n                    worklistStore.instance.isMarkingCheckMode)) {\r\n                if (this.props.standardisationSetupTab === enums.StandardisationSetup.UnClassifiedResponse) {\r\n                    return (React.createElement(ClassifyResponse, { id: this.props.id, key: this.props.id + '_key', isDisabled: false, buttonTextResourceKey: 'standardisation-setup.right-container.classify-button', esMarkGroupId: this.props.markGroupId, onClickAction: this.classifyMultiOptionPopUpOpen }));\r\n                }\r\n                else {\r\n                    return (React.createElement(SubmitResponse, { isSubmitAll: false, selectedLanguage: this.props.selectedLanguage, id: this.props.id, key: 'key_' + this.props.id, markGroupId: this.props.markGroupId, isDisabled: this.props.isSubmitDisabled, isTileView: this.props.isTileView, standardisationSetupType: this.props.standardisationSetupTab, stdResponseDetails: this.props.stdResponseDetails }));\r\n                }\r\n            }\r\n            else if (this.props.responseStatus.contains(enums.ResponseStatus.markingNotStarted)) {\r\n                return (((!this.props.isTileView) ? null :\r\n                    React.createElement(\"div\", { className: 'col wl-status text-center', id: this.props.id + '_markingProgress' },\r\n                        React.createElement(\"div\", { className: 'col-inner' }))));\r\n            }\r\n            else if (this.props.responseStatus.contains(enums.ResponseStatus.definitiveMarkingNotStarted) ||\r\n                this.props.responseStatus.contains(enums.ResponseStatus.NoViewDefinitivesPermisssion)) {\r\n                return (React.createElement(\"span\", { className: 'dim-text txt-val small-text', id: this.props.id + '_provisional' }, localeStore.instance.TranslateText('standardisation-setup.right-container.status-provisional')));\r\n            }\r\n            else {\r\n                return (((!this.props.isTileView) ? React.createElement(\"span\", { className: classNames('inline-bubble oval', {\r\n                        'pink': (this.props.responseStatus.contains(enums.ResponseStatus.hasException) ||\r\n                            this.props.responseStatus.contains(enums.ResponseStatus.hasZoningException) ||\r\n                            this.props.responseStatus.contains(enums.ResponseStatus.markChangeReasonNotExist) ||\r\n                            this.props.responseStatus.contains(enums.ResponseStatus.supervisorRemarkDecisionNotSelected) ||\r\n                            this.props.responseStatus.contains(enums.ResponseStatus.wholeResponseNotAvailable) ||\r\n                            this.props.responseStatus.contains(enums.ResponseStatus.notAllPagesAnnotated)) &&\r\n                            !worklistStore.instance.isMarkingCheckMode ?\r\n                            false : true\r\n                    }), id: this.props.id + '_markingProgress' },\r\n                    \" \",\r\n                    markerOperationModeFactory.operationMode.showMarkingProgressWithPercentage(this.props.responseStatus.contains(enums.ResponseStatus.markingInProgress))\r\n                        ? localeHelper.toLocaleString(this.props.progress) + '%' : '')\r\n                    :\r\n                        React.createElement(\"div\", { className: 'col wl-status text-center', id: this.props.id + '_markingProgress' },\r\n                            React.createElement(\"div\", { className: 'col-inner' },\r\n                                React.createElement(\"span\", { className: classNames('inline-bubble oval', {\r\n                                        'pink': this.props.responseStatus.contains(enums.ResponseStatus.hasException) ||\r\n                                            this.props.responseStatus.contains(enums.ResponseStatus.hasZoningException) ||\r\n                                            this.props.responseStatus.contains(enums.ResponseStatus.markChangeReasonNotExist) ||\r\n                                            this.props.responseStatus.contains(enums.ResponseStatus.supervisorRemarkDecisionNotSelected) ||\r\n                                            this.props.responseStatus.contains(enums.ResponseStatus.wholeResponseNotAvailable) ||\r\n                                            this.props.responseStatus.contains(enums.ResponseStatus.notAllPagesAnnotated) ?\r\n                                            false : true\r\n                                    }) }, this.props.responseStatus.contains(enums.ResponseStatus.markingInProgress)\r\n                                    ? localeHelper.toLocaleString(this.props.progress) + '%' : '')))));\r\n            }\r\n        }\r\n        else {\r\n            return (null);\r\n        }\r\n    };\r\n    /**\r\n     * Checks if Share button text is visible\r\n     */\r\n    MarkingProgress.prototype.isShareButtonVisible = function () {\r\n        return this.props.standardisationSetupTab === enums.StandardisationSetup.ProvisionalResponse;\r\n    };\r\n    return MarkingProgress;\r\n}(PureRenderComponent));\r\nmodule.exports = MarkingProgress;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL21hcmtpbmdwcm9ncmVzcy50c3g/NTUyYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gIFJlYWN0IGNvbXBvbmVudCBmb3IgbG9naW4gaGVhZGVyXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgU3VibWl0UmVzcG9uc2UgPSByZXF1aXJlKCcuL3N1Ym1pdHJlc3BvbnNlJyk7XHJcbmltcG9ydCBsb2NhbGVIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2xvY2FsZS9sb2NhbGVoZWxwZXInKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxubGV0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgQ2xhc3NpZnlSZXNwb25zZSA9IHJlcXVpcmUoJy4uLy4uL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9jbGFzc2lmeXJlc3BvbnNlJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25hY3Rpb25jcmVhdG9yJyk7XHJcblxyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgbWFya2luZyBwcm9ncmVzc1xyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIHJlc3BvbnNlU3RhdHVzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz47XHJcbiAgICBwcm9ncmVzczogbnVtYmVyO1xyXG4gICAgbWFya0dyb3VwSWQ6IG51bWJlcjtcclxuICAgIGlzU3VibWl0RGlzYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBpc1RpbGVWaWV3OiBib29sZWFuO1xyXG5cdGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBib29sZWFuO1xyXG4gICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUYWI/OiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cDtcclxuICAgIHN0ZFJlc3BvbnNlRGV0YWlscz86IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscztcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudCBjbGFzcyBmb3IgbWFya2luZyBwcm9ncmVzc1xyXG4gKi9cclxuY2xhc3MgTWFya2luZ1Byb2dyZXNzIGV4dGVuZHMgUHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgTWFya2luZ1Byb2dyZXNzXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZXNwb25zZVN0YXR1cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpICYmXHJcbiAgICAgICAgICAgICAgICAhKHRoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGUgfHxcclxuXHRcdFx0XHRcdHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuaXNNYXJraW5nQ2hlY2tNb2RlKSkge1xyXG5cdFx0XHRcdGlmICh0aGlzLnByb3BzLnN0YW5kYXJkaXNhdGlvblNldHVwVGFiID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5VbkNsYXNzaWZpZWRSZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICg8Q2xhc3NpZnlSZXNwb25zZVxyXG5cdFx0XHRcdFx0XHRpZD17dGhpcy5wcm9wcy5pZH1cclxuXHRcdFx0XHRcdFx0a2V5PXt0aGlzLnByb3BzLmlkICsgJ19rZXknfVxyXG5cdFx0XHRcdFx0XHRpc0Rpc2FibGVkPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uVGV4dFJlc291cmNlS2V5PXsnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnJpZ2h0LWNvbnRhaW5lci5jbGFzc2lmeS1idXR0b24nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlc01hcmtHcm91cElkPXt0aGlzLnByb3BzLm1hcmtHcm91cElkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrQWN0aW9uPXt0aGlzLmNsYXNzaWZ5TXVsdGlPcHRpb25Qb3BVcE9wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuIChcclxuXHRcdFx0XHRcdFx0PFN1Ym1pdFJlc3BvbnNlIGlzU3VibWl0QWxsPXtmYWxzZX1cclxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcblx0XHRcdFx0XHRcdFx0aWQ9e3RoaXMucHJvcHMuaWR9XHJcblx0XHRcdFx0XHRcdFx0a2V5PXsna2V5XycgKyB0aGlzLnByb3BzLmlkfVxyXG5cdFx0XHRcdFx0XHRcdG1hcmtHcm91cElkPXt0aGlzLnByb3BzLm1hcmtHcm91cElkfVxyXG5cdFx0XHRcdFx0XHRcdGlzRGlzYWJsZWQ9e3RoaXMucHJvcHMuaXNTdWJtaXREaXNhYmxlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVGlsZVZpZXc9e3RoaXMucHJvcHMuaXNUaWxlVmlld31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZT17dGhpcy5wcm9wcy5zdGFuZGFyZGlzYXRpb25TZXR1cFRhYn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGV0YWlscz17dGhpcy5wcm9wcy5zdGRSZXNwb25zZURldGFpbHN9XHJcblx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdOb3RTdGFydGVkKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAoKCF0aGlzLnByb3BzLmlzVGlsZVZpZXcpID8gbnVsbCA6XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbCB3bC1zdGF0dXMgdGV4dC1jZW50ZXInIGlkPXt0aGlzLnByb3BzLmlkICsgJ19tYXJraW5nUHJvZ3Jlc3MnfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC1pbm5lcic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4pXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuZGVmaW5pdGl2ZU1hcmtpbmdOb3RTdGFydGVkKSB8fFxyXG5cdFx0XHRcdHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuTm9WaWV3RGVmaW5pdGl2ZXNQZXJtaXNzc2lvbikpe1xyXG5cdFx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J2RpbS10ZXh0IHR4dC12YWwgc21hbGwtdGV4dCcgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX3Byb3Zpc2lvbmFsJ30+XHJcblx0XHRcdFx0XHRcdHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLnN0YXR1cy1wcm92aXNpb25hbCcpfVxyXG5cdFx0XHRcdFx0PC9zcGFuPlxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgKCghdGhpcy5wcm9wcy5pc1RpbGVWaWV3KSA/IDxzcGFuIGNsYXNzTmFtZSA9IHtjbGFzc05hbWVzKCdpbmxpbmUtYnViYmxlIG92YWwnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdwaW5rJzogKHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzRXhjZXB0aW9uKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNab25pbmdFeGNlcHRpb24pIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtDaGFuZ2VSZWFzb25Ob3RFeGlzdCkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuc3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uTm90U2VsZWN0ZWQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLndob2xlUmVzcG9uc2VOb3RBdmFpbGFibGUpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vdEFsbFBhZ2VzQW5ub3RhdGVkKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzTWFya2luZ0NoZWNrTW9kZSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSA6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0gaWQ9e3RoaXMucHJvcHMuaWQgKyAnX21hcmtpbmdQcm9ncmVzcyd9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLnNob3dNYXJraW5nUHJvZ3Jlc3NXaXRoUGVyY2VudGFnZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBsb2NhbGVIZWxwZXIudG9Mb2NhbGVTdHJpbmcodGhpcy5wcm9wcy5wcm9ncmVzcykgKyAnJScgOiAnJ308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sIHdsLXN0YXR1cyB0ZXh0LWNlbnRlcicgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX21hcmtpbmdQcm9ncmVzcyd9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLWlubmVyJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWVzKCdpbmxpbmUtYnViYmxlIG92YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGluayc6IHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzRXhjZXB0aW9uKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzWm9uaW5nRXhjZXB0aW9uKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya0NoYW5nZVJlYXNvbk5vdEV4aXN0KSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuc3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uTm90U2VsZWN0ZWQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy53aG9sZVJlc3BvbnNlTm90QXZhaWxhYmxlKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMubm90QWxsUGFnZXNBbm5vdGF0ZWQpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSA6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGxvY2FsZUhlbHBlci50b0xvY2FsZVN0cmluZyh0aGlzLnByb3BzLnByb2dyZXNzKSArICclJyA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIChudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgU2hhcmUgYnV0dG9uIHRleHQgaXMgdmlzaWJsZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzU2hhcmVCdXR0b25WaXNpYmxlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnN0YW5kYXJkaXNhdGlvblNldHVwVGFiID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlbiBjbGFzc2lmeSBtdWx0aSBvcHRpb24gcG9wIHdpdGggdW5jbGFzc2lmaWVkIHJlc3BvbnNlIGRldGFpbHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjbGFzc2lmeU11bHRpT3B0aW9uUG9wVXBPcGVuID0gKGVzTWFya0dyb3VwSWQ6IG51bWJlcikgPT4ge1xyXG5cdCAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnJlY2xhc3NpZnlNdWx0aU9wdGlvblBvcHVwT3Blbihlc01hcmtHcm91cElkKTtcclxuICAgIH1cclxuXHJcbn1cclxuZXhwb3J0ID0gTWFya2luZ1Byb2dyZXNzO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvbWFya2luZ3Byb2dyZXNzLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBaUJBOztBQUVBO0FBQ0E7QUFBQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUFBO0FBc0dBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQXpHQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBWUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 370:
/* no static exports found */
/* all exports used */
/*!******************************************************************!*\
  !*** ./src/components/worklist/shared/responseidgridelement.tsx ***!
  \******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar stringHelper = __webpack_require__(/*! ../../../utility/generic/stringhelper */ 254);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar markSchemeHelper = __webpack_require__(/*! ../../../utility/markscheme/markschemehelper */ 276);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar messageStore = __webpack_require__(/*! ../../../stores/message/messagestore */ 240);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../../actions/messaging/messagingactioncreator */ 268);\r\nvar responseHelper = __webpack_require__(/*! ../../utility/responsehelper/responsehelper */ 249);\r\nvar teamManagementStore = __webpack_require__(/*! ../../../stores/teammanagement/teammanagementstore */ 245);\r\nvar teamManagementActionCreator = __webpack_require__(/*! ../../../actions/teammanagement/teammanagementactioncreator */ 263);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../utility/ecoursework/ecourseworkhelper */ 238);\r\nvar applicationStore = __webpack_require__(/*! ../../../stores/applicationoffline/applicationstore */ 247);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\n/**\r\n * React component class for response id\r\n */\r\nvar ResponseIdGridElement = /** @class */ (function (_super) {\r\n    __extends(ResponseIdGridElement, _super);\r\n    /**\r\n     * Constructor for ResponseIdGridElement\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function ResponseIdGridElement(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.classNameText = '';\r\n        /**\r\n         * This will initiate open response action\r\n         */\r\n        _this.handleResponseClick = function () {\r\n            //TO DO Remove this on enabling response click.\r\n            if (!_this.props.isClickable) {\r\n                return;\r\n            }\r\n            if (!applicationStore.instance.isOnline) {\r\n                applicationActionCreator.checkActionInterrupted();\r\n            }\r\n            else {\r\n                // Ideally marking mode should be read from the opened response,\r\n                // since multiple marking modes won't come in the same worklist now this will work.\r\n                _this.selectedMarkingMode = worklistStore.instance.getMarkingModeByWorkListType(worklistStore.instance.currentWorklistType);\r\n                _this.actualDisplayId = _this.props.displayId.toString();\r\n                if (!messageStore.instance.isMessagePanelActive) {\r\n                    if (markerOperationModeFactory.operationMode.isHelpExaminersView) {\r\n                        var dataCollection = new Array();\r\n                        var examinerSEPAction = {\r\n                            examinerRoleId: qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId,\r\n                            markSchemeGroupId: qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId,\r\n                            requestedByExaminerRoleId: qigStore.instance.getSelectedQIGForTheLoggedInUser.examinerRoleId\r\n                        };\r\n                        dataCollection.push(examinerSEPAction);\r\n                        var examinerSEPActions = Immutable.List(dataCollection);\r\n                        var doSEPApprovalManagementActionArgument = {\r\n                            actionIdentifier: enums.SEPAction.ViewResponse,\r\n                            examiners: examinerSEPActions\r\n                        };\r\n                        teamManagementActionCreator.ExecuteApprovalManagementAction(doSEPApprovalManagementActionArgument);\r\n                    }\r\n                    else if (worklistStore.instance.isMarkingCheckMode) {\r\n                        teamManagementActionCreator.teamManagementExaminerValidation(qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, 0, worklistStore.instance.selectedMarkingCheckExaminer.fromExaminerID, enums.ExaminerValidationArea.MarkCheckWorklist, false, _this.actualDisplayId, _this.selectedMarkingMode);\r\n                    }\r\n                    else {\r\n                        _this.openResponse(_this.actualDisplayId, _this.selectedMarkingMode);\r\n                    }\r\n                }\r\n                else {\r\n                    var messageNavigationArguments = {\r\n                        responseId: parseInt(_this.actualDisplayId),\r\n                        canNavigate: false,\r\n                        navigateTo: enums.MessageNavigation.toResponse,\r\n                        navigationConfirmed: false,\r\n                        hasMessageContainsDirtyValue: undefined,\r\n                        triggerPoint: enums.TriggerPoint.None\r\n                    };\r\n                    messagingActionCreator.canMessageNavigate(messageNavigationArguments);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * This will initiate the SEP action while opening a response\r\n         */\r\n        _this.onApprovalManagementActionExecuted = function (actionIdentifier) {\r\n            if (actionIdentifier === enums.SEPAction.ViewResponse) {\r\n                if (_this.actualDisplayId && _this.selectedMarkingMode) {\r\n                    _this.openResponse(_this.actualDisplayId, _this.selectedMarkingMode);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Method to open response if the loggined examiner is valid.\r\n         */\r\n        _this.validateExaminerStatus = function (displayId, markingMode) {\r\n            if (displayId && markingMode !== enums.MarkingMode.None) {\r\n                _this.openResponse(displayId, markingMode);\r\n            }\r\n        };\r\n        _this.handleResponseClick = _this.handleResponseClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    ResponseIdGridElement.prototype.render = function () {\r\n        var title = (this.props.isReusableResponseView) ?\r\n            stringHelper.format(localeStore.instance.\r\n                TranslateText('standardisation-setup.standardisation-setup-worklist.response-data.script-id-tooltip'), [String(this.props.candidateScriptId)])\r\n            : stringHelper.format(localeStore.instance.TranslateText('marking.worklist.response-data.response-id-tooltip'), [(this.props.displayText) ? String(this.props.displayText) : String(this.props.displayId)]);\r\n        (this.props.isTileView) ? this.classNameText = 'resp-id response-display-id' :\r\n            this.classNameText = 'response-display-id resp-id';\r\n        return (React.createElement(\"div\", { className: this.classNameText },\r\n            React.createElement(\"a\", { href: 'javascript:void(0)', id: 'res_' + this.props.id, key: 'res_key_' + this.props.id, title: title, className: (this.props.isTileView) ? 'dark-link large-text' : '', onClick: this.handleResponseClick }, (this.props.isReusableResponseView) ? String(this.props.candidateScriptId)\r\n                : (this.props.displayText) ? String(this.props.displayText) : String(this.props.displayId))));\r\n    };\r\n    /**\r\n     * Componet did mount\r\n     */\r\n    ResponseIdGridElement.prototype.componentDidMount = function () {\r\n        teamManagementStore.instance.setMaxListeners(0);\r\n        if (markerOperationModeFactory.operationMode.isHelpExaminersView) {\r\n            teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.APPROVAL_MANAGEMENT_ACTION_EXECUTED, this.onApprovalManagementActionExecuted);\r\n        }\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.EXAMINER_VALIDATED_OPEN_RESPONSE_EVENT, this.validateExaminerStatus);\r\n    };\r\n    /**\r\n     * Component will unmount\r\n     */\r\n    ResponseIdGridElement.prototype.componentWillUnmount = function () {\r\n        if (markerOperationModeFactory.operationMode.isHelpExaminersView) {\r\n            teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.APPROVAL_MANAGEMENT_ACTION_EXECUTED, this.onApprovalManagementActionExecuted);\r\n        }\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.EXAMINER_VALIDATED_OPEN_RESPONSE_EVENT, this.validateExaminerStatus);\r\n    };\r\n    /**\r\n     * This will open the response\r\n     * @param actualDisplayId contains the actual display id\r\n     * @param selectedMarkingMode contains the selected marking mode\r\n     */\r\n    ResponseIdGridElement.prototype.openResponse = function (actualDisplayId, selectedMarkingMode) {\r\n        var openedResponseDetails = markerOperationModeFactory.operationMode.openedResponseDetails(actualDisplayId);\r\n        responseHelper.openResponse(parseInt(actualDisplayId), enums.ResponseNavigation.specific, markerOperationModeFactory.operationMode.isStandardisationSetupMode ?\r\n            (standardisationSetupStore.instance.selectedStandardisationSetupWorkList === enums.StandardisationSetup.SelectResponse &&\r\n                standardisationSetupStore.instance.selectedTabInSelectResponse === enums.StandardisationSessionTab.PreviousSession) ?\r\n                enums.ResponseMode.closed : enums.ResponseMode.open :\r\n            worklistStore.instance.getResponseMode, markerOperationModeFactory.operationMode.isStandardisationSetupMode ?\r\n            openedResponseDetails.esMarkGroupId : openedResponseDetails.markGroupId, enums.ResponseViewMode.zoneView, enums.TriggerPoint.None, openedResponseDetails.sampleReviewCommentId, openedResponseDetails.sampleReviewCommentCreatedBy);\r\n        markSchemeHelper.getMarks(parseInt(actualDisplayId), selectedMarkingMode, false, true);\r\n        eCourseworkHelper.fetchECourseWorkCandidateScriptMetadata(parseInt(actualDisplayId));\r\n    };\r\n    return ResponseIdGridElement;\r\n}(pureRenderComponent));\r\nmodule.exports = ResponseIdGridElement;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3Jlc3BvbnNlaWRncmlkZWxlbWVudC50c3g/YzRlNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IHN0cmluZ0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ2VuZXJpYy9zdHJpbmdoZWxwZXInKTtcclxuaW1wb3J0IG9wZW5SZXNwb25zZUFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL3Jlc3BvbnNlL3Jlc3BvbnNlYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCByZXNwb25zZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3Jlc3BvbnNlL3Jlc3BvbnNlc3RvcmUnKTtcclxuaW1wb3J0IG1hcmtpbmdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tYXJraW5nL21hcmtpbmdzdG9yZScpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgdGFyZ2V0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS90YXJnZXQvdGFyZ2V0aGVscGVyJyk7XHJcbmltcG9ydCBtYXJrU2NoZW1lSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9tYXJrc2NoZW1lL21hcmtzY2hlbWVoZWxwZXInKTtcclxuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XHJcbmltcG9ydCBtZXNzYWdlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbWVzc2FnZS9tZXNzYWdlc3RvcmUnKTtcclxuaW1wb3J0IG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL21lc3NhZ2luZy9tZXNzYWdpbmdhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCByZXNwb25zZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvcmVzcG9uc2VoZWxwZXIvcmVzcG9uc2VoZWxwZXInKTtcclxuaW1wb3J0IHRlYW1NYW5hZ2VtZW50U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvdGVhbW1hbmFnZW1lbnQvdGVhbW1hbmFnZW1lbnRzdG9yZScpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudGFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lY291cnNld29yay9lY291cnNld29ya2hlbHBlcicpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25zdG9yZScpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25hY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwc3RvcmUnKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgcmVzcG9uc2UgaWQgY29sdW1uXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgZGlzcGxheUlkPzogc3RyaW5nO1xyXG4gICAgZGlzcGxheVRleHQ/OiBzdHJpbmc7XHJcbiAgICBpc0NsaWNrYWJsZT86IGJvb2xlYW47XHJcbiAgICBpc1RpbGVWaWV3PzogYm9vbGVhbjtcclxuICAgIGlzUmV1c2FibGVSZXNwb25zZVZpZXc/OiBib29sZWFuO1xyXG4gICAgY2FuZGlkYXRlU2NyaXB0SWQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIHJlc3BvbnNlIGlkXHJcbiAqL1xyXG5jbGFzcyBSZXNwb25zZUlkR3JpZEVsZW1lbnQgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuICAgIHByaXZhdGUgY2xhc3NOYW1lVGV4dDogc3RyaW5nID0gJyc7XHJcbiAgICBwcml2YXRlIGFjdHVhbERpc3BsYXlJZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZE1hcmtpbmdNb2RlOiBhbnk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgUmVzcG9uc2VJZEdyaWRFbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlUmVzcG9uc2VDbGljayA9IHRoaXMuaGFuZGxlUmVzcG9uc2VDbGljay5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgdGl0bGUgPSAodGhpcy5wcm9wcy5pc1JldXNhYmxlUmVzcG9uc2VWaWV3KSA/XHJcbiAgICAgICAgc3RyaW5nSGVscGVyLmZvcm1hdChsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgVHJhbnNsYXRlVGV4dCgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZXNwb25zZS1kYXRhLnNjcmlwdC1pZC10b29sdGlwJyksXHJcbiAgICAgICAgW1N0cmluZyh0aGlzLnByb3BzLmNhbmRpZGF0ZVNjcmlwdElkKV0pXHJcbiAgICAgICAgOiBzdHJpbmdIZWxwZXIuZm9ybWF0KGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5yZXNwb25zZS1pZC10b29sdGlwJyksXHJcbiAgICAgICAgICAgIFsodGhpcy5wcm9wcy5kaXNwbGF5VGV4dCkgPyBTdHJpbmcodGhpcy5wcm9wcy5kaXNwbGF5VGV4dCkgOiBTdHJpbmcodGhpcy5wcm9wcy5kaXNwbGF5SWQpXSk7XHJcblxyXG4gICAgICAgICh0aGlzLnByb3BzLmlzVGlsZVZpZXcpID8gdGhpcy5jbGFzc05hbWVUZXh0ID0gJ3Jlc3AtaWQgcmVzcG9uc2UtZGlzcGxheS1pZCcgOlxyXG4gICAgICAgICAgICB0aGlzLmNsYXNzTmFtZVRleHQgPSAncmVzcG9uc2UtZGlzcGxheS1pZCByZXNwLWlkJztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuY2xhc3NOYW1lVGV4dH0+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIGlkPXsncmVzXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17J3Jlc19rZXlfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17KHRoaXMucHJvcHMuaXNUaWxlVmlldykgPyAnZGFyay1saW5rIGxhcmdlLXRleHQnIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVSZXNwb25zZUNsaWNrfT5cclxuICAgICAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMuaXNSZXVzYWJsZVJlc3BvbnNlVmlldykgPyBTdHJpbmcodGhpcy5wcm9wcy5jYW5kaWRhdGVTY3JpcHRJZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAodGhpcy5wcm9wcy5kaXNwbGF5VGV4dCkgPyBTdHJpbmcodGhpcy5wcm9wcy5kaXNwbGF5VGV4dCkgOiBTdHJpbmcodGhpcy5wcm9wcy5kaXNwbGF5SWQpfTwvYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIC8qKiAgICAgXHJcbiAgICAgKiBDb21wb25ldCBkaWQgbW91bnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2Uuc2V0TWF4TGlzdGVuZXJzKDApO1xyXG4gICAgICAgIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzSGVscEV4YW1pbmVyc1ZpZXcpIHtcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuQVBQUk9WQUxfTUFOQUdFTUVOVF9BQ1RJT05fRVhFQ1VURUQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uRXhlY3V0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5FWEFNSU5FUl9WQUxJREFURURfT1BFTl9SRVNQT05TRV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUV4YW1pbmVyU3RhdHVzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbXBvbmVudCB3aWxsIHVubW91bnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzSGVscEV4YW1pbmVyc1ZpZXcpIHtcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcih0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuQVBQUk9WQUxfTUFOQUdFTUVOVF9BQ1RJT05fRVhFQ1VURUQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uRXhlY3V0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5FWEFNSU5FUl9WQUxJREFURURfT1BFTl9SRVNQT05TRV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUV4YW1pbmVyU3RhdHVzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCBpbml0aWF0ZSBvcGVuIHJlc3BvbnNlIGFjdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGhhbmRsZVJlc3BvbnNlQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgLy9UTyBETyBSZW1vdmUgdGhpcyBvbiBlbmFibGluZyByZXNwb25zZSBjbGljay5cclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuaXNDbGlja2FibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUpIHtcclxuICAgICAgICAgICAgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yLmNoZWNrQWN0aW9uSW50ZXJydXB0ZWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZGVhbGx5IG1hcmtpbmcgbW9kZSBzaG91bGQgYmUgcmVhZCBmcm9tIHRoZSBvcGVuZWQgcmVzcG9uc2UsXHJcbiAgICAgICAgICAgIC8vIHNpbmNlIG11bHRpcGxlIG1hcmtpbmcgbW9kZXMgd29uJ3QgY29tZSBpbiB0aGUgc2FtZSB3b3JrbGlzdCBub3cgdGhpcyB3aWxsIHdvcmsuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJraW5nTW9kZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya2luZ01vZGVCeVdvcmtMaXN0VHlwZSh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3R1YWxEaXNwbGF5SWQgPSB0aGlzLnByb3BzLmRpc3BsYXlJZC50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFtZXNzYWdlU3RvcmUuaW5zdGFuY2UuaXNNZXNzYWdlUGFuZWxBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzSGVscEV4YW1pbmVyc1ZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YUNvbGxlY3Rpb246IEFycmF5PEV4YW1pbmVyRm9yU0VQQWN0aW9uPiA9IG5ldyBBcnJheTxFeGFtaW5lckZvclNFUEFjdGlvbj4oKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXhhbWluZXJTRVBBY3Rpb246IEV4YW1pbmVyRm9yU0VQQWN0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFtaW5lclJvbGVJZDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkOiBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkQnlFeGFtaW5lclJvbGVJZDogcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIuZXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFDb2xsZWN0aW9uLnB1c2goZXhhbWluZXJTRVBBY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBleGFtaW5lclNFUEFjdGlvbnMgPSBJbW11dGFibGUuTGlzdDxFeGFtaW5lckZvclNFUEFjdGlvbj4oZGF0YUNvbGxlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZG9TRVBBcHByb3ZhbE1hbmFnZW1lbnRBY3Rpb25Bcmd1bWVudDogRG9TRVBBcHByb3ZhbE1hbmFnZW1lbnRBY3Rpb25Bcmd1bWVudCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uSWRlbnRpZmllcjogZW51bXMuU0VQQWN0aW9uLlZpZXdSZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhbWluZXJzOiBleGFtaW5lclNFUEFjdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvci5FeGVjdXRlQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uKGRvU0VQQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uQXJndW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzTWFya2luZ0NoZWNrTW9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvci50ZWFtTWFuYWdlbWVudEV4YW1pbmVyVmFsaWRhdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkLCAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkTWFya2luZ0NoZWNrRXhhbWluZXIuZnJvbUV4YW1pbmVySUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkV4YW1pbmVyVmFsaWRhdGlvbkFyZWEuTWFya0NoZWNrV29ya2xpc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLCB0aGlzLmFjdHVhbERpc3BsYXlJZCwgdGhpcy5zZWxlY3RlZE1hcmtpbmdNb2RlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuUmVzcG9uc2UodGhpcy5hY3R1YWxEaXNwbGF5SWQsIHRoaXMuc2VsZWN0ZWRNYXJraW5nTW9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHM6IE1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHBhcnNlSW50KHRoaXMuYWN0dWFsRGlzcGxheUlkKSxcclxuICAgICAgICAgICAgICAgICAgICBjYW5OYXZpZ2F0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUbzogZW51bXMuTWVzc2FnZU5hdmlnYXRpb24udG9SZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uQ29uZmlybWVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBoYXNNZXNzYWdlQ29udGFpbnNEaXJ0eVZhbHVlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclBvaW50OiBlbnVtcy5UcmlnZ2VyUG9pbnQuTm9uZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IuY2FuTWVzc2FnZU5hdmlnYXRlKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCBvcGVuIHRoZSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIGFjdHVhbERpc3BsYXlJZCBjb250YWlucyB0aGUgYWN0dWFsIGRpc3BsYXkgaWRcclxuICAgICAqIEBwYXJhbSBzZWxlY3RlZE1hcmtpbmdNb2RlIGNvbnRhaW5zIHRoZSBzZWxlY3RlZCBtYXJraW5nIG1vZGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvcGVuUmVzcG9uc2UoYWN0dWFsRGlzcGxheUlkOiBzdHJpbmcsIHNlbGVjdGVkTWFya2luZ01vZGU6IGFueSkge1xyXG4gICAgICAgIGxldCBvcGVuZWRSZXNwb25zZURldGFpbHMgPVxyXG4gICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLm9wZW5lZFJlc3BvbnNlRGV0YWlscyhhY3R1YWxEaXNwbGF5SWQpO1xyXG5cclxuICAgICAgICByZXNwb25zZUhlbHBlci5vcGVuUmVzcG9uc2UocGFyc2VJbnQoYWN0dWFsRGlzcGxheUlkKSxcclxuICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VOYXZpZ2F0aW9uLnNwZWNpZmljLFxyXG4gICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzU3RhbmRhcmRpc2F0aW9uU2V0dXBNb2RlID9cclxuICAgICAgICAgICAgICAgIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkU3RhbmRhcmRpc2F0aW9uU2V0dXBXb3JrTGlzdCA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuU2VsZWN0UmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkVGFiSW5TZWxlY3RSZXNwb25zZSA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2Vzc2lvblRhYi5QcmV2aW91c1Nlc3Npb24pID9cclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkIDogZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4gOlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZXNwb25zZU1vZGUsXHJcbiAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTdGFuZGFyZGlzYXRpb25TZXR1cE1vZGUgP1xyXG4gICAgICAgICAgICAgICAgb3BlbmVkUmVzcG9uc2VEZXRhaWxzLmVzTWFya0dyb3VwSWQgOiBvcGVuZWRSZXNwb25zZURldGFpbHMubWFya0dyb3VwSWQsXHJcbiAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlVmlld01vZGUuem9uZVZpZXcsXHJcbiAgICAgICAgICAgIGVudW1zLlRyaWdnZXJQb2ludC5Ob25lLFxyXG4gICAgICAgICAgICBvcGVuZWRSZXNwb25zZURldGFpbHMuc2FtcGxlUmV2aWV3Q29tbWVudElkLFxyXG4gICAgICAgICAgICBvcGVuZWRSZXNwb25zZURldGFpbHMuc2FtcGxlUmV2aWV3Q29tbWVudENyZWF0ZWRCeSk7XHJcblxyXG4gICAgICAgIG1hcmtTY2hlbWVIZWxwZXIuZ2V0TWFya3MocGFyc2VJbnQoYWN0dWFsRGlzcGxheUlkKSwgc2VsZWN0ZWRNYXJraW5nTW9kZSwgZmFsc2UsIHRydWUpO1xyXG5cclxuICAgICAgICBlQ291cnNld29ya0hlbHBlci5mZXRjaEVDb3Vyc2VXb3JrQ2FuZGlkYXRlU2NyaXB0TWV0YWRhdGEocGFyc2VJbnQoYWN0dWFsRGlzcGxheUlkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIHdpbGwgaW5pdGlhdGUgdGhlIFNFUCBhY3Rpb24gd2hpbGUgb3BlbmluZyBhIHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25BcHByb3ZhbE1hbmFnZW1lbnRBY3Rpb25FeGVjdXRlZCA9IChhY3Rpb25JZGVudGlmaWVyOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAoYWN0aW9uSWRlbnRpZmllciA9PT0gZW51bXMuU0VQQWN0aW9uLlZpZXdSZXNwb25zZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hY3R1YWxEaXNwbGF5SWQgJiYgdGhpcy5zZWxlY3RlZE1hcmtpbmdNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5SZXNwb25zZSh0aGlzLmFjdHVhbERpc3BsYXlJZCwgdGhpcy5zZWxlY3RlZE1hcmtpbmdNb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gb3BlbiByZXNwb25zZSBpZiB0aGUgbG9nZ2luZWQgZXhhbWluZXIgaXMgdmFsaWQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdmFsaWRhdGVFeGFtaW5lclN0YXR1cyA9IChkaXNwbGF5SWQ6IHN0cmluZywgbWFya2luZ01vZGU6IGVudW1zLk1hcmtpbmdNb2RlKSA9PiB7XHJcbiAgICAgICAgaWYgKGRpc3BsYXlJZCAmJiBtYXJraW5nTW9kZSAhPT0gZW51bXMuTWFya2luZ01vZGUuTm9uZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5SZXNwb25zZShkaXNwbGF5SWQsIG1hcmtpbmdNb2RlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgPSBSZXNwb25zZUlkR3JpZEVsZW1lbnQ7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9yZXNwb25zZWlkZ3JpZGVsZW1lbnQudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBOztBQUVBO0FBQ0E7QUFBQTtBQUtBOzs7O0FBSUE7QUFDQTtBQUFBO0FBVEE7QUFpRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0pBOztBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFNQTtBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBMkRBOzs7O0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFFQTtBQUNBO0FBcUJBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 371:
/* no static exports found */
/* all exports used */
/*!********************************************************************!*\
  !*** ./src/components/worklist/shared/slaoannotationindicator.tsx ***!
  \********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for SLAO annotation indicator\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\n/**\r\n * React component class for SLAO annotation indicator\r\n */\r\nvar SLAOAnnotationIndicator = /** @class */ (function (_super) {\r\n    __extends(SLAOAnnotationIndicator, _super);\r\n    /**\r\n     * Constructor fot SLAOAnnotationIndicator\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function SLAOAnnotationIndicator(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * returns the below values which define the type of SLAO indicator icon displayed\r\n     *       true        - icon without cross\r\n     *       false       - icon with cross\r\n     *       undefined   - no icon\r\n     */\r\n    SLAOAnnotationIndicator.prototype.getIconType = function () {\r\n        /**\r\n         * taking the cc from cc helper\r\n         */\r\n        var _isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, this.props.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        var _isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, this.props.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        /**\r\n         * If the response has no SLAO's ther will not be an icon in the column, so returning undefined\r\n         */\r\n        if (!this.props.isResponseHasSLAO) {\r\n            return undefined;\r\n        }\r\n        else if (!this.props.isMarkingCompleted && !this.props.isTileView) {\r\n            /**\r\n             * If the response has SLAO and marking is ot completed the icon without cross will display\r\n             * on the grid column(returning true)\r\n             */\r\n            return true;\r\n        }\r\n        else if (!_isAllPagesAnnotatedCC && _isAllSLAOAnnotatedCC && this.props.isAllAnnotated === false\r\n            && this.props.isMarkingCompleted) {\r\n            /**\r\n             * If the marking is completed an icon with cross mark will display if the All SLALO CC is on\r\n             * and all SLAO's are not annotated\r\n             */\r\n            return false;\r\n        }\r\n        else if (!this.props.isTileView && this.props.isMarkingCompleted && this.props.isAllAnnotated === true) {\r\n            /**\r\n             * If the marking is completed , all slo annotated  and listview\r\n             * show sprite-icon bundle-icon\r\n             */\r\n            return true;\r\n        }\r\n        else if (!this.props.isTileView) {\r\n            /**\r\n             * show 'sprite-icon bundle-icon' in listview in all other cases otherthan mentioned above.\r\n             * will not show, if the response has no SLAO's.\r\n             */\r\n            return true;\r\n        }\r\n        /**\r\n         * no need to display 'sprite-icon bundle-icon' in tileview .\r\n         */\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Render component\r\n     */\r\n    SLAOAnnotationIndicator.prototype.render = function () {\r\n        var className = 'sprite-icon';\r\n        var title = '';\r\n        var id = '';\r\n        var iconType = this.getIconType();\r\n        /**\r\n         * choosing the class name and title based on the icon type returned from the getIconType() method\r\n         */\r\n        if (iconType === undefined) {\r\n            return null;\r\n        }\r\n        else if (iconType === true) {\r\n            className = 'sprite-icon bundle-icon';\r\n            title = localeStore.instance.TranslateText('marking.worklist.response-data.additional-objects-icon-tooltip');\r\n        }\r\n        else if (iconType === false) {\r\n            className = 'sprite-icon bundle-icon-cross';\r\n            id = 'sprite-icon bundle-icon-cross-id';\r\n            title = localeStore.instance.TranslateText('marking.worklist.response-data.additional-objects-not-annotated-icon-tooltip');\r\n        }\r\n        return ((this.props.isTileView) ?\r\n            React.createElement(\"div\", { className: 'slao' },\r\n                React.createElement(\"a\", { id: 'slaoAnnotation_' + this.props.id, key: 'slaoAnnotation_key_' + this.props.id, href: 'javascript:void(0)', title: title },\r\n                    React.createElement(\"span\", { className: className, id: id }, \"slao\")))\r\n            : React.createElement(\"span\", { className: 'Response has additional answer pages' },\r\n                React.createElement(\"a\", { id: 'slaoAnnotation_' + this.props.id, key: 'slaoAnnotation_key_' + this.props.id, href: 'javascript:void(0)', title: title },\r\n                    React.createElement(\"span\", { className: className }, \"slao\"))));\r\n    };\r\n    return SLAOAnnotationIndicator;\r\n}(pureRenderComponent));\r\nmodule.exports = SLAOAnnotationIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3NsYW9hbm5vdGF0aW9uaW5kaWNhdG9yLnRzeD9hZTdhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgUmVhY3QgY29tcG9uZW50IGZvciBTTEFPIGFubm90YXRpb24gaW5kaWNhdG9yXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc3N0b3JlJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBTTEFPIGFubm90YXRpb24gaW5kaWNhdG9yXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgaXNSZXNwb25zZUhhc1NMQU86IGJvb2xlYW47XHJcbiAgICBpc0FsbEFubm90YXRlZD86IGJvb2xlYW47XHJcbiAgICBpc01hcmtpbmdDb21wbGV0ZWQ6IGJvb2xlYW47XHJcbiAgICBpc1RpbGVWaWV3PzogYm9vbGVhbjtcclxuICAgIG1hcmtTY2hlbWVHcm91cElkOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIFNMQU8gYW5ub3RhdGlvbiBpbmRpY2F0b3JcclxuICovXHJcbmNsYXNzIFNMQU9Bbm5vdGF0aW9uSW5kaWNhdG9yIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3QgU0xBT0Fubm90YXRpb25JbmRpY2F0b3JcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBiZWxvdyB2YWx1ZXMgd2hpY2ggZGVmaW5lIHRoZSB0eXBlIG9mIFNMQU8gaW5kaWNhdG9yIGljb24gZGlzcGxheWVkXHJcbiAgICAgKiAgICAgICB0cnVlICAgICAgICAtIGljb24gd2l0aG91dCBjcm9zc1xyXG4gICAgICogICAgICAgZmFsc2UgICAgICAgLSBpY29uIHdpdGggY3Jvc3NcclxuICAgICAqICAgICAgIHVuZGVmaW5lZCAgIC0gbm8gaWNvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEljb25UeXBlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8qKiBcclxuICAgICAgICAgKiB0YWtpbmcgdGhlIGNjIGZyb20gY2MgaGVscGVyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbGV0IF9pc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuRm9yY2VBbm5vdGF0aW9uT25FYWNoUGFnZSxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5tYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIGxldCBfaXNBbGxTTEFPQW5ub3RhdGVkQ0MgPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuU0xBT0ZvcmNlZEFubm90YXRpb25zLFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKiBcclxuICAgICAgICAgKiBJZiB0aGUgcmVzcG9uc2UgaGFzIG5vIFNMQU8ncyB0aGVyIHdpbGwgbm90IGJlIGFuIGljb24gaW4gdGhlIGNvbHVtbiwgc28gcmV0dXJuaW5nIHVuZGVmaW5lZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5pc1Jlc3BvbnNlSGFzU0xBTykge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMucHJvcHMuaXNNYXJraW5nQ29tcGxldGVkICYmICF0aGlzLnByb3BzLmlzVGlsZVZpZXcpIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIElmIHRoZSByZXNwb25zZSBoYXMgU0xBTyBhbmQgbWFya2luZyBpcyBvdCBjb21wbGV0ZWQgdGhlIGljb24gd2l0aG91dCBjcm9zcyB3aWxsIGRpc3BsYXlcclxuICAgICAgICAgICAgICogb24gdGhlIGdyaWQgY29sdW1uKHJldHVybmluZyB0cnVlKVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICghX2lzQWxsUGFnZXNBbm5vdGF0ZWRDQyAmJiBfaXNBbGxTTEFPQW5ub3RhdGVkQ0MgJiYgdGhpcy5wcm9wcy5pc0FsbEFubm90YXRlZCA9PT0gZmFsc2VcclxuICAgICAgICAgICAgJiYgdGhpcy5wcm9wcy5pc01hcmtpbmdDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIElmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCBhbiBpY29uIHdpdGggY3Jvc3MgbWFyayB3aWxsIGRpc3BsYXkgaWYgdGhlIEFsbCBTTEFMTyBDQyBpcyBvblxyXG4gICAgICAgICAgICAgKiBhbmQgYWxsIFNMQU8ncyBhcmUgbm90IGFubm90YXRlZFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMucHJvcHMuaXNUaWxlVmlldyAmJiB0aGlzLnByb3BzLmlzTWFya2luZ0NvbXBsZXRlZCAmJiB0aGlzLnByb3BzLmlzQWxsQW5ub3RhdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBJZiB0aGUgbWFya2luZyBpcyBjb21wbGV0ZWQgLCBhbGwgc2xvIGFubm90YXRlZCAgYW5kIGxpc3R2aWV3XHJcbiAgICAgICAgICAgICAqIHNob3cgc3ByaXRlLWljb24gYnVuZGxlLWljb24gXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnByb3BzLmlzVGlsZVZpZXcpIHtcclxuICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgKiBzaG93ICdzcHJpdGUtaWNvbiBidW5kbGUtaWNvbicgaW4gbGlzdHZpZXcgaW4gYWxsIG90aGVyIGNhc2VzIG90aGVydGhhbiBtZW50aW9uZWQgYWJvdmUuXHJcbiAgICAgICAgICAgICogd2lsbCBub3Qgc2hvdywgaWYgdGhlIHJlc3BvbnNlIGhhcyBubyBTTEFPJ3MuXHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBubyBuZWVkIHRvIGRpc3BsYXkgJ3Nwcml0ZS1pY29uIGJ1bmRsZS1pY29uJyBpbiB0aWxldmlldyAuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgY2xhc3NOYW1lID0gJ3Nwcml0ZS1pY29uJztcclxuICAgICAgICBsZXQgdGl0bGU6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGxldCBpZDogc3RyaW5nID0gJyc7XHJcbiAgICAgICAgbGV0IGljb25UeXBlID0gdGhpcy5nZXRJY29uVHlwZSgpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBjaG9vc2luZyB0aGUgY2xhc3MgbmFtZSBhbmQgdGl0bGUgYmFzZWQgb24gdGhlIGljb24gdHlwZSByZXR1cm5lZCBmcm9tIHRoZSBnZXRJY29uVHlwZSgpIG1ldGhvZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChpY29uVHlwZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaWNvblR5cGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ3Nwcml0ZS1pY29uIGJ1bmRsZS1pY29uJztcclxuICAgICAgICAgICAgdGl0bGUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEuYWRkaXRpb25hbC1vYmplY3RzLWljb24tdG9vbHRpcCcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaWNvblR5cGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9ICdzcHJpdGUtaWNvbiBidW5kbGUtaWNvbi1jcm9zcyc7XHJcbiAgICAgICAgICAgIGlkID0gJ3Nwcml0ZS1pY29uIGJ1bmRsZS1pY29uLWNyb3NzLWlkJztcclxuICAgICAgICAgICAgdGl0bGUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEuYWRkaXRpb25hbC1vYmplY3RzLW5vdC1hbm5vdGF0ZWQtaWNvbi10b29sdGlwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICh0aGlzLnByb3BzLmlzVGlsZVZpZXcpID9cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzbGFvJz5cclxuICAgICAgICAgICAgICAgICAgICA8YSBpZD17J3NsYW9Bbm5vdGF0aW9uXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9eydzbGFvQW5ub3RhdGlvbl9rZXlfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKScgdGl0bGU9e3RpdGxlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9IGlkID17aWR9PnNsYW88L3NwYW4+PC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA6IDxzcGFuIGNsYXNzTmFtZT0nUmVzcG9uc2UgaGFzIGFkZGl0aW9uYWwgYW5zd2VyIHBhZ2VzJz5cclxuICAgICAgICAgICAgICAgICAgICA8YSBpZD17J3NsYW9Bbm5vdGF0aW9uXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9eydzbGFvQW5ub3RhdGlvbl9rZXlfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKScgdGl0bGU9e3RpdGxlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PnNsYW88L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFNMQU9Bbm5vdGF0aW9uSW5kaWNhdG9yO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvc2xhb2Fubm90YXRpb25pbmRpY2F0b3IudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFhQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFHQTtBQUlBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 372:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/components/worklist/shared/submitresponse.tsx ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for Submit response header\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar submitActionCreator = __webpack_require__(/*! ../../../actions/submit/submitactioncreator */ 297);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar busyIndicatorActionCreator = __webpack_require__(/*! ../../../actions/busyindicator/busyindicatoractioncreator */ 279);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar markingStore = __webpack_require__(/*! ../../../stores/marking/markingstore */ 236);\r\nvar markingActionCreator = __webpack_require__(/*! ../../../actions/marking/markingactioncreator */ 246);\r\nvar submitHelper = __webpack_require__(/*! ../../utility/submit/submithelper */ 282);\r\nvar markingHelper = __webpack_require__(/*! ../../../utility/markscheme/markinghelper */ 267);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar combinedWarningPopupHelper = __webpack_require__(/*! ../../utility/popup/responseerrordialoghelper */ 438);\r\nvar eCourseWorkFileStore = __webpack_require__(/*! ../../../stores/response/digital/ecourseworkfilestore */ 278);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar standardisationsetupActionCreator = __webpack_require__(/*! ../../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\n/**\r\n * React component class for submit button\r\n */\r\nvar SubmitResponse = /** @class */ (function (_super) {\r\n    __extends(SubmitResponse, _super);\r\n    /**\r\n     * Constructor for SubmitResponse\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function SubmitResponse(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * Change visibility of mark change reason\r\n         */\r\n        _this.showHideMarkChangeReason = function () {\r\n            if (_this.props.checkIsSubmitVisible()) {\r\n                _this.isVisible = true;\r\n            }\r\n            else {\r\n                _this.isVisible = false;\r\n            }\r\n            _this.setState({ reRender: Date.now() });\r\n        };\r\n        /**\r\n         * File read status updated event.\r\n         */\r\n        _this.fileReadStatusUpdated = function () {\r\n            _this.isVisible = _this.props.checkIsSubmitVisible();\r\n            _this.setState({ reRender: Date.now() });\r\n        };\r\n        _this.submitResponseFromMarkscheme = function () {\r\n            if (markingStore.instance.navigateTo === enums.SaveAndNavigate.submit) {\r\n                busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.submitInResponseScreen);\r\n                submitHelper.saveAndSubmitResponse(_this.props.markGroupId);\r\n            }\r\n        };\r\n        _this.state = {\r\n            reRender: Date.now()\r\n        };\r\n        _this.onSubmit = _this.onSubmit.bind(_this);\r\n        _this.showHideMarkChangeReason = _this.showHideMarkChangeReason.bind(_this);\r\n        _this.isVisible = _this.props.isVisible;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    SubmitResponse.prototype.render = function () {\r\n        /**\r\n         * show multiple/single response submit button\r\n         */\r\n        if (this.props.isSubmitAll) {\r\n            return (React.createElement(\"button\", { id: 'submitResponseAll_' + this.props.id, key: 'submitResponseAll_key_' + this.props.id, title: !this.props.isDisabled ? '' :\r\n                    localeStore.instance.TranslateText('marking.worklist.action-buttons.submit-button-not-approved-tooltip'), disabled: this.props.isDisabled ? true : false, className: classNames('button primary rounded', {\r\n                    'disabled submit-all-rsp-btn': this.props.isDisabled\r\n                }), onClick: this.onSubmit },\r\n                localeStore.instance.TranslateText('marking.worklist.action-buttons.submit-button'),\r\n                this.renderSubTextItem()));\r\n        }\r\n        else if (this.props.fromMarkScheme) {\r\n            if (this.isVisible) {\r\n                return (React.createElement(\"div\", { className: 'submit-holder show' }, this.getSubmitButton()));\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            return (((!this.props.isTileView) ?\r\n                this.getSubmitButton() :\r\n                React.createElement(\"div\", { className: 'col wl-status text-center' },\r\n                    React.createElement(\"div\", { className: 'col-inner' }, this.getSubmitButton()))));\r\n        }\r\n    };\r\n    /**\r\n     * To get the submit button\r\n     */\r\n    SubmitResponse.prototype.getSubmitButton = function () {\r\n        var isfromStandardisationProvResponse = this.props.standardisationSetupType === enums.StandardisationSetup.ProvisionalResponse;\r\n        var className = isfromStandardisationProvResponse ? 'primary button rounded popup-nav shareProv'\r\n            : 'button primary rounded submit-button';\r\n        var id = isfromStandardisationProvResponse ? 'shareProvResponse_'\r\n            : 'submitSingleResponse_';\r\n        var toolTip = isfromStandardisationProvResponse ?\r\n            localeStore.instance.TranslateText('standardisation-setup.right-container.share-button-tooltip') : '';\r\n        if (this.props.fromMarkScheme) {\r\n            className = ' submit-mark rounded primary';\r\n        }\r\n        else if (this.props.isDisabled) {\r\n            className = className + ' disabled';\r\n        }\r\n        var result = React.createElement(\"button\", null);\r\n        result = React.createElement(\"button\", { id: id + this.props.id, key: 'submitSingleResponse_key_' + this.props.id, disabled: this.props.isDisabled ? true : false, title: !this.props.isDisabled ? toolTip :\r\n                localeStore.instance.TranslateText('marking.worklist.action-buttons.submit-button-not-approved-tooltip'), className: className, onClick: this.onSubmit }, \r\n        // For provisional worklist in standardisationsetup, instead of submit we should show share button\r\n        isfromStandardisationProvResponse ?\r\n            localeStore.instance.TranslateText('standardisation-setup.right-container.share-button') :\r\n            localeStore.instance.TranslateText('marking.worklist.response-data.submit-button'));\r\n        return result;\r\n    };\r\n    /**\r\n     * componentDidMount\r\n     */\r\n    SubmitResponse.prototype.componentDidMount = function () {\r\n        markingStore.instance.addListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.submitResponseFromMarkscheme);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.MARK_CHANGE_REASON_VISIBILITY_UPDATED, this.showHideMarkChangeReason);\r\n        eCourseWorkFileStore.instance.addListener(eCourseWorkFileStore.ECourseWorkFileStore.FILE_READ_STATUS_UPDATED, this.fileReadStatusUpdated);\r\n    };\r\n    /**\r\n     * componentWillUnmount\r\n     */\r\n    SubmitResponse.prototype.componentWillUnmount = function () {\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.submitResponseFromMarkscheme);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.MARK_CHANGE_REASON_VISIBILITY_UPDATED, this.showHideMarkChangeReason);\r\n        eCourseWorkFileStore.instance.removeListener(eCourseWorkFileStore.ECourseWorkFileStore.FILE_READ_STATUS_UPDATED, this.fileReadStatusUpdated);\r\n    };\r\n    /**\r\n     * Comparing the props to check the updats are made by self\r\n     * @param {Props} nextProps\r\n     */\r\n    SubmitResponse.prototype.componentWillReceiveProps = function (nextProps) {\r\n        this.isVisible = nextProps.isVisible;\r\n    };\r\n    /**\r\n     * Method to indicate whether to show the sub text for the case where Submit button is disabled;\r\n     * since the subtext needs to be shown only in disabled state\r\n     */\r\n    SubmitResponse.prototype.renderSubTextItem = function () {\r\n        if (this.props.isDisabled) {\r\n            return (React.createElement(\"span\", { className: classNames('', {\r\n                    'awaiting-feedback-msg text-middle small-text': this.props.isDisabled\r\n                }) }, localeStore.instance.TranslateText('marking.worklist.action-buttons.submit-button-suspended-indicator')));\r\n        }\r\n    };\r\n    /**\r\n     * On clicking submit\r\n     */\r\n    SubmitResponse.prototype.onSubmit = function (e) {\r\n        //on submitting simulation response, show a confirmation popup before submit\r\n        if (!applicationActionCreator.checkActionInterrupted()) {\r\n            return;\r\n        }\r\n        if (this.props.standardisationSetupType === enums.StandardisationSetup.ProvisionalResponse) {\r\n            //ActionCreator for showing Share Response Popup\r\n            var navigatePossible = true;\r\n            if (this.props.fromMarkScheme) {\r\n                this.props.stdResponseDetails.totalMarkValue = Number(this.props.updatedTotalMarks);\r\n                var responseNavigationFailureReasons = markingHelper.canNavigateAwayFromCurrentResponse();\r\n                if (responseNavigationFailureReasons.length > 0) {\r\n                    navigatePossible = false;\r\n                    var combinedWarningMessages = combinedWarningPopupHelper.getCombinedWarningMessage(enums.SaveAndNavigate.submit, responseNavigationFailureReasons);\r\n                    markingActionCreator.showResponseNavigationFailureReasons(enums.SaveAndNavigate.submit, combinedWarningMessages);\r\n                }\r\n            }\r\n            if (navigatePossible) {\r\n                standardisationsetupActionCreator.displayShareResponsePopup(this.props.stdResponseDetails, this.props.fromMarkScheme);\r\n                return;\r\n            }\r\n        }\r\n        if (worklistStore.instance.currentWorklistType === enums.WorklistType.simulation) {\r\n            markingActionCreator.showSimulationResponseSubmitConfirmationPopup(this.props.markGroupId, this.props.fromMarkScheme);\r\n            if (!this.props.fromMarkScheme) {\r\n                /* stopping propagation because the parent li has a click event in tile view\r\n                which should not work when submit is clicked\r\n                 */\r\n                e.stopPropagation();\r\n            }\r\n        }\r\n        else if (this.props.fromMarkScheme) {\r\n            var navigatePossible = true;\r\n            var responseNavigationFailureReasons = markingHelper.canNavigateAwayFromCurrentResponse();\r\n            if (responseNavigationFailureReasons.length > 0) {\r\n                navigatePossible = false;\r\n                var combinedWarningMessages = combinedWarningPopupHelper.getCombinedWarningMessage(enums.SaveAndNavigate.submit, responseNavigationFailureReasons);\r\n                markingActionCreator.showResponseNavigationFailureReasons(enums.SaveAndNavigate.submit, combinedWarningMessages);\r\n            }\r\n            if (navigatePossible) {\r\n                busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.submitInResponseScreen);\r\n                markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.submit);\r\n            }\r\n        }\r\n        else {\r\n            var markGroupId = void 0;\r\n            if (this.props.isSubmitAll) {\r\n                markGroupId = 0;\r\n            }\r\n            else {\r\n                markGroupId = this.props.markGroupId;\r\n            }\r\n            submitActionCreator.submitResponseStarted(markGroupId);\r\n            /* stopping propagation because the parent li has a click event in tile view\r\n            which should not work when submit is clicked\r\n             */\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    return SubmitResponse;\r\n}(PureRenderComponent));\r\nmodule.exports = SubmitResponse;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3N1Ym1pdHJlc3BvbnNlLnRzeD84YTg2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgUmVhY3QgY29tcG9uZW50IGZvciBTdWJtaXQgcmVzcG9uc2UgaGVhZGVyXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZW5hYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBzdWJtaXRBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9zdWJtaXQvc3VibWl0YWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBidXN5SW5kaWNhdG9yQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvYnVzeWluZGljYXRvci9idXN5aW5kaWNhdG9yYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgdGFyZ2V0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS90YXJnZXQvdGFyZ2V0aGVscGVyJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgZXhhbWluZXJzdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tYXJrZXJpbmZvcm1hdGlvbi9leGFtaW5lcnN0b3JlJyk7XHJcbmltcG9ydCB3b3JrbGlzdFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3dvcmtsaXN0c3RvcmUnKTtcclxuaW1wb3J0IG1hcmtpbmdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tYXJraW5nL21hcmtpbmdzdG9yZScpO1xyXG5pbXBvcnQgbWFya1NjaGVtZVBhbmVsID0gcmVxdWlyZSgnLi4vLi4vbWFya3NjaGVtZXN0cnVjdHVyZS9tYXJrc2NoZW1lcGFuZWwnKTtcclxuaW1wb3J0IG1hcmtpbmdBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9tYXJraW5nL21hcmtpbmdhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBzdWJtaXRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3N1Ym1pdC9zdWJtaXRoZWxwZXInKTtcclxuaW1wb3J0IG1hcmtpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L21hcmtzY2hlbWUvbWFya2luZ2hlbHBlcicpO1xyXG5pbXBvcnQgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvbWVzc2FnaW5nL21lc3NhZ2luZ2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IG1lc3NhZ2VTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tZXNzYWdlL21lc3NhZ2VzdG9yZScpO1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuaW1wb3J0IGV4Y2VwdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2V4Y2VwdGlvbi9leGNlcHRpb25zdG9yZScpO1xyXG5pbXBvcnQgZXhjZXB0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvZXhjZXB0aW9uL2V4Y2VwdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGNvbWJpbmVkV2FybmluZ1BvcHVwSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9wb3B1cC9yZXNwb25zZWVycm9yZGlhbG9naGVscGVyJyk7XHJcbmltcG9ydCBlQ291cnNlV29ya0ZpbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9yZXNwb25zZS9kaWdpdGFsL2Vjb3Vyc2V3b3JrZmlsZXN0b3JlJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHN0YW5kYXJkaXNhdGlvbnNldHVwQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgU3VibWl0IGJ1dHRvblxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGlzU3VibWl0QWxsOiBib29sZWFuO1xyXG4gICAgbWFya0dyb3VwSWQ/OiBudW1iZXI7XHJcbiAgICBpc0Rpc2FibGVkPzogYm9vbGVhbjtcclxuICAgIGZyb21NYXJrU2NoZW1lPzogYm9vbGVhbjtcclxuICAgIGlzVGlsZVZpZXc/OiBib29sZWFuO1xyXG4gICAgaXNWaXNpYmxlPzogYm9vbGVhbjtcclxuICAgIGNoZWNrSXNTdWJtaXRWaXNpYmxlPzogRnVuY3Rpb247XHJcbiAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGU/OiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cDtcclxuICAgIHN0ZFJlc3BvbnNlRGV0YWlscz86IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscztcclxuICAgIHVwZGF0ZWRUb3RhbE1hcmtzPzogc3RyaW5nO1xyXG4gICAgcmVuZGVyZWRPbj86IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0YXRlIG9mIGEgU3VibWl0UmVzcG9uc2VcclxuICovXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgICByZVJlbmRlcj86IG51bWJlcjtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIHN1Ym1pdCBidXR0b25cclxuICovXHJcbmNsYXNzIFN1Ym1pdFJlc3BvbnNlIGV4dGVuZHMgUHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuXHJcbiAgICBwcml2YXRlIHNhdmVNYXJrczogTWFya3NBbmRBbm5vdGF0aW9uc01hbmFnZW1lbnRCYXNlO1xyXG4gICAgcHJpdmF0ZSBpc1Zpc2libGU6IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgU3VibWl0UmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IFN0YXRlKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICByZVJlbmRlcjogRGF0ZS5ub3coKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vblN1Ym1pdCA9IHRoaXMub25TdWJtaXQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnNob3dIaWRlTWFya0NoYW5nZVJlYXNvbiA9IHRoaXMuc2hvd0hpZGVNYXJrQ2hhbmdlUmVhc29uLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0aGlzLnByb3BzLmlzVmlzaWJsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBzaG93IG11bHRpcGxlL3NpbmdsZSByZXNwb25zZSBzdWJtaXQgYnV0dG9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaXNTdWJtaXRBbGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBpZD17J3N1Ym1pdFJlc3BvbnNlQWxsXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IHsnc3VibWl0UmVzcG9uc2VBbGxfa2V5XycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXshdGhpcy5wcm9wcy5pc0Rpc2FibGVkID8gJycgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmFjdGlvbi1idXR0b25zLnN1Ym1pdC1idXR0b24tbm90LWFwcHJvdmVkLXRvb2x0aXAnKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQgPXt0aGlzLnByb3BzLmlzRGlzYWJsZWQgPyB0cnVlIDogZmFsc2UgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0geyBjbGFzc05hbWVzKCdidXR0b24gcHJpbWFyeSByb3VuZGVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc2FibGVkIHN1Ym1pdC1hbGwtcnNwLWJ0bic6IHRoaXMucHJvcHMuaXNEaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljayA9eyB0aGlzLm9uU3VibWl0IH0+XHJcbiAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QuYWN0aW9uLWJ1dHRvbnMuc3VibWl0LWJ1dHRvbicpIH1cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJTdWJUZXh0SXRlbSgpIH1cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuZnJvbU1hcmtTY2hlbWUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzdWJtaXQtaG9sZGVyIHNob3cnPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFN1Ym1pdEJ1dHRvbigpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgKCghdGhpcy5wcm9wcy5pc1RpbGVWaWV3KSA/XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTdWJtaXRCdXR0b24oKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbCB3bC1zdGF0dXMgdGV4dC1jZW50ZXInPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtaW5uZXInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFN1Ym1pdEJ1dHRvbigpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVG8gZ2V0IHRoZSBzdWJtaXQgYnV0dG9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0U3VibWl0QnV0dG9uKCk6IGFueSB7XHJcbiAgICAgICAgbGV0IGlzZnJvbVN0YW5kYXJkaXNhdGlvblByb3ZSZXNwb25zZSA9IHRoaXMucHJvcHMuc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlO1xyXG4gICAgICAgIGxldCBjbGFzc05hbWU6IHN0cmluZyA9IGlzZnJvbVN0YW5kYXJkaXNhdGlvblByb3ZSZXNwb25zZSA/ICdwcmltYXJ5IGJ1dHRvbiByb3VuZGVkIHBvcHVwLW5hdiBzaGFyZVByb3YnXHJcbiAgICAgICAgICAgIDogJ2J1dHRvbiBwcmltYXJ5IHJvdW5kZWQgc3VibWl0LWJ1dHRvbic7XHJcbiAgICAgICAgbGV0IGlkOiBzdHJpbmcgPSBpc2Zyb21TdGFuZGFyZGlzYXRpb25Qcm92UmVzcG9uc2UgPyAnc2hhcmVQcm92UmVzcG9uc2VfJ1xyXG4gICAgICAgICAgICA6ICdzdWJtaXRTaW5nbGVSZXNwb25zZV8nO1xyXG4gICAgICAgIGxldCB0b29sVGlwOiBzdHJpbmcgPSBpc2Zyb21TdGFuZGFyZGlzYXRpb25Qcm92UmVzcG9uc2UgP1xyXG4gICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLnNoYXJlLWJ1dHRvbi10b29sdGlwJykgOiAnJztcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5mcm9tTWFya1NjaGVtZSkge1xyXG4gICAgICAgICAgICBjbGFzc05hbWUgPSAnIHN1Ym1pdC1tYXJrIHJvdW5kZWQgcHJpbWFyeSc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJyBkaXNhYmxlZCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVzdWx0ID0gPGJ1dHRvbj48L2J1dHRvbj47XHJcbiAgICAgICAgcmVzdWx0ID0gPGJ1dHRvblxyXG4gICAgICAgICAgICBpZD17aWQgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICBrZXkgPSB7J3N1Ym1pdFNpbmdsZVJlc3BvbnNlX2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgZGlzYWJsZWQgPXt0aGlzLnByb3BzLmlzRGlzYWJsZWQgPyB0cnVlIDogZmFsc2UgfVxyXG4gICAgICAgICAgICB0aXRsZT17IXRoaXMucHJvcHMuaXNEaXNhYmxlZCA/IHRvb2xUaXAgOlxyXG4gICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5hY3Rpb24tYnV0dG9ucy5zdWJtaXQtYnV0dG9uLW5vdC1hcHByb3ZlZC10b29sdGlwJyl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT0ge2NsYXNzTmFtZX1cclxuICAgICAgICAgICAgb25DbGljayA9eyB0aGlzLm9uU3VibWl0IH0gPlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBGb3IgcHJvdmlzaW9uYWwgd29ya2xpc3QgaW4gc3RhbmRhcmRpc2F0aW9uc2V0dXAsIGluc3RlYWQgb2Ygc3VibWl0IHdlIHNob3VsZCBzaG93IHNoYXJlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgaXNmcm9tU3RhbmRhcmRpc2F0aW9uUHJvdlJlc3BvbnNlID9cclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5yaWdodC1jb250YWluZXIuc2hhcmUtYnV0dG9uJykgOlxyXG4gICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnN1Ym1pdC1idXR0b24nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgPC9idXR0b24+O1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY29tcG9uZW50RGlkTW91bnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5SRUFEWV9UT19OQVZJR0FURSxcclxuICAgICAgICAgICAgdGhpcy5zdWJtaXRSZXNwb25zZUZyb21NYXJrc2NoZW1lKTtcclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuTUFSS19DSEFOR0VfUkVBU09OX1ZJU0lCSUxJVFlfVVBEQVRFRCxcclxuICAgICAgICAgICAgdGhpcy5zaG93SGlkZU1hcmtDaGFuZ2VSZWFzb24pO1xyXG4gICAgICAgIGVDb3Vyc2VXb3JrRmlsZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBlQ291cnNlV29ya0ZpbGVTdG9yZS5FQ291cnNlV29ya0ZpbGVTdG9yZS5GSUxFX1JFQURfU1RBVFVTX1VQREFURUQsXHJcbiAgICAgICAgICAgIHRoaXMuZmlsZVJlYWRTdGF0dXNVcGRhdGVkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNvbXBvbmVudFdpbGxVbm1vdW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuUkVBRFlfVE9fTkFWSUdBVEUsXHJcbiAgICAgICAgICAgIHRoaXMuc3VibWl0UmVzcG9uc2VGcm9tTWFya3NjaGVtZSk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLk1BUktfQ0hBTkdFX1JFQVNPTl9WSVNJQklMSVRZX1VQREFURUQsXHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0hpZGVNYXJrQ2hhbmdlUmVhc29uKTtcclxuICAgICAgICBlQ291cnNlV29ya0ZpbGVTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgZUNvdXJzZVdvcmtGaWxlU3RvcmUuRUNvdXJzZVdvcmtGaWxlU3RvcmUuRklMRV9SRUFEX1NUQVRVU19VUERBVEVELFxyXG4gICAgICAgICAgICB0aGlzLmZpbGVSZWFkU3RhdHVzVXBkYXRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wYXJpbmcgdGhlIHByb3BzIHRvIGNoZWNrIHRoZSB1cGRhdHMgYXJlIG1hZGUgYnkgc2VsZlxyXG4gICAgICogQHBhcmFtIHtQcm9wc30gbmV4dFByb3BzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wczogUHJvcHMpIHtcclxuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IG5leHRQcm9wcy5pc1Zpc2libGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGFuZ2UgdmlzaWJpbGl0eSBvZiBtYXJrIGNoYW5nZSByZWFzb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzaG93SGlkZU1hcmtDaGFuZ2VSZWFzb24gPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2hlY2tJc1N1Ym1pdFZpc2libGUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlUmVuZGVyOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbGUgcmVhZCBzdGF0dXMgdXBkYXRlZCBldmVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBmaWxlUmVhZFN0YXR1c1VwZGF0ZWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0aGlzLnByb3BzLmNoZWNrSXNTdWJtaXRWaXNpYmxlKCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlUmVuZGVyOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBpbmRpY2F0ZSB3aGV0aGVyIHRvIHNob3cgdGhlIHN1YiB0ZXh0IGZvciB0aGUgY2FzZSB3aGVyZSBTdWJtaXQgYnV0dG9uIGlzIGRpc2FibGVkO1xyXG4gICAgICogc2luY2UgdGhlIHN1YnRleHQgbmVlZHMgdG8gYmUgc2hvd24gb25seSBpbiBkaXNhYmxlZCBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlbmRlclN1YlRleHRJdGVtKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICg8c3BhbiBjbGFzc05hbWU9IHsgY2xhc3NOYW1lcygnJyxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAnYXdhaXRpbmctZmVlZGJhY2stbXNnIHRleHQtbWlkZGxlIHNtYWxsLXRleHQnOiB0aGlzLnByb3BzLmlzRGlzYWJsZWRcclxuICAgICAgICAgICAgICAgIH0pIH0+XHJcbiAgICAgICAgICAgICAgICB7IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QuYWN0aW9uLWJ1dHRvbnMuc3VibWl0LWJ1dHRvbi1zdXNwZW5kZWQtaW5kaWNhdG9yJykgfVxyXG4gICAgICAgICAgICA8L3NwYW4+KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbiBjbGlja2luZyBzdWJtaXRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblN1Ym1pdChlOiBhbnkpIHtcclxuICAgICAgICAvL29uIHN1Ym1pdHRpbmcgc2ltdWxhdGlvbiByZXNwb25zZSwgc2hvdyBhIGNvbmZpcm1hdGlvbiBwb3B1cCBiZWZvcmUgc3VibWl0XHJcbiAgICAgICAgaWYgKCFhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IuY2hlY2tBY3Rpb25JbnRlcnJ1cHRlZCgpKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIC8vQWN0aW9uQ3JlYXRvciBmb3Igc2hvd2luZyBTaGFyZSBSZXNwb25zZSBQb3B1cFxyXG4gICAgICAgICAgICBsZXQgbmF2aWdhdGVQb3NzaWJsZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmZyb21NYXJrU2NoZW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnN0ZFJlc3BvbnNlRGV0YWlscy50b3RhbE1hcmtWYWx1ZSA9IE51bWJlcih0aGlzLnByb3BzLnVwZGF0ZWRUb3RhbE1hcmtzKTtcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZU5hdmlnYXRpb25GYWlsdXJlUmVhc29uczogQXJyYXk8ZW51bXMuUmVzcG9uc2VOYXZpZ2F0ZUZhaWx1cmVSZWFzb24+ID1cclxuICAgICAgICAgICAgICAgICAgICBtYXJraW5nSGVscGVyLmNhbk5hdmlnYXRlQXdheUZyb21DdXJyZW50UmVzcG9uc2UoKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZU5hdmlnYXRpb25GYWlsdXJlUmVhc29ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVQb3NzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21iaW5lZFdhcm5pbmdNZXNzYWdlcyA9IGNvbWJpbmVkV2FybmluZ1BvcHVwSGVscGVyLmdldENvbWJpbmVkV2FybmluZ01lc3NhZ2UoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnN1Ym1pdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VOYXZpZ2F0aW9uRmFpbHVyZVJlYXNvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdBY3Rpb25DcmVhdG9yLnNob3dSZXNwb25zZU5hdmlnYXRpb25GYWlsdXJlUmVhc29ucyhlbnVtcy5TYXZlQW5kTmF2aWdhdGUuc3VibWl0LCBjb21iaW5lZFdhcm5pbmdNZXNzYWdlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5hdmlnYXRlUG9zc2libGUpIHtcclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvbnNldHVwQWN0aW9uQ3JlYXRvci5kaXNwbGF5U2hhcmVSZXNwb25zZVBvcHVwKHRoaXMucHJvcHMuc3RkUmVzcG9uc2VEZXRhaWxzLCB0aGlzLnByb3BzLmZyb21NYXJrU2NoZW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnNpbXVsYXRpb24pIHtcclxuICAgICAgICAgICAgbWFya2luZ0FjdGlvbkNyZWF0b3Iuc2hvd1NpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvblBvcHVwKHRoaXMucHJvcHMubWFya0dyb3VwSWQsIHRoaXMucHJvcHMuZnJvbU1hcmtTY2hlbWUpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucHJvcHMuZnJvbU1hcmtTY2hlbWUpIHtcclxuICAgICAgICAgICAgICAgIC8qIHN0b3BwaW5nIHByb3BhZ2F0aW9uIGJlY2F1c2UgdGhlIHBhcmVudCBsaSBoYXMgYSBjbGljayBldmVudCBpbiB0aWxlIHZpZXdcclxuICAgICAgICAgICAgICAgIHdoaWNoIHNob3VsZCBub3Qgd29yayB3aGVuIHN1Ym1pdCBpcyBjbGlja2VkXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuZnJvbU1hcmtTY2hlbWUpIHtcclxuICAgICAgICAgICAgbGV0IG5hdmlnYXRlUG9zc2libGU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VOYXZpZ2F0aW9uRmFpbHVyZVJlYXNvbnM6IEFycmF5PGVudW1zLlJlc3BvbnNlTmF2aWdhdGVGYWlsdXJlUmVhc29uPiA9XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nSGVscGVyLmNhbk5hdmlnYXRlQXdheUZyb21DdXJyZW50UmVzcG9uc2UoKTtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlTmF2aWdhdGlvbkZhaWx1cmVSZWFzb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRlUG9zc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxldCBjb21iaW5lZFdhcm5pbmdNZXNzYWdlcyA9IGNvbWJpbmVkV2FybmluZ1BvcHVwSGVscGVyLmdldENvbWJpbmVkV2FybmluZ01lc3NhZ2UoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnN1Ym1pdCxcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU5hdmlnYXRpb25GYWlsdXJlUmVhc29ucyk7XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nQWN0aW9uQ3JlYXRvci5zaG93UmVzcG9uc2VOYXZpZ2F0aW9uRmFpbHVyZVJlYXNvbnMoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnN1Ym1pdCwgY29tYmluZWRXYXJuaW5nTWVzc2FnZXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobmF2aWdhdGVQb3NzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckFjdGlvbkNyZWF0b3Iuc2V0QnVzeUluZGljYXRvckludm9rZXIoZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuc3VibWl0SW5SZXNwb25zZVNjcmVlbik7XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nQWN0aW9uQ3JlYXRvci5zYXZlQW5kTmF2aWdhdGUoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnN1Ym1pdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgbWFya0dyb3VwSWQ6IG51bWJlcjtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuaXNTdWJtaXRBbGwpIHtcclxuICAgICAgICAgICAgICAgIG1hcmtHcm91cElkID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hcmtHcm91cElkID0gdGhpcy5wcm9wcy5tYXJrR3JvdXBJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdWJtaXRBY3Rpb25DcmVhdG9yLnN1Ym1pdFJlc3BvbnNlU3RhcnRlZChtYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgICAgIC8qIHN0b3BwaW5nIHByb3BhZ2F0aW9uIGJlY2F1c2UgdGhlIHBhcmVudCBsaSBoYXMgYSBjbGljayBldmVudCBpbiB0aWxlIHZpZXdcclxuICAgICAgICAgICAgd2hpY2ggc2hvdWxkIG5vdCB3b3JrIHdoZW4gc3VibWl0IGlzIGNsaWNrZWRcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3VibWl0UmVzcG9uc2VGcm9tTWFya3NjaGVtZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAobWFya2luZ1N0b3JlLmluc3RhbmNlLm5hdmlnYXRlVG8gPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5zdWJtaXQpIHtcclxuICAgICAgICAgICAgYnVzeUluZGljYXRvckFjdGlvbkNyZWF0b3Iuc2V0QnVzeUluZGljYXRvckludm9rZXIoZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuc3VibWl0SW5SZXNwb25zZVNjcmVlbik7XHJcbiAgICAgICAgICAgIHN1Ym1pdEhlbHBlci5zYXZlQW5kU3VibWl0UmVzcG9uc2UodGhpcy5wcm9wcy5tYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5leHBvcnQgPSBTdWJtaXRSZXNwb25zZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3N1Ym1pdHJlc3BvbnNlLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQTJCQTs7QUFFQTtBQUNBO0FBQUE7QUFLQTs7OztBQUlBO0FBQ0E7QUFBQTtBQW9JQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN09BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFzQkE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 373:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/worklist/worklistcomponenthelper.ts ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar worklistValidatorFactory = __webpack_require__(/*! ../../utility/worklistvalidators/worklistvalidatorfactory */ 319);\r\nvar worklistValidatorList = __webpack_require__(/*! ../../utility/worklistvalidators/worklistvalidatorlist */ 304);\r\nvar submitStore = __webpack_require__(/*! ../../stores/submit/submitstore */ 293);\r\nvar customError = __webpack_require__(/*! ../base/customerror */ 398);\r\nvar targetHelper = __webpack_require__(/*! ../../utility/target/targethelper */ 300);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar teamManagementStore = __webpack_require__(/*! ../../stores/teammanagement/teammanagementstore */ 245);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\n/**\r\n * Helper class for worklist\r\n */\r\nvar WorklistComponentHelper = /** @class */ (function () {\r\n    function WorklistComponentHelper() {\r\n    }\r\n    /**\r\n     * Method which returns array of mark group ids to submit\r\n     */\r\n    WorklistComponentHelper.createMarkgroupIdCollectionForLiveSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        var relatedMarkGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            /* looping through each response to determine whether the same is eligible for submit */\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.liveOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    if (response.isWholeResponse) {\r\n                        relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(response.markGroupId));\r\n                    }\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if (worklistData &&\r\n                worklistData.responses.count() > 0 &&\r\n                worklistData.responses.filter(function (x) { return x.markGroupId === singleResponseMarkGroupId; }).first().isWholeResponse) {\r\n                relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(singleResponseMarkGroupId));\r\n            }\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        if (relatedMarkGroupIds.length > 0) {\r\n            markGroupIds = markGroupIds.concat(relatedMarkGroupIds);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Raturns the markgroup ids of practice response to submit.\r\n     * @param {PracticeOpenWorklist} worklistData\r\n     * @param {number} singleResponseMarkGroupId\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.createMarkGroupIdCollectionForPracticeSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.practiceOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Raturns the markgroup ids of standardization response to submit.\r\n     * @param {StandardisationOpenWorklist} worklistData\r\n     * @param {number} singleResponseMarkGroupId\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.createMarkGroupIdCollectionForStandardizationSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.standardisationOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Raturns the markgroup ids of directed remark response to submit.\r\n     * @param {StandardisationOpenWorklist} worklistData\r\n     * @param {number} singleResponseMarkGroupId\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.createMarkGroupIdCollectionForDirectedRemarkSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        var relatedMarkGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            /* looping through each response to determine whether the same is eligible for submit */\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.directedRemarkOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    if (response.isWholeResponse) {\r\n                        // grouping related mark-group id's for the whole response.\r\n                        relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(response.markGroupId));\r\n                    }\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if (worklistData &&\r\n                worklistData.responses.count() > 0 &&\r\n                worklistData.responses.filter(function (x) { return x.markGroupId === singleResponseMarkGroupId; }).first().isWholeResponse) {\r\n                // grouping related mark-group id's for the whole response.\r\n                relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(singleResponseMarkGroupId));\r\n            }\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        if (relatedMarkGroupIds.length > 0) {\r\n            markGroupIds = markGroupIds.concat(relatedMarkGroupIds);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Raturns the markgroup ids of pooled remark response to submit.\r\n     * @param {PooledRemarkOpenWorklist} worklistData\r\n     * @param {number} singleResponseMarkGroupId\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.createMarkGroupIdCollectionForPooledRemarkSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        var relatedMarkGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            /* looping through each response to determine whether the same is eligible for submit */\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.directedRemarkOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    // grouping related mark-group id's for the whole response.\r\n                    if (response.isWholeResponse) {\r\n                        relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(response.markGroupId));\r\n                    }\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if (worklistData &&\r\n                worklistData.responses.count() > 0 &&\r\n                worklistData.responses.filter(function (x) { return x.markGroupId === singleResponseMarkGroupId; }).first().isWholeResponse) {\r\n                // grouping related mark-group id's for the whole response.\r\n                relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(singleResponseMarkGroupId));\r\n            }\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        if (relatedMarkGroupIds.length > 0) {\r\n            markGroupIds = markGroupIds.concat(relatedMarkGroupIds);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Method which returns array of mark group ids to submit simulation response/s\r\n     */\r\n    WorklistComponentHelper.createMarkgroupIdCollectionForSimulationSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            /* looping through each response to determine whether the same is eligible for submit */\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.simulationOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Method which returns array of mark group ids to submit\r\n     * @param worklistData\r\n     * @param singleResponseMarkGroupId\r\n     */\r\n    WorklistComponentHelper.createMarkgroupIdCollectionForAtypicalSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        /* Collection of Mark Group Ids of realted RIGs in other QIGs */\r\n        var relatedMarkGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            /* looping through each response to determine whether the same is eligible for submit */\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.atypicalOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(response.markGroupId));\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(singleResponseMarkGroupId));\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        if (relatedMarkGroupIds.length > 0) {\r\n            markGroupIds = markGroupIds.concat(relatedMarkGroupIds);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Get the error message key to show when submit response fails\r\n     */\r\n    WorklistComponentHelper.showMessageOnSubmitResponse = function (submittedResponseCount) {\r\n        var messageKey = '';\r\n        var messageHeaderKey = undefined;\r\n        if (submitStore.instance.getErrorCode > 0) {\r\n            var isInStandardisationworklist = worklistStore.instance.currentWorklistType === enums.WorklistType.practice ||\r\n                worklistStore.instance.currentWorklistType === enums.WorklistType.standardisation ||\r\n                worklistStore.instance.currentWorklistType === enums.WorklistType.secondstandardisation;\r\n            // If standardisation worklist, then no need to check the not approved status\r\n            if (submitStore.instance.getSubmitResponseReturn.examinerApprovalStatus === enums.ExaminerApproval.Suspended) {\r\n                if (submitStore.instance.getSubmitResponseReturn.hasQualityFeedbackOutstanding) {\r\n                    messageKey = 'marking.worklist.approval-status-changed-dialog.body-quality-feedback';\r\n                }\r\n                else {\r\n                    messageKey = 'marking.worklist.approval-status-changed-dialog.body';\r\n                }\r\n                messageHeaderKey = submittedResponseCount === 0 ?\r\n                    'marking.worklist.response-submission-error-dialog.header' : 'marking.worklist.approval-status-changed-dialog.header';\r\n            }\r\n            else if (submitStore.instance.getSubmitResponseReturn.examinerApprovalStatus === enums.ExaminerApproval.NotApproved &&\r\n                !isInStandardisationworklist &&\r\n                worklistStore.instance.currentWorklistType !== enums.WorklistType.simulation) {\r\n                messageKey = 'marking.worklist.approval-status-changed-dialog.body';\r\n                messageHeaderKey = submittedResponseCount === 0 ?\r\n                    'marking.worklist.response-submission-error-dialog.header' : 'marking.worklist.approval-status-changed-dialog.header';\r\n            }\r\n            else {\r\n                switch (submitStore.instance.getErrorCode) {\r\n                    case enums.SubmitResponseErrorCode.responseNotFullyMarked:\r\n                    case enums.SubmitResponseErrorCode.responseHasExceptions:\r\n                    case enums.SubmitResponseErrorCode.allSLAOsNotAnnotated:\r\n                    case enums.SubmitResponseErrorCode.allPagesNotAnnotated:\r\n                    case enums.SubmitResponseErrorCode.onHold:\r\n                    case enums.SubmitResponseErrorCode.mandateMarkschemeNotCommented:\r\n                    case enums.SubmitResponseErrorCode.notAllFilesViewed:\r\n                    case enums.SubmitResponseErrorCode.hasZoningException:\r\n                        messageHeaderKey = submitStore.instance.getMarkGroupId > 0 ?\r\n                            'marking.worklist.submit-response-dialog.header' :\r\n                            'marking.worklist.submit-all-responses-dialog.header';\r\n                        messageKey = submitStore.instance.getMarkGroupId > 0 ?\r\n                            'marking.worklist.response-submission-error-dialog.body-single-response-not-submitted' :\r\n                            'marking.worklist.response-submission-error-dialog.body-some-responses-not-submitted';\r\n                        break;\r\n                    case enums.SubmitResponseErrorCode.responseAlreadySubmitted:\r\n                        if (submitStore.instance.getMarkGroupId > 0) {\r\n                            messageHeaderKey = 'marking.worklist.submit-response-dialog.header';\r\n                            messageKey = 'marking.worklist.response-submission-error-dialog.body-single-response-already-submitted';\r\n                        }\r\n                        else {\r\n                            messageHeaderKey = 'marking.worklist.submit-all-responses-dialog.header';\r\n                            messageKey = 'marking.worklist.response-submission-error-dialog.body-some-responses-already-submitted';\r\n                        }\r\n                        break;\r\n                    case enums.SubmitResponseErrorCode.examinerNotApproved:\r\n                        messageKey = 'marking.worklist.approval-status-changed-dialog.body-relatedQIG';\r\n                        messageHeaderKey = submittedResponseCount === 0 ?\r\n                            'marking.worklist.response-submission-error-dialog.header' :\r\n                            'marking.worklist.approval-status-changed-dialog.header';\r\n                        break;\r\n                    case enums.SubmitResponseErrorCode.examinerSuspended:\r\n                        if (submitStore.instance.getSubmitResponseReturn.hasQualityFeedbackOutstanding) {\r\n                            messageKey = 'marking.worklist.approval-status-changed-dialog.body-quality-feedback';\r\n                        }\r\n                        else {\r\n                            messageKey = 'marking.worklist.approval-status-changed-dialog.body';\r\n                        }\r\n                        messageHeaderKey = submittedResponseCount === 0 ?\r\n                            'marking.worklist.response-submission-error-dialog.header' :\r\n                            'marking.worklist.approval-status-changed-dialog.header';\r\n                        break;\r\n                    case enums.SubmitResponseErrorCode.examinerWithdrawn:\r\n                        //This code added for whole response case and the examinerApprovalStatus contains only current qigs status, \r\n                        //but SubmitResponseErrorCode contains status against any qig etc.\r\n                        messageKey = 'marking.worklist.approval-status-changed-dialog.body-withdrawn';\r\n                        messageHeaderKey = submittedResponseCount === 0 ?\r\n                            'marking.worklist.response-submission-error-dialog.header' :\r\n                            'marking.worklist.approval-status-changed-dialog.header';\r\n                        break;\r\n                    default:\r\n                        messageKey = '';\r\n                }\r\n            }\r\n        }\r\n        if (messageKey !== '' && submittedResponseCount === 0) {\r\n            /** Creating custom error message to show */\r\n            var submitErrorMessage = {\r\n                messageHeader: messageHeaderKey,\r\n                messageContent: messageKey\r\n            };\r\n            return submitErrorMessage;\r\n        }\r\n        else if (messageKey !== '') {\r\n            /** Creating custom error message to show */\r\n            var submitResponseError = new customError('Submit', messageKey, messageHeaderKey, false);\r\n            window.onerror('', '', null, null, submitResponseError);\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Sets the auto approval Secondary content\r\n     * @param submittedResponseCount\r\n     */\r\n    WorklistComponentHelper.getAutoApprovalSecondaryContent = function (submittedResponseCount) {\r\n        var deleteResponseOnAutoApproval = targetHelper.isResponsesDeletedOnAutoApproval(submittedResponseCount);\r\n        return ((targetHelper.currentMarkingMode === enums.MarkingMode.ES_TeamApproval\r\n            && qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember === false) ?\r\n            ((deleteResponseOnAutoApproval === false) ?\r\n                'marking.worklist.auto-approved-dialog.body-standardisation'\r\n                : 'marking.worklist.auto-approved-dialog.body-excess-second-standardisation-responses-removed')\r\n            : ((targetHelper.currentMarkingMode === enums.MarkingMode.Approval\r\n                && qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember === false) ?\r\n                ((deleteResponseOnAutoApproval === false) ?\r\n                    'marking.worklist.auto-approved-dialog.body-standardisation'\r\n                    : 'marking.worklist.auto-approved-dialog.body-excess-standardisation-responses-removed')\r\n                : ((deleteResponseOnAutoApproval === false) ?\r\n                    'marking.worklist.auto-approved-dialog.body-stm-standardisation'\r\n                    : 'marking.worklist.auto-approved-dialog.body-excess-stm-standardisation-responses-removed')));\r\n    };\r\n    /**\r\n     * Returns the markgroup id collection for response submission\r\n     * @param {enums.MarkingMode} markingMode\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.getMarkgroupIdCollectionForSubmit = function (markingMode) {\r\n        switch (markingMode) {\r\n            case enums.MarkingMode.LiveMarking:\r\n                if (worklistStore.instance.currentWorklistType !== enums.WorklistType.atypical) {\r\n                    return WorklistComponentHelper.createMarkgroupIdCollectionForLiveSubmit(worklistStore.instance.getLiveOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n                }\r\n                return WorklistComponentHelper.createMarkgroupIdCollectionForAtypicalSubmit(worklistStore.instance.getAtypicalOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n            case enums.MarkingMode.Practice:\r\n                return WorklistComponentHelper.createMarkGroupIdCollectionForPracticeSubmit(worklistStore.instance.getPracticeOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n            case enums.MarkingMode.Approval:\r\n                return WorklistComponentHelper.createMarkGroupIdCollectionForStandardizationSubmit(worklistStore.instance.getStandardisationOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n            case enums.MarkingMode.ES_TeamApproval:\r\n                return WorklistComponentHelper.createMarkGroupIdCollectionForStandardizationSubmit(worklistStore.instance.getSecondStandardisationOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n            case enums.MarkingMode.Remarking:\r\n                if (worklistStore.instance.isDirectedRemark) {\r\n                    return WorklistComponentHelper.createMarkGroupIdCollectionForDirectedRemarkSubmit(worklistStore.instance.getDirectedRemarkOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n                }\r\n                else {\r\n                    return WorklistComponentHelper.createMarkGroupIdCollectionForPooledRemarkSubmit(worklistStore.instance.getPooledRemarkOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n                }\r\n            case enums.MarkingMode.Simulation:\r\n                return WorklistComponentHelper.createMarkgroupIdCollectionForSimulationSubmit(worklistStore.instance.getSimulationOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n        }\r\n    };\r\n    /**\r\n     * Get remark request type\r\n     * @param worklistType\r\n     */\r\n    WorklistComponentHelper.getRemarkRequestType = function (worklistType) {\r\n        return worklistType === enums.WorklistType.directedRemark || worklistType === enums.WorklistType.pooledRemark ?\r\n            worklistStore.instance.getRemarkRequestType : enums.RemarkRequestType.Unknown;\r\n    };\r\n    /**\r\n     * Get is directed remark\r\n     * @param worklistType\r\n     */\r\n    WorklistComponentHelper.getIsDirectedRemark = function (worklistType) {\r\n        return worklistType === enums.WorklistType.directedRemark || worklistType === enums.WorklistType.pooledRemark ?\r\n            worklistStore.instance.isDirectedRemark : false;\r\n    };\r\n    /**\r\n     * Method which returns whether the quality feedback related message should be shown on submitting\r\n     * seeds accurately/within tolerance\r\n     */\r\n    WorklistComponentHelper.shouldShowQualityFeedbackMessage = function () {\r\n        var _automaticQualityFeedback = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.AutomaticQualityFeedback, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        var _seedSubmissionStatus = submitStore.instance.getSubmitResponseReturn.seedSubmissionStatus;\r\n        return _automaticQualityFeedback &&\r\n            _seedSubmissionStatus === enums.SeedSubmissionStatus.SeedsSubmittedWithinToleranceOrAccurately;\r\n    };\r\n    /**\r\n     * Get the tab details that needs to be shown in the live worklist\r\n     * @param targetSummary\r\n     */\r\n    WorklistComponentHelper.getLiveWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        // Only closed tab is displaying in help examiners,\r\n        if (teamManagementStore.instance.selectedTeamManagementTab !== enums.TeamManagement.HelpExaminers) {\r\n            worklistTabDetails.push({\r\n                responseMode: enums.ResponseMode.open,\r\n                responseCount: targetSummary.examinerProgress.openResponsesCount\r\n            });\r\n            worklistTabDetails.push({\r\n                responseMode: enums.ResponseMode.pending,\r\n                responseCount: targetSummary.examinerProgress.pendingResponsesCount\r\n            });\r\n        }\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: targetSummary.examinerProgress.closedResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Get the tab details that needs to be shown in the atypical worklist\r\n     * @param targetSummary\r\n     */\r\n    WorklistComponentHelper.getAtypicalWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.open,\r\n            responseCount: (isNaN(targetSummary.examinerProgress.atypicalOpenResponsesCount)\r\n                ? 0 : targetSummary.examinerProgress.atypicalOpenResponsesCount)\r\n        });\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.pending,\r\n            responseCount: (isNaN(targetSummary.examinerProgress.atypicalPendingResponsesCount)\r\n                ? 0 : targetSummary.examinerProgress.atypicalPendingResponsesCount)\r\n        });\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: (isNaN(targetSummary.examinerProgress.atypicalClosedResponsesCount)\r\n                ? 0 : targetSummary.examinerProgress.atypicalClosedResponsesCount)\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Get the tab details that needs to be shown in the live worklist\r\n     * @param targetSummary\r\n     */\r\n    WorklistComponentHelper.getPracticeWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        if (!targetSummary.isTargetCompleted) {\r\n            worklistTabDetails.push({\r\n                responseMode: enums.ResponseMode.open,\r\n                responseCount: targetSummary.examinerProgress.openResponsesCount\r\n            });\r\n        }\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: targetSummary.examinerProgress.closedResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Returns StandardisationWorklist TabDetails\r\n     * @param {markingTargetSummary} targetSummary\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.getStandardisationWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        if (markerOperationModeFactory.operationMode.shouldDisplayStandardisationOpenTab(targetSummary)) {\r\n            if (targetHelper.isESTargetCompleted(enums.MarkingMode.Approval) === false) {\r\n                worklistTabDetails.push({\r\n                    responseMode: enums.ResponseMode.open,\r\n                    responseCount: targetSummary.examinerProgress.openResponsesCount\r\n                });\r\n            }\r\n        }\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: targetSummary.examinerProgress.closedResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Returns SecondStandardization TabDetails\r\n     * @param {markingTargetSummary} targetSummary\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.getSecondStandardizationTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        if (markerOperationModeFactory.operationMode.shouldDisplayStandardisationOpenTab(targetSummary)) {\r\n            if (targetHelper.isESTargetCompleted(enums.MarkingMode.ES_TeamApproval) === false) {\r\n                worklistTabDetails.push({\r\n                    responseMode: enums.ResponseMode.open,\r\n                    responseCount: targetSummary.examinerProgress.openResponsesCount\r\n                });\r\n            }\r\n        }\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: targetSummary.examinerProgress.closedResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Get the tab details that needs to be shown in the remark worklist\r\n     * @param targetSummary\r\n     */\r\n    WorklistComponentHelper.getRemarkWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.open,\r\n            responseCount: targetSummary.examinerProgress.openResponsesCount\r\n        });\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.pending,\r\n            responseCount: targetSummary.examinerProgress.pendingResponsesCount\r\n        });\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: targetSummary.examinerProgress.closedResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Returns the worklist tab details\r\n     * @param {enums.MarkingMode} markingMode\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.getWorklistTabDetails = function (markingMode, isTargetRefresh) {\r\n        if (isTargetRefresh === void 0) { isTargetRefresh = false; }\r\n        var worklistTabDetails = [];\r\n        var markingTargetsSummary;\r\n        /** Getting  markingTargetsSummary from worklist store,\r\n         * it will be updated if the worklist response collection changes\r\n         */\r\n        if (isTargetRefresh) {\r\n            /** If calling from refreshTargetProgress in worklist, will return summary data from targetSummaryStore */\r\n            markingTargetsSummary = targetHelper.getExaminerMarkingTargetProgress;\r\n        }\r\n        else {\r\n            /** If calling from markingmodechanged in worklist, will return summary data from workliststore\r\n             * worklist target summary collection is updated based on resposecount in the worklist\r\n             */\r\n            markingTargetsSummary = worklistStore.instance.getExaminerMarkingTargetProgress(markerOperationModeFactory.operationMode.isSelectedExaminerSTM);\r\n        }\r\n        switch (markingMode) {\r\n            case enums.MarkingMode.LiveMarking:\r\n                if (worklistStore.instance.currentWorklistType === enums.WorklistType.atypical) {\r\n                    worklistTabDetails = this.getAtypicalWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.LiveMarking; }).first());\r\n                }\r\n                else {\r\n                    worklistTabDetails = this.getLiveWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.LiveMarking; }).first());\r\n                }\r\n                break;\r\n            case enums.MarkingMode.Practice:\r\n                worklistTabDetails = this.getPracticeWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.Practice; }).first());\r\n                break;\r\n            case enums.MarkingMode.Approval:\r\n                worklistTabDetails = this.getStandardisationWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.Approval; }).first());\r\n                break;\r\n            case enums.MarkingMode.ES_TeamApproval:\r\n                worklistTabDetails = this.getSecondStandardizationTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.ES_TeamApproval; }).first());\r\n                break;\r\n            case enums.MarkingMode.Remarking:\r\n                worklistTabDetails = this.getRemarkWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.Remarking\r\n                    && x.remarkRequestTypeID === worklistStore.instance.getRemarkRequestType; }).first());\r\n                break;\r\n            case enums.MarkingMode.Simulation:\r\n                worklistTabDetails = this.getSimulationWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.Simulation; }).first());\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Get the tab details that needs to be shown in the simulation worklist\r\n     * @param targetSummary\r\n     */\r\n    WorklistComponentHelper.getSimulationWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.open,\r\n            responseCount: targetSummary.examinerProgress.openResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    return WorklistComponentHelper;\r\n}());\r\nmodule.exports = WorklistComponentHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzczLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvd29ya2xpc3Rjb21wb25lbnRoZWxwZXIudHM/MjIxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCB3b3JrbGlzdFZhbGlkYXRvckZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy93b3JrbGlzdHZhbGlkYXRvcmZhY3RvcnknKTtcclxuaW1wb3J0IHdvcmtsaXN0VmFsaWRhdG9yTGlzdCA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9ybGlzdCcpO1xyXG5pbXBvcnQgc3VibWl0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvc3VibWl0L3N1Ym1pdHN0b3JlJyk7XHJcbmltcG9ydCBjdXN0b21FcnJvciA9IHJlcXVpcmUoJy4uL2Jhc2UvY3VzdG9tZXJyb3InKTtcclxuaW1wb3J0IG1hcmtpbmdUYXJnZXRTdW1tYXJ5ID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3R5cGluZ3MvbWFya2luZ3RhcmdldHN1bW1hcnknKTtcclxuaW1wb3J0IHRhcmdldFN1bW1hcnlTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy93b3JrbGlzdC90YXJnZXRzdW1tYXJ5c3RvcmUnKTtcclxuaW1wb3J0IHRhcmdldEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvdGFyZ2V0L3RhcmdldGhlbHBlcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudHN0b3JlJyk7XHJcbmltcG9ydCBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeSA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvbWFya2Vyb3BlcmF0aW9ubW9kZS9tYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeScpO1xyXG5cclxuLyoqXHJcbiAqIEhlbHBlciBjbGFzcyBmb3Igd29ya2xpc3RcclxuICovXHJcbmNsYXNzIFdvcmtsaXN0Q29tcG9uZW50SGVscGVyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB3aGljaCByZXR1cm5zIGFycmF5IG9mIG1hcmsgZ3JvdXAgaWRzIHRvIHN1Ym1pdFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZU1hcmtncm91cElkQ29sbGVjdGlvbkZvckxpdmVTdWJtaXQod29ya2xpc3REYXRhOiBMaXZlT3BlbldvcmtsaXN0LFxyXG4gICAgICAgIHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWQ6IG51bWJlcik6IEFycmF5PE51bWJlcj4ge1xyXG4gICAgICAgIGxldCBtYXJrR3JvdXBJZHM6IEFycmF5PE51bWJlcj4gPSBuZXcgQXJyYXk8TnVtYmVyPigpO1xyXG4gICAgICAgIGxldCByZWxhdGVkTWFya0dyb3VwSWRzOiBBcnJheTxOdW1iZXI+ID0gbmV3IEFycmF5PE51bWJlcj4oKTtcclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPT09IDApIHtcclxuICAgICAgICAgICAgLyogbG9vcGluZyB0aHJvdWdoIGVhY2ggcmVzcG9uc2UgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHNhbWUgaXMgZWxpZ2libGUgZm9yIHN1Ym1pdCAqL1xyXG4gICAgICAgICAgICB3b3JrbGlzdERhdGEucmVzcG9uc2VzLm1hcChmdW5jdGlvbiAocmVzcG9uc2U6IExpdmVPcGVuUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeS5nZXRWYWxpZGF0b3Iod29ya2xpc3RWYWxpZGF0b3JMaXN0LmxpdmVPcGVuKS5zdWJtaXRCdXR0b25WYWxpZGF0ZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmlzV2hvbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkTWFya0dyb3VwSWRzID0gcmVsYXRlZE1hcmtHcm91cElkcy5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbGF0ZWRNYXJrR3JvdXBJZHNGb3JXaG9sZVJlc3BvbnNlKHJlc3BvbnNlLm1hcmtHcm91cElkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtHcm91cElkcy5wdXNoKHJlc3BvbnNlLm1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHdvcmtsaXN0RGF0YSAmJlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5jb3VudCgpID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5maWx0ZXIoeCA9PiB4Lm1hcmtHcm91cElkID09PSBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKS5maXJzdCgpLmlzV2hvbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgcmVsYXRlZE1hcmtHcm91cElkcyA9IHJlbGF0ZWRNYXJrR3JvdXBJZHMuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVsYXRlZE1hcmtHcm91cElkc0Zvcldob2xlUmVzcG9uc2Uoc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hcmtHcm91cElkcy5wdXNoKHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlbGF0ZWRNYXJrR3JvdXBJZHMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgbWFya0dyb3VwSWRzID0gbWFya0dyb3VwSWRzLmNvbmNhdChyZWxhdGVkTWFya0dyb3VwSWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBtYXJrR3JvdXBJZHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSYXR1cm5zIHRoZSBtYXJrZ3JvdXAgaWRzIG9mIHByYWN0aWNlIHJlc3BvbnNlIHRvIHN1Ym1pdC5cclxuICAgICAqIEBwYXJhbSB7UHJhY3RpY2VPcGVuV29ya2xpc3R9IHdvcmtsaXN0RGF0YVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlTWFya0dyb3VwSWRDb2xsZWN0aW9uRm9yUHJhY3RpY2VTdWJtaXQod29ya2xpc3REYXRhOiBQcmFjdGljZU9wZW5Xb3JrbGlzdCxcclxuICAgICAgICBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkOiBudW1iZXIpOiBBcnJheTxOdW1iZXI+IHtcclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRzOiBBcnJheTxOdW1iZXI+ID0gbmV3IEFycmF5PE51bWJlcj4oKTtcclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPT09IDApIHtcclxuICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5tYXAoZnVuY3Rpb24gKHJlc3BvbnNlOiBQcmFjdGljZU9wZW5SZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RWYWxpZGF0b3JGYWN0b3J5LmdldFZhbGlkYXRvcih3b3JrbGlzdFZhbGlkYXRvckxpc3QucHJhY3RpY2VPcGVuKS5zdWJtaXRCdXR0b25WYWxpZGF0ZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya0dyb3VwSWRzLnB1c2gocmVzcG9uc2UubWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZHMucHVzaChzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hcmtHcm91cElkcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJhdHVybnMgdGhlIG1hcmtncm91cCBpZHMgb2Ygc3RhbmRhcmRpemF0aW9uIHJlc3BvbnNlIHRvIHN1Ym1pdC5cclxuICAgICAqIEBwYXJhbSB7U3RhbmRhcmRpc2F0aW9uT3BlbldvcmtsaXN0fSB3b3JrbGlzdERhdGFcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZU1hcmtHcm91cElkQ29sbGVjdGlvbkZvclN0YW5kYXJkaXphdGlvblN1Ym1pdCh3b3JrbGlzdERhdGE6IFN0YW5kYXJkaXNhdGlvbk9wZW5Xb3JrbGlzdCxcclxuICAgICAgICBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkOiBudW1iZXIpOiBBcnJheTxOdW1iZXI+IHtcclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRzOiBBcnJheTxOdW1iZXI+ID0gbmV3IEFycmF5PE51bWJlcj4oKTtcclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPT09IDApIHtcclxuICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5tYXAoZnVuY3Rpb24gKHJlc3BvbnNlOiBTdGFuZGFyZGlzYXRpb25PcGVuUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeS5nZXRWYWxpZGF0b3Iod29ya2xpc3RWYWxpZGF0b3JMaXN0LnN0YW5kYXJkaXNhdGlvbk9wZW4pLnN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZHMucHVzaChyZXNwb25zZS5tYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcmtHcm91cElkcy5wdXNoKHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWFya0dyb3VwSWRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmF0dXJucyB0aGUgbWFya2dyb3VwIGlkcyBvZiBkaXJlY3RlZCByZW1hcmsgcmVzcG9uc2UgdG8gc3VibWl0LlxyXG4gICAgICogQHBhcmFtIHtTdGFuZGFyZGlzYXRpb25PcGVuV29ya2xpc3R9IHdvcmtsaXN0RGF0YVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlTWFya0dyb3VwSWRDb2xsZWN0aW9uRm9yRGlyZWN0ZWRSZW1hcmtTdWJtaXQod29ya2xpc3REYXRhOiBEaXJlY3RlZFJlbWFya09wZW5Xb3JrbGlzdCxcclxuICAgICAgICBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkOiBudW1iZXIpOiBBcnJheTxOdW1iZXI+IHtcclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRzOiBBcnJheTxOdW1iZXI+ID0gbmV3IEFycmF5PE51bWJlcj4oKTtcclxuICAgICAgICBsZXQgcmVsYXRlZE1hcmtHcm91cElkczogQXJyYXk8TnVtYmVyPiA9IG5ldyBBcnJheTxOdW1iZXI+KCk7XHJcbiAgICAgICAgaWYgKHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldE1hcmtHcm91cElkID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgIC8qIGxvb3BpbmcgdGhyb3VnaCBlYWNoIHJlc3BvbnNlIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBzYW1lIGlzIGVsaWdpYmxlIGZvciBzdWJtaXQgKi9cclxuICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5tYXAoZnVuY3Rpb24gKHJlc3BvbnNlOiBEaXJlY3RlZFJlbWFya09wZW5SZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RWYWxpZGF0b3JGYWN0b3J5LmdldFZhbGlkYXRvcih3b3JrbGlzdFZhbGlkYXRvckxpc3QuZGlyZWN0ZWRSZW1hcmtPcGVuKS5zdWJtaXRCdXR0b25WYWxpZGF0ZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmlzV2hvbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBncm91cGluZyByZWxhdGVkIG1hcmstZ3JvdXAgaWQncyBmb3IgdGhlIHdob2xlIHJlc3BvbnNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkTWFya0dyb3VwSWRzID0gcmVsYXRlZE1hcmtHcm91cElkcy5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbGF0ZWRNYXJrR3JvdXBJZHNGb3JXaG9sZVJlc3BvbnNlKHJlc3BvbnNlLm1hcmtHcm91cElkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtHcm91cElkcy5wdXNoKHJlc3BvbnNlLm1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHdvcmtsaXN0RGF0YSAmJlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5jb3VudCgpID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5maWx0ZXIoeCA9PiB4Lm1hcmtHcm91cElkID09PSBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKS5maXJzdCgpLmlzV2hvbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZ3JvdXBpbmcgcmVsYXRlZCBtYXJrLWdyb3VwIGlkJ3MgZm9yIHRoZSB3aG9sZSByZXNwb25zZS5cclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRNYXJrR3JvdXBJZHMgPSByZWxhdGVkTWFya0dyb3VwSWRzLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbGF0ZWRNYXJrR3JvdXBJZHNGb3JXaG9sZVJlc3BvbnNlKHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZHMucHVzaChzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlbGF0ZWRNYXJrR3JvdXBJZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZHMgPSBtYXJrR3JvdXBJZHMuY29uY2F0KHJlbGF0ZWRNYXJrR3JvdXBJZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1hcmtHcm91cElkcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJhdHVybnMgdGhlIG1hcmtncm91cCBpZHMgb2YgcG9vbGVkIHJlbWFyayByZXNwb25zZSB0byBzdWJtaXQuXHJcbiAgICAgKiBAcGFyYW0ge1Bvb2xlZFJlbWFya09wZW5Xb3JrbGlzdH0gd29ya2xpc3REYXRhXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVNYXJrR3JvdXBJZENvbGxlY3Rpb25Gb3JQb29sZWRSZW1hcmtTdWJtaXQod29ya2xpc3REYXRhOiBQb29sZWRSZW1hcmtPcGVuV29ya2xpc3QsXHJcbiAgICAgICAgc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZDogbnVtYmVyKTogQXJyYXk8TnVtYmVyPiB7XHJcbiAgICAgICAgbGV0IG1hcmtHcm91cElkczogQXJyYXk8TnVtYmVyPiA9IG5ldyBBcnJheTxOdW1iZXI+KCk7XHJcbiAgICAgICAgbGV0IHJlbGF0ZWRNYXJrR3JvdXBJZHM6IEFycmF5PE51bWJlcj4gPSBuZXcgQXJyYXk8TnVtYmVyPigpO1xyXG4gICAgICAgIGlmIChzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvKiBsb29waW5nIHRocm91Z2ggZWFjaCByZXNwb25zZSB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgc2FtZSBpcyBlbGlnaWJsZSBmb3Igc3VibWl0ICovXHJcbiAgICAgICAgICAgIHdvcmtsaXN0RGF0YS5yZXNwb25zZXMubWFwKGZ1bmN0aW9uIChyZXNwb25zZTogUG9vbGVkUmVtYXJrT3BlblJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFZhbGlkYXRvckZhY3RvcnkuZ2V0VmFsaWRhdG9yKHdvcmtsaXN0VmFsaWRhdG9yTGlzdC5kaXJlY3RlZFJlbWFya09wZW4pLnN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBncm91cGluZyByZWxhdGVkIG1hcmstZ3JvdXAgaWQncyBmb3IgdGhlIHdob2xlIHJlc3BvbnNlLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pc1dob2xlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZE1hcmtHcm91cElkcyA9IHJlbGF0ZWRNYXJrR3JvdXBJZHMuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZWxhdGVkTWFya0dyb3VwSWRzRm9yV2hvbGVSZXNwb25zZShyZXNwb25zZS5tYXJrR3JvdXBJZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZHMucHVzaChyZXNwb25zZS5tYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh3b3JrbGlzdERhdGEgJiZcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0RGF0YS5yZXNwb25zZXMuY291bnQoKSA+IDAgJiZcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0RGF0YS5yZXNwb25zZXMuZmlsdGVyKHggPT4geC5tYXJrR3JvdXBJZCA9PT0gc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZCkuZmlyc3QoKS5pc1dob2xlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIGdyb3VwaW5nIHJlbGF0ZWQgbWFyay1ncm91cCBpZCdzIGZvciB0aGUgd2hvbGUgcmVzcG9uc2UuXHJcbiAgICAgICAgICAgICAgICByZWxhdGVkTWFya0dyb3VwSWRzID0gcmVsYXRlZE1hcmtHcm91cElkcy5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZWxhdGVkTWFya0dyb3VwSWRzRm9yV2hvbGVSZXNwb25zZShzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFya0dyb3VwSWRzLnB1c2goc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZWxhdGVkTWFya0dyb3VwSWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbWFya0dyb3VwSWRzID0gbWFya0dyb3VwSWRzLmNvbmNhdChyZWxhdGVkTWFya0dyb3VwSWRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hcmtHcm91cElkcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB3aGljaCByZXR1cm5zIGFycmF5IG9mIG1hcmsgZ3JvdXAgaWRzIHRvIHN1Ym1pdCBzaW11bGF0aW9uIHJlc3BvbnNlL3NcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVNYXJrZ3JvdXBJZENvbGxlY3Rpb25Gb3JTaW11bGF0aW9uU3VibWl0KHdvcmtsaXN0RGF0YTogTGl2ZU9wZW5Xb3JrbGlzdCxcclxuICAgICAgICBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkOiBudW1iZXIpOiBBcnJheTxOdW1iZXI+IHtcclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRzOiBBcnJheTxOdW1iZXI+ID0gbmV3IEFycmF5PE51bWJlcj4oKTtcclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPT09IDApIHtcclxuICAgICAgICAgICAgLyogbG9vcGluZyB0aHJvdWdoIGVhY2ggcmVzcG9uc2UgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHNhbWUgaXMgZWxpZ2libGUgZm9yIHN1Ym1pdCAqL1xyXG4gICAgICAgICAgICB3b3JrbGlzdERhdGEucmVzcG9uc2VzLm1hcChmdW5jdGlvbiAocmVzcG9uc2U6IFNpbXVsYXRpb25PcGVuUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeS5nZXRWYWxpZGF0b3Iod29ya2xpc3RWYWxpZGF0b3JMaXN0LnNpbXVsYXRpb25PcGVuKS5zdWJtaXRCdXR0b25WYWxpZGF0ZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya0dyb3VwSWRzLnB1c2gocmVzcG9uc2UubWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZHMucHVzaChzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hcmtHcm91cElkcztcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHdoaWNoIHJldHVybnMgYXJyYXkgb2YgbWFyayBncm91cCBpZHMgdG8gc3VibWl0XHJcblx0ICogQHBhcmFtIHdvcmtsaXN0RGF0YVxyXG5cdCAqIEBwYXJhbSBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkXHJcblx0ICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZU1hcmtncm91cElkQ29sbGVjdGlvbkZvckF0eXBpY2FsU3VibWl0KHdvcmtsaXN0RGF0YTogRGlyZWN0ZWRSZW1hcmtPcGVuV29ya2xpc3QsXHJcbiAgICAgICAgc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZDogbnVtYmVyKTogQXJyYXk8TnVtYmVyPiB7XHJcblxyXG4gICAgICAgIGxldCBtYXJrR3JvdXBJZHM6IEFycmF5PE51bWJlcj4gPSBuZXcgQXJyYXk8TnVtYmVyPigpO1xyXG5cclxuICAgICAgICAvKiBDb2xsZWN0aW9uIG9mIE1hcmsgR3JvdXAgSWRzIG9mIHJlYWx0ZWQgUklHcyBpbiBvdGhlciBRSUdzICovXHJcbiAgICAgICAgbGV0IHJlbGF0ZWRNYXJrR3JvdXBJZHM6IEFycmF5PE51bWJlcj4gPSBuZXcgQXJyYXk8TnVtYmVyPigpO1xyXG5cclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPT09IDApIHtcclxuICAgICAgICAgICAgLyogbG9vcGluZyB0aHJvdWdoIGVhY2ggcmVzcG9uc2UgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHNhbWUgaXMgZWxpZ2libGUgZm9yIHN1Ym1pdCAqL1xyXG4gICAgICAgICAgICB3b3JrbGlzdERhdGEucmVzcG9uc2VzLm1hcChmdW5jdGlvbiAocmVzcG9uc2U6IERpcmVjdGVkUmVtYXJrT3BlblJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFZhbGlkYXRvckZhY3RvcnkuZ2V0VmFsaWRhdG9yKHdvcmtsaXN0VmFsaWRhdG9yTGlzdC5hdHlwaWNhbE9wZW4pLnN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZE1hcmtHcm91cElkcyA9IHJlbGF0ZWRNYXJrR3JvdXBJZHMuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbGF0ZWRNYXJrR3JvdXBJZHNGb3JXaG9sZVJlc3BvbnNlKHJlc3BvbnNlLm1hcmtHcm91cElkKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtHcm91cElkcy5wdXNoKHJlc3BvbnNlLm1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHJlbGF0ZWRNYXJrR3JvdXBJZHMgPSByZWxhdGVkTWFya0dyb3VwSWRzLmNvbmNhdChcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVsYXRlZE1hcmtHcm91cElkc0Zvcldob2xlUmVzcG9uc2Uoc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZCkpO1xyXG5cclxuICAgICAgICAgICAgbWFya0dyb3VwSWRzLnB1c2goc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVsYXRlZE1hcmtHcm91cElkcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZHMgPSBtYXJrR3JvdXBJZHMuY29uY2F0KHJlbGF0ZWRNYXJrR3JvdXBJZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1hcmtHcm91cElkcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZXJyb3IgbWVzc2FnZSBrZXkgdG8gc2hvdyB3aGVuIHN1Ym1pdCByZXNwb25zZSBmYWlsc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNob3dNZXNzYWdlT25TdWJtaXRSZXNwb25zZShzdWJtaXR0ZWRSZXNwb25zZUNvdW50OiBudW1iZXIpOiBTdWJtaXRSZXNwb25zZUVycm9yTWVzc2FnZUFyZ3VtZW50cyB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2VLZXk6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGxldCBtZXNzYWdlSGVhZGVyS2V5OiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldEVycm9yQ29kZSA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGlzSW5TdGFuZGFyZGlzYXRpb253b3JrbGlzdCA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnByYWN0aWNlIHx8XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5zdGFuZGFyZGlzYXRpb24gfHxcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnNlY29uZHN0YW5kYXJkaXNhdGlvbjtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHN0YW5kYXJkaXNhdGlvbiB3b3JrbGlzdCwgdGhlbiBubyBuZWVkIHRvIGNoZWNrIHRoZSBub3QgYXBwcm92ZWQgc3RhdHVzXHJcbiAgICAgICAgICAgIGlmIChzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRTdWJtaXRSZXNwb25zZVJldHVybi5leGFtaW5lckFwcHJvdmFsU3RhdHVzID09PSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLlN1c3BlbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldFN1Ym1pdFJlc3BvbnNlUmV0dXJuLmhhc1F1YWxpdHlGZWVkYmFja091dHN0YW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUtleSA9ICdtYXJraW5nLndvcmtsaXN0LmFwcHJvdmFsLXN0YXR1cy1jaGFuZ2VkLWRpYWxvZy5ib2R5LXF1YWxpdHktZmVlZGJhY2snO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlS2V5ID0gJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmJvZHknO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlcktleSA9IHN1Ym1pdHRlZFJlc3BvbnNlQ291bnQgPT09IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmhlYWRlcicgOiAnbWFya2luZy53b3JrbGlzdC5hcHByb3ZhbC1zdGF0dXMtY2hhbmdlZC1kaWFsb2cuaGVhZGVyJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRTdWJtaXRSZXNwb25zZVJldHVybi5leGFtaW5lckFwcHJvdmFsU3RhdHVzID09PSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLk5vdEFwcHJvdmVkICYmXHJcbiAgICAgICAgICAgICAgICAhaXNJblN0YW5kYXJkaXNhdGlvbndvcmtsaXN0ICYmXHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGUgIT09IGVudW1zLldvcmtsaXN0VHlwZS5zaW11bGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlS2V5ID0gJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmJvZHknO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlcktleSA9IHN1Ym1pdHRlZFJlc3BvbnNlQ291bnQgPT09IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmhlYWRlcicgOiAnbWFya2luZy53b3JrbGlzdC5hcHByb3ZhbC1zdGF0dXMtY2hhbmdlZC1kaWFsb2cuaGVhZGVyJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0RXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdWJtaXRSZXNwb25zZUVycm9yQ29kZS5yZXNwb25zZU5vdEZ1bGx5TWFya2VkOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3VibWl0UmVzcG9uc2VFcnJvckNvZGUucmVzcG9uc2VIYXNFeGNlcHRpb25zOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3VibWl0UmVzcG9uc2VFcnJvckNvZGUuYWxsU0xBT3NOb3RBbm5vdGF0ZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdWJtaXRSZXNwb25zZUVycm9yQ29kZS5hbGxQYWdlc05vdEFubm90YXRlZDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlN1Ym1pdFJlc3BvbnNlRXJyb3JDb2RlLm9uSG9sZDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlN1Ym1pdFJlc3BvbnNlRXJyb3JDb2RlLm1hbmRhdGVNYXJrc2NoZW1lTm90Q29tbWVudGVkOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3VibWl0UmVzcG9uc2VFcnJvckNvZGUubm90QWxsRmlsZXNWaWV3ZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdWJtaXRSZXNwb25zZUVycm9yQ29kZS5oYXNab25pbmdFeGNlcHRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXJLZXkgPSBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCA+IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3Quc3VibWl0LXJlc3BvbnNlLWRpYWxvZy5oZWFkZXInICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1hbGwtcmVzcG9uc2VzLWRpYWxvZy5oZWFkZXInO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlS2V5ID0gc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPiAwID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmJvZHktc2luZ2xlLXJlc3BvbnNlLW5vdC1zdWJtaXR0ZWQnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmJvZHktc29tZS1yZXNwb25zZXMtbm90LXN1Ym1pdHRlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3VibWl0UmVzcG9uc2VFcnJvckNvZGUucmVzcG9uc2VBbHJlYWR5U3VibWl0dGVkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSGVhZGVyS2V5ID0gJ21hcmtpbmcud29ya2xpc3Quc3VibWl0LXJlc3BvbnNlLWRpYWxvZy5oZWFkZXInO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUtleSA9ICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmJvZHktc2luZ2xlLXJlc3BvbnNlLWFscmVhZHktc3VibWl0dGVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXJLZXkgPSAnbWFya2luZy53b3JrbGlzdC5zdWJtaXQtYWxsLXJlc3BvbnNlcy1kaWFsb2cuaGVhZGVyJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VLZXkgPSAnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1zdWJtaXNzaW9uLWVycm9yLWRpYWxvZy5ib2R5LXNvbWUtcmVzcG9uc2VzLWFscmVhZHktc3VibWl0dGVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlN1Ym1pdFJlc3BvbnNlRXJyb3JDb2RlLmV4YW1pbmVyTm90QXBwcm92ZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VLZXkgPSAnbWFya2luZy53b3JrbGlzdC5hcHByb3ZhbC1zdGF0dXMtY2hhbmdlZC1kaWFsb2cuYm9keS1yZWxhdGVkUUlHJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlcktleSA9IHN1Ym1pdHRlZFJlc3BvbnNlQ291bnQgPT09IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2Utc3VibWlzc2lvbi1lcnJvci1kaWFsb2cuaGVhZGVyJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5hcHByb3ZhbC1zdGF0dXMtY2hhbmdlZC1kaWFsb2cuaGVhZGVyJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdWJtaXRSZXNwb25zZUVycm9yQ29kZS5leGFtaW5lclN1c3BlbmRlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldFN1Ym1pdFJlc3BvbnNlUmV0dXJuLmhhc1F1YWxpdHlGZWVkYmFja091dHN0YW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlS2V5ID0gJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmJvZHktcXVhbGl0eS1mZWVkYmFjayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlS2V5ID0gJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmJvZHknO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXJLZXkgPSBzdWJtaXR0ZWRSZXNwb25zZUNvdW50ID09PSAwID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmhlYWRlcicgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmhlYWRlcic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3VibWl0UmVzcG9uc2VFcnJvckNvZGUuZXhhbWluZXJXaXRoZHJhd246XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vVGhpcyBjb2RlIGFkZGVkIGZvciB3aG9sZSByZXNwb25zZSBjYXNlIGFuZCB0aGUgZXhhbWluZXJBcHByb3ZhbFN0YXR1cyBjb250YWlucyBvbmx5IGN1cnJlbnQgcWln4oCZcyBzdGF0dXMsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2J1dCBTdWJtaXRSZXNwb25zZUVycm9yQ29kZSBjb250YWlucyBzdGF0dXMgYWdhaW5zdCBhbnkgcWlnIGV0Yy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUtleSA9ICdtYXJraW5nLndvcmtsaXN0LmFwcHJvdmFsLXN0YXR1cy1jaGFuZ2VkLWRpYWxvZy5ib2R5LXdpdGhkcmF3bic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXJLZXkgPSBzdWJtaXR0ZWRSZXNwb25zZUNvdW50ID09PSAwID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmhlYWRlcicgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmhlYWRlcic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VLZXkgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1lc3NhZ2VLZXkgIT09ICcnICYmIHN1Ym1pdHRlZFJlc3BvbnNlQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgLyoqIENyZWF0aW5nIGN1c3RvbSBlcnJvciBtZXNzYWdlIHRvIHNob3cgKi9cclxuICAgICAgICAgICAgbGV0IHN1Ym1pdEVycm9yTWVzc2FnZTogU3VibWl0UmVzcG9uc2VFcnJvck1lc3NhZ2VBcmd1bWVudHMgPSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlSGVhZGVyOiBtZXNzYWdlSGVhZGVyS2V5LFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQ6IG1lc3NhZ2VLZXlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHN1Ym1pdEVycm9yTWVzc2FnZTtcclxuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2VLZXkgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIC8qKiBDcmVhdGluZyBjdXN0b20gZXJyb3IgbWVzc2FnZSB0byBzaG93ICovXHJcbiAgICAgICAgICAgIGxldCBzdWJtaXRSZXNwb25zZUVycm9yID0gbmV3IGN1c3RvbUVycm9yKCdTdWJtaXQnLCBtZXNzYWdlS2V5LCBtZXNzYWdlSGVhZGVyS2V5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5vbmVycm9yKCcnLCAnJywgbnVsbCwgbnVsbCwgc3VibWl0UmVzcG9uc2VFcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgYXV0byBhcHByb3ZhbCBTZWNvbmRhcnkgY29udGVudFxyXG4gICAgICogQHBhcmFtIHN1Ym1pdHRlZFJlc3BvbnNlQ291bnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRBdXRvQXBwcm92YWxTZWNvbmRhcnlDb250ZW50KHN1Ym1pdHRlZFJlc3BvbnNlQ291bnQ6IG51bWJlcik6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIGxldCBkZWxldGVSZXNwb25zZU9uQXV0b0FwcHJvdmFsOiBib29sZWFuICA9IHRhcmdldEhlbHBlci5pc1Jlc3BvbnNlc0RlbGV0ZWRPbkF1dG9BcHByb3ZhbChzdWJtaXR0ZWRSZXNwb25zZUNvdW50KTtcclxuXHJcbiAgICAgICAgcmV0dXJuICgodGFyZ2V0SGVscGVyLmN1cnJlbnRNYXJraW5nTW9kZSA9PT0gZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsXHJcbiAgICAgICAgICAgICYmIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXIgPT09IGZhbHNlKSA/XHJcbiAgICAgICAgICAgICgoZGVsZXRlUmVzcG9uc2VPbkF1dG9BcHByb3ZhbCA9PT0gZmFsc2UpID9cclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LmF1dG8tYXBwcm92ZWQtZGlhbG9nLmJvZHktc3RhbmRhcmRpc2F0aW9uJ1xyXG4gICAgICAgICAgICAgICAgOiAnbWFya2luZy53b3JrbGlzdC5hdXRvLWFwcHJvdmVkLWRpYWxvZy5ib2R5LWV4Y2Vzcy1zZWNvbmQtc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlcy1yZW1vdmVkJylcclxuICAgICAgICAgICAgOiAoKHRhcmdldEhlbHBlci5jdXJyZW50TWFya2luZ01vZGUgPT09IGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsXHJcbiAgICAgICAgICAgICAgICAmJiBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5pc0VsZWN0cm9uaWNTdGFuZGFyZGlzYXRpb25UZWFtTWVtYmVyID09PSBmYWxzZSkgP1xyXG4gICAgICAgICAgICAgICAgKChkZWxldGVSZXNwb25zZU9uQXV0b0FwcHJvdmFsID09PSBmYWxzZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LmF1dG8tYXBwcm92ZWQtZGlhbG9nLmJvZHktc3RhbmRhcmRpc2F0aW9uJ1xyXG4gICAgICAgICAgICAgICAgICAgIDogJ21hcmtpbmcud29ya2xpc3QuYXV0by1hcHByb3ZlZC1kaWFsb2cuYm9keS1leGNlc3Mtc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlcy1yZW1vdmVkJylcclxuXHJcbiAgICAgICAgICAgICAgICA6ICgoZGVsZXRlUmVzcG9uc2VPbkF1dG9BcHByb3ZhbCA9PT0gZmFsc2UpID9cclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5hdXRvLWFwcHJvdmVkLWRpYWxvZy5ib2R5LXN0bS1zdGFuZGFyZGlzYXRpb24nXHJcbiAgICAgICAgICAgICAgICAgICAgOiAnbWFya2luZy53b3JrbGlzdC5hdXRvLWFwcHJvdmVkLWRpYWxvZy5ib2R5LWV4Y2Vzcy1zdG0tc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlcy1yZW1vdmVkJykpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIG1hcmtncm91cCBpZCBjb2xsZWN0aW9uIGZvciByZXNwb25zZSBzdWJtaXNzaW9uXHJcbiAgICAgKiBAcGFyYW0ge2VudW1zLk1hcmtpbmdNb2RlfSBtYXJraW5nTW9kZVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRNYXJrZ3JvdXBJZENvbGxlY3Rpb25Gb3JTdWJtaXQobWFya2luZ01vZGU6IGVudW1zLk1hcmtpbmdNb2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChtYXJraW5nTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLkxpdmVNYXJraW5nOlxyXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSAhPT0gZW51bXMuV29ya2xpc3RUeXBlLmF0eXBpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdvcmtsaXN0Q29tcG9uZW50SGVscGVyLmNyZWF0ZU1hcmtncm91cElkQ29sbGVjdGlvbkZvckxpdmVTdWJtaXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0TGl2ZU9wZW5Xb3JrbGlzdERldGFpbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldE1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBXb3JrbGlzdENvbXBvbmVudEhlbHBlci5jcmVhdGVNYXJrZ3JvdXBJZENvbGxlY3Rpb25Gb3JBdHlwaWNhbFN1Ym1pdChcclxuICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldEF0eXBpY2FsT3BlbldvcmtsaXN0RGV0YWlscyxcclxuICAgICAgICAgICAgICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuUHJhY3RpY2U6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gV29ya2xpc3RDb21wb25lbnRIZWxwZXIuY3JlYXRlTWFya0dyb3VwSWRDb2xsZWN0aW9uRm9yUHJhY3RpY2VTdWJtaXQoXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRQcmFjdGljZU9wZW5Xb3JrbGlzdERldGFpbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFdvcmtsaXN0Q29tcG9uZW50SGVscGVyLmNyZWF0ZU1hcmtHcm91cElkQ29sbGVjdGlvbkZvclN0YW5kYXJkaXphdGlvblN1Ym1pdChcclxuICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFN0YW5kYXJkaXNhdGlvbk9wZW5Xb3JrbGlzdERldGFpbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLkVTX1RlYW1BcHByb3ZhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBXb3JrbGlzdENvbXBvbmVudEhlbHBlci5jcmVhdGVNYXJrR3JvdXBJZENvbGxlY3Rpb25Gb3JTdGFuZGFyZGl6YXRpb25TdWJtaXQoXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRTZWNvbmRTdGFuZGFyZGlzYXRpb25PcGVuV29ya2xpc3REZXRhaWxzLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldE1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5SZW1hcmtpbmc6XHJcbiAgICAgICAgICAgICAgICBpZiAod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5pc0RpcmVjdGVkUmVtYXJrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdvcmtsaXN0Q29tcG9uZW50SGVscGVyLmNyZWF0ZU1hcmtHcm91cElkQ29sbGVjdGlvbkZvckRpcmVjdGVkUmVtYXJrU3VibWl0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldERpcmVjdGVkUmVtYXJrT3BlbldvcmtsaXN0RGV0YWlscyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV29ya2xpc3RDb21wb25lbnRIZWxwZXIuY3JlYXRlTWFya0dyb3VwSWRDb2xsZWN0aW9uRm9yUG9vbGVkUmVtYXJrU3VibWl0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFBvb2xlZFJlbWFya09wZW5Xb3JrbGlzdERldGFpbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldE1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5TaW11bGF0aW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFdvcmtsaXN0Q29tcG9uZW50SGVscGVyLmNyZWF0ZU1hcmtncm91cElkQ29sbGVjdGlvbkZvclNpbXVsYXRpb25TdWJtaXQoXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRTaW11bGF0aW9uT3BlbldvcmtsaXN0RGV0YWlscyxcclxuICAgICAgICAgICAgICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHJlbWFyayByZXF1ZXN0IHR5cGVcclxuICAgICAqIEBwYXJhbSB3b3JrbGlzdFR5cGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRSZW1hcmtSZXF1ZXN0VHlwZSh3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSk6IGVudW1zLlJlbWFya1JlcXVlc3RUeXBlIHtcclxuICAgICAgICByZXR1cm4gd29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuZGlyZWN0ZWRSZW1hcmsgfHwgd29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUucG9vbGVkUmVtYXJrID9cclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZW1hcmtSZXF1ZXN0VHlwZSA6IGVudW1zLlJlbWFya1JlcXVlc3RUeXBlLlVua25vd247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgaXMgZGlyZWN0ZWQgcmVtYXJrXHJcbiAgICAgKiBAcGFyYW0gd29ya2xpc3RUeXBlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SXNEaXJlY3RlZFJlbWFyayh3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB3b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5kaXJlY3RlZFJlbWFyayB8fCB3b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5wb29sZWRSZW1hcmsgP1xyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzRGlyZWN0ZWRSZW1hcmsgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB3aGljaCByZXR1cm5zIHdoZXRoZXIgdGhlIHF1YWxpdHkgZmVlZGJhY2sgcmVsYXRlZCBtZXNzYWdlIHNob3VsZCBiZSBzaG93biBvbiBzdWJtaXR0aW5nXHJcbiAgICAgKiBzZWVkcyBhY2N1cmF0ZWx5L3dpdGhpbiB0b2xlcmFuY2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBzaG91bGRTaG93UXVhbGl0eUZlZWRiYWNrTWVzc2FnZSgpOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgbGV0IF9hdXRvbWF0aWNRdWFsaXR5RmVlZGJhY2s6IGJvb2xlYW4gPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuQXV0b21hdGljUXVhbGl0eUZlZWRiYWNrLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIGxldCBfc2VlZFN1Ym1pc3Npb25TdGF0dXM6IGVudW1zLlNlZWRTdWJtaXNzaW9uU3RhdHVzID0gc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0U3VibWl0UmVzcG9uc2VSZXR1cm4uc2VlZFN1Ym1pc3Npb25TdGF0dXM7XHJcbiAgICAgICAgcmV0dXJuIF9hdXRvbWF0aWNRdWFsaXR5RmVlZGJhY2sgJiZcclxuICAgICAgICAgICAgX3NlZWRTdWJtaXNzaW9uU3RhdHVzID09PSBlbnVtcy5TZWVkU3VibWlzc2lvblN0YXR1cy5TZWVkc1N1Ym1pdHRlZFdpdGhpblRvbGVyYW5jZU9yQWNjdXJhdGVseTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgdGFiIGRldGFpbHMgdGhhdCBuZWVkcyB0byBiZSBzaG93biBpbiB0aGUgbGl2ZSB3b3JrbGlzdFxyXG4gICAgICogQHBhcmFtIHRhcmdldFN1bW1hcnlcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0TGl2ZVdvcmtsaXN0VGFiRGV0YWlscyh0YXJnZXRTdW1tYXJ5OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSk6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4ge1xyXG4gICAgICAgIGxldCB3b3JrbGlzdFRhYkRldGFpbHM6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gT25seSBjbG9zZWQgdGFiIGlzIGRpc3BsYXlpbmcgaW4gaGVscCBleGFtaW5lcnMsXHJcbiAgICAgICAgaWYgKHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRUZWFtTWFuYWdlbWVudFRhYiAhPT0gZW51bXMuVGVhbU1hbmFnZW1lbnQuSGVscEV4YW1pbmVycykge1xyXG4gICAgICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuLFxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLm9wZW5SZXNwb25zZXNDb3VudFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZyxcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlQ291bnQ6IHRhcmdldFN1bW1hcnkuZXhhbWluZXJQcm9ncmVzcy5wZW5kaW5nUmVzcG9uc2VzQ291bnRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmNsb3NlZFJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHdvcmtsaXN0VGFiRGV0YWlscztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgdGFiIGRldGFpbHMgdGhhdCBuZWVkcyB0byBiZSBzaG93biBpbiB0aGUgYXR5cGljYWwgd29ya2xpc3RcclxuICAgICAqIEBwYXJhbSB0YXJnZXRTdW1tYXJ5XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIGdldEF0eXBpY2FsV29ya2xpc3RUYWJEZXRhaWxzKHRhcmdldFN1bW1hcnk6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KTogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiB7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0VGFiRGV0YWlsczogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiA9IFtdO1xyXG5cclxuICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sXHJcbiAgICAgICAgICAgIHJlc3BvbnNlQ291bnQ6IChpc05hTih0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxPcGVuUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgICAgICAgICA/IDAgOiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxPcGVuUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzLnB1c2goe1xyXG4gICAgICAgICAgICByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nLFxyXG4gICAgICAgICAgICByZXNwb25zZUNvdW50OiAoaXNOYU4odGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsUGVuZGluZ1Jlc3BvbnNlc0NvdW50KVxyXG4gICAgICAgICAgICAgICAgPyAwIDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsUGVuZGluZ1Jlc3BvbnNlc0NvdW50KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLFxyXG4gICAgICAgICAgICByZXNwb25zZUNvdW50OiAoaXNOYU4odGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsQ2xvc2VkUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgICAgICAgICA/IDAgOiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxDbG9zZWRSZXNwb25zZXNDb3VudClcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gd29ya2xpc3RUYWJEZXRhaWxzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSB0YWIgZGV0YWlscyB0aGF0IG5lZWRzIHRvIGJlIHNob3duIGluIHRoZSBsaXZlIHdvcmtsaXN0XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0U3VtbWFyeVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRQcmFjdGljZVdvcmtsaXN0VGFiRGV0YWlscyh0YXJnZXRTdW1tYXJ5OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSk6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4ge1xyXG4gICAgICAgIGxldCB3b3JrbGlzdFRhYkRldGFpbHM6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4gPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKCF0YXJnZXRTdW1tYXJ5LmlzVGFyZ2V0Q29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZUNvdW50OiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3Mub3BlblJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmNsb3NlZFJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHdvcmtsaXN0VGFiRGV0YWlscztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgU3RhbmRhcmRpc2F0aW9uV29ya2xpc3QgVGFiRGV0YWlsc1xyXG4gICAgICogQHBhcmFtIHttYXJraW5nVGFyZ2V0U3VtbWFyeX0gdGFyZ2V0U3VtbWFyeVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U3RhbmRhcmRpc2F0aW9uV29ya2xpc3RUYWJEZXRhaWxzKHRhcmdldFN1bW1hcnk6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KTogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiB7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0VGFiRGV0YWlsczogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiA9IFtdO1xyXG5cclxuICAgICAgICBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5zaG91bGREaXNwbGF5U3RhbmRhcmRpc2F0aW9uT3BlblRhYih0YXJnZXRTdW1tYXJ5KSkge1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0SGVscGVyLmlzRVNUYXJnZXRDb21wbGV0ZWQoZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLm9wZW5SZXNwb25zZXNDb3VudFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLFxyXG4gICAgICAgICAgICByZXNwb25zZUNvdW50OiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3MuY2xvc2VkUmVzcG9uc2VzQ291bnRcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gd29ya2xpc3RUYWJEZXRhaWxzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBTZWNvbmRTdGFuZGFyZGl6YXRpb24gVGFiRGV0YWlsc1xyXG4gICAgICogQHBhcmFtIHttYXJraW5nVGFyZ2V0U3VtbWFyeX0gdGFyZ2V0U3VtbWFyeVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U2Vjb25kU3RhbmRhcmRpemF0aW9uVGFiRGV0YWlscyh0YXJnZXRTdW1tYXJ5OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSk6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4ge1xyXG4gICAgICAgIGxldCB3b3JrbGlzdFRhYkRldGFpbHM6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4gPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuc2hvdWxkRGlzcGxheVN0YW5kYXJkaXNhdGlvbk9wZW5UYWIodGFyZ2V0U3VtbWFyeSkpIHtcclxuICAgICAgICAgICAgaWYgKHRhcmdldEhlbHBlci5pc0VTVGFyZ2V0Q29tcGxldGVkKGVudW1zLk1hcmtpbmdNb2RlLkVTX1RlYW1BcHByb3ZhbCkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUub3BlbixcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUNvdW50OiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3Mub3BlblJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmNsb3NlZFJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHdvcmtsaXN0VGFiRGV0YWlscztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgdGFiIGRldGFpbHMgdGhhdCBuZWVkcyB0byBiZSBzaG93biBpbiB0aGUgcmVtYXJrIHdvcmtsaXN0XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0U3VtbWFyeVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRSZW1hcmtXb3JrbGlzdFRhYkRldGFpbHModGFyZ2V0U3VtbWFyeTogbWFya2luZ1RhcmdldFN1bW1hcnkpOiBBcnJheTxXb3JrbGlzdFRhYkRldGFpbHM+IHtcclxuICAgICAgICBsZXQgd29ya2xpc3RUYWJEZXRhaWxzOiBBcnJheTxXb3JrbGlzdFRhYkRldGFpbHM+ID0gW107XHJcblxyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUub3BlbixcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLm9wZW5SZXNwb25zZXNDb3VudFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZyxcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLnBlbmRpbmdSZXNwb25zZXNDb3VudFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLFxyXG4gICAgICAgICAgICByZXNwb25zZUNvdW50OiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3MuY2xvc2VkUmVzcG9uc2VzQ291bnRcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gd29ya2xpc3RUYWJEZXRhaWxzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgd29ya2xpc3QgdGFiIGRldGFpbHNcclxuICAgICAqIEBwYXJhbSB7ZW51bXMuTWFya2luZ01vZGV9IG1hcmtpbmdNb2RlXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFdvcmtsaXN0VGFiRGV0YWlscyhtYXJraW5nTW9kZTogZW51bXMuTWFya2luZ01vZGUsIGlzVGFyZ2V0UmVmcmVzaDogYm9vbGVhbiA9IGZhbHNlKTogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiB7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0VGFiRGV0YWlsczogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiA9IFtdO1xyXG4gICAgICAgIGxldCBtYXJraW5nVGFyZ2V0c1N1bW1hcnk6IEltbXV0YWJsZS5MaXN0PG1hcmtpbmdUYXJnZXRTdW1tYXJ5PjtcclxuXHJcbiAgICAgICAgLyoqIEdldHRpbmcgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeSBmcm9tIHdvcmtsaXN0IHN0b3JlLFxyXG4gICAgICAgICAqIGl0IHdpbGwgYmUgdXBkYXRlZCBpZiB0aGUgd29ya2xpc3QgcmVzcG9uc2UgY29sbGVjdGlvbiBjaGFuZ2VzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKGlzVGFyZ2V0UmVmcmVzaCkge1xyXG4gICAgICAgICAgICAvKiogSWYgY2FsbGluZyBmcm9tIHJlZnJlc2hUYXJnZXRQcm9ncmVzcyBpbiB3b3JrbGlzdCwgd2lsbCByZXR1cm4gc3VtbWFyeSBkYXRhIGZyb20gdGFyZ2V0U3VtbWFyeVN0b3JlICovXHJcbiAgICAgICAgICAgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeSA9IHRhcmdldEhlbHBlci5nZXRFeGFtaW5lck1hcmtpbmdUYXJnZXRQcm9ncmVzcztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiogSWYgY2FsbGluZyBmcm9tIG1hcmtpbmdtb2RlY2hhbmdlZCBpbiB3b3JrbGlzdCwgd2lsbCByZXR1cm4gc3VtbWFyeSBkYXRhIGZyb20gd29ya2xpc3RzdG9yZVxyXG4gICAgICAgICAgICAgKiB3b3JrbGlzdCB0YXJnZXQgc3VtbWFyeSBjb2xsZWN0aW9uIGlzIHVwZGF0ZWQgYmFzZWQgb24gcmVzcG9zZWNvdW50IGluIHRoZSB3b3JrbGlzdFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgbWFya2luZ1RhcmdldHNTdW1tYXJ5ID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRFeGFtaW5lck1hcmtpbmdUYXJnZXRQcm9ncmVzcyhcclxuICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTZWxlY3RlZEV4YW1pbmVyU1RNKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoIChtYXJraW5nTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLkxpdmVNYXJraW5nOlxyXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLmF0eXBpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzID0gdGhpcy5nZXRBdHlwaWNhbFdvcmtsaXN0VGFiRGV0YWlscyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2luZ1RhcmdldHNTdW1tYXJ5LmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh4OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSkgPT4geC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZykuZmlyc3QoKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscyA9IHRoaXMuZ2V0TGl2ZVdvcmtsaXN0VGFiRGV0YWlscyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2luZ1RhcmdldHNTdW1tYXJ5LmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh4OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSkgPT4geC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZykuZmlyc3QoKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZTpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscyA9IHRoaXMuZ2V0UHJhY3RpY2VXb3JrbGlzdFRhYkRldGFpbHMoXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2luZ1RhcmdldHNTdW1tYXJ5LmZpbHRlcigoeDogbWFya2luZ1RhcmdldFN1bW1hcnkpID0+IHgubWFya2luZ01vZGVJRCA9PT0gZW51bXMuTWFya2luZ01vZGUuUHJhY3RpY2UpLmZpcnN0KClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbDpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscyA9IHRoaXMuZ2V0U3RhbmRhcmRpc2F0aW9uV29ya2xpc3RUYWJEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeS5maWx0ZXIoKHg6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KSA9PiB4Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsKS5maXJzdCgpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsOlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzID0gdGhpcy5nZXRTZWNvbmRTdGFuZGFyZGl6YXRpb25UYWJEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeS5maWx0ZXIoKHg6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KSA9PiB4Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLkVTX1RlYW1BcHByb3ZhbCkuZmlyc3QoKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLlJlbWFya2luZzpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscyA9IHRoaXMuZ2V0UmVtYXJrV29ya2xpc3RUYWJEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeS5maWx0ZXIoKHg6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KSA9PiB4Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLlJlbWFya2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiB4LnJlbWFya1JlcXVlc3RUeXBlSUQgPT09IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVtYXJrUmVxdWVzdFR5cGUpLmZpcnN0KClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5TaW11bGF0aW9uOlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzID0gdGhpcy5nZXRTaW11bGF0aW9uV29ya2xpc3RUYWJEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeS5maWx0ZXIoKHg6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KSA9PiB4Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLlNpbXVsYXRpb24pLmZpcnN0KClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd29ya2xpc3RUYWJEZXRhaWxzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSB0YWIgZGV0YWlscyB0aGF0IG5lZWRzIHRvIGJlIHNob3duIGluIHRoZSBzaW11bGF0aW9uIHdvcmtsaXN0XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0U3VtbWFyeVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRTaW11bGF0aW9uV29ya2xpc3RUYWJEZXRhaWxzKHRhcmdldFN1bW1hcnk6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KTogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiB7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0VGFiRGV0YWlsczogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiA9IFtdO1xyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUub3BlbixcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLm9wZW5SZXNwb25zZXNDb3VudFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB3b3JrbGlzdFRhYkRldGFpbHM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gV29ya2xpc3RDb21wb25lbnRIZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3dvcmtsaXN0Y29tcG9uZW50aGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBaW9CQTtBQS9uQkE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 382:
/* no static exports found */
/* all exports used */
/*!***********************************!*\
  !*** ./src/components/footer.tsx ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ./base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../stores/locale/localestore */ 226);\r\nvar ConfirmationDialog = __webpack_require__(/*! ./utility/confirmationdialog */ 408);\r\nvar userOptionsHelper = __webpack_require__(/*! ../utility/useroption/useroptionshelper */ 265);\r\nvar logoutArgument = __webpack_require__(/*! ../dataservices/authentication/logoutargument */ 416);\r\nvar logoutActionCreator = __webpack_require__(/*! ../actions/logout/logoutactioncreator */ 396);\r\nvar loginSession = __webpack_require__(/*! ../app/loginsession */ 252);\r\nvar loginStore = __webpack_require__(/*! ../stores/login/loginstore */ 286);\r\nvar useroptionKeys = __webpack_require__(/*! ../utility/useroption/useroptionkeys */ 264);\r\nvar userOptionStore = __webpack_require__(/*! ../stores/useroption/useroptionstore */ 302);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ./utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar enums = __webpack_require__(/*! ./utility/enums */ 225);\r\nvar marksAndAnnotationsSaveHelper = __webpack_require__(/*! ../utility/marking/marksandannotationssavehelper */ 295);\r\nvar markingStore = __webpack_require__(/*! ../stores/marking/markingstore */ 236);\r\nvar markingActionCreator = __webpack_require__(/*! ../actions/marking/markingactioncreator */ 246);\r\nvar worklistStore = __webpack_require__(/*! ../stores/worklist/workliststore */ 231);\r\nvar BusyIndicator = __webpack_require__(/*! ./utility/busyindicator/busyindicator */ 312);\r\nvar navigationHelper = __webpack_require__(/*! ./utility/navigation/navigationhelper */ 248);\r\nvar navigationStore = __webpack_require__(/*! ../stores/navigation/navigationstore */ 275);\r\nvar applicationActionCreator = __webpack_require__(/*! ../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar GenericDialog = __webpack_require__(/*! ./utility/genericdialog */ 317);\r\nvar saveMarksAndAnnotationsNonRecoverableErrorDialogContents = __webpack_require__(/*! ./utility/savemarksandannotations/savemarksandannotationsnonrecoverableerrordialogcontents */ 367);\r\nvar htmlUtilities = __webpack_require__(/*! ../utility/generic/htmlutilities */ 243);\r\nvar worklistActionCreator = __webpack_require__(/*! ../actions/worklist/worklistactioncreator */ 261);\r\nvar qigStore = __webpack_require__(/*! ../stores/qigselector/qigstore */ 230);\r\nvar keyDownHelper = __webpack_require__(/*! ../utility/generic/keydownhelper */ 258);\r\nvar qigActionCreator = __webpack_require__(/*! ../actions/qigselector/qigselectoractioncreator */ 253);\r\nvar messageStore = __webpack_require__(/*! ../stores/message/messagestore */ 240);\r\nvar exceptionStore = __webpack_require__(/*! ../stores/exception/exceptionstore */ 277);\r\nvar popUpDisplayActionCreator = __webpack_require__(/*! ../actions/popupdisplay/popupdisplayactioncreator */ 328);\r\nvar examinerStore = __webpack_require__(/*! ../stores/markerinformation/examinerstore */ 259);\r\nvar responseActionCreator = __webpack_require__(/*! ../actions/response/responseactioncreator */ 257);\r\nvar qualityFeedbackHelper = __webpack_require__(/*! ../utility/qualityfeedback/qualityfeedbackhelper */ 309);\r\nvar colouredAnnotationsHelper = __webpack_require__(/*! ../utility/stamppanel/colouredannotationshelper */ 314);\r\nvar submitStore = __webpack_require__(/*! ../stores/submit/submitstore */ 293);\r\nvar worklistComponentHelper = __webpack_require__(/*! ./worklist/worklistcomponenthelper */ 373);\r\nvar submitHelper = __webpack_require__(/*! ./utility/submit/submithelper */ 282);\r\nvar targetHelper = __webpack_require__(/*! ../utility/target/targethelper */ 300);\r\nvar busyIndicatorActionCreator = __webpack_require__(/*! ../actions/busyindicator/busyindicatoractioncreator */ 279);\r\nvar busyIndicatorStore = __webpack_require__(/*! ../stores/busyindicator/busyindicatorstore */ 326);\r\nvar messagingActionCreator = __webpack_require__(/*! ../actions/messaging/messagingactioncreator */ 268);\r\nvar messageHelper = __webpack_require__(/*! ./utility/message/messagehelper */ 283);\r\nvar stdSetupPermissionHelper = __webpack_require__(/*! ../utility/standardisationsetup/standardisationsetuppermissionhelper */ 332);\r\nvar responseHelper = __webpack_require__(/*! ./utility/responsehelper/responsehelper */ 249);\r\nvar standardisationSetupFactory = __webpack_require__(/*! ../utility/standardisationsetup/standardisationsetupfactory */ 336);\r\n/* tslint:disable:variable-name */\r\nvar IdleTimer = __webpack_require__(/*! react-idle-timer */ 43).default;\r\nvar applicationStore = __webpack_require__(/*! ../stores/applicationoffline/applicationstore */ 247);\r\nvar submitActionCreator = __webpack_require__(/*! ../actions/submit/submitactioncreator */ 297);\r\nvar responseStore = __webpack_require__(/*! ../stores/response/responsestore */ 235);\r\nvar storageAdapterHelper = __webpack_require__(/*! ../dataservices/storageadapters/storageadapterhelper */ 269);\r\nvar teamManagementStore = __webpack_require__(/*! ../stores/teammanagement/teammanagementstore */ 245);\r\nvar userInfoActionCreator = __webpack_require__(/*! ../actions/userinfo/userinfoactioncreator */ 255);\r\nvar loadContainerActionCreator = __webpack_require__(/*! ../actions/navigation/loadcontaineractioncreator */ 397);\r\nvar operationModeHelper = __webpack_require__(/*! ./utility/userdetails/userinfo/operationmodehelper */ 289);\r\nvar worklistHistoryInfo = __webpack_require__(/*! ../utility/breadcrumb/worklisthistoryinfo */ 456);\r\nvar teamManagementHistoryInfo = __webpack_require__(/*! ../utility/breadcrumb/teammanagementhistoryinfo */ 455);\r\nvar historyItem = __webpack_require__(/*! ../utility/breadcrumb/historyitem */ 454);\r\nvar teamManagementActionCreator = __webpack_require__(/*! ../actions/teammanagement/teammanagementactioncreator */ 263);\r\nvar markingCheckActionCreator = __webpack_require__(/*! ../actions/markingcheck/markingcheckactioncreator */ 311);\r\nvar rememberQig = __webpack_require__(/*! ../stores/useroption/typings/rememberqig */ 446);\r\nvar userOptionKeys = __webpack_require__(/*! ../utility/useroption/useroptionkeys */ 264);\r\nvar WarningMessagePopup = __webpack_require__(/*! ./teammanagement/warningmessagepopup */ 407);\r\nvar LocksInQigPopup = __webpack_require__(/*! ./qigselector/locksinqigpopup */ 399);\r\nvar ccActionCreator = __webpack_require__(/*! ../actions/configurablecharacteristics/configurablecharacteristicsactioncreator */ 310);\r\nvar Promise = __webpack_require__(/*! es6-promise */ 41);\r\nvar stringHelper = __webpack_require__(/*! ../utility/generic/stringhelper */ 254);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar simulationModeHelper = __webpack_require__(/*! ../utility/simulation/simulationmodehelper */ 324);\r\nvar stringFormatHelper = __webpack_require__(/*! ../utility/stringformat/stringformathelper */ 250);\r\nvar ccStore = __webpack_require__(/*! ../stores/configurablecharacteristics/configurablecharacteristicsstore */ 341);\r\nvar ecourseworkHelper = __webpack_require__(/*! ./utility/ecoursework/ecourseworkhelper */ 238);\r\nvar ecourseworkFileStore = __webpack_require__(/*! ../stores/response/digital/ecourseworkfilestore */ 278);\r\nvar acetatesActionCreator = __webpack_require__(/*! ../actions/acetates/acetatesactioncreator */ 393);\r\nvar configurableCharacteristicHelper = __webpack_require__(/*! ../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicNames = __webpack_require__(/*! ../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar targetSummaryStore = __webpack_require__(/*! ../stores/worklist/targetsummarystore */ 305);\r\nvar imageZoneStore = __webpack_require__(/*! ../stores/imagezones/imagezonestore */ 376);\r\nvar auditLoggingHelper = __webpack_require__(/*! ./utility/auditlogger/auditlogginghelper */ 298);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar MultiOptionConfirmationDialog = __webpack_require__(/*! ./utility/multioptionconfirmationdialog */ 338);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../actions/standardisationsetup/standardisationactioncreator */ 251);\r\nvar userinfostore = __webpack_require__(/*! ../stores/userinfo/userinfostore */ 244);\r\nvar genericRadioButtonItems = __webpack_require__(/*! ./utility/genericradiobuttonitems */ 363);\r\nvar GenericPopupWithRadioButton = __webpack_require__(/*! ./utility/genericpopupwithradiobuttons */ 362);\r\nvar genericCheckBoxItems = __webpack_require__(/*! ./utility/genericcheckboxitems */ 409);\r\nvar GenericPopupWithCheckBoxes = __webpack_require__(/*! ./utility/genericpopupwithcheckboxes */ 410);\r\nvar awardingHelper = __webpack_require__(/*! ./utility/awarding/awardinghelper */ 360);\r\nvar awardingStore = __webpack_require__(/*! ../stores/awarding/awardingstore */ 270);\r\nvar standardisationSetupHistoryInfo = __webpack_require__(/*! ../utility/breadcrumb/standardisationsetuphistoryinfo */ 418);\r\nvar Footer = /** @class */ (function (_super) {\r\n    __extends(Footer, _super);\r\n    /**\r\n     * Constructor\r\n     * @param {Props} props\r\n     * @param {State} state\r\n     */\r\n    function Footer(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        // Indicates if logout has been triggered\r\n        _this._onLogoutTriggered = false;\r\n        _this._failureReason = enums\r\n            .ResponseNavigateFailureReason.None;\r\n        _this.expiredMarkGroupId = 0;\r\n        _this.currentSaveMarksAndAnnotationTriggeringPoint = undefined;\r\n        // variable for save marks and annotations dialog contents\r\n        _this.saveMarksAndAnnotationsErrorDialogContents = new saveMarksAndAnnotationsNonRecoverableErrorDialogContents(false);\r\n        // variable to save examiner Approval status\r\n        _this.examinerApprovalStatus = enums\r\n            .SaveMarksAndAnnotationErrorCode.None;\r\n        //variable to know where the reponse is navigated to\r\n        _this.navigateReponse = enums.SaveAndNavigate.none;\r\n        // Holds the Pop data for displaying the contents of popup\r\n        _this.popUpData = {};\r\n        // Indicates if logout has been triggered through Idle TimeOut\r\n        _this._isAutoLogOut = false;\r\n        // Holds the idle time out value in milli seconds -- default:10 mins\r\n        _this._idleTimeOut = 600000;\r\n        //  This will hold the mandatory message checking trigger points\r\n        _this.mandatoryMessageTriggeringPoint = enums.TriggerPoint.None;\r\n        _this.isConcurrentSessionActive = false;\r\n        _this.storageAdapterHelper = new storageAdapterHelper();\r\n        _this.messageDetails = { messageHeader: '', messageString: '' };\r\n        _this.triggerPointAfterClose = 0;\r\n        _this.offlineErrorMessage = null;\r\n        _this.submitMessageErrorPopupContent = undefined;\r\n        _this.copyMarksAsDefinitiveSelected = true;\r\n        _this.classifyResponseDetails = undefined;\r\n        _this.reclassifyResponseDetails = undefined;\r\n        _this.reuseResponseDetails = undefined;\r\n        _this.isClassifyResponseOkButtonDisabled = true;\r\n        _this.concurrentSaveFailArea = enums.PageContainers.None;\r\n        /**\r\n         * Fires after email save\r\n         */\r\n        _this.userInfoSaved = function () {\r\n            _this.setState({\r\n                isSaveEmailMessageDisplaying: true\r\n            });\r\n        };\r\n        /**\r\n         * Email save success message ok click\r\n         */\r\n        _this.onOkClickOfEmailSucessMessage = function () {\r\n            _this.setState({\r\n                isSaveEmailMessageDisplaying: false\r\n            });\r\n        };\r\n        /**\r\n         * Method to be invoked when a ExamBody CC is loaded.\r\n         */\r\n        _this.onExamBodyCCLoaded = function () {\r\n            // show locks and simulation exited popup if it is not already shown and exambodycc is loaded\r\n            _this.setState({\r\n                reRenderLocksInQigPopUp: _this.state.reRenderLocksInQigPopUp && ccStore.instance.isExamBodyCCLoaded,\r\n                renderedOn: Date.now(),\r\n                showSimulationExitedPopup: _this.state.showSimulationExitedPopup && ccStore.instance.isExamBodyCCLoaded\r\n            });\r\n        };\r\n        /**\r\n         * Updates the Marker information panel.\r\n         */\r\n        _this.updateMarkerInformationPanel = function () {\r\n            // Check the Marker got with drawn from the QIG, If So show the message\r\n            if (examinerStore.instance.getMarkerInformation.approvalStatus ===\r\n                enums.ExaminerApproval.Withdrawn) {\r\n                if (qigStore.instance.getOverviewData) {\r\n                    var currentQig = qigStore.instance.getOverviewData.qigSummary\r\n                        .filter(function (qig) {\r\n                        return qig.examinerRoleId ===\r\n                            examinerStore.instance.getMarkerInformation.examinerRoleId;\r\n                    })\r\n                        .first();\r\n                    // removing entry from recent history\r\n                    teamManagementActionCreator.removeHistoryItem(currentQig ? currentQig.markSchemeGroupId : 0);\r\n                }\r\n                _this.setState({ isWithdrawnResponseError: true, isBusy: false });\r\n            }\r\n        };\r\n        /**\r\n         * Updates qig selector if the examiner session is closed for the qig.\r\n         */\r\n        _this.updateQigForSessionClose = function () {\r\n            // Check the Marker got with drawn from the QIG, If So show the message\r\n            _this.setState({ isQigsessionClosedError: true, isBusy: false });\r\n        };\r\n        /**\r\n         * On response submission started\r\n         */\r\n        _this.onSubmitResponseStarted = function () {\r\n            /**\r\n             * for submit all the markgroup id will always be zero\r\n             */\r\n            if (submitStore.instance.getMarkGroupId > 0) {\r\n                _this.submitConfirmationDialogueContent = localeStore.instance.TranslateText('marking.worklist.submit-response-dialog.body');\r\n                _this.submitConfirmationDialogueHeader = localeStore.instance.TranslateText('marking.worklist.submit-response-dialog.header');\r\n            }\r\n            else {\r\n                _this.submitConfirmationDialogueContent = localeStore.instance.TranslateText('marking.worklist.submit-all-responses-dialog.body');\r\n                _this.submitConfirmationDialogueHeader = localeStore.instance.TranslateText('marking.worklist.submit-all-responses-dialog.header');\r\n            }\r\n            _this.setConfirmationDialogueState(true);\r\n        };\r\n        /**\r\n         * Show busy indicator when submit is clicked in live open worklist\r\n         */\r\n        _this.setBusyIndicator = function () {\r\n            _this.setState({\r\n                isBusy: busyIndicatorStore.instance.getBusyIndicatorInvoker ===\r\n                    enums.BusyIndicatorInvoker.none\r\n                    ? false\r\n                    : true\r\n            });\r\n        };\r\n        /**\r\n         * hiding busy indicator\r\n         */\r\n        _this.resetBusyIndicator = function () {\r\n            _this.setState({\r\n                isBusy: busyIndicatorStore.instance.getBusyIndicatorInvoker !==\r\n                    enums.BusyIndicatorInvoker.none\r\n                    ? false\r\n                    : true\r\n            });\r\n        };\r\n        /**\r\n         * hiding busy indicator on ok click of validation of std setup\r\n         */\r\n        _this.resetBusyIndicatorStdSetupNotComplete = function () {\r\n            if (standardisationSetupStore.instance.iscompleteStandardisationSuccess === false) {\r\n                _this.setState({\r\n                    isBusy: busyIndicatorStore.instance.getBusyIndicatorInvoker ===\r\n                        enums.BusyIndicatorInvoker.none\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Marks retrieval event.\r\n         */\r\n        _this.marksRetrieved = function (markGroupId) {\r\n            if ((markingStore.instance.currentResponseMode === enums.ResponseMode.open ||\r\n                markingStore.instance.currentResponseMode === enums.ResponseMode.pending) &&\r\n                !markerOperationModeFactory.operationMode.isTeamManagementMode) {\r\n                var isColourUpdated = colouredAnnotationsHelper.updateAnnotationColourIfNeeded(markGroupId);\r\n                if (isColourUpdated) {\r\n                    // Updating the queue to let know the background process to save the dirty marks and annotations\r\n                    marksAndAnnotationsSaveHelper.updateMarksAndAnnotationsQueue();\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Handles the action event while message priority updation.\r\n         */\r\n        _this.messagePriorityUpdate = function () {\r\n            _this.setState({ doShowMandatoryMessageValidationPopup: false });\r\n        };\r\n        /**\r\n         * Updates user session data by changing the logged_out status to 1.\r\n         * logged_out status 1 means user logged out properly by clicking on the\r\n         * log out button.\r\n         */\r\n        _this.updateUserSession = function () {\r\n            /**\r\n             * Trigger save mark for the currently selected item when logging out\r\n             */\r\n            if (markingStore.instance.isMarkingInProgress) {\r\n                markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.toLogout);\r\n            }\r\n            else {\r\n                /**\r\n                 * navigating from a response which is in view mode doesn't require to call save marks\r\n                 */\r\n                var logoutData = new logoutArgument();\r\n                logoutData.MarkingSessionTrackingId = parseInt(loginSession.MARKING_SESSION_TRACKING_ID);\r\n                logoutActionCreator.updateUserSession(logoutData);\r\n            }\r\n        };\r\n        /**\r\n         * setting login invalid state.\r\n         */\r\n        _this.onConcurrentSessionActive = function () {\r\n            _this.isConcurrentSessionActive = true;\r\n            _this.clearSession();\r\n        };\r\n        /**\r\n         * Clears the session after user option saved and logged_out status updated.\r\n         */\r\n        _this.clearSession = function () {\r\n            window.removeEventListener('beforeunload', navigationHelper.onBeforeWindowUnload);\r\n            /* tslint:disable:no-string-literal */\r\n            if (_this.isConcurrentSessionActive) {\r\n                window.sessionStorage['invaliduser'] = 'true';\r\n            }\r\n            else if (_this._isAutoLogOut) {\r\n                window.sessionStorage['autologout'] = 'true';\r\n            }\r\n            /* tslint:enable:no-string-literal */\r\n            userOptionsHelper.resetTokensAndRedirect();\r\n            navigationHelper.loadLoginPage();\r\n        };\r\n        /**\r\n         *  clear marks and annotations queue entry and update isDirty fields\r\n         */\r\n        _this.onSaveMarksAndAnnotations = function (markGroupId, saveMarksAndAnnotationTriggeringPoint, queueOperation, isnetworkerror) {\r\n            var saveErrorCode = markingStore.instance.getSaveMarksAndAnnotationErrorCode(markGroupId);\r\n            // selectedQIGForMarkerOperation become undefined when the marker is withdrawn from the selected qig.\r\n            // so added undefined check as part of bug 57226.\r\n            if (qigStore.instance.selectedQIGForMarkerOperation &&\r\n                qigStore.instance.selectedQIGForMarkerOperation.currentMarkingTarget.markingMode ===\r\n                    enums.MarkingMode.Simulation &&\r\n                qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n                _this.triggerPointAfterClose = saveMarksAndAnnotationTriggeringPoint;\r\n                if (_this.triggerPointAfterClose ===\r\n                    enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Submit) {\r\n                    _this.triggerPointAfterClose =\r\n                        enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse;\r\n                }\r\n                saveMarksAndAnnotationTriggeringPoint =\r\n                    enums.SaveMarksAndAnnotationsProcessingTriggerPoint.BackgroundWorker;\r\n                saveErrorCode = enums.SaveMarksAndAnnotationErrorCode.None;\r\n                marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, enums.MarksAndAnnotationsQueueOperation.Remove);\r\n                _this.setState({\r\n                    showSimulationExitedPopup: true\r\n                });\r\n            }\r\n            if (saveMarksAndAnnotationTriggeringPoint !==\r\n                enums.SaveMarksAndAnnotationsProcessingTriggerPoint.None) {\r\n                // reset the saveinprogress flag when savingmarks has been completed\r\n                marksAndAnnotationsSaveHelper.resetSaveInProgress();\r\n                /**\r\n                 * set the current marks and annotations save triggering point.\r\n                 */\r\n                _this.currentSaveMarksAndAnnotationTriggeringPoint = saveMarksAndAnnotationTriggeringPoint;\r\n                if (saveErrorCode === enums.SaveMarksAndAnnotationErrorCode.ResponseRemoved) {\r\n                    worklistActionCreator.getWorklistMarkerProgressData(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation\r\n                        .isElectronicStandardisationTeamMember);\r\n                    _this.expiredMarkGroupId = markGroupId;\r\n                    marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n                    _this.setState({\r\n                        isDisplayingResponseRemovedError: markingStore.instance.currentResponseMode === enums.ResponseMode.pending,\r\n                        doShowSavingMarksAndAnnotationsIndicator: false\r\n                    });\r\n                }\r\n                else if (saveErrorCode === enums.SaveMarksAndAnnotationErrorCode.ClosedResponse) {\r\n                    worklistActionCreator.getWorklistMarkerProgressData(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation\r\n                        .isElectronicStandardisationTeamMember);\r\n                    _this.expiredMarkGroupId = markGroupId;\r\n                    marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n                    _this.setState({\r\n                        isDisplayingGraceResponseExpiredError: markingStore.instance.currentResponseMode === enums.ResponseMode.pending,\r\n                        doShowSavingMarksAndAnnotationsIndicator: false\r\n                    });\r\n                }\r\n                else if (saveErrorCode === enums.SaveMarksAndAnnotationErrorCode.WithdrawnResponse) {\r\n                    /**\r\n                     * Calling the helper method to update the marks and annotations queue\r\n                     */\r\n                    marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n                    _this.onWithdrawnResponse(enums.SaveMarksAndAnnotationErrorCode.WithdrawnResponse, markingStore.instance.navigateTo);\r\n                }\r\n                else if (saveErrorCode === enums.SaveMarksAndAnnotationErrorCode.UnallocatedResponse ||\r\n                    saveErrorCode === enums.SaveMarksAndAnnotationErrorCode.MarksAndAnnotationsOutOfDate) {\r\n                    /**\r\n                     * Calling the helper method to update the marks and annotations queue\r\n                     */\r\n                    marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n                    if (saveMarksAndAnnotationTriggeringPoint ===\r\n                        enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Submit) {\r\n                        /**\r\n                         * When there are errors in saving marks and annotations we have to hide the busy indicator\r\n                         */\r\n                        busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.none);\r\n                        _this.setState({\r\n                            doShowSavingMarksAndAnnotationsIndicator: false,\r\n                            nonRecoverableSaveMarksAndAnnotationsErrorMessage: true\r\n                        });\r\n                    }\r\n                    else {\r\n                        if (saveMarksAndAnnotationTriggeringPoint ===\r\n                            enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse) {\r\n                            _this.saveMarksAndAnnotationsWithNonRecoverableError(saveMarksAndAnnotationTriggeringPoint, markGroupId, queueOperation);\r\n                        }\r\n                        else {\r\n                            // hide the saving marks and annotations busy indicator\r\n                            if (_this.state.doShowSavingMarksAndAnnotationsIndicator) {\r\n                                _this.setState({\r\n                                    doShowSavingMarksAndAnnotationsIndicator: false\r\n                                });\r\n                            }\r\n                            navigationHelper.loadContainerIfNeeded(enums.PageContainers.WorkList, enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse);\r\n                            _this.initiateContentRefresh();\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    _this.saveMarksAndAnnotationsWithNonRecoverableError(saveMarksAndAnnotationTriggeringPoint, markGroupId, queueOperation);\r\n                }\r\n            }\r\n            _this.setState({\r\n                isOnline: !isnetworkerror\r\n            });\r\n        };\r\n        /**\r\n         * show the error message when a marker is withdrawn from background\r\n         */\r\n        _this.onWithdrawnResponse = function (saveMarksAndAnnotationErrorCode, navigatingTo) {\r\n            _this.examinerApprovalStatus = saveMarksAndAnnotationErrorCode;\r\n            _this.navigateReponse = navigatingTo;\r\n            var currentQig = qigStore.instance.getOverviewData.qigSummary\r\n                .filter(function (qig) {\r\n                return qig.examinerRoleId ===\r\n                    examinerStore.instance.getMarkerInformation.examinerRoleId;\r\n            })\r\n                .first();\r\n            // removes entry from recent history\r\n            teamManagementActionCreator.removeHistoryItem(currentQig ? currentQig.markSchemeGroupId : 0);\r\n            _this.setState({\r\n                doShowSavingMarksAndAnnotationsIndicator: false,\r\n                isWithdrawnResponseError: true,\r\n                isBusy: false\r\n            });\r\n        };\r\n        /**\r\n         *  This will remove the item from marksAndAnnotations save processing queue.\r\n         */\r\n        _this.onSetHasNonRecoverableError = function (markGroupId) {\r\n            // Calling the helper method to update the marks and annotations queue\r\n            var queueOperation = enums.MarksAndAnnotationsQueueOperation.Remove;\r\n            marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n        };\r\n        /**\r\n         * Method to show the busy indicator on triggering saving of marks and annotations\r\n         */\r\n        _this.onSaveMarksAndAnnotationsTriggered = function (saveMarksAndAnnotationTriggeringPoint) {\r\n            if (saveMarksAndAnnotationTriggeringPoint !==\r\n                enums.SaveMarksAndAnnotationsProcessingTriggerPoint.None &&\r\n                saveMarksAndAnnotationTriggeringPoint !==\r\n                    enums.SaveMarksAndAnnotationsProcessingTriggerPoint.BackgroundWorker) {\r\n                _this.setState({\r\n                    doShowSavingMarksAndAnnotationsIndicator: true\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Go to logout after saving mark if there is any\r\n         */\r\n        _this.navigateAwayFromResponse = function () {\r\n            if (markingStore.instance.navigateTo === enums.SaveAndNavigate.toLogout) {\r\n                var logoutData = new logoutArgument();\r\n                logoutData.MarkingSessionTrackingId = parseInt(loginSession.MARKING_SESSION_TRACKING_ID);\r\n                logoutActionCreator.updateUserSession(logoutData);\r\n            }\r\n            else {\r\n                // reset mark entry deactivators on navigating away from response.\r\n                keyDownHelper.instance.resetMarkEntryDeactivators();\r\n                // we are deactivating the keydown helper while message panel or exception panel is open. We are disabling that\r\n                // during the corresponding panel is close. If user is navigate away from response screen without closing the message panel\r\n                // then we've to activate the keydown helper\r\n                if (messageStore.instance.isMessagePanelVisible) {\r\n                    keyDownHelper.instance.DeActivate(enums.MarkEntryDeactivator.Messaging);\r\n                }\r\n                else if (exceptionStore.instance.isExceptionPanelVisible) {\r\n                    keyDownHelper.instance.DeActivate(enums.MarkEntryDeactivator.Exception);\r\n                }\r\n                else if (markingStore.instance.navigateTo === enums.SaveAndNavigate.toMenu) {\r\n                    markingActionCreator.removeMarkEntrySelection();\r\n                    keyDownHelper.instance.DeActivate(enums.MarkEntryDeactivator.Menu);\r\n                }\r\n                _this.copyMarksAsDefinitiveSelected = true;\r\n            }\r\n        };\r\n        /**\r\n         * Method to show the busy indicator on triggering saving of marks and annotations\r\n         */\r\n        _this.refreshState = function () {\r\n            switch (navigationStore.instance.containerPage) {\r\n                case enums.PageContainers.Login:\r\n                    _this.clearSession();\r\n                    break;\r\n            }\r\n        };\r\n        /*\r\n         * On Accept Quality Feedback Action completedF\r\n         */\r\n        _this.onAcceptQualityFeedbackActionCompleted = function () {\r\n            var responseModeBasedOnQualityFeedback = qualityFeedbackHelper.getResponseModeBasedOnQualityFeedback();\r\n            if (responseModeBasedOnQualityFeedback !== enums.ResponseMode.closed) {\r\n                var responseMode = responseModeBasedOnQualityFeedback !== undefined\r\n                    ? responseModeBasedOnQualityFeedback\r\n                    : enums.ResponseMode.open;\r\n                if (qigStore.instance.selectedQIGForMarkerOperation) {\r\n                    worklistActionCreator.notifyWorklistTypeChange(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId, worklistStore.instance.currentWorklistType, responseMode, worklistStore.instance.getRemarkRequestType, worklistStore.instance.isDirectedRemark, qigStore.instance.selectedQIGForMarkerOperation\r\n                        .isElectronicStandardisationTeamMember);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Show response in grace not fully marked message.\r\n         */\r\n        _this.showResponseInGraceNotFullyMarkedMessage = function (failureReason) {\r\n            _this._failureReason = failureReason;\r\n            _this.setState({ isDisplayingGraceResponseLessthan100PercentageError: true });\r\n        };\r\n        /**\r\n         * Show mandatory message popup\r\n         */\r\n        _this.showMandatoryMessagePopup = function (isUnreadMandatoryMessagePresent, triggerPoint) {\r\n            if (isUnreadMandatoryMessagePresent) {\r\n                _this.mandatoryMessageTriggeringPoint = triggerPoint;\r\n                _this.onPopUpDisplayEvent(enums.PopUpType.MandatoryMessage, enums.PopUpActionType.Show, null);\r\n            }\r\n        };\r\n        /**\r\n         * Display the corresponding popups\r\n         */\r\n        _this.onPopUpDisplayEvent = function (popUpType, popUpActionType, popUpData) {\r\n            _this.popUpData = popUpData;\r\n            if (popUpActionType === enums.PopUpActionType.Show) {\r\n                _this.setState({ popUpType: popUpType });\r\n            }\r\n        };\r\n        /**\r\n         * handle different popup actions\r\n         */\r\n        _this.handlePopUpAction = function (popUpType, popUpActionType) {\r\n            switch (popUpActionType) {\r\n                case enums.PopUpActionType.Show:\r\n                    break;\r\n                case enums.PopUpActionType.Yes:\r\n                    // when navigated from message panel the navigate action is called\r\n                    if (_this.messageNavigationArguments) {\r\n                        _this.messageNavigationArguments.canNavigate = true;\r\n                        messagingActionCreator.canMessageNavigate(_this.messageNavigationArguments);\r\n                        _this.messageNavigationArguments = undefined;\r\n                        messagingActionCreator.messageAction(enums.MessageViewAction.Close);\r\n                        _this.setState({ popUpType: undefined });\r\n                    }\r\n                    else {\r\n                        popUpDisplayActionCreator.popUpDisplay(popUpType, popUpActionType, messageStore.instance.navigateFrom, {});\r\n                        _this.setState({ popUpType: undefined });\r\n                    }\r\n                    break;\r\n                case enums.PopUpActionType.No:\r\n                    _this.messageNavigationArguments = undefined;\r\n                    popUpDisplayActionCreator.popUpDisplay(popUpType, popUpActionType, messageStore.instance.navigateFrom, {});\r\n                    _this.setState({ popUpType: undefined });\r\n                    break;\r\n                case enums.PopUpActionType.Ok:\r\n                    if (popUpType === enums.PopUpType.MandatoryMessage &&\r\n                        _this.props.footerType !== enums.FooterType.Message) {\r\n                        //Response displayed in Atypical worklist even after changing the response to 'On hold' in AI Image Management\r\n                        //so do refresh worklist content when mandatory message popup appears\r\n                        //This will affect all response types except live.\r\n                        _this.storageAdapterHelper.clearStorageArea('worklist');\r\n                        // redirecting to inbox screen, if user currently not in the message screen\r\n                        navigationHelper.loadMessagePage();\r\n                    }\r\n                    else if (popUpType === enums.PopUpType.MandatoryMessage &&\r\n                        _this.props.footerType === enums.FooterType.Message &&\r\n                        _this.mandatoryMessageTriggeringPoint !== enums.TriggerPoint.MessageStore) {\r\n                        // we don't need to refresh inbox tab if we found mandatory messages are available during message loading action\r\n                        // refresh the inbox tab with selected mandatory message\r\n                        messagingActionCreator.refreshMessageFolder(enums.MessageFolderType.Inbox);\r\n                    }\r\n                    _this.mandatoryMessageTriggeringPoint = enums.TriggerPoint.None;\r\n                    _this.setState({ popUpType: undefined });\r\n                    break;\r\n            }\r\n        };\r\n        /**\r\n         * On response submission completed\r\n         */\r\n        _this.onSubmitResponseCompleted = function (fromMarkScheme, submittedMarkGroupIds, selectedDisplayId) {\r\n            if (!_this._showShareLoadingIndicatorForPE) {\r\n                _this.submitMessageErrorPopupContent = worklistComponentHelper.showMessageOnSubmitResponse(submitStore.instance.getSubmittedResponsesCount());\r\n            }\r\n            //updating provisional response collection and navigating after sharing Provisional Response\r\n            if (_this._showShareLoadingIndicator && fromMarkScheme) {\r\n                var stdWorklistView = standardisationSetupStore.instance.isTotalMarksViewSelected ? enums.STDWorklistViewType.ViewTotalMarks :\r\n                    enums.STDWorklistViewType.ViewMarksByQuestion;\r\n                var isNextResponseAvailable = standardisationSetupStore.instance.isNextResponseAvailable(selectedDisplayId);\r\n                var nextResponseId = markerOperationModeFactory.operationMode.nextResponseId(responseStore.instance.selectedDisplayId.toString());\r\n                if (isNextResponseAvailable) {\r\n                    var responseData = standardisationSetupStore.instance.getResponseDetails(responseStore.instance.selectedDisplayId.toString());\r\n                    // remove shared response from provisional response worklist collection.\r\n                    standardisationActionCreator.updateStandardisationResponseCollection(responseData.esMarkGroupId, enums.StandardisationSetup.ProvisionalResponse);\r\n                    _this.setState({\r\n                        isBusy: false\r\n                    });\r\n                    navigationHelper.responseNavigation(enums.ResponseNavigation.next, false, parseInt(nextResponseId));\r\n                }\r\n                else {\r\n                    // if next response is not available then load worklist.\r\n                    navigationHelper.loadStandardisationSetup();\r\n                }\r\n                return;\r\n            }\r\n            /* Logging event in google analytics or application insights based on the configuration */\r\n            new auditLoggingHelper().logHelper.logEventOnSubmitResponse(submitStore.instance.getSubmittedResponsesCount(), submittedMarkGroupIds);\r\n            var messageKey = '';\r\n            var messageHeaderKey = undefined;\r\n            // If No validation Error, Check the whether to display the Quality Feedback Message\r\n            if (worklistComponentHelper.shouldShowQualityFeedbackMessage()) {\r\n                messageKey = localeStore.instance.TranslateText('marking.worklist.quality-feedback-dialog.body');\r\n                messageHeaderKey = localeStore.instance.TranslateText('marking.worklist.quality-feedback-dialog.header');\r\n            }\r\n            else if (submitStore.instance.getCurrentWorklistType === enums.WorklistType.standardisation ||\r\n                submitStore.instance.getCurrentWorklistType === enums.WorklistType.secondstandardisation) {\r\n                if (submitStore.instance.getSubmitResponseReturn.examinerApprovalStatus ===\r\n                    enums.ExaminerApproval.Approved) {\r\n                    messageKey = localeStore.instance.TranslateText(worklistComponentHelper.getAutoApprovalSecondaryContent(submittedMarkGroupIds.length));\r\n                    messageHeaderKey = localeStore.instance.TranslateText('marking.worklist.auto-approved-dialog.header');\r\n                }\r\n            }\r\n            if (messageKey !== '') {\r\n                _this.messageDetails = {\r\n                    messageHeader: messageHeaderKey,\r\n                    messageString: messageKey,\r\n                    submittedMarkGroupIds: submittedMarkGroupIds,\r\n                    displayId: selectedDisplayId,\r\n                    isFromMarkScheme: fromMarkScheme\r\n                };\r\n                _this.setState({\r\n                    doShowSavingMarksAndAnnotationsIndicator: false,\r\n                    isBusy: false,\r\n                    doShowPopup: true\r\n                });\r\n            }\r\n            else if (_this.submitMessageErrorPopupContent !== undefined) {\r\n                _this.setState({\r\n                    isSubmitErrorPopDisplaying: true,\r\n                    isBusy: false,\r\n                    doShowSavingMarksAndAnnotationsIndicator: false\r\n                });\r\n            }\r\n            else {\r\n                _this.navigateAfterSubmit(submittedMarkGroupIds, selectedDisplayId, fromMarkScheme);\r\n            }\r\n        };\r\n        /**\r\n         * Navigate after the submit\r\n         */\r\n        _this.navigateAfterSubmit = function (submittedMarkGroupIds, displayId, fromMarkScheme) {\r\n            // Inform response navigation module.\r\n            responseActionCreator.navigateAfterSubmit(submittedMarkGroupIds, displayId, fromMarkScheme);\r\n            // Navigate to corresponding worklist even if not in QualityFeedbackOutstanding,\r\n            // to ensure that the navigation happens correctly at the time of submition.\r\n            qualityFeedbackHelper.forceNavigationToWorklist(submitStore.instance.getSubmitResponseReturn.hasQualityFeedbackOutstanding);\r\n            // Refresh the worklist\r\n            _this.initiateContentRefresh();\r\n            // Clear the marks and annotations if needed for Reloading the DefinitiveMarks\r\n            submitHelper.clearMarksAndAnnotations(submittedMarkGroupIds);\r\n        };\r\n        /**\r\n         * This will display the unread mandatory message popup while user in message screen using background pulse\r\n         */\r\n        _this.onUpdateNotification = function (unreadMessageCount, isMessageReadCountChanged, unreadMandatoryMessageCount) {\r\n            // display unread mandatory messages are available popup while user in message screen and not composing a message\r\n            if (unreadMandatoryMessageCount > 0 &&\r\n                _this.props.footerType === enums.FooterType.Message &&\r\n                !messageStore.instance.isMessagePanelVisible) {\r\n                _this.mandatoryMessageTriggeringPoint = enums.TriggerPoint.BackgroundPulse;\r\n                _this.onPopUpDisplayEvent(enums.PopUpType.MandatoryMessage, enums.PopUpActionType.Show, null);\r\n            }\r\n        };\r\n        /**\r\n         * Show pop up if the message panel is edited on navigation\r\n         */\r\n        _this.onMessagePanelEdited = function (messageNavigationArgument) {\r\n            if (messageNavigationArgument.hasMessageContainsDirtyValue &&\r\n                !messageNavigationArgument.navigationConfirmed) {\r\n                _this.messageNavigationArguments = messageNavigationArgument;\r\n                _this.messageNavigationArguments.navigationConfirmed = true;\r\n                if (messageNavigationArgument.navigateTo === enums.MessageNavigation.newException ||\r\n                    messageNavigationArgument.navigateTo ===\r\n                        enums.MessageNavigation.exceptionWithInResponse) {\r\n                    _this.popUpData.popupContent = localeStore.instance.TranslateText('marking.response.discard-exception-dialog.body-open-another');\r\n                }\r\n                else if (messageNavigationArgument.navigateTo === enums.MessageNavigation.ChangeStatus) {\r\n                    _this.popUpData.popupContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.body-start-new-message-while-composing');\r\n                }\r\n                else {\r\n                    _this.popUpData.popupContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.body-navigated-away');\r\n                }\r\n                _this.setState({ popUpType: enums.PopUpType.DiscardMessageNavigateAway });\r\n            }\r\n        };\r\n        /**\r\n         * Show mandatory message validation popup\r\n         */\r\n        _this.mandatoryMessageValidationPopupVisibility = function () {\r\n            _this.setState({ doShowMandatoryMessageValidationPopup: true });\r\n        };\r\n        /**\r\n         * Check the QIG got withdrwan\r\n         */\r\n        _this.onResponseDataReceived = function (searchedResponseData) {\r\n            if (searchedResponseData.approvalStatusId === enums.ExaminerApproval.Withdrawn) {\r\n                teamManagementActionCreator.removeHistoryItem(searchedResponseData.markSchemeGroupId);\r\n                _this.setState({ isWithdrawnResponseError: true, isBusy: false });\r\n            }\r\n        };\r\n        /**\r\n         * show error popup on response search failed\r\n         */\r\n        _this.onResponseDataReceivedFailed = function (serviceFailed) {\r\n            // If this service failed then we dont know whether the response is available or not\r\n            if (!serviceFailed) {\r\n                return;\r\n            }\r\n            _this.setState({ isResponseSearchFailed: true, isBusy: false });\r\n        };\r\n        _this.handleErrorNavigationTeamManagement = function (failureCode, markSchemeGroupId) {\r\n            if (markSchemeGroupId === void 0) { markSchemeGroupId = 0; }\r\n            switch (failureCode) {\r\n                case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                case enums.FailureCode.HierarchyChanged:\r\n                    navigationHelper.loadTeamManagement();\r\n                    userInfoActionCreator.changeMenuVisibility(false);\r\n                    break;\r\n                case enums.FailureCode.Withdrawn:\r\n                    _this.storageAdapterHelper.clearCacheByKey('qigselector', 'overviewdata');\r\n                    navigationHelper.loadQigSelector();\r\n                    userInfoActionCreator.changeMenuVisibility(false);\r\n                    teamManagementActionCreator.removeHistoryItem(markSchemeGroupId);\r\n                    break;\r\n            }\r\n        };\r\n        /**\r\n         * Adding current items to history based upon the user's action\r\n         */\r\n        _this.addToRecentHistory = function () {\r\n            if (!worklistStore.instance.isMarkingCheckMode) {\r\n                _this.addSelectedQigDetailsToUserOption();\r\n            }\r\n            // If the container page is response we dont want to add that to the history\r\n            if (!qigStore.instance.selectedQIGForMarkerOperation ||\r\n                worklistStore.instance.isMarkingCheckMode ||\r\n                navigationStore.instance.containerPage === enums.PageContainers.Response) {\r\n                return;\r\n            }\r\n            var _historyItem = new historyItem();\r\n            // QIG Name based on string format CC\r\n            _historyItem.qigName = stringFormatHelper.formatAwardingBodyQIG(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupName, qigStore.instance.selectedQIGForMarkerOperation.assessmentCode, qigStore.instance.selectedQIGForMarkerOperation.sessionName, qigStore.instance.selectedQIGForMarkerOperation.componentId, qigStore.instance.selectedQIGForMarkerOperation.questionPaperName, qigStore.instance.selectedQIGForMarkerOperation.assessmentName, qigStore.instance.selectedQIGForMarkerOperation.componentName, stringFormatHelper.getOverviewQIGNameFormat());\r\n            _historyItem.qigId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n            _historyItem.timeStamp = Date.now();\r\n            // adding to history item based on Marker Operation Mode\r\n            if (markerOperationModeFactory.operationMode.isTeamManagementMode) {\r\n                var _teamManagementHistoryInfo = new teamManagementHistoryInfo();\r\n                _teamManagementHistoryInfo.worklistType = worklistStore.instance.currentWorklistType;\r\n                _teamManagementHistoryInfo.responseMode = worklistStore.instance.getResponseMode;\r\n                _teamManagementHistoryInfo.remarkRequestType =\r\n                    worklistStore.instance.getRemarkRequestType;\r\n                _teamManagementHistoryInfo.subordinateExaminerRoleID =\r\n                    navigationStore.instance.containerPage !== enums.PageContainers.TeamManagement\r\n                        ? teamManagementStore.instance.examinerDrillDownData\r\n                            ? teamManagementStore.instance.examinerDrillDownData.examinerRoleId\r\n                            : 0\r\n                        : 0;\r\n                _teamManagementHistoryInfo.subordinateExaminerID =\r\n                    navigationStore.instance.containerPage !== enums.PageContainers.TeamManagement\r\n                        ? teamManagementStore.instance.examinerDrillDownData\r\n                            ? teamManagementStore.instance.examinerDrillDownData.examinerId\r\n                            : 0\r\n                        : 0;\r\n                _teamManagementHistoryInfo.supervisorExaminerRoleID = teamManagementStore.instance\r\n                    .selectedExaminerRoleId\r\n                    ? teamManagementStore.instance.selectedExaminerRoleId\r\n                    : operationModeHelper.examinerRoleId;\r\n                _teamManagementHistoryInfo.selectedTab = teamManagementStore.instance\r\n                    .selectedTeamManagementTab\r\n                    ? teamManagementStore.instance.selectedTeamManagementTab\r\n                    : enums.TeamManagement.MyTeam;\r\n                _teamManagementHistoryInfo.currentContainer = navigationStore.instance.containerPage;\r\n                _historyItem.team = _teamManagementHistoryInfo;\r\n            }\r\n            else if (markerOperationModeFactory.operationMode.isStandardisationSetupMode) {\r\n                var _standardisationSetupHistoryInfo = new standardisationSetupHistoryInfo();\r\n                _standardisationSetupHistoryInfo.standardisationSetupWorklistType =\r\n                    standardisationSetupStore.instance.selectedStandardisationSetupWorkList;\r\n                _standardisationSetupHistoryInfo.timeStamp = Date.now();\r\n                _historyItem.standardisationSetup = _standardisationSetupHistoryInfo;\r\n            }\r\n            else {\r\n                var _worklistHistoryInfo = new worklistHistoryInfo();\r\n                _worklistHistoryInfo.worklistType = worklistStore.instance.currentWorklistType;\r\n                _worklistHistoryInfo.responseMode = worklistStore.instance.getResponseMode;\r\n                _worklistHistoryInfo.remarkRequestType = worklistStore.instance.getRemarkRequestType;\r\n                _historyItem.myMarking = _worklistHistoryInfo;\r\n            }\r\n            var _isMarkingEnabled = qigStore.instance.selectedQIGForMarkerOperation &&\r\n                qigStore.instance.selectedQIGForMarkerOperation.isMarkingEnabled;\r\n            _historyItem.markingMethodId =\r\n                qigStore.instance.selectedQIGForMarkerOperation.markingMethod;\r\n            _historyItem.isElectronicStandardisationTeamMember =\r\n                qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember;\r\n            // used for showing/hiding marking link in menu's histroy list under menu tab\r\n            _historyItem.isMarkingEnabled =\r\n                _isMarkingEnabled &&\r\n                    qigStore.instance.selectedQIGForMarkerOperation.examinerQigStatus !==\r\n                        enums.ExaminerQIGStatus.WaitingStandardisation &&\r\n                    qigStore.instance.selectedQIGForMarkerOperation.currentMarkingTarget != null;\r\n            // used for showing/hiding teammanagement link in menu's histroy list under menu tab\r\n            _historyItem.isTeamManagementEnabled =\r\n                qigStore.instance.selectedQIGForMarkerOperation &&\r\n                    qigStore.instance.selectedQIGForMarkerOperation.isTeamManagementEnabled;\r\n            // used for showing/hiding standardisation setup link in menu's history list under menu tab.\r\n            _historyItem.isStandardisationSetupEnabled =\r\n                (qigStore.instance.isStandardisationSetupButtonVisible(qigStore.instance.selectedQIGForMarkerOperation) ||\r\n                    qigStore.instance.isStandardisationSetupLinkVisible(qigStore.instance.selectedQIGForMarkerOperation));\r\n            _historyItem.questionPaperPartId =\r\n                qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId;\r\n            _historyItem.examinerRoleId = operationModeHelper.examinerRoleId;\r\n            loadContainerActionCreator.addToRecentHistory(_historyItem);\r\n        };\r\n        /**\r\n         * Show No Marking Check Available Popup\r\n         */\r\n        _this.showNoMarkingCheckAvailableMessage = function (popUpType, popUpActionType, popUpData) {\r\n            if (popUpActionType === enums.PopUpActionType.Show &&\r\n                popUpType === enums.PopUpType.NoMarkingCheckRequestPossible) {\r\n                _this.setState({\r\n                    popUpType: popUpType,\r\n                    doShowNoMarkingCheckAvailableMessage: true\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Navigate to team management\r\n         */\r\n        _this.onTeamManagementOpen = function (isFromHistory) {\r\n            if (isFromHistory === void 0) { isFromHistory = false; }\r\n            navigationHelper.loadTeamManagement(isFromHistory);\r\n        };\r\n        /**\r\n         * Marking Check Complete Button Clicked\r\n         */\r\n        _this.markCheckCompleteButtonEvent = function () {\r\n            _this.setState({ isMarkingCheckCompleteConfirmationPopupDisplaying: true });\r\n        };\r\n        /**\r\n         *  Marking Check Completed Event\r\n         */\r\n        _this.markCheckCompletedEvent = function () {\r\n            markingCheckActionCreator.getMarkCheckExaminers(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n        };\r\n        /**\r\n         * Scroll view when focus comes to text box in android like in ipad\r\n         * Firefox is exclueded, scrollIntoViewIfNeeded is not supporting by browser #49184.\r\n         */\r\n        _this.scrollIntoViewOnEditingTextForAndroid = function () {\r\n            var activeElement = document.activeElement;\r\n            if (htmlUtilities.isAndroidDevice &&\r\n                !htmlUtilities.isAndroidFirefox &&\r\n                (activeElement.tagName === 'TEXTAREA' || activeElement.tagName === 'INPUT')) {\r\n                var that = _this;\r\n                setTimeout(function () {\r\n                    var el = $(activeElement)[0];\r\n                    el.scrollIntoViewIfNeeded(true);\r\n                }, 0);\r\n            }\r\n        };\r\n        /**\r\n         * Show locks in qig popup\r\n         */\r\n        _this.onShowLocksInQigsPopup = function (_locksInQigDetailsList) {\r\n            if (qigStore.instance.doShowLocksInQigPopUp &&\r\n                _locksInQigDetailsList.locksInQigDetailsList &&\r\n                _locksInQigDetailsList.locksInQigDetailsList.count()) {\r\n                _this.setState({\r\n                    reRenderLocksInQigPopUp: true\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * This method will render the pop up with no of locks and qig name\r\n         */\r\n        _this.renderLocksInQigPopUp = function () {\r\n            // If Exam body CC's not loaded yet, then do not show the locks popup\r\n            var locksPopup = ccStore.instance.isExamBodyCCLoaded ? (React.createElement(LocksInQigPopup, { showLocksInQigPopUp: _this.state.reRenderLocksInQigPopUp, fromLogout: qigStore.instance.isShowLocksFromLogout, onCancelClickOfLocksInQigPopup: _this.onCancelClickOfLocksInQigPopup, onLogoutClickOfLocksInQigPopup: _this.onLogoutClickOfLocksInQigPopup, id: 'LocksInQigPopup', key: 'LocksInQigPopup_key' })) : null;\r\n            return locksPopup;\r\n        };\r\n        /**\r\n         * Locks in qig list recieved event\r\n         */\r\n        _this.onQigSelectedFromLockedList = function (qigId) {\r\n            if (loginStore.instance.isAdminRemarker) {\r\n                // Invoking the action creator to retrieve the Admin remarkers QIG details.\r\n                qigActionCreator.getAdminRemarkerQIGSelectorData(true);\r\n            }\r\n            else {\r\n                // Invoking the action creator to retrieve the QIG list for the QIG Selector\r\n                qigActionCreator.getQIGSelectorData(qigId, true, false, false, true);\r\n            }\r\n        };\r\n        /**\r\n         * Cancel click on locks in qig popup\r\n         * @private\r\n         *\r\n         * @memberof Footer\r\n         */\r\n        _this.onCancelClickOfLocksInQigPopup = function () {\r\n            _this.setState({\r\n                reRenderLocksInQigPopUp: false\r\n            });\r\n        };\r\n        _this.onLogoutClickOfLocksInQigPopup = function () {\r\n            _this.onYesClickOfLogoutConfirmation(false);\r\n            _this.setState({\r\n                reRenderLocksInQigPopUp: false\r\n            });\r\n        };\r\n        _this.navigateToQigFromLockedList = function (isDataFromSearch, isDataFromHistory, isFromLocksInPopUp) {\r\n            if (isDataFromSearch === void 0) { isDataFromSearch = false; }\r\n            if (isDataFromHistory === void 0) { isDataFromHistory = false; }\r\n            if (isFromLocksInPopUp === void 0) { isFromLocksInPopUp = false; }\r\n            if (isFromLocksInPopUp) {\r\n                var changeOperationModePromise = userInfoActionCreator.changeOperationMode(enums.MarkerOperationMode.TeamManagement);\r\n                var markSchemeGroupCCPromise = ccActionCreator.getMarkSchemeGroupCCs(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId);\r\n                var openQIGPromise = void 0;\r\n                if (qigStore.instance.getOverviewData) {\r\n                    openQIGPromise = qigActionCreator.openQIG(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, false);\r\n                }\r\n                else {\r\n                    openQIGPromise = qigActionCreator.getQIGSelectorData(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n                }\r\n                var that = _this;\r\n                Promise.Promise\r\n                    .all([changeOperationModePromise, markSchemeGroupCCPromise, openQIGPromise])\r\n                    .then(function (result) {\r\n                    teamManagementActionCreator.openTeamManagement(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, false, true);\r\n                });\r\n            }\r\n            _this.setState({\r\n                reRenderLocksInQigPopUp: false\r\n            });\r\n        };\r\n        _this.doLogoutPopup = function (isFromLogout, _locksInQigDetailsList) {\r\n            if (isFromLogout) {\r\n                if (_locksInQigDetailsList.locksInQigDetailsList &&\r\n                    _locksInQigDetailsList.locksInQigDetailsList.count() > 0) {\r\n                    qigActionCreator.showLocksInQigPopup(true, true);\r\n                }\r\n                else {\r\n                    userInfoActionCreator.showLogoutPopup();\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * show confirmation popup on submiting simulation response\r\n         */\r\n        _this.onshowSimulationResponseSubmitConfirmationPopup = function () {\r\n            /**\r\n             * for submit all the markgroup id will always be zero\r\n             */\r\n            if (submitStore.instance.getMarkGroupId > 0) {\r\n                _this.simulationResponseSubmitConfirmationDialogueContent = localeStore.instance.TranslateText('marking.worklist.submit-response-dialog.body-simulation');\r\n                _this.simulationResponseSubmitConfirmationDialogueHeader = localeStore.instance.TranslateText('marking.worklist.submit-response-dialog.header');\r\n            }\r\n            else {\r\n                _this.simulationResponseSubmitConfirmationDialogueContent = localeStore.instance.TranslateText('marking.worklist.submit-all-responses-dialog.body-simulation');\r\n                _this.simulationResponseSubmitConfirmationDialogueHeader = localeStore.instance.TranslateText('marking.worklist.submit-all-responses-dialog.header');\r\n            }\r\n            _this.setState({ showSimulationResponseSubmitConfirmationPopup: true });\r\n        };\r\n        /**\r\n         * call when share toggle button is turned off\r\n         */\r\n        _this.shareConfirmationPopup = function (clientToken, showSharePopup) {\r\n            _this.shareConfirmationClientToken = clientToken;\r\n            markingActionCreator.showOrHideRemoveContextMenu(false);\r\n            _this.setState({\r\n                isShared: showSharePopup,\r\n                doShowShareConfirmationPopup: true\r\n            });\r\n        };\r\n        /**\r\n         * Render simulation exited qigs in popup\r\n         */\r\n        _this.renderSimulationExitedQigsPopup = function () {\r\n            var secondaryContent = null;\r\n            var footerContent = null;\r\n            if (_this.state.showAllSimulationExitedQigs) {\r\n                secondaryContent = localeStore.instance.TranslateText('marking.worklist.exited-simulation-dialog.subheader-multiple-qigs');\r\n                footerContent = localeStore.instance.TranslateText('marking.worklist.exited-simulation-dialog.body-multiple-qigs');\r\n            }\r\n            else {\r\n                secondaryContent = localeStore.instance.TranslateText('marking.worklist.exited-simulation-dialog.subheader-single-qig');\r\n                footerContent = localeStore.instance.TranslateText('marking.worklist.exited-simulation-dialog.body-single-qig');\r\n            }\r\n            // If Exam body CC's not loaded yet, then do not show the simulation exited qigs popup\r\n            var simulationExitedQigsPopup = ccStore.instance.isExamBodyCCLoaded ? (React.createElement(GenericDialog, { content: null, multiLineContent: _this.getSimulationModeExitedQigs(), header: localeStore.instance.TranslateText('marking.worklist.exited-simulation-dialog.header'), secondaryContent: secondaryContent, displayPopup: _this.state.showSimulationExitedPopup, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: _this.onOKClickOfSimulationExitedQigsPopup.bind(_this), id: 'moveSimulation', key: 'moveSimulationMessage', popupDialogType: enums.PopupDialogType.SimulationExited, footerContent: footerContent })) : null;\r\n            return simulationExitedQigsPopup;\r\n        };\r\n        /**\r\n         * On Ok button click of simulation exited qigs popup\r\n         */\r\n        _this.onOKClickOfSimulationExitedQigsPopup = function () {\r\n            var currentContainer = navigationStore.instance.containerPage;\r\n            // When the popup is displayed in the qigselector\r\n            if (_this.state.showAllSimulationExitedQigs &&\r\n                currentContainer === enums.PageContainers.QigSelector) {\r\n                simulationModeHelper.clearCacheBeforBeforeSimulationTargetCompletion();\r\n                simulationModeHelper.handleSimulationTargetCompletion(true);\r\n            }\r\n            else {\r\n                // When only the current qig is shown in the popup\r\n                if (!_this.state.showAllSimulationExitedQigs) {\r\n                    simulationModeHelper.clearCacheBeforBeforeSimulationTargetCompletion();\r\n                    simulationModeHelper.handleSimulationTargetCompletion(false);\r\n                }\r\n            }\r\n            _this.processBasedOnSaveMarksAndAnnotationTriggeringPoint(_this.triggerPointAfterClose);\r\n            _this.triggerPointAfterClose = 0;\r\n        };\r\n        /**\r\n         * When standardisation setup is completed in background\r\n         */\r\n        _this.onStandardisationSetupCompletionInBackground = function () {\r\n            if (navigationStore.instance.containerPage === enums.PageContainers.WorkList) {\r\n                _this.setState({\r\n                    showSimulationExitedPopup: true,\r\n                    showAllSimulationExitedQigs: false\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * On simulation target completion\r\n         */\r\n        _this.onSimulationTargetCompletion = function () {\r\n            var navigateTo = qigStore.instance.navigateToAfterStdSetupCheck;\r\n            _this.setState({\r\n                showSimulationExitedPopup: false\r\n            });\r\n            if (!_this.state.showAllSimulationExitedQigs) {\r\n                if (navigateTo === enums.PageContainers.Message) {\r\n                    navigationHelper.loadMessagePage();\r\n                }\r\n                else if (navigateTo === enums.PageContainers.WorkList) {\r\n                    navigationHelper.loadWorklist();\r\n                }\r\n                else if (navigateTo === enums.PageContainers.TeamManagement) {\r\n                    navigationHelper.loadTeamManagement();\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * On getting the simulation exited qigs and locks in qigs data\r\n         */\r\n        _this.onSimulationExitedQigsAndLocksInQigsRecieved = function (isFromLogout) {\r\n            if (simulationModeHelper.isSimulationExitedQigDataAvailable) {\r\n                // If there are simulation exited qigs then show the popup\r\n                _this.setState({\r\n                    showSimulationExitedPopup: true,\r\n                    showAllSimulationExitedQigs: true\r\n                });\r\n            }\r\n            else if (simulationModeHelper.isLockInQigsDataAvailable) {\r\n                // Show locks if there is no simulation\r\n                qigActionCreator.showLocksInQigPopup(true, isFromLogout);\r\n            }\r\n        };\r\n        /**\r\n         * On standardisation setup completion\r\n         */\r\n        _this.onStandardisationSetupCompletion = function () {\r\n            if (qigStore.instance.isStandardisationsetupCompletedForTheQig &&\r\n                qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n                _this.setState({\r\n                    showSimulationExitedPopup: true,\r\n                    showAllSimulationExitedQigs: false\r\n                });\r\n            }\r\n            else if (qigStore.instance.navigateToAfterStdSetupCheck === enums.PageContainers.Login) {\r\n                // Checking whether there are any locked examiners currently, if the standardisation setup was not completed\r\n                // and the user was trying to logout.\r\n                qigActionCreator.getLocksInQigs(true);\r\n            }\r\n        };\r\n        /**\r\n         * On getting the simulation exited qigs data\r\n         */\r\n        _this.onSimulationExitedQigsRecieved = function () {\r\n            if (simulationModeHelper.isSimulationExitedQigDataAvailable) {\r\n                _this.setState({\r\n                    showSimulationExitedPopup: true,\r\n                    showAllSimulationExitedQigs: true\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Method to be invoked when browser is online.\r\n         */\r\n        _this.updateOnlineStatus = function () {\r\n            // sends ping to validate network is offline\r\n            applicationActionCreator.validateNetWorkStatus(true);\r\n        };\r\n        /**\r\n         * On ok click of submit response error popup\r\n         */\r\n        _this.onSubmitResponseErrorPopupOkClick = function () {\r\n            _this.setState({ isSubmitErrorPopDisplaying: false });\r\n            _this.initiateContentRefresh();\r\n            if (ecourseworkHelper.isECourseworkComponent) {\r\n                ecourseworkHelper.clearEcourseworkFileData();\r\n            }\r\n            else {\r\n                navigationHelper.loadWorklist();\r\n            }\r\n        };\r\n        /**\r\n         * On OK click of Autozoned message popup\r\n         */\r\n        _this.onAutozonedWarningMessageOkClick = function () {\r\n            //change the state to false to close the popup\r\n            _this.setState({ isAutozonedMessagePopupDisplaying: false });\r\n        };\r\n        /**\r\n         * On Ecoursework File data cleared\r\n         */\r\n        _this.onEcourseworkFileDataCleared = function () {\r\n            ecourseworkHelper.fetchECourseWorkCandidateScriptMetadata(null, true);\r\n            navigationHelper.loadWorklist();\r\n        };\r\n        /**\r\n         * on click select to mark popup in Std setup centre script\r\n         */\r\n        _this.onSelectStdSetupResponseToMark = function (popupType, provisionalQigDetails) {\r\n            var provisionalMarkingType = enums.ProvisionalMarkingType.None;\r\n            if (popupType === enums.PopUpType.SelectToMarkAsProvisional && _this.isCommonProvisionalStandardisationCcOn()) {\r\n                provisionalMarkingType = enums.ProvisionalMarkingType.AllocateToAll;\r\n            }\r\n            if (provisionalQigDetails) {\r\n                _this.populateCreateMultiQIGProvisionalsPopUpData(provisionalQigDetails);\r\n            }\r\n            _this.setState({ popUpType: popupType, provisionalMarkingType: provisionalMarkingType });\r\n        };\r\n        /**\r\n         * on cancel click of the select response to mark as provisional popup\r\n         */\r\n        _this.onCancelClickOfSelectResponseToMarkasProvisional = function () {\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n        };\r\n        /**\r\n         * cancel click on mark as definitive popup.\r\n         */\r\n        _this.onCancelClickOnMarkAsDefinitivePopUp = function () {\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n            _this.copyMarksAsDefinitiveSelected = true;\r\n        };\r\n        /**\r\n         * submit click on mark as definitive popup.\r\n         */\r\n        _this.submitClickOnMarkAsDefinitivePopUp = function () {\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n            var standardisationResponseDataExaminerRoleId = 0;\r\n            var currentExaminerRoleId = 0;\r\n            var standardisationResponseData = standardisationSetupStore.instance.fetchStandardisationResponseData();\r\n            if (standardisationResponseData) {\r\n                standardisationResponseDataExaminerRoleId = standardisationResponseData.examinerRoleId;\r\n                currentExaminerRoleId = qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId;\r\n            }\r\n            standardisationActionCreator.copyMarksAndAnnotationsAsDefinitive(_this.copyMarksAsDefinitiveSelected, standardisationResponseDataExaminerRoleId !== currentExaminerRoleId, responseHelper.hasAdditionalObject);\r\n        };\r\n        /**\r\n         * on mark later clicked for select responses popup to move as provisional\r\n         */\r\n        _this.selectProvisionalMarkLaterClick = function () {\r\n            var markSchemeGroupIds = Array();\r\n            if (_this.multiQigCheckboxItems && _this.multiQigCheckboxItems.length > 1) {\r\n                _this.multiQigCheckboxItems.map(function (item) {\r\n                    if (item.isChecked) {\r\n                        markSchemeGroupIds.push(item.id);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                markSchemeGroupIds.push(standardisationSetupStore.instance.markSchemeGroupId);\r\n            }\r\n            standardisationActionCreator.createStandardisationRig(standardisationSetupStore.instance.examinerRoleId, standardisationSetupStore.instance.selectedResponseId, markSchemeGroupIds, enums.MarkingMode.PreStandardisation, false, _this.state.provisionalMarkingType);\r\n        };\r\n        /**\r\n         * on mark now clicked for select responses popup to move as provisional\r\n         */\r\n        _this.selectProvisionalMarkNowClick = function () {\r\n            var markSchemeGroupIds = Array();\r\n            if (_this.multiQigCheckboxItems && _this.multiQigCheckboxItems.length > 1) {\r\n                _this.multiQigCheckboxItems.map(function (item) {\r\n                    if (item.isChecked) {\r\n                        markSchemeGroupIds.push(item.id);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                markSchemeGroupIds.push(standardisationSetupStore.instance.markSchemeGroupId);\r\n            }\r\n            standardisationActionCreator.createStandardisationRig(standardisationSetupStore.instance.examinerRoleId, standardisationSetupStore.instance.selectedResponseId, markSchemeGroupIds, enums.MarkingMode.PreStandardisation, true, _this.state.provisionalMarkingType);\r\n        };\r\n        /**\r\n         * navigate to standardisation setup screen on mark later\r\n         */\r\n        _this.onStandardisationRigCreated = function (errorInRigCreation, doMarkNow) {\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n            if (!errorInRigCreation) {\r\n                navigationHelper.loadStandardisationSetup();\r\n                // promise to get standardisation target details\r\n                var getStandardisationTargetDetails = standardisationActionCreator.getStandardisationTargetDetails(standardisationSetupStore.instance.markSchemeGroupId, standardisationSetupStore.instance.examinerRoleId);\r\n                getStandardisationTargetDetails.then(function (item) {\r\n                    // load select Responses details on coming from response\r\n                    var standardisationworlist = standardisationActionCreator.standardisationSetupWorkListSelection(doMarkNow ? enums.StandardisationSetup.ProvisionalResponse : enums.StandardisationSetup.SelectResponse, standardisationSetupStore.instance.markSchemeGroupId, standardisationSetupStore.instance.examinerRoleId);\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Reload unclassified worklist\r\n         */\r\n        _this.reRenderUnclassifiedWorklist = function (isFromResponse) {\r\n            // Update standardisation target details\r\n            _this.copyMarksAsDefinitiveSelected = true;\r\n            var getStandardisationTargetDetails = standardisationActionCreator.getStandardisationTargetDetails(standardisationSetupStore.instance.markSchemeGroupId, standardisationSetupStore.instance.examinerRoleId);\r\n            // Update unclassified worklist details\r\n            var standardisationWorklist = standardisationActionCreator.standardisationSetupWorkListSelection(enums.StandardisationSetup.UnClassifiedResponse, standardisationSetupStore.instance.markSchemeGroupId, standardisationSetupStore.instance.examinerRoleId);\r\n            // Response id in the unclassified worklist to which, the navigation should happen after classify action\r\n            var nextResponseId = markerOperationModeFactory.operationMode.nextResponseId(responseStore.instance.selectedDisplayId.toString());\r\n            // For classify actions from response scren\r\n            if (nextResponseId && isFromResponse) {\r\n                // Remember unclassified worklist view to go back after classify action\r\n                var stdWorklistView = standardisationSetupStore.instance.isTotalMarksViewSelected ?\r\n                    enums.STDWorklistViewType.ViewTotalMarks :\r\n                    enums.STDWorklistViewType.ViewMarksByQuestion;\r\n                var unclassifiedResponsesPromise = standardisationActionCreator.getUnClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, false, stdWorklistView).then(function (item) {\r\n                    // On classifying response from response screen, navigate to next available response in the unclassified worklist\r\n                    navigationHelper.responseNavigation(enums.ResponseNavigation.next, false, parseInt(nextResponseId));\r\n                });\r\n                Promise.Promise.all([standardisationWorklist, unclassifiedResponsesPromise]).\r\n                    then(function () {\r\n                    _this.setState({ doShowClassifyResponseBusyIndicator: false });\r\n                });\r\n            }\r\n            else {\r\n                Promise.Promise.all([standardisationWorklist]).\r\n                    then(function () {\r\n                    _this.setState({ doShowClassifyResponseBusyIndicator: false });\r\n                });\r\n                // On classifying last response from response screen, navigate back to unclassified worklist.\r\n                navigationHelper.loadStandardisationSetup();\r\n            }\r\n        };\r\n        /**\r\n         * Reload provional worklist\r\n         */\r\n        _this.reRenderProvionalWorklist = function (fromMarkScheme) {\r\n            if (_this._showShareLoadingIndicatorForPE && fromMarkScheme) {\r\n                var stdWorklistView = standardisationSetupStore.instance.isTotalMarksViewSelected ? enums.STDWorklistViewType.ViewTotalMarks :\r\n                    enums.STDWorklistViewType.ViewMarksByQuestion;\r\n                var nextResponseId = markerOperationModeFactory.operationMode.nextResponseId(_this._shareResponseDetails.displayId.toString());\r\n                if (nextResponseId) {\r\n                    var responseData = standardisationSetupStore.instance.getResponseDetails(responseStore.instance.selectedDisplayId.toString());\r\n                    // remove shared response from provisional response worklist collection.\r\n                    standardisationActionCreator.updateStandardisationResponseCollection(responseData.esMarkGroupId, enums.StandardisationSetup.ProvisionalResponse);\r\n                    _this.setState({\r\n                        isBusy: false\r\n                    });\r\n                    navigationHelper.responseNavigation(enums.ResponseNavigation.next, false, parseInt(nextResponseId));\r\n                }\r\n                else {\r\n                    // if next response is not available then load worklist.\r\n                    navigationHelper.loadStandardisationSetup();\r\n                }\r\n                return;\r\n            }\r\n        };\r\n        /**\r\n         * on cancel click of reclassify multi option popup\r\n         */\r\n        _this.onCancelClickOfReclassifyMultiOptionPopUp = function () {\r\n            _this.reclassifyResponseDetails = undefined;\r\n            // Disable classify response 'OK button' while clicking on classify multi option popup 'cancel button'\r\n            if (_this.isUnclassifiedWorklistSelected()) {\r\n                _this.isClassifyResponseOkButtonDisabled = true;\r\n            }\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n        };\r\n        /**\r\n         * On cancel click of Reuse Rig action popup\r\n         */\r\n        _this.onCancelClickOfReuseRigPopup = function () {\r\n            _this.reuseRIGSelectedDisplayId = undefined;\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            _this.populateReuseUnclassifyPopupItem();\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n        };\r\n        /**\r\n         * On Ok mclick of ReuseRIG action popup\r\n         */\r\n        _this.onOKClickOfReuseRigpopup = function () {\r\n            var openedResponseDetails = standardisationSetupStore.instance.getReusableResponseDetails(_this.reuseRIGSelectedDisplayId.toString());\r\n            if (_this.reuseUnclassifyItem.filter(function (i) { return i.isChecked === true; })[0] === undefined) {\r\n                _this.currentMarkingMode = _this.items.filter(function (i) { return i.isChecked === true; })[0].id;\r\n            }\r\n            else {\r\n                _this.currentMarkingMode = enums.MarkingMode.PreStandardisation;\r\n            }\r\n            var documentId = openedResponseDetails.documentId;\r\n            var markGroupId = openedResponseDetails.esMarkGroupId;\r\n            var markSchemeGroupId = openedResponseDetails.markSchemeGroupId;\r\n            standardisationActionCreator.reuseRigAction(markGroupId, documentId, markSchemeGroupId, _this.currentMarkingMode);\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None,\r\n                doShowReuseRigActionBusyIndicator: true\r\n            });\r\n        };\r\n        /**\r\n         * reclassify response to selected marking mode in popup\r\n         */\r\n        _this.onReclassifyResponse = function () {\r\n            // Fetch markSchemeGroupId\r\n            var markSchemeGroupId = standardisationSetupStore.instance.markSchemeGroupId;\r\n            // rig order update is not required for classify action\r\n            var rigOrderUpdateRequired = _this.isUnclassifiedWorklistSelected() ? false : true;\r\n            // Fetch the new marking mode id selected for reclassification\r\n            _this.currentMarkingMode = _this.items.filter(function (i) { return i.isChecked === true; })[0].id;\r\n            _this.previousMarkingMode = _this.reclassifyResponseDetails.markingModeId;\r\n            _this.displayId = _this.reclassifyResponseDetails.displayId;\r\n            // Construct the model for reclassifyResponseAction\r\n            var responseDetails = {\r\n                candidateScriptId: _this.reclassifyResponseDetails.candidateScriptId,\r\n                esCandidateScriptMarkSchemeGroupId: _this.reclassifyResponseDetails.esCandidateScriptMarkSchemeGroupId,\r\n                markSchemeGroupId: markSchemeGroupId,\r\n                markingModeId: _this.currentMarkingMode,\r\n                previousMarkingModeId: _this.reclassifyResponseDetails.markingModeId,\r\n                rigOrder: null,\r\n                isRigOrderUpdateRequired: rigOrderUpdateRequired,\r\n                displayId: _this.reclassifyResponseDetails.displayId,\r\n                totalMarkValue: _this.reclassifyResponseDetails.totalMarkValue,\r\n                oldRigOrder: _this.reclassifyResponseDetails.rigOrder,\r\n                assignNextRigOrder: _this.currentMarkingMode !== enums.MarkingMode.Seeding ? true : false,\r\n                esMarkGroupRowVersion: _this.reclassifyResponseDetails.esMarkGroupRowVersion\r\n            };\r\n            if (_this.isUnclassifiedWorklistSelected()) {\r\n                _this._classifyResponseDetails = responseDetails;\r\n                _this.isClassifyResponseOkButtonDisabled = true;\r\n                _this.setState({\r\n                    popUpType: enums.PopUpType.None,\r\n                    doShowClassifyResponseBusyIndicator: true\r\n                });\r\n                submitHelper.saveAndClassifyResponse(responseStore.instance.selectedMarkGroupId, _this._classifyResponseDetails);\r\n            }\r\n            else if (responseDetails.previousMarkingModeId !== responseDetails.markingModeId) {\r\n                // No need to call classify action if there are no changes in marking mode \r\n                // This reclassify action is being called when reclassify a response from response screen \r\n                standardisationActionCreator.reclassifyResponse(responseDetails, enums.PageContainers.Response);\r\n            }\r\n            // reset state \r\n            _this.reclassifyResponseDetails = undefined;\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            var isBusy = !_this.isUnclassifiedWorklistSelected() ?\r\n                responseDetails.previousMarkingModeId !== responseDetails.markingModeId : false;\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None,\r\n                doShowReclassifyResponseBusyIndicator: isBusy\r\n            });\r\n        };\r\n        /**\r\n         * Set the state of multi option popup type to Classify or Reclassify\r\n         */\r\n        _this.reclassifyMultiOptionPopupOpen = function (esMarkGroupId) {\r\n            _this.reclassifyResponseDetails =\r\n                standardisationSetupStore.instance.getResponseDetailsByEsMarkGroupIdBasedOnPermission(esMarkGroupId);\r\n            _this.populateRecassifyMultiOptionPopUpData(_this.reclassifyResponseDetails.markingModeId);\r\n            _this.setState({ popUpType: enums.PopUpType.ReclassifyMultiOption });\r\n        };\r\n        /**\r\n         * On clicking items in radio button popup\r\n         * @param item\r\n         */\r\n        _this.onCheckedChange = function (itemToBeUpdated) {\r\n            // set the isChecked property of the checked item to true\r\n            _this.items.map(function (i) {\r\n                i.isChecked = i.id === itemToBeUpdated.id ? true : false;\r\n            });\r\n            // Enable classify response OK button on selecting any of the classify response radio button options\r\n            if (_this.isUnclassifiedWorklistSelected) {\r\n                _this.isClassifyResponseOkButtonDisabled = false;\r\n            }\r\n            // If reuse popup then unchecked unclassify option when select classification\r\n            if (_this.reuseUnclassifyItem !== undefined) {\r\n                _this.reuseUnclassifyItem.map(function (i) {\r\n                    i.isChecked = false;\r\n                });\r\n            }\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * On clicking items in radio buton popup\r\n         */\r\n        _this.onReuseItemCheckedChange = function (itemToBeUpdated) {\r\n            _this.reuseUnclassifyItem.map(function (i) {\r\n                i.isChecked = i.id === itemToBeUpdated.id ? true : false;\r\n            });\r\n            // set the isChecked property of the not checked item to false\r\n            _this.items.map(function (i) {\r\n                i.isChecked = false;\r\n            });\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * Method called when reclassify popup open.\r\n         * @param reclassifiedResponseDetails\r\n         */\r\n        _this.reclassifyPopupOpen = function (reclassifiedResponseDetails) {\r\n            // Set the previous, current marking mode plus display id when we try to reclassify from worklist\r\n            // or within response.\r\n            _this.previousMarkingMode = reclassifiedResponseDetails.previousMarkingModeId;\r\n            _this.currentMarkingMode = reclassifiedResponseDetails.markingModeId;\r\n            _this.displayId = reclassifiedResponseDetails.displayId;\r\n        };\r\n        /**\r\n         * ReuseRIG action popup open\r\n         */\r\n        _this.reuseRigActionPopupOpen = function (displayId) {\r\n            _this.reuseRIGSelectedDisplayId = displayId;\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            _this.populateReuseUnclassifyPopupItem();\r\n            var openedResponseDetails = standardisationSetupStore.instance.\r\n                getReusableResponseDetails(_this.reuseRIGSelectedDisplayId.toString());\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.ReuseRigAction\r\n            });\r\n        };\r\n        /**\r\n         * ReuseRIG action completed event\r\n         */\r\n        _this.reuseRigActionCompletedEvent = function () {\r\n            _this.reuseRIGSelectedDisplayId = undefined;\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            _this.populateReuseUnclassifyPopupItem();\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None,\r\n                doShowReuseRigActionBusyIndicator: false\r\n            });\r\n        };\r\n        /**\r\n         * Method to open Reclassify error popup\r\n         * whenever a fail in reclassify action.\r\n         */\r\n        _this.reclassifyErrorPopupOpen = function () {\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.ReclassifyError, doShowReclassifyResponseBusyIndicator: false\r\n            });\r\n        };\r\n        /**\r\n         * Method to hide Reclassify error popup on ok click.\r\n         */\r\n        _this.onReclassifyErrorMessageOkClick = function () {\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None\r\n            });\r\n        };\r\n        /**\r\n         * Method to show the concurrent save fail popup\r\n         * while updating the same response marking mode by different user.\r\n         */\r\n        _this.concurrentSaveFailPopup = function (area) {\r\n            _this.concurrentSaveFailArea = area;\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.ConcurrentSaveFail,\r\n                doShowReclassifyResponseBusyIndicator: false,\r\n                doShowClassifyResponseBusyIndicator: false\r\n            });\r\n        };\r\n        /**\r\n         * Method to show the discard response fail popup while discarding the same response by different user.\r\n         */\r\n        _this.discardResponseFailPopup = function () {\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.DiscardResponseFail\r\n            });\r\n        };\r\n        /**\r\n         * Method to hide Concurrent Save Fail Popup on ok click.\r\n         */\r\n        _this.onConcurrentSaveFailPopupOkClick = function () {\r\n            // get the worklist view type.\r\n            var stdWorklistViewType = userOptionsHelper.getUserOptionByName(userOptionKeys.SELECTED_GRID_VIEW_OPTION)\r\n                === 'false' ? enums.STDWorklistViewType.ViewMarksByQuestion : enums.STDWorklistViewType.ViewTotalMarks;\r\n            if (_this.concurrentSaveFailArea === enums.PageContainers.Response) {\r\n                // when concurreny error occurs from response, navigate to ssu\r\n                navigationHelper.loadStandardisationSetup();\r\n            }\r\n            else {\r\n                if (standardisationSetupStore.instance.selectedStandardisationSetupWorkList\r\n                    === enums.StandardisationSetup.ClassifiedResponse) {\r\n                    // Refresh the Classified worklist grid with latest changes.\r\n                    standardisationActionCreator.getClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, standardisationSetupStore.instance.markSchemeGroupId, false, stdWorklistViewType);\r\n                }\r\n                else {\r\n                    // Refresh the UnClassified worklist grid with latest changes.\r\n                    standardisationActionCreator.getUnClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, standardisationSetupStore.instance.markSchemeGroupId, false, stdWorklistViewType);\r\n                }\r\n            }\r\n            // Reset concurrent Save Fail Area\r\n            _this.concurrentSaveFailArea = enums.PageContainers.None;\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None\r\n            });\r\n        };\r\n        /**\r\n         * Method to hide discard response fail popup and navigate back to unclassified worklist with refreshed data.\r\n         */\r\n        _this.onDiscardResponseFailPopupOkClick = function () {\r\n            // get the worklist view type.\r\n            var stdWorklistViewType = userOptionsHelper.getUserOptionByName(userOptionKeys.SELECTED_GRID_VIEW_OPTION)\r\n                === 'false' ? enums.STDWorklistViewType.ViewMarksByQuestion : enums.STDWorklistViewType.ViewTotalMarks;\r\n            // Refresh the UnClassified worklist grid with latest data.\r\n            standardisationActionCreator.getUnClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, standardisationSetupStore.instance.markSchemeGroupId, false, stdWorklistViewType);\r\n            navigationHelper.loadStandardisationSetup();\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None\r\n            });\r\n        };\r\n        /**\r\n         * On clicking items in check box popup\r\n         * @param item\r\n         */\r\n        _this.onChecked = function (itemToBeUpdated) {\r\n            //// set the isChecked property of the checked item to true\r\n            _this.multiQigCheckboxItems.map(function (item) {\r\n                item.isChecked = item.id === itemToBeUpdated.id ? (item.isChecked ? false : true) : item.isChecked;\r\n            });\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * Popup element for note timestamp changed popup.\r\n         */\r\n        _this.onNoteTimeStampChangedPopupClose = function () {\r\n            _this.setState({ isNoteTimeStampChangedPopupVisible: false });\r\n        };\r\n        /**\r\n         * Popup element for response modified popup.\r\n         */\r\n        _this.onResponseModifiedPopupClose = function () {\r\n            _this.setState({ isResponseModifiedPopupVisibile: false });\r\n            navigationHelper.loadStandardisationSetup();\r\n        };\r\n        /**\r\n         * Sets the visibility of UnClassified response unavailable popup.\r\n         */\r\n        _this.unClassifiedScriptinStmUnavailable = function () {\r\n            _this.setState({\r\n                unClassifiedScriptinStmUnavailableVisible: true\r\n            });\r\n        };\r\n        /**\r\n         * Ok click action, on UnClassified unavailable popup.\r\n         */\r\n        _this.okClickOnUnavailablePopUp = function () {\r\n            _this.setState({\r\n                unClassifiedScriptinStmUnavailableVisible: false\r\n            });\r\n            navigationHelper.loadStandardisationSetup();\r\n        };\r\n        /**\r\n         *  Rerender rig not found pop up.\r\n         */\r\n        _this.showOrHideRigNotFoundPopup = function (showOrHideRigNotFound) {\r\n            _this.setState({ showRigNotFoundPopUp: showOrHideRigNotFound });\r\n        };\r\n        /**\r\n         *  Rerender Rig not found popup\r\n         */\r\n        _this.onRigNotFoundOkClick = function () {\r\n            _this.setState({ showRigNotFoundPopUp: false });\r\n        };\r\n        /**\r\n         *  Display confirmation dialog to share the response.\r\n         */\r\n        _this.shareResponsePopupOpen = function (shareResponseDetails, isSharedFromMarkScheme) {\r\n            // Set flag to display shareResponse Popup Or not.\r\n            _this._shareResponseDetails = shareResponseDetails;\r\n            _this._isSharedFromMarkScheme = isSharedFromMarkScheme;\r\n            _this._showShareLoadingIndicator = true;\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            _this.populateShareForPEclassifyPopupItem();\r\n            if (standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.classify) {\r\n                _this._showShareLoadingIndicatorForPE = true;\r\n                _this.setState({\r\n                    isShareResponsePopupDisplayingForPE: true,\r\n                    isBusy: false\r\n                });\r\n            }\r\n            else {\r\n                _this.setState({\r\n                    isShareResponsePopupDisplaying: true,\r\n                    isBusy: false\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         *  Close Share Response dialog after clicking Cancel.\r\n         */\r\n        _this.shareResponsePopupClose = function () {\r\n            // Set flag to display shareResponse Popup Or not.\r\n            _this._showShareLoadingIndicator = false;\r\n            _this.setState({\r\n                isShareResponsePopupDisplaying: false,\r\n                isShareResponsePopupDisplayingForPE: false\r\n            });\r\n        };\r\n        /**\r\n         * share Provisional Response\r\n         */\r\n        _this.shareResponse = function () {\r\n            _this.setState({\r\n                isShareResponsePopupDisplaying: false,\r\n                isShareResponsePopupDisplayingForPE: false,\r\n                isBusy: true\r\n            });\r\n            var markingMode;\r\n            // Fetch markSchemeGroupId\r\n            var markSchemeGroupId = standardisationSetupStore.instance.markSchemeGroupId;\r\n            if (_this.IsShareAndClassifyOptionNeeded) {\r\n                markingMode = _this.items.filter(function (i) { return i.isChecked === true; })[0].id;\r\n            }\r\n            else {\r\n                markingMode = _this._shareResponseDetails.markingModeId;\r\n            }\r\n            /**\r\n             * mapping values on submit argument\r\n             */\r\n            _this._shareResponseArgument = {\r\n                markGroupIds: [_this._shareResponseDetails.esMarkGroupId],\r\n                markingMode: markingMode,\r\n                examinerRoleId: standardisationSetupStore.instance.examinerRoleId,\r\n                markSchemeGroupId: standardisationSetupStore.instance.markSchemeGroupId,\r\n                examinerApproval: examinerStore.instance.getMarkerInformation.approvalStatus,\r\n                isAdminRemarker: false\r\n            };\r\n            if (_this.IsShareAndClassifyOptionNeeded) {\r\n                if (_this._isSharedFromMarkScheme) {\r\n                    //invoke save and navigate Provisional Response\r\n                    markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.shareAndClassify);\r\n                }\r\n                else {\r\n                    submitActionCreator.shareAndClassifyResponse(_this._shareResponseArgument, _this._isSharedFromMarkScheme, _this._shareResponseDetails.displayId);\r\n                }\r\n            }\r\n            else {\r\n                if (_this._isSharedFromMarkScheme) {\r\n                    markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.submit);\r\n                }\r\n                else {\r\n                    submitActionCreator.submitResponse(_this._shareResponseArgument, standardisationSetupStore.instance.markSchemeGroupId, enums.WorklistType.none, enums.RemarkRequestType.Unknown, _this._isSharedFromMarkScheme, _this._shareResponseDetails.displayId);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * submitResponseFromMarkscheme will be called when the response is ready to navigate\r\n         */\r\n        _this.submitResponseFromMarkscheme = function () {\r\n            if (markingStore.instance.navigateTo === enums.SaveAndNavigate.shareAndClassify) {\r\n                submitHelper.saveAndShareAndClassifyResponse(_this._shareResponseArgument, _this._isSharedFromMarkScheme, _this._shareResponseDetails.displayId);\r\n            }\r\n        };\r\n        _this.state = {\r\n            doShowSavingMarksAndAnnotationsIndicator: false,\r\n            isNonRecoverableErrorPopupVisible: false,\r\n            isDisplayingGraceResponseLessthan100PercentageError: false,\r\n            isDisplayingGraceResponseExpiredError: false,\r\n            isDisplayingResponseRemovedError: false,\r\n            isOnline: applicationStore.instance.isOnline,\r\n            isBusy: false,\r\n            isApplicationOffline: false,\r\n            nonRecoverableSaveMarksAndAnnotationsErrorMessage: false,\r\n            isMarkingCheckCompleteConfirmationPopupDisplaying: false,\r\n            doShowPopup: false,\r\n            showSimulationResponseSubmitConfirmationPopup: false,\r\n            showSimulationExitedPopup: false,\r\n            showAllSimulationExitedQigs: false,\r\n            renderedOn: 0,\r\n            isShared: false,\r\n            doShowShareConfirmationPopup: false,\r\n            isQigsessionClosedError: false,\r\n            popUpType: enums.PopUpType.None,\r\n            isNoteTimeStampChangedPopupVisible: false,\r\n            isResponseModifiedPopupVisibile: false,\r\n            unClassifiedScriptinStmUnavailableVisible: false,\r\n            showRigNotFoundPopUp: false,\r\n            provisionalMarkingType: enums.ProvisionalMarkingType.None,\r\n            isSaveEmailMessageDisplaying: false,\r\n            isShareResponsePopupDisplaying: false,\r\n            isShareResponsePopupDisplayingForPE: false\r\n        };\r\n        _this.onYesClickOfLogoutConfirmation = _this.onYesClickOfLogoutConfirmation.bind(_this);\r\n        _this.onYesClickOfLogoutConfirmationAutoLogout = _this.onYesClickOfLogoutConfirmation.bind(_this, true);\r\n        _this.onNoClickOfLogoutConfirmation = _this.onNoClickOfLogoutConfirmation.bind(_this);\r\n        _this.onOkClickOfNonRecoverableErrorMessage = _this.onOkClickOfNonRecoverableErrorMessage.bind(_this);\r\n        _this.userActionInterrupted = _this.userActionInterrupted.bind(_this);\r\n        _this.onOkClickMandatoryMessageValidationPopup = _this.onOkClickMandatoryMessageValidationPopup.bind(_this);\r\n        _this.onPopupOkClick = _this.onPopupOkClick.bind(_this);\r\n        _this.ShowSupervisorSamplingCommentValidationPopup = _this.ShowSupervisorSamplingCommentValidationPopup.bind(_this);\r\n        _this.onOkClickOfResponseInGraceExpiredMessageOrResponseRemovedMessage =\r\n            _this.onOkClickOfResponseInGraceExpiredMessageOrResponseRemovedMessage.bind(_this);\r\n        /* setting submit confirmation yes/no functions to initialize. */\r\n        _this.onYesClickOfSubmitButton = _this.onYesClickOfSubmitButton.bind(_this);\r\n        _this.onNoClickOfSubmitButton = _this.onNoClickOfSubmitButton.bind(_this);\r\n        _this.onYesClickOfShareConfirmationPopup = _this.onYesClickOfShareConfirmationPopup.bind(_this);\r\n        _this.onNoClickOfShareConfirmationPopup = _this.onNoClickOfShareConfirmationPopup.bind(_this);\r\n        _this.OnOkClickOfMarkingCheckCompleteConfirmation = _this.OnOkClickOfMarkingCheckCompleteConfirmation.bind(_this);\r\n        _this.OnCancelClickOfMarkingCheckCompleteConfirmation = _this.OnCancelClickOfMarkingCheckCompleteConfirmation.bind(_this);\r\n        _this._boundOnlineStatusEvent = _this.updateOnlineStatus.bind(_this);\r\n        _this.isAutozonedMessagePopupVisible = _this.isAutozonedMessagePopupVisible.bind(_this);\r\n        _this.onSelectStdSetupResponseToMark = _this.onSelectStdSetupResponseToMark.bind(_this);\r\n        _this.onCompleteStandardisationSetup = _this.onCompleteStandardisationSetup.bind(_this);\r\n        _this.onOkClickofStandardisationSetupValidate = _this.onOkClickofStandardisationSetupValidate.bind(_this);\r\n        _this.resetBusyIndicatorStdSetupNotComplete = _this.resetBusyIndicatorStdSetupNotComplete.bind(_this);\r\n        _this.OnCancelClickOfCompleteStandardisationConfirmation = _this.OnCancelClickOfCompleteStandardisationConfirmation.bind(_this);\r\n        _this.OnOkClickOfCompleteStandardisationConfirmation = _this.OnOkClickOfCompleteStandardisationConfirmation.bind(_this);\r\n        _this.onResponseDataRecievedAfterRefresh = _this.onResponseDataRecievedAfterRefresh.bind(_this);\r\n        _this.onNoteTimeStampChangedPopupClose = _this.onNoteTimeStampChangedPopupClose.bind(_this);\r\n        _this.displayNoteSaveFailedPopup = _this.displayNoteSaveFailedPopup.bind(_this);\r\n        _this.reRenderUnclassifiedWorklist = _this.reRenderUnclassifiedWorklist.bind(_this);\r\n        _this.reRenderOnClassifiedResponseReceived = _this.reRenderOnClassifiedResponseReceived.bind(_this);\r\n        _this.shareResponse = _this.shareResponse.bind(_this);\r\n        _this.onOKClickOfReuseRigpopup = _this.onOKClickOfReuseRigpopup.bind(_this);\r\n        _this.populateReuseUnclassifyPopupItem = _this.populateReuseUnclassifyPopupItem.bind(_this);\r\n        _this.onReuseItemCheckedChange = _this.onReuseItemCheckedChange.bind(_this);\r\n        _this.onCancelClickOfReuseRigPopup = _this.onCancelClickOfReuseRigPopup.bind(_this);\r\n        _this.onCheckedChange = _this.onCheckedChange.bind(_this);\r\n        _this.shareResponsePopupOpen = _this.shareResponsePopupOpen.bind(_this);\r\n        _this.onSubmitResponseCompleted = _this.onSubmitResponseCompleted.bind(_this);\r\n        _this.reRenderProvionalWorklist = _this.reRenderProvionalWorklist.bind(_this);\r\n        _this.submitResponseFromMarkscheme = _this.submitResponseFromMarkscheme.bind(_this);\r\n        if (config.general.IDLE_TIMEOUT) {\r\n            _this._idleTimeOut = config.general.IDLE_TIMEOUT;\r\n        }\r\n        // One Issue noticed that the footer compoent is taking time to load sometimes. \r\n        // Because of this, some of the events are already passed. Recheck for the first time for one of the event.\r\n        if (qigStore.instance.getOverviewData === undefined) {\r\n            _this.onSimulationExitedQigsAndLocksInQigsRecieved(false);\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    Footer.prototype.render = function () {\r\n        var isAskOnLogOutEnabled;\r\n        var confirmationDialog;\r\n        var busyIndicator;\r\n        var submitConfirmationDialog = (React.createElement(ConfirmationDialog, { content: this.submitConfirmationDialogueContent, header: this.submitConfirmationDialogueHeader, displayPopup: this.state.isSubmitConfirmationPopupDisplaying, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('generic.logout-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('generic.logout-dialog.yes-button'), onYesClick: this.onYesClickOfSubmitButton, onNoClick: this.onNoClickOfSubmitButton, isKeyBoardSupportEnabled: true, dialogType: enums.PopupDialogType.LogoutConfirmation }));\r\n        var shareConfirmationPopup = this.state.isShared ? (React.createElement(ConfirmationDialog, { content: localeStore.instance.TranslateText('marking.response.share-confirmation-popup.content'), header: null, displayPopup: this.state.doShowShareConfirmationPopup, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('marking.response.share-confirmation-popup.no-button'), yesButtonText: localeStore.instance.TranslateText('marking.response.share-confirmation-popup.yes-button'), onYesClick: this.onYesClickOfShareConfirmationPopup.bind(this), onNoClick: this.onNoClickOfShareConfirmationPopup.bind(this), dialogType: enums.PopupDialogType.ShareConfirmationPopup, isKeyBoardSupportEnabled: true })) : null;\r\n        var mandatoryMessageValidationPopup = (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('messaging.compose-message.mandatory-message-warning-dialog.body'), header: localeStore.instance.TranslateText('messaging.compose-message.mandatory-message-warning-dialog.header'), displayPopup: this.state.doShowMandatoryMessageValidationPopup, okButtonText: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.ok-button'), onOkClick: this.onOkClickMandatoryMessageValidationPopup.bind(this), id: 'mandatoryMessageValidationPopup', key: 'mandatoryMessageValidationPopup', popupDialogType: enums.PopupDialogType.none }));\r\n        var supervisorSamplingCommentValidationPopup = (React.createElement(GenericDialog, { content: this.messageDetails.messageString, header: this.messageDetails.messageHeader, displayPopup: this.state.doShowPopup, okButtonText: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.ok-button'), onOkClick: this.onPopupOkClick.bind(this), id: 'supervisorSamplingCommentValidationPopup', key: 'supervisorSamplingCommentValidationPopup', popupDialogType: enums.PopupDialogType.GenericMessage }));\r\n        var noteTimeStampChangedPopup = (React.createElement(GenericDialog, { content: this.messageDetails.messageString, header: this.messageDetails.messageHeader, displayPopup: this.state.isNoteTimeStampChangedPopupVisible, okButtonText: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.ok-button'), onOkClick: this.onNoteTimeStampChangedPopupClose.bind(this), id: 'noteTimeStampChangedPopup', key: 'noteTimeStampChangedPopup', popupDialogType: enums.PopupDialogType.GenericMessage }));\r\n        var responseModifiedPopup = (React.createElement(GenericDialog, { content: this.messageDetails.messageString, header: this.messageDetails.messageHeader, displayPopup: this.state.isResponseModifiedPopupVisibile, okButtonText: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.ok-button'), onOkClick: this.onResponseModifiedPopupClose.bind(this), id: 'responseMOdifiedPopup', key: 'responseMOdifiedPopup', popupDialogType: enums.PopupDialogType.GenericMessage }));\r\n        var simulationResponseSubmitConfirmationPopup = (React.createElement(ConfirmationDialog, { content: this.simulationResponseSubmitConfirmationDialogueContent, header: this.simulationResponseSubmitConfirmationDialogueHeader, displayPopup: this.state.showSimulationResponseSubmitConfirmationPopup, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('generic.logout-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('generic.logout-dialog.yes-button'), onYesClick: this.onYesClickOfSimulationResponseSubmitButton.bind(this), onNoClick: this.onNoClickOfSimulationResponseSubmitButton.bind(this), dialogType: enums.PopupDialogType.SimulationResponseSubmitConfirmation, isKeyBoardSupportEnabled: true }));\r\n        /** Getting Ask On LogOut value from user option */\r\n        isAskOnLogOutEnabled =\r\n            userOptionsHelper.getUserOptionByName(useroptionKeys.ASK_ON_LOG_OUT) === 'true'\r\n                ? true\r\n                : false;\r\n        /** this.props.isConfirmationPopupDisplaying check included here, in the initial load its value\r\n         *    will be false\r\n         */\r\n        if (!isAskOnLogOutEnabled &&\r\n            this.props.isLogoutConfirmationPopupDisplaying &&\r\n            !this.state.doShowSavingMarksAndAnnotationsIndicator &&\r\n            !this._onLogoutTriggered) {\r\n            this.onYesClickOfLogoutConfirmation();\r\n            /**this.props.isConfirmationPopupDisplaying check included here, if it is true will load the confirmation dialog\r\n             * content into confirmationDialog\r\n             */\r\n        }\r\n        else if (this.props.isLogoutConfirmationPopupDisplaying &&\r\n            !this.state.doShowSavingMarksAndAnnotationsIndicator &&\r\n            !this._onLogoutTriggered) {\r\n            confirmationDialog = (React.createElement(ConfirmationDialog, { content: localeStore.instance.TranslateText('generic.logout-dialog.body'), header: localeStore.instance.TranslateText('generic.logout-dialog.header'), displayPopup: this.props.isLogoutConfirmationPopupDisplaying, isCheckBoxVisible: true, noButtonText: localeStore.instance.TranslateText('generic.logout-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('generic.logout-dialog.yes-button'), onYesClick: this.onYesClickOfLogoutConfirmation, onNoClick: this.onNoClickOfLogoutConfirmation, dialogType: enums.PopupDialogType.LogoutConfirmation }));\r\n        }\r\n        if (this.state.isBusy) {\r\n            switch (busyIndicatorStore.instance.getBusyIndicatorInvoker) {\r\n                case enums.BusyIndicatorInvoker.submitInResponseScreen:\r\n                    busyIndicator = (React.createElement(BusyIndicator, { id: 'response_' +\r\n                            enums.BusyIndicatorInvoker.submitInResponseScreen.toString(), isBusy: this.state.isBusy, key: 'response_' +\r\n                            enums.BusyIndicatorInvoker.submitInResponseScreen.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.submitInResponseScreen, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n                    break;\r\n                case enums.BusyIndicatorInvoker.loadingHistoryDetails:\r\n                    busyIndicator = (React.createElement(BusyIndicator, { id: 'history_' +\r\n                            enums.BusyIndicatorInvoker.loadingHistoryDetails.toString(), isBusy: this.state.isBusy, key: 'history_' +\r\n                            enums.BusyIndicatorInvoker.loadingHistoryDetails.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.loadingHistoryDetails, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n                    break;\r\n                case enums.BusyIndicatorInvoker.validateStandardisationSetup:\r\n                    busyIndicator = (React.createElement(BusyIndicator, { id: 'std_' +\r\n                            enums.BusyIndicatorInvoker.validateStandardisationSetup.toString(), isBusy: this.state.isBusy, key: 'std_' +\r\n                            enums.BusyIndicatorInvoker.validateStandardisationSetup.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.validateStandardisationSetup, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n                    break;\r\n            }\r\n        }\r\n        if (this.state.isCompleteStandardisation && this.state.isBusy === true) {\r\n            busyIndicator = (React.createElement(BusyIndicator, { id: 'std_' +\r\n                    enums.BusyIndicatorInvoker.completingStandardisationSetup.toString(), isBusy: this.state.isBusy, key: 'std_' +\r\n                    enums.BusyIndicatorInvoker.completingStandardisationSetup.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.completingStandardisationSetup, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n        }\r\n        if (this.state.isBusy === true && (this._showShareLoadingIndicator || this._showShareLoadingIndicatorForPE)) {\r\n            busyIndicator = (React.createElement(BusyIndicator, { id: 'std_' +\r\n                    enums.BusyIndicatorInvoker.completingStandardisationSetup.toString(), isBusy: this.state.isBusy, key: 'std_' +\r\n                    enums.BusyIndicatorInvoker.completingStandardisationSetup.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.completingStandardisationSetup, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n        }\r\n        if (this.state.doShowSavingMarksAndAnnotationsIndicator) {\r\n            busyIndicator = (React.createElement(BusyIndicator, { id: 'response_' +\r\n                    enums.BusyIndicatorInvoker.savingMarksAndAnnotations.toString(), isBusy: this.state.doShowSavingMarksAndAnnotationsIndicator, key: 'response_' +\r\n                    enums.BusyIndicatorInvoker.savingMarksAndAnnotations.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.savingMarksAndAnnotations, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n        }\r\n        if (this.state.doShowReclassifyResponseBusyIndicator) {\r\n            busyIndicator = (React.createElement(BusyIndicator, { id: 'response_' +\r\n                    enums.BusyIndicatorInvoker.reclassifyResponse.toString(), isBusy: this.state.doShowReclassifyResponseBusyIndicator, key: 'response_' +\r\n                    enums.BusyIndicatorInvoker.reclassifyResponse.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.reclassifyResponse, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n        }\r\n        if (this.state.doShowReuseRigActionBusyIndicator) {\r\n            busyIndicator = (React.createElement(BusyIndicator, { id: 'response_' +\r\n                    enums.BusyIndicatorInvoker.reuseResponse.toString(), isBusy: this.state.doShowReuseRigActionBusyIndicator, key: 'response_' +\r\n                    enums.BusyIndicatorInvoker.reuseResponse.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.reuseResponse, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n        }\r\n        if (this.state.doShowClassifyResponseBusyIndicator) {\r\n            if (this.isUnclassifiedWorklistSelected()) {\r\n                busyIndicator = (React.createElement(BusyIndicator, { id: 'response_' +\r\n                        enums.BusyIndicatorInvoker.classifyResponse.toString(), isBusy: this.state.doShowClassifyResponseBusyIndicator, key: 'response_' +\r\n                        enums.BusyIndicatorInvoker.classifyResponse.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.classifyResponse, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n            }\r\n        }\r\n        var nonRecoverableErrorMessage = (React.createElement(GenericDialog, { content: this.saveMarksAndAnnotationsErrorDialogContents.content, header: this.saveMarksAndAnnotationsErrorDialogContents.header, multiLineContent: this.saveMarksAndAnnotationsErrorDialogContents.tableContent, displayPopup: this.state.isNonRecoverableErrorPopupVisible, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfNonRecoverableErrorMessage, id: 'nonRecoverableErrorMessge', key: 'marksAndAnnotationsErrorMessge', popupDialogType: enums.PopupDialogType.NonRecoverableDetailedError }));\r\n        var nonRecoverableSaveMarksAndAnnotationsErrorMessage = (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('marking.worklist.response-submission-error-dialog.body-single-response-not-submitted'), header: localeStore.instance.TranslateText('marking.worklist.response-submission-error-dialog.header'), displayPopup: this.state.nonRecoverableSaveMarksAndAnnotationsErrorMessage, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfNonRecoverableErrorMessage, id: 'nonRecoverableSaveMarksAndAnnotationErrorMessge', key: 'saveMarksAndAnnotationsErrorMessge', popupDialogType: enums.PopupDialogType.AllPageNotAnnotated }));\r\n        var gracePeriodResponseUnmarkedDialog = this.state\r\n            .isDisplayingGraceResponseLessthan100PercentageError ? this._failureReason ===\r\n            enums.ResponseNavigateFailureReason.MarksMissingInGracePeriodResponse ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.body-cannot-leave-response-partially-marked-in-grace'), header: localeStore.instance.TranslateText('marking.response.leaving-response-warning-dialog.header'), displayPopup: this.state.isDisplayingGraceResponseLessthan100PercentageError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfResponseInGraceMessage.bind(this), id: 'responseInGraceMessage', key: 'responseInGraceMessageMessge', popupDialogType: enums.PopupDialogType.GracePeriodWarning })) : (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.body-must-annotate-all-pages-in-grace'), header: localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.header-must-annotate-all-pages-in-grace'), displayPopup: this.state.isDisplayingGraceResponseLessthan100PercentageError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfResponseInGraceMessage.bind(this), id: 'responseInGraceMessage', key: 'responseInGraceMessageMessge', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var gracePeriodExpiredErrorDialog = this.state.isDisplayingGraceResponseExpiredError ? (React.createElement(GenericDialog, { content: this.getGracePeriodExpiredMessageBody(), header: localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.header-grace-period-expired'), displayPopup: this.state.isDisplayingGraceResponseExpiredError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfResponseInGraceExpiredMessageOrResponseRemovedMessage, id: 'responseInGraceMessage', key: 'responseInGraceMessageMessge', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var responseRemovedErrorDialog = this.state.isDisplayingResponseRemovedError ? (React.createElement(GenericDialog, { content: this.getResponseRemovedErrorDialogMessageBody(), header: localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.header-response-removed-from-worklist'), displayPopup: this.state.isDisplayingResponseRemovedError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfResponseInGraceExpiredMessageOrResponseRemovedMessage, id: 'response-removed-error-message', key: 'key-response-removed-error-message', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var confirmationDialogContent;\r\n        if (this.state.popUpType === enums.PopUpType.DiscardMessage) {\r\n            confirmationDialogContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.body-discard');\r\n        }\r\n        else if (this.state.popUpType === enums.PopUpType.DiscardMessageNavigateAway) {\r\n            if (this.popUpData.popupContent) {\r\n                confirmationDialogContent = this.popUpData.popupContent;\r\n            }\r\n            else {\r\n                confirmationDialogContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.body-navigated-away');\r\n            }\r\n        }\r\n        else {\r\n            confirmationDialogContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.body-start-new-message-while-composing');\r\n        }\r\n        var discardMessageDialog = this.state.popUpType === enums.PopUpType.DiscardMessage ||\r\n            this.state.popUpType === enums.PopUpType.DiscardMessageNavigateAway ||\r\n            this.state.popUpType === enums.PopUpType.DiscardOnNewMessageButtonClick ? (React.createElement(ConfirmationDialog, { content: this.popUpData.popupContent ? (this.popUpData.popupContent) : (confirmationDialogContent), header: localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.header'), displayPopup: true, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.yes-button'), onYesClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.Yes), onNoClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.No), dialogType: enums.PopupDialogType.Message, isKeyBoardSupportEnabled: true })) : null;\r\n        var confirmationHeaderContent;\r\n        switch (this.state.popUpType) {\r\n            case enums.PopUpType.DiscardMessageOnNewException:\r\n            case enums.PopUpType.DiscardMessageOnViewExceptionButtonClick:\r\n                confirmationHeaderContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.header');\r\n                break;\r\n            case enums.PopUpType.DiscardExceptionNavigateAway:\r\n                confirmationHeaderContent = localeStore.instance.TranslateText('marking.response.discard-exception-dialog.header');\r\n                confirmationDialogContent = localeStore.instance.TranslateText('marking.response.discard-exception-dialog.body-navigate-away');\r\n                break;\r\n            case enums.PopUpType.CloseException:\r\n                confirmationHeaderContent = localeStore.instance.TranslateText('marking.response.close-exception-dialog.header');\r\n                break;\r\n            default:\r\n                confirmationHeaderContent = localeStore.instance.TranslateText('marking.response.discard-exception-dialog.header');\r\n                confirmationDialogContent = localeStore.instance.TranslateText('marking.response.discard-exception-dialog.body-raise-new');\r\n                break;\r\n        }\r\n        var discardExceptionDialog = this.state.popUpType === enums.PopUpType.DiscardException ||\r\n            this.state.popUpType === enums.PopUpType.DiscardExceptionNavigateAway ||\r\n            this.state.popUpType === enums.PopUpType.DiscardOnNewExceptionButtonClick ||\r\n            this.state.popUpType === enums.PopUpType.DiscardMessageOnViewExceptionButtonClick ||\r\n            this.state.popUpType === enums.PopUpType.DiscardExceptionOnViewExceptionButtonClick ||\r\n            this.state.popUpType === enums.PopUpType.DiscardExceptionOnViewMessage ||\r\n            this.state.popUpType === enums.PopUpType.DiscardMessageOnNewException ||\r\n            this.state.popUpType === enums.PopUpType.DiscardExceptionOnNewMessage ||\r\n            this.state.popUpType === enums.PopUpType.CloseException ? (React.createElement(ConfirmationDialog, { content: this.popUpData.popupContent ? (this.popUpData.popupContent) : (confirmationDialogContent), header: confirmationHeaderContent, displayPopup: true, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('marking.response.discard-exception-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('marking.response.discard-exception-dialog.yes-button'), onYesClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.Yes), onNoClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.No), dialogType: enums.PopupDialogType.Exception, isKeyBoardSupportEnabled: true })) : null;\r\n        var mandatoryMessageDialog = this.state.popUpType === enums.PopUpType.MandatoryMessage ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('messaging.mandatory-message-dialog.body'), header: localeStore.instance.TranslateText('messaging.mandatory-message-dialog.header'), displayPopup: true, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.Ok), id: 'id_mandatory_message_dialog', key: 'key_mandatory_message_dialog', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var withdrawErrorDialog = this.state.isWithdrawnResponseError ? (React.createElement(GenericDialog, { content: this.getWithdrawnResponseErrorMessage(), header: localeStore.instance.TranslateText('marking.worklist.response-allocation-error-dialog.response-allocation-error-header-withdrawnMarker'), displayPopup: this.state.isWithdrawnResponseError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfWithDrawErrorMessage.bind(this), id: 'withdrawResponseMessage', key: 'withdrawResponseMessageMessage', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var sessionClosedErrorDilaog = this.state.isQigsessionClosedError ? (React.createElement(GenericDialog, { content: this.getSessionClosedErrorMessage(), header: localeStore.instance.TranslateText('marking.worklist.request-marking-check-error-dialog.header-session-closed'), displayPopup: this.state.isQigsessionClosedError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfWithDrawErrorMessage.bind(this), id: 'sessionClosedResponseMessage', key: 'sessionClosedResponseMessageMessage', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var responseSearchFailedErrorDialog = this.state.isResponseSearchFailed ? (React.createElement(GenericDialog, { content: this.getResponseSearchFailedErrorMessage(), header: localeStore.instance.TranslateText('generic.error-dialog.header'), displayPopup: this.state.isResponseSearchFailed, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfResponseSearchFailedErrorMessage.bind(this), id: 'removedResponseMessage', key: 'removedResponseMessageMessage', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var applicationOffLineErrorMessage = this.state.isApplicationOffline ? (React.createElement(GenericDialog, { content: this.offlineErrorMessage, header: localeStore.instance.TranslateText('generic.offline-dialog.header'), displayPopup: this.state.isApplicationOffline, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onApplicationErrorMessagePopUpClicked.bind(this), id: 'offlineErrorMessge', key: 'offlineErrorMessge', popupDialogType: enums.PopupDialogType.OffLineWarning })) : null;\r\n        var idleTimer = this.state.isOnline ? (React.createElement(IdleTimer, { idleAction: this.onYesClickOfLogoutConfirmationAutoLogout, timeout: this._idleTimeOut })) : null;\r\n        var noMarkingCheckAvailableMessage = this.state.popUpType === enums.PopUpType.NoMarkingCheckRequestPossible ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('marking.worklist.request-marking-check-error-dialog.body-no-examiners-available'), header: localeStore.instance.TranslateText('marking.worklist.request-marking-check-error-dialog.header-no-examiners-available'), displayPopup: this.state.doShowNoMarkingCheckAvailableMessage, okButtonText: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.ok-button'), onOkClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.Ok), id: 'id_no_marking_check_message', key: 'key_no_marking_check_message', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var markingCheckCompleteConfirmationPopup = this.state\r\n            .isMarkingCheckCompleteConfirmationPopupDisplaying ? (React.createElement(ConfirmationDialog, { content: localeStore.instance\r\n                .TranslateText('marking.worklist.perform-marking-check-confirmation-dialog.body')\r\n                .replace('{0}', worklistStore.instance.selectedMarkingCheckExaminer.toExaminer.fullName), header: localeStore.instance.TranslateText('marking.worklist.perform-marking-check-confirmation-dialog.header'), displayPopup: true, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('generic.user-menu.profile-section.cancel-email-button'), yesButtonText: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.ok-button'), onYesClick: this.OnOkClickOfMarkingCheckCompleteConfirmation, onNoClick: this.OnCancelClickOfMarkingCheckCompleteConfirmation, dialogType: enums.PopupDialogType.CompleteMarkingCheck, isKeyBoardSupportEnabled: true })) : null;\r\n        var warningMessagePopup = (React.createElement(WarningMessagePopup, { id: 'id_warning_message_popup', key: 'key_warning_message_popup', buttonText: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.ok-button') }));\r\n        var submitErrorPopup = this.state.isSubmitErrorPopDisplaying ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText(this.submitMessageErrorPopupContent.messageContent), header: localeStore.instance.TranslateText(this.submitMessageErrorPopupContent.messageHeader), displayPopup: this.state.isSubmitErrorPopDisplaying, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onSubmitResponseErrorPopupOkClick, id: 'submitErrorMessge', key: 'submitErrorMessge', popupDialogType: enums.PopupDialogType.SubmitResponseError })) : null;\r\n        //Pop up for displaying warning message on opening a QIG in an autozoned question paper\r\n        var autozonedWarningMessage = this.state.isAutozonedMessagePopupDisplaying ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('marking.worklist.autozoned-warning-dialog.body'), header: localeStore.instance.TranslateText('marking.worklist.autozoned-warning-dialog.header'), displayPopup: this.state.isAutozonedMessagePopupDisplaying, okButtonText: localeStore.instance.TranslateText('marking.worklist.autozoned-warning-dialog.ok-button'), onOkClick: this.onAutozonedWarningMessageOkClick, id: 'id_autozonedWarningMessage', key: 'key_autozonedWarningMessage', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        // popup when clicked on the select responses in Std setup - select to mark button\r\n        var selecttoMarkProvisionalDialog = this.state.popUpType === enums.PopUpType.SelectToMarkAsProvisional ? (React.createElement(MultiOptionConfirmationDialog, { content: this.getSelectToMarkProvisionalPopupContent, header: localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-header'), displayPopup: true, onCancelClick: this.onCancelClickOfSelectResponseToMarkasProvisional, onYesClick: this.selectProvisionalMarkNowClick, onNoClick: this.selectProvisionalMarkLaterClick, isKeyBoardSupportEnabled: true, selectedLanguage: this.props.selectedLanguage, popupSize: enums.PopupSize.Medium, popupType: enums.PopUpType.SelectToMarkAsProvisional, buttonCancelText: localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-button1'), buttonNoText: localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-button2'), buttonYesText: localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-button3'), displayNoButton: true })) : null;\r\n        var completeStandardisationPopup = this.props.isCompleteStandardisation && !this.state.isCompleteStandardisation ? (React.createElement(ConfirmationDialog, { content: localeStore.instance.TranslateText('standardisation-setup.left-panel.complete-standardisation-popup-body'), header: localeStore.instance.TranslateText('standardisation-setup.left-panel.complete-standardisation-popup-header'), displayPopup: true, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('generic.logout-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('generic.logout-dialog.yes-button'), onYesClick: this.OnOkClickOfCompleteStandardisationConfirmation, onNoClick: this.OnCancelClickOfCompleteStandardisationConfirmation, dialogType: enums.PopupDialogType.none, isKeyBoardSupportEnabled: true })) : null;\r\n        var completeStandardisationSetupPopup = this.state.popUpType === enums.PopUpType.CompleteStandardisationValidate ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('standardisation-setup.left-panel.complete-standardisation-validate-body'), header: localeStore.instance.TranslateText('standardisation-setup.left-panel.complete-standardisation-validate-header'), displayPopup: this.state.popUpType === enums.PopUpType.CompleteStandardisationValidate ? true : false, okButtonText: localeStore.instance.TranslateText('marking.worklist.autozoned-warning-dialog.ok-button'), onOkClick: this.onOkClickofStandardisationSetupValidate, id: 'id_standardisationsetupvalidate', key: 'key_autozonedWarningMessage', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var markAsDefinitiveDialog = this.state.popUpType === enums.PopUpType.MarkAsDefinitive ? (React.createElement(MultiOptionConfirmationDialog, { content: this.getMarkAsDefinitivePopupContent, header: localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-header'), displayPopup: true, onCancelClick: this.onCancelClickOnMarkAsDefinitivePopUp, onYesClick: this.submitClickOnMarkAsDefinitivePopUp, isKeyBoardSupportEnabled: true, selectedLanguage: this.props.selectedLanguage, popupSize: enums.PopupSize.Medium, popupType: enums.PopUpType.MarkAsDefinitive, buttonCancelText: localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-button1'), buttonYesText: localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-submit-button'), displayNoButton: false })) : null;\r\n        var header = this.isUnclassifiedWorklistSelected() ?\r\n            'standardisation-setup.standardisation-setup-worklist.classify-multioption-popup.header' :\r\n            'standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.header';\r\n        var reusepopupHeader = 'standardisation-setup.previous-session.reuse-action-popup.header';\r\n        var reuseRigActionMultiOptionDialog = this.state.popUpType === enums.PopUpType.ReuseRigAction ? (React.createElement(MultiOptionConfirmationDialog, { content: this.getReUseActionMultiOptionPopupContent, header: localeStore.instance.TranslateText(reusepopupHeader), displayPopup: true, isClassifyResponseOkButtonDisabled: false, onCancelClick: this.onCancelClickOfReuseRigPopup, onYesClick: this.onOKClickOfReuseRigpopup, isKeyBoardSupportEnabled: true, selectedLanguage: this.props.selectedLanguage, popupSize: enums.PopupSize.Medium, popupType: enums.PopUpType.ReuseRigAction, buttonCancelText: localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.cancel-button'), buttonYesText: localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.ok-button'), displayNoButton: false, key: 'key_reuseRigActionMultiOptionDialog' })) : null;\r\n        // Popup when clicked on unclassified worklsit 'classify' or classified worklsit 'reclassify' of a response\r\n        var reclassifyResponseMultiOptionDialog = this.state.popUpType === enums.PopUpType.ReclassifyMultiOption ? (React.createElement(MultiOptionConfirmationDialog, { content: this.getReclassificationMultiOptionPopupContent, header: localeStore.instance.TranslateText(header), displayPopup: true, isClassifyResponseOkButtonDisabled: this.isUnclassifiedWorklistSelected() ?\r\n                this.isClassifyResponseOkButtonDisabled : false, onCancelClick: this.onCancelClickOfReclassifyMultiOptionPopUp, onYesClick: this.onReclassifyResponse, isKeyBoardSupportEnabled: true, selectedLanguage: this.props.selectedLanguage, popupSize: enums.PopupSize.Medium, popupType: enums.PopUpType.ReclassifyMultiOption, buttonCancelText: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.cancel-button'), buttonYesText: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.ok-button'), displayNoButton: false, key: 'key_reclassifyResponseMultiOptionDialog' })) : null;\r\n        // Popup Dialog to notify user above reclassify failure.\r\n        var reclassifyErrorPopupDialog = (this.state.popUpType === enums.PopUpType.ReclassifyError ?\r\n            React.createElement(GenericDialog, { content: this.getReclassifyErrorPopupContent(), multiLineContent: null, header: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassifyerror-popup.header'), secondaryContent: null, displayPopup: true, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onReclassifyErrorMessageOkClick, id: 'reclassifyError', key: 'reclassifyErrorMessage', popupDialogType: enums.PopupDialogType.ReclassifyError, footerContent: null }) : null);\r\n        // Popup Dialog to notify user above concurrent save fail.\r\n        var concurrentSaveFailPopup = (this.state.popUpType === enums.PopUpType.ConcurrentSaveFail ?\r\n            React.createElement(GenericDialog, { content: this.classifyOrReclassifySaveFailPopUpContent, header: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.concurrent-esmarkingmode-save-fail-popup.header'), secondaryContent: null, displayPopup: true, okButtonText: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.concurrent-esmarkingmode-save-fail-popup.ok-button'), onOkClick: this.onConcurrentSaveFailPopupOkClick, id: 'concurrentSaveFailError', key: 'concurrentSaveFailErrorMessage', popupDialogType: enums.PopupDialogType.ConcurrentSaveFail, footerContent: null }) : null);\r\n        // Popup dialog to notify user that the current response has already been discarded.\r\n        var discardResponseFailPopup = (this.state.popUpType === enums.PopUpType.DiscardResponseFail ?\r\n            React.createElement(GenericDialog, { content: this.discardResponseFailPopUpContent, header: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.response-already-discarded-popup.header'), secondaryContent: null, displayPopup: true, okButtonText: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.response-already-discarded-popup.ok-button'), onOkClick: this.onDiscardResponseFailPopupOkClick, id: 'discardResponseFailError', key: 'concurrentSaveFailErrorMessage', popupDialogType: enums.PopupDialogType.DiscardResponse, footerContent: null }) : null);\r\n        // Popup Dialog to notify user above concurrent save fail.\r\n        var unClassifiedScriptinStmUnavailablePopup = (this.state.unClassifiedScriptinStmUnavailableVisible === true ?\r\n            React.createElement(GenericDialog, { content: stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.unclassified-script-unavailable-popup.content'), [responseStore.instance.selectedDisplayId.toString()]), header: localeStore.instance.TranslateText('standardisation-setup.unclassified-script-unavailable-popup.header'), secondaryContent: null, okButtonText: localeStore.instance.TranslateText('standardisation-setup.unclassified-script-unavailable-popup.ok-button'), onOkClick: this.okClickOnUnavailablePopUp, displayPopup: this.state.unClassifiedScriptinStmUnavailableVisible, id: 'unclassifiedscriptunavailable', key: 'unclassifiedscriptunavailableKey', popupDialogType: enums.PopupDialogType.none, footerContent: null }) : null);\r\n        var rigNotFoundDialog = this.state.showRigNotFoundPopUp ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('search-response.search-rig-not-found-content'), header: localeStore.instance.TranslateText('search-response.search-rig-not-found-title'), displayPopup: this.state.showRigNotFoundPopUp, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onRigNotFoundOkClick, id: 'rigNotFoundPopup', key: 'rigNotFoundPopup', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var saveEmailMessage = stringHelper.format(localeStore.instance.TranslateText('generic.user-menu.email-address-saved-dialog.body'), [String(String.fromCharCode(179))]);\r\n        var emailSaveMessage = (React.createElement(GenericDialog, { content: saveEmailMessage, header: localeStore.instance.TranslateText('generic.user-menu.email-address-saved-dialog.header'), displayPopup: this.state.isSaveEmailMessageDisplaying, okButtonText: localeStore.instance.TranslateText('marking.worklist.response-allocation-error-dialog.ok-button'), onOkClick: this.onOkClickOfEmailSucessMessage, id: 'emailSaveMessage', key: 'emailSaveMessage', popupDialogType: enums.PopupDialogType.ResponseAllocationError }));\r\n        var shareResponsePopup = this.state.isShareResponsePopupDisplayingForPE || this.state.isShareResponsePopupDisplaying ? (React.createElement(MultiOptionConfirmationDialog, { content: this.state.isShareResponsePopupDisplayingForPE ?\r\n                this.getShareResponsePopupContentForPE : this.getShareResponsePopupContent(), header: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.header'), displayPopup: true, onCancelClick: this.shareResponsePopupClose, onYesClick: this.shareResponse, onNoClick: null, isKeyBoardSupportEnabled: true, selectedLanguage: this.props.selectedLanguage, popupSize: enums.PopupSize.Medium, popupType: enums.PopUpType.ShareResponse, buttonCancelText: localeStore.instance\r\n                .TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.cancel-button'), buttonYesText: localeStore.instance\r\n                .TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.share-button'), buttonNoText: null, displayNoButton: false })) : null;\r\n        return (React.createElement(\"div\", null,\r\n            selecttoMarkProvisionalDialog,\r\n            markAsDefinitiveDialog,\r\n            completeStandardisationPopup,\r\n            completeStandardisationSetupPopup,\r\n            autozonedWarningMessage,\r\n            submitConfirmationDialog,\r\n            mandatoryMessageValidationPopup,\r\n            confirmationDialog,\r\n            busyIndicator,\r\n            nonRecoverableErrorMessage,\r\n            gracePeriodResponseUnmarkedDialog,\r\n            responseRemovedErrorDialog,\r\n            gracePeriodExpiredErrorDialog,\r\n            discardMessageDialog,\r\n            discardExceptionDialog,\r\n            withdrawErrorDialog,\r\n            mandatoryMessageDialog,\r\n            idleTimer,\r\n            nonRecoverableSaveMarksAndAnnotationsErrorMessage,\r\n            noMarkingCheckAvailableMessage,\r\n            markingCheckCompleteConfirmationPopup,\r\n            supervisorSamplingCommentValidationPopup,\r\n            warningMessagePopup,\r\n            this.renderSimulationExitedQigsPopup(),\r\n            this.renderLocksInQigPopUp(),\r\n            applicationOffLineErrorMessage,\r\n            responseSearchFailedErrorDialog,\r\n            simulationResponseSubmitConfirmationPopup,\r\n            submitErrorPopup,\r\n            shareConfirmationPopup,\r\n            sessionClosedErrorDilaog,\r\n            reclassifyResponseMultiOptionDialog,\r\n            reclassifyErrorPopupDialog,\r\n            concurrentSaveFailPopup,\r\n            noteTimeStampChangedPopup,\r\n            responseModifiedPopup,\r\n            unClassifiedScriptinStmUnavailablePopup,\r\n            rigNotFoundDialog,\r\n            emailSaveMessage,\r\n            shareResponsePopup,\r\n            reuseRigActionMultiOptionDialog,\r\n            discardResponseFailPopup));\r\n    };\r\n    /**\r\n     * componentDidMount\r\n     */\r\n    Footer.prototype.componentDidMount = function () {\r\n        userOptionStore.instance.addListener(userOptionStore.UseroptionStore.USER_OPTION_SAVE_ON_LOGOUT_EVENT, this.updateUserSession);\r\n        loginStore.instance.addListener(loginStore.LoginStore.UPDATE_SESSION_ON_LOGOUT_EVENT, this.clearSession);\r\n        loginStore.instance.addListener(loginStore.LoginStore.CONCURRENT_SESSION_ACTIVE, this.onConcurrentSessionActive);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.SAVE_MARKS_AND_ANNOTATIONS_EVENT, this.onSaveMarksAndAnnotations);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.navigateAwayFromResponse);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.TRIGGER_SAVING_MARKS_AND_ANNOTATIONS_EVENT, this.onSaveMarksAndAnnotationsTriggered);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.SET_NON_RECOVERABLE_ERROR_EVENT, this.onSetHasNonRecoverableError);\r\n        window.addEventListener('online', this._boundOnlineStatusEvent);\r\n        window.addEventListener('offline', this._boundOnlineStatusEvent);\r\n        window.addEventListener('beforeunload', navigationHelper.onBeforeWindowUnload);\r\n        window.addEventListener('resize', this.scrollIntoViewOnEditingTextForAndroid);\r\n        submitStore.instance.addListener(submitStore.SubmitStore.SUBMIT_RESPONSE_COMPLETED, this.onSubmitResponseCompleted);\r\n        submitStore.instance.addListener(submitStore.SubmitStore.SHARE_AND_CLASSIFY_RESPONSE_COMPLETED, this.reRenderProvionalWorklist);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_NAVIGATION_EVENT, this.onMessagePanelEdited);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.MARKINGMODE_CHANGED_IN_PROVISIONAL_RESPONSE_EVENT, this.unClassifiedScriptinStmUnavailable);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.SHOW_GRACE_PERIOD_NOT_FULLY_MARKED_MESSAGE, this.showResponseInGraceNotFullyMarkedMessage);\r\n        messageStore.instance.addListener(messageStore.MessageStore.POPUP_DISPLAY_EVENT, this.onPopUpDisplayEvent);\r\n        exceptionStore.instance.addListener(exceptionStore.ExceptionStore.EXCEPTION_DISCARD_POPUP_DISPLAY_EVENT, this.onPopUpDisplayEvent);\r\n        qigStore.instance.addListener(qigStore.QigStore.ACCEPT_QUALITY_ACTION_COMPLETED, this.onAcceptQualityFeedbackActionCompleted);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.RETRIEVE_MARKS_EVENT, this.marksRetrieved);\r\n        busyIndicatorStore.instance.addListener(busyIndicatorStore.BusyIndicatorStore.BUSY_INDICATOR, this.setBusyIndicator);\r\n        messageStore.instance.addListener(messageStore.MessageStore.UNREAD_MANDATORY_MESSAGE_STATUS_UPDATED, this.showMandatoryMessagePopup);\r\n        messageStore.instance.addListener(messageStore.MessageStore.UPDATE_NOTIFICATION_TRIGGERED_EVENT, this.onUpdateNotification);\r\n        applicationStore.instance.addListener(applicationStore.ApplicationStore.ACTION_INTERRUPTED_EVENT, this.userActionInterrupted);\r\n        submitStore.instance.addListener(submitStore.SubmitStore.SUBMIT_RESPONSE_STARTED, this.onSubmitResponseStarted);\r\n        examinerStore.instance.addListener(examinerStore.ExaminerStore.MARKER_INFO_UPDATED_EVENT, this.updateMarkerInformationPanel);\r\n        examinerStore.instance.addListener(examinerStore.ExaminerStore.QIG_SESSION_CLOSED_EVENT, this.updateQigForSessionClose);\r\n        messageStore.instance.addListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_EVENT, this.onResponseDataReceived);\r\n        navigationStore.instance.addListener(navigationStore.NavigationStore.CONTAINER_CHANGE__EVENT, this.refreshState);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MANDATORY_MESSAGE_VALIDATION_POPUP_EVENT, this.mandatoryMessageValidationPopupVisibility);\r\n        messageStore.instance.addListener(messageStore.MessageStore.UPDATE_MESSAGE_PRIORITY_EVENT, this.messagePriorityUpdate);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.WORKLIST_MARKING_MODE_CHANGE, this.addToRecentHistory);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.WORKLIST_MARKING_MODE_CHANGE, this.resetBusyIndicator);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.NO_MARKING_CHECK_AVAILABLE_MESSAGE, this.showNoMarkingCheckAvailableMessage);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.OPEN_TEAM_MANAGEMENT_EVENT, this.onTeamManagementOpen);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.MY_TEAM_DATA_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.TEAM_EXCEPTIONS_DATA_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.HELP_EXAMINERS_DATA_RECEIVED, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.ADD_TO_HISTORY_EVENT, this.addToRecentHistory);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.MARKING_CHECK_COMPLETE_BUTTON_EVENT, this.markCheckCompleteButtonEvent);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.MARKING_CHECK_COMPLETED_EVENT, this.markCheckCompletedEvent);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.SAMPLING_STATUS_CHANGED_EVENT, this.ShowSupervisorSamplingCommentValidationPopup);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.EXAMINER_DRILL_DOWN_DATA_UPDATED, this.addToRecentHistory);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.FAILURE_WHILE_FETCHING_TEAM_DATA_EVENT, this.handleErrorNavigationTeamManagement);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.MY_TEAM_DATA_LOADED_EVENT, this.resetBusyIndicator);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.TEAM_EXCEPTIONS_DATA_LOADED_EVENT, this.resetBusyIndicator);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.HELP_EXAMINERS_DATA_RECEIVED, this.resetBusyIndicator);\r\n        qigStore.instance.addListener(qigStore.QigStore.SHOW_LOCKS_IN_QIG_POPUP, this.onShowLocksInQigsPopup);\r\n        qigStore.instance.addListener(qigStore.QigStore.QIG_SELECTED_FROM_LOCKED_LIST, this.onQigSelectedFromLockedList);\r\n        qigStore.instance.addListener(qigStore.QigStore.QIG_SELECTED_EVENT, this.navigateToQigFromLockedList);\r\n        qigStore.instance.addListener(qigStore.QigStore.LOCKS_IN_QIG_DATA_RETRIEVED, this.doLogoutPopup);\r\n        messageStore.instance.addListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_FAILED_EVENT, this.onResponseDataReceivedFailed);\r\n        submitStore.instance.addListener(submitStore.SubmitStore.SHOW_SIMULATION_RESPONSE_SUBMIT_CONFIRMATION_EVENT, this.onshowSimulationResponseSubmitConfirmationPopup);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.STANDARDISATION_SETUP_COMPLETED_IN_BACKGROUND, this.onStandardisationSetupCompletionInBackground);\r\n        qigStore.instance.addListener(qigStore.QigStore.SIMULATION_EXITED_QIGS_AND_LOCKS_IN_QIGS_RETRIEVED, this.onSimulationExitedQigsAndLocksInQigsRecieved);\r\n        qigStore.instance.addListener(qigStore.QigStore.SIMULATION_TARGET_COMPLETED, this.onSimulationTargetCompletion);\r\n        qigStore.instance.addListener(qigStore.QigStore.STANDARDISATION_SETUP_COMPLETED_EVENT, this.onStandardisationSetupCompletion);\r\n        qigStore.instance.addListener(qigStore.QigStore.SIMULATION_EXITED_QIGS_RETRIEVED, this.onSimulationExitedQigsRecieved);\r\n        ccStore.instance.addListener(ccStore.ConfigurableCharacteristicsStore.EXAM_BODY_CC_GET, this.onExamBodyCCLoaded);\r\n        ecourseworkFileStore.instance.addListener(ecourseworkFileStore.ECourseWorkFileStore.ECOURSEWORK_FILE_DATA_CLEARED_EVENT, this.onEcourseworkFileDataCleared);\r\n        qigStore.instance.addListener(qigStore.QigStore.SAVE_ACETATES_DATA_ACTION_COMPLETED, this.resetAcetateSaveInProgressStatus);\r\n        qigStore.instance.addListener(qigStore.QigStore.SHARE_CONFIRMATION_EVENT, this.shareConfirmationPopup);\r\n        qigStore.instance.addListener(qigStore.QigStore.RESET_SHARED_ACETATES_COMPLETED, this.resetAcetateSaveInProgressStatus);\r\n        qigStore.instance.addListener(qigStore.QigStore.RESET_ACETATE_SAVE_IN_PROGRESS_STATUS_COMPLETED, this.onResetAcetatesSaveInProgressReceived);\r\n        targetSummaryStore.instance.addListener(targetSummaryStore.TargetSummaryStore.WORKLIST_INITIALISATION_COMPLETED, this.isAutozonedMessagePopupVisible);\r\n        imageZoneStore.instance.addListener(imageZoneStore.ImageZoneStore.EBOOK_IMAGEZONE_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .POPUP_OPEN_SELECT_TO_MARK_BUTTON_EVENT, this.onSelectStdSetupResponseToMark);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .STANDARDISATION_RIG_CREATED_EVENT, this.onStandardisationRigCreated);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .COMPLETE_STANDARDISATION_SETUP_EVENT, this.onCompleteStandardisationSetup);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .GET_STANDARDISATION_TARGET_DETAILS_EVENT, this.resetBusyIndicatorStdSetupNotComplete);\r\n        userinfostore.instance.addListener(userinfostore.UserInfoStore.SWITCH_USER_BUTTON_CLICK, this.switchUserButtonClick);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .STANDARDISATION_RESPONSE_DATA_UPDATED_EVENT, this.onResponseDataRecievedAfterRefresh);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .GET_STANDARDISATION_CENTRE_DETAILS_EVENT, this.onResponseDataRecievedAfterRefresh);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .MULTI_OPTION_POPUP_OPEN_RECLASSIFY_POPUP_EVENT, this.reclassifyMultiOptionPopupOpen);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.STANDARDISATION_SETUP_LEFT_PANEL_SELECT_EVENT, this.addToRecentHistory);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.POPUP_OPEN_RECLASSIFY_POPUP_EVENT, this.reclassifyPopupOpen);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .POPUP_OPEN_RECLASSIFY_ERROR_POPUP_EVENT, this.reclassifyErrorPopupOpen);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .CONCURRENT_SAVE_FAIL_EVENT, this.concurrentSaveFailPopup);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.CLASSIFY_RESPONSE_EVENT, this.reRenderUnclassifiedWorklist);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.SAVE_NOTE_COMPLETED_ACTION_EVENT, this.displayNoteSaveFailedPopup);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.RECLASSIFIED_RESPONSE_EVENT, this.reRenderOnClassifiedResponseReceived);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.DECLASSIFY_RESPONSE_EVENT, this.reRenderOnClassifiedResponseReceived);\r\n        responseStore.instance.addListener(responseStore.ResponseStore.RIG_NOT_FOUND_EVENT, this.showOrHideRigNotFoundPopup);\r\n        userinfostore.instance.addListener(userinfostore.UserInfoStore.USERINFO_SAVE, this.userInfoSaved);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.STANDARDISATION_SHARE_RESPONSE_POPUP_DISPLAY, this.shareResponsePopupOpen);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.REUSE_RIG_POPUP_DISPLAY_ACTION_EVENT, this.reuseRigActionPopupOpen);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.REUSE_RIG_ACTION_COMPLETED_EVENT, this.reuseRigActionCompletedEvent);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.RESPONSE_ALREADY_DISCARDED_EVENT, this.discardResponseFailPopup);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.submitResponseFromMarkscheme);\r\n    };\r\n    /**\r\n     * componentWillUnmount\r\n     */\r\n    Footer.prototype.componentWillUnmount = function () {\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.submitResponseFromMarkscheme);\r\n        userOptionStore.instance.removeListener(userOptionStore.UseroptionStore.USER_OPTION_SAVE_ON_LOGOUT_EVENT, this.updateUserSession);\r\n        loginStore.instance.removeListener(loginStore.LoginStore.UPDATE_SESSION_ON_LOGOUT_EVENT, this.clearSession);\r\n        loginStore.instance.removeListener(loginStore.LoginStore.CONCURRENT_SESSION_ACTIVE, this.onConcurrentSessionActive);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.SAVE_MARKS_AND_ANNOTATIONS_EVENT, this.onSaveMarksAndAnnotations);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.navigateAwayFromResponse);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.TRIGGER_SAVING_MARKS_AND_ANNOTATIONS_EVENT, this.onSaveMarksAndAnnotationsTriggered);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.SET_NON_RECOVERABLE_ERROR_EVENT, this.onSetHasNonRecoverableError);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.MARKINGMODE_CHANGED_IN_PROVISIONAL_RESPONSE_EVENT, this.unClassifiedScriptinStmUnavailable);\r\n        window.removeEventListener('online', this._boundOnlineStatusEvent);\r\n        window.removeEventListener('offline', this._boundOnlineStatusEvent);\r\n        window.removeEventListener('beforeunload', navigationHelper.onBeforeWindowUnload);\r\n        window.removeEventListener('resize', this.scrollIntoViewOnEditingTextForAndroid);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.SHOW_GRACE_PERIOD_NOT_FULLY_MARKED_MESSAGE, this.showResponseInGraceNotFullyMarkedMessage);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.POPUP_DISPLAY_EVENT, this.onPopUpDisplayEvent);\r\n        exceptionStore.instance.removeListener(exceptionStore.ExceptionStore.EXCEPTION_DISCARD_POPUP_DISPLAY_EVENT, this.onPopUpDisplayEvent);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.RETRIEVE_MARKS_EVENT, this.marksRetrieved);\r\n        qigStore.instance.removeListener(qigStore.QigStore.ACCEPT_QUALITY_ACTION_COMPLETED, this.onAcceptQualityFeedbackActionCompleted);\r\n        submitStore.instance.removeListener(submitStore.SubmitStore.SUBMIT_RESPONSE_COMPLETED, this.onSubmitResponseCompleted);\r\n        submitStore.instance.removeListener(submitStore.SubmitStore.SHARE_AND_CLASSIFY_RESPONSE_COMPLETED, this.reRenderProvionalWorklist);\r\n        busyIndicatorStore.instance.removeListener(busyIndicatorStore.BusyIndicatorStore.BUSY_INDICATOR, this.setBusyIndicator);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.UNREAD_MANDATORY_MESSAGE_STATUS_UPDATED, this.showMandatoryMessagePopup);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.UPDATE_NOTIFICATION_TRIGGERED_EVENT, this.onUpdateNotification);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_NAVIGATION_EVENT, this.onMessagePanelEdited);\r\n        applicationStore.instance.removeListener(applicationStore.ApplicationStore.ACTION_INTERRUPTED_EVENT, this.userActionInterrupted);\r\n        submitStore.instance.removeListener(submitStore.SubmitStore.SUBMIT_RESPONSE_STARTED, this.onSubmitResponseStarted);\r\n        examinerStore.instance.removeListener(examinerStore.ExaminerStore.MARKER_INFO_UPDATED_EVENT, this.updateMarkerInformationPanel);\r\n        examinerStore.instance.removeListener(examinerStore.ExaminerStore.QIG_SESSION_CLOSED_EVENT, this.updateQigForSessionClose);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_EVENT, this.onResponseDataReceived);\r\n        navigationStore.instance.removeListener(navigationStore.NavigationStore.CONTAINER_CHANGE__EVENT, this.refreshState);\r\n        //timerHelper.clearInterval();\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MANDATORY_MESSAGE_VALIDATION_POPUP_EVENT, this.mandatoryMessageValidationPopupVisibility);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.UPDATE_MESSAGE_PRIORITY_EVENT, this.messagePriorityUpdate);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.WORKLIST_MARKING_MODE_CHANGE, this.addToRecentHistory);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.WORKLIST_MARKING_MODE_CHANGE, this.resetBusyIndicator);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.NO_MARKING_CHECK_AVAILABLE_MESSAGE, this.showNoMarkingCheckAvailableMessage);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.OPEN_TEAM_MANAGEMENT_EVENT, this.onTeamManagementOpen);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.MY_TEAM_DATA_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.TEAM_EXCEPTIONS_DATA_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.HELP_EXAMINERS_DATA_RECEIVED, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.ADD_TO_HISTORY_EVENT, this.addToRecentHistory);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.MARKING_CHECK_COMPLETE_BUTTON_EVENT, this.markCheckCompleteButtonEvent);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.MARKING_CHECK_COMPLETED_EVENT, this.markCheckCompletedEvent);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.SAMPLING_STATUS_CHANGED_EVENT, this.ShowSupervisorSamplingCommentValidationPopup);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.EXAMINER_DRILL_DOWN_DATA_UPDATED, this.addToRecentHistory);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.FAILURE_WHILE_FETCHING_TEAM_DATA_EVENT, this.handleErrorNavigationTeamManagement);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.MY_TEAM_DATA_LOADED_EVENT, this.resetBusyIndicator);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.TEAM_EXCEPTIONS_DATA_LOADED_EVENT, this.resetBusyIndicator);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.HELP_EXAMINERS_DATA_RECEIVED, this.resetBusyIndicator);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SHOW_LOCKS_IN_QIG_POPUP, this.onShowLocksInQigsPopup);\r\n        qigStore.instance.removeListener(qigStore.QigStore.QIG_SELECTED_FROM_LOCKED_LIST, this.onQigSelectedFromLockedList);\r\n        qigStore.instance.removeListener(qigStore.QigStore.QIG_SELECTED_EVENT, this.navigateToQigFromLockedList);\r\n        qigStore.instance.removeListener(qigStore.QigStore.LOCKS_IN_QIG_DATA_RETRIEVED, this.doLogoutPopup);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_FAILED_EVENT, this.onResponseDataReceivedFailed);\r\n        submitStore.instance.removeListener(submitStore.SubmitStore.SHOW_SIMULATION_RESPONSE_SUBMIT_CONFIRMATION_EVENT, this.onshowSimulationResponseSubmitConfirmationPopup);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.STANDARDISATION_SETUP_COMPLETED_IN_BACKGROUND, this.onStandardisationSetupCompletionInBackground);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SIMULATION_EXITED_QIGS_AND_LOCKS_IN_QIGS_RETRIEVED, this.onSimulationExitedQigsAndLocksInQigsRecieved);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SIMULATION_TARGET_COMPLETED, this.onSimulationTargetCompletion);\r\n        qigStore.instance.removeListener(qigStore.QigStore.STANDARDISATION_SETUP_COMPLETED_EVENT, this.onStandardisationSetupCompletion);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SIMULATION_EXITED_QIGS_RETRIEVED, this.onSimulationExitedQigsRecieved);\r\n        ccStore.instance.removeListener(ccStore.ConfigurableCharacteristicsStore.EXAM_BODY_CC_GET, this.onExamBodyCCLoaded);\r\n        ecourseworkFileStore.instance.removeListener(ecourseworkFileStore.ECourseWorkFileStore.ECOURSEWORK_FILE_DATA_CLEARED_EVENT, this.onEcourseworkFileDataCleared);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SAVE_ACETATES_DATA_ACTION_COMPLETED, this.resetAcetateSaveInProgressStatus);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SHARE_CONFIRMATION_EVENT, this.shareConfirmationPopup);\r\n        qigStore.instance.removeListener(qigStore.QigStore.RESET_SHARED_ACETATES_COMPLETED, this.resetAcetateSaveInProgressStatus);\r\n        qigStore.instance.removeListener(qigStore.QigStore.RESET_ACETATE_SAVE_IN_PROGRESS_STATUS_COMPLETED, this.onResetAcetatesSaveInProgressReceived);\r\n        targetSummaryStore.instance.removeListener(targetSummaryStore.TargetSummaryStore.WORKLIST_INITIALISATION_COMPLETED, this.isAutozonedMessagePopupVisible);\r\n        imageZoneStore.instance.removeListener(imageZoneStore.ImageZoneStore.EBOOK_IMAGEZONE_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .POPUP_OPEN_SELECT_TO_MARK_BUTTON_EVENT, this.onSelectStdSetupResponseToMark);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .STANDARDISATION_RIG_CREATED_EVENT, this.onStandardisationRigCreated);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .COMPLETE_STANDARDISATION_SETUP_EVENT, this.onCompleteStandardisationSetup);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .GET_STANDARDISATION_TARGET_DETAILS_EVENT, this.resetBusyIndicatorStdSetupNotComplete);\r\n        userinfostore.instance.removeListener(userinfostore.UserInfoStore.SWITCH_USER_BUTTON_CLICK, this.switchUserButtonClick);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .STANDARDISATION_RESPONSE_DATA_UPDATED_EVENT, this.onResponseDataRecievedAfterRefresh);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .GET_STANDARDISATION_CENTRE_DETAILS_EVENT, this.onResponseDataRecievedAfterRefresh);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .MULTI_OPTION_POPUP_OPEN_RECLASSIFY_POPUP_EVENT, this.reclassifyMultiOptionPopupOpen);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.STANDARDISATION_SETUP_LEFT_PANEL_SELECT_EVENT, this.addToRecentHistory);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.POPUP_OPEN_RECLASSIFY_POPUP_EVENT, this.reclassifyPopupOpen);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .POPUP_OPEN_RECLASSIFY_ERROR_POPUP_EVENT, this.reclassifyErrorPopupOpen);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .CONCURRENT_SAVE_FAIL_EVENT, this.concurrentSaveFailPopup);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.CLASSIFY_RESPONSE_EVENT, this.reRenderUnclassifiedWorklist);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.SAVE_NOTE_COMPLETED_ACTION_EVENT, this.displayNoteSaveFailedPopup);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.RECLASSIFIED_RESPONSE_EVENT, this.reRenderOnClassifiedResponseReceived);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.DECLASSIFY_RESPONSE_EVENT, this.reRenderOnClassifiedResponseReceived);\r\n        responseStore.instance.removeListener(responseStore.ResponseStore.RIG_NOT_FOUND_EVENT, this.showOrHideRigNotFoundPopup);\r\n        userinfostore.instance.removeListener(userinfostore.UserInfoStore.USERINFO_SAVE, this.userInfoSaved);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.STANDARDISATION_SHARE_RESPONSE_POPUP_DISPLAY, this.shareResponsePopupOpen);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.REUSE_RIG_POPUP_DISPLAY_ACTION_EVENT, this.reuseRigActionPopupOpen);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.REUSE_RIG_ACTION_COMPLETED_EVENT, this.reuseRigActionCompletedEvent);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.RESPONSE_ALREADY_DISCARDED_EVENT, this.discardResponseFailPopup);\r\n    };\r\n    /**\r\n     * Set the confirmation dialogue state\r\n     * @param stateValue The state value\r\n     */\r\n    Footer.prototype.setConfirmationDialogueState = function (stateValue) {\r\n        this.setState({\r\n            isSubmitConfirmationPopupDisplaying: stateValue\r\n        });\r\n    };\r\n    /**\r\n     * On yes click of submit response confirmation pop up\r\n     */\r\n    Footer.prototype.onYesClickOfSubmitButton = function () {\r\n        this.setConfirmationDialogueState(false);\r\n        this.submitResponse();\r\n    };\r\n    /**\r\n     * submit response/s\r\n     */\r\n    Footer.prototype.submitResponse = function () {\r\n        var busyIndicatorInvoker;\r\n        var submitResponseArgument;\r\n        /**\r\n         * if markgroupid is greater than zero, then its single response submit\r\n         */\r\n        busyIndicatorInvoker =\r\n            submitStore.instance.getMarkGroupId > 0\r\n                ? enums.BusyIndicatorInvoker.submit\r\n                : enums.BusyIndicatorInvoker.submitAll;\r\n        /**\r\n         * Show busy indicator on submitting response\r\n         */\r\n        busyIndicatorActionCreator.setBusyIndicatorInvoker(busyIndicatorInvoker);\r\n        /**\r\n         * Submitting  responses initiated\r\n         * Select the mark group list based on the current response mode\r\n         */\r\n        var markGroupIdList = worklistComponentHelper.getMarkgroupIdCollectionForSubmit(targetHelper.getSelectedQigMarkingMode());\r\n        var qiglist = qigStore.instance.relatedQigList;\r\n        var examinerRoleIdList = new Array();\r\n        qiglist\r\n            ? qiglist.map(function (x) {\r\n                examinerRoleIdList.push(x.examinerRoleId);\r\n            })\r\n            : (examinerRoleIdList = null);\r\n        var markSchemeGroupIds = new Array();\r\n        qiglist\r\n            ? qiglist.map(function (x) {\r\n                markSchemeGroupIds.push(x.markSchemeGroupId);\r\n            })\r\n            : (markSchemeGroupIds = null);\r\n        /**\r\n         * mapping  values on submit argument\r\n         */\r\n        submitResponseArgument = {\r\n            markGroupIds: markGroupIdList,\r\n            markingMode: targetHelper.getSelectedQigMarkingMode(),\r\n            examinerRoleId: qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId,\r\n            markSchemeGroupId: qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId,\r\n            examinerApproval: examinerStore.instance.getMarkerInformation.approvalStatus,\r\n            isAdminRemarker: loginStore.instance.isAdminRemarker\r\n        };\r\n        var worklistType = worklistStore.instance.currentWorklistType;\r\n        var remarkRequestType = worklistComponentHelper.getRemarkRequestType(worklistType);\r\n        /**\r\n         * calling to send data to server\r\n         */\r\n        var displayId = submitStore.instance.isSubmitFromMarkScheme\r\n            ? responseStore.instance.selectedDisplayId.toString()\r\n            : undefined;\r\n        submitActionCreator.submitResponse(submitResponseArgument, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, worklistType, remarkRequestType, submitStore.instance.isSubmitFromMarkScheme, displayId, examinerRoleIdList, markSchemeGroupIds);\r\n    };\r\n    /**\r\n     * On no click of submit response confirmation pop up\r\n     */\r\n    Footer.prototype.onNoClickOfSubmitButton = function () {\r\n        this.setConfirmationDialogueState(false);\r\n    };\r\n    /**\r\n     * this function is called on \"yes\" click of logout confirmation popup. This will trigger logout.\r\n     */\r\n    Footer.prototype.onYesClickOfLogoutConfirmation = function (isAutoLogOut) {\r\n        if (isAutoLogOut === void 0) { isAutoLogOut = false; }\r\n        /**\r\n         * Setting to true as the logout has been triggered\r\n         */\r\n        this._onLogoutTriggered = true;\r\n        /**\r\n         * Setting the value to identify whether it is from idle timeout\r\n         */\r\n        this._isAutoLogOut = isAutoLogOut;\r\n        switch (navigationStore.instance.containerPage) {\r\n            case enums.PageContainers.QigSelector:\r\n            case enums.PageContainers.Message:\r\n            case enums.PageContainers.Reports:\r\n                var _rememberQig = new rememberQig();\r\n                _rememberQig.qigId = 0;\r\n                _rememberQig.area = enums.QigArea.QigSelector;\r\n                userOptionsHelper.save(userOptionKeys.REMEMBER_PREVIOUS_QIG, JSON.stringify(_rememberQig));\r\n                break;\r\n        }\r\n        /**\r\n         * Saving changed user options if any of them changed\r\n         */\r\n        if (userOptionsHelper.hasUserOptionsChanged) {\r\n            userOptionsHelper.InitiateSaveUserOption(true);\r\n        }\r\n        else {\r\n            this.updateUserSession();\r\n        }\r\n    };\r\n    /**\r\n     * to update message priority\r\n     */\r\n    Footer.prototype.onOkClickMandatoryMessageValidationPopup = function () {\r\n        messagingActionCreator.updateMessagePriority();\r\n    };\r\n    /**\r\n     * Return true if the selected standardisation tab is unclassified\r\n     */\r\n    Footer.prototype.isUnclassifiedWorklistSelected = function () {\r\n        return standardisationSetupStore.instance.selectedStandardisationSetupWorkList === enums.StandardisationSetup.UnClassifiedResponse;\r\n    };\r\n    /**\r\n     * hides the popup\r\n     */\r\n    Footer.prototype.onPopupOkClick = function () {\r\n        this.setState({ doShowPopup: false });\r\n        // If the object has the mark group Id, Call navigate method for completing actions.\r\n        if (this.messageDetails.submittedMarkGroupIds &&\r\n            this.messageDetails.submittedMarkGroupIds.length > 0) {\r\n            this.navigateAfterSubmit(this.messageDetails.submittedMarkGroupIds, this.messageDetails.displayId, this.messageDetails.isFromMarkScheme);\r\n            this.messageDetails.submittedMarkGroupIds = [];\r\n        }\r\n    };\r\n    /**\r\n     * shows the popup\r\n     */\r\n    Footer.prototype.ShowSupervisorSamplingCommentValidationPopup = function (supervisorSamplingCommentReturn) {\r\n        if (supervisorSamplingCommentReturn.isSampled) {\r\n            this.messageDetails = {\r\n                messageHeader: localeStore.instance.TranslateText('team-management.response.sampling-error-dialog-already-sampled.body'),\r\n                messageString: localeStore.instance.TranslateText('team-management.response.sampling-error-dialog-already-sampled.header')\r\n            };\r\n            this.setState({ doShowPopup: true });\r\n        }\r\n    };\r\n    /**\r\n     * this function is called on 'No' click of logout confirmation popup.This will call a method in the container.\r\n     */\r\n    Footer.prototype.onNoClickOfLogoutConfirmation = function () {\r\n        this.props.resetLogoutConfirmationSatus();\r\n    };\r\n    /**\r\n     * Non-Recoverable marks and annotation save error message ok click\r\n     */\r\n    Footer.prototype.onOkClickOfNonRecoverableErrorMessage = function () {\r\n        // close the non-recoverable error popup on submit if it is already open.\r\n        if (this.state.nonRecoverableSaveMarksAndAnnotationsErrorMessage) {\r\n            this.setState({\r\n                nonRecoverableSaveMarksAndAnnotationsErrorMessage: false\r\n            });\r\n        }\r\n        // close the non-recoverable error popup.\r\n        if (this.state.isNonRecoverableErrorPopupVisible) {\r\n            this.setState({\r\n                isNonRecoverableErrorPopupVisible: false\r\n            });\r\n        }\r\n        // This will clear the marks and annotations with non-recoverable error from store collection.\r\n        // This will reload by background call or while opening the response.\r\n        marksAndAnnotationsSaveHelper.clearMarksAndAnnotationsForNonRecoverableErrors();\r\n        // Calling the processBasedOnSaveMarksAndAnnotationTriggeringPoint on Submit will make the DB call.\r\n        // refresh and navigate to worklist if there is an error.\r\n        if (this.currentSaveMarksAndAnnotationTriggeringPoint ===\r\n            enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Submit) {\r\n            navigationHelper.loadContainerIfNeeded(enums.PageContainers.WorkList, enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse);\r\n            this.initiateContentRefresh();\r\n        }\r\n        else {\r\n            this.processBasedOnSaveMarksAndAnnotationTriggeringPoint(this.currentSaveMarksAndAnnotationTriggeringPoint);\r\n        }\r\n    };\r\n    /**\r\n     * This method will handle the navigation based on the triggering point.\r\n     * @param saveMarksAndAnnotationTriggeringPoint\r\n     * @param markGroupId\r\n     */\r\n    Footer.prototype.processBasedOnSaveMarksAndAnnotationTriggeringPoint = function (saveMarksAndAnnotationTriggeringPoint, markGroupId) {\r\n        switch (saveMarksAndAnnotationTriggeringPoint) {\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse:\r\n                navigationHelper.loadContainerIfNeeded(navigationStore.instance.containerPage, enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse, this.context);\r\n                break;\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Inbox:\r\n                navigationHelper.loadContainerIfNeeded(navigationStore.instance.containerPage, enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Inbox, this.context);\r\n                break;\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Logout:\r\n                /* Trigger save mark for the currently selected item when logging out */\r\n                markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.toLogout);\r\n                break;\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Submit:\r\n                submitHelper.saveAndSubmitResponse(markGroupId ? markGroupId : submitStore.instance.getMarkGroupId);\r\n                break;\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Classify:\r\n                // Update MarkGroupRowVersion after save\r\n                this._classifyResponseDetails.esMarkGroupRowVersion = markingStore.instance.getUpdatedRowVersionOnSaveAndClassify;\r\n                // Trigger classify response action with updated MarkGroupRowVersion\r\n                standardisationActionCreator.classifyResponse(this._classifyResponseDetails, navigationStore.instance.containerPage);\r\n                break;\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.ShareAndClassify:\r\n                submitActionCreator.shareAndClassifyResponse(this._shareResponseArgument, this._isSharedFromMarkScheme, this._shareResponseDetails.displayId);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Method to get Grace Period Expired Message Body\r\n     * @returns\r\n     */\r\n    Footer.prototype.getGracePeriodExpiredMessageBody = function () {\r\n        var errorBody = localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.body-grace-period-expired-changes-not-saved');\r\n        return errorBody.replace('{0}', worklistStore.instance.displayIdOfMarkGroup(this.expiredMarkGroupId));\r\n    };\r\n    /**\r\n     * Method to get Response removed error dialog Message Body\r\n     * @returns\r\n     */\r\n    Footer.prototype.getResponseRemovedErrorDialogMessageBody = function () {\r\n        var errorBody = localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.body-response-removed-from-worklist');\r\n        return errorBody.replace('{0}', worklistStore.instance.displayIdOfMarkGroup(this.expiredMarkGroupId));\r\n    };\r\n    /**\r\n     * Just hide the response in grace message on ok click.\r\n     */\r\n    Footer.prototype.onOkClickOfResponseInGraceMessage = function () {\r\n        this.setState({\r\n            isDisplayingGraceResponseLessthan100PercentageError: false\r\n        });\r\n        if (this._failureReason === enums.ResponseNavigateFailureReason.AllPagesNotAnnotatedInGrace) {\r\n            // Closing the user information panel, if the popup is triggered due to logout button action.\r\n            // moving to full response view.\r\n            markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.toFullResponseview);\r\n            this._failureReason = enums.ResponseNavigateFailureReason.None;\r\n        }\r\n    };\r\n    /**\r\n     * Just hide the response in grace message on ok click.\r\n     */\r\n    Footer.prototype.onOkClickOfResponseInGraceExpiredMessageOrResponseRemovedMessage = function () {\r\n        if (this.currentSaveMarksAndAnnotationTriggeringPoint ===\r\n            enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Logout) {\r\n            this.updateUserSession();\r\n        }\r\n        else {\r\n            // This will clear the marks and annotations with mark save errors\r\n            // This will reload by background call or while opening the response.\r\n            marksAndAnnotationsSaveHelper.clearMarksAndAnnotationsForMarkSaveErrors();\r\n            navigationHelper.loadWorklist();\r\n        }\r\n    };\r\n    /**\r\n     * Get the error message that has to be shown while a marker is withdrawn in the background\r\n     */\r\n    Footer.prototype.getWithdrawnResponseErrorMessage = function () {\r\n        var errorBody = localeStore.instance.TranslateText('marking.worklist.response-allocation-error-dialog.response-allocation-error-withdrawnMarker');\r\n        return errorBody;\r\n    };\r\n    /**\r\n     * Get the error message that has to be shown while a marker is withdrawn in the background\r\n     */\r\n    Footer.prototype.getSessionClosedErrorMessage = function () {\r\n        var errorBody = localeStore.instance.TranslateText('marking.worklist.request-marking-check-error-dialog.body-session-closed');\r\n        return errorBody;\r\n    };\r\n    /**\r\n     * On cliking Ok button of the response trigger close response\r\n     */\r\n    Footer.prototype.onOkClickOfWithDrawErrorMessage = function () {\r\n        if (this.props.footerType === enums.FooterType.Response) {\r\n            if (this.navigateReponse === enums.SaveAndNavigate.toInboxMessagePage) {\r\n                this.processBasedOnSaveMarksAndAnnotationTriggeringPoint(enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Inbox);\r\n                navigationHelper.loadMessagePage();\r\n            }\r\n            else {\r\n                var updateNavigationPromise = markingActionCreator.updateNavigation(enums.SaveAndNavigate.toQigSelector, false);\r\n                var that_1 = this;\r\n                Promise.Promise.all([updateNavigationPromise]).then(function (result) {\r\n                    that_1.processBasedOnSaveMarksAndAnnotationTriggeringPoint(enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse);\r\n                    if (that_1.navigateReponse === enums.SaveAndNavigate.toLogout) {\r\n                        that_1.navigateAwayFromResponse();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.setState({ isWithdrawnResponseError: false, isBusy: false });\r\n            this.storageAdapterHelper.clearCacheByKey('qigselector', 'overviewdata');\r\n            if (qigStore.instance.getOverviewData) {\r\n                var currentQig = qigStore.instance.getOverviewData.qigSummary\r\n                    .filter(function (qig) {\r\n                    return qig.examinerRoleId ===\r\n                        examinerStore.instance.getMarkerInformation.examinerRoleId;\r\n                })\r\n                    .first();\r\n                teamManagementActionCreator.removeHistoryItem(currentQig ? currentQig.markSchemeGroupId : 0);\r\n            }\r\n            qigActionCreator.getQIGSelectorData(0);\r\n            loadContainerActionCreator.loadContainer(enums.PageContainers.QigSelector);\r\n        }\r\n    };\r\n    /**\r\n     * Start the content refresh\r\n     */\r\n    Footer.prototype.initiateContentRefresh = function () {\r\n        // Clear worklist cache and do content refresh\r\n        var markingMode = worklistStore.instance.getMarkingModeByWorkListType(worklistStore.instance.currentWorklistType);\r\n        if (qigStore.instance.selectedQIGForMarkerOperation) {\r\n            this.storageAdapterHelper.clearCache(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, markingMode, worklistStore.instance.getRemarkRequestType, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, worklistStore.instance.currentWorklistType);\r\n            // Load the marking progress\r\n            worklistActionCreator.getWorklistMarkerProgressData(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation\r\n                .isElectronicStandardisationTeamMember);\r\n        }\r\n    };\r\n    /**\r\n     * setting the timeout of application online check\r\n     * @param {type} interval\r\n     */\r\n    Footer.prototype.triggerApplicationOnlinePoll = function (forceStartPoll) {\r\n        if (forceStartPoll === void 0) { forceStartPoll = false; }\r\n        // If the application status has been changed update the call\r\n        if (forceStartPoll || this.state.isOnline !== applicationStore.instance.isOnline) {\r\n            if (userOptionsHelper.hasUserOptionsChanged) {\r\n                userOptionsHelper.InitiateSaveUserOption(false);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Closing application error poup message\r\n     */\r\n    Footer.prototype.onApplicationErrorMessagePopUpClicked = function () {\r\n        this.setState({\r\n            isApplicationOffline: false\r\n        });\r\n    };\r\n    /**\r\n     * User action has been interrupted\r\n     */\r\n    Footer.prototype.userActionInterrupted = function (_isFromLogout) {\r\n        if (_isFromLogout) {\r\n            this.offlineErrorMessage = localeStore.instance.TranslateText('generic.offline-dialog.body-user-options-changed');\r\n            this.props.resetLogoutConfirmationSatus();\r\n            this._onLogoutTriggered = false;\r\n        }\r\n        else {\r\n            this.offlineErrorMessage = stringHelper.format(localeStore.instance.TranslateText('generic.offline-dialog.body'), [String(String.fromCharCode(179))]);\r\n        }\r\n        /*Hiding the busy indicator if the application is offline and the busy indicator was showing at the time of being offline*/\r\n        if (this.state.isBusy && !applicationStore.instance.isOnline) {\r\n            this.setState({\r\n                isApplicationOffline: !applicationStore.instance.isOnline,\r\n                isBusy: false\r\n            });\r\n        }\r\n        else {\r\n            this.setState({ isApplicationOffline: !applicationStore.instance.isOnline });\r\n        }\r\n    };\r\n    /**\r\n     * Adding current qig details to user option.\r\n     */\r\n    Footer.prototype.addSelectedQigDetailsToUserOption = function () {\r\n        var _rememberQig = new rememberQig();\r\n        if (qigStore.instance.selectedQIGForMarkerOperation) {\r\n            _rememberQig.qigId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n            _rememberQig.worklistType = worklistStore.instance.currentWorklistType;\r\n            _rememberQig.remarkRequestType = worklistStore.instance.getRemarkRequestType;\r\n            _rememberQig.questionPaperPartId =\r\n                qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId;\r\n            if (markerOperationModeFactory.operationMode.isTeamManagementMode) {\r\n                _rememberQig.area = enums.QigArea.TeamManagement;\r\n                if (teamManagementStore.instance.selectedTeamManagementTab ===\r\n                    enums.TeamManagement.MyTeam) {\r\n                    if (navigationStore.instance.containerPage === enums.PageContainers.WorkList) {\r\n                        _rememberQig.subordinateExaminerRoleID = teamManagementStore.instance\r\n                            .examinerDrillDownData\r\n                            ? teamManagementStore.instance.examinerDrillDownData.examinerRoleId\r\n                            : 0;\r\n                        _rememberQig.subordinateExaminerID = teamManagementStore.instance\r\n                            .examinerDrillDownData\r\n                            ? teamManagementStore.instance.examinerDrillDownData.examinerId\r\n                            : 0;\r\n                    }\r\n                    else {\r\n                        _rememberQig.subordinateExaminerRoleID = 0;\r\n                        _rememberQig.subordinateExaminerID = 0;\r\n                    }\r\n                }\r\n                _rememberQig.examinerRoleId = teamManagementStore.instance.selectedExaminerRoleId\r\n                    ? teamManagementStore.instance.selectedExaminerRoleId\r\n                    : operationModeHelper.examinerRoleId;\r\n                _rememberQig.tab = enums.TeamManagement.MyTeam;\r\n            }\r\n            else if (markerOperationModeFactory.operationMode.isStandardisationSetupMode) {\r\n                _rememberQig.area = enums.QigArea.StandardisationSetup;\r\n                _rememberQig.standardisationSetupWorklistType = standardisationSetupStore.instance.selectedStandardisationSetupWorkList;\r\n            }\r\n            else {\r\n                _rememberQig.area = enums.QigArea.Marking;\r\n            }\r\n            userOptionsHelper.save(userOptionKeys.REMEMBER_PREVIOUS_QIG, JSON.stringify(_rememberQig));\r\n        }\r\n    };\r\n    /**\r\n     * Action when the cancel button for Marking Check is clicked\r\n     * Cancel the popup\r\n     */\r\n    Footer.prototype.OnCancelClickOfMarkingCheckCompleteConfirmation = function () {\r\n        this.setState({ isMarkingCheckCompleteConfirmationPopupDisplaying: false });\r\n    };\r\n    /**\r\n     * Action when the ok button for Marking Check confirmation is clicked\r\n     */\r\n    Footer.prototype.OnOkClickOfMarkingCheckCompleteConfirmation = function () {\r\n        /* on marking check confirmation is clicked Send two messages\r\n           First Message to the marker so that it will appear in the inbox\r\n           the  second message with sysytem message priority so that the\r\n           marking check will be considered as complete*/\r\n        this.setState({ isMarkingCheckCompleteConfirmationPopupDisplaying: false });\r\n        var systemMessagePriority = 255;\r\n        var markingCheckToList = [\r\n            worklistStore.instance.selectedMarkingCheckExaminer.fromExaminerID\r\n        ];\r\n        var questionPaperId = qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId;\r\n        var markSchemeGroupId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n        messagingActionCreator.sendExaminerMessage(markingCheckToList, '', '', questionPaperId, null, enums.MessagePriority.Important, markSchemeGroupId, null, -1, -1, false, null, enums.SystemMessage.MarksChecked);\r\n        messagingActionCreator.sendExaminerMessage(markingCheckToList, '', '', questionPaperId, null, systemMessagePriority, markSchemeGroupId, null, -1, -1, false, null, enums.SystemMessage.MarksChecked);\r\n    };\r\n    /**\r\n     * On cliking Ok button of the response search failed popup\r\n     */\r\n    Footer.prototype.onOkClickOfResponseSearchFailedErrorMessage = function () {\r\n        this.setState({ isResponseSearchFailed: false });\r\n        this.storageAdapterHelper.clearStorageArea('messaging');\r\n        messagingActionCreator.refreshMessageFolder(enums.MessageFolderType.Inbox);\r\n    };\r\n    /**\r\n     * Get the error message that has to be shown on response search failed while a response is deallocated in the background\r\n     */\r\n    Footer.prototype.getResponseSearchFailedErrorMessage = function () {\r\n        var searchResponseData = messageStore.instance.searchResponseData;\r\n        var questionGroup = messageHelper.getDisplayText(messageStore.instance.getMessageData(searchResponseData.messageId));\r\n        var errorBodyParameter = [searchResponseData.displayId, questionGroup];\r\n        var errorBody = stringHelper.format(localeStore.instance.TranslateText('generic.error-dialog.body-response-removed'), errorBodyParameter);\r\n        return errorBody;\r\n    };\r\n    /**\r\n     * on clicking yes button of simulation response submit confirmation popup\r\n     */\r\n    Footer.prototype.onYesClickOfSimulationResponseSubmitButton = function () {\r\n        this.setState({ showSimulationResponseSubmitConfirmationPopup: false });\r\n        if (submitStore.instance.isSubmitFromMarkScheme) {\r\n            simulationModeHelper.checkStandardisationSetupCompletion(enums.PageContainers.None, enums.PageContainers.None);\r\n            busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.submitInResponseScreen);\r\n            markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.submit);\r\n        }\r\n        else {\r\n            // If simulation response submission happens from worklist, then submission\r\n            // needs to be blocked if standardisation setup is completed\r\n            var that_2 = this;\r\n            if (!qigStore.instance.getSelectedQIGForTheLoggedInUser.standardisationSetupComplete) {\r\n                var promise = qigActionCreator.checkStandardisationSetupCompleted(qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId, enums.PageContainers.WorkList, enums.PageContainers.WorkList);\r\n                Promise.Promise.all([promise]).then(function (data) {\r\n                    if (data[0] === true) {\r\n                        this.setState({\r\n                            showSimulationExitedPopup: true,\r\n                            showAllSimulationExitedQigs: false\r\n                        });\r\n                    }\r\n                    else {\r\n                        that_2.submitResponse();\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                that_2.submitResponse();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * on clicking no button of simulation response submit confirmation popup\r\n     */\r\n    Footer.prototype.onNoClickOfSimulationResponseSubmitButton = function () {\r\n        this.setState({ showSimulationResponseSubmitConfirmationPopup: false });\r\n    };\r\n    /**\r\n     * on clicking yes button of share confirmation popup\r\n     */\r\n    Footer.prototype.onYesClickOfShareConfirmationPopup = function () {\r\n        this.setState({ doShowShareConfirmationPopup: false });\r\n        acetatesActionCreator.shareAcetate(this.shareConfirmationClientToken);\r\n        this.shareConfirmationClientToken = undefined;\r\n    };\r\n    /**\r\n     * on clicking no button of share confirmation popup\r\n     */\r\n    Footer.prototype.onNoClickOfShareConfirmationPopup = function () {\r\n        this.setState({ doShowShareConfirmationPopup: false });\r\n        this.shareConfirmationClientToken = undefined;\r\n    };\r\n    /**\r\n     * Gets the name of simulation mode exited qigs\r\n     */\r\n    Footer.prototype.getSimulationModeExitedQigs = function () {\r\n        var qigNames = new Array();\r\n        if (this.state.showSimulationExitedPopup) {\r\n            // If all qigs need to be shown then. When navigating to qigselector.\r\n            if (this.state.showAllSimulationExitedQigs) {\r\n                var simulationModeExitedQigList_1 = Immutable.List();\r\n                simulationModeExitedQigList_1 =\r\n                    qigStore.instance.getSimulationModeExitedQigList === undefined\r\n                        ? undefined\r\n                        : qigStore.instance.getSimulationModeExitedQigList.qigList;\r\n                if (simulationModeExitedQigList_1) {\r\n                    simulationModeExitedQigList_1.map(function (_simulationModeExitedQig) {\r\n                        var qigNameToDisplay = stringFormatHelper.formatAwardingBodyQIG(_simulationModeExitedQig.markSchemeGroupName, _simulationModeExitedQig.assessmentCode, _simulationModeExitedQig.sessionName, _simulationModeExitedQig.componentId, _simulationModeExitedQig.questionPaperName, '', // TO DO: have to retrive ComponentName and AssessmentName on simulationQIg details.\r\n                        '', stringFormatHelper.getOverviewQIGNameFormat());\r\n                        qigNames.push(qigNameToDisplay);\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                // Otherwise show only the currrent qig. When navigating from worklist/response to area other than\r\n                // qigselector\r\n                var qigData = qigStore.instance.getSelectedQIGForTheLoggedInUser;\r\n                var qigNameToDisplay = stringFormatHelper.formatAwardingBodyQIG(qigData.markSchemeGroupName, qigData.assessmentCode, qigData.sessionName, qigData.componentId, qigData.questionPaperName, '', // TO DO: have to retrive ComponentName and AssessmentName on simulationQIg details.\r\n                '', stringFormatHelper.getOverviewQIGNameFormat());\r\n                qigNames.push(qigNameToDisplay);\r\n            }\r\n        }\r\n        return qigNames;\r\n    };\r\n    /**\r\n     * Method to reset the acetate save inprogress status.\r\n     */\r\n    Footer.prototype.resetAcetateSaveInProgressStatus = function () {\r\n        // checking whether any addded/modified acetates are found in the acetatelist from store.\r\n        var modifiedAcetatesList = qigStore.instance.getModifiedAcetatesList();\r\n        if (modifiedAcetatesList && modifiedAcetatesList.size > 0) {\r\n            // Invoke action creator to set saveInProgress status to true before calling acetate save process.\r\n            acetatesActionCreator.resetAcetateSaveInProgressStatus(modifiedAcetatesList);\r\n        }\r\n    };\r\n    /**\r\n     * Reset acetates saveInProgress status received callback event.\r\n     */\r\n    Footer.prototype.onResetAcetatesSaveInProgressReceived = function (modifiedAcetatesList) {\r\n        var saveacetatesarguments = {\r\n            Tools: modifiedAcetatesList\r\n        };\r\n        // db call for saving the acetate list in database.\r\n        acetatesActionCreator.saveAcetates(saveacetatesarguments);\r\n    };\r\n    /**\r\n     * Complete Standardisation received callback event.\r\n     */\r\n    Footer.prototype.onCompleteStandardisationSetup = function () {\r\n        if (!standardisationSetupStore.instance.iscompleteStandardisationSuccess) {\r\n            this.setState({ popUpType: enums.PopUpType.CompleteStandardisationValidate, isBusy: false });\r\n        }\r\n    };\r\n    /**\r\n     * Checks whether the autozoned message should be displayed.\r\n     */\r\n    Footer.prototype.isAutozonedMessagePopupVisible = function () {\r\n        if (this.props.footerType !== enums.FooterType.Message) {\r\n            var selectedAwardingCandidateData = void 0;\r\n            var examSessionID = void 0;\r\n            if (markerOperationModeFactory.operationMode.isAwardingMode) {\r\n                selectedAwardingCandidateData = awardingHelper.awardingSelectedCandidateData();\r\n                examSessionID = selectedAwardingCandidateData.responseItemGroups[0].examSessionID;\r\n            }\r\n            //Checking the CC values\r\n            var isAutozoned = configurableCharacteristicHelper\r\n                .getExamSessionCCValue(configurableCharacteristicNames.AutoZoning, markerOperationModeFactory.operationMode.isAwardingMode\r\n                ? examSessionID\r\n                : qigStore.instance.selectedQIGForMarkerOperation.examSessionId)\r\n                .toLowerCase() === 'true' &&\r\n                configurableCharacteristicHelper\r\n                    .getExamSessionCCValue(configurableCharacteristicNames.DisplayAutozonedResponsesWarning, markerOperationModeFactory.operationMode.isAwardingMode\r\n                    ? examSessionID\r\n                    : qigStore.instance.selectedQIGForMarkerOperation.examSessionId)\r\n                    .toLowerCase() === 'true';\r\n            //getting the saved userOption value\r\n            var userOptionAutozonedValue = userOptionsHelper.getUserOptionByName(userOptionKeys.AUTOZONED_WARNING_MESSAGE, markerOperationModeFactory.operationMode.isAwardingMode\r\n                ? awardingStore.instance.selectedCandidateData.responseItemGroups[0].examinerRoleId\r\n                : qigStore.instance.getSelectedQIGForTheLoggedInUser.examinerRoleId) === 'true';\r\n            //set state to display Autozoned message popup\r\n            if (isAutozoned && userOptionAutozonedValue !== true) {\r\n                this.setState({\r\n                    isAutozonedMessagePopupDisplaying: true\r\n                });\r\n                //saving useroption for autozoned message popup\r\n                userOptionsHelper.save(userOptionKeys.AUTOZONED_WARNING_MESSAGE, JSON.stringify(true), true, true, false, true, markerOperationModeFactory.operationMode.isAwardingMode\r\n                    ? awardingStore.instance.selectedCandidateData.responseItemGroups[0].examinerRoleId\r\n                    : qigStore.instance.getSelectedQIGForTheLoggedInUser.examinerRoleId);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Action when the ok button for Marking Check confirmation is clicked\r\n     */\r\n    Footer.prototype.OnOkClickOfCompleteStandardisationConfirmation = function () {\r\n        this.setState({ isBusy: true, isCompleteStandardisation: true });\r\n        standardisationActionCreator.completeStandardisationSetup(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n    };\r\n    /**\r\n     * Action when the ok button for Marking Check confirmation is clicked\r\n     */\r\n    Footer.prototype.OnCancelClickOfCompleteStandardisationConfirmation = function () {\r\n        this.props.OnClickingCancelofStdSetupPopup(true);\r\n    };\r\n    /**\r\n     * Action when the ok button for Marking Check confirmation is clicked\r\n     */\r\n    Footer.prototype.onOkClickofStandardisationSetupValidate = function () {\r\n        this.setState({\r\n            popUpType: enums.PopUpType.None,\r\n            isCompleteStandardisation: false\r\n        });\r\n        busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.validateStandardisationSetup);\r\n        standardisationActionCreator.getStandardisationTargetDetails(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId);\r\n        // get the worklist view type.\r\n        var stdWorklistViewType = userOptionsHelper.getUserOptionByName(userOptionKeys.SELECTED_GRID_VIEW_OPTION)\r\n            === 'false' ? enums.STDWorklistViewType.ViewMarksByQuestion : enums.STDWorklistViewType.ViewTotalMarks;\r\n        // Refresh the grid with latest changes.\r\n        standardisationActionCreator.getClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, standardisationSetupStore.instance.markSchemeGroupId, false, stdWorklistViewType);\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"getSelectToMarkProvisionalPopupContent\", {\r\n        /**\r\n         * pop up content on clicking select response to mark button\r\n         */\r\n        get: function () {\r\n            var content = [];\r\n            var scriptData = standardisationSetupStore.instance.fetchSelectedScriptDetails(standardisationSetupStore.instance.selectedResponseId);\r\n            var showMultiQigPopup = this.isMultiQigMarkingAvailable();\r\n            var centreCandidateDetails = stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-content-line2'), [\r\n                String(scriptData.candidateScriptId),\r\n                scriptData.centreNumber,\r\n                scriptData.centreCandidateNumber.toUpperCase()\r\n            ]);\r\n            var isCommonProvisionalStandardisationCcOn = configurableCharacteristicHelper.getCharacteristicValue(configurableCharacteristicNames.CommonProvisionalStandardisation, standardisationSetupStore.instance.markSchemeGroupId).toLowerCase() === 'true';\r\n            if (showMultiQigPopup) {\r\n                content.push(React.createElement(\"p\", { key: 'select-to-mark-popup-content-line2', className: 'dim-text padding-bottom-10' }, centreCandidateDetails));\r\n                content.push(React.createElement(\"p\", { key: 'select-to-mark-popup-content-line2' }, localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-multiqig-popup-content-line')));\r\n                content.push(React.createElement(GenericPopupWithCheckBoxes, { className: 'qig-item', id: 'popup-createprovisional-multiqig', items: this.multiQigCheckboxItems, selectedLanguage: this.props.selectedLanguage, onChecked: this.onChecked, key: 'popup-createprovisional-multiqig' }));\r\n            }\r\n            else {\r\n                content.push(React.createElement(\"p\", { key: 'select-to-mark-popup-content-line1' }, isCommonProvisionalStandardisationCcOn ? localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-content-line1-provisional')\r\n                    : localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-content-line1')));\r\n                content.push(React.createElement(\"p\", { key: 'select-to-mark-popup-content-line2', className: 'dim-text padding-top-10' }, centreCandidateDetails));\r\n            }\r\n            if (this.isCommonProvisionalStandardisationCcOn()) {\r\n                content.push(React.createElement(\"div\", { className: 'option-holder padding-top-10' },\r\n                    React.createElement(\"ul\", { className: 'options' },\r\n                        React.createElement(\"li\", { className: 'padding-top-10' },\r\n                            React.createElement(\"input\", { type: 'radio', value: 'selected', id: 'STMAllocate1', name: 'selectProvisionalSTM', checked: this.state.provisionalMarkingType === enums.ProvisionalMarkingType.AllocateToAll ?\r\n                                    true : false }),\r\n                            React.createElement(\"label\", { htmlFor: 'STMAllocate1', onClick: this.onOptionButtonClick.bind(this, enums.ProvisionalMarkingType.AllocateToAll) },\r\n                                React.createElement(\"span\", { className: 'radio-ui' }),\r\n                                React.createElement(\"span\", { className: 'label-text' }, localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-option-allocate-all')))),\r\n                        React.createElement(\"li\", { className: 'padding-top-10' },\r\n                            React.createElement(\"input\", { type: 'radio', value: 'selected', id: 'STMAllocate2', name: 'selectProvisionalSTM', checked: this.state.provisionalMarkingType === enums.ProvisionalMarkingType.AllocatedToMe ?\r\n                                    true : false }),\r\n                            React.createElement(\"label\", { htmlFor: 'STMAllocate2', onClick: this.onOptionButtonClick.bind(this, enums.ProvisionalMarkingType.AllocatedToMe) },\r\n                                React.createElement(\"span\", { className: 'radio-ui' }),\r\n                                React.createElement(\"span\", { className: 'label-text' }, localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-option-allocate-me'))))),\r\n                    React.createElement(\"p\", { className: 'padding-top-20', key: 'select-to-mark-popup-content-line3' }, localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-content-line3'))));\r\n            }\r\n            else {\r\n                content.push(React.createElement(\"p\", { className: 'padding-top-10', key: 'select-to-mark-popup-content-line3' }, localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-content-line3')));\r\n            }\r\n            return content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Method to handle option button click\r\n     * @param isAllocateToMe\r\n     */\r\n    Footer.prototype.onOptionButtonClick = function (_provisionalMarkingType) {\r\n        this.setState({\r\n            renderedOn: Date.now(),\r\n            provisionalMarkingType: _provisionalMarkingType\r\n        });\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"getMarkAsDefinitivePopupContent\", {\r\n        /**\r\n         * get mark as definitive popup content\r\n         */\r\n        get: function () {\r\n            var content = [];\r\n            var responseData = standardisationSetupStore.instance.fetchStandardisationResponseData(standardisationSetupStore.instance.selectedResponseId);\r\n            var markAsDefinitiveResponse = stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-content-line2'), [\r\n                String(responseData.displayId),\r\n                String(responseData.totalMarkValue)\r\n            ]);\r\n            content.push(React.createElement(\"p\", { key: 'mark-as-definitive-popup-content-line1' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-content-line1')));\r\n            content.push(React.createElement(\"p\", { key: 'select-to-mark-popup-content-line2', className: 'dim-text padding-top-20' }, markAsDefinitiveResponse));\r\n            content.push(React.createElement(\"p\", { className: 'padding-top-20', key: 'select-to-mark-popup-content-line3' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-content-line3')));\r\n            var radioButtonText = (React.createElement(\"div\", { className: 'option-holder padding-top-10' },\r\n                React.createElement(\"ul\", { className: 'options' },\r\n                    React.createElement(\"li\", { className: 'padding-top-10', onClick: this.onMarkAsDefinitiveContentClick.bind(this, true) },\r\n                        React.createElement(\"input\", { type: 'radio', value: 'selected', id: 'copyasDefinitive', defaultChecked: true, name: 'markasdefinitive' /* checked={this.copyMarksAsDefinitiveSelected === false ? false : true}*/ }),\r\n                        React.createElement(\"label\", { htmlFor: 'copyasDefinitive' },\r\n                            React.createElement(\"span\", { className: 'radio-ui' }),\r\n                            React.createElement(\"span\", { className: 'label-text', id: 'markAsDefinitivePopupRadioButton1' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-radio-1')))),\r\n                    React.createElement(\"p\", { className: 'padding-top-10 option-content' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-radio-1-desc')),\r\n                    React.createElement(\"li\", { className: 'padding-top-20', onClick: this.onMarkAsDefinitiveContentClick.bind(this, false) },\r\n                        React.createElement(\"input\", { type: 'radio', value: '', id: 'clearAllMark', name: 'markasdefinitive' /* checked={this.copyMarksAsDefinitiveSelected === false ? true : false} */ }),\r\n                        React.createElement(\"label\", { htmlFor: 'clearAllMark' },\r\n                            React.createElement(\"span\", { className: 'radio-ui' }),\r\n                            React.createElement(\"span\", { className: 'label-text', id: 'markAsDefinitivePopupRadioButton2' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-radio-2')))),\r\n                    React.createElement(\"p\", { className: 'padding-top-10 padding-bottom-5 option-content' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-radio-2-desc')))));\r\n            content.push(radioButtonText);\r\n            return content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates the copyMarksAsDefinitiveSelected flag, on Mark as definitve popup option click.\r\n     * @param isCopyMarksAndAnnotation\r\n     */\r\n    Footer.prototype.onMarkAsDefinitiveContentClick = function (isCopyMarksAndAnnotation) {\r\n        this.copyMarksAsDefinitiveSelected = isCopyMarksAndAnnotation;\r\n    };\r\n    /**\r\n     * conditions where the multiqig popup to be shown while select to mark button is clicked\r\n     */\r\n    Footer.prototype.isMultiQigMarkingAvailable = function () {\r\n        // The multiqig response pop will only show when the following conditions are true\r\n        // 1. WholeResponseProvisionalMarking should be ON.\r\n        // 2. Available QIGs for Provisional marking is more than one\r\n        var wholeResponseProvisionalMarking = configurableCharacteristicHelper.getExamSessionCCValue(configurableCharacteristicNames.WholeResponseProvisionalMarking, markerOperationModeFactory.operationMode.isAwardingMode\r\n            ? awardingStore.instance.selectedSession.examSessionId\r\n            : qigStore.instance.selectedQIGForMarkerOperation.examSessionId).toLowerCase() === 'true' ? true : false;\r\n        if (wholeResponseProvisionalMarking && this.multiQigCheckboxItems !== undefined && this.multiQigCheckboxItems.length > 1) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * switch user button click\r\n     */\r\n    Footer.prototype.switchUserButtonClick = function () {\r\n        window.removeEventListener('beforeunload', navigationHelper.onBeforeWindowUnload);\r\n        /* tslint:disable:no-string-literal */\r\n        window.sessionStorage['adminsupport'] = 'true';\r\n        /* tslint:enable:no-string-literal */\r\n        window.open('?', '_self');\r\n    };\r\n    /**\r\n     * Complete Standardisation received callback event.\r\n     */\r\n    Footer.prototype.onResponseDataRecievedAfterRefresh = function () {\r\n        /*\r\n          Setting busy indicator to false on Standardisation Setup refresh on\r\n          completing standardisation setup\r\n        */\r\n        this.setState({ isBusy: false });\r\n    };\r\n    /**\r\n     * Populate recassify multioption popUp data\r\n     */\r\n    Footer.prototype.populateRecassifyMultiOptionPopUpData = function (selectedMarkingModeId) {\r\n        if (selectedMarkingModeId === void 0) { selectedMarkingModeId = 0; }\r\n        this.items = new Array();\r\n        var markSchemeGroupId = standardisationSetupStore.instance.markSchemeGroupId;\r\n        var ssuStmClassificationRestriction = stdSetupPermissionHelper.getSsuClassificationRestrictionByMarkSchemeGroupId(markSchemeGroupId);\r\n        var restictedText = localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.restricted');\r\n        this.standardisationSetupHelper = standardisationSetupFactory.\r\n            getStandardisationSetUpWorklistHelper(standardisationSetupStore.instance.selectedStandardisationSetupWorkList);\r\n        var restrictedTargets = this.standardisationSetupHelper.getRestrictedSSUTarget(markSchemeGroupId);\r\n        // Once std setup is completed, then show only 'seed' radio button in classify options\r\n        if (!qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n            if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Practice)) {\r\n                this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Practice, 1, selectedMarkingModeId, ssuStmClassificationRestriction.isPracticeRestrictedForAnyStm, restictedText));\r\n            }\r\n            if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.ES_TeamApproval)) {\r\n                this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.ES_TeamApproval, 2, selectedMarkingModeId, ssuStmClassificationRestriction.isStmStandardisationeRestrictedForAnyStm, restictedText));\r\n            }\r\n            if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Approval)) {\r\n                this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Approval, 3, selectedMarkingModeId, ssuStmClassificationRestriction.isStandardisationRestrictedForAnyStm, restictedText));\r\n            }\r\n            if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Seeding)) {\r\n                this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Seeding, 4, selectedMarkingModeId, ssuStmClassificationRestriction.isSeedingRestrictedForAnyStm, restictedText));\r\n            }\r\n        }\r\n        else {\r\n            /* #75081 : On classifying a response from Provisional/Unclassified worklist after SSU complete,\r\n             the Classification pop- up shall list only those targets which are not met OR\r\n            (where the target is met AND the type is not included in RestrictStandardisationSetupTargets). */\r\n            if (this.canListTargetInClassificationPopUp(enums.MarkingMode.Practice, restrictedTargets)) {\r\n                if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Practice)) {\r\n                    this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Practice, 1, selectedMarkingModeId, ssuStmClassificationRestriction.isPracticeRestrictedForAnyStm, restictedText));\r\n                }\r\n            }\r\n            if (this.canListTargetInClassificationPopUp(enums.MarkingMode.ES_TeamApproval, restrictedTargets)) {\r\n                if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.ES_TeamApproval)) {\r\n                    this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.ES_TeamApproval, 2, selectedMarkingModeId, ssuStmClassificationRestriction.isStmStandardisationeRestrictedForAnyStm, restictedText));\r\n                }\r\n            }\r\n            if (this.canListTargetInClassificationPopUp(enums.MarkingMode.Approval, restrictedTargets)) {\r\n                if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Approval)) {\r\n                    this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Approval, 3, selectedMarkingModeId, ssuStmClassificationRestriction.isStandardisationRestrictedForAnyStm, restictedText));\r\n                }\r\n            }\r\n            if (this.canListTargetInClassificationPopUp(enums.MarkingMode.Seeding, restrictedTargets)) {\r\n                if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Seeding)) {\r\n                    this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Seeding, 4, selectedMarkingModeId, ssuStmClassificationRestriction.isSeedingRestrictedForAnyStm, restictedText));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To check whether the target can be displayed in Classification popup On\r\n     * classifying a response from Provisional/Unclassified worklist after SSU complete\r\n     */\r\n    Footer.prototype.canListTargetInClassificationPopUp = function (target, restrictedTargets) {\r\n        var standardisationTargetDetailList = standardisationSetupStore.instance.classificationSummaryTargetDetails;\r\n        if (standardisationTargetDetailList) {\r\n            var selectedTarget = standardisationTargetDetailList.\r\n                filter(function (x) { return x.markingModeId === target; }).first();\r\n            if (selectedTarget.count < selectedTarget.target ||\r\n                (!restrictedTargets.contains(target) && selectedTarget.target <= selectedTarget.count)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Create Generic Radio Button Item\r\n     * @param markingModeId\r\n     * @param sequenceNo\r\n     * @param selectedMarkingModeId\r\n     * @param isMarkingModeRestrictedForAnyStm\r\n     */\r\n    Footer.prototype.createGenericRadioButtonItem = function (markingModeId, sequenceNo, selectedMarkingModeId, isMarkingModeRestrictedForAnyStm, restictedText) {\r\n        var obj = new genericRadioButtonItems();\r\n        obj.sequenceNo = sequenceNo;\r\n        obj.id = markingModeId;\r\n        obj.isChecked = obj.id === selectedMarkingModeId ? true : false;\r\n        obj.name = localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.classification-type.' + enums.MarkingMode[markingModeId]);\r\n        obj.errorText = (isMarkingModeRestrictedForAnyStm ? ' - ' + restictedText : '');\r\n        return obj;\r\n    };\r\n    /**\r\n     * Create radio button for Reuse action popup\r\n     */\r\n    Footer.prototype.createReuseGenericRadioButtonItem = function (inputid, sequenceNo) {\r\n        var radioButonForPE = new genericRadioButtonItems();\r\n        radioButonForPE.sequenceNo = sequenceNo;\r\n        radioButonForPE.id = inputid;\r\n        radioButonForPE.isChecked = true;\r\n        radioButonForPE.name = 'Create copy and move to unclassified list';\r\n        radioButonForPE.errorText = '';\r\n        return radioButonForPE;\r\n    };\r\n    /**\r\n     * Populate radio button item for ReuseRIG pop up\r\n     */\r\n    Footer.prototype.populateReuseUnclassifyPopupItem = function () {\r\n        this.reuseUnclassifyItem = new Array();\r\n        this.reuseUnclassifyItem.push(this.createReuseGenericRadioButtonItem(enums.MarkingMode.PreStandardisation, 1));\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"getReUseActionMultiOptionPopupContent\", {\r\n        /**\r\n         * get Reuse RIG popup action\r\n         */\r\n        get: function () {\r\n            var content = [];\r\n            var openedResponseDetails = standardisationSetupStore.instance.\r\n                getReusableResponseDetails(this.reuseRIGSelectedDisplayId.toString());\r\n            var reuseRIGSelectedCentreId = openedResponseDetails.centreNumber.toString();\r\n            var reuseRIGSelectedCandidateNo = openedResponseDetails.centreCandidateNumber.toString();\r\n            var reuseRIGSelectedScriptID = openedResponseDetails.candidateScriptId.toString();\r\n            content.push(React.createElement(\"span\", null,\r\n                React.createElement(\"p\", null, localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.reuse-content')),\r\n                React.createElement(\"p\", { className: 'dim-text padding-top-10' },\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.script-id'),\r\n                        React.createElement(\"span\", { id: 'reusescriptid' }, ': 1' + reuseRIGSelectedScriptID + ', ')),\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.Centre'),\r\n                        React.createElement(\"span\", { id: 'reusecentreid' }, ': ' + reuseRIGSelectedCentreId + ', ')),\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.Candidate'),\r\n                        React.createElement(\"span\", { id: 'reusecandidateid' }, ': ' + reuseRIGSelectedCandidateNo))),\r\n                React.createElement(\"div\", { className: 'option-holder padding-top-10' },\r\n                    React.createElement(GenericPopupWithRadioButton, { className: 'options', id: 'popup-reuserig-option-holder', items: this.reuseUnclassifyItem, selectedLanguage: this.props.selectedLanguage, onCheckedChange: this.onReuseItemCheckedChange, renderedOn: this.state.renderedOn, liClassName: 'padding-top-10', key: 'popup-reuse-unclassify-option' })),\r\n                React.createElement(\"p\", { className: 'padding-top-10' }, localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.reuse-classify-option')),\r\n                React.createElement(\"div\", { className: 'classify-options-holder padding-top-10 clearfix' },\r\n                    React.createElement(GenericPopupWithRadioButton, { className: 'option-items', id: 'popup-reclassify-multioption', items: this.items, selectedLanguage: this.props.selectedLanguage, onCheckedChange: this.onCheckedChange, renderedOn: this.state.renderedOn, liClassName: 'padding-top-10', key: 'popup-reuse-classify-option' }))));\r\n            return content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Footer.prototype, \"getReclassificationMultiOptionPopupContent\", {\r\n        /**\r\n         * get reclassification Multi Option Popup Content\r\n         */\r\n        get: function () {\r\n            var content = [];\r\n            content.push(React.createElement(\"span\", null,\r\n                React.createElement(\"p\", { className: 'dim-text' },\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.response-id'),\r\n                        React.createElement(\"span\", { className: 'responseID' }, ' ' + this.reclassifyResponseDetails.displayId)),\r\n                    \",\",\r\n                    React.createElement(\"span\", null,\r\n                        ' ' + localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.total-mark'),\r\n                        React.createElement(\"span\", { className: 'total-mark' }, ' ' + this.reclassifyResponseDetails.totalMarkValue))),\r\n                React.createElement(\"p\", { className: 'padding-top-10' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.body')),\r\n                React.createElement(\"p\", { className: 'padding-top-10' }, localeStore.instance.TranslateText(qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete ?\r\n                    'standardisation-setup.standardisation-setup-worklist.classify-multioption-popup.body-complete-setup-message' :\r\n                    'standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.body-complete-setup-message')),\r\n                React.createElement(\"div\", { className: 'classify-options-holder padding-top-10 clearfix' },\r\n                    React.createElement(GenericPopupWithRadioButton, { className: 'option-items', id: 'popup-reclassify-multioption', items: this.items, selectedLanguage: this.props.selectedLanguage, onCheckedChange: this.onCheckedChange, renderedOn: this.state.renderedOn, liClassName: 'padding-top-10', key: 'popup-reclassify-multioption' }))));\r\n            return content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Method to get the reclassified response error popup content.\r\n     */\r\n    Footer.prototype.getReclassifyErrorPopupContent = function () {\r\n        var previousMarkingMode = (localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.classification-type.'\r\n            + enums.MarkingMode[this.previousMarkingMode]));\r\n        var currentMarkingMode = (localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.classification-type.'\r\n            + enums.MarkingMode[this.currentMarkingMode]));\r\n        return stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassifyerror-popup.body'), [this.displayId,\r\n            previousMarkingMode,\r\n            currentMarkingMode\r\n        ]);\r\n    };\r\n    /**\r\n     * Method to get the share response popup content.\r\n     */\r\n    Footer.prototype.getShareResponsePopupContent = function () {\r\n        var popUpContent = [];\r\n        popUpContent.push(React.createElement(\"p\", null, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.body')));\r\n        popUpContent.push(React.createElement(\"p\", { className: 'dim-text padding-top-10' },\r\n            React.createElement(\"span\", null,\r\n                localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.response-id'),\r\n                React.createElement(\"span\", { className: 'responseID' }, this._shareResponseDetails.displayId)),\r\n            \",\",\r\n            React.createElement(\"span\", null,\r\n                localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.total-mark'),\r\n                React.createElement(\"span\", { className: 'total-mark' }, this._shareResponseDetails.totalMarkValue))));\r\n        popUpContent.push(React.createElement(\"p\", { className: 'padding-top-10' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.confirmation-text')));\r\n        return popUpContent;\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"getShareResponsePopupContentForPE\", {\r\n        /**\r\n         * get Share Response Popup Content For PE\r\n         */\r\n        get: function () {\r\n            var content = [];\r\n            content.push(React.createElement(\"span\", null,\r\n                React.createElement(\"p\", { id: 'chose-message' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.chose-message')),\r\n                React.createElement(\"p\", { className: 'dim-text padding-top-10' },\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.response-id'),\r\n                        React.createElement(\"span\", { className: 'responseID' }, this._shareResponseDetails.displayId)),\r\n                    \",\",\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.total-mark'),\r\n                        React.createElement(\"span\", { className: 'total-mark' }, this._shareResponseDetails.totalMarkValue))),\r\n                React.createElement(\"div\", { className: 'option-holder padding-top-10' },\r\n                    React.createElement(GenericPopupWithRadioButton, { className: 'options', id: 'popup-share-response-option-holder', items: this.reuseUnclassifyItem, selectedLanguage: this.props.selectedLanguage, onCheckedChange: this.onReuseItemCheckedChange, renderedOn: this.state.renderedOn, liClassName: 'padding-top-10', key: 'popup-reuse-unclassify-option' })),\r\n                React.createElement(\"p\", { id: 'share-note', className: 'padding-top-10 option-content' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.share-note')),\r\n                React.createElement(\"p\", { id: 'classify-now', className: 'padding-top-10' },\r\n                    React.createElement(\"label\", null,\r\n                        React.createElement(\"span\", { className: 'label-text' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.classify-now')))),\r\n                React.createElement(\"p\", { id: 'annotation-note', className: 'padding-top-10' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.annotation-note')),\r\n                React.createElement(\"div\", { className: 'classify-options-holder padding-top-10 clearfix' },\r\n                    React.createElement(GenericPopupWithRadioButton, { className: 'option-items', id: 'popup-reclassify-multioption', items: this.items, selectedLanguage: this.props.selectedLanguage, onCheckedChange: this.onCheckedChange, renderedOn: this.state.renderedOn, liClassName: 'padding-top-10', key: 'popup-reuse-classify-option' }))));\r\n            return content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Populate radio button item for Share and Classify pop up for PE\r\n     */\r\n    Footer.prototype.populateShareForPEclassifyPopupItem = function () {\r\n        this.reuseUnclassifyItem = new Array();\r\n        this.reuseUnclassifyItem.push(this.creatShareForPEGenericRadioButtonItem(enums.MarkingMode.PreStandardisation, 1));\r\n    };\r\n    /**\r\n     * Create radio button for Share and Classify\r\n     */\r\n    Footer.prototype.creatShareForPEGenericRadioButtonItem = function (inputid, sequenceNo) {\r\n        var radioButtonForSharePE = new genericRadioButtonItems();\r\n        radioButtonForSharePE.sequenceNo = sequenceNo;\r\n        radioButtonForSharePE.id = inputid;\r\n        radioButtonForSharePE.isChecked = radioButtonForSharePE.id === inputid ? true : false;\r\n        radioButtonForSharePE.name = localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.share-mark');\r\n        radioButtonForSharePE.errorText = '';\r\n        return radioButtonForSharePE;\r\n    };\r\n    /**\r\n     * Populate recassify multioption popUp data\r\n     */\r\n    Footer.prototype.populateCreateMultiQIGProvisionalsPopUpData = function (provisionalQigdetails) {\r\n        var _this = this;\r\n        this.multiQigCheckboxItems = new Array();\r\n        provisionalQigdetails.map(function (item) {\r\n            // Only show the QIGs which have MultiQIGProvisionalPermisson in the StandardisationSetupPermissions CC is ON\r\n            var standardisationSetupCCData = stdSetupPermissionHelper.generateSTDSetupPermissionData(item.stdSetupPermissionCCData, item.role);\r\n            if (standardisationSetupCCData && standardisationSetupCCData.role.permissions.multiQIGProvisionals) {\r\n                _this.multiQigCheckboxItems.push(_this.createGenericCheckBoxItem(item, item.markSchemeGroupId === standardisationSetupStore.instance.markSchemeGroupId));\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Create Generic Check Box Item\r\n     * @param provisionalQigDetail\r\n     */\r\n    Footer.prototype.createGenericCheckBoxItem = function (provisionalQigDetail, ischecked) {\r\n        var obj = new genericCheckBoxItems();\r\n        obj.id = provisionalQigDetail.markSchemeGroupId;\r\n        obj.isChecked = ischecked;\r\n        obj.disabled = ischecked;\r\n        obj.labelContent = provisionalQigDetail.markSchemeGroupName;\r\n        obj.containerClassName = 'padding-top-10';\r\n        obj.className = 'text-middle checkbox';\r\n        obj.labelClassName = 'text-middle';\r\n        return obj;\r\n    };\r\n    /**\r\n     * display note modified in background popup\r\n     */\r\n    Footer.prototype.displayNoteSaveFailedPopup = function (saveNoteErrorCode) {\r\n        if (saveNoteErrorCode === enums.SaveNoteError.TimeStampChanged) {\r\n            this.messageDetails = {\r\n                messageHeader: localeStore.instance.TranslateText('standardisation-setup.left-panel.note-save-error-popup-header'),\r\n                messageString: localeStore.instance.TranslateText('standardisation-setup.left-panel.note-timestamp-changed-popup-body')\r\n            };\r\n            this.setState({ isNoteTimeStampChangedPopupVisible: true });\r\n        }\r\n        else if (saveNoteErrorCode === enums.SaveNoteError.MarkingModeChanged) {\r\n            this.messageDetails = {\r\n                messageHeader: localeStore.instance.TranslateText('standardisation-setup.left-panel.note-save-error-popup-header'),\r\n                messageString: localeStore.instance.TranslateText('standardisation-setup.left-panel.note-response-modified-popup-body')\r\n            };\r\n            this.setState({ isResponseModifiedPopupVisibile: true });\r\n        }\r\n    };\r\n    /**\r\n     *  Rerender classified worklist on declassify/reclassify scenario\r\n     */\r\n    Footer.prototype.reRenderOnClassifiedResponseReceived = function () {\r\n        var _this = this;\r\n        // Fetch the STDWorklistViewType from user options\r\n        var isStdTotalMarkView = userOptionsHelper.getUserOptionByName(userOptionKeys.SELECTED_GRID_VIEW_OPTION)\r\n            === 'false' ? false : true;\r\n        var gridType = isStdTotalMarkView ?\r\n            enums.STDWorklistViewType.ViewTotalMarks : enums.STDWorklistViewType.ViewMarksByQuestion;\r\n        // refresh the summary targets.\r\n        var getStandardisationTargetDetails = standardisationActionCreator.getStandardisationTargetDetails(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId);\r\n        getStandardisationTargetDetails.\r\n            then(function () {\r\n            // refresh the classification grid once we reclassify/declassify a response.\r\n            var getClassifiedResponseDetails = standardisationActionCreator.getClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, false, gridType);\r\n            getClassifiedResponseDetails.\r\n                then(function () {\r\n                _this.setState({ doShowReclassifyResponseBusyIndicator: false });\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * save Marks And Annotations With Non Recoverable Error\r\n     * @param saveMarksAndAnnotationTriggeringPoint\r\n     * @param markGroupId\r\n     * @param queueOperation\r\n     */\r\n    Footer.prototype.saveMarksAndAnnotationsWithNonRecoverableError = function (saveMarksAndAnnotationTriggeringPoint, markGroupId, queueOperation) {\r\n        // Calling the helper method to update the marks and annotations queue\r\n        marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n        // If the queue is processed completely, have to hide the save marks and annotations busy indicator\r\n        if (marksAndAnnotationsSaveHelper.isQueueProcessedCompletely) {\r\n            if (marksAndAnnotationsSaveHelper.markGroupItemsWithNonRecoverableErrors\r\n                .length > 0) {\r\n                //When there are errors in saving marks and annotations we have to hide the busy indicator\r\n                busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.none);\r\n                // set appropriate error dialog contents\r\n                this.saveMarksAndAnnotationsErrorDialogContents = new saveMarksAndAnnotationsNonRecoverableErrorDialogContents(true);\r\n                if (this.state.doShowSavingMarksAndAnnotationsIndicator) {\r\n                    //logic for displaying error popup.\r\n                    this.setState({\r\n                        doShowSavingMarksAndAnnotationsIndicator: false,\r\n                        isNonRecoverableErrorPopupVisible: true\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                this.processBasedOnSaveMarksAndAnnotationTriggeringPoint(saveMarksAndAnnotationTriggeringPoint, markGroupId);\r\n            }\r\n            // Last Invoked Trigger point is stored in marking Store. Reset the variable after 'ALL Completed Save'\r\n            if (marksAndAnnotationsSaveHelper.count === 0) {\r\n                responseActionCreator.triggerSavingMarksAndAnnotations(enums.SaveMarksAndAnnotationsProcessingTriggerPoint.None);\r\n            }\r\n            // hide the saving marks and annotations busy indicator\r\n            if (this.state.doShowSavingMarksAndAnnotationsIndicator) {\r\n                this.setState({\r\n                    doShowSavingMarksAndAnnotationsIndicator: false\r\n                });\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"IsShareAndClassifyOptionNeeded\", {\r\n        /**\r\n         * Return IsShareAndClassifyOptionNeeded value\r\n         */\r\n        get: function () {\r\n            return standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.classify &&\r\n                this.reuseUnclassifyItem.filter(function (i) { return i.isChecked === true; })[0] === undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Footer.prototype, \"classifyOrReclassifySaveFailPopUpContent\", {\r\n        /**\r\n         * Returns the currentSaveFailPopUp content.\r\n         */\r\n        get: function () {\r\n            return this.isUnclassifiedWorklistSelected ?\r\n                stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.concurrent-esmarkingmode-save-fail-popup.body-with-response-id'), [this.displayId]) :\r\n                localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.concurrent-esmarkingmode-save-fail-popup.body');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns isCommonProvisionalStandardisationCcOn.\r\n     */\r\n    Footer.prototype.isCommonProvisionalStandardisationCcOn = function () {\r\n        return configurableCharacteristicHelper.getCharacteristicValue(configurableCharacteristicNames.CommonProvisionalStandardisation, standardisationSetupStore.instance.markSchemeGroupId).toLowerCase() === 'true';\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"discardResponseFailPopUpContent\", {\r\n        /**\r\n         * Returns the discard response fail popup content with displayId.\r\n         */\r\n        get: function () {\r\n            return stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.response-already-discarded-popup.body-with-response-id'), [responseStore.instance.selectedDisplayId.toString()]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Footer;\r\n}(pureRenderComponent));\r\nmodule.exports = Footer;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 42)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzgyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZm9vdGVyLnRzeD84OGM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDplbmFibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgQ29uZmlybWF0aW9uRGlhbG9nID0gcmVxdWlyZSgnLi91dGlsaXR5L2NvbmZpcm1hdGlvbmRpYWxvZycpO1xyXG5pbXBvcnQgdXNlck9wdGlvbnNIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L3VzZXJvcHRpb24vdXNlcm9wdGlvbnNoZWxwZXInKTtcclxuaW1wb3J0IHVzZXJPcHRpb25zQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvdXNlcm9wdGlvbi91c2Vyb3B0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgbG9nb3V0QXJndW1lbnQgPSByZXF1aXJlKCcuLi9kYXRhc2VydmljZXMvYXV0aGVudGljYXRpb24vbG9nb3V0YXJndW1lbnQnKTtcclxuaW1wb3J0IGxvZ291dEFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL2xvZ291dC9sb2dvdXRhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBsb2dpblNlc3Npb24gPSByZXF1aXJlKCcuLi9hcHAvbG9naW5zZXNzaW9uJyk7XHJcbmltcG9ydCBsb2dpblN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL2xvZ2luL2xvZ2luc3RvcmUnKTtcclxuaW1wb3J0IHVzZXJvcHRpb25LZXlzID0gcmVxdWlyZSgnLi4vdXRpbGl0eS91c2Vyb3B0aW9uL3VzZXJvcHRpb25rZXlzJyk7XHJcbmltcG9ydCB1c2VyT3B0aW9uU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvdXNlcm9wdGlvbi91c2Vyb3B0aW9uc3RvcmUnKTtcclxuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvbWFya2luZy9tYXJrc2FuZGFubm90YXRpb25zc2F2ZWhlbHBlcicpO1xyXG5pbXBvcnQgbWFya2luZ1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL21hcmtpbmcvbWFya2luZ3N0b3JlJyk7XHJcbmltcG9ydCBtYXJraW5nQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvbWFya2luZy9tYXJraW5nYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBCdXN5SW5kaWNhdG9yID0gcmVxdWlyZSgnLi91dGlsaXR5L2J1c3lpbmRpY2F0b3IvYnVzeWluZGljYXRvcicpO1xyXG5pbXBvcnQgbmF2aWdhdGlvbkhlbHBlciA9IHJlcXVpcmUoJy4vdXRpbGl0eS9uYXZpZ2F0aW9uL25hdmlnYXRpb25oZWxwZXInKTtcclxuaW1wb3J0IG5hdmlnYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9uYXZpZ2F0aW9uL25hdmlnYXRpb25zdG9yZScpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25hY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBHZW5lcmljRGlhbG9nID0gcmVxdWlyZSgnLi91dGlsaXR5L2dlbmVyaWNkaWFsb2cnKTtcclxuaW1wb3J0IHNhdmVNYXJrc0FuZEFubm90YXRpb25zTm9uUmVjb3ZlcmFibGVFcnJvckRpYWxvZ0NvbnRlbnRzID1cclxucmVxdWlyZSgnLi91dGlsaXR5L3NhdmVtYXJrc2FuZGFubm90YXRpb25zL3NhdmVtYXJrc2FuZGFubm90YXRpb25zbm9ucmVjb3ZlcmFibGVlcnJvcmRpYWxvZ2NvbnRlbnRzJyk7XHJcbmltcG9ydCBodG1sVXRpbGl0aWVzID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9nZW5lcmljL2h0bWx1dGlsaXRpZXMnKTtcclxuaW1wb3J0IHdvcmtsaXN0QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvd29ya2xpc3Qvd29ya2xpc3RhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQga2V5RG93bkhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvZ2VuZXJpYy9rZXlkb3duaGVscGVyJyk7XHJcbmltcG9ydCBxaWdBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9xaWdzZWxlY3Rvci9xaWdzZWxlY3RvcmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IG1lc3NhZ2VTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9tZXNzYWdlL21lc3NhZ2VzdG9yZScpO1xyXG5pbXBvcnQgZXhjZXB0aW9uU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvZXhjZXB0aW9uL2V4Y2VwdGlvbnN0b3JlJyk7XHJcbmltcG9ydCBwb3BVcERpc3BsYXlBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9wb3B1cGRpc3BsYXkvcG9wdXBkaXNwbGF5YWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgZXhhbWluZXJTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9tYXJrZXJpbmZvcm1hdGlvbi9leGFtaW5lcnN0b3JlJyk7XHJcbmltcG9ydCByZXNwb25zZUFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3Jlc3BvbnNlL3Jlc3BvbnNlYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgcXVhbGl0eUZlZWRiYWNrSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9xdWFsaXR5ZmVlZGJhY2svcXVhbGl0eWZlZWRiYWNraGVscGVyJyk7XHJcbmltcG9ydCBjb2xvdXJlZEFubm90YXRpb25zSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9zdGFtcHBhbmVsL2NvbG91cmVkYW5ub3RhdGlvbnNoZWxwZXInKTtcclxuaW1wb3J0IHN1Ym1pdFN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3N1Ym1pdC9zdWJtaXRzdG9yZScpO1xyXG5pbXBvcnQgd29ya2xpc3RDb21wb25lbnRIZWxwZXIgPSByZXF1aXJlKCcuL3dvcmtsaXN0L3dvcmtsaXN0Y29tcG9uZW50aGVscGVyJyk7XHJcbmltcG9ydCByZXNwb25zZU5hdmlnYXRpb24gPSByZXF1aXJlKCcuL3Jlc3BvbnNlL3Jlc3BvbnNlbmF2aWdhdGlvbicpO1xyXG5pbXBvcnQgc3VibWl0SGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L3N1Ym1pdC9zdWJtaXRoZWxwZXInKTtcclxuaW1wb3J0IGFsbG9jYXRlUmVzcG9uc2VIZWxwZXIgPSByZXF1aXJlKCcuL3V0aWxpdHkvcmVzcG9uc2VhbGxvY2F0aW9uL2FsbG9jYXRlcmVzcG9uc2VzaGVscGVyJyk7XHJcbmltcG9ydCB0YXJnZXRIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L3RhcmdldC90YXJnZXRoZWxwZXInKTtcclxuaW1wb3J0IGJ1c3lJbmRpY2F0b3JBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9idXN5aW5kaWNhdG9yL2J1c3lpbmRpY2F0b3JhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBidXN5SW5kaWNhdG9yU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvYnVzeWluZGljYXRvci9idXN5aW5kaWNhdG9yc3RvcmUnKTtcclxuaW1wb3J0IG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL21lc3NhZ2luZy9tZXNzYWdpbmdhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBtZXNzYWdlSGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L21lc3NhZ2UvbWVzc2FnZWhlbHBlcicpO1xyXG5pbXBvcnQgc3RkU2V0dXBQZXJtaXNzaW9uSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cHBlcm1pc3Npb25oZWxwZXInKTtcclxuaW1wb3J0IHJlc3BvbnNlSGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L3Jlc3BvbnNlaGVscGVyL3Jlc3BvbnNlaGVscGVyJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cEZhY3RvcnkgPSByZXF1aXJlKCcuLi91dGlsaXR5L3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwZmFjdG9yeScpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlsID0gcmVxdWlyZSgnLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3R5cGluZ3Mvc3RhbmRhcmRpc2F0aW9udGFyZ2V0ZGV0YWlsJyk7XHJcblxyXG5kZWNsYXJlIGxldCBjb25maWc6IGFueTtcclxuLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5jb25zdCBJZGxlVGltZXIgPSByZXF1aXJlKCdyZWFjdC1pZGxlLXRpbWVyJykuZGVmYXVsdDtcclxuLyogdHNsaW50OmVuYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbmltcG9ydCB0aW1lckhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvZ2VuZXJpYy90aW1lcmhlbHBlcicpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25zdG9yZScpO1xyXG5pbXBvcnQgc3VibWl0QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc3VibWl0L3N1Ym1pdGFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHJlc3BvbnNlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvcmVzcG9uc2UvcmVzcG9uc2VzdG9yZScpO1xyXG5pbXBvcnQgY3VzdG9tRXJyb3IgPSByZXF1aXJlKCcuL2Jhc2UvY3VzdG9tZXJyb3InKTtcclxuaW1wb3J0IHN0b3JhZ2VBZGFwdGVySGVscGVyID0gcmVxdWlyZSgnLi4vZGF0YXNlcnZpY2VzL3N0b3JhZ2VhZGFwdGVycy9zdG9yYWdlYWRhcHRlcmhlbHBlcicpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudHN0b3JlJyk7XHJcbmltcG9ydCB1c2VySW5mb0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3VzZXJpbmZvL3VzZXJpbmZvYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgbG9hZENvbnRhaW5lckFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL25hdmlnYXRpb24vbG9hZGNvbnRhaW5lcmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IG9wZXJhdGlvbk1vZGVIZWxwZXIgPSByZXF1aXJlKCcuL3V0aWxpdHkvdXNlcmRldGFpbHMvdXNlcmluZm8vb3BlcmF0aW9ubW9kZWhlbHBlcicpO1xyXG5pbXBvcnQgd29ya2xpc3RIaXN0b3J5SW5mbyA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvYnJlYWRjcnVtYi93b3JrbGlzdGhpc3RvcnlpbmZvJyk7XHJcbmltcG9ydCB0ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9icmVhZGNydW1iL3RlYW1tYW5hZ2VtZW50aGlzdG9yeWluZm8nKTtcclxuaW1wb3J0IGhpc3RvcnlJdGVtID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9icmVhZGNydW1iL2hpc3RvcnlpdGVtJyk7XHJcbmltcG9ydCB0ZWFtTWFuYWdlbWVudEFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3RlYW1tYW5hZ2VtZW50L3RlYW1tYW5hZ2VtZW50YWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgcWlnSW5mbyA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci90eXBpbmdzL3FpZ3N1bW1hcnknKTtcclxuaW1wb3J0IG1hcmtpbmdDaGVja0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL21hcmtpbmdjaGVjay9tYXJraW5nY2hlY2thY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCByZW1lbWJlclFpZyA9IHJlcXVpcmUoJy4uL3N0b3Jlcy91c2Vyb3B0aW9uL3R5cGluZ3MvcmVtZW1iZXJxaWcnKTtcclxuaW1wb3J0IHVzZXJPcHRpb25LZXlzID0gcmVxdWlyZSgnLi4vdXRpbGl0eS91c2Vyb3B0aW9uL3VzZXJvcHRpb25rZXlzJyk7XHJcbmltcG9ydCBXYXJuaW5nTWVzc2FnZVBvcHVwID0gcmVxdWlyZSgnLi90ZWFtbWFuYWdlbWVudC93YXJuaW5nbWVzc2FnZXBvcHVwJyk7XHJcbmltcG9ydCBMb2Nrc0luUWlnUG9wdXAgPSByZXF1aXJlKCcuL3FpZ3NlbGVjdG9yL2xvY2tzaW5xaWdwb3B1cCcpO1xyXG5pbXBvcnQgcmVzcG9uc2VTZWFyY2hIZWxwZXIgPSByZXF1aXJlKCcuLy4uL3V0aWxpdHkvcmVzcG9uc2VzZWFyY2gvcmVzcG9uc2VzZWFyY2hoZWxwZXInKTtcclxuaW1wb3J0IGNjQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IFByb21pc2UgPSByZXF1aXJlKCdlczYtcHJvbWlzZScpO1xyXG5pbXBvcnQgbmV0d29ya0NoYW5nZUF1ZGl0SGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L3pvb20vbmV0d29ya2NoYW5nZWF1ZGl0aGVscGVyJyk7XHJcbmltcG9ydCBsb2dnZXJDb25zdGFudHMgPSByZXF1aXJlKCcuL3V0aWxpdHkvbG9nZ2VyaGVscGVyY29uc3RhbnRzJyk7XHJcbmltcG9ydCBzdHJpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L2dlbmVyaWMvc3RyaW5naGVscGVyJyk7XHJcbmltcG9ydCBzaW11bGF0aW9uTW9kZUV4aXRlZFFpZ0xpc3QgPSByZXF1aXJlKCcuLi9zdG9yZXMvcWlnc2VsZWN0b3IvdHlwaW5ncy9zaW11bGF0aW9ubW9kZWV4aXRlZHFpZ2xpc3QnKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgc2ltdWxhdGlvbk1vZGVIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L3NpbXVsYXRpb24vc2ltdWxhdGlvbm1vZGVoZWxwZXInKTtcclxuaW1wb3J0IHN0cmluZ0Zvcm1hdEhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvc3RyaW5nZm9ybWF0L3N0cmluZ2Zvcm1hdGhlbHBlcicpO1xyXG5pbXBvcnQgY2NTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3MvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzc3RvcmUnKTtcclxuaW1wb3J0IGVjb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XHJcbmltcG9ydCBlY291cnNld29ya0ZpbGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9yZXNwb25zZS9kaWdpdGFsL2Vjb3Vyc2V3b3JrZmlsZXN0b3JlJyk7XHJcbmltcG9ydCBvdmVybGF5SGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L292ZXJsYXkvb3ZlcmxheWhlbHBlcicpO1xyXG5pbXBvcnQgYWNldGF0ZXNBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9hY2V0YXRlcy9hY2V0YXRlc2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljTmFtZXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCB0YXJnZXRTdW1tYXJ5U3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvd29ya2xpc3QvdGFyZ2V0c3VtbWFyeXN0b3JlJyk7XHJcbmltcG9ydCBpbWFnZVpvbmVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9pbWFnZXpvbmVzL2ltYWdlem9uZXN0b3JlJyk7XHJcbmltcG9ydCBhdWRpdExvZ2dpbmdIZWxwZXIgPSByZXF1aXJlKCcuL3V0aWxpdHkvYXVkaXRsb2dnZXIvYXVkaXRsb2dnaW5naGVscGVyJyk7XHJcbmltcG9ydCBxaWdTdW1tYXJ5ID0gcmVxdWlyZSgnLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3R5cGluZ3MvcWlnc3VtbWFyeScpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cHN0b3JlJyk7XHJcbmltcG9ydCBNdWx0aU9wdGlvbkNvbmZpcm1hdGlvbkRpYWxvZyA9IHJlcXVpcmUoJy4vdXRpbGl0eS9tdWx0aW9wdGlvbmNvbmZpcm1hdGlvbmRpYWxvZycpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgdXNlcmluZm9zdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy91c2VyaW5mby91c2VyaW5mb3N0b3JlJyk7XHJcbmltcG9ydCBnZW5lcmljUmFkaW9CdXR0b25JdGVtcyA9IHJlcXVpcmUoJy4vdXRpbGl0eS9nZW5lcmljcmFkaW9idXR0b25pdGVtcycpO1xyXG5pbXBvcnQgR2VuZXJpY1BvcHVwV2l0aFJhZGlvQnV0dG9uID0gcmVxdWlyZSgnLi91dGlsaXR5L2dlbmVyaWNwb3B1cHdpdGhyYWRpb2J1dHRvbnMnKTtcclxuaW1wb3J0IHVwZGF0ZUVTTWFya0dyb3VwTWFya2luZ01vZGVEYXRhID0gcmVxdWlyZSgnLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3R5cGluZ3MvdXBkYXRlZXNtYXJrZ3JvdXBtYXJraW5nbW9kZWRhdGEnKTtcclxuaW1wb3J0IHNzdVN0bUNsYXNzaWZpY2F0aW9uUmVzdHJpY3Rpb24gPSByZXF1aXJlKCcuLi9zdG9yZXMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvdHlwaW5ncy9zc3VzdG1jbGFzc2lmaWNhdGlvbnJlc3RyaWN0aW9uJyk7XHJcbmltcG9ydCBnZW5lcmljQ2hlY2tCb3hJdGVtcyA9IHJlcXVpcmUoJy4vdXRpbGl0eS9nZW5lcmljY2hlY2tib3hpdGVtcycpO1xyXG5pbXBvcnQgR2VuZXJpY1BvcHVwV2l0aENoZWNrQm94ZXMgPSByZXF1aXJlKCcuL3V0aWxpdHkvZ2VuZXJpY3BvcHVwd2l0aGNoZWNrYm94ZXMnKTtcclxuaW1wb3J0IGF3YXJkaW5nSGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L2F3YXJkaW5nL2F3YXJkaW5naGVscGVyJyk7XHJcbmltcG9ydCBhd2FyZGluZ1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL2F3YXJkaW5nL2F3YXJkaW5nc3RvcmUnKTtcclxuaW1wb3J0IHN0YW5kYXJkaXNhdGlvblNldHVwQ0NEYXRhID0gcmVxdWlyZSgnLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3R5cGluZ3Mvc3RhbmRhcmRpc2F0aW9uc2V0dXBjY2RhdGEnKTtcclxuaW1wb3J0IHN0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm8gPSByZXF1aXJlKCcuLi91dGlsaXR5L2JyZWFkY3J1bWIvc3RhbmRhcmRpc2F0aW9uc2V0dXBoaXN0b3J5aW5mbycpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVyJyk7XHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGEgY29tcG9uZW50XHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2UsIExvY2FsZVNlbGVjdGlvbkJhc2Uge1xyXG4gICAgZm9vdGVyVHlwZTogZW51bXMuRm9vdGVyVHlwZTtcclxuICAgIGlzTG9nb3V0Q29uZmlybWF0aW9uUG9wdXBEaXNwbGF5aW5nOiBib29sZWFuO1xyXG4gICAgcmVzZXRMb2dvdXRDb25maXJtYXRpb25TYXR1czogRnVuY3Rpb247XHJcbiAgICBpc0NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uPzogYm9vbGVhbjtcclxuICAgIE9uQ2xpY2tpbmdDYW5jZWxvZlN0ZFNldHVwUG9wdXA/OiBGdW5jdGlvbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlIHtcclxuICAgIGRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3I/OiBib29sZWFuO1xyXG4gICAgaXNOb25SZWNvdmVyYWJsZUVycm9yUG9wdXBWaXNpYmxlPzogYm9vbGVhbjtcclxuICAgIGlzRGlzcGxheWluZ0dyYWNlUmVzcG9uc2VMZXNzdGhhbjEwMFBlcmNlbnRhZ2VFcnJvcj86IGJvb2xlYW47XHJcbiAgICBpc0Rpc3BsYXlpbmdHcmFjZVJlc3BvbnNlRXhwaXJlZEVycm9yPzogYm9vbGVhbjtcclxuICAgIGlzRGlzcGxheWluZ1Jlc3BvbnNlUmVtb3ZlZEVycm9yPzogYm9vbGVhbjtcclxuICAgIGlzV2l0aGRyYXduUmVzcG9uc2VFcnJvcj86IGJvb2xlYW47XHJcbiAgICBwb3BVcFR5cGU/OiBlbnVtcy5Qb3BVcFR5cGU7XHJcbiAgICBpc09ubGluZT86IGJvb2xlYW47XHJcbiAgICBpc0J1c3k/OiBib29sZWFuO1xyXG4gICAgaXNBcHBsaWNhdGlvbk9mZmxpbmU/OiBib29sZWFuO1xyXG4gICAgaXNTdWJtaXRDb25maXJtYXRpb25Qb3B1cERpc3BsYXlpbmc/OiBib29sZWFuO1xyXG4gICAgbm9uUmVjb3ZlcmFibGVTYXZlTWFya3NBbmRBbm5vdGF0aW9uc0Vycm9yTWVzc2FnZT86IGJvb2xlYW47XHJcbiAgICBkb1Nob3dNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwPzogYm9vbGVhbjtcclxuICAgIGRvU2hvd05vTWFya2luZ0NoZWNrQXZhaWxhYmxlTWVzc2FnZT86IGJvb2xlYW47XHJcbiAgICBpc01hcmtpbmdDaGVja0NvbXBsZXRlQ29uZmlybWF0aW9uUG9wdXBEaXNwbGF5aW5nPzogYm9vbGVhbjtcclxuICAgIGRvU2hvd1BvcHVwPzogYm9vbGVhbjtcclxuICAgIHJlUmVuZGVyTG9ja3NJblFpZ1BvcFVwPzogYm9vbGVhbjtcclxuICAgIGlzUmVzcG9uc2VTZWFyY2hGYWlsZWQ/OiBib29sZWFuO1xyXG4gICAgc2hvd1NpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvblBvcHVwPzogYm9vbGVhbjtcclxuICAgIHNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXA/OiBib29sZWFuO1xyXG4gICAgc2hvd0FsbFNpbXVsYXRpb25FeGl0ZWRRaWdzPzogYm9vbGVhbjtcclxuICAgIHJlbmRlcmVkT24/OiBudW1iZXI7XHJcbiAgICBpc1N1Ym1pdEVycm9yUG9wRGlzcGxheWluZz86IGJvb2xlYW47XHJcbiAgICBpc1NoYXJlZD86IGJvb2xlYW47XHJcbiAgICBkb1Nob3dTaGFyZUNvbmZpcm1hdGlvblBvcHVwPzogYm9vbGVhbjtcclxuICAgIGlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwRGlzcGxheWluZz86IGJvb2xlYW47XHJcbiAgICBpc1FpZ3Nlc3Npb25DbG9zZWRFcnJvcj86IGJvb2xlYW47XHJcbiAgICBpc0NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uPzogYm9vbGVhbjtcclxuICAgIGlzTm90ZVRpbWVTdGFtcENoYW5nZWRQb3B1cFZpc2libGU6IGJvb2xlYW47XHJcbiAgICBpc1Jlc3BvbnNlTW9kaWZpZWRQb3B1cFZpc2liaWxlOiBib29sZWFuO1xyXG4gICAgZG9TaG93UmVjbGFzc2lmeVJlc3BvbnNlQnVzeUluZGljYXRvcj86IGJvb2xlYW47XHJcbiAgICB1bkNsYXNzaWZpZWRTY3JpcHRpblN0bVVuYXZhaWxhYmxlVmlzaWJsZTogYm9vbGVhbjtcclxuICAgIHNob3dSaWdOb3RGb3VuZFBvcFVwOiBib29sZWFuO1xyXG4gICAgcHJvdmlzaW9uYWxNYXJraW5nVHlwZT86IGVudW1zLlByb3Zpc2lvbmFsTWFya2luZ1R5cGU7XHJcbiAgICBpc1NhdmVFbWFpbE1lc3NhZ2VEaXNwbGF5aW5nPzogYm9vbGVhbjtcclxuICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZzogYm9vbGVhbjtcclxuICAgIGRvU2hvd1JldXNlUmlnQWN0aW9uQnVzeUluZGljYXRvcj86IGJvb2xlYW47XHJcbiAgICBpc1NoYXJlUmVzcG9uc2VQb3B1cERpc3BsYXlpbmdGb3JQRTogYm9vbGVhbjtcclxuICAgIGRvU2hvd0NsYXNzaWZ5UmVzcG9uc2VCdXN5SW5kaWNhdG9yPzogYm9vbGVhbjtcclxufVxyXG5cclxuY2xhc3MgRm9vdGVyIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuICAgIC8vIEluZGljYXRlcyBpZiBsb2dvdXQgaGFzIGJlZW4gdHJpZ2dlcmVkXHJcbiAgICBwcml2YXRlIF9vbkxvZ291dFRyaWdnZXJlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLy8gRXZlbnQgbGlzdGVuZXIgb2JqZWN0IGZvciBob2xkaW5nIG9ubGluZSBzdGF0dXMgc2V0dGluZyBtZXRob2QuXHJcbiAgICBwcml2YXRlIF9ib3VuZE9ubGluZVN0YXR1c0V2ZW50OiBFdmVudExpc3RlbmVyT2JqZWN0O1xyXG4gICAgcHJpdmF0ZSBfZmFpbHVyZVJlYXNvbjogZW51bXMuUmVzcG9uc2VOYXZpZ2F0ZUZhaWx1cmVSZWFzb24gPSBlbnVtc1xyXG4gICAgICAgIC5SZXNwb25zZU5hdmlnYXRlRmFpbHVyZVJlYXNvbi5Ob25lO1xyXG4gICAgcHJpdmF0ZSBfc2hhcmVSZXNwb25zZURldGFpbHM6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscztcclxuICAgIHByaXZhdGUgX2lzU2hhcmVkRnJvbU1hcmtTY2hlbWU6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIF9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBfc2hvd1NoYXJlTG9hZGluZ0luZGljYXRvckZvclBFOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBfY2xhc3NpZnlSZXNwb25zZURldGFpbHM6IHVwZGF0ZUVTTWFya0dyb3VwTWFya2luZ01vZGVEYXRhO1xyXG4gICAgcHJpdmF0ZSBleHBpcmVkTWFya0dyb3VwSWQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBjdXJyZW50U2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludDogZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50ID0gdW5kZWZpbmVkO1xyXG4gICAgLy8gdmFyaWFibGUgZm9yIHNhdmUgbWFya3MgYW5kIGFubm90YXRpb25zIGRpYWxvZyBjb250ZW50c1xyXG4gICAgcHJpdmF0ZSBzYXZlTWFya3NBbmRBbm5vdGF0aW9uc0Vycm9yRGlhbG9nQ29udGVudHM6IHNhdmVNYXJrc0FuZEFubm90YXRpb25zTm9uUmVjb3ZlcmFibGVFcnJvckRpYWxvZ0NvbnRlbnRzID1cclxuICAgICAgICBuZXcgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNOb25SZWNvdmVyYWJsZUVycm9yRGlhbG9nQ29udGVudHMoXHJcbiAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgKTtcclxuICAgIC8vIHZhcmlhYmxlIHRvIHNhdmUgZXhhbWluZXIgQXBwcm92YWwgc3RhdHVzXHJcbiAgICBwcml2YXRlIGV4YW1pbmVyQXBwcm92YWxTdGF0dXM6IGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25FcnJvckNvZGUgPSBlbnVtc1xyXG4gICAgICAgIC5TYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlLk5vbmU7XHJcbiAgICAvL3ZhcmlhYmxlIHRvIGtub3cgd2hlcmUgdGhlIHJlcG9uc2UgaXMgbmF2aWdhdGVkIHRvXHJcbiAgICBwcml2YXRlIG5hdmlnYXRlUmVwb25zZTogZW51bXMuU2F2ZUFuZE5hdmlnYXRlID0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm5vbmU7XHJcblxyXG4gICAgLy8gSG9sZHMgdGhlIFBvcCBkYXRhIGZvciBkaXNwbGF5aW5nIHRoZSBjb250ZW50cyBvZiBwb3B1cFxyXG4gICAgcHJpdmF0ZSBwb3BVcERhdGE6IFBvcFVwRGF0YSA9IHt9O1xyXG4gICAgcHJpdmF0ZSBtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50czogTWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHM7XHJcblxyXG4gICAgLy8gSW5kaWNhdGVzIGlmIGxvZ291dCBoYXMgYmVlbiB0cmlnZ2VyZWQgdGhyb3VnaCBJZGxlIFRpbWVPdXRcclxuICAgIHByaXZhdGUgX2lzQXV0b0xvZ091dDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8vIEhvbGRzIHRoZSBpZGxlIHRpbWUgb3V0IHZhbHVlIGluIG1pbGxpIHNlY29uZHMgLS0gZGVmYXVsdDoxMCBtaW5zXHJcbiAgICBwcml2YXRlIF9pZGxlVGltZU91dDogbnVtYmVyID0gNjAwMDAwO1xyXG5cclxuICAgIHByaXZhdGUgdGltZXI6IHRpbWVySGVscGVyO1xyXG4gICAgLy8gIFRoaXMgd2lsbCBob2xkIHRoZSBtYW5kYXRvcnkgbWVzc2FnZSBjaGVja2luZyB0cmlnZ2VyIHBvaW50c1xyXG4gICAgcHJpdmF0ZSBtYW5kYXRvcnlNZXNzYWdlVHJpZ2dlcmluZ1BvaW50OiBlbnVtcy5UcmlnZ2VyUG9pbnQgPSBlbnVtcy5UcmlnZ2VyUG9pbnQuTm9uZTtcclxuXHJcbiAgICBwcml2YXRlIG9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbkF1dG9Mb2dvdXQ6IEZ1bmN0aW9uO1xyXG5cclxuICAgIHByaXZhdGUgc3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVDb250ZW50OiBzdHJpbmc7XHJcblxyXG4gICAgcHJpdmF0ZSBzdWJtaXRDb25maXJtYXRpb25EaWFsb2d1ZUhlYWRlcjogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgaXNDb25jdXJyZW50U2Vzc2lvbkFjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgc3RvcmFnZUFkYXB0ZXJIZWxwZXIgPSBuZXcgc3RvcmFnZUFkYXB0ZXJIZWxwZXIoKTtcclxuXHJcbiAgICBwcml2YXRlIHNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlQ29udGVudDogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVIZWFkZXI6IHN0cmluZztcclxuXHJcbiAgICBwcml2YXRlIG1lc3NhZ2VEZXRhaWxzOiBJbmZvcm1hdGlvbk1lc3NhZ2VEZXRhaWxzID0geyBtZXNzYWdlSGVhZGVyOiAnJywgbWVzc2FnZVN0cmluZzogJycgfTtcclxuXHJcbiAgICBwcml2YXRlIHRyaWdnZXJQb2ludEFmdGVyQ2xvc2U6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBvZmZsaW5lRXJyb3JNZXNzYWdlOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgc2hhcmVDb25maXJtYXRpb25DbGllbnRUb2tlbjogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgc3VibWl0TWVzc2FnZUVycm9yUG9wdXBDb250ZW50OiBTdWJtaXRSZXNwb25zZUVycm9yTWVzc2FnZUFyZ3VtZW50cyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwcml2YXRlIGNvcHlNYXJrc0FzRGVmaW5pdGl2ZVNlbGVjdGVkOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBwcml2YXRlIGNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHJpdmF0ZSByZWNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHJpdmF0ZSByZXVzZVJlc3BvbnNlRGV0YWlsczogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwcml2YXRlIGl0ZW1zOiBBcnJheTxnZW5lcmljUmFkaW9CdXR0b25JdGVtcz47XHJcblxyXG4gICAgcHJpdmF0ZSByZXVzZVVuY2xhc3NpZnlJdGVtOiBBcnJheTxnZW5lcmljUmFkaW9CdXR0b25JdGVtcz47XHJcblxyXG4gICAgcHJpdmF0ZSBpc0NsYXNzaWZ5UmVzcG9uc2VPa0J1dHRvbkRpc2FibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBwcml2YXRlIHByZXZpb3VzTWFya2luZ01vZGU6IGVudW1zLk1hcmtpbmdNb2RlO1xyXG5cclxuICAgIHByaXZhdGUgY3VycmVudE1hcmtpbmdNb2RlOiBlbnVtcy5NYXJraW5nTW9kZTtcclxuXHJcbiAgICBwcml2YXRlIGRpc3BsYXlJZDogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgbXVsdGlRaWdDaGVja2JveEl0ZW1zOiBBcnJheTxnZW5lcmljQ2hlY2tCb3hJdGVtcz47XHJcblxyXG4gICAgcHJpdmF0ZSBjb25jdXJyZW50U2F2ZUZhaWxBcmVhOiBlbnVtcy5QYWdlQ29udGFpbmVycyA9IGVudW1zLlBhZ2VDb250YWluZXJzLk5vbmU7XHJcblxyXG4gICAgcHJpdmF0ZSByZXVzZVJJR1NlbGVjdGVkRGlzcGxheUlkOiBzdHJpbmc7XHJcblxyXG4gICAgcHJpdmF0ZSByZXNwb25zZURldGFpbHM6IHVwZGF0ZUVTTWFya0dyb3VwTWFya2luZ01vZGVEYXRhO1xyXG5cclxuICAgIHByaXZhdGUgc3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXI6IHN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyO1xyXG5cclxuICAgIHByaXZhdGUgX3NoYXJlUmVzcG9uc2VBcmd1bWVudDogU3VibWl0UmVzcG9uc2VBcmd1bWVudDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0ge1Byb3BzfSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHtTdGF0ZX0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogU3RhdGUpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNOb25SZWNvdmVyYWJsZUVycm9yUG9wdXBWaXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNEaXNwbGF5aW5nR3JhY2VSZXNwb25zZUxlc3N0aGFuMTAwUGVyY2VudGFnZUVycm9yOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNEaXNwbGF5aW5nR3JhY2VSZXNwb25zZUV4cGlyZWRFcnJvcjogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzRGlzcGxheWluZ1Jlc3BvbnNlUmVtb3ZlZEVycm9yOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNPbmxpbmU6IGFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUsXHJcbiAgICAgICAgICAgIGlzQnVzeTogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzQXBwbGljYXRpb25PZmZsaW5lOiBmYWxzZSxcclxuICAgICAgICAgICAgbm9uUmVjb3ZlcmFibGVTYXZlTWFya3NBbmRBbm5vdGF0aW9uc0Vycm9yTWVzc2FnZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzTWFya2luZ0NoZWNrQ29tcGxldGVDb25maXJtYXRpb25Qb3B1cERpc3BsYXlpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBkb1Nob3dQb3B1cDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXA6IGZhbHNlLFxyXG4gICAgICAgICAgICBzaG93QWxsU2ltdWxhdGlvbkV4aXRlZFFpZ3M6IGZhbHNlLFxyXG4gICAgICAgICAgICByZW5kZXJlZE9uOiAwLFxyXG4gICAgICAgICAgICBpc1NoYXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGRvU2hvd1NoYXJlQ29uZmlybWF0aW9uUG9wdXA6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1FpZ3Nlc3Npb25DbG9zZWRFcnJvcjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmUsXHJcbiAgICAgICAgICAgIGlzTm90ZVRpbWVTdGFtcENoYW5nZWRQb3B1cFZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1Jlc3BvbnNlTW9kaWZpZWRQb3B1cFZpc2liaWxlOiBmYWxzZSxcclxuICAgICAgICAgICAgdW5DbGFzc2lmaWVkU2NyaXB0aW5TdG1VbmF2YWlsYWJsZVZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBzaG93UmlnTm90Rm91bmRQb3BVcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHByb3Zpc2lvbmFsTWFya2luZ1R5cGU6IGVudW1zLlByb3Zpc2lvbmFsTWFya2luZ1R5cGUuTm9uZSxcclxuICAgICAgICAgICAgaXNTYXZlRW1haWxNZXNzYWdlRGlzcGxheWluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZ0ZvclBFOiBmYWxzZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMub25ZZXNDbGlja09mTG9nb3V0Q29uZmlybWF0aW9uID0gdGhpcy5vblllc0NsaWNrT2ZMb2dvdXRDb25maXJtYXRpb24uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbkF1dG9Mb2dvdXQgPSB0aGlzLm9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbi5iaW5kKFxyXG4gICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLm9uTm9DbGlja09mTG9nb3V0Q29uZmlybWF0aW9uID0gdGhpcy5vbk5vQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25Pa0NsaWNrT2ZOb25SZWNvdmVyYWJsZUVycm9yTWVzc2FnZSA9IHRoaXMub25Pa0NsaWNrT2ZOb25SZWNvdmVyYWJsZUVycm9yTWVzc2FnZS5iaW5kKFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnVzZXJBY3Rpb25JbnRlcnJ1cHRlZCA9IHRoaXMudXNlckFjdGlvbkludGVycnVwdGVkLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbk9rQ2xpY2tNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwID0gdGhpcy5vbk9rQ2xpY2tNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwLmJpbmQoXHJcbiAgICAgICAgICAgIHRoaXNcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMub25Qb3B1cE9rQ2xpY2sgPSB0aGlzLm9uUG9wdXBPa0NsaWNrLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5TaG93U3VwZXJ2aXNvclNhbXBsaW5nQ29tbWVudFZhbGlkYXRpb25Qb3B1cCA9IHRoaXMuU2hvd1N1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXAuYmluZChcclxuICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5vbk9rQ2xpY2tPZlJlc3BvbnNlSW5HcmFjZUV4cGlyZWRNZXNzYWdlT3JSZXNwb25zZVJlbW92ZWRNZXNzYWdlID1cclxuICAgICAgICAgICAgdGhpcy5vbk9rQ2xpY2tPZlJlc3BvbnNlSW5HcmFjZUV4cGlyZWRNZXNzYWdlT3JSZXNwb25zZVJlbW92ZWRNZXNzYWdlLmJpbmQoXHJcbiAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgLyogc2V0dGluZyBzdWJtaXQgY29uZmlybWF0aW9uIHllcy9ubyBmdW5jdGlvbnMgdG8gaW5pdGlhbGl6ZS4gKi9cclxuICAgICAgICB0aGlzLm9uWWVzQ2xpY2tPZlN1Ym1pdEJ1dHRvbiA9IHRoaXMub25ZZXNDbGlja09mU3VibWl0QnV0dG9uLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbk5vQ2xpY2tPZlN1Ym1pdEJ1dHRvbiA9IHRoaXMub25Ob0NsaWNrT2ZTdWJtaXRCdXR0b24uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uWWVzQ2xpY2tPZlNoYXJlQ29uZmlybWF0aW9uUG9wdXAgPSB0aGlzLm9uWWVzQ2xpY2tPZlNoYXJlQ29uZmlybWF0aW9uUG9wdXAuYmluZChcclxuICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5vbk5vQ2xpY2tPZlNoYXJlQ29uZmlybWF0aW9uUG9wdXAgPSB0aGlzLm9uTm9DbGlja09mU2hhcmVDb25maXJtYXRpb25Qb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuT25Pa0NsaWNrT2ZNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvbiA9IHRoaXMuT25Pa0NsaWNrT2ZNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvbi5iaW5kKFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLk9uQ2FuY2VsQ2xpY2tPZk1hcmtpbmdDaGVja0NvbXBsZXRlQ29uZmlybWF0aW9uID0gdGhpcy5PbkNhbmNlbENsaWNrT2ZNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvbi5iaW5kKFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl9ib3VuZE9ubGluZVN0YXR1c0V2ZW50ID0gdGhpcy51cGRhdGVPbmxpbmVTdGF0dXMuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZSA9IHRoaXMuaXNBdXRvem9uZWRNZXNzYWdlUG9wdXBWaXNpYmxlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vblNlbGVjdFN0ZFNldHVwUmVzcG9uc2VUb01hcmsgPSB0aGlzLm9uU2VsZWN0U3RkU2V0dXBSZXNwb25zZVRvTWFyay5iaW5kKFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLm9uQ29tcGxldGVTdGFuZGFyZGlzYXRpb25TZXR1cCA9IHRoaXMub25Db21wbGV0ZVN0YW5kYXJkaXNhdGlvblNldHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbk9rQ2xpY2tvZlN0YW5kYXJkaXNhdGlvblNldHVwVmFsaWRhdGUgPSB0aGlzLm9uT2tDbGlja29mU3RhbmRhcmRpc2F0aW9uU2V0dXBWYWxpZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yU3RkU2V0dXBOb3RDb21wbGV0ZSA9IHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yU3RkU2V0dXBOb3RDb21wbGV0ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuT25DYW5jZWxDbGlja09mQ29tcGxldGVTdGFuZGFyZGlzYXRpb25Db25maXJtYXRpb24gPSB0aGlzLk9uQ2FuY2VsQ2xpY2tPZkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uQ29uZmlybWF0aW9uLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5Pbk9rQ2xpY2tPZkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uQ29uZmlybWF0aW9uID0gdGhpcy5Pbk9rQ2xpY2tPZkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uQ29uZmlybWF0aW9uLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vblJlc3BvbnNlRGF0YVJlY2lldmVkQWZ0ZXJSZWZyZXNoID0gdGhpcy5vblJlc3BvbnNlRGF0YVJlY2lldmVkQWZ0ZXJSZWZyZXNoLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbk5vdGVUaW1lU3RhbXBDaGFuZ2VkUG9wdXBDbG9zZSA9IHRoaXMub25Ob3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlOb3RlU2F2ZUZhaWxlZFBvcHVwID0gdGhpcy5kaXNwbGF5Tm90ZVNhdmVGYWlsZWRQb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVSZW5kZXJVbmNsYXNzaWZpZWRXb3JrbGlzdCA9IHRoaXMucmVSZW5kZXJVbmNsYXNzaWZpZWRXb3JrbGlzdC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVSZW5kZXJPbkNsYXNzaWZpZWRSZXNwb25zZVJlY2VpdmVkID0gdGhpcy5yZVJlbmRlck9uQ2xhc3NpZmllZFJlc3BvbnNlUmVjZWl2ZWQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnNoYXJlUmVzcG9uc2UgPSB0aGlzLnNoYXJlUmVzcG9uc2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uT0tDbGlja09mUmV1c2VSaWdwb3B1cCA9IHRoaXMub25PS0NsaWNrT2ZSZXVzZVJpZ3BvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJldXNlVW5jbGFzc2lmeVBvcHVwSXRlbSA9IHRoaXMucG9wdWxhdGVSZXVzZVVuY2xhc3NpZnlQb3B1cEl0ZW0uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uUmV1c2VJdGVtQ2hlY2tlZENoYW5nZSA9IHRoaXMub25SZXVzZUl0ZW1DaGVja2VkQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkNhbmNlbENsaWNrT2ZSZXVzZVJpZ1BvcHVwID0gdGhpcy5vbkNhbmNlbENsaWNrT2ZSZXVzZVJpZ1BvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkNoZWNrZWRDaGFuZ2UgPSB0aGlzLm9uQ2hlY2tlZENoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2hhcmVSZXNwb25zZVBvcHVwT3BlbiA9IHRoaXMuc2hhcmVSZXNwb25zZVBvcHVwT3Blbi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25TdWJtaXRSZXNwb25zZUNvbXBsZXRlZCA9IHRoaXMub25TdWJtaXRSZXNwb25zZUNvbXBsZXRlZC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVSZW5kZXJQcm92aW9uYWxXb3JrbGlzdCA9IHRoaXMucmVSZW5kZXJQcm92aW9uYWxXb3JrbGlzdC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc3VibWl0UmVzcG9uc2VGcm9tTWFya3NjaGVtZSA9IHRoaXMuc3VibWl0UmVzcG9uc2VGcm9tTWFya3NjaGVtZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGlmIChjb25maWcuZ2VuZXJhbC5JRExFX1RJTUVPVVQpIHtcclxuICAgICAgICAgICAgdGhpcy5faWRsZVRpbWVPdXQgPSBjb25maWcuZ2VuZXJhbC5JRExFX1RJTUVPVVQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPbmUgSXNzdWUgbm90aWNlZCB0aGF0IHRoZSBmb290ZXIgY29tcG9lbnQgaXMgdGFraW5nIHRpbWUgdG8gbG9hZCBzb21ldGltZXMuIFxyXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcywgc29tZSBvZiB0aGUgZXZlbnRzIGFyZSBhbHJlYWR5IHBhc3NlZC4gUmVjaGVjayBmb3IgdGhlIGZpcnN0IHRpbWUgZm9yIG9uZSBvZiB0aGUgZXZlbnQuXHJcbiAgICAgICAgaWYgKHFpZ1N0b3JlLmluc3RhbmNlLmdldE92ZXJ2aWV3RGF0YSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25TaW11bGF0aW9uRXhpdGVkUWlnc0FuZExvY2tzSW5RaWdzUmVjaWV2ZWQoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgaXNBc2tPbkxvZ091dEVuYWJsZWQ6IGJvb2xlYW47XHJcbiAgICAgICAgbGV0IGNvbmZpcm1hdGlvbkRpYWxvZzogSlNYLkVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGJ1c3lJbmRpY2F0b3I6IEpTWC5FbGVtZW50O1xyXG5cclxuICAgICAgICBsZXQgc3VibWl0Q29uZmlybWF0aW9uRGlhbG9nID0gKFxyXG4gICAgICAgICAgICA8Q29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLnN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlQ29udGVudH1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17dGhpcy5zdWJtaXRDb25maXJtYXRpb25EaWFsb2d1ZUhlYWRlcn1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5pc1N1Ym1pdENvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZ31cclxuICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIG5vQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5sb2dvdXQtZGlhbG9nLm5vLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgeWVzQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnZ2VuZXJpYy5sb2dvdXQtZGlhbG9nLnllcy1idXR0b24nXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5vblllc0NsaWNrT2ZTdWJtaXRCdXR0b259XHJcbiAgICAgICAgICAgICAgICBvbk5vQ2xpY2s9e3RoaXMub25Ob0NsaWNrT2ZTdWJtaXRCdXR0b259XHJcbiAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICBkaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuTG9nb3V0Q29uZmlybWF0aW9ufVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBzaGFyZUNvbmZpcm1hdGlvblBvcHVwID0gdGhpcy5zdGF0ZS5pc1NoYXJlZCA/IChcclxuICAgICAgICAgICAgPENvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zaGFyZS1jb25maXJtYXRpb24tcG9wdXAuY29udGVudCdcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e251bGx9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuZG9TaG93U2hhcmVDb25maXJtYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIG5vQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zaGFyZS1jb25maXJtYXRpb24tcG9wdXAubm8tYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIHllc0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2Uuc2hhcmUtY29uZmlybWF0aW9uLXBvcHVwLnllcy1idXR0b24nXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5vblllc0NsaWNrT2ZTaGFyZUNvbmZpcm1hdGlvblBvcHVwLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBvbk5vQ2xpY2s9e3RoaXMub25Ob0NsaWNrT2ZTaGFyZUNvbmZpcm1hdGlvblBvcHVwLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBkaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuU2hhcmVDb25maXJtYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIGlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgbGV0IG1hbmRhdG9yeU1lc3NhZ2VWYWxpZGF0aW9uUG9wdXAgPSAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLm1hbmRhdG9yeS1tZXNzYWdlLXdhcm5pbmctZGlhbG9nLmJvZHknXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLm1hbmRhdG9yeS1tZXNzYWdlLXdhcm5pbmctZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuZG9TaG93TWFuZGF0b3J5TWVzc2FnZVZhbGlkYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5yZWNpcGllbnQtc2VsZWN0b3Iub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBpZD0nbWFuZGF0b3J5TWVzc2FnZVZhbGlkYXRpb25Qb3B1cCdcclxuICAgICAgICAgICAgICAgIGtleT0nbWFuZGF0b3J5TWVzc2FnZVZhbGlkYXRpb25Qb3B1cCdcclxuICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IHN1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXAgPSAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLm1lc3NhZ2VEZXRhaWxzLm1lc3NhZ2VTdHJpbmd9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e3RoaXMubWVzc2FnZURldGFpbHMubWVzc2FnZUhlYWRlcn1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5kb1Nob3dQb3B1cH1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5yZWNpcGllbnQtc2VsZWN0b3Iub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vblBvcHVwT2tDbGljay5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgaWQ9J3N1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXAnXHJcbiAgICAgICAgICAgICAgICBrZXk9J3N1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXAnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5HZW5lcmljTWVzc2FnZX1cclxuICAgICAgICAgICAgLz4pO1xyXG5cclxuICAgICAgICBsZXQgbm90ZVRpbWVTdGFtcENoYW5nZWRQb3B1cCA9IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMubWVzc2FnZURldGFpbHMubWVzc2FnZVN0cmluZ31cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17dGhpcy5tZXNzYWdlRGV0YWlscy5tZXNzYWdlSGVhZGVyfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzTm90ZVRpbWVTdGFtcENoYW5nZWRQb3B1cFZpc2libGV9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UucmVjaXBpZW50LXNlbGVjdG9yLm9rLWJ1dHRvbidcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25Ob3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwQ2xvc2UuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgIGlkPSdub3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdub3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwJ1xyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuR2VuZXJpY01lc3NhZ2V9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgcmVzcG9uc2VNb2RpZmllZFBvcHVwID0gKFxyXG4gICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17dGhpcy5tZXNzYWdlRGV0YWlscy5tZXNzYWdlU3RyaW5nfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXt0aGlzLm1lc3NhZ2VEZXRhaWxzLm1lc3NhZ2VIZWFkZXJ9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuaXNSZXNwb25zZU1vZGlmaWVkUG9wdXBWaXNpYmlsZX1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5yZWNpcGllbnQtc2VsZWN0b3Iub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vblJlc3BvbnNlTW9kaWZpZWRQb3B1cENsb3NlLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBpZD0ncmVzcG9uc2VNT2RpZmllZFBvcHVwJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdyZXNwb25zZU1PZGlmaWVkUG9wdXAnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5HZW5lcmljTWVzc2FnZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBsZXQgc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uUG9wdXAgPSAoXHJcbiAgICAgICAgICAgIDxDb25maXJtYXRpb25EaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVDb250ZW50fVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXt0aGlzLnNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlSGVhZGVyfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLnNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIG5vQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5sb2dvdXQtZGlhbG9nLm5vLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgeWVzQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnZ2VuZXJpYy5sb2dvdXQtZGlhbG9nLnllcy1idXR0b24nXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5vblllc0NsaWNrT2ZTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRCdXR0b24uYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgIG9uTm9DbGljaz17dGhpcy5vbk5vQ2xpY2tPZlNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdEJ1dHRvbi5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgZGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLlNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvbn1cclxuICAgICAgICAgICAgICAgIGlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvKiogR2V0dGluZyBBc2sgT24gTG9nT3V0IHZhbHVlIGZyb20gdXNlciBvcHRpb24gKi9cclxuICAgICAgICBpc0Fza09uTG9nT3V0RW5hYmxlZCA9XHJcbiAgICAgICAgICAgIHVzZXJPcHRpb25zSGVscGVyLmdldFVzZXJPcHRpb25CeU5hbWUodXNlcm9wdGlvbktleXMuQVNLX09OX0xPR19PVVQpID09PSAndHJ1ZSdcclxuICAgICAgICAgICAgICAgID8gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgLyoqIHRoaXMucHJvcHMuaXNDb25maXJtYXRpb25Qb3B1cERpc3BsYXlpbmcgY2hlY2sgaW5jbHVkZWQgaGVyZSwgaW4gdGhlIGluaXRpYWwgbG9hZCBpdHMgdmFsdWVcclxuICAgICAgICAgKiAgICB3aWxsIGJlIGZhbHNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhaXNBc2tPbkxvZ091dEVuYWJsZWQgJiZcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5pc0xvZ291dENvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZyAmJlxyXG4gICAgICAgICAgICAhdGhpcy5zdGF0ZS5kb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yICYmXHJcbiAgICAgICAgICAgICF0aGlzLl9vbkxvZ291dFRyaWdnZXJlZFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLm9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgLyoqdGhpcy5wcm9wcy5pc0NvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZyBjaGVjayBpbmNsdWRlZCBoZXJlLCBpZiBpdCBpcyB0cnVlIHdpbGwgbG9hZCB0aGUgY29uZmlybWF0aW9uIGRpYWxvZ1xyXG4gICAgICAgICAgICAgKiBjb250ZW50IGludG8gY29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaXNMb2dvdXRDb25maXJtYXRpb25Qb3B1cERpc3BsYXlpbmcgJiZcclxuICAgICAgICAgICAgIXRoaXMuc3RhdGUuZG9TaG93U2F2aW5nTWFya3NBbmRBbm5vdGF0aW9uc0luZGljYXRvciAmJlxyXG4gICAgICAgICAgICAhdGhpcy5fb25Mb2dvdXRUcmlnZ2VyZWRcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nID0gKFxyXG4gICAgICAgICAgICAgICAgPENvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMubG9nb3V0LWRpYWxvZy5ib2R5Jyl9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmxvZ291dC1kaWFsb2cuaGVhZGVyJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnByb3BzLmlzTG9nb3V0Q29uZmlybWF0aW9uUG9wdXBEaXNwbGF5aW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIG5vQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbmVyaWMubG9nb3V0LWRpYWxvZy5uby1idXR0b24nXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICB5ZXNCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuZXJpYy5sb2dvdXQtZGlhbG9nLnllcy1idXR0b24nXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBvblllc0NsaWNrPXt0aGlzLm9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICBvbk5vQ2xpY2s9e3RoaXMub25Ob0NsaWNrT2ZMb2dvdXRDb25maXJtYXRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLkxvZ291dENvbmZpcm1hdGlvbn1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0J1c3kpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChidXN5SW5kaWNhdG9yU3RvcmUuaW5zdGFuY2UuZ2V0QnVzeUluZGljYXRvckludm9rZXIpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuc3VibWl0SW5SZXNwb25zZVNjcmVlbjpcclxuICAgICAgICAgICAgICAgICAgICBidXN5SW5kaWNhdG9yID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnVzeUluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZXNwb25zZV8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5zdWJtaXRJblJlc3BvbnNlU2NyZWVuLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5pc0J1c3l9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZXNwb25zZV8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5zdWJtaXRJblJlc3BvbnNlU2NyZWVuLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWFya2luZ0J1c3k9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckludm9rZXI9e2VudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLnN1Ym1pdEluUmVzcG9uc2VTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93QmFja2dyb3VuZFNjcmVlbj17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09mZmxpbmU9eyF0aGlzLnN0YXRlLmlzT25saW5lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLmxvYWRpbmdIaXN0b3J5RGV0YWlsczpcclxuICAgICAgICAgICAgICAgICAgICBidXN5SW5kaWNhdG9yID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnVzeUluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoaXN0b3J5XycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLmxvYWRpbmdIaXN0b3J5RGV0YWlscy50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0J1c3k9e3RoaXMuc3RhdGUuaXNCdXN5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGlzdG9yeV8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5sb2FkaW5nSGlzdG9yeURldGFpbHMudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nQnVzeT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXN5SW5kaWNhdG9ySW52b2tlcj17ZW51bXMuQnVzeUluZGljYXRvckludm9rZXIubG9hZGluZ0hpc3RvcnlEZXRhaWxzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmRTY3JlZW49e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPZmZsaW5lPXshdGhpcy5zdGF0ZS5pc09ubGluZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci52YWxpZGF0ZVN0YW5kYXJkaXNhdGlvblNldHVwOlxyXG4gICAgICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3IgPSAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0ZF8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci52YWxpZGF0ZVN0YW5kYXJkaXNhdGlvblNldHVwLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5pc0J1c3l9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGRfJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIudmFsaWRhdGVTdGFuZGFyZGlzYXRpb25TZXR1cC50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01hcmtpbmdCdXN5PXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JJbnZva2VyPXtlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci52YWxpZGF0ZVN0YW5kYXJkaXNhdGlvblNldHVwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmRTY3JlZW49e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPZmZsaW5lPXshdGhpcy5zdGF0ZS5pc09ubGluZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlzQ29tcGxldGVTdGFuZGFyZGlzYXRpb24gJiYgdGhpcy5zdGF0ZS5pc0J1c3kgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgYnVzeUluZGljYXRvciA9IChcclxuICAgICAgICAgICAgICAgIDxCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RkXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5jb21wbGV0aW5nU3RhbmRhcmRpc2F0aW9uU2V0dXAudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpc0J1c3k9e3RoaXMuc3RhdGUuaXNCdXN5fVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGRfJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLmNvbXBsZXRpbmdTdGFuZGFyZGlzYXRpb25TZXR1cC50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzTWFya2luZ0J1c3k9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JJbnZva2VyPXtlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5jb21wbGV0aW5nU3RhbmRhcmRpc2F0aW9uU2V0dXB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmRTY3JlZW49e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzT2ZmbGluZT17IXRoaXMuc3RhdGUuaXNPbmxpbmV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0J1c3kgPT09IHRydWUgJiYgKHRoaXMuX3Nob3dTaGFyZUxvYWRpbmdJbmRpY2F0b3IgfHwgdGhpcy5fc2hvd1NoYXJlTG9hZGluZ0luZGljYXRvckZvclBFKSkge1xyXG4gICAgICAgICAgICBidXN5SW5kaWNhdG9yID0gKFxyXG4gICAgICAgICAgICAgICAgPEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgICAgICBpZD17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGRfJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLmNvbXBsZXRpbmdTdGFuZGFyZGlzYXRpb25TZXR1cC50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5pc0J1c3l9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0ZF8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuY29tcGxldGluZ1N0YW5kYXJkaXNhdGlvblNldHVwLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nQnVzeT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckludm9rZXI9e2VudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLmNvbXBsZXRpbmdTdGFuZGFyZGlzYXRpb25TZXR1cH1cclxuICAgICAgICAgICAgICAgICAgICBzaG93QmFja2dyb3VuZFNjcmVlbj17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNPZmZsaW5lPXshdGhpcy5zdGF0ZS5pc09ubGluZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5kb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yKSB7XHJcbiAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3IgPSAoXHJcbiAgICAgICAgICAgICAgICA8QnVzeUluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgICAgIGlkPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5zYXZpbmdNYXJrc0FuZEFubm90YXRpb25zLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNCdXN5PXt0aGlzLnN0YXRlLmRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3J9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5zYXZpbmdNYXJrc0FuZEFubm90YXRpb25zLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nQnVzeT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckludm9rZXI9e2VudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLnNhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnN9XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmRTY3JlZW49e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzT2ZmbGluZT17IXRoaXMuc3RhdGUuaXNPbmxpbmV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZG9TaG93UmVjbGFzc2lmeVJlc3BvbnNlQnVzeUluZGljYXRvcikge1xyXG4gICAgICAgICAgICBidXN5SW5kaWNhdG9yID0gKFxyXG4gICAgICAgICAgICAgICAgPEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgICAgICBpZD17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdyZXNwb25zZV8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIucmVjbGFzc2lmeVJlc3BvbnNlLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNCdXN5PXt0aGlzLnN0YXRlLmRvU2hvd1JlY2xhc3NpZnlSZXNwb25zZUJ1c3lJbmRpY2F0b3J9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5yZWNsYXNzaWZ5UmVzcG9uc2UudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpc01hcmtpbmdCdXN5PXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBidXN5SW5kaWNhdG9ySW52b2tlcj17ZW51bXMuQnVzeUluZGljYXRvckludm9rZXIucmVjbGFzc2lmeVJlc3BvbnNlfVxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dCYWNrZ3JvdW5kU2NyZWVuPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBpc09mZmxpbmU9eyF0aGlzLnN0YXRlLmlzT25saW5lfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmRvU2hvd1JldXNlUmlnQWN0aW9uQnVzeUluZGljYXRvcikge1xyXG4gICAgICAgICAgICBidXN5SW5kaWNhdG9yID0gKFxyXG4gICAgICAgICAgICAgICAgPEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgICAgICBpZD17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdyZXNwb25zZV8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIucmV1c2VSZXNwb25zZS50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5kb1Nob3dSZXVzZVJpZ0FjdGlvbkJ1c3lJbmRpY2F0b3J9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5yZXVzZVJlc3BvbnNlLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nQnVzeT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckludm9rZXI9e2VudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLnJldXNlUmVzcG9uc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmRTY3JlZW49e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzT2ZmbGluZT17IXRoaXMuc3RhdGUuaXNPbmxpbmV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZG9TaG93Q2xhc3NpZnlSZXNwb25zZUJ1c3lJbmRpY2F0b3IpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNVbmNsYXNzaWZpZWRXb3JrbGlzdFNlbGVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3IgPSAoXHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuY2xhc3NpZnlSZXNwb25zZS50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNCdXN5PXt0aGlzLnN0YXRlLmRvU2hvd0NsYXNzaWZ5UmVzcG9uc2VCdXN5SW5kaWNhdG9yfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuY2xhc3NpZnlSZXNwb25zZS50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nQnVzeT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JJbnZva2VyPXtlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5jbGFzc2lmeVJlc3BvbnNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93QmFja2dyb3VuZFNjcmVlbj17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT2ZmbGluZT17IXRoaXMuc3RhdGUuaXNPbmxpbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBub25SZWNvdmVyYWJsZUVycm9yTWVzc2FnZSA9IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvckRpYWxvZ0NvbnRlbnRzLmNvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e3RoaXMuc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvckRpYWxvZ0NvbnRlbnRzLmhlYWRlcn1cclxuICAgICAgICAgICAgICAgIG11bHRpTGluZUNvbnRlbnQ9e3RoaXMuc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvckRpYWxvZ0NvbnRlbnRzLnRhYmxlQ29udGVudH1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5pc05vblJlY292ZXJhYmxlRXJyb3JQb3B1cFZpc2libGV9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uT2tDbGlja09mTm9uUmVjb3ZlcmFibGVFcnJvck1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICBpZD0nbm9uUmVjb3ZlcmFibGVFcnJvck1lc3NnZSdcclxuICAgICAgICAgICAgICAgIGtleT0nbWFya3NBbmRBbm5vdGF0aW9uc0Vycm9yTWVzc2dlJ1xyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuTm9uUmVjb3ZlcmFibGVEZXRhaWxlZEVycm9yfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBub25SZWNvdmVyYWJsZVNhdmVNYXJrc0FuZEFubm90YXRpb25zRXJyb3JNZXNzYWdlID0gKFxyXG4gICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1zdWJtaXNzaW9uLWVycm9yLWRpYWxvZy5ib2R5LXNpbmdsZS1yZXNwb25zZS1ub3Qtc3VibWl0dGVkJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1zdWJtaXNzaW9uLWVycm9yLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLm5vblJlY292ZXJhYmxlU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvck1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uT2tDbGlja09mTm9uUmVjb3ZlcmFibGVFcnJvck1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICBpZD0nbm9uUmVjb3ZlcmFibGVTYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JNZXNzZ2UnXHJcbiAgICAgICAgICAgICAgICBrZXk9J3NhdmVNYXJrc0FuZEFubm90YXRpb25zRXJyb3JNZXNzZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5BbGxQYWdlTm90QW5ub3RhdGVkfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBncmFjZVBlcmlvZFJlc3BvbnNlVW5tYXJrZWREaWFsb2cgPSB0aGlzLnN0YXRlXHJcbiAgICAgICAgICAgIC5pc0Rpc3BsYXlpbmdHcmFjZVJlc3BvbnNlTGVzc3RoYW4xMDBQZXJjZW50YWdlRXJyb3IgPyB0aGlzLl9mYWlsdXJlUmVhc29uID09PVxyXG4gICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VOYXZpZ2F0ZUZhaWx1cmVSZWFzb24uTWFya3NNaXNzaW5nSW5HcmFjZVBlcmlvZFJlc3BvbnNlID8gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zYXZpbmctbWFya3MtZXJyb3ItZGlhbG9nLmJvZHktY2Fubm90LWxlYXZlLXJlc3BvbnNlLXBhcnRpYWxseS1tYXJrZWQtaW4tZ3JhY2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLmxlYXZpbmctcmVzcG9uc2Utd2FybmluZy1kaWFsb2cuaGVhZGVyJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5pc0Rpc3BsYXlpbmdHcmFjZVJlc3BvbnNlTGVzc3RoYW4xMDBQZXJjZW50YWdlRXJyb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5lcnJvci1kaWFsb2cub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tPZlJlc3BvbnNlSW5HcmFjZU1lc3NhZ2UuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3Jlc3BvbnNlSW5HcmFjZU1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0ncmVzcG9uc2VJbkdyYWNlTWVzc2FnZU1lc3NnZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuR3JhY2VQZXJpb2RXYXJuaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zYXZpbmctbWFya3MtZXJyb3ItZGlhbG9nLmJvZHktbXVzdC1hbm5vdGF0ZS1hbGwtcGFnZXMtaW4tZ3JhY2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLnNhdmluZy1tYXJrcy1lcnJvci1kaWFsb2cuaGVhZGVyLW11c3QtYW5ub3RhdGUtYWxsLXBhZ2VzLWluLWdyYWNlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuaXNEaXNwbGF5aW5nR3JhY2VSZXNwb25zZUxlc3N0aGFuMTAwUGVyY2VudGFnZUVycm9yfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25Pa0NsaWNrT2ZSZXNwb25zZUluR3JhY2VNZXNzYWdlLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdyZXNwb25zZUluR3JhY2VNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9J3Jlc3BvbnNlSW5HcmFjZU1lc3NhZ2VNZXNzZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgZ3JhY2VQZXJpb2RFeHBpcmVkRXJyb3JEaWFsb2cgPSB0aGlzLnN0YXRlLmlzRGlzcGxheWluZ0dyYWNlUmVzcG9uc2VFeHBpcmVkRXJyb3IgPyAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLmdldEdyYWNlUGVyaW9kRXhwaXJlZE1lc3NhZ2VCb2R5KCl9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2Uuc2F2aW5nLW1hcmtzLWVycm9yLWRpYWxvZy5oZWFkZXItZ3JhY2UtcGVyaW9kLWV4cGlyZWQnXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzRGlzcGxheWluZ0dyYWNlUmVzcG9uc2VFeHBpcmVkRXJyb3J9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uT2tDbGlja09mUmVzcG9uc2VJbkdyYWNlRXhwaXJlZE1lc3NhZ2VPclJlc3BvbnNlUmVtb3ZlZE1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICBpZD0ncmVzcG9uc2VJbkdyYWNlTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIGtleT0ncmVzcG9uc2VJbkdyYWNlTWVzc2FnZU1lc3NnZSdcclxuICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCByZXNwb25zZVJlbW92ZWRFcnJvckRpYWxvZyA9IHRoaXMuc3RhdGUuaXNEaXNwbGF5aW5nUmVzcG9uc2VSZW1vdmVkRXJyb3IgPyAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLmdldFJlc3BvbnNlUmVtb3ZlZEVycm9yRGlhbG9nTWVzc2FnZUJvZHkoKX1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zYXZpbmctbWFya3MtZXJyb3ItZGlhbG9nLmhlYWRlci1yZXNwb25zZS1yZW1vdmVkLWZyb20td29ya2xpc3QnXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzRGlzcGxheWluZ1Jlc3BvbnNlUmVtb3ZlZEVycm9yfVxyXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5vay1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tPZlJlc3BvbnNlSW5HcmFjZUV4cGlyZWRNZXNzYWdlT3JSZXNwb25zZVJlbW92ZWRNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgaWQ9J3Jlc3BvbnNlLXJlbW92ZWQtZXJyb3ItbWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIGtleT0na2V5LXJlc3BvbnNlLXJlbW92ZWQtZXJyb3ItbWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBjb25maXJtYXRpb25EaWFsb2dDb250ZW50OiBzdHJpbmc7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZE1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nQ29udGVudCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5kaXNjYXJkLW1lc3NhZ2UtZGlhbG9nLmJvZHktZGlzY2FyZCdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZE1lc3NhZ2VOYXZpZ2F0ZUF3YXkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucG9wVXBEYXRhLnBvcHVwQ29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nQ29udGVudCA9IHRoaXMucG9wVXBEYXRhLnBvcHVwQ29udGVudDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbkRpYWxvZ0NvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLmRpc2NhcmQtbWVzc2FnZS1kaWFsb2cuYm9keS1uYXZpZ2F0ZWQtYXdheSdcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25maXJtYXRpb25EaWFsb2dDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLmRpc2NhcmQtbWVzc2FnZS1kaWFsb2cuYm9keS1zdGFydC1uZXctbWVzc2FnZS13aGlsZS1jb21wb3NpbmcnXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZGlzY2FyZE1lc3NhZ2VEaWFsb2cgPVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRNZXNzYWdlIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRNZXNzYWdlTmF2aWdhdGVBd2F5IHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRPbk5ld01lc3NhZ2VCdXR0b25DbGljayA/IChcclxuICAgICAgICAgICAgICAgICAgICA8Q29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3BVcERhdGEucG9wdXBDb250ZW50ID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9wVXBEYXRhLnBvcHVwQ29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nQ29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5kaXNjYXJkLW1lc3NhZ2UtZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NoZWNrQm94VmlzaWJsZT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLmRpc2NhcmQtbWVzc2FnZS1kaWFsb2cubm8tYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZXNCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UuZGlzY2FyZC1tZXNzYWdlLWRpYWxvZy55ZXMtYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblllc0NsaWNrPXt0aGlzLmhhbmRsZVBvcFVwQWN0aW9uLmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuWWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTm9DbGljaz17dGhpcy5oYW5kbGVQb3BVcEFjdGlvbi5iaW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUG9wVXBBY3Rpb25UeXBlLk5vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5NZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgY29uZmlybWF0aW9uSGVhZGVyQ29udGVudDogc3RyaW5nO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUucG9wVXBUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRNZXNzYWdlT25OZXdFeGNlcHRpb246XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRNZXNzYWdlT25WaWV3RXhjZXB0aW9uQnV0dG9uQ2xpY2s6XHJcbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25IZWFkZXJDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5kaXNjYXJkLW1lc3NhZ2UtZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZEV4Y2VwdGlvbk5hdmlnYXRlQXdheTpcclxuICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbkhlYWRlckNvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLmRpc2NhcmQtZXhjZXB0aW9uLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nQ29udGVudCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2UuZGlzY2FyZC1leGNlcHRpb24tZGlhbG9nLmJvZHktbmF2aWdhdGUtYXdheSdcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5Qb3BVcFR5cGUuQ2xvc2VFeGNlcHRpb246XHJcbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25IZWFkZXJDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5jbG9zZS1leGNlcHRpb24tZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbkhlYWRlckNvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLmRpc2NhcmQtZXhjZXB0aW9uLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nQ29udGVudCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2UuZGlzY2FyZC1leGNlcHRpb24tZGlhbG9nLmJvZHktcmFpc2UtbmV3J1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGRpc2NhcmRFeGNlcHRpb25EaWFsb2cgPVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRFeGNlcHRpb24gfHxcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZEV4Y2VwdGlvbk5hdmlnYXRlQXdheSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5EaXNjYXJkT25OZXdFeGNlcHRpb25CdXR0b25DbGljayB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5EaXNjYXJkTWVzc2FnZU9uVmlld0V4Y2VwdGlvbkJ1dHRvbkNsaWNrIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRFeGNlcHRpb25PblZpZXdFeGNlcHRpb25CdXR0b25DbGljayB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5EaXNjYXJkRXhjZXB0aW9uT25WaWV3TWVzc2FnZSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5EaXNjYXJkTWVzc2FnZU9uTmV3RXhjZXB0aW9uIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRFeGNlcHRpb25Pbk5ld01lc3NhZ2UgfHxcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuQ2xvc2VFeGNlcHRpb24gPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgPENvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9wVXBEYXRhLnBvcHVwQ29udGVudCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcFVwRGF0YS5wb3B1cENvbnRlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbkRpYWxvZ0NvbnRlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtjb25maXJtYXRpb25IZWFkZXJDb250ZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9CdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2UuZGlzY2FyZC1leGNlcHRpb24tZGlhbG9nLm5vLWJ1dHRvbidcclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeWVzQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLmRpc2NhcmQtZXhjZXB0aW9uLWRpYWxvZy55ZXMtYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblllc0NsaWNrPXt0aGlzLmhhbmRsZVBvcFVwQWN0aW9uLmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuWWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTm9DbGljaz17dGhpcy5oYW5kbGVQb3BVcEFjdGlvbi5iaW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUG9wVXBBY3Rpb25UeXBlLk5vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5FeGNlcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBtYW5kYXRvcnlNZXNzYWdlRGlhbG9nID1cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5NYW5kYXRvcnlNZXNzYWdlID8gKFxyXG4gICAgICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLm1hbmRhdG9yeS1tZXNzYWdlLWRpYWxvZy5ib2R5J1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLm1hbmRhdG9yeS1tZXNzYWdlLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuZXJpYy5lcnJvci1kaWFsb2cub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLmhhbmRsZVBvcFVwQWN0aW9uLmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuT2tcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGlkPSdpZF9tYW5kYXRvcnlfbWVzc2FnZV9kaWFsb2cnXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PSdrZXlfbWFuZGF0b3J5X21lc3NhZ2VfZGlhbG9nJ1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgbGV0IHdpdGhkcmF3RXJyb3JEaWFsb2cgPSB0aGlzLnN0YXRlLmlzV2l0aGRyYXduUmVzcG9uc2VFcnJvciA/IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuZ2V0V2l0aGRyYXduUmVzcG9uc2VFcnJvck1lc3NhZ2UoKX1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1hbGxvY2F0aW9uLWVycm9yLWRpYWxvZy5yZXNwb25zZS1hbGxvY2F0aW9uLWVycm9yLWhlYWRlci13aXRoZHJhd25NYXJrZXInXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzV2l0aGRyYXduUmVzcG9uc2VFcnJvcn1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5lcnJvci1kaWFsb2cub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25Pa0NsaWNrT2ZXaXRoRHJhd0Vycm9yTWVzc2FnZS5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgaWQ9J3dpdGhkcmF3UmVzcG9uc2VNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAga2V5PSd3aXRoZHJhd1Jlc3BvbnNlTWVzc2FnZU1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5ub25lfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICkgOiBudWxsO1xyXG4gICAgICAgIGxldCBzZXNzaW9uQ2xvc2VkRXJyb3JEaWxhb2cgPSB0aGlzLnN0YXRlLmlzUWlnc2Vzc2lvbkNsb3NlZEVycm9yID8gKFxyXG4gICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17dGhpcy5nZXRTZXNzaW9uQ2xvc2VkRXJyb3JNZXNzYWdlKCl9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucmVxdWVzdC1tYXJraW5nLWNoZWNrLWVycm9yLWRpYWxvZy5oZWFkZXItc2Vzc2lvbi1jbG9zZWQnXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzUWlnc2Vzc2lvbkNsb3NlZEVycm9yfVxyXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5vay1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tPZldpdGhEcmF3RXJyb3JNZXNzYWdlLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBpZD0nc2Vzc2lvbkNsb3NlZFJlc3BvbnNlTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIGtleT0nc2Vzc2lvbkNsb3NlZFJlc3BvbnNlTWVzc2FnZU1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5ub25lfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICkgOiBudWxsO1xyXG4gICAgICAgIGxldCByZXNwb25zZVNlYXJjaEZhaWxlZEVycm9yRGlhbG9nID0gdGhpcy5zdGF0ZS5pc1Jlc3BvbnNlU2VhcmNoRmFpbGVkID8gKFxyXG4gICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17dGhpcy5nZXRSZXNwb25zZVNlYXJjaEZhaWxlZEVycm9yTWVzc2FnZSgpfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5oZWFkZXInKX1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5pc1Jlc3BvbnNlU2VhcmNoRmFpbGVkfVxyXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5vay1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tPZlJlc3BvbnNlU2VhcmNoRmFpbGVkRXJyb3JNZXNzYWdlLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBpZD0ncmVtb3ZlZFJlc3BvbnNlTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIGtleT0ncmVtb3ZlZFJlc3BvbnNlTWVzc2FnZU1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5ub25lfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgYXBwbGljYXRpb25PZmZMaW5lRXJyb3JNZXNzYWdlID0gdGhpcy5zdGF0ZS5pc0FwcGxpY2F0aW9uT2ZmbGluZSA/IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMub2ZmbGluZUVycm9yTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5vZmZsaW5lLWRpYWxvZy5oZWFkZXInKX1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5pc0FwcGxpY2F0aW9uT2ZmbGluZX1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5lcnJvci1kaWFsb2cub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25BcHBsaWNhdGlvbkVycm9yTWVzc2FnZVBvcFVwQ2xpY2tlZC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgaWQ9J29mZmxpbmVFcnJvck1lc3NnZSdcclxuICAgICAgICAgICAgICAgIGtleT0nb2ZmbGluZUVycm9yTWVzc2dlJ1xyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuT2ZmTGluZVdhcm5pbmd9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBpZGxlVGltZXIgPSB0aGlzLnN0YXRlLmlzT25saW5lID8gKFxyXG4gICAgICAgICAgICA8SWRsZVRpbWVyXHJcbiAgICAgICAgICAgICAgICBpZGxlQWN0aW9uPXt0aGlzLm9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbkF1dG9Mb2dvdXR9XHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0PXt0aGlzLl9pZGxlVGltZU91dH1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgbGV0IG5vTWFya2luZ0NoZWNrQXZhaWxhYmxlTWVzc2FnZSA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuTm9NYXJraW5nQ2hlY2tSZXF1ZXN0UG9zc2libGUgPyAoXHJcbiAgICAgICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlcXVlc3QtbWFya2luZy1jaGVjay1lcnJvci1kaWFsb2cuYm9keS1uby1leGFtaW5lcnMtYXZhaWxhYmxlJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5yZXF1ZXN0LW1hcmtpbmctY2hlY2stZXJyb3ItZGlhbG9nLmhlYWRlci1uby1leGFtaW5lcnMtYXZhaWxhYmxlJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmRvU2hvd05vTWFya2luZ0NoZWNrQXZhaWxhYmxlTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuY2hhbmdlLXN0YXR1cy5vay1idXR0b24nXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMuaGFuZGxlUG9wVXBBY3Rpb24uYmluZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlBvcFVwQWN0aW9uVHlwZS5Pa1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9J2lkX25vX21hcmtpbmdfY2hlY2tfbWVzc2FnZSdcclxuICAgICAgICAgICAgICAgICAgICBrZXk9J2tleV9ub19tYXJraW5nX2NoZWNrX21lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUubm9uZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgbWFya2luZ0NoZWNrQ29tcGxldGVDb25maXJtYXRpb25Qb3B1cCA9IHRoaXMuc3RhdGVcclxuICAgICAgICAgICAgLmlzTWFya2luZ0NoZWNrQ29tcGxldGVDb25maXJtYXRpb25Qb3B1cERpc3BsYXlpbmcgPyAoXHJcbiAgICAgICAgICAgICAgICA8Q29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnBlcmZvcm0tbWFya2luZy1jaGVjay1jb25maXJtYXRpb24tZGlhbG9nLmJvZHknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd7MH0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkTWFya2luZ0NoZWNrRXhhbWluZXIudG9FeGFtaW5lci5mdWxsTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucGVyZm9ybS1tYXJraW5nLWNoZWNrLWNvbmZpcm1hdGlvbi1kaWFsb2cuaGVhZGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBub0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdnZW5lcmljLnVzZXItbWVudS5wcm9maWxlLXNlY3Rpb24uY2FuY2VsLWVtYWlsLWJ1dHRvbidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIHllc0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuY2hhbmdlLXN0YXR1cy5vay1idXR0b24nXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBvblllc0NsaWNrPXt0aGlzLk9uT2tDbGlja09mTWFya2luZ0NoZWNrQ29tcGxldGVDb25maXJtYXRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgb25Ob0NsaWNrPXt0aGlzLk9uQ2FuY2VsQ2xpY2tPZk1hcmtpbmdDaGVja0NvbXBsZXRlQ29uZmlybWF0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5Db21wbGV0ZU1hcmtpbmdDaGVja31cclxuICAgICAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgbGV0IHdhcm5pbmdNZXNzYWdlUG9wdXAgPSAoXHJcbiAgICAgICAgICAgIDxXYXJuaW5nTWVzc2FnZVBvcHVwXHJcbiAgICAgICAgICAgICAgICBpZD0naWRfd2FybmluZ19tZXNzYWdlX3BvcHVwJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdrZXlfd2FybmluZ19tZXNzYWdlX3BvcHVwJ1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmNoYW5nZS1zdGF0dXMub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBsZXQgc3VibWl0RXJyb3JQb3B1cCA9IHRoaXMuc3RhdGUuaXNTdWJtaXRFcnJvclBvcERpc3BsYXlpbmcgPyAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0TWVzc2FnZUVycm9yUG9wdXBDb250ZW50Lm1lc3NhZ2VDb250ZW50XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0TWVzc2FnZUVycm9yUG9wdXBDb250ZW50Lm1lc3NhZ2VIZWFkZXJcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuaXNTdWJtaXRFcnJvclBvcERpc3BsYXlpbmd9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uU3VibWl0UmVzcG9uc2VFcnJvclBvcHVwT2tDbGlja31cclxuICAgICAgICAgICAgICAgIGlkPSdzdWJtaXRFcnJvck1lc3NnZSdcclxuICAgICAgICAgICAgICAgIGtleT0nc3VibWl0RXJyb3JNZXNzZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5TdWJtaXRSZXNwb25zZUVycm9yfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICAvL1BvcCB1cCBmb3IgZGlzcGxheWluZyB3YXJuaW5nIG1lc3NhZ2Ugb24gb3BlbmluZyBhIFFJRyBpbiBhbiBhdXRvem9uZWQgcXVlc3Rpb24gcGFwZXJcclxuICAgICAgICBsZXQgYXV0b3pvbmVkV2FybmluZ01lc3NhZ2UgPSB0aGlzLnN0YXRlLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwRGlzcGxheWluZyA/IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuYXV0b3pvbmVkLXdhcm5pbmctZGlhbG9nLmJvZHknXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LmF1dG96b25lZC13YXJuaW5nLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwRGlzcGxheWluZ31cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5hdXRvem9uZWQtd2FybmluZy1kaWFsb2cub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbkF1dG96b25lZFdhcm5pbmdNZXNzYWdlT2tDbGlja31cclxuICAgICAgICAgICAgICAgIGlkPSdpZF9hdXRvem9uZWRXYXJuaW5nTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIGtleT0na2V5X2F1dG96b25lZFdhcm5pbmdNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUubm9uZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgLy8gcG9wdXAgd2hlbiBjbGlja2VkIG9uIHRoZSBzZWxlY3QgcmVzcG9uc2VzIGluIFN0ZCBzZXR1cCAtIHNlbGVjdCB0byBtYXJrIGJ1dHRvblxyXG4gICAgICAgIGxldCBzZWxlY3R0b01hcmtQcm92aXNpb25hbERpYWxvZyA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuU2VsZWN0VG9NYXJrQXNQcm92aXNpb25hbCA/IChcclxuICAgICAgICAgICAgICAgIDxNdWx0aU9wdGlvbkNvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuZ2V0U2VsZWN0VG9NYXJrUHJvdmlzaW9uYWxQb3B1cENvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1oZWFkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DYW5jZWxDbGljaz17dGhpcy5vbkNhbmNlbENsaWNrT2ZTZWxlY3RSZXNwb25zZVRvTWFya2FzUHJvdmlzaW9uYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5zZWxlY3RQcm92aXNpb25hbE1hcmtOb3dDbGlja31cclxuICAgICAgICAgICAgICAgICAgICBvbk5vQ2xpY2s9e3RoaXMuc2VsZWN0UHJvdmlzaW9uYWxNYXJrTGF0ZXJDbGlja31cclxuICAgICAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwU2l6ZT17ZW51bXMuUG9wdXBTaXplLk1lZGl1bX1cclxuICAgICAgICAgICAgICAgICAgICBwb3B1cFR5cGU9e2VudW1zLlBvcFVwVHlwZS5TZWxlY3RUb01hcmtBc1Byb3Zpc2lvbmFsfVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNhbmNlbFRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2VsZWN0LXJlc3BvbnNlLnNlbGVjdC10by1tYXJrLXBvcHVwLWJ1dHRvbjEnXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBidXR0b25Ob1RleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2VsZWN0LXJlc3BvbnNlLnNlbGVjdC10by1tYXJrLXBvcHVwLWJ1dHRvbjInXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBidXR0b25ZZXNUZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1idXR0b24zJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5vQnV0dG9uPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBjb21wbGV0ZVN0YW5kYXJkaXNhdGlvblBvcHVwID1cclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5pc0NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uICYmICF0aGlzLnN0YXRlLmlzQ29tcGxldGVTdGFuZGFyZGlzYXRpb24gPyAoXHJcbiAgICAgICAgICAgICAgICA8Q29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5sZWZ0LXBhbmVsLmNvbXBsZXRlLXN0YW5kYXJkaXNhdGlvbi1wb3B1cC1ib2R5J1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLmxlZnQtcGFuZWwuY29tcGxldGUtc3RhbmRhcmRpc2F0aW9uLXBvcHVwLWhlYWRlcidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICBpc0NoZWNrQm94VmlzaWJsZT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgbm9CdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmxvZ291dC1kaWFsb2cubm8tYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgeWVzQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbmVyaWMubG9nb3V0LWRpYWxvZy55ZXMtYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5Pbk9rQ2xpY2tPZkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uQ29uZmlybWF0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIG9uTm9DbGljaz17dGhpcy5PbkNhbmNlbENsaWNrT2ZDb21wbGV0ZVN0YW5kYXJkaXNhdGlvbkNvbmZpcm1hdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICBkaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUubm9uZX1cclxuICAgICAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgbGV0IGNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uU2V0dXBQb3B1cCA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuQ29tcGxldGVTdGFuZGFyZGlzYXRpb25WYWxpZGF0ZSA/IChcclxuICAgICAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5sZWZ0LXBhbmVsLmNvbXBsZXRlLXN0YW5kYXJkaXNhdGlvbi12YWxpZGF0ZS1ib2R5J1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLmxlZnQtcGFuZWwuY29tcGxldGUtc3RhbmRhcmRpc2F0aW9uLXZhbGlkYXRlLWhlYWRlcidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5Db21wbGV0ZVN0YW5kYXJkaXNhdGlvblZhbGlkYXRlID8gdHJ1ZSA6IGZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuYXV0b3pvbmVkLXdhcm5pbmctZGlhbG9nLm9rLWJ1dHRvbidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tvZlN0YW5kYXJkaXNhdGlvblNldHVwVmFsaWRhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9J2lkX3N0YW5kYXJkaXNhdGlvbnNldHVwdmFsaWRhdGUnXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PSdrZXlfYXV0b3pvbmVkV2FybmluZ01lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUubm9uZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgbWFya0FzRGVmaW5pdGl2ZURpYWxvZyA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuTWFya0FzRGVmaW5pdGl2ZSA/IChcclxuICAgICAgICAgICAgICAgIDxNdWx0aU9wdGlvbkNvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuZ2V0TWFya0FzRGVmaW5pdGl2ZVBvcHVwQ29udGVudH1cclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAubWFyay1hcy1kZWZpbml0aXZlLm1hcmstYXMtZGVmaW5pdGl2ZS1wb3B1cC1oZWFkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DYW5jZWxDbGljaz17dGhpcy5vbkNhbmNlbENsaWNrT25NYXJrQXNEZWZpbml0aXZlUG9wVXB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5zdWJtaXRDbGlja09uTWFya0FzRGVmaW5pdGl2ZVBvcFVwfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBTaXplPXtlbnVtcy5Qb3B1cFNpemUuTWVkaXVtfVxyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwVHlwZT17ZW51bXMuUG9wVXBUeXBlLk1hcmtBc0RlZmluaXRpdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2FuY2VsVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zZWxlY3QtcmVzcG9uc2Uuc2VsZWN0LXRvLW1hcmstcG9wdXAtYnV0dG9uMSdcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvblllc1RleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAubWFyay1hcy1kZWZpbml0aXZlLm1hcmstYXMtZGVmaW5pdGl2ZS1wb3B1cC1zdWJtaXQtYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5vQnV0dG9uPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgaGVhZGVyID0gdGhpcy5pc1VuY2xhc3NpZmllZFdvcmtsaXN0U2VsZWN0ZWQoKSA/XHJcbiAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LmNsYXNzaWZ5LW11bHRpb3B0aW9uLXBvcHVwLmhlYWRlcicgOlxyXG4gICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZWNsYXNzaWZ5LW11bHRpb3B0aW9uLXBvcHVwLmhlYWRlcic7XHJcblxyXG4gICAgICAgIGxldCByZXVzZXBvcHVwSGVhZGVyID0gJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5oZWFkZXInO1xyXG5cclxuICAgICAgICBsZXQgcmV1c2VSaWdBY3Rpb25NdWx0aU9wdGlvbkRpYWxvZyA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuUmV1c2VSaWdBY3Rpb24gPyAoXHJcbiAgICAgICAgICAgICAgICA8TXVsdGlPcHRpb25Db25maXJtYXRpb25EaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLmdldFJlVXNlQWN0aW9uTXVsdGlPcHRpb25Qb3B1cENvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KHJldXNlcG9wdXBIZWFkZXIpfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICBpc0NsYXNzaWZ5UmVzcG9uc2VPa0J1dHRvbkRpc2FibGVkPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbENsaWNrPXt0aGlzLm9uQ2FuY2VsQ2xpY2tPZlJldXNlUmlnUG9wdXB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5vbk9LQ2xpY2tPZlJldXNlUmlncG9wdXB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNLZXlCb2FyZFN1cHBvcnRFbmFibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICBwb3B1cFNpemU9e2VudW1zLlBvcHVwU2l6ZS5NZWRpdW19XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBUeXBlPXtlbnVtcy5Qb3BVcFR5cGUuUmV1c2VSaWdBY3Rpb259XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2FuY2VsVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5jYW5jZWwtYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uWWVzVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5vay1idXR0b24nXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Tm9CdXR0b249e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT0na2V5X3JldXNlUmlnQWN0aW9uTXVsdGlPcHRpb25EaWFsb2cnXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApIDogbnVsbDtcclxuICAgICAgICAvLyBQb3B1cCB3aGVuIGNsaWNrZWQgb24gdW5jbGFzc2lmaWVkIHdvcmtsc2l0ICdjbGFzc2lmeScgb3IgY2xhc3NpZmllZCB3b3JrbHNpdCAncmVjbGFzc2lmeScgb2YgYSByZXNwb25zZVxyXG4gICAgICAgIGxldCByZWNsYXNzaWZ5UmVzcG9uc2VNdWx0aU9wdGlvbkRpYWxvZyA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuUmVjbGFzc2lmeU11bHRpT3B0aW9uID8gKFxyXG4gICAgICAgICAgICAgICAgPE11bHRpT3B0aW9uQ29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudD17dGhpcy5nZXRSZWNsYXNzaWZpY2F0aW9uTXVsdGlPcHRpb25Qb3B1cENvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KGhlYWRlcil9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2xhc3NpZnlSZXNwb25zZU9rQnV0dG9uRGlzYWJsZWQ9e3RoaXMuaXNVbmNsYXNzaWZpZWRXb3JrbGlzdFNlbGVjdGVkKCkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2xhc3NpZnlSZXNwb25zZU9rQnV0dG9uRGlzYWJsZWQgOiBmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbENsaWNrPXt0aGlzLm9uQ2FuY2VsQ2xpY2tPZlJlY2xhc3NpZnlNdWx0aU9wdGlvblBvcFVwfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uWWVzQ2xpY2s9e3RoaXMub25SZWNsYXNzaWZ5UmVzcG9uc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNLZXlCb2FyZFN1cHBvcnRFbmFibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICBwb3B1cFNpemU9e2VudW1zLlBvcHVwU2l6ZS5NZWRpdW19XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBUeXBlPXtlbnVtcy5Qb3BVcFR5cGUuUmVjbGFzc2lmeU11bHRpT3B0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNhbmNlbFRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnJlY2xhc3NpZnktbXVsdGlvcHRpb24tcG9wdXAuY2FuY2VsLWJ1dHRvbidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvblllc1RleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnJlY2xhc3NpZnktbXVsdGlvcHRpb24tcG9wdXAub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5vQnV0dG9uPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBrZXk9J2tleV9yZWNsYXNzaWZ5UmVzcG9uc2VNdWx0aU9wdGlvbkRpYWxvZydcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICAvLyBQb3B1cCBEaWFsb2cgdG8gbm90aWZ5IHVzZXIgYWJvdmUgcmVjbGFzc2lmeSBmYWlsdXJlLlxyXG4gICAgICAgIGxldCByZWNsYXNzaWZ5RXJyb3JQb3B1cERpYWxvZyA9XHJcbiAgICAgICAgICAgICh0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLlJlY2xhc3NpZnlFcnJvciA/XHJcblxyXG4gICAgICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLmdldFJlY2xhc3NpZnlFcnJvclBvcHVwQ29udGVudCgpfVxyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpTGluZUNvbnRlbnQ9e251bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZWNsYXNzaWZ5ZXJyb3ItcG9wdXAuaGVhZGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5Q29udGVudD17bnVsbH1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5vay1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25SZWNsYXNzaWZ5RXJyb3JNZXNzYWdlT2tDbGlja31cclxuICAgICAgICAgICAgICAgICAgICBpZD0ncmVjbGFzc2lmeUVycm9yJ1xyXG4gICAgICAgICAgICAgICAgICAgIGtleT0ncmVjbGFzc2lmeUVycm9yTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5SZWNsYXNzaWZ5RXJyb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyQ29udGVudD17bnVsbH1cclxuICAgICAgICAgICAgICAgIC8+IDogbnVsbFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBQb3B1cCBEaWFsb2cgdG8gbm90aWZ5IHVzZXIgYWJvdmUgY29uY3VycmVudCBzYXZlIGZhaWwuXHJcbiAgICAgICAgbGV0IGNvbmN1cnJlbnRTYXZlRmFpbFBvcHVwID1cclxuICAgICAgICAgICAgKHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuQ29uY3VycmVudFNhdmVGYWlsID9cclxuICAgICAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudD17dGhpcy5jbGFzc2lmeU9yUmVjbGFzc2lmeVNhdmVGYWlsUG9wVXBDb250ZW50fVxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QuY29uY3VycmVudC1lc21hcmtpbmdtb2RlLXNhdmUtZmFpbC1wb3B1cC5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlDb250ZW50PXtudWxsfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LmNvbmN1cnJlbnQtZXNtYXJraW5nbW9kZS1zYXZlLWZhaWwtcG9wdXAub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uQ29uY3VycmVudFNhdmVGYWlsUG9wdXBPa0NsaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgIGlkPSdjb25jdXJyZW50U2F2ZUZhaWxFcnJvcidcclxuICAgICAgICAgICAgICAgICAgICBrZXk9J2NvbmN1cnJlbnRTYXZlRmFpbEVycm9yTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5Db25jdXJyZW50U2F2ZUZhaWx9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyQ29udGVudD17bnVsbH1cclxuICAgICAgICAgICAgICAgIC8+IDogbnVsbFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBQb3B1cCBkaWFsb2cgdG8gbm90aWZ5IHVzZXIgdGhhdCB0aGUgY3VycmVudCByZXNwb25zZSBoYXMgYWxyZWFkeSBiZWVuIGRpc2NhcmRlZC5cclxuICAgICAgICBsZXQgZGlzY2FyZFJlc3BvbnNlRmFpbFBvcHVwID1cclxuICAgICAgICAgICAgKHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZFJlc3BvbnNlRmFpbCA/XHJcbiAgICAgICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuZGlzY2FyZFJlc3BvbnNlRmFpbFBvcFVwQ29udGVudH1cclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnJlc3BvbnNlLWFscmVhZHktZGlzY2FyZGVkLXBvcHVwLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeUNvbnRlbnQ9e251bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QucmVzcG9uc2UtYWxyZWFkeS1kaXNjYXJkZWQtcG9wdXAub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uRGlzY2FyZFJlc3BvbnNlRmFpbFBvcHVwT2tDbGlja31cclxuICAgICAgICAgICAgICAgICAgICBpZD0nZGlzY2FyZFJlc3BvbnNlRmFpbEVycm9yJ1xyXG4gICAgICAgICAgICAgICAgICAgIGtleT0nY29uY3VycmVudFNhdmVGYWlsRXJyb3JNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLkRpc2NhcmRSZXNwb25zZX1cclxuICAgICAgICAgICAgICAgICAgICBmb290ZXJDb250ZW50PXtudWxsfVxyXG4gICAgICAgICAgICAgICAgLz4gOiBudWxsXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIFBvcHVwIERpYWxvZyB0byBub3RpZnkgdXNlciBhYm92ZSBjb25jdXJyZW50IHNhdmUgZmFpbC5cclxuICAgICAgICBsZXQgdW5DbGFzc2lmaWVkU2NyaXB0aW5TdG1VbmF2YWlsYWJsZVBvcHVwID1cclxuICAgICAgICAgICAgKHRoaXMuc3RhdGUudW5DbGFzc2lmaWVkU2NyaXB0aW5TdG1VbmF2YWlsYWJsZVZpc2libGUgPT09IHRydWUgP1xyXG4gICAgICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50PXtzdHJpbmdIZWxwZXIuZm9ybWF0KGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCdzdGFuZGFyZGlzYXRpb24tc2V0dXAudW5jbGFzc2lmaWVkLXNjcmlwdC11bmF2YWlsYWJsZS1wb3B1cC5jb250ZW50JyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyZXNwb25zZVN0b3JlLmluc3RhbmNlLnNlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKCldKX1cclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC51bmNsYXNzaWZpZWQtc2NyaXB0LXVuYXZhaWxhYmxlLXBvcHVwLmhlYWRlcicpfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeUNvbnRlbnQ9e251bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnVuY2xhc3NpZmllZC1zY3JpcHQtdW5hdmFpbGFibGUtcG9wdXAub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9rQ2xpY2tPblVuYXZhaWxhYmxlUG9wVXB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLnVuQ2xhc3NpZmllZFNjcmlwdGluU3RtVW5hdmFpbGFibGVWaXNpYmxlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlkPSd1bmNsYXNzaWZpZWRzY3JpcHR1bmF2YWlsYWJsZSdcclxuICAgICAgICAgICAgICAgICAgICBrZXk9J3VuY2xhc3NpZmllZHNjcmlwdHVuYXZhaWxhYmxlS2V5J1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyQ29udGVudD17bnVsbH0gLz4gOiBudWxsXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCByaWdOb3RGb3VuZERpYWxvZyA9IHRoaXMuc3RhdGUuc2hvd1JpZ05vdEZvdW5kUG9wVXAgPyAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzZWFyY2gtcmVzcG9uc2Uuc2VhcmNoLXJpZy1ub3QtZm91bmQtY29udGVudCcpfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzZWFyY2gtcmVzcG9uc2Uuc2VhcmNoLXJpZy1ub3QtZm91bmQtdGl0bGUnKX1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5zaG93UmlnTm90Rm91bmRQb3BVcH1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5lcnJvci1kaWFsb2cub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25SaWdOb3RGb3VuZE9rQ2xpY2t9XHJcbiAgICAgICAgICAgICAgICBpZD0ncmlnTm90Rm91bmRQb3B1cCdcclxuICAgICAgICAgICAgICAgIGtleT0ncmlnTm90Rm91bmRQb3B1cCdcclxuICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBzYXZlRW1haWxNZXNzYWdlID0gc3RyaW5nSGVscGVyLmZvcm1hdChcclxuICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy51c2VyLW1lbnUuZW1haWwtYWRkcmVzcy1zYXZlZC1kaWFsb2cuYm9keScpLFxyXG4gICAgICAgICAgICBbU3RyaW5nKFN0cmluZy5mcm9tQ2hhckNvZGUoMTc5KSldKTtcclxuICAgICAgICBsZXQgZW1haWxTYXZlTWVzc2FnZSA9IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2cgY29udGVudD17c2F2ZUVtYWlsTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy51c2VyLW1lbnUuZW1haWwtYWRkcmVzcy1zYXZlZC1kaWFsb2cuaGVhZGVyJyl9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuaXNTYXZlRW1haWxNZXNzYWdlRGlzcGxheWluZ31cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1hbGxvY2F0aW9uLWVycm9yLWRpYWxvZy5vay1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tPZkVtYWlsU3VjZXNzTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIGlkPSdlbWFpbFNhdmVNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdlbWFpbFNhdmVNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuUmVzcG9uc2VBbGxvY2F0aW9uRXJyb3J9IC8+XHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgc2hhcmVSZXNwb25zZVBvcHVwID1cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc1NoYXJlUmVzcG9uc2VQb3B1cERpc3BsYXlpbmdGb3JQRSB8fCB0aGlzLnN0YXRlLmlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZyA/IChcclxuICAgICAgICAgICAgICAgIDxNdWx0aU9wdGlvbkNvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuc3RhdGUuaXNTaGFyZVJlc3BvbnNlUG9wdXBEaXNwbGF5aW5nRm9yUEUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFNoYXJlUmVzcG9uc2VQb3B1cENvbnRlbnRGb3JQRSA6IHRoaXMuZ2V0U2hhcmVSZXNwb25zZVBvcHVwQ29udGVudCgpfVxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3Quc2hhcmUtcmVzcG9uc2UtcG9wdXAuaGVhZGVyJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsQ2xpY2s9e3RoaXMuc2hhcmVSZXNwb25zZVBvcHVwQ2xvc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5zaGFyZVJlc3BvbnNlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uTm9DbGljaz17bnVsbH1cclxuICAgICAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwU2l6ZT17ZW51bXMuUG9wdXBTaXplLk1lZGl1bX1cclxuICAgICAgICAgICAgICAgICAgICBwb3B1cFR5cGU9e2VudW1zLlBvcFVwVHlwZS5TaGFyZVJlc3BvbnNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNhbmNlbFRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLmNhbmNlbC1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgICAgICBidXR0b25ZZXNUZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuVHJhbnNsYXRlVGV4dCgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5zaGFyZS1yZXNwb25zZS1wb3B1cC5zaGFyZS1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgICAgICBidXR0b25Ob1RleHQ9e251bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5vQnV0dG9uPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIC8+KSA6IG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICB7c2VsZWN0dG9NYXJrUHJvdmlzaW9uYWxEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7bWFya0FzRGVmaW5pdGl2ZURpYWxvZ31cclxuICAgICAgICAgICAgICAgIHtjb21wbGV0ZVN0YW5kYXJkaXNhdGlvblBvcHVwfVxyXG4gICAgICAgICAgICAgICAge2NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uU2V0dXBQb3B1cH1cclxuICAgICAgICAgICAgICAgIHthdXRvem9uZWRXYXJuaW5nTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIHtzdWJtaXRDb25maXJtYXRpb25EaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7bWFuZGF0b3J5TWVzc2FnZVZhbGlkYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIHtjb25maXJtYXRpb25EaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7YnVzeUluZGljYXRvcn1cclxuICAgICAgICAgICAgICAgIHtub25SZWNvdmVyYWJsZUVycm9yTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIHtncmFjZVBlcmlvZFJlc3BvbnNlVW5tYXJrZWREaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7cmVzcG9uc2VSZW1vdmVkRXJyb3JEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7Z3JhY2VQZXJpb2RFeHBpcmVkRXJyb3JEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7ZGlzY2FyZE1lc3NhZ2VEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7ZGlzY2FyZEV4Y2VwdGlvbkRpYWxvZ31cclxuICAgICAgICAgICAgICAgIHt3aXRoZHJhd0Vycm9yRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAge21hbmRhdG9yeU1lc3NhZ2VEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7aWRsZVRpbWVyfVxyXG4gICAgICAgICAgICAgICAge25vblJlY292ZXJhYmxlU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvck1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICB7bm9NYXJraW5nQ2hlY2tBdmFpbGFibGVNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAge21hcmtpbmdDaGVja0NvbXBsZXRlQ29uZmlybWF0aW9uUG9wdXB9XHJcbiAgICAgICAgICAgICAgICB7c3VwZXJ2aXNvclNhbXBsaW5nQ29tbWVudFZhbGlkYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIHt3YXJuaW5nTWVzc2FnZVBvcHVwfVxyXG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyU2ltdWxhdGlvbkV4aXRlZFFpZ3NQb3B1cCgpfVxyXG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyTG9ja3NJblFpZ1BvcFVwKCl9XHJcbiAgICAgICAgICAgICAgICB7YXBwbGljYXRpb25PZmZMaW5lRXJyb3JNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAge3Jlc3BvbnNlU2VhcmNoRmFpbGVkRXJyb3JEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7c2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uUG9wdXB9XHJcbiAgICAgICAgICAgICAgICB7c3VibWl0RXJyb3JQb3B1cH1cclxuICAgICAgICAgICAgICAgIHtzaGFyZUNvbmZpcm1hdGlvblBvcHVwfVxyXG4gICAgICAgICAgICAgICAge3Nlc3Npb25DbG9zZWRFcnJvckRpbGFvZ31cclxuICAgICAgICAgICAgICAgIHtyZWNsYXNzaWZ5UmVzcG9uc2VNdWx0aU9wdGlvbkRpYWxvZ31cclxuICAgICAgICAgICAgICAgIHtyZWNsYXNzaWZ5RXJyb3JQb3B1cERpYWxvZ31cclxuICAgICAgICAgICAgICAgIHtjb25jdXJyZW50U2F2ZUZhaWxQb3B1cH1cclxuICAgICAgICAgICAgICAgIHtub3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwfVxyXG4gICAgICAgICAgICAgICAge3Jlc3BvbnNlTW9kaWZpZWRQb3B1cH1cclxuICAgICAgICAgICAgICAgIHt1bkNsYXNzaWZpZWRTY3JpcHRpblN0bVVuYXZhaWxhYmxlUG9wdXB9XHJcbiAgICAgICAgICAgICAgICB7cmlnTm90Rm91bmREaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7ZW1haWxTYXZlTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIHtzaGFyZVJlc3BvbnNlUG9wdXB9XHJcbiAgICAgICAgICAgICAgICB7cmV1c2VSaWdBY3Rpb25NdWx0aU9wdGlvbkRpYWxvZ31cclxuICAgICAgICAgICAgICAgIHtkaXNjYXJkUmVzcG9uc2VGYWlsUG9wdXB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjb21wb25lbnREaWRNb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdXNlck9wdGlvblN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB1c2VyT3B0aW9uU3RvcmUuVXNlcm9wdGlvblN0b3JlLlVTRVJfT1BUSU9OX1NBVkVfT05fTE9HT1VUX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVzZXJTZXNzaW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsb2dpblN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBsb2dpblN0b3JlLkxvZ2luU3RvcmUuVVBEQVRFX1NFU1NJT05fT05fTE9HT1VUX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmNsZWFyU2Vzc2lvblxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbG9naW5TdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbG9naW5TdG9yZS5Mb2dpblN0b3JlLkNPTkNVUlJFTlRfU0VTU0lPTl9BQ1RJVkUsXHJcbiAgICAgICAgICAgIHRoaXMub25Db25jdXJyZW50U2Vzc2lvbkFjdGl2ZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlNBVkVfTUFSS1NfQU5EX0FOTk9UQVRJT05TX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNcclxuICAgICAgICApO1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5SRUFEWV9UT19OQVZJR0FURSxcclxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZUF3YXlGcm9tUmVzcG9uc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5UUklHR0VSX1NBVklOR19NQVJLU19BTkRfQU5OT1RBVElPTlNfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1RyaWdnZXJlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlNFVF9OT05fUkVDT1ZFUkFCTEVfRVJST1JfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TZXRIYXNOb25SZWNvdmVyYWJsZUVycm9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgdGhpcy5fYm91bmRPbmxpbmVTdGF0dXNFdmVudCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCB0aGlzLl9ib3VuZE9ubGluZVN0YXR1c0V2ZW50KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgbmF2aWdhdGlvbkhlbHBlci5vbkJlZm9yZVdpbmRvd1VubG9hZCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuc2Nyb2xsSW50b1ZpZXdPbkVkaXRpbmdUZXh0Rm9yQW5kcm9pZCk7XHJcblxyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TVUJNSVRfUkVTUE9OU0VfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU3VibWl0UmVzcG9uc2VDb21wbGV0ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TSEFSRV9BTkRfQ0xBU1NJRllfUkVTUE9OU0VfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlUmVuZGVyUHJvdmlvbmFsV29ya2xpc3RcclxuICAgICAgICApO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX05BVklHQVRJT05fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25NZXNzYWdlUGFuZWxFZGl0ZWRcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuTUFSS0lOR01PREVfQ0hBTkdFRF9JTl9QUk9WSVNJT05BTF9SRVNQT05TRV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy51bkNsYXNzaWZpZWRTY3JpcHRpblN0bVVuYXZhaWxhYmxlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlNIT1dfR1JBQ0VfUEVSSU9EX05PVF9GVUxMWV9NQVJLRURfTUVTU0FHRSxcclxuICAgICAgICAgICAgdGhpcy5zaG93UmVzcG9uc2VJbkdyYWNlTm90RnVsbHlNYXJrZWRNZXNzYWdlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuUE9QVVBfRElTUExBWV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblBvcFVwRGlzcGxheUV2ZW50XHJcbiAgICAgICAgKTtcclxuICAgICAgICBleGNlcHRpb25TdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgZXhjZXB0aW9uU3RvcmUuRXhjZXB0aW9uU3RvcmUuRVhDRVBUSU9OX0RJU0NBUkRfUE9QVVBfRElTUExBWV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblBvcFVwRGlzcGxheUV2ZW50XHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuQUNDRVBUX1FVQUxJVFlfQUNUSU9OX0NPTVBMRVRFRCxcclxuICAgICAgICAgICAgdGhpcy5vbkFjY2VwdFF1YWxpdHlGZWVkYmFja0FjdGlvbkNvbXBsZXRlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlJFVFJJRVZFX01BUktTX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1hcmtzUmV0cmlldmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBidXN5SW5kaWNhdG9yU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JTdG9yZS5CdXN5SW5kaWNhdG9yU3RvcmUuQlVTWV9JTkRJQ0FUT1IsXHJcbiAgICAgICAgICAgIHRoaXMuc2V0QnVzeUluZGljYXRvclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlVOUkVBRF9NQU5EQVRPUllfTUVTU0FHRV9TVEFUVVNfVVBEQVRFRCxcclxuICAgICAgICAgICAgdGhpcy5zaG93TWFuZGF0b3J5TWVzc2FnZVBvcHVwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuVVBEQVRFX05PVElGSUNBVElPTl9UUklHR0VSRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGVOb3RpZmljYXRpb25cclxuICAgICAgICApO1xyXG4gICAgICAgIGFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uU3RvcmUuQXBwbGljYXRpb25TdG9yZS5BQ1RJT05fSU5URVJSVVBURURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMudXNlckFjdGlvbkludGVycnVwdGVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3VibWl0U3RvcmUuU3VibWl0U3RvcmUuU1VCTUlUX1JFU1BPTlNFX1NUQVJURUQsXHJcbiAgICAgICAgICAgIHRoaXMub25TdWJtaXRSZXNwb25zZVN0YXJ0ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIGV4YW1pbmVyU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGV4YW1pbmVyU3RvcmUuRXhhbWluZXJTdG9yZS5NQVJLRVJfSU5GT19VUERBVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hcmtlckluZm9ybWF0aW9uUGFuZWxcclxuICAgICAgICApO1xyXG4gICAgICAgIGV4YW1pbmVyU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGV4YW1pbmVyU3RvcmUuRXhhbWluZXJTdG9yZS5RSUdfU0VTU0lPTl9DTE9TRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUWlnRm9yU2Vzc2lvbkNsb3NlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuUkVTUE9OU0VfREFUQV9SRUNFSVZFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblJlc3BvbnNlRGF0YVJlY2VpdmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBuYXZpZ2F0aW9uU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb25TdG9yZS5OYXZpZ2F0aW9uU3RvcmUuQ09OVEFJTkVSX0NIQU5HRV9fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFN0YXRlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuTUFOREFUT1JZX01FU1NBR0VfVkFMSURBVElPTl9QT1BVUF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5tYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwVmlzaWJpbGl0eVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlVQREFURV9NRVNTQUdFX1BSSU9SSVRZX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VQcmlvcml0eVVwZGF0ZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLldPUktMSVNUX01BUktJTkdfTU9ERV9DSEFOR0UsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5XHJcbiAgICAgICAgKTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuV09SS0xJU1RfTUFSS0lOR19NT0RFX0NIQU5HRSxcclxuICAgICAgICAgICAgdGhpcy5yZXNldEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICApO1xyXG4gICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuV29ya0xpc3RTdG9yZS5OT19NQVJLSU5HX0NIRUNLX0FWQUlMQUJMRV9NRVNTQUdFLFxyXG4gICAgICAgICAgICB0aGlzLnNob3dOb01hcmtpbmdDaGVja0F2YWlsYWJsZU1lc3NhZ2VcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5PUEVOX1RFQU1fTUFOQUdFTUVOVF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblRlYW1NYW5hZ2VtZW50T3BlblxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLk1ZX1RFQU1fREFUQV9MT0FERURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuaXNBdXRvem9uZWRNZXNzYWdlUG9wdXBWaXNpYmxlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuVEVBTV9FWENFUFRJT05TX0RBVEFfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLkhFTFBfRVhBTUlORVJTX0RBVEFfUkVDRUlWRUQsXHJcbiAgICAgICAgICAgIHRoaXMuaXNBdXRvem9uZWRNZXNzYWdlUG9wdXBWaXNpYmxlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuQUREX1RPX0hJU1RPUllfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5XHJcbiAgICAgICAgKTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuTUFSS0lOR19DSEVDS19DT01QTEVURV9CVVRUT05fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMubWFya0NoZWNrQ29tcGxldGVCdXR0b25FdmVudFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLk1BUktJTkdfQ0hFQ0tfQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1hcmtDaGVja0NvbXBsZXRlZEV2ZW50XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuU0FNUExJTkdfU1RBVFVTX0NIQU5HRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuU2hvd1N1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXBcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5FWEFNSU5FUl9EUklMTF9ET1dOX0RBVEFfVVBEQVRFRCxcclxuICAgICAgICAgICAgdGhpcy5hZGRUb1JlY2VudEhpc3RvcnlcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5GQUlMVVJFX1dISUxFX0ZFVENISU5HX1RFQU1fREFUQV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvck5hdmlnYXRpb25UZWFtTWFuYWdlbWVudFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLk1ZX1RFQU1fREFUQV9MT0FERURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuVEVBTV9FWENFUFRJT05TX0RBVEFfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QnVzeUluZGljYXRvclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLkhFTFBfRVhBTUlORVJTX0RBVEFfUkVDRUlWRUQsXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0hPV19MT0NLU19JTl9RSUdfUE9QVVAsXHJcbiAgICAgICAgICAgIHRoaXMub25TaG93TG9ja3NJblFpZ3NQb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlFJR19TRUxFQ1RFRF9GUk9NX0xPQ0tFRF9MSVNULFxyXG4gICAgICAgICAgICB0aGlzLm9uUWlnU2VsZWN0ZWRGcm9tTG9ja2VkTGlzdFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlFJR19TRUxFQ1RFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvUWlnRnJvbUxvY2tlZExpc3RcclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5MT0NLU19JTl9RSUdfREFUQV9SRVRSSUVWRUQsXHJcbiAgICAgICAgICAgIHRoaXMuZG9Mb2dvdXRQb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlJFU1BPTlNFX0RBVEFfUkVDRUlWRURfRkFJTEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2VEYXRhUmVjZWl2ZWRGYWlsZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TSE9XX1NJTVVMQVRJT05fUkVTUE9OU0VfU1VCTUlUX0NPTkZJUk1BVElPTl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vbnNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLlNUQU5EQVJESVNBVElPTl9TRVRVUF9DT01QTEVURURfSU5fQkFDS0dST1VORCxcclxuICAgICAgICAgICAgdGhpcy5vblN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGlvbkluQmFja2dyb3VuZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlNJTVVMQVRJT05fRVhJVEVEX1FJR1NfQU5EX0xPQ0tTX0lOX1FJR1NfUkVUUklFVkVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU2ltdWxhdGlvbkV4aXRlZFFpZ3NBbmRMb2Nrc0luUWlnc1JlY2lldmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0lNVUxBVElPTl9UQVJHRVRfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU2ltdWxhdGlvblRhcmdldENvbXBsZXRpb25cclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5TVEFOREFSRElTQVRJT05fU0VUVVBfQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uU3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0aW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0lNVUxBVElPTl9FWElURURfUUlHU19SRVRSSUVWRUQsXHJcbiAgICAgICAgICAgIHRoaXMub25TaW11bGF0aW9uRXhpdGVkUWlnc1JlY2lldmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjY1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBjY1N0b3JlLkNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc1N0b3JlLkVYQU1fQk9EWV9DQ19HRVQsXHJcbiAgICAgICAgICAgIHRoaXMub25FeGFtQm9keUNDTG9hZGVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBlY291cnNld29ya0ZpbGVTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgZWNvdXJzZXdvcmtGaWxlU3RvcmUuRUNvdXJzZVdvcmtGaWxlU3RvcmUuRUNPVVJTRVdPUktfRklMRV9EQVRBX0NMRUFSRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25FY291cnNld29ya0ZpbGVEYXRhQ2xlYXJlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlNBVkVfQUNFVEFURVNfREFUQV9BQ1RJT05fQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QWNldGF0ZVNhdmVJblByb2dyZXNzU3RhdHVzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0hBUkVfQ09ORklSTUFUSU9OX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnNoYXJlQ29uZmlybWF0aW9uUG9wdXBcclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5SRVNFVF9TSEFSRURfQUNFVEFURVNfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QWNldGF0ZVNhdmVJblByb2dyZXNzU3RhdHVzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuUkVTRVRfQUNFVEFURV9TQVZFX0lOX1BST0dSRVNTX1NUQVRVU19DT01QTEVURUQsXHJcbiAgICAgICAgICAgIHRoaXMub25SZXNldEFjZXRhdGVzU2F2ZUluUHJvZ3Jlc3NSZWNlaXZlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGFyZ2V0U3VtbWFyeVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0YXJnZXRTdW1tYXJ5U3RvcmUuVGFyZ2V0U3VtbWFyeVN0b3JlLldPUktMSVNUX0lOSVRJQUxJU0FUSU9OX0NPTVBMRVRFRCxcclxuICAgICAgICAgICAgdGhpcy5pc0F1dG96b25lZE1lc3NhZ2VQb3B1cFZpc2libGVcclxuICAgICAgICApO1xyXG4gICAgICAgIGltYWdlWm9uZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBpbWFnZVpvbmVTdG9yZS5JbWFnZVpvbmVTdG9yZS5FQk9PS19JTUFHRVpPTkVfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlXHJcbiAgICAgICAgICAgICAgICAuUE9QVVBfT1BFTl9TRUxFQ1RfVE9fTUFSS19CVVRUT05fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3RTdGRTZXR1cFJlc3BvbnNlVG9NYXJrXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5TVEFOREFSRElTQVRJT05fUklHX0NSRUFURURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TdGFuZGFyZGlzYXRpb25SaWdDcmVhdGVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5DT01QTEVURV9TVEFOREFSRElTQVRJT05fU0VUVVBfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZVN0YW5kYXJkaXNhdGlvblNldHVwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5HRVRfU1RBTkRBUkRJU0FUSU9OX1RBUkdFVF9ERVRBSUxTX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QnVzeUluZGljYXRvclN0ZFNldHVwTm90Q29tcGxldGVcclxuICAgICAgICApO1xyXG4gICAgICAgIHVzZXJpbmZvc3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHVzZXJpbmZvc3RvcmUuVXNlckluZm9TdG9yZS5TV0lUQ0hfVVNFUl9CVVRUT05fQ0xJQ0ssXHJcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVXNlckJ1dHRvbkNsaWNrXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5TVEFOREFSRElTQVRJT05fUkVTUE9OU0VfREFUQV9VUERBVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2VEYXRhUmVjaWV2ZWRBZnRlclJlZnJlc2hcclxuICAgICAgICApO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLkdFVF9TVEFOREFSRElTQVRJT05fQ0VOVFJFX0RFVEFJTFNfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25SZXNwb25zZURhdGFSZWNpZXZlZEFmdGVyUmVmcmVzaFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlXHJcbiAgICAgICAgICAgICAgICAuTVVMVElfT1BUSU9OX1BPUFVQX09QRU5fUkVDTEFTU0lGWV9QT1BVUF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZWNsYXNzaWZ5TXVsdGlPcHRpb25Qb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TVEFOREFSRElTQVRJT05fU0VUVVBfTEVGVF9QQU5FTF9TRUxFQ1RfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5KTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuUE9QVVBfT1BFTl9SRUNMQVNTSUZZX1BPUFVQX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlY2xhc3NpZnlQb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLlBPUFVQX09QRU5fUkVDTEFTU0lGWV9FUlJPUl9QT1BVUF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZWNsYXNzaWZ5RXJyb3JQb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLkNPTkNVUlJFTlRfU0FWRV9GQUlMX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmNvbmN1cnJlbnRTYXZlRmFpbFBvcHVwKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuQ0xBU1NJRllfUkVTUE9OU0VfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVSZW5kZXJVbmNsYXNzaWZpZWRXb3JrbGlzdCk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlNBVkVfTk9URV9DT01QTEVURURfQUNUSU9OX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlOb3RlU2F2ZUZhaWxlZFBvcHVwKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuUkVDTEFTU0lGSUVEX1JFU1BPTlNFX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlUmVuZGVyT25DbGFzc2lmaWVkUmVzcG9uc2VSZWNlaXZlZCk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLkRFQ0xBU1NJRllfUkVTUE9OU0VfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVSZW5kZXJPbkNsYXNzaWZpZWRSZXNwb25zZVJlY2VpdmVkKTtcclxuICAgICAgICByZXNwb25zZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICByZXNwb25zZVN0b3JlLlJlc3BvbnNlU3RvcmUuUklHX05PVF9GT1VORF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5zaG93T3JIaWRlUmlnTm90Rm91bmRQb3B1cCk7XHJcbiAgICAgICAgdXNlcmluZm9zdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih1c2VyaW5mb3N0b3JlLlVzZXJJbmZvU3RvcmUuVVNFUklORk9fU0FWRSwgdGhpcy51c2VySW5mb1NhdmVkKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU1RBTkRBUkRJU0FUSU9OX1NIQVJFX1JFU1BPTlNFX1BPUFVQX0RJU1BMQVksXHJcbiAgICAgICAgICAgIHRoaXMuc2hhcmVSZXNwb25zZVBvcHVwT3Blbik7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlJFVVNFX1JJR19QT1BVUF9ESVNQTEFZX0FDVElPTl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZXVzZVJpZ0FjdGlvblBvcHVwT3Blbik7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlJFVVNFX1JJR19BQ1RJT05fQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJldXNlUmlnQWN0aW9uQ29tcGxldGVkRXZlbnQpO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5SRVNQT05TRV9BTFJFQURZX0RJU0NBUkRFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5kaXNjYXJkUmVzcG9uc2VGYWlsUG9wdXApO1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5SRUFEWV9UT19OQVZJR0FURSxcclxuICAgICAgICAgICAgdGhpcy5zdWJtaXRSZXNwb25zZUZyb21NYXJrc2NoZW1lKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjb21wb25lbnRXaWxsVW5tb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlJFQURZX1RPX05BVklHQVRFLFxyXG4gICAgICAgICAgICB0aGlzLnN1Ym1pdFJlc3BvbnNlRnJvbU1hcmtzY2hlbWUpO1xyXG5cclxuICAgICAgICB1c2VyT3B0aW9uU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHVzZXJPcHRpb25TdG9yZS5Vc2Vyb3B0aW9uU3RvcmUuVVNFUl9PUFRJT05fU0FWRV9PTl9MT0dPVVRfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXNlclNlc3Npb25cclxuICAgICAgICApO1xyXG4gICAgICAgIGxvZ2luU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGxvZ2luU3RvcmUuTG9naW5TdG9yZS5VUERBVEVfU0VTU0lPTl9PTl9MT0dPVVRfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTZXNzaW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsb2dpblN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBsb2dpblN0b3JlLkxvZ2luU3RvcmUuQ09OQ1VSUkVOVF9TRVNTSU9OX0FDVElWRSxcclxuICAgICAgICAgICAgdGhpcy5vbkNvbmN1cnJlbnRTZXNzaW9uQWN0aXZlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuU0FWRV9NQVJLU19BTkRfQU5OT1RBVElPTlNfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlJFQURZX1RPX05BVklHQVRFLFxyXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlQXdheUZyb21SZXNwb25zZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlRSSUdHRVJfU0FWSU5HX01BUktTX0FORF9BTk5PVEFUSU9OU19FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblNhdmVNYXJrc0FuZEFubm90YXRpb25zVHJpZ2dlcmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuU0VUX05PTl9SRUNPVkVSQUJMRV9FUlJPUl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblNldEhhc05vblJlY292ZXJhYmxlRXJyb3JcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuTUFSS0lOR01PREVfQ0hBTkdFRF9JTl9QUk9WSVNJT05BTF9SRVNQT05TRV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy51bkNsYXNzaWZpZWRTY3JpcHRpblN0bVVuYXZhaWxhYmxlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29ubGluZScsIHRoaXMuX2JvdW5kT25saW5lU3RhdHVzRXZlbnQpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgdGhpcy5fYm91bmRPbmxpbmVTdGF0dXNFdmVudCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIG5hdmlnYXRpb25IZWxwZXIub25CZWZvcmVXaW5kb3dVbmxvYWQpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnNjcm9sbEludG9WaWV3T25FZGl0aW5nVGV4dEZvckFuZHJvaWQpO1xyXG5cclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuU0hPV19HUkFDRV9QRVJJT0RfTk9UX0ZVTExZX01BUktFRF9NRVNTQUdFLFxyXG4gICAgICAgICAgICB0aGlzLnNob3dSZXNwb25zZUluR3JhY2VOb3RGdWxseU1hcmtlZE1lc3NhZ2VcclxuICAgICAgICApO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5QT1BVUF9ESVNQTEFZX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUG9wVXBEaXNwbGF5RXZlbnRcclxuICAgICAgICApO1xyXG4gICAgICAgIGV4Y2VwdGlvblN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBleGNlcHRpb25TdG9yZS5FeGNlcHRpb25TdG9yZS5FWENFUFRJT05fRElTQ0FSRF9QT1BVUF9ESVNQTEFZX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUG9wVXBEaXNwbGF5RXZlbnRcclxuICAgICAgICApO1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5SRVRSSUVWRV9NQVJLU19FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5tYXJrc1JldHJpZXZlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLkFDQ0VQVF9RVUFMSVRZX0FDVElPTl9DT01QTEVURUQsXHJcbiAgICAgICAgICAgIHRoaXMub25BY2NlcHRRdWFsaXR5RmVlZGJhY2tBY3Rpb25Db21wbGV0ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TVUJNSVRfUkVTUE9OU0VfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU3VibWl0UmVzcG9uc2VDb21wbGV0ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TSEFSRV9BTkRfQ0xBU1NJRllfUkVTUE9OU0VfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlUmVuZGVyUHJvdmlvbmFsV29ya2xpc3RcclxuICAgICAgICApO1xyXG4gICAgICAgIGJ1c3lJbmRpY2F0b3JTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgYnVzeUluZGljYXRvclN0b3JlLkJ1c3lJbmRpY2F0b3JTdG9yZS5CVVNZX0lORElDQVRPUixcclxuICAgICAgICAgICAgdGhpcy5zZXRCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuVU5SRUFEX01BTkRBVE9SWV9NRVNTQUdFX1NUQVRVU19VUERBVEVELFxyXG4gICAgICAgICAgICB0aGlzLnNob3dNYW5kYXRvcnlNZXNzYWdlUG9wdXBcclxuICAgICAgICApO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5VUERBVEVfTk9USUZJQ0FUSU9OX1RSSUdHRVJFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZU5vdGlmaWNhdGlvblxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfTkFWSUdBVElPTl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vbk1lc3NhZ2VQYW5lbEVkaXRlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgYXBwbGljYXRpb25TdG9yZS5BcHBsaWNhdGlvblN0b3JlLkFDVElPTl9JTlRFUlJVUFRFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy51c2VyQWN0aW9uSW50ZXJydXB0ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TVUJNSVRfUkVTUE9OU0VfU1RBUlRFRCxcclxuICAgICAgICAgICAgdGhpcy5vblN1Ym1pdFJlc3BvbnNlU3RhcnRlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZXhhbWluZXJTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgZXhhbWluZXJTdG9yZS5FeGFtaW5lclN0b3JlLk1BUktFUl9JTkZPX1VQREFURURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWFya2VySW5mb3JtYXRpb25QYW5lbFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZXhhbWluZXJTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgZXhhbWluZXJTdG9yZS5FeGFtaW5lclN0b3JlLlFJR19TRVNTSU9OX0NMT1NFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVRaWdGb3JTZXNzaW9uQ2xvc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5SRVNQT05TRV9EQVRBX1JFQ0VJVkVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2VEYXRhUmVjZWl2ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIG5hdmlnYXRpb25TdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbmF2aWdhdGlvblN0b3JlLk5hdmlnYXRpb25TdG9yZS5DT05UQUlORVJfQ0hBTkdFX19FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoU3RhdGVcclxuICAgICAgICApO1xyXG4gICAgICAgIC8vdGltZXJIZWxwZXIuY2xlYXJJbnRlcnZhbCgpO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NQU5EQVRPUllfTUVTU0FHRV9WQUxJREFUSU9OX1BPUFVQX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1hbmRhdG9yeU1lc3NhZ2VWYWxpZGF0aW9uUG9wdXBWaXNpYmlsaXR5XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlVQREFURV9NRVNTQUdFX1BSSU9SSVRZX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VQcmlvcml0eVVwZGF0ZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLldPUktMSVNUX01BUktJTkdfTU9ERV9DSEFOR0UsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5XHJcbiAgICAgICAgKTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuV09SS0xJU1RfTUFSS0lOR19NT0RFX0NIQU5HRSxcclxuICAgICAgICAgICAgdGhpcy5yZXNldEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICApO1xyXG4gICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuV29ya0xpc3RTdG9yZS5OT19NQVJLSU5HX0NIRUNLX0FWQUlMQUJMRV9NRVNTQUdFLFxyXG4gICAgICAgICAgICB0aGlzLnNob3dOb01hcmtpbmdDaGVja0F2YWlsYWJsZU1lc3NhZ2VcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5PUEVOX1RFQU1fTUFOQUdFTUVOVF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblRlYW1NYW5hZ2VtZW50T3BlblxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLk1ZX1RFQU1fREFUQV9MT0FERURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuaXNBdXRvem9uZWRNZXNzYWdlUG9wdXBWaXNpYmxlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuVEVBTV9FWENFUFRJT05TX0RBVEFfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLkhFTFBfRVhBTUlORVJTX0RBVEFfUkVDRUlWRUQsXHJcbiAgICAgICAgICAgIHRoaXMuaXNBdXRvem9uZWRNZXNzYWdlUG9wdXBWaXNpYmxlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuQUREX1RPX0hJU1RPUllfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5XHJcbiAgICAgICAgKTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuTUFSS0lOR19DSEVDS19DT01QTEVURV9CVVRUT05fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMubWFya0NoZWNrQ29tcGxldGVCdXR0b25FdmVudFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLk1BUktJTkdfQ0hFQ0tfQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1hcmtDaGVja0NvbXBsZXRlZEV2ZW50XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuU0FNUExJTkdfU1RBVFVTX0NIQU5HRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuU2hvd1N1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXBcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5FWEFNSU5FUl9EUklMTF9ET1dOX0RBVEFfVVBEQVRFRCxcclxuICAgICAgICAgICAgdGhpcy5hZGRUb1JlY2VudEhpc3RvcnlcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5GQUlMVVJFX1dISUxFX0ZFVENISU5HX1RFQU1fREFUQV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvck5hdmlnYXRpb25UZWFtTWFuYWdlbWVudFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLk1ZX1RFQU1fREFUQV9MT0FERURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuVEVBTV9FWENFUFRJT05TX0RBVEFfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QnVzeUluZGljYXRvclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLkhFTFBfRVhBTUlORVJTX0RBVEFfUkVDRUlWRUQsXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0hPV19MT0NLU19JTl9RSUdfUE9QVVAsXHJcbiAgICAgICAgICAgIHRoaXMub25TaG93TG9ja3NJblFpZ3NQb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlFJR19TRUxFQ1RFRF9GUk9NX0xPQ0tFRF9MSVNULFxyXG4gICAgICAgICAgICB0aGlzLm9uUWlnU2VsZWN0ZWRGcm9tTG9ja2VkTGlzdFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlFJR19TRUxFQ1RFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvUWlnRnJvbUxvY2tlZExpc3RcclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5MT0NLU19JTl9RSUdfREFUQV9SRVRSSUVWRUQsXHJcbiAgICAgICAgICAgIHRoaXMuZG9Mb2dvdXRQb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlJFU1BPTlNFX0RBVEFfUkVDRUlWRURfRkFJTEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2VEYXRhUmVjZWl2ZWRGYWlsZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TSE9XX1NJTVVMQVRJT05fUkVTUE9OU0VfU1VCTUlUX0NPTkZJUk1BVElPTl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vbnNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLlNUQU5EQVJESVNBVElPTl9TRVRVUF9DT01QTEVURURfSU5fQkFDS0dST1VORCxcclxuICAgICAgICAgICAgdGhpcy5vblN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGlvbkluQmFja2dyb3VuZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlNJTVVMQVRJT05fRVhJVEVEX1FJR1NfQU5EX0xPQ0tTX0lOX1FJR1NfUkVUUklFVkVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU2ltdWxhdGlvbkV4aXRlZFFpZ3NBbmRMb2Nrc0luUWlnc1JlY2lldmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0lNVUxBVElPTl9UQVJHRVRfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU2ltdWxhdGlvblRhcmdldENvbXBsZXRpb25cclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5TVEFOREFSRElTQVRJT05fU0VUVVBfQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uU3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0aW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0lNVUxBVElPTl9FWElURURfUUlHU19SRVRSSUVWRUQsXHJcbiAgICAgICAgICAgIHRoaXMub25TaW11bGF0aW9uRXhpdGVkUWlnc1JlY2lldmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjY1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBjY1N0b3JlLkNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc1N0b3JlLkVYQU1fQk9EWV9DQ19HRVQsXHJcbiAgICAgICAgICAgIHRoaXMub25FeGFtQm9keUNDTG9hZGVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBlY291cnNld29ya0ZpbGVTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgZWNvdXJzZXdvcmtGaWxlU3RvcmUuRUNvdXJzZVdvcmtGaWxlU3RvcmUuRUNPVVJTRVdPUktfRklMRV9EQVRBX0NMRUFSRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25FY291cnNld29ya0ZpbGVEYXRhQ2xlYXJlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlNBVkVfQUNFVEFURVNfREFUQV9BQ1RJT05fQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QWNldGF0ZVNhdmVJblByb2dyZXNzU3RhdHVzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0hBUkVfQ09ORklSTUFUSU9OX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnNoYXJlQ29uZmlybWF0aW9uUG9wdXBcclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5SRVNFVF9TSEFSRURfQUNFVEFURVNfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QWNldGF0ZVNhdmVJblByb2dyZXNzU3RhdHVzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuUkVTRVRfQUNFVEFURV9TQVZFX0lOX1BST0dSRVNTX1NUQVRVU19DT01QTEVURUQsXHJcbiAgICAgICAgICAgIHRoaXMub25SZXNldEFjZXRhdGVzU2F2ZUluUHJvZ3Jlc3NSZWNlaXZlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGFyZ2V0U3VtbWFyeVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB0YXJnZXRTdW1tYXJ5U3RvcmUuVGFyZ2V0U3VtbWFyeVN0b3JlLldPUktMSVNUX0lOSVRJQUxJU0FUSU9OX0NPTVBMRVRFRCxcclxuICAgICAgICAgICAgdGhpcy5pc0F1dG96b25lZE1lc3NhZ2VQb3B1cFZpc2libGVcclxuICAgICAgICApO1xyXG4gICAgICAgIGltYWdlWm9uZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBpbWFnZVpvbmVTdG9yZS5JbWFnZVpvbmVTdG9yZS5FQk9PS19JTUFHRVpPTkVfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlXHJcbiAgICAgICAgICAgICAgICAuUE9QVVBfT1BFTl9TRUxFQ1RfVE9fTUFSS19CVVRUT05fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3RTdGRTZXR1cFJlc3BvbnNlVG9NYXJrXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5TVEFOREFSRElTQVRJT05fUklHX0NSRUFURURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TdGFuZGFyZGlzYXRpb25SaWdDcmVhdGVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5DT01QTEVURV9TVEFOREFSRElTQVRJT05fU0VUVVBfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZVN0YW5kYXJkaXNhdGlvblNldHVwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5HRVRfU1RBTkRBUkRJU0FUSU9OX1RBUkdFVF9ERVRBSUxTX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QnVzeUluZGljYXRvclN0ZFNldHVwTm90Q29tcGxldGVcclxuICAgICAgICApO1xyXG4gICAgICAgIHVzZXJpbmZvc3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHVzZXJpbmZvc3RvcmUuVXNlckluZm9TdG9yZS5TV0lUQ0hfVVNFUl9CVVRUT05fQ0xJQ0ssXHJcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVXNlckJ1dHRvbkNsaWNrXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5TVEFOREFSRElTQVRJT05fUkVTUE9OU0VfREFUQV9VUERBVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2VEYXRhUmVjaWV2ZWRBZnRlclJlZnJlc2hcclxuICAgICAgICApO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLkdFVF9TVEFOREFSRElTQVRJT05fQ0VOVFJFX0RFVEFJTFNfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25SZXNwb25zZURhdGFSZWNpZXZlZEFmdGVyUmVmcmVzaFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlXHJcbiAgICAgICAgICAgICAgICAuTVVMVElfT1BUSU9OX1BPUFVQX09QRU5fUkVDTEFTU0lGWV9QT1BVUF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZWNsYXNzaWZ5TXVsdGlPcHRpb25Qb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TVEFOREFSRElTQVRJT05fU0VUVVBfTEVGVF9QQU5FTF9TRUxFQ1RfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5KTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuUE9QVVBfT1BFTl9SRUNMQVNTSUZZX1BPUFVQX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlY2xhc3NpZnlQb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLlBPUFVQX09QRU5fUkVDTEFTU0lGWV9FUlJPUl9QT1BVUF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZWNsYXNzaWZ5RXJyb3JQb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLkNPTkNVUlJFTlRfU0FWRV9GQUlMX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmNvbmN1cnJlbnRTYXZlRmFpbFBvcHVwKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuQ0xBU1NJRllfUkVTUE9OU0VfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVSZW5kZXJVbmNsYXNzaWZpZWRXb3JrbGlzdCk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlNBVkVfTk9URV9DT01QTEVURURfQUNUSU9OX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlOb3RlU2F2ZUZhaWxlZFBvcHVwKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuUkVDTEFTU0lGSUVEX1JFU1BPTlNFX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlUmVuZGVyT25DbGFzc2lmaWVkUmVzcG9uc2VSZWNlaXZlZCk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLkRFQ0xBU1NJRllfUkVTUE9OU0VfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVSZW5kZXJPbkNsYXNzaWZpZWRSZXNwb25zZVJlY2VpdmVkKTtcclxuICAgICAgICByZXNwb25zZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICByZXNwb25zZVN0b3JlLlJlc3BvbnNlU3RvcmUuUklHX05PVF9GT1VORF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5zaG93T3JIaWRlUmlnTm90Rm91bmRQb3B1cCk7XHJcbiAgICAgICAgdXNlcmluZm9zdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcih1c2VyaW5mb3N0b3JlLlVzZXJJbmZvU3RvcmUuVVNFUklORk9fU0FWRSwgdGhpcy51c2VySW5mb1NhdmVkKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU1RBTkRBUkRJU0FUSU9OX1NIQVJFX1JFU1BPTlNFX1BPUFVQX0RJU1BMQVksXHJcbiAgICAgICAgICAgIHRoaXMuc2hhcmVSZXNwb25zZVBvcHVwT3Blbik7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlJFVVNFX1JJR19QT1BVUF9ESVNQTEFZX0FDVElPTl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZXVzZVJpZ0FjdGlvblBvcHVwT3Blbik7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlJFVVNFX1JJR19BQ1RJT05fQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJldXNlUmlnQWN0aW9uQ29tcGxldGVkRXZlbnQpO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5SRVNQT05TRV9BTFJFQURZX0RJU0NBUkRFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5kaXNjYXJkUmVzcG9uc2VGYWlsUG9wdXApO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmlyZXMgYWZ0ZXIgZW1haWwgc2F2ZVxyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSB1c2VySW5mb1NhdmVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc1NhdmVFbWFpbE1lc3NhZ2VEaXNwbGF5aW5nOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuXHQvKipcclxuXHQgKiBFbWFpbCBzYXZlIHN1Y2Nlc3MgbWVzc2FnZSBvayBjbGlja1xyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSBvbk9rQ2xpY2tPZkVtYWlsU3VjZXNzTWVzc2FnZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNTYXZlRW1haWxNZXNzYWdlRGlzcGxheWluZzogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBiZSBpbnZva2VkIHdoZW4gYSBFeGFtQm9keSBDQyBpcyBsb2FkZWQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25FeGFtQm9keUNDTG9hZGVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIHNob3cgbG9ja3MgYW5kIHNpbXVsYXRpb24gZXhpdGVkIHBvcHVwIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHNob3duIGFuZCBleGFtYm9keWNjIGlzIGxvYWRlZFxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICByZVJlbmRlckxvY2tzSW5RaWdQb3BVcDpcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucmVSZW5kZXJMb2Nrc0luUWlnUG9wVXAgJiYgY2NTdG9yZS5pbnN0YW5jZS5pc0V4YW1Cb2R5Q0NMb2FkZWQsXHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIHNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXA6IHRoaXMuc3RhdGUuc2hvd1NpbXVsYXRpb25FeGl0ZWRQb3B1cCAmJiBjY1N0b3JlLmluc3RhbmNlLmlzRXhhbUJvZHlDQ0xvYWRlZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIE1hcmtlciBpbmZvcm1hdGlvbiBwYW5lbC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVNYXJrZXJJbmZvcm1hdGlvblBhbmVsID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIHRoZSBNYXJrZXIgZ290IHdpdGggZHJhd24gZnJvbSB0aGUgUUlHLCBJZiBTbyBzaG93IHRoZSBtZXNzYWdlXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBleGFtaW5lclN0b3JlLmluc3RhbmNlLmdldE1hcmtlckluZm9ybWF0aW9uLmFwcHJvdmFsU3RhdHVzID09PVxyXG4gICAgICAgICAgICBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLldpdGhkcmF3blxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAocWlnU3RvcmUuaW5zdGFuY2UuZ2V0T3ZlcnZpZXdEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFFpZyA9IHFpZ1N0b3JlLmluc3RhbmNlLmdldE92ZXJ2aWV3RGF0YS5xaWdTdW1tYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICAocWlnOiBxaWdJbmZvKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBxaWcuZXhhbWluZXJSb2xlSWQgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YW1pbmVyU3RvcmUuaW5zdGFuY2UuZ2V0TWFya2VySW5mb3JtYXRpb24uZXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpcnN0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZpbmcgZW50cnkgZnJvbSByZWNlbnQgaGlzdG9yeVxyXG4gICAgICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yLnJlbW92ZUhpc3RvcnlJdGVtKFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRRaWcgPyBjdXJyZW50UWlnLm1hcmtTY2hlbWVHcm91cElkIDogMFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNXaXRoZHJhd25SZXNwb25zZUVycm9yOiB0cnVlLCBpc0J1c3k6IGZhbHNlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHFpZyBzZWxlY3RvciBpZiB0aGUgZXhhbWluZXIgc2Vzc2lvbiBpcyBjbG9zZWQgZm9yIHRoZSBxaWcuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdXBkYXRlUWlnRm9yU2Vzc2lvbkNsb3NlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIHRoZSBNYXJrZXIgZ290IHdpdGggZHJhd24gZnJvbSB0aGUgUUlHLCBJZiBTbyBzaG93IHRoZSBtZXNzYWdlXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzUWlnc2Vzc2lvbkNsb3NlZEVycm9yOiB0cnVlLCBpc0J1c3k6IGZhbHNlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIHJlc3BvbnNlIHN1Ym1pc3Npb24gc3RhcnRlZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU3VibWl0UmVzcG9uc2VTdGFydGVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGZvciBzdWJtaXQgYWxsIHRoZSBtYXJrZ3JvdXAgaWQgd2lsbCBhbHdheXMgYmUgemVyb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zdWJtaXRDb25maXJtYXRpb25EaWFsb2d1ZUNvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3Quc3VibWl0LXJlc3BvbnNlLWRpYWxvZy5ib2R5J1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLnN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlSGVhZGVyID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1yZXNwb25zZS1kaWFsb2cuaGVhZGVyJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1hbGwtcmVzcG9uc2VzLWRpYWxvZy5ib2R5J1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLnN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlSGVhZGVyID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1hbGwtcmVzcG9uc2VzLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldENvbmZpcm1hdGlvbkRpYWxvZ3VlU3RhdGUodHJ1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBjb25maXJtYXRpb24gZGlhbG9ndWUgc3RhdGVcclxuICAgICAqIEBwYXJhbSBzdGF0ZVZhbHVlIFRoZSBzdGF0ZSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldENvbmZpcm1hdGlvbkRpYWxvZ3VlU3RhdGUoc3RhdGVWYWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc1N1Ym1pdENvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZzogc3RhdGVWYWx1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24geWVzIGNsaWNrIG9mIHN1Ym1pdCByZXNwb25zZSBjb25maXJtYXRpb24gcG9wIHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25ZZXNDbGlja09mU3VibWl0QnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29uZmlybWF0aW9uRGlhbG9ndWVTdGF0ZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zdWJtaXRSZXNwb25zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc3VibWl0IHJlc3BvbnNlL3NcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdWJtaXRSZXNwb25zZSgpIHtcclxuICAgICAgICBsZXQgYnVzeUluZGljYXRvckludm9rZXI6IGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyO1xyXG4gICAgICAgIGxldCBzdWJtaXRSZXNwb25zZUFyZ3VtZW50OiBTdWJtaXRSZXNwb25zZUFyZ3VtZW50O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGlmIG1hcmtncm91cGlkIGlzIGdyZWF0ZXIgdGhhbiB6ZXJvLCB0aGVuIGl0cyBzaW5nbGUgcmVzcG9uc2Ugc3VibWl0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYnVzeUluZGljYXRvckludm9rZXIgPVxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCA+IDBcclxuICAgICAgICAgICAgICAgID8gZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuc3VibWl0XHJcbiAgICAgICAgICAgICAgICA6IGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLnN1Ym1pdEFsbDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaG93IGJ1c3kgaW5kaWNhdG9yIG9uIHN1Ym1pdHRpbmcgcmVzcG9uc2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBidXN5SW5kaWNhdG9yQWN0aW9uQ3JlYXRvci5zZXRCdXN5SW5kaWNhdG9ySW52b2tlcihidXN5SW5kaWNhdG9ySW52b2tlcik7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3VibWl0dGluZyAgcmVzcG9uc2VzIGluaXRpYXRlZFxyXG4gICAgICAgICAqIFNlbGVjdCB0aGUgbWFyayBncm91cCBsaXN0IGJhc2VkIG9uIHRoZSBjdXJyZW50IHJlc3BvbnNlIG1vZGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRMaXN0OiBBcnJheTxcclxuICAgICAgICAgICAgTnVtYmVyXHJcbiAgICAgICAgICAgID4gPSB3b3JrbGlzdENvbXBvbmVudEhlbHBlci5nZXRNYXJrZ3JvdXBJZENvbGxlY3Rpb25Gb3JTdWJtaXQoXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRIZWxwZXIuZ2V0U2VsZWN0ZWRRaWdNYXJraW5nTW9kZSgpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgbGV0IHFpZ2xpc3Q6IEltbXV0YWJsZS5JdGVyYWJsZTxudW1iZXIsIHFpZ1N1bW1hcnk+ID0gcWlnU3RvcmUuaW5zdGFuY2UucmVsYXRlZFFpZ0xpc3Q7XHJcbiAgICAgICAgbGV0IGV4YW1pbmVyUm9sZUlkTGlzdDogQXJyYXk8bnVtYmVyPiA9IG5ldyBBcnJheTxudW1iZXI+KCk7XHJcbiAgICAgICAgcWlnbGlzdFxyXG4gICAgICAgICAgICA/IHFpZ2xpc3QubWFwKCh4OiBxaWdTdW1tYXJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBleGFtaW5lclJvbGVJZExpc3QucHVzaCh4LmV4YW1pbmVyUm9sZUlkKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgOiAoZXhhbWluZXJSb2xlSWRMaXN0ID0gbnVsbCk7XHJcbiAgICAgICAgbGV0IG1hcmtTY2hlbWVHcm91cElkczogQXJyYXk8bnVtYmVyPiA9IG5ldyBBcnJheTxudW1iZXI+KCk7XHJcbiAgICAgICAgcWlnbGlzdFxyXG4gICAgICAgICAgICA/IHFpZ2xpc3QubWFwKCh4OiBxaWdTdW1tYXJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZHMucHVzaCh4Lm1hcmtTY2hlbWVHcm91cElkKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgOiAobWFya1NjaGVtZUdyb3VwSWRzID0gbnVsbCk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogbWFwcGluZyAgdmFsdWVzIG9uIHN1Ym1pdCBhcmd1bWVudFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHN1Ym1pdFJlc3BvbnNlQXJndW1lbnQgPSB7XHJcbiAgICAgICAgICAgIG1hcmtHcm91cElkczogbWFya0dyb3VwSWRMaXN0LFxyXG4gICAgICAgICAgICBtYXJraW5nTW9kZTogdGFyZ2V0SGVscGVyLmdldFNlbGVjdGVkUWlnTWFya2luZ01vZGUoKSxcclxuICAgICAgICAgICAgZXhhbWluZXJSb2xlSWQ6IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgIGV4YW1pbmVyQXBwcm92YWw6IGV4YW1pbmVyU3RvcmUuaW5zdGFuY2UuZ2V0TWFya2VySW5mb3JtYXRpb24uYXBwcm92YWxTdGF0dXMsXHJcbiAgICAgICAgICAgIGlzQWRtaW5SZW1hcmtlcjogbG9naW5TdG9yZS5pbnN0YW5jZS5pc0FkbWluUmVtYXJrZXJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgd29ya2xpc3RUeXBlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlO1xyXG4gICAgICAgIGxldCByZW1hcmtSZXF1ZXN0VHlwZTogZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUgPSB3b3JrbGlzdENvbXBvbmVudEhlbHBlci5nZXRSZW1hcmtSZXF1ZXN0VHlwZShcclxuICAgICAgICAgICAgd29ya2xpc3RUeXBlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogY2FsbGluZyB0byBzZW5kIGRhdGEgdG8gc2VydmVyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbGV0IGRpc3BsYXlJZCA9IHN1Ym1pdFN0b3JlLmluc3RhbmNlLmlzU3VibWl0RnJvbU1hcmtTY2hlbWVcclxuICAgICAgICAgICAgPyByZXNwb25zZVN0b3JlLmluc3RhbmNlLnNlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgc3VibWl0QWN0aW9uQ3JlYXRvci5zdWJtaXRSZXNwb25zZShcclxuICAgICAgICAgICAgc3VibWl0UmVzcG9uc2VBcmd1bWVudCxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgIHdvcmtsaXN0VHlwZSxcclxuICAgICAgICAgICAgcmVtYXJrUmVxdWVzdFR5cGUsXHJcbiAgICAgICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmlzU3VibWl0RnJvbU1hcmtTY2hlbWUsXHJcbiAgICAgICAgICAgIGRpc3BsYXlJZCxcclxuICAgICAgICAgICAgZXhhbWluZXJSb2xlSWRMaXN0LFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZHNcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gbm8gY2xpY2sgb2Ygc3VibWl0IHJlc3BvbnNlIGNvbmZpcm1hdGlvbiBwb3AgdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk5vQ2xpY2tPZlN1Ym1pdEJ1dHRvbigpIHtcclxuICAgICAgICB0aGlzLnNldENvbmZpcm1hdGlvbkRpYWxvZ3VlU3RhdGUoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBidXN5IGluZGljYXRvciB3aGVuIHN1Ym1pdCBpcyBjbGlja2VkIGluIGxpdmUgb3BlbiB3b3JrbGlzdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldEJ1c3lJbmRpY2F0b3IgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzQnVzeTpcclxuICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JTdG9yZS5pbnN0YW5jZS5nZXRCdXN5SW5kaWNhdG9ySW52b2tlciA9PT1cclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5ub25lXHJcbiAgICAgICAgICAgICAgICAgICAgPyBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGhpZGluZyBidXN5IGluZGljYXRvclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlc2V0QnVzeUluZGljYXRvciA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNCdXN5OlxyXG4gICAgICAgICAgICAgICAgYnVzeUluZGljYXRvclN0b3JlLmluc3RhbmNlLmdldEJ1c3lJbmRpY2F0b3JJbnZva2VyICE9PVxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLm5vbmVcclxuICAgICAgICAgICAgICAgICAgICA/IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGlkaW5nIGJ1c3kgaW5kaWNhdG9yIG9uIG9rIGNsaWNrIG9mIHZhbGlkYXRpb24gb2Ygc3RkIHNldHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVzZXRCdXN5SW5kaWNhdG9yU3RkU2V0dXBOb3RDb21wbGV0ZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5pc2NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uU3VjY2VzcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpc0J1c3k6XHJcbiAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvclN0b3JlLmluc3RhbmNlLmdldEJ1c3lJbmRpY2F0b3JJbnZva2VyID09PVxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLm5vbmVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hcmtzIHJldHJpZXZhbCBldmVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBtYXJrc1JldHJpZXZlZCA9IChtYXJrR3JvdXBJZDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAobWFya2luZ1N0b3JlLmluc3RhbmNlLmN1cnJlbnRSZXNwb25zZU1vZGUgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuIHx8XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuY3VycmVudFJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcpICYmXHJcbiAgICAgICAgICAgICFtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGxldCBpc0NvbG91clVwZGF0ZWQgPSBjb2xvdXJlZEFubm90YXRpb25zSGVscGVyLnVwZGF0ZUFubm90YXRpb25Db2xvdXJJZk5lZWRlZChcclxuICAgICAgICAgICAgICAgIG1hcmtHcm91cElkXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChpc0NvbG91clVwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0aW5nIHRoZSBxdWV1ZSB0byBsZXQga25vdyB0aGUgYmFja2dyb3VuZCBwcm9jZXNzIHRvIHNhdmUgdGhlIGRpcnR5IG1hcmtzIGFuZCBhbm5vdGF0aW9uc1xyXG4gICAgICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIudXBkYXRlTWFya3NBbmRBbm5vdGF0aW9uc1F1ZXVlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgb24gXCJ5ZXNcIiBjbGljayBvZiBsb2dvdXQgY29uZmlybWF0aW9uIHBvcHVwLiBUaGlzIHdpbGwgdHJpZ2dlciBsb2dvdXQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvblllc0NsaWNrT2ZMb2dvdXRDb25maXJtYXRpb24oaXNBdXRvTG9nT3V0OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXR0aW5nIHRvIHRydWUgYXMgdGhlIGxvZ291dCBoYXMgYmVlbiB0cmlnZ2VyZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9vbkxvZ291dFRyaWdnZXJlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHRpbmcgdGhlIHZhbHVlIHRvIGlkZW50aWZ5IHdoZXRoZXIgaXQgaXMgZnJvbSBpZGxlIHRpbWVvdXRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9pc0F1dG9Mb2dPdXQgPSBpc0F1dG9Mb2dPdXQ7XHJcblxyXG4gICAgICAgIHN3aXRjaCAobmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5QYWdlQ29udGFpbmVycy5RaWdTZWxlY3RvcjpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5QYWdlQ29udGFpbmVycy5NZXNzYWdlOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlBhZ2VDb250YWluZXJzLlJlcG9ydHM6XHJcbiAgICAgICAgICAgICAgICBsZXQgX3JlbWVtYmVyUWlnOiByZW1lbWJlclFpZyA9IG5ldyByZW1lbWJlclFpZygpO1xyXG4gICAgICAgICAgICAgICAgX3JlbWVtYmVyUWlnLnFpZ0lkID0gMDtcclxuICAgICAgICAgICAgICAgIF9yZW1lbWJlclFpZy5hcmVhID0gZW51bXMuUWlnQXJlYS5RaWdTZWxlY3RvcjtcclxuICAgICAgICAgICAgICAgIHVzZXJPcHRpb25zSGVscGVyLnNhdmUoXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlck9wdGlvbktleXMuUkVNRU1CRVJfUFJFVklPVVNfUUlHLFxyXG4gICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KF9yZW1lbWJlclFpZylcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNhdmluZyBjaGFuZ2VkIHVzZXIgb3B0aW9ucyBpZiBhbnkgb2YgdGhlbSBjaGFuZ2VkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKHVzZXJPcHRpb25zSGVscGVyLmhhc1VzZXJPcHRpb25zQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICB1c2VyT3B0aW9uc0hlbHBlci5Jbml0aWF0ZVNhdmVVc2VyT3B0aW9uKHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXNlclNlc3Npb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0byB1cGRhdGUgbWVzc2FnZSBwcmlvcml0eVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uT2tDbGlja01hbmRhdG9yeU1lc3NhZ2VWYWxpZGF0aW9uUG9wdXAoKSB7XHJcbiAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci51cGRhdGVNZXNzYWdlUHJpb3JpdHkoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSBzZWxlY3RlZCBzdGFuZGFyZGlzYXRpb24gdGFiIGlzIHVuY2xhc3NpZmllZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzVW5jbGFzc2lmaWVkV29ya2xpc3RTZWxlY3RlZCgpIHtcclxuICAgICAgICByZXR1cm4gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3QgPT09IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlVuQ2xhc3NpZmllZFJlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGlkZXMgdGhlIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Qb3B1cE9rQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRvU2hvd1BvcHVwOiBmYWxzZSB9KTtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBoYXMgdGhlIG1hcmsgZ3JvdXAgSWQsIENhbGwgbmF2aWdhdGUgbWV0aG9kIGZvciBjb21wbGV0aW5nIGFjdGlvbnMuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VEZXRhaWxzLnN1Ym1pdHRlZE1hcmtHcm91cElkcyAmJlxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VEZXRhaWxzLnN1Ym1pdHRlZE1hcmtHcm91cElkcy5sZW5ndGggPiAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVBZnRlclN1Ym1pdChcclxuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZURldGFpbHMuc3VibWl0dGVkTWFya0dyb3VwSWRzLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlRGV0YWlscy5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VEZXRhaWxzLmlzRnJvbU1hcmtTY2hlbWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlRGV0YWlscy5zdWJtaXR0ZWRNYXJrR3JvdXBJZHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzaG93cyB0aGUgcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBTaG93U3VwZXJ2aXNvclNhbXBsaW5nQ29tbWVudFZhbGlkYXRpb25Qb3B1cChcclxuICAgICAgICBzdXBlcnZpc29yU2FtcGxpbmdDb21tZW50UmV0dXJuOiBTdXBlcnZpc29yU2FtcGxpbmdDb21tZW50UmV0dXJuXHJcbiAgICApIHtcclxuICAgICAgICBpZiAoc3VwZXJ2aXNvclNhbXBsaW5nQ29tbWVudFJldHVybi5pc1NhbXBsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlRGV0YWlscyA9IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXI6IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RlYW0tbWFuYWdlbWVudC5yZXNwb25zZS5zYW1wbGluZy1lcnJvci1kaWFsb2ctYWxyZWFkeS1zYW1wbGVkLmJvZHknXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZVN0cmluZzogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAndGVhbS1tYW5hZ2VtZW50LnJlc3BvbnNlLnNhbXBsaW5nLWVycm9yLWRpYWxvZy1hbHJlYWR5LXNhbXBsZWQuaGVhZGVyJ1xyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93UG9wdXA6IHRydWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyB0aGUgYWN0aW9uIGV2ZW50IHdoaWxlIG1lc3NhZ2UgcHJpb3JpdHkgdXBkYXRpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWVzc2FnZVByaW9yaXR5VXBkYXRlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkb1Nob3dNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwOiBmYWxzZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiAnTm8nIGNsaWNrIG9mIGxvZ291dCBjb25maXJtYXRpb24gcG9wdXAuVGhpcyB3aWxsIGNhbGwgYSBtZXRob2QgaW4gdGhlIGNvbnRhaW5lci5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk5vQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLnByb3BzLnJlc2V0TG9nb3V0Q29uZmlybWF0aW9uU2F0dXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdXNlciBzZXNzaW9uIGRhdGEgYnkgY2hhbmdpbmcgdGhlIGxvZ2dlZF9vdXQgc3RhdHVzIHRvIDEuXHJcbiAgICAgKiBsb2dnZWRfb3V0IHN0YXR1cyAxIG1lYW5zIHVzZXIgbG9nZ2VkIG91dCBwcm9wZXJseSBieSBjbGlja2luZyBvbiB0aGVcclxuICAgICAqIGxvZyBvdXQgYnV0dG9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHVwZGF0ZVVzZXJTZXNzaW9uID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRyaWdnZXIgc2F2ZSBtYXJrIGZvciB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGl0ZW0gd2hlbiBsb2dnaW5nIG91dFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChtYXJraW5nU3RvcmUuaW5zdGFuY2UuaXNNYXJraW5nSW5Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICBtYXJraW5nQWN0aW9uQ3JlYXRvci5zYXZlQW5kTmF2aWdhdGUoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvTG9nb3V0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogbmF2aWdhdGluZyBmcm9tIGEgcmVzcG9uc2Ugd2hpY2ggaXMgaW4gdmlldyBtb2RlIGRvZXNuJ3QgcmVxdWlyZSB0byBjYWxsIHNhdmUgbWFya3NcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGxldCBsb2dvdXREYXRhID0gbmV3IGxvZ291dEFyZ3VtZW50KCk7XHJcbiAgICAgICAgICAgIGxvZ291dERhdGEuTWFya2luZ1Nlc3Npb25UcmFja2luZ0lkID0gcGFyc2VJbnQoXHJcbiAgICAgICAgICAgICAgICBsb2dpblNlc3Npb24uTUFSS0lOR19TRVNTSU9OX1RSQUNLSU5HX0lEXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGxvZ291dEFjdGlvbkNyZWF0b3IudXBkYXRlVXNlclNlc3Npb24obG9nb3V0RGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldHRpbmcgbG9naW4gaW52YWxpZCBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbkNvbmN1cnJlbnRTZXNzaW9uQWN0aXZlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNDb25jdXJyZW50U2Vzc2lvbkFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jbGVhclNlc3Npb24oKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgdGhlIHNlc3Npb24gYWZ0ZXIgdXNlciBvcHRpb24gc2F2ZWQgYW5kIGxvZ2dlZF9vdXQgc3RhdHVzIHVwZGF0ZWQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2xlYXJTZXNzaW9uID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBuYXZpZ2F0aW9uSGVscGVyLm9uQmVmb3JlV2luZG93VW5sb2FkKTtcclxuXHJcbiAgICAgICAgLyogdHNsaW50OmRpc2FibGU6bm8tc3RyaW5nLWxpdGVyYWwgKi9cclxuICAgICAgICBpZiAodGhpcy5pc0NvbmN1cnJlbnRTZXNzaW9uQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZVsnaW52YWxpZHVzZXInXSA9ICd0cnVlJztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2lzQXV0b0xvZ091dCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2VbJ2F1dG9sb2dvdXQnXSA9ICd0cnVlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogdHNsaW50OmVuYWJsZTpuby1zdHJpbmctbGl0ZXJhbCAqL1xyXG5cclxuICAgICAgICB1c2VyT3B0aW9uc0hlbHBlci5yZXNldFRva2Vuc0FuZFJlZGlyZWN0KCk7XHJcbiAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkTG9naW5QYWdlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogIGNsZWFyIG1hcmtzIGFuZCBhbm5vdGF0aW9ucyBxdWV1ZSBlbnRyeSBhbmQgdXBkYXRlIGlzRGlydHkgZmllbGRzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyA9IChcclxuICAgICAgICBtYXJrR3JvdXBJZDogbnVtYmVyLFxyXG4gICAgICAgIHNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQ6IGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludCxcclxuICAgICAgICBxdWV1ZU9wZXJhdGlvbjogZW51bXMuTWFya3NBbmRBbm5vdGF0aW9uc1F1ZXVlT3BlcmF0aW9uLFxyXG4gICAgICAgIGlzbmV0d29ya2Vycm9yOiBib29sZWFuXHJcbiAgICApOiB2b2lkID0+IHtcclxuICAgICAgICBsZXQgc2F2ZUVycm9yQ29kZTogZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbkVycm9yQ29kZSA9IG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5nZXRTYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlKFxyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24gYmVjb21lIHVuZGVmaW5lZCB3aGVuIHRoZSBtYXJrZXIgaXMgd2l0aGRyYXduIGZyb20gdGhlIHNlbGVjdGVkIHFpZy5cclxuICAgICAgICAvLyBzbyBhZGRlZCB1bmRlZmluZWQgY2hlY2sgYXMgcGFydCBvZiBidWcgNTcyMjYuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbiAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5jdXJyZW50TWFya2luZ1RhcmdldC5tYXJraW5nTW9kZSA9PT1cclxuICAgICAgICAgICAgZW51bXMuTWFya2luZ01vZGUuU2ltdWxhdGlvbiAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5zdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclBvaW50QWZ0ZXJDbG9zZSA9IHNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJQb2ludEFmdGVyQ2xvc2UgPT09XHJcbiAgICAgICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuU3VibWl0XHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyUG9pbnRBZnRlckNsb3NlID1cclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuQ2xvc2VSZXNwb25zZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCA9XHJcbiAgICAgICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuQmFja2dyb3VuZFdvcmtlcjtcclxuICAgICAgICAgICAgc2F2ZUVycm9yQ29kZSA9IGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25FcnJvckNvZGUuTm9uZTtcclxuICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIub25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyhcclxuICAgICAgICAgICAgICAgIG1hcmtHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgZW51bXMuTWFya3NBbmRBbm5vdGF0aW9uc1F1ZXVlT3BlcmF0aW9uLlJlbW92ZVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzaG93U2ltdWxhdGlvbkV4aXRlZFBvcHVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50ICE9PVxyXG4gICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuTm9uZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICAvLyByZXNldCB0aGUgc2F2ZWlucHJvZ3Jlc3MgZmxhZyB3aGVuIHNhdmluZ21hcmtzIGhhcyBiZWVuIGNvbXBsZXRlZFxyXG4gICAgICAgICAgICBtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlci5yZXNldFNhdmVJblByb2dyZXNzKCk7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBzZXQgdGhlIGN1cnJlbnQgbWFya3MgYW5kIGFubm90YXRpb25zIHNhdmUgdHJpZ2dlcmluZyBwb2ludC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQgPSBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50O1xyXG5cclxuICAgICAgICAgICAgaWYgKHNhdmVFcnJvckNvZGUgPT09IGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25FcnJvckNvZGUuUmVzcG9uc2VSZW1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdEFjdGlvbkNyZWF0b3IuZ2V0V29ya2xpc3RNYXJrZXJQcm9ncmVzc0RhdGEoXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGlyZWRNYXJrR3JvdXBJZCA9IG1hcmtHcm91cElkO1xyXG4gICAgICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIub25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyhcclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZU9wZXJhdGlvblxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRGlzcGxheWluZ1Jlc3BvbnNlUmVtb3ZlZEVycm9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuY3VycmVudFJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgZG9TaG93U2F2aW5nTWFya3NBbmRBbm5vdGF0aW9uc0luZGljYXRvcjogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNhdmVFcnJvckNvZGUgPT09IGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25FcnJvckNvZGUuQ2xvc2VkUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0QWN0aW9uQ3JlYXRvci5nZXRXb3JrbGlzdE1hcmtlclByb2dyZXNzRGF0YShcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhwaXJlZE1hcmtHcm91cElkID0gbWFya0dyb3VwSWQ7XHJcbiAgICAgICAgICAgICAgICBtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlci5vblNhdmVNYXJrc0FuZEFubm90YXRpb25zKFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlT3BlcmF0aW9uXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNEaXNwbGF5aW5nR3JhY2VSZXNwb25zZUV4cGlyZWRFcnJvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLmN1cnJlbnRSZXNwb25zZU1vZGUgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3I6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzYXZlRXJyb3JDb2RlID09PSBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlLldpdGhkcmF3blJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIENhbGxpbmcgdGhlIGhlbHBlciBtZXRob2QgdG8gdXBkYXRlIHRoZSBtYXJrcyBhbmQgYW5ub3RhdGlvbnMgcXVldWVcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIub25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyhcclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZU9wZXJhdGlvblxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25XaXRoZHJhd25SZXNwb25zZShcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlLldpdGhkcmF3blJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5uYXZpZ2F0ZVRvXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgc2F2ZUVycm9yQ29kZSA9PT0gZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbkVycm9yQ29kZS5VbmFsbG9jYXRlZFJlc3BvbnNlIHx8XHJcbiAgICAgICAgICAgICAgICBzYXZlRXJyb3JDb2RlID09PSBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlLk1hcmtzQW5kQW5ub3RhdGlvbnNPdXRPZkRhdGVcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIENhbGxpbmcgdGhlIGhlbHBlciBtZXRob2QgdG8gdXBkYXRlIHRoZSBtYXJrcyBhbmQgYW5ub3RhdGlvbnMgcXVldWVcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIub25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyhcclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZU9wZXJhdGlvblxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCA9PT1cclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuU3VibWl0XHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAgICAgKiBXaGVuIHRoZXJlIGFyZSBlcnJvcnMgaW4gc2F2aW5nIG1hcmtzIGFuZCBhbm5vdGF0aW9ucyB3ZSBoYXZlIHRvIGhpZGUgdGhlIGJ1c3kgaW5kaWNhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckFjdGlvbkNyZWF0b3Iuc2V0QnVzeUluZGljYXRvckludm9rZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLm5vbmVcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9uUmVjb3ZlcmFibGVTYXZlTWFya3NBbmRBbm5vdGF0aW9uc0Vycm9yTWVzc2FnZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5DbG9zZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNXaXRoTm9uUmVjb3ZlcmFibGVFcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQsIG1hcmtHcm91cElkLCBxdWV1ZU9wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSB0aGUgc2F2aW5nIG1hcmtzIGFuZCBhbm5vdGF0aW9ucyBidXN5IGluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5kb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkQ29udGFpbmVySWZOZWVkZWQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5QYWdlQ29udGFpbmVycy5Xb3JrTGlzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5DbG9zZVJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGVDb250ZW50UmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNXaXRoTm9uUmVjb3ZlcmFibGVFcnJvcihcclxuICAgICAgICAgICAgICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50LCBtYXJrR3JvdXBJZCwgcXVldWVPcGVyYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNPbmxpbmU6ICFpc25ldHdvcmtlcnJvclxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHNob3cgdGhlIGVycm9yIG1lc3NhZ2Ugd2hlbiBhIG1hcmtlciBpcyB3aXRoZHJhd24gZnJvbSBiYWNrZ3JvdW5kXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25XaXRoZHJhd25SZXNwb25zZSA9IChcclxuICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlOiBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlLFxyXG4gICAgICAgIG5hdmlnYXRpbmdUbzogZW51bXMuU2F2ZUFuZE5hdmlnYXRlXHJcbiAgICApOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLmV4YW1pbmVyQXBwcm92YWxTdGF0dXMgPSBzYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlO1xyXG4gICAgICAgIHRoaXMubmF2aWdhdGVSZXBvbnNlID0gbmF2aWdhdGluZ1RvO1xyXG4gICAgICAgIGxldCBjdXJyZW50UWlnID0gcWlnU3RvcmUuaW5zdGFuY2UuZ2V0T3ZlcnZpZXdEYXRhLnFpZ1N1bW1hcnlcclxuICAgICAgICAgICAgLmZpbHRlcihcclxuICAgICAgICAgICAgKHFpZzogcWlnSW5mbykgPT5cclxuICAgICAgICAgICAgICAgIHFpZy5leGFtaW5lclJvbGVJZCA9PT1cclxuICAgICAgICAgICAgICAgIGV4YW1pbmVyU3RvcmUuaW5zdGFuY2UuZ2V0TWFya2VySW5mb3JtYXRpb24uZXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAuZmlyc3QoKTtcclxuXHJcbiAgICAgICAgLy8gcmVtb3ZlcyBlbnRyeSBmcm9tIHJlY2VudCBoaXN0b3J5XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yLnJlbW92ZUhpc3RvcnlJdGVtKFxyXG4gICAgICAgICAgICBjdXJyZW50UWlnID8gY3VycmVudFFpZy5tYXJrU2NoZW1lR3JvdXBJZCA6IDBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZG9TaG93U2F2aW5nTWFya3NBbmRBbm5vdGF0aW9uc0luZGljYXRvcjogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzV2l0aGRyYXduUmVzcG9uc2VFcnJvcjogdHJ1ZSxcclxuICAgICAgICAgICAgaXNCdXN5OiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqICBUaGlzIHdpbGwgcmVtb3ZlIHRoZSBpdGVtIGZyb20gbWFya3NBbmRBbm5vdGF0aW9ucyBzYXZlIHByb2Nlc3NpbmcgcXVldWUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TZXRIYXNOb25SZWNvdmVyYWJsZUVycm9yID0gKG1hcmtHcm91cElkOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBoZWxwZXIgbWV0aG9kIHRvIHVwZGF0ZSB0aGUgbWFya3MgYW5kIGFubm90YXRpb25zIHF1ZXVlXHJcbiAgICAgICAgbGV0IHF1ZXVlT3BlcmF0aW9uOiBlbnVtcy5NYXJrc0FuZEFubm90YXRpb25zUXVldWVPcGVyYXRpb24gPVxyXG4gICAgICAgICAgICBlbnVtcy5NYXJrc0FuZEFubm90YXRpb25zUXVldWVPcGVyYXRpb24uUmVtb3ZlO1xyXG4gICAgICAgIG1hcmtzQW5kQW5ub3RhdGlvbnNTYXZlSGVscGVyLm9uU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnMobWFya0dyb3VwSWQsIHF1ZXVlT3BlcmF0aW9uKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gc2hvdyB0aGUgYnVzeSBpbmRpY2F0b3Igb24gdHJpZ2dlcmluZyBzYXZpbmcgb2YgbWFya3MgYW5kIGFubm90YXRpb25zXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1RyaWdnZXJlZCA9IChcclxuICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50OiBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnRcclxuICAgICk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCAhPT1cclxuICAgICAgICAgICAgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50Lk5vbmUgJiZcclxuICAgICAgICAgICAgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCAhPT1cclxuICAgICAgICAgICAgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkJhY2tncm91bmRXb3JrZXJcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHbyB0byBsb2dvdXQgYWZ0ZXIgc2F2aW5nIG1hcmsgaWYgdGhlcmUgaXMgYW55XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbmF2aWdhdGVBd2F5RnJvbVJlc3BvbnNlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmIChtYXJraW5nU3RvcmUuaW5zdGFuY2UubmF2aWdhdGVUbyA9PT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvTG9nb3V0KSB7XHJcbiAgICAgICAgICAgIGxldCBsb2dvdXREYXRhID0gbmV3IGxvZ291dEFyZ3VtZW50KCk7XHJcbiAgICAgICAgICAgIGxvZ291dERhdGEuTWFya2luZ1Nlc3Npb25UcmFja2luZ0lkID0gcGFyc2VJbnQoXHJcbiAgICAgICAgICAgICAgICBsb2dpblNlc3Npb24uTUFSS0lOR19TRVNTSU9OX1RSQUNLSU5HX0lEXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGxvZ291dEFjdGlvbkNyZWF0b3IudXBkYXRlVXNlclNlc3Npb24obG9nb3V0RGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcmVzZXQgbWFyayBlbnRyeSBkZWFjdGl2YXRvcnMgb24gbmF2aWdhdGluZyBhd2F5IGZyb20gcmVzcG9uc2UuXHJcbiAgICAgICAgICAgIGtleURvd25IZWxwZXIuaW5zdGFuY2UucmVzZXRNYXJrRW50cnlEZWFjdGl2YXRvcnMoKTtcclxuICAgICAgICAgICAgLy8gd2UgYXJlIGRlYWN0aXZhdGluZyB0aGUga2V5ZG93biBoZWxwZXIgd2hpbGUgbWVzc2FnZSBwYW5lbCBvciBleGNlcHRpb24gcGFuZWwgaXMgb3Blbi4gV2UgYXJlIGRpc2FibGluZyB0aGF0XHJcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgY29ycmVzcG9uZGluZyBwYW5lbCBpcyBjbG9zZS4gSWYgdXNlciBpcyBuYXZpZ2F0ZSBhd2F5IGZyb20gcmVzcG9uc2Ugc2NyZWVuIHdpdGhvdXQgY2xvc2luZyB0aGUgbWVzc2FnZSBwYW5lbFxyXG4gICAgICAgICAgICAvLyB0aGVuIHdlJ3ZlIHRvIGFjdGl2YXRlIHRoZSBrZXlkb3duIGhlbHBlclxyXG4gICAgICAgICAgICBpZiAobWVzc2FnZVN0b3JlLmluc3RhbmNlLmlzTWVzc2FnZVBhbmVsVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAga2V5RG93bkhlbHBlci5pbnN0YW5jZS5EZUFjdGl2YXRlKGVudW1zLk1hcmtFbnRyeURlYWN0aXZhdG9yLk1lc3NhZ2luZyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhjZXB0aW9uU3RvcmUuaW5zdGFuY2UuaXNFeGNlcHRpb25QYW5lbFZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIGtleURvd25IZWxwZXIuaW5zdGFuY2UuRGVBY3RpdmF0ZShlbnVtcy5NYXJrRW50cnlEZWFjdGl2YXRvci5FeGNlcHRpb24pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5uYXZpZ2F0ZVRvID09PSBlbnVtcy5TYXZlQW5kTmF2aWdhdGUudG9NZW51KSB7XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nQWN0aW9uQ3JlYXRvci5yZW1vdmVNYXJrRW50cnlTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIGtleURvd25IZWxwZXIuaW5zdGFuY2UuRGVBY3RpdmF0ZShlbnVtcy5NYXJrRW50cnlEZWFjdGl2YXRvci5NZW51KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvcHlNYXJrc0FzRGVmaW5pdGl2ZVNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIHNob3cgdGhlIGJ1c3kgaW5kaWNhdG9yIG9uIHRyaWdnZXJpbmcgc2F2aW5nIG9mIG1hcmtzIGFuZCBhbm5vdGF0aW9uc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlZnJlc2hTdGF0ZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBzd2l0Y2ggKG5hdmlnYXRpb25TdG9yZS5pbnN0YW5jZS5jb250YWluZXJQYWdlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUGFnZUNvbnRhaW5lcnMuTG9naW46XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyU2Vzc2lvbigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKlxyXG4gICAgICogT24gQWNjZXB0IFF1YWxpdHkgRmVlZGJhY2sgQWN0aW9uIGNvbXBsZXRlZEZcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbkFjY2VwdFF1YWxpdHlGZWVkYmFja0FjdGlvbkNvbXBsZXRlZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBsZXQgcmVzcG9uc2VNb2RlQmFzZWRPblF1YWxpdHlGZWVkYmFjazogZW51bXMuUmVzcG9uc2VNb2RlID0gcXVhbGl0eUZlZWRiYWNrSGVscGVyLmdldFJlc3BvbnNlTW9kZUJhc2VkT25RdWFsaXR5RmVlZGJhY2soKTtcclxuICAgICAgICBpZiAocmVzcG9uc2VNb2RlQmFzZWRPblF1YWxpdHlGZWVkYmFjayAhPT0gZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCkge1xyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VNb2RlID1cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlTW9kZUJhc2VkT25RdWFsaXR5RmVlZGJhY2sgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgID8gcmVzcG9uc2VNb2RlQmFzZWRPblF1YWxpdHlGZWVkYmFja1xyXG4gICAgICAgICAgICAgICAgICAgIDogZW51bXMuUmVzcG9uc2VNb2RlLm9wZW47XHJcbiAgICAgICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RBY3Rpb25DcmVhdG9yLm5vdGlmeVdvcmtsaXN0VHlwZUNoYW5nZShcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyUGFydElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZW1hcmtSZXF1ZXN0VHlwZSxcclxuICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzRGlyZWN0ZWRSZW1hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTm9uLVJlY292ZXJhYmxlIG1hcmtzIGFuZCBhbm5vdGF0aW9uIHNhdmUgZXJyb3IgbWVzc2FnZSBvayBjbGlja1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uT2tDbGlja09mTm9uUmVjb3ZlcmFibGVFcnJvck1lc3NhZ2UoKSB7XHJcbiAgICAgICAgLy8gY2xvc2UgdGhlIG5vbi1yZWNvdmVyYWJsZSBlcnJvciBwb3B1cCBvbiBzdWJtaXQgaWYgaXQgaXMgYWxyZWFkeSBvcGVuLlxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm5vblJlY292ZXJhYmxlU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBub25SZWNvdmVyYWJsZVNhdmVNYXJrc0FuZEFubm90YXRpb25zRXJyb3JNZXNzYWdlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGNsb3NlIHRoZSBub24tcmVjb3ZlcmFibGUgZXJyb3IgcG9wdXAuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNOb25SZWNvdmVyYWJsZUVycm9yUG9wdXBWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgaXNOb25SZWNvdmVyYWJsZUVycm9yUG9wdXBWaXNpYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRoaXMgd2lsbCBjbGVhciB0aGUgbWFya3MgYW5kIGFubm90YXRpb25zIHdpdGggbm9uLXJlY292ZXJhYmxlIGVycm9yIGZyb20gc3RvcmUgY29sbGVjdGlvbi5cclxuICAgICAgICAvLyBUaGlzIHdpbGwgcmVsb2FkIGJ5IGJhY2tncm91bmQgY2FsbCBvciB3aGlsZSBvcGVuaW5nIHRoZSByZXNwb25zZS5cclxuICAgICAgICBtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlci5jbGVhck1hcmtzQW5kQW5ub3RhdGlvbnNGb3JOb25SZWNvdmVyYWJsZUVycm9ycygpO1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwcm9jZXNzQmFzZWRPblNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQgb24gU3VibWl0IHdpbGwgbWFrZSB0aGUgREIgY2FsbC5cclxuICAgICAgICAvLyByZWZyZXNoIGFuZCBuYXZpZ2F0ZSB0byB3b3JrbGlzdCBpZiB0aGVyZSBpcyBhbiBlcnJvci5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQgPT09XHJcbiAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5TdWJtaXRcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkQ29udGFpbmVySWZOZWVkZWQoXHJcbiAgICAgICAgICAgICAgICBlbnVtcy5QYWdlQ29udGFpbmVycy5Xb3JrTGlzdCxcclxuICAgICAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5DbG9zZVJlc3BvbnNlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdGVDb250ZW50UmVmcmVzaCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0Jhc2VkT25TYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50KFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgaGFuZGxlIHRoZSBuYXZpZ2F0aW9uIGJhc2VkIG9uIHRoZSB0cmlnZ2VyaW5nIHBvaW50LlxyXG4gICAgICogQHBhcmFtIHNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnRcclxuICAgICAqIEBwYXJhbSBtYXJrR3JvdXBJZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHByb2Nlc3NCYXNlZE9uU2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludChcclxuICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50OiBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQsXHJcbiAgICAgICAgbWFya0dyb3VwSWQ/OiBudW1iZXJcclxuICAgICkge1xyXG4gICAgICAgIHN3aXRjaCAoc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5DbG9zZVJlc3BvbnNlOlxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkQ29udGFpbmVySWZOZWVkZWQoXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkNsb3NlUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkluYm94OlxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkQ29udGFpbmVySWZOZWVkZWQoXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkluYm94LFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5Mb2dvdXQ6XHJcbiAgICAgICAgICAgICAgICAvKiBUcmlnZ2VyIHNhdmUgbWFyayBmb3IgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBpdGVtIHdoZW4gbG9nZ2luZyBvdXQgKi9cclxuICAgICAgICAgICAgICAgIG1hcmtpbmdBY3Rpb25DcmVhdG9yLnNhdmVBbmROYXZpZ2F0ZShlbnVtcy5TYXZlQW5kTmF2aWdhdGUudG9Mb2dvdXQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LlN1Ym1pdDpcclxuICAgICAgICAgICAgICAgIHN1Ym1pdEhlbHBlci5zYXZlQW5kU3VibWl0UmVzcG9uc2UoXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya0dyb3VwSWQgPyBtYXJrR3JvdXBJZCA6IHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldE1hcmtHcm91cElkXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkNsYXNzaWZ5OlxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIE1hcmtHcm91cFJvd1ZlcnNpb24gYWZ0ZXIgc2F2ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xhc3NpZnlSZXNwb25zZURldGFpbHMuZXNNYXJrR3JvdXBSb3dWZXJzaW9uID0gbWFya2luZ1N0b3JlLmluc3RhbmNlLmdldFVwZGF0ZWRSb3dWZXJzaW9uT25TYXZlQW5kQ2xhc3NpZnk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBjbGFzc2lmeSByZXNwb25zZSBhY3Rpb24gd2l0aCB1cGRhdGVkIE1hcmtHcm91cFJvd1ZlcnNpb25cclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IuY2xhc3NpZnlSZXNwb25zZSh0aGlzLl9jbGFzc2lmeVJlc3BvbnNlRGV0YWlscyxcclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uU3RvcmUuaW5zdGFuY2UuY29udGFpbmVyUGFnZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuU2hhcmVBbmRDbGFzc2lmeTpcclxuICAgICAgICAgICAgICAgIHN1Ym1pdEFjdGlvbkNyZWF0b3Iuc2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuX3NoYXJlUmVzcG9uc2VBcmd1bWVudCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1NoYXJlZEZyb21NYXJrU2NoZW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLmRpc3BsYXlJZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gZ2V0IEdyYWNlIFBlcmlvZCBFeHBpcmVkIE1lc3NhZ2UgQm9keVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRHcmFjZVBlcmlvZEV4cGlyZWRNZXNzYWdlQm9keSgpIHtcclxuICAgICAgICBsZXQgZXJyb3JCb2R5OiBzdHJpbmcgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zYXZpbmctbWFya3MtZXJyb3ItZGlhbG9nLmJvZHktZ3JhY2UtcGVyaW9kLWV4cGlyZWQtY2hhbmdlcy1ub3Qtc2F2ZWQnXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZXJyb3JCb2R5LnJlcGxhY2UoXHJcbiAgICAgICAgICAgICd7MH0nLFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmRpc3BsYXlJZE9mTWFya0dyb3VwKHRoaXMuZXhwaXJlZE1hcmtHcm91cElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gZ2V0IFJlc3BvbnNlIHJlbW92ZWQgZXJyb3IgZGlhbG9nIE1lc3NhZ2UgQm9keVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSZXNwb25zZVJlbW92ZWRFcnJvckRpYWxvZ01lc3NhZ2VCb2R5KCkge1xyXG4gICAgICAgIGxldCBlcnJvckJvZHk6IHN0cmluZyA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLnNhdmluZy1tYXJrcy1lcnJvci1kaWFsb2cuYm9keS1yZXNwb25zZS1yZW1vdmVkLWZyb20td29ya2xpc3QnXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZXJyb3JCb2R5LnJlcGxhY2UoXHJcbiAgICAgICAgICAgICd7MH0nLFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmRpc3BsYXlJZE9mTWFya0dyb3VwKHRoaXMuZXhwaXJlZE1hcmtHcm91cElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IHJlc3BvbnNlIGluIGdyYWNlIG5vdCBmdWxseSBtYXJrZWQgbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzaG93UmVzcG9uc2VJbkdyYWNlTm90RnVsbHlNYXJrZWRNZXNzYWdlID0gKFxyXG4gICAgICAgIGZhaWx1cmVSZWFzb246IGVudW1zLlJlc3BvbnNlTmF2aWdhdGVGYWlsdXJlUmVhc29uXHJcbiAgICApOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLl9mYWlsdXJlUmVhc29uID0gZmFpbHVyZVJlYXNvbjtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNEaXNwbGF5aW5nR3JhY2VSZXNwb25zZUxlc3N0aGFuMTAwUGVyY2VudGFnZUVycm9yOiB0cnVlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEp1c3QgaGlkZSB0aGUgcmVzcG9uc2UgaW4gZ3JhY2UgbWVzc2FnZSBvbiBvayBjbGljay5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk9rQ2xpY2tPZlJlc3BvbnNlSW5HcmFjZU1lc3NhZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzRGlzcGxheWluZ0dyYWNlUmVzcG9uc2VMZXNzdGhhbjEwMFBlcmNlbnRhZ2VFcnJvcjogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuX2ZhaWx1cmVSZWFzb24gPT09IGVudW1zLlJlc3BvbnNlTmF2aWdhdGVGYWlsdXJlUmVhc29uLkFsbFBhZ2VzTm90QW5ub3RhdGVkSW5HcmFjZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICAvLyBDbG9zaW5nIHRoZSB1c2VyIGluZm9ybWF0aW9uIHBhbmVsLCBpZiB0aGUgcG9wdXAgaXMgdHJpZ2dlcmVkIGR1ZSB0byBsb2dvdXQgYnV0dG9uIGFjdGlvbi5cclxuICAgICAgICAgICAgLy8gbW92aW5nIHRvIGZ1bGwgcmVzcG9uc2Ugdmlldy5cclxuICAgICAgICAgICAgbWFya2luZ0FjdGlvbkNyZWF0b3Iuc2F2ZUFuZE5hdmlnYXRlKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b0Z1bGxSZXNwb25zZXZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLl9mYWlsdXJlUmVhc29uID0gZW51bXMuUmVzcG9uc2VOYXZpZ2F0ZUZhaWx1cmVSZWFzb24uTm9uZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBKdXN0IGhpZGUgdGhlIHJlc3BvbnNlIGluIGdyYWNlIG1lc3NhZ2Ugb24gb2sgY2xpY2suXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Pa0NsaWNrT2ZSZXNwb25zZUluR3JhY2VFeHBpcmVkTWVzc2FnZU9yUmVzcG9uc2VSZW1vdmVkTWVzc2FnZSgpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQgPT09XHJcbiAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5Mb2dvdXRcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVVc2VyU2Vzc2lvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBjbGVhciB0aGUgbWFya3MgYW5kIGFubm90YXRpb25zIHdpdGggbWFyayBzYXZlIGVycm9yc1xyXG4gICAgICAgICAgICAvLyBUaGlzIHdpbGwgcmVsb2FkIGJ5IGJhY2tncm91bmQgY2FsbCBvciB3aGlsZSBvcGVuaW5nIHRoZSByZXNwb25zZS5cclxuICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIuY2xlYXJNYXJrc0FuZEFubm90YXRpb25zRm9yTWFya1NhdmVFcnJvcnMoKTtcclxuICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkV29ya2xpc3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGVycm9yIG1lc3NhZ2UgdGhhdCBoYXMgdG8gYmUgc2hvd24gd2hpbGUgYSBtYXJrZXIgaXMgd2l0aGRyYXduIGluIHRoZSBiYWNrZ3JvdW5kXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0V2l0aGRyYXduUmVzcG9uc2VFcnJvck1lc3NhZ2UoKSB7XHJcbiAgICAgICAgbGV0IGVycm9yQm9keTogc3RyaW5nID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtYWxsb2NhdGlvbi1lcnJvci1kaWFsb2cucmVzcG9uc2UtYWxsb2NhdGlvbi1lcnJvci13aXRoZHJhd25NYXJrZXInXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZXJyb3JCb2R5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBlcnJvciBtZXNzYWdlIHRoYXQgaGFzIHRvIGJlIHNob3duIHdoaWxlIGEgbWFya2VyIGlzIHdpdGhkcmF3biBpbiB0aGUgYmFja2dyb3VuZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFNlc3Npb25DbG9zZWRFcnJvck1lc3NhZ2UoKSB7XHJcbiAgICAgICAgbGV0IGVycm9yQm9keTogc3RyaW5nID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucmVxdWVzdC1tYXJraW5nLWNoZWNrLWVycm9yLWRpYWxvZy5ib2R5LXNlc3Npb24tY2xvc2VkJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yQm9keTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIGNsaWtpbmcgT2sgYnV0dG9uIG9mIHRoZSByZXNwb25zZSB0cmlnZ2VyIGNsb3NlIHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Pa0NsaWNrT2ZXaXRoRHJhd0Vycm9yTWVzc2FnZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5mb290ZXJUeXBlID09PSBlbnVtcy5Gb290ZXJUeXBlLlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5hdmlnYXRlUmVwb25zZSA9PT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvSW5ib3hNZXNzYWdlUGFnZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzQmFzZWRPblNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkluYm94XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkTWVzc2FnZVBhZ2UoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCB1cGRhdGVOYXZpZ2F0aW9uUHJvbWlzZSA9IG1hcmtpbmdBY3Rpb25DcmVhdG9yLnVwZGF0ZU5hdmlnYXRpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvUWlnU2VsZWN0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBQcm9taXNlLlByb21pc2UuYWxsKFt1cGRhdGVOYXZpZ2F0aW9uUHJvbWlzZV0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdDogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5wcm9jZXNzQmFzZWRPblNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5DbG9zZVJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhhdC5uYXZpZ2F0ZVJlcG9uc2UgPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b0xvZ291dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lm5hdmlnYXRlQXdheUZyb21SZXNwb25zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzV2l0aGRyYXduUmVzcG9uc2VFcnJvcjogZmFsc2UsIGlzQnVzeTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZUFkYXB0ZXJIZWxwZXIuY2xlYXJDYWNoZUJ5S2V5KCdxaWdzZWxlY3RvcicsICdvdmVydmlld2RhdGEnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5nZXRPdmVydmlld0RhdGEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50UWlnID0gcWlnU3RvcmUuaW5zdGFuY2UuZ2V0T3ZlcnZpZXdEYXRhLnFpZ1N1bW1hcnlcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKFxyXG4gICAgICAgICAgICAgICAgICAgIChxaWc6IHFpZ0luZm8pID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFpZy5leGFtaW5lclJvbGVJZCA9PT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhbWluZXJTdG9yZS5pbnN0YW5jZS5nZXRNYXJrZXJJbmZvcm1hdGlvbi5leGFtaW5lclJvbGVJZFxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAuZmlyc3QoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0ZWFtTWFuYWdlbWVudEFjdGlvbkNyZWF0b3IucmVtb3ZlSGlzdG9yeUl0ZW0oXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFFpZyA/IGN1cnJlbnRRaWcubWFya1NjaGVtZUdyb3VwSWQgOiAwXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHFpZ0FjdGlvbkNyZWF0b3IuZ2V0UUlHU2VsZWN0b3JEYXRhKDApO1xyXG4gICAgICAgICAgICBsb2FkQ29udGFpbmVyQWN0aW9uQ3JlYXRvci5sb2FkQ29udGFpbmVyKGVudW1zLlBhZ2VDb250YWluZXJzLlFpZ1NlbGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IG1hbmRhdG9yeSBtZXNzYWdlIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hvd01hbmRhdG9yeU1lc3NhZ2VQb3B1cCA9IChcclxuICAgICAgICBpc1VucmVhZE1hbmRhdG9yeU1lc3NhZ2VQcmVzZW50OiBib29sZWFuLFxyXG4gICAgICAgIHRyaWdnZXJQb2ludDogZW51bXMuVHJpZ2dlclBvaW50XHJcbiAgICApOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoaXNVbnJlYWRNYW5kYXRvcnlNZXNzYWdlUHJlc2VudCkge1xyXG4gICAgICAgICAgICB0aGlzLm1hbmRhdG9yeU1lc3NhZ2VUcmlnZ2VyaW5nUG9pbnQgPSB0cmlnZ2VyUG9pbnQ7XHJcbiAgICAgICAgICAgIHRoaXMub25Qb3BVcERpc3BsYXlFdmVudChcclxuICAgICAgICAgICAgICAgIGVudW1zLlBvcFVwVHlwZS5NYW5kYXRvcnlNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgZW51bXMuUG9wVXBBY3Rpb25UeXBlLlNob3csXHJcbiAgICAgICAgICAgICAgICBudWxsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3BsYXkgdGhlIGNvcnJlc3BvbmRpbmcgcG9wdXBzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Qb3BVcERpc3BsYXlFdmVudCA9IChcclxuICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZSxcclxuICAgICAgICBwb3BVcEFjdGlvblR5cGU6IGVudW1zLlBvcFVwQWN0aW9uVHlwZSxcclxuICAgICAgICBwb3BVcERhdGE6IFBvcFVwRGF0YVxyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5wb3BVcERhdGEgPSBwb3BVcERhdGE7XHJcbiAgICAgICAgaWYgKHBvcFVwQWN0aW9uVHlwZSA9PT0gZW51bXMuUG9wVXBBY3Rpb25UeXBlLlNob3cpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFVwVHlwZTogcG9wVXBUeXBlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGUgZGlmZmVyZW50IHBvcHVwIGFjdGlvbnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBoYW5kbGVQb3BVcEFjdGlvbiA9IChcclxuICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZSxcclxuICAgICAgICBwb3BVcEFjdGlvblR5cGU6IGVudW1zLlBvcFVwQWN0aW9uVHlwZVxyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChwb3BVcEFjdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuU2hvdzpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlBvcFVwQWN0aW9uVHlwZS5ZZXM6XHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIG5hdmlnYXRlZCBmcm9tIG1lc3NhZ2UgcGFuZWwgdGhlIG5hdmlnYXRlIGFjdGlvbiBpcyBjYWxsZWRcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5jYW5OYXZpZ2F0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5jYW5NZXNzYWdlTmF2aWdhdGUodGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLm1lc3NhZ2VBY3Rpb24oZW51bXMuTWVzc2FnZVZpZXdBY3Rpb24uQ2xvc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IHVuZGVmaW5lZCB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wVXBEaXNwbGF5QWN0aW9uQ3JlYXRvci5wb3BVcERpc3BsYXkoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcFVwVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wVXBBY3Rpb25UeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UubmF2aWdhdGVGcm9tLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7fVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFVwVHlwZTogdW5kZWZpbmVkIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBBY3Rpb25UeXBlLk5vOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHBvcFVwRGlzcGxheUFjdGlvbkNyZWF0b3IucG9wVXBEaXNwbGF5KFxyXG4gICAgICAgICAgICAgICAgICAgIHBvcFVwVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3BVcEFjdGlvblR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLm5hdmlnYXRlRnJvbSxcclxuICAgICAgICAgICAgICAgICAgICB7fVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IHVuZGVmaW5lZCB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlBvcFVwQWN0aW9uVHlwZS5PazpcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBwb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5NYW5kYXRvcnlNZXNzYWdlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5mb290ZXJUeXBlICE9PSBlbnVtcy5Gb290ZXJUeXBlLk1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUmVzcG9uc2UgZGlzcGxheWVkIGluIEF0eXBpY2FsIHdvcmtsaXN0IGV2ZW4gYWZ0ZXIgY2hhbmdpbmcgdGhlIHJlc3BvbnNlIHRvICdPbiBob2xkJyBpbiBBSSBJbWFnZSBNYW5hZ2VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zbyBkbyByZWZyZXNoIHdvcmtsaXN0IGNvbnRlbnQgd2hlbiBtYW5kYXRvcnkgbWVzc2FnZSBwb3B1cCBhcHBlYXJzXHJcbiAgICAgICAgICAgICAgICAgICAgLy9UaGlzIHdpbGwgYWZmZWN0IGFsbCByZXNwb25zZSB0eXBlcyBleGNlcHQgbGl2ZS5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2VBZGFwdGVySGVscGVyLmNsZWFyU3RvcmFnZUFyZWEoJ3dvcmtsaXN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVkaXJlY3RpbmcgdG8gaW5ib3ggc2NyZWVuLCBpZiB1c2VyIGN1cnJlbnRseSBub3QgaW4gdGhlIG1lc3NhZ2Ugc2NyZWVuXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkTWVzc2FnZVBhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgcG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuTWFuZGF0b3J5TWVzc2FnZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZm9vdGVyVHlwZSA9PT0gZW51bXMuRm9vdGVyVHlwZS5NZXNzYWdlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW5kYXRvcnlNZXNzYWdlVHJpZ2dlcmluZ1BvaW50ICE9PSBlbnVtcy5UcmlnZ2VyUG9pbnQuTWVzc2FnZVN0b3JlXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJlZnJlc2ggaW5ib3ggdGFiIGlmIHdlIGZvdW5kIG1hbmRhdG9yeSBtZXNzYWdlcyBhcmUgYXZhaWxhYmxlIGR1cmluZyBtZXNzYWdlIGxvYWRpbmcgYWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVmcmVzaCB0aGUgaW5ib3ggdGFiIHdpdGggc2VsZWN0ZWQgbWFuZGF0b3J5IG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLnJlZnJlc2hNZXNzYWdlRm9sZGVyKGVudW1zLk1lc3NhZ2VGb2xkZXJUeXBlLkluYm94KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubWFuZGF0b3J5TWVzc2FnZVRyaWdnZXJpbmdQb2ludCA9IGVudW1zLlRyaWdnZXJQb2ludC5Ob25lO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFVwVHlwZTogdW5kZWZpbmVkIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIHJlc3BvbnNlIHN1Ym1pc3Npb24gY29tcGxldGVkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TdWJtaXRSZXNwb25zZUNvbXBsZXRlZCA9IChcclxuICAgICAgICBmcm9tTWFya1NjaGVtZTogYm9vbGVhbixcclxuICAgICAgICBzdWJtaXR0ZWRNYXJrR3JvdXBJZHM6IEFycmF5PG51bWJlcj4sXHJcbiAgICAgICAgc2VsZWN0ZWREaXNwbGF5SWQ6IHN0cmluZ1xyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yRm9yUEUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdWJtaXRNZXNzYWdlRXJyb3JQb3B1cENvbnRlbnQgPSB3b3JrbGlzdENvbXBvbmVudEhlbHBlci5zaG93TWVzc2FnZU9uU3VibWl0UmVzcG9uc2UoXHJcbiAgICAgICAgICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRTdWJtaXR0ZWRSZXNwb25zZXNDb3VudCgpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vdXBkYXRpbmcgcHJvdmlzaW9uYWwgcmVzcG9uc2UgY29sbGVjdGlvbiBhbmQgbmF2aWdhdGluZyBhZnRlciBzaGFyaW5nIFByb3Zpc2lvbmFsIFJlc3BvbnNlXHJcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dTaGFyZUxvYWRpbmdJbmRpY2F0b3IgJiYgZnJvbU1hcmtTY2hlbWUpIHtcclxuICAgICAgICAgICAgbGV0IHN0ZFdvcmtsaXN0VmlldzogZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmlzVG90YWxNYXJrc1ZpZXdTZWxlY3RlZCA/IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld1RvdGFsTWFya3MgOlxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld01hcmtzQnlRdWVzdGlvbjtcclxuICAgICAgICAgICAgbGV0IGlzTmV4dFJlc3BvbnNlQXZhaWxhYmxlID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5pc05leHRSZXNwb25zZUF2YWlsYWJsZShzZWxlY3RlZERpc3BsYXlJZCk7XHJcbiAgICAgICAgICAgIGxldCBuZXh0UmVzcG9uc2VJZCA9XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLm5leHRSZXNwb25zZUlkKHJlc3BvbnNlU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWREaXNwbGF5SWQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGlmIChpc05leHRSZXNwb25zZUF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YSA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZ2V0UmVzcG9uc2VEZXRhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWREaXNwbGF5SWQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHNoYXJlZCByZXNwb25zZSBmcm9tIHByb3Zpc2lvbmFsIHJlc3BvbnNlIHdvcmtsaXN0IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnVwZGF0ZVN0YW5kYXJkaXNhdGlvblJlc3BvbnNlQ29sbGVjdGlvbihcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuZXNNYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNCdXN5OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLnJlc3BvbnNlTmF2aWdhdGlvbihlbnVtcy5SZXNwb25zZU5hdmlnYXRpb24ubmV4dCwgZmFsc2UsIHBhcnNlSW50KG5leHRSZXNwb25zZUlkKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBuZXh0IHJlc3BvbnNlIGlzIG5vdCBhdmFpbGFibGUgdGhlbiBsb2FkIHdvcmtsaXN0LlxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkU3RhbmRhcmRpc2F0aW9uU2V0dXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBMb2dnaW5nIGV2ZW50IGluIGdvb2dsZSBhbmFseXRpY3Mgb3IgYXBwbGljYXRpb24gaW5zaWdodHMgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICBuZXcgYXVkaXRMb2dnaW5nSGVscGVyKCkubG9nSGVscGVyLmxvZ0V2ZW50T25TdWJtaXRSZXNwb25zZShcclxuICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0U3VibWl0dGVkUmVzcG9uc2VzQ291bnQoKSxcclxuICAgICAgICAgICAgc3VibWl0dGVkTWFya0dyb3VwSWRzXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IG1lc3NhZ2VLZXk6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGxldCBtZXNzYWdlSGVhZGVyS2V5OiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIC8vIElmIE5vIHZhbGlkYXRpb24gRXJyb3IsIENoZWNrIHRoZSB3aGV0aGVyIHRvIGRpc3BsYXkgdGhlIFF1YWxpdHkgRmVlZGJhY2sgTWVzc2FnZVxyXG4gICAgICAgIGlmICh3b3JrbGlzdENvbXBvbmVudEhlbHBlci5zaG91bGRTaG93UXVhbGl0eUZlZWRiYWNrTWVzc2FnZSgpKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VLZXkgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucXVhbGl0eS1mZWVkYmFjay1kaWFsb2cuYm9keSdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgbWVzc2FnZUhlYWRlcktleSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5xdWFsaXR5LWZlZWRiYWNrLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0Q3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnN0YW5kYXJkaXNhdGlvbiB8fFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRDdXJyZW50V29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuc2Vjb25kc3RhbmRhcmRpc2F0aW9uXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldFN1Ym1pdFJlc3BvbnNlUmV0dXJuLmV4YW1pbmVyQXBwcm92YWxTdGF0dXMgPT09XHJcbiAgICAgICAgICAgICAgICBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLkFwcHJvdmVkXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUtleSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RDb21wb25lbnRIZWxwZXIuZ2V0QXV0b0FwcHJvdmFsU2Vjb25kYXJ5Q29udGVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0dGVkTWFya0dyb3VwSWRzLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlSGVhZGVyS2V5ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5hdXRvLWFwcHJvdmVkLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWVzc2FnZUtleSAhPT0gJycpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlRGV0YWlscyA9IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXI6IG1lc3NhZ2VIZWFkZXJLZXksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlU3RyaW5nOiBtZXNzYWdlS2V5LFxyXG4gICAgICAgICAgICAgICAgc3VibWl0dGVkTWFya0dyb3VwSWRzOiBzdWJtaXR0ZWRNYXJrR3JvdXBJZHMsXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5SWQ6IHNlbGVjdGVkRGlzcGxheUlkLFxyXG4gICAgICAgICAgICAgICAgaXNGcm9tTWFya1NjaGVtZTogZnJvbU1hcmtTY2hlbWVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzQnVzeTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkb1Nob3dQb3B1cDogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3VibWl0TWVzc2FnZUVycm9yUG9wdXBDb250ZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpc1N1Ym1pdEVycm9yUG9wRGlzcGxheWluZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzQnVzeTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlQWZ0ZXJTdWJtaXQoc3VibWl0dGVkTWFya0dyb3VwSWRzLCBzZWxlY3RlZERpc3BsYXlJZCwgZnJvbU1hcmtTY2hlbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOYXZpZ2F0ZSBhZnRlciB0aGUgc3VibWl0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbmF2aWdhdGVBZnRlclN1Ym1pdCA9IChcclxuICAgICAgICBzdWJtaXR0ZWRNYXJrR3JvdXBJZHM6IEFycmF5PG51bWJlcj4sXHJcbiAgICAgICAgZGlzcGxheUlkOiBzdHJpbmcsXHJcbiAgICAgICAgZnJvbU1hcmtTY2hlbWU6IGJvb2xlYW5cclxuICAgICkgPT4ge1xyXG4gICAgICAgIC8vIEluZm9ybSByZXNwb25zZSBuYXZpZ2F0aW9uIG1vZHVsZS5cclxuICAgICAgICByZXNwb25zZUFjdGlvbkNyZWF0b3IubmF2aWdhdGVBZnRlclN1Ym1pdChzdWJtaXR0ZWRNYXJrR3JvdXBJZHMsIGRpc3BsYXlJZCwgZnJvbU1hcmtTY2hlbWUpO1xyXG5cclxuICAgICAgICAvLyBOYXZpZ2F0ZSB0byBjb3JyZXNwb25kaW5nIHdvcmtsaXN0IGV2ZW4gaWYgbm90IGluIFF1YWxpdHlGZWVkYmFja091dHN0YW5kaW5nLFxyXG4gICAgICAgIC8vIHRvIGVuc3VyZSB0aGF0IHRoZSBuYXZpZ2F0aW9uIGhhcHBlbnMgY29ycmVjdGx5IGF0IHRoZSB0aW1lIG9mIHN1Ym1pdGlvbi5cclxuICAgICAgICBxdWFsaXR5RmVlZGJhY2tIZWxwZXIuZm9yY2VOYXZpZ2F0aW9uVG9Xb3JrbGlzdChcclxuICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0U3VibWl0UmVzcG9uc2VSZXR1cm4uaGFzUXVhbGl0eUZlZWRiYWNrT3V0c3RhbmRpbmdcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBSZWZyZXNoIHRoZSB3b3JrbGlzdFxyXG4gICAgICAgIHRoaXMuaW5pdGlhdGVDb250ZW50UmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAvLyBDbGVhciB0aGUgbWFya3MgYW5kIGFubm90YXRpb25zIGlmIG5lZWRlZCBmb3IgUmVsb2FkaW5nIHRoZSBEZWZpbml0aXZlTWFya3NcclxuICAgICAgICBzdWJtaXRIZWxwZXIuY2xlYXJNYXJrc0FuZEFubm90YXRpb25zKHN1Ym1pdHRlZE1hcmtHcm91cElkcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnQgdGhlIGNvbnRlbnQgcmVmcmVzaFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGluaXRpYXRlQ29udGVudFJlZnJlc2goKSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgd29ya2xpc3QgY2FjaGUgYW5kIGRvIGNvbnRlbnQgcmVmcmVzaFxyXG4gICAgICAgIGxldCBtYXJraW5nTW9kZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya2luZ01vZGVCeVdvcmtMaXN0VHlwZShcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZUFkYXB0ZXJIZWxwZXIuY2xlYXJDYWNoZShcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgbWFya2luZ01vZGUsXHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbWFya1JlcXVlc3RUeXBlLFxyXG4gICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgLy8gTG9hZCB0aGUgbWFya2luZyBwcm9ncmVzc1xyXG4gICAgICAgICAgICB3b3JrbGlzdEFjdGlvbkNyZWF0b3IuZ2V0V29ya2xpc3RNYXJrZXJQcm9ncmVzc0RhdGEoXHJcbiAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAuaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlclxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCBkaXNwbGF5IHRoZSB1bnJlYWQgbWFuZGF0b3J5IG1lc3NhZ2UgcG9wdXAgd2hpbGUgdXNlciBpbiBtZXNzYWdlIHNjcmVlbiB1c2luZyBiYWNrZ3JvdW5kIHB1bHNlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25VcGRhdGVOb3RpZmljYXRpb24gPSAoXHJcbiAgICAgICAgdW5yZWFkTWVzc2FnZUNvdW50OiBudW1iZXIsXHJcbiAgICAgICAgaXNNZXNzYWdlUmVhZENvdW50Q2hhbmdlZDogYm9vbGVhbixcclxuICAgICAgICB1bnJlYWRNYW5kYXRvcnlNZXNzYWdlQ291bnQ6IG51bWJlclxyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gZGlzcGxheSB1bnJlYWQgbWFuZGF0b3J5IG1lc3NhZ2VzIGFyZSBhdmFpbGFibGUgcG9wdXAgd2hpbGUgdXNlciBpbiBtZXNzYWdlIHNjcmVlbiBhbmQgbm90IGNvbXBvc2luZyBhIG1lc3NhZ2VcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHVucmVhZE1hbmRhdG9yeU1lc3NhZ2VDb3VudCA+IDAgJiZcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5mb290ZXJUeXBlID09PSBlbnVtcy5Gb290ZXJUeXBlLk1lc3NhZ2UgJiZcclxuICAgICAgICAgICAgIW1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5pc01lc3NhZ2VQYW5lbFZpc2libGVcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5tYW5kYXRvcnlNZXNzYWdlVHJpZ2dlcmluZ1BvaW50ID0gZW51bXMuVHJpZ2dlclBvaW50LkJhY2tncm91bmRQdWxzZTtcclxuICAgICAgICAgICAgdGhpcy5vblBvcFVwRGlzcGxheUV2ZW50KFxyXG4gICAgICAgICAgICAgICAgZW51bXMuUG9wVXBUeXBlLk1hbmRhdG9yeU1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuU2hvdyxcclxuICAgICAgICAgICAgICAgIG51bGxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBwb3AgdXAgaWYgdGhlIG1lc3NhZ2UgcGFuZWwgaXMgZWRpdGVkIG9uIG5hdmlnYXRpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk1lc3NhZ2VQYW5lbEVkaXRlZCA9IChcclxuICAgICAgICBtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50OiBNZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50c1xyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50Lmhhc01lc3NhZ2VDb250YWluc0RpcnR5VmFsdWUgJiZcclxuICAgICAgICAgICAgIW1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnQubmF2aWdhdGlvbkNvbmZpcm1lZFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzID0gbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudDtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5uYXZpZ2F0aW9uQ29uZmlybWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudC5uYXZpZ2F0ZVRvID09PSBlbnVtcy5NZXNzYWdlTmF2aWdhdGlvbi5uZXdFeGNlcHRpb24gfHxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnQubmF2aWdhdGVUbyA9PT1cclxuICAgICAgICAgICAgICAgIGVudW1zLk1lc3NhZ2VOYXZpZ2F0aW9uLmV4Y2VwdGlvbldpdGhJblJlc3BvbnNlXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3BVcERhdGEucG9wdXBDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5kaXNjYXJkLWV4Y2VwdGlvbi1kaWFsb2cuYm9keS1vcGVuLWFub3RoZXInXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudC5uYXZpZ2F0ZVRvID09PSBlbnVtcy5NZXNzYWdlTmF2aWdhdGlvbi5DaGFuZ2VTdGF0dXNcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcFVwRGF0YS5wb3B1cENvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLmRpc2NhcmQtbWVzc2FnZS1kaWFsb2cuYm9keS1zdGFydC1uZXctbWVzc2FnZS13aGlsZS1jb21wb3NpbmcnXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3BVcERhdGEucG9wdXBDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5kaXNjYXJkLW1lc3NhZ2UtZGlhbG9nLmJvZHktbmF2aWdhdGVkLWF3YXknXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZE1lc3NhZ2VOYXZpZ2F0ZUF3YXkgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgbWFuZGF0b3J5IG1lc3NhZ2UgdmFsaWRhdGlvbiBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hbmRhdG9yeU1lc3NhZ2VWYWxpZGF0aW9uUG9wdXBWaXNpYmlsaXR5ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkb1Nob3dNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwOiB0cnVlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldHRpbmcgdGhlIHRpbWVvdXQgb2YgYXBwbGljYXRpb24gb25saW5lIGNoZWNrXHJcbiAgICAgKiBAcGFyYW0ge3R5cGV9IGludGVydmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdHJpZ2dlckFwcGxpY2F0aW9uT25saW5lUG9sbChmb3JjZVN0YXJ0UG9sbDogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XHJcbiAgICAgICAgLy8gSWYgdGhlIGFwcGxpY2F0aW9uIHN0YXR1cyBoYXMgYmVlbiBjaGFuZ2VkIHVwZGF0ZSB0aGUgY2FsbFxyXG4gICAgICAgIGlmIChmb3JjZVN0YXJ0UG9sbCB8fCB0aGlzLnN0YXRlLmlzT25saW5lICE9PSBhcHBsaWNhdGlvblN0b3JlLmluc3RhbmNlLmlzT25saW5lKSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyT3B0aW9uc0hlbHBlci5oYXNVc2VyT3B0aW9uc0NoYW5nZWQpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJPcHRpb25zSGVscGVyLkluaXRpYXRlU2F2ZVVzZXJPcHRpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xvc2luZyBhcHBsaWNhdGlvbiBlcnJvciBwb3VwIG1lc3NhZ2VcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbkFwcGxpY2F0aW9uRXJyb3JNZXNzYWdlUG9wVXBDbGlja2VkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0FwcGxpY2F0aW9uT2ZmbGluZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZXIgYWN0aW9uIGhhcyBiZWVuIGludGVycnVwdGVkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdXNlckFjdGlvbkludGVycnVwdGVkKF9pc0Zyb21Mb2dvdXQ6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZiAoX2lzRnJvbUxvZ291dCkge1xyXG4gICAgICAgICAgICB0aGlzLm9mZmxpbmVFcnJvck1lc3NhZ2UgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ2dlbmVyaWMub2ZmbGluZS1kaWFsb2cuYm9keS11c2VyLW9wdGlvbnMtY2hhbmdlZCdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXNldExvZ291dENvbmZpcm1hdGlvblNhdHVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX29uTG9nb3V0VHJpZ2dlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vZmZsaW5lRXJyb3JNZXNzYWdlID0gc3RyaW5nSGVscGVyLmZvcm1hdChcclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMub2ZmbGluZS1kaWFsb2cuYm9keScpLFxyXG4gICAgICAgICAgICAgICAgW1N0cmluZyhTdHJpbmcuZnJvbUNoYXJDb2RlKDE3OSkpXVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKkhpZGluZyB0aGUgYnVzeSBpbmRpY2F0b3IgaWYgdGhlIGFwcGxpY2F0aW9uIGlzIG9mZmxpbmUgYW5kIHRoZSBidXN5IGluZGljYXRvciB3YXMgc2hvd2luZyBhdCB0aGUgdGltZSBvZiBiZWluZyBvZmZsaW5lKi9cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0J1c3kgJiYgIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpc0FwcGxpY2F0aW9uT2ZmbGluZTogIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUsXHJcbiAgICAgICAgICAgICAgICBpc0J1c3k6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0FwcGxpY2F0aW9uT2ZmbGluZTogIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgdGhlIFFJRyBnb3Qgd2l0aGRyd2FuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SZXNwb25zZURhdGFSZWNlaXZlZCA9IChzZWFyY2hlZFJlc3BvbnNlRGF0YTogU2VhcmNoZWRSZXNwb25zZURhdGEpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoc2VhcmNoZWRSZXNwb25zZURhdGEuYXBwcm92YWxTdGF0dXNJZCA9PT0gZW51bXMuRXhhbWluZXJBcHByb3ZhbC5XaXRoZHJhd24pIHtcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yLnJlbW92ZUhpc3RvcnlJdGVtKHNlYXJjaGVkUmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzV2l0aGRyYXduUmVzcG9uc2VFcnJvcjogdHJ1ZSwgaXNCdXN5OiBmYWxzZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogc2hvdyBlcnJvciBwb3B1cCBvbiByZXNwb25zZSBzZWFyY2ggZmFpbGVkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SZXNwb25zZURhdGFSZWNlaXZlZEZhaWxlZCA9IChzZXJ2aWNlRmFpbGVkOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gSWYgdGhpcyBzZXJ2aWNlIGZhaWxlZCB0aGVuIHdlIGRvbnQga25vdyB3aGV0aGVyIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGUgb3Igbm90XHJcbiAgICAgICAgaWYgKCFzZXJ2aWNlRmFpbGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1Jlc3BvbnNlU2VhcmNoRmFpbGVkOiB0cnVlLCBpc0J1c3k6IGZhbHNlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZUVycm9yTmF2aWdhdGlvblRlYW1NYW5hZ2VtZW50ID0gKFxyXG4gICAgICAgIGZhaWx1cmVDb2RlOiBlbnVtcy5GYWlsdXJlQ29kZSxcclxuICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyID0gMFxyXG4gICAgKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChmYWlsdXJlQ29kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLlN1Ym9yZGluYXRlRXhhbWluZXJXaXRoZHJhd246XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuSGllcmFyY2h5Q2hhbmdlZDpcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFRlYW1NYW5hZ2VtZW50KCk7XHJcbiAgICAgICAgICAgICAgICB1c2VySW5mb0FjdGlvbkNyZWF0b3IuY2hhbmdlTWVudVZpc2liaWxpdHkoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuV2l0aGRyYXduOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlQWRhcHRlckhlbHBlci5jbGVhckNhY2hlQnlLZXkoJ3FpZ3NlbGVjdG9yJywgJ292ZXJ2aWV3ZGF0YScpO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkUWlnU2VsZWN0b3IoKTtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvQWN0aW9uQ3JlYXRvci5jaGFuZ2VNZW51VmlzaWJpbGl0eShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0ZWFtTWFuYWdlbWVudEFjdGlvbkNyZWF0b3IucmVtb3ZlSGlzdG9yeUl0ZW0obWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZGluZyBjdXJyZW50IGl0ZW1zIHRvIGhpc3RvcnkgYmFzZWQgdXBvbiB0aGUgdXNlcidzIGFjdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFkZFRvUmVjZW50SGlzdG9yeSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuaXNNYXJraW5nQ2hlY2tNb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU2VsZWN0ZWRRaWdEZXRhaWxzVG9Vc2VyT3B0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIHRoZSBjb250YWluZXIgcGFnZSBpcyByZXNwb25zZSB3ZSBkb250IHdhbnQgdG8gYWRkIHRoYXQgdG8gdGhlIGhpc3RvcnlcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICFxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbiB8fFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzTWFya2luZ0NoZWNrTW9kZSB8fFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uU3RvcmUuaW5zdGFuY2UuY29udGFpbmVyUGFnZSA9PT0gZW51bXMuUGFnZUNvbnRhaW5lcnMuUmVzcG9uc2VcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgX2hpc3RvcnlJdGVtOiBoaXN0b3J5SXRlbSA9IG5ldyBoaXN0b3J5SXRlbSgpO1xyXG5cclxuICAgICAgICAvLyBRSUcgTmFtZSBiYXNlZCBvbiBzdHJpbmcgZm9ybWF0IENDXHJcbiAgICAgICAgX2hpc3RvcnlJdGVtLnFpZ05hbWUgPSBzdHJpbmdGb3JtYXRIZWxwZXIuZm9ybWF0QXdhcmRpbmdCb2R5UUlHKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBOYW1lLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5hc3Nlc3NtZW50Q29kZSxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uc2Vzc2lvbk5hbWUsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyTmFtZSxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uYXNzZXNzbWVudE5hbWUsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmNvbXBvbmVudE5hbWUsXHJcbiAgICAgICAgICAgIHN0cmluZ0Zvcm1hdEhlbHBlci5nZXRPdmVydmlld1FJR05hbWVGb3JtYXQoKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIF9oaXN0b3J5SXRlbS5xaWdJZCA9IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkO1xyXG4gICAgICAgIF9oaXN0b3J5SXRlbS50aW1lU3RhbXAgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICAvLyBhZGRpbmcgdG8gaGlzdG9yeSBpdGVtIGJhc2VkIG9uIE1hcmtlciBPcGVyYXRpb24gTW9kZVxyXG4gICAgICAgIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlKSB7XHJcbiAgICAgICAgICAgIGxldCBfdGVhbU1hbmFnZW1lbnRIaXN0b3J5SW5mbzogdGVhbU1hbmFnZW1lbnRIaXN0b3J5SW5mbyA9IG5ldyB0ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvKCk7XHJcbiAgICAgICAgICAgIF90ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvLndvcmtsaXN0VHlwZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZTtcclxuICAgICAgICAgICAgX3RlYW1NYW5hZ2VtZW50SGlzdG9yeUluZm8ucmVzcG9uc2VNb2RlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZXNwb25zZU1vZGU7XHJcbiAgICAgICAgICAgIF90ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvLnJlbWFya1JlcXVlc3RUeXBlID1cclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVtYXJrUmVxdWVzdFR5cGU7XHJcbiAgICAgICAgICAgIF90ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvLnN1Ym9yZGluYXRlRXhhbWluZXJSb2xlSUQgPVxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UgIT09IGVudW1zLlBhZ2VDb250YWluZXJzLlRlYW1NYW5hZ2VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgPyB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyRHJpbGxEb3duRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UuZXhhbWluZXJEcmlsbERvd25EYXRhLmV4YW1pbmVyUm9sZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMFxyXG4gICAgICAgICAgICAgICAgICAgIDogMDtcclxuICAgICAgICAgICAgX3RlYW1NYW5hZ2VtZW50SGlzdG9yeUluZm8uc3Vib3JkaW5hdGVFeGFtaW5lcklEID1cclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25TdG9yZS5pbnN0YW5jZS5jb250YWluZXJQYWdlICE9PSBlbnVtcy5QYWdlQ29udGFpbmVycy5UZWFtTWFuYWdlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgID8gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5leGFtaW5lckRyaWxsRG93bkRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyRHJpbGxEb3duRGF0YS5leGFtaW5lcklkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMFxyXG4gICAgICAgICAgICAgICAgICAgIDogMDtcclxuICAgICAgICAgICAgX3RlYW1NYW5hZ2VtZW50SGlzdG9yeUluZm8uc3VwZXJ2aXNvckV4YW1pbmVyUm9sZUlEID0gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgLnNlbGVjdGVkRXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgID8gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZEV4YW1pbmVyUm9sZUlkXHJcbiAgICAgICAgICAgICAgICA6IG9wZXJhdGlvbk1vZGVIZWxwZXIuZXhhbWluZXJSb2xlSWQ7XHJcbiAgICAgICAgICAgIF90ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvLnNlbGVjdGVkVGFiID0gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgLnNlbGVjdGVkVGVhbU1hbmFnZW1lbnRUYWJcclxuICAgICAgICAgICAgICAgID8gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFRlYW1NYW5hZ2VtZW50VGFiXHJcbiAgICAgICAgICAgICAgICA6IGVudW1zLlRlYW1NYW5hZ2VtZW50Lk15VGVhbTtcclxuICAgICAgICAgICAgX3RlYW1NYW5hZ2VtZW50SGlzdG9yeUluZm8uY3VycmVudENvbnRhaW5lciA9IG5hdmlnYXRpb25TdG9yZS5pbnN0YW5jZS5jb250YWluZXJQYWdlO1xyXG4gICAgICAgICAgICBfaGlzdG9yeUl0ZW0udGVhbSA9IF90ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1N0YW5kYXJkaXNhdGlvblNldHVwTW9kZSkge1xyXG4gICAgICAgICAgICBsZXQgX3N0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm86IHN0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm8gPSBuZXcgc3RhbmRhcmRpc2F0aW9uU2V0dXBIaXN0b3J5SW5mbygpO1xyXG4gICAgICAgICAgICBfc3RhbmRhcmRpc2F0aW9uU2V0dXBIaXN0b3J5SW5mby5zdGFuZGFyZGlzYXRpb25TZXR1cFdvcmtsaXN0VHlwZSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkU3RhbmRhcmRpc2F0aW9uU2V0dXBXb3JrTGlzdDtcclxuICAgICAgICAgICAgX3N0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm8udGltZVN0YW1wID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgX2hpc3RvcnlJdGVtLnN0YW5kYXJkaXNhdGlvblNldHVwID0gX3N0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm87XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IF93b3JrbGlzdEhpc3RvcnlJbmZvOiB3b3JrbGlzdEhpc3RvcnlJbmZvID0gbmV3IHdvcmtsaXN0SGlzdG9yeUluZm8oKTtcclxuICAgICAgICAgICAgX3dvcmtsaXN0SGlzdG9yeUluZm8ud29ya2xpc3RUeXBlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlO1xyXG4gICAgICAgICAgICBfd29ya2xpc3RIaXN0b3J5SW5mby5yZXNwb25zZU1vZGUgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlTW9kZTtcclxuICAgICAgICAgICAgX3dvcmtsaXN0SGlzdG9yeUluZm8ucmVtYXJrUmVxdWVzdFR5cGUgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbWFya1JlcXVlc3RUeXBlO1xyXG4gICAgICAgICAgICBfaGlzdG9yeUl0ZW0ubXlNYXJraW5nID0gX3dvcmtsaXN0SGlzdG9yeUluZm87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgX2lzTWFya2luZ0VuYWJsZWQ6IGJvb2xlYW4gPVxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbiAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5pc01hcmtpbmdFbmFibGVkO1xyXG5cclxuICAgICAgICBfaGlzdG9yeUl0ZW0ubWFya2luZ01ldGhvZElkID1cclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya2luZ01ldGhvZDtcclxuICAgICAgICBfaGlzdG9yeUl0ZW0uaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlciA9XHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXI7XHJcblxyXG4gICAgICAgIC8vIHVzZWQgZm9yIHNob3dpbmcvaGlkaW5nIG1hcmtpbmcgbGluayBpbiBtZW51J3MgaGlzdHJveSBsaXN0IHVuZGVyIG1lbnUgdGFiXHJcbiAgICAgICAgX2hpc3RvcnlJdGVtLmlzTWFya2luZ0VuYWJsZWQgPVxyXG4gICAgICAgICAgICBfaXNNYXJraW5nRW5hYmxlZCAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclFpZ1N0YXR1cyAhPT1cclxuICAgICAgICAgICAgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuV2FpdGluZ1N0YW5kYXJkaXNhdGlvbiAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5jdXJyZW50TWFya2luZ1RhcmdldCAhPSBudWxsO1xyXG5cclxuICAgICAgICAvLyB1c2VkIGZvciBzaG93aW5nL2hpZGluZyB0ZWFtbWFuYWdlbWVudCBsaW5rIGluIG1lbnUncyBoaXN0cm95IGxpc3QgdW5kZXIgbWVudSB0YWJcclxuICAgICAgICBfaGlzdG9yeUl0ZW0uaXNUZWFtTWFuYWdlbWVudEVuYWJsZWQgPVxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbiAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5pc1RlYW1NYW5hZ2VtZW50RW5hYmxlZDtcclxuXHJcbiAgICAgICAgLy8gdXNlZCBmb3Igc2hvd2luZy9oaWRpbmcgc3RhbmRhcmRpc2F0aW9uIHNldHVwIGxpbmsgaW4gbWVudSdzIGhpc3RvcnkgbGlzdCB1bmRlciBtZW51IHRhYi5cclxuICAgICAgICBfaGlzdG9yeUl0ZW0uaXNTdGFuZGFyZGlzYXRpb25TZXR1cEVuYWJsZWQgPVxyXG4gICAgICAgICAgICAocWlnU3RvcmUuaW5zdGFuY2UuaXNTdGFuZGFyZGlzYXRpb25TZXR1cEJ1dHRvblZpc2libGUocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24pIHx8XHJcbiAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5pc1N0YW5kYXJkaXNhdGlvblNldHVwTGlua1Zpc2libGUocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24pKTtcclxuXHJcbiAgICAgICAgX2hpc3RvcnlJdGVtLnF1ZXN0aW9uUGFwZXJQYXJ0SWQgPVxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyUGFydElkO1xyXG4gICAgICAgIF9oaXN0b3J5SXRlbS5leGFtaW5lclJvbGVJZCA9IG9wZXJhdGlvbk1vZGVIZWxwZXIuZXhhbWluZXJSb2xlSWQ7XHJcblxyXG4gICAgICAgIGxvYWRDb250YWluZXJBY3Rpb25DcmVhdG9yLmFkZFRvUmVjZW50SGlzdG9yeShfaGlzdG9yeUl0ZW0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZGluZyBjdXJyZW50IHFpZyBkZXRhaWxzIHRvIHVzZXIgb3B0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFkZFNlbGVjdGVkUWlnRGV0YWlsc1RvVXNlck9wdGlvbigpIHtcclxuICAgICAgICBsZXQgX3JlbWVtYmVyUWlnOiByZW1lbWJlclFpZyA9IG5ldyByZW1lbWJlclFpZygpO1xyXG4gICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBfcmVtZW1iZXJRaWcucWlnSWQgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZDtcclxuICAgICAgICAgICAgX3JlbWVtYmVyUWlnLndvcmtsaXN0VHlwZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZTtcclxuICAgICAgICAgICAgX3JlbWVtYmVyUWlnLnJlbWFya1JlcXVlc3RUeXBlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZW1hcmtSZXF1ZXN0VHlwZTtcclxuICAgICAgICAgICAgX3JlbWVtYmVyUWlnLnF1ZXN0aW9uUGFwZXJQYXJ0SWQgPVxyXG4gICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ucXVlc3Rpb25QYXBlclBhcnRJZDtcclxuICAgICAgICAgICAgaWYgKG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNUZWFtTWFuYWdlbWVudE1vZGUpIHtcclxuICAgICAgICAgICAgICAgIF9yZW1lbWJlclFpZy5hcmVhID0gZW51bXMuUWlnQXJlYS5UZWFtTWFuYWdlbWVudDtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkVGVhbU1hbmFnZW1lbnRUYWIgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuVGVhbU1hbmFnZW1lbnQuTXlUZWFtXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UgPT09IGVudW1zLlBhZ2VDb250YWluZXJzLldvcmtMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1lbWJlclFpZy5zdWJvcmRpbmF0ZUV4YW1pbmVyUm9sZUlEID0gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmV4YW1pbmVyRHJpbGxEb3duRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyRHJpbGxEb3duRGF0YS5leGFtaW5lclJvbGVJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVtZW1iZXJRaWcuc3Vib3JkaW5hdGVFeGFtaW5lcklEID0gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmV4YW1pbmVyRHJpbGxEb3duRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyRHJpbGxEb3duRGF0YS5leGFtaW5lcklkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlbWVtYmVyUWlnLnN1Ym9yZGluYXRlRXhhbWluZXJSb2xlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVtZW1iZXJRaWcuc3Vib3JkaW5hdGVFeGFtaW5lcklEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfcmVtZW1iZXJRaWcuZXhhbWluZXJSb2xlSWQgPSB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkRXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgICAgICA/IHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRFeGFtaW5lclJvbGVJZFxyXG4gICAgICAgICAgICAgICAgICAgIDogb3BlcmF0aW9uTW9kZUhlbHBlci5leGFtaW5lclJvbGVJZDtcclxuICAgICAgICAgICAgICAgIF9yZW1lbWJlclFpZy50YWIgPSBlbnVtcy5UZWFtTWFuYWdlbWVudC5NeVRlYW07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1N0YW5kYXJkaXNhdGlvblNldHVwTW9kZSkge1xyXG4gICAgICAgICAgICAgICAgX3JlbWVtYmVyUWlnLmFyZWEgPSBlbnVtcy5RaWdBcmVhLlN0YW5kYXJkaXNhdGlvblNldHVwO1xyXG4gICAgICAgICAgICAgICAgX3JlbWVtYmVyUWlnLnN0YW5kYXJkaXNhdGlvblNldHVwV29ya2xpc3RUeXBlID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3Q7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfcmVtZW1iZXJRaWcuYXJlYSA9IGVudW1zLlFpZ0FyZWEuTWFya2luZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdXNlck9wdGlvbnNIZWxwZXIuc2F2ZShcclxuICAgICAgICAgICAgICAgIHVzZXJPcHRpb25LZXlzLlJFTUVNQkVSX1BSRVZJT1VTX1FJRyxcclxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KF9yZW1lbWJlclFpZylcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IE5vIE1hcmtpbmcgQ2hlY2sgQXZhaWxhYmxlIFBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hvd05vTWFya2luZ0NoZWNrQXZhaWxhYmxlTWVzc2FnZSA9IChcclxuICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZSxcclxuICAgICAgICBwb3BVcEFjdGlvblR5cGU6IGVudW1zLlBvcFVwQWN0aW9uVHlwZSxcclxuICAgICAgICBwb3BVcERhdGE6IFBvcFVwRGF0YVxyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBwb3BVcEFjdGlvblR5cGUgPT09IGVudW1zLlBvcFVwQWN0aW9uVHlwZS5TaG93ICYmXHJcbiAgICAgICAgICAgIHBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLk5vTWFya2luZ0NoZWNrUmVxdWVzdFBvc3NpYmxlXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgcG9wVXBUeXBlOiBwb3BVcFR5cGUsXHJcbiAgICAgICAgICAgICAgICBkb1Nob3dOb01hcmtpbmdDaGVja0F2YWlsYWJsZU1lc3NhZ2U6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE5hdmlnYXRlIHRvIHRlYW0gbWFuYWdlbWVudFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uVGVhbU1hbmFnZW1lbnRPcGVuID0gKGlzRnJvbUhpc3Rvcnk6IGJvb2xlYW4gPSBmYWxzZSkgPT4ge1xyXG4gICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFRlYW1NYW5hZ2VtZW50KGlzRnJvbUhpc3RvcnkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFjdGlvbiB3aGVuIHRoZSBjYW5jZWwgYnV0dG9uIGZvciBNYXJraW5nIENoZWNrIGlzIGNsaWNrZWRcclxuICAgICAqIENhbmNlbCB0aGUgcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBPbkNhbmNlbENsaWNrT2ZNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZzogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBY3Rpb24gd2hlbiB0aGUgb2sgYnV0dG9uIGZvciBNYXJraW5nIENoZWNrIGNvbmZpcm1hdGlvbiBpcyBjbGlja2VkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgT25Pa0NsaWNrT2ZNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvbigpIHtcclxuICAgICAgICAvKiBvbiBtYXJraW5nIGNoZWNrIGNvbmZpcm1hdGlvbiBpcyBjbGlja2VkIFNlbmQgdHdvIG1lc3NhZ2VzXHJcbiAgICAgICAgICAgRmlyc3QgTWVzc2FnZSB0byB0aGUgbWFya2VyIHNvIHRoYXQgaXQgd2lsbCBhcHBlYXIgaW4gdGhlIGluYm94XHJcbiAgICAgICAgICAgdGhlICBzZWNvbmQgbWVzc2FnZSB3aXRoIHN5c3l0ZW0gbWVzc2FnZSBwcmlvcml0eSBzbyB0aGF0IHRoZVxyXG4gICAgICAgICAgIG1hcmtpbmcgY2hlY2sgd2lsbCBiZSBjb25zaWRlcmVkIGFzIGNvbXBsZXRlKi9cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZzogZmFsc2UgfSk7XHJcbiAgICAgICAgbGV0IHN5c3RlbU1lc3NhZ2VQcmlvcml0eTogbnVtYmVyID0gMjU1O1xyXG4gICAgICAgIGxldCBtYXJraW5nQ2hlY2tUb0xpc3Q6IEFycmF5PG51bWJlcj4gPSBbXHJcbiAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRNYXJraW5nQ2hlY2tFeGFtaW5lci5mcm9tRXhhbWluZXJJRFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGxldCBxdWVzdGlvblBhcGVySWQgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyUGFydElkO1xyXG4gICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZCA9IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkO1xyXG4gICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3Iuc2VuZEV4YW1pbmVyTWVzc2FnZShcclxuICAgICAgICAgICAgbWFya2luZ0NoZWNrVG9MaXN0LFxyXG4gICAgICAgICAgICAnJyxcclxuICAgICAgICAgICAgJycsXHJcbiAgICAgICAgICAgIHF1ZXN0aW9uUGFwZXJJZCxcclxuICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgZW51bXMuTWVzc2FnZVByaW9yaXR5LkltcG9ydGFudCxcclxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIC0xLFxyXG4gICAgICAgICAgICAtMSxcclxuICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIGVudW1zLlN5c3RlbU1lc3NhZ2UuTWFya3NDaGVja2VkXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5zZW5kRXhhbWluZXJNZXNzYWdlKFxyXG4gICAgICAgICAgICBtYXJraW5nQ2hlY2tUb0xpc3QsXHJcbiAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICAnJyxcclxuICAgICAgICAgICAgcXVlc3Rpb25QYXBlcklkLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICBzeXN0ZW1NZXNzYWdlUHJpb3JpdHksXHJcbiAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAtMSxcclxuICAgICAgICAgICAgLTEsXHJcbiAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICBlbnVtcy5TeXN0ZW1NZXNzYWdlLk1hcmtzQ2hlY2tlZFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXJraW5nIENoZWNrIENvbXBsZXRlIEJ1dHRvbiBDbGlja2VkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFya0NoZWNrQ29tcGxldGVCdXR0b25FdmVudCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZzogdHJ1ZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAgTWFya2luZyBDaGVjayBDb21wbGV0ZWQgRXZlbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBtYXJrQ2hlY2tDb21wbGV0ZWRFdmVudCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBtYXJraW5nQ2hlY2tBY3Rpb25DcmVhdG9yLmdldE1hcmtDaGVja0V4YW1pbmVycyhcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWRcclxuICAgICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNjcm9sbCB2aWV3IHdoZW4gZm9jdXMgY29tZXMgdG8gdGV4dCBib3ggaW4gYW5kcm9pZCBsaWtlIGluIGlwYWRcclxuICAgICAqIEZpcmVmb3ggaXMgZXhjbHVlZGVkLCBzY3JvbGxJbnRvVmlld0lmTmVlZGVkIGlzIG5vdCBzdXBwb3J0aW5nIGJ5IGJyb3dzZXIgIzQ5MTg0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNjcm9sbEludG9WaWV3T25FZGl0aW5nVGV4dEZvckFuZHJvaWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgbGV0IGFjdGl2ZUVsZW1lbnQ6IEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgaHRtbFV0aWxpdGllcy5pc0FuZHJvaWREZXZpY2UgJiZcclxuICAgICAgICAgICAgIWh0bWxVdGlsaXRpZXMuaXNBbmRyb2lkRmlyZWZveCAmJlxyXG4gICAgICAgICAgICAoYWN0aXZlRWxlbWVudC50YWdOYW1lID09PSAnVEVYVEFSRUEnIHx8IGFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJylcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBlbDogYW55ID0gJChhY3RpdmVFbGVtZW50KVswXTtcclxuICAgICAgICAgICAgICAgIGVsLnNjcm9sbEludG9WaWV3SWZOZWVkZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IGxvY2tzIGluIHFpZyBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU2hvd0xvY2tzSW5RaWdzUG9wdXAgPSAoX2xvY2tzSW5RaWdEZXRhaWxzTGlzdDogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5kb1Nob3dMb2Nrc0luUWlnUG9wVXAgJiZcclxuICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzTGlzdC5sb2Nrc0luUWlnRGV0YWlsc0xpc3QgJiZcclxuICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzTGlzdC5sb2Nrc0luUWlnRGV0YWlsc0xpc3QuY291bnQoKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHJlUmVuZGVyTG9ja3NJblFpZ1BvcFVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJlbmRlciB0aGUgcG9wIHVwIHdpdGggbm8gb2YgbG9ja3MgYW5kIHFpZyBuYW1lXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyTG9ja3NJblFpZ1BvcFVwID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIElmIEV4YW0gYm9keSBDQydzIG5vdCBsb2FkZWQgeWV0LCB0aGVuIGRvIG5vdCBzaG93IHRoZSBsb2NrcyBwb3B1cFxyXG4gICAgICAgIGxldCBsb2Nrc1BvcHVwID0gY2NTdG9yZS5pbnN0YW5jZS5pc0V4YW1Cb2R5Q0NMb2FkZWQgPyAoXHJcbiAgICAgICAgICAgIDxMb2Nrc0luUWlnUG9wdXBcclxuICAgICAgICAgICAgICAgIHNob3dMb2Nrc0luUWlnUG9wVXA9e3RoaXMuc3RhdGUucmVSZW5kZXJMb2Nrc0luUWlnUG9wVXB9XHJcbiAgICAgICAgICAgICAgICBmcm9tTG9nb3V0PXtxaWdTdG9yZS5pbnN0YW5jZS5pc1Nob3dMb2Nrc0Zyb21Mb2dvdXR9XHJcbiAgICAgICAgICAgICAgICBvbkNhbmNlbENsaWNrT2ZMb2Nrc0luUWlnUG9wdXA9e3RoaXMub25DYW5jZWxDbGlja09mTG9ja3NJblFpZ1BvcHVwfVxyXG4gICAgICAgICAgICAgICAgb25Mb2dvdXRDbGlja09mTG9ja3NJblFpZ1BvcHVwPXt0aGlzLm9uTG9nb3V0Q2xpY2tPZkxvY2tzSW5RaWdQb3B1cH1cclxuICAgICAgICAgICAgICAgIGlkPSdMb2Nrc0luUWlnUG9wdXAnXHJcbiAgICAgICAgICAgICAgICBrZXk9J0xvY2tzSW5RaWdQb3B1cF9rZXknXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKSA6IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGxvY2tzUG9wdXA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9ja3MgaW4gcWlnIGxpc3QgcmVjaWV2ZWQgZXZlbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblFpZ1NlbGVjdGVkRnJvbUxvY2tlZExpc3QgPSAocWlnSWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmIChsb2dpblN0b3JlLmluc3RhbmNlLmlzQWRtaW5SZW1hcmtlcikge1xyXG4gICAgICAgICAgICAvLyBJbnZva2luZyB0aGUgYWN0aW9uIGNyZWF0b3IgdG8gcmV0cmlldmUgdGhlIEFkbWluIHJlbWFya2VycyBRSUcgZGV0YWlscy5cclxuICAgICAgICAgICAgcWlnQWN0aW9uQ3JlYXRvci5nZXRBZG1pblJlbWFya2VyUUlHU2VsZWN0b3JEYXRhKHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEludm9raW5nIHRoZSBhY3Rpb24gY3JlYXRvciB0byByZXRyaWV2ZSB0aGUgUUlHIGxpc3QgZm9yIHRoZSBRSUcgU2VsZWN0b3JcclxuICAgICAgICAgICAgcWlnQWN0aW9uQ3JlYXRvci5nZXRRSUdTZWxlY3RvckRhdGEocWlnSWQsIHRydWUsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FuY2VsIGNsaWNrIG9uIGxvY2tzIGluIHFpZyBwb3B1cFxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyb2YgRm9vdGVyXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25DYW5jZWxDbGlja09mTG9ja3NJblFpZ1BvcHVwID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICByZVJlbmRlckxvY2tzSW5RaWdQb3BVcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvbkxvZ291dENsaWNrT2ZMb2Nrc0luUWlnUG9wdXAgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5vblllc0NsaWNrT2ZMb2dvdXRDb25maXJtYXRpb24oZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICByZVJlbmRlckxvY2tzSW5RaWdQb3BVcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBuYXZpZ2F0ZVRvUWlnRnJvbUxvY2tlZExpc3QgPSAoXHJcbiAgICAgICAgaXNEYXRhRnJvbVNlYXJjaDogYm9vbGVhbiA9IGZhbHNlLFxyXG4gICAgICAgIGlzRGF0YUZyb21IaXN0b3J5OiBib29sZWFuID0gZmFsc2UsXHJcbiAgICAgICAgaXNGcm9tTG9ja3NJblBvcFVwOiBib29sZWFuID0gZmFsc2VcclxuICAgICkgPT4ge1xyXG4gICAgICAgIGlmIChpc0Zyb21Mb2Nrc0luUG9wVXApIHtcclxuICAgICAgICAgICAgbGV0IGNoYW5nZU9wZXJhdGlvbk1vZGVQcm9taXNlID0gdXNlckluZm9BY3Rpb25DcmVhdG9yLmNoYW5nZU9wZXJhdGlvbk1vZGUoXHJcbiAgICAgICAgICAgICAgICBlbnVtcy5NYXJrZXJPcGVyYXRpb25Nb2RlLlRlYW1NYW5hZ2VtZW50XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbWFya1NjaGVtZUdyb3VwQ0NQcm9taXNlID0gY2NBY3Rpb25DcmVhdG9yLmdldE1hcmtTY2hlbWVHcm91cENDcyhcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ucXVlc3Rpb25QYXBlclBhcnRJZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBsZXQgb3BlblFJR1Byb21pc2U7XHJcbiAgICAgICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5nZXRPdmVydmlld0RhdGEpIHtcclxuICAgICAgICAgICAgICAgIG9wZW5RSUdQcm9taXNlID0gcWlnQWN0aW9uQ3JlYXRvci5vcGVuUUlHKFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3BlblFJR1Byb21pc2UgPSBxaWdBY3Rpb25DcmVhdG9yLmdldFFJR1NlbGVjdG9yRGF0YShcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIFByb21pc2UuUHJvbWlzZVxyXG4gICAgICAgICAgICAgICAgLmFsbChbY2hhbmdlT3BlcmF0aW9uTW9kZVByb21pc2UsIG1hcmtTY2hlbWVHcm91cENDUHJvbWlzZSwgb3BlblFJR1Byb21pc2VdKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdDogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yLm9wZW5UZWFtTWFuYWdlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHJlUmVuZGVyTG9ja3NJblFpZ1BvcFVwOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGRvTG9nb3V0UG9wdXAgPSAoaXNGcm9tTG9nb3V0OiBib29sZWFuLCBfbG9ja3NJblFpZ0RldGFpbHNMaXN0OiBhbnkpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoaXNGcm9tTG9nb3V0KSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIF9sb2Nrc0luUWlnRGV0YWlsc0xpc3QubG9ja3NJblFpZ0RldGFpbHNMaXN0ICYmXHJcbiAgICAgICAgICAgICAgICBfbG9ja3NJblFpZ0RldGFpbHNMaXN0LmxvY2tzSW5RaWdEZXRhaWxzTGlzdC5jb3VudCgpID4gMFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHFpZ0FjdGlvbkNyZWF0b3Iuc2hvd0xvY2tzSW5RaWdQb3B1cCh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvQWN0aW9uQ3JlYXRvci5zaG93TG9nb3V0UG9wdXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbiBjbGlraW5nIE9rIGJ1dHRvbiBvZiB0aGUgcmVzcG9uc2Ugc2VhcmNoIGZhaWxlZCBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uT2tDbGlja09mUmVzcG9uc2VTZWFyY2hGYWlsZWRFcnJvck1lc3NhZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzUmVzcG9uc2VTZWFyY2hGYWlsZWQ6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZUFkYXB0ZXJIZWxwZXIuY2xlYXJTdG9yYWdlQXJlYSgnbWVzc2FnaW5nJyk7XHJcbiAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5yZWZyZXNoTWVzc2FnZUZvbGRlcihlbnVtcy5NZXNzYWdlRm9sZGVyVHlwZS5JbmJveCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGVycm9yIG1lc3NhZ2UgdGhhdCBoYXMgdG8gYmUgc2hvd24gb24gcmVzcG9uc2Ugc2VhcmNoIGZhaWxlZCB3aGlsZSBhIHJlc3BvbnNlIGlzIGRlYWxsb2NhdGVkIGluIHRoZSBiYWNrZ3JvdW5kXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0UmVzcG9uc2VTZWFyY2hGYWlsZWRFcnJvck1lc3NhZ2UoKSB7XHJcbiAgICAgICAgbGV0IHNlYXJjaFJlc3BvbnNlRGF0YTogU2VhcmNoZWRSZXNwb25zZURhdGEgPSBtZXNzYWdlU3RvcmUuaW5zdGFuY2Uuc2VhcmNoUmVzcG9uc2VEYXRhO1xyXG4gICAgICAgIGxldCBxdWVzdGlvbkdyb3VwOiBzdHJpbmcgPSBtZXNzYWdlSGVscGVyLmdldERpc3BsYXlUZXh0KFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuZ2V0TWVzc2FnZURhdGEoc2VhcmNoUmVzcG9uc2VEYXRhLm1lc3NhZ2VJZClcclxuICAgICAgICApO1xyXG4gICAgICAgIGxldCBlcnJvckJvZHlQYXJhbWV0ZXI6IHN0cmluZ1tdID0gW3NlYXJjaFJlc3BvbnNlRGF0YS5kaXNwbGF5SWQsIHF1ZXN0aW9uR3JvdXBdO1xyXG5cclxuICAgICAgICBsZXQgZXJyb3JCb2R5OiBzdHJpbmcgPSBzdHJpbmdIZWxwZXIuZm9ybWF0KFxyXG4gICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5ib2R5LXJlc3BvbnNlLXJlbW92ZWQnKSxcclxuICAgICAgICAgICAgZXJyb3JCb2R5UGFyYW1ldGVyXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZXJyb3JCb2R5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc2hvdyBjb25maXJtYXRpb24gcG9wdXAgb24gc3VibWl0aW5nIHNpbXVsYXRpb24gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbnNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBmb3Igc3VibWl0IGFsbCB0aGUgbWFya2dyb3VwIGlkIHdpbGwgYWx3YXlzIGJlIHplcm9cclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1yZXNwb25zZS1kaWFsb2cuYm9keS1zaW11bGF0aW9uJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLnNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlSGVhZGVyID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1yZXNwb25zZS1kaWFsb2cuaGVhZGVyJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1hbGwtcmVzcG9uc2VzLWRpYWxvZy5ib2R5LXNpbXVsYXRpb24nXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVIZWFkZXIgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3Quc3VibWl0LWFsbC1yZXNwb25zZXMtZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cDogdHJ1ZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBvbiBjbGlja2luZyB5ZXMgYnV0dG9uIG9mIHNpbXVsYXRpb24gcmVzcG9uc2Ugc3VibWl0IGNvbmZpcm1hdGlvbiBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uWWVzQ2xpY2tPZlNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd1NpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvblBvcHVwOiBmYWxzZSB9KTtcclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuaXNTdWJtaXRGcm9tTWFya1NjaGVtZSkge1xyXG4gICAgICAgICAgICBzaW11bGF0aW9uTW9kZUhlbHBlci5jaGVja1N0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGlvbihcclxuICAgICAgICAgICAgICAgIGVudW1zLlBhZ2VDb250YWluZXJzLk5vbmUsXHJcbiAgICAgICAgICAgICAgICBlbnVtcy5QYWdlQ29udGFpbmVycy5Ob25lXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JBY3Rpb25DcmVhdG9yLnNldEJ1c3lJbmRpY2F0b3JJbnZva2VyKFxyXG4gICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuc3VibWl0SW5SZXNwb25zZVNjcmVlblxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBtYXJraW5nQWN0aW9uQ3JlYXRvci5zYXZlQW5kTmF2aWdhdGUoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnN1Ym1pdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWYgc2ltdWxhdGlvbiByZXNwb25zZSBzdWJtaXNzaW9uIGhhcHBlbnMgZnJvbSB3b3JrbGlzdCwgdGhlbiBzdWJtaXNzaW9uXHJcbiAgICAgICAgICAgIC8vIG5lZWRzIHRvIGJlIGJsb2NrZWQgaWYgc3RhbmRhcmRpc2F0aW9uIHNldHVwIGlzIGNvbXBsZXRlZFxyXG4gICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmICghcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIuc3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb21pc2UgPSBxaWdBY3Rpb25DcmVhdG9yLmNoZWNrU3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0ZWQoXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuUGFnZUNvbnRhaW5lcnMuV29ya0xpc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuUGFnZUNvbnRhaW5lcnMuV29ya0xpc3RcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBQcm9taXNlLlByb21pc2UuYWxsKFtwcm9taXNlXSkudGhlbihmdW5jdGlvbiAoZGF0YTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbMF0gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2ltdWxhdGlvbkV4aXRlZFBvcHVwOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0FsbFNpbXVsYXRpb25FeGl0ZWRRaWdzOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN1Ym1pdFJlc3BvbnNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnN1Ym1pdFJlc3BvbnNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBvbiBjbGlja2luZyBubyBidXR0b24gb2Ygc2ltdWxhdGlvbiByZXNwb25zZSBzdWJtaXQgY29uZmlybWF0aW9uIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Ob0NsaWNrT2ZTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRCdXR0b24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cDogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjYWxsIHdoZW4gc2hhcmUgdG9nZ2xlIGJ1dHRvbiBpcyB0dXJuZWQgb2ZmXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hhcmVDb25maXJtYXRpb25Qb3B1cCA9IChjbGllbnRUb2tlbjogc3RyaW5nLCBzaG93U2hhcmVQb3B1cDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hhcmVDb25maXJtYXRpb25DbGllbnRUb2tlbiA9IGNsaWVudFRva2VuO1xyXG4gICAgICAgIG1hcmtpbmdBY3Rpb25DcmVhdG9yLnNob3dPckhpZGVSZW1vdmVDb250ZXh0TWVudShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzU2hhcmVkOiBzaG93U2hhcmVQb3B1cCxcclxuICAgICAgICAgICAgZG9TaG93U2hhcmVDb25maXJtYXRpb25Qb3B1cDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIG9uIGNsaWNraW5nIHllcyBidXR0b24gb2Ygc2hhcmUgY29uZmlybWF0aW9uIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25ZZXNDbGlja09mU2hhcmVDb25maXJtYXRpb25Qb3B1cCgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93U2hhcmVDb25maXJtYXRpb25Qb3B1cDogZmFsc2UgfSk7XHJcbiAgICAgICAgYWNldGF0ZXNBY3Rpb25DcmVhdG9yLnNoYXJlQWNldGF0ZSh0aGlzLnNoYXJlQ29uZmlybWF0aW9uQ2xpZW50VG9rZW4pO1xyXG4gICAgICAgIHRoaXMuc2hhcmVDb25maXJtYXRpb25DbGllbnRUb2tlbiA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9uIGNsaWNraW5nIG5vIGJ1dHRvbiBvZiBzaGFyZSBjb25maXJtYXRpb24gcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk5vQ2xpY2tPZlNoYXJlQ29uZmlybWF0aW9uUG9wdXAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRvU2hvd1NoYXJlQ29uZmlybWF0aW9uUG9wdXA6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMuc2hhcmVDb25maXJtYXRpb25DbGllbnRUb2tlbiA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBzaW11bGF0aW9uIGV4aXRlZCBxaWdzIGluIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyU2ltdWxhdGlvbkV4aXRlZFFpZ3NQb3B1cCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgc2Vjb25kYXJ5Q29udGVudDogc3RyaW5nID0gbnVsbDtcclxuICAgICAgICBsZXQgZm9vdGVyQ29udGVudDogc3RyaW5nID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zaG93QWxsU2ltdWxhdGlvbkV4aXRlZFFpZ3MpIHtcclxuICAgICAgICAgICAgc2Vjb25kYXJ5Q29udGVudCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5leGl0ZWQtc2ltdWxhdGlvbi1kaWFsb2cuc3ViaGVhZGVyLW11bHRpcGxlLXFpZ3MnXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGZvb3RlckNvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuZXhpdGVkLXNpbXVsYXRpb24tZGlhbG9nLmJvZHktbXVsdGlwbGUtcWlncydcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWNvbmRhcnlDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LmV4aXRlZC1zaW11bGF0aW9uLWRpYWxvZy5zdWJoZWFkZXItc2luZ2xlLXFpZydcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgZm9vdGVyQ29udGVudCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5leGl0ZWQtc2ltdWxhdGlvbi1kaWFsb2cuYm9keS1zaW5nbGUtcWlnJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgRXhhbSBib2R5IENDJ3Mgbm90IGxvYWRlZCB5ZXQsIHRoZW4gZG8gbm90IHNob3cgdGhlIHNpbXVsYXRpb24gZXhpdGVkIHFpZ3MgcG9wdXBcclxuICAgICAgICBsZXQgc2ltdWxhdGlvbkV4aXRlZFFpZ3NQb3B1cCA9IGNjU3RvcmUuaW5zdGFuY2UuaXNFeGFtQm9keUNDTG9hZGVkID8gKFxyXG4gICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17bnVsbH1cclxuICAgICAgICAgICAgICAgIG11bHRpTGluZUNvbnRlbnQ9e3RoaXMuZ2V0U2ltdWxhdGlvbk1vZGVFeGl0ZWRRaWdzKCl9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuZXhpdGVkLXNpbXVsYXRpb24tZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnlDb250ZW50PXtzZWNvbmRhcnlDb250ZW50fVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLnNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXB9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uT0tDbGlja09mU2ltdWxhdGlvbkV4aXRlZFFpZ3NQb3B1cC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgaWQ9J21vdmVTaW11bGF0aW9uJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdtb3ZlU2ltdWxhdGlvbk1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5TaW11bGF0aW9uRXhpdGVkfVxyXG4gICAgICAgICAgICAgICAgZm9vdGVyQ29udGVudD17Zm9vdGVyQ29udGVudH1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNpbXVsYXRpb25FeGl0ZWRRaWdzUG9wdXA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBzaW11bGF0aW9uIG1vZGUgZXhpdGVkIHFpZ3NcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRTaW11bGF0aW9uTW9kZUV4aXRlZFFpZ3MoKTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICAgICAgbGV0IHFpZ05hbWVzOiBBcnJheTxzdHJpbmc+ID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2hvd1NpbXVsYXRpb25FeGl0ZWRQb3B1cCkge1xyXG4gICAgICAgICAgICAvLyBJZiBhbGwgcWlncyBuZWVkIHRvIGJlIHNob3duIHRoZW4uIFdoZW4gbmF2aWdhdGluZyB0byBxaWdzZWxlY3Rvci5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2hvd0FsbFNpbXVsYXRpb25FeGl0ZWRRaWdzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2ltdWxhdGlvbk1vZGVFeGl0ZWRRaWdMaXN0OiBJbW11dGFibGUuTGlzdDxcclxuICAgICAgICAgICAgICAgICAgICBTaW11bGF0aW9uTW9kZUV4aXRlZFFpZ1xyXG4gICAgICAgICAgICAgICAgICAgID4gPSBJbW11dGFibGUuTGlzdDxTaW11bGF0aW9uTW9kZUV4aXRlZFFpZz4oKTtcclxuICAgICAgICAgICAgICAgIHNpbXVsYXRpb25Nb2RlRXhpdGVkUWlnTGlzdCA9XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2ltdWxhdGlvbk1vZGVFeGl0ZWRRaWdMaXN0ID09PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTaW11bGF0aW9uTW9kZUV4aXRlZFFpZ0xpc3QucWlnTGlzdDtcclxuICAgICAgICAgICAgICAgIGlmIChzaW11bGF0aW9uTW9kZUV4aXRlZFFpZ0xpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaW11bGF0aW9uTW9kZUV4aXRlZFFpZ0xpc3QubWFwKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoX3NpbXVsYXRpb25Nb2RlRXhpdGVkUWlnOiBTaW11bGF0aW9uTW9kZUV4aXRlZFFpZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHFpZ05hbWVUb0Rpc3BsYXkgPSBzdHJpbmdGb3JtYXRIZWxwZXIuZm9ybWF0QXdhcmRpbmdCb2R5UUlHKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaW11bGF0aW9uTW9kZUV4aXRlZFFpZy5tYXJrU2NoZW1lR3JvdXBOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaW11bGF0aW9uTW9kZUV4aXRlZFFpZy5hc3Nlc3NtZW50Q29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2ltdWxhdGlvbk1vZGVFeGl0ZWRRaWcuc2Vzc2lvbk5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NpbXVsYXRpb25Nb2RlRXhpdGVkUWlnLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaW11bGF0aW9uTW9kZUV4aXRlZFFpZy5xdWVzdGlvblBhcGVyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywgLy8gVE8gRE86IGhhdmUgdG8gcmV0cml2ZSBDb21wb25lbnROYW1lIGFuZCBBc3Nlc3NtZW50TmFtZSBvbiBzaW11bGF0aW9uUUlnIGRldGFpbHMuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nRm9ybWF0SGVscGVyLmdldE92ZXJ2aWV3UUlHTmFtZUZvcm1hdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcWlnTmFtZXMucHVzaChxaWdOYW1lVG9EaXNwbGF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2hvdyBvbmx5IHRoZSBjdXJycmVudCBxaWcuIFdoZW4gbmF2aWdhdGluZyBmcm9tIHdvcmtsaXN0L3Jlc3BvbnNlIHRvIGFyZWEgb3RoZXIgdGhhblxyXG4gICAgICAgICAgICAgICAgLy8gcWlnc2VsZWN0b3JcclxuICAgICAgICAgICAgICAgIGxldCBxaWdEYXRhID0gcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXI7XHJcbiAgICAgICAgICAgICAgICBsZXQgcWlnTmFtZVRvRGlzcGxheSA9IHN0cmluZ0Zvcm1hdEhlbHBlci5mb3JtYXRBd2FyZGluZ0JvZHlRSUcoXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnRGF0YS5tYXJrU2NoZW1lR3JvdXBOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ0RhdGEuYXNzZXNzbWVudENvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnRGF0YS5zZXNzaW9uTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBxaWdEYXRhLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ0RhdGEucXVlc3Rpb25QYXBlck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgJycsIC8vIFRPIERPOiBoYXZlIHRvIHJldHJpdmUgQ29tcG9uZW50TmFtZSBhbmQgQXNzZXNzbWVudE5hbWUgb24gc2ltdWxhdGlvblFJZyBkZXRhaWxzLlxyXG4gICAgICAgICAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZ0Zvcm1hdEhlbHBlci5nZXRPdmVydmlld1FJR05hbWVGb3JtYXQoKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHFpZ05hbWVzLnB1c2gocWlnTmFtZVRvRGlzcGxheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHFpZ05hbWVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gT2sgYnV0dG9uIGNsaWNrIG9mIHNpbXVsYXRpb24gZXhpdGVkIHFpZ3MgcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk9LQ2xpY2tPZlNpbXVsYXRpb25FeGl0ZWRRaWdzUG9wdXAgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRDb250YWluZXIgPSBuYXZpZ2F0aW9uU3RvcmUuaW5zdGFuY2UuY29udGFpbmVyUGFnZTtcclxuICAgICAgICAvLyBXaGVuIHRoZSBwb3B1cCBpcyBkaXNwbGF5ZWQgaW4gdGhlIHFpZ3NlbGVjdG9yXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnNob3dBbGxTaW11bGF0aW9uRXhpdGVkUWlncyAmJlxyXG4gICAgICAgICAgICBjdXJyZW50Q29udGFpbmVyID09PSBlbnVtcy5QYWdlQ29udGFpbmVycy5RaWdTZWxlY3RvclxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBzaW11bGF0aW9uTW9kZUhlbHBlci5jbGVhckNhY2hlQmVmb3JCZWZvcmVTaW11bGF0aW9uVGFyZ2V0Q29tcGxldGlvbigpO1xyXG4gICAgICAgICAgICBzaW11bGF0aW9uTW9kZUhlbHBlci5oYW5kbGVTaW11bGF0aW9uVGFyZ2V0Q29tcGxldGlvbih0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBXaGVuIG9ubHkgdGhlIGN1cnJlbnQgcWlnIGlzIHNob3duIGluIHRoZSBwb3B1cFxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUuc2hvd0FsbFNpbXVsYXRpb25FeGl0ZWRRaWdzKSB7XHJcbiAgICAgICAgICAgICAgICBzaW11bGF0aW9uTW9kZUhlbHBlci5jbGVhckNhY2hlQmVmb3JCZWZvcmVTaW11bGF0aW9uVGFyZ2V0Q29tcGxldGlvbigpO1xyXG4gICAgICAgICAgICAgICAgc2ltdWxhdGlvbk1vZGVIZWxwZXIuaGFuZGxlU2ltdWxhdGlvblRhcmdldENvbXBsZXRpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnByb2Nlc3NCYXNlZE9uU2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCh0aGlzLnRyaWdnZXJQb2ludEFmdGVyQ2xvc2UpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclBvaW50QWZ0ZXJDbG9zZSA9IDA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2hlbiBzdGFuZGFyZGlzYXRpb24gc2V0dXAgaXMgY29tcGxldGVkIGluIGJhY2tncm91bmRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGlvbkluQmFja2dyb3VuZCA9ICgpID0+IHtcclxuICAgICAgICBpZiAobmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UgPT09IGVudW1zLlBhZ2VDb250YWluZXJzLldvcmtMaXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgc2hvd1NpbXVsYXRpb25FeGl0ZWRQb3B1cDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNob3dBbGxTaW11bGF0aW9uRXhpdGVkUWlnczogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIHNpbXVsYXRpb24gdGFyZ2V0IGNvbXBsZXRpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblNpbXVsYXRpb25UYXJnZXRDb21wbGV0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBuYXZpZ2F0ZVRvID0gcWlnU3RvcmUuaW5zdGFuY2UubmF2aWdhdGVUb0FmdGVyU3RkU2V0dXBDaGVjaztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc2hvd1NpbXVsYXRpb25FeGl0ZWRQb3B1cDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuc2hvd0FsbFNpbXVsYXRpb25FeGl0ZWRRaWdzKSB7XHJcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0ZVRvID09PSBlbnVtcy5QYWdlQ29udGFpbmVycy5NZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRNZXNzYWdlUGFnZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5hdmlnYXRlVG8gPT09IGVudW1zLlBhZ2VDb250YWluZXJzLldvcmtMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRXb3JrbGlzdCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5hdmlnYXRlVG8gPT09IGVudW1zLlBhZ2VDb250YWluZXJzLlRlYW1NYW5hZ2VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRUZWFtTWFuYWdlbWVudCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIGdldHRpbmcgdGhlIHNpbXVsYXRpb24gZXhpdGVkIHFpZ3MgYW5kIGxvY2tzIGluIHFpZ3MgZGF0YVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU2ltdWxhdGlvbkV4aXRlZFFpZ3NBbmRMb2Nrc0luUWlnc1JlY2lldmVkID0gKGlzRnJvbUxvZ291dDogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHNpbXVsYXRpb25Nb2RlSGVscGVyLmlzU2ltdWxhdGlvbkV4aXRlZFFpZ0RhdGFBdmFpbGFibGUpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIHNpbXVsYXRpb24gZXhpdGVkIHFpZ3MgdGhlbiBzaG93IHRoZSBwb3B1cFxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzaG93QWxsU2ltdWxhdGlvbkV4aXRlZFFpZ3M6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzaW11bGF0aW9uTW9kZUhlbHBlci5pc0xvY2tJblFpZ3NEYXRhQXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgIC8vIFNob3cgbG9ja3MgaWYgdGhlcmUgaXMgbm8gc2ltdWxhdGlvblxyXG4gICAgICAgICAgICBxaWdBY3Rpb25DcmVhdG9yLnNob3dMb2Nrc0luUWlnUG9wdXAodHJ1ZSwgaXNGcm9tTG9nb3V0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gc3RhbmRhcmRpc2F0aW9uIHNldHVwIGNvbXBsZXRpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGlvbiA9ICgpID0+IHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmlzU3RhbmRhcmRpc2F0aW9uc2V0dXBDb21wbGV0ZWRGb3JUaGVRaWcgJiZcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uc3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0ZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzaG93QWxsU2ltdWxhdGlvbkV4aXRlZFFpZ3M6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocWlnU3RvcmUuaW5zdGFuY2UubmF2aWdhdGVUb0FmdGVyU3RkU2V0dXBDaGVjayA9PT0gZW51bXMuUGFnZUNvbnRhaW5lcnMuTG9naW4pIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2tpbmcgd2hldGhlciB0aGVyZSBhcmUgYW55IGxvY2tlZCBleGFtaW5lcnMgY3VycmVudGx5LCBpZiB0aGUgc3RhbmRhcmRpc2F0aW9uIHNldHVwIHdhcyBub3QgY29tcGxldGVkXHJcbiAgICAgICAgICAgIC8vIGFuZCB0aGUgdXNlciB3YXMgdHJ5aW5nIHRvIGxvZ291dC5cclxuICAgICAgICAgICAgcWlnQWN0aW9uQ3JlYXRvci5nZXRMb2Nrc0luUWlncyh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gZ2V0dGluZyB0aGUgc2ltdWxhdGlvbiBleGl0ZWQgcWlncyBkYXRhXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TaW11bGF0aW9uRXhpdGVkUWlnc1JlY2lldmVkID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChzaW11bGF0aW9uTW9kZUhlbHBlci5pc1NpbXVsYXRpb25FeGl0ZWRRaWdEYXRhQXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgc2hvd1NpbXVsYXRpb25FeGl0ZWRQb3B1cDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNob3dBbGxTaW11bGF0aW9uRXhpdGVkUWlnczogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGJlIGludm9rZWQgd2hlbiBicm93c2VyIGlzIG9ubGluZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVPbmxpbmVTdGF0dXMgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gc2VuZHMgcGluZyB0byB2YWxpZGF0ZSBuZXR3b3JrIGlzIG9mZmxpbmVcclxuICAgICAgICBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IudmFsaWRhdGVOZXRXb3JrU3RhdHVzKHRydWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIG9rIGNsaWNrIG9mIHN1Ym1pdCByZXNwb25zZSBlcnJvciBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU3VibWl0UmVzcG9uc2VFcnJvclBvcHVwT2tDbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNTdWJtaXRFcnJvclBvcERpc3BsYXlpbmc6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhdGVDb250ZW50UmVmcmVzaCgpO1xyXG4gICAgICAgIGlmIChlY291cnNld29ya0hlbHBlci5pc0VDb3Vyc2V3b3JrQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGVjb3Vyc2V3b3JrSGVscGVyLmNsZWFyRWNvdXJzZXdvcmtGaWxlRGF0YSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFdvcmtsaXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIE9LIGNsaWNrIG9mIEF1dG96b25lZCBtZXNzYWdlIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25BdXRvem9uZWRXYXJuaW5nTWVzc2FnZU9rQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy9jaGFuZ2UgdGhlIHN0YXRlIHRvIGZhbHNlIHRvIGNsb3NlIHRoZSBwb3B1cFxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0F1dG96b25lZE1lc3NhZ2VQb3B1cERpc3BsYXlpbmc6IGZhbHNlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIEVjb3Vyc2V3b3JrIEZpbGUgZGF0YSBjbGVhcmVkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25FY291cnNld29ya0ZpbGVEYXRhQ2xlYXJlZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBlY291cnNld29ya0hlbHBlci5mZXRjaEVDb3Vyc2VXb3JrQ2FuZGlkYXRlU2NyaXB0TWV0YWRhdGEobnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkV29ya2xpc3QoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gcmVzZXQgdGhlIGFjZXRhdGUgc2F2ZSBpbnByb2dyZXNzIHN0YXR1cy5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZXNldEFjZXRhdGVTYXZlSW5Qcm9ncmVzc1N0YXR1cygpIHtcclxuICAgICAgICAvLyBjaGVja2luZyB3aGV0aGVyIGFueSBhZGRkZWQvbW9kaWZpZWQgYWNldGF0ZXMgYXJlIGZvdW5kIGluIHRoZSBhY2V0YXRlbGlzdCBmcm9tIHN0b3JlLlxyXG4gICAgICAgIGxldCBtb2RpZmllZEFjZXRhdGVzTGlzdDogSW1tdXRhYmxlLkxpc3Q8XHJcbiAgICAgICAgICAgIEFjZXRhdGVcclxuICAgICAgICAgICAgPiA9IHFpZ1N0b3JlLmluc3RhbmNlLmdldE1vZGlmaWVkQWNldGF0ZXNMaXN0KCk7XHJcbiAgICAgICAgaWYgKG1vZGlmaWVkQWNldGF0ZXNMaXN0ICYmIG1vZGlmaWVkQWNldGF0ZXNMaXN0LnNpemUgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIEludm9rZSBhY3Rpb24gY3JlYXRvciB0byBzZXQgc2F2ZUluUHJvZ3Jlc3Mgc3RhdHVzIHRvIHRydWUgYmVmb3JlIGNhbGxpbmcgYWNldGF0ZSBzYXZlIHByb2Nlc3MuXHJcbiAgICAgICAgICAgIGFjZXRhdGVzQWN0aW9uQ3JlYXRvci5yZXNldEFjZXRhdGVTYXZlSW5Qcm9ncmVzc1N0YXR1cyhtb2RpZmllZEFjZXRhdGVzTGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgYWNldGF0ZXMgc2F2ZUluUHJvZ3Jlc3Mgc3RhdHVzIHJlY2VpdmVkIGNhbGxiYWNrIGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUmVzZXRBY2V0YXRlc1NhdmVJblByb2dyZXNzUmVjZWl2ZWQobW9kaWZpZWRBY2V0YXRlc0xpc3Q6IEltbXV0YWJsZS5MaXN0PEFjZXRhdGU+KSB7XHJcbiAgICAgICAgbGV0IHNhdmVhY2V0YXRlc2FyZ3VtZW50czogU2F2ZUFjZXRhdGVzQXJndW1lbnRzID0ge1xyXG4gICAgICAgICAgICBUb29sczogbW9kaWZpZWRBY2V0YXRlc0xpc3RcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGRiIGNhbGwgZm9yIHNhdmluZyB0aGUgYWNldGF0ZSBsaXN0IGluIGRhdGFiYXNlLlxyXG4gICAgICAgIGFjZXRhdGVzQWN0aW9uQ3JlYXRvci5zYXZlQWNldGF0ZXMoc2F2ZWFjZXRhdGVzYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbXBsZXRlIFN0YW5kYXJkaXNhdGlvbiByZWNlaXZlZCBjYWxsYmFjayBldmVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uU2V0dXAoKSB7XHJcbiAgICAgICAgaWYgKCFzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmlzY29tcGxldGVTdGFuZGFyZGlzYXRpb25TdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Db21wbGV0ZVN0YW5kYXJkaXNhdGlvblZhbGlkYXRlLCBpc0J1c3k6IGZhbHNlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBhdXRvem9uZWQgbWVzc2FnZSBzaG91bGQgYmUgZGlzcGxheWVkLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5mb290ZXJUeXBlICE9PSBlbnVtcy5Gb290ZXJUeXBlLk1lc3NhZ2UpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZEF3YXJkaW5nQ2FuZGlkYXRlRGF0YTogQXdhcmRpbmdDYW5kaWRhdGVEZXRhaWxzO1xyXG4gICAgICAgICAgICBsZXQgZXhhbVNlc3Npb25JRDogbnVtYmVyO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNBd2FyZGluZ01vZGUpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkQXdhcmRpbmdDYW5kaWRhdGVEYXRhID0gYXdhcmRpbmdIZWxwZXIuYXdhcmRpbmdTZWxlY3RlZENhbmRpZGF0ZURhdGEoKTtcclxuICAgICAgICAgICAgICAgIGV4YW1TZXNzaW9uSUQgPSBzZWxlY3RlZEF3YXJkaW5nQ2FuZGlkYXRlRGF0YS5yZXNwb25zZUl0ZW1Hcm91cHNbMF0uZXhhbVNlc3Npb25JRDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9DaGVja2luZyB0aGUgQ0MgdmFsdWVzXHJcbiAgICAgICAgICAgIGxldCBpc0F1dG96b25lZCA9XHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY0hlbHBlclxyXG4gICAgICAgICAgICAgICAgICAgIC5nZXRFeGFtU2Vzc2lvbkNDVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNOYW1lcy5BdXRvWm9uaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNBd2FyZGluZ01vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBleGFtU2Vzc2lvbklEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbVNlc3Npb25JZFxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnICYmXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY0hlbHBlclxyXG4gICAgICAgICAgICAgICAgICAgIC5nZXRFeGFtU2Vzc2lvbkNDVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNOYW1lcy5EaXNwbGF5QXV0b3pvbmVkUmVzcG9uc2VzV2FybmluZyxcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzQXdhcmRpbmdNb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZXhhbVNlc3Npb25JRFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1TZXNzaW9uSWRcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcclxuICAgICAgICAgICAgLy9nZXR0aW5nIHRoZSBzYXZlZCB1c2VyT3B0aW9uIHZhbHVlXHJcbiAgICAgICAgICAgIGxldCB1c2VyT3B0aW9uQXV0b3pvbmVkVmFsdWUgPVxyXG4gICAgICAgICAgICAgICAgdXNlck9wdGlvbnNIZWxwZXIuZ2V0VXNlck9wdGlvbkJ5TmFtZShcclxuICAgICAgICAgICAgICAgICAgICB1c2VyT3B0aW9uS2V5cy5BVVRPWk9ORURfV0FSTklOR19NRVNTQUdFLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNBd2FyZGluZ01vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhd2FyZGluZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkQ2FuZGlkYXRlRGF0YS5yZXNwb25zZUl0ZW1Hcm91cHNbMF0uZXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5leGFtaW5lclJvbGVJZFxyXG4gICAgICAgICAgICAgICAgKSA9PT0gJ3RydWUnO1xyXG4gICAgICAgICAgICAvL3NldCBzdGF0ZSB0byBkaXNwbGF5IEF1dG96b25lZCBtZXNzYWdlIHBvcHVwXHJcbiAgICAgICAgICAgIGlmIChpc0F1dG96b25lZCAmJiB1c2VyT3B0aW9uQXV0b3pvbmVkVmFsdWUgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwRGlzcGxheWluZzogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL3NhdmluZyB1c2Vyb3B0aW9uIGZvciBhdXRvem9uZWQgbWVzc2FnZSBwb3B1cFxyXG4gICAgICAgICAgICAgICAgdXNlck9wdGlvbnNIZWxwZXIuc2F2ZShcclxuICAgICAgICAgICAgICAgICAgICB1c2VyT3B0aW9uS2V5cy5BVVRPWk9ORURfV0FSTklOR19NRVNTQUdFLFxyXG4gICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHRydWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNBd2FyZGluZ01vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhd2FyZGluZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkQ2FuZGlkYXRlRGF0YS5yZXNwb25zZUl0ZW1Hcm91cHNbMF0uZXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5leGFtaW5lclJvbGVJZFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9uIGNsaWNrIHNlbGVjdCB0byBtYXJrIHBvcHVwIGluIFN0ZCBzZXR1cCBjZW50cmUgc2NyaXB0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TZWxlY3RTdGRTZXR1cFJlc3BvbnNlVG9NYXJrID0gKHBvcHVwVHlwZTogZW51bXMuUG9wVXBUeXBlLFxyXG4gICAgICAgIHByb3Zpc2lvbmFsUWlnRGV0YWlsczogSW1tdXRhYmxlLkxpc3Q8UHJvdmlzaW9uYWxRSUdEZXRhaWxzUmV0dXJuPikgPT4ge1xyXG4gICAgICAgIGxldCBwcm92aXNpb25hbE1hcmtpbmdUeXBlOiBlbnVtcy5Qcm92aXNpb25hbE1hcmtpbmdUeXBlID0gZW51bXMuUHJvdmlzaW9uYWxNYXJraW5nVHlwZS5Ob25lO1xyXG4gICAgICAgIGlmIChwb3B1cFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5TZWxlY3RUb01hcmtBc1Byb3Zpc2lvbmFsICYmIHRoaXMuaXNDb21tb25Qcm92aXNpb25hbFN0YW5kYXJkaXNhdGlvbkNjT24oKSkge1xyXG4gICAgICAgICAgICBwcm92aXNpb25hbE1hcmtpbmdUeXBlID0gZW51bXMuUHJvdmlzaW9uYWxNYXJraW5nVHlwZS5BbGxvY2F0ZVRvQWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvdmlzaW9uYWxRaWdEZXRhaWxzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdWxhdGVDcmVhdGVNdWx0aVFJR1Byb3Zpc2lvbmFsc1BvcFVwRGF0YShwcm92aXNpb25hbFFpZ0RldGFpbHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcG9wVXBUeXBlOiBwb3B1cFR5cGUsIHByb3Zpc2lvbmFsTWFya2luZ1R5cGU6IHByb3Zpc2lvbmFsTWFya2luZ1R5cGUgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogb24gY2FuY2VsIGNsaWNrIG9mIHRoZSBzZWxlY3QgcmVzcG9uc2UgdG8gbWFyayBhcyBwcm92aXNpb25hbCBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQ2FuY2VsQ2xpY2tPZlNlbGVjdFJlc3BvbnNlVG9NYXJrYXNQcm92aXNpb25hbCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuTm9uZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjYW5jZWwgY2xpY2sgb24gbWFyayBhcyBkZWZpbml0aXZlIHBvcHVwLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQ2FuY2VsQ2xpY2tPbk1hcmtBc0RlZmluaXRpdmVQb3BVcCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuTm9uZSB9KTtcclxuICAgICAgICB0aGlzLmNvcHlNYXJrc0FzRGVmaW5pdGl2ZVNlbGVjdGVkID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzdWJtaXQgY2xpY2sgb24gbWFyayBhcyBkZWZpbml0aXZlIHBvcHVwLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN1Ym1pdENsaWNrT25NYXJrQXNEZWZpbml0aXZlUG9wVXAgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmUgfSk7XHJcblxyXG4gICAgICAgIGxldCBzdGFuZGFyZGlzYXRpb25SZXNwb25zZURhdGFFeGFtaW5lclJvbGVJZCA9IDA7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRFeGFtaW5lclJvbGVJZCA9IDA7XHJcbiAgICAgICAgbGV0IHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGF0YSA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZmV0Y2hTdGFuZGFyZGlzYXRpb25SZXNwb25zZURhdGEoKTtcclxuICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEYXRhKSB7XHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGF0YUV4YW1pbmVyUm9sZUlkID0gc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEYXRhLmV4YW1pbmVyUm9sZUlkO1xyXG4gICAgICAgICAgICBjdXJyZW50RXhhbWluZXJSb2xlSWQgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IuY29weU1hcmtzQW5kQW5ub3RhdGlvbnNBc0RlZmluaXRpdmUodGhpcy5jb3B5TWFya3NBc0RlZmluaXRpdmVTZWxlY3RlZCxcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEYXRhRXhhbWluZXJSb2xlSWQgIT09IGN1cnJlbnRFeGFtaW5lclJvbGVJZCwgcmVzcG9uc2VIZWxwZXIuaGFzQWRkaXRpb25hbE9iamVjdCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogb24gbWFyayBsYXRlciBjbGlja2VkIGZvciBzZWxlY3QgcmVzcG9uc2VzIHBvcHVwIHRvIG1vdmUgYXMgcHJvdmlzaW9uYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RQcm92aXNpb25hbE1hcmtMYXRlckNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZHMgPSBBcnJheTxOdW1iZXI+KCk7XHJcbiAgICAgICAgaWYgKHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zICYmIHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aVFpZ0NoZWNrYm94SXRlbXMubWFwKChpdGVtOiBnZW5lcmljQ2hlY2tCb3hJdGVtcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaXNDaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWRzLnB1c2goaXRlbS5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkcy5wdXNoKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLmNyZWF0ZVN0YW5kYXJkaXNhdGlvblJpZyhzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkUmVzcG9uc2VJZCxcclxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWRzLFxyXG4gICAgICAgICAgICBlbnVtcy5NYXJraW5nTW9kZS5QcmVTdGFuZGFyZGlzYXRpb24sIGZhbHNlLCB0aGlzLnN0YXRlLnByb3Zpc2lvbmFsTWFya2luZ1R5cGUpO1xyXG4gICAgfTtcclxuXHJcblx0LyoqXHJcblx0ICogb24gbWFyayBub3cgY2xpY2tlZCBmb3Igc2VsZWN0IHJlc3BvbnNlcyBwb3B1cCB0byBtb3ZlIGFzIHByb3Zpc2lvbmFsXHJcblx0ICovXHJcbiAgICBwcml2YXRlIHNlbGVjdFByb3Zpc2lvbmFsTWFya05vd0NsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZHMgPSBBcnJheTxOdW1iZXI+KCk7XHJcbiAgICAgICAgaWYgKHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zICYmIHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aVFpZ0NoZWNrYm94SXRlbXMubWFwKChpdGVtOiBnZW5lcmljQ2hlY2tCb3hJdGVtcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaXNDaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWRzLnB1c2goaXRlbS5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkcy5wdXNoKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLmNyZWF0ZVN0YW5kYXJkaXNhdGlvblJpZyhzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkUmVzcG9uc2VJZCxcclxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWRzLFxyXG4gICAgICAgICAgICBlbnVtcy5NYXJraW5nTW9kZS5QcmVTdGFuZGFyZGlzYXRpb24sIHRydWUsIHRoaXMuc3RhdGUucHJvdmlzaW9uYWxNYXJraW5nVHlwZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogbmF2aWdhdGUgdG8gc3RhbmRhcmRpc2F0aW9uIHNldHVwIHNjcmVlbiBvbiBtYXJrIGxhdGVyXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TdGFuZGFyZGlzYXRpb25SaWdDcmVhdGVkID0gKGVycm9ySW5SaWdDcmVhdGlvbjogYm9vbGVhbiwgZG9NYXJrTm93OiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmUgfSk7XHJcbiAgICAgICAgaWYgKCFlcnJvckluUmlnQ3JlYXRpb24pIHtcclxuICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkU3RhbmRhcmRpc2F0aW9uU2V0dXAoKTtcclxuICAgICAgICAgICAgLy8gcHJvbWlzZSB0byBnZXQgc3RhbmRhcmRpc2F0aW9uIHRhcmdldCBkZXRhaWxzXHJcbiAgICAgICAgICAgIGxldCBnZXRTdGFuZGFyZGlzYXRpb25UYXJnZXREZXRhaWxzID0gc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5nZXRTdGFuZGFyZGlzYXRpb25UYXJnZXREZXRhaWxzXHJcbiAgICAgICAgICAgICAgICAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCwgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5leGFtaW5lclJvbGVJZCk7XHJcblxyXG4gICAgICAgICAgICBnZXRTdGFuZGFyZGlzYXRpb25UYXJnZXREZXRhaWxzLnRoZW4oZnVuY3Rpb24gKGl0ZW06IGFueSkge1xyXG4gICAgICAgICAgICAgICAgLy8gbG9hZCBzZWxlY3QgUmVzcG9uc2VzIGRldGFpbHMgb24gY29taW5nIGZyb20gcmVzcG9uc2VcclxuICAgICAgICAgICAgICAgIGxldCBzdGFuZGFyZGlzYXRpb253b3JsaXN0ID0gc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5zdGFuZGFyZGlzYXRpb25TZXR1cFdvcmtMaXN0U2VsZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgKGRvTWFya05vdyA/IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2UgOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5TZWxlY3RSZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZXhhbWluZXJSb2xlSWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVsb2FkIHVuY2xhc3NpZmllZCB3b3JrbGlzdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlUmVuZGVyVW5jbGFzc2lmaWVkV29ya2xpc3QgPSAoaXNGcm9tUmVzcG9uc2U6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAvLyBVcGRhdGUgc3RhbmRhcmRpc2F0aW9uIHRhcmdldCBkZXRhaWxzXHJcbiAgICAgICAgdGhpcy5jb3B5TWFya3NBc0RlZmluaXRpdmVTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgbGV0IGdldFN0YW5kYXJkaXNhdGlvblRhcmdldERldGFpbHMgPSBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLmdldFN0YW5kYXJkaXNhdGlvblRhcmdldERldGFpbHNcclxuICAgICAgICAgICAgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQsIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZXhhbWluZXJSb2xlSWQpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdW5jbGFzc2lmaWVkIHdvcmtsaXN0IGRldGFpbHNcclxuICAgICAgICBsZXQgc3RhbmRhcmRpc2F0aW9uV29ya2xpc3QgPSBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3RTZWxlY3Rpb25cclxuICAgICAgICAgICAgKGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlVuQ2xhc3NpZmllZFJlc3BvbnNlLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyUm9sZUlkKTtcclxuXHJcbiAgICAgICAgLy8gUmVzcG9uc2UgaWQgaW4gdGhlIHVuY2xhc3NpZmllZCB3b3JrbGlzdCB0byB3aGljaCwgdGhlIG5hdmlnYXRpb24gc2hvdWxkIGhhcHBlbiBhZnRlciBjbGFzc2lmeSBhY3Rpb25cclxuICAgICAgICBsZXQgbmV4dFJlc3BvbnNlSWQgPVxyXG4gICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLm5leHRSZXNwb25zZUlkKHJlc3BvbnNlU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWREaXNwbGF5SWQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgIC8vIEZvciBjbGFzc2lmeSBhY3Rpb25zIGZyb20gcmVzcG9uc2Ugc2NyZW5cclxuICAgICAgICBpZiAobmV4dFJlc3BvbnNlSWQgJiYgaXNGcm9tUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgLy8gUmVtZW1iZXIgdW5jbGFzc2lmaWVkIHdvcmtsaXN0IHZpZXcgdG8gZ28gYmFjayBhZnRlciBjbGFzc2lmeSBhY3Rpb25cclxuICAgICAgICAgICAgbGV0IHN0ZFdvcmtsaXN0VmlldzogZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmlzVG90YWxNYXJrc1ZpZXdTZWxlY3RlZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZS5WaWV3VG90YWxNYXJrcyA6XHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZS5WaWV3TWFya3NCeVF1ZXN0aW9uO1xyXG5cclxuICAgICAgICAgICAgbGV0IHVuY2xhc3NpZmllZFJlc3BvbnNlc1Byb21pc2UgPSBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLmdldFVuQ2xhc3NpZmllZFJlc3BvbnNlRGV0YWlscyhcclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICBsb2dpblNlc3Npb24uRVhBTUlORVJfSUQsIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgZmFsc2UsIHN0ZFdvcmtsaXN0VmlldykudGhlbihmdW5jdGlvbiAoaXRlbTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT24gY2xhc3NpZnlpbmcgcmVzcG9uc2UgZnJvbSByZXNwb25zZSBzY3JlZW4sIG5hdmlnYXRlIHRvIG5leHQgYXZhaWxhYmxlIHJlc3BvbnNlIGluIHRoZSB1bmNsYXNzaWZpZWQgd29ya2xpc3RcclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLnJlc3BvbnNlTmF2aWdhdGlvbihlbnVtcy5SZXNwb25zZU5hdmlnYXRpb24ubmV4dCwgZmFsc2UsIHBhcnNlSW50KG5leHRSZXNwb25zZUlkKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFByb21pc2UuUHJvbWlzZS5hbGwoW3N0YW5kYXJkaXNhdGlvbldvcmtsaXN0LCB1bmNsYXNzaWZpZWRSZXNwb25zZXNQcm9taXNlXSkuXHJcbiAgICAgICAgICAgICAgICB0aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93Q2xhc3NpZnlSZXNwb25zZUJ1c3lJbmRpY2F0b3I6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgUHJvbWlzZS5Qcm9taXNlLmFsbChbc3RhbmRhcmRpc2F0aW9uV29ya2xpc3RdKS5cclxuICAgICAgICAgICAgICAgIHRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkb1Nob3dDbGFzc2lmeVJlc3BvbnNlQnVzeUluZGljYXRvcjogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIE9uIGNsYXNzaWZ5aW5nIGxhc3QgcmVzcG9uc2UgZnJvbSByZXNwb25zZSBzY3JlZW4sIG5hdmlnYXRlIGJhY2sgdG8gdW5jbGFzc2lmaWVkIHdvcmtsaXN0LlxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRTdGFuZGFyZGlzYXRpb25TZXR1cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWxvYWQgcHJvdmlvbmFsIHdvcmtsaXN0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVSZW5kZXJQcm92aW9uYWxXb3JrbGlzdCA9IChmcm9tTWFya1NjaGVtZTogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLl9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yRm9yUEUgJiYgZnJvbU1hcmtTY2hlbWUpIHtcclxuICAgICAgICAgICAgbGV0IHN0ZFdvcmtsaXN0VmlldzogZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmlzVG90YWxNYXJrc1ZpZXdTZWxlY3RlZCA/IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld1RvdGFsTWFya3MgOlxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld01hcmtzQnlRdWVzdGlvbjtcclxuICAgICAgICAgICAgbGV0IG5leHRSZXNwb25zZUlkID1cclxuICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUubmV4dFJlc3BvbnNlSWQodGhpcy5fc2hhcmVSZXNwb25zZURldGFpbHMuZGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZiAobmV4dFJlc3BvbnNlSWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGEgPSBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlRGV0YWlsc1xyXG4gICAgICAgICAgICAgICAgICAgIChyZXNwb25zZVN0b3JlLmluc3RhbmNlLnNlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBzaGFyZWQgcmVzcG9uc2UgZnJvbSBwcm92aXNpb25hbCByZXNwb25zZSB3b3JrbGlzdCBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci51cGRhdGVTdGFuZGFyZGlzYXRpb25SZXNwb25zZUNvbGxlY3Rpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmVzTWFya0dyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuUHJvdmlzaW9uYWxSZXNwb25zZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQnVzeTogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5yZXNwb25zZU5hdmlnYXRpb24oZW51bXMuUmVzcG9uc2VOYXZpZ2F0aW9uLm5leHQsIGZhbHNlLCBwYXJzZUludChuZXh0UmVzcG9uc2VJZCkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgbmV4dCByZXNwb25zZSBpcyBub3QgYXZhaWxhYmxlIHRoZW4gbG9hZCB3b3JrbGlzdC5cclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFN0YW5kYXJkaXNhdGlvblNldHVwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogQWN0aW9uIHdoZW4gdGhlIG9rIGJ1dHRvbiBmb3IgTWFya2luZyBDaGVjayBjb25maXJtYXRpb24gaXMgY2xpY2tlZFxyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSBPbk9rQ2xpY2tPZkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uQ29uZmlybWF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0J1c3k6IHRydWUsIGlzQ29tcGxldGVTdGFuZGFyZGlzYXRpb246IHRydWUgfSk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5jb21wbGV0ZVN0YW5kYXJkaXNhdGlvblNldHVwKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFjdGlvbiB3aGVuIHRoZSBvayBidXR0b24gZm9yIE1hcmtpbmcgQ2hlY2sgY29uZmlybWF0aW9uIGlzIGNsaWNrZWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBPbkNhbmNlbENsaWNrT2ZDb21wbGV0ZVN0YW5kYXJkaXNhdGlvbkNvbmZpcm1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLnByb3BzLk9uQ2xpY2tpbmdDYW5jZWxvZlN0ZFNldHVwUG9wdXAodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBY3Rpb24gd2hlbiB0aGUgb2sgYnV0dG9uIGZvciBNYXJraW5nIENoZWNrIGNvbmZpcm1hdGlvbiBpcyBjbGlja2VkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Pa0NsaWNrb2ZTdGFuZGFyZGlzYXRpb25TZXR1cFZhbGlkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lLFxyXG4gICAgICAgICAgICBpc0NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJ1c3lJbmRpY2F0b3JBY3Rpb25DcmVhdG9yLnNldEJ1c3lJbmRpY2F0b3JJbnZva2VyKGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLnZhbGlkYXRlU3RhbmRhcmRpc2F0aW9uU2V0dXApO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IuZ2V0U3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlscyhxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQpO1xyXG5cclxuICAgICAgICAvLyBnZXQgdGhlIHdvcmtsaXN0IHZpZXcgdHlwZS5cclxuICAgICAgICBsZXQgc3RkV29ya2xpc3RWaWV3VHlwZTogZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZSA9IHVzZXJPcHRpb25zSGVscGVyLmdldFVzZXJPcHRpb25CeU5hbWUodXNlck9wdGlvbktleXMuU0VMRUNURURfR1JJRF9WSUVXX09QVElPTilcclxuICAgICAgICAgICAgPT09ICdmYWxzZScgPyBlbnVtcy5TVERXb3JrbGlzdFZpZXdUeXBlLlZpZXdNYXJrc0J5UXVlc3Rpb24gOiBlbnVtcy5TVERXb3JrbGlzdFZpZXdUeXBlLlZpZXdUb3RhbE1hcmtzO1xyXG5cclxuICAgICAgICAvLyBSZWZyZXNoIHRoZSBncmlkIHdpdGggbGF0ZXN0IGNoYW5nZXMuXHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5nZXRDbGFzc2lmaWVkUmVzcG9uc2VEZXRhaWxzKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgIGxvZ2luU2Vzc2lvbi5FWEFNSU5FUl9JRCwgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgZmFsc2UsIHN0ZFdvcmtsaXN0Vmlld1R5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcG9wIHVwIGNvbnRlbnQgb24gY2xpY2tpbmcgc2VsZWN0IHJlc3BvbnNlIHRvIG1hcmsgYnV0dG9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0IGdldFNlbGVjdFRvTWFya1Byb3Zpc2lvbmFsUG9wdXBDb250ZW50KCk6IEpTWC5FbGVtZW50W10ge1xyXG4gICAgICAgIGxldCBjb250ZW50OiBKU1guRWxlbWVudFtdID0gW107XHJcbiAgICAgICAgbGV0IHNjcmlwdERhdGE6IFN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHMgPSBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmZldGNoU2VsZWN0ZWRTY3JpcHREZXRhaWxzKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkUmVzcG9uc2VJZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbGV0IHNob3dNdWx0aVFpZ1BvcHVwOiBib29sZWFuID0gdGhpcy5pc011bHRpUWlnTWFya2luZ0F2YWlsYWJsZSgpO1xyXG4gICAgICAgIGxldCBjZW50cmVDYW5kaWRhdGVEZXRhaWxzOiBzdHJpbmcgPSBzdHJpbmdIZWxwZXIuZm9ybWF0KFxyXG4gICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zZWxlY3QtcmVzcG9uc2Uuc2VsZWN0LXRvLW1hcmstcG9wdXAtY29udGVudC1saW5lMidcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgU3RyaW5nKHNjcmlwdERhdGEuY2FuZGlkYXRlU2NyaXB0SWQpLFxyXG4gICAgICAgICAgICAgICAgc2NyaXB0RGF0YS5jZW50cmVOdW1iZXIsXHJcbiAgICAgICAgICAgICAgICBzY3JpcHREYXRhLmNlbnRyZUNhbmRpZGF0ZU51bWJlci50b1VwcGVyQ2FzZSgpXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBsZXQgaXNDb21tb25Qcm92aXNpb25hbFN0YW5kYXJkaXNhdGlvbkNjT246IGJvb2xlYW4gPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY05hbWVzLkNvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XHJcblxyXG4gICAgICAgIGlmIChzaG93TXVsdGlRaWdQb3B1cCkge1xyXG4gICAgICAgICAgICBjb250ZW50LnB1c2goPHAga2V5PSdzZWxlY3QtdG8tbWFyay1wb3B1cC1jb250ZW50LWxpbmUyJ1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdkaW0tdGV4dCBwYWRkaW5nLWJvdHRvbS0xMCc+e2NlbnRyZUNhbmRpZGF0ZURldGFpbHN9PC9wPik7XHJcblxyXG4gICAgICAgICAgICBjb250ZW50LnB1c2goPHAga2V5PSdzZWxlY3QtdG8tbWFyay1wb3B1cC1jb250ZW50LWxpbmUyJz57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2VsZWN0LXJlc3BvbnNlLnNlbGVjdC10by1tYXJrLW11bHRpcWlnLXBvcHVwLWNvbnRlbnQtbGluZSdcclxuICAgICAgICAgICAgKX08L3A+KTtcclxuICAgICAgICAgICAgY29udGVudC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgPEdlbmVyaWNQb3B1cFdpdGhDaGVja0JveGVzXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdxaWctaXRlbSdcclxuICAgICAgICAgICAgICAgICAgICBpZD0ncG9wdXAtY3JlYXRlcHJvdmlzaW9uYWwtbXVsdGlxaWcnXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM9e3RoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoZWNrZWQ9e3RoaXMub25DaGVja2VkfVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT0ncG9wdXAtY3JlYXRlcHJvdmlzaW9uYWwtbXVsdGlxaWcnIC8+KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZW50LnB1c2goXHJcbiAgICAgICAgICAgICAgICA8cCBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTEnPlxyXG4gICAgICAgICAgICAgICAgICAgIHtpc0NvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uQ2NPbiA/IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2VsZWN0LXJlc3BvbnNlLnNlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTEtcHJvdmlzaW9uYWwnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1jb250ZW50LWxpbmUxJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQucHVzaCg8cCBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTInXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2RpbS10ZXh0IHBhZGRpbmctdG9wLTEwJz57Y2VudHJlQ2FuZGlkYXRlRGV0YWlsc308L3A+KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzQ29tbW9uUHJvdmlzaW9uYWxTdGFuZGFyZGlzYXRpb25DY09uKCkpIHtcclxuICAgICAgICAgICAgY29udGVudC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J29wdGlvbi1ob2xkZXIgcGFkZGluZy10b3AtMTAnPlxyXG4gICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9J29wdGlvbnMnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPSdwYWRkaW5nLXRvcC0xMCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdyYWRpbydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT0nc2VsZWN0ZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J1NUTUFsbG9jYXRlMSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSdzZWxlY3RQcm92aXNpb25hbFNUTSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnN0YXRlLnByb3Zpc2lvbmFsTWFya2luZ1R5cGUgPT09IGVudW1zLlByb3Zpc2lvbmFsTWFya2luZ1R5cGUuQWxsb2NhdGVUb0FsbCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUgOiBmYWxzZX0+PC9pbnB1dD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPSdTVE1BbGxvY2F0ZTEnIG9uQ2xpY2s9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMub25PcHRpb25CdXR0b25DbGljay5iaW5kKHRoaXMsIGVudW1zLlByb3Zpc2lvbmFsTWFya2luZ1R5cGUuQWxsb2NhdGVUb0FsbCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ncmFkaW8tdWknPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xhYmVsLXRleHQnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1vcHRpb24tYWxsb2NhdGUtYWxsJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J3JhZGlvJyB2YWx1ZT0nc2VsZWN0ZWQnIGlkPSdTVE1BbGxvY2F0ZTInIG5hbWU9J3NlbGVjdFByb3Zpc2lvbmFsU1RNJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUucHJvdmlzaW9uYWxNYXJraW5nVHlwZSA9PT0gZW51bXMuUHJvdmlzaW9uYWxNYXJraW5nVHlwZS5BbGxvY2F0ZWRUb01lID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSA6IGZhbHNlfT48L2lucHV0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J1NUTUFsbG9jYXRlMicgb25DbGljaz1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5vbk9wdGlvbkJ1dHRvbkNsaWNrLmJpbmQodGhpcywgZW51bXMuUHJvdmlzaW9uYWxNYXJraW5nVHlwZS5BbGxvY2F0ZWRUb01lKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdyYWRpby11aSc+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbGFiZWwtdGV4dCc+e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2VsZWN0LXJlc3BvbnNlLnNlbGVjdC10by1tYXJrLXBvcHVwLW9wdGlvbi1hbGxvY2F0ZS1tZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTIwJyBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTMnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1jb250ZW50LWxpbmUzJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9PC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZW50LnB1c2goXHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTEwJyBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTMnPlxyXG4gICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1jb250ZW50LWxpbmUzJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGhhbmRsZSBvcHRpb24gYnV0dG9uIGNsaWNrXHJcbiAgICAgKiBAcGFyYW0gaXNBbGxvY2F0ZVRvTWVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk9wdGlvbkJ1dHRvbkNsaWNrKF9wcm92aXNpb25hbE1hcmtpbmdUeXBlOiBlbnVtcy5Qcm92aXNpb25hbE1hcmtpbmdUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIHByb3Zpc2lvbmFsTWFya2luZ1R5cGU6IF9wcm92aXNpb25hbE1hcmtpbmdUeXBlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgbWFyayBhcyBkZWZpbml0aXZlIHBvcHVwIGNvbnRlbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXQgZ2V0TWFya0FzRGVmaW5pdGl2ZVBvcHVwQ29udGVudCgpOiBKU1guRWxlbWVudFtdIHtcclxuICAgICAgICBsZXQgY29udGVudDogSlNYLkVsZW1lbnRbXSA9IFtdO1xyXG4gICAgICAgIGxldCByZXNwb25zZURhdGE6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscyA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZmV0Y2hTdGFuZGFyZGlzYXRpb25SZXNwb25zZURhdGEoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRSZXNwb25zZUlkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgbWFya0FzRGVmaW5pdGl2ZVJlc3BvbnNlOiBzdHJpbmcgPSBzdHJpbmdIZWxwZXIuZm9ybWF0KFxyXG4gICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5tYXJrLWFzLWRlZmluaXRpdmUubWFyay1hcy1kZWZpbml0aXZlLXBvcHVwLWNvbnRlbnQtbGluZTInXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIFN0cmluZyhyZXNwb25zZURhdGEuZGlzcGxheUlkKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZyhyZXNwb25zZURhdGEudG90YWxNYXJrVmFsdWUpXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnRlbnQucHVzaChcclxuICAgICAgICAgICAgPHAga2V5PSdtYXJrLWFzLWRlZmluaXRpdmUtcG9wdXAtY29udGVudC1saW5lMSc+XHJcbiAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLm1hcmstYXMtZGVmaW5pdGl2ZS5tYXJrLWFzLWRlZmluaXRpdmUtcG9wdXAtY29udGVudC1saW5lMSdcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnRlbnQucHVzaCg8cCBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTInXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nZGltLXRleHQgcGFkZGluZy10b3AtMjAnPnttYXJrQXNEZWZpbml0aXZlUmVzcG9uc2V9PC9wPik7XHJcbiAgICAgICAgY29udGVudC5wdXNoKFxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTIwJyBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTMnPlxyXG4gICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5tYXJrLWFzLWRlZmluaXRpdmUubWFyay1hcy1kZWZpbml0aXZlLXBvcHVwLWNvbnRlbnQtbGluZTMnXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgcmFkaW9CdXR0b25UZXh0OiBKU1guRWxlbWVudCA9ICg8ZGl2IGNsYXNzTmFtZT0nb3B0aW9uLWhvbGRlciBwYWRkaW5nLXRvcC0xMCc+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9J29wdGlvbnMnPlxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAnIG9uQ2xpY2s9e3RoaXMub25NYXJrQXNEZWZpbml0aXZlQ29udGVudENsaWNrLmJpbmQodGhpcywgdHJ1ZSl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgdmFsdWU9J3NlbGVjdGVkJyBpZD0nY29weWFzRGVmaW5pdGl2ZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9J21hcmthc2RlZmluaXRpdmUnIC8qIGNoZWNrZWQ9e3RoaXMuY29weU1hcmtzQXNEZWZpbml0aXZlU2VsZWN0ZWQgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlfSovIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2NvcHlhc0RlZmluaXRpdmUnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3JhZGlvLXVpJz48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbGFiZWwtdGV4dCcgaWQ9J21hcmtBc0RlZmluaXRpdmVQb3B1cFJhZGlvQnV0dG9uMSc+e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLm1hcmstYXMtZGVmaW5pdGl2ZS5tYXJrLWFzLWRlZmluaXRpdmUtcG9wdXAtcmFkaW8tMSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTEwIG9wdGlvbi1jb250ZW50Jz57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLm1hcmstYXMtZGVmaW5pdGl2ZS5tYXJrLWFzLWRlZmluaXRpdmUtcG9wdXAtcmFkaW8tMS1kZXNjJ1xyXG4gICAgICAgICAgICAgICAgKX08L3A+XHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPSdwYWRkaW5nLXRvcC0yMCcgb25DbGljaz17dGhpcy5vbk1hcmtBc0RlZmluaXRpdmVDb250ZW50Q2xpY2suYmluZCh0aGlzLCBmYWxzZSl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgdmFsdWU9JycgaWQ9J2NsZWFyQWxsTWFyaydcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0nbWFya2FzZGVmaW5pdGl2ZScgLyogY2hlY2tlZD17dGhpcy5jb3B5TWFya3NBc0RlZmluaXRpdmVTZWxlY3RlZCA9PT0gZmFsc2UgPyB0cnVlIDogZmFsc2V9ICovIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2NsZWFyQWxsTWFyayc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ncmFkaW8tdWknPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdsYWJlbC10ZXh0JyBpZD0nbWFya0FzRGVmaW5pdGl2ZVBvcHVwUmFkaW9CdXR0b24yJz57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAubWFyay1hcy1kZWZpbml0aXZlLm1hcmstYXMtZGVmaW5pdGl2ZS1wb3B1cC1yYWRpby0yJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAgcGFkZGluZy1ib3R0b20tNSBvcHRpb24tY29udGVudCc+XHJcbiAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAubWFyay1hcy1kZWZpbml0aXZlLm1hcmstYXMtZGVmaW5pdGl2ZS1wb3B1cC1yYWRpby0yLWRlc2MnXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPC91bD5cclxuICAgICAgICA8L2Rpdj4pO1xyXG4gICAgICAgIGNvbnRlbnQucHVzaChyYWRpb0J1dHRvblRleHQpO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyB0aGUgY29weU1hcmtzQXNEZWZpbml0aXZlU2VsZWN0ZWQgZmxhZywgb24gTWFyayBhcyBkZWZpbml0dmUgcG9wdXAgb3B0aW9uIGNsaWNrLlxyXG4gICAgICogQHBhcmFtIGlzQ29weU1hcmtzQW5kQW5ub3RhdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uTWFya0FzRGVmaW5pdGl2ZUNvbnRlbnRDbGljayhpc0NvcHlNYXJrc0FuZEFubm90YXRpb246IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLmNvcHlNYXJrc0FzRGVmaW5pdGl2ZVNlbGVjdGVkID0gaXNDb3B5TWFya3NBbmRBbm5vdGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY29uZGl0aW9ucyB3aGVyZSB0aGUgbXVsdGlxaWcgcG9wdXAgdG8gYmUgc2hvd24gd2hpbGUgc2VsZWN0IHRvIG1hcmsgYnV0dG9uIGlzIGNsaWNrZWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc011bHRpUWlnTWFya2luZ0F2YWlsYWJsZSgpOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgLy8gVGhlIG11bHRpcWlnIHJlc3BvbnNlIHBvcCB3aWxsIG9ubHkgc2hvdyB3aGVuIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgdHJ1ZVxyXG4gICAgICAgIC8vIDEuIFdob2xlUmVzcG9uc2VQcm92aXNpb25hbE1hcmtpbmcgc2hvdWxkIGJlIE9OLlxyXG4gICAgICAgIC8vIDIuIEF2YWlsYWJsZSBRSUdzIGZvciBQcm92aXNpb25hbCBtYXJraW5nIGlzIG1vcmUgdGhhbiBvbmVcclxuICAgICAgICBsZXQgd2hvbGVSZXNwb25zZVByb3Zpc2lvbmFsTWFya2luZzogYm9vbGVhbiA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljSGVscGVyLmdldEV4YW1TZXNzaW9uQ0NWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNOYW1lcy5XaG9sZVJlc3BvbnNlUHJvdmlzaW9uYWxNYXJraW5nLFxyXG4gICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzQXdhcmRpbmdNb2RlXHJcbiAgICAgICAgICAgICAgICA/IGF3YXJkaW5nU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRTZXNzaW9uLmV4YW1TZXNzaW9uSWRcclxuICAgICAgICAgICAgICAgIDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbVNlc3Npb25JZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAod2hvbGVSZXNwb25zZVByb3Zpc2lvbmFsTWFya2luZyAmJiB0aGlzLm11bHRpUWlnQ2hlY2tib3hJdGVtcyAhPT0gdW5kZWZpbmVkICYmIHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHN3aXRjaCB1c2VyIGJ1dHRvbiBjbGlja1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN3aXRjaFVzZXJCdXR0b25DbGljaygpIHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgbmF2aWdhdGlvbkhlbHBlci5vbkJlZm9yZVdpbmRvd1VubG9hZCk7XHJcbiAgICAgICAgLyogdHNsaW50OmRpc2FibGU6bm8tc3RyaW5nLWxpdGVyYWwgKi9cclxuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2VbJ2FkbWluc3VwcG9ydCddID0gJ3RydWUnO1xyXG4gICAgICAgIC8qIHRzbGludDplbmFibGU6bm8tc3RyaW5nLWxpdGVyYWwgKi9cclxuICAgICAgICB3aW5kb3cub3BlbignPycsICdfc2VsZicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcGxldGUgU3RhbmRhcmRpc2F0aW9uIHJlY2VpdmVkIGNhbGxiYWNrIGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUmVzcG9uc2VEYXRhUmVjaWV2ZWRBZnRlclJlZnJlc2goKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgIFNldHRpbmcgYnVzeSBpbmRpY2F0b3IgdG8gZmFsc2Ugb24gU3RhbmRhcmRpc2F0aW9uIFNldHVwIHJlZnJlc2ggb25cclxuICAgICAgICAgIGNvbXBsZXRpbmcgc3RhbmRhcmRpc2F0aW9uIHNldHVwXHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNCdXN5OiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogUG9wdWxhdGUgcmVjYXNzaWZ5IG11bHRpb3B0aW9uIHBvcFVwIGRhdGFcclxuXHQgKi9cclxuICAgIHByaXZhdGUgcG9wdWxhdGVSZWNhc3NpZnlNdWx0aU9wdGlvblBvcFVwRGF0YShzZWxlY3RlZE1hcmtpbmdNb2RlSWQ6IG51bWJlciA9IDApIHtcclxuICAgICAgICB0aGlzLml0ZW1zID0gbmV3IEFycmF5PGdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zPigpO1xyXG4gICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZCA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQ7XHJcbiAgICAgICAgbGV0IHNzdVN0bUNsYXNzaWZpY2F0aW9uUmVzdHJpY3Rpb246IHNzdVN0bUNsYXNzaWZpY2F0aW9uUmVzdHJpY3Rpb25cclxuICAgICAgICAgICAgPSBzdGRTZXR1cFBlcm1pc3Npb25IZWxwZXIuZ2V0U3N1Q2xhc3NpZmljYXRpb25SZXN0cmljdGlvbkJ5TWFya1NjaGVtZUdyb3VwSWQobWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgICAgIGxldCByZXN0aWN0ZWRUZXh0OiBzdHJpbmcgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZWNsYXNzaWZ5LW11bHRpb3B0aW9uLXBvcHVwLnJlc3RyaWN0ZWQnKTtcclxuICAgICAgICB0aGlzLnN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBGYWN0b3J5LlxyXG4gICAgICAgICAgICBnZXRTdGFuZGFyZGlzYXRpb25TZXRVcFdvcmtsaXN0SGVscGVyKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRTdGFuZGFyZGlzYXRpb25TZXR1cFdvcmtMaXN0KTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3RyaWN0ZWRUYXJnZXRzID0gdGhpcy5zdGFuZGFyZGlzYXRpb25TZXR1cEhlbHBlci5nZXRSZXN0cmljdGVkU1NVVGFyZ2V0KG1hcmtTY2hlbWVHcm91cElkKTtcclxuXHJcbiAgICAgICAgLy8gT25jZSBzdGQgc2V0dXAgaXMgY29tcGxldGVkLCB0aGVuIHNob3cgb25seSAnc2VlZCcgcmFkaW8gYnV0dG9uIGluIGNsYXNzaWZ5IG9wdGlvbnNcclxuICAgICAgICBpZiAoIXFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLnN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGUpIHtcclxuICAgICAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuY2hlY2tNYXJraW5nTW9kZVRhcmdldEV4aXN0Rm9yVGhpc1FJRyhlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmNyZWF0ZUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oZW51bXMuTWFya2luZ01vZGUuUHJhY3RpY2UsIDEsIHNlbGVjdGVkTWFya2luZ01vZGVJZFxyXG4gICAgICAgICAgICAgICAgICAgICwgc3N1U3RtQ2xhc3NpZmljYXRpb25SZXN0cmljdGlvbi5pc1ByYWN0aWNlUmVzdHJpY3RlZEZvckFueVN0bSwgcmVzdGljdGVkVGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5jaGVja01hcmtpbmdNb2RlVGFyZ2V0RXhpc3RGb3JUaGlzUUlHKGVudW1zLk1hcmtpbmdNb2RlLkVTX1RlYW1BcHByb3ZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmNyZWF0ZUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsLCAyLCBzZWxlY3RlZE1hcmtpbmdNb2RlSWRcclxuICAgICAgICAgICAgICAgICAgICAsIHNzdVN0bUNsYXNzaWZpY2F0aW9uUmVzdHJpY3Rpb24uaXNTdG1TdGFuZGFyZGlzYXRpb25lUmVzdHJpY3RlZEZvckFueVN0bSwgcmVzdGljdGVkVGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5jaGVja01hcmtpbmdNb2RlVGFyZ2V0RXhpc3RGb3JUaGlzUUlHKGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHRoaXMuY3JlYXRlR2VuZXJpY1JhZGlvQnV0dG9uSXRlbShlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCwgMywgc2VsZWN0ZWRNYXJraW5nTW9kZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgLCBzc3VTdG1DbGFzc2lmaWNhdGlvblJlc3RyaWN0aW9uLmlzU3RhbmRhcmRpc2F0aW9uUmVzdHJpY3RlZEZvckFueVN0bSwgcmVzdGljdGVkVGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5jaGVja01hcmtpbmdNb2RlVGFyZ2V0RXhpc3RGb3JUaGlzUUlHKGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2godGhpcy5jcmVhdGVHZW5lcmljUmFkaW9CdXR0b25JdGVtKGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcsIDQsIHNlbGVjdGVkTWFya2luZ01vZGVJZFxyXG4gICAgICAgICAgICAgICAgICAgICwgc3N1U3RtQ2xhc3NpZmljYXRpb25SZXN0cmljdGlvbi5pc1NlZWRpbmdSZXN0cmljdGVkRm9yQW55U3RtLCByZXN0aWN0ZWRUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLyogIzc1MDgxIDogT24gY2xhc3NpZnlpbmcgYSByZXNwb25zZSBmcm9tIFByb3Zpc2lvbmFsL1VuY2xhc3NpZmllZCB3b3JrbGlzdCBhZnRlciBTU1UgY29tcGxldGUsXHJcbiAgICAgICAgICAgICB0aGUgQ2xhc3NpZmljYXRpb24gcG9wLSB1cCBzaGFsbCBsaXN0IG9ubHkgdGhvc2UgdGFyZ2V0cyB3aGljaCBhcmUgbm90IG1ldCBPUiBcclxuICAgICAgICAgICAgKHdoZXJlIHRoZSB0YXJnZXQgaXMgbWV0IEFORCB0aGUgdHlwZSBpcyBub3QgaW5jbHVkZWQgaW4g4oCcUmVzdHJpY3RTdGFuZGFyZGlzYXRpb25TZXR1cFRhcmdldHPigJ0pLiAqL1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYW5MaXN0VGFyZ2V0SW5DbGFzc2lmaWNhdGlvblBvcFVwKGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlLCByZXN0cmljdGVkVGFyZ2V0cykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmNoZWNrTWFya2luZ01vZGVUYXJnZXRFeGlzdEZvclRoaXNRSUcoZW51bXMuTWFya2luZ01vZGUuUHJhY3RpY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHRoaXMuY3JlYXRlR2VuZXJpY1JhZGlvQnV0dG9uSXRlbShlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSwgMSwgc2VsZWN0ZWRNYXJraW5nTW9kZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICwgc3N1U3RtQ2xhc3NpZmljYXRpb25SZXN0cmljdGlvbi5pc1ByYWN0aWNlUmVzdHJpY3RlZEZvckFueVN0bSwgcmVzdGljdGVkVGV4dCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbkxpc3RUYXJnZXRJbkNsYXNzaWZpY2F0aW9uUG9wVXAoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsLCByZXN0cmljdGVkVGFyZ2V0cykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmNoZWNrTWFya2luZ01vZGVUYXJnZXRFeGlzdEZvclRoaXNRSUcoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmNyZWF0ZUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsLCAyLCBzZWxlY3RlZE1hcmtpbmdNb2RlSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLCBzc3VTdG1DbGFzc2lmaWNhdGlvblJlc3RyaWN0aW9uLmlzU3RtU3RhbmRhcmRpc2F0aW9uZVJlc3RyaWN0ZWRGb3JBbnlTdG0sIHJlc3RpY3RlZFRleHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jYW5MaXN0VGFyZ2V0SW5DbGFzc2lmaWNhdGlvblBvcFVwKGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsLCByZXN0cmljdGVkVGFyZ2V0cykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmNoZWNrTWFya2luZ01vZGVUYXJnZXRFeGlzdEZvclRoaXNRSUcoZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHRoaXMuY3JlYXRlR2VuZXJpY1JhZGlvQnV0dG9uSXRlbShlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCwgMywgc2VsZWN0ZWRNYXJraW5nTW9kZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICwgc3N1U3RtQ2xhc3NpZmljYXRpb25SZXN0cmljdGlvbi5pc1N0YW5kYXJkaXNhdGlvblJlc3RyaWN0ZWRGb3JBbnlTdG0sIHJlc3RpY3RlZFRleHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jYW5MaXN0VGFyZ2V0SW5DbGFzc2lmaWNhdGlvblBvcFVwKGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcsIHJlc3RyaWN0ZWRUYXJnZXRzKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuY2hlY2tNYXJraW5nTW9kZVRhcmdldEV4aXN0Rm9yVGhpc1FJRyhlbnVtcy5NYXJraW5nTW9kZS5TZWVkaW5nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmNyZWF0ZUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oZW51bXMuTWFya2luZ01vZGUuU2VlZGluZywgNCwgc2VsZWN0ZWRNYXJraW5nTW9kZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICwgc3N1U3RtQ2xhc3NpZmljYXRpb25SZXN0cmljdGlvbi5pc1NlZWRpbmdSZXN0cmljdGVkRm9yQW55U3RtLCByZXN0aWN0ZWRUZXh0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUbyBjaGVjayB3aGV0aGVyIHRoZSB0YXJnZXQgY2FuIGJlIGRpc3BsYXllZCBpbiBDbGFzc2lmaWNhdGlvbiBwb3B1cCBPblxyXG4gICAgICogY2xhc3NpZnlpbmcgYSByZXNwb25zZSBmcm9tIFByb3Zpc2lvbmFsL1VuY2xhc3NpZmllZCB3b3JrbGlzdCBhZnRlciBTU1UgY29tcGxldGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjYW5MaXN0VGFyZ2V0SW5DbGFzc2lmaWNhdGlvblBvcFVwKHRhcmdldDogZW51bXMuTWFya2luZ01vZGUsIHJlc3RyaWN0ZWRUYXJnZXRzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4pOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgc3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlsTGlzdCA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuY2xhc3NpZmljYXRpb25TdW1tYXJ5VGFyZ2V0RGV0YWlscztcclxuICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlsTGlzdCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRUYXJnZXQgPSBzdGFuZGFyZGlzYXRpb25UYXJnZXREZXRhaWxMaXN0LlxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcigoeDogc3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlsKSA9PiB4Lm1hcmtpbmdNb2RlSWQgPT09IHRhcmdldCkuZmlyc3QoKTtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVGFyZ2V0LmNvdW50IDwgc2VsZWN0ZWRUYXJnZXQudGFyZ2V0IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgKCFyZXN0cmljdGVkVGFyZ2V0cy5jb250YWlucyh0YXJnZXQpICYmIHNlbGVjdGVkVGFyZ2V0LnRhcmdldCA8PSBzZWxlY3RlZFRhcmdldC5jb3VudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgR2VuZXJpYyBSYWRpbyBCdXR0b24gSXRlbVxyXG4gICAgICogQHBhcmFtIG1hcmtpbmdNb2RlSWRcclxuICAgICAqIEBwYXJhbSBzZXF1ZW5jZU5vXHJcbiAgICAgKiBAcGFyYW0gc2VsZWN0ZWRNYXJraW5nTW9kZUlkXHJcbiAgICAgKiBAcGFyYW0gaXNNYXJraW5nTW9kZVJlc3RyaWN0ZWRGb3JBbnlTdG1cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjcmVhdGVHZW5lcmljUmFkaW9CdXR0b25JdGVtKG1hcmtpbmdNb2RlSWQ6IGVudW1zLk1hcmtpbmdNb2RlLCBzZXF1ZW5jZU5vOiBudW1iZXIsXHJcbiAgICAgICAgc2VsZWN0ZWRNYXJraW5nTW9kZUlkOiBudW1iZXIsIGlzTWFya2luZ01vZGVSZXN0cmljdGVkRm9yQW55U3RtOiBib29sZWFuLCByZXN0aWN0ZWRUZXh0OiBzdHJpbmcpOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcyB7XHJcbiAgICAgICAgbGV0IG9iaiA9IG5ldyBnZW5lcmljUmFkaW9CdXR0b25JdGVtcygpO1xyXG4gICAgICAgIG9iai5zZXF1ZW5jZU5vID0gc2VxdWVuY2VObztcclxuICAgICAgICBvYmouaWQgPSBtYXJraW5nTW9kZUlkO1xyXG4gICAgICAgIG9iai5pc0NoZWNrZWQgPSBvYmouaWQgPT09IHNlbGVjdGVkTWFya2luZ01vZGVJZCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICBvYmoubmFtZSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LmNsYXNzaWZpY2F0aW9uLXR5cGUuJyArIGVudW1zLk1hcmtpbmdNb2RlW21hcmtpbmdNb2RlSWRdKTtcclxuICAgICAgICBvYmouZXJyb3JUZXh0ID0gKGlzTWFya2luZ01vZGVSZXN0cmljdGVkRm9yQW55U3RtID8gJyAtICcgKyByZXN0aWN0ZWRUZXh0IDogJycpO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgcmFkaW8gYnV0dG9uIGZvciBSZXVzZSBhY3Rpb24gcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjcmVhdGVSZXVzZUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oaW5wdXRpZDogbnVtYmVyLCBzZXF1ZW5jZU5vOiBudW1iZXIpOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcyB7XHJcbiAgICAgICAgbGV0IHJhZGlvQnV0b25Gb3JQRSA9IG5ldyBnZW5lcmljUmFkaW9CdXR0b25JdGVtcygpO1xyXG4gICAgICAgIHJhZGlvQnV0b25Gb3JQRS5zZXF1ZW5jZU5vID0gc2VxdWVuY2VObztcclxuICAgICAgICByYWRpb0J1dG9uRm9yUEUuaWQgPSBpbnB1dGlkO1xyXG4gICAgICAgIHJhZGlvQnV0b25Gb3JQRS5pc0NoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIHJhZGlvQnV0b25Gb3JQRS5uYW1lID0gJ0NyZWF0ZSBjb3B5IGFuZCBtb3ZlIHRvIHVuY2xhc3NpZmllZCBsaXN0JztcclxuICAgICAgICByYWRpb0J1dG9uRm9yUEUuZXJyb3JUZXh0ID0gJyc7XHJcbiAgICAgICAgcmV0dXJuIHJhZGlvQnV0b25Gb3JQRTtcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogb24gY2FuY2VsIGNsaWNrIG9mIHJlY2xhc3NpZnkgbXVsdGkgb3B0aW9uIHBvcHVwXHJcblx0ICovXHJcbiAgICBwcml2YXRlIG9uQ2FuY2VsQ2xpY2tPZlJlY2xhc3NpZnlNdWx0aU9wdGlvblBvcFVwID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgLy8gRGlzYWJsZSBjbGFzc2lmeSByZXNwb25zZSAnT0sgYnV0dG9uJyB3aGlsZSBjbGlja2luZyBvbiBjbGFzc2lmeSBtdWx0aSBvcHRpb24gcG9wdXAgJ2NhbmNlbCBidXR0b24nXHJcbiAgICAgICAgaWYgKHRoaXMuaXNVbmNsYXNzaWZpZWRXb3JrbGlzdFNlbGVjdGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0NsYXNzaWZ5UmVzcG9uc2VPa0J1dHRvbkRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucG9wdWxhdGVSZWNhc3NpZnlNdWx0aU9wdGlvblBvcFVwRGF0YSgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIGNhbmNlbCBjbGljayBvZiBSZXVzZSBSaWcgYWN0aW9uIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25DYW5jZWxDbGlja09mUmV1c2VSaWdQb3B1cCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnJldXNlUklHU2VsZWN0ZWREaXNwbGF5SWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJlY2Fzc2lmeU11bHRpT3B0aW9uUG9wVXBEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJldXNlVW5jbGFzc2lmeVBvcHVwSXRlbSgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gT2sgbWNsaWNrIG9mIFJldXNlUklHIGFjdGlvbiBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uT0tDbGlja09mUmV1c2VSaWdwb3B1cCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgb3BlbmVkUmVzcG9uc2VEZXRhaWxzID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5nZXRSZXVzYWJsZVJlc3BvbnNlRGV0YWlsc1xyXG4gICAgICAgICAgICAodGhpcy5yZXVzZVJJR1NlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGlmICh0aGlzLnJldXNlVW5jbGFzc2lmeUl0ZW0uZmlsdGVyKGkgPT4gaS5pc0NoZWNrZWQgPT09IHRydWUpWzBdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TWFya2luZ01vZGUgPSB0aGlzLml0ZW1zLmZpbHRlcihpID0+IGkuaXNDaGVja2VkID09PSB0cnVlKVswXS5pZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNYXJraW5nTW9kZSA9IGVudW1zLk1hcmtpbmdNb2RlLlByZVN0YW5kYXJkaXNhdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBkb2N1bWVudElkID0gb3BlbmVkUmVzcG9uc2VEZXRhaWxzLmRvY3VtZW50SWQ7XHJcbiAgICAgICAgbGV0IG1hcmtHcm91cElkID0gb3BlbmVkUmVzcG9uc2VEZXRhaWxzLmVzTWFya0dyb3VwSWQ7XHJcbiAgICAgICAgbGV0IG1hcmtTY2hlbWVHcm91cElkID0gb3BlbmVkUmVzcG9uc2VEZXRhaWxzLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnJldXNlUmlnQWN0aW9uKG1hcmtHcm91cElkLFxyXG4gICAgICAgICAgICBkb2N1bWVudElkLFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TWFya2luZ01vZGUpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lLFxyXG4gICAgICAgICAgICBkb1Nob3dSZXVzZVJpZ0FjdGlvbkJ1c3lJbmRpY2F0b3I6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogcmVjbGFzc2lmeSByZXNwb25zZSB0byBzZWxlY3RlZCBtYXJraW5nIG1vZGUgaW4gcG9wdXBcclxuXHQgKi9cclxuICAgIHByaXZhdGUgb25SZWNsYXNzaWZ5UmVzcG9uc2UgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIC8vIEZldGNoIG1hcmtTY2hlbWVHcm91cElkXHJcbiAgICAgICAgbGV0IG1hcmtTY2hlbWVHcm91cElkID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgLy8gcmlnIG9yZGVyIHVwZGF0ZSBpcyBub3QgcmVxdWlyZWQgZm9yIGNsYXNzaWZ5IGFjdGlvblxyXG4gICAgICAgIGxldCByaWdPcmRlclVwZGF0ZVJlcXVpcmVkOiBib29sZWFuID0gdGhpcy5pc1VuY2xhc3NpZmllZFdvcmtsaXN0U2VsZWN0ZWQoKSA/IGZhbHNlIDogdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gRmV0Y2ggdGhlIG5ldyBtYXJraW5nIG1vZGUgaWQgc2VsZWN0ZWQgZm9yIHJlY2xhc3NpZmljYXRpb25cclxuICAgICAgICB0aGlzLmN1cnJlbnRNYXJraW5nTW9kZSA9IHRoaXMuaXRlbXMuZmlsdGVyKGkgPT4gaS5pc0NoZWNrZWQgPT09IHRydWUpWzBdLmlkO1xyXG4gICAgICAgIHRoaXMucHJldmlvdXNNYXJraW5nTW9kZSA9IHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscy5tYXJraW5nTW9kZUlkO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheUlkID0gdGhpcy5yZWNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzLmRpc3BsYXlJZDtcclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBtb2RlbCBmb3IgcmVjbGFzc2lmeVJlc3BvbnNlQWN0aW9uXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlRGV0YWlsczogdXBkYXRlRVNNYXJrR3JvdXBNYXJraW5nTW9kZURhdGEgPSB7XHJcbiAgICAgICAgICAgIGNhbmRpZGF0ZVNjcmlwdElkOiB0aGlzLnJlY2xhc3NpZnlSZXNwb25zZURldGFpbHMuY2FuZGlkYXRlU2NyaXB0SWQsXHJcbiAgICAgICAgICAgIGVzQ2FuZGlkYXRlU2NyaXB0TWFya1NjaGVtZUdyb3VwSWQ6IHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscy5lc0NhbmRpZGF0ZVNjcmlwdE1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogbWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgIG1hcmtpbmdNb2RlSWQ6IHRoaXMuY3VycmVudE1hcmtpbmdNb2RlLFxyXG4gICAgICAgICAgICBwcmV2aW91c01hcmtpbmdNb2RlSWQ6IHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscy5tYXJraW5nTW9kZUlkLFxyXG4gICAgICAgICAgICByaWdPcmRlcjogbnVsbCxcclxuICAgICAgICAgICAgaXNSaWdPcmRlclVwZGF0ZVJlcXVpcmVkOiByaWdPcmRlclVwZGF0ZVJlcXVpcmVkLFxyXG4gICAgICAgICAgICBkaXNwbGF5SWQ6IHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscy5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgIHRvdGFsTWFya1ZhbHVlOiB0aGlzLnJlY2xhc3NpZnlSZXNwb25zZURldGFpbHMudG90YWxNYXJrVmFsdWUsXHJcbiAgICAgICAgICAgIG9sZFJpZ09yZGVyOiB0aGlzLnJlY2xhc3NpZnlSZXNwb25zZURldGFpbHMucmlnT3JkZXIsXHJcbiAgICAgICAgICAgIGFzc2lnbk5leHRSaWdPcmRlcjogdGhpcy5jdXJyZW50TWFya2luZ01vZGUgIT09IGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgIGVzTWFya0dyb3VwUm93VmVyc2lvbjogdGhpcy5yZWNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzLmVzTWFya0dyb3VwUm93VmVyc2lvblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzVW5jbGFzc2lmaWVkV29ya2xpc3RTZWxlY3RlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzID0gcmVzcG9uc2VEZXRhaWxzO1xyXG4gICAgICAgICAgICB0aGlzLmlzQ2xhc3NpZnlSZXNwb25zZU9rQnV0dG9uRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmUsXHJcbiAgICAgICAgICAgICAgICBkb1Nob3dDbGFzc2lmeVJlc3BvbnNlQnVzeUluZGljYXRvcjogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3VibWl0SGVscGVyLnNhdmVBbmRDbGFzc2lmeVJlc3BvbnNlKHJlc3BvbnNlU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRNYXJrR3JvdXBJZCwgdGhpcy5fY2xhc3NpZnlSZXNwb25zZURldGFpbHMpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2VEZXRhaWxzLnByZXZpb3VzTWFya2luZ01vZGVJZCAhPT0gcmVzcG9uc2VEZXRhaWxzLm1hcmtpbmdNb2RlSWQpIHtcclxuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBjYWxsIGNsYXNzaWZ5IGFjdGlvbiBpZiB0aGVyZSBhcmUgbm8gY2hhbmdlcyBpbiBtYXJraW5nIG1vZGUgXHJcbiAgICAgICAgICAgIC8vIFRoaXMgcmVjbGFzc2lmeSBhY3Rpb24gaXMgYmVpbmcgY2FsbGVkIHdoZW4gcmVjbGFzc2lmeSBhIHJlc3BvbnNlIGZyb20gcmVzcG9uc2Ugc2NyZWVuIFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnJlY2xhc3NpZnlSZXNwb25zZShyZXNwb25zZURldGFpbHMsIGVudW1zLlBhZ2VDb250YWluZXJzLlJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHJlc2V0IHN0YXRlIFxyXG4gICAgICAgIHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLnBvcHVsYXRlUmVjYXNzaWZ5TXVsdGlPcHRpb25Qb3BVcERhdGEoKTtcclxuICAgICAgICBsZXQgaXNCdXN5OiBib29sZWFuID0gIXRoaXMuaXNVbmNsYXNzaWZpZWRXb3JrbGlzdFNlbGVjdGVkKCkgP1xyXG4gICAgICAgICAgICByZXNwb25zZURldGFpbHMucHJldmlvdXNNYXJraW5nTW9kZUlkICE9PSByZXNwb25zZURldGFpbHMubWFya2luZ01vZGVJZCA6IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lLFxyXG4gICAgICAgICAgICBkb1Nob3dSZWNsYXNzaWZ5UmVzcG9uc2VCdXN5SW5kaWNhdG9yOiBpc0J1c3lcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCB0aGUgc3RhdGUgb2YgbXVsdGkgb3B0aW9uIHBvcHVwIHR5cGUgdG8gQ2xhc3NpZnkgb3IgUmVjbGFzc2lmeVxyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSByZWNsYXNzaWZ5TXVsdGlPcHRpb25Qb3B1cE9wZW4gPSAoZXNNYXJrR3JvdXBJZDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5yZWNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzID1cclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5nZXRSZXNwb25zZURldGFpbHNCeUVzTWFya0dyb3VwSWRCYXNlZE9uUGVybWlzc2lvbihlc01hcmtHcm91cElkKTtcclxuICAgICAgICB0aGlzLnBvcHVsYXRlUmVjYXNzaWZ5TXVsdGlPcHRpb25Qb3BVcERhdGEodGhpcy5yZWNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzLm1hcmtpbmdNb2RlSWQpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5SZWNsYXNzaWZ5TXVsdGlPcHRpb24gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQb3B1bGF0ZSByYWRpbyBidXR0b24gaXRlbSBmb3IgUmV1c2VSSUcgcG9wIHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcG9wdWxhdGVSZXVzZVVuY2xhc3NpZnlQb3B1cEl0ZW0oKSB7XHJcbiAgICAgICAgdGhpcy5yZXVzZVVuY2xhc3NpZnlJdGVtID0gbmV3IEFycmF5PGdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zPigpO1xyXG4gICAgICAgIHRoaXMucmV1c2VVbmNsYXNzaWZ5SXRlbS5wdXNoKHRoaXMuY3JlYXRlUmV1c2VHZW5lcmljUmFkaW9CdXR0b25JdGVtKGVudW1zLk1hcmtpbmdNb2RlLlByZVN0YW5kYXJkaXNhdGlvbiwgMSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0IFJldXNlIFJJRyBwb3B1cCBhY3Rpb24gXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0IGdldFJlVXNlQWN0aW9uTXVsdGlPcHRpb25Qb3B1cENvbnRlbnQoKTogSlNYLkVsZW1lbnRbXSB7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQ6IEpTWC5FbGVtZW50W10gPSBbXTtcclxuICAgICAgICBsZXQgb3BlbmVkUmVzcG9uc2VEZXRhaWxzID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgZ2V0UmV1c2FibGVSZXNwb25zZURldGFpbHModGhpcy5yZXVzZVJJR1NlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICBsZXQgcmV1c2VSSUdTZWxlY3RlZENlbnRyZUlkID0gb3BlbmVkUmVzcG9uc2VEZXRhaWxzLmNlbnRyZU51bWJlci50b1N0cmluZygpO1xyXG4gICAgICAgIGxldCByZXVzZVJJR1NlbGVjdGVkQ2FuZGlkYXRlTm8gPSBvcGVuZWRSZXNwb25zZURldGFpbHMuY2VudHJlQ2FuZGlkYXRlTnVtYmVyLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IHJldXNlUklHU2VsZWN0ZWRTY3JpcHRJRCA9IG9wZW5lZFJlc3BvbnNlRGV0YWlscy5jYW5kaWRhdGVTY3JpcHRJZC50b1N0cmluZygpO1xyXG4gICAgICAgIGNvbnRlbnQucHVzaChcclxuICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5yZXVzZS1jb250ZW50Jyl9XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J2RpbS10ZXh0IHBhZGRpbmctdG9wLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5zY3JpcHQtaWQnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9J3JldXNlc2NyaXB0aWQnPnsnOiAxJyArIHJldXNlUklHU2VsZWN0ZWRTY3JpcHRJRCArICcsICd9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5DZW50cmUnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9J3JldXNlY2VudHJlaWQnPnsnOiAnICsgcmV1c2VSSUdTZWxlY3RlZENlbnRyZUlkICsgJywgJ308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2UtYWN0aW9uLXBvcHVwLkNhbmRpZGF0ZScpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0ncmV1c2VjYW5kaWRhdGVpZCc+eyc6ICcgKyByZXVzZVJJR1NlbGVjdGVkQ2FuZGlkYXRlTm99PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvcHRpb24taG9sZGVyIHBhZGRpbmctdG9wLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICA8R2VuZXJpY1BvcHVwV2l0aFJhZGlvQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nb3B0aW9ucydcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3BvcHVwLXJldXNlcmlnLW9wdGlvbi1ob2xkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zPXt0aGlzLnJldXNlVW5jbGFzc2lmeUl0ZW19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlPXt0aGlzLm9uUmV1c2VJdGVtQ2hlY2tlZENoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRPbj17dGhpcy5zdGF0ZS5yZW5kZXJlZE9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaUNsYXNzTmFtZT17J3BhZGRpbmctdG9wLTEwJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PSdwb3B1cC1yZXVzZS11bmNsYXNzaWZ5LW9wdGlvbidcclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5yZXVzZS1jbGFzc2lmeS1vcHRpb24nKX1cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjbGFzc2lmeS1vcHRpb25zLWhvbGRlciBwYWRkaW5nLXRvcC0xMCBjbGVhcmZpeCc+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdlbmVyaWNQb3B1cFdpdGhSYWRpb0J1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J29wdGlvbi1pdGVtcydcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3BvcHVwLXJlY2xhc3NpZnktbXVsdGlvcHRpb24nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zPXt0aGlzLml0ZW1zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hlY2tlZENoYW5nZT17dGhpcy5vbkNoZWNrZWRDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkT249e3RoaXMuc3RhdGUucmVuZGVyZWRPbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlDbGFzc05hbWU9eydwYWRkaW5nLXRvcC0xMCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0ncG9wdXAtcmV1c2UtY2xhc3NpZnktb3B0aW9uJyAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvc3Bhbj4pO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBnZXQgcmVjbGFzc2lmaWNhdGlvbiBNdWx0aSBPcHRpb24gUG9wdXAgQ29udGVudFxyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSBnZXQgZ2V0UmVjbGFzc2lmaWNhdGlvbk11bHRpT3B0aW9uUG9wdXBDb250ZW50KCk6IEpTWC5FbGVtZW50W10ge1xyXG4gICAgICAgIGxldCBjb250ZW50OiBKU1guRWxlbWVudFtdID0gW107XHJcblxyXG4gICAgICAgIGNvbnRlbnQucHVzaCg8c3Bhbj48cCBjbGFzc05hbWU9J2RpbS10ZXh0Jz5cclxuICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZWNsYXNzaWZ5LW11bHRpb3B0aW9uLXBvcHVwLnJlc3BvbnNlLWlkJyl9XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Jlc3BvbnNlSUQnPnsnICcgKyB0aGlzLnJlY2xhc3NpZnlSZXNwb25zZURldGFpbHMuZGlzcGxheUlkfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9zcGFuPixcclxuXHRcdDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgeycgJyArIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QucmVjbGFzc2lmeS1tdWx0aW9wdGlvbi1wb3B1cC50b3RhbC1tYXJrJyl9XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3RvdGFsLW1hcmsnPnsnICcgKyB0aGlzLnJlY2xhc3NpZnlSZXNwb25zZURldGFpbHMudG90YWxNYXJrVmFsdWV9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTEwJz5cclxuICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnJlY2xhc3NpZnktbXVsdGlvcHRpb24tcG9wdXAuYm9keSdcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSdwYWRkaW5nLXRvcC0xMCc+XHJcbiAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5zdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlID9cclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5jbGFzc2lmeS1tdWx0aW9wdGlvbi1wb3B1cC5ib2R5LWNvbXBsZXRlLXNldHVwLW1lc3NhZ2UnIDpcclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZWNsYXNzaWZ5LW11bHRpb3B0aW9uLXBvcHVwLmJvZHktY29tcGxldGUtc2V0dXAtbWVzc2FnZSdcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NsYXNzaWZ5LW9wdGlvbnMtaG9sZGVyIHBhZGRpbmctdG9wLTEwIGNsZWFyZml4Jz5cclxuICAgICAgICAgICAgICAgIDxHZW5lcmljUG9wdXBXaXRoUmFkaW9CdXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J29wdGlvbi1pdGVtcydcclxuICAgICAgICAgICAgICAgICAgICBpZD0ncG9wdXAtcmVjbGFzc2lmeS1tdWx0aW9wdGlvbidcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcz17dGhpcy5pdGVtc31cclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlPXt0aGlzLm9uQ2hlY2tlZENoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlZE9uPXt0aGlzLnN0YXRlLnJlbmRlcmVkT259XHJcbiAgICAgICAgICAgICAgICAgICAgbGlDbGFzc05hbWU9eydwYWRkaW5nLXRvcC0xMCd9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PSdwb3B1cC1yZWNsYXNzaWZ5LW11bHRpb3B0aW9uJyAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L3NwYW4+KTtcclxuICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogT24gY2xpY2tpbmcgaXRlbXMgaW4gcmFkaW8gYnV0dG9uIHBvcHVwXHJcblx0ICogQHBhcmFtIGl0ZW1cclxuXHQgKi9cclxuICAgIHByaXZhdGUgb25DaGVja2VkQ2hhbmdlID0gKGl0ZW1Ub0JlVXBkYXRlZDogZ2VuZXJpY1JhZGlvQnV0dG9uSXRlbXMpID0+IHtcclxuICAgICAgICAvLyBzZXQgdGhlIGlzQ2hlY2tlZCBwcm9wZXJ0eSBvZiB0aGUgY2hlY2tlZCBpdGVtIHRvIHRydWVcclxuICAgICAgICB0aGlzLml0ZW1zLm1hcCgoaTogZ2VuZXJpY1JhZGlvQnV0dG9uSXRlbXMpID0+IHtcclxuICAgICAgICAgICAgaS5pc0NoZWNrZWQgPSBpLmlkID09PSBpdGVtVG9CZVVwZGF0ZWQuaWQgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEVuYWJsZSBjbGFzc2lmeSByZXNwb25zZSBPSyBidXR0b24gb24gc2VsZWN0aW5nIGFueSBvZiB0aGUgY2xhc3NpZnkgcmVzcG9uc2UgcmFkaW8gYnV0dG9uIG9wdGlvbnNcclxuICAgICAgICBpZiAodGhpcy5pc1VuY2xhc3NpZmllZFdvcmtsaXN0U2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0NsYXNzaWZ5UmVzcG9uc2VPa0J1dHRvbkRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiByZXVzZSBwb3B1cCB0aGVuIHVuY2hlY2tlZCB1bmNsYXNzaWZ5IG9wdGlvbiB3aGVuIHNlbGVjdCBjbGFzc2lmaWNhdGlvblxyXG4gICAgICAgIGlmICh0aGlzLnJldXNlVW5jbGFzc2lmeUl0ZW0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnJldXNlVW5jbGFzc2lmeUl0ZW0ubWFwKChpOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaS5pc0NoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gY2xpY2tpbmcgaXRlbXMgaW4gcmFkaW8gYnV0b24gcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblJldXNlSXRlbUNoZWNrZWRDaGFuZ2UgPSAoaXRlbVRvQmVVcGRhdGVkOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcykgPT4ge1xyXG4gICAgICAgIHRoaXMucmV1c2VVbmNsYXNzaWZ5SXRlbS5tYXAoKGk6IGdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zKSA9PiB7XHJcbiAgICAgICAgICAgIGkuaXNDaGVja2VkID0gaS5pZCA9PT0gaXRlbVRvQmVVcGRhdGVkLmlkID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZXQgdGhlIGlzQ2hlY2tlZCBwcm9wZXJ0eSBvZiB0aGUgbm90IGNoZWNrZWQgaXRlbSB0byBmYWxzZVxyXG4gICAgICAgIHRoaXMuaXRlbXMubWFwKChpOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcykgPT4ge1xyXG4gICAgICAgICAgICBpLmlzQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIGNhbGxlZCB3aGVuIHJlY2xhc3NpZnkgcG9wdXAgb3Blbi5cclxuICAgICAqIEBwYXJhbSByZWNsYXNzaWZpZWRSZXNwb25zZURldGFpbHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZWNsYXNzaWZ5UG9wdXBPcGVuID0gKHJlY2xhc3NpZmllZFJlc3BvbnNlRGV0YWlsczogdXBkYXRlRVNNYXJrR3JvdXBNYXJraW5nTW9kZURhdGEpOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBwcmV2aW91cywgY3VycmVudCBtYXJraW5nIG1vZGUgcGx1cyBkaXNwbGF5IGlkIHdoZW4gd2UgdHJ5IHRvIHJlY2xhc3NpZnkgZnJvbSB3b3JrbGlzdFxyXG4gICAgICAgIC8vIG9yIHdpdGhpbiByZXNwb25zZS5cclxuICAgICAgICB0aGlzLnByZXZpb3VzTWFya2luZ01vZGUgPSByZWNsYXNzaWZpZWRSZXNwb25zZURldGFpbHMucHJldmlvdXNNYXJraW5nTW9kZUlkO1xyXG4gICAgICAgIHRoaXMuY3VycmVudE1hcmtpbmdNb2RlID0gcmVjbGFzc2lmaWVkUmVzcG9uc2VEZXRhaWxzLm1hcmtpbmdNb2RlSWQ7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5SWQgPSByZWNsYXNzaWZpZWRSZXNwb25zZURldGFpbHMuZGlzcGxheUlkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV1c2VSSUcgYWN0aW9uIHBvcHVwIG9wZW4gXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmV1c2VSaWdBY3Rpb25Qb3B1cE9wZW4gPSAoZGlzcGxheUlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB0aGlzLnJldXNlUklHU2VsZWN0ZWREaXNwbGF5SWQgPSBkaXNwbGF5SWQ7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJlY2Fzc2lmeU11bHRpT3B0aW9uUG9wVXBEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJldXNlVW5jbGFzc2lmeVBvcHVwSXRlbSgpO1xyXG5cclxuICAgICAgICBsZXQgb3BlbmVkUmVzcG9uc2VEZXRhaWxzID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgZ2V0UmV1c2FibGVSZXNwb25zZURldGFpbHModGhpcy5yZXVzZVJJR1NlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuUmV1c2VSaWdBY3Rpb25cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldXNlUklHIGFjdGlvbiBjb21wbGV0ZWQgZXZlbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZXVzZVJpZ0FjdGlvbkNvbXBsZXRlZEV2ZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucmV1c2VSSUdTZWxlY3RlZERpc3BsYXlJZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJlY2Fzc2lmeU11bHRpT3B0aW9uUG9wVXBEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJldXNlVW5jbGFzc2lmeVBvcHVwSXRlbSgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lLFxyXG4gICAgICAgICAgICBkb1Nob3dSZXVzZVJpZ0FjdGlvbkJ1c3lJbmRpY2F0b3I6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gb3BlbiBSZWNsYXNzaWZ5IGVycm9yIHBvcHVwXHJcbiAgICAgKiB3aGVuZXZlciBhIGZhaWwgaW4gcmVjbGFzc2lmeSBhY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVjbGFzc2lmeUVycm9yUG9wdXBPcGVuID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5SZWNsYXNzaWZ5RXJyb3IsIGRvU2hvd1JlY2xhc3NpZnlSZXNwb25zZUJ1c3lJbmRpY2F0b3I6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gZ2V0IHRoZSByZWNsYXNzaWZpZWQgcmVzcG9uc2UgZXJyb3IgcG9wdXAgY29udGVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSZWNsYXNzaWZ5RXJyb3JQb3B1cENvbnRlbnQoKSB7XHJcbiAgICAgICAgbGV0IHByZXZpb3VzTWFya2luZ01vZGU6IHN0cmluZyA9IChsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5jbGFzc2lmaWNhdGlvbi10eXBlLidcclxuICAgICAgICAgICAgKyBlbnVtcy5NYXJraW5nTW9kZVt0aGlzLnByZXZpb3VzTWFya2luZ01vZGVdKSk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRNYXJraW5nTW9kZTogc3RyaW5nID0gKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgKCdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LmNsYXNzaWZpY2F0aW9uLXR5cGUuJ1xyXG4gICAgICAgICAgICArIGVudW1zLk1hcmtpbmdNb2RlW3RoaXMuY3VycmVudE1hcmtpbmdNb2RlXSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gc3RyaW5nSGVscGVyLmZvcm1hdChcclxuICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnJlY2xhc3NpZnllcnJvci1wb3B1cC5ib2R5J1xyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgICBbdGhpcy5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c01hcmtpbmdNb2RlLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudE1hcmtpbmdNb2RlXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgc2hhcmUgcmVzcG9uc2UgcG9wdXAgY29udGVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRTaGFyZVJlc3BvbnNlUG9wdXBDb250ZW50KCkge1xyXG4gICAgICAgIGxldCBwb3BVcENvbnRlbnQ6IEpTWC5FbGVtZW50W10gPSBbXTtcclxuICAgICAgICBwb3BVcENvbnRlbnQucHVzaCg8cD5cclxuICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3Quc2hhcmUtcmVzcG9uc2UtcG9wdXAuYm9keScpfVxyXG4gICAgICAgIDwvcD4pO1xyXG4gICAgICAgIHBvcFVwQ29udGVudC5wdXNoKDxwIGNsYXNzTmFtZT0nZGltLXRleHQgcGFkZGluZy10b3AtMTAnPlxyXG4gICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLnJlc3BvbnNlLWlkJyl9XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Jlc3BvbnNlSUQnPnt0aGlzLl9zaGFyZVJlc3BvbnNlRGV0YWlscy5kaXNwbGF5SWR9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L3NwYW4+LFxyXG4gICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLnRvdGFsLW1hcmsnKX1cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndG90YWwtbWFyayc+e3RoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLnRvdGFsTWFya1ZhbHVlfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDwvcD4pO1xyXG4gICAgICAgIHBvcFVwQ29udGVudC5wdXNoKDxwIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAnPlxyXG4gICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLmNvbmZpcm1hdGlvbi10ZXh0Jyl9XHJcbiAgICAgICAgPC9wPik7XHJcbiAgICAgICAgcmV0dXJuIHBvcFVwQ29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldCBTaGFyZSBSZXNwb25zZSBQb3B1cCBDb250ZW50IEZvciBQRVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldCBnZXRTaGFyZVJlc3BvbnNlUG9wdXBDb250ZW50Rm9yUEUoKTogSlNYLkVsZW1lbnRbXSB7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQ6IEpTWC5FbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICAgICAgY29udGVudC5wdXNoKFxyXG4gICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgIDxwIGlkPSdjaG9zZS1tZXNzYWdlJz5cclxuICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3Quc2hhcmUtcmVzcG9uc2UtcG9wdXAuY2hvc2UtbWVzc2FnZScpfVxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSdkaW0tdGV4dCBwYWRkaW5nLXRvcC0xMCc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3Quc2hhcmUtcmVzcG9uc2UtcG9wdXAucmVzcG9uc2UtaWQnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdyZXNwb25zZUlEJz57dGhpcy5fc2hhcmVSZXNwb25zZURldGFpbHMuZGlzcGxheUlkfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+LFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLnRvdGFsLW1hcmsnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSd0b3RhbC1tYXJrJz57dGhpcy5fc2hhcmVSZXNwb25zZURldGFpbHMudG90YWxNYXJrVmFsdWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvcHRpb24taG9sZGVyIHBhZGRpbmctdG9wLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICA8R2VuZXJpY1BvcHVwV2l0aFJhZGlvQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nb3B0aW9ucydcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3BvcHVwLXNoYXJlLXJlc3BvbnNlLW9wdGlvbi1ob2xkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zPXt0aGlzLnJldXNlVW5jbGFzc2lmeUl0ZW19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlPXt0aGlzLm9uUmV1c2VJdGVtQ2hlY2tlZENoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRPbj17dGhpcy5zdGF0ZS5yZW5kZXJlZE9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaUNsYXNzTmFtZT17J3BhZGRpbmctdG9wLTEwJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PSdwb3B1cC1yZXVzZS11bmNsYXNzaWZ5LW9wdGlvbidcclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8cCBpZD0nc2hhcmUtbm90ZScgY2xhc3NOYW1lPSdwYWRkaW5nLXRvcC0xMCBvcHRpb24tY29udGVudCc+e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3Quc2hhcmUtcmVzcG9uc2UtcG9wdXAuc2hhcmUtbm90ZScpfTwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGlkPSdjbGFzc2lmeS1ub3cnIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAnPjxsYWJlbD48c3BhbiBjbGFzc05hbWU9J2xhYmVsLXRleHQnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLmNsYXNzaWZ5LW5vdycpfTwvc3Bhbj48L2xhYmVsPjwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGlkPSdhbm5vdGF0aW9uLW5vdGUnIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLmFubm90YXRpb24tbm90ZScpfTwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjbGFzc2lmeS1vcHRpb25zLWhvbGRlciBwYWRkaW5nLXRvcC0xMCBjbGVhcmZpeCc+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdlbmVyaWNQb3B1cFdpdGhSYWRpb0J1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J29wdGlvbi1pdGVtcydcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3BvcHVwLXJlY2xhc3NpZnktbXVsdGlvcHRpb24nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zPXt0aGlzLml0ZW1zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hlY2tlZENoYW5nZT17dGhpcy5vbkNoZWNrZWRDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkT249e3RoaXMuc3RhdGUucmVuZGVyZWRPbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlDbGFzc05hbWU9eydwYWRkaW5nLXRvcC0xMCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0ncG9wdXAtcmV1c2UtY2xhc3NpZnktb3B0aW9uJyAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvc3Bhbj4pO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUG9wdWxhdGUgcmFkaW8gYnV0dG9uIGl0ZW0gZm9yIFNoYXJlIGFuZCBDbGFzc2lmeSBwb3AgdXAgZm9yIFBFXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcG9wdWxhdGVTaGFyZUZvclBFY2xhc3NpZnlQb3B1cEl0ZW0oKSB7XHJcbiAgICAgICAgdGhpcy5yZXVzZVVuY2xhc3NpZnlJdGVtID0gbmV3IEFycmF5PGdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zPigpO1xyXG4gICAgICAgIHRoaXMucmV1c2VVbmNsYXNzaWZ5SXRlbS5wdXNoKHRoaXMuY3JlYXRTaGFyZUZvclBFR2VuZXJpY1JhZGlvQnV0dG9uSXRlbShlbnVtcy5NYXJraW5nTW9kZS5QcmVTdGFuZGFyZGlzYXRpb24sIDEpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSByYWRpbyBidXR0b24gZm9yIFNoYXJlIGFuZCBDbGFzc2lmeVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNyZWF0U2hhcmVGb3JQRUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oaW5wdXRpZDogbnVtYmVyLCBzZXF1ZW5jZU5vOiBudW1iZXIpOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcyB7XHJcbiAgICAgICAgbGV0IHJhZGlvQnV0dG9uRm9yU2hhcmVQRSA9IG5ldyBnZW5lcmljUmFkaW9CdXR0b25JdGVtcygpO1xyXG4gICAgICAgIHJhZGlvQnV0dG9uRm9yU2hhcmVQRS5zZXF1ZW5jZU5vID0gc2VxdWVuY2VObztcclxuICAgICAgICByYWRpb0J1dHRvbkZvclNoYXJlUEUuaWQgPSBpbnB1dGlkO1xyXG4gICAgICAgIHJhZGlvQnV0dG9uRm9yU2hhcmVQRS5pc0NoZWNrZWQgPSByYWRpb0J1dHRvbkZvclNoYXJlUEUuaWQgPT09IGlucHV0aWQgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgcmFkaW9CdXR0b25Gb3JTaGFyZVBFLm5hbWUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5zaGFyZS1yZXNwb25zZS1wb3B1cC5zaGFyZS1tYXJrJyk7XHJcbiAgICAgICAgcmFkaW9CdXR0b25Gb3JTaGFyZVBFLmVycm9yVGV4dCA9ICcnO1xyXG4gICAgICAgIHJldHVybiByYWRpb0J1dHRvbkZvclNoYXJlUEU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gaGlkZSBSZWNsYXNzaWZ5IGVycm9yIHBvcHVwIG9uIG9rIGNsaWNrLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUmVjbGFzc2lmeUVycm9yTWVzc2FnZU9rQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBzaG93IHRoZSBjb25jdXJyZW50IHNhdmUgZmFpbCBwb3B1cFxyXG4gICAgICogd2hpbGUgdXBkYXRpbmcgdGhlIHNhbWUgcmVzcG9uc2UgbWFya2luZyBtb2RlIGJ5IGRpZmZlcmVudCB1c2VyLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNvbmN1cnJlbnRTYXZlRmFpbFBvcHVwID0gKGFyZWE6IGVudW1zLlBhZ2VDb250YWluZXJzKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jb25jdXJyZW50U2F2ZUZhaWxBcmVhID0gYXJlYTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuQ29uY3VycmVudFNhdmVGYWlsLFxyXG4gICAgICAgICAgICBkb1Nob3dSZWNsYXNzaWZ5UmVzcG9uc2VCdXN5SW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgZG9TaG93Q2xhc3NpZnlSZXNwb25zZUJ1c3lJbmRpY2F0b3I6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIHNob3cgdGhlIGRpc2NhcmQgcmVzcG9uc2UgZmFpbCBwb3B1cCB3aGlsZSBkaXNjYXJkaW5nIHRoZSBzYW1lIHJlc3BvbnNlIGJ5IGRpZmZlcmVudCB1c2VyLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGRpc2NhcmRSZXNwb25zZUZhaWxQb3B1cCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZFJlc3BvbnNlRmFpbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGhpZGUgQ29uY3VycmVudCBTYXZlIEZhaWwgUG9wdXAgb24gb2sgY2xpY2suXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Db25jdXJyZW50U2F2ZUZhaWxQb3B1cE9rQ2xpY2sgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIC8vIGdldCB0aGUgd29ya2xpc3QgdmlldyB0eXBlLlxyXG4gICAgICAgIGxldCBzdGRXb3JrbGlzdFZpZXdUeXBlOiBlbnVtcy5TVERXb3JrbGlzdFZpZXdUeXBlID0gdXNlck9wdGlvbnNIZWxwZXIuZ2V0VXNlck9wdGlvbkJ5TmFtZSh1c2VyT3B0aW9uS2V5cy5TRUxFQ1RFRF9HUklEX1ZJRVdfT1BUSU9OKVxyXG4gICAgICAgICAgICA9PT0gJ2ZhbHNlJyA/IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld01hcmtzQnlRdWVzdGlvbiA6IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld1RvdGFsTWFya3M7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbmN1cnJlbnRTYXZlRmFpbEFyZWEgPT09IGVudW1zLlBhZ2VDb250YWluZXJzLlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIC8vIHdoZW4gY29uY3VycmVueSBlcnJvciBvY2N1cnMgZnJvbSByZXNwb25zZSwgbmF2aWdhdGUgdG8gc3N1XHJcbiAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFN0YW5kYXJkaXNhdGlvblNldHVwKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRTdGFuZGFyZGlzYXRpb25TZXR1cFdvcmtMaXN0XHJcbiAgICAgICAgICAgICAgICA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIHRoZSBDbGFzc2lmaWVkIHdvcmtsaXN0IGdyaWQgd2l0aCBsYXRlc3QgY2hhbmdlcy5cclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IuZ2V0Q2xhc3NpZmllZFJlc3BvbnNlRGV0YWlscyhzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2luU2Vzc2lvbi5FWEFNSU5FUl9JRCwgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBmYWxzZSwgc3RkV29ya2xpc3RWaWV3VHlwZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIHRoZSBVbkNsYXNzaWZpZWQgd29ya2xpc3QgZ3JpZCB3aXRoIGxhdGVzdCBjaGFuZ2VzLlxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5nZXRVbkNsYXNzaWZpZWRSZXNwb25zZURldGFpbHMoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgICAgICAgICBsb2dpblNlc3Npb24uRVhBTUlORVJfSUQsIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsIHN0ZFdvcmtsaXN0Vmlld1R5cGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXNldCBjb25jdXJyZW50IFNhdmUgRmFpbCBBcmVhXHJcbiAgICAgICAgdGhpcy5jb25jdXJyZW50U2F2ZUZhaWxBcmVhID0gZW51bXMuUGFnZUNvbnRhaW5lcnMuTm9uZTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBoaWRlIGRpc2NhcmQgcmVzcG9uc2UgZmFpbCBwb3B1cCBhbmQgbmF2aWdhdGUgYmFjayB0byB1bmNsYXNzaWZpZWQgd29ya2xpc3Qgd2l0aCByZWZyZXNoZWQgZGF0YS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbkRpc2NhcmRSZXNwb25zZUZhaWxQb3B1cE9rQ2xpY2sgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIC8vIGdldCB0aGUgd29ya2xpc3QgdmlldyB0eXBlLlxyXG4gICAgICAgIGxldCBzdGRXb3JrbGlzdFZpZXdUeXBlOiBlbnVtcy5TVERXb3JrbGlzdFZpZXdUeXBlID0gdXNlck9wdGlvbnNIZWxwZXIuZ2V0VXNlck9wdGlvbkJ5TmFtZSh1c2VyT3B0aW9uS2V5cy5TRUxFQ1RFRF9HUklEX1ZJRVdfT1BUSU9OKVxyXG4gICAgICAgICAgICA9PT0gJ2ZhbHNlJyA/IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld01hcmtzQnlRdWVzdGlvbiA6IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld1RvdGFsTWFya3M7XHJcblxyXG4gICAgICAgIC8vIFJlZnJlc2ggdGhlIFVuQ2xhc3NpZmllZCB3b3JrbGlzdCBncmlkIHdpdGggbGF0ZXN0IGRhdGEuXHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5nZXRVbkNsYXNzaWZpZWRSZXNwb25zZURldGFpbHMoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgbG9naW5TZXNzaW9uLkVYQU1JTkVSX0lELCBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICBmYWxzZSwgc3RkV29ya2xpc3RWaWV3VHlwZSk7XHJcblxyXG4gICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFN0YW5kYXJkaXNhdGlvblNldHVwKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFBvcHVsYXRlIHJlY2Fzc2lmeSBtdWx0aW9wdGlvbiBwb3BVcCBkYXRhXHJcblx0ICovXHJcbiAgICBwcml2YXRlIHBvcHVsYXRlQ3JlYXRlTXVsdGlRSUdQcm92aXNpb25hbHNQb3BVcERhdGEocHJvdmlzaW9uYWxRaWdkZXRhaWxzOiBJbW11dGFibGUuTGlzdDxQcm92aXNpb25hbFFJR0RldGFpbHNSZXR1cm4+KSB7XHJcbiAgICAgICAgdGhpcy5tdWx0aVFpZ0NoZWNrYm94SXRlbXMgPSBuZXcgQXJyYXk8Z2VuZXJpY0NoZWNrQm94SXRlbXM+KCk7XHJcbiAgICAgICAgcHJvdmlzaW9uYWxRaWdkZXRhaWxzLm1hcCgoaXRlbTogUHJvdmlzaW9uYWxRSUdEZXRhaWxzUmV0dXJuKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgc2hvdyB0aGUgUUlHcyB3aGljaCBoYXZlIE11bHRpUUlHUHJvdmlzaW9uYWxQZXJtaXNzb24gaW4gdGhlIFN0YW5kYXJkaXNhdGlvblNldHVwUGVybWlzc2lvbnMgQ0MgaXMgT05cclxuICAgICAgICAgICAgbGV0IHN0YW5kYXJkaXNhdGlvblNldHVwQ0NEYXRhOiBzdGFuZGFyZGlzYXRpb25TZXR1cENDRGF0YSA9IHN0ZFNldHVwUGVybWlzc2lvbkhlbHBlci5nZW5lcmF0ZVNURFNldHVwUGVybWlzc2lvbkRhdGEoXHJcbiAgICAgICAgICAgICAgICBpdGVtLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YSwgaXRlbS5yb2xlKTtcclxuICAgICAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwQ0NEYXRhICYmIHN0YW5kYXJkaXNhdGlvblNldHVwQ0NEYXRhLnJvbGUucGVybWlzc2lvbnMubXVsdGlRSUdQcm92aXNpb25hbHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zLnB1c2godGhpcy5jcmVhdGVHZW5lcmljQ2hlY2tCb3hJdGVtKGl0ZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5tYXJrU2NoZW1lR3JvdXBJZCA9PT0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBHZW5lcmljIENoZWNrIEJveCBJdGVtXHJcblx0ICogQHBhcmFtIHByb3Zpc2lvbmFsUWlnRGV0YWlsXHJcblx0ICovXHJcbiAgICBwcml2YXRlIGNyZWF0ZUdlbmVyaWNDaGVja0JveEl0ZW0ocHJvdmlzaW9uYWxRaWdEZXRhaWw6IFByb3Zpc2lvbmFsUUlHRGV0YWlsc1JldHVybiwgaXNjaGVja2VkOiBib29sZWFuKTogZ2VuZXJpY0NoZWNrQm94SXRlbXMge1xyXG4gICAgICAgIGxldCBvYmogPSBuZXcgZ2VuZXJpY0NoZWNrQm94SXRlbXMoKTtcclxuICAgICAgICBvYmouaWQgPSBwcm92aXNpb25hbFFpZ0RldGFpbC5tYXJrU2NoZW1lR3JvdXBJZDtcclxuICAgICAgICBvYmouaXNDaGVja2VkID0gaXNjaGVja2VkO1xyXG4gICAgICAgIG9iai5kaXNhYmxlZCA9IGlzY2hlY2tlZDtcclxuICAgICAgICBvYmoubGFiZWxDb250ZW50ID0gcHJvdmlzaW9uYWxRaWdEZXRhaWwubWFya1NjaGVtZUdyb3VwTmFtZTtcclxuICAgICAgICBvYmouY29udGFpbmVyQ2xhc3NOYW1lID0gJ3BhZGRpbmctdG9wLTEwJztcclxuICAgICAgICBvYmouY2xhc3NOYW1lID0gJ3RleHQtbWlkZGxlIGNoZWNrYm94JztcclxuICAgICAgICBvYmoubGFiZWxDbGFzc05hbWUgPSAndGV4dC1taWRkbGUnO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE9uIGNsaWNraW5nIGl0ZW1zIGluIGNoZWNrIGJveCBwb3B1cFxyXG5cdCAqIEBwYXJhbSBpdGVtXHJcblx0ICovXHJcbiAgICBwcml2YXRlIG9uQ2hlY2tlZCA9IChpdGVtVG9CZVVwZGF0ZWQ6IGdlbmVyaWNDaGVja0JveEl0ZW1zKSA9PiB7XHJcbiAgICAgICAgLy8vLyBzZXQgdGhlIGlzQ2hlY2tlZCBwcm9wZXJ0eSBvZiB0aGUgY2hlY2tlZCBpdGVtIHRvIHRydWVcclxuICAgICAgICB0aGlzLm11bHRpUWlnQ2hlY2tib3hJdGVtcy5tYXAoKGl0ZW06IGdlbmVyaWNDaGVja0JveEl0ZW1zKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0uaXNDaGVja2VkID0gaXRlbS5pZCA9PT0gaXRlbVRvQmVVcGRhdGVkLmlkID8gKGl0ZW0uaXNDaGVja2VkID8gZmFsc2UgOiB0cnVlKSA6IGl0ZW0uaXNDaGVja2VkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZGlzcGxheSBub3RlIG1vZGlmaWVkIGluIGJhY2tncm91bmQgcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGRpc3BsYXlOb3RlU2F2ZUZhaWxlZFBvcHVwKHNhdmVOb3RlRXJyb3JDb2RlOiBlbnVtcy5TYXZlTm90ZUVycm9yKSB7XHJcbiAgICAgICAgaWYgKHNhdmVOb3RlRXJyb3JDb2RlID09PSBlbnVtcy5TYXZlTm90ZUVycm9yLlRpbWVTdGFtcENoYW5nZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlRGV0YWlscyA9IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXI6IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5sZWZ0LXBhbmVsLm5vdGUtc2F2ZS1lcnJvci1wb3B1cC1oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZVN0cmluZzogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLmxlZnQtcGFuZWwubm90ZS10aW1lc3RhbXAtY2hhbmdlZC1wb3B1cC1ib2R5J1xyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNOb3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwVmlzaWJsZTogdHJ1ZSB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNhdmVOb3RlRXJyb3JDb2RlID09PSBlbnVtcy5TYXZlTm90ZUVycm9yLk1hcmtpbmdNb2RlQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VEZXRhaWxzID0ge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlcjogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLmxlZnQtcGFuZWwubm90ZS1zYXZlLWVycm9yLXBvcHVwLWhlYWRlcidcclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlU3RyaW5nOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAubGVmdC1wYW5lbC5ub3RlLXJlc3BvbnNlLW1vZGlmaWVkLXBvcHVwLWJvZHknXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1Jlc3BvbnNlTW9kaWZpZWRQb3B1cFZpc2liaWxlOiB0cnVlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBvcHVwIGVsZW1lbnQgZm9yIG5vdGUgdGltZXN0YW1wIGNoYW5nZWQgcG9wdXAuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Ob3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTm90ZVRpbWVTdGFtcENoYW5nZWRQb3B1cFZpc2libGU6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUG9wdXAgZWxlbWVudCBmb3IgcmVzcG9uc2UgbW9kaWZpZWQgcG9wdXAuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SZXNwb25zZU1vZGlmaWVkUG9wdXBDbG9zZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNSZXNwb25zZU1vZGlmaWVkUG9wdXBWaXNpYmlsZTogZmFsc2UgfSk7XHJcbiAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkU3RhbmRhcmRpc2F0aW9uU2V0dXAoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICBSZXJlbmRlciBjbGFzc2lmaWVkIHdvcmtsaXN0IG9uIGRlY2xhc3NpZnkvcmVjbGFzc2lmeSBzY2VuYXJpb1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlUmVuZGVyT25DbGFzc2lmaWVkUmVzcG9uc2VSZWNlaXZlZCgpIHtcclxuICAgICAgICAvLyBGZXRjaCB0aGUgU1REV29ya2xpc3RWaWV3VHlwZSBmcm9tIHVzZXIgb3B0aW9uc1xyXG4gICAgICAgIGxldCBpc1N0ZFRvdGFsTWFya1ZpZXc6IGJvb2xlYW4gPSB1c2VyT3B0aW9uc0hlbHBlci5nZXRVc2VyT3B0aW9uQnlOYW1lKHVzZXJPcHRpb25LZXlzLlNFTEVDVEVEX0dSSURfVklFV19PUFRJT04pXHJcbiAgICAgICAgICAgID09PSAnZmFsc2UnID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgIGxldCBncmlkVHlwZTogZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZSA9IGlzU3RkVG90YWxNYXJrVmlldyA/XHJcbiAgICAgICAgICAgIGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld1RvdGFsTWFya3MgOiBlbnVtcy5TVERXb3JrbGlzdFZpZXdUeXBlLlZpZXdNYXJrc0J5UXVlc3Rpb247XHJcblxyXG4gICAgICAgIC8vIHJlZnJlc2ggdGhlIHN1bW1hcnkgdGFyZ2V0cy5cclxuICAgICAgICBsZXQgZ2V0U3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlscyA9XHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IuZ2V0U3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlscyhxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkKTtcclxuXHJcbiAgICAgICAgZ2V0U3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlscy5cclxuICAgICAgICAgICAgdGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyByZWZyZXNoIHRoZSBjbGFzc2lmaWNhdGlvbiBncmlkIG9uY2Ugd2UgcmVjbGFzc2lmeS9kZWNsYXNzaWZ5IGEgcmVzcG9uc2UuXHJcbiAgICAgICAgICAgICAgICBsZXQgZ2V0Q2xhc3NpZmllZFJlc3BvbnNlRGV0YWlscyA9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5nZXRDbGFzc2lmaWVkUmVzcG9uc2VEZXRhaWxzKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luU2Vzc2lvbi5FWEFNSU5FUl9JRCwgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLCBncmlkVHlwZSk7XHJcbiAgICAgICAgICAgICAgICBnZXRDbGFzc2lmaWVkUmVzcG9uc2VEZXRhaWxzLlxyXG4gICAgICAgICAgICAgICAgICAgIHRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93UmVjbGFzc2lmeVJlc3BvbnNlQnVzeUluZGljYXRvcjogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgdmlzaWJpbGl0eSBvZiBVbkNsYXNzaWZpZWQgcmVzcG9uc2UgdW5hdmFpbGFibGUgcG9wdXAuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdW5DbGFzc2lmaWVkU2NyaXB0aW5TdG1VbmF2YWlsYWJsZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgdW5DbGFzc2lmaWVkU2NyaXB0aW5TdG1VbmF2YWlsYWJsZVZpc2libGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9rIGNsaWNrIGFjdGlvbiwgb24gVW5DbGFzc2lmaWVkIHVuYXZhaWxhYmxlIHBvcHVwLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9rQ2xpY2tPblVuYXZhaWxhYmxlUG9wVXAgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHVuQ2xhc3NpZmllZFNjcmlwdGluU3RtVW5hdmFpbGFibGVWaXNpYmxlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRTdGFuZGFyZGlzYXRpb25TZXR1cCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc2F2ZSBNYXJrcyBBbmQgQW5ub3RhdGlvbnMgV2l0aCBOb24gUmVjb3ZlcmFibGUgRXJyb3JcclxuICAgICAqIEBwYXJhbSBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50XHJcbiAgICAgKiBAcGFyYW0gbWFya0dyb3VwSWRcclxuICAgICAqIEBwYXJhbSBxdWV1ZU9wZXJhdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNhdmVNYXJrc0FuZEFubm90YXRpb25zV2l0aE5vblJlY292ZXJhYmxlRXJyb3IoXHJcbiAgICAgICAgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludDogZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LFxyXG4gICAgICAgIG1hcmtHcm91cElkOiBudW1iZXIsIHF1ZXVlT3BlcmF0aW9uOiBlbnVtcy5NYXJrc0FuZEFubm90YXRpb25zUXVldWVPcGVyYXRpb24pIHtcclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBoZWxwZXIgbWV0aG9kIHRvIHVwZGF0ZSB0aGUgbWFya3MgYW5kIGFubm90YXRpb25zIHF1ZXVlXHJcbiAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIub25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyhcclxuICAgICAgICAgICAgbWFya0dyb3VwSWQsXHJcbiAgICAgICAgICAgIHF1ZXVlT3BlcmF0aW9uXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHF1ZXVlIGlzIHByb2Nlc3NlZCBjb21wbGV0ZWx5LCBoYXZlIHRvIGhpZGUgdGhlIHNhdmUgbWFya3MgYW5kIGFubm90YXRpb25zIGJ1c3kgaW5kaWNhdG9yXHJcbiAgICAgICAgaWYgKG1hcmtzQW5kQW5ub3RhdGlvbnNTYXZlSGVscGVyLmlzUXVldWVQcm9jZXNzZWRDb21wbGV0ZWx5KSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIG1hcmtzQW5kQW5ub3RhdGlvbnNTYXZlSGVscGVyLm1hcmtHcm91cEl0ZW1zV2l0aE5vblJlY292ZXJhYmxlRXJyb3JzXHJcbiAgICAgICAgICAgICAgICAgICAgLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAvL1doZW4gdGhlcmUgYXJlIGVycm9ycyBpbiBzYXZpbmcgbWFya3MgYW5kIGFubm90YXRpb25zIHdlIGhhdmUgdG8gaGlkZSB0aGUgYnVzeSBpbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JBY3Rpb25DcmVhdG9yLnNldEJ1c3lJbmRpY2F0b3JJbnZva2VyKFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLm5vbmVcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgYXBwcm9wcmlhdGUgZXJyb3IgZGlhbG9nIGNvbnRlbnRzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVNYXJrc0FuZEFubm90YXRpb25zRXJyb3JEaWFsb2dDb250ZW50cyA9IG5ldyBzYXZlTWFya3NBbmRBbm5vdGF0aW9uc05vblJlY292ZXJhYmxlRXJyb3JEaWFsb2dDb250ZW50cyhcclxuICAgICAgICAgICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2xvZ2ljIGZvciBkaXNwbGF5aW5nIGVycm9yIHBvcHVwLlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNOb25SZWNvdmVyYWJsZUVycm9yUG9wdXBWaXNpYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NCYXNlZE9uU2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludChcclxuICAgICAgICAgICAgICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtHcm91cElkXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBMYXN0IEludm9rZWQgVHJpZ2dlciBwb2ludCBpcyBzdG9yZWQgaW4gbWFya2luZyBTdG9yZS4gUmVzZXQgdGhlIHZhcmlhYmxlIGFmdGVyICdBTEwgQ29tcGxldGVkIFNhdmUnXHJcbiAgICAgICAgICAgIGlmIChtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlci5jb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VBY3Rpb25DcmVhdG9yLnRyaWdnZXJTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zKFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5Ob25lXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBoaWRlIHRoZSBzYXZpbmcgbWFya3MgYW5kIGFubm90YXRpb25zIGJ1c3kgaW5kaWNhdG9yXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3I6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICBSZXJlbmRlciByaWcgbm90IGZvdW5kIHBvcCB1cC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzaG93T3JIaWRlUmlnTm90Rm91bmRQb3B1cCA9IChzaG93T3JIaWRlUmlnTm90Rm91bmQ6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd1JpZ05vdEZvdW5kUG9wVXA6IHNob3dPckhpZGVSaWdOb3RGb3VuZCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICBSZXJlbmRlciBSaWcgbm90IGZvdW5kIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SaWdOb3RGb3VuZE9rQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dSaWdOb3RGb3VuZFBvcFVwOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICBEaXNwbGF5IGNvbmZpcm1hdGlvbiBkaWFsb2cgdG8gc2hhcmUgdGhlIHJlc3BvbnNlLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNoYXJlUmVzcG9uc2VQb3B1cE9wZW4gPSAoc2hhcmVSZXNwb25zZURldGFpbHM6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscywgaXNTaGFyZWRGcm9tTWFya1NjaGVtZTogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIFNldCBmbGFnIHRvIGRpc3BsYXkgc2hhcmVSZXNwb25zZSBQb3B1cCBPciBub3QuXHJcbiAgICAgICAgdGhpcy5fc2hhcmVSZXNwb25zZURldGFpbHMgPSBzaGFyZVJlc3BvbnNlRGV0YWlscztcclxuICAgICAgICB0aGlzLl9pc1NoYXJlZEZyb21NYXJrU2NoZW1lID0gaXNTaGFyZWRGcm9tTWFya1NjaGVtZTtcclxuICAgICAgICB0aGlzLl9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJlY2Fzc2lmeU11bHRpT3B0aW9uUG9wVXBEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVNoYXJlRm9yUEVjbGFzc2lmeVBvcHVwSXRlbSgpO1xyXG5cclxuICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGRTZXR1cFBlcm1pc3Npb25DQ0RhdGEucm9sZS5wZXJtaXNzaW9ucy5jbGFzc2lmeSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yRm9yUEUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZ0ZvclBFOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQnVzeTogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBpc0J1c3k6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIENsb3NlIFNoYXJlIFJlc3BvbnNlIGRpYWxvZyBhZnRlciBjbGlja2luZyBDYW5jZWwuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hhcmVSZXNwb25zZVBvcHVwQ2xvc2UgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gU2V0IGZsYWcgdG8gZGlzcGxheSBzaGFyZVJlc3BvbnNlIFBvcHVwIE9yIG5vdC5cclxuICAgICAgICB0aGlzLl9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaXNTaGFyZVJlc3BvbnNlUG9wdXBEaXNwbGF5aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZ0ZvclBFOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNoYXJlIFByb3Zpc2lvbmFsIFJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hhcmVSZXNwb25zZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpc1NoYXJlUmVzcG9uc2VQb3B1cERpc3BsYXlpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNTaGFyZVJlc3BvbnNlUG9wdXBEaXNwbGF5aW5nRm9yUEU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNCdXN5OiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBsZXQgbWFya2luZ01vZGU6IG51bWJlcjtcclxuXHJcbiAgICAgICAgLy8gRmV0Y2ggbWFya1NjaGVtZUdyb3VwSWRcclxuICAgICAgICBsZXQgbWFya1NjaGVtZUdyb3VwSWQgPSBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5Jc1NoYXJlQW5kQ2xhc3NpZnlPcHRpb25OZWVkZWQpIHtcclxuICAgICAgICAgICAgbWFya2luZ01vZGUgPSB0aGlzLml0ZW1zLmZpbHRlcihpID0+IGkuaXNDaGVja2VkID09PSB0cnVlKVswXS5pZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXJraW5nTW9kZSA9IHRoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLm1hcmtpbmdNb2RlSWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBtYXBwaW5nIHZhbHVlcyBvbiBzdWJtaXQgYXJndW1lbnRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9zaGFyZVJlc3BvbnNlQXJndW1lbnQgPSB7XHJcbiAgICAgICAgICAgIG1hcmtHcm91cElkczogW3RoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLmVzTWFya0dyb3VwSWRdLFxyXG4gICAgICAgICAgICBtYXJraW5nTW9kZTogbWFya2luZ01vZGUsXHJcbiAgICAgICAgICAgIGV4YW1pbmVyUm9sZUlkOiBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgZXhhbWluZXJBcHByb3ZhbDogZXhhbWluZXJTdG9yZS5pbnN0YW5jZS5nZXRNYXJrZXJJbmZvcm1hdGlvbi5hcHByb3ZhbFN0YXR1cyxcclxuICAgICAgICAgICAgaXNBZG1pblJlbWFya2VyOiBmYWxzZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmICh0aGlzLklzU2hhcmVBbmRDbGFzc2lmeU9wdGlvbk5lZWRlZCl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1NoYXJlZEZyb21NYXJrU2NoZW1lKXtcclxuICAgICAgICAgICAgLy9pbnZva2Ugc2F2ZSBhbmQgbmF2aWdhdGUgUHJvdmlzaW9uYWwgUmVzcG9uc2VcclxuICAgICAgICAgICAgbWFya2luZ0FjdGlvbkNyZWF0b3Iuc2F2ZUFuZE5hdmlnYXRlKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5zaGFyZUFuZENsYXNzaWZ5KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN1Ym1pdEFjdGlvbkNyZWF0b3Iuc2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAodGhpcy5fc2hhcmVSZXNwb25zZUFyZ3VtZW50LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNTaGFyZWRGcm9tTWFya1NjaGVtZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLmRpc3BsYXlJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faXNTaGFyZWRGcm9tTWFya1NjaGVtZSkge1xyXG4gICAgICAgICAgICAgICAgbWFya2luZ0FjdGlvbkNyZWF0b3Iuc2F2ZUFuZE5hdmlnYXRlKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5zdWJtaXQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3VibWl0QWN0aW9uQ3JlYXRvci5zdWJtaXRSZXNwb25zZShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZVJlc3BvbnNlQXJndW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5Xb3JrbGlzdFR5cGUubm9uZSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZS5Vbmtub3duLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzU2hhcmVkRnJvbU1hcmtTY2hlbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVSZXNwb25zZURldGFpbHMuZGlzcGxheUlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBJc1NoYXJlQW5kQ2xhc3NpZnlPcHRpb25OZWVkZWQgdmFsdWVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXQgSXNTaGFyZUFuZENsYXNzaWZ5T3B0aW9uTmVlZGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YS5yb2xlLnBlcm1pc3Npb25zLmNsYXNzaWZ5ICYmXHJcbiAgICAgICAgICAgIHRoaXMucmV1c2VVbmNsYXNzaWZ5SXRlbS5maWx0ZXIoaSA9PiBpLmlzQ2hlY2tlZCA9PT0gdHJ1ZSlbMF0gPT09IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnRTYXZlRmFpbFBvcFVwIGNvbnRlbnQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0IGNsYXNzaWZ5T3JSZWNsYXNzaWZ5U2F2ZUZhaWxQb3BVcENvbnRlbnQoKTogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNVbmNsYXNzaWZpZWRXb3JrbGlzdFNlbGVjdGVkID9cclxuICAgICAgICAgICAgc3RyaW5nSGVscGVyLmZvcm1hdChcclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QuY29uY3VycmVudC1lc21hcmtpbmdtb2RlLXNhdmUtZmFpbC1wb3B1cC5ib2R5LXdpdGgtcmVzcG9uc2UtaWQnXHJcbiAgICAgICAgICAgICAgICApLCBbdGhpcy5kaXNwbGF5SWRdKSA6XHJcbiAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5jb25jdXJyZW50LWVzbWFya2luZ21vZGUtc2F2ZS1mYWlsLXBvcHVwLmJvZHknKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgaXNDb21tb25Qcm92aXNpb25hbFN0YW5kYXJkaXNhdGlvbkNjT24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNDb21tb25Qcm92aXNpb25hbFN0YW5kYXJkaXNhdGlvbkNjT24oKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIHJldHVybiBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY05hbWVzLkNvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzdWJtaXRSZXNwb25zZUZyb21NYXJrc2NoZW1lIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHJlc3BvbnNlIGlzIHJlYWR5IHRvIG5hdmlnYXRlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3VibWl0UmVzcG9uc2VGcm9tTWFya3NjaGVtZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAobWFya2luZ1N0b3JlLmluc3RhbmNlLm5hdmlnYXRlVG8gPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5zaGFyZUFuZENsYXNzaWZ5KSB7XHJcbiAgICAgICAgICAgIHN1Ym1pdEhlbHBlci5zYXZlQW5kU2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVSZXNwb25zZUFyZ3VtZW50LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNTaGFyZWRGcm9tTWFya1NjaGVtZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLmRpc3BsYXlJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGRpc2NhcmQgcmVzcG9uc2UgZmFpbCBwb3B1cCBjb250ZW50IHdpdGggZGlzcGxheUlkLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldCBkaXNjYXJkUmVzcG9uc2VGYWlsUG9wVXBDb250ZW50KCk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIHJldHVybiBzdHJpbmdIZWxwZXIuZm9ybWF0KFxyXG4gICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QucmVzcG9uc2UtYWxyZWFkeS1kaXNjYXJkZWQtcG9wdXAuYm9keS13aXRoLXJlc3BvbnNlLWlkJ1xyXG4gICAgICAgICAgICApLCBbcmVzcG9uc2VTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZERpc3BsYXlJZC50b1N0cmluZygpXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEZvb3RlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvZm9vdGVyLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBdURBO0FBQUE7QUFnR0E7Ozs7QUFJQTtBQUNBO0FBQUE7QUFwR0E7QUFDQTtBQUdBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBUUE7QUFFQTtBQU1BO0FBRUE7QUFFQTtBQUlBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFNQTtBQVVBO0FBNDJEQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFBQTtBQUNBO0FBR0E7QUFHQTtBQUVBO0FBQ0E7QUFxR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNkZBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7Ozs7QUFJQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQU1BO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFJQTtBQUlBO0FBQUE7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBRUE7QUFDQTtBQUNBO0FBd0hBOztBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUF1R0E7O0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFLQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQTZCQTs7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUdBO0FBR0E7QUFBQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQW1EQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFXQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBbURBOztBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQTJEQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNEJBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQUE7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBaURBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW1CQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQUE7QUFDQTtBQUdBO0FBR0E7QUFFQTtBQUNBO0FBa0JBO0FBQ0E7QUF1REE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWlHQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXNZQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW1IQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0lBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBa0NBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQTZCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUErQkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUE4REE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFrQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBMTVLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWlCQTtBQXFCQTtBQW1CQTtBQWNBO0FBY0E7QUFlQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBaUJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBUUE7QUFDQTtBQUNBO0FBSUE7QUFLQTtBQVFBO0FBQ0E7QUFDQTtBQUlBO0FBS0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFLQTtBQVFBO0FBQ0E7QUFDQTtBQUlBO0FBS0E7QUFRQTtBQUVBO0FBQ0E7QUFJQTtBQUtBO0FBUUE7QUFFQTtBQUNBO0FBSUE7QUFLQTtBQVFBO0FBRUE7QUFDQTtBQUlBO0FBS0E7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBS0E7QUFRQTtBQUNBO0FBRUE7QUFjQTtBQWlCQTtBQUNBO0FBQ0E7QUErQkE7QUFlQTtBQWVBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQW1DQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpQ0E7QUF3QkE7QUFjQTtBQWNBO0FBYUE7QUFhQTtBQU9BO0FBd0JBO0FBQ0E7QUFHQTtBQUdBO0FBc0JBO0FBVUE7QUFpQkE7QUFDQTtBQW1CQTtBQUNBO0FBNEJBO0FBc0JBO0FBb0JBO0FBd0JBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUF1QkE7QUFDQTtBQU9BO0FBa0JBO0FBQ0E7QUFHQTtBQWlCQTtBQUNBO0FBRUE7QUFpQkE7QUFDQTtBQUVBO0FBaUJBO0FBQ0E7QUFFQTtBQWdCQTtBQWFBO0FBR0E7QUFVQTtBQUlBO0FBWUE7QUFFQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUtBO0FBS0E7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFFQTtBQUdBO0FBRUE7QUFHQTtBQUVBO0FBR0E7QUFFQTtBQUdBO0FBSUE7QUFFQTtBQUdBO0FBRUE7QUFHQTtBQUVBO0FBRUE7QUFHQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBQ0E7QUFLQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUVBO0FBR0E7QUFFQTtBQUdBO0FBRUE7QUFHQTtBQUVBO0FBR0E7QUFJQTtBQUVBO0FBR0E7QUFFQTtBQUdBO0FBRUE7QUFFQTtBQUdBO0FBR0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBOEZBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUE0REE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQVNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBMFVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUlBO0FBWUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOE5BOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQU9BO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFvRUE7OztBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBdUpBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBNEJBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBZ0JBO0FBZUE7QUE0SkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBSUE7QUFDQTtBQTJCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE2SUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWlNQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUdBO0FBR0E7QUFRQTtBQUFBO0FBQ0E7QUFJQTtBQUtBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUlBO0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTs7O0FBQUE7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUtBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBT0E7QUFDQTtBQUNBOzs7QUFBQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXdIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUVBO0FBR0E7QUFDQTtBQVdBO0FBSUE7QUFDQTtBQVdBO0FBQ0E7OztBQUFBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBSUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQVdBO0FBQ0E7OztBQUFBO0FBb0dBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBSUE7QUFDQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFXQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQVdBO0FBQ0E7OztBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBMEZBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpQkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQWlCQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBc0JBOzs7OztBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEySEE7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUVBOzs7QUFBQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBaUJBO0FBSEE7O0FBRUE7QUFDQTtBQUVBO0FBSUE7OztBQUFBO0FBQ0E7QUFBQTtBQUVBOztBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 383:
/* no static exports found */
/* all exports used */
/*!*************************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/classifyresponse.tsx ***!
  \*************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n  React component for Classify response header\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar classifyResponse = function (props) {\r\n    var className = 'primary rounded popup-nav wl-classfy-btn button';\r\n    if (props.isDisabled) {\r\n        className = className + ' disabled';\r\n    }\r\n    var onClickHandler = function (event) {\r\n        if (props.onClickAction) {\r\n            props.onClickAction(props.esMarkGroupId);\r\n        }\r\n    };\r\n    var result = React.createElement(\"button\", { id: 'classifyResponse_' + props.id, key: 'classifyResponse_key_' + props.id, disabled: props.isDisabled ? true : false, title: '', className: className, onClick: onClickHandler }, localeStore.instance.TranslateText(props.buttonTextResourceKey));\r\n    return result;\r\n};\r\nmodule.exports = classifyResponse;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzgzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL2NsYXNzaWZ5cmVzcG9uc2UudHN4Pzc1ZmMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAgUmVhY3QgY29tcG9uZW50IGZvciBDbGFzc2lmeSByZXNwb25zZSBoZWFkZXJcbiovXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4vKiB0c2xpbnQ6ZW5hYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xuaW1wb3J0IFB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcblxubGV0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbi8qKlxuICogUHJvcGVydGllcyBvZiBDbGFzc2lmeSBidXR0b25cbiAqL1xuaW50ZXJmYWNlIENsYXNzaWZ5UmVzcG9uc2VQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XG5cdGlzRGlzYWJsZWQ6IGJvb2xlYW47XG5cdHJlbmRlcmVkT24/OiBudW1iZXI7XG5cdGVzTWFya0dyb3VwSWQ/OiBudW1iZXI7XG5cdGJ1dHRvblRleHRSZXNvdXJjZUtleTogc3RyaW5nO1xuXHRvbkNsaWNrQWN0aW9uPzogRnVuY3Rpb247XG59XG5cbmNvbnN0IGNsYXNzaWZ5UmVzcG9uc2U6XG5cdFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxDbGFzc2lmeVJlc3BvbnNlUHJvcHM+ID1cblx0KHByb3BzOiBDbGFzc2lmeVJlc3BvbnNlUHJvcHMpID0+IHtcblx0XHRsZXQgY2xhc3NOYW1lOiBzdHJpbmcgPSAncHJpbWFyeSByb3VuZGVkIHBvcHVwLW5hdiB3bC1jbGFzc2Z5LWJ0biBidXR0b24nO1xuXG5cdFx0aWYgKHByb3BzLmlzRGlzYWJsZWQpIHtcblx0XHRcdGNsYXNzTmFtZSA9IGNsYXNzTmFtZSArICcgZGlzYWJsZWQnO1xuXHRcdH1cblxuXHRcdGNvbnN0IG9uQ2xpY2tIYW5kbGVyID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAocHJvcHMub25DbGlja0FjdGlvbikge1xuXHRcdFx0XHRwcm9wcy5vbkNsaWNrQWN0aW9uKHByb3BzLmVzTWFya0dyb3VwSWQpO1xuXHRcdFx0fVxuICAgIFx0fTtcblxuXHRcdGxldCByZXN1bHQgPSA8YnV0dG9uXG5cdFx0XHRpZD17J2NsYXNzaWZ5UmVzcG9uc2VfJyArIHByb3BzLmlkfVxuXHRcdFx0a2V5PXsnY2xhc3NpZnlSZXNwb25zZV9rZXlfJyArIHByb3BzLmlkfVxuXHRcdFx0ZGlzYWJsZWQ9e3Byb3BzLmlzRGlzYWJsZWQgPyB0cnVlIDogZmFsc2V9XG5cdFx0XHR0aXRsZT17Jyd9XG5cdFx0XHRjbGFzc05hbWU9e2NsYXNzTmFtZX1cblx0XHRcdG9uQ2xpY2s9e29uQ2xpY2tIYW5kbGVyfT5cblx0XHRcdHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KHByb3BzLmJ1dHRvblRleHRSZXNvdXJjZUtleSl9XG5cdFx0PC9idXR0b24+O1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnQgPSBjbGFzc2lmeVJlc3BvbnNlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvY2xhc3NpZnlyZXNwb25zZS50c3giXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBYUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 384:
/* no static exports found */
/* all exports used */
/*!********************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/reusebutton.tsx ***!
  \********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for Reuse button header\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\nvar ReuseButton = /** @class */ (function (_super) {\r\n    __extends(ReuseButton, _super);\r\n    /**\r\n     * Constructor for ReuseButton\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function ReuseButton(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.state = {\r\n            reRender: Date.now()\r\n        };\r\n        _this.onReuseClick = _this.onReuseClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    ReuseButton.prototype.render = function () {\r\n        return (React.createElement(\"button\", { id: 'reuse_button_id_' + this.props.id, key: 'reuse_button_key_' + this.props.id, disabled: this.props.isDisabled ? true : false, title: (this.props.isDisabled ?\r\n                localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-button.disable-tooltip')\r\n                : localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-button.enable-tooltip')), className: 'primary button rounded popup-nav reusebtn', onClick: this.onReuseClick }, (this.props.isDisabled ? localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-button.disable')\r\n            : localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-button.enable'))));\r\n    };\r\n    /**\r\n     * On Reuse click\r\n     */\r\n    ReuseButton.prototype.onReuseClick = function () {\r\n        standardisationActionCreator.reuseRigActionPopupOpen(this.props.displayId);\r\n    };\r\n    return ReuseButton;\r\n}(PureRenderComponent));\r\nmodule.exports = ReuseButton;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3JldXNlYnV0dG9uLnRzeD9hMTYxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gIFJlYWN0IGNvbXBvbmVudCBmb3IgUmV1c2UgYnV0dG9uIGhlYWRlclxuKi9cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmltcG9ydCBQdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uYWN0aW9uY3JlYXRvcicpO1xuXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xuICAgIGRpc3BsYXlJZD86IHN0cmluZztcbiAgICBpc0Rpc2FibGVkOiBib29sZWFuO1xuICAgIHJlbmRlcmVkT24/OiBudW1iZXI7XG59XG5cbi8qKlxuICogU3RhdGUgb2YgYSBSZXVzZUJ1dHRvblxuICovXG5pbnRlcmZhY2UgU3RhdGUge1xuICAgIHJlUmVuZGVyPzogbnVtYmVyO1xufVxuXG5jbGFzcyBSZXVzZUJ1dHRvbiBleHRlbmRzIFB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgUmV1c2VCdXR0b25cbiAgICAgKiBAcGFyYW0gcHJvcHNcbiAgICAgKiBAcGFyYW0gc3RhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBTdGF0ZSkge1xuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcmVSZW5kZXI6IERhdGUubm93KClcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblJldXNlQ2xpY2sgPSB0aGlzLm9uUmV1c2VDbGljay5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgLyoqXG4gICAgKiBSZW5kZXIgY29tcG9uZW50XG4gICAgKi9cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgaWQ9eydyZXVzZV9idXR0b25faWRfJyArIHRoaXMucHJvcHMuaWR9XG4gICAgICAgICAgICBrZXk9eydyZXVzZV9idXR0b25fa2V5XycgKyB0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuaXNEaXNhYmxlZCA/IHRydWUgOiBmYWxzZX1cbiAgICAgICAgICAgIHRpdGxlPXsodGhpcy5wcm9wcy5pc0Rpc2FibGVkID9cbiAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAucHJldmlvdXMtc2Vzc2lvbi5yZXVzZS1idXR0b24uZGlzYWJsZS10b29sdGlwJylcbiAgICAgICAgICAgICAgICA6IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWJ1dHRvbi5lbmFibGUtdG9vbHRpcCcpKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17J3ByaW1hcnkgYnV0dG9uIHJvdW5kZWQgcG9wdXAtbmF2IHJldXNlYnRuJ31cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25SZXVzZUNsaWNrfT5cbiAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMuaXNEaXNhYmxlZCA/IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWJ1dHRvbi5kaXNhYmxlJylcbiAgICAgICAgICAgICAgICA6IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWJ1dHRvbi5lbmFibGUnKSl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9uIFJldXNlIGNsaWNrXG4gICAgICovXG4gICAgcHJpdmF0ZSBvblJldXNlQ2xpY2soKSB7XG4gICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IucmV1c2VSaWdBY3Rpb25Qb3B1cE9wZW4odGhpcy5wcm9wcy5kaXNwbGF5SWQpO1xuICAgIH1cbn1cbmV4cG9ydCA9IFJldXNlQnV0dG9uO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3JldXNlYnV0dG9uLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFlQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFJQTtBQUdBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 386:
/* no static exports found */
/* all exports used */
/*!***********************************************************************!*\
  !*** ./src/components/worklist/shared/allfilesnotviewedindicator.tsx ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n  React component for All pages not viewed indicator\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * Stateless All files not viewed indicator component\r\n * @param props\r\n */\r\n/* tslint:disable:variable-name */\r\nvar AllFilesNotViewedIndicator = function (props) {\r\n    /* tslint:enable:variable-name */\r\n    if (props.isECourseworkComponent && !props.allFilesViewed &&\r\n        props.isMarkingCompleted) {\r\n        return ((!props.isTileView) ?\r\n            (React.createElement(\"div\", { className: 'col-inner' },\r\n                React.createElement(\"span\", { title: localeStore.instance.\r\n                        TranslateText('marking.worklist.response-data.not-all-files-viewed-icon-tooltip') },\r\n                    React.createElement(\"span\", { className: 'sprite-icon un-view-icon', id: 'allFilesNotViewed_' + props.id, key: 'allFilesNotViewed_' + props.id }, localeStore.instance.\r\n                        TranslateText('marking.worklist.response-data.not-all-files-viewed-icon-tooltip'))))) :\r\n            (React.createElement(\"div\", { className: 'icon-holder' },\r\n                React.createElement(\"div\", { className: 'col wl-view-indicator', title: localeStore.instance.\r\n                        TranslateText('marking.worklist.response-data.not-all-files-viewed-icon-tooltip') },\r\n                    React.createElement(\"div\", { className: 'col-inner' },\r\n                        React.createElement(\"span\", { id: 'allFilesNotViewed_' + props.id, key: 'allFilesNotViewed_' + props.id, className: 'sprite-icon un-view-icon' }, localeStore.instance.\r\n                            TranslateText('marking.worklist.response-data.not-all-files-viewed-icon-tooltip')))))));\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\nmodule.exports = AllFilesNotViewedIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2FsbGZpbGVzbm90dmlld2VkaW5kaWNhdG9yLnRzeD85MGY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgUmVhY3QgY29tcG9uZW50IGZvciBBbGwgcGFnZXMgbm90IHZpZXdlZCBpbmRpY2F0b3JcclxuKi9cclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBlQ291cnNld29ya0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZWNvdXJzZXdvcmsvZWNvdXJzZXdvcmtoZWxwZXInKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIEFsbCBmaWxlcyBub3Qgdmlld2VkIGluZGljYXRvclxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGFsbEZpbGVzVmlld2VkPzogYm9vbGVhbjtcclxuICAgIGlzTWFya2luZ0NvbXBsZXRlZDogYm9vbGVhbjtcclxuICAgIGlzVGlsZVZpZXc/OiBib29sZWFuO1xyXG4gICAgaXNFQ291cnNld29ya0NvbXBvbmVudD86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdGF0ZWxlc3MgQWxsIGZpbGVzIG5vdCB2aWV3ZWQgaW5kaWNhdG9yIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0gcHJvcHNcclxuICovXHJcbi8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cclxuY29uc3QgQWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3IgPSAocHJvcHM6IFByb3BzKTogSlNYLkVsZW1lbnQgPT4ge1xyXG4gICAgLyogdHNsaW50OmVuYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbiAgICBpZiAocHJvcHMuaXNFQ291cnNld29ya0NvbXBvbmVudCAmJiAhcHJvcHMuYWxsRmlsZXNWaWV3ZWQgJiZcclxuICAgICAgICBwcm9wcy5pc01hcmtpbmdDb21wbGV0ZWQpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAoIXByb3BzLmlzVGlsZVZpZXcpID9cclxuICAgICAgICAgICAgICAgICg8ZGl2IGNsYXNzTmFtZT0nY29sLWlubmVyJz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT17bG9jYWxlU3RvcmUuaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5ub3QtYWxsLWZpbGVzLXZpZXdlZC1pY29uLXRvb2x0aXAnKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Nwcml0ZS1pY29uIHVuLXZpZXctaWNvbidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXsnYWxsRmlsZXNOb3RWaWV3ZWRfJyArIHByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsnYWxsRmlsZXNOb3RWaWV3ZWRfJyArIHByb3BzLmlkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEubm90LWFsbC1maWxlcy12aWV3ZWQtaWNvbi10b29sdGlwJykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApIDpcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naWNvbi1ob2xkZXInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sIHdsLXZpZXctaW5kaWNhdG9yJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5ub3QtYWxsLWZpbGVzLXZpZXdlZC1pY29uLXRvb2x0aXAnKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC1pbm5lcic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9eydhbGxGaWxlc05vdFZpZXdlZF8nICsgcHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2FsbEZpbGVzTm90Vmlld2VkXycgKyBwcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzcHJpdGUtaWNvbiB1bi12aWV3LWljb24nPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5ub3QtYWxsLWZpbGVzLXZpZXdlZC1pY29uLXRvb2x0aXAnKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0ID0gQWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3I7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9hbGxmaWxlc25vdHZpZXdlZGluZGljYXRvci50c3giXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQWFBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFLQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 387:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/components/worklist/shared/generictextcolumn.tsx ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n    React component for generic text column in list view\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:variable-name */\r\nvar GenericTextColumn = function (props) {\r\n    return (React.createElement(\"span\", { id: 'gen_' + props.id, className: 'dim-text txt-val small-text', title: (props.title) ? props.title : '' }, props.textValue));\r\n};\r\nmodule.exports = GenericTextColumn;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2dlbmVyaWN0ZXh0Y29sdW1uLnRzeD8yYTQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgICBSZWFjdCBjb21wb25lbnQgZm9yIGdlbmVyaWMgdGV4dCBjb2x1bW4gaW4gbGlzdCB2aWV3XHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGxhc3QgdXBkYXRlZCBkYXRlLlxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIHRleHRWYWx1ZT86IERhdGU7XHJcbiAgICB0aXRsZT86IHN0cmluZztcclxufVxyXG5cclxuLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5jb25zdCBHZW5lcmljVGV4dENvbHVtbiA9IChwcm9wczogUHJvcHMpID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPHNwYW4gaWQ9eydnZW5fJyArIHByb3BzLmlkfSBjbGFzc05hbWU9J2RpbS10ZXh0IHR4dC12YWwgc21hbGwtdGV4dCdcclxuICAgICAgICAgICAgdGl0bGU9eyhwcm9wcy50aXRsZSkgPyBwcm9wcy50aXRsZSA6ICcnfT5cclxuICAgICAgICAgICAge3Byb3BzLnRleHRWYWx1ZX1cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICApO1xyXG59O1xyXG5cclxuZXhwb3J0ID0gR2VuZXJpY1RleHRDb2x1bW47XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9nZW5lcmljdGV4dGNvbHVtbi50c3giXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFNQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 388:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/components/worklist/shared/lastupdatedcolumn.tsx ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n    React component for last updated date and time of a response.S\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar constants = __webpack_require__(/*! ../../utility/constants */ 241);\r\nvar GenericDate = __webpack_require__(/*! ./genericdate */ 315);\r\n/**\r\n * React component class for time to end the grace period\r\n */\r\nvar lastUpdatedColumn = function (props) {\r\n    if (props.dateType === enums.WorkListDateType.lastUpdatedDate || enums.WorkListDateType.submittedDate) {\r\n        /**\r\n         * Last updated date\r\n         */\r\n        var displayValue = void 0;\r\n        var formattedDate = void 0;\r\n        if (props.dateValue) {\r\n            formattedDate = (React.createElement(GenericDate, { dateValue: props.dateValue, id: 'dtup_' + props.id, key: 'dtup_' + props.id, className: constants.LASTUPDATED_COLUMN_STYLE }));\r\n        }\r\n        else {\r\n            /**\r\n             * If marking is not started the dateValue prop should be undefined , and shows marking not started text\r\n             */\r\n            formattedDate = (React.createElement(GenericDate, { id: 'dtup_' + props.id, key: 'dtup_' + props.id, className: constants.LASTUPDATED_COLUMN_STYLE, displayText: localeStore.instance.TranslateText('marking.worklist.response-data.marking-not-started') }));\r\n        }\r\n        return (React.createElement(\"div\", null, formattedDate));\r\n    }\r\n};\r\nmodule.exports = lastUpdatedColumn;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2xhc3R1cGRhdGVkY29sdW1uLnRzeD83Njk2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgICBSZWFjdCBjb21wb25lbnQgZm9yIGxhc3QgdXBkYXRlZCBkYXRlIGFuZCB0aW1lIG9mIGEgcmVzcG9uc2UuU1xyXG4qL1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGxvY2FsZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgc3RyaW5nSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL3N0cmluZ2hlbHBlcicpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBjb25zdGFudHMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2NvbnN0YW50cycpO1xyXG5pbXBvcnQgR2VuZXJpY0RhdGUgPSByZXF1aXJlKCcuL2dlbmVyaWNkYXRlJyk7XHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGxhc3QgdXBkYXRlZCBkYXRlLlxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGRhdGVWYWx1ZT86IERhdGU7XHJcbiAgICBkYXRlVHlwZTogZW51bXMuV29ya0xpc3REYXRlVHlwZTtcclxuICAgIGlzVGlsZVZpZXc/OiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50IGNsYXNzIGZvciB0aW1lIHRvIGVuZCB0aGUgZ3JhY2UgcGVyaW9kXHJcbiAqL1xyXG5jb25zdCBsYXN0VXBkYXRlZENvbHVtbiA9IChwcm9wczogUHJvcHMpID0+IHtcclxuXHJcbiAgICBpZiAocHJvcHMuZGF0ZVR5cGUgPT09IGVudW1zLldvcmtMaXN0RGF0ZVR5cGUubGFzdFVwZGF0ZWREYXRlIHx8IGVudW1zLldvcmtMaXN0RGF0ZVR5cGUuc3VibWl0dGVkRGF0ZSkge1xyXG4gICAgICAgIC8qKiBcclxuICAgICAgICAgKiBMYXN0IHVwZGF0ZWQgZGF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGxldCBkaXNwbGF5VmFsdWU7XHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZERhdGU6IEpTWC5FbGVtZW50O1xyXG4gICAgICAgIGlmIChwcm9wcy5kYXRlVmFsdWUpIHtcclxuICAgICAgICAgICAgZm9ybWF0dGVkRGF0ZSA9ICg8R2VuZXJpY0RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlVmFsdWU9e3Byb3BzLmRhdGVWYWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17J2R0dXBfJyArIHByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2R0dXBfJyArIHByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y29uc3RhbnRzLkxBU1RVUERBVEVEX0NPTFVNTl9TVFlMRX0gLz4pO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiogXHJcbiAgICAgICAgICAgICAqIElmIG1hcmtpbmcgaXMgbm90IHN0YXJ0ZWQgdGhlIGRhdGVWYWx1ZSBwcm9wIHNob3VsZCBiZSB1bmRlZmluZWQgLCBhbmQgc2hvd3MgbWFya2luZyBub3Qgc3RhcnRlZCB0ZXh0XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBmb3JtYXR0ZWREYXRlID0gKDxHZW5lcmljRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXsnZHR1cF8nICsgcHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsnZHR1cF8nICsgcHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjb25zdGFudHMuTEFTVFVQREFURURfQ09MVU1OX1NUWUxFfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEubWFya2luZy1ub3Qtc3RhcnRlZCcpfSAvPik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2Pntmb3JtYXR0ZWREYXRlfTwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydCA9IGxhc3RVcGRhdGVkQ29sdW1uO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvbGFzdHVwZGF0ZWRjb2x1bW4udHN4Il0sIm1hcHBpbmdzIjoiO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFVQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBR0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 389:
/* no static exports found */
/* all exports used */
/*!*******************************************************************!*\
  !*** ./src/components/worklist/shared/linkedmessageindicator.tsx ***!
  \*******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar localeHelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar markSchemeHelper = __webpack_require__(/*! ../../../utility/markscheme/markschemehelper */ 276);\r\nvar messageStore = __webpack_require__(/*! ../../../stores/message/messagestore */ 240);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../../actions/messaging/messagingactioncreator */ 268);\r\nvar responseHelper = __webpack_require__(/*! ../../utility/responsehelper/responsehelper */ 249);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../utility/ecoursework/ecourseworkhelper */ 238);\r\nvar applicationStore = __webpack_require__(/*! ../../../stores/applicationoffline/applicationstore */ 247);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar makerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\n/**\r\n * LinkedMessageIndicator component.\r\n * @param {Props} props\r\n */\r\nvar LinkedMessageIndicator = /** @class */ (function (_super) {\r\n    __extends(LinkedMessageIndicator, _super);\r\n    /**\r\n     * Constructor fot LinkedMessageIndicator\r\n     * @param props\r\n     */\r\n    function LinkedMessageIndicator(props) {\r\n        var _this = _super.call(this, props, null) || this;\r\n        /**\r\n         * Open response message while clicking on linked message icon\r\n         */\r\n        _this.onClick = function (event) {\r\n            event.stopPropagation();\r\n            if (!applicationStore.instance.isOnline) {\r\n                applicationActionCreator.checkActionInterrupted();\r\n            }\r\n            else {\r\n                // open response\r\n                var actualDisplayId = void 0;\r\n                // Ideally marking mode should be read from the opened response,\r\n                // since multiple marking modes won't come in the same worklist now this will work.\r\n                var selectedMarkingMode = worklistStore.instance.getMarkingModeByWorkListType(worklistStore.instance.currentWorklistType);\r\n                if (selectedMarkingMode === enums.MarkingMode.LiveMarking) {\r\n                    actualDisplayId = _this.props.displayId.toString();\r\n                }\r\n                else {\r\n                    var contents = _this.props.displayId.split(' ');\r\n                    actualDisplayId = contents[contents.length - 1];\r\n                }\r\n                eCourseworkHelper.fetchECourseWorkCandidateScriptMetadata(parseInt(actualDisplayId));\r\n                if (!messageStore.instance.isMessagePanelActive) {\r\n                    var openedResponseDetails = makerOperationModeFactory.operationMode.openedResponseDetails(actualDisplayId);\r\n                    responseHelper.openResponse(parseFloat(actualDisplayId), enums.ResponseNavigation.specific, makerOperationModeFactory.operationMode.isStandardisationSetupMode ?\r\n                        enums.ResponseMode.open : worklistStore.instance.getResponseMode, makerOperationModeFactory.operationMode.isStandardisationSetupMode ?\r\n                        openedResponseDetails.esMarkGroupId : openedResponseDetails.markGroupId, enums.ResponseViewMode.zoneView, enums.TriggerPoint.WorkListResponseMessageIcon);\r\n                    markSchemeHelper.getMarks(parseInt(actualDisplayId), selectedMarkingMode);\r\n                }\r\n                else {\r\n                    var messageNavigationArguments = {\r\n                        responseId: parseInt(actualDisplayId),\r\n                        canNavigate: false,\r\n                        navigateTo: enums.MessageNavigation.toResponse,\r\n                        navigationConfirmed: false,\r\n                        hasMessageContainsDirtyValue: undefined,\r\n                        triggerPoint: enums.TriggerPoint.WorkListResponseMessageIcon\r\n                    };\r\n                    messagingActionCreator.canMessageNavigate(messageNavigationArguments);\r\n                }\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    LinkedMessageIndicator.prototype.render = function () {\r\n        var messageContent = this.getMessageContent();\r\n        if (messageContent === undefined && !this.props.isTileView) {\r\n            return null;\r\n        }\r\n        else {\r\n            return (React.createElement(\"div\", { className: 'col wl-message text-center', id: this.props.id + '_messgeIndicator' }, messageContent));\r\n        }\r\n    };\r\n    /**\r\n     * Get message content\r\n     */\r\n    LinkedMessageIndicator.prototype.getMessageContent = function () {\r\n        var messageText = '';\r\n        if (this.props.messageCount > 0) {\r\n            messageText = this.props.isTeamManagementMode ?\r\n                localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.unread-messages-icon-tooltip') :\r\n                localeStore.instance.TranslateText('marking.worklist.response-data.unread-messages-icon-tooltip');\r\n        }\r\n        else if (this.props.hasMessages) {\r\n            messageText = this.props.isTeamManagementMode ?\r\n                localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.messages-icon-tooltip') :\r\n                messageText = localeStore.instance.TranslateText('marking.worklist.response-data.messages-icon-tooltip');\r\n        }\r\n        var messageClass = 'message-icon sprite-icon';\r\n        var messageAltText = localeStore.instance.TranslateText('generic.navigation-bar.inbox');\r\n        var result = undefined;\r\n        if (!this.props.hasMessages) {\r\n            return result;\r\n        }\r\n        if (this.props.messageCount > 0) {\r\n            result = (this.props.isTileView) ? React.createElement(\"div\", { className: 'col-inner' },\r\n                React.createElement(\"a\", { title: messageText, className: 'resp-messages' },\r\n                    React.createElement(\"span\", { className: messageClass },\r\n                        \" \",\r\n                        messageAltText,\r\n                        \" \"),\r\n                    React.createElement(\"span\", { className: 'notification circle', id: this.props.id + '_messageNotification' }, localeHelper.toLocaleString(this.props.messageCount > 0 ? this.props.messageCount : '')))) :\r\n                React.createElement(\"div\", { className: 'wl-message' },\r\n                    React.createElement(\"a\", { title: messageText, className: 'resp-messages', onClick: this.onClick },\r\n                        React.createElement(\"span\", { className: messageClass },\r\n                            \" \",\r\n                            messageAltText,\r\n                            \" \"),\r\n                        React.createElement(\"span\", { className: 'notification circle', id: this.props.id + '_messageNotification' }, localeHelper.toLocaleString(this.props.messageCount > 0 ? this.props.messageCount : ''))));\r\n        }\r\n        else {\r\n            result = (this.props.isTileView) ? React.createElement(\"div\", { className: 'col-inner' },\r\n                React.createElement(\"a\", { title: messageText, className: 'resp-messages' },\r\n                    React.createElement(\"span\", { className: messageClass },\r\n                        \" \",\r\n                        messageAltText,\r\n                        \" \"))) :\r\n                React.createElement(\"div\", { className: 'wl-message' },\r\n                    React.createElement(\"a\", { title: messageText, className: 'resp-messages', onClick: this.onClick },\r\n                        React.createElement(\"span\", { className: messageClass },\r\n                            \" \",\r\n                            messageAltText,\r\n                            \" \")));\r\n        }\r\n        return result;\r\n    };\r\n    return LinkedMessageIndicator;\r\n}(PureRenderComponent));\r\nmodule.exports = LinkedMessageIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2xpbmtlZG1lc3NhZ2VpbmRpY2F0b3IudHN4P2EyZTciXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBQdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGxvY2FsZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IHJlc3BvbnNlQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvcmVzcG9uc2UvcmVzcG9uc2VhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBtYXJrU2NoZW1lSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9tYXJrc2NoZW1lL21hcmtzY2hlbWVoZWxwZXInKTtcclxuaW1wb3J0IG1lc3NhZ2VTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tZXNzYWdlL21lc3NhZ2VzdG9yZScpO1xyXG5pbXBvcnQgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvbWVzc2FnaW5nL21lc3NhZ2luZ2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHJlc3BvbnNlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9yZXNwb25zZWhlbHBlci9yZXNwb25zZWhlbHBlcicpO1xyXG5pbXBvcnQgZUNvdXJzZXdvcmtIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbnN0b3JlJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IG1ha2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGNvbXBvbmVudC5cclxuICogQHBhcmFtIHtQcm9wc30gcHJvcHNcclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBoYXNNZXNzYWdlczogYm9vbGVhbjtcclxuICAgIG1lc3NhZ2VDb3VudD86IG51bWJlcjtcclxuICAgIGlzVGlsZVZpZXc6IGJvb2xlYW47XHJcbiAgICBkaXNwbGF5SWQ6IHN0cmluZztcclxuICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogTGlua2VkTWVzc2FnZUluZGljYXRvciBjb21wb25lbnQuXHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqL1xyXG5jbGFzcyBMaW5rZWRNZXNzYWdlSW5kaWNhdG9yIGV4dGVuZHMgUHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3QgTGlua2VkTWVzc2FnZUluZGljYXRvclxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2VDb250ZW50ID0gdGhpcy5nZXRNZXNzYWdlQ29udGVudCgpO1xyXG5cclxuICAgICAgICBpZiAobWVzc2FnZUNvbnRlbnQgPT09IHVuZGVmaW5lZCAmJiAhdGhpcy5wcm9wcy5pc1RpbGVWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPGRpdiBjbGFzc05hbWU9J2NvbCB3bC1tZXNzYWdlIHRleHQtY2VudGVyJyBpZD17dGhpcy5wcm9wcy5pZCArICdfbWVzc2dlSW5kaWNhdG9yJ30+XHJcbiAgICAgICAgICAgICAgICB7bWVzc2FnZUNvbnRlbnQgfVxyXG4gICAgICAgICAgICA8L2Rpdj4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBtZXNzYWdlIGNvbnRlbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRNZXNzYWdlQ29udGVudCgpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2VUZXh0OiBzdHJpbmcgPSAnJztcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5tZXNzYWdlQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VUZXh0ID0gdGhpcy5wcm9wcy5pc1RlYW1NYW5hZ2VtZW50TW9kZSA/XHJcbiAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QucmVzcG9uc2UtZGF0YS51bnJlYWQtbWVzc2FnZXMtaWNvbi10b29sdGlwJykgOlxyXG4gICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnVucmVhZC1tZXNzYWdlcy1pY29uLXRvb2x0aXAnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuaGFzTWVzc2FnZXMpIHtcclxuICAgICAgICAgICAgbWVzc2FnZVRleHQgPSB0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlID9cclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5yZXNwb25zZS1kYXRhLm1lc3NhZ2VzLWljb24tdG9vbHRpcCcpIDpcclxuICAgICAgICAgICAgbWVzc2FnZVRleHQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEubWVzc2FnZXMtaWNvbi10b29sdGlwJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbWVzc2FnZUNsYXNzOiBzdHJpbmcgPSAnbWVzc2FnZS1pY29uIHNwcml0ZS1pY29uJztcclxuICAgICAgICBsZXQgbWVzc2FnZUFsdFRleHQ6IHN0cmluZyA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMubmF2aWdhdGlvbi1iYXIuaW5ib3gnKTtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuaGFzTWVzc2FnZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1lc3NhZ2VDb3VudCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIHJlc3VsdCA9ICh0aGlzLnByb3BzLmlzVGlsZVZpZXcpID8gPCBkaXYgY2xhc3NOYW1lPSAnY29sLWlubmVyJyA+XHJcbiAgICAgICAgICAgICAgICA8YSB0aXRsZSA9IHttZXNzYWdlVGV4dH0gY2xhc3NOYW1lID0gJ3Jlc3AtbWVzc2FnZXMnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZSA9IHttZXNzYWdlQ2xhc3N9PiB7bWVzc2FnZUFsdFRleHR9IDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWUgPSAnbm90aWZpY2F0aW9uIGNpcmNsZScgaWQgPSB7dGhpcy5wcm9wcy5pZCArICdfbWVzc2FnZU5vdGlmaWNhdGlvbid9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlSGVscGVyLnRvTG9jYWxlU3RyaW5nKHRoaXMucHJvcHMubWVzc2FnZUNvdW50ID4gMCA/IHRoaXMucHJvcHMubWVzc2FnZUNvdW50IDogJycpIH1cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PiA6XHJcbiAgICAgICAgICAgICAgICA8IGRpdiBjbGFzc05hbWU9ICd3bC1tZXNzYWdlJyA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGUgPSB7bWVzc2FnZVRleHR9IGNsYXNzTmFtZSA9ICdyZXNwLW1lc3NhZ2VzJyBvbkNsaWNrID0geyB0aGlzLm9uQ2xpY2sgfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZSA9IHttZXNzYWdlQ2xhc3N9PiB7bWVzc2FnZUFsdFRleHR9IDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lID0gJ25vdGlmaWNhdGlvbiBjaXJjbGUnIGlkID0ge3RoaXMucHJvcHMuaWQgKyAnX21lc3NhZ2VOb3RpZmljYXRpb24nfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVIZWxwZXIudG9Mb2NhbGVTdHJpbmcodGhpcy5wcm9wcy5tZXNzYWdlQ291bnQgPiAwID8gdGhpcy5wcm9wcy5tZXNzYWdlQ291bnQgOiAnJykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICByZXN1bHQgPSAodGhpcy5wcm9wcy5pc1RpbGVWaWV3KSA/IDxkaXYgY2xhc3NOYW1lPSdjb2wtaW5uZXInPlxyXG4gICAgICAgICAgICAgICAgPGEgdGl0bGU9IHttZXNzYWdlVGV4dH0gY2xhc3NOYW1lPSdyZXNwLW1lc3NhZ2VzJz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e21lc3NhZ2VDbGFzc30+IHttZXNzYWdlQWx0VGV4dH0gPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8L2Rpdj4gOlxyXG4gICAgICAgICAgICAgICAgPCBkaXYgY2xhc3NOYW1lPSAnd2wtbWVzc2FnZScgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSB7bWVzc2FnZVRleHR9IGNsYXNzTmFtZT0ncmVzcC1tZXNzYWdlcycgb25DbGljayA9IHsgdGhpcy5vbkNsaWNrIH0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e21lc3NhZ2VDbGFzc30+IHttZXNzYWdlQWx0VGV4dH0gPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPcGVuIHJlc3BvbnNlIG1lc3NhZ2Ugd2hpbGUgY2xpY2tpbmcgb24gbGlua2VkIG1lc3NhZ2UgaWNvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQ2xpY2sgPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGlmICghYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5pc09ubGluZSkge1xyXG4gICAgICAgICAgICBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IuY2hlY2tBY3Rpb25JbnRlcnJ1cHRlZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG9wZW4gcmVzcG9uc2VcclxuICAgICAgICAgICAgbGV0IGFjdHVhbERpc3BsYXlJZDogc3RyaW5nO1xyXG4gICAgICAgICAgICAvLyBJZGVhbGx5IG1hcmtpbmcgbW9kZSBzaG91bGQgYmUgcmVhZCBmcm9tIHRoZSBvcGVuZWQgcmVzcG9uc2UsXHJcbiAgICAgICAgICAgIC8vIHNpbmNlIG11bHRpcGxlIG1hcmtpbmcgbW9kZXMgd29uJ3QgY29tZSBpbiB0aGUgc2FtZSB3b3JrbGlzdCBub3cgdGhpcyB3aWxsIHdvcmsuXHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZE1hcmtpbmdNb2RlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRNYXJraW5nTW9kZUJ5V29ya0xpc3RUeXBlKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRNYXJraW5nTW9kZSA9PT0gZW51bXMuTWFya2luZ01vZGUuTGl2ZU1hcmtpbmcpIHtcclxuICAgICAgICAgICAgICAgIGFjdHVhbERpc3BsYXlJZCA9IHRoaXMucHJvcHMuZGlzcGxheUlkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudHMgPSB0aGlzLnByb3BzLmRpc3BsYXlJZC5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICAgICAgYWN0dWFsRGlzcGxheUlkID0gY29udGVudHNbY29udGVudHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVDb3Vyc2V3b3JrSGVscGVyLmZldGNoRUNvdXJzZVdvcmtDYW5kaWRhdGVTY3JpcHRNZXRhZGF0YShwYXJzZUludChhY3R1YWxEaXNwbGF5SWQpKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbWVzc2FnZVN0b3JlLmluc3RhbmNlLmlzTWVzc2FnZVBhbmVsQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3BlbmVkUmVzcG9uc2VEZXRhaWxzID0gbWFrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLm9wZW5lZFJlc3BvbnNlRGV0YWlscyhhY3R1YWxEaXNwbGF5SWQpO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VIZWxwZXIub3BlblJlc3BvbnNlKHBhcnNlRmxvYXQoYWN0dWFsRGlzcGxheUlkKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU5hdmlnYXRpb24uc3BlY2lmaWMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzU3RhbmRhcmRpc2F0aW9uU2V0dXBNb2RlID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4gOiB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlTW9kZSxcclxuICAgICAgICAgICAgICAgICAgICBtYWtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTdGFuZGFyZGlzYXRpb25TZXR1cE1vZGUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuZWRSZXNwb25zZURldGFpbHMuZXNNYXJrR3JvdXBJZCA6IG9wZW5lZFJlc3BvbnNlRGV0YWlscy5tYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZVZpZXdNb2RlLnpvbmVWaWV3LFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlRyaWdnZXJQb2ludC5Xb3JrTGlzdFJlc3BvbnNlTWVzc2FnZUljb24pO1xyXG5cclxuICAgICAgICAgICAgICAgIG1hcmtTY2hlbWVIZWxwZXIuZ2V0TWFya3MocGFyc2VJbnQoYWN0dWFsRGlzcGxheUlkKSwgc2VsZWN0ZWRNYXJraW5nTW9kZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHM6IE1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHBhcnNlSW50KGFjdHVhbERpc3BsYXlJZCksXHJcbiAgICAgICAgICAgICAgICAgICAgY2FuTmF2aWdhdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlVG86IGVudW1zLk1lc3NhZ2VOYXZpZ2F0aW9uLnRvUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkNvbmZpcm1lZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzTWVzc2FnZUNvbnRhaW5zRGlydHlWYWx1ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJQb2ludDogZW51bXMuVHJpZ2dlclBvaW50LldvcmtMaXN0UmVzcG9uc2VNZXNzYWdlSWNvblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IuY2FuTWVzc2FnZU5hdmlnYXRlKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCA9IExpbmtlZE1lc3NhZ2VJbmRpY2F0b3I7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9saW5rZWRtZXNzYWdlaW5kaWNhdG9yLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFjQTs7O0FBR0E7QUFDQTtBQUFBO0FBRUE7OztBQUdBO0FBQ0E7QUFBQTtBQTZFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUExSEE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBQUE7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUNBOztBQUFBO0FBQUE7QUFDQTtBQUtBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7O0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTs7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBa0RBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 390:
/* no static exports found */
/* all exports used */
/*!******************************************************!*\
  !*** ./src/components/worklist/shared/totalmark.tsx ***!
  \******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar markingstore = __webpack_require__(/*! ../../../stores/marking/markingstore */ 236);\r\n/**\r\n * React component\r\n * @param {Props} props\r\n */\r\nvar TotalMark = /** @class */ (function (_super) {\r\n    __extends(TotalMark, _super);\r\n    /**\r\n     * Constructor for total mark\r\n     * @param props\r\n     */\r\n    function TotalMark(props) {\r\n        return _super.call(this, props, null) || this;\r\n    }\r\n    /**\r\n     * getTotalMarkOutput\r\n     */\r\n    TotalMark.prototype.getTotalMarkOutput = function () {\r\n        var result = React.createElement(\"span\", null);\r\n        var totalmark;\r\n        var hasComplexOptionality = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ComplexOptionality, markingstore.instance.selectedQIGMarkSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        if (this.props.markingProgress === 0) {\r\n            result = (React.createElement(\"span\", { className: 'large-text dark-link', id: 'totalMark_' + this.props.id }, \"--\"));\r\n        }\r\n        else if (this.props.isNonNumericMark) {\r\n            result = (React.createElement(\"span\", { className: 'large-text dark-link', id: 'totalMark_' + this.props.id }, \"N/A\"));\r\n        }\r\n        else if (hasComplexOptionality && this.props.markingProgress < 100) {\r\n            //Hide totalmark based on cc value and totalprogress.\r\n            totalmark = '...';\r\n            result = (React.createElement(\"span\", { title: this.getTranslated('marking.worklist.complex-optionality.total-marks'), className: 'large-text dark-link', id: 'totalMark_' + this.props.id }, totalmark));\r\n        }\r\n        else {\r\n            totalmark = this.props.totalMark.toLocaleString(localeStore.instance.Locale);\r\n            result = (React.createElement(\"span\", { className: 'large-text dark-link', id: 'totalMark_' + this.props.id }, totalmark));\r\n        }\r\n        return result;\r\n    };\r\n    Object.defineProperty(TotalMark.prototype, \"currentLocale\", {\r\n        /*\r\n         * Get the locale\r\n        */\r\n        get: function () {\r\n            return localeStore.instance.Locale;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Translate the text\r\n     * @param value\r\n     * @returns Localised string\r\n     */\r\n    TotalMark.prototype.getTranslated = function (value) {\r\n        return localeStore.instance.TranslateText(value);\r\n    };\r\n    return TotalMark;\r\n}(pureRenderComponent));\r\nmodule.exports = TotalMark;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3RvdGFsbWFyay50c3g/YzViYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xyXG5pbXBvcnQgbWFya2luZ3N0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL21hcmtpbmcvbWFya2luZ3N0b3JlJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBhIGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGlzTm9uTnVtZXJpY01hcms6IGJvb2xlYW47XHJcbiAgICBtYXhpbXVtTWFyazogbnVtYmVyO1xyXG4gICAgdG90YWxNYXJrOiBudW1iZXI7XHJcbiAgICBtYXJraW5nUHJvZ3Jlc3M6IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge1Byb3BzfSBwcm9wc1xyXG4gKi9cclxuY2xhc3MgVG90YWxNYXJrIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgdG90YWwgbWFya1xyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldFRvdGFsTWFya091dHB1dFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0VG90YWxNYXJrT3V0cHV0KCk6IGFueSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IDxzcGFuPjwvc3Bhbj47XHJcbiAgICAgICAgbGV0IHRvdGFsbWFyaztcclxuICAgICAgICBsZXQgaGFzQ29tcGxleE9wdGlvbmFsaXR5ID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkNvbXBsZXhPcHRpb25hbGl0eSxcclxuICAgICAgICAgICAgbWFya2luZ3N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHTWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5tYXJraW5nUHJvZ3Jlc3MgPT09IDApIHtcclxuXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbGFyZ2UtdGV4dCBkYXJrLWxpbmsnIGlkPXsndG90YWxNYXJrXycgKyB0aGlzLnByb3BzLmlkfT4tLTwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuaXNOb25OdW1lcmljTWFyaykge1xyXG4gICAgICAgICAgICByZXN1bHQgPSAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xhcmdlLXRleHQgZGFyay1saW5rJyBpZD17J3RvdGFsTWFya18nICsgdGhpcy5wcm9wcy5pZH0+Ti9BPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ29tcGxleE9wdGlvbmFsaXR5ICYmIHRoaXMucHJvcHMubWFya2luZ1Byb2dyZXNzIDwgMTAwKSB7XHJcbiAgICAgICAgICAgIC8vSGlkZSB0b3RhbG1hcmsgYmFzZWQgb24gY2MgdmFsdWUgYW5kIHRvdGFscHJvZ3Jlc3MuXHJcbiAgICAgICAgICAgIHRvdGFsbWFyayA9ICcuLi4nO1xyXG4gICAgICAgICAgICByZXN1bHQgPSAoPHNwYW4gdGl0bGU9e3RoaXMuZ2V0VHJhbnNsYXRlZCgnbWFya2luZy53b3JrbGlzdC5jb21wbGV4LW9wdGlvbmFsaXR5LnRvdGFsLW1hcmtzJyl9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2xhcmdlLXRleHQgZGFyay1saW5rJyBpZD17J3RvdGFsTWFya18nICsgdGhpcy5wcm9wcy5pZH0+e3RvdGFsbWFya308L3NwYW4+KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0b3RhbG1hcmsgPSB0aGlzLnByb3BzLnRvdGFsTWFyay50b0xvY2FsZVN0cmluZyhsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGUpO1xyXG4gICAgICAgICAgICByZXN1bHQgPSAoPHNwYW4gY2xhc3NOYW1lPSdsYXJnZS10ZXh0IGRhcmstbGluaycgaWQ9eyd0b3RhbE1hcmtfJyArIHRoaXMucHJvcHMuaWR9Pnt0b3RhbG1hcmt9PC9zcGFuPik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cdC8qXHJcblx0ICogR2V0IHRoZSBsb2NhbGVcclxuXHQqL1xyXG5cdHByb3RlY3RlZCBnZXQgY3VycmVudExvY2FsZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRyYW5zbGF0ZSB0aGUgdGV4dFxyXG5cdCAqIEBwYXJhbSB2YWx1ZVxyXG5cdCAqIEByZXR1cm5zIExvY2FsaXNlZCBzdHJpbmdcclxuXHQgKi9cclxuXHRwcm90ZWN0ZWQgZ2V0VHJhbnNsYXRlZCh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KHZhbHVlKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFRvdGFsTWFyaztcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC90b3RhbG1hcmsudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7OztBQUdBO0FBQ0E7QUFBQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 391:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/worklist/shared/totalmarkdetail.tsx ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar totalMark = __webpack_require__(/*! ./totalmark */ 390);\r\n/**\r\n * React component\r\n * @param {Props} props\r\n */\r\nvar TotalMarkDetail = /** @class */ (function (_super) {\r\n    __extends(TotalMarkDetail, _super);\r\n    /**\r\n     * Constructor for TotalMarkTile\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function TotalMarkDetail(props, state) {\r\n        return _super.call(this, props) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    TotalMarkDetail.prototype.render = function () {\r\n        return (this.getTotalMarkOutput());\r\n    };\r\n    return TotalMarkDetail;\r\n}(totalMark));\r\nmodule.exports = TotalMarkDetail;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3RvdGFsbWFya2RldGFpbC50c3g/MWQ1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IHRvdGFsTWFyayA9IHJlcXVpcmUoJy4vdG90YWxtYXJrJyk7XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqL1xyXG5jbGFzcyBUb3RhbE1hcmtEZXRhaWwgZXh0ZW5kcyB0b3RhbE1hcmsge1xyXG5cclxuXHQvKipcclxuXHQgKiBDb25zdHJ1Y3RvciBmb3IgVG90YWxNYXJrVGlsZVxyXG5cdCAqIEBwYXJhbSBwcm9wc1xyXG5cdCAqIEBwYXJhbSBzdGF0ZVxyXG5cdCAqL1xyXG5cdGNvbnN0cnVjdG9yKHByb3BzOiBhbnksIHN0YXRlOiBhbnkpIHtcclxuXHRcdHN1cGVyKHByb3BzKTtcclxuXHR9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5nZXRUb3RhbE1hcmtPdXRwdXQoKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFRvdGFsTWFya0RldGFpbDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC90b3RhbG1hcmtkZXRhaWwudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVBO0FBRUE7OztBQUdBO0FBQ0E7QUFBQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 395:
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src/actions/logout/logoutaction.ts ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar action = __webpack_require__(/*! ../base/action */ 229);\r\nvar dataRetrievalAction = __webpack_require__(/*! ../base/dataretrievalaction */ 239);\r\nvar actionType = __webpack_require__(/*! ../base/actiontypes */ 228);\r\nvar LogoutAction = /** @class */ (function (_super) {\r\n    __extends(LogoutAction, _super);\r\n    /**\r\n     * Logout action\r\n     * @param success\r\n     * @param errorJsonObject\r\n     */\r\n    function LogoutAction(success, errorJsonObject) {\r\n        var _this = _super.call(this, action.Source.View, actionType.USER_SESSION_UPDATE_ON_LOGOUT, success, errorJsonObject) || this;\r\n        _this.auditLog.logContent = _this.auditLog.logContent.replace(/{success}/g, success.toString());\r\n        return _this;\r\n    }\r\n    return LogoutAction;\r\n}(dataRetrievalAction));\r\nmodule.exports = LogoutAction;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FjdGlvbnMvbG9nb3V0L2xvZ291dGFjdGlvbi50cz9jYWM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhY3Rpb24gPSByZXF1aXJlKCcuLi9iYXNlL2FjdGlvbicpO1xyXG5pbXBvcnQgZGF0YVJldHJpZXZhbEFjdGlvbiA9IHJlcXVpcmUoJy4uL2Jhc2UvZGF0YXJldHJpZXZhbGFjdGlvbicpO1xyXG5pbXBvcnQgYWN0aW9uQXVkaXRMb2dJbmZvID0gcmVxdWlyZSgnLi4vYmFzZS9hdWRpdGxvZ2luZm8vYWN0aW9uYXVkaXRsb2dpbmZvJyk7XHJcbmltcG9ydCBhY3Rpb25UeXBlID0gcmVxdWlyZSgnLi4vYmFzZS9hY3Rpb250eXBlcycpO1xyXG5cclxuY2xhc3MgTG9nb3V0QWN0aW9uIGV4dGVuZHMgZGF0YVJldHJpZXZhbEFjdGlvbiB7XHJcblxyXG4gICAvKipcclxuICAgICogTG9nb3V0IGFjdGlvblxyXG4gICAgKiBAcGFyYW0gc3VjY2Vzc1xyXG4gICAgKiBAcGFyYW0gZXJyb3JKc29uT2JqZWN0XHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3Ioc3VjY2VzczogYm9vbGVhbiwgZXJyb3JKc29uT2JqZWN0PzogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoYWN0aW9uLlNvdXJjZS5WaWV3LCBhY3Rpb25UeXBlLlVTRVJfU0VTU0lPTl9VUERBVEVfT05fTE9HT1VULCBzdWNjZXNzLCBlcnJvckpzb25PYmplY3QpO1xyXG4gICAgICAgIHRoaXMuYXVkaXRMb2cubG9nQ29udGVudCA9IHRoaXMuYXVkaXRMb2cubG9nQ29udGVudC5yZXBsYWNlKC97c3VjY2Vzc30vZywgc3VjY2Vzcy50b1N0cmluZygpKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gTG9nb3V0QWN0aW9uO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FjdGlvbnMvbG9nb3V0L2xvZ291dGFjdGlvbi50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 396:
/* no static exports found */
/* all exports used */
/*!***************************************************!*\
  !*** ./src/actions/logout/logoutactioncreator.ts ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar dispatcher = __webpack_require__(/*! ../../app/dispatcher */ 242);\r\nvar logoutAction = __webpack_require__(/*! ./logoutaction */ 395);\r\nvar authenticationDataService = __webpack_require__(/*! ../../dataservices/authentication/authenticationdataservice */ 453);\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar marksAndAnnotationsSaveHelper = __webpack_require__(/*! ../../utility/marking/marksandannotationssavehelper */ 295);\r\nvar base = __webpack_require__(/*! ../base/actioncreatorbase */ 280);\r\nvar userInfoStore = __webpack_require__(/*! ../../stores/userinfo/userinfostore */ 244);\r\n/**\r\n * Logout action creator helper class\r\n */\r\nvar LogoutActionCreator = /** @class */ (function (_super) {\r\n    __extends(LogoutActionCreator, _super);\r\n    function LogoutActionCreator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Update user session data\r\n     * @param logoutData\r\n     */\r\n    LogoutActionCreator.prototype.updateUserSession = function (logoutData) {\r\n        var that = this;\r\n        logoutData.isReportsPageAccessed = userInfoStore.instance.isReportsPageSelected;\r\n        marksAndAnnotationsSaveHelper.triggerMarksAndAnnotationsQueueProcessing(enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Logout, function () {\r\n            //needs to be save the pending items in the save marks and annotations queue.\r\n            authenticationDataService.updateUserSession(logoutData, function (success, json) {\r\n                // This will validate the call to find any network failure\r\n                // and is mandatory to add this.\r\n                if (that.validateCall(json, false, true, enums.WarningMessageAction.None, true)) {\r\n                    dispatcher.dispatch(new logoutAction(success, json));\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return LogoutActionCreator;\r\n}(base));\r\nvar logoutActionCreator = new LogoutActionCreator();\r\nmodule.exports = logoutActionCreator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FjdGlvbnMvbG9nb3V0L2xvZ291dGFjdGlvbmNyZWF0b3IudHM/MWYzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uLy4uL2FwcC9kaXNwYXRjaGVyJyk7XHJcbmltcG9ydCBsb2dvdXRBcmd1bWVudCA9IHJlcXVpcmUoJy4uLy4uL2RhdGFzZXJ2aWNlcy9hdXRoZW50aWNhdGlvbi9sb2dvdXRhcmd1bWVudCcpO1xyXG5pbXBvcnQgbG9nb3V0QWN0aW9uID0gcmVxdWlyZSgnLi9sb2dvdXRhY3Rpb24nKTtcclxuaW1wb3J0IGF1dGhlbnRpY2F0aW9uRGF0YVNlcnZpY2UgPSByZXF1aXJlKCcuLi8uLi9kYXRhc2VydmljZXMvYXV0aGVudGljYXRpb24vYXV0aGVudGljYXRpb25kYXRhc2VydmljZScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IHJlc3BvbnNlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvcmVzcG9uc2UvcmVzcG9uc2VzdG9yZScpO1xyXG5pbXBvcnQgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L21hcmtpbmcvbWFya3NhbmRhbm5vdGF0aW9uc3NhdmVoZWxwZXInKTtcclxuaW1wb3J0IGJhc2UgPSByZXF1aXJlKCcuLi9iYXNlL2FjdGlvbmNyZWF0b3JiYXNlJyk7XHJcbmltcG9ydCB1c2VySW5mb1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3VzZXJpbmZvL3VzZXJpbmZvc3RvcmUnKTtcclxuXHJcbi8qKlxyXG4gKiBMb2dvdXQgYWN0aW9uIGNyZWF0b3IgaGVscGVyIGNsYXNzXHJcbiAqL1xyXG5jbGFzcyBMb2dvdXRBY3Rpb25DcmVhdG9yIGV4dGVuZHMgYmFzZSB7XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB1c2VyIHNlc3Npb24gZGF0YVxyXG4gICAgICogQHBhcmFtIGxvZ291dERhdGFcclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZVVzZXJTZXNzaW9uKGxvZ291dERhdGE6IGxvZ291dEFyZ3VtZW50KTogdm9pZCB7XHJcblxyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgICAgICBsb2dvdXREYXRhLmlzUmVwb3J0c1BhZ2VBY2Nlc3NlZCA9IHVzZXJJbmZvU3RvcmUuaW5zdGFuY2UuaXNSZXBvcnRzUGFnZVNlbGVjdGVkO1xyXG4gICAgICAgIG1hcmtzQW5kQW5ub3RhdGlvbnNTYXZlSGVscGVyLnRyaWdnZXJNYXJrc0FuZEFubm90YXRpb25zUXVldWVQcm9jZXNzaW5nKFxyXG4gICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuTG9nb3V0LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vbmVlZHMgdG8gYmUgc2F2ZSB0aGUgcGVuZGluZyBpdGVtcyBpbiB0aGUgc2F2ZSBtYXJrcyBhbmQgYW5ub3RhdGlvbnMgcXVldWUuXHJcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbkRhdGFTZXJ2aWNlLnVwZGF0ZVVzZXJTZXNzaW9uKGxvZ291dERhdGEsIGZ1bmN0aW9uIChzdWNjZXNzOiBib29sZWFuLCBqc29uPzogYW55KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCB2YWxpZGF0ZSB0aGUgY2FsbCB0byBmaW5kIGFueSBuZXR3b3JrIGZhaWx1cmVcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgaXMgbWFuZGF0b3J5IHRvIGFkZCB0aGlzLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGF0LnZhbGlkYXRlQ2FsbChqc29uLCBmYWxzZSwgdHJ1ZSwgZW51bXMuV2FybmluZ01lc3NhZ2VBY3Rpb24uTm9uZSwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hlci5kaXNwYXRjaChuZXcgbG9nb3V0QWN0aW9uKHN1Y2Nlc3MsIGpzb24pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgbG9nb3V0QWN0aW9uQ3JlYXRvciA9IG5ldyBMb2dvdXRBY3Rpb25DcmVhdG9yKCk7XHJcbmV4cG9ydCA9IGxvZ291dEFjdGlvbkNyZWF0b3I7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9hY3Rpb25zL2xvZ291dC9sb2dvdXRhY3Rpb25jcmVhdG9yLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBdUJBO0FBdEJBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 398:
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src/components/base/customerror.ts ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/**\r\n * Class for custom error\r\n */\r\nvar CustomError = /** @class */ (function (_super) {\r\n    __extends(CustomError, _super);\r\n    /**\r\n     * Constructor CustomError\r\n     * @param module\r\n     * @param message\r\n     * @param header\r\n     * @param showErrorIcon\r\n     */\r\n    function CustomError(moduleName, message, header, showErrorIcon) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.moduleName = moduleName;\r\n        _this.message = message;\r\n        _this.headerText = header;\r\n        _this.showErrorIcon = showErrorIcon;\r\n        return _this;\r\n    }\r\n    return CustomError;\r\n}(Error));\r\nmodule.exports = CustomError;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYmFzZS9jdXN0b21lcnJvci50cz9mMjRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDbGFzcyBmb3IgY3VzdG9tIGVycm9yXHJcbiAqL1xyXG5jbGFzcyBDdXN0b21FcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIC8qKiBUaGUgY29tcG9uZW50IG5hbWUgKi9cclxuICAgIHB1YmxpYyBtb2R1bGVOYW1lOiBzdHJpbmc7XHJcbiAgICAvKiogVGhlIGVycm9yIG1lc3NhZ2UgKi9cclxuICAgIHB1YmxpYyBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICAvKiBIZWFkZXIgc3RyaW5nIGZvciB0aGUgTWVzc2FnZSovXHJcbiAgICBwdWJsaWMgaGVhZGVyVGV4dDogc3RyaW5nO1xyXG4gICAgLyogYm9vbGVhbiB2YWx1ZSB0byBpbmRpY2F0ZSB3aGV0aGVyIHdlIGhhdmUgdG8gc2hvdyBlcnJvciBpY29uIG9yIG5vdCovXHJcbiAgICBwdWJsaWMgc2hvd0Vycm9ySWNvbjogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIEN1c3RvbUVycm9yXHJcbiAgICAgKiBAcGFyYW0gbW9kdWxlXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxyXG4gICAgICogQHBhcmFtIGhlYWRlclxyXG4gICAgICogQHBhcmFtIHNob3dFcnJvckljb25cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobW9kdWxlTmFtZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGhlYWRlcjogc3RyaW5nLCBzaG93RXJyb3JJY29uOiBib29sZWFuKSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5tb2R1bGVOYW1lID0gbW9kdWxlTmFtZTtcclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gICAgICAgIHRoaXMuaGVhZGVyVGV4dCA9IGhlYWRlcjtcclxuICAgICAgICB0aGlzLnNob3dFcnJvckljb24gPSBzaG93RXJyb3JJY29uO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBDdXN0b21FcnJvcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYmFzZS9jdXN0b21lcnJvci50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQUE7QUFVQTs7Ozs7O0FBTUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 399:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/components/qigselector/locksinqigpopup.tsx ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar qigSelectorActionCreator = __webpack_require__(/*! ../../actions/qigselector/qigselectoractioncreator */ 253);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\nvar stringFormatHelper = __webpack_require__(/*! ../../utility/stringformat/stringformathelper */ 250);\r\nvar locksInQigPopup = function (props) {\r\n    /**\r\n     * Handles the Click Event of locked qig\r\n     */\r\n    var openQigFromLockedList = function (qigId) {\r\n        qigSelectorActionCreator.qigSelectedFromLockedList(qigId);\r\n    };\r\n    if (props.showLocksInQigPopUp) {\r\n        return (React.createElement(\"div\", { className: 'popup medium popup-overlay fixed-hf examiner-locked open', id: 'examinerLocked', role: 'dialog' },\r\n            React.createElement(\"div\", { className: 'popup-wrap' },\r\n                React.createElement(\"div\", { className: 'popup-header' },\r\n                    React.createElement(\"h4\", { id: 'popup17Title' }, localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.header'))),\r\n                React.createElement(\"div\", { className: 'popup-content', id: 'popup16Desc' },\r\n                    React.createElement(\"p\", { className: 'login-nav-msg padding-bottom-10' }, localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.body')),\r\n                    React.createElement(\"p\", { className: 'login-nav-action padding-bottom-10' }, (props.fromLogout) ? localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.body-logout') : localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.select-a-qig')),\r\n                    getLocksInQigList()),\r\n                renderLogoutSection())));\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n    /**\r\n     * Returns the list of qigs with no of locks\r\n     */\r\n    function getLocksInQigList() {\r\n        var _this = this;\r\n        var locksInQigDetailsList = Immutable.List();\r\n        locksInQigDetailsList = qigStore.instance.getLocksInQigList.locksInQigDetailsList;\r\n        var toRender = locksInQigDetailsList.map(function (_locksInQigDetails, key) {\r\n            var formattedQigName = stringFormatHelper.formatAwardingBodyQIG(_locksInQigDetails.qigName, _locksInQigDetails.assessmentCode, _locksInQigDetails.sessionName, _locksInQigDetails.componentId, _locksInQigDetails.questionPaperName, _locksInQigDetails.assessmentName, _locksInQigDetails.componentName, stringFormatHelper.getOverviewQIGNameFormat());\r\n            return (React.createElement(\"a\", { key: 'lock-' + key, className: 'locked-link table-row', onClick: openQigFromLockedList.bind(_this, _locksInQigDetails.qigId) },\r\n                React.createElement(\"span\", { className: 'lock-msg table-cell bolder' },\r\n                    React.createElement(\"span\", { className: 'lock-count' }, _locksInQigDetails.noOfLocks),\r\n                    React.createElement(\"span\", { className: 'lock-text' }, (_locksInQigDetails.noOfLocks > 1) ? localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.locks-plural') : localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.lock-single'))),\r\n                React.createElement(\"span\", { className: 'lock-hyphen table-cell' }, \"-\"),\r\n                React.createElement(\"span\", { className: 'lock-qig-name table-cell' }, formattedQigName)));\r\n        });\r\n        return (React.createElement(\"div\", { className: 'lock-list-wrapper' },\r\n            React.createElement(\"div\", { id: 'lock-list-table', className: 'lock-list table' }, toRender)));\r\n    }\r\n    /**\r\n     * renders the logout button portion if needed\r\n     */\r\n    function renderLogoutSection() {\r\n        if (props.fromLogout) {\r\n            return (React.createElement(\"div\", { className: 'popup-footer text-right' },\r\n                React.createElement(\"button\", { id: 'lockslogoutbutton', className: 'button rounded', title: localeStore.instance.TranslateText('generic.user-menu.profile-section.logout-button'), onClick: function () { props.onLogoutClickOfLocksInQigPopup(); } }, localeStore.instance.TranslateText('generic.user-menu.profile-section.logout-button')),\r\n                React.createElement(\"button\", { id: 'lockscancelbutton', className: 'button primary rounded', title: localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.cancel-button'), onClick: function () { props.onCancelClickOfLocksInQigPopup(); } }, localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.cancel-button'))));\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n};\r\nmodule.exports = locksInQigPopup;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcWlnc2VsZWN0b3IvbG9ja3NpbnFpZ3BvcHVwLnRzeD80NzczIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgbG9ja3NJblFpZ0RldGFpbHNMaXN0ID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3R5cGluZ3MvbG9ja3NpbnFpZ2RldGFpbHNsaXN0Jyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgcWlnU2VsZWN0b3JBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9xaWdzZWxlY3Rvci9xaWdzZWxlY3RvcmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgc3RyaW5nRm9ybWF0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9zdHJpbmdmb3JtYXQvc3RyaW5nZm9ybWF0aGVscGVyJyk7XHJcblxyXG4vKipcclxuICogUHJvcHMgZm9yIHRoZSBMZWZ0IFBhbmVsXHJcbiAqL1xyXG5pbnRlcmZhY2UgTG9ja3NJblFpZ1BvcHVwUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgc2hvd0xvY2tzSW5RaWdQb3BVcD86IGJvb2xlYW47XHJcbiAgICBmcm9tTG9nb3V0PzogYm9vbGVhbjtcclxuICAgIG9uQ2FuY2VsQ2xpY2tPZkxvY2tzSW5RaWdQb3B1cD86IEZ1bmN0aW9uO1xyXG4gICAgb25Mb2dvdXRDbGlja09mTG9ja3NJblFpZ1BvcHVwPzogRnVuY3Rpb247XHJcbn1cclxuXHJcbmNvbnN0IGxvY2tzSW5RaWdQb3B1cCA9IChwcm9wczogTG9ja3NJblFpZ1BvcHVwUHJvcHMpID0+IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZXMgdGhlIENsaWNrIEV2ZW50IG9mIGxvY2tlZCBxaWdcclxuICAgICAqL1xyXG4gICAgY29uc3Qgb3BlblFpZ0Zyb21Mb2NrZWRMaXN0ID0gKHFpZ0lkOiBudW1iZXIpID0+IHtcclxuICAgICAgICBxaWdTZWxlY3RvckFjdGlvbkNyZWF0b3IucWlnU2VsZWN0ZWRGcm9tTG9ja2VkTGlzdChxaWdJZCk7XHJcbiAgICB9O1xyXG4gICAgaWYgKHByb3BzLnNob3dMb2Nrc0luUWlnUG9wVXApIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9J3BvcHVwIG1lZGl1bSBwb3B1cC1vdmVybGF5IGZpeGVkLWhmIGV4YW1pbmVyLWxvY2tlZCBvcGVuJ1xyXG4gICAgICAgICAgICBpZD0nZXhhbWluZXJMb2NrZWQnIHJvbGU9J2RpYWxvZyc+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC13cmFwJz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC1oZWFkZXInPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoNCBpZD0ncG9wdXAxN1RpdGxlJz57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RlYW0tbWFuYWdlbWVudC5oZWxwLWV4YW1pbmVycy5sb2Nrcy1pbi1xaWctZGlhbG9nLmhlYWRlcicpfTwvaDQ+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC1jb250ZW50JyBpZD0ncG9wdXAxNkRlc2MnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbG9naW4tbmF2LW1zZyBwYWRkaW5nLWJvdHRvbS0xMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuaGVscC1leGFtaW5lcnMubG9ja3MtaW4tcWlnLWRpYWxvZy5ib2R5Jyl9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0nbG9naW4tbmF2LWFjdGlvbiBwYWRkaW5nLWJvdHRvbS0xMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgPnsocHJvcHMuZnJvbUxvZ291dCkgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RlYW0tbWFuYWdlbWVudC5oZWxwLWV4YW1pbmVycy5sb2Nrcy1pbi1xaWctZGlhbG9nLmJvZHktbG9nb3V0JykgOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RlYW0tbWFuYWdlbWVudC5oZWxwLWV4YW1pbmVycy5sb2Nrcy1pbi1xaWctZGlhbG9nLnNlbGVjdC1hLXFpZycpIH08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAge2dldExvY2tzSW5RaWdMaXN0KCl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHtyZW5kZXJMb2dvdXRTZWN0aW9uKCl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHFpZ3Mgd2l0aCBubyBvZiBsb2Nrc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRMb2Nrc0luUWlnTGlzdCgpIHtcclxuICAgICAgICBsZXQgbG9ja3NJblFpZ0RldGFpbHNMaXN0OiBJbW11dGFibGUuTGlzdDxMb2Nrc0luUWlnRGV0YWlscz4gPSBJbW11dGFibGUuTGlzdDxMb2Nrc0luUWlnRGV0YWlscz4oKTtcclxuICAgICAgICBsb2Nrc0luUWlnRGV0YWlsc0xpc3QgPSBxaWdTdG9yZS5pbnN0YW5jZS5nZXRMb2Nrc0luUWlnTGlzdC5sb2Nrc0luUWlnRGV0YWlsc0xpc3Q7XHJcbiAgICAgICAgbGV0IHRvUmVuZGVyID0gbG9ja3NJblFpZ0RldGFpbHNMaXN0Lm1hcCgoX2xvY2tzSW5RaWdEZXRhaWxzOiBMb2Nrc0luUWlnRGV0YWlscyAsIGtleTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmb3JtYXR0ZWRRaWdOYW1lID0gc3RyaW5nRm9ybWF0SGVscGVyLmZvcm1hdEF3YXJkaW5nQm9keVFJRyhcclxuICAgICAgICAgICAgICAgIF9sb2Nrc0luUWlnRGV0YWlscy5xaWdOYW1lLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLmFzc2Vzc21lbnRDb2RlLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLnNlc3Npb25OYW1lLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLnF1ZXN0aW9uUGFwZXJOYW1lLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLmFzc2Vzc21lbnROYW1lLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLmNvbXBvbmVudE5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdHJpbmdGb3JtYXRIZWxwZXIuZ2V0T3ZlcnZpZXdRSUdOYW1lRm9ybWF0KCkpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxhIGtleT17J2xvY2stJyArIGtleX0gY2xhc3NOYW1lPSdsb2NrZWQtbGluayB0YWJsZS1yb3cnIG9uQ2xpY2s9e29wZW5RaWdGcm9tTG9ja2VkTGlzdC5iaW5kKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLnFpZ0lkKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbG9jay1tc2cgdGFibGUtY2VsbCBib2xkZXInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xvY2stY291bnQnPntfbG9ja3NJblFpZ0RldGFpbHMubm9PZkxvY2tzfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdsb2NrLXRleHQnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB7IChfbG9ja3NJblFpZ0RldGFpbHMubm9PZkxvY2tzID4gMSkgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RlYW0tbWFuYWdlbWVudC5oZWxwLWV4YW1pbmVycy5sb2Nrcy1pbi1xaWctZGlhbG9nLmxvY2tzLXBsdXJhbCcpIDogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0ZWFtLW1hbmFnZW1lbnQuaGVscC1leGFtaW5lcnMubG9ja3MtaW4tcWlnLWRpYWxvZy5sb2NrLXNpbmdsZScpIH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbG9jay1oeXBoZW4gdGFibGUtY2VsbCc+LTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xvY2stcWlnLW5hbWUgdGFibGUtY2VsbCc+e2Zvcm1hdHRlZFFpZ05hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbG9jay1saXN0LXdyYXBwZXInPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD0nbG9jay1saXN0LXRhYmxlJyBjbGFzc05hbWU9J2xvY2stbGlzdCB0YWJsZSc+XHJcbiAgICAgICAgICAgICAgICAgICAge3RvUmVuZGVyfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJlbmRlcnMgdGhlIGxvZ291dCBidXR0b24gcG9ydGlvbiBpZiBuZWVkZWRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVuZGVyTG9nb3V0U2VjdGlvbigpIHtcclxuICAgICAgICBpZiAocHJvcHMuZnJvbUxvZ291dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BvcHVwLWZvb3RlciB0ZXh0LXJpZ2h0Jz5cclxuICAgICAgICAgICAgIFx0PGJ1dHRvbiBpZD0nbG9ja3Nsb2dvdXRidXR0b24nY2xhc3NOYW1lID0nYnV0dG9uIHJvdW5kZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy51c2VyLW1lbnUucHJvZmlsZS1zZWN0aW9uLmxvZ291dC1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgcHJvcHMub25Mb2dvdXRDbGlja09mTG9ja3NJblFpZ1BvcHVwKCk7IH19Pntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbmVyaWMudXNlci1tZW51LnByb2ZpbGUtc2VjdGlvbi5sb2dvdXQtYnV0dG9uJyl9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9J2xvY2tzY2FuY2VsYnV0dG9uJyBjbGFzc05hbWU9J2J1dHRvbiBwcmltYXJ5IHJvdW5kZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuaGVscC1leGFtaW5lcnMubG9ja3MtaW4tcWlnLWRpYWxvZy5jYW5jZWwtYnV0dG9uJykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHByb3BzLm9uQ2FuY2VsQ2xpY2tPZkxvY2tzSW5RaWdQb3B1cCgpOyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuaGVscC1leGFtaW5lcnMubG9ja3MtaW4tcWlnLWRpYWxvZy5jYW5jZWwtYnV0dG9uJyl9PC9idXR0b24+XHJcbiAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgPSBsb2Nrc0luUWlnUG9wdXA7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3FpZ3NlbGVjdG9yL2xvY2tzaW5xaWdwb3B1cC50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUlBO0FBRUE7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFJQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBTUE7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 400:
/* no static exports found */
/* all exports used */
/*!******************************************************************!*\
  !*** ./src/components/standardisationsetup/declassifybutton.tsx ***!
  \******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for Generic button.\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\n/**\r\n * React component class for Generic button implementation.\r\n */\r\nvar DeclassifyButton = /** @class */ (function (_super) {\r\n    __extends(DeclassifyButton, _super);\r\n    /**\r\n     * constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function DeclassifyButton(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.onClick = _this.onClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render method\r\n     */\r\n    DeclassifyButton.prototype.render = function () {\r\n        var buttonElement;\r\n        buttonElement = (React.createElement(\"a\", { title: this.props.title, className: this.props.anchorclassName, id: this.props.id, key: this.props.id, onClick: this.onClick },\r\n            React.createElement(\"span\", { className: this.props.spanclassName })));\r\n        return buttonElement;\r\n    };\r\n    /**\r\n     * Click event\r\n     * @param evnt\r\n     */\r\n    DeclassifyButton.prototype.onClick = function (evnt) {\r\n        standardisationActionCreator.declassifyPopupOpen(this.props.displayId, this.props.totalMarkValue, this.props.candidateScriptId, this.props.esCandidateScriptMarkSchemeGroupId, this.props.markingModeId, this.props.rigOrder, this.props.esMarkGroupRowVersion, this.props.markSchemeGroupId);\r\n    };\r\n    return DeclassifyButton;\r\n}(pureRenderComponent));\r\nmodule.exports = DeclassifyButton;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvZGVjbGFzc2lmeWJ1dHRvbi50c3g/MDFmNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gIFJlYWN0IGNvbXBvbmVudCBmb3IgR2VuZXJpYyBidXR0b24uXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGFwcGxpY2F0aW9uU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvYXBwbGljYXRpb25vZmZsaW5lL2FwcGxpY2F0aW9uc3RvcmUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIHRpdGxlOiBzdHJpbmc7XHJcbiAgICBhbmNob3JjbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgICBzcGFuY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIGRpc3BsYXlJZDogc3RyaW5nO1xyXG5cdHRvdGFsTWFya1ZhbHVlOiBudW1iZXI7XHJcblx0Y2FuZGlkYXRlU2NyaXB0SWQ6IG51bWJlcjtcclxuICAgIGVzQ2FuZGlkYXRlU2NyaXB0TWFya1NjaGVtZUdyb3VwSWQ6IG51bWJlcjtcclxuICAgIG1hcmtTY2hlbWVHcm91cElkOiBudW1iZXI7XHJcblx0bWFya2luZ01vZGVJZDogbnVtYmVyO1xyXG4gICAgcmlnT3JkZXI6IG51bWJlcjtcclxuICAgIGVzTWFya0dyb3VwUm93VmVyc2lvbjogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50IGNsYXNzIGZvciBHZW5lcmljIGJ1dHRvbiBpbXBsZW1lbnRhdGlvbi5cclxuICovXHJcbmNsYXNzIERlY2xhc3NpZnlCdXR0b24gZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG4gICAgICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIG1ldGhvZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBidXR0b25FbGVtZW50OiBKU1guRWxlbWVudDtcclxuICAgICAgICBidXR0b25FbGVtZW50ID0gKFxyXG4gICAgICAgICAgICA8YSB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5hbmNob3JjbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgIGtleT17dGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXt0aGlzLnByb3BzLnNwYW5jbGFzc05hbWV9IC8+XHJcbiAgICAgICAgICAgIDwvYT5cclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBidXR0b25FbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xpY2sgZXZlbnRcclxuICAgICAqIEBwYXJhbSBldm50XHJcbiAgICAgKi9cclxuXHRwcml2YXRlIG9uQ2xpY2soZXZudDogYW55KSB7XHJcblx0XHRzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLmRlY2xhc3NpZnlQb3B1cE9wZW4odGhpcy5wcm9wcy5kaXNwbGF5SWQsIHRoaXMucHJvcHMudG90YWxNYXJrVmFsdWUsXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY2FuZGlkYXRlU2NyaXB0SWQsIHRoaXMucHJvcHMuZXNDYW5kaWRhdGVTY3JpcHRNYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5tYXJraW5nTW9kZUlkLCB0aGlzLnByb3BzLnJpZ09yZGVyLFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmVzTWFya0dyb3VwUm93VmVyc2lvbiwgdGhpcy5wcm9wcy5tYXJrU2NoZW1lR3JvdXBJZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IERlY2xhc3NpZnlCdXR0b247XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3N0YW5kYXJkaXNhdGlvbnNldHVwL2RlY2xhc3NpZnlidXR0b24udHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQWlCQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 401:
/* no static exports found */
/* all exports used */
/*!*******************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/bluebanner.tsx ***!
  \*******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * StatelessComponent component for BlueBanner\r\n * @param props\r\n */\r\nvar blueBanner = function (props) {\r\n    return (React.createElement(\"div\", { className: 'message-bar' },\r\n        React.createElement(\"span\", { className: 'message-content' },\r\n            React.createElement(\"div\", { className: 'text-left', id: 'blue-banner-message' },\r\n                React.createElement(\"p\", null, props.blueBannerMessageKey !== '' || props.blueBannerMessageKey !== undefined\r\n                    ? localeStore.instance.TranslateText(props.blueBannerMessageKey) : null)))));\r\n};\r\nmodule.exports = blueBanner;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL2JsdWViYW5uZXIudHN4P2YyNWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbXBvbmVudHMvYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9lbnVtcycpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BzXHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgYmx1ZUJhbm5lck1lc3NhZ2VLZXk6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0YXRlbGVzc0NvbXBvbmVudCBjb21wb25lbnQgZm9yIEJsdWVCYW5uZXJcclxuICogQHBhcmFtIHByb3BzXHJcbiAqL1xyXG5jb25zdCBibHVlQmFubmVyOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8UHJvcHM+ID0gKHByb3BzOiBQcm9wcykgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWVzc2FnZS1iYXInPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J21lc3NhZ2UtY29udGVudCc+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC1sZWZ0JyBpZD0nYmx1ZS1iYW5uZXItbWVzc2FnZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5ibHVlQmFubmVyTWVzc2FnZUtleSAhPT0gJycgfHwgcHJvcHMuYmx1ZUJhbm5lck1lc3NhZ2VLZXkgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KHByb3BzLmJsdWVCYW5uZXJNZXNzYWdlS2V5KSA6IG51bGxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn07XHJcbmV4cG9ydCA9IGJsdWVCYW5uZXI7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvYmx1ZWJhbm5lci50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBWUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBT0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 402:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/rigorder.tsx ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * Stateless component for Script ID column in Standardisation Setup Grid\r\n * @param props\r\n */\r\nvar rigorder = function (props) {\r\n    /**\r\n     * This mehod will return the classification type header\r\n     * @param classificationType\r\n     */\r\n    function getHeaderBody(classificationType) {\r\n        var element;\r\n        if (classificationType) {\r\n            element = (React.createElement(\"div\", { id: props.id, className: props.className }, (localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.classification-type.'\r\n                + enums.MarkingMode[classificationType]))));\r\n        }\r\n        else {\r\n            element = (React.createElement(\"span\", { id: props.id, className: props.className }, props.rigOrder));\r\n        }\r\n        return element;\r\n    }\r\n    return (React.createElement(\"div\", { className: 'header-data cursor-move' },\r\n        props.classificationType === undefined ?\r\n            React.createElement(\"span\", { className: 'sprite-icon drag-icon', title: !qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete ? 'Drag to change the order.' : '' })\r\n            : null,\r\n        getHeaderBody(props.classificationType)));\r\n};\r\nmodule.exports = rigorder;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3JpZ29yZGVyLnRzeD81Y2Y5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuXHJcbmludGVyZmFjZSBSSUdPcmRlclByb3BzIGV4dGVuZHMgUHJvcHNCYXNlIHtcclxuICAgIGNsYXNzaWZpY2F0aW9uVHlwZT86IGVudW1zLk1hcmtpbmdNb2RlO1xyXG4gICAgcmlnT3JkZXI/OiBzdHJpbmc7XHJcbiAgICBjbGFzc05hbWU6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0YXRlbGVzcyBjb21wb25lbnQgZm9yIFNjcmlwdCBJRCBjb2x1bW4gaW4gU3RhbmRhcmRpc2F0aW9uIFNldHVwIEdyaWRcclxuICogQHBhcmFtIHByb3BzXHJcbiAqL1xyXG5jb25zdCByaWdvcmRlcjogUmVhY3QuU3RhdGVsZXNzQ29tcG9uZW50PFJJR09yZGVyUHJvcHM+ID0gKHByb3BzOiBSSUdPcmRlclByb3BzKSA9PiB7XHJcblxyXG4vKipcclxuICogVGhpcyBtZWhvZCB3aWxsIHJldHVybiB0aGUgY2xhc3NpZmljYXRpb24gdHlwZSBoZWFkZXJcclxuICogQHBhcmFtIGNsYXNzaWZpY2F0aW9uVHlwZVxyXG4gKi9cclxuICAgIGZ1bmN0aW9uIGdldEhlYWRlckJvZHkoY2xhc3NpZmljYXRpb25UeXBlOiBlbnVtcy5NYXJraW5nTW9kZSk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgZWxlbWVudDogSlNYLkVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKGNsYXNzaWZpY2F0aW9uVHlwZSkge1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gKDxkaXYgaWQ9e3Byb3BzLmlkfSBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+eyhsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QuY2xhc3NpZmljYXRpb24tdHlwZS4nXHJcbiAgICAgICAgICAgICAgICArIGVudW1zLk1hcmtpbmdNb2RlW2NsYXNzaWZpY2F0aW9uVHlwZV0pKX08L2Rpdj4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSAoPHNwYW4gaWQ9e3Byb3BzLmlkfSBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+e3Byb3BzLnJpZ09yZGVyfTwvc3Bhbj4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdoZWFkZXItZGF0YSBjdXJzb3ItbW92ZSc+XHJcbiAgICAgICAgICAgIHtwcm9wcy5jbGFzc2lmaWNhdGlvblR5cGUgPT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Nwcml0ZS1pY29uIGRyYWctaWNvbidcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17IXFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLnN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGUgPyAnRHJhZyB0byBjaGFuZ2UgdGhlIG9yZGVyLicgOiAnJ31cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDogbnVsbH1cclxuICAgICAgICAgICAge2dldEhlYWRlckJvZHkocHJvcHMuY2xhc3NpZmljYXRpb25UeXBlKX1cclxuICAgICAgICA8L2Rpdj4pO1xyXG5cclxufTtcclxuZXhwb3J0ID0gcmlnb3JkZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9yaWdvcmRlci50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVFBOzs7QUFHQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 403:
/* no static exports found */
/* all exports used */
/*!****************************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/scriptidgridelement.tsx ***!
  \****************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar stringHelper = __webpack_require__(/*! ../../../utility/generic/stringhelper */ 254);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar imageZoneActionCreator = __webpack_require__(/*! ../../../actions/imagezones/imagezoneactioncreator */ 439);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../utility/ecoursework/ecourseworkhelper */ 238);\r\nvar responseHelper = __webpack_require__(/*! ../../utility/responsehelper/responsehelper */ 249);\r\n/**\r\n * React component class for Script id\r\n */\r\nvar ScriptIdGridElement = /** @class */ (function (_super) {\r\n    __extends(ScriptIdGridElement, _super);\r\n    /**\r\n     * Constructor for ScriptIdGridElement\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function ScriptIdGridElement(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * This will initiate open response action\r\n         */\r\n        _this.handleScriptClick = function (candidateScriptId) {\r\n            var selectedScriptDetails = standardisationSetupStore.instance.fetchSelectedScriptDetails(parseInt(candidateScriptId));\r\n            // Indicates whether script available to mark as provisional\r\n            var isAvailable = selectedScriptDetails ? (!selectedScriptDetails.isAllocatedALive &&\r\n                !selectedScriptDetails.isUsedForProvisionalMarking) : false;\r\n            standardisationActionCreator.openStandardisationCentreScript(parseInt(candidateScriptId), isAvailable);\r\n            if (eCourseworkHelper.isECourseworkComponent) {\r\n                eCourseworkHelper.fetchECourseWorkCandidateScriptMetadata(parseInt(candidateScriptId), false, true);\r\n            }\r\n            imageZoneActionCreator.getImagezoneList(qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId, // QuestionPaperId\r\n            qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, // MarkSchemeGroupId\r\n            qigStore.instance.selectedQIGForMarkerOperation.markingMethod, true);\r\n            responseHelper.openResponse(parseInt(candidateScriptId), // CandidateScriptId\r\n            enums.ResponseNavigation.specific, enums.ResponseMode.closed, 0, // Passing MarkGroupId as 0, since we dont have markGroupId for the non-provisional response.\r\n            enums.ResponseViewMode.zoneView); // Default view mode is Zone View, even if the response has unmanaged SLAO's.\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    ScriptIdGridElement.prototype.render = function () {\r\n        var title = stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.response-data.script-id-tooltip'), [\r\n            this.props.displayText\r\n                ? String(this.props.displayText)\r\n                : String(this.props.displayId)\r\n        ]);\r\n        var displayContent;\r\n        if (this.props.displayText) {\r\n            displayContent = '1' + String(this.props.displayText);\r\n        }\r\n        else {\r\n            displayContent = '1' + String(this.props.displayId);\r\n        }\r\n        return (React.createElement(\"a\", { href: 'javascript:void(0)', id: 'script_' + this.props.id, key: 'res_key_' + this.props.id, title: title, onClick: this.handleScriptClick.bind(this, this.props.displayId) }, displayContent));\r\n    };\r\n    return ScriptIdGridElement;\r\n}(pureRenderComponent));\r\nmodule.exports = ScriptIdGridElement;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3NjcmlwdGlkZ3JpZGVsZW1lbnQudHN4PzE5NzkiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBzdHJpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dlbmVyaWMvc3RyaW5naGVscGVyJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IGFwcGxpY2F0aW9uU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvYXBwbGljYXRpb25vZmZsaW5lL2FwcGxpY2F0aW9uc3RvcmUnKTtcclxuaW1wb3J0IGFwcGxpY2F0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvYXBwbGljYXRpb25vZmZsaW5lL2FwcGxpY2F0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgbWFya1NjaGVtZVN0cnVjdHVyZUFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL21hcmtzY2hlbWVzdHJ1Y3R1cmUvbWFya3NjaGVtZXN0cnVjdHVyZWFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcbmltcG9ydCBpbWFnZVpvbmVBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9pbWFnZXpvbmVzL2ltYWdlem9uZWFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHNjcmlwdEFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL3NjcmlwdC9zY3JpcHRhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwc3RvcmUnKTtcclxuaW1wb3J0IGNhbmRpZGF0ZVNjcmlwdEluZm8gPSByZXF1aXJlKCcuLi8uLi8uLi9kYXRhc2VydmljZXMvc2NyaXB0L3R5cGluZ3MvY2FuZGlkYXRlc2NyaXB0aW5mbycpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lY291cnNld29yay9lY291cnNld29ya2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IFByb21pc2UgPSByZXF1aXJlKCdlczYtcHJvbWlzZScpO1xyXG5pbXBvcnQgcmVzcG9uc2VIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3Jlc3BvbnNlaGVscGVyL3Jlc3BvbnNlaGVscGVyJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiByZXNwb25zZSBpZCBjb2x1bW5cclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBkaXNwbGF5SWQ/OiBzdHJpbmc7XHJcbiAgICBkaXNwbGF5VGV4dD86IHN0cmluZztcclxuICAgIGlzQ2xpY2thYmxlPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudCBjbGFzcyBmb3IgU2NyaXB0IGlkXHJcbiAqL1xyXG5jbGFzcyBTY3JpcHRJZEdyaWRFbGVtZW50IGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcbiAgICBwcml2YXRlIGFjdHVhbERpc3BsYXlJZDogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3IgZm9yIFNjcmlwdElkR3JpZEVsZW1lbnRcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCB0aXRsZSA9IHN0cmluZ0hlbHBlci5mb3JtYXQoXHJcbiAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZXNwb25zZS1kYXRhLnNjcmlwdC1pZC10b29sdGlwJ1xyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRpc3BsYXlUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgPyBTdHJpbmcodGhpcy5wcm9wcy5kaXNwbGF5VGV4dClcclxuICAgICAgICAgICAgICAgICAgICA6IFN0cmluZyh0aGlzLnByb3BzLmRpc3BsYXlJZClcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBkaXNwbGF5Q29udGVudDogc3RyaW5nO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRpc3BsYXlUZXh0KSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXlDb250ZW50ID0gJzEnICsgU3RyaW5nKHRoaXMucHJvcHMuZGlzcGxheVRleHQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXlDb250ZW50ID0gJzEnICsgU3RyaW5nKHRoaXMucHJvcHMuZGlzcGxheUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKSdcclxuICAgICAgICAgICAgICAgIGlkPXsnc2NyaXB0XycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAga2V5PXsncmVzX2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aXRsZX1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU2NyaXB0Q2xpY2suYmluZCh0aGlzLCB0aGlzLnByb3BzLmRpc3BsYXlJZCl9PlxyXG4gICAgICAgICAgICAgICAge2Rpc3BsYXlDb250ZW50fVxyXG4gICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCBpbml0aWF0ZSBvcGVuIHJlc3BvbnNlIGFjdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGhhbmRsZVNjcmlwdENsaWNrID0gKGNhbmRpZGF0ZVNjcmlwdElkOiBzdHJpbmcpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHNlbGVjdGVkU2NyaXB0RGV0YWlsczogU3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlscyA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZmV0Y2hTZWxlY3RlZFNjcmlwdERldGFpbHMoXHJcbiAgICAgICAgICAgIHBhcnNlSW50KGNhbmRpZGF0ZVNjcmlwdElkKVxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBJbmRpY2F0ZXMgd2hldGhlciBzY3JpcHQgYXZhaWxhYmxlIHRvIG1hcmsgYXMgcHJvdmlzaW9uYWxcclxuXHRcdGxldCBpc0F2YWlsYWJsZSA9IHNlbGVjdGVkU2NyaXB0RGV0YWlscyA/ICghc2VsZWN0ZWRTY3JpcHREZXRhaWxzLmlzQWxsb2NhdGVkQUxpdmUgJiZcclxuXHRcdFx0IXNlbGVjdGVkU2NyaXB0RGV0YWlscy5pc1VzZWRGb3JQcm92aXNpb25hbE1hcmtpbmcpIDogZmFsc2U7XHJcblxyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3Iub3BlblN0YW5kYXJkaXNhdGlvbkNlbnRyZVNjcmlwdChcclxuICAgICAgICAgICAgcGFyc2VJbnQoY2FuZGlkYXRlU2NyaXB0SWQpLFxyXG4gICAgICAgICAgICBpc0F2YWlsYWJsZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChlQ291cnNld29ya0hlbHBlci5pc0VDb3Vyc2V3b3JrQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGVDb3Vyc2V3b3JrSGVscGVyLmZldGNoRUNvdXJzZVdvcmtDYW5kaWRhdGVTY3JpcHRNZXRhZGF0YShcclxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGNhbmRpZGF0ZVNjcmlwdElkKSxcclxuICAgICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW1hZ2Vab25lQWN0aW9uQ3JlYXRvci5nZXRJbWFnZXpvbmVMaXN0KFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyUGFydElkLCAvLyBRdWVzdGlvblBhcGVySWRcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsIC8vIE1hcmtTY2hlbWVHcm91cElkXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtpbmdNZXRob2QsXHJcbiAgICAgICAgICAgIHRydWVcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXNwb25zZUhlbHBlci5vcGVuUmVzcG9uc2UoXHJcbiAgICAgICAgICAgIHBhcnNlSW50KGNhbmRpZGF0ZVNjcmlwdElkKSwgLy8gQ2FuZGlkYXRlU2NyaXB0SWRcclxuICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VOYXZpZ2F0aW9uLnNwZWNpZmljLFxyXG4gICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLFxyXG4gICAgICAgICAgICAwLCAvLyBQYXNzaW5nIE1hcmtHcm91cElkIGFzIDAsIHNpbmNlIHdlIGRvbnQgaGF2ZSBtYXJrR3JvdXBJZCBmb3IgdGhlIG5vbi1wcm92aXNpb25hbCByZXNwb25zZS5cclxuICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VWaWV3TW9kZS56b25lVmlld1xyXG4gICAgICAgICk7IC8vIERlZmF1bHQgdmlldyBtb2RlIGlzIFpvbmUgVmlldywgZXZlbiBpZiB0aGUgcmVzcG9uc2UgaGFzIHVubWFuYWdlZCBTTEFPJ3MuXHJcblxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0ID0gU2NyaXB0SWRHcmlkRWxlbWVudDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9zY3JpcHRpZGdyaWRlbGVtZW50LnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFJQTtBQVdBOztBQUVBO0FBQ0E7QUFBQTtBQUdBOzs7O0FBSUE7QUFDQTtBQUFBO0FBcUNBOztBQUVBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUtBO0FBRUE7QUFFQTtBQUNBO0FBSUE7QUFFQTtBQUdBO0FBR0E7O0FBNUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUE0Q0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 404:
/* no static exports found */
/* all exports used */
/*!********************************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/scriptstatusgridelement.tsx ***!
  \********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * React component class for Script Status\r\n */\r\nvar ScriptStatusGridElement = /** @class */ (function (_super) {\r\n    __extends(ScriptStatusGridElement, _super);\r\n    /**\r\n     * Constructor for Script Status\r\n     * @param props Props\r\n     * @param state State\r\n     */\r\n    function ScriptStatusGridElement(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.classNameText = '';\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    ScriptStatusGridElement.prototype.render = function () {\r\n        var parentClass = '';\r\n        var isAvailable = (!this.props.isAllocatedALive\r\n            && !this.props.isUsedForProvisionalMarking);\r\n        var available = (isAvailable) ? localeStore.instance.\r\n            TranslateText('standardisation-setup.right-container.available-status') : localeStore.instance.\r\n            TranslateText('standardisation-setup.right-container.not-available-status');\r\n        if (isAvailable) {\r\n            this.classNameText = 'sprite-icon success-small-icon text-middle';\r\n            parentClass = 'success';\r\n        }\r\n        else {\r\n            this.classNameText = 'sprite-icon not-small-black-icon text-middle';\r\n        }\r\n        return (React.createElement(\"span\", { className: parentClass, id: 'status_' + this.props.id },\r\n            React.createElement(\"span\", { className: this.classNameText }),\r\n            React.createElement(\"span\", { className: 'small-text padding-left-5' }, available)));\r\n    };\r\n    return ScriptStatusGridElement;\r\n}(pureRenderComponent));\r\nmodule.exports = ScriptStatusGridElement;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3NjcmlwdHN0YXR1c2dyaWRlbGVtZW50LnRzeD9hNmJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgc3RyaW5nSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL3N0cmluZ2hlbHBlcicpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbnN0b3JlJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgU2NyaXB0IFN0YXR1cyBjb2x1bW5cclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcblx0aXNBbGxvY2F0ZWRBTGl2ZTogYm9vbGVhbjtcclxuXHRpc1VzZWRGb3JQcm92aXNpb25hbE1hcmtpbmc6IGJvb2xlYW47XHJcbn1cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudCBjbGFzcyBmb3IgU2NyaXB0IFN0YXR1c1xyXG4gKi9cclxuY2xhc3MgU2NyaXB0U3RhdHVzR3JpZEVsZW1lbnQgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+e1xyXG5cdHByaXZhdGUgY2xhc3NOYW1lVGV4dDogc3RyaW5nID0gJyc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbnN0cnVjdG9yIGZvciBTY3JpcHQgU3RhdHVzXHJcblx0ICogQHBhcmFtIHByb3BzIFByb3BzXHJcblx0ICogQHBhcmFtIHN0YXRlIFN0YXRlXHJcblx0ICovXHJcblx0Y29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcblx0XHRzdXBlcihwcm9wcywgc3RhdGUpO1xyXG5cdH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG5cdHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG5cdFx0bGV0IHBhcmVudENsYXNzOiBzdHJpbmcgPSAnJztcclxuXHJcblx0XHRsZXQgaXNBdmFpbGFibGU6IGJvb2xlYW4gPSAoIXRoaXMucHJvcHMuaXNBbGxvY2F0ZWRBTGl2ZVxyXG5cdFx0XHQmJiAhdGhpcy5wcm9wcy5pc1VzZWRGb3JQcm92aXNpb25hbE1hcmtpbmcpO1xyXG5cclxuXHRcdGxldCBhdmFpbGFibGU6IHN0cmluZyA9IChpc0F2YWlsYWJsZSkgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuXHRcdFx0VHJhbnNsYXRlVGV4dCgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnJpZ2h0LWNvbnRhaW5lci5hdmFpbGFibGUtc3RhdHVzJykgOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuXHRcdFx0XHRUcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLm5vdC1hdmFpbGFibGUtc3RhdHVzJyk7XHJcblxyXG5cdFx0aWYgKGlzQXZhaWxhYmxlKSB7XHJcblx0XHRcdHRoaXMuY2xhc3NOYW1lVGV4dCA9ICdzcHJpdGUtaWNvbiBzdWNjZXNzLXNtYWxsLWljb24gdGV4dC1taWRkbGUnO1xyXG5cdFx0XHRwYXJlbnRDbGFzcyA9ICdzdWNjZXNzJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuY2xhc3NOYW1lVGV4dCA9ICdzcHJpdGUtaWNvbiBub3Qtc21hbGwtYmxhY2staWNvbiB0ZXh0LW1pZGRsZSc7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0PHNwYW4gY2xhc3NOYW1lPXtwYXJlbnRDbGFzc30gaWQ9eydzdGF0dXNfJyArIHRoaXMucHJvcHMuaWR9PlxyXG5cdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT17dGhpcy5jbGFzc05hbWVUZXh0fT48L3NwYW4+XHJcblx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSdzbWFsbC10ZXh0IHBhZGRpbmctbGVmdC01Jz57YXZhaWxhYmxlfTwvc3Bhbj5cclxuXHRcdFx0PC9zcGFuPlxyXG5cdFx0KTtcclxuXHR9XHJcbn1cclxuZXhwb3J0ID0gU2NyaXB0U3RhdHVzR3JpZEVsZW1lbnQ7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9zY3JpcHRzdGF0dXNncmlkZWxlbWVudC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBOztBQUVBO0FBQ0E7QUFBQTtBQUdBOzs7O0FBSUE7QUFDQTtBQUFBO0FBUEE7O0FBU0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 405:
/* no static exports found */
/* all exports used */
/*!********************************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/sharedresponseindicator.tsx ***!
  \********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar SharedResponseIndicator = /** @class */ (function (_super) {\r\n    __extends(SharedResponseIndicator, _super);\r\n    /**\r\n     * Constructor for Accuracy indicator\r\n     * @param props\r\n     */\r\n    function SharedResponseIndicator(props) {\r\n        return _super.call(this, props, null) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    SharedResponseIndicator.prototype.render = function () {\r\n        if (this.props.isSharedProvisional) {\r\n            var toolTip = localeStore.instance.TranslateText('standardisation-setup.shared-response-indicator-tooltip.content');\r\n            var accuracy = (React.createElement(\"div\", { className: 'wl-share' },\r\n                React.createElement(\"span\", { title: toolTip, className: 'sprite-icon share-icon' }, \"Share\")));\r\n            return (accuracy);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    return SharedResponseIndicator;\r\n}(PureRenderComponent));\r\nmodule.exports = SharedResponseIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3NoYXJlZHJlc3BvbnNlaW5kaWNhdG9yLnRzeD9jNDMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5pbXBvcnQgUHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xuXG4vKipcbiAqIFByb3BlcnRpZXMgb2YgY29tcG9uZW50LlxuICogQHBhcmFtIHtQcm9wc30gcHJvcHNcbiAqL1xuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcbiAgICBpc1NoYXJlZFByb3Zpc2lvbmFsOiBib29sZWFuO1xufVxuXG5jbGFzcyBTaGFyZWRSZXNwb25zZUluZGljYXRvciBleHRlbmRzIFB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3IgZm9yIEFjY3VyYWN5IGluZGljYXRvclxuICAgICAqIEBwYXJhbSBwcm9wc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcywgbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxuICAgICAqL1xuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzU2hhcmVkUHJvdmlzaW9uYWwpIHtcbiAgICAgICAgICAgIGxldCB0b29sVGlwOiBzdHJpbmcgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2hhcmVkLXJlc3BvbnNlLWluZGljYXRvci10b29sdGlwLmNvbnRlbnQnKTtcbiAgICAgICAgICAgIGxldCBhY2N1cmFjeTogSlNYLkVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICg8ZGl2IGNsYXNzTmFtZT0nd2wtc2hhcmUnPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT17dG9vbFRpcH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc3ByaXRlLWljb24gc2hhcmUtaWNvbic+U2hhcmVcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2Pik7XG4gICAgICAgICAgICByZXR1cm4gKGFjY3VyYWN5KTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgPSBTaGFyZWRSZXNwb25zZUluZGljYXRvcjtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9zaGFyZWRyZXNwb25zZWluZGljYXRvci50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBVUE7QUFBQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 406:
/* no static exports found */
/* all exports used */
/*!**********************************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/standardisationresponseid.tsx ***!
  \**********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar ResponseIdGridElement = __webpack_require__(/*! ../../worklist/shared/responseidgridelement */ 370);\r\n/**\r\n * Stateless component for Note column in Classification Grid\r\n * @param props\r\n */\r\nvar stdResponseId = function (props) {\r\n    return (React.createElement(\"div\", { className: 'col wl-id' },\r\n        React.createElement(\"div\", { className: 'col-inner' },\r\n            React.createElement(ResponseIdGridElement, { selectedLanguage: props.selectedLanguage, displayId: props.displayId, isClickable: props.isResponseIdClickable, id: props.id, key: 'key_response_id_grid_element_' + props.id, isTileView: false, isReusableResponseView: props.isReusableResponseView ? props.isReusableResponseView : false, candidateScriptId: props.candidateScriptId ? props.candidateScriptId : '' }))));\r\n};\r\nmodule.exports = stdResponseId;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3N0YW5kYXJkaXNhdGlvbnJlc3BvbnNlaWQudHN4P2RhMmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IFJlc3BvbnNlSWRHcmlkRWxlbWVudCA9IHJlcXVpcmUoJy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9yZXNwb25zZWlkZ3JpZGVsZW1lbnQnKTtcclxuXHJcbmludGVyZmFjZSBTdGRSZXNwb25zZUlkUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2Uge1xyXG4gICAgZGlzcGxheUlkOiBzdHJpbmc7XHJcbiAgICBpc1Jlc3BvbnNlSWRDbGlja2FibGU6IGJvb2xlYW47XHJcbiAgICBzZWxlY3RlZExhbmd1YWdlOiBzdHJpbmc7XHJcbiAgICBpc1JldXNhYmxlUmVzcG9uc2VWaWV3PzogYm9vbGVhbjtcclxuICAgIGNhbmRpZGF0ZVNjcmlwdElkPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogU3RhdGVsZXNzIGNvbXBvbmVudCBmb3IgTm90ZSBjb2x1bW4gaW4gQ2xhc3NpZmljYXRpb24gR3JpZFxyXG4gKiBAcGFyYW0gcHJvcHNcclxuICovXHJcbmNvbnN0IHN0ZFJlc3BvbnNlSWQ6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxTdGRSZXNwb25zZUlkUHJvcHM+ID0gKHByb3BzOiBTdGRSZXNwb25zZUlkUHJvcHMpID0+IHtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wgd2wtaWQnPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLWlubmVyJz5cclxuICAgICAgICAgICAgICAgIDxSZXNwb25zZUlkR3JpZEVsZW1lbnQgc2VsZWN0ZWRMYW5ndWFnZT17cHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5SWQ9e3Byb3BzLmRpc3BsYXlJZH0gaXNDbGlja2FibGU9e3Byb3BzLmlzUmVzcG9uc2VJZENsaWNrYWJsZX1cclxuICAgICAgICAgICAgICAgICAgICBpZD17cHJvcHMuaWR9IGtleT17J2tleV9yZXNwb25zZV9pZF9ncmlkX2VsZW1lbnRfJyArIHByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzVGlsZVZpZXc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzUmV1c2FibGVSZXNwb25zZVZpZXc9e3Byb3BzLmlzUmV1c2FibGVSZXNwb25zZVZpZXcgPyBwcm9wcy5pc1JldXNhYmxlUmVzcG9uc2VWaWV3IDogZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlU2NyaXB0SWQ9e3Byb3BzLmNhbmRpZGF0ZVNjcmlwdElkID8gcHJvcHMuY2FuZGlkYXRlU2NyaXB0SWQgOiAnJ30vPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHQpO1xyXG59O1xyXG5leHBvcnQgPSBzdGRSZXNwb25zZUlkO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvc3RhbmRhcmRpc2F0aW9ucmVzcG9uc2VpZC50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBVUE7OztBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFTQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 407:
/* no static exports found */
/* all exports used */
/*!***************************************************************!*\
  !*** ./src/components/teammanagement/warningmessagepopup.tsx ***!
  \***************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar GenericDialog = __webpack_require__(/*! ../utility/genericdialog */ 317);\r\nvar warningMessagePopupHelper = __webpack_require__(/*! ../../utility/teammanagement/helpers/warningmessagepopuphelper */ 419);\r\nvar warningMessageStore = __webpack_require__(/*! ../../stores/teammanagement/warningmessagestore */ 327);\r\nvar teamManagementActionCreator = __webpack_require__(/*! ../../actions/teammanagement/teammanagementactioncreator */ 263);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * WarningMessagePopup contain message content and ok button.\r\n * @param props\r\n * @param state\r\n */\r\nvar WarningMessagePopup = /** @class */ (function (_super) {\r\n    __extends(WarningMessagePopup, _super);\r\n    /**\r\n     * Constructor WarningMessagePopup\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function WarningMessagePopup(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * Method to handle the warning message actions.\r\n         */\r\n        _this.handleWarningMessageActions = function (failureCode, warningMessageAction, args) {\r\n            _this.failureCode = failureCode;\r\n            _this.warningMessageAction = warningMessageAction;\r\n            _this._warningMessagePopupHelper.bindWarningMessagePopupContent(failureCode);\r\n            _this.setState({ doShowWarningPopup: true });\r\n        };\r\n        // Set the default states\r\n        _this.state = {\r\n            doShowWarningPopup: false\r\n        };\r\n        _this._warningMessagePopupHelper = new warningMessagePopupHelper();\r\n        _this.onOkButtonClick = _this.onOkButtonClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    WarningMessagePopup.prototype.render = function () {\r\n        var genericWarningPopup = this.state.doShowWarningPopup ? (React.createElement(GenericDialog, { content: this._warningMessagePopupHelper.warningPopupContent, header: this._warningMessagePopupHelper.warningPopupTitle, displayPopup: this.state.doShowWarningPopup, okButtonText: this.props.buttonText, onOkClick: this.onOkButtonClick, id: this.props.id, key: this.props.id, popupDialogType: enums.PopupDialogType.none })) : null;\r\n        return (React.createElement(\"div\", null, genericWarningPopup));\r\n    };\r\n    /**\r\n     * Component did mount\r\n     */\r\n    WarningMessagePopup.prototype.componentDidMount = function () {\r\n        this.addEventListeners();\r\n    };\r\n    /**\r\n     * Component will unmount\r\n     */\r\n    WarningMessagePopup.prototype.componentWillUnmount = function () {\r\n        this.removeEventListeners();\r\n    };\r\n    /**\r\n     * Add all event listeners for warning message.\r\n     */\r\n    WarningMessagePopup.prototype.addEventListeners = function () {\r\n        warningMessageStore.instance.addListener(warningMessageStore.WarningMessageStore.WARNING_MESSAGE_EVENT, this.handleWarningMessageActions);\r\n    };\r\n    /**\r\n     * Remove all event listeners for warning message.\r\n     */\r\n    WarningMessagePopup.prototype.removeEventListeners = function () {\r\n        warningMessageStore.instance.removeListener(warningMessageStore.WarningMessageStore.WARNING_MESSAGE_EVENT, this.handleWarningMessageActions);\r\n    };\r\n    /**\r\n     * Ok button click event to handle the failure action navigation.\r\n     */\r\n    WarningMessagePopup.prototype.onOkButtonClick = function () {\r\n        if (this.failureCode === enums.FailureCode.Withdrawn) {\r\n            if (qigStore.instance.selectedQIGForMarkerOperation) {\r\n                teamManagementActionCreator.removeHistoryItem(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n            }\r\n        }\r\n        teamManagementActionCreator.warningMessageNavigation(this.failureCode, this.warningMessageAction);\r\n        this.setState({ doShowWarningPopup: false });\r\n    };\r\n    return WarningMessagePopup;\r\n}(pureRenderComponent));\r\nmodule.exports = WarningMessagePopup;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdGVhbW1hbmFnZW1lbnQvd2FybmluZ21lc3NhZ2Vwb3B1cC50c3g/Zjk2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBHZW5lcmljRGlhbG9nID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9nZW5lcmljZGlhbG9nJyk7XHJcbmltcG9ydCB3YXJuaW5nTWVzc2FnZVBvcHVwSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS90ZWFtbWFuYWdlbWVudC9oZWxwZXJzL3dhcm5pbmdtZXNzYWdlcG9wdXBoZWxwZXInKTtcclxuaW1wb3J0IHdhcm5pbmdNZXNzYWdlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvdGVhbW1hbmFnZW1lbnQvd2FybmluZ21lc3NhZ2VzdG9yZScpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudGFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgYnV0dG9uVGV4dDogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU3RhdGUge1xyXG4gICAgZG9TaG93V2FybmluZ1BvcHVwPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFdhcm5pbmdNZXNzYWdlUG9wdXAgY29udGFpbiBtZXNzYWdlIGNvbnRlbnQgYW5kIG9rIGJ1dHRvbi5cclxuICogQHBhcmFtIHByb3BzXHJcbiAqIEBwYXJhbSBzdGF0ZVxyXG4gKi9cclxuY2xhc3MgV2FybmluZ01lc3NhZ2VQb3B1cCBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XHJcblxyXG4gICAgLy9XYXJuaW5nIG1lc3NhZ2UgcG9wdXAgaGVscGVyXHJcbiAgICBwcml2YXRlIF93YXJuaW5nTWVzc2FnZVBvcHVwSGVscGVyOiB3YXJuaW5nTWVzc2FnZVBvcHVwSGVscGVyO1xyXG5cclxuICAgIC8vRmFpbHVyZSBjb2RlXHJcbiAgICBwcml2YXRlIGZhaWx1cmVDb2RlOiBlbnVtcy5GYWlsdXJlQ29kZTtcclxuXHJcbiAgICAvL1dhcm5pZyBtZXNzYWdlIGFjdGlvblxyXG4gICAgcHJpdmF0ZSB3YXJuaW5nTWVzc2FnZUFjdGlvbjogZW51bXMuV2FybmluZ01lc3NhZ2VBY3Rpb247XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBXYXJuaW5nTWVzc2FnZVBvcHVwXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBTdGF0ZSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgZGVmYXVsdCBzdGF0ZXNcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBkb1Nob3dXYXJuaW5nUG9wdXA6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5fd2FybmluZ01lc3NhZ2VQb3B1cEhlbHBlciA9IG5ldyB3YXJuaW5nTWVzc2FnZVBvcHVwSGVscGVyKCk7XHJcbiAgICAgICAgdGhpcy5vbk9rQnV0dG9uQ2xpY2sgPSB0aGlzLm9uT2tCdXR0b25DbGljay5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IGdlbmVyaWNXYXJuaW5nUG9wdXAgPSB0aGlzLnN0YXRlLmRvU2hvd1dhcm5pbmdQb3B1cCA/IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuX3dhcm5pbmdNZXNzYWdlUG9wdXBIZWxwZXIud2FybmluZ1BvcHVwQ29udGVudH1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17dGhpcy5fd2FybmluZ01lc3NhZ2VQb3B1cEhlbHBlci53YXJuaW5nUG9wdXBUaXRsZX1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5kb1Nob3dXYXJuaW5nUG9wdXB9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e3RoaXMucHJvcHMuYnV0dG9uVGV4dCB9XHJcbiAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25Pa0J1dHRvbkNsaWNrfVxyXG4gICAgICAgICAgICAgICAgaWQ9IHt0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAga2V5PXt0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUubm9uZX0gLz5cclxuICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuICg8ZGl2PlxyXG4gICAgICAgICAgICB7Z2VuZXJpY1dhcm5pbmdQb3B1cH1cclxuICAgICAgICA8L2Rpdj4pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcG9uZW50IGRpZCBtb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcG9uZW50IHdpbGwgdW5tb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGFsbCBldmVudCBsaXN0ZW5lcnMgZm9yIHdhcm5pbmcgbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhZGRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB3YXJuaW5nTWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB3YXJuaW5nTWVzc2FnZVN0b3JlLldhcm5pbmdNZXNzYWdlU3RvcmUuV0FSTklOR19NRVNTQUdFX0VWRU5ULCB0aGlzLmhhbmRsZVdhcm5pbmdNZXNzYWdlQWN0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYWxsIGV2ZW50IGxpc3RlbmVycyBmb3Igd2FybmluZyBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHdhcm5pbmdNZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHdhcm5pbmdNZXNzYWdlU3RvcmUuV2FybmluZ01lc3NhZ2VTdG9yZS5XQVJOSU5HX01FU1NBR0VfRVZFTlQsIHRoaXMuaGFuZGxlV2FybmluZ01lc3NhZ2VBY3Rpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBoYW5kbGUgdGhlIHdhcm5pbmcgbWVzc2FnZSBhY3Rpb25zLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGhhbmRsZVdhcm5pbmdNZXNzYWdlQWN0aW9ucyA9IChmYWlsdXJlQ29kZTogZW51bXMuRmFpbHVyZUNvZGUsXHJcbiAgICAgICAgd2FybmluZ01lc3NhZ2VBY3Rpb246IGVudW1zLldhcm5pbmdNZXNzYWdlQWN0aW9uLCBhcmdzPzogYW55KTogdm9pZCA9PiB7XHJcblxyXG4gICAgICAgIHRoaXMuZmFpbHVyZUNvZGUgPSBmYWlsdXJlQ29kZTtcclxuICAgICAgICB0aGlzLndhcm5pbmdNZXNzYWdlQWN0aW9uID0gd2FybmluZ01lc3NhZ2VBY3Rpb247XHJcbiAgICAgICAgdGhpcy5fd2FybmluZ01lc3NhZ2VQb3B1cEhlbHBlci5iaW5kV2FybmluZ01lc3NhZ2VQb3B1cENvbnRlbnQoZmFpbHVyZUNvZGUpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93V2FybmluZ1BvcHVwOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT2sgYnV0dG9uIGNsaWNrIGV2ZW50IHRvIGhhbmRsZSB0aGUgZmFpbHVyZSBhY3Rpb24gbmF2aWdhdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk9rQnV0dG9uQ2xpY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmFpbHVyZUNvZGUgPT09IGVudW1zLkZhaWx1cmVDb2RlLldpdGhkcmF3bil7XHJcbiAgICAgICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbikge1xyXG5cdFx0XHRcdHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvci5yZW1vdmVIaXN0b3J5SXRlbShcclxuXHRcdFx0XHRcdHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG4gICAgICAgIH1cclxuICAgICAgICB0ZWFtTWFuYWdlbWVudEFjdGlvbkNyZWF0b3Iud2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uKFxyXG4gICAgICAgICAgICB0aGlzLmZhaWx1cmVDb2RlLCB0aGlzLndhcm5pbmdNZXNzYWdlQWN0aW9uKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93V2FybmluZ1BvcHVwOiBmYWxzZSB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gV2FybmluZ01lc3NhZ2VQb3B1cDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdGVhbW1hbmFnZW1lbnQvd2FybmluZ21lc3NhZ2Vwb3B1cC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBOzs7O0FBSUE7QUFDQTtBQUFBO0FBV0E7Ozs7QUFJQTtBQUNBO0FBQUE7QUFnRUE7O0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUF4RUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQVlBO0FBR0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQWVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 409:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/components/utility/genericcheckboxitems.ts ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Check Box Items\r\n */\r\nvar GenericCheckBoxItems = /** @class */ (function () {\r\n    function GenericCheckBoxItems() {\r\n    }\r\n    return GenericCheckBoxItems;\r\n}());\r\nmodule.exports = GenericCheckBoxItems;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9nZW5lcmljY2hlY2tib3hpdGVtcy50cz9hMTdhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDaGVjayBCb3ggSXRlbXNcclxuICovXHJcbmNsYXNzIEdlbmVyaWNDaGVja0JveEl0ZW1zIHtcclxuXHRwdWJsaWMgbGFiZWxDb250ZW50OiBzdHJpbmc7XHJcblx0cHVibGljIGlkOiBudW1iZXI7XHJcblx0cHVibGljIGlzQ2hlY2tlZDogYm9vbGVhbjtcclxuXHRwdWJsaWMgZGlzYWJsZWQ6IGJvb2xlYW47XHJcblx0cHVibGljIGNsYXNzTmFtZT86IHN0cmluZztcclxuXHRwdWJsaWMgbGFiZWxDbGFzc05hbWU/OiBzdHJpbmc7XHJcblx0cHVibGljIGNvbnRhaW5lckNsYXNzTmFtZT86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0ID0gR2VuZXJpY0NoZWNrQm94SXRlbXM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ2VuZXJpY2NoZWNrYm94aXRlbXMudHMiXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQUE7QUFRQTtBQUFBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 410:
/* no static exports found */
/* all exports used */
/*!***************************************************************!*\
  !*** ./src/components/utility/genericpopupwithcheckboxes.tsx ***!
  \***************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar _this = this;\r\n/*\r\n  React component for Generic button.\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar GenericCheckbox = __webpack_require__(/*! ../utility/genericcheckbox */ 361);\r\n/**\r\n * React component class for Generic popup with check boxes implementation.\r\n */\r\nvar genericPopupWithCheckBoxes = function (props) {\r\n    var that = _this;\r\n    var toRender = (React.createElement(\"div\", { id: props.id, key: 'key_checkbox_genericpopup', className: props.className }, props.items && props.items.map(function (item) {\r\n        return React.createElement(GenericCheckbox, { id: 'checkbox_genericpopup_' + item.id, key: 'checkbox_genericpopup_key' + item.id, containerClassName: item.containerClassName, className: item.className, disabled: item.disabled, isChecked: item.isChecked, labelClassName: item.labelClassName, labelContent: item.labelContent, onSelectionChange: props.onChecked.bind(that, item) });\r\n    })));\r\n    return toRender;\r\n};\r\nmodule.exports = genericPopupWithCheckBoxes;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9nZW5lcmljcG9wdXB3aXRoY2hlY2tib3hlcy50c3g/ZTc4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gIFJlYWN0IGNvbXBvbmVudCBmb3IgR2VuZXJpYyBidXR0b24uXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IGdlbmVyaWNDaGVja0JveEl0ZW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9nZW5lcmljY2hlY2tib3hpdGVtcycpO1xyXG5pbXBvcnQgR2VuZXJpY0NoZWNrYm94ID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9nZW5lcmljY2hlY2tib3gnKTtcclxuXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG5cdGNsYXNzTmFtZT86IHN0cmluZztcclxuXHRvbkNoZWNrZWQ/OiBGdW5jdGlvbjtcclxuXHRpdGVtcz86IEFycmF5PGdlbmVyaWNDaGVja0JveEl0ZW1zPjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudCBjbGFzcyBmb3IgR2VuZXJpYyBwb3B1cCB3aXRoIGNoZWNrIGJveGVzIGltcGxlbWVudGF0aW9uLlxyXG4gKi9cclxuY29uc3QgZ2VuZXJpY1BvcHVwV2l0aENoZWNrQm94ZXM6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxQcm9wcz4gPSAocHJvcHM6IFByb3BzKSA9PiB7XHJcblx0bGV0IHRoYXQgPSB0aGlzO1xyXG5cdGxldCB0b1JlbmRlciA9ICg8ZGl2IGlkPXtwcm9wcy5pZH0ga2V5PSdrZXlfY2hlY2tib3hfZ2VuZXJpY3BvcHVwJyBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gPlxyXG5cdFx0e1xyXG5cdFx0XHRwcm9wcy5pdGVtcyAmJiBwcm9wcy5pdGVtcy5tYXAoKGl0ZW06IGdlbmVyaWNDaGVja0JveEl0ZW1zKSA9PlxyXG5cdFx0XHRcdDxHZW5lcmljQ2hlY2tib3hcclxuXHRcdFx0XHRcdGlkPXsnY2hlY2tib3hfZ2VuZXJpY3BvcHVwXycgKyBpdGVtLmlkfVxyXG5cdFx0XHRcdFx0a2V5PXsnY2hlY2tib3hfZ2VuZXJpY3BvcHVwX2tleScgKyBpdGVtLmlkfVxyXG5cdFx0XHRcdFx0Y29udGFpbmVyQ2xhc3NOYW1lPXtpdGVtLmNvbnRhaW5lckNsYXNzTmFtZX1cclxuXHRcdFx0XHRcdGNsYXNzTmFtZT17aXRlbS5jbGFzc05hbWV9XHJcblx0XHRcdFx0XHRkaXNhYmxlZD17aXRlbS5kaXNhYmxlZH1cclxuXHRcdFx0XHRcdGlzQ2hlY2tlZD17aXRlbS5pc0NoZWNrZWR9XHJcblx0XHRcdFx0XHRsYWJlbENsYXNzTmFtZT17aXRlbS5sYWJlbENsYXNzTmFtZX1cclxuXHRcdFx0XHRcdGxhYmVsQ29udGVudD17aXRlbS5sYWJlbENvbnRlbnR9XHJcblx0XHRcdFx0XHRvblNlbGVjdGlvbkNoYW5nZT17cHJvcHMub25DaGVja2VkLmJpbmQodGhhdCwgaXRlbSl9IC8+XHJcblx0XHRcdClcclxuXHRcdH1cclxuXHQ8L2Rpdj4pO1xyXG5cclxuXHRyZXR1cm4gdG9SZW5kZXI7XHJcbn07XHJcblxyXG5leHBvcnQgPSBnZW5lcmljUG9wdXBXaXRoQ2hlY2tCb3hlcztcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ2VuZXJpY3BvcHVwd2l0aGNoZWNrYm94ZXMudHN4Il0sIm1hcHBpbmdzIjoiO0FBSUE7QUFKQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQVNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQWNBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 411:
/* no static exports found */
/* all exports used */
/*!*************************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetuphelpers/classifiedhelper.ts ***!
  \*************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar jsonRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar standardisationSetupHelperBase = __webpack_require__(/*! ./standardisationsetuphelperbase */ 292);\r\nvar standardisationSetupGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/standardisationsetupgridcolumns.json */ 273);\r\n/**\r\n * Helper class for Classified grid view\r\n */\r\nvar ClassifiedHelper = /** @class */ (function (_super) {\r\n    __extends(ClassifiedHelper, _super);\r\n    function ClassifiedHelper() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        // Get the worklists that should be hide when the Standardisation Permission CC Configured.\r\n        _this._hiddenStdWorklists = standardisationSetupStore.instance.getHiddenWorklists();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Generate row definition for myTeam and Help other examiners tab\r\n     * @param classifedResponseData\r\n     * @param tabSelection\r\n     * @param gridType\r\n     */\r\n    ClassifiedHelper.prototype.generateStandardisationRowDefinion = function (comparerName, sortDirection, tabSelection, gridType) {\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = this.getRowDefinition(tabSelection, gridType);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Returns the row definition for classifed worklist\r\n     * @param tabSelection\r\n     * @param gridType\r\n     */\r\n    ClassifiedHelper.prototype.getRowDefinition = function (tabSelection, gridType) {\r\n        var index = 0;\r\n        var _classifiedRowCollection = Array();\r\n        var _classifiedRowHeaderCellcollection = Array();\r\n        var _classifiedResponseListData;\r\n        var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, tabSelection, false, gridType);\r\n        var _stdSetupResponseDetails = standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses;\r\n        var marksCount = Immutable.List(_stdSetupResponseDetails).count() > 0 && _stdSetupResponseDetails.first().standardisationMarks ?\r\n            Immutable.List(_stdSetupResponseDetails.first().standardisationMarks).count() : 0;\r\n        // 1. PRACTICE\r\n        // Add response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists &&\r\n                !this._hiddenStdWorklists.contains(enums.MarkingMode.Practice))) {\r\n            // Creating the grid row collection.\r\n            _classifiedRowCollection.push(this.getGridRow('2', this.getEmptyRows(gridColumns, marksCount, gridType), null, 'classify-items-row'));\r\n            // Sort Response based on  rig order.\r\n            _classifiedResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Practice);\r\n            // Check whether data exist, if not add empty row.\r\n            if (_classifiedResponseListData.count() > 0) {\r\n                _classifiedRowCollection =\r\n                    _classifiedRowCollection.concat(this.getRowData(_classifiedResponseListData, gridColumns, gridType, index, enums.StandardisationSetup.ClassifiedResponse));\r\n                index = index + _classifiedResponseListData.count();\r\n            }\r\n            else {\r\n                _classifiedRowCollection.push(this.getGridRow('2', this.getEmptyRows(gridColumns, marksCount, gridType), undefined, 'placeholder-row'));\r\n            }\r\n        }\r\n        // 2. APPROVAL\r\n        // Add response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists &&\r\n                !this._hiddenStdWorklists.contains(enums.MarkingMode.Approval))) {\r\n            // Creating the grid row collection.\r\n            _classifiedRowCollection.push(this.getGridRow('3', this.getEmptyRows(gridColumns, marksCount, gridType), null, 'classify-items-row'));\r\n            // Sort Response based on  rig order.\r\n            _classifiedResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Approval);\r\n            // Check whether data exist, if not add empty row.\r\n            if (_classifiedResponseListData.count() > 0) {\r\n                _classifiedRowCollection =\r\n                    _classifiedRowCollection.concat(this.getRowData(_classifiedResponseListData, gridColumns, gridType, index, enums.StandardisationSetup.ClassifiedResponse));\r\n                index = index + _classifiedResponseListData.count();\r\n            }\r\n            else {\r\n                _classifiedRowCollection.push(this.getGridRow('3', this.getEmptyRows(gridColumns, marksCount, gridType), undefined, 'placeholder-row'));\r\n            }\r\n        }\r\n        // 3. ES TEAM APPROVAL\r\n        // Add response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists &&\r\n                !this._hiddenStdWorklists.contains(enums.MarkingMode.ES_TeamApproval))) {\r\n            // Creating the grid row collection.\r\n            _classifiedRowCollection.push(this.getGridRow('4', this.getEmptyRows(gridColumns, marksCount, gridType), null, 'classify-items-row'));\r\n            // Sort Response based on  rig order.\r\n            _classifiedResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.ES_TeamApproval);\r\n            // Check whether data exist, if not add empty row.\r\n            if (_classifiedResponseListData.count() > 0) {\r\n                _classifiedRowCollection =\r\n                    _classifiedRowCollection.concat(this.getRowData(_classifiedResponseListData, gridColumns, gridType, index, enums.StandardisationSetup.ClassifiedResponse));\r\n                index = index + _classifiedResponseListData.count();\r\n            }\r\n            else {\r\n                _classifiedRowCollection.push(this.getGridRow('4', this.getEmptyRows(gridColumns, marksCount, gridType), undefined, 'placeholder-row'));\r\n            }\r\n        }\r\n        // 4. SEED\r\n        // Add response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists &&\r\n                !this._hiddenStdWorklists.contains(enums.MarkingMode.Seeding))) {\r\n            // Creating the grid row collection.\r\n            _classifiedRowCollection.push(this.getGridRow('70', this.getEmptyRows(gridColumns, marksCount, gridType), null, 'classify-items-row'));\r\n            // Sort Response based on  rig order.\r\n            _classifiedResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Seeding);\r\n            // Check whether data exist, if not add empty row.\r\n            if (_classifiedResponseListData.count() > 0) {\r\n                _classifiedRowCollection =\r\n                    _classifiedRowCollection.concat(this.getRowData(_classifiedResponseListData, gridColumns, gridType, index, enums.StandardisationSetup.ClassifiedResponse));\r\n                index = index + _classifiedResponseListData.count();\r\n            }\r\n            else {\r\n                _classifiedRowCollection.push(this.getGridRow('70', this.getEmptyRows(gridColumns, marksCount, gridType), undefined, 'placeholder-row'));\r\n            }\r\n        }\r\n        // Return the complete row collection.\r\n        this._classifiedListCollection = Immutable.fromJS(_classifiedRowCollection);\r\n        return this._classifiedListCollection;\r\n    };\r\n    /**\r\n     * generateStandardisationFrozenRowBody is used for generating row collection for STD WorkList Grid\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    ClassifiedHelper.prototype.generateStandardisationFrozenRowBody = function (comparerName, sortDirection, standardisationSetupType, gridType) {\r\n        // Get frozen column collection.\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        // Get the Frozen row body for STD Worklist\r\n        var _stdWorkListFrozenRowBodyCollection = this.getFrozenRowBody(standardisationSetupType, gridType);\r\n        return _stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Method for getting the frozen row body for STD worklist\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    ClassifiedHelper.prototype.getFrozenRowBody = function (standardisationSetupType, gridType) {\r\n        var index = 0;\r\n        var _stdWorkListRowHeaderCellcollection = Array();\r\n        var _stdWorkListRowCollection = Array();\r\n        var _stdWorkListCell;\r\n        var _stdResponseListData;\r\n        var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, enums.StandardisationSetup.ClassifiedResponse, true, gridType);\r\n        // Flag to check whether target exceeded.\r\n        var overClassified = false;\r\n        // 1. PRACTICE\r\n        // Add practice response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists && !this._hiddenStdWorklists.contains(enums.MarkingMode.Practice))) {\r\n            // Sort Response based on Rig order.\r\n            _stdResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Practice).toArray();\r\n            _stdWorkListRowHeaderCellcollection = new Array();\r\n            // Add Empty banner for Practice\r\n            _stdWorkListRowCollection.push(this.getFrozenEmptyBannerForClassificationType(enums.MarkingMode.Practice));\r\n            if (_stdResponseListData.length > 0) {\r\n                // Loop through response details.\r\n                for (var pracResponseCount = 0; pracResponseCount < _stdResponseListData.length; pracResponseCount++) {\r\n                    // Getting the std worklist data row     \r\n                    var stdResponseData = _stdResponseListData[pracResponseCount];\r\n                    // Check whetehr the classifcation type exceeded the current target,\r\n                    // and Practice available in restricted target.\r\n                    // if so highlight the exceeded last rows with amber color.\r\n                    overClassified =\r\n                        this.isSSUTargetsOverClassified(standardisationSetupType, enums.MarkingMode.Practice, stdResponseData.rigOrder);\r\n                    // Creating the table row collection.\r\n                    _stdWorkListRowCollection.push(this.getFrozenRowData(stdResponseData, gridType, gridColumns, index, overClassified));\r\n                    index++;\r\n                }\r\n            }\r\n            else {\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n                    _stdWorkListCell = new gridCell();\r\n                    var cellStyle = gridColumns[gridColumnCount].GridColumn === 'ResponseIdColumn' ?\r\n                        'col-response header-col' : 'col-std-classify-items header-col';\r\n                    _stdWorkListCell.setCellStyle(cellStyle);\r\n                    _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                }\r\n                // Creating the table row collection.\r\n                _stdWorkListRowCollection.push(this.getGridRow('2', _stdWorkListRowHeaderCellcollection, undefined, 'placeholder-row'));\r\n            }\r\n            // Reset to false.\r\n            overClassified = false;\r\n        }\r\n        // 2. APPROVAL\r\n        // Add standardisation response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists && !this._hiddenStdWorklists.contains(enums.MarkingMode.Approval))) {\r\n            // Sort Response based on Rig order.\r\n            _stdResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Approval).toArray();\r\n            _stdWorkListRowHeaderCellcollection = new Array();\r\n            // Add Empty banner for Approval\r\n            _stdWorkListRowCollection.push(this.getFrozenEmptyBannerForClassificationType(enums.MarkingMode.Approval));\r\n            if (_stdResponseListData.length > 0) {\r\n                // Loop through response details.\r\n                for (var approvalResponseCount = 0; approvalResponseCount < _stdResponseListData.length; approvalResponseCount++) {\r\n                    // Getting the std worklist data row     \r\n                    var stdResponseData = _stdResponseListData[approvalResponseCount];\r\n                    // Check whetehr the classifcation type exceeded the current target,\r\n                    // and Standardisation available in restricted target.\r\n                    // if so highlight the exceeded last rows with amber color.\r\n                    overClassified =\r\n                        this.isSSUTargetsOverClassified(standardisationSetupType, enums.MarkingMode.Approval, stdResponseData.rigOrder);\r\n                    // Creating the table row collection.\r\n                    _stdWorkListRowCollection.push(this.getFrozenRowData(stdResponseData, gridType, gridColumns, index, overClassified));\r\n                    index++;\r\n                }\r\n            }\r\n            else {\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n                    _stdWorkListCell = new gridCell();\r\n                    var cellStyle = gridColumns[gridColumnCount].GridColumn === 'ResponseIdColumn' ?\r\n                        'col-response header-col' : 'col-std-classify-items header-col';\r\n                    _stdWorkListCell.setCellStyle(cellStyle);\r\n                    _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                }\r\n                // Creating the table row collection.\r\n                _stdWorkListRowCollection.push(this.getGridRow('3', _stdWorkListRowHeaderCellcollection, undefined, 'placeholder-row'));\r\n            }\r\n            // Reset to false.\r\n            overClassified = false;\r\n        }\r\n        // 3. ES TEAM APPROVAL\r\n        // Add STM standardisation response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists && !this._hiddenStdWorklists.contains(enums.MarkingMode.ES_TeamApproval))) {\r\n            // Sort Response based on Rig order.\r\n            _stdResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.ES_TeamApproval)\r\n                    .toArray();\r\n            _stdWorkListRowHeaderCellcollection = new Array();\r\n            // Add Empty banner for ES_TeamApproval\r\n            _stdWorkListRowCollection.push(this.getFrozenEmptyBannerForClassificationType(enums.MarkingMode.ES_TeamApproval));\r\n            if (_stdResponseListData.length > 0) {\r\n                // Loop through response details.\r\n                for (var esTeamResponseCount = 0; esTeamResponseCount < _stdResponseListData.length; esTeamResponseCount++) {\r\n                    // Getting the std worklist data row     \r\n                    var stdResponseData = _stdResponseListData[esTeamResponseCount];\r\n                    // Check whetehr the classifcation type exceeded the current target,\r\n                    // and STM Standardisation available in restricted target.\r\n                    // if so highlight the exceeded last rows with amber color.\r\n                    overClassified =\r\n                        this.isSSUTargetsOverClassified(standardisationSetupType, enums.MarkingMode.ES_TeamApproval, stdResponseData.rigOrder);\r\n                    // Creating the table row collection.\r\n                    _stdWorkListRowCollection.push(this.getFrozenRowData(stdResponseData, gridType, gridColumns, index, overClassified));\r\n                    index++;\r\n                }\r\n            }\r\n            else {\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n                    _stdWorkListCell = new gridCell();\r\n                    var cellStyle = gridColumns[gridColumnCount].GridColumn === 'ResponseIdColumn' ?\r\n                        'col-response header-col' : 'col-std-classify-items header-col';\r\n                    _stdWorkListCell.setCellStyle(cellStyle);\r\n                    _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                }\r\n                // Creating the table row collection.\r\n                _stdWorkListRowCollection.push(this.getGridRow('4', _stdWorkListRowHeaderCellcollection, undefined, 'placeholder-row'));\r\n            }\r\n            // Reset to false.\r\n            overClassified = false;\r\n        }\r\n        // 4. SEED\r\n        // Add Seed response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists && !this._hiddenStdWorklists.contains(enums.MarkingMode.Seeding))) {\r\n            _stdResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Seeding).toArray();\r\n            _stdWorkListRowHeaderCellcollection = new Array();\r\n            // Add Empty banner for Seeding\r\n            _stdWorkListRowCollection.push(this.getFrozenEmptyBannerForClassificationType(enums.MarkingMode.Seeding));\r\n            if (_stdResponseListData.length > 0) {\r\n                // Loop through response details.\r\n                for (var seedResponseCount = 0; seedResponseCount < _stdResponseListData.length; seedResponseCount++) {\r\n                    // Getting the std worklist data row     \r\n                    var stdResponseData = _stdResponseListData[seedResponseCount];\r\n                    // Creating the table row collection.\r\n                    _stdWorkListRowCollection.push(this.getFrozenRowData(stdResponseData, gridType, gridColumns, index, false));\r\n                    index++;\r\n                }\r\n            }\r\n            else {\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n                    _stdWorkListCell = new gridCell();\r\n                    var cellStyle = gridColumns[gridColumnCount].GridColumn === 'ResponseIdColumn' ?\r\n                        'col-response header-col' : 'col-std-classify-items header-col';\r\n                    _stdWorkListCell.setCellStyle(cellStyle);\r\n                    _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                }\r\n                // Creating the table row collection.\r\n                _stdWorkListRowCollection.push(this.getGridRow('70', _stdWorkListRowHeaderCellcollection, undefined, 'placeholder-row'));\r\n            }\r\n            // Reset to false.\r\n            overClassified = false;\r\n        }\r\n        // Return the complete row collection.\r\n        var _stdWorkListFrozenRowBodyCollection = Immutable.fromJS(_stdWorkListRowCollection);\r\n        return _stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Method to create empty banner for Different classification Type.\r\n     * @param classificationType\r\n     */\r\n    ClassifiedHelper.prototype.getFrozenEmptyBannerForClassificationType = function (classificationType) {\r\n        var className;\r\n        var _stdWorkListCell;\r\n        var key;\r\n        var _stdWorkListRowHeaderCellcollection = new Array();\r\n        // Go through classification Type and create corresponding Banner.\r\n        switch (classificationType) {\r\n            case enums.MarkingMode.Practice:\r\n                _stdWorkListCell = new gridCell();\r\n                key = 'Empty_Banner_Practice';\r\n                className = 'header-data classify-item-text dark-link';\r\n                _stdWorkListCell.columnElement = this.getRIGOrderColumnElement(key, className, classificationType, undefined);\r\n                break;\r\n            case enums.MarkingMode.Approval:\r\n                _stdWorkListCell = new gridCell();\r\n                key = 'Empty_Banner_Standardisation';\r\n                className = 'header-data classify-item-text dark-link';\r\n                _stdWorkListCell.columnElement = this.getRIGOrderColumnElement(key, className, classificationType, undefined);\r\n                break;\r\n            case enums.MarkingMode.ES_TeamApproval:\r\n                _stdWorkListCell = new gridCell();\r\n                key = 'Empty_Banner_STM_Standardisation';\r\n                className = 'header-data classify-item-text dark-link';\r\n                _stdWorkListCell.columnElement = this.getRIGOrderColumnElement(key, className, classificationType, undefined);\r\n                break;\r\n            case enums.MarkingMode.Seeding:\r\n                _stdWorkListCell = new gridCell();\r\n                key = 'Empty_Banner_Seed';\r\n                className = 'header-data classify-item-text dark-link';\r\n                _stdWorkListCell.columnElement = this.getRIGOrderColumnElement(key, className, classificationType, undefined);\r\n                break;\r\n        }\r\n        _stdWorkListCell.setCellStyle('col-std-classify-items header-col');\r\n        _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n        // Logic to create empty frozen column for Practice/Seed/STM/Qualifcation Labels.\r\n        var emptygridCell;\r\n        emptygridCell = new gridCell();\r\n        emptygridCell.setCellStyle('col-response header-col');\r\n        _stdWorkListRowHeaderCellcollection.push(emptygridCell);\r\n        var cssClass = 'classify-items-row';\r\n        // Creating the table row collection.\r\n        return this.getGridRow(classificationType.toString(), _stdWorkListRowHeaderCellcollection, undefined, cssClass);\r\n    };\r\n    /**\r\n     * Get Unfrozen Empty Rows for Practice/Approval/STD.. Banners.\r\n     * @param gridColumns\r\n     * @param noOfQuestions\r\n     */\r\n    ClassifiedHelper.prototype.getEmptyRows = function (gridColumns, noOfQuestions, gridType) {\r\n        var _classifiedCell;\r\n        var _classifiedRowHeaderCellcollection = new Array();\r\n        // Create cells for Columns returned from JSON File.\r\n        for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n            _classifiedCell = new gridCell();\r\n            var cellStyle = gridColumns[gridColumnCount].CssClass ? gridColumns[gridColumnCount].CssClass : '';\r\n            _classifiedCell.setCellStyle(cellStyle);\r\n            _classifiedRowHeaderCellcollection.push(_classifiedCell);\r\n        }\r\n        // Create cells for individual questions.\r\n        for (var gridColumnCount = 0; gridColumnCount < noOfQuestions; gridColumnCount++) {\r\n            _classifiedCell = new gridCell();\r\n            var cellStyle = 'col-question-item';\r\n            _classifiedCell.setCellStyle(cellStyle);\r\n            _classifiedRowHeaderCellcollection.push(_classifiedCell);\r\n        }\r\n        if (gridType === enums.GridType.markByQuestion) {\r\n            //Adding the 'last-cell' column as this column is not added to classified worklst by default\r\n            _classifiedCell = new gridCell();\r\n            var cellStyle = 'last-cell';\r\n            _classifiedCell.setCellStyle(cellStyle);\r\n            _classifiedRowHeaderCellcollection.push(_classifiedCell);\r\n        }\r\n        // return the cell Collection.\r\n        return _classifiedRowHeaderCellcollection;\r\n    };\r\n    return ClassifiedHelper;\r\n}(standardisationSetupHelperBase));\r\nmodule.exports = ClassifiedHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDExLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy9jbGFzc2lmaWVkaGVscGVyLnRzPzM3YTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vZW51bXMnKTtcclxuaW1wb3J0IGdyaWRSb3cgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZHJvdycpO1xyXG5pbXBvcnQgZ3JpZENvbHVtbk5hbWVzID0gcmVxdWlyZSgnLi4vZ3JpZGNvbHVtbm5hbWVzJyk7XHJcbmltcG9ydCBncmlkQ2VsbCA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9ncmlkY2VsbCcpO1xyXG5pbXBvcnQganNvblJlZlJlc29sdmVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9qc29ucmVmcmVzb2x2ZXIvam9zbnJlZnJlc29sdmVyJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IEdlbmVyaWNUZXh0Q29sdW1uID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL2dlbmVyaWN0ZXh0Y29sdW1uJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IHN0ZFNldHVwUGVybWlzc2lvbkhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uc2V0dXBwZXJtaXNzaW9uaGVscGVyJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cHN0b3JlJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cEhlbHBlckJhc2UgPSByZXF1aXJlKCcuL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVyYmFzZScpO1xyXG5sZXQgc3RhbmRhcmRpc2F0aW9uU2V0dXBHcmlkQ29sdW1uc0pzb24gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBncmlkY29sdW1ucy5qc29uJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25UYXJnZXREZXRhaWwgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvdHlwaW5ncy9zdGFuZGFyZGlzYXRpb250YXJnZXRkZXRhaWwnKTtcclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgY2xhc3MgZm9yIENsYXNzaWZpZWQgZ3JpZCB2aWV3XHJcbiAqL1xyXG5jbGFzcyBDbGFzc2lmaWVkSGVscGVyIGV4dGVuZHMgc3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXJCYXNlIHtcclxuXHJcbiAgICAvLyBHZXQgdGhlIHdvcmtsaXN0cyB0aGF0IHNob3VsZCBiZSBoaWRlIHdoZW4gdGhlIFN0YW5kYXJkaXNhdGlvbiBQZXJtaXNzaW9uIENDIENvbmZpZ3VyZWQuXHJcbiAgICBwcml2YXRlIF9oaWRkZW5TdGRXb3JrbGlzdHM6IEltbXV0YWJsZS5MaXN0PGVudW1zLk1hcmtpbmdNb2RlPiA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZ2V0SGlkZGVuV29ya2xpc3RzKCk7XHJcblxyXG4gICAgLyogR3JpZCByb3dzIGNvbGxlY3Rpb24gKi9cclxuICAgIHB1YmxpYyBfY2xhc3NpZmllZExpc3RDb2xsZWN0aW9uOiBJbW11dGFibGUuTGlzdDxncmlkUm93PjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIHJvdyBkZWZpbml0aW9uIGZvciBteVRlYW0gYW5kIEhlbHAgb3RoZXIgZXhhbWluZXJzIHRhYlxyXG4gICAgICogQHBhcmFtIGNsYXNzaWZlZFJlc3BvbnNlRGF0YSBcclxuICAgICAqIEBwYXJhbSB0YWJTZWxlY3Rpb24gXHJcbiAgICAgKiBAcGFyYW0gZ3JpZFR5cGUgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZVN0YW5kYXJkaXNhdGlvblJvd0RlZmluaW9uKGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxyXG4gICAgICAgIHRhYlNlbGVjdGlvbjogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4oKTtcclxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0ganNvblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHN0YW5kYXJkaXNhdGlvblNldHVwR3JpZENvbHVtbnNKc29uKTtcclxuICAgICAgICB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pdGlvbih0YWJTZWxlY3Rpb24sIGdyaWRUeXBlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgdGhlIHJvdyBkZWZpbml0aW9uIGZvciBjbGFzc2lmZWQgd29ya2xpc3RcclxuXHQgKiBAcGFyYW0gdGFiU2VsZWN0aW9uIFxyXG5cdCAqIEBwYXJhbSBncmlkVHlwZVxyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbml0aW9uKHRhYlNlbGVjdGlvbjogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBpbmRleDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX2NsYXNzaWZpZWRSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGE6IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz47XHJcbiAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5nZXRHcmlkQ29sdW1ucyh0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLCB0YWJTZWxlY3Rpb24sXHJcbiAgICAgICAgICAgIGZhbHNlLCBncmlkVHlwZSk7XHJcbiAgICAgICAgbGV0IF9zdGRTZXR1cFJlc3BvbnNlRGV0YWlsczogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPiA9XHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RhbmRhcmRpc2F0aW9uU2V0VXBSZXNwb25zZWRldGFpbHMuc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzO1xyXG5cclxuICAgICAgICBsZXQgbWFya3NDb3VudCA9XHJcbiAgICAgICAgICAgIEltbXV0YWJsZS5MaXN0KF9zdGRTZXR1cFJlc3BvbnNlRGV0YWlscykuY291bnQoKSA+IDAgJiYgX3N0ZFNldHVwUmVzcG9uc2VEZXRhaWxzLmZpcnN0KCkuc3RhbmRhcmRpc2F0aW9uTWFya3MgP1xyXG4gICAgICAgICAgICBJbW11dGFibGUuTGlzdDxSZXNwb25zZU1hcmtEZXRhaWxzPihfc3RkU2V0dXBSZXNwb25zZURldGFpbHMuZmlyc3QoKS5zdGFuZGFyZGlzYXRpb25NYXJrcykuY291bnQoKSA6IDA7XHJcblxyXG4gICAgICAgIC8vIDEuIFBSQUNUSUNFXHJcbiAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGRldGFpbHMgdG8gZ3JpZCBiYXNlZCBvbiBwZXJtaXNzaW9ucy5cclxuICAgICAgICBpZiAoIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cyB8fFxyXG4gICAgICAgICAgICAodGhpcy5faGlkZGVuU3RkV29ya2xpc3RzICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzLmNvbnRhaW5zKGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlKSkpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICBfY2xhc3NpZmllZFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdyhcclxuICAgICAgICAgICAgICAgICAgICAnMicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRFbXB0eVJvd3MoZ3JpZENvbHVtbnMsIG1hcmtzQ291bnQsIGdyaWRUeXBlKSxcclxuICAgICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICdjbGFzc2lmeS1pdGVtcy1yb3cnXHJcbiAgICAgICAgICAgICAgICApKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNvcnQgUmVzcG9uc2UgYmFzZWQgb24gIHJpZyBvcmRlci5cclxuICAgICAgICAgICAgX2NsYXNzaWZpZWRSZXNwb25zZUxpc3REYXRhID1cclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZ2V0Q2xhc3NpZmllZFJlc3BvbnNlc0luU29ydE9yZGVyQnlNYXJraW5nTW9kZShlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIGRhdGEgZXhpc3QsIGlmIG5vdCBhZGQgZW1wdHkgcm93LlxyXG4gICAgICAgICAgICBpZiAoX2NsYXNzaWZpZWRSZXNwb25zZUxpc3REYXRhLmNvdW50KCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBfY2xhc3NpZmllZFJvd0NvbGxlY3Rpb24gPVxyXG4gICAgICAgICAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Um93RGF0YShfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEsIGdyaWRDb2x1bW5zLCBncmlkVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LCBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UpKTtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXggKyBfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEuY291bnQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdygnMicsIHRoaXMuZ2V0RW1wdHlSb3dzKGdyaWRDb2x1bW5zLCBtYXJrc0NvdW50LCBncmlkVHlwZSksIHVuZGVmaW5lZCwgJ3BsYWNlaG9sZGVyLXJvdycpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gMi4gQVBQUk9WQUxcclxuICAgICAgICAvLyBBZGQgcmVzcG9uc2UgZGV0YWlscyB0byBncmlkIGJhc2VkIG9uIHBlcm1pc3Npb25zLlxyXG4gICAgICAgIGlmICghdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzIHx8XHJcbiAgICAgICAgICAgICh0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMgJiZcclxuICAgICAgICAgICAgICAgICF0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMuY29udGFpbnMoZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpKSkge1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxyXG4gICAgICAgICAgICAgICAgICAgICczJyxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEVtcHR5Um93cyhncmlkQ29sdW1ucywgbWFya3NDb3VudCwgZ3JpZFR5cGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzaWZ5LWl0ZW1zLXJvdydcclxuICAgICAgICAgICAgICAgICkpO1xyXG5cclxuICAgICAgICAgICAgLy8gU29ydCBSZXNwb25zZSBiYXNlZCBvbiAgcmlnIG9yZGVyLlxyXG4gICAgICAgICAgICBfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEgPVxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5nZXRDbGFzc2lmaWVkUmVzcG9uc2VzSW5Tb3J0T3JkZXJCeU1hcmtpbmdNb2RlKGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgZGF0YSBleGlzdCwgaWYgbm90IGFkZCBlbXB0eSByb3cuXHJcbiAgICAgICAgICAgIGlmIChfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEuY291bnQoKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRSb3dEYXRhKF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YSwgZ3JpZENvbHVtbnMsIGdyaWRUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLkNsYXNzaWZpZWRSZXNwb25zZSkpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleCArIF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YS5jb3VudCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KCczJywgdGhpcy5nZXRFbXB0eVJvd3MoZ3JpZENvbHVtbnMsIG1hcmtzQ291bnQsIGdyaWRUeXBlKSwgdW5kZWZpbmVkLCAncGxhY2Vob2xkZXItcm93JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAzLiBFUyBURUFNIEFQUFJPVkFMXHJcbiAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGRldGFpbHMgdG8gZ3JpZCBiYXNlZCBvbiBwZXJtaXNzaW9ucy5cclxuICAgICAgICBpZiAoIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cyB8fFxyXG4gICAgICAgICAgICAodGhpcy5faGlkZGVuU3RkV29ya2xpc3RzICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzLmNvbnRhaW5zKGVudW1zLk1hcmtpbmdNb2RlLkVTX1RlYW1BcHByb3ZhbCkpKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgJzQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RW1wdHlSb3dzKGdyaWRDb2x1bW5zLCBtYXJrc0NvdW50LCBncmlkVHlwZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAnY2xhc3NpZnktaXRlbXMtcm93J1xyXG4gICAgICAgICAgICAgICAgKSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTb3J0IFJlc3BvbnNlIGJhc2VkIG9uICByaWcgb3JkZXIuXHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmdldENsYXNzaWZpZWRSZXNwb25zZXNJblNvcnRPcmRlckJ5TWFya2luZ01vZGUoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgZGF0YSBleGlzdCwgaWYgbm90IGFkZCBlbXB0eSByb3cuXHJcbiAgICAgICAgICAgIGlmIChfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEuY291bnQoKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRSb3dEYXRhKF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YSwgZ3JpZENvbHVtbnMsIGdyaWRUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLkNsYXNzaWZpZWRSZXNwb25zZSkpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleCArIF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YS5jb3VudCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KCc0JywgdGhpcy5nZXRFbXB0eVJvd3MoZ3JpZENvbHVtbnMsIG1hcmtzQ291bnQsIGdyaWRUeXBlKSwgdW5kZWZpbmVkLCAncGxhY2Vob2xkZXItcm93JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyA0LiBTRUVEXHJcbiAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGRldGFpbHMgdG8gZ3JpZCBiYXNlZCBvbiBwZXJtaXNzaW9ucy5cclxuICAgICAgICBpZiAoIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cyB8fFxyXG4gICAgICAgICAgICAodGhpcy5faGlkZGVuU3RkV29ya2xpc3RzICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzLmNvbnRhaW5zKGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcpKSkge1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxyXG4gICAgICAgICAgICAgICAgICAgICc3MCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRFbXB0eVJvd3MoZ3JpZENvbHVtbnMsIG1hcmtzQ291bnQsIGdyaWRUeXBlKSxcclxuICAgICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICdjbGFzc2lmeS1pdGVtcy1yb3cnXHJcbiAgICAgICAgICAgICAgICApKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNvcnQgUmVzcG9uc2UgYmFzZWQgb24gIHJpZyBvcmRlci5cclxuICAgICAgICAgICAgX2NsYXNzaWZpZWRSZXNwb25zZUxpc3REYXRhID1cclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZ2V0Q2xhc3NpZmllZFJlc3BvbnNlc0luU29ydE9yZGVyQnlNYXJraW5nTW9kZShlbnVtcy5NYXJraW5nTW9kZS5TZWVkaW5nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgZGF0YSBleGlzdCwgaWYgbm90IGFkZCBlbXB0eSByb3cuXHJcbiAgICAgICAgICAgIGlmIChfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEuY291bnQoKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRSb3dEYXRhKF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YSwgZ3JpZENvbHVtbnMsIGdyaWRUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLkNsYXNzaWZpZWRSZXNwb25zZSkpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleCArIF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YS5jb3VudCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KCc3MCcsIHRoaXMuZ2V0RW1wdHlSb3dzKGdyaWRDb2x1bW5zLCBtYXJrc0NvdW50LCBncmlkVHlwZSksIHVuZGVmaW5lZCwgJ3BsYWNlaG9sZGVyLXJvdycpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBjb21wbGV0ZSByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICB0aGlzLl9jbGFzc2lmaWVkTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsYXNzaWZpZWRMaXN0Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5IGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFNURCBXb3JrTGlzdCBHcmlkXHJcblx0ICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSBcclxuXHQgKiBAcGFyYW0gZ3JpZFR5cGUgXHJcblx0ICovXHJcbiAgICBwdWJsaWMgZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5KGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIC8vIEdldCBmcm96ZW4gY29sdW1uIGNvbGxlY3Rpb24uXHJcbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpzb25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbik7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgRnJvemVuIHJvdyBib2R5IGZvciBTVEQgV29ya2xpc3RcclxuICAgICAgICBsZXQgX3N0ZFdvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb24gPSB0aGlzLmdldEZyb3plblJvd0JvZHkoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLFxyXG4gICAgICAgICAgICBncmlkVHlwZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIF9zdGRXb3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBNZXRob2QgZm9yIGdldHRpbmcgdGhlIGZyb3plbiByb3cgYm9keSBmb3IgU1REIHdvcmtsaXN0XHJcblx0ICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSBcclxuXHQgKiBAcGFyYW0gZ3JpZFR5cGUgXHJcblx0ICovXHJcbiAgICBwdWJsaWMgZ2V0RnJvemVuUm93Qm9keShzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGU6IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLFxyXG4gICAgICAgIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgaW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQgX3N0ZFJlc3BvbnNlTGlzdERhdGE6IGFueTtcclxuICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKFxyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLFxyXG4gICAgICAgICAgICBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UsXHJcbiAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgIGdyaWRUeXBlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gRmxhZyB0byBjaGVjayB3aGV0aGVyIHRhcmdldCBleGNlZWRlZC5cclxuICAgICAgICBsZXQgb3ZlckNsYXNzaWZpZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gMS4gUFJBQ1RJQ0VcclxuICAgICAgICAvLyBBZGQgcHJhY3RpY2UgcmVzcG9uc2UgZGV0YWlscyB0byBncmlkIGJhc2VkIG9uIHBlcm1pc3Npb25zLlxyXG4gICAgICAgIGlmICghdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzIHx8XHJcbiAgICAgICAgICAgICh0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMgJiYgIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cy5jb250YWlucyhlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSkpKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBTb3J0IFJlc3BvbnNlIGJhc2VkIG9uIFJpZyBvcmRlci5cclxuICAgICAgICAgICAgX3N0ZFJlc3BvbnNlTGlzdERhdGEgPVxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5nZXRDbGFzc2lmaWVkUmVzcG9uc2VzSW5Tb3J0T3JkZXJCeU1hcmtpbmdNb2RlKGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlKS50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgRW1wdHkgYmFubmVyIGZvciBQcmFjdGljZVxyXG4gICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2godGhpcy5nZXRGcm96ZW5FbXB0eUJhbm5lckZvckNsYXNzaWZpY2F0aW9uVHlwZShlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKF9zdGRSZXNwb25zZUxpc3REYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCByZXNwb25zZSBkZXRhaWxzLlxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcHJhY1Jlc3BvbnNlQ291bnQgPSAwOyBwcmFjUmVzcG9uc2VDb3VudCA8IF9zdGRSZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgcHJhY1Jlc3BvbnNlQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHN0ZCB3b3JrbGlzdCBkYXRhIHJvdyAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ZFJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzID0gX3N0ZFJlc3BvbnNlTGlzdERhdGFbcHJhY1Jlc3BvbnNlQ291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB3aGV0ZWhyIHRoZSBjbGFzc2lmY2F0aW9uIHR5cGUgZXhjZWVkZWQgdGhlIGN1cnJlbnQgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBQcmFjdGljZSBhdmFpbGFibGUgaW4gcmVzdHJpY3RlZCB0YXJnZXQuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgc28gaGlnaGxpZ2h0IHRoZSBleGNlZWRlZCBsYXN0IHJvd3Mgd2l0aCBhbWJlciBjb2xvci5cclxuICAgICAgICAgICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTU1VUYXJnZXRzT3ZlckNsYXNzaWZpZWQoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLCBlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSwgc3RkUmVzcG9uc2VEYXRhLnJpZ09yZGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaCh0aGlzLmdldEZyb3plblJvd0RhdGEoc3RkUmVzcG9uc2VEYXRhLCBncmlkVHlwZSwgZ3JpZENvbHVtbnMsIGluZGV4LCBvdmVyQ2xhc3NpZmllZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1ucy5sZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW4gPT09ICdSZXNwb25zZUlkQ29sdW1uJyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29sLXJlc3BvbnNlIGhlYWRlci1jb2wnIDogJ2NvbC1zdGQtY2xhc3NpZnktaXRlbXMgaGVhZGVyLWNvbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSB0YWJsZSByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coJzInLCBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiwgdW5kZWZpbmVkLCAncGxhY2Vob2xkZXItcm93JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IHRvIGZhbHNlLlxyXG4gICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gMi4gQVBQUk9WQUxcclxuICAgICAgICAvLyBBZGQgc3RhbmRhcmRpc2F0aW9uIHJlc3BvbnNlIGRldGFpbHMgdG8gZ3JpZCBiYXNlZCBvbiBwZXJtaXNzaW9ucy5cclxuICAgICAgICBpZiAoIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cyB8fFxyXG4gICAgICAgICAgICAodGhpcy5faGlkZGVuU3RkV29ya2xpc3RzICYmICF0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMuY29udGFpbnMoZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpKSkge1xyXG5cclxuICAgICAgICAgICAgLy8gU29ydCBSZXNwb25zZSBiYXNlZCBvbiBSaWcgb3JkZXIuXHJcbiAgICAgICAgICAgIF9zdGRSZXNwb25zZUxpc3REYXRhID1cclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZ2V0Q2xhc3NpZmllZFJlc3BvbnNlc0luU29ydE9yZGVyQnlNYXJraW5nTW9kZShlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCkudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIEVtcHR5IGJhbm5lciBmb3IgQXBwcm92YWxcclxuICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKHRoaXMuZ2V0RnJvemVuRW1wdHlCYW5uZXJGb3JDbGFzc2lmaWNhdGlvblR5cGUoZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChfc3RkUmVzcG9uc2VMaXN0RGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggcmVzcG9uc2UgZGV0YWlscy5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGFwcHJvdmFsUmVzcG9uc2VDb3VudCA9IDA7IGFwcHJvdmFsUmVzcG9uc2VDb3VudCA8IF9zdGRSZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgYXBwcm92YWxSZXNwb25zZUNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBzdGQgd29ya2xpc3QgZGF0YSByb3cgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGRSZXNwb25zZURhdGE6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscyA9IF9zdGRSZXNwb25zZUxpc3REYXRhW2FwcHJvdmFsUmVzcG9uc2VDb3VudF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHdoZXRlaHIgdGhlIGNsYXNzaWZjYXRpb24gdHlwZSBleGNlZWRlZCB0aGUgY3VycmVudCB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIFN0YW5kYXJkaXNhdGlvbiBhdmFpbGFibGUgaW4gcmVzdHJpY3RlZCB0YXJnZXQuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgc28gaGlnaGxpZ2h0IHRoZSBleGNlZWRlZCBsYXN0IHJvd3Mgd2l0aCBhbWJlciBjb2xvci5cclxuICAgICAgICAgICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTU1VUYXJnZXRzT3ZlckNsYXNzaWZpZWQoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLCBlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCwgc3RkUmVzcG9uc2VEYXRhLnJpZ09yZGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaCh0aGlzLmdldEZyb3plblJvd0RhdGEoc3RkUmVzcG9uc2VEYXRhLCBncmlkVHlwZSwgZ3JpZENvbHVtbnMsIGluZGV4LCBvdmVyQ2xhc3NpZmllZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBncmlkQ29sdW1uQ291bnQrK1xyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW4gPT09ICdSZXNwb25zZUlkQ29sdW1uJyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29sLXJlc3BvbnNlIGhlYWRlci1jb2wnIDogJ2NvbC1zdGQtY2xhc3NpZnktaXRlbXMgaGVhZGVyLWNvbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSB0YWJsZSByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coJzMnLCBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiwgdW5kZWZpbmVkLCAncGxhY2Vob2xkZXItcm93JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IHRvIGZhbHNlLlxyXG4gICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gMy4gRVMgVEVBTSBBUFBST1ZBTFxyXG4gICAgICAgIC8vIEFkZCBTVE0gc3RhbmRhcmRpc2F0aW9uIHJlc3BvbnNlIGRldGFpbHMgdG8gZ3JpZCBiYXNlZCBvbiBwZXJtaXNzaW9ucy5cclxuICAgICAgICBpZiAoIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cyB8fFxyXG4gICAgICAgICAgICAodGhpcy5faGlkZGVuU3RkV29ya2xpc3RzICYmICF0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMuY29udGFpbnMoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSkpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFNvcnQgUmVzcG9uc2UgYmFzZWQgb24gUmlnIG9yZGVyLlxyXG4gICAgICAgICAgICBfc3RkUmVzcG9uc2VMaXN0RGF0YSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmdldENsYXNzaWZpZWRSZXNwb25zZXNJblNvcnRPcmRlckJ5TWFya2luZ01vZGUoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKVxyXG4gICAgICAgICAgICAgICAgICAgIC50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgRW1wdHkgYmFubmVyIGZvciBFU19UZWFtQXBwcm92YWxcclxuICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKHRoaXMuZ2V0RnJvemVuRW1wdHlCYW5uZXJGb3JDbGFzc2lmaWNhdGlvblR5cGUoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoX3N0ZFJlc3BvbnNlTGlzdERhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHJlc3BvbnNlIGRldGFpbHMuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBlc1RlYW1SZXNwb25zZUNvdW50ID0gMDsgZXNUZWFtUmVzcG9uc2VDb3VudCA8IF9zdGRSZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgZXNUZWFtUmVzcG9uc2VDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgc3RkIHdvcmtsaXN0IGRhdGEgcm93ICAgICBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RkUmVzcG9uc2VEYXRhOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMgPSBfc3RkUmVzcG9uc2VMaXN0RGF0YVtlc1RlYW1SZXNwb25zZUNvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGVociB0aGUgY2xhc3NpZmNhdGlvbiB0eXBlIGV4Y2VlZGVkIHRoZSBjdXJyZW50IHRhcmdldCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgU1RNIFN0YW5kYXJkaXNhdGlvbiBhdmFpbGFibGUgaW4gcmVzdHJpY3RlZCB0YXJnZXQuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgc28gaGlnaGxpZ2h0IHRoZSBleGNlZWRlZCBsYXN0IHJvd3Mgd2l0aCBhbWJlciBjb2xvci5cclxuICAgICAgICAgICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTU1VUYXJnZXRzT3ZlckNsYXNzaWZpZWQoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsLCBzdGRSZXNwb25zZURhdGEucmlnT3JkZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgdGFibGUgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKHRoaXMuZ2V0RnJvemVuUm93RGF0YShzdGRSZXNwb25zZURhdGEsIGdyaWRUeXBlLCBncmlkQ29sdW1ucywgaW5kZXgsIG92ZXJDbGFzc2lmaWVkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5zLmxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbiA9PT0gJ1Jlc3BvbnNlSWRDb2x1bW4nID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb2wtcmVzcG9uc2UgaGVhZGVyLWNvbCcgOiAnY29sLXN0ZC1jbGFzc2lmeS1pdGVtcyBoZWFkZXItY29sJztcclxuICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3N0ZFdvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdygnNCcsIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLCB1bmRlZmluZWQsICdwbGFjZWhvbGRlci1yb3cnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUmVzZXQgdG8gZmFsc2UuXHJcbiAgICAgICAgICAgIG92ZXJDbGFzc2lmaWVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyA0LiBTRUVEXHJcbiAgICAgICAgLy8gQWRkIFNlZWQgcmVzcG9uc2UgZGV0YWlscyB0byBncmlkIGJhc2VkIG9uIHBlcm1pc3Npb25zLlxyXG4gICAgICAgIGlmICghdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzIHx8XHJcbiAgICAgICAgICAgICh0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMgJiYgIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cy5jb250YWlucyhlbnVtcy5NYXJraW5nTW9kZS5TZWVkaW5nKSkpIHtcclxuICAgICAgICAgICAgICAgIF9zdGRSZXNwb25zZUxpc3REYXRhID1cclxuICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmdldENsYXNzaWZpZWRSZXNwb25zZXNJblNvcnRPcmRlckJ5TWFya2luZ01vZGUoZW51bXMuTWFya2luZ01vZGUuU2VlZGluZykudG9BcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgRW1wdHkgYmFubmVyIGZvciBTZWVkaW5nXHJcbiAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2godGhpcy5nZXRGcm96ZW5FbXB0eUJhbm5lckZvckNsYXNzaWZpY2F0aW9uVHlwZShlbnVtcy5NYXJraW5nTW9kZS5TZWVkaW5nKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKF9zdGRSZXNwb25zZUxpc3REYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggcmVzcG9uc2UgZGV0YWlscy5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzZWVkUmVzcG9uc2VDb3VudCA9IDA7IHNlZWRSZXNwb25zZUNvdW50IDwgX3N0ZFJlc3BvbnNlTGlzdERhdGEubGVuZ3RoOyBzZWVkUmVzcG9uc2VDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHN0ZCB3b3JrbGlzdCBkYXRhIHJvdyAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGRSZXNwb25zZURhdGE6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscyA9IF9zdGRSZXNwb25zZUxpc3REYXRhW3NlZWRSZXNwb25zZUNvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSB0YWJsZSByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKHRoaXMuZ2V0RnJvemVuUm93RGF0YShzdGRSZXNwb25zZURhdGEsIGdyaWRUeXBlLCBncmlkQ29sdW1ucywgaW5kZXgsIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1ucy5sZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW4gPT09ICdSZXNwb25zZUlkQ29sdW1uJyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbC1yZXNwb25zZSBoZWFkZXItY29sJyA6ICdjb2wtc3RkLWNsYXNzaWZ5LWl0ZW1zIGhlYWRlci1jb2wnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KCc3MCcsIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLCB1bmRlZmluZWQsICdwbGFjZWhvbGRlci1yb3cnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgdG8gZmFsc2UuXHJcbiAgICAgICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVybiB0aGUgY29tcGxldGUgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gX3N0ZFdvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gY3JlYXRlIGVtcHR5IGJhbm5lciBmb3IgRGlmZmVyZW50IGNsYXNzaWZpY2F0aW9uIFR5cGUuXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NpZmljYXRpb25UeXBlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0RnJvemVuRW1wdHlCYW5uZXJGb3JDbGFzc2lmaWNhdGlvblR5cGUoY2xhc3NpZmljYXRpb25UeXBlOiBlbnVtcy5NYXJraW5nTW9kZSk6IGdyaWRSb3cge1xyXG4gICAgICAgIGxldCBjbGFzc05hbWU6IHN0cmluZztcclxuICAgICAgICBsZXQgX3N0ZFdvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheTxncmlkQ2VsbD4oKTtcclxuXHJcbiAgICAgICAgLy8gR28gdGhyb3VnaCBjbGFzc2lmaWNhdGlvbiBUeXBlIGFuZCBjcmVhdGUgY29ycmVzcG9uZGluZyBCYW5uZXIuXHJcbiAgICAgICAgc3dpdGNoIChjbGFzc2lmaWNhdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZTpcclxuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgIGtleSA9ICdFbXB0eV9CYW5uZXJfUHJhY3RpY2UnO1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2hlYWRlci1kYXRhIGNsYXNzaWZ5LWl0ZW0tdGV4dCBkYXJrLWxpbmsnO1xyXG4gICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRSSUdPcmRlckNvbHVtbkVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc2lmaWNhdGlvblR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWw6XHJcbiAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICBrZXkgPSAnRW1wdHlfQmFubmVyX1N0YW5kYXJkaXNhdGlvbic7XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSAnaGVhZGVyLWRhdGEgY2xhc3NpZnktaXRlbS10ZXh0IGRhcmstbGluayc7XHJcbiAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFJJR09yZGVyQ29sdW1uRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5FU19UZWFtQXBwcm92YWw6XHJcbiAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICBrZXkgPSAnRW1wdHlfQmFubmVyX1NUTV9TdGFuZGFyZGlzYXRpb24nO1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2hlYWRlci1kYXRhIGNsYXNzaWZ5LWl0ZW0tdGV4dCBkYXJrLWxpbmsnO1xyXG4gICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRSSUdPcmRlckNvbHVtbkVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc2lmaWNhdGlvblR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuU2VlZGluZzpcclxuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgIGtleSA9ICdFbXB0eV9CYW5uZXJfU2VlZCc7XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSAnaGVhZGVyLWRhdGEgY2xhc3NpZnktaXRlbS10ZXh0IGRhcmstbGluayc7XHJcbiAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFJJR09yZGVyQ29sdW1uRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9zdGRXb3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKCdjb2wtc3RkLWNsYXNzaWZ5LWl0ZW1zIGhlYWRlci1jb2wnKTtcclxuICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xyXG5cclxuICAgICAgICAvLyBMb2dpYyB0byBjcmVhdGUgZW1wdHkgZnJvemVuIGNvbHVtbiBmb3IgUHJhY3RpY2UvU2VlZC9TVE0vUXVhbGlmY2F0aW9uIExhYmVscy5cclxuICAgICAgICBsZXQgZW1wdHlncmlkQ2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgZW1wdHlncmlkQ2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG5cclxuICAgICAgICBlbXB0eWdyaWRDZWxsLnNldENlbGxTdHlsZSgnY29sLXJlc3BvbnNlIGhlYWRlci1jb2wnKTtcclxuICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKGVtcHR5Z3JpZENlbGwpO1xyXG4gICAgICAgIGxldCBjc3NDbGFzcyA9ICdjbGFzc2lmeS1pdGVtcy1yb3cnO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGluZyB0aGUgdGFibGUgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R3JpZFJvdyhcclxuICAgICAgICAgICAgY2xhc3NpZmljYXRpb25UeXBlLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxyXG4gICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGNzc0NsYXNzXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBVbmZyb3plbiBFbXB0eSBSb3dzIGZvciBQcmFjdGljZS9BcHByb3ZhbC9TVEQuLiBCYW5uZXJzLlxyXG4gICAgICogQHBhcmFtIGdyaWRDb2x1bW5zXHJcbiAgICAgKiBAcGFyYW0gbm9PZlF1ZXN0aW9uc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEVtcHR5Um93cyhncmlkQ29sdW1uczogYW55LCBub09mUXVlc3Rpb25zOiBudW1iZXIsIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSk6IEFycmF5PGdyaWRDZWxsPiB7XHJcbiAgICAgICAgbGV0IF9jbGFzc2lmaWVkQ2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IF9jbGFzc2lmaWVkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXk8Z3JpZENlbGw+KCk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBjZWxscyBmb3IgQ29sdW1ucyByZXR1cm5lZCBmcm9tIEpTT04gRmlsZS5cclxuICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1ucy5sZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkQ2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcclxuICAgICAgICAgICAgX2NsYXNzaWZpZWRDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICBfY2xhc3NpZmllZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX2NsYXNzaWZpZWRDZWxsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBjZWxscyBmb3IgaW5kaXZpZHVhbCBxdWVzdGlvbnMuXHJcbiAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgbm9PZlF1ZXN0aW9uczsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgX2NsYXNzaWZpZWRDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPSAnY29sLXF1ZXN0aW9uLWl0ZW0nO1xyXG4gICAgICAgICAgICBfY2xhc3NpZmllZENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfY2xhc3NpZmllZENlbGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGdyaWRUeXBlID09PSBlbnVtcy5HcmlkVHlwZS5tYXJrQnlRdWVzdGlvbikge1xyXG4gICAgICAgICAgICAvL0FkZGluZyB0aGUgJ2xhc3QtY2VsbCcgY29sdW1uIGFzIHRoaXMgY29sdW1uIGlzIG5vdCBhZGRlZCB0byBjbGFzc2lmaWVkIHdvcmtsc3QgYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICBfY2xhc3NpZmllZENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9ICdsYXN0LWNlbGwnO1xyXG4gICAgICAgICAgICBfY2xhc3NpZmllZENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfY2xhc3NpZmllZENlbGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXR1cm4gdGhlIGNlbGwgQ29sbGVjdGlvbi5cclxuICAgICAgICByZXR1cm4gX2NsYXNzaWZpZWRSb3dIZWFkZXJDZWxsY29sbGVjdGlvbjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gQ2xhc3NpZmllZEhlbHBlcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcnMvY2xhc3NpZmllZGhlbHBlci50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBOztBQXNnQkE7QUFqZ0JBOzs7OztBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 412:
/* no static exports found */
/* all exports used */
/*!**************************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetuphelpers/provisionalhelper.ts ***!
  \**************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar standardisationsetuphelperbase = __webpack_require__(/*! ./standardisationsetuphelperbase */ 292);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar jsonRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar standardisationSetupGridColumnsJson = __webpack_require__(/*! ../standardisationsetupgridcolumns.json */ 273);\r\nvar comparerList = __webpack_require__(/*! ../../../../utility/sorting/sortbase/comparerlist */ 262);\r\nvar sortHelper = __webpack_require__(/*! ../../../../utility/sorting/sorthelper */ 272);\r\n/**\r\n * Helper class for Classified grid view\r\n */\r\nvar ProvisionalHelper = /** @class */ (function (_super) {\r\n    __extends(ProvisionalHelper, _super);\r\n    function ProvisionalHelper() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * generateStandardisationFrozenRowBody is used for generating row collection for STD WorkList Grid\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    ProvisionalHelper.prototype.generateStandardisationFrozenRowBody = function (comparerName, sortDirection, standardisationSetupType, gridType) {\r\n        // Get frozen column collection.\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        return this.generateFrozenRowBody(standardisationSetupStore.instance.standardisationSetupDetails, standardisationSetupType, gridType, comparerName, sortDirection);\r\n    };\r\n    /**\r\n     * Gets Grid rows\r\n     * @param tabSelection\r\n     * @param gridType\r\n     */\r\n    ProvisionalHelper.prototype.generateStandardisationRowDefinion = function (comparerName, sortDirection, tabSelection, gridType) {\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = this.getRowDefinion(tabSelection, gridType, comparerName, sortDirection);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Returns the row definition for provisional worklist\r\n     * @param tabSelection\r\n     * @param gridType\r\n     */\r\n    ProvisionalHelper.prototype.getRowDefinion = function (tabSelection, gridType, comparerName, sortDirection) {\r\n        var sortedData;\r\n        var _provisionalRowCollection = Array();\r\n        var _provisionalRowHeaderCellcollection = Array();\r\n        var _provisionalResponseListData;\r\n        var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, tabSelection, false, gridType);\r\n        var _stdSetupResponseDetails = standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses;\r\n        var marksCount = _stdSetupResponseDetails.first().standardisationMarks ?\r\n            Immutable.List(_stdSetupResponseDetails.first().standardisationMarks).count() : 0;\r\n        _provisionalResponseListData = Immutable.List(standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses);\r\n        sortedData = Immutable.List(sortHelper.sort(_provisionalResponseListData.toArray(), comparerList[comparerName]));\r\n        _provisionalResponseListData = sortedData;\r\n        if (_provisionalResponseListData.count() > 0) {\r\n            _provisionalRowCollection =\r\n                _provisionalRowCollection.concat(this.getRowData(_provisionalResponseListData, gridColumns, gridType, 0, enums.StandardisationSetup.ProvisionalResponse));\r\n        }\r\n        // Return the complete row collection.\r\n        this._provisionalListCollection = Immutable.fromJS(_provisionalRowCollection);\r\n        return this._provisionalListCollection;\r\n    };\r\n    return ProvisionalHelper;\r\n}(standardisationsetuphelperbase));\r\nmodule.exports = ProvisionalHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy9wcm92aXNpb25hbGhlbHBlci50cz85Mzk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2UgPSByZXF1aXJlKCcuL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVyYmFzZScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9lbnVtcycpO1xyXG5pbXBvcnQgZ3JpZFJvdyA9IHJlcXVpcmUoJy4uL2dyaWRyb3cnKTtcclxuaW1wb3J0IGpzb25SZWZSZXNvbHZlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvanNvbnJlZnJlc29sdmVyL2pvc25yZWZyZXNvbHZlcicpO1xyXG5pbXBvcnQgZ3JpZENlbGwgPSByZXF1aXJlKCcuLi9ncmlkY2VsbCcpO1xyXG5pbXBvcnQgSW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwc3RvcmUnKTtcclxubGV0IHN0YW5kYXJkaXNhdGlvblNldHVwR3JpZENvbHVtbnNKc29uID0gcmVxdWlyZSgnLi4vc3RhbmRhcmRpc2F0aW9uc2V0dXBncmlkY29sdW1ucy5qc29uJyk7XHJcbmltcG9ydCBjb21wYXJlckxpc3QgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3NvcnRpbmcvc29ydGJhc2UvY29tcGFyZXJsaXN0Jyk7XHJcbmltcG9ydCBzb3J0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9zb3J0aW5nL3NvcnRoZWxwZXInKTtcclxuXHJcblxyXG4vKipcclxuICogSGVscGVyIGNsYXNzIGZvciBDbGFzc2lmaWVkIGdyaWQgdmlld1xyXG4gKi9cclxuY2xhc3MgUHJvdmlzaW9uYWxIZWxwZXIgZXh0ZW5kcyBzdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2Uge1xyXG5cclxuICAgIC8qIEdyaWQgcm93cyBjb2xsZWN0aW9uICovXHJcbiAgICBwdWJsaWMgX3Byb3Zpc2lvbmFsTGlzdENvbGxlY3Rpb246IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5IGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFNURCBXb3JrTGlzdCBHcmlkXHJcbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlIFxyXG4gICAgICogQHBhcmFtIGdyaWRUeXBlIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5KGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIC8vIEdldCBmcm96ZW4gY29sdW1uIGNvbGxlY3Rpb24uXHJcbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpzb25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlRnJvemVuUm93Qm9keShcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGFuZGFyZGlzYXRpb25TZXR1cERldGFpbHMsXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSxcclxuICAgICAgICAgICAgZ3JpZFR5cGUsXHJcbiAgICAgICAgICAgIGNvbXBhcmVyTmFtZSxcclxuICAgICAgICAgICAgc29ydERpcmVjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIEdyaWQgcm93c1xyXG4gICAgICogQHBhcmFtIHRhYlNlbGVjdGlvbiBcclxuICAgICAqIEBwYXJhbSBncmlkVHlwZSBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdlbmVyYXRlU3RhbmRhcmRpc2F0aW9uUm93RGVmaW5pb24oY29tcGFyZXJOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbixcclxuICAgICAgICB0YWJTZWxlY3Rpb246IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLFxyXG4gICAgICAgIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpzb25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbik7XHJcbiAgICAgICAgdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaW9uKHRhYlNlbGVjdGlvbiwgZ3JpZFR5cGUsIGNvbXBhcmVyTmFtZSwgc29ydERpcmVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgcm93IGRlZmluaXRpb24gZm9yIHByb3Zpc2lvbmFsIHdvcmtsaXN0XHJcbiAgICAgKiBAcGFyYW0gdGFiU2VsZWN0aW9uIFxyXG4gICAgICogQHBhcmFtIGdyaWRUeXBlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb24odGFiU2VsZWN0aW9uOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcclxuICAgICAgICBncmlkVHlwZTogZW51bXMuR3JpZFR5cGUsXHJcbiAgICAgICAgY29tcGFyZXJOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbik6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgc29ydGVkRGF0YTogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPjtcclxuICAgICAgICBsZXQgX3Byb3Zpc2lvbmFsUm93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9wcm92aXNpb25hbFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF9wcm92aXNpb25hbFJlc3BvbnNlTGlzdERhdGE6IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz47XHJcbiAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5nZXRHcmlkQ29sdW1ucyh0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLCB0YWJTZWxlY3Rpb24sIGZhbHNlLCBncmlkVHlwZSk7XHJcbiAgICAgICAgbGV0IF9zdGRTZXR1cFJlc3BvbnNlRGV0YWlsczogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPiA9XHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RhbmRhcmRpc2F0aW9uU2V0VXBSZXNwb25zZWRldGFpbHMuc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzO1xyXG4gICAgICAgIGxldCBtYXJrc0NvdW50ID0gX3N0ZFNldHVwUmVzcG9uc2VEZXRhaWxzLmZpcnN0KCkuc3RhbmRhcmRpc2F0aW9uTWFya3MgP1xyXG4gICAgICAgICAgICBJbW11dGFibGUuTGlzdDxSZXNwb25zZU1hcmtEZXRhaWxzPihfc3RkU2V0dXBSZXNwb25zZURldGFpbHMuZmlyc3QoKS5zdGFuZGFyZGlzYXRpb25NYXJrcykuY291bnQoKSA6IDA7XHJcblxyXG4gICAgICAgIF9wcm92aXNpb25hbFJlc3BvbnNlTGlzdERhdGEgPSBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+XHJcbiAgICAgICAgICAgIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0YW5kYXJkaXNhdGlvblNldFVwUmVzcG9uc2VkZXRhaWxzLnN0YW5kYXJkaXNhdGlvblJlc3BvbnNlcyk7XHJcbiAgICAgICAgc29ydGVkRGF0YSA9IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4oXHJcbiAgICAgICAgICAgIHNvcnRIZWxwZXIuc29ydChfcHJvdmlzaW9uYWxSZXNwb25zZUxpc3REYXRhLnRvQXJyYXkoKSwgY29tcGFyZXJMaXN0W2NvbXBhcmVyTmFtZV0pKTtcclxuICAgICAgICBfcHJvdmlzaW9uYWxSZXNwb25zZUxpc3REYXRhID0gc29ydGVkRGF0YTtcclxuICAgICAgICBpZiAoX3Byb3Zpc2lvbmFsUmVzcG9uc2VMaXN0RGF0YS5jb3VudCgpID4gMCkge1xyXG4gICAgICAgICAgICBfcHJvdmlzaW9uYWxSb3dDb2xsZWN0aW9uID1cclxuICAgICAgICAgICAgICAgIF9wcm92aXNpb25hbFJvd0NvbGxlY3Rpb24uY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Um93RGF0YShfcHJvdmlzaW9uYWxSZXNwb25zZUxpc3REYXRhLCBncmlkQ29sdW1ucywgZ3JpZFR5cGUsIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2UpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVybiB0aGUgY29tcGxldGUgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgdGhpcy5fcHJvdmlzaW9uYWxMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3Byb3Zpc2lvbmFsUm93Q29sbGVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3Zpc2lvbmFsTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gUHJvdmlzaW9uYWxIZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcnMvcHJvdmlzaW9uYWxoZWxwZXIudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFBQTtBQUFBOztBQTBFQTtBQXJFQTs7OztBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFNQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 413:
/* no static exports found */
/* all exports used */
/*!*****************************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetuphelpers/selectresponsehelper.ts ***!
  \*****************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../../../stores/locale/localestore */ 226);\r\nvar standardisationsetuphelperbase = __webpack_require__(/*! ./standardisationsetuphelperbase */ 292);\r\nvar josnRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar standardisationGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/standardisationsetupgridcolumns.json */ 273);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar scriptStatusGridElement = __webpack_require__(/*! ../../../standardisationsetup/shared/scriptstatusgridelement */ 404);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar ReuseButton = __webpack_require__(/*! ../../../standardisationsetup/shared/reusebutton */ 384);\r\nvar ToggleButton = __webpack_require__(/*! ../../../utility/togglebutton */ 308);\r\nvar comparerList = __webpack_require__(/*! ../../../../utility/sorting/sortbase/comparerlist */ 262);\r\nvar sortHelper = __webpack_require__(/*! ../../../../utility/sorting/sorthelper */ 272);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../../../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\n/**\r\n * Helper class for select response grid view\r\n */\r\nvar SelectResponseHelper = /** @class */ (function (_super) {\r\n    __extends(SelectResponseHelper, _super);\r\n    function SelectResponseHelper() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Generate Centre Row Definition\r\n     * @param standardisationCentreList\r\n     */\r\n    SelectResponseHelper.prototype.generateCentreRowDefinition = function (standardisationCentreList) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(standardisationGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var isSeedResponse;\r\n        if (standardisationCentreList != null) {\r\n            var gridSeq = standardisationCentreList.centreList.keySeq();\r\n            var _responseListData = standardisationCentreList.centreList.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.standardisationsetup.SelectResponse.Centre.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.Centre:\r\n                            key = gridSeq.get(responseListCount) + '_Centre_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreNumber, key));\r\n                            break;\r\n                        case gridColumnNames.Scripts:\r\n                            key = gridSeq.get(responseListCount) + '_Scripts_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.totalScripts.toString(), key));\r\n                            break;\r\n                        case gridColumnNames.ScriptsAvailable:\r\n                            key = gridSeq.get(responseListCount) + '_ScriptsAvailable_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.availableScripts.toString(), key));\r\n                            break;\r\n                        case gridColumnNames.FirstScanned:\r\n                            key = gridSeq.get(responseListCount) + '_FirstScanned_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericFormattedDateElement(responseData.firstScanned, key));\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                _workListRowCollection.push(this.getGridRow(responseData.uniqueId.toString(), _workListRowHeaderCellcollection, undefined, standardisationSetupStore.instance.selectedCentreId === responseData.uniqueId ? 'row selected' : 'row'));\r\n            }\r\n        }\r\n        this._stdSetUpWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Method for getting the frozen row body for STD worklist\r\n     * @param standardisationResponseData\r\n     */\r\n    SelectResponseHelper.prototype.generateStandardisationFrozenRowBodyReusableGrid = function (reusableResponsesList, comparerName, sortDirection) {\r\n        var _stdWorkListRowHeaderCellcollection = Array();\r\n        var _stdWorkListRowCollection = Array();\r\n        var _reusableResponseListData;\r\n        var _stdResponseColumn;\r\n        var componentPropsJson;\r\n        var _stdWorkListCell;\r\n        var key;\r\n        var cssClass;\r\n        _reusableResponseListData = reusableResponsesList.toArray();\r\n        var _comparerName = (sortDirection === enums.SortDirection.Ascending) ? comparerName : comparerName + 'Desc';\r\n        var sortedData = Immutable.List(sortHelper.sort(_reusableResponseListData, comparerList[_comparerName]));\r\n        _reusableResponseListData = sortedData.toArray();\r\n        if (_reusableResponseListData != null) {\r\n            var previousMarkingMode = enums.MarkingMode.None;\r\n            var gridSeq = Immutable.List(_reusableResponseListData).keySeq();\r\n            var responseListLength = _reusableResponseListData.length;\r\n            for (var stdResponseCount = 0; stdResponseCount < responseListLength; stdResponseCount++) {\r\n                // Getting the std worklist data row\r\n                _stdWorkListRowHeaderCellcollection = new Array();\r\n                // instead of accessing _standardisationResponseListData[standardisationResponseListCount]\r\n                // collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var stdResponseData = _reusableResponseListData[stdResponseCount];\r\n                var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, enums.StandardisationSetup.SelectResponse, true, null, enums.StandardisationSessionTab.PreviousSession);\r\n                var gridColumnLength = gridColumns.length;\r\n                // Getting the STD worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _stdResponseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _stdWorkListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    //Switch statement for adding frozen columns in future.\r\n                    switch (_stdResponseColumn) {\r\n                        case gridColumnNames.ScriptId:\r\n                            key = gridSeq.get(stdResponseCount) + '_ScriptId_' + stdResponseCount;\r\n                            _stdWorkListCell.columnElement =\r\n                                this.getResponseIdColumnElement(stdResponseData, key, true, true, stdResponseData.candidateScriptId.toString());\r\n                            _stdWorkListCell.setCellStyle('col-script-id header-col');\r\n                            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                            break;\r\n                        case gridColumnNames.Status:\r\n                            key = 'reusableresponse' + '_Is_Reused_' + stdResponseCount;\r\n                            var responseStatuses = Immutable.List();\r\n                            _stdWorkListCell.columnElement = this.reuseButton(stdResponseData.reUsedQIG, stdResponseCount, stdResponseData.displayId);\r\n                            _stdWorkListCell.setCellStyle('col-re-use');\r\n                            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                            break;\r\n                        case gridColumnNames.OrginalSession:\r\n                            key = gridSeq.get(stdResponseCount) + '_Orginal_Session_' + stdResponseCount;\r\n                            _stdWorkListCell.columnElement = (this.getGenericTextElement(stdResponseData.originalSession.toString(), key));\r\n                            _stdWorkListCell.setCellStyle('col-org-session');\r\n                            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                            break;\r\n                        case gridColumnNames.OrginalClassification:\r\n                            key = gridSeq.get(stdResponseCount) + '_Orginal_Classification_' + stdResponseCount;\r\n                            _stdWorkListCell.columnElement = (this.getGenericTextElement(stdResponseData.originalClassification.toString(), key));\r\n                            _stdWorkListCell.setCellStyle('col-org-classification');\r\n                            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                            break;\r\n                    }\r\n                }\r\n                // Creating the table row collection.\r\n                _stdWorkListRowCollection.push(this.getGridRow(stdResponseData.displayId.toString(), _stdWorkListRowHeaderCellcollection));\r\n            }\r\n        }\r\n        var _stdWorkListFrozenRowBodyCollection = Immutable.fromJS(_stdWorkListRowCollection);\r\n        return _stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Reuse button return\r\n     * @param isDisabled\r\n     * @param id\r\n     * @param displayId\r\n     */\r\n    SelectResponseHelper.prototype.reuseButton = function (isDisabled, id, displayId) {\r\n        var componentProps;\r\n        componentProps = {\r\n            isDisabled: isDisabled,\r\n            id: id,\r\n            renderedOn: Date.now(),\r\n            displayId: displayId\r\n        };\r\n        return React.createElement(ReuseButton, componentProps);\r\n    };\r\n    /**\r\n     * Onclick hide response\r\n     */\r\n    SelectResponseHelper.prototype.hideResponse = function (isChecked, displayID, key) {\r\n        var componentProps;\r\n        componentProps = {\r\n            id: key + '_id',\r\n            key: key + '_key',\r\n            isChecked: isChecked,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            index: 0,\r\n            onChange: this.onHideResponseToggleChange,\r\n            style: null,\r\n            className: 'form-component',\r\n            title: 'Hide Response',\r\n            isDisabled: false,\r\n            onText: localeStore.instance.TranslateText('generic.toggle-button-states.yes'),\r\n            offText: localeStore.instance.TranslateText('generic.toggle-button-states.no'),\r\n            displayId: displayID\r\n        };\r\n        return React.createElement(ToggleButton, componentProps);\r\n    };\r\n    /**\r\n     * for handling the hide response toggle change event.\r\n     */\r\n    SelectResponseHelper.prototype.onHideResponseToggleChange = function (evt, isChecked, displayId) {\r\n        standardisationActionCreator.updateHideResponseStatus(!isChecked, displayId);\r\n    };\r\n    /**\r\n     * Generate reusable response row definition\r\n     * @param reusableResponsesList\r\n     */\r\n    SelectResponseHelper.prototype.generateReusableResponsesRowDefinition = function (reusableResponsesList, comparerName, sortDirection) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(standardisationGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var _reusableResponseListData = reusableResponsesList.toArray();\r\n        var _comparerName = (sortDirection === enums.SortDirection.Ascending) ? comparerName : comparerName + 'Desc';\r\n        var sortedData = Immutable.List(sortHelper.sort(_reusableResponseListData, comparerList[_comparerName]));\r\n        _reusableResponseListData = sortedData.toArray();\r\n        var responseListLength = _reusableResponseListData.length;\r\n        for (var reusableResponseCount = 0; reusableResponseCount < responseListLength; reusableResponseCount++) {\r\n            // Getting the worklist data row\r\n            var gridColumns = this.resolvedGridColumnsJson.standardisationsetup.PreviousSession.ReusableResponse.GridColumns;\r\n            var gridColumnLength = gridColumns.length;\r\n            _workListRowHeaderCellcollection = new Array();\r\n            _worklistRow = new gridRow();\r\n            // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n            // outside the loop globally\r\n            var responseData = _reusableResponseListData[reusableResponseCount];\r\n            for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                _workListCell = new gridCell();\r\n                switch (_responseColumn) {\r\n                    case gridColumnNames.Centre:\r\n                        key = 'reusableresponse' + '_Centre_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getGenericTextElement(responseData.centreNumber.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.CentreCandidateNum:\r\n                        key = 'reusableresponse' + '_Candidate_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getGenericTextElement(responseData.centreCandidateNumber.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.Mark:\r\n                        key = 'reusableresponse' + '_Mark_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getGenericTextElement(responseData.totalMarkValue.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.OrginalMarksUpdated:\r\n                        key = 'reusableresponse' + '_Orginal_Marks_Updated_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getConvertTextElement(responseData.originalMarksUpdated.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.HideResponse:\r\n                        key = 'reusableresponse' + '_HideResponse_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.hideResponse(responseData.hidden, responseData.displayId, key));\r\n                        break;\r\n                    case gridColumnNames.Totaltimereused:\r\n                        key = 'reusableresponse' + '_Totaltimereused_' + reusableResponseCount;\r\n                        var toolTip = this.getToolTipTotalTimeReused(responseData.reusedComponentTooltipData, false);\r\n                        _workListCell.columnElement = (this.getGenericTextElement(responseData.timesReUsed.toString(), key, toolTip));\r\n                        break;\r\n                    case gridColumnNames.LastUsed:\r\n                        key = 'reusableresponse' + '_LastUsed_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getGenericTextElement(responseData.lastUsed.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.TimesReusedInThisSession:\r\n                        key = 'reusableresponse' + '_Times_Reused_In_This_Session_' + reusableResponseCount;\r\n                        var sessionToolTip = this.getToolTipTotalTimeReused(responseData.reusedSessionTooltipData, true);\r\n                        _workListCell.columnElement =\r\n                            (this.getGenericTextElement(responseData.timesReUsedSession.toString(), key, sessionToolTip));\r\n                        break;\r\n                    case gridColumnNames.UpdatePending:\r\n                        key = 'reusableresponse' + '_Update_Pending_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getConvertTextElement(responseData.updatesPending.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.IsReusedInThisQIG:\r\n                        key = 'reusableresponse' + '_Is_Reused_In_This_QIG' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getConvertTextElement(responseData.reUsedQIG.toString(), key));\r\n                        break;\r\n                    default:\r\n                }\r\n                var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                _workListCell.setCellStyle(cellStyle);\r\n                _workListRowHeaderCellcollection.push(_workListCell);\r\n            }\r\n            _workListRowCollection.push(this.getGridRow(responseData.candidateScriptId.toString(), _workListRowHeaderCellcollection, undefined));\r\n        }\r\n        this._stdSetUpWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Get Tooltip for total time reused coulumn\r\n     * @param totalTimesReusedTooltip\r\n     */\r\n    SelectResponseHelper.prototype.getToolTipTotalTimeReused = function (totalTimesReusedTooltip, isTooltipForthisSession) {\r\n        var toolTipData = localeStore.instance.TranslateText('standardisation-setup.previous-session.reused-tooltip.not-reused');\r\n        var toolTipList = Immutable.List(totalTimesReusedTooltip).toArray();\r\n        var toolTipListLength = toolTipList.length;\r\n        if (toolTipListLength !== null && toolTipListLength > 0) {\r\n            toolTipData = isTooltipForthisSession ?\r\n                localeStore.instance.TranslateText('standardisation-setup.previous-session.reused-tooltip.reused-in-this-session-tooltip') :\r\n                localeStore.instance.TranslateText('standardisation-setup.previous-session.reused-tooltip.reused-overall-tooltip');\r\n            for (var a = 0; a < toolTipListLength; a++) {\r\n                var rr = toolTipList[a];\r\n                if (rr.marking_Mode === 'ES Team Approval') {\r\n                    rr.marking_Mode = 'ES_TeamApproval';\r\n                }\r\n                else if (rr.marking_Mode === 'Pre_Standardisation' || rr.marking_Mode === 'Pre Standardisation') {\r\n                    rr.marking_Mode = 'PreStandardisation';\r\n                }\r\n                toolTipData = toolTipData + ' '\r\n                    + localeStore.instance.TranslateText('standardisation-setup.previous-session.reused-tooltip.' + rr.marking_Mode)\r\n                    + '(' + rr.timesUsed\r\n                    + (isTooltipForthisSession ? (')') : ('/' + rr.session + ')'))\r\n                    + (a < toolTipListLength - 1 ? ',' : '');\r\n            }\r\n        }\r\n        return toolTipData;\r\n    };\r\n    /**\r\n     * generate Script Row definition\r\n     * @param standardisationScriptList\r\n     */\r\n    SelectResponseHelper.prototype.generateScriptRowDefinition = function (standardisationScriptList) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(standardisationGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        var _rowCollection = Array();\r\n        var _rowHeaderCellcollection = Array();\r\n        var _row;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _cell;\r\n        var key;\r\n        var isSeedResponse;\r\n        if (standardisationScriptList != null) {\r\n            var gridSeq = standardisationScriptList.centreScriptList.keySeq();\r\n            var _responseListData = standardisationScriptList.centreScriptList.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.standardisationsetup.SelectResponse.Script.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _rowHeaderCellcollection = new Array();\r\n                _row = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _cell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.CentreCandidateNum:\r\n                            key = gridSeq.get(responseListCount) + '_CentreCandidateNo_' + gridColumnCount;\r\n                            _cell.columnElement = (this.getGenericTextElement(responseData.centreCandidateNumber, key));\r\n                            break;\r\n                        case gridColumnNames.Status:\r\n                            key = gridSeq.get(responseListCount) + '_Status_' + gridColumnCount;\r\n                            _cell.columnElement = this.getScriptStatusElement(responseData, key);\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _cell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, false, false));\r\n                            break;\r\n                        case gridColumnNames.QuestionItems:\r\n                            if (configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.eBookmarking).toLowerCase() === 'true' ? true : false) {\r\n                                key = gridSeq.get(responseListCount) + '_QuestionItems_' + gridColumnCount;\r\n                                _cell.columnElement = (this.getGenericTextElement(responseData.questionItems.toString(), key));\r\n                            }\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _cell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _cell.setCellStyle(cellStyle);\r\n                    _rowHeaderCellcollection.push(_cell);\r\n                }\r\n                _rowCollection.push(this.getGridRow(responseData.candidateScriptId.toString(), _rowHeaderCellcollection, undefined));\r\n            }\r\n        }\r\n        this._stdSetUpWorkListCollection = Immutable.fromJS(_rowCollection);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * get Script status element for worklist\r\n     * @param standardisationScriptDetails Get the script status element\r\n     * @param seq\r\n     */\r\n    SelectResponseHelper.prototype.getScriptStatusElement = function (standardisationScriptDetails, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            isAllocatedALive: standardisationScriptDetails.isAllocatedALive,\r\n            isUsedForProvisionalMarking: standardisationScriptDetails.isUsedForProvisionalMarking,\r\n            selectedLanguage: localeStore.instance.Locale\r\n        };\r\n        return React.createElement(scriptStatusGridElement, componentProps);\r\n    };\r\n    return SelectResponseHelper;\r\n}(standardisationsetuphelperbase));\r\nmodule.exports = SelectResponseHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy9zZWxlY3RyZXNwb25zZWhlbHBlci50cz82ZTBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5pbXBvcnQgZ3JpZFJvdyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9ncmlkcm93Jyk7XG5pbXBvcnQgZ3JpZENlbGwgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZGNlbGwnKTtcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL2VudW1zJyk7XG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJiYXNlID0gcmVxdWlyZSgnLi9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2UnKTtcbmltcG9ydCBqb3NuUmVmUmVzb2x2ZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2pzb25yZWZyZXNvbHZlci9qb3NucmVmcmVzb2x2ZXInKTtcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcbmxldCBzdGFuZGFyZGlzYXRpb25HcmlkQ29sdW1uc0pzb24gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBncmlkY29sdW1ucy5qc29uJyk7XG5pbXBvcnQgZ3JpZENvbHVtbk5hbWVzID0gcmVxdWlyZSgnLi4vZ3JpZGNvbHVtbm5hbWVzJyk7XG5pbXBvcnQgc2NyaXB0U3RhdHVzR3JpZEVsZW1lbnQgPSByZXF1aXJlKCcuLi8uLi8uLi9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvc2NyaXB0c3RhdHVzZ3JpZGVsZW1lbnQnKTtcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwc3RvcmUnKTtcbmltcG9ydCBlY291cnNlV29ya0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uL2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcyA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMnKTtcbmltcG9ydCBSZXVzZUJ1dHRvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9yZXVzZWJ1dHRvbicpO1xuaW1wb3J0IFRvZ2dsZUJ1dHRvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvdG9nZ2xlYnV0dG9uJyk7XG5pbXBvcnQgY29tcGFyZXJMaXN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9zb3J0aW5nL3NvcnRiYXNlL2NvbXBhcmVybGlzdCcpO1xuaW1wb3J0IHNvcnRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3NvcnRpbmcvc29ydGhlbHBlcicpO1xuaW1wb3J0IHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9hY3Rpb25zL3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbmFjdGlvbmNyZWF0b3InKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHNlbGVjdCByZXNwb25zZSBncmlkIHZpZXdcbiAqL1xuY2xhc3MgU2VsZWN0UmVzcG9uc2VIZWxwZXIgZXh0ZW5kcyBzdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2Uge1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgQ2VudHJlIFJvdyBEZWZpbml0aW9uXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvbkNlbnRyZUxpc3RcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVDZW50cmVSb3dEZWZpbml0aW9uKHN0YW5kYXJkaXNhdGlvbkNlbnRyZUxpc3Q6IFN0YW5kYXJkaXNhdGlvbkNlbnRyZURldGFpbHNMaXN0KSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24gPSBqb3NuUmVmUmVzb2x2ZXIucmVzb2x2ZVJlZnMoc3RhbmRhcmRpc2F0aW9uR3JpZENvbHVtbnNKc29uKTtcbiAgICAgICAgdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuTGlzdDxncmlkUm93PigpO1xuXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcbiAgICAgICAgbGV0IGlzU2VlZFJlc3BvbnNlOiBib29sZWFuO1xuICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uQ2VudHJlTGlzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHN0YW5kYXJkaXNhdGlvbkNlbnRyZUxpc3QuY2VudHJlTGlzdC5rZXlTZXEoKTtcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHN0YW5kYXJkaXNhdGlvbkNlbnRyZUxpc3QuY2VudHJlTGlzdC50b0FycmF5KCk7XG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VMaXN0TGVuZ3RoID0gX3Jlc3BvbnNlTGlzdERhdGEubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5zdGFuZGFyZGlzYXRpb25zZXR1cC5TZWxlY3RSZXNwb25zZS5DZW50cmUuR3JpZENvbHVtbnM7XG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xuXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBTdGFuZGFyZGlzYXRpb25DZW50cmVEZXRhaWxzID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQ2VudHJlXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5jZW50cmVOdW1iZXIsIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU2NyaXB0czpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NjcmlwdHNfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLnRvdGFsU2NyaXB0cy50b1N0cmluZygpLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNjcmlwdHNBdmFpbGFibGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TY3JpcHRzQXZhaWxhYmxlXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5hdmFpbGFibGVTY3JpcHRzLnRvU3RyaW5nKCksIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuRmlyc3RTY2FubmVkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfRmlyc3RTY2FubmVkXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY0Zvcm1hdHRlZERhdGVFbGVtZW50KHJlc3BvbnNlRGF0YS5maXJzdFNjYW5uZWQsIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmlzSGlkZGVuID0gdGhpcy5nZXRDZWxsVmlzaWJpbGl0eShfcmVzcG9uc2VDb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS51bmlxdWVJZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24sIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRDZW50cmVJZCA9PT0gcmVzcG9uc2VEYXRhLnVuaXF1ZUlkID8gJ3JvdyBzZWxlY3RlZCcgOiAncm93J1xuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3dvcmtMaXN0Um93Q29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgZm9yIGdldHRpbmcgdGhlIGZyb3plbiByb3cgYm9keSBmb3IgU1REIHdvcmtsaXN0XG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGF0YVxuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVN0YW5kYXJkaXNhdGlvbkZyb3plblJvd0JvZHlSZXVzYWJsZUdyaWQocmV1c2FibGVSZXNwb25zZXNMaXN0OiBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+LFxuICAgICAgICBjb21wYXJlck5hbWU/OiBzdHJpbmcsXG4gICAgICAgIHNvcnREaXJlY3Rpb24/OiBlbnVtcy5Tb3J0RGlyZWN0aW9uKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuXG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xuICAgICAgICBsZXQgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XG4gICAgICAgIGxldCBfcmV1c2FibGVSZXNwb25zZUxpc3REYXRhOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHNbXTtcbiAgICAgICAgbGV0IF9zdGRSZXNwb25zZUNvbHVtbjogYW55O1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuICAgICAgICBsZXQgY3NzQ2xhc3M6IHN0cmluZztcblxuICAgICAgICBfcmV1c2FibGVSZXNwb25zZUxpc3REYXRhID0gcmV1c2FibGVSZXNwb25zZXNMaXN0LnRvQXJyYXkoKTtcbiAgICAgICAgbGV0IF9jb21wYXJlck5hbWUgPSAoc29ydERpcmVjdGlvbiA9PT0gZW51bXMuU29ydERpcmVjdGlvbi5Bc2NlbmRpbmcpID8gY29tcGFyZXJOYW1lIDogY29tcGFyZXJOYW1lICsgJ0Rlc2MnO1xuICAgICAgICBsZXQgc29ydGVkRGF0YTogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPiA9IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4oXG4gICAgICAgICAgICBzb3J0SGVscGVyLnNvcnQoX3JldXNhYmxlUmVzcG9uc2VMaXN0RGF0YSwgY29tcGFyZXJMaXN0W19jb21wYXJlck5hbWVdKSk7XG4gICAgICAgIF9yZXVzYWJsZVJlc3BvbnNlTGlzdERhdGEgPSBzb3J0ZWREYXRhLnRvQXJyYXkoKTtcblxuICAgICAgICBpZiAoX3JldXNhYmxlUmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgcHJldmlvdXNNYXJraW5nTW9kZTogZW51bXMuTWFya2luZ01vZGUgPSBlbnVtcy5NYXJraW5nTW9kZS5Ob25lO1xuICAgICAgICAgICAgbGV0IGdyaWRTZXEgPSBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+KF9yZXVzYWJsZVJlc3BvbnNlTGlzdERhdGEpLmtleVNlcSgpO1xuICAgICAgICAgICAgbGV0IHJlc3BvbnNlTGlzdExlbmd0aCA9IF9yZXVzYWJsZVJlc3BvbnNlTGlzdERhdGEubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgc3RkUmVzcG9uc2VDb3VudCA9IDA7IHN0ZFJlc3BvbnNlQ291bnQgPCByZXNwb25zZUxpc3RMZW5ndGg7IHN0ZFJlc3BvbnNlQ291bnQrKykge1xuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHN0ZCB3b3JrbGlzdCBkYXRhIHJvd1xuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VMaXN0RGF0YVtzdGFuZGFyZGlzYXRpb25SZXNwb25zZUxpc3RDb3VudF1cbiAgICAgICAgICAgICAgICAvLyBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XG4gICAgICAgICAgICAgICAgbGV0IHN0ZFJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzID0gX3JldXNhYmxlUmVzcG9uc2VMaXN0RGF0YVtzdGRSZXNwb25zZUNvdW50XTtcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24sIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlNlbGVjdFJlc3BvbnNlLCB0cnVlLCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiLlByZXZpb3VzU2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBTVEQgd29ya2xpc3QgY29sdW1uc1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRSZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vU3dpdGNoIHN0YXRlbWVudCBmb3IgYWRkaW5nIGZyb3plbiBjb2x1bW5zIGluIGZ1dHVyZS5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfc3RkUmVzcG9uc2VDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNjcmlwdElkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHN0ZFJlc3BvbnNlQ291bnQpICsgJ19TY3JpcHRJZF8nICsgc3RkUmVzcG9uc2VDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFJlc3BvbnNlSWRDb2x1bW5FbGVtZW50KHN0ZFJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLmNhbmRpZGF0ZVNjcmlwdElkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKCdjb2wtc2NyaXB0LWlkIGhlYWRlci1jb2wnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU3RhdHVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICdyZXVzYWJsZXJlc3BvbnNlJyArICdfSXNfUmV1c2VkXycgKyBzdGRSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVN0YXR1c2VzID0gSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5yZXVzZUJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGRSZXNwb25zZURhdGEucmVVc2VkUUlHLCBzdGRSZXNwb25zZUNvdW50LCBzdGRSZXNwb25zZURhdGEuZGlzcGxheUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLnNldENlbGxTdHlsZSgnY29sLXJlLXVzZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3N0ZFdvcmtMaXN0Q2VsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5PcmdpbmFsU2Vzc2lvbjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChzdGRSZXNwb25zZUNvdW50KSArICdfT3JnaW5hbF9TZXNzaW9uXycgKyBzdGRSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChzdGRSZXNwb25zZURhdGEub3JpZ2luYWxTZXNzaW9uLnRvU3RyaW5nKCksIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKCdjb2wtb3JnLXNlc3Npb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuT3JnaW5hbENsYXNzaWZpY2F0aW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHN0ZFJlc3BvbnNlQ291bnQpICsgJ19PcmdpbmFsX0NsYXNzaWZpY2F0aW9uXycgKyBzdGRSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLm9yaWdpbmFsQ2xhc3NpZmljYXRpb24udG9TdHJpbmcoKSwga2V5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoJ2NvbC1vcmctY2xhc3NpZmljYXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLmRpc3BsYXlJZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIF9zdGRXb3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldXNlIGJ1dHRvbiByZXR1cm4gXG4gICAgICogQHBhcmFtIGlzRGlzYWJsZWRcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcGFyYW0gZGlzcGxheUlkXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXVzZUJ1dHRvbihpc0Rpc2FibGVkOiBib29sZWFuLCBpZDogbnVtYmVyLCBkaXNwbGF5SWQ6IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KCksXG4gICAgICAgICAgICBkaXNwbGF5SWQ6IGRpc3BsYXlJZFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZXVzZUJ1dHRvbiwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9uY2xpY2sgaGlkZSByZXNwb25zZVxuICAgICAqL1xuICAgIHByaXZhdGUgaGlkZVJlc3BvbnNlKGlzQ2hlY2tlZDogYm9vbGVhbiwgZGlzcGxheUlEOiBzdHJpbmcsIGtleTogc3RyaW5nKTogSlNYLkVsZW1lbnQge1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBpZDoga2V5ICsgJ19pZCcsXG4gICAgICAgICAgICBrZXk6IGtleSArICdfa2V5JyxcbiAgICAgICAgICAgIGlzQ2hlY2tlZDogaXNDaGVja2VkLFxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxuICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkhpZGVSZXNwb25zZVRvZ2dsZUNoYW5nZSxcbiAgICAgICAgICAgIHN0eWxlOiBudWxsLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnZm9ybS1jb21wb25lbnQnLFxuICAgICAgICAgICAgdGl0bGU6ICdIaWRlIFJlc3BvbnNlJyxcbiAgICAgICAgICAgIGlzRGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgb25UZXh0OiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLnRvZ2dsZS1idXR0b24tc3RhdGVzLnllcycpLFxuICAgICAgICAgICAgb2ZmVGV4dDogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy50b2dnbGUtYnV0dG9uLXN0YXRlcy5ubycpLFxuICAgICAgICAgICAgZGlzcGxheUlkOiBkaXNwbGF5SURcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9nZ2xlQnV0dG9uLCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZm9yIGhhbmRsaW5nIHRoZSBoaWRlIHJlc3BvbnNlIHRvZ2dsZSBjaGFuZ2UgZXZlbnQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBvbkhpZGVSZXNwb25zZVRvZ2dsZUNoYW5nZShldnQ6IGFueSwgaXNDaGVja2VkOiBib29sZWFuLCBkaXNwbGF5SWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnVwZGF0ZUhpZGVSZXNwb25zZVN0YXR1cyghaXNDaGVja2VkLCBkaXNwbGF5SWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHJldXNhYmxlIHJlc3BvbnNlIHJvdyBkZWZpbml0aW9uXG4gICAgICogQHBhcmFtIHJldXNhYmxlUmVzcG9uc2VzTGlzdFxuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVJldXNhYmxlUmVzcG9uc2VzUm93RGVmaW5pdGlvbihyZXVzYWJsZVJlc3BvbnNlc0xpc3Q6IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4sXG4gICAgICAgIGNvbXBhcmVyTmFtZT86IHN0cmluZyxcbiAgICAgICAgc29ydERpcmVjdGlvbj86IGVudW1zLlNvcnREaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpvc25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25HcmlkQ29sdW1uc0pzb24pO1xuICAgICAgICB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+KCk7XG5cbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xuICAgICAgICBsZXQgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuXG4gICAgICAgIGxldCBfcmV1c2FibGVSZXNwb25zZUxpc3REYXRhID0gcmV1c2FibGVSZXNwb25zZXNMaXN0LnRvQXJyYXkoKTtcbiAgICAgICAgbGV0IF9jb21wYXJlck5hbWUgPSAoc29ydERpcmVjdGlvbiA9PT0gZW51bXMuU29ydERpcmVjdGlvbi5Bc2NlbmRpbmcpID8gY29tcGFyZXJOYW1lIDogY29tcGFyZXJOYW1lICsgJ0Rlc2MnO1xuICAgICAgICBsZXQgc29ydGVkRGF0YSA9IEltbXV0YWJsZS5MaXN0PGFueT4oXG4gICAgICAgICAgICBzb3J0SGVscGVyLnNvcnQoX3JldXNhYmxlUmVzcG9uc2VMaXN0RGF0YSwgY29tcGFyZXJMaXN0W19jb21wYXJlck5hbWVdKSk7XG4gICAgICAgIF9yZXVzYWJsZVJlc3BvbnNlTGlzdERhdGEgPSBzb3J0ZWREYXRhLnRvQXJyYXkoKTtcbiAgICAgICAgbGV0IHJlc3BvbnNlTGlzdExlbmd0aCA9IF9yZXVzYWJsZVJlc3BvbnNlTGlzdERhdGEubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IHJldXNhYmxlUmVzcG9uc2VDb3VudCA9IDA7IHJldXNhYmxlUmVzcG9uc2VDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmV1c2FibGVSZXNwb25zZUNvdW50KyspIHtcbiAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XG4gICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLlByZXZpb3VzU2Vzc2lvbi5SZXVzYWJsZVJlc3BvbnNlLkdyaWRDb2x1bW5zO1xuICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XG4gICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcblxuICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxuICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzID0gX3JldXNhYmxlUmVzcG9uc2VMaXN0RGF0YVtyZXVzYWJsZVJlc3BvbnNlQ291bnRdO1xuICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcbiAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XG4gICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gJ3JldXNhYmxlcmVzcG9uc2UnICsgJ19DZW50cmVfJyArIHJldXNhYmxlUmVzcG9uc2VDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEuY2VudHJlTnVtYmVyLnRvU3RyaW5nKCksIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkNlbnRyZUNhbmRpZGF0ZU51bTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICdyZXVzYWJsZXJlc3BvbnNlJyArICdfQ2FuZGlkYXRlXycgKyByZXVzYWJsZVJlc3BvbnNlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLmNlbnRyZUNhbmRpZGF0ZU51bWJlci50b1N0cmluZygpLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJrOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gJ3JldXNhYmxlcmVzcG9uc2UnICsgJ19NYXJrXycgKyByZXVzYWJsZVJlc3BvbnNlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLnRvdGFsTWFya1ZhbHVlLnRvU3RyaW5nKCksIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk9yZ2luYWxNYXJrc1VwZGF0ZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSAncmV1c2FibGVyZXNwb25zZScgKyAnX09yZ2luYWxfTWFya3NfVXBkYXRlZF8nICsgcmV1c2FibGVSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0Q29udmVydFRleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5vcmlnaW5hbE1hcmtzVXBkYXRlZC50b1N0cmluZygpLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5IaWRlUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSAncmV1c2FibGVyZXNwb25zZScgKyAnX0hpZGVSZXNwb25zZV8nICsgcmV1c2FibGVSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuaGlkZVJlc3BvbnNlKHJlc3BvbnNlRGF0YS5oaWRkZW4sIHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQsIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsdGltZXJldXNlZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICdyZXVzYWJsZXJlc3BvbnNlJyArICdfVG90YWx0aW1lcmV1c2VkXycgKyByZXVzYWJsZVJlc3BvbnNlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG9vbFRpcCA9IHRoaXMuZ2V0VG9vbFRpcFRvdGFsVGltZVJldXNlZChyZXNwb25zZURhdGEucmV1c2VkQ29tcG9uZW50VG9vbHRpcERhdGEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEudGltZXNSZVVzZWQudG9TdHJpbmcoKSwga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xUaXApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MYXN0VXNlZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICdyZXVzYWJsZXJlc3BvbnNlJyArICdfTGFzdFVzZWRfJyArIHJldXNhYmxlUmVzcG9uc2VDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEubGFzdFVzZWQudG9TdHJpbmcoKSwga2V5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVGltZXNSZXVzZWRJblRoaXNTZXNzaW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gJ3JldXNhYmxlcmVzcG9uc2UnICsgJ19UaW1lc19SZXVzZWRfSW5fVGhpc19TZXNzaW9uXycgKyByZXVzYWJsZVJlc3BvbnNlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2Vzc2lvblRvb2xUaXAgPSB0aGlzLmdldFRvb2xUaXBUb3RhbFRpbWVSZXVzZWQocmVzcG9uc2VEYXRhLnJldXNlZFNlc3Npb25Ub29sdGlwRGF0YSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEudGltZXNSZVVzZWRTZXNzaW9uLnRvU3RyaW5nKCksIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblRvb2xUaXApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5VcGRhdGVQZW5kaW5nOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gJ3JldXNhYmxlcmVzcG9uc2UnICsgJ19VcGRhdGVfUGVuZGluZ18nICsgcmV1c2FibGVSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0Q29udmVydFRleHRFbGVtZW50KHJlc3BvbnNlRGF0YS51cGRhdGVzUGVuZGluZy50b1N0cmluZygpLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Jc1JldXNlZEluVGhpc1FJRzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICdyZXVzYWJsZXJlc3BvbnNlJyArICdfSXNfUmV1c2VkX0luX1RoaXNfUUlHJyArIHJldXNhYmxlUmVzcG9uc2VDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldENvbnZlcnRUZXh0RWxlbWVudChyZXNwb25zZURhdGEucmVVc2VkUUlHLnRvU3RyaW5nKCksIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPSAoZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcykgPyBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzIDogJyc7XG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdyhcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmNhbmRpZGF0ZVNjcmlwdElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLCB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3dvcmtMaXN0Um93Q29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgVG9vbHRpcCBmb3IgdG90YWwgdGltZSByZXVzZWQgY291bHVtblxuICAgICAqIEBwYXJhbSB0b3RhbFRpbWVzUmV1c2VkVG9vbHRpcFxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0VG9vbFRpcFRvdGFsVGltZVJldXNlZCh0b3RhbFRpbWVzUmV1c2VkVG9vbHRpcDogSW1tdXRhYmxlLkxpc3Q8Q29tcG9uZW50VG9vbHRpcD4sIGlzVG9vbHRpcEZvcnRoaXNTZXNzaW9uOiBib29sZWFuKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRvb2xUaXBEYXRhID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxuICAgICAgICAgICAgKCdzdGFuZGFyZGlzYXRpb24tc2V0dXAucHJldmlvdXMtc2Vzc2lvbi5yZXVzZWQtdG9vbHRpcC5ub3QtcmV1c2VkJyk7XG4gICAgICAgIGxldCB0b29sVGlwTGlzdCA9IEltbXV0YWJsZS5MaXN0PENvbXBvbmVudFRvb2x0aXA+KHRvdGFsVGltZXNSZXVzZWRUb29sdGlwKS50b0FycmF5KCk7XG4gICAgICAgIGxldCB0b29sVGlwTGlzdExlbmd0aCA9IHRvb2xUaXBMaXN0Lmxlbmd0aDtcbiAgICAgICAgaWYgKHRvb2xUaXBMaXN0TGVuZ3RoICE9PSBudWxsICYmIHRvb2xUaXBMaXN0TGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdG9vbFRpcERhdGEgPSBpc1Rvb2x0aXBGb3J0aGlzU2Vzc2lvbiA/XG4gICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxuICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlZC10b29sdGlwLnJldXNlZC1pbi10aGlzLXNlc3Npb24tdG9vbHRpcCcpIDpcbiAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XG4gICAgICAgICAgICAgICAgICAgICgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2VkLXRvb2x0aXAucmV1c2VkLW92ZXJhbGwtdG9vbHRpcCcpO1xuICAgICAgICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCB0b29sVGlwTGlzdExlbmd0aDsgYSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJyID0gdG9vbFRpcExpc3RbYV07XG4gICAgICAgICAgICAgICAgaWYgKHJyLm1hcmtpbmdfTW9kZSA9PT0gJ0VTIFRlYW0gQXBwcm92YWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJyLm1hcmtpbmdfTW9kZSA9ICdFU19UZWFtQXBwcm92YWwnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocnIubWFya2luZ19Nb2RlID09PSAnUHJlX1N0YW5kYXJkaXNhdGlvbicgfHwgcnIubWFya2luZ19Nb2RlID09PSAnUHJlIFN0YW5kYXJkaXNhdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcnIubWFya2luZ19Nb2RlID0gJ1ByZVN0YW5kYXJkaXNhdGlvbic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvb2xUaXBEYXRhID0gdG9vbFRpcERhdGEgKyAnICdcbiAgICAgICAgICAgICAgICAgICAgKyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlZC10b29sdGlwLicgKyByci5tYXJraW5nX01vZGUpXG4gICAgICAgICAgICAgICAgICAgICsgJygnICsgcnIudGltZXNVc2VkXG4gICAgICAgICAgICAgICAgICAgICsgKGlzVG9vbHRpcEZvcnRoaXNTZXNzaW9uID8gKCcpJykgOiAoJy8nICsgcnIuc2Vzc2lvbiArICcpJykpXG4gICAgICAgICAgICAgICAgICAgICsgKGEgPCB0b29sVGlwTGlzdExlbmd0aCAtIDEgPyAnLCcgOiAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvb2xUaXBEYXRhO1xuICAgIH1cblxuXHQvKipcblx0ICogZ2VuZXJhdGUgU2NyaXB0IFJvdyBkZWZpbml0aW9uXG5cdCAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TY3JpcHRMaXN0IFxuXHQgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVTY3JpcHRSb3dEZWZpbml0aW9uKHN0YW5kYXJkaXNhdGlvblNjcmlwdExpc3Q6IFN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHNMaXN0KTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0gam9zblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHN0YW5kYXJkaXNhdGlvbkdyaWRDb2x1bW5zSnNvbik7XG4gICAgICAgIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4oKTtcblxuICAgICAgICBsZXQgX3Jvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xuICAgICAgICBsZXQgX3Jvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XG4gICAgICAgIGxldCBfcm93OiBncmlkUm93O1xuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcbiAgICAgICAgbGV0IF9jZWxsOiBncmlkQ2VsbDtcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuICAgICAgICBsZXQgaXNTZWVkUmVzcG9uc2U6IGJvb2xlYW47XG4gICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TY3JpcHRMaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gc3RhbmRhcmRpc2F0aW9uU2NyaXB0TGlzdC5jZW50cmVTY3JpcHRMaXN0LmtleVNlcSgpO1xuICAgICAgICAgICAgbGV0IF9yZXNwb25zZUxpc3REYXRhID0gc3RhbmRhcmRpc2F0aW9uU2NyaXB0TGlzdC5jZW50cmVTY3JpcHRMaXN0LnRvQXJyYXkoKTtcbiAgICAgICAgICAgIGxldCByZXNwb25zZUxpc3RMZW5ndGggPSBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGxldCByZXNwb25zZUxpc3RDb3VudCA9IDA7IHJlc3BvbnNlTGlzdENvdW50IDwgcmVzcG9uc2VMaXN0TGVuZ3RoOyByZXNwb25zZUxpc3RDb3VudCsrKSB7XG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLlNlbGVjdFJlc3BvbnNlLlNjcmlwdC5HcmlkQ29sdW1ucztcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgICBfcm93ID0gbmV3IGdyaWRSb3coKTtcblxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlscyA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcbiAgICAgICAgICAgICAgICAgICAgX2NlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkNlbnRyZUNhbmRpZGF0ZU51bTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0NlbnRyZUNhbmRpZGF0ZU5vXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEuY2VudHJlQ2FuZGlkYXRlTnVtYmVyLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlN0YXR1czpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1N0YXR1c18nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFNjcmlwdFN0YXR1c0VsZW1lbnQocmVzcG9uc2VEYXRhLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU0xBT0luZGljYXRvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0U0xBT0luZGljYXRvckVsZW1lbnQocmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5RdWVzdGlvbkl0ZW1zOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuZUJvb2ttYXJraW5nKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19RdWVzdGlvbkl0ZW1zXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLnF1ZXN0aW9uSXRlbXMudG9TdHJpbmcoKSwga2V5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfY2VsbC5pc0hpZGRlbiA9IHRoaXMuZ2V0Q2VsbFZpc2liaWxpdHkoX3Jlc3BvbnNlQ29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgX2NlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIF9yb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9jZWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3Jvd0NvbGxlY3Rpb24ucHVzaChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmNhbmRpZGF0ZVNjcmlwdElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24sIHVuZGVmaW5lZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfcm93Q29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbjtcbiAgICB9XG5cblx0LyoqXG5cdCAqIGdldCBTY3JpcHQgc3RhdHVzIGVsZW1lbnQgZm9yIHdvcmtsaXN0XG5cdCAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzIEdldCB0aGUgc2NyaXB0IHN0YXR1cyBlbGVtZW50XG5cdCAqIEBwYXJhbSBzZXEgXG5cdCAqL1xuICAgIHByaXZhdGUgZ2V0U2NyaXB0U3RhdHVzRWxlbWVudChzdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzOiBTdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzLCBzZXE6IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgaXNBbGxvY2F0ZWRBTGl2ZTogc3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlscy5pc0FsbG9jYXRlZEFMaXZlLFxuICAgICAgICAgICAgaXNVc2VkRm9yUHJvdmlzaW9uYWxNYXJraW5nOiBzdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzLmlzVXNlZEZvclByb3Zpc2lvbmFsTWFya2luZyxcbiAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U6IGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChzY3JpcHRTdGF0dXNHcmlkRWxlbWVudCwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cbn1cblxuZXhwb3J0ID0gU2VsZWN0UmVzcG9uc2VIZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcnMvc2VsZWN0cmVzcG9uc2VoZWxwZXIudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTs7QUF3YkE7QUF0YkE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 414:
/* no static exports found */
/* all exports used */
/*!***************************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetuphelpers/unclassifiedhelper.ts ***!
  \***************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar standardisationsetuphelperbase = __webpack_require__(/*! ./standardisationsetuphelperbase */ 292);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar jsonRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar standardisationsetuptGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/standardisationsetupgridcolumns.json */ 273);\r\nvar standardisationSetupGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/standardisationsetupgridcolumns.json */ 273);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar stdSetupPermissionHelper = __webpack_require__(/*! ../../../../utility/standardisationsetup/standardisationsetuppermissionhelper */ 332);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\nvar comparerList = __webpack_require__(/*! ../../../../utility/sorting/sortbase/comparerlist */ 262);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar sortHelper = __webpack_require__(/*! ../../../../utility/sorting/sorthelper */ 272);\r\nvar submitHelper = __webpack_require__(/*! ../../submit/submithelper */ 282);\r\n/**\r\n * Helper class for UnClassified grid view\r\n */\r\nvar UnClassifiedHelper = /** @class */ (function (_super) {\r\n    __extends(UnClassifiedHelper, _super);\r\n    function UnClassifiedHelper() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._stdSetupPermissionCCValue = stdSetupPermissionHelper\r\n            .getSTDSetupPermissionCCValueByMarkSchemeGroupId(qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId);\r\n        return _this;\r\n    }\r\n    /**\r\n     * generateUnClassifiedFrozenRowBody is used for generating row collection for STD WorkList Grid\r\n     * @param standardisationResponseListData\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    UnClassifiedHelper.prototype.generateStandardisationFrozenRowBody = function (comparerName, sortDirection, standardisationSetupType, gridType) {\r\n        // Get frozen column collection.\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        // Get the Frozen row body for STD Worklist\r\n        var _stdWorkListFrozenRowBodyCollection = this.getFrozenRowBody(standardisationSetupType, gridType, comparerName);\r\n        return _stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Method for getting the frozen row body for STD worklist\r\n     * @param comparerName\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    UnClassifiedHelper.prototype.getFrozenRowBody = function (standardisationSetupType, gridType, comparerName) {\r\n        var _stdWorkListRowHeaderCellcollection = Array();\r\n        var _stdWorkListRowCollection = Array();\r\n        var _stdResponseListData;\r\n        var _stdResponseColumn;\r\n        var componentPropsJson;\r\n        var _stdWorkListCell;\r\n        var key;\r\n        var cssClass;\r\n        var submitResponseHelper = new submitHelper();\r\n        _stdResponseListData = Immutable.List(standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses);\r\n        if (_stdResponseListData != null) {\r\n            var sortedUnclassifiedData = Immutable.List(sortHelper.sort(_stdResponseListData.toArray(), comparerList[comparerName]));\r\n            var previousMarkingMode = enums.MarkingMode.None;\r\n            var gridSeq_1 = Immutable.List(_stdResponseListData).keySeq();\r\n            var that_1 = this;\r\n            _stdResponseListData = sortedUnclassifiedData;\r\n            sortedUnclassifiedData.forEach(function (stdResponseData, index) {\r\n                // Getting the std worklist data row\r\n                _stdWorkListRowHeaderCellcollection = new Array();\r\n                // collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var gridColumns = that_1.getGridColumns(that_1.resolvedGridColumnsJson, standardisationSetupType, true, gridType);\r\n                var gridColumnLength = gridColumns.length;\r\n                // Getting the STD worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _stdResponseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _stdWorkListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    //Switch statement for adding frozen columns in future.\r\n                    switch (_stdResponseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq_1.get(index) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _stdWorkListCell.columnElement = that_1.getResponseIdColumnElement(stdResponseData, key, true);\r\n                            _stdWorkListCell.setCellStyle('col-response header-col');\r\n                            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                            break;\r\n                    }\r\n                }\r\n                if (stdResponseData) {\r\n                    // Classify button enabling/disabling in unclassified worklist\r\n                    var responseStatuses = submitResponseHelper.\r\n                        submitButtonValidate(stdResponseData, stdResponseData.markingProgress, false, false);\r\n                    // Creating the table row collection.\r\n                    _stdWorkListRowCollection.push(that_1.getGridRow(stdResponseData.displayId.toString(), _stdWorkListRowHeaderCellcollection, undefined, undefined, responseStatuses));\r\n                }\r\n            });\r\n        }\r\n        var _stdWorkListFrozenRowBodyCollection = Immutable.fromJS(_stdWorkListRowCollection);\r\n        return _stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Generate row definition for myTeam and Help other examiners tab\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param tabSelection\r\n     * @param gridType\r\n     */\r\n    UnClassifiedHelper.prototype.generateStandardisationRowDefinion = function (comparerName, sortDirection, tabSelection, gridType) {\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationsetuptGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = this.getRowDefinition(tabSelection, gridType, comparerName);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Returns the row definition for unclassifed worklist\r\n     * @param tabSelection\r\n     * @param gridType\r\n     * @param comparerName\r\n     */\r\n    UnClassifiedHelper.prototype.getRowDefinition = function (tabSelection, gridType, comparerName) {\r\n        var _unClassifiedRowCollection = Array();\r\n        var index = 0;\r\n        var _unClassifiedData;\r\n        var sortedData;\r\n        var _unClassifiedResponseListData;\r\n        var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, tabSelection, false, gridType);\r\n        _unClassifiedData = standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses;\r\n        _unClassifiedResponseListData = Immutable.List(_unClassifiedData);\r\n        sortedData = Immutable.List(sortHelper.sort(_unClassifiedData, comparerList[comparerName]));\r\n        if (_unClassifiedResponseListData.count() > 0) {\r\n            _unClassifiedRowCollection = this.getRowData(sortedData, gridColumns, gridType, index, enums.StandardisationSetup.UnClassifiedResponse);\r\n        }\r\n        this._unClassifiedListCollection = Immutable.fromJS(_unClassifiedRowCollection);\r\n        return this._unClassifiedListCollection;\r\n    };\r\n    /**\r\n     * Change json object to immutable list\r\n     * @param data\r\n     */\r\n    UnClassifiedHelper.prototype.getImmutableUnclassifiedList = function (data) {\r\n        var immutableList = Immutable.List(data);\r\n        data = immutableList;\r\n        return data;\r\n    };\r\n    return UnClassifiedHelper;\r\n}(standardisationsetuphelperbase));\r\nmodule.exports = UnClassifiedHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy91bmNsYXNzaWZpZWRoZWxwZXIudHM/ZTIwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9lbnVtcycpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJiYXNlID0gcmVxdWlyZSgnLi9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2UnKTtcclxuaW1wb3J0IGdyaWRSb3cgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZHJvdycpO1xyXG5pbXBvcnQgZ3JpZENvbHVtbk5hbWVzID0gcmVxdWlyZSgnLi4vZ3JpZGNvbHVtbm5hbWVzJyk7XHJcbmltcG9ydCBncmlkQ2VsbCA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9ncmlkY2VsbCcpO1xyXG5pbXBvcnQganNvblJlZlJlc29sdmVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9qc29ucmVmcmVzb2x2ZXIvam9zbnJlZnJlc29sdmVyJyk7XHJcbmxldCBzdGFuZGFyZGlzYXRpb25zZXR1cHRHcmlkQ29sdW1uc0pzb24gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBncmlkY29sdW1ucy5qc29uJyk7XHJcbmltcG9ydCB0YWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy90YWdzL3RhZ3N0b3JlJyk7XHJcbmxldCBzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGdyaWRjb2x1bW5zLmpzb24nKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgR2VuZXJpY1RleHRDb2x1bW4gPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvZ2VuZXJpY3RleHRjb2x1bW4nKTtcclxuaW1wb3J0IFJpZ09yZGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3JpZ29yZGVyJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IHN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC90eXBpbmdzL3N0YW5kYXJkaXNhdGlvbnNldHVwY2NkYXRhJyk7XHJcbmltcG9ydCBzdGRTZXR1cFBlcm1pc3Npb25IZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwcGVybWlzc2lvbmhlbHBlcicpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IGNvbXBhcmVyTGlzdCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvc29ydGluZy9zb3J0YmFzZS9jb21wYXJlcmxpc3QnKTtcclxuaW1wb3J0IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uc2V0dXBzdG9yZScpO1xyXG5pbXBvcnQgc29ydEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvc29ydGluZy9zb3J0aGVscGVyJyk7XHJcbmltcG9ydCBzdWJtaXRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9zdWJtaXQvc3VibWl0aGVscGVyJyk7XHJcblxyXG5cclxuLyoqXHJcbiAqIEhlbHBlciBjbGFzcyBmb3IgVW5DbGFzc2lmaWVkIGdyaWQgdmlld1xyXG4gKi9cclxuY2xhc3MgVW5DbGFzc2lmaWVkSGVscGVyIGV4dGVuZHMgc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJiYXNlIHtcclxuXHJcbiAgICBwcml2YXRlIF9zdGRTZXR1cFBlcm1pc3Npb25DQ1ZhbHVlOiBzdHJpbmcgPSBzdGRTZXR1cFBlcm1pc3Npb25IZWxwZXJcclxuICAgICAgICAuZ2V0U1REU2V0dXBQZXJtaXNzaW9uQ0NWYWx1ZUJ5TWFya1NjaGVtZUdyb3VwSWQocWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQpO1xyXG5cclxuICAgIC8qIEdyaWQgcm93cyBjb2xsZWN0aW9uICovXHJcbiAgICBwdWJsaWMgX3VuQ2xhc3NpZmllZExpc3RDb2xsZWN0aW9uOiBJbW11dGFibGUuTGlzdDxncmlkUm93PjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGdlbmVyYXRlVW5DbGFzc2lmaWVkRnJvemVuUm93Qm9keSBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBTVEQgV29ya0xpc3QgR3JpZFxyXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlTGlzdERhdGFcclxuICAgICAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGVcclxuICAgICAqIEBwYXJhbSBncmlkVHlwZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5KGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuXHJcbiAgICAgICAgLy8gR2V0IGZyb3plbiBjb2x1bW4gY29sbGVjdGlvbi5cclxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0ganNvblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHN0YW5kYXJkaXNhdGlvblNldHVwR3JpZENvbHVtbnNKc29uKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBGcm96ZW4gcm93IGJvZHkgZm9yIFNURCBXb3JrbGlzdFxyXG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RGcm96ZW5Sb3dCb2R5Q29sbGVjdGlvbiA9IHRoaXMuZ2V0RnJvemVuUm93Qm9keShcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLCBncmlkVHlwZSwgY29tcGFyZXJOYW1lKTtcclxuICAgICAgICByZXR1cm4gX3N0ZFdvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgZm9yIGdldHRpbmcgdGhlIGZyb3plbiByb3cgYm9keSBmb3IgU1REIHdvcmtsaXN0XHJcbiAgICAgKiBAcGFyYW0gY29tcGFyZXJOYW1lIFxyXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSBcclxuICAgICAqIEBwYXJhbSBncmlkVHlwZSBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEZyb3plblJvd0JvZHkoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcclxuICAgICAgICBncmlkVHlwZTogZW51bXMuR3JpZFR5cGUsIGNvbXBhcmVyTmFtZTogc3RyaW5nKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG5cclxuICAgICAgICBsZXQgX3N0ZFdvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcclxuICAgICAgICBsZXQgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9zdGRSZXNwb25zZUxpc3REYXRhOiBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+O1xyXG4gICAgICAgIGxldCBfc3RkUmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuICAgICAgICBsZXQgY3NzQ2xhc3M6IHN0cmluZztcclxuICAgICAgICBsZXQgc3VibWl0UmVzcG9uc2VIZWxwZXI6IHN1Ym1pdEhlbHBlciA9IG5ldyBzdWJtaXRIZWxwZXIoKTtcclxuXHJcbiAgICAgICAgX3N0ZFJlc3BvbnNlTGlzdERhdGEgPSBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+KFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0YW5kYXJkaXNhdGlvblNldFVwUmVzcG9uc2VkZXRhaWxzLnN0YW5kYXJkaXNhdGlvblJlc3BvbnNlcyk7XHJcblxyXG4gICAgICAgIGlmIChfc3RkUmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBzb3J0ZWRVbmNsYXNzaWZpZWREYXRhID0gSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPihcclxuICAgICAgICAgICAgICAgIHNvcnRIZWxwZXIuc29ydChfc3RkUmVzcG9uc2VMaXN0RGF0YS50b0FycmF5KCksIGNvbXBhcmVyTGlzdFtjb21wYXJlck5hbWVdKSk7XHJcbiAgICAgICAgICAgIGxldCBwcmV2aW91c01hcmtpbmdNb2RlOiBlbnVtcy5NYXJraW5nTW9kZSA9IGVudW1zLk1hcmtpbmdNb2RlLk5vbmU7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPihfc3RkUmVzcG9uc2VMaXN0RGF0YSkua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgICAgICAgICAgX3N0ZFJlc3BvbnNlTGlzdERhdGEgPSBzb3J0ZWRVbmNsYXNzaWZpZWREYXRhO1xyXG4gICAgICAgICAgICBzb3J0ZWRVbmNsYXNzaWZpZWREYXRhLmZvckVhY2goZnVuY3Rpb24oc3RkUmVzcG9uc2VEYXRhLCBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgc3RkIHdvcmtsaXN0IGRhdGEgcm93XHJcbiAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAvLyBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhhdC5nZXRHcmlkQ29sdW1ucyh0aGF0LnJlc29sdmVkR3JpZENvbHVtbnNKc29uLCBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgIGdyaWRUeXBlKTtcclxuICAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgU1REIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICBfc3RkUmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICAgLy9Td2l0Y2ggc3RhdGVtZW50IGZvciBhZGRpbmcgZnJvemVuIGNvbHVtbnMgaW4gZnV0dXJlLlxyXG4gICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9zdGRSZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmVzcG9uc2VJZENvbHVtbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChpbmRleCkgKyAnX1Jlc3BvbnNlSWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGF0LmdldFJlc3BvbnNlSWRDb2x1bW5FbGVtZW50KHN0ZFJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoJ2NvbC1yZXNwb25zZSBoZWFkZXItY29sJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfc3RkV29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgaWYgKHN0ZFJlc3BvbnNlRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAvLyBDbGFzc2lmeSBidXR0b24gZW5hYmxpbmcvZGlzYWJsaW5nIGluIHVuY2xhc3NpZmllZCB3b3JrbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXNlcyA9IHN1Ym1pdFJlc3BvbnNlSGVscGVyLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0QnV0dG9uVmFsaWRhdGUoc3RkUmVzcG9uc2VEYXRhLCBzdGRSZXNwb25zZURhdGEubWFya2luZ1Byb2dyZXNzLCBmYWxzZSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLmRpc3BsYXlJZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gX3N0ZFdvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSByb3cgZGVmaW5pdGlvbiBmb3IgbXlUZWFtIGFuZCBIZWxwIG90aGVyIGV4YW1pbmVycyB0YWJcclxuICAgICAqIEBwYXJhbSBjb21wYXJlck5hbWUgXHJcbiAgICAgKiBAcGFyYW0gc29ydERpcmVjdGlvbiBcclxuICAgICAqIEBwYXJhbSB0YWJTZWxlY3Rpb24gXHJcbiAgICAgKiBAcGFyYW0gZ3JpZFR5cGUgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZVN0YW5kYXJkaXNhdGlvblJvd0RlZmluaW9uKGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxyXG4gICAgICAgIHRhYlNlbGVjdGlvbjogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4oKTtcclxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0ganNvblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHN0YW5kYXJkaXNhdGlvbnNldHVwdEdyaWRDb2x1bW5zSnNvbik7XHJcbiAgICAgICAgdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaXRpb24odGFiU2VsZWN0aW9uLCBncmlkVHlwZSwgY29tcGFyZXJOYW1lKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSByb3cgZGVmaW5pdGlvbiBmb3IgdW5jbGFzc2lmZWQgd29ya2xpc3RcclxuICAgICAqIEBwYXJhbSB0YWJTZWxlY3Rpb24gXHJcbiAgICAgKiBAcGFyYW0gZ3JpZFR5cGUgXHJcbiAgICAgKiBAcGFyYW0gY29tcGFyZXJOYW1lIFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaXRpb24odGFiU2VsZWN0aW9uOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCwgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlICxcclxuICAgICAgICBjb21wYXJlck5hbWU6IHN0cmluZyk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3VuQ2xhc3NpZmllZFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgbGV0IF91bkNsYXNzaWZpZWREYXRhOiBhbnk7XHJcbiAgICAgICAgbGV0IHNvcnRlZERhdGE6ICBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+O1xyXG4gICAgICAgIGxldCBfdW5DbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YTogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPjtcclxuICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24sIHRhYlNlbGVjdGlvbiwgZmFsc2UsIGdyaWRUeXBlKTtcclxuICAgICAgICBfdW5DbGFzc2lmaWVkRGF0YSA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RhbmRhcmRpc2F0aW9uU2V0VXBSZXNwb25zZWRldGFpbHMuc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzO1xyXG4gICAgICAgIF91bkNsYXNzaWZpZWRSZXNwb25zZUxpc3REYXRhID0gSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPihfdW5DbGFzc2lmaWVkRGF0YSk7XHJcbiAgICAgICAgc29ydGVkRGF0YSA9IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4oc29ydEhlbHBlci5zb3J0KFxyXG4gICAgICAgICAgICBfdW5DbGFzc2lmaWVkRGF0YSwgY29tcGFyZXJMaXN0W2NvbXBhcmVyTmFtZV0pKTtcclxuICAgICAgICBpZiAoX3VuQ2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEuY291bnQoKSA+IDApe1xyXG4gICAgICAgICAgICBfdW5DbGFzc2lmaWVkUm93Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGF0YShzb3J0ZWREYXRhLCBncmlkQ29sdW1ucywgZ3JpZFR5cGUsIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuVW5DbGFzc2lmaWVkUmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91bkNsYXNzaWZpZWRMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3VuQ2xhc3NpZmllZFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91bkNsYXNzaWZpZWRMaXN0Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoYW5nZSBqc29uIG9iamVjdCB0byBpbW11dGFibGUgbGlzdFxyXG4gICAgICogQHBhcmFtIGRhdGFcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRJbW11dGFibGVVbmNsYXNzaWZpZWRMaXN0KGRhdGE6IGFueSk6IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4ge1xyXG4gICAgICAgIGxldCBpbW11dGFibGVMaXN0OiBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+ID0gSW1tdXRhYmxlLkxpc3QoZGF0YSk7XHJcbiAgICAgICAgZGF0YSA9IGltbXV0YWJsZUxpc3Q7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFVuQ2xhc3NpZmllZEhlbHBlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy91bmNsYXNzaWZpZWRoZWxwZXIudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBOztBQXdKQTtBQW5KQTs7Ozs7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 415:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/components/worklist/shared/markscolumn.tsx ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n    React component for marks column in marks by question view.\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:variable-name */\r\nvar MarksColumn = function (props) {\r\n    var className = (props.usedInTotal || props.textValue === '-') ?\r\n        'dim-text txt-val small-text' : 'small-text strike-out dim-text';\r\n    return (React.createElement(\"span\", { id: 'gen_' + props.id, className: className }, props.textValue));\r\n};\r\nmodule.exports = MarksColumn;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL21hcmtzY29sdW1uLnRzeD85ODgyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgICBSZWFjdCBjb21wb25lbnQgZm9yIG1hcmtzIGNvbHVtbiBpbiBtYXJrcyBieSBxdWVzdGlvbiB2aWV3LlxyXG4qL1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBtYXJrcyBjb2x1bW4uXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgdGV4dFZhbHVlPzogc3RyaW5nO1xyXG4gICAgdXNlZEluVG90YWw6IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cclxuY29uc3QgTWFya3NDb2x1bW4gPSAocHJvcHM6IFByb3BzKSA9PiB7XHJcbiAgICBsZXQgY2xhc3NOYW1lOiBzdHJpbmcgPSAocHJvcHMudXNlZEluVG90YWwgfHwgcHJvcHMudGV4dFZhbHVlID09PSAnLScpID9cclxuICAgICAgICAnZGltLXRleHQgdHh0LXZhbCBzbWFsbC10ZXh0JyA6ICdzbWFsbC10ZXh0IHN0cmlrZS1vdXQgZGltLXRleHQnO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8c3BhbiBpZD17J2dlbl8nICsgcHJvcHMuaWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cclxuICAgICAgICAgICAge3Byb3BzLnRleHRWYWx1ZX1cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICApO1xyXG59O1xyXG5cclxuZXhwb3J0ID0gTWFya3NDb2x1bW47XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9tYXJrc2NvbHVtbi50c3giXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 416:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/dataservices/authentication/logoutargument.ts ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Logout argument class.\r\n */\r\nvar LogoutArgument = /** @class */ (function () {\r\n    function LogoutArgument() {\r\n    }\r\n    return LogoutArgument;\r\n}());\r\nmodule.exports = LogoutArgument;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFzZXJ2aWNlcy9hdXRoZW50aWNhdGlvbi9sb2dvdXRhcmd1bWVudC50cz9kMjhhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBMb2dvdXQgYXJndW1lbnQgY2xhc3MuXHJcbiAqL1xyXG5jbGFzcyBMb2dvdXRBcmd1bWVudCB7XHJcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcblxyXG4gICAgcHVibGljIE1hcmtpbmdTZXNzaW9uVHJhY2tpbmdJZDogbnVtYmVyO1xyXG4gICAgcHVibGljIGlzUmVwb3J0c1BhZ2VBY2Nlc3NlZDogYm9vbGVhbjtcclxuXHJcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbn1cclxuXHJcbmV4cG9ydCA9IExvZ291dEFyZ3VtZW50O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvZGF0YXNlcnZpY2VzL2F1dGhlbnRpY2F0aW9uL2xvZ291dGFyZ3VtZW50LnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7O0FBRUE7QUFDQTtBQUFBO0FBT0E7QUFBQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 418:
/* no static exports found */
/* all exports used */
/*!*******************************************************************!*\
  !*** ./src/utility/breadcrumb/standardisationsetuphistoryinfo.ts ***!
  \*******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar historyBase = __webpack_require__(/*! ./historybase */ 447);\r\nvar StandardisationSetupHistoryInfo = /** @class */ (function (_super) {\r\n    __extends(StandardisationSetupHistoryInfo, _super);\r\n    function StandardisationSetupHistoryInfo() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return StandardisationSetupHistoryInfo;\r\n}(historyBase));\r\nmodule.exports = StandardisationSetupHistoryInfo;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvYnJlYWRjcnVtYi9zdGFuZGFyZGlzYXRpb25zZXR1cGhpc3RvcnlpbmZvLnRzPzg3OGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XG5pbXBvcnQgaGlzdG9yeUJhc2UgPSByZXF1aXJlKCcuL2hpc3RvcnliYXNlJyk7XG5cbmNsYXNzIFN0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm8gZXh0ZW5kcyBoaXN0b3J5QmFzZSB7XG4gICAgcHVibGljIHN0YW5kYXJkaXNhdGlvblNldHVwV29ya2xpc3RUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cDtcbiAgICBwdWJsaWMgdGltZVN0YW1wOiBudW1iZXI7XG59XG5cbmV4cG9ydCA9IFN0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm87XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L2JyZWFkY3J1bWIvc3RhbmRhcmRpc2F0aW9uc2V0dXBoaXN0b3J5aW5mby50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDQTtBQUVBO0FBQUE7QUFBQTs7QUFHQTtBQUFBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 419:
/* no static exports found */
/* all exports used */
/*!*************************************************************************!*\
  !*** ./src/utility/teammanagement/helpers/warningmessagepopuphelper.ts ***!
  \*************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../../components/utility/enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * Helper class for warning message popup\r\n */\r\nvar WarningMessagePopupHelper = /** @class */ (function () {\r\n    function WarningMessagePopupHelper() {\r\n    }\r\n    /**\r\n     * Method to bind the warning message popup content.\r\n     */\r\n    WarningMessagePopupHelper.prototype.bindWarningMessagePopupContent = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.subordinate-withdrawn-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.SubordinateExaminerWithdrawn] + '-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.subordinate-withdrawn-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.SubordinateExaminerWithdrawn] + '-title');\r\n                break;\r\n            case enums.FailureCode.Withdrawn:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.withdrawn-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.Withdrawn] + '-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.withdrawn-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.Withdrawn] + '-title');\r\n                break;\r\n            case enums.FailureCode.HierarchyChanged:\r\n            case enums.FailureCode.NotASeniorExaminer:\r\n            case enums.FailureCode.NotTeamLead:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.hierarchy-changed-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.HierarchyChanged] + '-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.hierarchy-changed-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.HierarchyChanged] + '-title');\r\n                break;\r\n            case enums.FailureCode.ExaminerStatusAlreadyChanged:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.subordinate-status-already-changed-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.ExaminerStatusAlreadyChanged] + '-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.subordinate-status-already-changed-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.ExaminerStatusAlreadyChanged] + '-title');\r\n                break;\r\n            case enums.FailureCode.Suspended:\r\n            case enums.FailureCode.NotApproved:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.suspended-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.Suspended] + '-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.suspended-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.Suspended] + '-title');\r\n                break;\r\n            case enums.FailureCode.InvalidPriority:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.hierarchy-changed-dialog.body-priority-changed');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.hierarchy-changed-dialog.HierarchyChanged-title');\r\n                break;\r\n            case enums.FailureCode.AlreadyLocked:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.body');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.ExaminerAlreadyLocked-title');\r\n                break;\r\n            case enums.FailureCode.NotInLockStatus:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.body');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.ExaminerAlreadyunlocked-title');\r\n                break;\r\n            case enums.FailureCode.LockLimitMet:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-limit-reached-dialog.LockLimitReached-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-limit-reached-dialog.LockLimitReached-title');\r\n                break;\r\n            case enums.FailureCode.LockIsRequired:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.body');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.header-lock-removed');\r\n                break;\r\n        }\r\n    };\r\n    Object.defineProperty(WarningMessagePopupHelper.prototype, \"warningPopupContent\", {\r\n        /**\r\n         * Returns the warning message popup content\r\n         */\r\n        get: function () {\r\n            return this._warningPopupContent;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WarningMessagePopupHelper.prototype, \"warningPopupTitle\", {\r\n        /**\r\n         * Returns the warning message popup title\r\n         */\r\n        get: function () {\r\n            return this._warningPopupTitle;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return WarningMessagePopupHelper;\r\n}());\r\nmodule.exports = WarningMessagePopupHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvdGVhbW1hbmFnZW1lbnQvaGVscGVycy93YXJuaW5nbWVzc2FnZXBvcHVwaGVscGVyLnRzPzY0NWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHdhcm5pbmcgbWVzc2FnZSBwb3B1cFxyXG4gKi9cclxuY2xhc3MgV2FybmluZ01lc3NhZ2VQb3B1cEhlbHBlciB7XHJcblxyXG4gICAgLy8gV2FybmluZyBtZXNzYWdlIHBvcHVwIGNvbnRlbnRcclxuICAgIHByaXZhdGUgX3dhcm5pbmdQb3B1cENvbnRlbnQ6IHN0cmluZztcclxuXHJcbiAgICAvLyAgV2FybmluZyBtZXNzYWdlIHBvcHVwIHRpdGxlXHJcbiAgICBwcml2YXRlIF93YXJuaW5nUG9wdXBUaXRsZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGJpbmQgdGhlIHdhcm5pbmcgbWVzc2FnZSBwb3B1cCBjb250ZW50LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYmluZFdhcm5pbmdNZXNzYWdlUG9wdXBDb250ZW50KGZhaWx1cmVDb2RlOiBlbnVtcy5GYWlsdXJlQ29kZSkge1xyXG4gICAgICAgIHN3aXRjaCAoZmFpbHVyZUNvZGUpIHtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuU3Vib3JkaW5hdGVFeGFtaW5lcldpdGhkcmF3bjpcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhcm5pbmdQb3B1cENvbnRlbnQgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5zdWJvcmRpbmF0ZS13aXRoZHJhd24tZGlhbG9nLicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5GYWlsdXJlQ29kZVtlbnVtcy5GYWlsdXJlQ29kZS5TdWJvcmRpbmF0ZUV4YW1pbmVyV2l0aGRyYXduXSArICctY29udGVudCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5zdWJvcmRpbmF0ZS13aXRoZHJhd24tZGlhbG9nLicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5GYWlsdXJlQ29kZVtlbnVtcy5GYWlsdXJlQ29kZS5TdWJvcmRpbmF0ZUV4YW1pbmVyV2l0aGRyYXduXSArICctdGl0bGUnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5XaXRoZHJhd246XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93YXJuaW5nUG9wdXBDb250ZW50ID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3Qud2l0aGRyYXduLWRpYWxvZy4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuRmFpbHVyZUNvZGVbZW51bXMuRmFpbHVyZUNvZGUuV2l0aGRyYXduXSArICctY29udGVudCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC53aXRoZHJhd24tZGlhbG9nLicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5GYWlsdXJlQ29kZVtlbnVtcy5GYWlsdXJlQ29kZS5XaXRoZHJhd25dICsgJy10aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkhpZXJhcmNoeUNoYW5nZWQ6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuTm90QVNlbmlvckV4YW1pbmVyOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLk5vdFRlYW1MZWFkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwQ29udGVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmhpZXJhcmNoeS1jaGFuZ2VkLWRpYWxvZy4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuRmFpbHVyZUNvZGVbZW51bXMuRmFpbHVyZUNvZGUuSGllcmFyY2h5Q2hhbmdlZF0gKyAnLWNvbnRlbnQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhcm5pbmdQb3B1cFRpdGxlID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuaGllcmFyY2h5LWNoYW5nZWQtZGlhbG9nLicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5GYWlsdXJlQ29kZVtlbnVtcy5GYWlsdXJlQ29kZS5IaWVyYXJjaHlDaGFuZ2VkXSArICctdGl0bGUnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5FeGFtaW5lclN0YXR1c0FscmVhZHlDaGFuZ2VkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwQ29udGVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LnN1Ym9yZGluYXRlLXN0YXR1cy1hbHJlYWR5LWNoYW5nZWQtZGlhbG9nLicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5GYWlsdXJlQ29kZVtlbnVtcy5GYWlsdXJlQ29kZS5FeGFtaW5lclN0YXR1c0FscmVhZHlDaGFuZ2VkXSArICctY29udGVudCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5zdWJvcmRpbmF0ZS1zdGF0dXMtYWxyZWFkeS1jaGFuZ2VkLWRpYWxvZy4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuRmFpbHVyZUNvZGVbZW51bXMuRmFpbHVyZUNvZGUuRXhhbWluZXJTdGF0dXNBbHJlYWR5Q2hhbmdlZF0gKyAnLXRpdGxlJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuU3VzcGVuZGVkOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLk5vdEFwcHJvdmVkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwQ29udGVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LnN1c3BlbmRlZC1kaWFsb2cuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkZhaWx1cmVDb2RlW2VudW1zLkZhaWx1cmVDb2RlLlN1c3BlbmRlZF0gKyAnLWNvbnRlbnQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhcm5pbmdQb3B1cFRpdGxlID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3Quc3VzcGVuZGVkLWRpYWxvZy4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuRmFpbHVyZUNvZGVbZW51bXMuRmFpbHVyZUNvZGUuU3VzcGVuZGVkXSArICctdGl0bGUnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5JbnZhbGlkUHJpb3JpdHk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93YXJuaW5nUG9wdXBDb250ZW50ID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuaGllcmFyY2h5LWNoYW5nZWQtZGlhbG9nLmJvZHktcHJpb3JpdHktY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5oaWVyYXJjaHktY2hhbmdlZC1kaWFsb2cuSGllcmFyY2h5Q2hhbmdlZC10aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkFscmVhZHlMb2NrZWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93YXJuaW5nUG9wdXBDb250ZW50ID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QubG9jay1mYWlsdXJlLWRpYWxvZy5ib2R5Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93YXJuaW5nUG9wdXBUaXRsZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmxvY2stZmFpbHVyZS1kaWFsb2cuRXhhbWluZXJBbHJlYWR5TG9ja2VkLXRpdGxlJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuTm90SW5Mb2NrU3RhdHVzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwQ29udGVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmxvY2stZmFpbHVyZS1kaWFsb2cuYm9keScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QubG9jay1mYWlsdXJlLWRpYWxvZy5FeGFtaW5lckFscmVhZHl1bmxvY2tlZC10aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkxvY2tMaW1pdE1ldDpcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhcm5pbmdQb3B1cENvbnRlbnQgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QubG9jay1saW1pdC1yZWFjaGVkLWRpYWxvZy5Mb2NrTGltaXRSZWFjaGVkLWNvbnRlbnQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhcm5pbmdQb3B1cFRpdGxlID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmxvY2stbGltaXQtcmVhY2hlZC1kaWFsb2cuTG9ja0xpbWl0UmVhY2hlZC10aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkxvY2tJc1JlcXVpcmVkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwQ29udGVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmxvY2stZmFpbHVyZS1kaWFsb2cuYm9keScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5sb2NrLWZhaWx1cmUtZGlhbG9nLmhlYWRlci1sb2NrLXJlbW92ZWQnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHdhcm5pbmcgbWVzc2FnZSBwb3B1cCBjb250ZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgd2FybmluZ1BvcHVwQ29udGVudCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl93YXJuaW5nUG9wdXBDb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgd2FybmluZyBtZXNzYWdlIHBvcHVwIHRpdGxlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgd2FybmluZ1BvcHVwVGl0bGUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fd2FybmluZ1BvcHVwVGl0bGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFdhcm5pbmdNZXNzYWdlUG9wdXBIZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L3RlYW1tYW5hZ2VtZW50L2hlbHBlcnMvd2FybmluZ21lc3NhZ2Vwb3B1cGhlbHBlci50cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFtSEE7QUEzR0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 420:
/* no static exports found */
/* all exports used */
/*!***************************************************************************!*\
  !*** ./src/utility/worklistvalidators/directedremarkworklistvalidator.ts ***!
  \***************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../components/utility/ecoursework/ecourseworkhelper */ 238);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * Directed remark worklist concrete implementation of WorkListValidatorSchema\r\n */\r\nvar DirectedRemarkWorklistValidator = /** @class */ (function () {\r\n    function DirectedRemarkWorklistValidator() {\r\n    }\r\n    /**\r\n     * Logic to show marking progress/submit button/blocking exception warning\r\n     * @param response\r\n     */\r\n    DirectedRemarkWorklistValidator.prototype.submitButtonValidate = function (response) {\r\n        this.responseStatuses = Immutable.List();\r\n        this.responseStatuses.clear();\r\n        switch (worklistStore.instance.getResponseMode) {\r\n            case enums.ResponseMode.open:\r\n                this.responseStatuses = this.openResponseValidation(response);\r\n                break;\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * get supervisor remark decision visibility\r\n     * @param response\r\n     */\r\n    DirectedRemarkWorklistValidator.prototype.isSupervisorRemarkDecisionVisible = function (response) {\r\n        var markSchemeGroupId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n        var isSupervisorRemarkDecisionCCOn = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SupervisorRemarkDecision, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        return (isSupervisorRemarkDecisionCCOn\r\n            && worklistStore.instance.getRemarkRequestType === enums.RemarkRequestType.SupervisorRemark\r\n            && response.markingProgress === 100);\r\n    };\r\n    /**\r\n     * Open directed remark worklist validation for marking progress/submit button\r\n     * @param response\r\n     */\r\n    DirectedRemarkWorklistValidator.prototype.openResponseValidation = function (response) {\r\n        response.isSubmitEnabled = false;\r\n        /** if the marking has started */\r\n        if (response.markingProgress > 0) {\r\n            /** if the marking is completed */\r\n            if (response.markingProgress === 100) {\r\n                // Avoid ForceAnnotationOnEachPage CC while opening single response in multiQig\r\n                // Apply ForceAnnotationOnEachPage CC for all QIGs in the whole response when it turned on for at least one QIG\r\n                var markSchemeGroupId = (response.isWholeResponse &&\r\n                    response.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** taking the cc from cc helper */\r\n                var isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                var isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                /** if slao annotated cc is on and all pages are not annotated OR all pages annotated cc is on\r\n                 *  and all pages are not annotated if both CCs are on, all pages annotated cc has\r\n                 *  the higher priority.\r\n                 */\r\n                if ((!isAllPagesAnnotatedCC && isAllSLAOAnnotatedCC && response.hasAllPagesAnnotated === false)\r\n                    || (isAllPagesAnnotatedCC && response.hasAllPagesAnnotated === false)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllPagesAnnotated);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    if (response.hasBlockingExceptions) {\r\n                        this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    }\r\n                }\r\n                else if (response.hasBlockingExceptions ||\r\n                    (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed)) {\r\n                    /** if the marking is completed and blocking exceptions are there, show both. */\r\n                    /* For an ecoursework component, enable submit button only if all files are viewed in the response.\r\n                       If not all files are viewed then the response view in the worklist will be shown in amber color along with\r\n                       marking progress indicator.\r\n                    */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    if (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed) {\r\n                        this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllFilesViewed);\r\n                    }\r\n                }\r\n                else if (response.hasZoningExceptions) {\r\n                    /** if the marking is completed and zoning exceptions are there, show both. */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasZoningException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if (response.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown\r\n                    && response.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Accurate\r\n                    && response.markChangeReasonVisible && !response.markChangeReason) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markChangeReasonNotExist);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if ((response.supervisorRemarkFinalMarkSetID === 0 || response.supervisorRemarkMarkChangeReasonID === 0)\r\n                    && this.isSupervisorRemarkDecisionVisible(response)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.supervisorRemarkDecisionNotSelected);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else {\r\n                    /** if all pages annotated cc is off and if no blocking exceptions are there, show ready to submit button */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.readyToSubmit);\r\n                    response.isSubmitEnabled = true;\r\n                }\r\n            }\r\n            else if (response.hasBlockingExceptions) {\r\n                /** if the marking is in progress and blocking exceptions are there, show both. */\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n            else {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n        }\r\n        else {\r\n            /** if marking not started show the same */\r\n            this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingNotStarted);\r\n            if (response.hasBlockingExceptions) {\r\n                /** if the marking is not started and blocking exceptions are there, show amber. */\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n            }\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    return DirectedRemarkWorklistValidator;\r\n}());\r\nmodule.exports = DirectedRemarkWorklistValidator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL2RpcmVjdGVkcmVtYXJrd29ya2xpc3R2YWxpZGF0b3IudHM/MTY1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcbmltcG9ydCB3b3JrTGlzdFZhbGlkYXRvclNjaGVtYSA9IHJlcXVpcmUoJy4vd29ya2xpc3R2YWxpZGF0b3JzY2hlbWEnKTtcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcbmltcG9ydCB3b3JrbGlzdFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3dvcmtsaXN0c3RvcmUnKTtcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcblxuLyoqXG4gKiBEaXJlY3RlZCByZW1hcmsgd29ya2xpc3QgY29uY3JldGUgaW1wbGVtZW50YXRpb24gb2YgV29ya0xpc3RWYWxpZGF0b3JTY2hlbWFcbiAqL1xuY2xhc3MgRGlyZWN0ZWRSZW1hcmtXb3JrbGlzdFZhbGlkYXRvciBpbXBsZW1lbnRzIHdvcmtMaXN0VmFsaWRhdG9yU2NoZW1hIHtcbiAgICBwcml2YXRlIHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPjtcblxuICAgIC8qKlxuICAgICAqIExvZ2ljIHRvIHNob3cgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uL2Jsb2NraW5nIGV4Y2VwdGlvbiB3YXJuaW5nXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXG4gICAgICovXG4gICAgcHVibGljIHN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlOiBSZXNwb25zZUJhc2UpIHtcblxuICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4oKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzLmNsZWFyKCk7XG4gICAgICAgIHN3aXRjaCAod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZXNwb25zZU1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5vcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlIGFzIERpcmVjdGVkUmVtYXJrT3BlblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZVN0YXR1c2VzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCBzdXBlcnZpc29yIHJlbWFyayBkZWNpc2lvbiB2aXNpYmlsaXR5XG4gICAgICogQHBhcmFtIHJlc3BvbnNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc1N1cGVydmlzb3JSZW1hcmtEZWNpc2lvblZpc2libGUocmVzcG9uc2U6IFJlc3BvbnNlQmFzZSk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgbWFya1NjaGVtZUdyb3VwSWQgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZDtcbiAgICAgICAgbGV0IGlzU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uQ0NPbjogYm9vbGVhbiA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uLCBtYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiAoaXNTdXBlcnZpc29yUmVtYXJrRGVjaXNpb25DQ09uXG4gICAgICAgICAgICAmJiB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbWFya1JlcXVlc3RUeXBlID09PSBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZS5TdXBlcnZpc29yUmVtYXJrXG4gICAgICAgICAgICAmJiByZXNwb25zZS5tYXJraW5nUHJvZ3Jlc3MgPT09IDEwMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbiBkaXJlY3RlZCByZW1hcmsgd29ya2xpc3QgdmFsaWRhdGlvbiBmb3IgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBvcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlOiBEaXJlY3RlZFJlbWFya09wZW5SZXNwb25zZSkge1xuICAgICAgICByZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGhhcyBzdGFydGVkICovXG4gICAgICAgIGlmIChyZXNwb25zZS5tYXJraW5nUHJvZ3Jlc3MgPiAwKSB7XG4gICAgICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaXMgY29tcGxldGVkICovXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubWFya2luZ1Byb2dyZXNzID09PSAxMDApIHtcblxuICAgICAgICAgICAgICAgIC8vIEF2b2lkIEZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UgQ0Mgd2hpbGUgb3BlbmluZyBzaW5nbGUgcmVzcG9uc2UgaW4gbXVsdGlRaWdcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIGZvciBhbGwgUUlHcyBpbiB0aGUgd2hvbGUgcmVzcG9uc2Ugd2hlbiBpdCB0dXJuZWQgb24gZm9yIGF0IGxlYXN0IG9uZSBRSUdcbiAgICAgICAgICAgICAgICBsZXQgbWFya1NjaGVtZUdyb3VwSWQ6IG51bWJlciA9IChyZXNwb25zZS5pc1dob2xlUmVzcG9uc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVsYXRlZFJJR0RldGFpbHMpID8gMCA6XG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xuXG4gICAgICAgICAgICAgICAgLyoqIHRha2luZyB0aGUgY2MgZnJvbSBjYyBoZWxwZXIgKi9cbiAgICAgICAgICAgICAgICBsZXQgaXNBbGxQYWdlc0Fubm90YXRlZENDID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsIG1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IGlzQWxsU0xBT0Fubm90YXRlZENDID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNMQU9Gb3JjZWRBbm5vdGF0aW9ucywgbWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAvKiogaWYgc2xhbyBhbm5vdGF0ZWQgY2MgaXMgb24gYW5kIGFsbCBwYWdlcyBhcmUgbm90IGFubm90YXRlZCBPUiBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGlzIG9uXG4gICAgICAgICAgICAgICAgICogIGFuZCBhbGwgcGFnZXMgYXJlIG5vdCBhbm5vdGF0ZWQgaWYgYm90aCBDQ3MgYXJlIG9uLCBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGhhc1xuICAgICAgICAgICAgICAgICAqICB0aGUgaGlnaGVyIHByaW9yaXR5LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmICgoIWlzQWxsUGFnZXNBbm5vdGF0ZWRDQyAmJiBpc0FsbFNMQU9Bbm5vdGF0ZWRDQyAmJiByZXNwb25zZS5oYXNBbGxQYWdlc0Fubm90YXRlZCA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHx8IChpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgcmVzcG9uc2UuaGFzQWxsUGFnZXNBbm5vdGF0ZWQgPT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxQYWdlc0Fubm90YXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc0Jsb2NraW5nRXhjZXB0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzRXhjZXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuaGFzQmxvY2tpbmdFeGNlcHRpb25zIHx8XG4gICAgICAgICAgICAgICAgICAgIChlQ291cnNld29ya0hlbHBlci5pc0VDb3Vyc2V3b3JrQ29tcG9uZW50ICYmICFyZXNwb25zZS5hbGxGaWxlc1ZpZXdlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCBhbmQgYmxvY2tpbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgYm90aC4gKi9cbiAgICAgICAgICAgICAgICAgICAgLyogRm9yIGFuIGVjb3Vyc2V3b3JrIGNvbXBvbmVudCwgZW5hYmxlIHN1Ym1pdCBidXR0b24gb25seSBpZiBhbGwgZmlsZXMgYXJlIHZpZXdlZCBpbiB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBhbGwgZmlsZXMgYXJlIHZpZXdlZCB0aGVuIHRoZSByZXNwb25zZSB2aWV3IGluIHRoZSB3b3JrbGlzdCB3aWxsIGJlIHNob3duIGluIGFtYmVyIGNvbG9yIGFsb25nIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgICAgbWFya2luZyBwcm9ncmVzcyBpbmRpY2F0b3IuXG4gICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVDb3Vyc2V3b3JrSGVscGVyLmlzRUNvdXJzZXdvcmtDb21wb25lbnQgJiYgIXJlc3BvbnNlLmFsbEZpbGVzVmlld2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxGaWxlc1ZpZXdlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmhhc1pvbmluZ0V4Y2VwdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaXMgY29tcGxldGVkIGFuZCB6b25pbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgYm90aC4gKi9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNab25pbmdFeGNlcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuYWNjdXJhY3lJbmRpY2F0b3JUeXBlSUQgIT09IGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5Vbmtub3duXG4gICAgICAgICAgICAgICAgICAgICYmIHJlc3BvbnNlLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEICE9PSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuQWNjdXJhdGVcbiAgICAgICAgICAgICAgICAgICAgJiYgcmVzcG9uc2UubWFya0NoYW5nZVJlYXNvblZpc2libGUgJiYgIXJlc3BvbnNlLm1hcmtDaGFuZ2VSZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya0NoYW5nZVJlYXNvbk5vdEV4aXN0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKHJlc3BvbnNlLnN1cGVydmlzb3JSZW1hcmtGaW5hbE1hcmtTZXRJRCA9PT0gMCB8fCByZXNwb25zZS5zdXBlcnZpc29yUmVtYXJrTWFya0NoYW5nZVJlYXNvbklEID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAmJiB0aGlzLmlzU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uVmlzaWJsZShyZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMuc3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uTm90U2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaXMgb2ZmIGFuZCBpZiBubyBibG9ja2luZyBleGNlcHRpb25zIGFyZSB0aGVyZSwgc2hvdyByZWFkeSB0byBzdWJtaXQgYnV0dG9uICovXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuaGFzQmxvY2tpbmdFeGNlcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGluIHByb2dyZXNzIGFuZCBibG9ja2luZyBleGNlcHRpb25zIGFyZSB0aGVyZSwgc2hvdyBib3RoLiAqL1xuICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKiogaWYgbWFya2luZyBub3Qgc3RhcnRlZCBzaG93IHRoZSBzYW1lICovXG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nTm90U3RhcnRlZCk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuaGFzQmxvY2tpbmdFeGNlcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIG5vdCBzdGFydGVkIGFuZCBibG9ja2luZyBleGNlcHRpb25zIGFyZSB0aGVyZSwgc2hvdyBhbWJlci4gKi9cbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNFeGNlcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VTdGF0dXNlcztcbiAgICB9XG59XG5leHBvcnQgPSBEaXJlY3RlZFJlbWFya1dvcmtsaXN0VmFsaWRhdG9yO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy9kaXJlY3RlZHJlbWFya3dvcmtsaXN0dmFsaWRhdG9yLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFrSEE7QUEvR0E7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 421:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/utility/worklistvalidators/liveworklistvalidator.ts ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../components/utility/ecoursework/ecourseworkhelper */ 238);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar markeroperationmodefactory = __webpack_require__(/*! ../../components/utility/markeroperationmode/markeroperationmodefactory */ 232);\r\n/**\r\n * Live worklist concrete implementation of WorkListValidatorSchema\r\n */\r\nvar LiveWorklistValidator = /** @class */ (function () {\r\n    function LiveWorklistValidator() {\r\n    }\r\n    /**\r\n     * Logic to show marking progress/submit button/blocking exception warning\r\n     * @param response\r\n     */\r\n    LiveWorklistValidator.prototype.submitButtonValidate = function (response) {\r\n        this.responseStatuses = Immutable.List();\r\n        this.responseStatuses.clear();\r\n        switch (worklistStore.instance.getResponseMode) {\r\n            case enums.ResponseMode.open:\r\n                this.responseStatuses = this.openResponseValidation(response);\r\n                break;\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * Open live worklist validation for marking progress/submit button\r\n     * @param response\r\n     */\r\n    LiveWorklistValidator.prototype.openResponseValidation = function (response) {\r\n        response.isSubmitEnabled = false;\r\n        /** if the marking has started */\r\n        if (response.markingProgress > 0) {\r\n            /** if the marking is completed */\r\n            if (response.markingProgress === 100) {\r\n                // Avoid ForceAnnotationOnEachPage CC while opening single response in multiQig\r\n                // Apply ForceAnnotationOnEachPage CC for all QIGs in the whole response when it turned on for at least one QIG\r\n                var markSchemeGroupId = (response.isWholeResponse &&\r\n                    response.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** taking the cc from cc helper */\r\n                var isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                var isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                /** if slao annotated cc is on and all pages are not annotated OR all pages annotated cc is on\r\n                 *  and all pages are not annotated if both CCs are on, all pages annotated cc has\r\n                 *  the higher priority.\r\n                 */\r\n                if ((!isAllPagesAnnotatedCC && isAllSLAOAnnotatedCC && response.hasAllPagesAnnotated === false\r\n                    && response.hasAdditionalObjects)\r\n                    || (isAllPagesAnnotatedCC && response.hasAllPagesAnnotated === false)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllPagesAnnotated);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    if (response.hasBlockingExceptions) {\r\n                        this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    }\r\n                }\r\n                else if (response.hasBlockingExceptions ||\r\n                    (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed)) {\r\n                    /** if the marking is completed and blocking exceptions are there, show both. */\r\n                    /* For an ecoursework component, enable submit button only if all files are viewed in the response.\r\n                       If not all files are viewed then the response view in the worklist will be shown in amber color along with\r\n                       marking progress indicator .\r\n                    */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    if (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed) {\r\n                        this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllFilesViewed);\r\n                    }\r\n                }\r\n                if (response.hasZoningExceptions) {\r\n                    /** if the marking is completed and zoning exceptions are there, show both. */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasZoningException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if (response.isWholeResponse && !markeroperationmodefactory.operationMode.isSubmitDisabled(enums.WorklistType.live)\r\n                    && ((!qigStore.instance.isWholeResponseAvailable &&\r\n                        worklistStore.instance.currentWorklistType === enums.WorklistType.live)\r\n                        || (!qigStore.instance.isAtypicalAvailable &&\r\n                            worklistStore.instance.currentWorklistType === enums.WorklistType.atypical))) {\r\n                    //// if permission is changed for whole response in any of the qigs then submit is hidden\r\n                    ////  markeroperationmodefactory.operationMode.isSubmitDisabled - current qig submit disable logic\r\n                    ////  isAtypicalAvailable - for checking if atypical submit available\r\n                    ////  isWholeResponseAvailable - for checking if whole response submit available\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.wholeResponseNotAvailable);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if (this.responseStatuses.count() === 0) {\r\n                    /** if all pages annotated cc is off and if no blocking exceptions are there, show ready to submit button */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.readyToSubmit);\r\n                    response.isSubmitEnabled = true;\r\n                }\r\n            }\r\n            else if (response.hasBlockingExceptions) {\r\n                /** if the marking is in progress and blocking exceptions are there, show both. */\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n            else {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n        }\r\n        else {\r\n            /** if marking not started show the same */\r\n            this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingNotStarted);\r\n            if (response.hasBlockingExceptions) {\r\n                /** if the marking is not started and blocking exceptions are there, show amber. */\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n            }\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    return LiveWorklistValidator;\r\n}());\r\nmodule.exports = LiveWorklistValidator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL2xpdmV3b3JrbGlzdHZhbGlkYXRvci50cz9jZTBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgd29ya0xpc3RWYWxpZGF0b3JTY2hlbWEgPSByZXF1aXJlKCcuL3dvcmtsaXN0dmFsaWRhdG9yc2NoZW1hJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xyXG5pbXBvcnQgZUNvdXJzZXdvcmtIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZWNvdXJzZXdvcmsvZWNvdXJzZXdvcmtoZWxwZXInKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcbmltcG9ydCBtYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeSA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XHJcbi8qKlxyXG4gKiBMaXZlIHdvcmtsaXN0IGNvbmNyZXRlIGltcGxlbWVudGF0aW9uIG9mIFdvcmtMaXN0VmFsaWRhdG9yU2NoZW1hXHJcbiAqL1xyXG5jbGFzcyBMaXZlV29ya2xpc3RWYWxpZGF0b3IgaW1wbGVtZW50cyB3b3JrTGlzdFZhbGlkYXRvclNjaGVtYSB7XHJcbiAgICBwcml2YXRlIHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvZ2ljIHRvIHNob3cgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uL2Jsb2NraW5nIGV4Y2VwdGlvbiB3YXJuaW5nXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlOiBSZXNwb25zZUJhc2UpIHtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCk7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzLmNsZWFyKCk7XHJcbiAgICAgICAgc3dpdGNoICh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5vcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlIGFzIExpdmVPcGVuUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlU3RhdHVzZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPcGVuIGxpdmUgd29ya2xpc3QgdmFsaWRhdGlvbiBmb3IgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlOiBMaXZlT3BlblJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGhhcyBzdGFydGVkICovXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm1hcmtpbmdQcm9ncmVzcyA+IDApIHtcclxuICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCAqL1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubWFya2luZ1Byb2dyZXNzID09PSAxMDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIHdoaWxlIG9wZW5pbmcgc2luZ2xlIHJlc3BvbnNlIGluIG11bHRpUWlnXHJcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIGZvciBhbGwgUUlHcyBpbiB0aGUgd2hvbGUgcmVzcG9uc2Ugd2hlbiBpdCB0dXJuZWQgb24gZm9yIGF0IGxlYXN0IG9uZSBRSUdcclxuICAgICAgICAgICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyID0gKHJlc3BvbnNlLmlzV2hvbGVSZXNwb25zZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlbGF0ZWRSSUdEZXRhaWxzKSA/IDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKiB0YWtpbmcgdGhlIGNjIGZyb20gY2MgaGVscGVyICovXHJcbiAgICAgICAgICAgICAgICBsZXQgaXNBbGxQYWdlc0Fubm90YXRlZENDID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuRm9yY2VBbm5vdGF0aW9uT25FYWNoUGFnZSwgbWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxldCBpc0FsbFNMQU9Bbm5vdGF0ZWRDQyA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNMQU9Gb3JjZWRBbm5vdGF0aW9ucywgbWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8qKiBpZiBzbGFvIGFubm90YXRlZCBjYyBpcyBvbiBhbmQgYWxsIHBhZ2VzIGFyZSBub3QgYW5ub3RhdGVkIE9SIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaXMgb25cclxuICAgICAgICAgICAgICAgICAqICBhbmQgYWxsIHBhZ2VzIGFyZSBub3QgYW5ub3RhdGVkIGlmIGJvdGggQ0NzIGFyZSBvbiwgYWxsIHBhZ2VzIGFubm90YXRlZCBjYyBoYXNcclxuICAgICAgICAgICAgICAgICAqICB0aGUgaGlnaGVyIHByaW9yaXR5LlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBpZiAoKCFpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgaXNBbGxTTEFPQW5ub3RhdGVkQ0MgJiYgcmVzcG9uc2UuaGFzQWxsUGFnZXNBbm5vdGF0ZWQgPT09IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcmVzcG9uc2UuaGFzQWRkaXRpb25hbE9iamVjdHMpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgKGlzQWxsUGFnZXNBbm5vdGF0ZWRDQyAmJiByZXNwb25zZS5oYXNBbGxQYWdlc0Fubm90YXRlZCA9PT0gZmFsc2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubm90QWxsUGFnZXNBbm5vdGF0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaGFzQmxvY2tpbmdFeGNlcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5oYXNCbG9ja2luZ0V4Y2VwdGlvbnMgfHxcclxuICAgICAgICAgICAgICAgICAgICAoZUNvdXJzZXdvcmtIZWxwZXIuaXNFQ291cnNld29ya0NvbXBvbmVudCAmJiAhcmVzcG9uc2UuYWxsRmlsZXNWaWV3ZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCBhbmQgYmxvY2tpbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgYm90aC4gKi9cclxuICAgICAgICAgICAgICAgICAgICAvKiBGb3IgYW4gZWNvdXJzZXdvcmsgY29tcG9uZW50LCBlbmFibGUgc3VibWl0IGJ1dHRvbiBvbmx5IGlmIGFsbCBmaWxlcyBhcmUgdmlld2VkIGluIHRoZSByZXNwb25zZS5cclxuICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgYWxsIGZpbGVzIGFyZSB2aWV3ZWQgdGhlbiB0aGUgcmVzcG9uc2UgdmlldyBpbiB0aGUgd29ya2xpc3Qgd2lsbCBiZSBzaG93biBpbiBhbWJlciBjb2xvciBhbG9uZyB3aXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgbWFya2luZyBwcm9ncmVzcyBpbmRpY2F0b3IgLlxyXG4gICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzRXhjZXB0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVDb3Vyc2V3b3JrSGVscGVyLmlzRUNvdXJzZXdvcmtDb21wb25lbnQgJiYgIXJlc3BvbnNlLmFsbEZpbGVzVmlld2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vdEFsbEZpbGVzVmlld2VkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGlmIChyZXNwb25zZS5oYXNab25pbmdFeGNlcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCBhbmQgem9uaW5nIGV4Y2VwdGlvbnMgYXJlIHRoZXJlLCBzaG93IGJvdGguICovXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzWm9uaW5nRXhjZXB0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmlzV2hvbGVSZXNwb25zZSAmJiAhbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1N1Ym1pdERpc2FibGVkKGVudW1zLldvcmtsaXN0VHlwZS5saXZlKVxyXG4gICAgICAgICAgICAgICAgICAgICYmICgoIXFpZ1N0b3JlLmluc3RhbmNlLmlzV2hvbGVSZXNwb25zZUF2YWlsYWJsZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKCFxaWdTdG9yZS5pbnN0YW5jZS5pc0F0eXBpY2FsQXZhaWxhYmxlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5hdHlwaWNhbCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8vLyBpZiBwZXJtaXNzaW9uIGlzIGNoYW5nZWQgZm9yIHdob2xlIHJlc3BvbnNlIGluIGFueSBvZiB0aGUgcWlncyB0aGVuIHN1Ym1pdCBpcyBoaWRkZW5cclxuICAgICAgICAgICAgICAgICAgICAvLy8vICBtYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzU3VibWl0RGlzYWJsZWQgLSBjdXJyZW50IHFpZyBzdWJtaXQgZGlzYWJsZSBsb2dpY1xyXG4gICAgICAgICAgICAgICAgICAgIC8vLy8gIGlzQXR5cGljYWxBdmFpbGFibGUgLSBmb3IgY2hlY2tpbmcgaWYgYXR5cGljYWwgc3VibWl0IGF2YWlsYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vLy8gIGlzV2hvbGVSZXNwb25zZUF2YWlsYWJsZSAtIGZvciBjaGVja2luZyBpZiB3aG9sZSByZXNwb25zZSBzdWJtaXQgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMud2hvbGVSZXNwb25zZU5vdEF2YWlsYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc3BvbnNlU3RhdHVzZXMuY291bnQoKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKiBpZiBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGlzIG9mZiBhbmQgaWYgbm8gYmxvY2tpbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgcmVhZHkgdG8gc3VibWl0IGJ1dHRvbiAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmlzU3VibWl0RW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuaGFzQmxvY2tpbmdFeGNlcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaXMgaW4gcHJvZ3Jlc3MgYW5kIGJsb2NraW5nIGV4Y2VwdGlvbnMgYXJlIHRoZXJlLCBzaG93IGJvdGguICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNFeGNlcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLyoqIGlmIG1hcmtpbmcgbm90IHN0YXJ0ZWQgc2hvdyB0aGUgc2FtZSAqL1xyXG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nTm90U3RhcnRlZCk7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5oYXNCbG9ja2luZ0V4Y2VwdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIC8qKiBpZiB0aGUgbWFya2luZyBpcyBub3Qgc3RhcnRlZCBhbmQgYmxvY2tpbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgYW1iZXIuICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNFeGNlcHRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZVN0YXR1c2VzO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCA9IExpdmVXb3JrbGlzdFZhbGlkYXRvcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy9saXZld29ya2xpc3R2YWxpZGF0b3IudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBdUdBO0FBcEdBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 422:
/* no static exports found */
/* all exports used */
/*!*********************************************************************!*\
  !*** ./src/utility/worklistvalidators/practiceworklistvalidator.ts ***!
  \*********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../components/utility/ecoursework/ecourseworkhelper */ 238);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * Practice worklist concrete implementation of WorkListValidatorSchema\r\n */\r\nvar PracticeWorklistValidator = /** @class */ (function () {\r\n    function PracticeWorklistValidator() {\r\n    }\r\n    /**\r\n     * Logic to show marking progress/submit button/blocking exception warning\r\n     * @param response\r\n     */\r\n    PracticeWorklistValidator.prototype.submitButtonValidate = function (response) {\r\n        this.responseStatuses = Immutable.List();\r\n        this.responseStatuses.clear();\r\n        switch (worklistStore.instance.getResponseMode) {\r\n            case enums.ResponseMode.open:\r\n                this.responseStatuses = this.openResponseValidation(response);\r\n                break;\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * Open Practice worklist validation for marking progress/submit button\r\n     * @param response\r\n     */\r\n    PracticeWorklistValidator.prototype.openResponseValidation = function (response) {\r\n        response.isSubmitEnabled = false;\r\n        /** if the marking has started */\r\n        if (response.markingProgress > 0) {\r\n            /** if the marking is completed */\r\n            if (response.markingProgress === 100) {\r\n                // Avoid ForceAnnotationOnEachPage CC while opening single response in multiQig\r\n                // Apply ForceAnnotationOnEachPage CC for all QIGs in the whole response when it turned on for at least one QIG\r\n                var markSchemeGroupId = qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** taking the cc from cc helper */\r\n                var isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                var isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                /** if slao annotated cc is on and all pages are not annotated OR all pages annotated cc is on\r\n                 *  and all pages are not annotated if both CCs are on, all pages annotated cc has\r\n                 *  the higher priority.\r\n                 */\r\n                if ((!isAllPagesAnnotatedCC && isAllSLAOAnnotatedCC && response.hasAllPagesAnnotated === false)\r\n                    || (isAllPagesAnnotatedCC && response.hasAllPagesAnnotated === false)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllPagesAnnotated);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed) {\r\n                    /* For an ecoursework component, enable submit button only if all files are viewed in the response.\r\n                       If not all files are viewed then the response view in the worklist will be shown in amber color along with\r\n                       marking progress indicator.\r\n                    */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllFilesViewed);\r\n                }\r\n                else {\r\n                    /** if all pages annotated cc is off show ready to submit button */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.readyToSubmit);\r\n                    response.isSubmitEnabled = true;\r\n                }\r\n            }\r\n            else {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n        }\r\n        else {\r\n            /** if marking not started show the same */\r\n            this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingNotStarted);\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    return PracticeWorklistValidator;\r\n}());\r\nmodule.exports = PracticeWorklistValidator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3ByYWN0aWNld29ya2xpc3R2YWxpZGF0b3IudHM/MjE3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IHdvcmtMaXN0VmFsaWRhdG9yU2NoZW1hID0gcmVxdWlyZSgnLi93b3JrbGlzdHZhbGlkYXRvcnNjaGVtYScpO1xyXG5pbXBvcnQgSW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XHJcbmltcG9ydCB3b3JrbGlzdFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3dvcmtsaXN0c3RvcmUnKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzaGVscGVyJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMnKTtcclxuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG4vKipcclxuICogUHJhY3RpY2Ugd29ya2xpc3QgY29uY3JldGUgaW1wbGVtZW50YXRpb24gb2YgV29ya0xpc3RWYWxpZGF0b3JTY2hlbWFcclxuICovXHJcbmNsYXNzIFByYWN0aWNlV29ya2xpc3RWYWxpZGF0b3IgaW1wbGVtZW50cyB3b3JrTGlzdFZhbGlkYXRvclNjaGVtYSB7XHJcbiAgICBwcml2YXRlIHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvZ2ljIHRvIHNob3cgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uL2Jsb2NraW5nIGV4Y2VwdGlvbiB3YXJuaW5nXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlOiBSZXNwb25zZUJhc2UpIHtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCk7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzLmNsZWFyKCk7XHJcbiAgICAgICAgc3dpdGNoICh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5vcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlIGFzIFByYWN0aWNlT3BlblJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZVN0YXR1c2VzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlbiBQcmFjdGljZSB3b3JrbGlzdCB2YWxpZGF0aW9uIGZvciBtYXJraW5nIHByb2dyZXNzL3N1Ym1pdCBidXR0b25cclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9wZW5SZXNwb25zZVZhbGlkYXRpb24ocmVzcG9uc2U6IFByYWN0aWNlT3BlblJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGhhcyBzdGFydGVkICovXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm1hcmtpbmdQcm9ncmVzcyA+IDApIHtcclxuICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCAqL1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubWFya2luZ1Byb2dyZXNzID09PSAxMDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIHdoaWxlIG9wZW5pbmcgc2luZ2xlIHJlc3BvbnNlIGluIG11bHRpUWlnXHJcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIGZvciBhbGwgUUlHcyBpbiB0aGUgd2hvbGUgcmVzcG9uc2Ugd2hlbiBpdCB0dXJuZWQgb24gZm9yIGF0IGxlYXN0IG9uZSBRSUdcclxuICAgICAgICAgICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyID1cclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiogdGFraW5nIHRoZSBjYyBmcm9tIGNjIGhlbHBlciAqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQWxsUGFnZXNBbm5vdGF0ZWRDQyA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsIG1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNBbGxTTEFPQW5ub3RhdGVkQ0MgPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcy5TTEFPRm9yY2VkQW5ub3RhdGlvbnMsIG1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvKiogaWYgc2xhbyBhbm5vdGF0ZWQgY2MgaXMgb24gYW5kIGFsbCBwYWdlcyBhcmUgbm90IGFubm90YXRlZCBPUiBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGlzIG9uXHJcbiAgICAgICAgICAgICAgICAgKiAgYW5kIGFsbCBwYWdlcyBhcmUgbm90IGFubm90YXRlZCBpZiBib3RoIENDcyBhcmUgb24sIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaGFzXHJcbiAgICAgICAgICAgICAgICAgKiAgdGhlIGhpZ2hlciBwcmlvcml0eS5cclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKCghaXNBbGxQYWdlc0Fubm90YXRlZENDICYmIGlzQWxsU0xBT0Fubm90YXRlZENDICYmIHJlc3BvbnNlLmhhc0FsbFBhZ2VzQW5ub3RhdGVkID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICB8fCAoaXNBbGxQYWdlc0Fubm90YXRlZENDICYmIHJlc3BvbnNlLmhhc0FsbFBhZ2VzQW5ub3RhdGVkID09PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxQYWdlc0Fubm90YXRlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlQ291cnNld29ya0hlbHBlci5pc0VDb3Vyc2V3b3JrQ29tcG9uZW50ICYmICFyZXNwb25zZS5hbGxGaWxlc1ZpZXdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIEZvciBhbiBlY291cnNld29yayBjb21wb25lbnQsIGVuYWJsZSBzdWJtaXQgYnV0dG9uIG9ubHkgaWYgYWxsIGZpbGVzIGFyZSB2aWV3ZWQgaW4gdGhlIHJlc3BvbnNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBhbGwgZmlsZXMgYXJlIHZpZXdlZCB0aGVuIHRoZSByZXNwb25zZSB2aWV3IGluIHRoZSB3b3JrbGlzdCB3aWxsIGJlIHNob3duIGluIGFtYmVyIGNvbG9yIGFsb25nIHdpdGhcclxuICAgICAgICAgICAgICAgICAgICAgICBtYXJraW5nIHByb2dyZXNzIGluZGljYXRvci5cclxuICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vdEFsbEZpbGVzVmlld2VkKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaXMgb2ZmIHNob3cgcmVhZHkgdG8gc3VibWl0IGJ1dHRvbiAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmlzU3VibWl0RW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiogaWYgbWFya2luZyBub3Qgc3RhcnRlZCBzaG93IHRoZSBzYW1lICovXHJcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdOb3RTdGFydGVkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlU3RhdHVzZXM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gUHJhY3RpY2VXb3JrbGlzdFZhbGlkYXRvcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy9wcmFjdGljZXdvcmtsaXN0dmFsaWRhdG9yLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUF1RUE7QUFwRUE7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 423:
/* no static exports found */
/* all exports used */
/*!***********************************************************************!*\
  !*** ./src/utility/worklistvalidators/simulationworklistvalidator.ts ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\n/**\r\n * Simulation worklist concrete implementation of WorkListValidatorSchema\r\n */\r\nvar SimualtionWorklistValidator = /** @class */ (function () {\r\n    function SimualtionWorklistValidator() {\r\n    }\r\n    /**\r\n     * Logic to show marking progress/submit button/blocking exception warning\r\n     * @param response\r\n     */\r\n    SimualtionWorklistValidator.prototype.submitButtonValidate = function (response) {\r\n        this.responseStatuses = Immutable.List();\r\n        this.responseStatuses.clear();\r\n        switch (worklistStore.instance.getResponseMode) {\r\n            case enums.ResponseMode.open:\r\n                this.responseStatuses = this.openResponseValidation(response);\r\n                break;\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * Open simulation worklist validation for marking progress/submit button\r\n     * @param response\r\n     */\r\n    SimualtionWorklistValidator.prototype.openResponseValidation = function (response) {\r\n        response.isSubmitEnabled = false;\r\n        /** if the marking has started */\r\n        if (response.markingProgress > 0) {\r\n            /** if the marking is completed */\r\n            if (response.markingProgress === 100) {\r\n                // Avoid ForceAnnotationOnEachPage CC while opening single response in multiQig\r\n                // Apply ForceAnnotationOnEachPage CC for all QIGs in the whole response when it turned on for at least one QIG\r\n                var markSchemeGroupId = qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** taking the cc from cc helper */\r\n                var isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, markSchemeGroupId).toLowerCase() === 'true';\r\n                var isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, markSchemeGroupId).toLowerCase() === 'true';\r\n                /** if slao annotated cc is on and all pages are not annotated OR all pages annotated cc is on\r\n                 *  and all pages are not annotated if both CCs are on, all pages annotated cc has\r\n                 *  the higher priority.\r\n                 */\r\n                if ((!isAllPagesAnnotatedCC && isAllSLAOAnnotatedCC && response.hasAllPagesAnnotated === false)\r\n                    || (isAllPagesAnnotatedCC && response.hasAllPagesAnnotated === false)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllPagesAnnotated);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else {\r\n                    /** if all pages annotated cc is off and if no blocking exceptions are there, show ready to submit button */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.readyToSubmit);\r\n                    response.isSubmitEnabled = true;\r\n                }\r\n            }\r\n            else {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n        }\r\n        else {\r\n            /** if marking not started show the same */\r\n            this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingNotStarted);\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    return SimualtionWorklistValidator;\r\n}());\r\nmodule.exports = SimualtionWorklistValidator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3NpbXVsYXRpb253b3JrbGlzdHZhbGlkYXRvci50cz9lYWM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgd29ya0xpc3RWYWxpZGF0b3JTY2hlbWEgPSByZXF1aXJlKCcuL3dvcmtsaXN0dmFsaWRhdG9yc2NoZW1hJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzaGVscGVyJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMnKTtcclxuLyoqXHJcbiAqIFNpbXVsYXRpb24gd29ya2xpc3QgY29uY3JldGUgaW1wbGVtZW50YXRpb24gb2YgV29ya0xpc3RWYWxpZGF0b3JTY2hlbWFcclxuICovXHJcbmNsYXNzIFNpbXVhbHRpb25Xb3JrbGlzdFZhbGlkYXRvciBpbXBsZW1lbnRzIHdvcmtMaXN0VmFsaWRhdG9yU2NoZW1hIHtcclxuICAgIHByaXZhdGUgcmVzcG9uc2VTdGF0dXNlczogSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9naWMgdG8gc2hvdyBtYXJraW5nIHByb2dyZXNzL3N1Ym1pdCBidXR0b24vYmxvY2tpbmcgZXhjZXB0aW9uIHdhcm5pbmdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3VibWl0QnV0dG9uVmFsaWRhdGUocmVzcG9uc2U6IFJlc3BvbnNlQmFzZSkge1xyXG5cclxuICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4oKTtcclxuICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMuY2xlYXIoKTtcclxuICAgICAgICBzd2l0Y2ggKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVzcG9uc2VNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLm9wZW5SZXNwb25zZVZhbGlkYXRpb24ocmVzcG9uc2UgYXMgU2ltdWxhdGlvbk9wZW5SZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VTdGF0dXNlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZW4gc2ltdWxhdGlvbiB3b3JrbGlzdCB2YWxpZGF0aW9uIGZvciBtYXJraW5nIHByb2dyZXNzL3N1Ym1pdCBidXR0b25cclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9wZW5SZXNwb25zZVZhbGlkYXRpb24ocmVzcG9uc2U6IFNpbXVsYXRpb25PcGVuUmVzcG9uc2UpIHtcclxuICAgICAgICByZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaGFzIHN0YXJ0ZWQgKi9cclxuICAgICAgICBpZiAocmVzcG9uc2UubWFya2luZ1Byb2dyZXNzID4gMCkge1xyXG4gICAgICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaXMgY29tcGxldGVkICovXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5tYXJraW5nUHJvZ3Jlc3MgPT09IDEwMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEF2b2lkIEZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UgQ0Mgd2hpbGUgb3BlbmluZyBzaW5nbGUgcmVzcG9uc2UgaW4gbXVsdGlRaWdcclxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IEZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UgQ0MgZm9yIGFsbCBRSUdzIGluIHRoZSB3aG9sZSByZXNwb25zZSB3aGVuIGl0IHR1cm5lZCBvbiBmb3IgYXQgbGVhc3Qgb25lIFFJR1xyXG4gICAgICAgICAgICAgICAgbGV0IG1hcmtTY2hlbWVHcm91cElkOiBudW1iZXIgPVxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKiB0YWtpbmcgdGhlIGNjIGZyb20gY2MgaGVscGVyICovXHJcbiAgICAgICAgICAgICAgICBsZXQgaXNBbGxQYWdlc0Fubm90YXRlZENDID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuRm9yY2VBbm5vdGF0aW9uT25FYWNoUGFnZSwgbWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcclxuICAgICAgICAgICAgICAgIGxldCBpc0FsbFNMQU9Bbm5vdGF0ZWRDQyA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNMQU9Gb3JjZWRBbm5vdGF0aW9ucywgbWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcclxuICAgICAgICAgICAgICAgIC8qKiBpZiBzbGFvIGFubm90YXRlZCBjYyBpcyBvbiBhbmQgYWxsIHBhZ2VzIGFyZSBub3QgYW5ub3RhdGVkIE9SIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaXMgb25cclxuICAgICAgICAgICAgICAgICAqICBhbmQgYWxsIHBhZ2VzIGFyZSBub3QgYW5ub3RhdGVkIGlmIGJvdGggQ0NzIGFyZSBvbiwgYWxsIHBhZ2VzIGFubm90YXRlZCBjYyBoYXNcclxuICAgICAgICAgICAgICAgICAqICB0aGUgaGlnaGVyIHByaW9yaXR5LlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBpZiAoKCFpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgaXNBbGxTTEFPQW5ub3RhdGVkQ0MgJiYgcmVzcG9uc2UuaGFzQWxsUGFnZXNBbm5vdGF0ZWQgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IChpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgcmVzcG9uc2UuaGFzQWxsUGFnZXNBbm5vdGF0ZWQgPT09IGZhbHNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vdEFsbFBhZ2VzQW5ub3RhdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKiBpZiBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGlzIG9mZiBhbmQgaWYgbm8gYmxvY2tpbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgcmVhZHkgdG8gc3VibWl0IGJ1dHRvbiAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmlzU3VibWl0RW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiogaWYgbWFya2luZyBub3Qgc3RhcnRlZCBzaG93IHRoZSBzYW1lICovXHJcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdOb3RTdGFydGVkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlU3RhdHVzZXM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gU2ltdWFsdGlvbldvcmtsaXN0VmFsaWRhdG9yO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3NpbXVsYXRpb253b3JrbGlzdHZhbGlkYXRvci50cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQStEQTtBQTVEQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 424:
/* no static exports found */
/* all exports used */
/*!****************************************************************************!*\
  !*** ./src/utility/worklistvalidators/standardisationworklistvalidator.ts ***!
  \****************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../components/utility/ecoursework/ecourseworkhelper */ 238);\r\n/**\r\n * Standardisation worklist concrete implementation of WorkListValidatorSchema\r\n */\r\nvar StandardisationWorklistValidator = /** @class */ (function () {\r\n    function StandardisationWorklistValidator() {\r\n    }\r\n    /**\r\n     * Logic to show marking progress/submit button/blocking exception warning\r\n     * @param response\r\n     */\r\n    StandardisationWorklistValidator.prototype.submitButtonValidate = function (response) {\r\n        this.responseStatuses = Immutable.List();\r\n        this.responseStatuses.clear();\r\n        switch (worklistStore.instance.getResponseMode) {\r\n            case enums.ResponseMode.open:\r\n                this.responseStatuses = this.openResponseValidation(response);\r\n                break;\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * Open Standardisation worklist validation for marking progress/submit button\r\n     * @param response\r\n     */\r\n    StandardisationWorklistValidator.prototype.openResponseValidation = function (response) {\r\n        response.isSubmitEnabled = false;\r\n        /** if the marking has started */\r\n        if (response.markingProgress > 0) {\r\n            /** if the marking is completed */\r\n            if (response.markingProgress === 100) {\r\n                // Avoid ForceAnnotationOnEachPage CC while opening single response in multiQig\r\n                // Apply ForceAnnotationOnEachPage CC for all QIGs in the whole response when it turned on for at least one QIG\r\n                var markSchemeGroupId = qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** taking the cc from cc helper */\r\n                var isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                var isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                /** if slao annotated cc is on and all pages are not annotated OR all pages annotated cc is on\r\n                 *  and all pages are not annotated if both CCs are on, all pages annotated cc has\r\n                 *  the higher priority.\r\n                 */\r\n                if ((!isAllPagesAnnotatedCC && isAllSLAOAnnotatedCC && response.hasAllPagesAnnotated === false)\r\n                    || (isAllPagesAnnotatedCC && response.hasAllPagesAnnotated === false)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllPagesAnnotated);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed) {\r\n                    /* For an ecoursework component, enable submit button only if all files are viewed in the response.\r\n                       If not all files are viewed then the response view in the worklist will be shown in amber color along with\r\n                       marking progress indicator.\r\n                    */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllFilesViewed);\r\n                }\r\n                else {\r\n                    /** if all pages annotated cc is off show ready to submit button */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.readyToSubmit);\r\n                    response.isSubmitEnabled = true;\r\n                }\r\n            }\r\n            else {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n        }\r\n        else {\r\n            /** if marking not started show the same */\r\n            this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingNotStarted);\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    return StandardisationWorklistValidator;\r\n}());\r\nmodule.exports = StandardisationWorklistValidator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3N0YW5kYXJkaXNhdGlvbndvcmtsaXN0dmFsaWRhdG9yLnRzPzNiZjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCB3b3JrTGlzdFZhbGlkYXRvclNjaGVtYSA9IHJlcXVpcmUoJy4vd29ya2xpc3R2YWxpZGF0b3JzY2hlbWEnKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xyXG5pbXBvcnQgZUNvdXJzZXdvcmtIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZWNvdXJzZXdvcmsvZWNvdXJzZXdvcmtoZWxwZXInKTtcclxuLyoqXHJcbiAqIFN0YW5kYXJkaXNhdGlvbiB3b3JrbGlzdCBjb25jcmV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBXb3JrTGlzdFZhbGlkYXRvclNjaGVtYVxyXG4gKi9cclxuY2xhc3MgU3RhbmRhcmRpc2F0aW9uV29ya2xpc3RWYWxpZGF0b3IgaW1wbGVtZW50cyB3b3JrTGlzdFZhbGlkYXRvclNjaGVtYSB7XHJcbiAgICBwcml2YXRlIHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvZ2ljIHRvIHNob3cgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uL2Jsb2NraW5nIGV4Y2VwdGlvbiB3YXJuaW5nXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlOiBSZXNwb25zZUJhc2UpIHtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCk7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzLmNsZWFyKCk7XHJcbiAgICAgICAgc3dpdGNoICh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5vcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlIGFzIFN0YW5kYXJkaXNhdGlvbk9wZW5SZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VTdGF0dXNlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZW4gU3RhbmRhcmRpc2F0aW9uIHdvcmtsaXN0IHZhbGlkYXRpb24gZm9yIG1hcmtpbmcgcHJvZ3Jlc3Mvc3VibWl0IGJ1dHRvblxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb3BlblJlc3BvbnNlVmFsaWRhdGlvbihyZXNwb25zZTogU3RhbmRhcmRpc2F0aW9uT3BlblJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGhhcyBzdGFydGVkICovXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm1hcmtpbmdQcm9ncmVzcyA+IDApIHtcclxuICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCAqL1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubWFya2luZ1Byb2dyZXNzID09PSAxMDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIHdoaWxlIG9wZW5pbmcgc2luZ2xlIHJlc3BvbnNlIGluIG11bHRpUWlnXHJcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIGZvciBhbGwgUUlHcyBpbiB0aGUgd2hvbGUgcmVzcG9uc2Ugd2hlbiBpdCB0dXJuZWQgb24gZm9yIGF0IGxlYXN0IG9uZSBRSUdcclxuICAgICAgICAgICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyID1cclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiogdGFraW5nIHRoZSBjYyBmcm9tIGNjIGhlbHBlciAqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQWxsUGFnZXNBbm5vdGF0ZWRDQyA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsIG1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNBbGxTTEFPQW5ub3RhdGVkQ0MgPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcy5TTEFPRm9yY2VkQW5ub3RhdGlvbnMsIG1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvKiogaWYgc2xhbyBhbm5vdGF0ZWQgY2MgaXMgb24gYW5kIGFsbCBwYWdlcyBhcmUgbm90IGFubm90YXRlZCBPUiBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGlzIG9uXHJcbiAgICAgICAgICAgICAgICAgKiAgYW5kIGFsbCBwYWdlcyBhcmUgbm90IGFubm90YXRlZCBpZiBib3RoIENDcyBhcmUgb24sIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaGFzXHJcbiAgICAgICAgICAgICAgICAgKiAgdGhlIGhpZ2hlciBwcmlvcml0eS5cclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKCghaXNBbGxQYWdlc0Fubm90YXRlZENDICYmIGlzQWxsU0xBT0Fubm90YXRlZENDICYmIHJlc3BvbnNlLmhhc0FsbFBhZ2VzQW5ub3RhdGVkID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICB8fCAoaXNBbGxQYWdlc0Fubm90YXRlZENDICYmIHJlc3BvbnNlLmhhc0FsbFBhZ2VzQW5ub3RhdGVkID09PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxQYWdlc0Fubm90YXRlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlQ291cnNld29ya0hlbHBlci5pc0VDb3Vyc2V3b3JrQ29tcG9uZW50ICYmICFyZXNwb25zZS5hbGxGaWxlc1ZpZXdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIEZvciBhbiBlY291cnNld29yayBjb21wb25lbnQsIGVuYWJsZSBzdWJtaXQgYnV0dG9uIG9ubHkgaWYgYWxsIGZpbGVzIGFyZSB2aWV3ZWQgaW4gdGhlIHJlc3BvbnNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBhbGwgZmlsZXMgYXJlIHZpZXdlZCB0aGVuIHRoZSByZXNwb25zZSB2aWV3IGluIHRoZSB3b3JrbGlzdCB3aWxsIGJlIHNob3duIGluIGFtYmVyIGNvbG9yIGFsb25nIHdpdGhcclxuICAgICAgICAgICAgICAgICAgICAgICBtYXJraW5nIHByb2dyZXNzIGluZGljYXRvci5cclxuICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vdEFsbEZpbGVzVmlld2VkKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaXMgb2ZmIHNob3cgcmVhZHkgdG8gc3VibWl0IGJ1dHRvbiAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmlzU3VibWl0RW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiogaWYgbWFya2luZyBub3Qgc3RhcnRlZCBzaG93IHRoZSBzYW1lICovXHJcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdOb3RTdGFydGVkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlU3RhdHVzZXM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gU3RhbmRhcmRpc2F0aW9uV29ya2xpc3RWYWxpZGF0b3I7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvc3RhbmRhcmRpc2F0aW9ud29ya2xpc3R2YWxpZGF0b3IudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQXVFQTtBQXBFQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 436:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/components/base/eventmanager/hammerhandler.ts ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar Hammer = __webpack_require__(/*! hammerjs */ 44);\r\nvar eventTypes = __webpack_require__(/*! ./eventtypes */ 306);\r\nvar HammerHandler = /** @class */ (function () {\r\n    function HammerHandler() {\r\n        var _this = this;\r\n        /**\r\n         * initialise event handlers\r\n         */\r\n        this.initEvents = function (element, touchAction, domEvents) {\r\n            if (touchAction && domEvents) {\r\n                _this.hm = new Hammer(element, {\r\n                    touchAction: touchAction,\r\n                    domEvents: domEvents\r\n                });\r\n            }\r\n            else {\r\n                _this.hm = new Hammer(element);\r\n            }\r\n        };\r\n        /**\r\n         * This method is used to hook various event types\r\n         * eventType: string - using eventTypes string constants\r\n         * handler : callback function for event handler\r\n         */\r\n        this.on = function (eventType, handler) {\r\n            switch (eventType) {\r\n                case eventTypes.PAN:\r\n                case eventTypes.PAN_START:\r\n                case eventTypes.PAN_END:\r\n                case eventTypes.PAN_MOVE:\r\n                case eventTypes.PAN_CANCEL:\r\n                case eventTypes.PAN_LEFT:\r\n                case eventTypes.PAN_RIGHT:\r\n                case eventTypes.PAN_UP:\r\n                case eventTypes.PAN_DOWN:\r\n                case eventTypes.TAP:\r\n                case eventTypes.PRESS:\r\n                case eventTypes.PRESS_UP:\r\n                case eventTypes.SWIPE_LEFT:\r\n                case eventTypes.SWIPE_RIGHT:\r\n                case eventTypes.SWIPE_UP:\r\n                case eventTypes.SWIPE_DOWN:\r\n                case eventTypes.SWIPE:\r\n                case eventTypes.PINCH:\r\n                case eventTypes.PINCH_START:\r\n                case eventTypes.PINCH_IN:\r\n                case eventTypes.PINCH_OUT:\r\n                case eventTypes.PINCH_END:\r\n                case eventTypes.PINCH_CANCEL:\r\n                    _this.hm.on(eventType, function (evnt) {\r\n                        handler(evnt);\r\n                    });\r\n                    break;\r\n                case eventTypes.INPUT:\r\n                    _this.hm.on('hammer.input', function (evnt) {\r\n                        handler(evnt);\r\n                    });\r\n                    break;\r\n            }\r\n        };\r\n        /**\r\n         * This method is used to remove letious event types\r\n         * eventType: string - using eventTypes string constants\r\n         * handler : callback function for event handler\r\n         */\r\n        this.off = function (eventType, handler) {\r\n            switch (eventType) {\r\n                case eventTypes.PAN:\r\n                case eventTypes.PAN_START:\r\n                case eventTypes.PAN_END:\r\n                case eventTypes.PAN_MOVE:\r\n                case eventTypes.PAN_CANCEL:\r\n                case eventTypes.PAN_LEFT:\r\n                case eventTypes.PAN_RIGHT:\r\n                case eventTypes.PAN_UP:\r\n                case eventTypes.PAN_DOWN:\r\n                case eventTypes.TAP:\r\n                case eventTypes.PRESS:\r\n                case eventTypes.PRESS_UP:\r\n                case eventTypes.SWIPE_LEFT:\r\n                case eventTypes.SWIPE_RIGHT:\r\n                case eventTypes.SWIPE_UP:\r\n                case eventTypes.SWIPE_DOWN:\r\n                case eventTypes.SWIPE:\r\n                case eventTypes.PINCH:\r\n                case eventTypes.PINCH_START:\r\n                case eventTypes.PINCH_IN:\r\n                case eventTypes.PINCH_OUT:\r\n                case eventTypes.PINCH_END:\r\n                case eventTypes.PINCH_CANCEL:\r\n                    _this.hm.off(eventType, function (evnt) {\r\n                        handler(evnt);\r\n                    });\r\n                    break;\r\n                case eventTypes.INPUT:\r\n                    _this.hm.off('hammer.input', function (evnt) {\r\n                        handler(evnt);\r\n                    });\r\n                    break;\r\n            }\r\n        };\r\n        /* tslint:disable:no-reserved-keywords */\r\n        /**\r\n         * Add hammer recognizers with options\r\n         */\r\n        this.get = function (eventType, options) {\r\n            _this.hm.get(eventType).set(options);\r\n        };\r\n        /* tslint:disable:no-reserved-keywords */\r\n        /**\r\n         * stops hammer manager\r\n         */\r\n        this.stop = function (force) {\r\n            if (_this.hm) {\r\n                _this.hm.stop(force);\r\n            }\r\n        };\r\n        /**\r\n         * unsubscribing hammer touch events and handlers\r\n         */\r\n        this.destroy = function () {\r\n            if (_this.hm) {\r\n                _this.hm.stop(true);\r\n                _this.hm.destroy();\r\n            }\r\n            _this.hm = null;\r\n        };\r\n        /**\r\n         * stop propagation\r\n         */\r\n        this.stopPropagation = function (event) {\r\n            event.srcEvent.stopPropagation();\r\n        };\r\n    }\r\n    Object.defineProperty(HammerHandler.prototype, \"isInitialized\", {\r\n        /**\r\n         * check whether the hammer is initialized or not\r\n         */\r\n        get: function () {\r\n            if (this.hm && this.hm !== null) {\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return HammerHandler;\r\n}());\r\nmodule.exports = HammerHandler;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYmFzZS9ldmVudG1hbmFnZXIvaGFtbWVyaGFuZGxlci50cz82MjExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBIYW1tZXIgPSByZXF1aXJlKCdoYW1tZXJqcycpO1xyXG5pbXBvcnQgZXZlbnRUeXBlcyA9IHJlcXVpcmUoJy4vZXZlbnR0eXBlcycpO1xyXG50eXBlIEZ1bmN0aW9uVHlwZSA9IChldmVudDogRXZlbnRDdXN0b20pID0+IHZvaWQ7XHJcblxyXG5jbGFzcyBIYW1tZXJIYW5kbGVyIGltcGxlbWVudHMgRXZlbnRNYW5hZ2VyIHtcclxuICAgIHByb3RlY3RlZCBobTogSGFtbWVyTWFuYWdlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGluaXRpYWxpc2UgZXZlbnQgaGFuZGxlcnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaXRFdmVudHMgPSAoZWxlbWVudDogRWxlbWVudCwgdG91Y2hBY3Rpb24/OiBzdHJpbmcsIGRvbUV2ZW50cz86IGJvb2xlYW4pID0+IHtcclxuICAgICAgICBpZiAodG91Y2hBY3Rpb24gJiYgZG9tRXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG0gPSBuZXcgSGFtbWVyKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQsIHtcclxuICAgICAgICAgICAgICAgIHRvdWNoQWN0aW9uOiB0b3VjaEFjdGlvbixcclxuICAgICAgICAgICAgICAgIGRvbUV2ZW50czogZG9tRXZlbnRzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG0gPSBuZXcgSGFtbWVyKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGhvb2sgdmFyaW91cyBldmVudCB0eXBlc1xyXG4gICAgICogZXZlbnRUeXBlOiBzdHJpbmcgLSB1c2luZyBldmVudFR5cGVzIHN0cmluZyBjb25zdGFudHNcclxuICAgICAqIGhhbmRsZXIgOiBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZXZlbnQgaGFuZGxlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb24gPSAoZXZlbnRUeXBlOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uVHlwZSkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnRUeXBlKSB7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUEFOOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUEFOX1NUQVJUOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUEFOX0VORDpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlBBTl9NT1ZFOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUEFOX0NBTkNFTDpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlBBTl9MRUZUOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUEFOX1JJR0hUOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUEFOX1VQOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUEFOX0RPV046XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5UQVA6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QUkVTUzpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlBSRVNTX1VQOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuU1dJUEVfTEVGVDpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlNXSVBFX1JJR0hUOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuU1dJUEVfVVA6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5TV0lQRV9ET1dOOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuU1dJUEU6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QSU5DSDpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlBJTkNIX1NUQVJUOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUElOQ0hfSU46XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QSU5DSF9PVVQ6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QSU5DSF9FTkQ6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QSU5DSF9DQU5DRUw6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhtLm9uKGV2ZW50VHlwZSwgKGV2bnQ6IEhhbW1lcklucHV0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcihldm50KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5JTlBVVDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaG0ub24oJ2hhbW1lci5pbnB1dCcsIChldm50OiBIYW1tZXJJbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIoZXZudCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHJlbW92ZSBsZXRpb3VzIGV2ZW50IHR5cGVzXHJcbiAgICAgKiBldmVudFR5cGU6IHN0cmluZyAtIHVzaW5nIGV2ZW50VHlwZXMgc3RyaW5nIGNvbnN0YW50c1xyXG4gICAgICogaGFuZGxlciA6IGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBldmVudCBoYW5kbGVyXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvZmYgPSAoZXZlbnRUeXBlOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uVHlwZSkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QQU46XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QQU5fU1RBUlQ6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QQU5fRU5EOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUEFOX01PVkU6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QQU5fQ0FOQ0VMOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUEFOX0xFRlQ6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QQU5fUklHSFQ6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QQU5fVVA6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QQU5fRE9XTjpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlRBUDpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlBSRVNTOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUFJFU1NfVVA6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5TV0lQRV9MRUZUOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuU1dJUEVfUklHSFQ6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5TV0lQRV9VUDpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlNXSVBFX0RPV046XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5TV0lQRTpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlBJTkNIOlxyXG4gICAgICAgICAgICBjYXNlIGV2ZW50VHlwZXMuUElOQ0hfU1RBUlQ6XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5QSU5DSF9JTjpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlBJTkNIX09VVDpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlBJTkNIX0VORDpcclxuICAgICAgICAgICAgY2FzZSBldmVudFR5cGVzLlBJTkNIX0NBTkNFTDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaG0ub2ZmKGV2ZW50VHlwZSwgKGV2bnQ6IEhhbW1lcklucHV0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcihldm50KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZXZlbnRUeXBlcy5JTlBVVDpcclxuICAgICAgICAgICAgICAgIHRoaXMuaG0ub2ZmKCdoYW1tZXIuaW5wdXQnLCAoZXZudDogSGFtbWVySW5wdXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyKGV2bnQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIHRzbGludDpkaXNhYmxlOm5vLXJlc2VydmVkLWtleXdvcmRzICovXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBoYW1tZXIgcmVjb2duaXplcnMgd2l0aCBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgPSAoZXZlbnRUeXBlOiBzdHJpbmcsIG9wdGlvbnM6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMuaG0uZ2V0KGV2ZW50VHlwZSkuc2V0KG9wdGlvbnMpO1xyXG4gICAgfTtcclxuICAgIC8qIHRzbGludDpkaXNhYmxlOm5vLXJlc2VydmVkLWtleXdvcmRzICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzdG9wcyBoYW1tZXIgbWFuYWdlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RvcCA9IChmb3JjZTogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmhtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG0uc3RvcChmb3JjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHVuc3Vic2NyaWJpbmcgaGFtbWVyIHRvdWNoIGV2ZW50cyBhbmQgaGFuZGxlcnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGRlc3Ryb3kgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaG0pIHtcclxuICAgICAgICAgICAgdGhpcy5obS5zdG9wKHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmhtLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5obSA9IG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogc3RvcCBwcm9wYWdhdGlvblxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RvcFByb3BhZ2F0aW9uID0gKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjaGVjayB3aGV0aGVyIHRoZSBoYW1tZXIgaXMgaW5pdGlhbGl6ZWQgb3Igbm90XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgaXNJbml0aWFsaXplZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5obSAmJiB0aGlzLmhtICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEhhbW1lckhhbmRsZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2Jhc2UvZXZlbnRtYW5hZ2VyL2hhbW1lcmhhbmRsZXIudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQVBBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 445:
/* no static exports found */
/* all exports used */
/*!*******************************************************!*\
  !*** ./src/components/utility/table/tablewrapper.tsx ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar _this = this;\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\n/* tslint:disable:no-reserved-keywords */\r\n/* tslint:disable:variable-name */\r\nvar TableControl = function (props) {\r\n    var header = (props.tableHeader) ? React.createElement(\"thead\", null, props.tableHeader) : React.createElement(\"thead\", null);\r\n    var body = (props.tableBody) ? React.createElement(\"tbody\", { id: 'table_body' }, props.tableBody) : React.createElement(\"tbody\", null);\r\n    var tableStyle = {};\r\n    tableStyle = {\r\n        width: '100%',\r\n    };\r\n    return (React.createElement(\"table\", { style: tableStyle, cellPadding: '0', cellSpacing: '0', id: props.id, key: 'key_' + props.id, className: props.class },\r\n        header,\r\n        body));\r\n};\r\n/* tslint:disable:variable-name */\r\nvar TableRow = function (props) {\r\n    var onClickHandler = function (event) {\r\n        if (props.onClick) {\r\n            props.onClick(event);\r\n        }\r\n    };\r\n    var onMouseClickHandler = function (event, rowId) {\r\n        if (props.onMouseDown) {\r\n            props.onMouseDown(rowId);\r\n        }\r\n    };\r\n    var onMouseUpClickHandler = function (event, rowId) {\r\n        if (props.onMouseUp) {\r\n            props.onMouseUp(rowId);\r\n        }\r\n    };\r\n    var onTouchStartHandler = function (event, rowId) {\r\n        if (props.onTouchStart) {\r\n            props.onTouchStart(rowId);\r\n        }\r\n    };\r\n    var additionalElement = (props.additionalElement) ? props.additionalElement : null;\r\n    return (React.createElement(\"tr\", { id: props.id, className: props.class, onClick: onClickHandler, onMouseDown: onMouseClickHandler.bind(_this, props.rowId), onMouseUp: onMouseUpClickHandler.bind(_this, props.rowId), onTouchStart: onTouchStartHandler.bind(_this, props.rowId) },\r\n        props.tableCells,\r\n        additionalElement));\r\n};\r\n/* tslint:disable:variable-name */\r\nvar TableBodyCell = function (props) {\r\n    var additionalElement = (props.additionalElement) ? props.additionalElement : null;\r\n    return (React.createElement(\"td\", { className: props.class, id: props.id },\r\n        React.createElement(\"div\", { className: 'cell-data' },\r\n            props.cellElement,\r\n            props.additionalElement)));\r\n};\r\n/* tslint:disable:variable-name */\r\nvar TableHeaderCell = function (props) {\r\n    var onClickHandler = function (event) {\r\n        if (props.onClick && props.comparerName && props.isSortable) {\r\n            props.onClick(props.comparerName, props.sortDirection);\r\n        }\r\n    };\r\n    var additionalElement = (props.additionalElement) ? props.additionalElement : null;\r\n    return (React.createElement(\"th\", { className: props.class, id: props.id },\r\n        React.createElement(\"span\", { className: 'visually-hidden' }, \" visually hidden text \"),\r\n        React.createElement(\"div\", { className: classNames('header-data', { 'hand': props.onClick && props.comparerName && props.isSortable }), onClick: onClickHandler },\r\n            props.cellElement,\r\n            additionalElement)));\r\n};\r\n/**\r\n * Helper fucntions for the table statless components\r\n */\r\nvar TableHelper = /** @class */ (function () {\r\n    function TableHelper() {\r\n    }\r\n    /**\r\n     * This method will call callback function for mouse up click of row.\r\n     */\r\n    TableHelper.mouseUpClick = function (props, rowId) {\r\n        if (props.onMouseUp) {\r\n            props.onMouseUp(rowId);\r\n        }\r\n    };\r\n    /**\r\n     * This method will call callback function for touch start of row.\r\n     */\r\n    TableHelper.touchStart = function (props, rowId) {\r\n        if (props.onTouchStart) {\r\n            props.onTouchStart(rowId);\r\n        }\r\n    };\r\n    /**\r\n     * returns the table row (tr) collection based on the given list of row data\r\n     * @param rows - collection of rows\r\n     * @param isHeader - whethere the row is a header row or not\r\n     */\r\n    TableHelper.getRows = function (rows, isHeader, props) {\r\n        var tableId = props.id;\r\n        var that = this;\r\n        var rowSeq = rows.keySeq();\r\n        var seqIndex = 0;\r\n        //Creating table rows - tr\r\n        var tableElement = rows.map(function (tableRow) {\r\n            var rowSeqKey = rowSeq.get(seqIndex++);\r\n            var additionalRowElement = tableRow.getAdditionalElement();\r\n            var cellIndex = 0;\r\n            //Creating td/th elements\r\n            var rowElement = tableRow.getCells().map(function (gridCell) {\r\n                var gridCellElement = gridCell.columnElement;\r\n                var cellAdditionalElement = gridCell.getAdditionalElement();\r\n                cellIndex++;\r\n                var style = gridCell.getCellStyle();\r\n                style = (style) ? style : '';\r\n                if (gridCell.isHidden !== true) {\r\n                    if (isHeader === true) {\r\n                        return (React.createElement(TableHeaderCell, { cellElement: gridCellElement, class: style, additionalElement: cellAdditionalElement, key: tableId + '_th_' + rowSeqKey + '_' + cellIndex, id: 'th_' + rowSeqKey + '_' + cellIndex, onClick: props.onSortClick, comparerName: gridCell.comparerName, sortDirection: gridCell.sortDirection, isSortable: gridCell.isSortable, renderedOn: props.renderedOn }));\r\n                    }\r\n                    else {\r\n                        return (React.createElement(TableBodyCell, { cellElement: gridCellElement, class: style, additionalElement: cellAdditionalElement, key: tableId + '_td_' + rowSeqKey + '_' + cellIndex, id: 'td_' + rowSeqKey + '_' + cellIndex, renderedOn: props.renderedOn }));\r\n                    }\r\n                }\r\n            });\r\n            if (!props.avoidLastColumn) {\r\n                if (isHeader) {\r\n                    rowElement.push(React.createElement(\"th\", { className: 'last-cell-header', key: tableId + '_th_' + rowSeqKey + '_empty', id: 'th_' + rowSeqKey + '_empty' },\r\n                        React.createElement(\"span\", { className: 'visually-hidden' }, \" visually hidden text \"),\r\n                        React.createElement(\"div\", { className: 'header-data' })));\r\n                }\r\n                else {\r\n                    rowElement.push(React.createElement(\"td\", { className: 'last-cell', key: tableId + '_td_' + rowSeqKey + '_empty', id: 'td_' + rowSeqKey + '_empty' },\r\n                        React.createElement(\"div\", { className: 'cell-data' })));\r\n                }\r\n            }\r\n            return (React.createElement(TableRow, { class: classNames((_a = {}, _a[tableRow.getRowStyle()] = true, _a), {\r\n                    'draggable': !props.isDraggableRow ?\r\n                        (props.selectedRowIdToDrag ? tableRow.getRowId() === props.selectedRowIdToDrag : false) : false\r\n                }), title: tableRow.getRowTitle(), tableCells: rowElement, key: tableId + '_tableRow_Key_' + rowSeqKey, id: 'tableRow_' + rowSeqKey, additionalElement: additionalRowElement, onClick: that.handleClick.bind(that, props, tableRow.getRowId()), renderedOn: props.renderedOn, onMouseDown: that.mouseDownClick.bind(that, props, tableRow.getRowId()), onMouseUp: that.mouseUpClick.bind(that, props, tableRow.getRowId()), onTouchStart: that.touchStart.bind(that, props, tableRow.getRowId()) }));\r\n            var _a;\r\n        });\r\n        return tableElement;\r\n    };\r\n    /**\r\n     * This method will call callback function\r\n     */\r\n    TableHelper.handleClick = function (props, rowId) {\r\n        if (props.onRowClick) {\r\n            props.onRowClick(rowId);\r\n        }\r\n    };\r\n    /**\r\n     * This method will call callback function for mouse down click of row.\r\n     */\r\n    TableHelper.mouseDownClick = function (props, rowId) {\r\n        if (props.onMouseDown) {\r\n            props.onMouseDown(rowId);\r\n        }\r\n    };\r\n    return TableHelper;\r\n}());\r\n/**\r\n * Represents the table Component\r\n */\r\nvar TableWrapper = function (props) {\r\n    var headerRows;\r\n    var bodyRows;\r\n    if (props.tableHeaderRows) {\r\n        headerRows = TableHelper.getRows(props.tableHeaderRows, true, props);\r\n    }\r\n    if (props.tableBodyRows) {\r\n        bodyRows = TableHelper.getRows(props.tableBodyRows, false, props);\r\n    }\r\n    if (headerRows || bodyRows) {\r\n        return (React.createElement(TableControl, { tableHeader: headerRows, tableBody: bodyRows, class: props.gridStyle, id: props.id, key: 'key_' + props.id, renderedOn: props.renderedOn }));\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\nmodule.exports = TableWrapper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQ1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90YWJsZS90YWJsZXdyYXBwZXIudHN4P2Q0MTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxubGV0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uL2VudW1zJyk7XHJcbmltcG9ydCBncmlkQ2VsbCA9IHJlcXVpcmUoJy4uL2dyaWQvZ3JpZGNlbGwnKTtcclxuXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXJlc2VydmVkLWtleXdvcmRzICovXHJcbmludGVyZmFjZSBUYWJsZVByb3BzIGV4dGVuZHMgUHJvcHNCYXNlIHtcclxuICAgIGNlbGxTcGFjaW5nPzogbnVtYmVyO1xyXG4gICAgY2VsbFBhZGRpbmc/OiBudW1iZXI7XHJcbiAgICBib3JkZXI/OiBudW1iZXI7XHJcbiAgICB3aWR0aD86IG51bWJlcjtcclxuICAgIGNsYXNzPzogc3RyaW5nO1xyXG4gICAgdGFibGVIZWFkZXI/OiBKU1guRWxlbWVudDtcclxuICAgIHRhYmxlQm9keT86IEpTWC5FbGVtZW50O1xyXG4gICAgcmVuZGVyZWRPbjogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVGFibGVSb3dQcm9wcyBleHRlbmRzIFByb3BzQmFzZSB7XHJcbiAgICB0YWJsZUNlbGxzPzogQXJyYXk8SlNYLkVsZW1lbnQ+O1xyXG4gICAgY2xhc3M/OiBzdHJpbmc7XHJcbiAgICB0aXRsZT86IHN0cmluZztcclxuICAgIG9uQ2xpY2s/OiBGdW5jdGlvbjtcclxuICAgIGFkZGl0aW9uYWxFbGVtZW50PzogSlNYLkVsZW1lbnQ7XHJcbiAgICByZW5kZXJlZE9uOiBudW1iZXI7XHJcbiAgICBvbk1vdXNlRG93bj86IEZ1bmN0aW9uO1xyXG4gICAgb25Nb3VzZVVwPzogRnVuY3Rpb247XHJcbiAgICByb3dJZD86IG51bWJlcjtcclxuICAgIG9uVG91Y2hTdGFydD86IEZ1bmN0aW9uO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVGFibGVDZWxsUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2Uge1xyXG4gICAgY2VsbEVsZW1lbnQ/OiBKU1guRWxlbWVudDtcclxuICAgIGNsYXNzPzogc3RyaW5nO1xyXG4gICAgb25DbGljaz86IEZ1bmN0aW9uO1xyXG4gICAgYWRkaXRpb25hbEVsZW1lbnQ/OiBKU1guRWxlbWVudDtcclxuICAgIGNvbXBhcmVyTmFtZT86IHN0cmluZztcclxuICAgIHNvcnREaXJlY3Rpb24/OiBlbnVtcy5Tb3J0RGlyZWN0aW9uO1xyXG4gICAgaXNTb3J0YWJsZT86IGJvb2xlYW47XHJcbiAgICByZW5kZXJlZE9uOiBudW1iZXI7XHJcbn1cclxuLyogdHNsaW50OmRpc2FibGU6bm8tcmVzZXJ2ZWQta2V5d29yZHMgKi9cclxuXHJcbi8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cclxuY29uc3QgVGFibGVDb250cm9sID0gKHByb3BzOiBUYWJsZVByb3BzKSA9PiB7XHJcblxyXG4gICAgbGV0IGhlYWRlcjogSlNYLkVsZW1lbnQgPSAocHJvcHMudGFibGVIZWFkZXIpID8gPHRoZWFkPntwcm9wcy50YWJsZUhlYWRlcn08L3RoZWFkPiA6IDx0aGVhZD48L3RoZWFkPjtcclxuICAgIGxldCBib2R5OiBKU1guRWxlbWVudCA9IChwcm9wcy50YWJsZUJvZHkpID8gPHRib2R5IGlkPSd0YWJsZV9ib2R5JyA+e3Byb3BzLnRhYmxlQm9keX08L3Rib2R5PiA6IDx0Ym9keT48L3Rib2R5PjtcclxuICAgIGxldCB0YWJsZVN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge307XHJcbiAgICB0YWJsZVN0eWxlID0ge1xyXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPHRhYmxlIHN0eWxlPXt0YWJsZVN0eWxlfSBjZWxsUGFkZGluZz0nMCcgY2VsbFNwYWNpbmc9JzAnXHJcbiAgICAgICAgICAgIGlkPXtwcm9wcy5pZH0ga2V5PXsna2V5XycgKyBwcm9wcy5pZH0gY2xhc3NOYW1lPXtwcm9wcy5jbGFzc30+XHJcbiAgICAgICAgICAgIHtoZWFkZXJ9XHJcbiAgICAgICAgICAgIHtib2R5fVxyXG4gICAgICAgIDwvdGFibGU+XHJcbiAgICApO1xyXG59O1xyXG5cclxuLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5jb25zdCBUYWJsZVJvdyA9IChwcm9wczogVGFibGVSb3dQcm9wcykgPT4ge1xyXG4gICAgY29uc3Qgb25DbGlja0hhbmRsZXIgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAocHJvcHMub25DbGljaykge1xyXG4gICAgICAgICAgICBwcm9wcy5vbkNsaWNrKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG9uTW91c2VDbGlja0hhbmRsZXIgPSAoZXZlbnQsIHJvd0lkOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAocHJvcHMub25Nb3VzZURvd24pIHtcclxuICAgICAgICAgICAgcHJvcHMub25Nb3VzZURvd24ocm93SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgb25Nb3VzZVVwQ2xpY2tIYW5kbGVyID0gKGV2ZW50LCByb3dJZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHByb3BzLm9uTW91c2VVcCkge1xyXG4gICAgICAgICAgICBwcm9wcy5vbk1vdXNlVXAocm93SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgb25Ub3VjaFN0YXJ0SGFuZGxlciA9IChldmVudCwgcm93SWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmIChwcm9wcy5vblRvdWNoU3RhcnQpIHtcclxuICAgICAgICAgICAgcHJvcHMub25Ub3VjaFN0YXJ0KHJvd0lkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGxldCBhZGRpdGlvbmFsRWxlbWVudDogSlNYLkVsZW1lbnQgPSAocHJvcHMuYWRkaXRpb25hbEVsZW1lbnQpID8gcHJvcHMuYWRkaXRpb25hbEVsZW1lbnQgOiBudWxsO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8dHIgaWQ9e3Byb3BzLmlkfSBjbGFzc05hbWU9e3Byb3BzLmNsYXNzfSBvbkNsaWNrPXtvbkNsaWNrSGFuZGxlcn1cclxuICAgICAgICAgICAgb25Nb3VzZURvd249e29uTW91c2VDbGlja0hhbmRsZXIuYmluZCh0aGlzLCBwcm9wcy5yb3dJZCl9XHJcbiAgICAgICAgICAgIG9uTW91c2VVcD17b25Nb3VzZVVwQ2xpY2tIYW5kbGVyLmJpbmQodGhpcywgcHJvcHMucm93SWQpfVxyXG4gICAgICAgICAgICBvblRvdWNoU3RhcnQ9e29uVG91Y2hTdGFydEhhbmRsZXIuYmluZCh0aGlzLCBwcm9wcy5yb3dJZCl9PlxyXG4gICAgICAgICAgICB7cHJvcHMudGFibGVDZWxsc31cclxuICAgICAgICAgICAge2FkZGl0aW9uYWxFbGVtZW50fVxyXG4gICAgICAgIDwvdHI+XHJcbiAgICApO1xyXG59O1xyXG5cclxuLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5jb25zdCBUYWJsZUJvZHlDZWxsID0gKHByb3BzOiBUYWJsZUNlbGxQcm9wcykgPT4ge1xyXG5cclxuICAgIGxldCBhZGRpdGlvbmFsRWxlbWVudDogSlNYLkVsZW1lbnQgPSAocHJvcHMuYWRkaXRpb25hbEVsZW1lbnQpID8gcHJvcHMuYWRkaXRpb25hbEVsZW1lbnQgOiBudWxsO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPHRkIGNsYXNzTmFtZT17cHJvcHMuY2xhc3N9IGlkPXtwcm9wcy5pZH0gPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY2VsbC1kYXRhJz5cclxuICAgICAgICAgICAgICAgIHtwcm9wcy5jZWxsRWxlbWVudH1cclxuICAgICAgICAgICAgICAgIHtwcm9wcy5hZGRpdGlvbmFsRWxlbWVudH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC90ZD5cclxuICAgICk7XHJcbn07XHJcblxyXG4vKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbmNvbnN0IFRhYmxlSGVhZGVyQ2VsbCA9IChwcm9wczogVGFibGVDZWxsUHJvcHMpID0+IHtcclxuXHJcbiAgICBjb25zdCBvbkNsaWNrSGFuZGxlciA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChwcm9wcy5vbkNsaWNrICYmIHByb3BzLmNvbXBhcmVyTmFtZSAmJiBwcm9wcy5pc1NvcnRhYmxlKSB7XHJcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2socHJvcHMuY29tcGFyZXJOYW1lLCBwcm9wcy5zb3J0RGlyZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGxldCBhZGRpdGlvbmFsRWxlbWVudDogSlNYLkVsZW1lbnQgPSAocHJvcHMuYWRkaXRpb25hbEVsZW1lbnQpID8gcHJvcHMuYWRkaXRpb25hbEVsZW1lbnQgOiBudWxsO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPHRoIGNsYXNzTmFtZT17cHJvcHMuY2xhc3N9IGlkPXtwcm9wcy5pZH0gPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Zpc3VhbGx5LWhpZGRlbic+IHZpc3VhbGx5IGhpZGRlbiB0ZXh0IDwvc3Bhbj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2hlYWRlci1kYXRhJywgeyAnaGFuZCc6IHByb3BzLm9uQ2xpY2sgJiYgcHJvcHMuY29tcGFyZXJOYW1lICYmIHByb3BzLmlzU29ydGFibGUgfSl9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrSGFuZGxlcn0+XHJcbiAgICAgICAgICAgICAgICB7cHJvcHMuY2VsbEVsZW1lbnR9XHJcbiAgICAgICAgICAgICAgICB7YWRkaXRpb25hbEVsZW1lbnR9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvdGg+XHJcbiAgICApO1xyXG59O1xyXG5cclxuXHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBHcmlkQ29udHJvbCBjb21wb25lbnRcclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICB0YWJsZUhlYWRlclJvd3M/OiBJbW11dGFibGUuTGlzdDxSb3c+O1xyXG4gICAgdGFibGVCb2R5Um93cz86IEltbXV0YWJsZS5MaXN0PFJvdz47XHJcbiAgICBncmlkU3R5bGU6IHN0cmluZztcclxuICAgIG9uQ2xpY2tDYWxsQmFjaz86IEZ1bmN0aW9uO1xyXG4gICAgd29ya2xpc3RUeXBlPzogZW51bXMuV29ya2xpc3RUeXBlO1xyXG4gICAgd3JhcHBlclN0eWxlPzogc3RyaW5nO1xyXG4gICAgb25Tb3J0Q2xpY2s/OiBGdW5jdGlvbjtcclxuICAgIHJlbmRlcmVkT246IG51bWJlcjtcclxuICAgIG9uUm93Q2xpY2s/OiBGdW5jdGlvbjtcclxuICAgIGF2b2lkTGFzdENvbHVtbj86IGJvb2xlYW47XHJcbiAgICBzdGFuZGFyZGlzYXRpb25TZXRVcFR5cGU/OiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cDtcclxuICAgIHNlbGVjdGVkUm93SWRUb0RyYWc/OiBudW1iZXI7XHJcbiAgICBvbk1vdXNlRG93bj86IEZ1bmN0aW9uO1xyXG4gICAgb25Nb3VzZVVwPzogRnVuY3Rpb247XHJcbiAgICBpc0RyYWdnYWJsZVJvdz86IGJvb2xlYW47XHJcbiAgICBvblRvdWNoU3RhcnQ/OiBGdW5jdGlvbjtcclxufVxyXG4vKipcclxuICogSGVscGVyIGZ1Y250aW9ucyBmb3IgdGhlIHRhYmxlIHN0YXRsZXNzIGNvbXBvbmVudHNcclxuICovXHJcbmNsYXNzIFRhYmxlSGVscGVyIHtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGNhbGwgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAocHJvcHM6IFByb3BzLCByb3dJZD86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmIChwcm9wcy5vblJvd0NsaWNrKSB7XHJcbiAgICAgICAgICAgIHByb3BzLm9uUm93Q2xpY2socm93SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGNhbGwgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG1vdXNlIGRvd24gY2xpY2sgb2Ygcm93LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBtb3VzZURvd25DbGljayA9IGZ1bmN0aW9uIChwcm9wczogUHJvcHMsIHJvd0lkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAocHJvcHMub25Nb3VzZURvd24pIHtcclxuICAgICAgICAgICAgcHJvcHMub25Nb3VzZURvd24ocm93SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGNhbGwgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG1vdXNlIHVwIGNsaWNrIG9mIHJvdy5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbW91c2VVcENsaWNrKHByb3BzOiBQcm9wcywgcm93SWQ6IG51bWJlcikge1xyXG4gICAgICAgIGlmIChwcm9wcy5vbk1vdXNlVXApIHtcclxuICAgICAgICAgICAgcHJvcHMub25Nb3VzZVVwKHJvd0lkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGNhbGwgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIHRvdWNoIHN0YXJ0IG9mIHJvdy5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdG91Y2hTdGFydChwcm9wczogUHJvcHMsIHJvd0lkOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAocHJvcHMub25Ub3VjaFN0YXJ0KSB7XHJcbiAgICAgICAgICAgIHByb3BzLm9uVG91Y2hTdGFydChyb3dJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgdGFibGUgcm93ICh0cikgY29sbGVjdGlvbiBiYXNlZCBvbiB0aGUgZ2l2ZW4gbGlzdCBvZiByb3cgZGF0YVxyXG4gICAgICogQHBhcmFtIHJvd3MgLSBjb2xsZWN0aW9uIG9mIHJvd3NcclxuICAgICAqIEBwYXJhbSBpc0hlYWRlciAtIHdoZXRoZXJlIHRoZSByb3cgaXMgYSBoZWFkZXIgcm93IG9yIG5vdFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFJvd3Mocm93czogSW1tdXRhYmxlLkxpc3Q8Um93PiwgaXNIZWFkZXI6IGJvb2xlYW4sIHByb3BzOiBQcm9wcyk6IGFueSB7XHJcblxyXG4gICAgICAgIGxldCB0YWJsZUlkOiBzdHJpbmcgPSBwcm9wcy5pZDtcclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgbGV0IHJvd1NlcSA9IHJvd3Mua2V5U2VxKCk7XHJcbiAgICAgICAgbGV0IHNlcUluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgLy9DcmVhdGluZyB0YWJsZSByb3dzIC0gdHJcclxuICAgICAgICBsZXQgdGFibGVFbGVtZW50ID0gcm93cy5tYXAoZnVuY3Rpb24gKHRhYmxlUm93OiBSb3cpIHtcclxuICAgICAgICAgICAgbGV0IHJvd1NlcUtleSA9IHJvd1NlcS5nZXQoc2VxSW5kZXgrKyk7XHJcbiAgICAgICAgICAgIGxldCBhZGRpdGlvbmFsUm93RWxlbWVudCA9IHRhYmxlUm93LmdldEFkZGl0aW9uYWxFbGVtZW50KCk7XHJcbiAgICAgICAgICAgIGxldCBjZWxsSW5kZXggPSAwO1xyXG5cclxuICAgICAgICAgICAgLy9DcmVhdGluZyB0ZC90aCBlbGVtZW50c1xyXG4gICAgICAgICAgICBsZXQgcm93RWxlbWVudCA9IHRhYmxlUm93LmdldENlbGxzKCkubWFwKGZ1bmN0aW9uIChncmlkQ2VsbDogZ3JpZENlbGwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENlbGxFbGVtZW50ID0gZ3JpZENlbGwuY29sdW1uRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGxldCBjZWxsQWRkaXRpb25hbEVsZW1lbnQgPSBncmlkQ2VsbC5nZXRBZGRpdGlvbmFsRWxlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgY2VsbEluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3R5bGUgPSBncmlkQ2VsbC5nZXRDZWxsU3R5bGUoKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gKHN0eWxlKSA/IHN0eWxlIDogJyc7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZENlbGwuaXNIaWRkZW4gIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNIZWFkZXIgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUhlYWRlckNlbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsRWxlbWVudD17Z3JpZENlbGxFbGVtZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPXtzdHlsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsRWxlbWVudD17Y2VsbEFkZGl0aW9uYWxFbGVtZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dGFibGVJZCArICdfdGhfJyArIHJvd1NlcUtleSArICdfJyArIGNlbGxJbmRleH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17J3RoXycgKyByb3dTZXFLZXkgKyAnXycgKyBjZWxsSW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17cHJvcHMub25Tb3J0Q2xpY2t9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZXJOYW1lPXtncmlkQ2VsbC5jb21wYXJlck5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydERpcmVjdGlvbj17Z3JpZENlbGwuc29ydERpcmVjdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NvcnRhYmxlPXtncmlkQ2VsbC5pc1NvcnRhYmxlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkT249e3Byb3BzLnJlbmRlcmVkT259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUJvZHlDZWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEVsZW1lbnQ9e2dyaWRDZWxsRWxlbWVudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz17c3R5bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbEVsZW1lbnQ9e2NlbGxBZGRpdGlvbmFsRWxlbWVudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3RhYmxlSWQgKyAnX3RkXycgKyByb3dTZXFLZXkgKyAnXycgKyBjZWxsSW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9eyd0ZF8nICsgcm93U2VxS2V5ICsgJ18nICsgY2VsbEluZGV4fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkT249e3Byb3BzLnJlbmRlcmVkT259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghcHJvcHMuYXZvaWRMYXN0Q29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNIZWFkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dFbGVtZW50LnB1c2goPHRoIGNsYXNzTmFtZT0nbGFzdC1jZWxsLWhlYWRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0YWJsZUlkICsgJ190aF8nICsgcm93U2VxS2V5ICsgJ19lbXB0eSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPXsndGhfJyArIHJvd1NlcUtleSArICdfZW1wdHknfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSd2aXN1YWxseS1oaWRkZW4nPiB2aXN1YWxseSBoaWRkZW4gdGV4dCA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdoZWFkZXItZGF0YSc+PC9kaXY+PC90aD4pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dFbGVtZW50LnB1c2goPHRkIGNsYXNzTmFtZT0nbGFzdC1jZWxsJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3RhYmxlSWQgKyAnX3RkXycgKyByb3dTZXFLZXkgKyAnX2VtcHR5J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9eyd0ZF8nICsgcm93U2VxS2V5ICsgJ19lbXB0eSd9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY2VsbC1kYXRhJz48L2Rpdj48L3RkPik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxUYWJsZVJvdyBjbGFzcz17Y2xhc3NOYW1lcyh7IFt0YWJsZVJvdy5nZXRSb3dTdHlsZSgpXTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RyYWdnYWJsZSc6ICFwcm9wcy5pc0RyYWdnYWJsZVJvdyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJvcHMuc2VsZWN0ZWRSb3dJZFRvRHJhZyA/IHRhYmxlUm93LmdldFJvd0lkKCkgPT09IHByb3BzLnNlbGVjdGVkUm93SWRUb0RyYWcgOiBmYWxzZSkgOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0YWJsZVJvdy5nZXRSb3dUaXRsZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlQ2VsbHM9e3Jvd0VsZW1lbnR9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXt0YWJsZUlkICsgJ190YWJsZVJvd19LZXlfJyArIHJvd1NlcUtleX1cclxuICAgICAgICAgICAgICAgICAgICBpZD17J3RhYmxlUm93XycgKyByb3dTZXFLZXl9XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbEVsZW1lbnQ9e2FkZGl0aW9uYWxSb3dFbGVtZW50fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoYXQuaGFuZGxlQ2xpY2suYmluZCh0aGF0LCBwcm9wcywgdGFibGVSb3cuZ2V0Um93SWQoKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRPbj17cHJvcHMucmVuZGVyZWRPbn1cclxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17dGhhdC5tb3VzZURvd25DbGljay5iaW5kKHRoYXQsIHByb3BzLCB0YWJsZVJvdy5nZXRSb3dJZCgpKX1cclxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlVXA9e3RoYXQubW91c2VVcENsaWNrLmJpbmQodGhhdCwgcHJvcHMsIHRhYmxlUm93LmdldFJvd0lkKCkpfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uVG91Y2hTdGFydD17dGhhdC50b3VjaFN0YXJ0LmJpbmQodGhhdCwgcHJvcHMsIHRhYmxlUm93LmdldFJvd0lkKCkpfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRhYmxlRWxlbWVudDtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIHRoZSB0YWJsZSBDb21wb25lbnRcclxuICovXHJcbmNvbnN0IFRhYmxlV3JhcHBlciA9IChwcm9wczogUHJvcHMpID0+IHtcclxuXHJcbiAgICBsZXQgaGVhZGVyUm93czogSlNYLkVsZW1lbnQ7XHJcbiAgICBsZXQgYm9keVJvd3M6IEpTWC5FbGVtZW50O1xyXG5cclxuICAgIGlmIChwcm9wcy50YWJsZUhlYWRlclJvd3MpIHtcclxuICAgICAgICBoZWFkZXJSb3dzID0gVGFibGVIZWxwZXIuZ2V0Um93cyhwcm9wcy50YWJsZUhlYWRlclJvd3MsIHRydWUsIHByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJvcHMudGFibGVCb2R5Um93cykge1xyXG4gICAgICAgIGJvZHlSb3dzID0gVGFibGVIZWxwZXIuZ2V0Um93cyhwcm9wcy50YWJsZUJvZHlSb3dzLCBmYWxzZSwgcHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChoZWFkZXJSb3dzIHx8IGJvZHlSb3dzKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFRhYmxlQ29udHJvbCB0YWJsZUhlYWRlcj17aGVhZGVyUm93c31cclxuICAgICAgICAgICAgICAgIHRhYmxlQm9keT17Ym9keVJvd3N9XHJcbiAgICAgICAgICAgICAgICBjbGFzcz17cHJvcHMuZ3JpZFN0eWxlfVxyXG4gICAgICAgICAgICAgICAgaWQ9e3Byb3BzLmlkfSBrZXk9eydrZXlfJyArIHByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgcmVuZGVyZWRPbj17cHJvcHMucmVuZGVyZWRPbn0gLz5cclxuICAgICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCA9IFRhYmxlV3JhcHBlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90YWJsZS90YWJsZXdyYXBwZXIudHN4Il0sIm1hcHBpbmdzIjoiO0FBQUE7QUFBQTtBQUVBO0FBdUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUF5QkE7O0FBRUE7QUFDQTtBQUFBO0FBa0lBO0FBN0dBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFBQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBOztBQWFBO0FBRUE7QUFDQTtBQTlIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUErR0E7QUFBQTtBQUdBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 449:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/components/utility/grid/worklistgridcolumns.json ***!
  \**************************************************************/
/***/ (function(module, exports) {

eval("module.exports = {\"definitions\":{\"ResponseIdColumnOpen\":{\"$id\":\"1\",\"GridColumn\":\"ResponseIdColumn\",\"ColumnHeader\":\"Response\",\"ComparerName\":\"responseIdComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"displayId\":\"displayId\",\"rigOrder\":\"rigOrder\",\"esDisplayId\":\"esDisplayId\",\"selectedLanguage\":\"selectedLanguage\",\"updatedDate\":\"updatedDate\"}},\"ResponseIdColumnClosed\":{\"$id\":\"2\",\"GridColumn\":\"ResponseIdColumn\",\"ColumnHeader\":\"Response\",\"ComparerName\":\"responseIdComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"displayId\":\"displayId\",\"rigOrder\":\"rigOrder\",\"esDisplayId\":\"esDisplayId\",\"submittedDate\":\"submittedDate\",\"selectedLanguage\":\"selectedLanguage\"}},\"LastUpdatedColumnOpen\":{\"$id\":\"14\",\"GridColumn\":\"LastUpdatedColumn\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.last-updated\",\"ComparerName\":\"updatedDateComparer\",\"CssClass\":\"col-modified\",\"Sortable\":\"true\",\"ComponentProps\":{\"updatedDate\":\"updatedDate\",\"dateType\":\"dateType\",\"isTileView\":\"isTileView\"}},\"LastUpdatedColumnPending\":{\"$id\":\"18\",\"GridColumn\":\"LastUpdatedColumn\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.last-updated\",\"ComparerName\":\"lastUpdatedDateComparer\",\"CssClass\":\"col-modified\",\"Sortable\":\"true\",\"ComponentProps\":{\"updatedDate\":\"lastUpdatedDate\",\"dateType\":\"dateType\",\"isTileView\":\"isTileView\"}},\"LastUpdatedColumnClosed\":{\"$id\":\"19\",\"GridColumn\":\"LastUpdatedColumn\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.submitted\",\"CssClass\":\"col-modified\",\"ComparerName\":\"submittedDateComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"submittedDate\":\"submittedDate\",\"dateType\":\"dateType\",\"isTileView\":\"isTileView\"}},\"AllocatedDateColumnOpen\":{\"$id\":\"15\",\"GridColumn\":\"AllocatedDate\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.allocated\",\"CssClass\":\"col-allocated\",\"ComparerName\":\"allocatedDateComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"allocatedDate\":\"allocatedDate\",\"dateType\":\"dateType\",\"showAllocatedDate\":\"showAllocatedDate\"}},\"ResponseIdColumnPending\":{\"$id\":\"3\",\"GridColumn\":\"ResponseIdColumn\",\"ColumnHeader\":\"Response\",\"ComparerName\":\"responseIdComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"displayId\":\"displayId\",\"rigOrder\":\"rigOrder\",\"esDisplayId\":\"esDisplayId\",\"updatedDate\":\"lastUpdatedDate\",\"selectedLanguage\":\"selectedLanguage\"}},\"TotalMark\":{\"$id\":\"4\",\"GridColumn\":\"TotalMark\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.total-mark\",\"CssClass\":\"col-mark-obt\",\"ComparerName\":\"markComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"hasNumericMark\":\"hasNumericMark\",\"maximumMark\":\"maximumMark\",\"totalMarkValue\":\"totalMarkValue\",\"markingProgress\":\"markingProgress\",\"selectedLanguage\":\"selectedLanguage\"}},\"AllocatedDate\":{\"$id\":\"5\",\"GridColumn\":\"AllocatedDate\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.allocated\",\"CssClass\":\"col-allocated\",\"ComparerName\":\"allocatedDateComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"allocatedDate\":\"allocatedDate\",\"hasAdditionalObjects\":\"hasAdditionalObjects\",\"hasAllPagesAnnotated\":\"hasAllPagesAnnotated\",\"markingProgress\":\"markingProgress\",\"selectedLanguage\":\"selectedLanguage\"}},\"LinkedMessageIndicator\":{\"$id\":\"6\",\"GridColumn\":\"LinkedMessageIndicator\",\"ColumnHeader\":\"\",\"CssClass\":\"col-message\",\"ComponentProps\":{\"hasMessages\":\"hasMessages\",\"unreadMessagesCount\":\"unreadMessagesCount\",\"displayId\":\"displayId\",\"isTeamManagementMode\":\"isTeamManagementMode\"}},\"SLAOIndicator\":{\"$id\":\"17\",\"GridColumn\":\"SLAOIndicator\",\"ColumnHeader\":\"\",\"CssClass\":\"col-slao\",\"ComponentProps\":{\"hasAdditionalObjects\":\"hasAdditionalObjects\",\"hasAllPagesAnnotated\":\"hasAllPagesAnnotated\",\"markingProgress\":\"markingProgress\"}},\"LinkedExceptionIndicator\":{\"$id\":\"7\",\"GridColumn\":\"LinkedExceptionIndicator\",\"ColumnHeader\":\"\",\"CssClass\":\"col-notification\",\"ComponentProps\":{\"hasExceptions\":\"hasExceptions\",\"hasZoningExceptions\":\"hasZoningExceptions\",\"isZoningExceptionRaisedInSameScript\":\"isZoningExceptionRaisedInSameScript\",\"hasBlockingExceptions\":\"hasBlockingExceptions\",\"resolvedExceptionsCount\":\"resolvedExceptionsCount\",\"markingProgress\":\"markingProgress\",\"displayId\":\"displayId\",\"isTeamManagementMode\":\"isTeamManagementMode\",\"unactionedExceptionCount\":\"unactionedExceptionCount\"}},\"GracePeriodTime\":{\"$id\":\"8\",\"GridColumn\":\"GracePeriodTime\",\"CssClass\":\"col-grace-period\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.time-to-end-of-grace-period\",\"ComparerName\":\"timeToEndGracePeriodComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"timeToEndOfGracePeriod\":\"timeToEndOfGracePeriod\"}},\"markGroupId\":{\"$id\":\"9\",\"markGroupId\":\"markGroupId\"},\"MarkingProgress\":{\"$id\":\"10\",\"GridColumn\":\"MarkingProgress\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.progress\",\"CssClass\":\"col-status\",\"ComparerName\":\"progressComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"markingProgress\":\"markingProgress\",\"selectedLanguage\":\"selectedLanguage\",\"markGroupId\":\"markGroupId\",\"isTeamManagementMode\":\"isTeamManagementMode\"}},\"AccuracyIndicator\":{\"$id\":\"11\",\"GridColumn\":\"AccuracyIndicator\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.accuracy\",\"CssClass\":\"col-accuracy\",\"ComparerName\":\"accuracyComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"accuracyIndicatorTypeID\":\"accuracyIndicatorTypeID\"}},\"MarksDifference\":{\"$id\":\"12\",\"GridColumn\":\"MarksDifference\",\"Sortable\":\"true\",\"ComponentProps\":{\"absoluteMarksDifference\":\"absoluteMarksDifference\",\"totalMarksDifference\":\"totalMarksDifference\",\"accuracyIndicatorTypeID\":\"accuracyIndicatorTypeID\"}},\"AllPageAnnotedIndicator\":{\"$id\":\"13\",\"GridColumn\":\"AllPageAnnotedIndicator\",\"CssClass\":\"col-slao\",\"ColumnHeader\":\"\",\"ComponentProps\":{\"hasAllPagesAnnotated\":\"hasAllPagesAnnotated\",\"markingProgress\":\"markingProgress\",\"isTileView\":\"isTileView\"}},\"AbsoluteMarksDifference\":{\"$id\":\"20\",\"GridColumn\":\"AbsoluteMarksDifference\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.amd\",\"ComparerName\":\"absoluteDifferenceComparer\",\"CssClass\":\"col-amd\",\"Sortable\":\"true\",\"ComponentProps\":{\"absoluteMarksDifference\":\"absoluteMarksDifference\",\"totalMarksDifference\":\"totalMarksDifference\"}},\"TotalMarksDifference\":{\"$id\":\"21\",\"GridColumn\":\"TotalMarksDifference\",\"ComparerName\":\"totalDifferenceComparer\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.tmd\",\"CssClass\":\"col-tmd\",\"Sortable\":\"true\",\"ComponentProps\":{\"absoluteMarksDifference\":\"absoluteMarksDifference\",\"totalMarksDifference\":\"totalMarksDifference\"}},\"OriginalMarkerName\":{\"$id\":\"25\",\"CssClass\":\"col-original-marker\",\"GridColumn\":\"OriginalMarkerName\",\"ComparerName\":\"originalMarkerComparer\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.original-marker\",\"Sortable\":\"true\",\"ComponentProps\":{\"name\":\"name\"}},\"CentreNum\":{\"$id\":\"23\",\"CssClass\":\"col-centre\",\"ComparerName\":\"centreComparer\",\"GridColumn\":\"CentreNum\",\"Sortable\":\"true\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.centre-number\",\"ComponentProps\":{\"centre\":\"centre\"}},\"CentreCandidateNum\":{\"$id\":\"24\",\"CssClass\":\"col-candidate\",\"GridColumn\":\"CentreCandidateNum\",\"ComparerName\":\"candidateComparer\",\"Sortable\":\"true\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.centre-candidate-number\",\"ComponentProps\":{\"candidate\":\"candidate\"}},\"ResponseTypeLabel\":{\"$id\":\"22\",\"GridColumn\":\"ResponseTypeLabel\",\"ColumnHeader\":\"\",\"CssClass\":\"col-seed\",\"ComponentProps\":{\"isResponseTypeLabelVisible\":\"isResponseTypeLabelVisible\"}},\"MarkChangeReason\":{\"$id\":\"26\",\"GridColumn\":\"MarkChangeReason\",\"ColumnHeader\":\"\",\"CssClass\":\"col-eur-reason\",\"ComponentProps\":{\"isInResponse\":\"isInResponse\",\"selectedLanguage\":\"selectedLanguage\",\"markingProgress\":\"markingProgress\",\"markChangeReason\":\"markChangeReason\"}},\"SampleLabel\":{\"$id\":\"27\",\"GridColumn\":\"SampleLabel\",\"ComparerName\":\"sampledColumnComparer\",\"Sortable\":\"true\",\"ColumnHeader\":\"team-management.examiner-worklist.column-headers.sampled\",\"CssClass\":\"col-sampled\",\"ComponentProps\":{\"sampleCommentId\":\"sampleCommentId\"}},\"ReviewedByLabel\":{\"$id\":\"28\",\"GridColumn\":\"ReviewedByLabel\",\"ComparerName\":\"reviewedByComparer\",\"Sortable\":\"true\",\"ColumnHeader\":\"team-management.examiner-worklist.column-headers.reviewed-by\",\"CssClass\":\"col-reviewed\",\"ComponentProps\":{\"reviewedById\":\"reviewedById\",\"reviewedByInitials\":\"reviewedByInitials\",\"reviewedBySurname\":\"reviewedBySurname\"}},\"Finalmarkselected\":{\"$id\":\"29\",\"GridColumn\":\"Finalmarkselected\",\"ComparerName\":\"finalMarkSelectedComparer\",\"Sortable\":\"true\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.final-mark-selected\",\"CssClass\":\"col-final-mark-sltd\",\"ComponentProps\":{}},\"SupervisorRemarkDecision\":{\"$id\":\"30\",\"GridColumn\":\"SupervisorRemarkDecision\",\"ColumnHeader\":\"\",\"CssClass\":\"col-eur-reason\"},\"OriginalMark\":{\"$id\":\"31\",\"GridColumn\":\"OriginalMark\",\"ComparerName\":\"OriginalMarkComparer\",\"Sortable\":\"true\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.original-mark\",\"CssClass\":\"col-original-mark\",\"ComponentProps\":{\"isNonNumericMark\":\"isNonNumericMark\",\"originalMarkTotal\":\"originalMarkTotal\",\"isVisible\":\"isVisible\",\"accuracyIndicatorTypeID\":\"accuracyIndicatorTypeID\"}},\"OriginalMarkAccuracy\":{\"$id\":\"32\",\"GridColumn\":\"OriginalMarkAccuracy\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.original-mark-accuracy\",\"CssClass\":\"col-original-mark-accuracy\",\"ComparerName\":\"OriginalMarkAccuracyComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"accuracyIndicatorTypeID\":\"accuracyIndicatorTypeID\",\"isVisible\":\"isVisible\"}},\"SpecialistType\":{\"$id\":\"36\",\"GridColumn\":\"SpecialistType\",\"ComparerName\":\"specialistTypeComparer\",\"Sortable\":\"true\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.specialist-type\",\"CssClass\":\"col-spcl-type\"}},\"TagIndicator\":{\"$id\":\"33\",\"GridColumn\":\"TagIndicator\",\"ColumnHeader\":\"marking.worklist.list-view-column-headers.tag\",\"CssClass\":\"col-tag\",\"ComparerName\":\"tagComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"selectedTagId\":\"selectedTagId\",\"tagList\":\"tagList\",\"markGroupId\":\"markGroupId\"},\"AllFilesNotViewedIndicator\":{\"$id\":\"34\",\"GridColumn\":\"AllFilesNotViewedIndicator\",\"CssClass\":\"col-slao\",\"ColumnHeader\":\"\",\"ComponentProps\":{\"allFilesViewed\":\"allFilesViewed\",\"markingProgress\":\"markingProgress\",\"isTileView\":\"isTileView\",\"isECourseworkComponent\":\"isECourseworkComponent\"}},\"SupervisorReviewComment\":{\"$id\":\"35\",\"GridColumn\":\"SupervisorReviewComment\",\"ComparerName\":\"SupervisorReviewCommentComparer\",\"Sortable\":\"true\",\"ColumnHeader\":\"team-management.examiner-worklist.column-headers.review-comment\",\"CssClass\":\"col-review-comment\",\"ComponentProps\":{}}},\"marking\":{\"liveworklist\":{\"open\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"1\"},{\"$ref\":\"10\"},{\"$ref\":\"13\"},{\"$ref\":\"7\"},{\"$ref\":\"17\"},{\"$ref\":\"34\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"36\"},{\"$ref\":\"10\"},{\"$ref\":\"4\"},{\"$ref\":\"34\"},{\"$ref\":\"17\"},{\"$ref\":\"14\"},{\"$ref\":\"13\"},{\"$ref\":\"7\"},{\"$ref\":\"6\"},{\"$ref\":\"33\"},{\"$ref\":\"5\"},{\"$ref\":\"22\"},{\"$ref\":\"27\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}},\"closed\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"2\"},{\"$ref\":\"12\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"23\"},{\"$ref\":\"36\"},{\"$ref\":\"4\"},{\"$ref\":\"17\"},{\"$ref\":\"11\"},{\"$ref\":\"20\"},{\"$ref\":\"21\"},{\"$ref\":\"19\"},{\"$ref\":\"7\"},{\"$ref\":\"6\"},{\"$ref\":\"33\"},{\"$ref\":\"22\"},{\"$ref\":\"27\"},{\"$ref\":\"28\"},{\"$ref\":\"35\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}},\"pending\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"3\"},{\"$ref\":\"8\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"8\"},{\"$ref\":\"36\"},{\"$ref\":\"4\"},{\"$ref\":\"17\"},{\"$ref\":\"18\"},{\"$ref\":\"7\"},{\"$ref\":\"6\"},{\"$ref\":\"33\"},{\"$ref\":\"22\"},{\"$ref\":\"27\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}}},\"standardisationworklist\":{\"open\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"1\"},{\"$ref\":\"10\"},{\"$ref\":\"13\"},{\"$ref\":\"17\"},{\"$ref\":\"34\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"10\"},{\"$ref\":\"4\"},{\"$ref\":\"34\"},{\"$ref\":\"17\"},{\"$ref\":\"14\"},{\"$ref\":\"13\"},{\"$ref\":\"6\"},{\"$ref\":\"5\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}},\"closed\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"2\"},{\"$ref\":\"12\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"4\"},{\"$ref\":\"11\"},{\"$ref\":\"20\"},{\"$ref\":\"21\"},{\"$ref\":\"17\"},{\"$ref\":\"19\"},{\"$ref\":\"6\"},{\"$ref\":\"28\"},{\"$ref\":\"35\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}}},\"practiceworklist\":{\"open\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"1\"},{\"$ref\":\"10\"},{\"$ref\":\"13\"},{\"$ref\":\"17\"},{\"$ref\":\"34\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"10\"},{\"$ref\":\"4\"},{\"$ref\":\"34\"},{\"$ref\":\"17\"},{\"$ref\":\"14\"},{\"$ref\":\"13\"},{\"$ref\":\"6\"},{\"$ref\":\"5\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}},\"closed\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"2\"},{\"$ref\":\"12\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"4\"},{\"$ref\":\"11\"},{\"$ref\":\"20\"},{\"$ref\":\"21\"},{\"$ref\":\"17\"},{\"$ref\":\"19\"},{\"$ref\":\"6\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}}},\"directedremarkworklist\":{\"open\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"1\"},{\"$ref\":\"10\"},{\"$ref\":\"13\"},{\"$ref\":\"30\"},{\"$ref\":\"7\"},{\"$ref\":\"26\"},{\"$ref\":\"17\"},{\"$ref\":\"34\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"23\"},{\"$ref\":\"24\"},{\"$ref\":\"36\"},{\"$ref\":\"10\"},{\"$ref\":\"4\"},{\"$ref\":\"34\"},{\"$ref\":\"31\"},{\"$ref\":\"32\"},{\"$ref\":\"29\"},{\"$ref\":\"17\"},{\"$ref\":\"14\"},{\"$ref\":\"13\"},{\"$ref\":\"30\"},{\"$ref\":\"7\"},{\"$ref\":\"6\"},{\"$ref\":\"26\"},{\"$ref\":\"33\"},{\"$ref\":\"5\"},{\"$ref\":\"25\"},{\"$ref\":\"22\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}},\"closed\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"2\"},{\"$ref\":\"12\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"23\"},{\"$ref\":\"24\"},{\"$ref\":\"36\"},{\"$ref\":\"4\"},{\"$ref\":\"31\"},{\"$ref\":\"32\"},{\"$ref\":\"29\"},{\"$ref\":\"11\"},{\"$ref\":\"20\"},{\"$ref\":\"21\"},{\"$ref\":\"17\"},{\"$ref\":\"19\"},{\"$ref\":\"7\"},{\"$ref\":\"6\"},{\"$ref\":\"33\"},{\"$ref\":\"22\"},{\"$ref\":\"25\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}},\"pending\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"3\"},{\"$ref\":\"8\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"23\"},{\"$ref\":\"24\"},{\"$ref\":\"36\"},{\"$ref\":\"8\"},{\"$ref\":\"4\"},{\"$ref\":\"31\"},{\"$ref\":\"32\"},{\"$ref\":\"29\"},{\"$ref\":\"17\"},{\"$ref\":\"18\"},{\"$ref\":\"7\"},{\"$ref\":\"6\"},{\"$ref\":\"33\"},{\"$ref\":\"25\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}}},\"atypicalworklist\":{\"open\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"1\"},{\"$ref\":\"10\"},{\"$ref\":\"13\"},{\"$ref\":\"7\"},{\"$ref\":\"26\"},{\"$ref\":\"17\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"23\"},{\"$ref\":\"24\"},{\"$ref\":\"10\"},{\"$ref\":\"4\"},{\"$ref\":\"17\"},{\"$ref\":\"14\"},{\"$ref\":\"13\"},{\"$ref\":\"7\"},{\"$ref\":\"6\"},{\"$ref\":\"5\"},{\"$ref\":\"25\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}},\"closed\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"2\"},{\"$ref\":\"12\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"23\"},{\"$ref\":\"24\"},{\"$ref\":\"4\"},{\"$ref\":\"17\"},{\"$ref\":\"19\"},{\"$ref\":\"7\"},{\"$ref\":\"6\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}},\"pending\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"3\"},{\"$ref\":\"8\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"23\"},{\"$ref\":\"24\"},{\"$ref\":\"8\"},{\"$ref\":\"4\"},{\"$ref\":\"17\"},{\"$ref\":\"18\"},{\"$ref\":\"7\"},{\"$ref\":\"6\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}}},\"markingcheckworklist\":{\"open\":{\"detailview\":{\"GridColumns\":[{\"$ref\":\"10\"},{\"$ref\":\"4\"},{\"$ref\":\"14\"},{\"$ref\":\"6\"},{\"$ref\":\"5\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}},\"closed\":{\"detailview\":{\"GridColumns\":[{\"$ref\":\"4\"},{\"$ref\":\"19\"},{\"$ref\":\"6\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}},\"pending\":{\"detailview\":{\"GridColumns\":[{\"$ref\":\"8\"},{\"$ref\":\"4\"},{\"$ref\":\"18\"},{\"$ref\":\"6\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}}},\"simulationworklist\":{\"open\":{\"tileview\":{\"GridColumns\":[{\"$ref\":\"1\"},{\"$ref\":\"10\"},{\"$ref\":\"13\"},{\"$ref\":\"7\"},{\"$ref\":\"17\"}]},\"detailview\":{\"GridColumns\":[{\"$ref\":\"10\"},{\"$ref\":\"4\"},{\"$ref\":\"17\"},{\"$ref\":\"14\"},{\"$ref\":\"13\"},{\"$ref\":\"5\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"1\"}]}}}}}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQ5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3dvcmtsaXN0Z3JpZGNvbHVtbnMuanNvbj8yNTZmIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1wiZGVmaW5pdGlvbnNcIjp7XCJSZXNwb25zZUlkQ29sdW1uT3BlblwiOntcIiRpZFwiOlwiMVwiLFwiR3JpZENvbHVtblwiOlwiUmVzcG9uc2VJZENvbHVtblwiLFwiQ29sdW1uSGVhZGVyXCI6XCJSZXNwb25zZVwiLFwiQ29tcGFyZXJOYW1lXCI6XCJyZXNwb25zZUlkQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDb21wb25lbnRQcm9wc1wiOntcImRpc3BsYXlJZFwiOlwiZGlzcGxheUlkXCIsXCJyaWdPcmRlclwiOlwicmlnT3JkZXJcIixcImVzRGlzcGxheUlkXCI6XCJlc0Rpc3BsYXlJZFwiLFwic2VsZWN0ZWRMYW5ndWFnZVwiOlwic2VsZWN0ZWRMYW5ndWFnZVwiLFwidXBkYXRlZERhdGVcIjpcInVwZGF0ZWREYXRlXCJ9fSxcIlJlc3BvbnNlSWRDb2x1bW5DbG9zZWRcIjp7XCIkaWRcIjpcIjJcIixcIkdyaWRDb2x1bW5cIjpcIlJlc3BvbnNlSWRDb2x1bW5cIixcIkNvbHVtbkhlYWRlclwiOlwiUmVzcG9uc2VcIixcIkNvbXBhcmVyTmFtZVwiOlwicmVzcG9uc2VJZENvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJkaXNwbGF5SWRcIjpcImRpc3BsYXlJZFwiLFwicmlnT3JkZXJcIjpcInJpZ09yZGVyXCIsXCJlc0Rpc3BsYXlJZFwiOlwiZXNEaXNwbGF5SWRcIixcInN1Ym1pdHRlZERhdGVcIjpcInN1Ym1pdHRlZERhdGVcIixcInNlbGVjdGVkTGFuZ3VhZ2VcIjpcInNlbGVjdGVkTGFuZ3VhZ2VcIn19LFwiTGFzdFVwZGF0ZWRDb2x1bW5PcGVuXCI6e1wiJGlkXCI6XCIxNFwiLFwiR3JpZENvbHVtblwiOlwiTGFzdFVwZGF0ZWRDb2x1bW5cIixcIkNvbHVtbkhlYWRlclwiOlwibWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMubGFzdC11cGRhdGVkXCIsXCJDb21wYXJlck5hbWVcIjpcInVwZGF0ZWREYXRlQ29tcGFyZXJcIixcIkNzc0NsYXNzXCI6XCJjb2wtbW9kaWZpZWRcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDb21wb25lbnRQcm9wc1wiOntcInVwZGF0ZWREYXRlXCI6XCJ1cGRhdGVkRGF0ZVwiLFwiZGF0ZVR5cGVcIjpcImRhdGVUeXBlXCIsXCJpc1RpbGVWaWV3XCI6XCJpc1RpbGVWaWV3XCJ9fSxcIkxhc3RVcGRhdGVkQ29sdW1uUGVuZGluZ1wiOntcIiRpZFwiOlwiMThcIixcIkdyaWRDb2x1bW5cIjpcIkxhc3RVcGRhdGVkQ29sdW1uXCIsXCJDb2x1bW5IZWFkZXJcIjpcIm1hcmtpbmcud29ya2xpc3QubGlzdC12aWV3LWNvbHVtbi1oZWFkZXJzLmxhc3QtdXBkYXRlZFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJsYXN0VXBkYXRlZERhdGVDb21wYXJlclwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1tb2RpZmllZFwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNvbXBvbmVudFByb3BzXCI6e1widXBkYXRlZERhdGVcIjpcImxhc3RVcGRhdGVkRGF0ZVwiLFwiZGF0ZVR5cGVcIjpcImRhdGVUeXBlXCIsXCJpc1RpbGVWaWV3XCI6XCJpc1RpbGVWaWV3XCJ9fSxcIkxhc3RVcGRhdGVkQ29sdW1uQ2xvc2VkXCI6e1wiJGlkXCI6XCIxOVwiLFwiR3JpZENvbHVtblwiOlwiTGFzdFVwZGF0ZWRDb2x1bW5cIixcIkNvbHVtbkhlYWRlclwiOlwibWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMuc3VibWl0dGVkXCIsXCJDc3NDbGFzc1wiOlwiY29sLW1vZGlmaWVkXCIsXCJDb21wYXJlck5hbWVcIjpcInN1Ym1pdHRlZERhdGVDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNvbXBvbmVudFByb3BzXCI6e1wic3VibWl0dGVkRGF0ZVwiOlwic3VibWl0dGVkRGF0ZVwiLFwiZGF0ZVR5cGVcIjpcImRhdGVUeXBlXCIsXCJpc1RpbGVWaWV3XCI6XCJpc1RpbGVWaWV3XCJ9fSxcIkFsbG9jYXRlZERhdGVDb2x1bW5PcGVuXCI6e1wiJGlkXCI6XCIxNVwiLFwiR3JpZENvbHVtblwiOlwiQWxsb2NhdGVkRGF0ZVwiLFwiQ29sdW1uSGVhZGVyXCI6XCJtYXJraW5nLndvcmtsaXN0Lmxpc3Qtdmlldy1jb2x1bW4taGVhZGVycy5hbGxvY2F0ZWRcIixcIkNzc0NsYXNzXCI6XCJjb2wtYWxsb2NhdGVkXCIsXCJDb21wYXJlck5hbWVcIjpcImFsbG9jYXRlZERhdGVDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNvbXBvbmVudFByb3BzXCI6e1wiYWxsb2NhdGVkRGF0ZVwiOlwiYWxsb2NhdGVkRGF0ZVwiLFwiZGF0ZVR5cGVcIjpcImRhdGVUeXBlXCIsXCJzaG93QWxsb2NhdGVkRGF0ZVwiOlwic2hvd0FsbG9jYXRlZERhdGVcIn19LFwiUmVzcG9uc2VJZENvbHVtblBlbmRpbmdcIjp7XCIkaWRcIjpcIjNcIixcIkdyaWRDb2x1bW5cIjpcIlJlc3BvbnNlSWRDb2x1bW5cIixcIkNvbHVtbkhlYWRlclwiOlwiUmVzcG9uc2VcIixcIkNvbXBhcmVyTmFtZVwiOlwicmVzcG9uc2VJZENvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJkaXNwbGF5SWRcIjpcImRpc3BsYXlJZFwiLFwicmlnT3JkZXJcIjpcInJpZ09yZGVyXCIsXCJlc0Rpc3BsYXlJZFwiOlwiZXNEaXNwbGF5SWRcIixcInVwZGF0ZWREYXRlXCI6XCJsYXN0VXBkYXRlZERhdGVcIixcInNlbGVjdGVkTGFuZ3VhZ2VcIjpcInNlbGVjdGVkTGFuZ3VhZ2VcIn19LFwiVG90YWxNYXJrXCI6e1wiJGlkXCI6XCI0XCIsXCJHcmlkQ29sdW1uXCI6XCJUb3RhbE1hcmtcIixcIkNvbHVtbkhlYWRlclwiOlwibWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMudG90YWwtbWFya1wiLFwiQ3NzQ2xhc3NcIjpcImNvbC1tYXJrLW9idFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJtYXJrQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDb21wb25lbnRQcm9wc1wiOntcImhhc051bWVyaWNNYXJrXCI6XCJoYXNOdW1lcmljTWFya1wiLFwibWF4aW11bU1hcmtcIjpcIm1heGltdW1NYXJrXCIsXCJ0b3RhbE1hcmtWYWx1ZVwiOlwidG90YWxNYXJrVmFsdWVcIixcIm1hcmtpbmdQcm9ncmVzc1wiOlwibWFya2luZ1Byb2dyZXNzXCIsXCJzZWxlY3RlZExhbmd1YWdlXCI6XCJzZWxlY3RlZExhbmd1YWdlXCJ9fSxcIkFsbG9jYXRlZERhdGVcIjp7XCIkaWRcIjpcIjVcIixcIkdyaWRDb2x1bW5cIjpcIkFsbG9jYXRlZERhdGVcIixcIkNvbHVtbkhlYWRlclwiOlwibWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMuYWxsb2NhdGVkXCIsXCJDc3NDbGFzc1wiOlwiY29sLWFsbG9jYXRlZFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJhbGxvY2F0ZWREYXRlQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDb21wb25lbnRQcm9wc1wiOntcImFsbG9jYXRlZERhdGVcIjpcImFsbG9jYXRlZERhdGVcIixcImhhc0FkZGl0aW9uYWxPYmplY3RzXCI6XCJoYXNBZGRpdGlvbmFsT2JqZWN0c1wiLFwiaGFzQWxsUGFnZXNBbm5vdGF0ZWRcIjpcImhhc0FsbFBhZ2VzQW5ub3RhdGVkXCIsXCJtYXJraW5nUHJvZ3Jlc3NcIjpcIm1hcmtpbmdQcm9ncmVzc1wiLFwic2VsZWN0ZWRMYW5ndWFnZVwiOlwic2VsZWN0ZWRMYW5ndWFnZVwifX0sXCJMaW5rZWRNZXNzYWdlSW5kaWNhdG9yXCI6e1wiJGlkXCI6XCI2XCIsXCJHcmlkQ29sdW1uXCI6XCJMaW5rZWRNZXNzYWdlSW5kaWNhdG9yXCIsXCJDb2x1bW5IZWFkZXJcIjpcIlwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1tZXNzYWdlXCIsXCJDb21wb25lbnRQcm9wc1wiOntcImhhc01lc3NhZ2VzXCI6XCJoYXNNZXNzYWdlc1wiLFwidW5yZWFkTWVzc2FnZXNDb3VudFwiOlwidW5yZWFkTWVzc2FnZXNDb3VudFwiLFwiZGlzcGxheUlkXCI6XCJkaXNwbGF5SWRcIixcImlzVGVhbU1hbmFnZW1lbnRNb2RlXCI6XCJpc1RlYW1NYW5hZ2VtZW50TW9kZVwifX0sXCJTTEFPSW5kaWNhdG9yXCI6e1wiJGlkXCI6XCIxN1wiLFwiR3JpZENvbHVtblwiOlwiU0xBT0luZGljYXRvclwiLFwiQ29sdW1uSGVhZGVyXCI6XCJcIixcIkNzc0NsYXNzXCI6XCJjb2wtc2xhb1wiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJoYXNBZGRpdGlvbmFsT2JqZWN0c1wiOlwiaGFzQWRkaXRpb25hbE9iamVjdHNcIixcImhhc0FsbFBhZ2VzQW5ub3RhdGVkXCI6XCJoYXNBbGxQYWdlc0Fubm90YXRlZFwiLFwibWFya2luZ1Byb2dyZXNzXCI6XCJtYXJraW5nUHJvZ3Jlc3NcIn19LFwiTGlua2VkRXhjZXB0aW9uSW5kaWNhdG9yXCI6e1wiJGlkXCI6XCI3XCIsXCJHcmlkQ29sdW1uXCI6XCJMaW5rZWRFeGNlcHRpb25JbmRpY2F0b3JcIixcIkNvbHVtbkhlYWRlclwiOlwiXCIsXCJDc3NDbGFzc1wiOlwiY29sLW5vdGlmaWNhdGlvblwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJoYXNFeGNlcHRpb25zXCI6XCJoYXNFeGNlcHRpb25zXCIsXCJoYXNab25pbmdFeGNlcHRpb25zXCI6XCJoYXNab25pbmdFeGNlcHRpb25zXCIsXCJpc1pvbmluZ0V4Y2VwdGlvblJhaXNlZEluU2FtZVNjcmlwdFwiOlwiaXNab25pbmdFeGNlcHRpb25SYWlzZWRJblNhbWVTY3JpcHRcIixcImhhc0Jsb2NraW5nRXhjZXB0aW9uc1wiOlwiaGFzQmxvY2tpbmdFeGNlcHRpb25zXCIsXCJyZXNvbHZlZEV4Y2VwdGlvbnNDb3VudFwiOlwicmVzb2x2ZWRFeGNlcHRpb25zQ291bnRcIixcIm1hcmtpbmdQcm9ncmVzc1wiOlwibWFya2luZ1Byb2dyZXNzXCIsXCJkaXNwbGF5SWRcIjpcImRpc3BsYXlJZFwiLFwiaXNUZWFtTWFuYWdlbWVudE1vZGVcIjpcImlzVGVhbU1hbmFnZW1lbnRNb2RlXCIsXCJ1bmFjdGlvbmVkRXhjZXB0aW9uQ291bnRcIjpcInVuYWN0aW9uZWRFeGNlcHRpb25Db3VudFwifX0sXCJHcmFjZVBlcmlvZFRpbWVcIjp7XCIkaWRcIjpcIjhcIixcIkdyaWRDb2x1bW5cIjpcIkdyYWNlUGVyaW9kVGltZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1ncmFjZS1wZXJpb2RcIixcIkNvbHVtbkhlYWRlclwiOlwibWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMudGltZS10by1lbmQtb2YtZ3JhY2UtcGVyaW9kXCIsXCJDb21wYXJlck5hbWVcIjpcInRpbWVUb0VuZEdyYWNlUGVyaW9kQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDb21wb25lbnRQcm9wc1wiOntcInRpbWVUb0VuZE9mR3JhY2VQZXJpb2RcIjpcInRpbWVUb0VuZE9mR3JhY2VQZXJpb2RcIn19LFwibWFya0dyb3VwSWRcIjp7XCIkaWRcIjpcIjlcIixcIm1hcmtHcm91cElkXCI6XCJtYXJrR3JvdXBJZFwifSxcIk1hcmtpbmdQcm9ncmVzc1wiOntcIiRpZFwiOlwiMTBcIixcIkdyaWRDb2x1bW5cIjpcIk1hcmtpbmdQcm9ncmVzc1wiLFwiQ29sdW1uSGVhZGVyXCI6XCJtYXJraW5nLndvcmtsaXN0Lmxpc3Qtdmlldy1jb2x1bW4taGVhZGVycy5wcm9ncmVzc1wiLFwiQ3NzQ2xhc3NcIjpcImNvbC1zdGF0dXNcIixcIkNvbXBhcmVyTmFtZVwiOlwicHJvZ3Jlc3NDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNvbXBvbmVudFByb3BzXCI6e1wibWFya2luZ1Byb2dyZXNzXCI6XCJtYXJraW5nUHJvZ3Jlc3NcIixcInNlbGVjdGVkTGFuZ3VhZ2VcIjpcInNlbGVjdGVkTGFuZ3VhZ2VcIixcIm1hcmtHcm91cElkXCI6XCJtYXJrR3JvdXBJZFwiLFwiaXNUZWFtTWFuYWdlbWVudE1vZGVcIjpcImlzVGVhbU1hbmFnZW1lbnRNb2RlXCJ9fSxcIkFjY3VyYWN5SW5kaWNhdG9yXCI6e1wiJGlkXCI6XCIxMVwiLFwiR3JpZENvbHVtblwiOlwiQWNjdXJhY3lJbmRpY2F0b3JcIixcIkNvbHVtbkhlYWRlclwiOlwibWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMuYWNjdXJhY3lcIixcIkNzc0NsYXNzXCI6XCJjb2wtYWNjdXJhY3lcIixcIkNvbXBhcmVyTmFtZVwiOlwiYWNjdXJhY3lDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNvbXBvbmVudFByb3BzXCI6e1wiYWNjdXJhY3lJbmRpY2F0b3JUeXBlSURcIjpcImFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEXCJ9fSxcIk1hcmtzRGlmZmVyZW5jZVwiOntcIiRpZFwiOlwiMTJcIixcIkdyaWRDb2x1bW5cIjpcIk1hcmtzRGlmZmVyZW5jZVwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNvbXBvbmVudFByb3BzXCI6e1wiYWJzb2x1dGVNYXJrc0RpZmZlcmVuY2VcIjpcImFic29sdXRlTWFya3NEaWZmZXJlbmNlXCIsXCJ0b3RhbE1hcmtzRGlmZmVyZW5jZVwiOlwidG90YWxNYXJrc0RpZmZlcmVuY2VcIixcImFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEXCI6XCJhY2N1cmFjeUluZGljYXRvclR5cGVJRFwifX0sXCJBbGxQYWdlQW5ub3RlZEluZGljYXRvclwiOntcIiRpZFwiOlwiMTNcIixcIkdyaWRDb2x1bW5cIjpcIkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yXCIsXCJDc3NDbGFzc1wiOlwiY29sLXNsYW9cIixcIkNvbHVtbkhlYWRlclwiOlwiXCIsXCJDb21wb25lbnRQcm9wc1wiOntcImhhc0FsbFBhZ2VzQW5ub3RhdGVkXCI6XCJoYXNBbGxQYWdlc0Fubm90YXRlZFwiLFwibWFya2luZ1Byb2dyZXNzXCI6XCJtYXJraW5nUHJvZ3Jlc3NcIixcImlzVGlsZVZpZXdcIjpcImlzVGlsZVZpZXdcIn19LFwiQWJzb2x1dGVNYXJrc0RpZmZlcmVuY2VcIjp7XCIkaWRcIjpcIjIwXCIsXCJHcmlkQ29sdW1uXCI6XCJBYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZVwiLFwiQ29sdW1uSGVhZGVyXCI6XCJtYXJraW5nLndvcmtsaXN0Lmxpc3Qtdmlldy1jb2x1bW4taGVhZGVycy5hbWRcIixcIkNvbXBhcmVyTmFtZVwiOlwiYWJzb2x1dGVEaWZmZXJlbmNlQ29tcGFyZXJcIixcIkNzc0NsYXNzXCI6XCJjb2wtYW1kXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJhYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZVwiOlwiYWJzb2x1dGVNYXJrc0RpZmZlcmVuY2VcIixcInRvdGFsTWFya3NEaWZmZXJlbmNlXCI6XCJ0b3RhbE1hcmtzRGlmZmVyZW5jZVwifX0sXCJUb3RhbE1hcmtzRGlmZmVyZW5jZVwiOntcIiRpZFwiOlwiMjFcIixcIkdyaWRDb2x1bW5cIjpcIlRvdGFsTWFya3NEaWZmZXJlbmNlXCIsXCJDb21wYXJlck5hbWVcIjpcInRvdGFsRGlmZmVyZW5jZUNvbXBhcmVyXCIsXCJDb2x1bW5IZWFkZXJcIjpcIm1hcmtpbmcud29ya2xpc3QubGlzdC12aWV3LWNvbHVtbi1oZWFkZXJzLnRtZFwiLFwiQ3NzQ2xhc3NcIjpcImNvbC10bWRcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDb21wb25lbnRQcm9wc1wiOntcImFic29sdXRlTWFya3NEaWZmZXJlbmNlXCI6XCJhYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZVwiLFwidG90YWxNYXJrc0RpZmZlcmVuY2VcIjpcInRvdGFsTWFya3NEaWZmZXJlbmNlXCJ9fSxcIk9yaWdpbmFsTWFya2VyTmFtZVwiOntcIiRpZFwiOlwiMjVcIixcIkNzc0NsYXNzXCI6XCJjb2wtb3JpZ2luYWwtbWFya2VyXCIsXCJHcmlkQ29sdW1uXCI6XCJPcmlnaW5hbE1hcmtlck5hbWVcIixcIkNvbXBhcmVyTmFtZVwiOlwib3JpZ2luYWxNYXJrZXJDb21wYXJlclwiLFwiQ29sdW1uSGVhZGVyXCI6XCJtYXJraW5nLndvcmtsaXN0Lmxpc3Qtdmlldy1jb2x1bW4taGVhZGVycy5vcmlnaW5hbC1tYXJrZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDb21wb25lbnRQcm9wc1wiOntcIm5hbWVcIjpcIm5hbWVcIn19LFwiQ2VudHJlTnVtXCI6e1wiJGlkXCI6XCIyM1wiLFwiQ3NzQ2xhc3NcIjpcImNvbC1jZW50cmVcIixcIkNvbXBhcmVyTmFtZVwiOlwiY2VudHJlQ29tcGFyZXJcIixcIkdyaWRDb2x1bW5cIjpcIkNlbnRyZU51bVwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNvbHVtbkhlYWRlclwiOlwibWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMuY2VudHJlLW51bWJlclwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJjZW50cmVcIjpcImNlbnRyZVwifX0sXCJDZW50cmVDYW5kaWRhdGVOdW1cIjp7XCIkaWRcIjpcIjI0XCIsXCJDc3NDbGFzc1wiOlwiY29sLWNhbmRpZGF0ZVwiLFwiR3JpZENvbHVtblwiOlwiQ2VudHJlQ2FuZGlkYXRlTnVtXCIsXCJDb21wYXJlck5hbWVcIjpcImNhbmRpZGF0ZUNvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ29sdW1uSGVhZGVyXCI6XCJtYXJraW5nLndvcmtsaXN0Lmxpc3Qtdmlldy1jb2x1bW4taGVhZGVycy5jZW50cmUtY2FuZGlkYXRlLW51bWJlclwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJjYW5kaWRhdGVcIjpcImNhbmRpZGF0ZVwifX0sXCJSZXNwb25zZVR5cGVMYWJlbFwiOntcIiRpZFwiOlwiMjJcIixcIkdyaWRDb2x1bW5cIjpcIlJlc3BvbnNlVHlwZUxhYmVsXCIsXCJDb2x1bW5IZWFkZXJcIjpcIlwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1zZWVkXCIsXCJDb21wb25lbnRQcm9wc1wiOntcImlzUmVzcG9uc2VUeXBlTGFiZWxWaXNpYmxlXCI6XCJpc1Jlc3BvbnNlVHlwZUxhYmVsVmlzaWJsZVwifX0sXCJNYXJrQ2hhbmdlUmVhc29uXCI6e1wiJGlkXCI6XCIyNlwiLFwiR3JpZENvbHVtblwiOlwiTWFya0NoYW5nZVJlYXNvblwiLFwiQ29sdW1uSGVhZGVyXCI6XCJcIixcIkNzc0NsYXNzXCI6XCJjb2wtZXVyLXJlYXNvblwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJpc0luUmVzcG9uc2VcIjpcImlzSW5SZXNwb25zZVwiLFwic2VsZWN0ZWRMYW5ndWFnZVwiOlwic2VsZWN0ZWRMYW5ndWFnZVwiLFwibWFya2luZ1Byb2dyZXNzXCI6XCJtYXJraW5nUHJvZ3Jlc3NcIixcIm1hcmtDaGFuZ2VSZWFzb25cIjpcIm1hcmtDaGFuZ2VSZWFzb25cIn19LFwiU2FtcGxlTGFiZWxcIjp7XCIkaWRcIjpcIjI3XCIsXCJHcmlkQ29sdW1uXCI6XCJTYW1wbGVMYWJlbFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzYW1wbGVkQ29sdW1uQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDb2x1bW5IZWFkZXJcIjpcInRlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5jb2x1bW4taGVhZGVycy5zYW1wbGVkXCIsXCJDc3NDbGFzc1wiOlwiY29sLXNhbXBsZWRcIixcIkNvbXBvbmVudFByb3BzXCI6e1wic2FtcGxlQ29tbWVudElkXCI6XCJzYW1wbGVDb21tZW50SWRcIn19LFwiUmV2aWV3ZWRCeUxhYmVsXCI6e1wiJGlkXCI6XCIyOFwiLFwiR3JpZENvbHVtblwiOlwiUmV2aWV3ZWRCeUxhYmVsXCIsXCJDb21wYXJlck5hbWVcIjpcInJldmlld2VkQnlDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNvbHVtbkhlYWRlclwiOlwidGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmNvbHVtbi1oZWFkZXJzLnJldmlld2VkLWJ5XCIsXCJDc3NDbGFzc1wiOlwiY29sLXJldmlld2VkXCIsXCJDb21wb25lbnRQcm9wc1wiOntcInJldmlld2VkQnlJZFwiOlwicmV2aWV3ZWRCeUlkXCIsXCJyZXZpZXdlZEJ5SW5pdGlhbHNcIjpcInJldmlld2VkQnlJbml0aWFsc1wiLFwicmV2aWV3ZWRCeVN1cm5hbWVcIjpcInJldmlld2VkQnlTdXJuYW1lXCJ9fSxcIkZpbmFsbWFya3NlbGVjdGVkXCI6e1wiJGlkXCI6XCIyOVwiLFwiR3JpZENvbHVtblwiOlwiRmluYWxtYXJrc2VsZWN0ZWRcIixcIkNvbXBhcmVyTmFtZVwiOlwiZmluYWxNYXJrU2VsZWN0ZWRDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNvbHVtbkhlYWRlclwiOlwibWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMuZmluYWwtbWFyay1zZWxlY3RlZFwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1maW5hbC1tYXJrLXNsdGRcIixcIkNvbXBvbmVudFByb3BzXCI6e319LFwiU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uXCI6e1wiJGlkXCI6XCIzMFwiLFwiR3JpZENvbHVtblwiOlwiU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uXCIsXCJDb2x1bW5IZWFkZXJcIjpcIlwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1ldXItcmVhc29uXCJ9LFwiT3JpZ2luYWxNYXJrXCI6e1wiJGlkXCI6XCIzMVwiLFwiR3JpZENvbHVtblwiOlwiT3JpZ2luYWxNYXJrXCIsXCJDb21wYXJlck5hbWVcIjpcIk9yaWdpbmFsTWFya0NvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ29sdW1uSGVhZGVyXCI6XCJtYXJraW5nLndvcmtsaXN0Lmxpc3Qtdmlldy1jb2x1bW4taGVhZGVycy5vcmlnaW5hbC1tYXJrXCIsXCJDc3NDbGFzc1wiOlwiY29sLW9yaWdpbmFsLW1hcmtcIixcIkNvbXBvbmVudFByb3BzXCI6e1wiaXNOb25OdW1lcmljTWFya1wiOlwiaXNOb25OdW1lcmljTWFya1wiLFwib3JpZ2luYWxNYXJrVG90YWxcIjpcIm9yaWdpbmFsTWFya1RvdGFsXCIsXCJpc1Zpc2libGVcIjpcImlzVmlzaWJsZVwiLFwiYWNjdXJhY3lJbmRpY2F0b3JUeXBlSURcIjpcImFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEXCJ9fSxcIk9yaWdpbmFsTWFya0FjY3VyYWN5XCI6e1wiJGlkXCI6XCIzMlwiLFwiR3JpZENvbHVtblwiOlwiT3JpZ2luYWxNYXJrQWNjdXJhY3lcIixcIkNvbHVtbkhlYWRlclwiOlwibWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMub3JpZ2luYWwtbWFyay1hY2N1cmFjeVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1vcmlnaW5hbC1tYXJrLWFjY3VyYWN5XCIsXCJDb21wYXJlck5hbWVcIjpcIk9yaWdpbmFsTWFya0FjY3VyYWN5Q29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDb21wb25lbnRQcm9wc1wiOntcImFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEXCI6XCJhY2N1cmFjeUluZGljYXRvclR5cGVJRFwiLFwiaXNWaXNpYmxlXCI6XCJpc1Zpc2libGVcIn19LFwiU3BlY2lhbGlzdFR5cGVcIjp7XCIkaWRcIjpcIjM2XCIsXCJHcmlkQ29sdW1uXCI6XCJTcGVjaWFsaXN0VHlwZVwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzcGVjaWFsaXN0VHlwZUNvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ29sdW1uSGVhZGVyXCI6XCJtYXJraW5nLndvcmtsaXN0Lmxpc3Qtdmlldy1jb2x1bW4taGVhZGVycy5zcGVjaWFsaXN0LXR5cGVcIixcIkNzc0NsYXNzXCI6XCJjb2wtc3BjbC10eXBlXCJ9fSxcIlRhZ0luZGljYXRvclwiOntcIiRpZFwiOlwiMzNcIixcIkdyaWRDb2x1bW5cIjpcIlRhZ0luZGljYXRvclwiLFwiQ29sdW1uSGVhZGVyXCI6XCJtYXJraW5nLndvcmtsaXN0Lmxpc3Qtdmlldy1jb2x1bW4taGVhZGVycy50YWdcIixcIkNzc0NsYXNzXCI6XCJjb2wtdGFnXCIsXCJDb21wYXJlck5hbWVcIjpcInRhZ0NvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJzZWxlY3RlZFRhZ0lkXCI6XCJzZWxlY3RlZFRhZ0lkXCIsXCJ0YWdMaXN0XCI6XCJ0YWdMaXN0XCIsXCJtYXJrR3JvdXBJZFwiOlwibWFya0dyb3VwSWRcIn0sXCJBbGxGaWxlc05vdFZpZXdlZEluZGljYXRvclwiOntcIiRpZFwiOlwiMzRcIixcIkdyaWRDb2x1bW5cIjpcIkFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yXCIsXCJDc3NDbGFzc1wiOlwiY29sLXNsYW9cIixcIkNvbHVtbkhlYWRlclwiOlwiXCIsXCJDb21wb25lbnRQcm9wc1wiOntcImFsbEZpbGVzVmlld2VkXCI6XCJhbGxGaWxlc1ZpZXdlZFwiLFwibWFya2luZ1Byb2dyZXNzXCI6XCJtYXJraW5nUHJvZ3Jlc3NcIixcImlzVGlsZVZpZXdcIjpcImlzVGlsZVZpZXdcIixcImlzRUNvdXJzZXdvcmtDb21wb25lbnRcIjpcImlzRUNvdXJzZXdvcmtDb21wb25lbnRcIn19LFwiU3VwZXJ2aXNvclJldmlld0NvbW1lbnRcIjp7XCIkaWRcIjpcIjM1XCIsXCJHcmlkQ29sdW1uXCI6XCJTdXBlcnZpc29yUmV2aWV3Q29tbWVudFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJTdXBlcnZpc29yUmV2aWV3Q29tbWVudENvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ29sdW1uSGVhZGVyXCI6XCJ0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuY29sdW1uLWhlYWRlcnMucmV2aWV3LWNvbW1lbnRcIixcIkNzc0NsYXNzXCI6XCJjb2wtcmV2aWV3LWNvbW1lbnRcIixcIkNvbXBvbmVudFByb3BzXCI6e319fSxcIm1hcmtpbmdcIjp7XCJsaXZld29ya2xpc3RcIjp7XCJvcGVuXCI6e1widGlsZXZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxXCJ9LHtcIiRyZWZcIjpcIjEwXCJ9LHtcIiRyZWZcIjpcIjEzXCJ9LHtcIiRyZWZcIjpcIjdcIn0se1wiJHJlZlwiOlwiMTdcIn0se1wiJHJlZlwiOlwiMzRcIn1dfSxcImRldGFpbHZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIzNlwifSx7XCIkcmVmXCI6XCIxMFwifSx7XCIkcmVmXCI6XCI0XCJ9LHtcIiRyZWZcIjpcIjM0XCJ9LHtcIiRyZWZcIjpcIjE3XCJ9LHtcIiRyZWZcIjpcIjE0XCJ9LHtcIiRyZWZcIjpcIjEzXCJ9LHtcIiRyZWZcIjpcIjdcIn0se1wiJHJlZlwiOlwiNlwifSx7XCIkcmVmXCI6XCIzM1wifSx7XCIkcmVmXCI6XCI1XCJ9LHtcIiRyZWZcIjpcIjIyXCJ9LHtcIiRyZWZcIjpcIjI3XCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMVwifV19fSxcImNsb3NlZFwiOntcInRpbGV2aWV3XCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMlwifSx7XCIkcmVmXCI6XCIxMlwifV19LFwiZGV0YWlsdmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjIzXCJ9LHtcIiRyZWZcIjpcIjM2XCJ9LHtcIiRyZWZcIjpcIjRcIn0se1wiJHJlZlwiOlwiMTdcIn0se1wiJHJlZlwiOlwiMTFcIn0se1wiJHJlZlwiOlwiMjBcIn0se1wiJHJlZlwiOlwiMjFcIn0se1wiJHJlZlwiOlwiMTlcIn0se1wiJHJlZlwiOlwiN1wifSx7XCIkcmVmXCI6XCI2XCJ9LHtcIiRyZWZcIjpcIjMzXCJ9LHtcIiRyZWZcIjpcIjIyXCJ9LHtcIiRyZWZcIjpcIjI3XCJ9LHtcIiRyZWZcIjpcIjI4XCJ9LHtcIiRyZWZcIjpcIjM1XCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMVwifV19fSxcInBlbmRpbmdcIjp7XCJ0aWxldmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjNcIn0se1wiJHJlZlwiOlwiOFwifV19LFwiZGV0YWlsdmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjhcIn0se1wiJHJlZlwiOlwiMzZcIn0se1wiJHJlZlwiOlwiNFwifSx7XCIkcmVmXCI6XCIxN1wifSx7XCIkcmVmXCI6XCIxOFwifSx7XCIkcmVmXCI6XCI3XCJ9LHtcIiRyZWZcIjpcIjZcIn0se1wiJHJlZlwiOlwiMzNcIn0se1wiJHJlZlwiOlwiMjJcIn0se1wiJHJlZlwiOlwiMjdcIn1dfSxcImZyb3plblJvd3NcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxXCJ9XX19fSxcInN0YW5kYXJkaXNhdGlvbndvcmtsaXN0XCI6e1wib3BlblwiOntcInRpbGV2aWV3XCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMVwifSx7XCIkcmVmXCI6XCIxMFwifSx7XCIkcmVmXCI6XCIxM1wifSx7XCIkcmVmXCI6XCIxN1wifSx7XCIkcmVmXCI6XCIzNFwifV19LFwiZGV0YWlsdmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjEwXCJ9LHtcIiRyZWZcIjpcIjRcIn0se1wiJHJlZlwiOlwiMzRcIn0se1wiJHJlZlwiOlwiMTdcIn0se1wiJHJlZlwiOlwiMTRcIn0se1wiJHJlZlwiOlwiMTNcIn0se1wiJHJlZlwiOlwiNlwifSx7XCIkcmVmXCI6XCI1XCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMVwifV19fSxcImNsb3NlZFwiOntcInRpbGV2aWV3XCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMlwifSx7XCIkcmVmXCI6XCIxMlwifV19LFwiZGV0YWlsdmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjRcIn0se1wiJHJlZlwiOlwiMTFcIn0se1wiJHJlZlwiOlwiMjBcIn0se1wiJHJlZlwiOlwiMjFcIn0se1wiJHJlZlwiOlwiMTdcIn0se1wiJHJlZlwiOlwiMTlcIn0se1wiJHJlZlwiOlwiNlwifSx7XCIkcmVmXCI6XCIyOFwifSx7XCIkcmVmXCI6XCIzNVwifV19LFwiZnJvemVuUm93c1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjFcIn1dfX19LFwicHJhY3RpY2V3b3JrbGlzdFwiOntcIm9wZW5cIjp7XCJ0aWxldmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjFcIn0se1wiJHJlZlwiOlwiMTBcIn0se1wiJHJlZlwiOlwiMTNcIn0se1wiJHJlZlwiOlwiMTdcIn0se1wiJHJlZlwiOlwiMzRcIn1dfSxcImRldGFpbHZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxMFwifSx7XCIkcmVmXCI6XCI0XCJ9LHtcIiRyZWZcIjpcIjM0XCJ9LHtcIiRyZWZcIjpcIjE3XCJ9LHtcIiRyZWZcIjpcIjE0XCJ9LHtcIiRyZWZcIjpcIjEzXCJ9LHtcIiRyZWZcIjpcIjZcIn0se1wiJHJlZlwiOlwiNVwifV19LFwiZnJvemVuUm93c1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjFcIn1dfX0sXCJjbG9zZWRcIjp7XCJ0aWxldmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjJcIn0se1wiJHJlZlwiOlwiMTJcIn1dfSxcImRldGFpbHZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCI0XCJ9LHtcIiRyZWZcIjpcIjExXCJ9LHtcIiRyZWZcIjpcIjIwXCJ9LHtcIiRyZWZcIjpcIjIxXCJ9LHtcIiRyZWZcIjpcIjE3XCJ9LHtcIiRyZWZcIjpcIjE5XCJ9LHtcIiRyZWZcIjpcIjZcIn1dfSxcImZyb3plblJvd3NcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxXCJ9XX19fSxcImRpcmVjdGVkcmVtYXJrd29ya2xpc3RcIjp7XCJvcGVuXCI6e1widGlsZXZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxXCJ9LHtcIiRyZWZcIjpcIjEwXCJ9LHtcIiRyZWZcIjpcIjEzXCJ9LHtcIiRyZWZcIjpcIjMwXCJ9LHtcIiRyZWZcIjpcIjdcIn0se1wiJHJlZlwiOlwiMjZcIn0se1wiJHJlZlwiOlwiMTdcIn0se1wiJHJlZlwiOlwiMzRcIn1dfSxcImRldGFpbHZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIyM1wifSx7XCIkcmVmXCI6XCIyNFwifSx7XCIkcmVmXCI6XCIzNlwifSx7XCIkcmVmXCI6XCIxMFwifSx7XCIkcmVmXCI6XCI0XCJ9LHtcIiRyZWZcIjpcIjM0XCJ9LHtcIiRyZWZcIjpcIjMxXCJ9LHtcIiRyZWZcIjpcIjMyXCJ9LHtcIiRyZWZcIjpcIjI5XCJ9LHtcIiRyZWZcIjpcIjE3XCJ9LHtcIiRyZWZcIjpcIjE0XCJ9LHtcIiRyZWZcIjpcIjEzXCJ9LHtcIiRyZWZcIjpcIjMwXCJ9LHtcIiRyZWZcIjpcIjdcIn0se1wiJHJlZlwiOlwiNlwifSx7XCIkcmVmXCI6XCIyNlwifSx7XCIkcmVmXCI6XCIzM1wifSx7XCIkcmVmXCI6XCI1XCJ9LHtcIiRyZWZcIjpcIjI1XCJ9LHtcIiRyZWZcIjpcIjIyXCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMVwifV19fSxcImNsb3NlZFwiOntcInRpbGV2aWV3XCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMlwifSx7XCIkcmVmXCI6XCIxMlwifV19LFwiZGV0YWlsdmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjIzXCJ9LHtcIiRyZWZcIjpcIjI0XCJ9LHtcIiRyZWZcIjpcIjM2XCJ9LHtcIiRyZWZcIjpcIjRcIn0se1wiJHJlZlwiOlwiMzFcIn0se1wiJHJlZlwiOlwiMzJcIn0se1wiJHJlZlwiOlwiMjlcIn0se1wiJHJlZlwiOlwiMTFcIn0se1wiJHJlZlwiOlwiMjBcIn0se1wiJHJlZlwiOlwiMjFcIn0se1wiJHJlZlwiOlwiMTdcIn0se1wiJHJlZlwiOlwiMTlcIn0se1wiJHJlZlwiOlwiN1wifSx7XCIkcmVmXCI6XCI2XCJ9LHtcIiRyZWZcIjpcIjMzXCJ9LHtcIiRyZWZcIjpcIjIyXCJ9LHtcIiRyZWZcIjpcIjI1XCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMVwifV19fSxcInBlbmRpbmdcIjp7XCJ0aWxldmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjNcIn0se1wiJHJlZlwiOlwiOFwifV19LFwiZGV0YWlsdmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjIzXCJ9LHtcIiRyZWZcIjpcIjI0XCJ9LHtcIiRyZWZcIjpcIjM2XCJ9LHtcIiRyZWZcIjpcIjhcIn0se1wiJHJlZlwiOlwiNFwifSx7XCIkcmVmXCI6XCIzMVwifSx7XCIkcmVmXCI6XCIzMlwifSx7XCIkcmVmXCI6XCIyOVwifSx7XCIkcmVmXCI6XCIxN1wifSx7XCIkcmVmXCI6XCIxOFwifSx7XCIkcmVmXCI6XCI3XCJ9LHtcIiRyZWZcIjpcIjZcIn0se1wiJHJlZlwiOlwiMzNcIn0se1wiJHJlZlwiOlwiMjVcIn1dfSxcImZyb3plblJvd3NcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxXCJ9XX19fSxcImF0eXBpY2Fsd29ya2xpc3RcIjp7XCJvcGVuXCI6e1widGlsZXZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxXCJ9LHtcIiRyZWZcIjpcIjEwXCJ9LHtcIiRyZWZcIjpcIjEzXCJ9LHtcIiRyZWZcIjpcIjdcIn0se1wiJHJlZlwiOlwiMjZcIn0se1wiJHJlZlwiOlwiMTdcIn1dfSxcImRldGFpbHZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIyM1wifSx7XCIkcmVmXCI6XCIyNFwifSx7XCIkcmVmXCI6XCIxMFwifSx7XCIkcmVmXCI6XCI0XCJ9LHtcIiRyZWZcIjpcIjE3XCJ9LHtcIiRyZWZcIjpcIjE0XCJ9LHtcIiRyZWZcIjpcIjEzXCJ9LHtcIiRyZWZcIjpcIjdcIn0se1wiJHJlZlwiOlwiNlwifSx7XCIkcmVmXCI6XCI1XCJ9LHtcIiRyZWZcIjpcIjI1XCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMVwifV19fSxcImNsb3NlZFwiOntcInRpbGV2aWV3XCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMlwifSx7XCIkcmVmXCI6XCIxMlwifV19LFwiZGV0YWlsdmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjIzXCJ9LHtcIiRyZWZcIjpcIjI0XCJ9LHtcIiRyZWZcIjpcIjRcIn0se1wiJHJlZlwiOlwiMTdcIn0se1wiJHJlZlwiOlwiMTlcIn0se1wiJHJlZlwiOlwiN1wifSx7XCIkcmVmXCI6XCI2XCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMVwifV19fSxcInBlbmRpbmdcIjp7XCJ0aWxldmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjNcIn0se1wiJHJlZlwiOlwiOFwifV19LFwiZGV0YWlsdmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjIzXCJ9LHtcIiRyZWZcIjpcIjI0XCJ9LHtcIiRyZWZcIjpcIjhcIn0se1wiJHJlZlwiOlwiNFwifSx7XCIkcmVmXCI6XCIxN1wifSx7XCIkcmVmXCI6XCIxOFwifSx7XCIkcmVmXCI6XCI3XCJ9LHtcIiRyZWZcIjpcIjZcIn1dfSxcImZyb3plblJvd3NcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxXCJ9XX19fSxcIm1hcmtpbmdjaGVja3dvcmtsaXN0XCI6e1wib3BlblwiOntcImRldGFpbHZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxMFwifSx7XCIkcmVmXCI6XCI0XCJ9LHtcIiRyZWZcIjpcIjE0XCJ9LHtcIiRyZWZcIjpcIjZcIn0se1wiJHJlZlwiOlwiNVwifV19LFwiZnJvemVuUm93c1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjFcIn1dfX0sXCJjbG9zZWRcIjp7XCJkZXRhaWx2aWV3XCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiNFwifSx7XCIkcmVmXCI6XCIxOVwifSx7XCIkcmVmXCI6XCI2XCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMVwifV19fSxcInBlbmRpbmdcIjp7XCJkZXRhaWx2aWV3XCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiOFwifSx7XCIkcmVmXCI6XCI0XCJ9LHtcIiRyZWZcIjpcIjE4XCJ9LHtcIiRyZWZcIjpcIjZcIn1dfSxcImZyb3plblJvd3NcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxXCJ9XX19fSxcInNpbXVsYXRpb253b3JrbGlzdFwiOntcIm9wZW5cIjp7XCJ0aWxldmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjFcIn0se1wiJHJlZlwiOlwiMTBcIn0se1wiJHJlZlwiOlwiMTNcIn0se1wiJHJlZlwiOlwiN1wifSx7XCIkcmVmXCI6XCIxN1wifV19LFwiZGV0YWlsdmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjEwXCJ9LHtcIiRyZWZcIjpcIjRcIn0se1wiJHJlZlwiOlwiMTdcIn0se1wiJHJlZlwiOlwiMTRcIn0se1wiJHJlZlwiOlwiMTNcIn0se1wiJHJlZlwiOlwiNVwifV19LFwiZnJvemVuUm93c1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjFcIn1dfX19fX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC93b3JrbGlzdGdyaWRjb2x1bW5zLmpzb25cbi8vIG1vZHVsZSBpZCA9IDQ0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDMiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 452:
/* no static exports found */
/* all exports used */
/*!*****************************************************!*\
  !*** ./src/components/utility/table/tablehelper.ts ***!
  \*****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Helper class for table element\r\n */\r\nvar TableHelper = /** @class */ (function () {\r\n    function TableHelper() {\r\n    }\r\n    /**\r\n     * This method will set column widths\r\n     * Implemented based on spike #55912\r\n     * @private\r\n     * @memberof TableHelper\r\n     */\r\n    TableHelper.setColumnWidthsForTable = function (gridControlId, columnHeaderPrefix, rowHeaderPrefix) {\r\n        // Remove the earlier applied inline styles\r\n        var columnHeaderId = columnHeaderPrefix + gridControlId;\r\n        // Get the widths of header columns\r\n        var widths = new Array();\r\n        if (document.getElementById(columnHeaderId)) {\r\n            for (var i = 0; i < document.getElementById(columnHeaderId).querySelectorAll('th').length; i++) {\r\n                // Removing the earlier applied inline styles\r\n                document.querySelectorAll('#' + columnHeaderId + ' th .header-data')[i].removeAttribute('style');\r\n                var rowColumn = document.querySelectorAll('#' + rowHeaderPrefix + gridControlId\r\n                    + ' tr:nth-of-type(1) td .cell-data')[i];\r\n                if (rowColumn) {\r\n                    rowColumn.removeAttribute('style');\r\n                }\r\n                widths.push(document.getElementById(columnHeaderId).querySelectorAll('th')[i].clientWidth);\r\n            }\r\n            // Compare the header columns width with the respective column in the first row and find the highest among them\r\n            var trs = document.getElementById(rowHeaderPrefix + gridControlId) ?\r\n                document.getElementById(rowHeaderPrefix + gridControlId).querySelectorAll(' tr') : [];\r\n            if (trs.length > 0) {\r\n                var lentd = trs[0].querySelectorAll('td').length;\r\n                for (var col = 0; col < lentd; col++) {\r\n                    var curEl = trs[0].querySelectorAll('td')[col];\r\n                    var divWidth = curEl.clientWidth;\r\n                    if (divWidth > widths[col]) {\r\n                        widths[col] = divWidth;\r\n                    }\r\n                }\r\n            }\r\n            // Apply the highest width calculated to header / column as min-width\r\n            // We have to avoid last cell in header and row inorder to avoid setting maximum length for last column\r\n            for (var j = 0; j < widths.length; j++) {\r\n                var headerColumn = document.querySelectorAll('#' + columnHeaderId + ' th:not(.last-cell-header):nth-of-type(' + (j + 1) + ') .header-data')[0];\r\n                if (headerColumn) {\r\n                    headerColumn.style.minWidth = (widths[j] + 5) + 'px';\r\n                }\r\n                var rowColumn = document.querySelectorAll('#' + rowHeaderPrefix + gridControlId + ' tr:nth-of-type(1) td:not(.last-cell):nth-of-type(' + (j + 1) + ') .cell-data')[0];\r\n                if (rowColumn) {\r\n                    rowColumn.style.minWidth = (widths[j] + 5) + 'px';\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return TableHelper;\r\n}());\r\nmodule.exports = TableHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90YWJsZS90YWJsZWhlbHBlci50cz9iY2ZlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHRhYmxlIGVsZW1lbnRcclxuICovXHJcbmNsYXNzIFRhYmxlSGVscGVyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgc2V0IGNvbHVtbiB3aWR0aHNcclxuICAgICAqIEltcGxlbWVudGVkIGJhc2VkIG9uIHNwaWtlICM1NTkxMlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBUYWJsZUhlbHBlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldENvbHVtbldpZHRoc0ZvclRhYmxlID0gKGdyaWRDb250cm9sSWQ6IHN0cmluZywgY29sdW1uSGVhZGVyUHJlZml4OiBzdHJpbmcsIHJvd0hlYWRlclByZWZpeDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBlYXJsaWVyIGFwcGxpZWQgaW5saW5lIHN0eWxlc1xyXG4gICAgICAgIGxldCBjb2x1bW5IZWFkZXJJZDogc3RyaW5nID0gY29sdW1uSGVhZGVyUHJlZml4ICsgZ3JpZENvbnRyb2xJZDtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSB3aWR0aHMgb2YgaGVhZGVyIGNvbHVtbnNcclxuICAgICAgICBsZXQgd2lkdGhzOiBudW1iZXJbXSA9IG5ldyBBcnJheTxudW1iZXI+KCk7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbHVtbkhlYWRlcklkKSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29sdW1uSGVhZGVySWQpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJykubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZpbmcgdGhlIGVhcmxpZXIgYXBwbGllZCBpbmxpbmUgc3R5bGVzXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyMnICsgY29sdW1uSGVhZGVySWQgKyAnIHRoIC5oZWFkZXItZGF0YScpW2ldLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgICAgICAgICAgbGV0IHJvd0NvbHVtbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyMnICArIHJvd0hlYWRlclByZWZpeCArIGdyaWRDb250cm9sSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICcgdHI6bnRoLW9mLXR5cGUoMSkgdGQgLmNlbGwtZGF0YScpW2ldO1xyXG4gICAgICAgICAgICBpZiAocm93Q29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICByb3dDb2x1bW4ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdpZHRocy5wdXNoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbHVtbkhlYWRlcklkKS5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpW2ldLmNsaWVudFdpZHRoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENvbXBhcmUgdGhlIGhlYWRlciBjb2x1bW5zIHdpZHRoIHdpdGggdGhlIHJlc3BlY3RpdmUgY29sdW1uIGluIHRoZSBmaXJzdCByb3cgYW5kIGZpbmQgdGhlIGhpZ2hlc3QgYW1vbmcgdGhlbVxyXG4gICAgICAgIHZhciB0cnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyb3dIZWFkZXJQcmVmaXggKyBncmlkQ29udHJvbElkKSA/XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJvd0hlYWRlclByZWZpeCArIGdyaWRDb250cm9sSWQpLnF1ZXJ5U2VsZWN0b3JBbGwoJyB0cicpIDogW107XHJcbiAgICAgICAgaWYgKHRycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBsZW50ZCA9IHRyc1swXS5xdWVyeVNlbGVjdG9yQWxsKCd0ZCcpLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgbGVudGQ7IGNvbCsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VyRWwgPSB0cnNbMF0ucXVlcnlTZWxlY3RvckFsbCgndGQnKVtjb2xdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpdldpZHRoID0gY3VyRWwuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGl2V2lkdGggPiB3aWR0aHNbY29sXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoc1tjb2xdID0gZGl2V2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICAgICAvLyBBcHBseSB0aGUgaGlnaGVzdCB3aWR0aCBjYWxjdWxhdGVkIHRvIGhlYWRlciAvIGNvbHVtbiBhcyBtaW4td2lkdGhcclxuICAgICAgICAvLyBXZSBoYXZlIHRvIGF2b2lkIGxhc3QgY2VsbCBpbiBoZWFkZXIgYW5kIHJvdyBpbm9yZGVyIHRvIGF2b2lkIHNldHRpbmcgbWF4aW11bSBsZW5ndGggZm9yIGxhc3QgY29sdW1uXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB3aWR0aHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgbGV0IGhlYWRlckNvbHVtbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnIycgKyBjb2x1bW5IZWFkZXJJZCArICcgdGg6bm90KC5sYXN0LWNlbGwtaGVhZGVyKTpudGgtb2YtdHlwZSgnICsgKGogKyAxKSArICcpIC5oZWFkZXItZGF0YScpWzBdO1xyXG4gICAgICAgICAgICBpZiAoaGVhZGVyQ29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAoaGVhZGVyQ29sdW1uIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5taW5XaWR0aCA9ICh3aWR0aHNbal0gKyA1KSArICdweCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHJvd0NvbHVtbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGxcclxuICAgICAgICAgICAgKCcjJyArIHJvd0hlYWRlclByZWZpeCArIGdyaWRDb250cm9sSWQgKyAnIHRyOm50aC1vZi10eXBlKDEpIHRkOm5vdCgubGFzdC1jZWxsKTpudGgtb2YtdHlwZSgnICsgKGogKyAxKSArICcpIC5jZWxsLWRhdGEnKVswXTtcclxuICAgICAgICAgICAgaWYgKHJvd0NvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgKHJvd0NvbHVtbiBhcyBIVE1MRWxlbWVudCkuc3R5bGUubWluV2lkdGggPSAod2lkdGhzW2pdICsgNSkgKyAncHgnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG59XHJcblxyXG5leHBvcnQgPSBUYWJsZUhlbHBlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90YWJsZS90YWJsZWhlbHBlci50cyJdLCJtYXBwaW5ncyI6IjtBQUFBOztBQUVBO0FBQ0E7QUFBQTtBQXlEQTtBQXZEQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 457:
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./src/components/message/messagepopup.tsx ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar MessagePriorityDropDown = __webpack_require__(/*! ./messageprioritydropdown */ 464);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\nvar GenericButton = __webpack_require__(/*! ../utility/genericbutton */ 290);\r\nvar messageStore = __webpack_require__(/*! ../../stores/message/messagestore */ 240);\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar MessageBase = __webpack_require__(/*! ./messagebase */ 462);\r\nvar MessageEditor = __webpack_require__(/*! ./messageeditor */ 463);\r\nvar Subject = __webpack_require__(/*! ./subject */ 466);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../actions/messaging/messagingactioncreator */ 268);\r\nvar popupHelper = __webpack_require__(/*! ../utility/popup/popuphelper */ 288);\r\nvar QigDropDown = __webpack_require__(/*! ../utility/dropdown */ 467);\r\nvar messageHelper = __webpack_require__(/*! ../utility/message/messagehelper */ 283);\r\nvar keyDownHelper = __webpack_require__(/*! ../../utility/generic/keydownhelper */ 258);\r\nvar htmlUtilities = __webpack_require__(/*! ../../utility/generic/htmlutilities */ 243);\r\nvar TeamListPopup = __webpack_require__(/*! ./teamlistpopup */ 478);\r\nvar configurablecharacteristicshelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurablecharacteristicsnames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar teamManagementStore = __webpack_require__(/*! ../../stores/teammanagement/teammanagementstore */ 245);\r\nvar applicationStore = __webpack_require__(/*! ../../stores/applicationoffline/applicationstore */ 247);\r\nvar MessagePopup = /** @class */ (function (_super) {\r\n    __extends(MessagePopup, _super);\r\n    /**\r\n     * Constructor Messagepopup\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function MessagePopup(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.isShowTeamListPopup = false;\r\n        _this._isEntireTeamSelected = false;\r\n        _this._mandatoryMessagesFromMarkingToolCC = false;\r\n        _this.doTriggerMessageOpenEvent = false;\r\n        /**\r\n         * This method will render QIG section for Compose, Reply and Forward message types\r\n         */\r\n        _this.renderQigSection = function () {\r\n            switch (_this.props.messageType) {\r\n                case enums.MessageType.InboxCompose:\r\n                    return (React.createElement(\"div\", { className: 'message-qig' },\r\n                        React.createElement(\"span\", { className: 'dim-text msg-qig-label', id: 'qig-dropdown-label' }, localeStore.instance.TranslateText('messaging.compose-message.question-group') + ':'),\r\n                        React.createElement(QigDropDown, { dropDownType: enums.DropDownType.QIG, id: 'select_qig', style: _this.state.qigDropDownStyle, className: 'dropdown-wrap message-qig-name', selectedItem: _this.selectedQig, isOpen: _this.clickedDropDown === enums.DropDownType.QIG ? _this.isQigDropDownOpen : undefined, items: _this.props.qigItemsList, onClick: _this.onQigDropDownClick, onSelect: _this.onQigItemSelected, title: localeStore.instance.TranslateText('messaging.compose-message.question-group-tooltip') })));\r\n                case enums.MessageType.InboxForward:\r\n                case enums.MessageType.InboxReply:\r\n                case enums.MessageType.WorklistCompose:\r\n                case enums.MessageType.TeamCompose:\r\n                    return (React.createElement(\"div\", { className: 'message-qig' },\r\n                        React.createElement(\"span\", { className: 'dim-text msg-qig-label', id: 'question-group-text' }, localeStore.instance.TranslateText('messaging.compose-message.question-group') + ':'),\r\n                        React.createElement(\"div\", { className: 'message-qig-name', id: 'selected-qig-name' }, _this.selectedQig)));\r\n            }\r\n        };\r\n        /**\r\n         * This method will return associtated response section for Forward and Reply message types\r\n         */\r\n        _this.renderAssociatedResponseSection = function () {\r\n            if ((_this.props.messageType === enums.MessageType.InboxForward || _this.props.messageType === enums.MessageType.InboxReply)\r\n                && (_this.props.responseId != null && _this.props.responseId !== '' && _this.props.responseId !== undefined)) {\r\n                return (React.createElement(\"div\", { className: 'clearfix padding-bottom-10' },\r\n                    React.createElement(\"div\", { className: 'comp-resp-id shift-left' },\r\n                        React.createElement(\"span\", { className: 'dim-text', id: 'associated-response-text' }, localeStore.instance.TranslateText('messaging.compose-message.associated-response') + ':'),\r\n                        React.createElement(\"div\", { className: 'message-resonse-id', id: 'associated-response-id' }, messageHelper.getMarkingModeText(_this.props.selectedMsgDetails.markingModeId, _this.props.selectedMsgDetails.isElectronicStandardisationTeamMember) + _this.props.responseId))));\r\n            }\r\n        };\r\n        /**\r\n         * This method will call on qig dropdown select\r\n         */\r\n        _this.onQigItemSelected = function (selectedItem) {\r\n            // resetting to standard message priority while qig selected\r\n            _this.priorityDropDownSelectedItem = enums.MessagePriority.Standard;\r\n            _this.props.onQigItemSelected(selectedItem);\r\n            var selectedQigItem = _this.props.qigItemsList.filter(function (x) { return x.id === selectedItem; });\r\n            var qigId = selectedItem;\r\n            var examinerRoleId = selectedQigItem[0].examinerRoleId;\r\n            var args = {\r\n                examinerRoleId: examinerRoleId,\r\n                qigId: qigId\r\n            };\r\n            messagingActionCreator.getTeamDetails(args);\r\n        };\r\n        /**\r\n         * On navigate away from inbox\r\n         */\r\n        _this.onNavigateAwayFromInbox = function (navigateTo) {\r\n            if ((navigateTo === enums.SaveAndNavigate.toReplyMessage || navigateTo === enums.SaveAndNavigate.toForwardMessage ||\r\n                navigateTo === enums.SaveAndNavigate.newMessageButtonClick)\r\n                && !messageHelper.isMessagePanelEdited(_this.props.messageType, _this.toFieldValues, _this.toFieldIds)) {\r\n                _this.props.onResetPopupCallback(navigateTo);\r\n            }\r\n            else {\r\n                _this.onNavigateAwayFromResponse(navigateTo);\r\n            }\r\n        };\r\n        /**\r\n         *  This will set the required variables\r\n         */\r\n        _this.onOpen = function (messageType) {\r\n            // if tinymce is not loaded we need to skip this method and retrigger this after editor is loaded\r\n            if (!_this.state.isTinyMCELoaded) {\r\n                _this.doTriggerMessageOpenEvent = true;\r\n                _this.msgType = messageType;\r\n                return;\r\n            }\r\n            // if message type is inbox compose or worklist compose then set the default content for setting default fonts\r\n            if (messageType === enums.MessageType.InboxCompose || messageType === enums.MessageType.WorklistCompose ||\r\n                messageType === enums.MessageType.TeamCompose) {\r\n                _this.messageBody = messageHelper.getMessageContent(messageType);\r\n                if (_this.isMessagePopupMinimized === true) {\r\n                    _this.onMaximizeMessagePanel();\r\n                }\r\n            }\r\n            // if message type is work list compose then set supervisior details in to address fields.\r\n            if (messageType === enums.MessageType.WorklistCompose || messageType === enums.MessageType.TeamCompose) {\r\n                _this._selectedTeamList = new Array();\r\n                _this.toFieldIds = new Array();\r\n                _this.toFieldValues = new Array();\r\n                _this.toFieldIds.push(_this.props.supervisorId);\r\n                _this.toFieldValues.push(_this.props.supervisorName);\r\n                _this._selectedTeamList.push(_this.props.supervisorName);\r\n            }\r\n            // Fix for defect 54276. Reply forward message details has to be set only once. \r\n            if (messageType === enums.MessageType.InboxReply || messageType === enums.MessageType.InboxForward) {\r\n                _this.setInboxForwardReplyMessageDetails();\r\n            }\r\n            // Fix for defect 54276. Reply forward message details has to be set only once. \r\n            if (messageType === enums.MessageType.InboxReply || messageType === enums.MessageType.InboxForward) {\r\n                _this.setInboxForwardReplyMessageDetails();\r\n            }\r\n            // Fix for defect 54276. Reply forward message details has to be set only once. \r\n            if (messageType === enums.MessageType.InboxReply || messageType === enums.MessageType.InboxForward) {\r\n                _this.setInboxForwardReplyMessageDetails();\r\n            }\r\n            _this.setState({ renderedOn: Date.now() });\r\n            // enable send button\r\n            _this.enableDisableSendButton();\r\n        };\r\n        /**\r\n         * Method fired to minimize the message panel.\r\n         */\r\n        _this.onMinimizeMessagePanel = function () {\r\n            // added as part of defect #29269\r\n            if (htmlUtilities.isIPadDevice) {\r\n                htmlUtilities.setFocusToElement('message-subject');\r\n                htmlUtilities.blurElement('message-subject');\r\n            }\r\n            _this.isMessagePopupMinimized = true;\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Method fired to maximize the message panel.\r\n         */\r\n        _this.onMaximizeMessagePanel = function () {\r\n            _this.isMessagePopupMinimized = false;\r\n            _this.setState({ renderedOn: Date.now() });\r\n            // enable send button\r\n            _this.enableDisableSendButton();\r\n        };\r\n        /**\r\n         * Method fired to close the message panel.\r\n         */\r\n        _this.onMessagePanelClose = function () {\r\n            keyDownHelper.instance.Activate(enums.MarkEntryDeactivator.Messaging);\r\n            _this.isMessagePopupMinimized = false;\r\n            _this.messageSubject = '';\r\n            if (_this.selectedQigItemId && _this.selectedQigItemId !== 0) {\r\n                var selectedQigItem = _this.props.qigItemsList.filter(function (x) { return x.id === _this.selectedQigItemId; });\r\n                if (selectedQigItem && selectedQigItem.length > 0) {\r\n                    var qigId = _this.selectedQigItemId;\r\n                    var examinerRoleId = selectedQigItem[0].examinerRoleId;\r\n                    messagingActionCreator.clearTeamSelection(examinerRoleId);\r\n                }\r\n            }\r\n            _this._selectedTeamList = new Array();\r\n            _this._isEntireTeamSelected = false;\r\n            /**\r\n             * Defect 64542 fix: setting isShowTeamListPopup to false to prevent TeamList Popup from persisting\r\n             * when closing and opening a new message with only 1 QIG item\r\n             */\r\n            _this.isShowTeamListPopup = false;\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * This method is handling the letious popup events.\r\n         */\r\n        _this.onPopUpDisplayEvent = function (popUpType, popUpActionType) {\r\n            switch (popUpType) {\r\n                case enums.PopUpType.DiscardMessage:\r\n                case enums.PopUpType.DiscardMessageNavigateAway:\r\n                    switch (popUpActionType) {\r\n                        case enums.PopUpActionType.Yes:\r\n                            popupHelper.handlePopUpEvents(popUpType, popUpActionType, _this.onDiscardMessageConfirmed);\r\n                            break;\r\n                        case enums.PopUpActionType.No:\r\n                            popupHelper.handlePopUpEvents(popUpType, popUpActionType, _this.onDiscardMessageCancelled);\r\n                            break;\r\n                    }\r\n                    break;\r\n                case enums.PopUpType.DiscardOnNewMessageButtonClick:\r\n                    switch (popUpActionType) {\r\n                        case enums.PopUpActionType.Show:\r\n                            _this.isMessagePopupMinimized = false;\r\n                            _this.setState({ renderedOn: Date.now() });\r\n                            break;\r\n                        case enums.PopUpActionType.Yes:\r\n                            popupHelper.handlePopUpEvents(popUpType, popUpActionType, _this.onDiscardNewPopupConfirmed);\r\n                            break;\r\n                        case enums.PopUpActionType.No:\r\n                            //Reset the navigate to variable when the user chooses to stay on the message panel\r\n                            _this.navigateTo = enums.SaveAndNavigate.none;\r\n                    }\r\n                    break;\r\n            }\r\n        };\r\n        _this.onDiscardNewPopupConfirmed = function () {\r\n            if (_this.navigateTo === enums.SaveAndNavigate.newMessageButtonClick) {\r\n                _this.priorityDropDownSelectedItem = enums.MessagePriority.Standard;\r\n                _this.messageSubject = '';\r\n                _this.messageBody = '';\r\n                _this.isDropDownOpen = undefined;\r\n                _this.isQigDropDownOpen = undefined;\r\n                _this.toFieldValues = null;\r\n                _this.toFieldIds = null;\r\n                _this._selectedTeamList = new Array();\r\n                _this._isEntireTeamSelected = false;\r\n                tinymce.activeEditor.setContent('');\r\n                _this.enableDisableSendButton();\r\n                _this.props.onResetPopupCallback(_this.navigateTo);\r\n            }\r\n            else {\r\n                _this.props.onResetPopupCallback(_this.navigateTo);\r\n            }\r\n            _this.navigateTo = enums.SaveAndNavigate.none;\r\n        };\r\n        /**\r\n         *  Callback function for dropdown click\r\n         */\r\n        _this.onQigDropDownClick = function (dropDown, width) {\r\n            if (width) {\r\n                var style = {};\r\n                style.minWidth = width;\r\n                _this.setState({\r\n                    qigDropDownStyle: style\r\n                });\r\n            }\r\n            _this.onDropDownClick(dropDown);\r\n        };\r\n        _this.showToAddressList = function () {\r\n            _this.isShowTeamListPopup = true;\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        _this.hideToAddressList = function () {\r\n            _this.setState({ isshowToAddressList: false });\r\n        };\r\n        _this.saveToAddressList = function () {\r\n            _this.setState({ isshowToAddressList: false });\r\n        };\r\n        /**\r\n         * Handles the action event on team list Received.\r\n         */\r\n        _this.updatedTeamListReceived = function (isSaved) {\r\n            if (isSaved === void 0) { isSaved = false; }\r\n            _this.toFieldValues = new Array();\r\n            _this.toFieldIds = new Array();\r\n            _this._selectedTeamList = new Array();\r\n            _this._isEntireTeamSelected = false;\r\n            _this.isSubordinateSelected = false;\r\n            var teams = messageStore.instance.teamDetails;\r\n            if (teams && teams.team) {\r\n                if (teams.team.toTeam) {\r\n                    _this._isEntireTeamSelected = true;\r\n                    _this.isSubordinateSelected = true;\r\n                }\r\n                else {\r\n                    if (teams.team.parent && teams.team.parent.isChecked) {\r\n                        _this._selectedTeamList.push(teams.team.parent.fullName + ';');\r\n                    }\r\n                    if (teams.team.subordinates.length > 0) {\r\n                        _this.getSelectedSubordinateList(teams.team.subordinates);\r\n                    }\r\n                }\r\n                // the logged in user has subordinates, check the store for new TO list\r\n                // if there are no subordinates, the the supervisor details (if any) will be populated via props\r\n                if (messageStore.instance.teamDetails.team.subordinates &&\r\n                    messageStore.instance.teamDetails.team.subordinates.length > 0) {\r\n                    _this.populateToField(teams.team);\r\n                }\r\n                _this.isShowTeamListPopup = false;\r\n                if (isSaved && _this.priorityDropDownSelectedItem === enums.MessagePriority.Mandatory &&\r\n                    !_this.isSubordinateSelected) {\r\n                    messagingActionCreator.displayMandatoryValidationPopup(true);\r\n                }\r\n                _this.setState({ renderedOn: Date.now() });\r\n            }\r\n        };\r\n        /**\r\n         * Populates the To Fields based on the values in the store\r\n         */\r\n        _this.populateToField = function (team) {\r\n            if (team) {\r\n                // Add Parent Examiner of the current examiner if the parent is selected\r\n                if (team.isCurrentExaminer && team.parent && team.parent.isChecked) {\r\n                    _this.toFieldIds.push(team.parent.examinerId);\r\n                    _this.toFieldValues.push(team.parent.fullName);\r\n                }\r\n                if (!team.isCurrentExaminer && team.isChecked) {\r\n                    _this.toFieldIds.push(team.examinerId);\r\n                    _this.toFieldValues.push(team.fullName);\r\n                }\r\n                for (var _i = 0, _a = team.subordinates; _i < _a.length; _i++) {\r\n                    var subTeam = _a[_i];\r\n                    _this.populateToField(subTeam);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Handles the action event on To address list Received.\r\n         */\r\n        _this.teamListReceived = function () {\r\n            var teams = messageStore.instance.teamDetails;\r\n            var qigId = _this.props.selectedQigItemId;\r\n            _this._disableToButtonForStandardisationQig = false;\r\n            //Flag to identify whether the qig is in standardisation setup progress\r\n            var selectedQig = _this.props.qigItemsList.filter(function (x) { return x.id === _this.selectedQigItemId; });\r\n            var coordinationComplete = selectedQig[0].coordinationComplete;\r\n            if (teams && teams.team.subordinates) {\r\n                _this._isEntireTeamSelected = teams.team.toTeam;\r\n                _this.toFieldValues = new Array();\r\n                _this.toFieldIds = new Array();\r\n                _this._selectedTeamList = new Array();\r\n                if (_this.props.messageType === enums.MessageType.InboxReply) {\r\n                    _this.toFieldIds.push(_this.props.selectedMessage.fromExaminerId);\r\n                    _this.toFieldValues.push(_this.props.selectedMessage.examinerDetails.fullName);\r\n                    _this._selectedTeamList.push(_this.props.selectedMessage.examinerDetails.fullName);\r\n                    _this.isSubordinateSelected = _this.isReplyToSubordinate(teams.team.subordinates);\r\n                }\r\n                else if (!coordinationComplete) {\r\n                    // If the message is against standardisationsetup qig or response the receiver \r\n                    // should be stm parent else all work as existing\r\n                    if (teams.team.stmParent) {\r\n                        _this.toFieldIds.push(teams.team.stmParent.examinerId);\r\n                        _this.toFieldValues.push(teams.team.stmParent.fullName);\r\n                        _this._selectedTeamList.push(teams.team.stmParent.fullName);\r\n                        _this.isShowTeamListPopup = false;\r\n                        _this.isSubordinateSelected = false;\r\n                        // Disabling button if the user sends message against standardisation response or Qig\r\n                        _this._disableToButtonForStandardisationQig = true;\r\n                    }\r\n                }\r\n                else if (teams.team.subordinates.length === 0) {\r\n                    if (teams.team.parent) {\r\n                        _this.setMessagePanelToTabForParent(teams.team.parent);\r\n                    }\r\n                }\r\n            }\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * Handles the action event on To address list Received.\r\n         */\r\n        _this.messagePriorityUpdate = function () {\r\n            _this.priorityDropDownSelectedItem = enums.MessagePriority.Standard;\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * Set the selected language state upon successfull confirmation from locale store.\r\n         */\r\n        _this.languageChanged = function () {\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * Handles the action event on To address list Received.\r\n         */\r\n        _this.isTinyMCELoaded = function (isLoaded) {\r\n            _this.setState({\r\n                isTinyMCELoaded: isLoaded\r\n            });\r\n        };\r\n        // Set the default states\r\n        _this.state = {\r\n            renderedOn: 0,\r\n            qigDropDownStyle: {},\r\n            isTinyMCELoaded: false\r\n        };\r\n        _this._selectedTeamList = new Array();\r\n        _this.teamListReceived = _this.teamListReceived.bind(_this);\r\n        _this._mandatoryMessagesFromMarkingToolCC = configurablecharacteristicshelper.getCharacteristicValue(configurablecharacteristicsnames.MandatoryMessagesFromMarkingTool).toLowerCase() === 'true' ? true : false;\r\n        _this.doShowMandatoryMessagePriority = _this.doShowMandatoryMessagePriority.bind(_this);\r\n        _this.doHideToButton = _this.doHideToButton.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    MessagePopup.prototype.render = function () {\r\n        var _this = this;\r\n        var addressListPopup = this.isShowTeamListPopup ? (React.createElement(TeamListPopup, { isShowTeamListPopup: this.isShowTeamListPopup, id: 'teamlist-popup', key: 'teamlist-popup', selectedLanguage: this.props.selectedLanguage })) : null;\r\n        var toAddressListPopup = (React.createElement(\"div\", null,\r\n            React.createElement(\"button\", { className: 'secondary rounded popup-nav to-address-btn', \"aria-haspopup\": 'true', \"data-popup\": 'addressListPopUp', onClick: this.showToAddressList, id: 'messageToButton', key: 'messageToButton_key', disabled: this.doDisableToButton() }, localeStore.instance.TranslateText('messaging.compose-message.to-button')),\r\n            addressListPopup));\r\n        var _showMandatoryMessagePriority = this.doShowMandatoryMessagePriority();\r\n        var _doHideToButton = this.doHideToButton();\r\n        return (React.createElement(\"div\", { className: classNames('popup full-width popup-overlay  messaging', { 'open': this.props.isOpen }, { 'minimized': this.isMessagePopupMinimized }), id: 'composeMessage', role: 'dialog', \"aria-labelledby\": 'popup2Title', \"aria-describedby\": 'popup2Desc' },\r\n            React.createElement(\"div\", { className: 'popup-wrap compose-new-msg' },\r\n                React.createElement(\"div\", { className: 'popup-content', id: 'popup2Desc' },\r\n                    React.createElement(\"div\", { className: 'comp-msg-top' },\r\n                        React.createElement(\"div\", { className: 'qig-menu-holder' },\r\n                            this.renderQigSection(),\r\n                            React.createElement(\"div\", { className: 'set-priority' },\r\n                                React.createElement(MessagePriorityDropDown, { id: 'select_priority', dropDownType: enums.DropDownType.Priority, className: 'dropdown-wrap align-right', selectedItem: this.getPriorityDropDownItem(this.priorityDropDownSelectedItem), isOpen: this.clickedDropDown === enums.DropDownType.Priority ? this.isDropDownOpen : undefined, items: [{\r\n                                            id: enums.MessagePriority.Standard,\r\n                                            name: this.getPriorityDropDownItem(enums.MessagePriority.Standard)\r\n                                        },\r\n                                        {\r\n                                            id: enums.MessagePriority.Important,\r\n                                            name: this.getPriorityDropDownItem(enums.MessagePriority.Important)\r\n                                        },\r\n                                        _showMandatoryMessagePriority ? {\r\n                                            id: enums.MessagePriority.Mandatory,\r\n                                            name: this.getPriorityDropDownItem(enums.MessagePriority.Mandatory)\r\n                                        } : null], onClick: this.onDropDownClick, onSelect: this.onSelect }))),\r\n                        this.renderAssociatedResponseSection(),\r\n                        React.createElement(\"div\", { className: 'msg-recipient-wrap' },\r\n                            React.createElement(\"div\", { className: 'rec-address-label', id: 'message-popup-to-label' }, _doHideToButton ?\r\n                                localeStore.instance.TranslateText('messaging.compose-message.to-button') + ':' :\r\n                                toAddressListPopup),\r\n                            React.createElement(\"div\", { className: 'recipiants-list-wrap' }, this._isEntireTeamSelected ?\r\n                                React.createElement(\"span\", { className: 'recipiant-name', id: 'message-recipiant-name' }, localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.entire-team') + ';') :\r\n                                this._selectedTeamList.map(function (item, index) {\r\n                                    return React.createElement(\"span\", { className: 'recipiant-name', key: 'recipiant-name' + index.toString() }, item);\r\n                                }))),\r\n                        React.createElement(\"div\", { className: 'comp-subject-wrap' },\r\n                            React.createElement(\"label\", { htmlFor: 'message-subject', id: 'subject-label-popup', className: 'comp-subject-label' }, localeStore.instance.TranslateText('messaging.compose-message.subject') + ':'),\r\n                            React.createElement(Subject, { id: 'message-subject', key: 'key-message-subject', outerClass: 'subject-input-wrap', refName: 'subjectInput', hasFocus: (this.props.messageType === enums.MessageType.InboxCompose ||\r\n                                    this.props.messageType === enums.MessageType.WorklistCompose ||\r\n                                    this.props.messageType === enums.MessageType.TeamCompose), className: 'subject-input', onChange: this.handleSubjectChange, maxLength: 120, isVisible: this.props.isOpen, value: this.messageSubject }))),\r\n                    React.createElement(\"div\", { className: 'comp-msg-bottom', ref: 'msgEditor' },\r\n                        React.createElement(\"div\", { className: 'msg-editor' },\r\n                            React.createElement(MessageEditor, { htmlContent: this.messageBody, id: this.msgEditorId, key: 'key-' + this.msgEditorId, hasFocus: messageHelper.hasFocus(this.props.messageType), \"aria-label\": this.msgEditorId, toggleSaveButtonState: this.toggleSaveButtonState, selectedLanguage: this.props.selectedLanguage, isTinyMCELoaded: this.isTinyMCELoaded })))),\r\n                React.createElement(\"div\", { className: 'popup-header compose-msg-header' },\r\n                    React.createElement(\"h3\", { id: 'popup2Title', className: 'shift-left comp-msg-title' }, messageHelper.getMessageHeader(this.props.messageType)),\r\n                    React.createElement(\"div\", { className: 'shift-left comp-msg-butons' },\r\n                        React.createElement(GenericButton, { id: 'message_send_btn', key: 'key_message_send_btn', className: 'button primary rounded', title: localeStore.instance.TranslateText('messaging.compose-message.send-button-tooltip'), content: localeStore.instance.TranslateText('messaging.compose-message.send-button'), disabled: this.isSendButtonDisabled || this.isShowTeamListPopup, onClick: function () { _this.messageSendValidationCheck(_this.props.messageType); } })),\r\n                    React.createElement(\"div\", { className: 'shift-right minimize-message' },\r\n                        React.createElement(\"a\", { href: 'javascript:void(0)', className: 'minimize-message-link', id: 'message-minimize', title: localeStore.instance.TranslateText('messaging.compose-message.minimise-icon-tooltip'), onClick: this.onMinimize },\r\n                            React.createElement(\"span\", { className: 'minimize-icon lite' }, localeStore.instance.TranslateText('messaging.compose-message.minimise-icon-tooltip'))),\r\n                        React.createElement(\"a\", { href: 'javascript:void(0)', className: 'maximize-message-link', id: 'message-maximize', title: localeStore.instance.TranslateText('messaging.compose-message.maximise-icon-tooltip'), onClick: this.onMaximize },\r\n                            React.createElement(\"span\", { className: 'maxmize-icon lite' }, localeStore.instance.TranslateText('messaging.compose-message.maximise-icon-tooltip'))),\r\n                        React.createElement(\"a\", { href: 'javascript:void(0)', className: 'close-message-link', title: localeStore.instance.TranslateText('messaging.compose-message.close-icon-tooltip'), id: 'message-close', onClick: this.onMessageClose },\r\n                            React.createElement(\"span\", { className: 'close-icon lite' }, localeStore.instance.TranslateText('messaging.compose-message.close-icon-tooltip'))))))));\r\n    };\r\n    /**\r\n     * Component did mount\r\n     */\r\n    MessagePopup.prototype.componentDidMount = function () {\r\n        messageStore.instance.addListener(messageStore.MessageStore.SEND_MESSAGE_SUCCESS_EVENT, this.resetAndCloseMessagePanel);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_OPEN_EVENT, this.onOpen);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_NAVIGATE_EVENT, this.onNavigateAwayFromInbox);\r\n        messageStore.instance.addListener(messageStore.MessageStore.POPUP_DISPLAY_EVENT, this.onPopUpDisplayEvent);\r\n        window.addEventListener('click', this._boundHandleOnClick);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_MINIMIZE_EVENT, this.onMinimizeMessagePanel);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_MAXIMIZE_EVENT, this.onMaximizeMessagePanel);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_CLOSE_EVENT, this.onMessagePanelClose);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_NAVIGATION_EVENT, this.onNavigateFromMessagePanel);\r\n        messageStore.instance.addListener(messageStore.MessageStore.UPDATE_TEAM_LIST_RECEIVED, this.updatedTeamListReceived);\r\n        messageStore.instance.addListener(messageStore.MessageStore.TEAM_LIST_RECEIVED, this.teamListReceived);\r\n        messageStore.instance.addListener(messageStore.MessageStore.UPDATE_MESSAGE_PRIORITY_EVENT, this.messagePriorityUpdate);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.APPROVAL_MANAGEMENT_ACTION_EXECUTED, this.examinerValidation);\r\n        applicationStore.instance.addListener(applicationStore.ApplicationStore.ONLINE_STATUS_UPDATED_EVENT, this.onOnlineStatusChanged);\r\n        localeStore.instance.addListener(localeStore.LocaleStore.LOCALE_CHANGE_EVENT, this.languageChanged);\r\n        // Set the variables from props.\r\n        if (this.props.messageType === enums.MessageType.TeamCompose) {\r\n            this.selectedQig = this.props.selectedQigItem;\r\n            this.selectedQigItemId = this.props.selectedQigItemId;\r\n            this.questionPaperPartId = this.props.questionPaperPartId;\r\n            this.onOpen(enums.MessageType.TeamCompose);\r\n        }\r\n    };\r\n    /**\r\n     * Component will unmount\r\n     */\r\n    MessagePopup.prototype.componentWillUnmount = function () {\r\n        messageStore.instance.removeListener(messageStore.MessageStore.SEND_MESSAGE_SUCCESS_EVENT, this.resetAndCloseMessagePanel);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_OPEN_EVENT, this.onOpen);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_NAVIGATE_EVENT, this.onNavigateAwayFromInbox);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.POPUP_DISPLAY_EVENT, this.onPopUpDisplayEvent);\r\n        window.removeEventListener('click', this._boundHandleOnClick);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_MINIMIZE_EVENT, this.onMinimizeMessagePanel);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_MAXIMIZE_EVENT, this.onMaximizeMessagePanel);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_CLOSE_EVENT, this.onMessagePanelClose);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_NAVIGATION_EVENT, this.onNavigateFromMessagePanel);\r\n        keyDownHelper.instance.Activate(enums.MarkEntryDeactivator.Messaging);\r\n        if (messageStore.instance.messageViewAction !== enums.MessageViewAction.None) {\r\n            messagingActionCreator.messageAction(enums.MessageViewAction.None);\r\n        }\r\n        messageStore.instance.removeListener(messageStore.MessageStore.UPDATE_TEAM_LIST_RECEIVED, this.updatedTeamListReceived);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.TEAM_LIST_RECEIVED, this.teamListReceived);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.UPDATE_MESSAGE_PRIORITY_EVENT, this.messagePriorityUpdate);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.APPROVAL_MANAGEMENT_ACTION_EXECUTED, this.examinerValidation);\r\n        applicationStore.instance.removeListener(applicationStore.ApplicationStore.ONLINE_STATUS_UPDATED_EVENT, this.onOnlineStatusChanged);\r\n        localeStore.instance.removeListener(localeStore.LocaleStore.LOCALE_CHANGE_EVENT, this.languageChanged);\r\n    };\r\n    /**\r\n     * Component will receive props\r\n     * @param {Props} nextProps\r\n     */\r\n    MessagePopup.prototype.componentWillReceiveProps = function (nextProps) {\r\n        // Defect 44392 fix - select a qig text in message area is not getting localized upon changing language \r\n        if (nextProps.selectedQigItemId > 0) {\r\n            this.selectedQig = nextProps.selectedQigItem;\r\n        }\r\n        else {\r\n            this.selectedQig = localeStore.instance.TranslateText('messaging.compose-message.select-qig-placeholder');\r\n        }\r\n        this.selectedQigItemId = nextProps.selectedQigItemId;\r\n        this.questionPaperPartId = nextProps.questionPaperPartId;\r\n        // to close teamlist popup while opening new message\r\n        if (this.selectedQigItemId === 0) {\r\n            this.isShowTeamListPopup = false;\r\n        }\r\n    };\r\n    /**\r\n     * Set Inbox Forward and Replay Message details\r\n     */\r\n    MessagePopup.prototype.setInboxForwardReplyMessageDetails = function () {\r\n        keyDownHelper.instance.DeActivate(enums.MarkEntryDeactivator.Messaging);\r\n        // set messageSubject for reply and forward messages\r\n        if ((this.props.messageType === enums.MessageType.InboxForward || this.props.messageType === enums.MessageType.InboxReply)\r\n            && this.props.isReplyOrForwardClicked && this.props.selectedMessage) {\r\n            // reset isMessagePopupMinimized variable\r\n            this.isMessagePopupMinimized = false;\r\n            this.messageSubject = messageHelper.getSubjectContent(this.props.messageType, this.props.subject);\r\n            this.priorityDropDownSelectedItem = this.props.priorityDropDownSelectedItem;\r\n            this.messageBody = this.props.messageBody;\r\n            var qigId_1 = this.props.selectedQigItemId;\r\n            var examinerRoleId = this.props.qigItemsList.filter(function (x) { return x.id === qigId_1; })[0].examinerRoleId;\r\n            var args = {\r\n                examinerRoleId: examinerRoleId,\r\n                qigId: qigId_1\r\n            };\r\n            // get the teamdetails to find whether atleast one subordinate is\r\n            // selected(for displaying mandatory priority options)\r\n            messagingActionCreator.getTeamDetails(args);\r\n        }\r\n    };\r\n    /**\r\n     * Component did update\r\n     */\r\n    MessagePopup.prototype.componentDidUpdate = function () {\r\n        // enable or disable send button while changing QIG dropdown\r\n        if (this.props.isOpen) {\r\n            this.enableDisableSendButton();\r\n        }\r\n        if (this.doTriggerMessageOpenEvent) {\r\n            this.doTriggerMessageOpenEvent = false;\r\n            this.onOpen(this.msgType);\r\n        }\r\n    };\r\n    /**\r\n     * To avoid the qigs in which the selected examiner has no supervisor\r\n     * @param {Array<Item>} qigItemsList\r\n     * @returns\r\n     */\r\n    MessagePopup.prototype.filterQigItems = function (qigItemsList) {\r\n        return qigItemsList.filter(function (x) { return x.parentExaminerId !== 0; });\r\n    };\r\n    /**\r\n     * To show madatory message priority option in dropdown\r\n     */\r\n    MessagePopup.prototype.doShowMandatoryMessagePriority = function () {\r\n        var _this = this;\r\n        var isMandatoryPriorityAvailable = false;\r\n        // Mandatory Message Priority is availability only if :\r\n        // 1. It is a TeamCompose as TeamCompose is always to subordinates. OR\r\n        // 2. If not WorklistCompose as WorklistCompose will be always to Supervisor. AND\r\n        //      (i).[QIG is not selected.] OR\r\n        //      (ii).[If QIG is selected AND there are no selected examiners.] OR\r\n        //      (iii).[If QIG is selected AND there are selected examiners AND atleast one subordinate is selected.]\r\n        // PS : ResponseCompose Scenarios are handled in message.tsx\r\n        if (this.props.messageType === enums.MessageType.TeamCompose ||\r\n            (this.props.messageType !== enums.MessageType.WorklistCompose &&\r\n                (this.selectedQigItemId === 0 ||\r\n                    (this.selectedQigItemId > 0 && this._selectedTeamList && this._selectedTeamList.length === 0) ||\r\n                    (this.selectedQigItemId > 0 && this._selectedTeamList && this._selectedTeamList.length > 0 && this.isSubordinateSelected)))) {\r\n            isMandatoryPriorityAvailable = true;\r\n        }\r\n        if (this.props.qigItemsList.length > 0 && this.selectedQigItemId > 0) {\r\n            var selectedQig = this.props.qigItemsList.filter(function (x) { return x.id === _this.selectedQigItemId; });\r\n            var currentExaminerApprovalStatus = selectedQig[0].approvalStatusId;\r\n            if (currentExaminerApprovalStatus === enums.ExaminerApproval.NotApproved ||\r\n                currentExaminerApprovalStatus === enums.ExaminerApproval.Suspended) {\r\n                isMandatoryPriorityAvailable = false;\r\n            }\r\n        }\r\n        return this._mandatoryMessagesFromMarkingToolCC && isMandatoryPriorityAvailable;\r\n    };\r\n    /**\r\n     * show or hide 'To' button\r\n     */\r\n    MessagePopup.prototype.doHideToButton = function () {\r\n        var _subordinates = null;\r\n        if (messageStore.instance.teamDetails &&\r\n            messageStore.instance.teamDetails.team &&\r\n            messageStore.instance.teamDetails.team.subordinates) {\r\n            _subordinates = messageStore.instance.teamDetails.team.subordinates;\r\n        }\r\n        return ((_subordinates && _subordinates.length) === 0 ||\r\n            this.props.messageType === enums.MessageType.InboxReply ||\r\n            this.props.messageType === enums.MessageType.WorklistCompose ||\r\n            this.props.messageType === enums.MessageType.TeamCompose);\r\n    };\r\n    /**\r\n     * Get selected subordinated list.\r\n     */\r\n    MessagePopup.prototype.getSelectedSubordinateList = function (teamList) {\r\n        var that = this;\r\n        teamList.map(function (examinerInfo) {\r\n            if (examinerInfo.isChecked) {\r\n                that.isSubordinateSelected = true;\r\n                that._selectedTeamList.push(examinerInfo.fullName + ';');\r\n            }\r\n            if (examinerInfo.subordinates.length > 0) {\r\n                that.getSelectedSubordinateList(examinerInfo.subordinates);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Ensure Reply is done to a subordinate.\r\n     */\r\n    MessagePopup.prototype.isReplyToSubordinate = function (teamList) {\r\n        // Suboridinates of the current examiner will be passed here\r\n        // If the selectedMessage.fromExaminerId is one among them, set isSubordinate as true.\r\n        var that = this;\r\n        var isSubordinate = false;\r\n        teamList.map(function (examinerInfo) {\r\n            if (examinerInfo.examinerId === that.props.selectedMessage.fromExaminerId) {\r\n                isSubordinate = true;\r\n            }\r\n            if (examinerInfo.subordinates.length > 0) {\r\n                that.isReplyToSubordinate(examinerInfo.subordinates);\r\n            }\r\n        });\r\n        return isSubordinate;\r\n    };\r\n    /**\r\n     * This method will set message panel property for sending message to the parent\r\n     */\r\n    MessagePopup.prototype.setMessagePanelToTabForParent = function (parent) {\r\n        this.toFieldIds.push(parent.examinerId);\r\n        this.toFieldValues.push(parent.fullName);\r\n        this._selectedTeamList.push(parent.fullName);\r\n        this.isSubordinateSelected = false;\r\n    };\r\n    /**\r\n     * check to enable to button\r\n     */\r\n    MessagePopup.prototype.doDisableToButton = function () {\r\n        if (this.selectedQigItemId === 0 ||\r\n            !messageStore.instance.teamDetails ||\r\n            messageStore.instance.teamDetails.team.subordinates.length === 0 || this._disableToButtonForStandardisationQig) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return MessagePopup;\r\n}(MessageBase));\r\nmodule.exports = MessagePopup;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbWVzc2FnZS9tZXNzYWdlcG9wdXAudHN4PzA3OTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IFJlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBNZXNzYWdlUHJpb3JpdHlEcm9wRG93biA9IHJlcXVpcmUoJy4vbWVzc2FnZXByaW9yaXR5ZHJvcGRvd24nKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgR2VuZXJpY0J1dHRvbiA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvZ2VuZXJpY2J1dHRvbicpO1xyXG5pbXBvcnQgbWVzc2FnZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL21lc3NhZ2UvbWVzc2FnZXN0b3JlJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IE1lc3NhZ2VCYXNlID0gcmVxdWlyZSgnLi9tZXNzYWdlYmFzZScpO1xyXG5pbXBvcnQgTWVzc2FnZUVkaXRvciA9IHJlcXVpcmUoJy4vbWVzc2FnZWVkaXRvcicpO1xyXG5pbXBvcnQgU3ViamVjdCA9IHJlcXVpcmUoJy4vc3ViamVjdCcpO1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuaW1wb3J0IGV4YW1pbmVyU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbWFya2VyaW5mb3JtYXRpb24vZXhhbWluZXJzdG9yZScpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL21lc3NhZ2luZy9tZXNzYWdpbmdhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBwb3B1cEhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvcG9wdXAvcG9wdXBoZWxwZXInKTtcclxuaW1wb3J0IFFpZ0Ryb3BEb3duID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9kcm9wZG93bicpO1xyXG5pbXBvcnQgbWVzc2FnZUhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvbWVzc2FnZS9tZXNzYWdlaGVscGVyJyk7XHJcbmltcG9ydCBrZXlEb3duSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9nZW5lcmljL2tleWRvd25oZWxwZXInKTtcclxuaW1wb3J0IGh0bWxVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2dlbmVyaWMvaHRtbHV0aWxpdGllcycpO1xyXG5pbXBvcnQgdGVhbUFyZ3VtZW50ID0gcmVxdWlyZSgnLi4vLi4vZGF0YXNlcnZpY2VzL21lc3NhZ2luZy90ZWFtYXJndW1lbnQnKTtcclxuaW1wb3J0IFRlYW1MaXN0UG9wdXAgPSByZXF1aXJlKCcuL3RlYW1saXN0cG9wdXAnKTtcclxuaW1wb3J0IHRvQWRkcmVzc0xpc3QgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbWVzc2FnZS90eXBpbmdzL3RlYW1yZXR1cm4nKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzaGVscGVyJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMnKTtcclxuaW1wb3J0IHVzZXJJbmZvU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvdXNlcmluZm8vdXNlcmluZm9zdG9yZScpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudHN0b3JlJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbnN0b3JlJyk7XHJcbmRlY2xhcmUgbGV0IHRpbnltY2U6IGFueTtcclxuXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIFByb3BzQmFzZSwgTG9jYWxlU2VsZWN0aW9uQmFzZSB7XHJcbiAgICBtZXNzYWdlVHlwZTogZW51bXMuTWVzc2FnZVR5cGU7XHJcbiAgICBjbG9zZU1lc3NhZ2VQYW5lbDogRnVuY3Rpb247XHJcbiAgICBvblFpZ0l0ZW1TZWxlY3RlZDogRnVuY3Rpb247XHJcbiAgICBvblJlc2V0UG9wdXBDYWxsYmFjazogRnVuY3Rpb247XHJcbiAgICBxaWdJdGVtc0xpc3Q6IEFycmF5PEl0ZW0+O1xyXG4gICAgc2VsZWN0ZWRRaWdJdGVtOiBzdHJpbmc7XHJcbiAgICBzZWxlY3RlZFFpZ0l0ZW1JZDogbnVtYmVyO1xyXG4gICAgc3VwZXJ2aXNvck5hbWU6IHN0cmluZztcclxuICAgIHN1cGVydmlzb3JJZDogbnVtYmVyO1xyXG4gICAgcmVzcG9uc2VJZDogc3RyaW5nO1xyXG4gICAgaXNPcGVuOiBib29sZWFuO1xyXG4gICAgcWlnTmFtZTogc3RyaW5nO1xyXG4gICAgbWVzc2FnZUJvZHk6IHN0cmluZztcclxuICAgIHByaW9yaXR5RHJvcERvd25TZWxlY3RlZEl0ZW06IGVudW1zLk1lc3NhZ2VQcmlvcml0eTtcclxuICAgIHF1ZXN0aW9uUGFwZXJQYXJ0SWQ6IG51bWJlcjtcclxuICAgIHNlbGVjdGVkTWVzc2FnZTogTWVzc2FnZTtcclxuICAgIHNlbGVjdGVkTWVzc2FnZURldGFpbHM6IE1lc3NhZ2VEZXRhaWxzO1xyXG4gICAgaXNSZXBseU9yRm9yd2FyZENsaWNrZWQ6IGJvb2xlYW47XHJcbiAgICBzdWJqZWN0OiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgICByZW5kZXJlZE9uPzogbnVtYmVyO1xyXG4gICAgcWlnRHJvcERvd25TdHlsZT86IFJlYWN0LkNTU1Byb3BlcnRpZXM7XHJcbiAgICBpc1RpbnlNQ0VMb2FkZWQ/OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSXRlbSB7XHJcbiAgICBpZDogbnVtYmVyO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgcGFyZW50RXhhbWluZXJEaXNwbGF5TmFtZTogc3RyaW5nO1xyXG4gICAgcGFyZW50RXhhbWluZXJJZDogbnVtYmVyO1xyXG4gICAgZXhhbWluZXJSb2xlSWQ6IG51bWJlcjtcclxufVxyXG5cclxuY2xhc3MgTWVzc2FnZVBvcHVwIGV4dGVuZHMgTWVzc2FnZUJhc2Uge1xyXG5cclxuICAgIHByaXZhdGUgaXNTaG93VGVhbUxpc3RQb3B1cDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgX3NlbGVjdGVkVGVhbUxpc3Q6IEFycmF5PHN0cmluZz47XHJcblxyXG4gICAgcHJpdmF0ZSBfaXNFbnRpcmVUZWFtU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwcml2YXRlIF9tYW5kYXRvcnlNZXNzYWdlc0Zyb21NYXJraW5nVG9vbENDOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBfZGlzYWJsZVRvQnV0dG9uRm9yU3RhbmRhcmRpc2F0aW9uUWlnOiBib29sZWFuO1xyXG5cclxuICAgIHByaXZhdGUgZG9UcmlnZ2VyTWVzc2FnZU9wZW5FdmVudDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgbXNnVHlwZTogZW51bXMuTWVzc2FnZVR5cGU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBNZXNzYWdlcG9wdXBcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IFN0YXRlKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBkZWZhdWx0IHN0YXRlc1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IDAsXHJcbiAgICAgICAgICAgIHFpZ0Ryb3BEb3duU3R5bGU6IHt9LFxyXG4gICAgICAgICAgICBpc1RpbnlNQ0VMb2FkZWQ6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9zZWxlY3RlZFRlYW1MaXN0ID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuICAgICAgICB0aGlzLnRlYW1MaXN0UmVjZWl2ZWQgPSB0aGlzLnRlYW1MaXN0UmVjZWl2ZWQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9tYW5kYXRvcnlNZXNzYWdlc0Zyb21NYXJraW5nVG9vbENDID0gY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzaGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzLk1hbmRhdG9yeU1lc3NhZ2VzRnJvbU1hcmtpbmdUb29sKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kb1Nob3dNYW5kYXRvcnlNZXNzYWdlUHJpb3JpdHkgPSB0aGlzLmRvU2hvd01hbmRhdG9yeU1lc3NhZ2VQcmlvcml0eS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZG9IaWRlVG9CdXR0b24gPSB0aGlzLmRvSGlkZVRvQnV0dG9uLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgYWRkcmVzc0xpc3RQb3B1cCA9IHRoaXMuaXNTaG93VGVhbUxpc3RQb3B1cCA/IChcclxuICAgICAgICAgICAgPFRlYW1MaXN0UG9wdXAgaXNTaG93VGVhbUxpc3RQb3B1cCA9IHt0aGlzLmlzU2hvd1RlYW1MaXN0UG9wdXB9XHJcbiAgICAgICAgICAgICAgICBpZCA9eyd0ZWFtbGlzdC1wb3B1cCd9IGtleSA9IHsndGVhbWxpc3QtcG9wdXAnfSBzZWxlY3RlZExhbmd1YWdlID0ge3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX0vPlxyXG4gICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgdG9BZGRyZXNzTGlzdFBvcHVwID0gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J3NlY29uZGFyeSByb3VuZGVkIHBvcHVwLW5hdiB0by1hZGRyZXNzLWJ0bidcclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPSd0cnVlJ1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcG9wdXA9J2FkZHJlc3NMaXN0UG9wVXAnXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93VG9BZGRyZXNzTGlzdH1cclxuICAgICAgICAgICAgICAgICAgICBpZCA9IHsnbWVzc2FnZVRvQnV0dG9uJ31cclxuICAgICAgICAgICAgICAgICAgICBrZXkgPSB7J21lc3NhZ2VUb0J1dHRvbl9rZXknfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLmRvRGlzYWJsZVRvQnV0dG9uKCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLnRvLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICB7YWRkcmVzc0xpc3RQb3B1cH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgX3Nob3dNYW5kYXRvcnlNZXNzYWdlUHJpb3JpdHk6IGJvb2xlYW4gPSB0aGlzLmRvU2hvd01hbmRhdG9yeU1lc3NhZ2VQcmlvcml0eSgpO1xyXG4gICAgICAgIGxldCBfZG9IaWRlVG9CdXR0b246IGJvb2xlYW4gPSB0aGlzLmRvSGlkZVRvQnV0dG9uKCk7XHJcbiAgICAgICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT17IGNsYXNzTmFtZXMoJ3BvcHVwIGZ1bGwtd2lkdGggcG9wdXAtb3ZlcmxheSAgbWVzc2FnaW5nJyxcclxuICAgICAgICAgICAgeyAnb3Blbic6IHRoaXMucHJvcHMuaXNPcGVuIH0sIHsgJ21pbmltaXplZCc6IHRoaXMuaXNNZXNzYWdlUG9wdXBNaW5pbWl6ZWQgfSkgfVxyXG4gICAgICAgICAgICBpZD0nY29tcG9zZU1lc3NhZ2UnIHJvbGU9J2RpYWxvZycgYXJpYS1sYWJlbGxlZGJ5PSdwb3B1cDJUaXRsZScgYXJpYS1kZXNjcmliZWRieT0ncG9wdXAyRGVzYyc+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC13cmFwIGNvbXBvc2UtbmV3LW1zZyc+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncG9wdXAtY29udGVudCcgaWQ9J3BvcHVwMkRlc2MnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb21wLW1zZy10b3AnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncWlnLW1lbnUtaG9sZGVyJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5yZW5kZXJRaWdTZWN0aW9uKCkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NldC1wcmlvcml0eSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VQcmlvcml0eURyb3BEb3duIGlkPXsnc2VsZWN0X3ByaW9yaXR5J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcERvd25UeXBlID0ge2VudW1zLkRyb3BEb3duVHlwZS5Qcmlvcml0eX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0geydkcm9wZG93bi13cmFwIGFsaWduLXJpZ2h0J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtID0geyB0aGlzLmdldFByaW9yaXR5RHJvcERvd25JdGVtKHRoaXMucHJpb3JpdHlEcm9wRG93blNlbGVjdGVkSXRlbSkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW4gPSB7dGhpcy5jbGlja2VkRHJvcERvd24gPT09IGVudW1zLkRyb3BEb3duVHlwZS5Qcmlvcml0eSA/IHRoaXMuaXNEcm9wRG93bk9wZW4gOiB1bmRlZmluZWQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IHtbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVudW1zLk1lc3NhZ2VQcmlvcml0eS5TdGFuZGFyZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuZ2V0UHJpb3JpdHlEcm9wRG93bkl0ZW0oZW51bXMuTWVzc2FnZVByaW9yaXR5LlN0YW5kYXJkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZW51bXMuTWVzc2FnZVByaW9yaXR5LkltcG9ydGFudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuZ2V0UHJpb3JpdHlEcm9wRG93bkl0ZW0oZW51bXMuTWVzc2FnZVByaW9yaXR5LkltcG9ydGFudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dNYW5kYXRvcnlNZXNzYWdlUHJpb3JpdHkgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZW51bXMuTWVzc2FnZVByaW9yaXR5Lk1hbmRhdG9yeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuZ2V0UHJpb3JpdHlEcm9wRG93bkl0ZW0oZW51bXMuTWVzc2FnZVByaW9yaXR5Lk1hbmRhdG9yeSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IG51bGxdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrID0geyB0aGlzLm9uRHJvcERvd25DbGlja31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3QgPSB7IHRoaXMub25TZWxlY3QgfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyQXNzb2NpYXRlZFJlc3BvbnNlU2VjdGlvbigpIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtc2ctcmVjaXBpZW50LXdyYXAnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3JlYy1hZGRyZXNzLWxhYmVsJyBpZD0nbWVzc2FnZS1wb3B1cC10by1sYWJlbCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfZG9IaWRlVG9CdXR0b24gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLnRvLWJ1dHRvbicpICsgJzonIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9BZGRyZXNzTGlzdFBvcHVwIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncmVjaXBpYW50cy1saXN0LXdyYXAnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNFbnRpcmVUZWFtU2VsZWN0ZWQgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdyZWNpcGlhbnQtbmFtZScgaWQ9J21lc3NhZ2UtcmVjaXBpYW50LW5hbWUnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5yZWNpcGllbnQtc2VsZWN0b3IuZW50aXJlLXRlYW0nKSArICc7J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRUZWFtTGlzdC5tYXAoKGl0ZW06IHN0cmluZywgaW5kZXg6IG51bWJlcikgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3JlY2lwaWFudC1uYW1lJyBrZXk9eydyZWNpcGlhbnQtbmFtZScgKyBpbmRleC50b1N0cmluZygpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb21wLXN1YmplY3Qtd3JhcCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj0nbWVzc2FnZS1zdWJqZWN0JyBpZCA9eydzdWJqZWN0LWxhYmVsLXBvcHVwJ30gY2xhc3NOYW1lPSdjb21wLXN1YmplY3QtbGFiZWwnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5zdWJqZWN0JykgKyAnOicgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTdWJqZWN0IGlkPSB7J21lc3NhZ2Utc3ViamVjdCd9IGtleT17J2tleS1tZXNzYWdlLXN1YmplY3QnfSBvdXRlckNsYXNzPSB7J3N1YmplY3QtaW5wdXQtd3JhcCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmTmFtZSA9IHsnc3ViamVjdElucHV0J30gaGFzRm9jdXMgPSB7ICh0aGlzLnByb3BzLm1lc3NhZ2VUeXBlID09PSBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveENvbXBvc2UgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuV29ya2xpc3RDb21wb3NlIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMubWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLlRlYW1Db21wb3NlKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsnc3ViamVjdC1pbnB1dCd9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVN1YmplY3RDaGFuZ2V9IG1heExlbmd0aD17MTIwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZSA9IHt0aGlzLnByb3BzLmlzT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHt0aGlzLm1lc3NhZ2VTdWJqZWN0fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29tcC1tc2ctYm90dG9tJyByZWY9J21zZ0VkaXRvcic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtc2ctZWRpdG9yJyA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVzc2FnZUVkaXRvciAgaHRtbENvbnRlbnQ9e3RoaXMubWVzc2FnZUJvZHl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSB7IHRoaXMubXNnRWRpdG9ySWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0geydrZXktJyArIHRoaXMubXNnRWRpdG9ySWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRm9jdXMgPSB7IG1lc3NhZ2VIZWxwZXIuaGFzRm9jdXModGhpcy5wcm9wcy5tZXNzYWdlVHlwZSkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9eyB0aGlzLm1zZ0VkaXRvcklkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVNhdmVCdXR0b25TdGF0ZT17dGhpcy50b2dnbGVTYXZlQnV0dG9uU3RhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVGlueU1DRUxvYWRlZD17dGhpcy5pc1RpbnlNQ0VMb2FkZWR9Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC1oZWFkZXIgY29tcG9zZS1tc2ctaGVhZGVyJz5cclxuICAgICAgICAgICAgICAgICAgICA8aDMgaWQ9J3BvcHVwMlRpdGxlJyBjbGFzc05hbWU9J3NoaWZ0LWxlZnQgY29tcC1tc2ctdGl0bGUnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG1lc3NhZ2VIZWxwZXIuZ2V0TWVzc2FnZUhlYWRlcih0aGlzLnByb3BzLm1lc3NhZ2VUeXBlKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2hpZnQtbGVmdCBjb21wLW1zZy1idXRvbnMnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R2VuZXJpY0J1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9eyAnbWVzc2FnZV9zZW5kX2J0bicgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsna2V5X21lc3NhZ2Vfc2VuZF9idG4nIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17J2J1dHRvbiBwcmltYXJ5IHJvdW5kZWQnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2Uuc2VuZC1idXR0b24tdG9vbHRpcCcpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2Uuc2VuZC1idXR0b24nKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5pc1NlbmRCdXR0b25EaXNhYmxlZCB8fCB0aGlzLmlzU2hvd1RlYW1MaXN0UG9wdXB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHRoaXMubWVzc2FnZVNlbmRWYWxpZGF0aW9uQ2hlY2sodGhpcy5wcm9wcy5tZXNzYWdlVHlwZSk7IH0gfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NoaWZ0LXJpZ2h0IG1pbmltaXplLW1lc3NhZ2UnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIGNsYXNzTmFtZT0nbWluaW1pemUtbWVzc2FnZS1saW5rJyBpZD0nbWVzc2FnZS1taW5pbWl6ZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLm1pbmltaXNlLWljb24tdG9vbHRpcCcpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25NaW5pbWl6ZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J21pbmltaXplLWljb24gbGl0ZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UubWluaW1pc2UtaWNvbi10b29sdGlwJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApJyBjbGFzc05hbWU9J21heGltaXplLW1lc3NhZ2UtbGluaycgaWQ9J21lc3NhZ2UtbWF4aW1pemUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5tYXhpbWlzZS1pY29uLXRvb2x0aXAnKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uTWF4aW1pemV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdtYXhtaXplLWljb24gbGl0ZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UubWF4aW1pc2UtaWNvbi10b29sdGlwJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApJyBjbGFzc05hbWU9J2Nsb3NlLW1lc3NhZ2UtbGluaydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLmNsb3NlLWljb24tdG9vbHRpcCcpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdtZXNzYWdlLWNsb3NlJyBvbkNsaWNrPXt0aGlzLm9uTWVzc2FnZUNsb3NlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nY2xvc2UtaWNvbiBsaXRlJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5jbG9zZS1pY29uLXRvb2x0aXAnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wb25lbnQgZGlkIG1vdW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5TRU5EX01FU1NBR0VfU1VDQ0VTU19FVkVOVCwgdGhpcy5yZXNldEFuZENsb3NlTWVzc2FnZVBhbmVsKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX09QRU5fRVZFTlQsIHRoaXMub25PcGVuKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX05BVklHQVRFX0VWRU5ULCB0aGlzLm9uTmF2aWdhdGVBd2F5RnJvbUluYm94KTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5QT1BVUF9ESVNQTEFZX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUG9wVXBEaXNwbGF5RXZlbnQpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2JvdW5kSGFuZGxlT25DbGljayk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuTUVTU0FHRV9NSU5JTUlaRV9FVkVOVCwgdGhpcy5vbk1pbmltaXplTWVzc2FnZVBhbmVsKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX01BWElNSVpFX0VWRU5ULCB0aGlzLm9uTWF4aW1pemVNZXNzYWdlUGFuZWwpO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfQ0xPU0VfRVZFTlQsIHRoaXMub25NZXNzYWdlUGFuZWxDbG9zZSk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuTUVTU0FHRV9OQVZJR0FUSU9OX0VWRU5ULCB0aGlzLm9uTmF2aWdhdGVGcm9tTWVzc2FnZVBhbmVsKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5VUERBVEVfVEVBTV9MSVNUX1JFQ0VJVkVELCB0aGlzLnVwZGF0ZWRUZWFtTGlzdFJlY2VpdmVkKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5URUFNX0xJU1RfUkVDRUlWRUQsIHRoaXMudGVhbUxpc3RSZWNlaXZlZCk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuVVBEQVRFX01FU1NBR0VfUFJJT1JJVFlfRVZFTlQsIHRoaXMubWVzc2FnZVByaW9yaXR5VXBkYXRlKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyXHJcbiAgICAgICAgICAgICh0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuQVBQUk9WQUxfTUFOQUdFTUVOVF9BQ1RJT05fRVhFQ1VURUQsIHRoaXMuZXhhbWluZXJWYWxpZGF0aW9uKTtcclxuICAgICAgICBhcHBsaWNhdGlvblN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKGFwcGxpY2F0aW9uU3RvcmUuQXBwbGljYXRpb25TdG9yZS5PTkxJTkVfU1RBVFVTX1VQREFURURfRVZFTlQsIHRoaXMub25PbmxpbmVTdGF0dXNDaGFuZ2VkKTtcclxuICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihsb2NhbGVTdG9yZS5Mb2NhbGVTdG9yZS5MT0NBTEVfQ0hBTkdFX0VWRU5ULCB0aGlzLmxhbmd1YWdlQ2hhbmdlZCk7XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgdmFyaWFibGVzIGZyb20gcHJvcHMuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLlRlYW1Db21wb3NlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRRaWcgPSB0aGlzLnByb3BzLnNlbGVjdGVkUWlnSXRlbTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFFpZ0l0ZW1JZCA9IHRoaXMucHJvcHMuc2VsZWN0ZWRRaWdJdGVtSWQ7XHJcbiAgICAgICAgICAgIHRoaXMucXVlc3Rpb25QYXBlclBhcnRJZCA9IHRoaXMucHJvcHMucXVlc3Rpb25QYXBlclBhcnRJZDtcclxuICAgICAgICAgICAgdGhpcy5vbk9wZW4oZW51bXMuTWVzc2FnZVR5cGUuVGVhbUNvbXBvc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbXBvbmVudCB3aWxsIHVubW91bnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlNFTkRfTUVTU0FHRV9TVUNDRVNTX0VWRU5ULCB0aGlzLnJlc2V0QW5kQ2xvc2VNZXNzYWdlUGFuZWwpO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfT1BFTl9FVkVOVCwgdGhpcy5vbk9wZW4pO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfTkFWSUdBVEVfRVZFTlQsIHRoaXMub25OYXZpZ2F0ZUF3YXlGcm9tSW5ib3gpO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlBPUFVQX0RJU1BMQVlfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25Qb3BVcERpc3BsYXlFdmVudCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fYm91bmRIYW5kbGVPbkNsaWNrKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX01JTklNSVpFX0VWRU5ULCB0aGlzLm9uTWluaW1pemVNZXNzYWdlUGFuZWwpO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfTUFYSU1JWkVfRVZFTlQsIHRoaXMub25NYXhpbWl6ZU1lc3NhZ2VQYW5lbCk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuTUVTU0FHRV9DTE9TRV9FVkVOVCwgdGhpcy5vbk1lc3NhZ2VQYW5lbENsb3NlKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX05BVklHQVRJT05fRVZFTlQsIHRoaXMub25OYXZpZ2F0ZUZyb21NZXNzYWdlUGFuZWwpO1xyXG4gICAgICAgIGtleURvd25IZWxwZXIuaW5zdGFuY2UuQWN0aXZhdGUoZW51bXMuTWFya0VudHJ5RGVhY3RpdmF0b3IuTWVzc2FnaW5nKTtcclxuICAgICAgICBpZiAobWVzc2FnZVN0b3JlLmluc3RhbmNlLm1lc3NhZ2VWaWV3QWN0aW9uICE9PSBlbnVtcy5NZXNzYWdlVmlld0FjdGlvbi5Ob25lKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IubWVzc2FnZUFjdGlvbihlbnVtcy5NZXNzYWdlVmlld0FjdGlvbi5Ob25lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuVVBEQVRFX1RFQU1fTElTVF9SRUNFSVZFRCwgdGhpcy51cGRhdGVkVGVhbUxpc3RSZWNlaXZlZCk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuVEVBTV9MSVNUX1JFQ0VJVkVELCB0aGlzLnRlYW1MaXN0UmVjZWl2ZWQpO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlVQREFURV9NRVNTQUdFX1BSSU9SSVRZX0VWRU5ULCB0aGlzLm1lc3NhZ2VQcmlvcml0eVVwZGF0ZSk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lclxyXG4gICAgICAgICAgICAodGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLkFQUFJPVkFMX01BTkFHRU1FTlRfQUNUSU9OX0VYRUNVVEVELCB0aGlzLmV4YW1pbmVyVmFsaWRhdGlvbik7XHJcbiAgICAgICAgYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihhcHBsaWNhdGlvblN0b3JlLkFwcGxpY2F0aW9uU3RvcmUuT05MSU5FX1NUQVRVU19VUERBVEVEX0VWRU5ULCB0aGlzLm9uT25saW5lU3RhdHVzQ2hhbmdlZCk7XHJcbiAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIobG9jYWxlU3RvcmUuTG9jYWxlU3RvcmUuTE9DQUxFX0NIQU5HRV9FVkVOVCwgdGhpcy5sYW5ndWFnZUNoYW5nZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcG9uZW50IHdpbGwgcmVjZWl2ZSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHtQcm9wc30gbmV4dFByb3BzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wczogUHJvcHMpIHtcclxuICAgICAgICAvLyBEZWZlY3QgNDQzOTIgZml4IC0gc2VsZWN0IGEgcWlnIHRleHQgaW4gbWVzc2FnZSBhcmVhIGlzIG5vdCBnZXR0aW5nIGxvY2FsaXplZCB1cG9uIGNoYW5naW5nIGxhbmd1YWdlIFxyXG4gICAgICAgIGlmIChuZXh0UHJvcHMuc2VsZWN0ZWRRaWdJdGVtSWQgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRRaWcgPSBuZXh0UHJvcHMuc2VsZWN0ZWRRaWdJdGVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRRaWcgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLnNlbGVjdC1xaWctcGxhY2Vob2xkZXInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFFpZ0l0ZW1JZCA9IG5leHRQcm9wcy5zZWxlY3RlZFFpZ0l0ZW1JZDtcclxuICAgICAgICB0aGlzLnF1ZXN0aW9uUGFwZXJQYXJ0SWQgPSBuZXh0UHJvcHMucXVlc3Rpb25QYXBlclBhcnRJZDtcclxuXHJcbiAgICAgICAgLy8gdG8gY2xvc2UgdGVhbWxpc3QgcG9wdXAgd2hpbGUgb3BlbmluZyBuZXcgbWVzc2FnZVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUWlnSXRlbUlkID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTaG93VGVhbUxpc3RQb3B1cCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCBJbmJveCBGb3J3YXJkIGFuZCBSZXBsYXkgTWVzc2FnZSBkZXRhaWxzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2V0SW5ib3hGb3J3YXJkUmVwbHlNZXNzYWdlRGV0YWlscygpOiB2b2lkIHtcclxuICAgICAgICBrZXlEb3duSGVscGVyLmluc3RhbmNlLkRlQWN0aXZhdGUoZW51bXMuTWFya0VudHJ5RGVhY3RpdmF0b3IuTWVzc2FnaW5nKTtcclxuXHJcbiAgICAgICAgLy8gc2V0IG1lc3NhZ2VTdWJqZWN0IGZvciByZXBseSBhbmQgZm9yd2FyZCBtZXNzYWdlc1xyXG4gICAgICAgIGlmICgodGhpcy5wcm9wcy5tZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hGb3J3YXJkIHx8IHRoaXMucHJvcHMubWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94UmVwbHkpXHJcbiAgICAgICAgICAgICYmIHRoaXMucHJvcHMuaXNSZXBseU9yRm9yd2FyZENsaWNrZWQgJiYgdGhpcy5wcm9wcy5zZWxlY3RlZE1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgLy8gcmVzZXQgaXNNZXNzYWdlUG9wdXBNaW5pbWl6ZWQgdmFyaWFibGVcclxuICAgICAgICAgICAgdGhpcy5pc01lc3NhZ2VQb3B1cE1pbmltaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VTdWJqZWN0ID0gbWVzc2FnZUhlbHBlci5nZXRTdWJqZWN0Q29udGVudCh0aGlzLnByb3BzLm1lc3NhZ2VUeXBlLCB0aGlzLnByb3BzLnN1YmplY3QgKTtcclxuICAgICAgICAgICAgdGhpcy5wcmlvcml0eURyb3BEb3duU2VsZWN0ZWRJdGVtID0gdGhpcy5wcm9wcy5wcmlvcml0eURyb3BEb3duU2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VCb2R5ID0gdGhpcy5wcm9wcy5tZXNzYWdlQm9keTtcclxuXHJcbiAgICAgICAgICAgIGxldCBxaWdJZDogbnVtYmVyID0gdGhpcy5wcm9wcy5zZWxlY3RlZFFpZ0l0ZW1JZDtcclxuICAgICAgICAgICAgbGV0IGV4YW1pbmVyUm9sZUlkOiBudW1iZXIgPSB0aGlzLnByb3BzLnFpZ0l0ZW1zTGlzdC5maWx0ZXIoKHg6IEl0ZW0pID0+IHguaWQgPT09IHFpZ0lkKVswXS5leGFtaW5lclJvbGVJZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBhcmdzOiB0ZWFtQXJndW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgICBleGFtaW5lclJvbGVJZDogZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICBxaWdJZDogcWlnSWRcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIGdldCB0aGUgdGVhbWRldGFpbHMgdG8gZmluZCB3aGV0aGVyIGF0bGVhc3Qgb25lIHN1Ym9yZGluYXRlIGlzXHJcbiAgICAgICAgICAgIC8vIHNlbGVjdGVkKGZvciBkaXNwbGF5aW5nIG1hbmRhdG9yeSBwcmlvcml0eSBvcHRpb25zKVxyXG4gICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLmdldFRlYW1EZXRhaWxzKGFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbXBvbmVudCBkaWQgdXBkYXRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnREaWRVcGRhdGUoKSB7XHJcblxyXG4gICAgICAgIC8vIGVuYWJsZSBvciBkaXNhYmxlIHNlbmQgYnV0dG9uIHdoaWxlIGNoYW5naW5nIFFJRyBkcm9wZG93blxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzT3Blbikge1xyXG4gICAgICAgICAgICB0aGlzLmVuYWJsZURpc2FibGVTZW5kQnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5kb1RyaWdnZXJNZXNzYWdlT3BlbkV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9UcmlnZ2VyTWVzc2FnZU9wZW5FdmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLm9uT3Blbih0aGlzLm1zZ1R5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmVuZGVyIFFJRyBzZWN0aW9uIGZvciBDb21wb3NlLCBSZXBseSBhbmQgRm9yd2FyZCBtZXNzYWdlIHR5cGVzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyUWlnU2VjdGlvbiA9ICgpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMubWVzc2FnZVR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveENvbXBvc2U6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKDxkaXYgY2xhc3NOYW1lPSdtZXNzYWdlLXFpZyc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdkaW0tdGV4dCBtc2ctcWlnLWxhYmVsJyBpZD0ncWlnLWRyb3Bkb3duLWxhYmVsJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UucXVlc3Rpb24tZ3JvdXAnKSArICc6J31cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPFFpZ0Ryb3BEb3duIGRyb3BEb3duVHlwZSA9IHtlbnVtcy5Ecm9wRG93blR5cGUuUUlHfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA9IHsnc2VsZWN0X3FpZyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlID0ge3RoaXMuc3RhdGUucWlnRHJvcERvd25TdHlsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0geydkcm9wZG93bi13cmFwIG1lc3NhZ2UtcWlnLW5hbWUnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW0gPSB7IHRoaXMuc2VsZWN0ZWRRaWcgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc09wZW4gPSB7dGhpcy5jbGlja2VkRHJvcERvd24gPT09IGVudW1zLkRyb3BEb3duVHlwZS5RSUcgPyB0aGlzLmlzUWlnRHJvcERvd25PcGVuIDogdW5kZWZpbmVkIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSB7dGhpcy5wcm9wcy5xaWdJdGVtc0xpc3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2sgPSB7IHRoaXMub25RaWdEcm9wRG93bkNsaWNrIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9e3RoaXMub25RaWdJdGVtU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLnF1ZXN0aW9uLWdyb3VwLXRvb2x0aXAnKX0gLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hGb3J3YXJkOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94UmVwbHk6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuV29ya2xpc3RDb21wb3NlOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLlRlYW1Db21wb3NlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT0nbWVzc2FnZS1xaWcnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nZGltLXRleHQgbXNnLXFpZy1sYWJlbCcgaWQ9J3F1ZXN0aW9uLWdyb3VwLXRleHQnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UucXVlc3Rpb24tZ3JvdXAnKSArICc6JyB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZXNzYWdlLXFpZy1uYW1lJyBpZD0nc2VsZWN0ZWQtcWlnLW5hbWUnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zZWxlY3RlZFFpZyB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj4pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiBhc3NvY2l0YXRlZCByZXNwb25zZSBzZWN0aW9uIGZvciBGb3J3YXJkIGFuZCBSZXBseSBtZXNzYWdlIHR5cGVzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyQXNzb2NpYXRlZFJlc3BvbnNlU2VjdGlvbiA9ICgpID0+IHtcclxuICAgICAgICBpZiAoKHRoaXMucHJvcHMubWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Rm9yd2FyZCB8fCB0aGlzLnByb3BzLm1lc3NhZ2VUeXBlID09PSBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveFJlcGx5KVxyXG4gICAgICAgICAgICAmJiAodGhpcy5wcm9wcy5yZXNwb25zZUlkICE9IG51bGwgJiYgdGhpcy5wcm9wcy5yZXNwb25zZUlkICE9PSAnJyAmJiB0aGlzLnByb3BzLnJlc3BvbnNlSWQgIT09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT0nY2xlYXJmaXggcGFkZGluZy1ib3R0b20tMTAnPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbXAtcmVzcC1pZCBzaGlmdC1sZWZ0Jz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2RpbS10ZXh0JyBpZD0nYXNzb2NpYXRlZC1yZXNwb25zZS10ZXh0Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLmFzc29jaWF0ZWQtcmVzcG9uc2UnKSArICc6JyB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZXNzYWdlLXJlc29uc2UtaWQnIGlkPSdhc3NvY2lhdGVkLXJlc3BvbnNlLWlkJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2VIZWxwZXIuZ2V0TWFya2luZ01vZGVUZXh0KHRoaXMucHJvcHMuc2VsZWN0ZWRNc2dEZXRhaWxzLm1hcmtpbmdNb2RlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlbGVjdGVkTXNnRGV0YWlscy5pc0VsZWN0cm9uaWNTdGFuZGFyZGlzYXRpb25UZWFtTWVtYmVyKSArIHRoaXMucHJvcHMucmVzcG9uc2VJZH1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj4pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGNhbGwgb24gcWlnIGRyb3Bkb3duIHNlbGVjdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUWlnSXRlbVNlbGVjdGVkID0gKHNlbGVjdGVkSXRlbTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgLy8gcmVzZXR0aW5nIHRvIHN0YW5kYXJkIG1lc3NhZ2UgcHJpb3JpdHkgd2hpbGUgcWlnIHNlbGVjdGVkXHJcbiAgICAgICAgdGhpcy5wcmlvcml0eURyb3BEb3duU2VsZWN0ZWRJdGVtID0gZW51bXMuTWVzc2FnZVByaW9yaXR5LlN0YW5kYXJkO1xyXG4gICAgICAgIHRoaXMucHJvcHMub25RaWdJdGVtU2VsZWN0ZWQoc2VsZWN0ZWRJdGVtKTtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRRaWdJdGVtID0gdGhpcy5wcm9wcy5xaWdJdGVtc0xpc3QuZmlsdGVyKCh4OiBJdGVtKSA9PiB4LmlkID09PSBzZWxlY3RlZEl0ZW0pO1xyXG4gICAgICAgIGxldCBxaWdJZDogbnVtYmVyID0gc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgIGxldCBleGFtaW5lclJvbGVJZDogbnVtYmVyID0gc2VsZWN0ZWRRaWdJdGVtWzBdLmV4YW1pbmVyUm9sZUlkO1xyXG4gICAgICAgIGxldCBhcmdzOiB0ZWFtQXJndW1lbnQgPSB7XHJcbiAgICAgICAgICAgIGV4YW1pbmVyUm9sZUlkOiBleGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgcWlnSWQ6IHFpZ0lkXHJcbiAgICAgICAgfTtcclxuICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLmdldFRlYW1EZXRhaWxzKGFyZ3MpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIG5hdmlnYXRlIGF3YXkgZnJvbSBpbmJveFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uTmF2aWdhdGVBd2F5RnJvbUluYm94ID0gKG5hdmlnYXRlVG86IGVudW1zLlNhdmVBbmROYXZpZ2F0ZSkgPT4ge1xyXG4gICAgICAgIGlmICgobmF2aWdhdGVUbyA9PT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvUmVwbHlNZXNzYWdlIHx8IG5hdmlnYXRlVG8gPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b0ZvcndhcmRNZXNzYWdlIHx8XHJcbiAgICAgICAgICAgIG5hdmlnYXRlVG8gPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5uZXdNZXNzYWdlQnV0dG9uQ2xpY2spXHJcbiAgICAgICAgICAgICYmICFtZXNzYWdlSGVscGVyLmlzTWVzc2FnZVBhbmVsRWRpdGVkKHRoaXMucHJvcHMubWVzc2FnZVR5cGUsIHRoaXMudG9GaWVsZFZhbHVlcywgdGhpcy50b0ZpZWxkSWRzKSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uUmVzZXRQb3B1cENhbGxiYWNrKG5hdmlnYXRlVG8pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub25OYXZpZ2F0ZUF3YXlGcm9tUmVzcG9uc2UobmF2aWdhdGVUbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqICBUaGlzIHdpbGwgc2V0IHRoZSByZXF1aXJlZCB2YXJpYWJsZXNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk9wZW4gPSAobWVzc2FnZVR5cGU6IGVudW1zLk1lc3NhZ2VUeXBlKSA9PiB7XHJcbiAgICAgICAgLy8gaWYgdGlueW1jZSBpcyBub3QgbG9hZGVkIHdlIG5lZWQgdG8gc2tpcCB0aGlzIG1ldGhvZCBhbmQgcmV0cmlnZ2VyIHRoaXMgYWZ0ZXIgZWRpdG9yIGlzIGxvYWRlZFxyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5pc1RpbnlNQ0VMb2FkZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5kb1RyaWdnZXJNZXNzYWdlT3BlbkV2ZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5tc2dUeXBlID0gbWVzc2FnZVR5cGU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIG1lc3NhZ2UgdHlwZSBpcyBpbmJveCBjb21wb3NlIG9yIHdvcmtsaXN0IGNvbXBvc2UgdGhlbiBzZXQgdGhlIGRlZmF1bHQgY29udGVudCBmb3Igc2V0dGluZyBkZWZhdWx0IGZvbnRzXHJcbiAgICAgICAgaWYgKG1lc3NhZ2VUeXBlID09PSBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveENvbXBvc2UgfHwgbWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLldvcmtsaXN0Q29tcG9zZSB8fFxyXG4gICAgICAgICAgICBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuVGVhbUNvbXBvc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlQm9keSA9IG1lc3NhZ2VIZWxwZXIuZ2V0TWVzc2FnZUNvbnRlbnQobWVzc2FnZVR5cGUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc01lc3NhZ2VQb3B1cE1pbmltaXplZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbk1heGltaXplTWVzc2FnZVBhbmVsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIG1lc3NhZ2UgdHlwZSBpcyB3b3JrIGxpc3QgY29tcG9zZSB0aGVuIHNldCBzdXBlcnZpc2lvciBkZXRhaWxzIGluIHRvIGFkZHJlc3MgZmllbGRzLlxyXG4gICAgICAgIGlmIChtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuV29ya2xpc3RDb21wb3NlIHx8IG1lc3NhZ2VUeXBlID09PSBlbnVtcy5NZXNzYWdlVHlwZS5UZWFtQ29tcG9zZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RlZFRlYW1MaXN0ID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuICAgICAgICAgICAgdGhpcy50b0ZpZWxkSWRzID0gbmV3IEFycmF5PG51bWJlcj4oKTtcclxuICAgICAgICAgICAgdGhpcy50b0ZpZWxkVmFsdWVzID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuICAgICAgICAgICAgdGhpcy50b0ZpZWxkSWRzLnB1c2godGhpcy5wcm9wcy5zdXBlcnZpc29ySWQpO1xyXG4gICAgICAgICAgICB0aGlzLnRvRmllbGRWYWx1ZXMucHVzaCh0aGlzLnByb3BzLnN1cGVydmlzb3JOYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRUZWFtTGlzdC5wdXNoKHRoaXMucHJvcHMuc3VwZXJ2aXNvck5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGaXggZm9yIGRlZmVjdCA1NDI3Ni4gUmVwbHkgZm9yd2FyZCBtZXNzYWdlIGRldGFpbHMgaGFzIHRvIGJlIHNldCBvbmx5IG9uY2UuIFxyXG4gICAgICAgIGlmIChtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hSZXBseSB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hGb3J3YXJkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW5ib3hGb3J3YXJkUmVwbHlNZXNzYWdlRGV0YWlscygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRml4IGZvciBkZWZlY3QgNTQyNzYuIFJlcGx5IGZvcndhcmQgbWVzc2FnZSBkZXRhaWxzIGhhcyB0byBiZSBzZXQgb25seSBvbmNlLiBcclxuICAgICAgICBpZiAobWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94UmVwbHkgfHwgbWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Rm9yd2FyZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEluYm94Rm9yd2FyZFJlcGx5TWVzc2FnZURldGFpbHMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZpeCBmb3IgZGVmZWN0IDU0Mjc2LiBSZXBseSBmb3J3YXJkIG1lc3NhZ2UgZGV0YWlscyBoYXMgdG8gYmUgc2V0IG9ubHkgb25jZS4gXHJcbiAgICAgICAgaWYgKG1lc3NhZ2VUeXBlID09PSBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveFJlcGx5IHx8IG1lc3NhZ2VUeXBlID09PSBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveEZvcndhcmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRJbmJveEZvcndhcmRSZXBseU1lc3NhZ2VEZXRhaWxzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSB9KTtcclxuICAgICAgICAvLyBlbmFibGUgc2VuZCBidXR0b25cclxuICAgICAgICB0aGlzLmVuYWJsZURpc2FibGVTZW5kQnV0dG9uKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIGZpcmVkIHRvIG1pbmltaXplIHRoZSBtZXNzYWdlIHBhbmVsLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uTWluaW1pemVNZXNzYWdlUGFuZWwgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gYWRkZWQgYXMgcGFydCBvZiBkZWZlY3QgIzI5MjY5XHJcbiAgICAgICAgaWYgKGh0bWxVdGlsaXRpZXMuaXNJUGFkRGV2aWNlKSB7XHJcbiAgICAgICAgICAgIGh0bWxVdGlsaXRpZXMuc2V0Rm9jdXNUb0VsZW1lbnQoJ21lc3NhZ2Utc3ViamVjdCcpO1xyXG4gICAgICAgICAgICBodG1sVXRpbGl0aWVzLmJsdXJFbGVtZW50KCdtZXNzYWdlLXN1YmplY3QnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pc01lc3NhZ2VQb3B1cE1pbmltaXplZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIGZpcmVkIHRvIG1heGltaXplIHRoZSBtZXNzYWdlIHBhbmVsLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uTWF4aW1pemVNZXNzYWdlUGFuZWwgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc01lc3NhZ2VQb3B1cE1pbmltaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZW5kZXJlZE9uOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgICAgIC8vIGVuYWJsZSBzZW5kIGJ1dHRvblxyXG4gICAgICAgIHRoaXMuZW5hYmxlRGlzYWJsZVNlbmRCdXR0b24oKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgZmlyZWQgdG8gY2xvc2UgdGhlIG1lc3NhZ2UgcGFuZWwuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25NZXNzYWdlUGFuZWxDbG9zZSA9ICgpID0+IHtcclxuICAgICAgICBrZXlEb3duSGVscGVyLmluc3RhbmNlLkFjdGl2YXRlKGVudW1zLk1hcmtFbnRyeURlYWN0aXZhdG9yLk1lc3NhZ2luZyk7XHJcbiAgICAgICAgdGhpcy5pc01lc3NhZ2VQb3B1cE1pbmltaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZVN1YmplY3QgPSAnJztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRRaWdJdGVtSWQgJiYgdGhpcy5zZWxlY3RlZFFpZ0l0ZW1JZCAhPT0gMCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRRaWdJdGVtID0gdGhpcy5wcm9wcy5xaWdJdGVtc0xpc3QuZmlsdGVyKCh4OiBJdGVtKSA9PiB4LmlkID09PSB0aGlzLnNlbGVjdGVkUWlnSXRlbUlkKTtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUWlnSXRlbSAmJiBzZWxlY3RlZFFpZ0l0ZW0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHFpZ0lkOiBudW1iZXIgPSB0aGlzLnNlbGVjdGVkUWlnSXRlbUlkO1xyXG4gICAgICAgICAgICAgICAgbGV0IGV4YW1pbmVyUm9sZUlkOiBudW1iZXIgPSBzZWxlY3RlZFFpZ0l0ZW1bMF0uZXhhbWluZXJSb2xlSWQ7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLmNsZWFyVGVhbVNlbGVjdGlvbihleGFtaW5lclJvbGVJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRUZWFtTGlzdCA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcbiAgICAgICAgdGhpcy5faXNFbnRpcmVUZWFtU2VsZWN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGVmZWN0IDY0NTQyIGZpeDogc2V0dGluZyBpc1Nob3dUZWFtTGlzdFBvcHVwIHRvIGZhbHNlIHRvIHByZXZlbnQgVGVhbUxpc3QgUG9wdXAgZnJvbSBwZXJzaXN0aW5nIFxyXG4gICAgICAgICAqIHdoZW4gY2xvc2luZyBhbmQgb3BlbmluZyBhIG5ldyBtZXNzYWdlIHdpdGggb25seSAxIFFJRyBpdGVtXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5pc1Nob3dUZWFtTGlzdFBvcHVwID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgaGFuZGxpbmcgdGhlIGxldGlvdXMgcG9wdXAgZXZlbnRzLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUG9wVXBEaXNwbGF5RXZlbnQgPSAocG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUsIHBvcFVwQWN0aW9uVHlwZTogZW51bXMuUG9wVXBBY3Rpb25UeXBlKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChwb3BVcFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZE1lc3NhZ2U6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRNZXNzYWdlTmF2aWdhdGVBd2F5OlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChwb3BVcEFjdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlBvcFVwQWN0aW9uVHlwZS5ZZXM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwSGVscGVyLmhhbmRsZVBvcFVwRXZlbnRzKHBvcFVwVHlwZSwgcG9wVXBBY3Rpb25UeXBlLCB0aGlzLm9uRGlzY2FyZE1lc3NhZ2VDb25maXJtZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlBvcFVwQWN0aW9uVHlwZS5ObzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBIZWxwZXIuaGFuZGxlUG9wVXBFdmVudHMocG9wVXBUeXBlLCBwb3BVcEFjdGlvblR5cGUsIHRoaXMub25EaXNjYXJkTWVzc2FnZUNhbmNlbGxlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRPbk5ld01lc3NhZ2VCdXR0b25DbGljazpcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAocG9wVXBBY3Rpb25UeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuU2hvdzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc01lc3NhZ2VQb3B1cE1pbmltaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuWWVzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEhlbHBlci5oYW5kbGVQb3BVcEV2ZW50cyhwb3BVcFR5cGUsIHBvcFVwQWN0aW9uVHlwZSwgdGhpcy5vbkRpc2NhcmROZXdQb3B1cENvbmZpcm1lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBBY3Rpb25UeXBlLk5vOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1Jlc2V0IHRoZSBuYXZpZ2F0ZSB0byB2YXJpYWJsZSB3aGVuIHRoZSB1c2VyIGNob29zZXMgdG8gc3RheSBvbiB0aGUgbWVzc2FnZSBwYW5lbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlVG8gPSBlbnVtcy5TYXZlQW5kTmF2aWdhdGUubm9uZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgb25EaXNjYXJkTmV3UG9wdXBDb25maXJtZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMubmF2aWdhdGVUbyA9PT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm5ld01lc3NhZ2VCdXR0b25DbGljaykge1xyXG4gICAgICAgICAgICB0aGlzLnByaW9yaXR5RHJvcERvd25TZWxlY3RlZEl0ZW0gPSBlbnVtcy5NZXNzYWdlUHJpb3JpdHkuU3RhbmRhcmQ7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZVN1YmplY3QgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlQm9keSA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLmlzRHJvcERvd25PcGVuID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLmlzUWlnRHJvcERvd25PcGVuID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLnRvRmllbGRWYWx1ZXMgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnRvRmllbGRJZHMgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RlZFRlYW1MaXN0ID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuICAgICAgICAgICAgdGhpcy5faXNFbnRpcmVUZWFtU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGlueW1jZS5hY3RpdmVFZGl0b3Iuc2V0Q29udGVudCgnJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlRGlzYWJsZVNlbmRCdXR0b24oKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblJlc2V0UG9wdXBDYWxsYmFjayh0aGlzLm5hdmlnYXRlVG8pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25SZXNldFBvcHVwQ2FsbGJhY2sodGhpcy5uYXZpZ2F0ZVRvKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvID0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm5vbmU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBkcm9wZG93biBjbGlja1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUWlnRHJvcERvd25DbGljayA9IChkcm9wRG93bjogZW51bXMuRHJvcERvd25UeXBlLCB3aWR0aDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKHdpZHRoKSB7XHJcbiAgICAgICAgICAgIGxldCBzdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHt9O1xyXG4gICAgICAgICAgICBzdHlsZS5taW5XaWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHFpZ0Ryb3BEb3duU3R5bGU6IHN0eWxlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uRHJvcERvd25DbGljayhkcm9wRG93bik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVG8gYXZvaWQgdGhlIHFpZ3MgaW4gd2hpY2ggdGhlIHNlbGVjdGVkIGV4YW1pbmVyIGhhcyBubyBzdXBlcnZpc29yXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5PEl0ZW0+fSBxaWdJdGVtc0xpc3RcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZmlsdGVyUWlnSXRlbXMocWlnSXRlbXNMaXN0OiBBcnJheTxJdGVtPik6IEFycmF5PEl0ZW0+IHtcclxuICAgICAgICByZXR1cm4gcWlnSXRlbXNMaXN0LmZpbHRlcigoeDogSXRlbSkgPT4geC5wYXJlbnRFeGFtaW5lcklkICE9PSAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRvIHNob3cgbWFkYXRvcnkgbWVzc2FnZSBwcmlvcml0eSBvcHRpb24gaW4gZHJvcGRvd25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBkb1Nob3dNYW5kYXRvcnlNZXNzYWdlUHJpb3JpdHkoKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGxldCBpc01hbmRhdG9yeVByaW9yaXR5QXZhaWxhYmxlOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIE1hbmRhdG9yeSBNZXNzYWdlIFByaW9yaXR5IGlzIGF2YWlsYWJpbGl0eSBvbmx5IGlmIDpcclxuICAgICAgICAvLyAxLiBJdCBpcyBhIFRlYW1Db21wb3NlIGFzIFRlYW1Db21wb3NlIGlzIGFsd2F5cyB0byBzdWJvcmRpbmF0ZXMuIE9SXHJcbiAgICAgICAgLy8gMi4gSWYgbm90IFdvcmtsaXN0Q29tcG9zZSBhcyBXb3JrbGlzdENvbXBvc2Ugd2lsbCBiZSBhbHdheXMgdG8gU3VwZXJ2aXNvci4gQU5EXHJcbiAgICAgICAgLy8gICAgICAoaSkuW1FJRyBpcyBub3Qgc2VsZWN0ZWQuXSBPUlxyXG4gICAgICAgIC8vICAgICAgKGlpKS5bSWYgUUlHIGlzIHNlbGVjdGVkIEFORCB0aGVyZSBhcmUgbm8gc2VsZWN0ZWQgZXhhbWluZXJzLl0gT1JcclxuICAgICAgICAvLyAgICAgIChpaWkpLltJZiBRSUcgaXMgc2VsZWN0ZWQgQU5EIHRoZXJlIGFyZSBzZWxlY3RlZCBleGFtaW5lcnMgQU5EIGF0bGVhc3Qgb25lIHN1Ym9yZGluYXRlIGlzIHNlbGVjdGVkLl1cclxuICAgICAgICAvLyBQUyA6IFJlc3BvbnNlQ29tcG9zZSBTY2VuYXJpb3MgYXJlIGhhbmRsZWQgaW4gbWVzc2FnZS50c3hcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLlRlYW1Db21wb3NlIHx8XHJcbiAgICAgICAgICAgICh0aGlzLnByb3BzLm1lc3NhZ2VUeXBlICE9PSBlbnVtcy5NZXNzYWdlVHlwZS5Xb3JrbGlzdENvbXBvc2UgJiZcclxuICAgICAgICAgICAgICAodGhpcy5zZWxlY3RlZFFpZ0l0ZW1JZCA9PT0gMCB8fFxyXG4gICAgICAgICAgICAgICh0aGlzLnNlbGVjdGVkUWlnSXRlbUlkID4gMCAmJiB0aGlzLl9zZWxlY3RlZFRlYW1MaXN0ICYmIHRoaXMuX3NlbGVjdGVkVGVhbUxpc3QubGVuZ3RoID09PSAwKSB8fFxyXG4gICAgICAgICAgICAgICh0aGlzLnNlbGVjdGVkUWlnSXRlbUlkID4gMCAmJiB0aGlzLl9zZWxlY3RlZFRlYW1MaXN0ICYmIHRoaXMuX3NlbGVjdGVkVGVhbUxpc3QubGVuZ3RoID4gMCAmJiB0aGlzLmlzU3Vib3JkaW5hdGVTZWxlY3RlZCkpKSkge1xyXG5cclxuICAgICAgICAgICAgaXNNYW5kYXRvcnlQcmlvcml0eUF2YWlsYWJsZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5xaWdJdGVtc0xpc3QubGVuZ3RoID4gMCAmJiB0aGlzLnNlbGVjdGVkUWlnSXRlbUlkID4gMCkge1xyXG5cclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkUWlnID0gdGhpcy5wcm9wcy5xaWdJdGVtc0xpc3QuZmlsdGVyKCh4OiBJdGVtKSA9PiB4LmlkID09PSB0aGlzLnNlbGVjdGVkUWlnSXRlbUlkKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50RXhhbWluZXJBcHByb3ZhbFN0YXR1czogZW51bXMuRXhhbWluZXJBcHByb3ZhbCA9IHNlbGVjdGVkUWlnWzBdLmFwcHJvdmFsU3RhdHVzSWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoY3VycmVudEV4YW1pbmVyQXBwcm92YWxTdGF0dXMgPT09IGVudW1zLkV4YW1pbmVyQXBwcm92YWwuTm90QXBwcm92ZWQgfHxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRFeGFtaW5lckFwcHJvdmFsU3RhdHVzID09PSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLlN1c3BlbmRlZCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlzTWFuZGF0b3J5UHJpb3JpdHlBdmFpbGFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9tYW5kYXRvcnlNZXNzYWdlc0Zyb21NYXJraW5nVG9vbENDICYmIGlzTWFuZGF0b3J5UHJpb3JpdHlBdmFpbGFibGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzaG93IG9yIGhpZGUgJ1RvJyBidXR0b25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBkb0hpZGVUb0J1dHRvbigpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgX3N1Ym9yZGluYXRlczogQXJyYXk8RXhhbWluZXJJbmZvPiA9IG51bGw7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscyAmJlxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UudGVhbURldGFpbHMudGVhbSAmJlxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UudGVhbURldGFpbHMudGVhbS5zdWJvcmRpbmF0ZXMpIHtcclxuICAgICAgICAgICAgX3N1Ym9yZGluYXRlcyA9IG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscy50ZWFtLnN1Ym9yZGluYXRlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICgoX3N1Ym9yZGluYXRlcyAmJiBfc3Vib3JkaW5hdGVzLmxlbmd0aCkgPT09IDAgfHxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5tZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hSZXBseSB8fFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm1lc3NhZ2VUeXBlID09PSBlbnVtcy5NZXNzYWdlVHlwZS5Xb3JrbGlzdENvbXBvc2UgfHxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5tZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuVGVhbUNvbXBvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd1RvQWRkcmVzc0xpc3QgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5pc1Nob3dUZWFtTGlzdFBvcHVwID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBoaWRlVG9BZGRyZXNzTGlzdCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNzaG93VG9BZGRyZXNzTGlzdDogZmFsc2UgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgc2F2ZVRvQWRkcmVzc0xpc3QgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzc2hvd1RvQWRkcmVzc0xpc3Q6IGZhbHNlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZXMgdGhlIGFjdGlvbiBldmVudCBvbiB0ZWFtIGxpc3QgUmVjZWl2ZWQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdXBkYXRlZFRlYW1MaXN0UmVjZWl2ZWQgPSAoaXNTYXZlZDogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XHJcblxyXG4gICAgICAgIHRoaXMudG9GaWVsZFZhbHVlcyA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcbiAgICAgICAgdGhpcy50b0ZpZWxkSWRzID0gbmV3IEFycmF5PG51bWJlcj4oKTtcclxuICAgICAgICB0aGlzLl9zZWxlY3RlZFRlYW1MaXN0ID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgdGhpcy5faXNFbnRpcmVUZWFtU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzU3Vib3JkaW5hdGVTZWxlY3RlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBsZXQgdGVhbXMgPSBtZXNzYWdlU3RvcmUuaW5zdGFuY2UudGVhbURldGFpbHM7XHJcblxyXG4gICAgICAgIGlmICh0ZWFtcyAmJiB0ZWFtcy50ZWFtKSB7XHJcbiAgICAgICAgICAgIGlmICh0ZWFtcy50ZWFtLnRvVGVhbSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNFbnRpcmVUZWFtU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1N1Ym9yZGluYXRlU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRlYW1zLnRlYW0ucGFyZW50ICYmIHRlYW1zLnRlYW0ucGFyZW50LmlzQ2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkVGVhbUxpc3QucHVzaCh0ZWFtcy50ZWFtLnBhcmVudC5mdWxsTmFtZSArICc7Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGVhbXMudGVhbS5zdWJvcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2VsZWN0ZWRTdWJvcmRpbmF0ZUxpc3QodGVhbXMudGVhbS5zdWJvcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB0aGUgbG9nZ2VkIGluIHVzZXIgaGFzIHN1Ym9yZGluYXRlcywgY2hlY2sgdGhlIHN0b3JlIGZvciBuZXcgVE8gbGlzdFxyXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgbm8gc3Vib3JkaW5hdGVzLCB0aGUgdGhlIHN1cGVydmlzb3IgZGV0YWlscyAoaWYgYW55KSB3aWxsIGJlIHBvcHVsYXRlZCB2aWEgcHJvcHNcclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscy50ZWFtLnN1Ym9yZGluYXRlcyAmJlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnRlYW1EZXRhaWxzLnRlYW0uc3Vib3JkaW5hdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdWxhdGVUb0ZpZWxkKHRlYW1zLnRlYW0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzU2hvd1RlYW1MaXN0UG9wdXAgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc1NhdmVkICYmIHRoaXMucHJpb3JpdHlEcm9wRG93blNlbGVjdGVkSXRlbSA9PT0gZW51bXMuTWVzc2FnZVByaW9yaXR5Lk1hbmRhdG9yeSAmJlxyXG4gICAgICAgICAgICAgICAgIXRoaXMuaXNTdWJvcmRpbmF0ZVNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLmRpc3BsYXlNYW5kYXRvcnlWYWxpZGF0aW9uUG9wdXAodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBvcHVsYXRlcyB0aGUgVG8gRmllbGRzIGJhc2VkIG9uIHRoZSB2YWx1ZXMgaW4gdGhlIHN0b3JlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcG9wdWxhdGVUb0ZpZWxkID0gKHRlYW06IEV4YW1pbmVySW5mbykgPT4ge1xyXG4gICAgICAgIGlmICh0ZWFtKSB7XHJcbiAgICAgICAgICAgIC8vIEFkZCBQYXJlbnQgRXhhbWluZXIgb2YgdGhlIGN1cnJlbnQgZXhhbWluZXIgaWYgdGhlIHBhcmVudCBpcyBzZWxlY3RlZFxyXG4gICAgICAgICAgICBpZiAodGVhbS5pc0N1cnJlbnRFeGFtaW5lciAmJiB0ZWFtLnBhcmVudCAmJiB0ZWFtLnBhcmVudC5pc0NoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9GaWVsZElkcy5wdXNoKHRlYW0ucGFyZW50LmV4YW1pbmVySWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b0ZpZWxkVmFsdWVzLnB1c2godGVhbS5wYXJlbnQuZnVsbE5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRlYW0uaXNDdXJyZW50RXhhbWluZXIgJiYgdGVhbS5pc0NoZWNrZWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvRmllbGRJZHMucHVzaCh0ZWFtLmV4YW1pbmVySWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b0ZpZWxkVmFsdWVzLnB1c2godGVhbS5mdWxsTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IHN1YlRlYW0gb2YgdGVhbS5zdWJvcmRpbmF0ZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdWxhdGVUb0ZpZWxkKHN1YlRlYW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgc2VsZWN0ZWQgc3Vib3JkaW5hdGVkIGxpc3QuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0U2VsZWN0ZWRTdWJvcmRpbmF0ZUxpc3QodGVhbUxpc3Q6IEFycmF5PEV4YW1pbmVySW5mbz4pIHtcclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgdGVhbUxpc3QubWFwKGZ1bmN0aW9uIChleGFtaW5lckluZm86IEV4YW1pbmVySW5mbykge1xyXG4gICAgICAgICAgICBpZiAoZXhhbWluZXJJbmZvLmlzQ2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5pc1N1Ym9yZGluYXRlU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhhdC5fc2VsZWN0ZWRUZWFtTGlzdC5wdXNoKGV4YW1pbmVySW5mby5mdWxsTmFtZSArICc7Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV4YW1pbmVySW5mby5zdWJvcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5nZXRTZWxlY3RlZFN1Ym9yZGluYXRlTGlzdChleGFtaW5lckluZm8uc3Vib3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEVuc3VyZSBSZXBseSBpcyBkb25lIHRvIGEgc3Vib3JkaW5hdGUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNSZXBseVRvU3Vib3JkaW5hdGUodGVhbUxpc3Q6IEFycmF5PEV4YW1pbmVySW5mbz4pOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgLy8gU3Vib3JpZGluYXRlcyBvZiB0aGUgY3VycmVudCBleGFtaW5lciB3aWxsIGJlIHBhc3NlZCBoZXJlXHJcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdGVkTWVzc2FnZS5mcm9tRXhhbWluZXJJZCBpcyBvbmUgYW1vbmcgdGhlbSwgc2V0IGlzU3Vib3JkaW5hdGUgYXMgdHJ1ZS5cclxuXHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIGxldCBpc1N1Ym9yZGluYXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRlYW1MaXN0Lm1hcChmdW5jdGlvbiAoZXhhbWluZXJJbmZvOiBFeGFtaW5lckluZm8pIHtcclxuICAgICAgICAgICAgaWYgKGV4YW1pbmVySW5mby5leGFtaW5lcklkID09PSB0aGF0LnByb3BzLnNlbGVjdGVkTWVzc2FnZS5mcm9tRXhhbWluZXJJZCkge1xyXG4gICAgICAgICAgICAgICAgaXNTdWJvcmRpbmF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV4YW1pbmVySW5mby5zdWJvcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5pc1JlcGx5VG9TdWJvcmRpbmF0ZShleGFtaW5lckluZm8uc3Vib3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaXNTdWJvcmRpbmF0ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZXMgdGhlIGFjdGlvbiBldmVudCBvbiBUbyBhZGRyZXNzIGxpc3QgUmVjZWl2ZWQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdGVhbUxpc3RSZWNlaXZlZCA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHRlYW1zID0gbWVzc2FnZVN0b3JlLmluc3RhbmNlLnRlYW1EZXRhaWxzO1xyXG4gICAgICAgIGxldCBxaWdJZDogbnVtYmVyID0gdGhpcy5wcm9wcy5zZWxlY3RlZFFpZ0l0ZW1JZDtcclxuICAgICAgICB0aGlzLl9kaXNhYmxlVG9CdXR0b25Gb3JTdGFuZGFyZGlzYXRpb25RaWcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy9GbGFnIHRvIGlkZW50aWZ5IHdoZXRoZXIgdGhlIHFpZyBpcyBpbiBzdGFuZGFyZGlzYXRpb24gc2V0dXAgcHJvZ3Jlc3NcclxuICAgICAgICBsZXQgc2VsZWN0ZWRRaWcgPSB0aGlzLnByb3BzLnFpZ0l0ZW1zTGlzdC5maWx0ZXIoKHg6IEl0ZW0pID0+IHguaWQgPT09IHRoaXMuc2VsZWN0ZWRRaWdJdGVtSWQpO1xyXG4gICAgICAgIGxldCBjb29yZGluYXRpb25Db21wbGV0ZSA9IHNlbGVjdGVkUWlnWzBdLmNvb3JkaW5hdGlvbkNvbXBsZXRlO1xyXG5cclxuICAgICAgICBpZiAodGVhbXMgJiYgdGVhbXMudGVhbS5zdWJvcmRpbmF0ZXMpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2lzRW50aXJlVGVhbVNlbGVjdGVkID0gdGVhbXMudGVhbS50b1RlYW07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRvRmllbGRWYWx1ZXMgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xyXG4gICAgICAgICAgICB0aGlzLnRvRmllbGRJZHMgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RlZFRlYW1MaXN0ID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMubWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94UmVwbHkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvRmllbGRJZHMucHVzaCh0aGlzLnByb3BzLnNlbGVjdGVkTWVzc2FnZS5mcm9tRXhhbWluZXJJZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvRmllbGRWYWx1ZXMucHVzaCh0aGlzLnByb3BzLnNlbGVjdGVkTWVzc2FnZS5leGFtaW5lckRldGFpbHMuZnVsbE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRUZWFtTGlzdC5wdXNoKHRoaXMucHJvcHMuc2VsZWN0ZWRNZXNzYWdlLmV4YW1pbmVyRGV0YWlscy5mdWxsTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU3Vib3JkaW5hdGVTZWxlY3RlZCA9IHRoaXMuaXNSZXBseVRvU3Vib3JkaW5hdGUodGVhbXMudGVhbS5zdWJvcmRpbmF0ZXMpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmICghY29vcmRpbmF0aW9uQ29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBtZXNzYWdlIGlzIGFnYWluc3Qgc3RhbmRhcmRpc2F0aW9uc2V0dXAgcWlnIG9yIHJlc3BvbnNlIHRoZSByZWNlaXZlciBcclxuICAgICAgICAgICAgICAgIC8vIHNob3VsZCBiZSBzdG0gcGFyZW50IGVsc2UgYWxsIHdvcmsgYXMgZXhpc3RpbmdcclxuICAgICAgICAgICAgICAgIGlmICh0ZWFtcy50ZWFtLnN0bVBhcmVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvRmllbGRJZHMucHVzaCh0ZWFtcy50ZWFtLnN0bVBhcmVudC5leGFtaW5lcklkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvRmllbGRWYWx1ZXMucHVzaCh0ZWFtcy50ZWFtLnN0bVBhcmVudC5mdWxsTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRUZWFtTGlzdC5wdXNoKHRlYW1zLnRlYW0uc3RtUGFyZW50LmZ1bGxOYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dUZWFtTGlzdFBvcHVwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1N1Ym9yZGluYXRlU2VsZWN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGlzYWJsaW5nIGJ1dHRvbiBpZiB0aGUgdXNlciBzZW5kcyBtZXNzYWdlIGFnYWluc3Qgc3RhbmRhcmRpc2F0aW9uIHJlc3BvbnNlIG9yIFFpZ1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVUb0J1dHRvbkZvclN0YW5kYXJkaXNhdGlvblFpZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGVhbXMudGVhbS5zdWJvcmRpbmF0ZXMubGVuZ3RoID09PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRlYW1zLnRlYW0ucGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNZXNzYWdlUGFuZWxUb1RhYkZvclBhcmVudCh0ZWFtcy50ZWFtLnBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KClcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHNldCBtZXNzYWdlIHBhbmVsIHByb3BlcnR5IGZvciBzZW5kaW5nIG1lc3NhZ2UgdG8gdGhlIHBhcmVudFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldE1lc3NhZ2VQYW5lbFRvVGFiRm9yUGFyZW50KHBhcmVudCA6IEV4YW1pbmVySW5mbyl7XHJcbiAgICAgICAgdGhpcy50b0ZpZWxkSWRzLnB1c2gocGFyZW50LmV4YW1pbmVySWQpO1xyXG4gICAgICAgIHRoaXMudG9GaWVsZFZhbHVlcy5wdXNoKHBhcmVudC5mdWxsTmFtZSk7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRUZWFtTGlzdC5wdXNoKHBhcmVudC5mdWxsTmFtZSk7XHJcbiAgICAgICAgdGhpcy5pc1N1Ym9yZGluYXRlU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZXMgdGhlIGFjdGlvbiBldmVudCBvbiBUbyBhZGRyZXNzIGxpc3QgUmVjZWl2ZWQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWVzc2FnZVByaW9yaXR5VXBkYXRlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJpb3JpdHlEcm9wRG93blNlbGVjdGVkSXRlbSA9IGVudW1zLk1lc3NhZ2VQcmlvcml0eS5TdGFuZGFyZDtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNoZWNrIHRvIGVuYWJsZSB0byBidXR0b25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBkb0Rpc2FibGVUb0J1dHRvbigpOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRRaWdJdGVtSWQgPT09IDAgfHxcclxuICAgICAgICAgICAgIW1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscyB8fFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UudGVhbURldGFpbHMudGVhbS5zdWJvcmRpbmF0ZXMubGVuZ3RoID09PSAwIHx8IHRoaXMuX2Rpc2FibGVUb0J1dHRvbkZvclN0YW5kYXJkaXNhdGlvblFpZykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBzZWxlY3RlZCBsYW5ndWFnZSBzdGF0ZSB1cG9uIHN1Y2Nlc3NmdWxsIGNvbmZpcm1hdGlvbiBmcm9tIGxvY2FsZSBzdG9yZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBsYW5ndWFnZUNoYW5nZWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KClcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBhY3Rpb24gZXZlbnQgb24gVG8gYWRkcmVzcyBsaXN0IFJlY2VpdmVkLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzVGlueU1DRUxvYWRlZCA9IChpc0xvYWRlZDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc1RpbnlNQ0VMb2FkZWQ6IGlzTG9hZGVkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IE1lc3NhZ2VQb3B1cDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvbWVzc2FnZS9tZXNzYWdlcG9wdXAudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQXVDQTtBQUFBO0FBZ0JBOzs7O0FBSUE7QUFDQTtBQUFBO0FBbkJBO0FBSUE7QUFFQTtBQUlBO0FBMlNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQU1BO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEyQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFlQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE5ekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFLQTtBQUVBO0FBU0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFHQTtBQUlBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBR0E7QUFDQTtBQVNBO0FBQ0E7QUFHQTtBQUlBO0FBR0E7QUFJQTtBQUdBO0FBU0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBK1BBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbUZBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUF3REE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtQkE7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 458:
/* no static exports found */
/* all exports used */
/*!***************************************************************************!*\
  !*** ./src/components/utility/grid/worklisthelpers/worklisthelperbase.ts ***!
  \***************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar MarkingProgress = __webpack_require__(/*! ../../../worklist/shared/markingprogress */ 369);\r\nvar LastUpdatedColumn = __webpack_require__(/*! ../../../worklist/shared/lastupdatedcolumn */ 388);\r\nvar totalMark = __webpack_require__(/*! ../../../worklist/shared/totalmarkdetail */ 391);\r\nvar responseIdColumn = __webpack_require__(/*! ../../../worklist/shared/responseidcolumn */ 1232);\r\nvar ResponseIdGridElement = __webpack_require__(/*! ../../../worklist/shared/responseidgridelement */ 370);\r\nvar allocatedDateColumn = __webpack_require__(/*! ../../../worklist/shared/allocateddatecolumn */ 1224);\r\nvar LinkedMessageIndicator = __webpack_require__(/*! ../../../worklist/shared/linkedmessageindicator */ 389);\r\nvar AccuracyIndicator = __webpack_require__(/*! ../../../worklist/shared/accuracyindicator */ 496);\r\nvar MarksDifferenceColumn = __webpack_require__(/*! ../../../worklist/shared/marksdifferencecolumn */ 1228);\r\nvar MarksDifference = __webpack_require__(/*! ../../../worklist/shared/marksdifference */ 592);\r\nvar LinkedExceptionIndicator = __webpack_require__(/*! ../../../worklist/shared/linkedexceptionindicator */ 1227);\r\nvar gracePeriodTime = __webpack_require__(/*! ../../../worklist/shared/graceperiodtime */ 591);\r\nvar localeStore = __webpack_require__(/*! ../../../../stores/locale/localestore */ 226);\r\nvar worklistValidatorFactory = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorfactory */ 319);\r\nvar worklistValidatorList = __webpack_require__(/*! ../../../../utility/worklistvalidators/worklistvalidatorlist */ 304);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar GenericComponentWrapper = __webpack_require__(/*! ../genericcomponentwrapper */ 365);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar allPageAnnotationIndicator = __webpack_require__(/*! ../../../worklist/shared/allpageannotationindicator */ 368);\r\nvar ResponseTypeLabel = __webpack_require__(/*! ../../../worklist/shared/responsetypelabel */ 593);\r\nvar ColumnHeader = __webpack_require__(/*! ../../../worklist/shared/columnheader */ 329);\r\nvar allocatedDateElement = __webpack_require__(/*! ../../../worklist/shared/allocateddate */ 1223);\r\nvar slaoannotationindicator = __webpack_require__(/*! ../../../worklist/shared/slaoannotationindicator */ 371);\r\nvar qualityFeedbackHelper = __webpack_require__(/*! ../../../../utility/qualityfeedback/qualityfeedbackhelper */ 309);\r\nvar QualityFeedbackBanner = __webpack_require__(/*! ../../../worklist/banner/qualityfeedbackbanner */ 585);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar jsonRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\nvar worklistGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/worklistgridcolumns.json */ 449);\r\nvar GenericTextColumn = __webpack_require__(/*! ../../../worklist/shared/generictextcolumn */ 387);\r\nvar worklistStore = __webpack_require__(/*! ../../../../stores/worklist/workliststore */ 231);\r\nvar comparerList = __webpack_require__(/*! ../../../../utility/sorting/sortbase/comparerlist */ 262);\r\nvar SampleLabel = __webpack_require__(/*! ../../../worklist/shared/samplelabel */ 1234);\r\nvar ReviewedByLabel = __webpack_require__(/*! ../../../worklist/shared/reviewedbylabel */ 1233);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../markeroperationmode/markeroperationmodefactory */ 232);\r\nvar OriginalMark = __webpack_require__(/*! ../../../worklist/shared/originalmarktotal */ 1230);\r\nvar OriginalMarkAccuracy = __webpack_require__(/*! ../../../worklist/shared/originalmarkaccuracy */ 1229);\r\nvar TagList = __webpack_require__(/*! ../../../response/responsescreen/taglist */ 313);\r\nvar allFilesNotViewedIndicator = __webpack_require__(/*! ../../../worklist/shared/allfilesnotviewedindicator */ 386);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../ecoursework/ecourseworkhelper */ 238);\r\nvar SupervisorReviewComment = __webpack_require__(/*! ../../../worklist/shared/supervisorreviewcomment */ 1236);\r\n/**\r\n * class for WorkList Helper implementation\r\n */\r\nvar WorklistHelperBase = /** @class */ (function () {\r\n    function WorklistHelperBase() {\r\n        this._dateLengthInPixel = 0;\r\n        this._isNonNumeric = false;\r\n    }\r\n    /**\r\n     * Get the Configurable characteristic value.\r\n     * @param ccName\r\n     * @returns\r\n     */\r\n    WorklistHelperBase.prototype.getCCValue = function (ccName, markSchemeGroupId) {\r\n        return configurableCharacteristicsHelper.getCharacteristicValue(ccName, markSchemeGroupId);\r\n    };\r\n    /**\r\n     * GenerateRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param responseListData - list of live open responses\r\n     * @param worklistType - type of the worklist choosen\r\n     * @param responseType - type of the response\r\n     * @param gridType - type of gridview tile/detail\r\n     * @returns grid row collection.\r\n     */\r\n    WorklistHelperBase.prototype.generateRowDefinion = function (responseListData, responseType, gridType) {\r\n        return this._immutableWorkListCollection;\r\n    };\r\n    /**\r\n     * GenerateTableHeader is used for generating header collection.\r\n     * @param responseType - type of the response\r\n     * @param worklistType - type of the worklist\r\n     * @param comparerName - type of the comparer Name\r\n     * @param sortDirection - type of the sort Direction ascending or descending\r\n     * @returns header collection.\r\n     */\r\n    WorklistHelperBase.prototype.generateTableHeader = function (responseType, worklistType, comparerName, sortDirection) {\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(worklistGridColumnsJson);\r\n        var _workListTableHeaderCollection = this.getTableHeaderForListView(worklistType, responseType, comparerName, sortDirection);\r\n        return _workListTableHeaderCollection;\r\n    };\r\n    /**\r\n     * GenerateRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param responseType - type of the response\r\n     * @param gridType - type of gridview tile/detail\r\n     * @returns grid row collection.\r\n     */\r\n    WorklistHelperBase.prototype.generateFrozenRowBody = function (responseListData, responseType, worklistType) {\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(worklistGridColumnsJson);\r\n        var _workListFrozenRowBodyCollection = this.getFrozenRowBodyForListView(responseListData, worklistType, responseType);\r\n        return _workListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Is used for generating row header collection for WorkList table\r\n     * @param responseListData - list of live open responses\r\n     * @param responseType - type of the response\r\n     * @param gridType - type of gridview tile/detail\r\n     * @returns grid row collection.\r\n     */\r\n    WorklistHelperBase.prototype.generateFrozenRowHeader = function (responseListData, responseType, worklistType, comparerName, sortDirection, isSortable) {\r\n        if (isSortable === void 0) { isSortable = true; }\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(worklistGridColumnsJson);\r\n        var _workListFrozenRowHeaderCollection = this.getFrozenRowHeaderForListView(worklistType, responseType, comparerName, sortDirection, isSortable);\r\n        return _workListFrozenRowHeaderCollection;\r\n    };\r\n    /**\r\n     * creating react element for the  TotalMark component\r\n     * @param responseData - response data\r\n     * @param hasNumericMark - flag for hasNumericMark\r\n     * @param maximumMark - maximum Mark for the response\r\n     * @param propsNames - prop names for the component\r\n     * @param seq - key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getTotalMarkElement = function (responseData, hasNumericMark, maximumMark, propsNames, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            isNonNumericMark: !hasNumericMark,\r\n            maximumMark: maximumMark,\r\n            totalMark: responseData[propsNames.totalMarkValue],\r\n            markingProgress: responseData[propsNames.markingProgress],\r\n            selectedLanguage: localeStore.instance.Locale\r\n        };\r\n        this._isNonNumeric = !hasNumericMark;\r\n        return React.createElement(totalMark, componentProps);\r\n    };\r\n    /**\r\n     * NOTE: allocatedDateColumn is Obsolete after New List view worklist Changes ***\r\n     * creating react element for the  allocatedDateColumn component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the component\r\n     * @param seq - key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getAllocatedDateElement = function (responseData, propsNames, seq, showAllocatedDateElement, showMarkingProgress, showGracePeriodTimeElement, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            dateValue: responseData[propsNames.allocatedDate] ? new Date(responseData[propsNames.allocatedDate]) : null,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isResponseHasSLAO: responseData[propsNames.hasAdditionalObjects],\r\n            isAllAnnotated: responseData[propsNames.hasAllPagesAnnotated],\r\n            markingProgress: showMarkingProgress ? responseData[propsNames.markingProgress] : 100,\r\n            showAllocatedDate: showAllocatedDateElement,\r\n            showTimeToEndofGracePeriod: showGracePeriodTimeElement,\r\n            timeToEndOfGracePeriod: responseData[propsNames.timeToEndOfGracePeriod],\r\n            isTileView: isTileView,\r\n            renderedOn: Date.now(),\r\n            markSchemeGroupId: responseData.markSchemeGroupId\r\n        };\r\n        return React.createElement(allocatedDateColumn, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  getGracePeriodElement component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the component\r\n     * @param seq - key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getGracePeriodElement = function (responseData, propsNames, seq, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            timeToEndOfGracePeriod: responseData[propsNames.timeToEndOfGracePeriod],\r\n            selectedLanguage: localeStore.instance.Locale\r\n        };\r\n        return React.createElement(gracePeriodTime, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  getSLAOIndicatorElement component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the component\r\n     * @param seq - key value for the component\r\n     * @param showMarkingProgress - key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getSLAOIndicatorElement = function (responseData, propsNames, seq, showMarkingProgress, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isResponseHasSLAO: responseData[propsNames.hasAdditionalObjects],\r\n            isAllAnnotated: responseData[propsNames.hasAllPagesAnnotated],\r\n            isMarkingCompleted: ((showMarkingProgress ? responseData[propsNames.markingProgress] : 100) === 100) ? true : false,\r\n            isTileView: isTileView,\r\n            markSchemeGroupId: responseData.markSchemeGroupId\r\n        };\r\n        return React.createElement(slaoannotationindicator, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  getAllPageAnnotatedIndicatorElement component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the component\r\n     * @param seq - key value for the component\r\n     * @param showMarkingProgress - key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getAllPageAnnotatedIndicatorElement = function (responseData, propsNames, seq, showMarkingProgress, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isAllAnnotated: responseData[propsNames.hasAllPagesAnnotated],\r\n            isMarkingCompleted: ((showMarkingProgress ? responseData[propsNames.markingProgress] : 100) === 100) ? true : false,\r\n            isTileView: isTileView,\r\n            markSchemeGroupId: responseData.markSchemeGroupId\r\n        };\r\n        return React.createElement(allPageAnnotationIndicator, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  getAllocatedDate component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the component\r\n     * @param seq - key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getAllocatedDate = function (responseData, propsNames, seq, showAllocatedDateElement) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            dateValue: responseData[propsNames.allocatedDate] ? new Date(responseData[propsNames.allocatedDate]) : null,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            showAllocatedDate: showAllocatedDateElement,\r\n            renderedOn: Date.now()\r\n        };\r\n        return React.createElement(allocatedDateElement, componentProps);\r\n    };\r\n    /**\r\n     * Creating react component for the LinkedMessage component\r\n     * @param {Response} responseData - response data\r\n     * @param {any} propsNames prop names for the component\r\n     * @param {number} seq key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getLinkedMessageElement = function (responseData, propsNames, seq, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            messageCount: responseData[propsNames.unreadMessagesCount],\r\n            hasMessages: responseData[propsNames.hasMessages],\r\n            displayId: responseData[propsNames.displayId],\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isTileView: isTileView,\r\n            isTeamManagementMode: markerOperationModeFactory.operationMode.isTeamManagementMode\r\n        };\r\n        return React.createElement(LinkedMessageIndicator, componentProps);\r\n    };\r\n    /**\r\n     * Creating react component for the AccuracyIndicator component\r\n     * @param {Response} responseData - response data\r\n     * @param {any} propsNames prop names for the component\r\n     * @param {number} seq key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getAccuracyIndicatorElement = function (responseData, propsNames, seq, isTileView) {\r\n        var componentProps;\r\n        var tileView = isTileView !== null ? isTileView : false;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            accuracyIndicator: responseData[propsNames.accuracyIndicatorTypeID],\r\n            isTileView: tileView,\r\n            selectedLanguage: localeStore.instance.Locale\r\n        };\r\n        return React.createElement(AccuracyIndicator, componentProps);\r\n    };\r\n    /**\r\n     * Creating react component for the MarksDifferenceColumn component\r\n     * @param {Response} responseData - response data\r\n     * @param {any} propsNames prop names for the component\r\n     * @param {number} seq key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getMarksDifferenceColumnElement = function (responseData, propsNames, seq, isTileView) {\r\n        var componentProps;\r\n        var tileView = isTileView !== null ? isTileView : false;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            absoluteMarksDifference: responseData[propsNames.absoluteMarksDifference],\r\n            totalMarksDifference: responseData[propsNames.totalMarksDifference],\r\n            accuracyIndicator: responseData[propsNames.accuracyIndicatorTypeID],\r\n            isTileView: tileView,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            showAccuracyIndicator: this.doShowAccuracyIndicator,\r\n            markSchemeGroupId: qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId\r\n        };\r\n        return React.createElement(MarksDifferenceColumn, componentProps);\r\n    };\r\n    /**\r\n     * Creating react component for the MarksDifferenceColumn component\r\n     * @param {Response} responseData - response data\r\n     * @param {any} propsNames prop names for the component\r\n     * @param {number} seq key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getMarksDifferenceElement = function (responseData, propsNames, seq, marksDifferenceType, isTileView) {\r\n        var componentProps;\r\n        var marksDifference;\r\n        var marksDifferenceText;\r\n        var title;\r\n        var className;\r\n        var classNameAmd = 'amd small-text';\r\n        var classNameTmd = 'tmd small-text';\r\n        var titleAmd = markerOperationModeFactory.operationMode.absoluteMarkDifferenceTitle;\r\n        var titleTmd = markerOperationModeFactory.operationMode.totalMarkDifferenceTitle;\r\n        var marksDifferenceTextAmd = 'marking.worklist.tile-view-labels.amd';\r\n        var marksDifferenceTextTmd = 'marking.worklist.tile-view-labels.tmd';\r\n        switch (marksDifferenceType) {\r\n            case enums.MarksDifferenceType.AbsoluteMarksDifference:\r\n                marksDifference = responseData[propsNames.absoluteMarksDifference];\r\n                marksDifferenceText = marksDifferenceTextAmd;\r\n                title = titleAmd;\r\n                className = classNameAmd;\r\n                break;\r\n            case enums.MarksDifferenceType.TotalMarksDifference:\r\n                marksDifference = responseData[propsNames.totalMarksDifference];\r\n                marksDifferenceText = marksDifferenceTextTmd;\r\n                title = titleTmd;\r\n                className = classNameTmd;\r\n                break;\r\n        }\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            className: className,\r\n            title: title,\r\n            //TODO: remove the below ternaries once the AMD,TMD and accuracy columns included in API and SP\r\n            marksDifference: (marksDifference) ? marksDifference : '',\r\n            marksDifferenceText: (marksDifferenceText) ? marksDifferenceText : '',\r\n            marksDifferenceType: (marksDifferenceType) ? marksDifferenceType : '',\r\n            isTileView: isTileView\r\n        };\r\n        return React.createElement(MarksDifference, componentProps);\r\n    };\r\n    /**\r\n     * Creating react component for Linked Exception component.\r\n     * @param {Response} responseData response data\r\n     * @param {any} propsNames prop names for the component\r\n     * @param {number} seq key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getLinkedExceptionElement = function (responseData, propsNames, seq, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            hasExceptions: responseData[propsNames.hasExceptions],\r\n            hasBlockingExceptions: responseData[propsNames.hasBlockingExceptions],\r\n            hasZoningExceptions: responseData[propsNames.hasZoningExceptions],\r\n            isZoningExceptionRaisedInSameScript: responseData[propsNames.isZoningExceptionRaisedInSameScript],\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            resolvedExceptionsCount: responseData[propsNames.resolvedExceptionsCount],\r\n            isTileView: isTileView,\r\n            displayId: responseData[propsNames.displayId],\r\n            isTeamManagementMode: markerOperationModeFactory.operationMode.isTeamManagementMode,\r\n            unactionedExceptionCount: responseData[propsNames.unactionedExceptionCount]\r\n        };\r\n        return React.createElement(LinkedExceptionIndicator, componentProps);\r\n    };\r\n    /**\r\n     * Get generic text column\r\n     * @param {string} textValue\r\n     * @param {any} propsNames\r\n     * @param {string} seq\r\n     * @returns\r\n     */\r\n    WorklistHelperBase.prototype.getGenericTextElement = function (textValue, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            textValue: textValue\r\n        };\r\n        return React.createElement(GenericTextColumn, componentProps);\r\n    };\r\n    /**\r\n     * Set row style to amber if the response has blocking exceptions\r\n     * or all pages are not annotated\r\n     * Set row style based on Accuracy Indicator\r\n     * @param responseStatus\r\n     * @param accuracyType\r\n     */\r\n    WorklistHelperBase.prototype.setRowStyle = function (responseStatus, accuracyType) {\r\n        var accuracy;\r\n        /**  'else' condition is put as the exception/ all pages annotated icons won't appear in Closed worklist */\r\n        if (worklistStore.instance.isMarkingCheckMode) {\r\n            return 'row';\r\n        }\r\n        else if (responseStatus.contains(enums.ResponseStatus.hasException) ||\r\n            responseStatus.contains(enums.ResponseStatus.hasZoningException) ||\r\n            responseStatus.contains(enums.ResponseStatus.notAllPagesAnnotated) ||\r\n            responseStatus.contains(enums.ResponseStatus.markChangeReasonNotExist) ||\r\n            responseStatus.contains(enums.ResponseStatus.supervisorRemarkDecisionNotSelected)) {\r\n            return 'row warning-alert';\r\n        }\r\n        else if (accuracyType !== null && this.doShowAccuracyIndicator) {\r\n            switch (accuracyType) {\r\n                case enums.AccuracyIndicatorType.Accurate:\r\n                case enums.AccuracyIndicatorType.AccurateNR:\r\n                    accuracy = 'row accurate';\r\n                    break;\r\n                case enums.AccuracyIndicatorType.OutsideTolerance:\r\n                case enums.AccuracyIndicatorType.OutsideToleranceNR:\r\n                    accuracy = 'row inaccurate';\r\n                    break;\r\n                case enums.AccuracyIndicatorType.WithinTolerance:\r\n                case enums.AccuracyIndicatorType.WithinToleranceNR:\r\n                    accuracy = 'row intolerance';\r\n                    break;\r\n                default:\r\n                    accuracy = 'row';\r\n                    break;\r\n            }\r\n            return accuracy;\r\n        }\r\n        else {\r\n            return 'row';\r\n        }\r\n    };\r\n    Object.defineProperty(WorklistHelperBase.prototype, \"doShowAccuracyIndicator\", {\r\n        get: function () {\r\n            return markerOperationModeFactory.operationMode.doShowAccuracyIndicator;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WorklistHelperBase.prototype, \"showSeedLabel\", {\r\n        /**\r\n         * returns true if the seed label should be displayed.\r\n         * @returns\r\n         */\r\n        get: function () {\r\n            var workListType = worklistStore.instance.currentWorklistType;\r\n            if (markerOperationModeFactory.operationMode.isAutomaticQualityFeedbackCCOn &&\r\n                (workListType === enums.WorklistType.live || workListType === enums.WorklistType.directedRemark)) {\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Set row title based on Accuracy Indicator\r\n     * @param accuracyType\r\n     */\r\n    WorklistHelperBase.prototype.setRowTitle = function (accuracyType) {\r\n        var title;\r\n        if (accuracyType !== null) {\r\n            switch (accuracyType) {\r\n                case enums.AccuracyIndicatorType.Accurate:\r\n                case enums.AccuracyIndicatorType.AccurateNR:\r\n                    title = markerOperationModeFactory.operationMode.accurateAccuracyIndicatorTitle;\r\n                    break;\r\n                case enums.AccuracyIndicatorType.OutsideTolerance:\r\n                case enums.AccuracyIndicatorType.OutsideToleranceNR:\r\n                    title = markerOperationModeFactory.operationMode.inaccurateAccuracyIndicatorTitle;\r\n                    break;\r\n                case enums.AccuracyIndicatorType.WithinTolerance:\r\n                case enums.AccuracyIndicatorType.WithinToleranceNR:\r\n                    title = markerOperationModeFactory.operationMode.intoleranceAccuracyIndicatorTitle;\r\n                    break;\r\n                default:\r\n                    title = '';\r\n                    break;\r\n            }\r\n            return title;\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    };\r\n    /**\r\n     * creating react element for the  MarkingProgress component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the MarkingProgress component\r\n     * @param seq - key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getMarkingProgressElement = function (responseData, propsNames, seq, responseStatuses, worklistType, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        var _worklistValidatorList = worklistValidatorList.liveOpen;\r\n        if (worklistStore.instance.currentWorklistType === enums.WorklistType.directedRemark) {\r\n            _worklistValidatorList = worklistValidatorList.directedRemarkOpen;\r\n        }\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            responseStatus: worklistValidatorFactory.getValidator(_worklistValidatorList).submitButtonValidate(responseData),\r\n            progress: responseData[propsNames.markingProgress],\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            markGroupId: responseData[propsNames.markGroupId],\r\n            isSubmitDisabled: markerOperationModeFactory.operationMode.isSubmitDisabled(worklistType),\r\n            isTileView: isTileView,\r\n            isTeamManagementMode: markerOperationModeFactory.operationMode.isTeamManagementMode\r\n        };\r\n        return React.createElement(MarkingProgress, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  MarkingProgress component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the MarkingProgress component\r\n     * @param seq - key value for the component\r\n     * @param responseMode - key value for the component\r\n     * @param isTileView - whether tile view\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getLastUpdatedElement = function (responseData, propsNames, seq, responseMode, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            dateType: responseMode === enums.ResponseMode.open || responseMode === enums.ResponseMode.pending ?\r\n                enums.WorkListDateType.lastUpdatedDate : enums.WorkListDateType.submittedDate,\r\n            dateValue: this.getDateValueForResponseIdElement(responseMode, responseData, propsNames),\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isTileView: isTileView\r\n        };\r\n        return React.createElement(LastUpdatedColumn, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  ResponseIdColumn component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the component\r\n     * @param seq - key value for the component\r\n     * @param displayText - the text to append with the display id.\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getResponseIdColumnElement = function (responseData, propsNames, seq, hasNumericMark, responseMode, displayText, isResponseIdClickable, isSeedResponse, isTileView, isResponseLabelType) {\r\n        if (isResponseIdClickable === void 0) { isResponseIdClickable = true; }\r\n        if (isSeedResponse === void 0) { isSeedResponse = false; }\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        var _displayId = ((displayText) ? displayText : '') + responseData[propsNames.displayId];\r\n        var qualityFeedbackCCOn = (configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.AutomaticQualityFeedback, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId) === 'true');\r\n        if ((responseData).isWholeResponse) {\r\n            isResponseLabelType = enums.ResponseType.WholeResponse;\r\n        }\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            displayId: _displayId,\r\n            isClickable: isResponseIdClickable,\r\n            worklistDateType: responseMode === enums.ResponseMode.open || responseMode === enums.ResponseMode.pending ?\r\n                enums.WorkListDateType.lastUpdatedDate : enums.WorkListDateType.submittedDate,\r\n            dateValue: this.getDateValueForResponseIdElement(responseMode, responseData, propsNames),\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isResponseTypeLabelVisible: ((responseData).isWholeResponse && (responseData).atypicalStatus === 0) ? true :\r\n                !markerOperationModeFactory.operationMode.isSeedLabelHidden\r\n                    && isSeedResponse && responseData.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown,\r\n            isTileView: isTileView,\r\n            hasNumericMark: hasNumericMark,\r\n            markingProgress: responseData.markingProgress,\r\n            totalMarkValue: responseData.totalMarkValue,\r\n            responseType: isResponseLabelType\r\n        };\r\n        return React.createElement(responseIdColumn, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  ResponseIdColumn component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the component\r\n     * @param seq - key value for the component\r\n     * @param displayText - the text to append with the display id.\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getResponseIdElement = function (responseData, propsNames, seq, displayText, isResponseIdClickable, isTileView) {\r\n        if (isResponseIdClickable === void 0) { isResponseIdClickable = true; }\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        var _displayText;\r\n        if (displayText) {\r\n            _displayText = (responseData[propsNames.rigOrder] !== 0 && !isTileView) ?\r\n                displayText + responseData[propsNames.rigOrder] + ' (' + responseData[propsNames.esDisplayId] + ')' :\r\n                displayText + responseData[propsNames.displayId];\r\n        }\r\n        else {\r\n            _displayText = responseData[propsNames.displayId];\r\n        }\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            displayId: responseData[propsNames.displayId],\r\n            displayText: _displayText,\r\n            isClickable: isResponseIdClickable,\r\n            isTileView: isTileView\r\n        };\r\n        return React.createElement(ResponseIdGridElement, componentProps);\r\n    };\r\n    /**\r\n     * get date value fpr response id column according to response mode\r\n     * @param responseMode\r\n     * @param response\r\n     * @param propsNames\r\n     */\r\n    WorklistHelperBase.prototype.getDateValueForResponseIdElement = function (responseMode, response, propsNames) {\r\n        var dateValue = undefined;\r\n        if (responseMode === enums.ResponseMode.open || responseMode === enums.ResponseMode.pending) {\r\n            dateValue = response[propsNames.updatedDate] ?\r\n                new Date(response[propsNames.updatedDate]) : null;\r\n        }\r\n        else {\r\n            dateValue = response[propsNames.submittedDate] ?\r\n                new Date(response[propsNames.submittedDate]) : null;\r\n        }\r\n        return dateValue;\r\n    };\r\n    /**\r\n     * create a wraper for grid column\r\n     * @param elements\r\n     * @param className\r\n     * @param seq\r\n     */\r\n    WorklistHelperBase.prototype.getWrappedColumn = function (elements, className, seq) {\r\n        var componentProps;\r\n        var _workListCell;\r\n        var _gridCell = new gridCell();\r\n        var element;\r\n        componentProps = {\r\n            key: seq,\r\n            divClassName: className,\r\n            componentList: elements\r\n        };\r\n        _workListCell = new gridCell();\r\n        _workListCell.columnElement = React.createElement(GenericComponentWrapper, componentProps);\r\n        return _workListCell;\r\n    };\r\n    /**\r\n     * creating grid columns collection\r\n     * @param gridgridLeftColumn\r\n     * @param gridMiddleColumn\r\n     * @param key\r\n     * @param gridRightColumn - to display AMD and TMD based on Accuracy Indicator\r\n     * @returns grid cell collection.\r\n     */\r\n    WorklistHelperBase.prototype.getGridCells = function (gridgridLeftColumn, gridMiddleColumn, key, gridRightColumn) {\r\n        var _gridCells = new Array();\r\n        _gridCells.push(this.getWrappedColumn(Immutable.List(gridgridLeftColumn), 'col left-col', 'Grid_left_' + key));\r\n        _gridCells.push(this.getWrappedColumn(Immutable.List(gridMiddleColumn), 'col centre-col', 'Grid_centre_' + key));\r\n        // create column for AMD and TMD only if gridRightColumn is not null\r\n        if (gridRightColumn !== null) {\r\n            _gridCells.push(this.getWrappedColumn(Immutable.List(gridRightColumn), 'col right-col', 'Grid_right_' + key));\r\n        }\r\n        return _gridCells;\r\n    };\r\n    /**\r\n     * creating grid row\r\n     * @param responseStatus\r\n     * @param displayId\r\n     * @param gridCells\r\n     * @param accuracyType - to display AMD and TMD based on Accuracy Indicator\r\n     * @returns grid row.\r\n     */\r\n    WorklistHelperBase.prototype.getGridRow = function (responseStatus, displayId, gridCells, accuracyType, additionalComponent, cssClass) {\r\n        var _gridRow = new gridRow();\r\n        var className = this.setRowStyle(responseStatus, accuracyType !== null ? accuracyType : null);\r\n        className = (cssClass) ? (className + ' ' + cssClass) : className;\r\n        _gridRow.setRowStyle(className);\r\n        _gridRow.setRowId(parseFloat(displayId));\r\n        _gridRow.setCells(gridCells);\r\n        _gridRow.setAdditionalElement(additionalComponent);\r\n        // setting row title based on Accuracy Indicator\r\n        _gridRow.setRowTitle(this.setRowTitle(accuracyType !== null ? accuracyType : null));\r\n        return _gridRow;\r\n    };\r\n    /**\r\n     * Group the elements based on the classNames.\r\n     * @param {string} groupClassName\r\n     * @param {string} seq\r\n     * @returns the grouped JSX.Element.\r\n     * @Summary groupClassName is the root element className and the column list may contain\r\n     * the key same as groupClassName. Then that will not group the elements instead add it as\r\n     * immediate child node.\r\n     */\r\n    WorklistHelperBase.prototype.groupColumnElements = function (groupClassName, seq) {\r\n        var elements = Immutable.List();\r\n        // loop through the class group names to find the child and group.\r\n        for (var key in this._groupColumns) {\r\n            if (this._groupColumns[key].values) {\r\n                var componentProps_1 = {\r\n                    id: this._groupColumns[key] + seq,\r\n                    key: this._groupColumns[key] + seq,\r\n                    divClassName: key,\r\n                    componentList: this._groupColumns[key].values\r\n                };\r\n                // If the key same as main group className then we dont need to create a childnode.\r\n                // treating it as immediate child of the main element.\r\n                if (key !== groupClassName) {\r\n                    elements = elements.push(React.createElement(GenericComponentWrapper, componentProps_1));\r\n                }\r\n                else {\r\n                    this._groupColumns[key].values.map(function (x) {\r\n                        elements = elements.push(x);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        var componentProps = {\r\n            id: groupClassName + seq,\r\n            key: groupClassName + seq,\r\n            divClassName: groupClassName,\r\n            componentList: elements\r\n        };\r\n        return React.createElement(GenericComponentWrapper, componentProps);\r\n    };\r\n    /**\r\n     * Show the AllPageAnnotationIndicator when the CC is on and marking is completed\r\n     * blocking submission.\r\n     * @param {ResponseBase} responseData\r\n     * @param {any} propsNames\r\n     * @param {string} seq\r\n     * @returns\r\n     */\r\n    WorklistHelperBase.prototype.getAllPageAnnotationIndicatorElement = function (responseData, propsNames, seq, isTileView, showMarkingProgress) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        if (showMarkingProgress === void 0) { showMarkingProgress = true; }\r\n        var isForceAnnotationCCOn = this.getCCValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, responseData.markSchemeGroupId);\r\n        var markingProgress = responseData[propsNames.markingProgress];\r\n        // we need to show this in tile view only if we 100% marked responses and\r\n        // all page annotation cc is on.\r\n        if (isForceAnnotationCCOn === 'true' && markingProgress === 100) {\r\n            var componentProps = void 0;\r\n            componentProps = {\r\n                key: seq,\r\n                id: seq,\r\n                selectedLanguage: localeStore.instance.Locale,\r\n                isAllAnnotated: responseData[propsNames.hasAllPagesAnnotated],\r\n                isMarkingCompleted: ((showMarkingProgress ? responseData[propsNames.markingProgress] : 100) === 100) ? true : false,\r\n                isTileView: isTileView,\r\n                markSchemeGroupId: responseData.markSchemeGroupId\r\n            };\r\n            var allPageElement = Immutable.List([React.createElement(allPageAnnotationIndicator, componentProps)]);\r\n            return this.getWrappedColumn(allPageElement, 'col wl-slao-holder', seq + 'wrapped').columnElement;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Start with fresh group.\r\n     */\r\n    WorklistHelperBase.prototype.emptyGroupColumns = function () {\r\n        // start with a fresh list of column group set.\r\n        this._groupColumns = {};\r\n    };\r\n    Object.defineProperty(WorklistHelperBase.prototype, \"groupColumns\", {\r\n        /**\r\n         * Return the group columns\r\n         * @returns\r\n         */\r\n        get: function () {\r\n            return this._groupColumns;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Mapping the each elements to a group.\r\n     * This add the elements to a dictionary which has className as key\r\n     * and list of elements that  grouped under the className.\r\n     * @param {string} className\r\n     * @param {JSX.Element} element\r\n     */\r\n    WorklistHelperBase.prototype.mapGroupColumns = function (className, element) {\r\n        // If not group class has been added create a new object\r\n        // otherwise add to the existing.\r\n        if (this._groupColumns[className] === undefined) {\r\n            this._groupColumns[className] = { values: Immutable.List() };\r\n        }\r\n        this._groupColumns[className].values = this._groupColumns[className].values.push(element);\r\n    };\r\n    /**\r\n     * Check if response is seed\r\n     * @param seedType\r\n     */\r\n    WorklistHelperBase.prototype.isSeedResponse = function (seedType) {\r\n        return seedType !== enums.SeedType.None ? true : false;\r\n    };\r\n    /**\r\n     * creating react element for the  Column Header component\r\n     * @param seq - key value for the component\r\n     * @param displayText - the text to append with the display id.\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getColumnHeaderElement = function (seq, headerText, gridColumn, isCurrentSort, isSortRequired, sortDirection) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            headerText: headerText,\r\n            sortDirection: sortDirection,\r\n            isCurrentSort: isCurrentSort,\r\n            isSortingRequired: isSortRequired\r\n        };\r\n        return React.createElement(ColumnHeader, componentProps);\r\n    };\r\n    /**\r\n     * Gets the response label type for worklist\r\n     *\r\n     * @protected\r\n     * @param {string} seq\r\n     * @param {boolean} [isResponseTypeLabelVisible]\r\n     * @param {enums.ResponseType} [responseType]\r\n     * @returns {JSX.Element}\r\n     * @memberof WorklistHelperBase\r\n     */\r\n    WorklistHelperBase.prototype.getResponseTypeLabel = function (seq, isResponseTypeLabelVisible, responseType) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            isResponseTypeLabelVisible: isResponseTypeLabelVisible,\r\n            responseType: responseType\r\n        };\r\n        return React.createElement(ResponseTypeLabel, componentProps);\r\n    };\r\n    /**\r\n     * returns the sample label element\r\n     * @param seq\r\n     * @param sampleCommentId\r\n     */\r\n    WorklistHelperBase.prototype.getSampleLabel = function (seq, sampleCommentId) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            sampleCommentId: sampleCommentId\r\n        };\r\n        return React.createElement(SampleLabel, componentProps);\r\n    };\r\n    /**\r\n     * returns the reviewed by label element\r\n     * @param seq\r\n     * @param responseData\r\n     */\r\n    WorklistHelperBase.prototype.getReviewedByLabel = function (seq, responseData) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            reviewedById: responseData.reviewedByRoleId,\r\n            reviewedByInitials: responseData.reviewedByInitials,\r\n            reviewedBySurname: responseData.reviewedBySurname,\r\n            isAutoChecked: !this.getSeniorExaminerPoolCCValue() && responseData.esMarkGroupStatus === enums.ESMarkGroupStatus.AutoChecked\r\n        };\r\n        return React.createElement(ReviewedByLabel, componentProps);\r\n    };\r\n    /**\r\n     * returns the QualityFeedbackBanner component\r\n     * @param index - row index\r\n     * @param worklistType\r\n     */\r\n    WorklistHelperBase.prototype.renderQualityFeedbackBanner = function (rowIndex, worklistType) {\r\n        var isQualityFeedbackMessageToBeDisplayed = qualityFeedbackHelper.isQualtiyHelperMessageNeededToBeDisplayed(worklistType);\r\n        if (rowIndex === 0 && isQualityFeedbackMessageToBeDisplayed) {\r\n            var componentProps = {\r\n                id: 'quality-feedback-banner',\r\n                key: 'quality-feedback-banner',\r\n                isAriaHidden: false,\r\n                selectedLanguage: localeStore.instance.Locale,\r\n                header: '',\r\n                message: qualityFeedbackHelper.getQualityFeedbackStatusMessage(),\r\n                role: '',\r\n                bannerType: enums.BannerType.QualityFeedbackBanner\r\n            };\r\n            return React.createElement(QualityFeedbackBanner, componentProps);\r\n        }\r\n    };\r\n    /**\r\n     * returns the OriginalMark React component\r\n     * @param seq\r\n     * @param responseData\r\n     */\r\n    WorklistHelperBase.prototype.getOriginalMarkElement = function (seq, responseData, propsNames, isVisible) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            isNonNumericMark: this._isNonNumeric,\r\n            originalMarkTotal: responseData[propsNames.originalMarkTotal],\r\n            isVisible: isVisible,\r\n            accuracyIndicatorType: responseData[propsNames.accuracyIndicatorTypeID]\r\n        };\r\n        return React.createElement(OriginalMark, componentProps);\r\n    };\r\n    /**\r\n     * returns the OriginalMark accuracy React component\r\n     * @param seq\r\n     * @param responseData\r\n     */\r\n    WorklistHelperBase.prototype.getOriginalMarkAccuracyElement = function (seq, responseData, propsNames, isVisible) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            isVisible: isVisible,\r\n            accuracyIndicatorType: responseData[propsNames.accuracyIndicatorTypeID]\r\n        };\r\n        return React.createElement(OriginalMarkAccuracy, componentProps);\r\n    };\r\n    /**\r\n     * returns supervisor review comment\r\n     * @param seq\r\n     * @param responseData\r\n     */\r\n    WorklistHelperBase.prototype.getSupervisorReviewComment = function (seq, responseData) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            reviewCommentId: responseData.setAsReviewedCommentId,\r\n        };\r\n        return React.createElement(SupervisorReviewComment, componentProps);\r\n    };\r\n    /**\r\n     * returns the table row collection for worklist table header.\r\n     * @param worklistType\r\n     * @param responseMode\r\n     */\r\n    WorklistHelperBase.prototype.getTableHeaderForListView = function (worklistType, responseMode, comparerName, sortDirection) {\r\n        var _workListColumnHeaderCollection = Array();\r\n        var _workListCell;\r\n        var _worklistRow = new gridRow();\r\n        var _workListColumnHeaderCellcollection = new Array();\r\n        var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, worklistType, responseMode);\r\n        var gridColumnLength = gridColumns.length;\r\n        this.resetDynamicColumnSettings();\r\n        // Getting the worklist columns\r\n        for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n            _workListCell = new gridCell();\r\n            var _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n            var headerText = gridColumns[gridColumnCount].ColumnHeader;\r\n            var _comparerName = gridColumns[gridColumnCount].ComparerName;\r\n            headerText = (headerText && headerText !== '') ? localeStore.instance.TranslateText(headerText) : '';\r\n            var key = 'columnHeader_' + gridColumnCount;\r\n            _workListCell.columnElement = this.getColumnHeaderElement(key, headerText, _responseColumn, (comparerName === _comparerName), (gridColumns[gridColumnCount].Sortable === 'true'), sortDirection);\r\n            _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n            _workListCell.comparerName = _comparerName;\r\n            _workListCell.sortDirection = this.getSortDirection((comparerName === _comparerName), sortDirection);\r\n            var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n            _workListCell.setCellStyle(cellStyle);\r\n            // Creating the grid row collection.\r\n            _workListColumnHeaderCellcollection.push(_workListCell);\r\n        }\r\n        _worklistRow.setRowId(1);\r\n        _worklistRow.setCells(_workListColumnHeaderCellcollection);\r\n        _workListColumnHeaderCollection.push(_worklistRow);\r\n        var _workListTableHeaderCollection = Immutable.fromJS(_workListColumnHeaderCollection);\r\n        return _workListTableHeaderCollection;\r\n    };\r\n    /**\r\n     *  returns the table row collection of frozen table (response id)\r\n     * @param responseListData\r\n     * @param worklistType\r\n     * @param responseMode\r\n     */\r\n    WorklistHelperBase.prototype.getFrozenRowBodyForListView = function (responseListData, worklistType, responseMode) {\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _workListRowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var cssClass;\r\n        if (responseListData != null) {\r\n            var gridSeq = responseListData.responses.keySeq();\r\n            var _responseListData = responseListData.responses.toArray();\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the worklist data row\r\n                _worklistRow = new gridRow();\r\n                _workListRowHeaderCellcollection = new Array();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                var responseStatus = this.getResponseStatus(responseData, responseMode);\r\n                var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, worklistType, responseMode, true);\r\n                var gridColumnLength = gridColumns.length;\r\n                // Getting the worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _workListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    //Switch statement for adding frozen columns in future.\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _workListCell.columnElement = this.getResponseIdElement(responseData, componentPropsJson, key, this.getDisplayTextOfResponse(worklistType), true, false);\r\n                            _workListCell.setCellStyle('col-response header-col');\r\n                            _workListRowHeaderCellcollection.push(_workListCell);\r\n                            if (worklistType === enums.WorklistType.live || worklistType === enums.WorklistType.directedRemark) {\r\n                                var additionalComponent = this.renderQualityFeedbackBanner(responseListCount, enums.WorklistType.live);\r\n                                _workListCell.setAdditionalElement(additionalComponent);\r\n                                cssClass = (additionalComponent) ? 'highlight-seed' : '';\r\n                            }\r\n                            else {\r\n                                cssClass = '';\r\n                            }\r\n                            break;\r\n                    }\r\n                }\r\n                // Creating the table row collection.\r\n                _workListRowCollection.push(this.getGridRow(responseStatus, responseData.displayId, _workListRowHeaderCellcollection, this.getAccuracyType(responseMode, responseData), undefined, cssClass));\r\n            }\r\n        }\r\n        var _workListFrozenRowBodyCollection = Immutable.fromJS(_workListRowCollection);\r\n        return _workListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * returns the table row elements for frozen table header\r\n     * @param responseListData - list of responses\r\n     * @returns grid row collection.\r\n     */\r\n    WorklistHelperBase.prototype.getFrozenRowHeaderForListView = function (worklistType, responseMode, comparerName, sortDirection, isSortable) {\r\n        var _workListColumnHeaderCollection = Array();\r\n        var _workListCell;\r\n        var _worklistRow = new gridRow();\r\n        var _workListColumnHeaderCellcollection = new Array();\r\n        _workListCell = new gridCell();\r\n        var key = 'frozenRowHeader';\r\n        var _comparerName = comparerList.responseIdComparer;\r\n        //TODO : Move the magic strings outside (json?)\r\n        _workListCell.columnElement = this.getColumnHeaderElement(key, localeStore.instance.TranslateText('marking.worklist.list-view-column-headers.response-id'), undefined, (comparerList[comparerName] === _comparerName), isSortable, sortDirection);\r\n        _workListCell.comparerName = comparerList[_comparerName];\r\n        _workListCell.sortDirection = this.getSortDirection((comparerList[comparerName] === _comparerName), sortDirection);\r\n        _workListCell.setCellStyle('col-response header-col');\r\n        // Creating the grid row collection.\r\n        _workListColumnHeaderCellcollection.push(_workListCell);\r\n        _worklistRow.setRowId(1);\r\n        _worklistRow.setCells(_workListColumnHeaderCellcollection);\r\n        _workListColumnHeaderCollection.push(_worklistRow);\r\n        var _workListFrozenRowHeaderCollection = Immutable.fromJS(_workListColumnHeaderCollection);\r\n        return _workListFrozenRowHeaderCollection;\r\n    };\r\n    /**\r\n     * returns the gridcolumns based on the response mode and worklist type\r\n     * @param responseMode\r\n     */\r\n    WorklistHelperBase.prototype.getGridColumns = function (resolvedGridColumnsJson, worklistType, responseMode, isFrozen) {\r\n        if (isFrozen === void 0) { isFrozen = false; }\r\n        var gridColumns;\r\n        return gridColumns;\r\n    };\r\n    /**\r\n     * return the display text for response id\r\n     * @param worklistType\r\n     */\r\n    WorklistHelperBase.prototype.getDisplayTextOfResponse = function (worklistType) {\r\n        var displayText = undefined;\r\n        switch (worklistType) {\r\n            case enums.WorklistType.practice:\r\n                displayText = localeStore.instance.TranslateText('marking.worklist.response-data.practice-response-title') + ' ';\r\n                break;\r\n            case enums.WorklistType.standardisation:\r\n                displayText = localeStore.instance.TranslateText('marking.worklist.response-data.standardisation-response-title') + ' ';\r\n                break;\r\n            case enums.WorklistType.secondstandardisation:\r\n                var isESTeamMember = qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember;\r\n                displayText = isESTeamMember ?\r\n                    localeStore.instance.TranslateText('marking.worklist.response-data.stm-standardisation-response-title') + ' ' :\r\n                    localeStore.instance.TranslateText('marking.worklist.response-data.second-standardisation-response-title') + ' ';\r\n                break;\r\n        }\r\n        return displayText;\r\n    };\r\n    /**\r\n     * returns the resposne staus based on the worklist and its validator type\r\n     * @param worklistType\r\n     * @param responseMode\r\n     */\r\n    WorklistHelperBase.prototype.getResponseStatus = function (responseData, responseMode) {\r\n        var responseStatus;\r\n        return responseStatus;\r\n    };\r\n    /**\r\n     * returns whether the the given column is hidden or not\r\n     * @param responseColumn\r\n     */\r\n    WorklistHelperBase.prototype.getCellVisibility = function (column) {\r\n        return false;\r\n    };\r\n    /**\r\n     * returns the accuracy type based on accuracy  and CC values\r\n     * @param responseMode\r\n     * @param responseData\r\n     */\r\n    WorklistHelperBase.prototype.getAccuracyType = function (responseMode, responseData) {\r\n        return enums.AccuracyIndicatorType.Unknown;\r\n    };\r\n    /**\r\n     * returns whether the current qig is structured or not.\r\n     */\r\n    WorklistHelperBase.prototype.isStructuredQIG = function () {\r\n        return (qigStore.instance.selectedQIGForMarkerOperation.markingMethod === enums.MarkingMethod.Structured);\r\n    };\r\n    /**\r\n     * returns whether the value is numeric or not.\r\n     */\r\n    WorklistHelperBase.prototype.isNonNumeric = function () {\r\n        return this._isNonNumeric;\r\n    };\r\n    /**\r\n     * Sets the whether the response is numeric or not.\r\n     */\r\n    WorklistHelperBase.prototype.setNonNumeric = function (isNonNumeric) {\r\n        this._isNonNumeric = isNonNumeric;\r\n    };\r\n    /**\r\n     * Reset dynamic column\r\n     */\r\n    WorklistHelperBase.prototype.resetDynamicColumnSettings = function () {\r\n        this._dateLengthInPixel = 0;\r\n    };\r\n    /**\r\n     * return the sort direction - if it is current sort just reverse the direction otherwise asc as defaualt direction.\r\n     * @param isCurrentSort\r\n     * @param sortDirection\r\n     */\r\n    WorklistHelperBase.prototype.getSortDirection = function (isCurrentSort, sortDirection) {\r\n        return ((isCurrentSort === true) ?\r\n            ((sortDirection === enums.SortDirection.Ascending) ? enums.SortDirection.Descending : enums.SortDirection.Ascending)\r\n            : enums.SortDirection.Ascending);\r\n    };\r\n    /**\r\n     * get the value of senior examiner pool cc.\r\n     */\r\n    WorklistHelperBase.prototype.getSeniorExaminerPoolCCValue = function () {\r\n        var ccValue = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SeniorExaminerPool, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        return ccValue;\r\n    };\r\n    /**\r\n     * returns the Selected Tag Id of response.\r\n     * @param seq\r\n     * @param tagId\r\n     * @param tagList\r\n     * @param markGroupId\r\n     */\r\n    WorklistHelperBase.prototype.getTag = function (seq, tagId, tagList, markGroupId) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedTagId: tagId,\r\n            tagList: tagList,\r\n            markGroupId: markGroupId\r\n        };\r\n        return React.createElement(TagList, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  getAllPageAnnotatedIndicatorElement component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the component\r\n     * @param seq - key value for the component\r\n     * @param showMarkingProgress - key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    WorklistHelperBase.prototype.getAllFilesNotViewedIndicatorElement = function (responseData, propsNames, seq, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            allFilesViewed: responseData[propsNames.allFilesViewed],\r\n            isMarkingCompleted: responseData[propsNames.markingProgress] === 100 ? true : false,\r\n            isTileView: isTileView,\r\n            isECourseworkComponent: eCourseworkHelper.isECourseworkComponent\r\n        };\r\n        return React.createElement(allFilesNotViewedIndicator, componentProps);\r\n    };\r\n    return WorklistHelperBase;\r\n}());\r\nmodule.exports = WorklistHelperBase;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3dvcmtsaXN0aGVscGVycy93b3JrbGlzdGhlbHBlcmJhc2UudHM/NTU2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZ3JpZFJvdyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9ncmlkcm93Jyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IGdyaWRDZWxsID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL2dyaWRjZWxsJyk7XHJcbmltcG9ydCBNYXJraW5nUHJvZ3Jlc3MgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvbWFya2luZ3Byb2dyZXNzJyk7XHJcbmltcG9ydCBMYXN0VXBkYXRlZENvbHVtbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9sYXN0dXBkYXRlZGNvbHVtbicpO1xyXG5pbXBvcnQgdG90YWxNYXJrID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL3RvdGFsbWFya2RldGFpbCcpO1xyXG5pbXBvcnQgcmVzcG9uc2VJZENvbHVtbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9yZXNwb25zZWlkY29sdW1uJyk7XHJcbmltcG9ydCBSZXNwb25zZUlkR3JpZEVsZW1lbnQgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvcmVzcG9uc2VpZGdyaWRlbGVtZW50Jyk7XHJcbmltcG9ydCBhbGxvY2F0ZWREYXRlQ29sdW1uID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL2FsbG9jYXRlZGRhdGVjb2x1bW4nKTtcclxuaW1wb3J0IExpbmtlZE1lc3NhZ2VJbmRpY2F0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvbGlua2VkbWVzc2FnZWluZGljYXRvcicpO1xyXG5pbXBvcnQgQWNjdXJhY3lJbmRpY2F0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvYWNjdXJhY3lpbmRpY2F0b3InKTtcclxuaW1wb3J0IE1hcmtzRGlmZmVyZW5jZUNvbHVtbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9tYXJrc2RpZmZlcmVuY2Vjb2x1bW4nKTtcclxuaW1wb3J0IE1hcmtzRGlmZmVyZW5jZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9tYXJrc2RpZmZlcmVuY2UnKTtcclxuaW1wb3J0IExpbmtlZEV4Y2VwdGlvbkluZGljYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9saW5rZWRleGNlcHRpb25pbmRpY2F0b3InKTtcclxuaW1wb3J0IGdyYWNlUGVyaW9kVGltZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9ncmFjZXBlcmlvZHRpbWUnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgd29ya2xpc3RWYWxpZGF0b3JGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvd29ya2xpc3R2YWxpZGF0b3JmYWN0b3J5Jyk7XHJcbmltcG9ydCB3b3JrbGlzdFZhbGlkYXRvckxpc3QgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy93b3JrbGlzdHZhbGlkYXRvcmxpc3QnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vZW51bXMnKTtcclxuaW1wb3J0IEdlbmVyaWNDb21wb25lbnRXcmFwcGVyID0gcmVxdWlyZSgnLi4vZ2VuZXJpY2NvbXBvbmVudHdyYXBwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzaGVscGVyJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcyA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMnKTtcclxuaW1wb3J0IGFsbFBhZ2VBbm5vdGF0aW9uSW5kaWNhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL2FsbHBhZ2Vhbm5vdGF0aW9uaW5kaWNhdG9yJyk7XHJcbmltcG9ydCBleGFtaW5lclN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3RvcmVzL21hcmtlcmluZm9ybWF0aW9uL2V4YW1pbmVyc3RvcmUnKTtcclxuaW1wb3J0IFJlc3BvbnNlVHlwZUxhYmVsID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL3Jlc3BvbnNldHlwZWxhYmVsJyk7XHJcbmltcG9ydCBDb2x1bW5IZWFkZXIgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvY29sdW1uaGVhZGVyJyk7XHJcbmltcG9ydCBhbGxvY2F0ZWREYXRlRWxlbWVudCA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9hbGxvY2F0ZWRkYXRlJyk7XHJcbmltcG9ydCBzbGFvYW5ub3RhdGlvbmluZGljYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9zbGFvYW5ub3RhdGlvbmluZGljYXRvcicpO1xyXG5pbXBvcnQgcXVhbGl0eUZlZWRiYWNrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9xdWFsaXR5ZmVlZGJhY2svcXVhbGl0eWZlZWRiYWNraGVscGVyJyk7XHJcbmltcG9ydCBRdWFsaXR5RmVlZGJhY2tCYW5uZXIgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9iYW5uZXIvcXVhbGl0eWZlZWRiYWNrYmFubmVyJyk7XHJcbmltcG9ydCBncmlkQ29sdW1uTmFtZXMgPSByZXF1aXJlKCcuLi9ncmlkY29sdW1ubmFtZXMnKTtcclxuaW1wb3J0IGpzb25SZWZSZXNvbHZlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvanNvbnJlZnJlc29sdmVyL2pvc25yZWZyZXNvbHZlcicpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IHdvcmtsaXN0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS93b3JrbGlzdC93b3JrbGlzdGhlbHBlcicpO1xyXG5sZXQgd29ya2xpc3RHcmlkQ29sdW1uc0pzb24gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvd29ya2xpc3RncmlkY29sdW1ucy5qc29uJyk7XHJcbmltcG9ydCBHZW5lcmljVGV4dENvbHVtbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9nZW5lcmljdGV4dGNvbHVtbicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBsb2NhbEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgaHRtVXRpbGl0aWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL2h0bWx1dGlsaXRpZXMnKTtcclxuaW1wb3J0IGNvbnN0YW50cyA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0YW50cycpO1xyXG5pbXBvcnQgY29tcGFyZXJMaXN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9zb3J0aW5nL3NvcnRiYXNlL2NvbXBhcmVybGlzdCcpO1xyXG5pbXBvcnQgU2FtcGxlTGFiZWwgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvc2FtcGxlbGFiZWwnKTtcclxuaW1wb3J0IFJldmlld2VkQnlMYWJlbCA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9yZXZpZXdlZGJ5bGFiZWwnKTtcclxuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vbWFya2Vyb3BlcmF0aW9ubW9kZS9tYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeScpO1xyXG5pbXBvcnQgT3JpZ2luYWxNYXJrID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL29yaWdpbmFsbWFya3RvdGFsJyk7XHJcbmltcG9ydCBPcmlnaW5hbE1hcmtBY2N1cmFjeSA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9vcmlnaW5hbG1hcmthY2N1cmFjeScpO1xyXG5pbXBvcnQgaW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XHJcbmltcG9ydCBUYWdMaXN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vcmVzcG9uc2UvcmVzcG9uc2VzY3JlZW4vdGFnbGlzdCcpO1xyXG5pbXBvcnQgYWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvYWxsZmlsZXNub3R2aWV3ZWRpbmRpY2F0b3InKTtcclxuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vZWNvdXJzZXdvcmsvZWNvdXJzZXdvcmtoZWxwZXInKTtcclxuaW1wb3J0IFN1cGVydmlzb3JSZXZpZXdDb21tZW50ID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL3N1cGVydmlzb3JyZXZpZXdjb21tZW50Jyk7XHJcblxyXG4vKipcclxuICogY2xhc3MgZm9yIFdvcmtMaXN0IEhlbHBlciBpbXBsZW1lbnRhdGlvblxyXG4gKi9cclxuY2xhc3MgV29ya2xpc3RIZWxwZXJCYXNlIGltcGxlbWVudHMgd29ya2xpc3RIZWxwZXIge1xyXG5cclxuICAgIC8qIHZhcmlhYmxlIHRvIGhvbGRzIHRoZSBjb2x1bW4gZGV0YWlscyBKU09OKi9cclxuICAgIHB1YmxpYyByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbjogYW55O1xyXG5cclxuICAgIC8qIEdyaWQgcm93cyBjb2xsZWN0aW9uICovXHJcbiAgICBwdWJsaWMgX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbjogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz47XHJcblxyXG4gICAgLy8gRWxlbWVudHMgdG8gaG9sZCBhIGRpY3Rpb25hcnkgd2l0aCBrZXkgYXMgY2xhc3MgbmFtZSB0byBncm91cCBhbmQgY29sbGVjdGlvblxyXG4gICAgLy8gb2YgZWxlbWVudHNcclxuICAgIHByaXZhdGUgX2dyb3VwQ29sdW1uczogeyBbaWQ6IHN0cmluZ106IHsgdmFsdWVzOiBJbW11dGFibGUuTGlzdDxKU1guRWxlbWVudD4gfSB9O1xyXG5cclxuICAgIHByaXZhdGUgX2RhdGVMZW5ndGhJblBpeGVsOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgX2lzTm9uTnVtZXJpYzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBDb25maWd1cmFibGUgY2hhcmFjdGVyaXN0aWMgdmFsdWUuXHJcbiAgICAgKiBAcGFyYW0gY2NOYW1lXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0Q0NWYWx1ZShjY05hbWU6IHN0cmluZywgbWFya1NjaGVtZUdyb3VwSWQ6IG51bWJlcik6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKGNjTmFtZSwgbWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIEdlbmVyYXRlUm93RGVmaW5pb24gaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZFxyXG4gICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YSAtIGxpc3Qgb2YgbGl2ZSBvcGVuIHJlc3BvbnNlc1xyXG4gICAgKiBAcGFyYW0gd29ya2xpc3RUeXBlIC0gdHlwZSBvZiB0aGUgd29ya2xpc3QgY2hvb3NlblxyXG4gICAgKiBAcGFyYW0gcmVzcG9uc2VUeXBlIC0gdHlwZSBvZiB0aGUgcmVzcG9uc2VcclxuICAgICogQHBhcmFtIGdyaWRUeXBlIC0gdHlwZSBvZiBncmlkdmlldyB0aWxlL2RldGFpbFxyXG4gICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZVJvd0RlZmluaW9uKHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSxcclxuICAgICAgICByZXNwb25zZVR5cGU6IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBncmlkVHlwZTogZW51bXMuR3JpZFR5cGUpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltbXV0YWJsZVdvcmtMaXN0Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlVGFibGVIZWFkZXIgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyBoZWFkZXIgY29sbGVjdGlvbi5cclxuICAgICAqIEBwYXJhbSByZXNwb25zZVR5cGUgLSB0eXBlIG9mIHRoZSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIHdvcmtsaXN0VHlwZSAtIHR5cGUgb2YgdGhlIHdvcmtsaXN0XHJcbiAgICAgKiBAcGFyYW0gY29tcGFyZXJOYW1lIC0gdHlwZSBvZiB0aGUgY29tcGFyZXIgTmFtZVxyXG4gICAgICogQHBhcmFtIHNvcnREaXJlY3Rpb24gLSB0eXBlIG9mIHRoZSBzb3J0IERpcmVjdGlvbiBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZ1xyXG4gICAgICogQHJldHVybnMgaGVhZGVyIGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZVRhYmxlSGVhZGVyKHJlc3BvbnNlVHlwZTogZW51bXMuUmVzcG9uc2VNb2RlLFxyXG4gICAgICAgIHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlLCBjb21wYXJlck5hbWU6IHN0cmluZywgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbik6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpzb25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyh3b3JrbGlzdEdyaWRDb2x1bW5zSnNvbik7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFRhYmxlSGVhZGVyQ29sbGVjdGlvbiA9IHRoaXMuZ2V0VGFibGVIZWFkZXJGb3JMaXN0Vmlldyh3b3JrbGlzdFR5cGUsIHJlc3BvbnNlVHlwZSwgY29tcGFyZXJOYW1lLCBzb3J0RGlyZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gX3dvcmtMaXN0VGFibGVIZWFkZXJDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVSb3dEZWZpbmlvbiBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBXb3JrTGlzdCBHcmlkXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VUeXBlIC0gdHlwZSBvZiB0aGUgcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBncmlkVHlwZSAtIHR5cGUgb2YgZ3JpZHZpZXcgdGlsZS9kZXRhaWxcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZUZyb3plblJvd0JvZHkocmVzcG9uc2VMaXN0RGF0YTogV29ya2xpc3RCYXNlLFxyXG4gICAgICAgIHJlc3BvbnNlVHlwZTogZW51bXMuUmVzcG9uc2VNb2RlLFxyXG4gICAgICAgIHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG5cclxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0ganNvblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHdvcmtsaXN0R3JpZENvbHVtbnNKc29uKTtcclxuXHJcbiAgICAgICAgbGV0IF93b3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uID0gdGhpcy5nZXRGcm96ZW5Sb3dCb2R5Rm9yTGlzdFZpZXcocmVzcG9uc2VMaXN0RGF0YSwgd29ya2xpc3RUeXBlLCByZXNwb25zZVR5cGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gX3dvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBoZWFkZXIgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgdGFibGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZUxpc3REYXRhIC0gbGlzdCBvZiBsaXZlIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VUeXBlIC0gdHlwZSBvZiB0aGUgcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBncmlkVHlwZSAtIHR5cGUgb2YgZ3JpZHZpZXcgdGlsZS9kZXRhaWxcclxuICAgICAqIEByZXR1cm5zIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZUZyb3plblJvd0hlYWRlcihyZXNwb25zZUxpc3REYXRhOiBXb3JrbGlzdEJhc2UsXHJcbiAgICAgICAgcmVzcG9uc2VUeXBlOiBlbnVtcy5SZXNwb25zZU1vZGUsXHJcbiAgICAgICAgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUsXHJcbiAgICAgICAgY29tcGFyZXJOYW1lOiBzdHJpbmcsIHNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24sIGlzU29ydGFibGU6IGJvb2xlYW4gPSB0cnVlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG5cclxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0ganNvblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHdvcmtsaXN0R3JpZENvbHVtbnNKc29uKTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0RnJvemVuUm93SGVhZGVyQ29sbGVjdGlvbiA9IHRoaXMuZ2V0RnJvemVuUm93SGVhZGVyRm9yTGlzdFZpZXdcclxuICAgICAgICAgICAgKHdvcmtsaXN0VHlwZSwgcmVzcG9uc2VUeXBlLCBjb21wYXJlck5hbWUsIHNvcnREaXJlY3Rpb24sIGlzU29ydGFibGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gX3dvcmtMaXN0RnJvemVuUm93SGVhZGVyQ29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcblxyXG4gICAvKipcclxuICAgICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBUb3RhbE1hcmsgY29tcG9uZW50XHJcbiAgICAqIEBwYXJhbSByZXNwb25zZURhdGEgLSByZXNwb25zZSBkYXRhXHJcbiAgICAqIEBwYXJhbSBoYXNOdW1lcmljTWFyayAtIGZsYWcgZm9yIGhhc051bWVyaWNNYXJrXHJcbiAgICAqIEBwYXJhbSBtYXhpbXVtTWFyayAtIG1heGltdW0gTWFyayBmb3IgdGhlIHJlc3BvbnNlXHJcbiAgICAqIEBwYXJhbSBwcm9wc05hbWVzIC0gcHJvcCBuYW1lcyBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0gc2VxIC0ga2V5IHZhbHVlIGZvciB0aGUgY29tcG9uZW50XHJcbiAgICAqIEByZXR1cm5zIEpTWC5FbGVtZW50LlxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBnZXRUb3RhbE1hcmtFbGVtZW50KHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLFxyXG4gICAgICAgIGhhc051bWVyaWNNYXJrOiBib29sZWFuLFxyXG4gICAgICAgIG1heGltdW1NYXJrOiBudW1iZXIsXHJcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxyXG4gICAgICAgIHNlcTogc3RyaW5nKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgaXNOb25OdW1lcmljTWFyazogIWhhc051bWVyaWNNYXJrLFxyXG4gICAgICAgICAgICBtYXhpbXVtTWFyazogbWF4aW11bU1hcmssXHJcbiAgICAgICAgICAgIHRvdGFsTWFyazogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMudG90YWxNYXJrVmFsdWVdLFxyXG4gICAgICAgICAgICBtYXJraW5nUHJvZ3Jlc3M6IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLm1hcmtpbmdQcm9ncmVzc10sXHJcbiAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U6IGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5faXNOb25OdW1lcmljID0gIWhhc051bWVyaWNNYXJrO1xyXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KHRvdGFsTWFyaywgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuLyoqXHJcbiAqIE5PVEU6IGFsbG9jYXRlZERhdGVDb2x1bW4gaXMgT2Jzb2xldGUgYWZ0ZXIgTmV3IExpc3QgdmlldyB3b3JrbGlzdCBDaGFuZ2VzICoqKlxyXG4gKiBjcmVhdGluZyByZWFjdCBlbGVtZW50IGZvciB0aGUgIGFsbG9jYXRlZERhdGVDb2x1bW4gY29tcG9uZW50XHJcbiAqIEBwYXJhbSByZXNwb25zZURhdGEgLSByZXNwb25zZSBkYXRhXHJcbiAqIEBwYXJhbSBwcm9wc05hbWVzIC0gcHJvcCBuYW1lcyBmb3IgdGhlIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0gc2VxIC0ga2V5IHZhbHVlIGZvciB0aGUgY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIEpTWC5FbGVtZW50LlxyXG4gKi9cclxuICAgIHB1YmxpYyBnZXRBbGxvY2F0ZWREYXRlRWxlbWVudChyZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSxcclxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXHJcbiAgICAgICAgc2VxOiBzdHJpbmcsXHJcbiAgICAgICAgc2hvd0FsbG9jYXRlZERhdGVFbGVtZW50OiBib29sZWFuLFxyXG4gICAgICAgIHNob3dNYXJraW5nUHJvZ3Jlc3M6IGJvb2xlYW4sXHJcbiAgICAgICAgc2hvd0dyYWNlUGVyaW9kVGltZUVsZW1lbnQ6IGJvb2xlYW4sXHJcbiAgICAgICAgaXNUaWxlVmlldzogYm9vbGVhbiA9IHRydWUpOiBKU1guRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgZGF0ZVZhbHVlOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5hbGxvY2F0ZWREYXRlXSA/IG5ldyBEYXRlKHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLmFsbG9jYXRlZERhdGVdKSA6IG51bGwsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U6IGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZSxcclxuICAgICAgICAgICAgaXNSZXNwb25zZUhhc1NMQU86IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLmhhc0FkZGl0aW9uYWxPYmplY3RzXSxcclxuICAgICAgICAgICAgaXNBbGxBbm5vdGF0ZWQ6IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLmhhc0FsbFBhZ2VzQW5ub3RhdGVkXSxcclxuICAgICAgICAgICAgbWFya2luZ1Byb2dyZXNzOiBzaG93TWFya2luZ1Byb2dyZXNzID8gcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMubWFya2luZ1Byb2dyZXNzXSA6IDEwMCxcclxuICAgICAgICAgICAgc2hvd0FsbG9jYXRlZERhdGU6IHNob3dBbGxvY2F0ZWREYXRlRWxlbWVudCxcclxuICAgICAgICAgICAgc2hvd1RpbWVUb0VuZG9mR3JhY2VQZXJpb2Q6IHNob3dHcmFjZVBlcmlvZFRpbWVFbGVtZW50LFxyXG4gICAgICAgICAgICB0aW1lVG9FbmRPZkdyYWNlUGVyaW9kOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy50aW1lVG9FbmRPZkdyYWNlUGVyaW9kXSxcclxuICAgICAgICAgICAgaXNUaWxlVmlldzogaXNUaWxlVmlldyxcclxuICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWQ6IHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoYWxsb2NhdGVkRGF0ZUNvbHVtbiwgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgZ2V0R3JhY2VQZXJpb2RFbGVtZW50IGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0gcmVzcG9uc2VEYXRhIC0gcmVzcG9uc2UgZGF0YVxyXG4gICAgKiBAcGFyYW0gcHJvcHNOYW1lcyAtIHByb3AgbmFtZXMgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICogQHBhcmFtIHNlcSAtIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcmV0dXJucyBKU1guRWxlbWVudC5cclxuICAgICovXHJcbiAgICBwdWJsaWMgZ2V0R3JhY2VQZXJpb2RFbGVtZW50KHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLFxyXG4gICAgICAgIHByb3BzTmFtZXM6IGFueSxcclxuICAgICAgICBzZXE6IHN0cmluZyxcclxuICAgICAgICBpc1RpbGVWaWV3OiBib29sZWFuID0gdHJ1ZSk6IEpTWC5FbGVtZW50IHtcclxuXHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XHJcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGtleTogc2VxLFxyXG4gICAgICAgICAgICBpZDogc2VxLFxyXG4gICAgICAgICAgICB0aW1lVG9FbmRPZkdyYWNlUGVyaW9kOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy50aW1lVG9FbmRPZkdyYWNlUGVyaW9kXSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChncmFjZVBlcmlvZFRpbWUsIGNvbXBvbmVudFByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgIC8qKlxyXG4gICAgKiBjcmVhdGluZyByZWFjdCBlbGVtZW50IGZvciB0aGUgIGdldFNMQU9JbmRpY2F0b3JFbGVtZW50IGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0gcmVzcG9uc2VEYXRhIC0gcmVzcG9uc2UgZGF0YVxyXG4gICAgKiBAcGFyYW0gcHJvcHNOYW1lcyAtIHByb3AgbmFtZXMgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICogQHBhcmFtIHNlcSAtIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0gc2hvd01hcmtpbmdQcm9ncmVzcyAtIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcmV0dXJucyBKU1guRWxlbWVudC5cclxuICAgICovXHJcbiAgICBwdWJsaWMgZ2V0U0xBT0luZGljYXRvckVsZW1lbnQocmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UsXHJcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxyXG4gICAgICAgIHNlcTogc3RyaW5nLFxyXG4gICAgICAgIHNob3dNYXJraW5nUHJvZ3Jlc3M6IGJvb2xlYW4sXHJcbiAgICAgICAgaXNUaWxlVmlldzogYm9vbGVhbiA9IHRydWUpOiBKU1guRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxyXG4gICAgICAgICAgICBpc1Jlc3BvbnNlSGFzU0xBTzogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuaGFzQWRkaXRpb25hbE9iamVjdHNdLFxyXG4gICAgICAgICAgICBpc0FsbEFubm90YXRlZDogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuaGFzQWxsUGFnZXNBbm5vdGF0ZWRdLFxyXG4gICAgICAgICAgICBpc01hcmtpbmdDb21wbGV0ZWQ6ICgoc2hvd01hcmtpbmdQcm9ncmVzcyA/IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLm1hcmtpbmdQcm9ncmVzc10gOiAxMDApID09PSAxMDApID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1RpbGVWaWV3OiBpc1RpbGVWaWV3LFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChzbGFvYW5ub3RhdGlvbmluZGljYXRvciwgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgZ2V0QWxsUGFnZUFubm90YXRlZEluZGljYXRvckVsZW1lbnQgY29tcG9uZW50XHJcbiAgICAqIEBwYXJhbSByZXNwb25zZURhdGEgLSByZXNwb25zZSBkYXRhXHJcbiAgICAqIEBwYXJhbSBwcm9wc05hbWVzIC0gcHJvcCBuYW1lcyBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0gc2VxIC0ga2V5IHZhbHVlIGZvciB0aGUgY29tcG9uZW50XHJcbiAgICAqIEBwYXJhbSBzaG93TWFya2luZ1Byb2dyZXNzIC0ga2V5IHZhbHVlIGZvciB0aGUgY29tcG9uZW50XHJcbiAgICAqIEByZXR1cm5zIEpTWC5FbGVtZW50LlxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBnZXRBbGxQYWdlQW5ub3RhdGVkSW5kaWNhdG9yRWxlbWVudChyZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSxcclxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXHJcbiAgICAgICAgc2VxOiBzdHJpbmcsXHJcbiAgICAgICAgc2hvd01hcmtpbmdQcm9ncmVzczogYm9vbGVhbixcclxuICAgICAgICBpc1RpbGVWaWV3OiBib29sZWFuID0gdHJ1ZSk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcclxuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcclxuICAgICAgICAgICAga2V5OiBzZXEsXHJcbiAgICAgICAgICAgIGlkOiBzZXEsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U6IGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZSxcclxuICAgICAgICAgICAgaXNBbGxBbm5vdGF0ZWQ6IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLmhhc0FsbFBhZ2VzQW5ub3RhdGVkXSxcclxuICAgICAgICAgICAgaXNNYXJraW5nQ29tcGxldGVkOiAoKHNob3dNYXJraW5nUHJvZ3Jlc3MgPyByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5tYXJraW5nUHJvZ3Jlc3NdIDogMTAwKSA9PT0gMTAwKSA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNUaWxlVmlldzogaXNUaWxlVmlldyxcclxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWQ6IHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KGFsbFBhZ2VBbm5vdGF0aW9uSW5kaWNhdG9yLCBjb21wb25lbnRQcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAvKipcclxuICAgICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBnZXRBbGxvY2F0ZWREYXRlIGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0gcmVzcG9uc2VEYXRhIC0gcmVzcG9uc2UgZGF0YVxyXG4gICAgKiBAcGFyYW0gcHJvcHNOYW1lcyAtIHByb3AgbmFtZXMgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICogQHBhcmFtIHNlcSAtIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcmV0dXJucyBKU1guRWxlbWVudC5cclxuICAgICovXHJcbiAgICBwdWJsaWMgZ2V0QWxsb2NhdGVkRGF0ZShyZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSxcclxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXHJcbiAgICAgICAgc2VxOiBzdHJpbmcsXHJcbiAgICAgICAgc2hvd0FsbG9jYXRlZERhdGVFbGVtZW50OiBib29sZWFuKTogSlNYLkVsZW1lbnQge1xyXG5cclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcclxuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcclxuICAgICAgICAgICAga2V5OiBzZXEsXHJcbiAgICAgICAgICAgIGlkOiBzZXEsXHJcbiAgICAgICAgICAgIGRhdGVWYWx1ZTogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuYWxsb2NhdGVkRGF0ZV0gPyBuZXcgRGF0ZShyZXNwb25zZURhdGFbcHJvcHNOYW1lcy5hbGxvY2F0ZWREYXRlXSkgOiBudWxsLFxyXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGUsXHJcbiAgICAgICAgICAgIHNob3dBbGxvY2F0ZWREYXRlOiBzaG93QWxsb2NhdGVkRGF0ZUVsZW1lbnQsXHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChhbGxvY2F0ZWREYXRlRWxlbWVudCwgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIENyZWF0aW5nIHJlYWN0IGNvbXBvbmVudCBmb3IgdGhlIExpbmtlZE1lc3NhZ2UgY29tcG9uZW50XHJcbiAgICAqIEBwYXJhbSB7UmVzcG9uc2V9IHJlc3BvbnNlRGF0YSAtIHJlc3BvbnNlIGRhdGFcclxuICAgICogQHBhcmFtIHthbnl9IHByb3BzTmFtZXMgcHJvcCBuYW1lcyBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gc2VxIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcmV0dXJucyBKU1guRWxlbWVudC5cclxuICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TGlua2VkTWVzc2FnZUVsZW1lbnQocmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UsIHByb3BzTmFtZXM6IGFueSwgc2VxOiBzdHJpbmcsIGlzVGlsZVZpZXc6IGJvb2xlYW4gPSB0cnVlKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgbWVzc2FnZUNvdW50OiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy51bnJlYWRNZXNzYWdlc0NvdW50XSxcclxuICAgICAgICAgICAgaGFzTWVzc2FnZXM6IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLmhhc01lc3NhZ2VzXSxcclxuICAgICAgICAgICAgZGlzcGxheUlkOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5kaXNwbGF5SWRdLFxyXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGUsXHJcbiAgICAgICAgICAgIGlzVGlsZVZpZXc6IGlzVGlsZVZpZXcsXHJcbiAgICAgICAgICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rZWRNZXNzYWdlSW5kaWNhdG9yLCBjb21wb25lbnRQcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAvKipcclxuICAgICogQ3JlYXRpbmcgcmVhY3QgY29tcG9uZW50IGZvciB0aGUgQWNjdXJhY3lJbmRpY2F0b3IgY29tcG9uZW50XHJcbiAgICAqIEBwYXJhbSB7UmVzcG9uc2V9IHJlc3BvbnNlRGF0YSAtIHJlc3BvbnNlIGRhdGFcclxuICAgICogQHBhcmFtIHthbnl9IHByb3BzTmFtZXMgcHJvcCBuYW1lcyBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gc2VxIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcmV0dXJucyBKU1guRWxlbWVudC5cclxuICAgICovXHJcbiAgICBwdWJsaWMgZ2V0QWNjdXJhY3lJbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLCBwcm9wc05hbWVzOiBhbnksIHNlcTogc3RyaW5nLCBpc1RpbGVWaWV3OiBib29sZWFuKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xyXG4gICAgICAgIGxldCB0aWxlVmlldzogYm9vbGVhbiA9IGlzVGlsZVZpZXcgIT09IG51bGwgPyBpc1RpbGVWaWV3IDogZmFsc2U7XHJcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGtleTogc2VxLFxyXG4gICAgICAgICAgICBpZDogc2VxLFxyXG4gICAgICAgICAgICBhY2N1cmFjeUluZGljYXRvcjogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuYWNjdXJhY3lJbmRpY2F0b3JUeXBlSURdLFxyXG4gICAgICAgICAgICBpc1RpbGVWaWV3OiB0aWxlVmlldyxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBY2N1cmFjeUluZGljYXRvciwgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIENyZWF0aW5nIHJlYWN0IGNvbXBvbmVudCBmb3IgdGhlIE1hcmtzRGlmZmVyZW5jZUNvbHVtbiBjb21wb25lbnRcclxuICAgICogQHBhcmFtIHtSZXNwb25zZX0gcmVzcG9uc2VEYXRhIC0gcmVzcG9uc2UgZGF0YVxyXG4gICAgKiBAcGFyYW0ge2FueX0gcHJvcHNOYW1lcyBwcm9wIG5hbWVzIGZvciB0aGUgY29tcG9uZW50XHJcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZXEga2V5IHZhbHVlIGZvciB0aGUgY29tcG9uZW50XHJcbiAgICAqIEByZXR1cm5zIEpTWC5FbGVtZW50LlxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBnZXRNYXJrc0RpZmZlcmVuY2VDb2x1bW5FbGVtZW50KHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLCBwcm9wc05hbWVzOiBhbnksIHNlcTogc3RyaW5nLCBpc1RpbGVWaWV3OiBib29sZWFuKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xyXG4gICAgICAgIGxldCB0aWxlVmlldzogYm9vbGVhbiA9IGlzVGlsZVZpZXcgIT09IG51bGwgPyBpc1RpbGVWaWV3IDogZmFsc2U7XHJcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGtleTogc2VxLFxyXG4gICAgICAgICAgICBpZDogc2VxLFxyXG4gICAgICAgICAgICBhYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZTogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuYWJzb2x1dGVNYXJrc0RpZmZlcmVuY2VdLFxyXG4gICAgICAgICAgICB0b3RhbE1hcmtzRGlmZmVyZW5jZTogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMudG90YWxNYXJrc0RpZmZlcmVuY2VdLFxyXG4gICAgICAgICAgICBhY2N1cmFjeUluZGljYXRvcjogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuYWNjdXJhY3lJbmRpY2F0b3JUeXBlSURdLFxyXG4gICAgICAgICAgICBpc1RpbGVWaWV3OiB0aWxlVmlldyxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxyXG4gICAgICAgICAgICBzaG93QWNjdXJhY3lJbmRpY2F0b3I6IHRoaXMuZG9TaG93QWNjdXJhY3lJbmRpY2F0b3IsXHJcbiAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkOiBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWFya3NEaWZmZXJlbmNlQ29sdW1uLCBjb21wb25lbnRQcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAvKipcclxuICAgICogQ3JlYXRpbmcgcmVhY3QgY29tcG9uZW50IGZvciB0aGUgTWFya3NEaWZmZXJlbmNlQ29sdW1uIGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0ge1Jlc3BvbnNlfSByZXNwb25zZURhdGEgLSByZXNwb25zZSBkYXRhXHJcbiAgICAqIEBwYXJhbSB7YW55fSBwcm9wc05hbWVzIHByb3AgbmFtZXMgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICogQHBhcmFtIHtudW1iZXJ9IHNlcSBrZXkgdmFsdWUgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICogQHJldHVybnMgSlNYLkVsZW1lbnQuXHJcbiAgICAqL1xyXG4gICAgcHVibGljIGdldE1hcmtzRGlmZmVyZW5jZUVsZW1lbnQocmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UsIHByb3BzTmFtZXM6IGFueSwgc2VxOiBzdHJpbmcsXHJcbiAgICAgICAgbWFya3NEaWZmZXJlbmNlVHlwZTogZW51bXMuTWFya3NEaWZmZXJlbmNlVHlwZSwgaXNUaWxlVmlldz86IGJvb2xlYW4pOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XHJcblxyXG4gICAgICAgIGxldCBtYXJrc0RpZmZlcmVuY2U6IG51bWJlcjtcclxuICAgICAgICBsZXQgbWFya3NEaWZmZXJlbmNlVGV4dDogc3RyaW5nO1xyXG4gICAgICAgIGxldCB0aXRsZTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBjbGFzc05hbWU6IHN0cmluZztcclxuICAgICAgICBsZXQgY2xhc3NOYW1lQW1kOiBzdHJpbmcgPSAnYW1kIHNtYWxsLXRleHQnO1xyXG4gICAgICAgIGxldCBjbGFzc05hbWVUbWQ6IHN0cmluZyA9ICd0bWQgc21hbGwtdGV4dCc7XHJcbiAgICAgICAgbGV0IHRpdGxlQW1kOiBzdHJpbmcgPSBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmFic29sdXRlTWFya0RpZmZlcmVuY2VUaXRsZTtcclxuICAgICAgICBsZXQgdGl0bGVUbWQ6IHN0cmluZyA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUudG90YWxNYXJrRGlmZmVyZW5jZVRpdGxlO1xyXG4gICAgICAgIGxldCBtYXJrc0RpZmZlcmVuY2VUZXh0QW1kOiBzdHJpbmcgPSAnbWFya2luZy53b3JrbGlzdC50aWxlLXZpZXctbGFiZWxzLmFtZCc7XHJcbiAgICAgICAgbGV0IG1hcmtzRGlmZmVyZW5jZVRleHRUbWQ6IHN0cmluZyA9ICdtYXJraW5nLndvcmtsaXN0LnRpbGUtdmlldy1sYWJlbHMudG1kJztcclxuXHJcbiAgICAgICAgc3dpdGNoIChtYXJrc0RpZmZlcmVuY2VUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya3NEaWZmZXJlbmNlVHlwZS5BYnNvbHV0ZU1hcmtzRGlmZmVyZW5jZTpcclxuICAgICAgICAgICAgICAgIG1hcmtzRGlmZmVyZW5jZSA9IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLmFic29sdXRlTWFya3NEaWZmZXJlbmNlXTtcclxuICAgICAgICAgICAgICAgIG1hcmtzRGlmZmVyZW5jZVRleHQgPSBtYXJrc0RpZmZlcmVuY2VUZXh0QW1kO1xyXG4gICAgICAgICAgICAgICAgdGl0bGUgPSB0aXRsZUFtZDtcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZUFtZDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtzRGlmZmVyZW5jZVR5cGUuVG90YWxNYXJrc0RpZmZlcmVuY2U6XHJcbiAgICAgICAgICAgICAgICBtYXJrc0RpZmZlcmVuY2UgPSByZXNwb25zZURhdGFbcHJvcHNOYW1lcy50b3RhbE1hcmtzRGlmZmVyZW5jZV07XHJcbiAgICAgICAgICAgICAgICBtYXJrc0RpZmZlcmVuY2VUZXh0ID0gbWFya3NEaWZmZXJlbmNlVGV4dFRtZDtcclxuICAgICAgICAgICAgICAgIHRpdGxlID0gdGl0bGVUbWQ7XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWVUbWQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXHJcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcclxuICAgICAgICAgICAgLy9UT0RPOiByZW1vdmUgdGhlIGJlbG93IHRlcm5hcmllcyBvbmNlIHRoZSBBTUQsVE1EIGFuZCBhY2N1cmFjeSBjb2x1bW5zIGluY2x1ZGVkIGluIEFQSSBhbmQgU1BcclxuICAgICAgICAgICAgbWFya3NEaWZmZXJlbmNlOiAobWFya3NEaWZmZXJlbmNlKSA/IG1hcmtzRGlmZmVyZW5jZSA6ICcnLFxyXG4gICAgICAgICAgICBtYXJrc0RpZmZlcmVuY2VUZXh0OiAobWFya3NEaWZmZXJlbmNlVGV4dCkgPyBtYXJrc0RpZmZlcmVuY2VUZXh0IDogJycsXHJcbiAgICAgICAgICAgIG1hcmtzRGlmZmVyZW5jZVR5cGU6IChtYXJrc0RpZmZlcmVuY2VUeXBlKSA/IG1hcmtzRGlmZmVyZW5jZVR5cGUgOiAnJyxcclxuICAgICAgICAgICAgaXNUaWxlVmlldzogaXNUaWxlVmlld1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWFya3NEaWZmZXJlbmNlLCBjb21wb25lbnRQcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAvKipcclxuICAgICogQ3JlYXRpbmcgcmVhY3QgY29tcG9uZW50IGZvciBMaW5rZWQgRXhjZXB0aW9uIGNvbXBvbmVudC5cclxuICAgICogQHBhcmFtIHtSZXNwb25zZX0gcmVzcG9uc2VEYXRhIHJlc3BvbnNlIGRhdGFcclxuICAgICogQHBhcmFtIHthbnl9IHByb3BzTmFtZXMgcHJvcCBuYW1lcyBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gc2VxIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcmV0dXJucyBKU1guRWxlbWVudC5cclxuICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TGlua2VkRXhjZXB0aW9uRWxlbWVudChyZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSwgcHJvcHNOYW1lczogYW55LCBzZXE6IHN0cmluZywgaXNUaWxlVmlldzogYm9vbGVhbiA9IHRydWUpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XHJcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGtleTogc2VxLFxyXG4gICAgICAgICAgICBpZDogc2VxLFxyXG4gICAgICAgICAgICBoYXNFeGNlcHRpb25zOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5oYXNFeGNlcHRpb25zXSxcclxuICAgICAgICAgICAgaGFzQmxvY2tpbmdFeGNlcHRpb25zOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5oYXNCbG9ja2luZ0V4Y2VwdGlvbnNdLFxyXG4gICAgICAgICAgICBoYXNab25pbmdFeGNlcHRpb25zOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5oYXNab25pbmdFeGNlcHRpb25zXSxcclxuICAgICAgICAgICAgaXNab25pbmdFeGNlcHRpb25SYWlzZWRJblNhbWVTY3JpcHQ6IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLmlzWm9uaW5nRXhjZXB0aW9uUmFpc2VkSW5TYW1lU2NyaXB0XSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxyXG4gICAgICAgICAgICByZXNvbHZlZEV4Y2VwdGlvbnNDb3VudDogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMucmVzb2x2ZWRFeGNlcHRpb25zQ291bnRdLFxyXG4gICAgICAgICAgICBpc1RpbGVWaWV3OiBpc1RpbGVWaWV3LFxyXG4gICAgICAgICAgICBkaXNwbGF5SWQ6IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLmRpc3BsYXlJZF0sXHJcbiAgICAgICAgICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlLFxyXG4gICAgICAgICAgICB1bmFjdGlvbmVkRXhjZXB0aW9uQ291bnQ6IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLnVuYWN0aW9uZWRFeGNlcHRpb25Db3VudF1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExpbmtlZEV4Y2VwdGlvbkluZGljYXRvciwgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGdlbmVyaWMgdGV4dCBjb2x1bW5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0VmFsdWVcclxuICAgICAqIEBwYXJhbSB7YW55fSBwcm9wc05hbWVzXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VxXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0R2VuZXJpY1RleHRFbGVtZW50KHRleHRWYWx1ZTogc3RyaW5nLCBzZXE6IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcclxuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcclxuICAgICAgICAgICAga2V5OiBzZXEsXHJcbiAgICAgICAgICAgIGlkOiBzZXEsXHJcbiAgICAgICAgICAgIHRleHRWYWx1ZTogdGV4dFZhbHVlXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChHZW5lcmljVGV4dENvbHVtbiwgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIFNldCByb3cgc3R5bGUgdG8gYW1iZXIgaWYgdGhlIHJlc3BvbnNlIGhhcyBibG9ja2luZyBleGNlcHRpb25zXHJcbiAgICAqIG9yIGFsbCBwYWdlcyBhcmUgbm90IGFubm90YXRlZFxyXG4gICAgKiBTZXQgcm93IHN0eWxlIGJhc2VkIG9uIEFjY3VyYWN5IEluZGljYXRvclxyXG4gICAgKiBAcGFyYW0gcmVzcG9uc2VTdGF0dXNcclxuICAgICogQHBhcmFtIGFjY3VyYWN5VHlwZVxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBzZXRSb3dTdHlsZShyZXNwb25zZVN0YXR1czogSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+LCBhY2N1cmFjeVR5cGU/OiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBhY2N1cmFjeTogYW55O1xyXG4gICAgICAgIC8qKiAgJ2Vsc2UnIGNvbmRpdGlvbiBpcyBwdXQgYXMgdGhlIGV4Y2VwdGlvbi8gYWxsIHBhZ2VzIGFubm90YXRlZCBpY29ucyB3b24ndCBhcHBlYXIgaW4gQ2xvc2VkIHdvcmtsaXN0ICovXHJcbiAgICAgICAgaWYgKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuaXNNYXJraW5nQ2hlY2tNb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAncm93JztcclxuICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbikgfHxcclxuICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzWm9uaW5nRXhjZXB0aW9uKSB8fFxyXG4gICAgICAgICAgICByZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxQYWdlc0Fubm90YXRlZCkgfHxcclxuICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya0NoYW5nZVJlYXNvbk5vdEV4aXN0KSB8fFxyXG4gICAgICAgICAgICByZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy5zdXBlcnZpc29yUmVtYXJrRGVjaXNpb25Ob3RTZWxlY3RlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdyb3cgd2FybmluZy1hbGVydCc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhY2N1cmFjeVR5cGUgIT09IG51bGwgJiYgdGhpcy5kb1Nob3dBY2N1cmFjeUluZGljYXRvcikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGFjY3VyYWN5VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuQWNjdXJhdGU6XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5BY2N1cmF0ZU5SOlxyXG4gICAgICAgICAgICAgICAgICAgIGFjY3VyYWN5ID0gJ3JvdyBhY2N1cmF0ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5PdXRzaWRlVG9sZXJhbmNlOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuT3V0c2lkZVRvbGVyYW5jZU5SOlxyXG4gICAgICAgICAgICAgICAgICAgIGFjY3VyYWN5ID0gJ3JvdyBpbmFjY3VyYXRlJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLldpdGhpblRvbGVyYW5jZTpcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLldpdGhpblRvbGVyYW5jZU5SOlxyXG4gICAgICAgICAgICAgICAgICAgIGFjY3VyYWN5ID0gJ3JvdyBpbnRvbGVyYW5jZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGFjY3VyYWN5ID0gJ3Jvdyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGFjY3VyYWN5O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAncm93JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBkb1Nob3dBY2N1cmFjeUluZGljYXRvcigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5kb1Nob3dBY2N1cmFjeUluZGljYXRvcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdHJ1ZSBpZiB0aGUgc2VlZCBsYWJlbCBzaG91bGQgYmUgZGlzcGxheWVkLlxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBzaG93U2VlZExhYmVsKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCB3b3JrTGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZTtcclxuICAgICAgICBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc0F1dG9tYXRpY1F1YWxpdHlGZWVkYmFja0NDT24gJiZcclxuICAgICAgICAgICAgKHdvcmtMaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLmxpdmUgfHwgd29ya0xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuZGlyZWN0ZWRSZW1hcmspKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAvKipcclxuICAgICogU2V0IHJvdyB0aXRsZSBiYXNlZCBvbiBBY2N1cmFjeSBJbmRpY2F0b3JcclxuICAgICogQHBhcmFtIGFjY3VyYWN5VHlwZVxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBzZXRSb3dUaXRsZShhY2N1cmFjeVR5cGU/OiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCB0aXRsZTogYW55O1xyXG4gICAgICAgIGlmIChhY2N1cmFjeVR5cGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChhY2N1cmFjeVR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLkFjY3VyYXRlOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuQWNjdXJhdGVOUjpcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuYWNjdXJhdGVBY2N1cmFjeUluZGljYXRvclRpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuT3V0c2lkZVRvbGVyYW5jZTpcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLk91dHNpZGVUb2xlcmFuY2VOUjpcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaW5hY2N1cmF0ZUFjY3VyYWN5SW5kaWNhdG9yVGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5XaXRoaW5Ub2xlcmFuY2U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5XaXRoaW5Ub2xlcmFuY2VOUjpcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaW50b2xlcmFuY2VBY2N1cmFjeUluZGljYXRvclRpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aXRsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgTWFya2luZ1Byb2dyZXNzIGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0gcmVzcG9uc2VEYXRhIC0gcmVzcG9uc2UgZGF0YVxyXG4gICAgKiBAcGFyYW0gcHJvcHNOYW1lcyAtIHByb3AgbmFtZXMgZm9yIHRoZSBNYXJraW5nUHJvZ3Jlc3MgY29tcG9uZW50XHJcbiAgICAqIEBwYXJhbSBzZXEgLSBrZXkgdmFsdWUgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICogQHJldHVybnMgSlNYLkVsZW1lbnQuXHJcbiAgICAqL1xyXG4gICAgcHVibGljIGdldE1hcmtpbmdQcm9ncmVzc0VsZW1lbnQocmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UsXHJcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxyXG4gICAgICAgIHNlcTogc3RyaW5nLFxyXG4gICAgICAgIHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPixcclxuICAgICAgICB3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSxcclxuICAgICAgICBpc1RpbGVWaWV3OiBib29sZWFuID0gdHJ1ZSk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtsaXN0VmFsaWRhdG9yTGlzdDogd29ya2xpc3RWYWxpZGF0b3JMaXN0ID0gd29ya2xpc3RWYWxpZGF0b3JMaXN0LmxpdmVPcGVuO1xyXG4gICAgICAgIGlmICh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5kaXJlY3RlZFJlbWFyaykge1xyXG4gICAgICAgICAgICBfd29ya2xpc3RWYWxpZGF0b3JMaXN0ID0gd29ya2xpc3RWYWxpZGF0b3JMaXN0LmRpcmVjdGVkUmVtYXJrT3BlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGtleTogc2VxLFxyXG4gICAgICAgICAgICBpZDogc2VxLFxyXG4gICAgICAgICAgICByZXNwb25zZVN0YXR1czpcclxuICAgICAgICAgICAgd29ya2xpc3RWYWxpZGF0b3JGYWN0b3J5LmdldFZhbGlkYXRvcihfd29ya2xpc3RWYWxpZGF0b3JMaXN0KS5zdWJtaXRCdXR0b25WYWxpZGF0ZShyZXNwb25zZURhdGEpLFxyXG4gICAgICAgICAgICBwcm9ncmVzczogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMubWFya2luZ1Byb2dyZXNzXSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZDogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMubWFya0dyb3VwSWRdLFxyXG4gICAgICAgICAgICBpc1N1Ym1pdERpc2FibGVkOiBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzU3VibWl0RGlzYWJsZWQod29ya2xpc3RUeXBlKSxcclxuICAgICAgICAgICAgaXNUaWxlVmlldzogaXNUaWxlVmlldyxcclxuICAgICAgICAgICAgaXNUZWFtTWFuYWdlbWVudE1vZGU6IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNUZWFtTWFuYWdlbWVudE1vZGVcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KE1hcmtpbmdQcm9ncmVzcywgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgTWFya2luZ1Byb2dyZXNzIGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0gcmVzcG9uc2VEYXRhIC0gcmVzcG9uc2UgZGF0YVxyXG4gICAgKiBAcGFyYW0gcHJvcHNOYW1lcyAtIHByb3AgbmFtZXMgZm9yIHRoZSBNYXJraW5nUHJvZ3Jlc3MgY29tcG9uZW50XHJcbiAgICAqIEBwYXJhbSBzZXEgLSBrZXkgdmFsdWUgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICogQHBhcmFtIHJlc3BvbnNlTW9kZSAtIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgKiBAcGFyYW0gaXNUaWxlVmlldyAtIHdoZXRoZXIgdGlsZSB2aWV3XHJcbiAgICAqIEByZXR1cm5zIEpTWC5FbGVtZW50LlxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBnZXRMYXN0VXBkYXRlZEVsZW1lbnQocmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UsXHJcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxyXG4gICAgICAgIHNlcTogc3RyaW5nLFxyXG4gICAgICAgIHJlc3BvbnNlTW9kZT86IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBpc1RpbGVWaWV3OiBib29sZWFuID0gdHJ1ZSk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcclxuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcclxuICAgICAgICAgICAga2V5OiBzZXEsXHJcbiAgICAgICAgICAgIGlkOiBzZXEsXHJcbiAgICAgICAgICAgIGRhdGVUeXBlOiByZXNwb25zZU1vZGUgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuIHx8IHJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcgP1xyXG4gICAgICAgICAgICAgICAgZW51bXMuV29ya0xpc3REYXRlVHlwZS5sYXN0VXBkYXRlZERhdGUgOiBlbnVtcy5Xb3JrTGlzdERhdGVUeXBlLnN1Ym1pdHRlZERhdGUsXHJcbiAgICAgICAgICAgIGRhdGVWYWx1ZTogdGhpcy5nZXREYXRlVmFsdWVGb3JSZXNwb25zZUlkRWxlbWVudChyZXNwb25zZU1vZGUsIHJlc3BvbnNlRGF0YSwgcHJvcHNOYW1lcyksXHJcbiAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U6IGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZSxcclxuICAgICAgICAgICAgaXNUaWxlVmlldzogaXNUaWxlVmlld1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGFzdFVwZGF0ZWRDb2x1bW4sIGNvbXBvbmVudFByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgUmVzcG9uc2VJZENvbHVtbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURhdGEgLSByZXNwb25zZSBkYXRhXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNOYW1lcyAtIHByb3AgbmFtZXMgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSBzZXEgLSBrZXkgdmFsdWUgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSBkaXNwbGF5VGV4dCAtIHRoZSB0ZXh0IHRvIGFwcGVuZCB3aXRoIHRoZSBkaXNwbGF5IGlkLlxyXG4gICAgICogQHJldHVybnMgSlNYLkVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRSZXNwb25zZUlkQ29sdW1uRWxlbWVudChyZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSxcclxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXHJcblx0XHRzZXE6IHN0cmluZyxcclxuXHRcdGhhc051bWVyaWNNYXJrOiBib29sZWFuLFxyXG4gICAgICAgIHJlc3BvbnNlTW9kZT86IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuXHRcdGRpc3BsYXlUZXh0Pzogc3RyaW5nLFxyXG4gICAgICAgIGlzUmVzcG9uc2VJZENsaWNrYWJsZTogYm9vbGVhbiA9IHRydWUsXHJcbiAgICAgICAgaXNTZWVkUmVzcG9uc2U6IGJvb2xlYW4gPSBmYWxzZSxcclxuICAgICAgICBpc1RpbGVWaWV3OiBib29sZWFuID0gdHJ1ZSxcclxuICAgICAgICBpc1Jlc3BvbnNlTGFiZWxUeXBlPzogZW51bXMuUmVzcG9uc2VUeXBlKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xyXG4gICAgICAgIGxldCBfZGlzcGxheUlkID0gKChkaXNwbGF5VGV4dCkgPyBkaXNwbGF5VGV4dCA6ICcnKSArIHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLmRpc3BsYXlJZF07XHJcbiAgICAgICAgbGV0IHF1YWxpdHlGZWVkYmFja0NDT24gPSAoY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkF1dG9tYXRpY1F1YWxpdHlGZWVkYmFjayxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQpID09PSAndHJ1ZScpO1xyXG5cclxuICAgICAgICBpZiAoKHJlc3BvbnNlRGF0YSkuaXNXaG9sZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGlzUmVzcG9uc2VMYWJlbFR5cGUgPSBlbnVtcy5SZXNwb25zZVR5cGUuV2hvbGVSZXNwb25zZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGtleTogc2VxLFxyXG4gICAgICAgICAgICBpZDogc2VxLFxyXG4gICAgICAgICAgICBkaXNwbGF5SWQ6IF9kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgIGlzQ2xpY2thYmxlOiBpc1Jlc3BvbnNlSWRDbGlja2FibGUsXHJcbiAgICAgICAgICAgIHdvcmtsaXN0RGF0ZVR5cGU6IHJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4gfHwgcmVzcG9uc2VNb2RlID09PSBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZyA/XHJcbiAgICAgICAgICAgICAgICBlbnVtcy5Xb3JrTGlzdERhdGVUeXBlLmxhc3RVcGRhdGVkRGF0ZSA6IGVudW1zLldvcmtMaXN0RGF0ZVR5cGUuc3VibWl0dGVkRGF0ZSxcclxuICAgICAgICAgICAgZGF0ZVZhbHVlOiB0aGlzLmdldERhdGVWYWx1ZUZvclJlc3BvbnNlSWRFbGVtZW50KHJlc3BvbnNlTW9kZSwgcmVzcG9uc2VEYXRhLCBwcm9wc05hbWVzKSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxyXG4gICAgICAgICAgICBpc1Jlc3BvbnNlVHlwZUxhYmVsVmlzaWJsZTogKChyZXNwb25zZURhdGEpLmlzV2hvbGVSZXNwb25zZSAmJiAocmVzcG9uc2VEYXRhKS5hdHlwaWNhbFN0YXR1cyA9PT0gMCkgPyB0cnVlIDpcclxuICAgICAgICAgICAgICAgICFtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzU2VlZExhYmVsSGlkZGVuXHJcbiAgICAgICAgICAgICAgICAmJiBpc1NlZWRSZXNwb25zZSAgJiYgcmVzcG9uc2VEYXRhLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEICE9PSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuVW5rbm93bixcclxuXHRcdFx0aXNUaWxlVmlldzogaXNUaWxlVmlldyxcclxuXHRcdFx0aGFzTnVtZXJpY01hcms6IGhhc051bWVyaWNNYXJrLFxyXG5cdFx0XHRtYXJraW5nUHJvZ3Jlc3M6IHJlc3BvbnNlRGF0YS5tYXJraW5nUHJvZ3Jlc3MsXHJcbiAgICAgICAgICAgIHRvdGFsTWFya1ZhbHVlOiByZXNwb25zZURhdGEudG90YWxNYXJrVmFsdWUsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogaXNSZXNwb25zZUxhYmVsVHlwZVxyXG5cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KHJlc3BvbnNlSWRDb2x1bW4sIGNvbXBvbmVudFByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgUmVzcG9uc2VJZENvbHVtbiBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURhdGEgLSByZXNwb25zZSBkYXRhXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNOYW1lcyAtIHByb3AgbmFtZXMgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSBzZXEgLSBrZXkgdmFsdWUgZm9yIHRoZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSBkaXNwbGF5VGV4dCAtIHRoZSB0ZXh0IHRvIGFwcGVuZCB3aXRoIHRoZSBkaXNwbGF5IGlkLlxyXG4gICAgICogQHJldHVybnMgSlNYLkVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRSZXNwb25zZUlkRWxlbWVudChyZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSxcclxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXHJcbiAgICAgICAgc2VxOiBzdHJpbmcsXHJcbiAgICAgICAgZGlzcGxheVRleHQ/OiBzdHJpbmcsXHJcbiAgICAgICAgaXNSZXNwb25zZUlkQ2xpY2thYmxlOiBib29sZWFuID0gdHJ1ZSxcclxuICAgICAgICBpc1RpbGVWaWV3OiBib29sZWFuID0gdHJ1ZSk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcclxuICAgICAgICBsZXQgX2Rpc3BsYXlUZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGlmIChkaXNwbGF5VGV4dCkge1xyXG4gICAgICAgICAgICBfZGlzcGxheVRleHQgPSAocmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMucmlnT3JkZXJdICE9PSAwICYmICFpc1RpbGVWaWV3KSA/XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dCArIHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLnJpZ09yZGVyXSArICcgKCcgKyByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5lc0Rpc3BsYXlJZF0gKyAnKScgOlxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVRleHQgKyByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5kaXNwbGF5SWRdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIF9kaXNwbGF5VGV4dCA9IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLmRpc3BsYXlJZF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcclxuICAgICAgICAgICAga2V5OiBzZXEsXHJcbiAgICAgICAgICAgIGlkOiBzZXEsXHJcbiAgICAgICAgICAgIGRpc3BsYXlJZDogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuZGlzcGxheUlkXSxcclxuICAgICAgICAgICAgZGlzcGxheVRleHQ6IF9kaXNwbGF5VGV4dCxcclxuICAgICAgICAgICAgaXNDbGlja2FibGU6IGlzUmVzcG9uc2VJZENsaWNrYWJsZSxcclxuICAgICAgICAgICAgaXNUaWxlVmlldzogaXNUaWxlVmlld1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVzcG9uc2VJZEdyaWRFbGVtZW50LCBjb21wb25lbnRQcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgZGF0ZSB2YWx1ZSBmcHIgcmVzcG9uc2UgaWQgY29sdW1uIGFjY29yZGluZyB0byByZXNwb25zZSBtb2RlXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VNb2RlXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBwcm9wc05hbWVzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREYXRlVmFsdWVGb3JSZXNwb25zZUlkRWxlbWVudChyZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSwgcmVzcG9uc2U6IFJlc3BvbnNlQmFzZSwgcHJvcHNOYW1lczogYW55KTogRGF0ZSB7XHJcbiAgICAgICAgbGV0IGRhdGVWYWx1ZTogRGF0ZSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4gfHwgcmVzcG9uc2VNb2RlID09PSBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZykge1xyXG4gICAgICAgICAgICBkYXRlVmFsdWUgPSByZXNwb25zZVtwcm9wc05hbWVzLnVwZGF0ZWREYXRlXSA/XHJcbiAgICAgICAgICAgICAgICBuZXcgRGF0ZShyZXNwb25zZVtwcm9wc05hbWVzLnVwZGF0ZWREYXRlXSkgOiBudWxsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRhdGVWYWx1ZSA9IHJlc3BvbnNlW3Byb3BzTmFtZXMuc3VibWl0dGVkRGF0ZV0gP1xyXG4gICAgICAgICAgICAgICAgbmV3IERhdGUocmVzcG9uc2VbcHJvcHNOYW1lcy5zdWJtaXR0ZWREYXRlXSkgOiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGF0ZVZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY3JlYXRlIGEgd3JhcGVyIGZvciBncmlkIGNvbHVtblxyXG4gICAgICogQHBhcmFtIGVsZW1lbnRzXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NOYW1lXHJcbiAgICAgKiBAcGFyYW0gc2VxXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRXcmFwcGVkQ29sdW1uKGVsZW1lbnRzOiBJbW11dGFibGUuTGlzdDxKU1guRWxlbWVudD4sIGNsYXNzTmFtZTogc3RyaW5nLCBzZXE6IHN0cmluZyk6IGdyaWRDZWxsIHtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IF9ncmlkQ2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgIGxldCBlbGVtZW50OiBncmlkQ2VsbDtcclxuXHJcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGtleTogc2VxLFxyXG4gICAgICAgICAgICBkaXZDbGFzc05hbWU6IGNsYXNzTmFtZSxcclxuICAgICAgICAgICAgY29tcG9uZW50TGlzdDogZWxlbWVudHNcclxuICAgICAgICB9O1xyXG4gICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEdlbmVyaWNDb21wb25lbnRXcmFwcGVyLCBjb21wb25lbnRQcm9wcyk7XHJcbiAgICAgICAgcmV0dXJuIF93b3JrTGlzdENlbGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjcmVhdGluZyBncmlkIGNvbHVtbnMgY29sbGVjdGlvblxyXG4gICAgICogQHBhcmFtIGdyaWRncmlkTGVmdENvbHVtblxyXG4gICAgICogQHBhcmFtIGdyaWRNaWRkbGVDb2x1bW5cclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqIEBwYXJhbSBncmlkUmlnaHRDb2x1bW4gLSB0byBkaXNwbGF5IEFNRCBhbmQgVE1EIGJhc2VkIG9uIEFjY3VyYWN5IEluZGljYXRvclxyXG4gICAgICogQHJldHVybnMgZ3JpZCBjZWxsIGNvbGxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRHcmlkQ2VsbHMoXHJcbiAgICAgICAgZ3JpZGdyaWRMZWZ0Q29sdW1uOiBBcnJheTxKU1guRWxlbWVudD4sXHJcbiAgICAgICAgZ3JpZE1pZGRsZUNvbHVtbjogQXJyYXk8SlNYLkVsZW1lbnQ+LFxyXG4gICAgICAgIGtleTogc3RyaW5nLFxyXG4gICAgICAgIGdyaWRSaWdodENvbHVtbj86IEFycmF5PEpTWC5FbGVtZW50Pik6IEFycmF5PGdyaWRDZWxsPiB7XHJcbiAgICAgICAgbGV0IF9ncmlkQ2VsbHM6IEFycmF5PGdyaWRDZWxsPiA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIF9ncmlkQ2VsbHMucHVzaCh0aGlzLmdldFdyYXBwZWRDb2x1bW4oSW1tdXRhYmxlLkxpc3QoZ3JpZGdyaWRMZWZ0Q29sdW1uKSwgJ2NvbCBsZWZ0LWNvbCcsICdHcmlkX2xlZnRfJyArIGtleSkpO1xyXG4gICAgICAgIF9ncmlkQ2VsbHMucHVzaCh0aGlzLmdldFdyYXBwZWRDb2x1bW4oSW1tdXRhYmxlLkxpc3QoZ3JpZE1pZGRsZUNvbHVtbiksICdjb2wgY2VudHJlLWNvbCcsICdHcmlkX2NlbnRyZV8nICsga2V5KSk7XHJcbiAgICAgICAgLy8gY3JlYXRlIGNvbHVtbiBmb3IgQU1EIGFuZCBUTUQgb25seSBpZiBncmlkUmlnaHRDb2x1bW4gaXMgbm90IG51bGxcclxuICAgICAgICBpZiAoZ3JpZFJpZ2h0Q29sdW1uICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIF9ncmlkQ2VsbHMucHVzaCh0aGlzLmdldFdyYXBwZWRDb2x1bW4oSW1tdXRhYmxlLkxpc3QoZ3JpZFJpZ2h0Q29sdW1uKSwgJ2NvbCByaWdodC1jb2wnLCAnR3JpZF9yaWdodF8nICsga2V5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfZ3JpZENlbGxzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY3JlYXRpbmcgZ3JpZCByb3dcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVN0YXR1c1xyXG4gICAgICogQHBhcmFtIGRpc3BsYXlJZFxyXG4gICAgICogQHBhcmFtIGdyaWRDZWxsc1xyXG4gICAgICogQHBhcmFtIGFjY3VyYWN5VHlwZSAtIHRvIGRpc3BsYXkgQU1EIGFuZCBUTUQgYmFzZWQgb24gQWNjdXJhY3kgSW5kaWNhdG9yXHJcbiAgICAgKiBAcmV0dXJucyBncmlkIHJvdy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEdyaWRSb3coXHJcbiAgICAgICAgcmVzcG9uc2VTdGF0dXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPixcclxuICAgICAgICBkaXNwbGF5SWQ6IHN0cmluZyxcclxuICAgICAgICBncmlkQ2VsbHM6IEFycmF5PGdyaWRDZWxsPixcclxuICAgICAgICBhY2N1cmFjeVR5cGU/OiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUsXHJcbiAgICAgICAgYWRkaXRpb25hbENvbXBvbmVudD86IEpTWC5FbGVtZW50LFxyXG4gICAgICAgIGNzc0NsYXNzPzogc3RyaW5nKTogZ3JpZFJvdyB7XHJcblxyXG4gICAgICAgIGxldCBfZ3JpZFJvdzogZ3JpZFJvdyA9IG5ldyBncmlkUm93KCk7XHJcbiAgICAgICAgbGV0IGNsYXNzTmFtZSA9IHRoaXMuc2V0Um93U3R5bGUocmVzcG9uc2VTdGF0dXMsIGFjY3VyYWN5VHlwZSAhPT0gbnVsbCA/IGFjY3VyYWN5VHlwZSA6IG51bGwpO1xyXG4gICAgICAgIGNsYXNzTmFtZSA9IChjc3NDbGFzcykgPyAoY2xhc3NOYW1lICsgJyAnICsgY3NzQ2xhc3MpIDogY2xhc3NOYW1lO1xyXG5cclxuICAgICAgICBfZ3JpZFJvdy5zZXRSb3dTdHlsZShjbGFzc05hbWUpO1xyXG4gICAgICAgIF9ncmlkUm93LnNldFJvd0lkKHBhcnNlRmxvYXQoZGlzcGxheUlkKSk7XHJcbiAgICAgICAgX2dyaWRSb3cuc2V0Q2VsbHMoZ3JpZENlbGxzKTtcclxuICAgICAgICBfZ3JpZFJvdy5zZXRBZGRpdGlvbmFsRWxlbWVudChhZGRpdGlvbmFsQ29tcG9uZW50KTtcclxuICAgICAgICAvLyBzZXR0aW5nIHJvdyB0aXRsZSBiYXNlZCBvbiBBY2N1cmFjeSBJbmRpY2F0b3JcclxuICAgICAgICBfZ3JpZFJvdy5zZXRSb3dUaXRsZSh0aGlzLnNldFJvd1RpdGxlKGFjY3VyYWN5VHlwZSAhPT0gbnVsbCA/IGFjY3VyYWN5VHlwZSA6IG51bGwpKTtcclxuICAgICAgICByZXR1cm4gX2dyaWRSb3c7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHcm91cCB0aGUgZWxlbWVudHMgYmFzZWQgb24gdGhlIGNsYXNzTmFtZXMuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3JvdXBDbGFzc05hbWVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZXFcclxuICAgICAqIEByZXR1cm5zIHRoZSBncm91cGVkIEpTWC5FbGVtZW50LlxyXG4gICAgICogQFN1bW1hcnkgZ3JvdXBDbGFzc05hbWUgaXMgdGhlIHJvb3QgZWxlbWVudCBjbGFzc05hbWUgYW5kIHRoZSBjb2x1bW4gbGlzdCBtYXkgY29udGFpblxyXG4gICAgICogdGhlIGtleSBzYW1lIGFzIGdyb3VwQ2xhc3NOYW1lLiBUaGVuIHRoYXQgd2lsbCBub3QgZ3JvdXAgdGhlIGVsZW1lbnRzIGluc3RlYWQgYWRkIGl0IGFzXHJcbiAgICAgKiBpbW1lZGlhdGUgY2hpbGQgbm9kZS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdyb3VwQ29sdW1uRWxlbWVudHMoZ3JvdXBDbGFzc05hbWU6IHN0cmluZywgc2VxOiBzdHJpbmcpOiBKU1guRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGxldCBlbGVtZW50cyA9IEltbXV0YWJsZS5MaXN0PEpTWC5FbGVtZW50PigpO1xyXG5cclxuICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGNsYXNzIGdyb3VwIG5hbWVzIHRvIGZpbmQgdGhlIGNoaWxkIGFuZCBncm91cC5cclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5fZ3JvdXBDb2x1bW5zKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9ncm91cENvbHVtbnNba2V5XS52YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnRQcm9wcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5fZ3JvdXBDb2x1bW5zW2tleV0gKyBzZXEsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiB0aGlzLl9ncm91cENvbHVtbnNba2V5XSArIHNlcSxcclxuICAgICAgICAgICAgICAgICAgICBkaXZDbGFzc05hbWU6IGtleSxcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRMaXN0OiB0aGlzLl9ncm91cENvbHVtbnNba2V5XS52YWx1ZXNcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGtleSBzYW1lIGFzIG1haW4gZ3JvdXAgY2xhc3NOYW1lIHRoZW4gd2UgZG9udCBuZWVkIHRvIGNyZWF0ZSBhIGNoaWxkbm9kZS5cclxuICAgICAgICAgICAgICAgIC8vIHRyZWF0aW5nIGl0IGFzIGltbWVkaWF0ZSBjaGlsZCBvZiB0aGUgbWFpbiBlbGVtZW50LlxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gZ3JvdXBDbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50cyA9IGVsZW1lbnRzLnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChHZW5lcmljQ29tcG9uZW50V3JhcHBlciwgY29tcG9uZW50UHJvcHMpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dyb3VwQ29sdW1uc1trZXldLnZhbHVlcy5tYXAoKHg6IEpTWC5FbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzID0gZWxlbWVudHMucHVzaCh4KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBpZDogZ3JvdXBDbGFzc05hbWUgKyBzZXEsXHJcbiAgICAgICAgICAgIGtleTogZ3JvdXBDbGFzc05hbWUgKyBzZXEsXHJcbiAgICAgICAgICAgIGRpdkNsYXNzTmFtZTogZ3JvdXBDbGFzc05hbWUsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudExpc3Q6IGVsZW1lbnRzXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChHZW5lcmljQ29tcG9uZW50V3JhcHBlciwgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyB0aGUgQWxsUGFnZUFubm90YXRpb25JbmRpY2F0b3Igd2hlbiB0aGUgQ0MgaXMgb24gYW5kIG1hcmtpbmcgaXMgY29tcGxldGVkXHJcbiAgICAgKiBibG9ja2luZyBzdWJtaXNzaW9uLlxyXG4gICAgICogQHBhcmFtIHtSZXNwb25zZUJhc2V9IHJlc3BvbnNlRGF0YVxyXG4gICAgICogQHBhcmFtIHthbnl9IHByb3BzTmFtZXNcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZXFcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRBbGxQYWdlQW5ub3RhdGlvbkluZGljYXRvckVsZW1lbnRcclxuICAgICAgICAocmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UsXHJcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxyXG4gICAgICAgIHNlcTogc3RyaW5nLFxyXG4gICAgICAgIGlzVGlsZVZpZXc6IGJvb2xlYW4gPSB0cnVlLFxyXG4gICAgICAgIHNob3dNYXJraW5nUHJvZ3Jlc3M6IGJvb2xlYW4gPSB0cnVlKTogSlNYLkVsZW1lbnQge1xyXG5cclxuICAgICAgICBsZXQgaXNGb3JjZUFubm90YXRpb25DQ09uID0gdGhpcy5nZXRDQ1ZhbHVlKGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZCk7XHJcbiAgICAgICAgbGV0IG1hcmtpbmdQcm9ncmVzcyA9IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLm1hcmtpbmdQcm9ncmVzc107XHJcblxyXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gc2hvdyB0aGlzIGluIHRpbGUgdmlldyBvbmx5IGlmIHdlIDEwMCUgbWFya2VkIHJlc3BvbnNlcyBhbmRcclxuICAgICAgICAvLyBhbGwgcGFnZSBhbm5vdGF0aW9uIGNjIGlzIG9uLlxyXG4gICAgICAgIGlmIChpc0ZvcmNlQW5ub3RhdGlvbkNDT24gPT09ICd0cnVlJyAmJiBtYXJraW5nUHJvZ3Jlc3MgPT09IDEwMCkge1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICAgICAga2V5OiBzZXEsXHJcbiAgICAgICAgICAgICAgICBpZDogc2VxLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxyXG4gICAgICAgICAgICAgICAgaXNBbGxBbm5vdGF0ZWQ6IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLmhhc0FsbFBhZ2VzQW5ub3RhdGVkXSxcclxuICAgICAgICAgICAgICAgIGlzTWFya2luZ0NvbXBsZXRlZDogKChzaG93TWFya2luZ1Byb2dyZXNzID8gcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMubWFya2luZ1Byb2dyZXNzXSA6IDEwMCkgPT09IDEwMCkgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc1RpbGVWaWV3OiBpc1RpbGVWaWV3LFxyXG4gICAgICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWQ6IHJlc3BvbnNlRGF0YS5tYXJrU2NoZW1lR3JvdXBJZFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgbGV0IGFsbFBhZ2VFbGVtZW50ID0gSW1tdXRhYmxlLkxpc3Q8SlNYLkVsZW1lbnQ+KFtSZWFjdC5jcmVhdGVFbGVtZW50KGFsbFBhZ2VBbm5vdGF0aW9uSW5kaWNhdG9yLCBjb21wb25lbnRQcm9wcyldKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0V3JhcHBlZENvbHVtbihhbGxQYWdlRWxlbWVudCwgJ2NvbCB3bC1zbGFvLWhvbGRlcicsIHNlcSArICd3cmFwcGVkJykuY29sdW1uRWxlbWVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0IHdpdGggZnJlc2ggZ3JvdXAuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBlbXB0eUdyb3VwQ29sdW1ucygpOiB2b2lkIHtcclxuICAgICAgICAvLyBzdGFydCB3aXRoIGEgZnJlc2ggbGlzdCBvZiBjb2x1bW4gZ3JvdXAgc2V0LlxyXG4gICAgICAgIHRoaXMuX2dyb3VwQ29sdW1ucyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBncm91cCBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IGdyb3VwQ29sdW1ucygpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ncm91cENvbHVtbnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBwaW5nIHRoZSBlYWNoIGVsZW1lbnRzIHRvIGEgZ3JvdXAuXHJcbiAgICAgKiBUaGlzIGFkZCB0aGUgZWxlbWVudHMgdG8gYSBkaWN0aW9uYXJ5IHdoaWNoIGhhcyBjbGFzc05hbWUgYXMga2V5XHJcbiAgICAgKiBhbmQgbGlzdCBvZiBlbGVtZW50cyB0aGF0ICBncm91cGVkIHVuZGVyIHRoZSBjbGFzc05hbWUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXHJcbiAgICAgKiBAcGFyYW0ge0pTWC5FbGVtZW50fSBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtYXBHcm91cENvbHVtbnMoY2xhc3NOYW1lOiBzdHJpbmcsIGVsZW1lbnQ6IEpTWC5FbGVtZW50KTogdm9pZCB7XHJcblxyXG4gICAgICAgIC8vIElmIG5vdCBncm91cCBjbGFzcyBoYXMgYmVlbiBhZGRlZCBjcmVhdGUgYSBuZXcgb2JqZWN0XHJcbiAgICAgICAgLy8gb3RoZXJ3aXNlIGFkZCB0byB0aGUgZXhpc3RpbmcuXHJcbiAgICAgICAgaWYgKHRoaXMuX2dyb3VwQ29sdW1uc1tjbGFzc05hbWVdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ3JvdXBDb2x1bW5zW2NsYXNzTmFtZV0gPSB7IHZhbHVlczogSW1tdXRhYmxlLkxpc3Q8SlNYLkVsZW1lbnQ+KCkgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZ3JvdXBDb2x1bW5zW2NsYXNzTmFtZV0udmFsdWVzID0gdGhpcy5fZ3JvdXBDb2x1bW5zW2NsYXNzTmFtZV0udmFsdWVzLnB1c2goZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiByZXNwb25zZSBpcyBzZWVkXHJcbiAgICAgKiBAcGFyYW0gc2VlZFR5cGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzU2VlZFJlc3BvbnNlKHNlZWRUeXBlOiBlbnVtcy5TZWVkVHlwZSkge1xyXG5cclxuICAgICAgICByZXR1cm4gc2VlZFR5cGUgIT09IGVudW1zLlNlZWRUeXBlLk5vbmUgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBDb2x1bW4gSGVhZGVyIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIHNlcSAtIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIGRpc3BsYXlUZXh0IC0gdGhlIHRleHQgdG8gYXBwZW5kIHdpdGggdGhlIGRpc3BsYXkgaWQuXHJcbiAgICAgKiBAcmV0dXJucyBKU1guRWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldENvbHVtbkhlYWRlckVsZW1lbnQoc2VxOiBzdHJpbmcsIGhlYWRlclRleHQ/OiBzdHJpbmcsIGdyaWRDb2x1bW4/OiBzdHJpbmcsXHJcbiAgICAgICAgaXNDdXJyZW50U29ydD86IGJvb2xlYW4sIGlzU29ydFJlcXVpcmVkPzogYm9vbGVhbiwgc29ydERpcmVjdGlvbj86IGVudW1zLlNvcnREaXJlY3Rpb24pOiBKU1guRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgaGVhZGVyVGV4dDogaGVhZGVyVGV4dCxcclxuICAgICAgICAgICAgc29ydERpcmVjdGlvbjogc29ydERpcmVjdGlvbixcclxuICAgICAgICAgICAgaXNDdXJyZW50U29ydDogaXNDdXJyZW50U29ydCxcclxuICAgICAgICAgICAgaXNTb3J0aW5nUmVxdWlyZWQ6IGlzU29ydFJlcXVpcmVkXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sdW1uSGVhZGVyLCBjb21wb25lbnRQcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSByZXNwb25zZSBsYWJlbCB0eXBlIGZvciB3b3JrbGlzdFxyXG4gICAgICpcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZXFcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzUmVzcG9uc2VUeXBlTGFiZWxWaXNpYmxlXVxyXG4gICAgICogQHBhcmFtIHtlbnVtcy5SZXNwb25zZVR5cGV9IFtyZXNwb25zZVR5cGVdXHJcbiAgICAgKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9XHJcbiAgICAgKiBAbWVtYmVyb2YgV29ya2xpc3RIZWxwZXJCYXNlXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRSZXNwb25zZVR5cGVMYWJlbChzZXE6IHN0cmluZyxcclxuICAgICAgICBpc1Jlc3BvbnNlVHlwZUxhYmVsVmlzaWJsZT86IGJvb2xlYW4sIHJlc3BvbnNlVHlwZT86IGVudW1zLlJlc3BvbnNlVHlwZSk6IEpTWC5FbGVtZW50IHtcclxuXHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XHJcblxyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgaXNSZXNwb25zZVR5cGVMYWJlbFZpc2libGU6IGlzUmVzcG9uc2VUeXBlTGFiZWxWaXNpYmxlLFxyXG4gICAgICAgICAgICByZXNwb25zZVR5cGU6IHJlc3BvbnNlVHlwZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlc3BvbnNlVHlwZUxhYmVsLCBjb21wb25lbnRQcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBzYW1wbGUgbGFiZWwgZWxlbWVudFxyXG4gICAgICogQHBhcmFtIHNlcVxyXG4gICAgICogQHBhcmFtIHNhbXBsZUNvbW1lbnRJZFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0U2FtcGxlTGFiZWwoc2VxOiBzdHJpbmcsXHJcbiAgICAgICAgc2FtcGxlQ29tbWVudElkOiBudW1iZXIpOiBKU1guRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xyXG5cclxuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcclxuICAgICAgICAgICAga2V5OiBzZXEsXHJcbiAgICAgICAgICAgIGlkOiBzZXEsXHJcbiAgICAgICAgICAgIHNhbXBsZUNvbW1lbnRJZDogc2FtcGxlQ29tbWVudElkXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2FtcGxlTGFiZWwsIGNvbXBvbmVudFByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHJldmlld2VkIGJ5IGxhYmVsIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSBzZXFcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURhdGFcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldFJldmlld2VkQnlMYWJlbChzZXE6IHN0cmluZyxcclxuICAgICAgICByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSk6IEpTWC5FbGVtZW50IHtcclxuXHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XHJcblxyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgcmV2aWV3ZWRCeUlkOiByZXNwb25zZURhdGEucmV2aWV3ZWRCeVJvbGVJZCxcclxuICAgICAgICAgICAgcmV2aWV3ZWRCeUluaXRpYWxzOiByZXNwb25zZURhdGEucmV2aWV3ZWRCeUluaXRpYWxzLFxyXG4gICAgICAgICAgICByZXZpZXdlZEJ5U3VybmFtZTogcmVzcG9uc2VEYXRhLnJldmlld2VkQnlTdXJuYW1lLFxyXG4gICAgICAgICAgICBpc0F1dG9DaGVja2VkOiAhdGhpcy5nZXRTZW5pb3JFeGFtaW5lclBvb2xDQ1ZhbHVlKCkgJiYgcmVzcG9uc2VEYXRhLmVzTWFya0dyb3VwU3RhdHVzID09PSBlbnVtcy5FU01hcmtHcm91cFN0YXR1cy5BdXRvQ2hlY2tlZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJldmlld2VkQnlMYWJlbCwgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgUXVhbGl0eUZlZWRiYWNrQmFubmVyIGNvbXBvbmVudFxyXG4gICAgICogQHBhcmFtIGluZGV4IC0gcm93IGluZGV4XHJcbiAgICAgKiBAcGFyYW0gd29ya2xpc3RUeXBlXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCByZW5kZXJRdWFsaXR5RmVlZGJhY2tCYW5uZXIocm93SW5kZXg6IG51bWJlciwgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUpIHtcclxuXHJcbiAgICAgICAgbGV0IGlzUXVhbGl0eUZlZWRiYWNrTWVzc2FnZVRvQmVEaXNwbGF5ZWQ6IGJvb2xlYW4gPVxyXG4gICAgICAgICAgICBxdWFsaXR5RmVlZGJhY2tIZWxwZXIuaXNRdWFsdGl5SGVscGVyTWVzc2FnZU5lZWRlZFRvQmVEaXNwbGF5ZWQod29ya2xpc3RUeXBlKTtcclxuICAgICAgICBpZiAocm93SW5kZXggPT09IDAgJiYgaXNRdWFsaXR5RmVlZGJhY2tNZXNzYWdlVG9CZURpc3BsYXllZCkge1xyXG4gICAgICAgICAgICBsZXQgY29tcG9uZW50UHJvcHMgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogJ3F1YWxpdHktZmVlZGJhY2stYmFubmVyJyxcclxuICAgICAgICAgICAgICAgIGtleTogJ3F1YWxpdHktZmVlZGJhY2stYmFubmVyJyxcclxuICAgICAgICAgICAgICAgIGlzQXJpYUhpZGRlbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGUsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXI6ICcnLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcXVhbGl0eUZlZWRiYWNrSGVscGVyLmdldFF1YWxpdHlGZWVkYmFja1N0YXR1c01lc3NhZ2UoKSxcclxuICAgICAgICAgICAgICAgIHJvbGU6ICcnLFxyXG4gICAgICAgICAgICAgICAgYmFubmVyVHlwZTogZW51bXMuQmFubmVyVHlwZS5RdWFsaXR5RmVlZGJhY2tCYW5uZXJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFF1YWxpdHlGZWVkYmFja0Jhbm5lciwgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIE9yaWdpbmFsTWFyayBSZWFjdCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSBzZXFcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURhdGFcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldE9yaWdpbmFsTWFya0VsZW1lbnQoc2VxOiBzdHJpbmcsXHJcbiAgICAgICAgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UsXHJcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxyXG4gICAgICAgIGlzVmlzaWJsZTogYm9vbGVhbik6IEpTWC5FbGVtZW50IHtcclxuXHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XHJcblxyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgaXNOb25OdW1lcmljTWFyazogdGhpcy5faXNOb25OdW1lcmljLFxyXG4gICAgICAgICAgICBvcmlnaW5hbE1hcmtUb3RhbDogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMub3JpZ2luYWxNYXJrVG90YWxdLFxyXG4gICAgICAgICAgICBpc1Zpc2libGU6IGlzVmlzaWJsZSxcclxuICAgICAgICAgICAgYWNjdXJhY3lJbmRpY2F0b3JUeXBlOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5hY2N1cmFjeUluZGljYXRvclR5cGVJRF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChPcmlnaW5hbE1hcmssIGNvbXBvbmVudFByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIE9yaWdpbmFsTWFyayBhY2N1cmFjeSBSZWFjdCBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSBzZXFcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURhdGFcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldE9yaWdpbmFsTWFya0FjY3VyYWN5RWxlbWVudChzZXE6IHN0cmluZyxcclxuICAgICAgICByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSxcclxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXHJcbiAgICAgICAgaXNWaXNpYmxlOiBib29sZWFuKTogSlNYLkVsZW1lbnQge1xyXG5cclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcclxuXHJcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGtleTogc2VxLFxyXG4gICAgICAgICAgICBpZDogc2VxLFxyXG4gICAgICAgICAgICBpc1Zpc2libGU6IGlzVmlzaWJsZSxcclxuICAgICAgICAgICAgYWNjdXJhY3lJbmRpY2F0b3JUeXBlOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5hY2N1cmFjeUluZGljYXRvclR5cGVJRF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChPcmlnaW5hbE1hcmtBY2N1cmFjeSwgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBzdXBlcnZpc29yIHJldmlldyBjb21tZW50XHJcbiAgICAgKiBAcGFyYW0gc2VxXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VEYXRhXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRTdXBlcnZpc29yUmV2aWV3Q29tbWVudChzZXE6IHN0cmluZyxcclxuICAgICAgICByZXNwb25zZURhdGE6IFJlc3BvbnNlQmFzZSk6IEpTWC5FbGVtZW50IHtcclxuXHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XHJcblxyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgcmV2aWV3Q29tbWVudElkOiByZXNwb25zZURhdGEuc2V0QXNSZXZpZXdlZENvbW1lbnRJZCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdXBlcnZpc29yUmV2aWV3Q29tbWVudCwgY29tcG9uZW50UHJvcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgdGFibGUgcm93IGNvbGxlY3Rpb24gZm9yIHdvcmtsaXN0IHRhYmxlIGhlYWRlci5cclxuICAgICAqIEBwYXJhbSB3b3JrbGlzdFR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFRhYmxlSGVhZGVyRm9yTGlzdFZpZXcod29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUsIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLFxyXG4gICAgICAgIGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG5cclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q29sdW1uSGVhZGVyQ29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xyXG4gICAgICAgIGxldCBfd29ya0xpc3RDb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbjogQXJyYXk8Z3JpZENlbGw+ID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5nZXRHcmlkQ29sdW1ucyh0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLCB3b3JrbGlzdFR5cGUsIHJlc3BvbnNlTW9kZSk7XHJcbiAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XHJcblxyXG4gICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcclxuXHJcbiAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xyXG4gICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcblxyXG4gICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcblxyXG4gICAgICAgICAgICBsZXQgaGVhZGVyVGV4dCA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29sdW1uSGVhZGVyO1xyXG4gICAgICAgICAgICBsZXQgX2NvbXBhcmVyTmFtZSA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcGFyZXJOYW1lO1xyXG5cclxuICAgICAgICAgICAgaGVhZGVyVGV4dCA9IChoZWFkZXJUZXh0ICYmIGhlYWRlclRleHQgIT09ICcnKSA/IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoaGVhZGVyVGV4dCkgOiAnJztcclxuICAgICAgICAgICAgbGV0IGtleSA9ICdjb2x1bW5IZWFkZXJfJyArIGdyaWRDb2x1bW5Db3VudDtcclxuXHJcblxyXG4gICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldENvbHVtbkhlYWRlckVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJUZXh0LFxyXG4gICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uLFxyXG4gICAgICAgICAgICAgICAgKGNvbXBhcmVyTmFtZSA9PT0gX2NvbXBhcmVyTmFtZSksXHJcbiAgICAgICAgICAgICAgICAoZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Tb3J0YWJsZSA9PT0gJ3RydWUnKSxcclxuICAgICAgICAgICAgICAgIHNvcnREaXJlY3Rpb25cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIF93b3JrTGlzdENlbGwuaXNIaWRkZW4gPSB0aGlzLmdldENlbGxWaXNpYmlsaXR5KF9yZXNwb25zZUNvbHVtbik7XHJcblxyXG4gICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbXBhcmVyTmFtZSA9IF9jb21wYXJlck5hbWU7XHJcbiAgICAgICAgICAgIF93b3JrTGlzdENlbGwuc29ydERpcmVjdGlvbiA9IHRoaXMuZ2V0U29ydERpcmVjdGlvbigoY29tcGFyZXJOYW1lID09PSBfY29tcGFyZXJOYW1lKSwgc29ydERpcmVjdGlvbik7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA6ICcnO1xyXG4gICAgICAgICAgICBfd29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgX3dvcmtMaXN0Q29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfd29ya0xpc3RDZWxsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF93b3JrbGlzdFJvdy5zZXRSb3dJZCgxKTtcclxuICAgICAgICBfd29ya2xpc3RSb3cuc2V0Q2VsbHMoX3dvcmtMaXN0Q29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb24pO1xyXG4gICAgICAgIF93b3JrTGlzdENvbHVtbkhlYWRlckNvbGxlY3Rpb24ucHVzaChfd29ya2xpc3RSb3cpO1xyXG5cclxuICAgICAgICBsZXQgX3dvcmtMaXN0VGFibGVIZWFkZXJDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfd29ya0xpc3RDb2x1bW5IZWFkZXJDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gX3dvcmtMaXN0VGFibGVIZWFkZXJDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIHJldHVybnMgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uIG9mIGZyb3plbiB0YWJsZSAocmVzcG9uc2UgaWQpXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VMaXN0RGF0YVxyXG4gICAgICogQHBhcmFtIHdvcmtsaXN0VHlwZVxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlTW9kZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RnJvemVuUm93Qm9keUZvckxpc3RWaWV3KHJlc3BvbnNlTGlzdERhdGE6IFdvcmtsaXN0QmFzZSwgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUsXHJcbiAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUpOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcblxyXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuICAgICAgICBsZXQgY3NzQ2xhc3M6IHN0cmluZztcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlTGlzdERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHJlc3BvbnNlTGlzdERhdGEucmVzcG9uc2VzLmtleVNlcSgpO1xyXG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGEgPSByZXNwb25zZUxpc3REYXRhLnJlc3BvbnNlcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3BvbnNlTGlzdENvdW50ID0gMDsgcmVzcG9uc2VMaXN0Q291bnQgPCBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7IHJlc3BvbnNlTGlzdENvdW50KyspIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XHJcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF0gY29sbGVjdGlvbiBpbnNpZGUgbG9vcCwgaXRzIGFjY2Vzc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXMgPSB0aGlzLmdldFJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlRGF0YSwgcmVzcG9uc2VNb2RlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24sIHdvcmtsaXN0VHlwZSwgcmVzcG9uc2VNb2RlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xyXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL1N3aXRjaCBzdGF0ZW1lbnQgZm9yIGFkZGluZyBmcm96ZW4gY29sdW1ucyBpbiBmdXR1cmUuXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmVzcG9uc2VJZENvbHVtbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfUmVzcG9uc2VJZENvbHVtbl8nICsgZ3JpZENvbHVtbkNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRSZXNwb25zZUlkRWxlbWVudChyZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERpc3BsYXlUZXh0T2ZSZXNwb25zZSh3b3JrbGlzdFR5cGUpLCB0cnVlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoJ2NvbC1yZXNwb25zZSBoZWFkZXItY29sJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLmxpdmUgfHwgd29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuZGlyZWN0ZWRSZW1hcmspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWRkaXRpb25hbENvbXBvbmVudCA9IHRoaXMucmVuZGVyUXVhbGl0eUZlZWRiYWNrQmFubmVyKHJlc3BvbnNlTGlzdENvdW50LCBlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5zZXRBZGRpdGlvbmFsRWxlbWVudChhZGRpdGlvbmFsQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzcyA9IChhZGRpdGlvbmFsQ29tcG9uZW50KSA/ICdoaWdobGlnaHQtc2VlZCcgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3MgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEFjY3VyYWN5VHlwZShyZXNwb25zZU1vZGUsIHJlc3BvbnNlRGF0YSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3NcclxuICAgICAgICAgICAgICAgICAgICApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgX3dvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiBfd29ya0xpc3RGcm96ZW5Sb3dCb2R5Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgIC8qKlxyXG4gICAgKiByZXR1cm5zIHRoZSB0YWJsZSByb3cgZWxlbWVudHMgZm9yIGZyb3plbiB0YWJsZSBoZWFkZXJcclxuICAgICogQHBhcmFtIHJlc3BvbnNlTGlzdERhdGEgLSBsaXN0IG9mIHJlc3BvbnNlc1xyXG4gICAgKiBAcmV0dXJucyBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBnZXRGcm96ZW5Sb3dIZWFkZXJGb3JMaXN0Vmlldyh3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSwgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUsXHJcbiAgICAgICAgY29tcGFyZXJOYW1lOiBzdHJpbmcsIHNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24sIGlzU29ydGFibGU6IGJvb2xlYW4pOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XHJcblxyXG4gICAgICAgIGxldCBfd29ya0xpc3RDb2x1bW5IZWFkZXJDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdyA9IG5ldyBncmlkUm93KCk7XHJcbiAgICAgICAgbGV0IF93b3JrTGlzdENvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uOiBBcnJheTxncmlkQ2VsbD4gPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgbGV0IGtleSA9ICdmcm96ZW5Sb3dIZWFkZXInO1xyXG5cclxuICAgICAgICBsZXQgX2NvbXBhcmVyTmFtZSA9IGNvbXBhcmVyTGlzdC5yZXNwb25zZUlkQ29tcGFyZXI7XHJcblxyXG4gICAgICAgIC8vVE9ETyA6IE1vdmUgdGhlIG1hZ2ljIHN0cmluZ3Mgb3V0c2lkZSAoanNvbj8pXHJcbiAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRDb2x1bW5IZWFkZXJFbGVtZW50KFxyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QubGlzdC12aWV3LWNvbHVtbi1oZWFkZXJzLnJlc3BvbnNlLWlkJyksXHJcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgKGNvbXBhcmVyTGlzdFtjb21wYXJlck5hbWVdID09PSBfY29tcGFyZXJOYW1lKSxcclxuICAgICAgICAgICAgaXNTb3J0YWJsZSxcclxuICAgICAgICAgICAgc29ydERpcmVjdGlvblxyXG4gICAgICAgICk7XHJcbiAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb21wYXJlck5hbWUgPSBjb21wYXJlckxpc3RbX2NvbXBhcmVyTmFtZV07XHJcbiAgICAgICAgX3dvcmtMaXN0Q2VsbC5zb3J0RGlyZWN0aW9uID0gdGhpcy5nZXRTb3J0RGlyZWN0aW9uKChjb21wYXJlckxpc3RbY29tcGFyZXJOYW1lXSA9PT0gX2NvbXBhcmVyTmFtZSksIHNvcnREaXJlY3Rpb24pO1xyXG5cclxuICAgICAgICBfd29ya0xpc3RDZWxsLnNldENlbGxTdHlsZSgnY29sLXJlc3BvbnNlIGhlYWRlci1jb2wnKTtcclxuICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICBfd29ya0xpc3RDb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xyXG5cclxuICAgICAgICBfd29ya2xpc3RSb3cuc2V0Um93SWQoMSk7XHJcbiAgICAgICAgX3dvcmtsaXN0Um93LnNldENlbGxzKF93b3JrTGlzdENvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uKTtcclxuICAgICAgICBfd29ya0xpc3RDb2x1bW5IZWFkZXJDb2xsZWN0aW9uLnB1c2goX3dvcmtsaXN0Um93KTtcclxuXHJcbiAgICAgICAgbGV0IF93b3JrTGlzdEZyb3plblJvd0hlYWRlckNvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF93b3JrTGlzdENvbHVtbkhlYWRlckNvbGxlY3Rpb24pO1xyXG5cclxuICAgICAgICByZXR1cm4gX3dvcmtMaXN0RnJvemVuUm93SGVhZGVyQ29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGdyaWRjb2x1bW5zIGJhc2VkIG9uIHRoZSByZXNwb25zZSBtb2RlIGFuZCB3b3JrbGlzdCB0eXBlXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VNb2RlXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRHcmlkQ29sdW1ucyhyZXNvbHZlZEdyaWRDb2x1bW5zSnNvbjogYW55LCB3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSwgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUsXHJcbiAgICAgICAgaXNGcm96ZW46IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBncmlkQ29sdW1uczogYW55O1xyXG4gICAgICAgIHJldHVybiBncmlkQ29sdW1ucztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybiB0aGUgZGlzcGxheSB0ZXh0IGZvciByZXNwb25zZSBpZFxyXG4gICAgICogQHBhcmFtIHdvcmtsaXN0VHlwZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RGlzcGxheVRleHRPZlJlc3BvbnNlKHdvcmtsaXN0VHlwZTogZW51bXMuV29ya2xpc3RUeXBlKTogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgbGV0IGRpc3BsYXlUZXh0OiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIHN3aXRjaCAod29ya2xpc3RUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuV29ya2xpc3RUeXBlLnByYWN0aWNlOlxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVRleHQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEucHJhY3RpY2UtcmVzcG9uc2UtdGl0bGUnKSArICcgJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLldvcmtsaXN0VHlwZS5zdGFuZGFyZGlzYXRpb246XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zdGFuZGFyZGlzYXRpb24tcmVzcG9uc2UtdGl0bGUnKSArICcgJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLldvcmtsaXN0VHlwZS5zZWNvbmRzdGFuZGFyZGlzYXRpb246XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNFU1RlYW1NZW1iZXIgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5pc0VsZWN0cm9uaWNTdGFuZGFyZGlzYXRpb25UZWFtTWVtYmVyO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheVRleHQgPSBpc0VTVGVhbU1lbWJlciA/XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnN0bS1zdGFuZGFyZGlzYXRpb24tcmVzcG9uc2UtdGl0bGUnKSArICcgJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnNlY29uZC1zdGFuZGFyZGlzYXRpb24tcmVzcG9uc2UtdGl0bGUnKSArICcgJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRpc3BsYXlUZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcmVzcG9zbmUgc3RhdXMgYmFzZWQgb24gdGhlIHdvcmtsaXN0IGFuZCBpdHMgdmFsaWRhdG9yIHR5cGVcclxuICAgICAqIEBwYXJhbSB3b3JrbGlzdFR5cGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldFJlc3BvbnNlU3RhdHVzKHJlc3BvbnNlRGF0YTogUmVzcG9uc2VCYXNlLCByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSk6XHJcbiAgICAgICAgSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+IHtcclxuXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz47XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlU3RhdHVzO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIHJldHVybnMgd2hldGhlciB0aGUgdGhlIGdpdmVuIGNvbHVtbiBpcyBoaWRkZW4gb3Igbm90XHJcbiAgICAqIEBwYXJhbSByZXNwb25zZUNvbHVtblxyXG4gICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRDZWxsVmlzaWJpbGl0eShjb2x1bW46IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGFjY3VyYWN5IHR5cGUgYmFzZWQgb24gYWNjdXJhY3kgIGFuZCBDQyB2YWx1ZXNcclxuICAgICAqIEBwYXJhbSByZXNwb25zZU1vZGVcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURhdGFcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldEFjY3VyYWN5VHlwZShyZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZSwgcmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UpOiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUge1xyXG5cclxuICAgICAgICByZXR1cm4gZW51bXMuQWNjdXJhY3lJbmRpY2F0b3JUeXBlLlVua25vd247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHdoZXRoZXIgdGhlIGN1cnJlbnQgcWlnIGlzIHN0cnVjdHVyZWQgb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgaXNTdHJ1Y3R1cmVkUUlHKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya2luZ01ldGhvZCA9PT0gZW51bXMuTWFya2luZ01ldGhvZC5TdHJ1Y3R1cmVkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgd2hldGhlciB0aGUgdmFsdWUgaXMgbnVtZXJpYyBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBpc05vbk51bWVyaWMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzTm9uTnVtZXJpYztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSB3aGV0aGVyIHRoZSByZXNwb25zZSBpcyBudW1lcmljIG9yIG5vdC5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIHNldE5vbk51bWVyaWMoaXNOb25OdW1lcmljOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5faXNOb25OdW1lcmljID0gaXNOb25OdW1lcmljO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IGR5bmFtaWMgY29sdW1uXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCByZXNldER5bmFtaWNDb2x1bW5TZXR0aW5ncygpIHtcclxuICAgICAgICB0aGlzLl9kYXRlTGVuZ3RoSW5QaXhlbCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm4gdGhlIHNvcnQgZGlyZWN0aW9uIC0gaWYgaXQgaXMgY3VycmVudCBzb3J0IGp1c3QgcmV2ZXJzZSB0aGUgZGlyZWN0aW9uIG90aGVyd2lzZSBhc2MgYXMgZGVmYXVhbHQgZGlyZWN0aW9uLlxyXG4gICAgICogQHBhcmFtIGlzQ3VycmVudFNvcnRcclxuICAgICAqIEBwYXJhbSBzb3J0RGlyZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRTb3J0RGlyZWN0aW9uKGlzQ3VycmVudFNvcnQ6IGJvb2xlYW4sIHNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24pOiBlbnVtcy5Tb3J0RGlyZWN0aW9uIHtcclxuICAgICAgICByZXR1cm4gKChpc0N1cnJlbnRTb3J0ID09PSB0cnVlKSA/XHJcbiAgICAgICAgICAgICgoc29ydERpcmVjdGlvbiA9PT0gZW51bXMuU29ydERpcmVjdGlvbi5Bc2NlbmRpbmcpID8gZW51bXMuU29ydERpcmVjdGlvbi5EZXNjZW5kaW5nIDogZW51bXMuU29ydERpcmVjdGlvbi5Bc2NlbmRpbmcpXHJcbiAgICAgICAgICAgIDogZW51bXMuU29ydERpcmVjdGlvbi5Bc2NlbmRpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHRoZSB2YWx1ZSBvZiBzZW5pb3IgZXhhbWluZXIgcG9vbCBjYy5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldFNlbmlvckV4YW1pbmVyUG9vbENDVmFsdWUoKSB7XHJcbiAgICAgICAgbGV0IGNjVmFsdWUgPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuU2VuaW9yRXhhbWluZXJQb29sLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiBjY1ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgU2VsZWN0ZWQgVGFnIElkIG9mIHJlc3BvbnNlLlxyXG4gICAgICogQHBhcmFtIHNlcVxyXG4gICAgICogQHBhcmFtIHRhZ0lkXHJcbiAgICAgKiBAcGFyYW0gdGFnTGlzdFxyXG4gICAgICogQHBhcmFtIG1hcmtHcm91cElkXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnZXRUYWcoc2VxOiBzdHJpbmcsIHRhZ0lkOiBudW1iZXIsIHRhZ0xpc3Q6IGltbXV0YWJsZS5MaXN0PFRhZz4sXHJcbiAgICAgICAgbWFya0dyb3VwSWQ6IG51bWJlcik6IEpTWC5FbGVtZW50IHtcclxuXHJcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XHJcblxyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRUYWdJZDogdGFnSWQsXHJcbiAgICAgICAgICAgIHRhZ0xpc3Q6IHRhZ0xpc3QsXHJcbiAgICAgICAgICAgIG1hcmtHcm91cElkOiBtYXJrR3JvdXBJZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhZ0xpc3QsIGNvbXBvbmVudFByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgZ2V0QWxsUGFnZUFubm90YXRlZEluZGljYXRvckVsZW1lbnQgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VEYXRhIC0gcmVzcG9uc2UgZGF0YVxyXG4gICAgICogQHBhcmFtIHByb3BzTmFtZXMgLSBwcm9wIG5hbWVzIGZvciB0aGUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0gc2VxIC0ga2V5IHZhbHVlIGZvciB0aGUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0gc2hvd01hcmtpbmdQcm9ncmVzcyAtIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgICogQHJldHVybnMgSlNYLkVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRBbGxGaWxlc05vdFZpZXdlZEluZGljYXRvckVsZW1lbnQocmVzcG9uc2VEYXRhOiBSZXNwb25zZUJhc2UsXHJcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxyXG4gICAgICAgIHNlcTogc3RyaW5nLFxyXG4gICAgICAgIGlzVGlsZVZpZXc6IGJvb2xlYW4gPSB0cnVlKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xyXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xyXG4gICAgICAgICAgICBrZXk6IHNlcSxcclxuICAgICAgICAgICAgaWQ6IHNlcSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxyXG4gICAgICAgICAgICBhbGxGaWxlc1ZpZXdlZDogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuYWxsRmlsZXNWaWV3ZWRdLFxyXG4gICAgICAgICAgICBpc01hcmtpbmdDb21wbGV0ZWQ6IHJlc3BvbnNlRGF0YVtwcm9wc05hbWVzLm1hcmtpbmdQcm9ncmVzc10gPT09IDEwMCA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNUaWxlVmlldzogaXNUaWxlVmlldyxcclxuICAgICAgICAgICAgaXNFQ291cnNld29ya0NvbXBvbmVudDogZUNvdXJzZXdvcmtIZWxwZXIuaXNFQ291cnNld29ya0NvbXBvbmVudFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KGFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yLCBjb21wb25lbnRQcm9wcyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gV29ya2xpc3RIZWxwZXJCYXNlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy91dGlsaXR5L2dyaWQvd29ya2xpc3RoZWxwZXJzL3dvcmtsaXN0aGVscGVyYmFzZS50cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBWUE7QUFFQTtBQXEyQ0E7QUFuMkNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFHQTtBQUNBO0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBSUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFHQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTs7O0FBQUE7QUFNQTtBQUpBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBSkE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTs7Ozs7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBU0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 462:
/* no static exports found */
/* all exports used */
/*!***********************************************!*\
  !*** ./src/components/message/messagebase.ts ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../actions/messaging/messagingactioncreator */ 268);\r\nvar popupHelper = __webpack_require__(/*! ../utility/popup/popuphelper */ 288);\r\nvar popUpDisplayActionCreator = __webpack_require__(/*! ../../actions/popupdisplay/popupdisplayactioncreator */ 328);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar messageStore = __webpack_require__(/*! ../../stores/message/messagestore */ 240);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar qualityfeedbackHelper = __webpack_require__(/*! ../../utility/qualityfeedback/qualityfeedbackhelper */ 309);\r\nvar messageHelper = __webpack_require__(/*! ../utility/message/messagehelper */ 283);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar teamManagementActionCreator = __webpack_require__(/*! ../../actions/teammanagement/teammanagementactioncreator */ 263);\r\nvar applicationStore = __webpack_require__(/*! ../../stores/applicationoffline/applicationstore */ 247);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar MessageBase = /** @class */ (function (_super) {\r\n    __extends(MessageBase, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function MessageBase(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.isSelectedItemClicked = false;\r\n        _this.navigateTo = enums.SaveAndNavigate.none;\r\n        _this.msgEditorId = 'msg-tinymce-editor';\r\n        _this._boundHandleOnClick = null;\r\n        _this.isSubordinateSelected = false;\r\n        _this.sendMessageActionInProgress = false;\r\n        _this.messageType = enums.MessageType.None;\r\n        /**\r\n         * Callback function for dropdown select\r\n         */\r\n        _this.onSelect = function (selectedItem, event) {\r\n            _this.priorityDropDownSelectedItem = selectedItem;\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         *  Callback function for dropdown click\r\n         */\r\n        _this.onDropDownClick = function (dropDown) {\r\n            _this.clickedDropDown = dropDown;\r\n            _this.isSelectedItemClicked = true;\r\n            if (_this.clickedDropDown === enums.DropDownType.Priority) {\r\n                _this.isQigDropDownOpen = undefined;\r\n                _this.isDropDownOpen = _this.isDropDownOpen === undefined ? true : !_this.isDropDownOpen;\r\n            }\r\n            else if (_this.clickedDropDown === enums.DropDownType.QIG) {\r\n                _this.isDropDownOpen = undefined;\r\n                _this.isQigDropDownOpen = _this.isQigDropDownOpen === undefined ? true : !_this.isQigDropDownOpen;\r\n            }\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Handle click events on the window and collapse priority selection dropdown\r\n         * @param {any} source - The source element\r\n         */\r\n        _this.handleOnClick = function () {\r\n            if (!_this.isSelectedItemClicked && ((_this.isDropDownOpen !== undefined && _this.isDropDownOpen)\r\n                || (_this.isQigDropDownOpen !== undefined && _this.isQigDropDownOpen))) {\r\n                // collapse the priority dropdown\r\n                _this.isDropDownOpen = false;\r\n                _this.isQigDropDownOpen = false;\r\n                _this.setState({ renderedOn: Date.now() });\r\n            }\r\n            else {\r\n                _this.isSelectedItemClicked = false;\r\n            }\r\n        };\r\n        /**\r\n         *  This will return the localised string for message priority dropdown\r\n         */\r\n        _this.getPriorityDropDownItem = function (dropDownItem) {\r\n            var localisedDropDownItem;\r\n            switch (dropDownItem) {\r\n                case enums.MessagePriority.Important:\r\n                    localisedDropDownItem = localeStore.instance.TranslateText('messaging.compose-message.priority.important');\r\n                    break;\r\n                case enums.MessagePriority.Mandatory:\r\n                    localisedDropDownItem = localeStore.instance.TranslateText('messaging.compose-message.priority.mandatory');\r\n                    break;\r\n                default:\r\n                    localisedDropDownItem = localeStore.instance.TranslateText('messaging.compose-message.priority.standard');\r\n                    break;\r\n            }\r\n            return localisedDropDownItem;\r\n        };\r\n        /**\r\n         * Method fired when the message is closed.\r\n         */\r\n        _this.onMessageClose = function () {\r\n            // Show discard message if content edited; or just close the panel.\r\n            if (_this.isMessagePanelEdited) {\r\n                messagingActionCreator.messageAction(enums.MessageViewAction.Maximize);\r\n                if (_this.navigateTo === enums.SaveAndNavigate.newMessageButtonClick\r\n                    || _this.navigateTo === enums.SaveAndNavigate.toReplyMessage\r\n                    || _this.navigateTo === enums.SaveAndNavigate.toForwardMessage) {\r\n                    popUpDisplayActionCreator.popUpDisplay(enums.PopUpType.DiscardOnNewMessageButtonClick, enums.PopUpActionType.Show, enums.SaveAndNavigate.none, {\r\n                        popupContent: localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.body-start-new-message-while-composing')\r\n                    });\r\n                }\r\n                else if (_this.navigateTo === enums.SaveAndNavigate.toNewResponseMessageCompose) {\r\n                    popUpDisplayActionCreator.popUpDisplay(enums.PopUpType.DiscardOnNewMessageButtonClick, enums.PopUpActionType.Show, enums.SaveAndNavigate.none, {\r\n                        popupContent: localeStore.instance.TranslateText('marking.response.discard-message-or-exception-dialog.body')\r\n                    });\r\n                }\r\n                else {\r\n                    var messageType = _this.navigateTo !== enums.SaveAndNavigate.none\r\n                        ? enums.PopUpType.DiscardMessageNavigateAway : enums.PopUpType.DiscardMessage;\r\n                    popUpDisplayActionCreator.popUpDisplay(messageType, enums.PopUpActionType.Show, messageStore.instance.navigateFrom, {\r\n                        popupContent: (_this.navigateTo === enums.SaveAndNavigate.messageWithInResponse ?\r\n                            localeStore.instance.TranslateText('marking.response.discard-message-or-exception-dialog.body') : undefined)\r\n                    });\r\n                }\r\n            }\r\n            else if (_this.navigateTo !== enums.SaveAndNavigate.none && _this.navigateTo !== enums.SaveAndNavigate.messageWithInResponse\r\n                && _this.navigateTo !== enums.SaveAndNavigate.newMessageButtonClick) {\r\n                // hide the message panel and navigate away\r\n                _this.onDiscardMessageConfirmed();\r\n            }\r\n            else if (_this.navigateTo === enums.SaveAndNavigate.newMessageButtonClick) {\r\n                _this.navigateTo = enums.SaveAndNavigate.none;\r\n                _this.isMessagePopupMinimized = false;\r\n                _this.setState({ renderedOn: Date.now() });\r\n            }\r\n            else {\r\n                // Close the Message Panel.\r\n                _this.resetAndCloseMessagePanel();\r\n                _this.navigateTo = enums.SaveAndNavigate.none;\r\n            }\r\n        };\r\n        /**\r\n         * Navigate away from current response.\r\n         */\r\n        _this.onNavigateAwayFromResponse = function (navigateTo) {\r\n            _this.navigateTo = navigateTo;\r\n            _this.onMessageClose();\r\n        };\r\n        /**\r\n         * Reset message panel and close\r\n         */\r\n        _this.resetAndCloseMessagePanel = function () {\r\n            _this.priorityDropDownSelectedItem = enums.MessagePriority.Standard;\r\n            _this.toFieldValues = null;\r\n            _this.toFieldIds = null;\r\n            _this.messageSubject = '';\r\n            _this.messageBody = '';\r\n            _this.isDropDownOpen = undefined;\r\n            _this.isQigDropDownOpen = undefined;\r\n            _this.props.closeMessagePanel(_this.navigateTo);\r\n            _this.selectedQigItemId = undefined;\r\n            _this.questionPaperPartId = undefined;\r\n            messageHelper.handleSubjectChange(_this.messageSubject);\r\n            _this.sendMessageActionInProgress = false;\r\n            // updating message component with default values\r\n            // this enable or Disable send button will call setState\r\n            _this.enableDisableSendButton();\r\n            // Need to Update the UI (Subject box in the message, after closing the message : Bug 28224\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Method fired when discard message is confirmed.\r\n         */\r\n        _this.onDiscardMessageConfirmed = function (actionFromCombinedPopup, navigateTo) {\r\n            if (actionFromCombinedPopup === void 0) { actionFromCombinedPopup = false; }\r\n            if (navigateTo === void 0) { navigateTo = enums.SaveAndNavigate.none; }\r\n            // If message panel is not edited, no need to change the UI while logout\r\n            if (_this.isMessagePanelEdited) {\r\n                // Close the Message Panel.\r\n                _this.resetAndCloseMessagePanel();\r\n            }\r\n            else if (!_this.isMessagePanelEdited && _this.navigateTo === enums.SaveAndNavigate.newMessageButtonClick) {\r\n                messagingActionCreator.messageAction(enums.MessageViewAction.Open);\r\n            }\r\n            else {\r\n                _this.resetAndCloseMessagePanel();\r\n            }\r\n            // on message close navigate away from response scenario\r\n            if (_this.navigateTo !== enums.SaveAndNavigate.none && _this.navigateTo !== enums.SaveAndNavigate.messageWithInResponse\r\n                && _this.navigateTo !== enums.SaveAndNavigate.toNewResponseMessageCompose &&\r\n                !(_this.navigateTo === enums.SaveAndNavigate.toResponse && qualityfeedbackHelper.isResponseNavigationBlocked())) {\r\n                if (_this.navigateTo === enums.SaveAndNavigate.toSupervisorRemark) {\r\n                    // Response Going from readonly mode to marking. Reset the message related values from response screen.\r\n                    _this.resetAndCloseMessagePanel();\r\n                }\r\n                // if navigate away from Resposne then close the response and move to worklist.\r\n                popupHelper.navigateAway(_this.navigateTo);\r\n            }\r\n            else if (actionFromCombinedPopup) {\r\n                popupHelper.navigateAway(navigateTo);\r\n            }\r\n            _this.navigateTo = enums.SaveAndNavigate.none;\r\n        };\r\n        /**\r\n         * Method fired when discard message is cancelled.\r\n         */\r\n        _this.onDiscardMessageCancelled = function () {\r\n            // reset navigate away from response\r\n            _this.navigateTo = enums.SaveAndNavigate.none;\r\n            messageHelper.handleSubjectChange(_this.messageSubject);\r\n        };\r\n        /**\r\n         * Handles changes in the message panel subject section.\r\n         * @param e\r\n         */\r\n        _this.handleSubjectChange = function (subject) {\r\n            _this.messageSubject = subject;\r\n            _this.enableDisableSendButton();\r\n            messageHelper.handleSubjectChange(subject);\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Enable and disable send button on tinyMCE editor change.\r\n         */\r\n        _this.toggleSaveButtonState = function () {\r\n            _this.enableDisableSendButton();\r\n        };\r\n        /**\r\n         * Method fired when the message panel is minimized.\r\n         */\r\n        _this.onMinimize = function () {\r\n            messagingActionCreator.messageAction(enums.MessageViewAction.Minimize);\r\n        };\r\n        /**\r\n         * Method fired when the message panel is maximized.\r\n         */\r\n        _this.onMaximize = function () {\r\n            messagingActionCreator.messageAction(enums.MessageViewAction.Maximize);\r\n        };\r\n        /**\r\n         * This method will call on message send button click\r\n         */\r\n        _this.onMessageSend = function (messageType) {\r\n            _this.enableDisableSendButton();\r\n            var candidateScriptId = undefined;\r\n            var markGroupId = undefined;\r\n            var esMarkGroupId = undefined;\r\n            _this.messageBody = tinymce.get(_this.msgEditorId).getContent();\r\n            switch (messageType) {\r\n                case enums.MessageType.ResponseCompose:\r\n                case enums.MessageType.ResponseReply:\r\n                case enums.MessageType.ResponseForward:\r\n                    // selected Qig id for compose message in response screen\r\n                    _this.selectedQigItemId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n                    _this.questionPaperPartId = qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId;\r\n                    var openedResponseDetails = _this.props.responseId ?\r\n                        markerOperationModeFactory.operationMode.openedResponseDetails(_this.props.responseId.toString()) : null;\r\n                    var isEsResponse = (worklistStore.instance.currentWorklistType === enums.WorklistType.standardisation\r\n                        || worklistStore.instance.currentWorklistType === enums.WorklistType.practice ||\r\n                        worklistStore.instance.currentWorklistType === enums.WorklistType.secondstandardisation\r\n                        || markerOperationModeFactory.operationMode.isStandardisationSetupMode) ? true : false;\r\n                    if (openedResponseDetails) {\r\n                        candidateScriptId = openedResponseDetails.candidateScriptId;\r\n                        if (markerOperationModeFactory.operationMode.isStandardisationSetupMode) {\r\n                            esMarkGroupId = openedResponseDetails.esMarkGroupId;\r\n                        }\r\n                        else {\r\n                            markGroupId = isEsResponse ? undefined : openedResponseDetails.markGroupId;\r\n                            esMarkGroupId = isEsResponse ? openedResponseDetails.markGroupId : undefined;\r\n                        }\r\n                    }\r\n                    break;\r\n                // Not setting candidateScriptId, markGroupId, esMarkGroupId if composing message from response and worklist\r\n                // since not associated with any particular response.\r\n                case enums.MessageType.InboxCompose:\r\n                case enums.MessageType.WorklistCompose:\r\n                    break;\r\n                default:\r\n                    var currentMessageDetails = _this.props.selectedMsgDetails;\r\n                    if (currentMessageDetails !== undefined && currentMessageDetails !== null) {\r\n                        candidateScriptId = currentMessageDetails.candidateScriptId;\r\n                        markGroupId = currentMessageDetails.markGroupId;\r\n                        esMarkGroupId = currentMessageDetails.esMarkGroupId;\r\n                    }\r\n                    break;\r\n            }\r\n            // fetching currently selected qig's examiner roleId\r\n            var examinerRoleId = 0;\r\n            var msg = messageStore.instance.messagesMarkSchemes;\r\n            if (msg) {\r\n                msg.forEach(function (message) {\r\n                    if (message.markSchemeGroupId === _this.selectedQigItemId) {\r\n                        examinerRoleId = message.examinerRoleId;\r\n                    }\r\n                });\r\n            }\r\n            var toTeam = messageStore.instance.teamDetails ? messageStore.instance.teamDetails.team.toTeam : false;\r\n            messagingActionCreator.sendExaminerMessage(_this.toFieldIds, _this.messageBody, _this.messageSubject, _this.questionPaperPartId, _this.props.responseId, _this.priorityDropDownSelectedItem, _this.selectedQigItemId, candidateScriptId, markGroupId, esMarkGroupId, toTeam, examinerRoleId);\r\n        };\r\n        /**\r\n         * Navigating away from message panel when the pop up is opened\r\n         */\r\n        _this.onNavigateFromMessagePanel = function (messageNavigationArguments) {\r\n            if (messageNavigationArguments.hasMessageContainsDirtyValue === undefined) {\r\n                // Should be possible to open the response, If the message composed from Team management\r\n                if (_this.isMessagePanelEdited) {\r\n                    messagingActionCreator.messageAction(enums.MessageViewAction.Maximize);\r\n                    // To maximise the message panel when the discard popup is shown\r\n                    _this.isMessagePopupMinimized = false;\r\n                    _this.setState({ renderedOn: Date.now() });\r\n                    messageNavigationArguments.hasMessageContainsDirtyValue = true;\r\n                    messagingActionCreator.canMessageNavigate(messageNavigationArguments);\r\n                }\r\n                else if (!messageNavigationArguments.canNavigate) {\r\n                    messagingActionCreator.messageAction(enums.MessageViewAction.Close);\r\n                    messageNavigationArguments.hasMessageContainsDirtyValue = false;\r\n                    if (messageNavigationArguments.navigateTo === enums.MessageNavigation.newException) {\r\n                        _this.navigateTo = enums.SaveAndNavigate.newExceptionButtonClick;\r\n                    }\r\n                    else if (messageNavigationArguments.navigateTo === enums.MessageNavigation.exceptionWithInResponse) {\r\n                        _this.navigateTo = enums.SaveAndNavigate.exceptionWithInResponse;\r\n                    }\r\n                    else if (messageNavigationArguments.navigateTo === enums.MessageNavigation.newExceptionFromMediaErrorDialog) {\r\n                        _this.navigateTo = enums.SaveAndNavigate.newExceptionFromMediaErrorDialog;\r\n                    }\r\n                    _this.resetAndCloseMessagePanel();\r\n                    messageNavigationArguments.canNavigate = true;\r\n                    messagingActionCreator.canMessageNavigate(messageNavigationArguments);\r\n                }\r\n            }\r\n            else if (messageNavigationArguments.hasMessageContainsDirtyValue && messageNavigationArguments.canNavigate) {\r\n                _this.isMessagePopupMinimized = false;\r\n                if (messageNavigationArguments.navigateTo === enums.MessageNavigation.newException) {\r\n                    _this.navigateTo = enums.SaveAndNavigate.newExceptionButtonClick;\r\n                }\r\n                else if (messageNavigationArguments.navigateTo === enums.MessageNavigation.exceptionWithInResponse) {\r\n                    _this.navigateTo = enums.SaveAndNavigate.exceptionWithInResponse;\r\n                }\r\n                else if (messageNavigationArguments.navigateTo === enums.MessageNavigation.newExceptionFromMediaErrorDialog) {\r\n                    _this.navigateTo = enums.SaveAndNavigate.newExceptionFromMediaErrorDialog;\r\n                }\r\n                _this.resetAndCloseMessagePanel();\r\n            }\r\n        };\r\n        /**\r\n         * checks whether the supervisor examiner is valid to send a message or not\r\n         */\r\n        _this.messageSendValidationCheck = function (messageType) {\r\n            _this.sendMessageActionInProgress = true;\r\n            _this.messageType = messageType;\r\n            // While in SEP view we need to check whether the supervisor examiner is valid to send a message to subordinate examiner\r\n            if (markerOperationModeFactory.operationMode.isHelpExaminersView) {\r\n                _this.enableDisableSendButton();\r\n                var dataCollection = new Array();\r\n                var examinerSEPAction = {\r\n                    examinerRoleId: qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId,\r\n                    markSchemeGroupId: qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId,\r\n                    requestedByExaminerRoleId: qigStore.instance.getSelectedQIGForTheLoggedInUser.examinerRoleId\r\n                };\r\n                dataCollection.push(examinerSEPAction);\r\n                var examinerSEPActions = Immutable.List(dataCollection);\r\n                var doSEPApprovalManagementActionArgument = {\r\n                    actionIdentifier: enums.SEPAction.SendMessage,\r\n                    examiners: examinerSEPActions\r\n                };\r\n                teamManagementActionCreator.ExecuteApprovalManagementAction(doSEPApprovalManagementActionArgument);\r\n            }\r\n            else {\r\n                _this.onMessageSend(_this.messageType);\r\n            }\r\n        };\r\n        /**\r\n         * To check whether the examiner is valid to send a message\r\n         */\r\n        _this.examinerValidation = function (actionIdentifier) {\r\n            // No need to handle, If user clicks help examiners and immidietly navigated to inbox\r\n            if (_this.props.messageType === enums.MessageType.InboxCompose) {\r\n                return;\r\n            }\r\n            // If there is no failure code then the supervisor examiner is valid to send a message\r\n            if (actionIdentifier === enums.SEPAction.SendMessage) {\r\n                _this.onMessageSend(_this.messageType);\r\n            }\r\n        };\r\n        /**\r\n         * enable send button state on offline\r\n         */\r\n        _this.onOnlineStatusChanged = function () {\r\n            if (!applicationStore.instance.isOnline) {\r\n                _this.toggleSaveButtonState();\r\n            }\r\n        };\r\n        _this.priorityDropDownSelectedItem = enums.MessagePriority.Standard;\r\n        _this.isSendButtonDisabled = true;\r\n        _this.messageSubject = '';\r\n        _this.messageBody = '';\r\n        _this._boundHandleOnClick = _this.handleOnClick.bind(_this);\r\n        _this.isSubordinateSelected = false;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MessageBase.prototype, \"isMessagePanelEdited\", {\r\n        /**\r\n         * Returns a boolean indicating whether the message panel is edited.\r\n         */\r\n        get: function () {\r\n            return messageHelper.isMessagePanelEdited(this.props.messageType, this.toFieldValues, this.toFieldIds);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets the enable/disable status of send button.\r\n     */\r\n    MessageBase.prototype.enableDisableSendButton = function () {\r\n        var currentSendButtonStatusAfterChange = true;\r\n        var activeEditorgetContentLength = 0;\r\n        // if sending message is in progress no need to execute logic to enabling/ disabling button\r\n        if (!this.sendMessageActionInProgress) {\r\n            var activeEditor = tinymce.get(this.msgEditorId);\r\n            //Defect Id:48277 First time active Editor does not contains 'Body' Then throws exception 'Body Undefined'\r\n            if (activeEditor && activeEditor.contentDocument != null) {\r\n                activeEditorgetContentLength = activeEditor.getContent({ format: 'text' }).trim().length;\r\n            }\r\n            if (this.props.messageType === enums.MessageType.InboxCompose ||\r\n                this.props.messageType === enums.MessageType.ResponseCompose\r\n                || this.props.messageType === enums.MessageType.WorklistCompose ||\r\n                this.props.messageType === enums.MessageType.ResponseReply\r\n                || this.props.messageType === enums.MessageType.ResponseForward ||\r\n                this.props.messageType === enums.MessageType.TeamCompose) {\r\n                currentSendButtonStatusAfterChange = !(this.messageSubject.trim().length > 0 &&\r\n                    (this.toFieldIds && this.toFieldIds.length > 0)\r\n                    && (this.toFieldValues && this.toFieldValues.length > 0)\r\n                    && (activeEditorgetContentLength > 0 ||\r\n                        messageHelper._isPasteEnabled));\r\n            }\r\n            else if (this.props.messageType === enums.MessageType.InboxForward ||\r\n                this.props.messageType === enums.MessageType.InboxReply) {\r\n                currentSendButtonStatusAfterChange = !(this.messageSubject.trim().length > 0\r\n                    && (this.toFieldIds && this.toFieldIds.length > 0)\r\n                    && (this.toFieldValues && this.toFieldValues.length > 0)\r\n                    && this.selectedQigItemId > 1\r\n                    && (activeEditorgetContentLength > 0\r\n                        || messageHelper._isPasteEnabled));\r\n            }\r\n        }\r\n        else {\r\n            // disable send button when send message action is in progress if the application is online\r\n            currentSendButtonStatusAfterChange = applicationStore.instance.isOnline;\r\n        }\r\n        if (this.isSendButtonDisabled !== currentSendButtonStatusAfterChange) {\r\n            this.isSendButtonDisabled = currentSendButtonStatusAfterChange;\r\n            // It is noticed due to render in same time, state change not happening. Add some extra time for rendering.\r\n            this.setState({ renderedOn: Date.now() + 10 });\r\n        }\r\n        // Reset setPasteEnabledAction as false after the paste action fired.\r\n        messageHelper.setPasteEnabledAction(false);\r\n    };\r\n    return MessageBase;\r\n}(pureRenderComponent));\r\nmodule.exports = MessageBase;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbWVzc2FnZS9tZXNzYWdlYmFzZS50cz84MDA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBSZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGV4YW1pbmVyU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbWFya2VyaW5mb3JtYXRpb24vZXhhbWluZXJzdG9yZScpO1xyXG5pbXBvcnQgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvbWVzc2FnaW5nL21lc3NhZ2luZ2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHBvcHVwSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9wb3B1cC9wb3B1cGhlbHBlcicpO1xyXG5pbXBvcnQgcG9wVXBEaXNwbGF5QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvcG9wdXBkaXNwbGF5L3BvcHVwZGlzcGxheWFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcbmltcG9ydCBtZXNzYWdlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbWVzc2FnZS9tZXNzYWdlc3RvcmUnKTtcclxuaW1wb3J0IGh0bWxVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2dlbmVyaWMvaHRtbHV0aWxpdGllcycpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCByZXNwb25zZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3Jlc3BvbnNlL3Jlc3BvbnNlc3RvcmUnKTtcclxuaW1wb3J0IG1hcmtpbmdBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9tYXJraW5nL21hcmtpbmdhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBxdWFsaXR5ZmVlZGJhY2tIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3F1YWxpdHlmZWVkYmFjay9xdWFsaXR5ZmVlZGJhY2toZWxwZXInKTtcclxuaW1wb3J0IG1lc3NhZ2VIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L21lc3NhZ2UvbWVzc2FnZWhlbHBlcicpO1xyXG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxuaW1wb3J0IHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvdGVhbW1hbmFnZW1lbnQvdGVhbW1hbmFnZW1lbnRhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbnN0b3JlJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuXHJcbmRlY2xhcmUgbGV0IHRpbnltY2U6IGFueTtcclxuXHJcbmNsYXNzIE1lc3NhZ2VCYXNlIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxhbnksIGFueT4ge1xyXG5cclxuICAgIHByb3RlY3RlZCBpc1NlbmRCdXR0b25EaXNhYmxlZDogYm9vbGVhbjtcclxuICAgIHByb3RlY3RlZCB0b0ZpZWxkSWRzOiBBcnJheTxudW1iZXI+O1xyXG4gICAgcHJvdGVjdGVkIHRvRmllbGRWYWx1ZXM6IEFycmF5PHN0cmluZz47XHJcbiAgICBwcm90ZWN0ZWQgc2VsZWN0ZWRRaWdJdGVtSWQ6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBzZWxlY3RlZFFpZzogc3RyaW5nO1xyXG4gICAgcHJvdGVjdGVkIHF1ZXN0aW9uUGFwZXJQYXJ0SWQ6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBtZXNzYWdlU3ViamVjdDogc3RyaW5nO1xyXG4gICAgcHJvdGVjdGVkIG1lc3NhZ2VCb2R5OiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgaXNEcm9wRG93bk9wZW46IGJvb2xlYW47XHJcbiAgICBwcm90ZWN0ZWQgaXNRaWdEcm9wRG93bk9wZW46IGJvb2xlYW47XHJcbiAgICBwcm90ZWN0ZWQgcHJpb3JpdHlEcm9wRG93blNlbGVjdGVkSXRlbTogZW51bXMuTWVzc2FnZVByaW9yaXR5O1xyXG4gICAgcHJvdGVjdGVkIGlzU2VsZWN0ZWRJdGVtQ2xpY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJvdGVjdGVkIG5hdmlnYXRlVG86IGVudW1zLlNhdmVBbmROYXZpZ2F0ZSA9IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5ub25lO1xyXG4gICAgcHJvdGVjdGVkIG1zZ0VkaXRvcklkOiBzdHJpbmcgPSAnbXNnLXRpbnltY2UtZWRpdG9yJztcclxuICAgIHByb3RlY3RlZCBfYm91bmRIYW5kbGVPbkNsaWNrOiBFdmVudExpc3RlbmVyT2JqZWN0ID0gbnVsbDtcclxuICAgIHByb3RlY3RlZCBjbGlja2VkRHJvcERvd246IGVudW1zLkRyb3BEb3duVHlwZTtcclxuICAgIHByb3RlY3RlZCBpc01lc3NhZ2VQb3B1cE1pbmltaXplZDogYm9vbGVhbjtcclxuICAgIHByb3RlY3RlZCBpc1N1Ym9yZGluYXRlU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByb3RlY3RlZCBzZW5kTWVzc2FnZUFjdGlvbkluUHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByb3RlY3RlZCBtZXNzYWdlVHlwZTogZW51bXMuTWVzc2FnZVR5cGUgPSBlbnVtcy5NZXNzYWdlVHlwZS5Ob25lO1xyXG5cclxuICAgIC8qKiByZWZzICovXHJcbiAgICBwdWJsaWMgcmVmczoge1xyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IChFbGVtZW50KTtcclxuICAgICAgICBtc2dFZGl0b3I6IChIVE1MRGl2RWxlbWVudCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBhbnksIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG5cclxuICAgICAgICB0aGlzLnByaW9yaXR5RHJvcERvd25TZWxlY3RlZEl0ZW0gPSBlbnVtcy5NZXNzYWdlUHJpb3JpdHkuU3RhbmRhcmQ7XHJcbiAgICAgICAgdGhpcy5pc1NlbmRCdXR0b25EaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlU3ViamVjdCA9ICcnO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZUJvZHkgPSAnJztcclxuICAgICAgICB0aGlzLl9ib3VuZEhhbmRsZU9uQ2xpY2sgPSB0aGlzLmhhbmRsZU9uQ2xpY2suYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmlzU3Vib3JkaW5hdGVTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZm9yIGRyb3Bkb3duIHNlbGVjdFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgb25TZWxlY3QgPSAoc2VsZWN0ZWRJdGVtOiBlbnVtcy5NZXNzYWdlUHJpb3JpdHksIGV2ZW50OiBhbnkpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnByaW9yaXR5RHJvcERvd25TZWxlY3RlZEl0ZW0gPSBzZWxlY3RlZEl0ZW07XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBkcm9wZG93biBjbGlja1xyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgb25Ecm9wRG93bkNsaWNrID0gKGRyb3BEb3duOiBlbnVtcy5Ecm9wRG93blR5cGUpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLmNsaWNrZWREcm9wRG93biA9IGRyb3BEb3duO1xyXG4gICAgICAgIHRoaXMuaXNTZWxlY3RlZEl0ZW1DbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5jbGlja2VkRHJvcERvd24gPT09IGVudW1zLkRyb3BEb3duVHlwZS5Qcmlvcml0eSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUWlnRHJvcERvd25PcGVuID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLmlzRHJvcERvd25PcGVuID0gdGhpcy5pc0Ryb3BEb3duT3BlbiA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6ICF0aGlzLmlzRHJvcERvd25PcGVuO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jbGlja2VkRHJvcERvd24gPT09IGVudW1zLkRyb3BEb3duVHlwZS5RSUcpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0Ryb3BEb3duT3BlbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5pc1FpZ0Ryb3BEb3duT3BlbiA9IHRoaXMuaXNRaWdEcm9wRG93bk9wZW4gPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhdGhpcy5pc1FpZ0Ryb3BEb3duT3BlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIGNsaWNrIGV2ZW50cyBvbiB0aGUgd2luZG93IGFuZCBjb2xsYXBzZSBwcmlvcml0eSBzZWxlY3Rpb24gZHJvcGRvd25cclxuICAgICAqIEBwYXJhbSB7YW55fSBzb3VyY2UgLSBUaGUgc291cmNlIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGhhbmRsZU9uQ2xpY2sgPSAoKTogYW55ID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNTZWxlY3RlZEl0ZW1DbGlja2VkICYmICgodGhpcy5pc0Ryb3BEb3duT3BlbiAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaXNEcm9wRG93bk9wZW4pXHJcbiAgICAgICAgICAgIHx8ICh0aGlzLmlzUWlnRHJvcERvd25PcGVuICE9PSB1bmRlZmluZWQgJiYgdGhpcy5pc1FpZ0Ryb3BEb3duT3BlbikpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbGxhcHNlIHRoZSBwcmlvcml0eSBkcm9wZG93blxyXG4gICAgICAgICAgICB0aGlzLmlzRHJvcERvd25PcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaXNRaWdEcm9wRG93bk9wZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pc1NlbGVjdGVkSXRlbUNsaWNrZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsaXNlZCBzdHJpbmcgZm9yIG1lc3NhZ2UgcHJpb3JpdHkgZHJvcGRvd25cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGdldFByaW9yaXR5RHJvcERvd25JdGVtID0gKGRyb3BEb3duSXRlbTogZW51bXMuTWVzc2FnZVByaW9yaXR5KTogc3RyaW5nID0+IHtcclxuICAgICAgICBsZXQgbG9jYWxpc2VkRHJvcERvd25JdGVtOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZHJvcERvd25JdGVtKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVByaW9yaXR5LkltcG9ydGFudDpcclxuICAgICAgICAgICAgICAgIGxvY2FsaXNlZERyb3BEb3duSXRlbSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UucHJpb3JpdHkuaW1wb3J0YW50Jyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlUHJpb3JpdHkuTWFuZGF0b3J5OlxyXG4gICAgICAgICAgICAgICAgbG9jYWxpc2VkRHJvcERvd25JdGVtID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5wcmlvcml0eS5tYW5kYXRvcnknKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgbG9jYWxpc2VkRHJvcERvd25JdGVtID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5wcmlvcml0eS5zdGFuZGFyZCcpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsb2NhbGlzZWREcm9wRG93bkl0ZW07XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIGZpcmVkIHdoZW4gdGhlIG1lc3NhZ2UgaXMgY2xvc2VkLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgb25NZXNzYWdlQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gU2hvdyBkaXNjYXJkIG1lc3NhZ2UgaWYgY29udGVudCBlZGl0ZWQ7IG9yIGp1c3QgY2xvc2UgdGhlIHBhbmVsLlxyXG4gICAgICAgIGlmICh0aGlzLmlzTWVzc2FnZVBhbmVsRWRpdGVkKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IubWVzc2FnZUFjdGlvbihlbnVtcy5NZXNzYWdlVmlld0FjdGlvbi5NYXhpbWl6ZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5hdmlnYXRlVG8gPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5uZXdNZXNzYWdlQnV0dG9uQ2xpY2tcclxuICAgICAgICAgICAgICAgIHx8IHRoaXMubmF2aWdhdGVUbyA9PT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvUmVwbHlNZXNzYWdlXHJcbiAgICAgICAgICAgICAgICB8fCB0aGlzLm5hdmlnYXRlVG8gPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b0ZvcndhcmRNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBwb3BVcERpc3BsYXlBY3Rpb25DcmVhdG9yLnBvcFVwRGlzcGxheShlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZE9uTmV3TWVzc2FnZUJ1dHRvbkNsaWNrLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlBvcFVwQWN0aW9uVHlwZS5TaG93LFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5ub25lLFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBDb250ZW50OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UuZGlzY2FyZC1tZXNzYWdlLWRpYWxvZy5ib2R5LXN0YXJ0LW5ldy1tZXNzYWdlLXdoaWxlLWNvbXBvc2luZycpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5uYXZpZ2F0ZVRvID09PSBlbnVtcy5TYXZlQW5kTmF2aWdhdGUudG9OZXdSZXNwb25zZU1lc3NhZ2VDb21wb3NlKSB7XHJcbiAgICAgICAgICAgICAgICBwb3BVcERpc3BsYXlBY3Rpb25DcmVhdG9yLnBvcFVwRGlzcGxheShlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZE9uTmV3TWVzc2FnZUJ1dHRvbkNsaWNrLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlBvcFVwQWN0aW9uVHlwZS5TaG93LFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5ub25lLFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBDb250ZW50OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLnJlc3BvbnNlLmRpc2NhcmQtbWVzc2FnZS1vci1leGNlcHRpb24tZGlhbG9nLmJvZHknKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2VUeXBlOiBlbnVtcy5Qb3BVcFR5cGUgPSB0aGlzLm5hdmlnYXRlVG8gIT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5ub25lXHJcbiAgICAgICAgICAgICAgICAgICAgPyBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZE1lc3NhZ2VOYXZpZ2F0ZUF3YXkgOiBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZE1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBwb3BVcERpc3BsYXlBY3Rpb25DcmVhdG9yLnBvcFVwRGlzcGxheShcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuU2hvdyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UubmF2aWdhdGVGcm9tLFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBDb250ZW50OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5uYXZpZ2F0ZVRvID09PSBlbnVtcy5TYXZlQW5kTmF2aWdhdGUubWVzc2FnZVdpdGhJblJlc3BvbnNlID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcucmVzcG9uc2UuZGlzY2FyZC1tZXNzYWdlLW9yLWV4Y2VwdGlvbi1kaWFsb2cuYm9keScpIDogdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5hdmlnYXRlVG8gIT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5ub25lICYmIHRoaXMubmF2aWdhdGVUbyAhPT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm1lc3NhZ2VXaXRoSW5SZXNwb25zZVxyXG4gICAgICAgICAgICAmJiB0aGlzLm5hdmlnYXRlVG8gIT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5uZXdNZXNzYWdlQnV0dG9uQ2xpY2spIHtcclxuICAgICAgICAgICAgLy8gaGlkZSB0aGUgbWVzc2FnZSBwYW5lbCBhbmQgbmF2aWdhdGUgYXdheVxyXG4gICAgICAgICAgICB0aGlzLm9uRGlzY2FyZE1lc3NhZ2VDb25maXJtZWQoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubmF2aWdhdGVUbyA9PT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm5ld01lc3NhZ2VCdXR0b25DbGljaykge1xyXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlVG8gPSBlbnVtcy5TYXZlQW5kTmF2aWdhdGUubm9uZTtcclxuICAgICAgICAgICAgdGhpcy5pc01lc3NhZ2VQb3B1cE1pbmltaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBDbG9zZSB0aGUgTWVzc2FnZSBQYW5lbC5cclxuICAgICAgICAgICAgdGhpcy5yZXNldEFuZENsb3NlTWVzc2FnZVBhbmVsKCk7XHJcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVUbyA9IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5ub25lO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOYXZpZ2F0ZSBhd2F5IGZyb20gY3VycmVudCByZXNwb25zZS5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIG9uTmF2aWdhdGVBd2F5RnJvbVJlc3BvbnNlID0gKG5hdmlnYXRlVG86IGVudW1zLlNhdmVBbmROYXZpZ2F0ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMubmF2aWdhdGVUbyA9IG5hdmlnYXRlVG87XHJcbiAgICAgICAgdGhpcy5vbk1lc3NhZ2VDbG9zZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IG1lc3NhZ2UgcGFuZWwgYW5kIGNsb3NlXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCByZXNldEFuZENsb3NlTWVzc2FnZVBhbmVsID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMucHJpb3JpdHlEcm9wRG93blNlbGVjdGVkSXRlbSA9IGVudW1zLk1lc3NhZ2VQcmlvcml0eS5TdGFuZGFyZDtcclxuICAgICAgICB0aGlzLnRvRmllbGRWYWx1ZXMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudG9GaWVsZElkcyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlU3ViamVjdCA9ICcnO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZUJvZHkgPSAnJztcclxuICAgICAgICB0aGlzLmlzRHJvcERvd25PcGVuID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuaXNRaWdEcm9wRG93bk9wZW4gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5jbG9zZU1lc3NhZ2VQYW5lbCh0aGlzLm5hdmlnYXRlVG8pO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRRaWdJdGVtSWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5xdWVzdGlvblBhcGVyUGFydElkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIG1lc3NhZ2VIZWxwZXIuaGFuZGxlU3ViamVjdENoYW5nZSh0aGlzLm1lc3NhZ2VTdWJqZWN0KTtcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlQWN0aW9uSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHVwZGF0aW5nIG1lc3NhZ2UgY29tcG9uZW50IHdpdGggZGVmYXVsdCB2YWx1ZXNcclxuICAgICAgICAvLyB0aGlzIGVuYWJsZSBvciBEaXNhYmxlIHNlbmQgYnV0dG9uIHdpbGwgY2FsbCBzZXRTdGF0ZVxyXG4gICAgICAgIHRoaXMuZW5hYmxlRGlzYWJsZVNlbmRCdXR0b24oKTtcclxuXHJcbiAgICAgICAgLy8gTmVlZCB0byBVcGRhdGUgdGhlIFVJIChTdWJqZWN0IGJveCBpbiB0aGUgbWVzc2FnZSwgYWZ0ZXIgY2xvc2luZyB0aGUgbWVzc2FnZSA6IEJ1ZyAyODIyNFxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZW5kZXJlZE9uOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCBmaXJlZCB3aGVuIGRpc2NhcmQgbWVzc2FnZSBpcyBjb25maXJtZWQuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBvbkRpc2NhcmRNZXNzYWdlQ29uZmlybWVkID0gKGFjdGlvbkZyb21Db21iaW5lZFBvcHVwOiBib29sZWFuID0gZmFsc2UsXHJcbiAgICAgICAgbmF2aWdhdGVUbzogZW51bXMuU2F2ZUFuZE5hdmlnYXRlID0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm5vbmUpID0+IHtcclxuICAgICAgICAvLyBJZiBtZXNzYWdlIHBhbmVsIGlzIG5vdCBlZGl0ZWQsIG5vIG5lZWQgdG8gY2hhbmdlIHRoZSBVSSB3aGlsZSBsb2dvdXRcclxuICAgICAgICBpZiAodGhpcy5pc01lc3NhZ2VQYW5lbEVkaXRlZCkge1xyXG4gICAgICAgICAgICAvLyBDbG9zZSB0aGUgTWVzc2FnZSBQYW5lbC5cclxuICAgICAgICAgICAgdGhpcy5yZXNldEFuZENsb3NlTWVzc2FnZVBhbmVsKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5pc01lc3NhZ2VQYW5lbEVkaXRlZCAmJiB0aGlzLm5hdmlnYXRlVG8gPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5uZXdNZXNzYWdlQnV0dG9uQ2xpY2spIHtcclxuICAgICAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5tZXNzYWdlQWN0aW9uKGVudW1zLk1lc3NhZ2VWaWV3QWN0aW9uLk9wZW4pO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QW5kQ2xvc2VNZXNzYWdlUGFuZWwoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG9uIG1lc3NhZ2UgY2xvc2UgbmF2aWdhdGUgYXdheSBmcm9tIHJlc3BvbnNlIHNjZW5hcmlvXHJcbiAgICAgICAgaWYgKHRoaXMubmF2aWdhdGVUbyAhPT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm5vbmUgJiYgdGhpcy5uYXZpZ2F0ZVRvICE9PSBlbnVtcy5TYXZlQW5kTmF2aWdhdGUubWVzc2FnZVdpdGhJblJlc3BvbnNlXHJcbiAgICAgICAgICAgICYmIHRoaXMubmF2aWdhdGVUbyAhPT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvTmV3UmVzcG9uc2VNZXNzYWdlQ29tcG9zZSAmJlxyXG4gICAgICAgICAgICAhKHRoaXMubmF2aWdhdGVUbyA9PT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvUmVzcG9uc2UgJiYgcXVhbGl0eWZlZWRiYWNrSGVscGVyLmlzUmVzcG9uc2VOYXZpZ2F0aW9uQmxvY2tlZCgpKSkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMubmF2aWdhdGVUbyA9PT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvU3VwZXJ2aXNvclJlbWFyaykge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVzcG9uc2UgR29pbmcgZnJvbSByZWFkb25seSBtb2RlIHRvIG1hcmtpbmcuIFJlc2V0IHRoZSBtZXNzYWdlIHJlbGF0ZWQgdmFsdWVzIGZyb20gcmVzcG9uc2Ugc2NyZWVuLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldEFuZENsb3NlTWVzc2FnZVBhbmVsKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGlmIG5hdmlnYXRlIGF3YXkgZnJvbSBSZXNwb3NuZSB0aGVuIGNsb3NlIHRoZSByZXNwb25zZSBhbmQgbW92ZSB0byB3b3JrbGlzdC5cclxuICAgICAgICAgICAgcG9wdXBIZWxwZXIubmF2aWdhdGVBd2F5KHRoaXMubmF2aWdhdGVUbyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb25Gcm9tQ29tYmluZWRQb3B1cCkge1xyXG4gICAgICAgICAgICBwb3B1cEhlbHBlci5uYXZpZ2F0ZUF3YXkobmF2aWdhdGVUbyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm5hdmlnYXRlVG8gPSBlbnVtcy5TYXZlQW5kTmF2aWdhdGUubm9uZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1lc3NhZ2UgcGFuZWwgaXMgZWRpdGVkLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0IGlzTWVzc2FnZVBhbmVsRWRpdGVkKCkge1xyXG4gICAgICAgIHJldHVybiBtZXNzYWdlSGVscGVyLmlzTWVzc2FnZVBhbmVsRWRpdGVkKHRoaXMucHJvcHMubWVzc2FnZVR5cGUsIHRoaXMudG9GaWVsZFZhbHVlcywgdGhpcy50b0ZpZWxkSWRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCBmaXJlZCB3aGVuIGRpc2NhcmQgbWVzc2FnZSBpcyBjYW5jZWxsZWQuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBvbkRpc2NhcmRNZXNzYWdlQ2FuY2VsbGVkID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIHJlc2V0IG5hdmlnYXRlIGF3YXkgZnJvbSByZXNwb25zZVxyXG4gICAgICAgIHRoaXMubmF2aWdhdGVUbyA9IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5ub25lO1xyXG4gICAgICAgIG1lc3NhZ2VIZWxwZXIuaGFuZGxlU3ViamVjdENoYW5nZSh0aGlzLm1lc3NhZ2VTdWJqZWN0KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIGNoYW5nZXMgaW4gdGhlIG1lc3NhZ2UgcGFuZWwgc3ViamVjdCBzZWN0aW9uLlxyXG4gICAgICogQHBhcmFtIGVcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGhhbmRsZVN1YmplY3RDaGFuZ2UgPSAoc3ViamVjdDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlU3ViamVjdCA9IHN1YmplY3Q7XHJcbiAgICAgICAgdGhpcy5lbmFibGVEaXNhYmxlU2VuZEJ1dHRvbigpO1xyXG4gICAgICAgIG1lc3NhZ2VIZWxwZXIuaGFuZGxlU3ViamVjdENoYW5nZShzdWJqZWN0KTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBlbmFibGUvZGlzYWJsZSBzdGF0dXMgb2Ygc2VuZCBidXR0b24uXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBlbmFibGVEaXNhYmxlU2VuZEJ1dHRvbigpIHtcclxuICAgICAgICBsZXQgY3VycmVudFNlbmRCdXR0b25TdGF0dXNBZnRlckNoYW5nZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICAgICAgbGV0IGFjdGl2ZUVkaXRvcmdldENvbnRlbnRMZW5ndGggOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIC8vIGlmIHNlbmRpbmcgbWVzc2FnZSBpcyBpbiBwcm9ncmVzcyBubyBuZWVkIHRvIGV4ZWN1dGUgbG9naWMgdG8gZW5hYmxpbmcvIGRpc2FibGluZyBidXR0b25cclxuICAgICAgICBpZiAoIXRoaXMuc2VuZE1lc3NhZ2VBY3Rpb25JblByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIGxldCBhY3RpdmVFZGl0b3IgPSB0aW55bWNlLmdldCh0aGlzLm1zZ0VkaXRvcklkKTtcclxuICAgICAgICAgICAgLy9EZWZlY3QgSWQ6NDgyNzcgRmlyc3QgdGltZSBhY3RpdmUgRWRpdG9yIGRvZXMgbm90IGNvbnRhaW5zICdCb2R5JyBUaGVuIHRocm93cyBleGNlcHRpb24gJ0JvZHkgVW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICBpZiAoYWN0aXZlRWRpdG9yICYmIGFjdGl2ZUVkaXRvci5jb250ZW50RG9jdW1lbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlRWRpdG9yZ2V0Q29udGVudExlbmd0aCA9IGFjdGl2ZUVkaXRvci5nZXRDb250ZW50KHsgZm9ybWF0OiAndGV4dCcgfSkudHJpbSgpLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5tZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hDb21wb3NlIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm1lc3NhZ2VUeXBlID09PSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZUNvbXBvc2VcclxuICAgICAgICAgICAgICAgIHx8IHRoaXMucHJvcHMubWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLldvcmtsaXN0Q29tcG9zZSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VSZXBseVxyXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5tZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VGb3J3YXJkIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm1lc3NhZ2VUeXBlID09PSBlbnVtcy5NZXNzYWdlVHlwZS5UZWFtQ29tcG9zZSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFNlbmRCdXR0b25TdGF0dXNBZnRlckNoYW5nZSA9ICEodGhpcy5tZXNzYWdlU3ViamVjdC50cmltKCkubGVuZ3RoID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnRvRmllbGRJZHMgJiYgdGhpcy50b0ZpZWxkSWRzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgKHRoaXMudG9GaWVsZFZhbHVlcyAmJiB0aGlzLnRvRmllbGRWYWx1ZXMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICAmJiAoYWN0aXZlRWRpdG9yZ2V0Q29udGVudExlbmd0aCAgPiAwIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWxwZXIuX2lzUGFzdGVFbmFibGVkKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5tZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hGb3J3YXJkIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm1lc3NhZ2VUeXBlID09PSBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveFJlcGx5KSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VuZEJ1dHRvblN0YXR1c0FmdGVyQ2hhbmdlID0gISh0aGlzLm1lc3NhZ2VTdWJqZWN0LnRyaW0oKS5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgKHRoaXMudG9GaWVsZElkcyAmJiB0aGlzLnRvRmllbGRJZHMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICAmJiAodGhpcy50b0ZpZWxkVmFsdWVzICYmIHRoaXMudG9GaWVsZFZhbHVlcy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgICYmIHRoaXMuc2VsZWN0ZWRRaWdJdGVtSWQgPiAxXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgKGFjdGl2ZUVkaXRvcmdldENvbnRlbnRMZW5ndGggID4gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBtZXNzYWdlSGVscGVyLl9pc1Bhc3RlRW5hYmxlZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZGlzYWJsZSBzZW5kIGJ1dHRvbiB3aGVuIHNlbmQgbWVzc2FnZSBhY3Rpb24gaXMgaW4gcHJvZ3Jlc3MgaWYgdGhlIGFwcGxpY2F0aW9uIGlzIG9ubGluZVxyXG4gICAgICAgICAgICBjdXJyZW50U2VuZEJ1dHRvblN0YXR1c0FmdGVyQ2hhbmdlID0gYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5pc09ubGluZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzU2VuZEJ1dHRvbkRpc2FibGVkICE9PSBjdXJyZW50U2VuZEJ1dHRvblN0YXR1c0FmdGVyQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTZW5kQnV0dG9uRGlzYWJsZWQgPSBjdXJyZW50U2VuZEJ1dHRvblN0YXR1c0FmdGVyQ2hhbmdlO1xyXG5cclxuICAgICAgICAgICAgLy8gSXQgaXMgbm90aWNlZCBkdWUgdG8gcmVuZGVyIGluIHNhbWUgdGltZSwgc3RhdGUgY2hhbmdlIG5vdCBoYXBwZW5pbmcuIEFkZCBzb21lIGV4dHJhIHRpbWUgZm9yIHJlbmRlcmluZy5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgICsgMTAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXNldCBzZXRQYXN0ZUVuYWJsZWRBY3Rpb24gYXMgZmFsc2UgYWZ0ZXIgdGhlIHBhc3RlIGFjdGlvbiBmaXJlZC5cclxuICAgICAgICBtZXNzYWdlSGVscGVyLnNldFBhc3RlRW5hYmxlZEFjdGlvbihmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbmFibGUgYW5kIGRpc2FibGUgc2VuZCBidXR0b24gb24gdGlueU1DRSBlZGl0b3IgY2hhbmdlLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgdG9nZ2xlU2F2ZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZW5hYmxlRGlzYWJsZVNlbmRCdXR0b24oKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgZmlyZWQgd2hlbiB0aGUgbWVzc2FnZSBwYW5lbCBpcyBtaW5pbWl6ZWQuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBvbk1pbmltaXplID0gKCkgPT4ge1xyXG4gICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IubWVzc2FnZUFjdGlvbihlbnVtcy5NZXNzYWdlVmlld0FjdGlvbi5NaW5pbWl6ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIGZpcmVkIHdoZW4gdGhlIG1lc3NhZ2UgcGFuZWwgaXMgbWF4aW1pemVkLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgb25NYXhpbWl6ZSA9ICgpID0+IHtcclxuICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLm1lc3NhZ2VBY3Rpb24oZW51bXMuTWVzc2FnZVZpZXdBY3Rpb24uTWF4aW1pemUpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgY2FsbCBvbiBtZXNzYWdlIHNlbmQgYnV0dG9uIGNsaWNrXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBvbk1lc3NhZ2VTZW5kID0gKG1lc3NhZ2VUeXBlOiBlbnVtcy5NZXNzYWdlVHlwZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuZW5hYmxlRGlzYWJsZVNlbmRCdXR0b24oKTtcclxuICAgICAgICBsZXQgY2FuZGlkYXRlU2NyaXB0SWQ6IG51bWJlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICBsZXQgbWFya0dyb3VwSWQ6IG51bWJlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICBsZXQgZXNNYXJrR3JvdXBJZDogbnVtYmVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZUJvZHkgPSB0aW55bWNlLmdldCh0aGlzLm1zZ0VkaXRvcklkKS5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLlJlc3BvbnNlQ29tcG9zZTpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZVJlcGx5OlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLlJlc3BvbnNlRm9yd2FyZDpcclxuICAgICAgICAgICAgICAgIC8vIHNlbGVjdGVkIFFpZyBpZCBmb3IgY29tcG9zZSBtZXNzYWdlIGluIHJlc3BvbnNlIHNjcmVlblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFFpZ0l0ZW1JZCA9IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWVzdGlvblBhcGVyUGFydElkID0gcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ucXVlc3Rpb25QYXBlclBhcnRJZDtcclxuICAgICAgICAgICAgICAgIGxldCBvcGVuZWRSZXNwb25zZURldGFpbHMgPSB0aGlzLnByb3BzLnJlc3BvbnNlSWQgP1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUub3BlbmVkUmVzcG9uc2VEZXRhaWxzKHRoaXMucHJvcHMucmVzcG9uc2VJZC50b1N0cmluZygpKSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNFc1Jlc3BvbnNlOiBib29sZWFuID0gKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnN0YW5kYXJkaXNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIHx8IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnByYWN0aWNlIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuc2Vjb25kc3RhbmRhcmRpc2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1N0YW5kYXJkaXNhdGlvblNldHVwTW9kZSkgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAob3BlbmVkUmVzcG9uc2VEZXRhaWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlU2NyaXB0SWQgPSBvcGVuZWRSZXNwb25zZURldGFpbHMuY2FuZGlkYXRlU2NyaXB0SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTdGFuZGFyZGlzYXRpb25TZXR1cE1vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXNNYXJrR3JvdXBJZCA9IG9wZW5lZFJlc3BvbnNlRGV0YWlscy5lc01hcmtHcm91cElkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtHcm91cElkID0gaXNFc1Jlc3BvbnNlID8gdW5kZWZpbmVkIDogb3BlbmVkUmVzcG9uc2VEZXRhaWxzLm1hcmtHcm91cElkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlc01hcmtHcm91cElkID0gaXNFc1Jlc3BvbnNlID8gb3BlbmVkUmVzcG9uc2VEZXRhaWxzLm1hcmtHcm91cElkIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBOb3Qgc2V0dGluZyBjYW5kaWRhdGVTY3JpcHRJZCwgbWFya0dyb3VwSWQsIGVzTWFya0dyb3VwSWQgaWYgY29tcG9zaW5nIG1lc3NhZ2UgZnJvbSByZXNwb25zZSBhbmQgd29ya2xpc3RcclxuICAgICAgICAgICAgLy8gc2luY2Ugbm90IGFzc29jaWF0ZWQgd2l0aCBhbnkgcGFydGljdWxhciByZXNwb25zZS5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveENvbXBvc2U6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuV29ya2xpc3RDb21wb3NlOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudE1lc3NhZ2VEZXRhaWxzOiBNZXNzYWdlRGV0YWlscyA9IHRoaXMucHJvcHMuc2VsZWN0ZWRNc2dEZXRhaWxzO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TWVzc2FnZURldGFpbHMgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50TWVzc2FnZURldGFpbHMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVTY3JpcHRJZCA9IGN1cnJlbnRNZXNzYWdlRGV0YWlscy5jYW5kaWRhdGVTY3JpcHRJZDtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZCA9IGN1cnJlbnRNZXNzYWdlRGV0YWlscy5tYXJrR3JvdXBJZDtcclxuICAgICAgICAgICAgICAgICAgICBlc01hcmtHcm91cElkID0gY3VycmVudE1lc3NhZ2VEZXRhaWxzLmVzTWFya0dyb3VwSWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZldGNoaW5nIGN1cnJlbnRseSBzZWxlY3RlZCBxaWcncyBleGFtaW5lciByb2xlSWRcclxuICAgICAgICBsZXQgZXhhbWluZXJSb2xlSWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgbGV0IG1zZyA9IG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5tZXNzYWdlc01hcmtTY2hlbWVzO1xyXG4gICAgICAgIGlmIChtc2cpIHtcclxuICAgICAgICAgICAgbXNnLmZvckVhY2goKG1lc3NhZ2U6IE1lc3NhZ2luZ01hcmtTY2hlbWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLm1hcmtTY2hlbWVHcm91cElkID09PSB0aGlzLnNlbGVjdGVkUWlnSXRlbUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhhbWluZXJSb2xlSWQgPSBtZXNzYWdlLmV4YW1pbmVyUm9sZUlkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRvVGVhbTogYm9vbGVhbiA9IG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscyA/IG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscy50ZWFtLnRvVGVhbSA6IGZhbHNlO1xyXG4gICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3Iuc2VuZEV4YW1pbmVyTWVzc2FnZSh0aGlzLnRvRmllbGRJZHMsXHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZUJvZHksXHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZVN1YmplY3QsXHJcbiAgICAgICAgICAgIHRoaXMucXVlc3Rpb25QYXBlclBhcnRJZCxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXNwb25zZUlkLFxyXG4gICAgICAgICAgICB0aGlzLnByaW9yaXR5RHJvcERvd25TZWxlY3RlZEl0ZW0sXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRRaWdJdGVtSWQsXHJcbiAgICAgICAgICAgIGNhbmRpZGF0ZVNjcmlwdElkLFxyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgZXNNYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgdG9UZWFtLFxyXG4gICAgICAgICAgICBleGFtaW5lclJvbGVJZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTmF2aWdhdGluZyBhd2F5IGZyb20gbWVzc2FnZSBwYW5lbCB3aGVuIHRoZSBwb3AgdXAgaXMgb3BlbmVkXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBvbk5hdmlnYXRlRnJvbU1lc3NhZ2VQYW5lbCA9IChtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50czogTWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHMpID0+IHtcclxuICAgICAgICBpZiAobWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHMuaGFzTWVzc2FnZUNvbnRhaW5zRGlydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIFNob3VsZCBiZSBwb3NzaWJsZSB0byBvcGVuIHRoZSByZXNwb25zZSwgSWYgdGhlIG1lc3NhZ2UgY29tcG9zZWQgZnJvbSBUZWFtIG1hbmFnZW1lbnRcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNNZXNzYWdlUGFuZWxFZGl0ZWQpIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IubWVzc2FnZUFjdGlvbihlbnVtcy5NZXNzYWdlVmlld0FjdGlvbi5NYXhpbWl6ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBUbyBtYXhpbWlzZSB0aGUgbWVzc2FnZSBwYW5lbCB3aGVuIHRoZSBkaXNjYXJkIHBvcHVwIGlzIHNob3duXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTWVzc2FnZVBvcHVwTWluaW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSB9KTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLmhhc01lc3NhZ2VDb250YWluc0RpcnR5VmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5jYW5NZXNzYWdlTmF2aWdhdGUobWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5jYW5OYXZpZ2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5tZXNzYWdlQWN0aW9uKGVudW1zLk1lc3NhZ2VWaWV3QWN0aW9uLkNsb3NlKTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLmhhc01lc3NhZ2VDb250YWluc0RpcnR5VmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5uYXZpZ2F0ZVRvID09PSBlbnVtcy5NZXNzYWdlTmF2aWdhdGlvbi5uZXdFeGNlcHRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlVG8gPSBlbnVtcy5TYXZlQW5kTmF2aWdhdGUubmV3RXhjZXB0aW9uQnV0dG9uQ2xpY2s7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLm5hdmlnYXRlVG8gPT09IGVudW1zLk1lc3NhZ2VOYXZpZ2F0aW9uLmV4Y2VwdGlvbldpdGhJblJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvID0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLmV4Y2VwdGlvbldpdGhJblJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5uYXZpZ2F0ZVRvID09PSBlbnVtcy5NZXNzYWdlTmF2aWdhdGlvbi5uZXdFeGNlcHRpb25Gcm9tTWVkaWFFcnJvckRpYWxvZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGVUbyA9IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5uZXdFeGNlcHRpb25Gcm9tTWVkaWFFcnJvckRpYWxvZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBbmRDbG9zZU1lc3NhZ2VQYW5lbCgpO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHMuY2FuTmF2aWdhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5jYW5NZXNzYWdlTmF2aWdhdGUobWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5oYXNNZXNzYWdlQ29udGFpbnNEaXJ0eVZhbHVlICYmIG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLmNhbk5hdmlnYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNNZXNzYWdlUG9wdXBNaW5pbWl6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLm5hdmlnYXRlVG8gPT09IGVudW1zLk1lc3NhZ2VOYXZpZ2F0aW9uLm5ld0V4Y2VwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvID0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm5ld0V4Y2VwdGlvbkJ1dHRvbkNsaWNrO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLm5hdmlnYXRlVG8gPT09IGVudW1zLk1lc3NhZ2VOYXZpZ2F0aW9uLmV4Y2VwdGlvbldpdGhJblJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlVG8gPSBlbnVtcy5TYXZlQW5kTmF2aWdhdGUuZXhjZXB0aW9uV2l0aEluUmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHMubmF2aWdhdGVUbyA9PT0gZW51bXMuTWVzc2FnZU5hdmlnYXRpb24ubmV3RXhjZXB0aW9uRnJvbU1lZGlhRXJyb3JEaWFsb2cpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGVUbyA9IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5uZXdFeGNlcHRpb25Gcm9tTWVkaWFFcnJvckRpYWxvZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QW5kQ2xvc2VNZXNzYWdlUGFuZWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hlY2tzIHdoZXRoZXIgdGhlIHN1cGVydmlzb3IgZXhhbWluZXIgaXMgdmFsaWQgdG8gc2VuZCBhIG1lc3NhZ2Ugb3Igbm90XHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBtZXNzYWdlU2VuZFZhbGlkYXRpb25DaGVjayA9IChtZXNzYWdlVHlwZTogZW51bXMuTWVzc2FnZVR5cGUpID0+IHtcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlQWN0aW9uSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlVHlwZSA9IG1lc3NhZ2VUeXBlO1xyXG4gICAgICAgIC8vIFdoaWxlIGluIFNFUCB2aWV3IHdlIG5lZWQgdG8gY2hlY2sgd2hldGhlciB0aGUgc3VwZXJ2aXNvciBleGFtaW5lciBpcyB2YWxpZCB0byBzZW5kIGEgbWVzc2FnZSB0byBzdWJvcmRpbmF0ZSBleGFtaW5lclxyXG4gICAgICAgIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzSGVscEV4YW1pbmVyc1ZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVEaXNhYmxlU2VuZEJ1dHRvbigpO1xyXG4gICAgICAgICAgICBsZXQgZGF0YUNvbGxlY3Rpb246IEFycmF5PEV4YW1pbmVyRm9yU0VQQWN0aW9uPiA9IG5ldyBBcnJheTxFeGFtaW5lckZvclNFUEFjdGlvbj4oKTtcclxuICAgICAgICAgICAgbGV0IGV4YW1pbmVyU0VQQWN0aW9uOiBFeGFtaW5lckZvclNFUEFjdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIGV4YW1pbmVyUm9sZUlkOiBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkOiBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RlZEJ5RXhhbWluZXJSb2xlSWQ6IHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLmV4YW1pbmVyUm9sZUlkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGRhdGFDb2xsZWN0aW9uLnB1c2goZXhhbWluZXJTRVBBY3Rpb24pO1xyXG4gICAgICAgICAgICBsZXQgZXhhbWluZXJTRVBBY3Rpb25zID0gSW1tdXRhYmxlLkxpc3Q8RXhhbWluZXJGb3JTRVBBY3Rpb24+KGRhdGFDb2xsZWN0aW9uKTtcclxuICAgICAgICAgICAgbGV0IGRvU0VQQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uQXJndW1lbnQ6IERvU0VQQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uQXJndW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25JZGVudGlmaWVyOiBlbnVtcy5TRVBBY3Rpb24uU2VuZE1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICBleGFtaW5lcnM6IGV4YW1pbmVyU0VQQWN0aW9uc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudEFjdGlvbkNyZWF0b3IuRXhlY3V0ZUFwcHJvdmFsTWFuYWdlbWVudEFjdGlvbihkb1NFUEFwcHJvdmFsTWFuYWdlbWVudEFjdGlvbkFyZ3VtZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm9uTWVzc2FnZVNlbmQodGhpcy5tZXNzYWdlVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRvIGNoZWNrIHdoZXRoZXIgdGhlIGV4YW1pbmVyIGlzIHZhbGlkIHRvIHNlbmQgYSBtZXNzYWdlXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBleGFtaW5lclZhbGlkYXRpb24gPSAoYWN0aW9uSWRlbnRpZmllcjogbnVtYmVyKSA9PiB7XHJcblxyXG4gICAgICAgIC8vIE5vIG5lZWQgdG8gaGFuZGxlLCBJZiB1c2VyIGNsaWNrcyBoZWxwIGV4YW1pbmVycyBhbmQgaW1taWRpZXRseSBuYXZpZ2F0ZWQgdG8gaW5ib3hcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5tZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hDb21wb3NlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIGZhaWx1cmUgY29kZSB0aGVuIHRoZSBzdXBlcnZpc29yIGV4YW1pbmVyIGlzIHZhbGlkIHRvIHNlbmQgYSBtZXNzYWdlXHJcbiAgICAgICAgaWYgKGFjdGlvbklkZW50aWZpZXIgPT09IGVudW1zLlNFUEFjdGlvbi5TZW5kTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbk1lc3NhZ2VTZW5kKHRoaXMubWVzc2FnZVR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBlbmFibGUgc2VuZCBidXR0b24gc3RhdGUgb24gb2ZmbGluZVxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgb25PbmxpbmVTdGF0dXNDaGFuZ2VkID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICghYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5pc09ubGluZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVNhdmVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydCA9IE1lc3NhZ2VCYXNlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9tZXNzYWdlL21lc3NhZ2ViYXNlLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUE2QkE7O0FBRUE7QUFDQTtBQUFBO0FBbkJBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBc0JBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBU0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbURBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFsY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBMExBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBc0JBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQTRMQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 463:
/* no static exports found */
/* all exports used */
/*!**************************************************!*\
  !*** ./src/components/message/messageeditor.tsx ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar TINYMCE = __webpack_require__(/*! react-tinymce */ 45);\r\nvar messageStore = __webpack_require__(/*! ../../stores/message/messagestore */ 240);\r\nvar htmlUtilities = __webpack_require__(/*! ../../utility/generic/htmlutilities */ 243);\r\nvar urls = __webpack_require__(/*! ../../dataservices/base/urls */ 266);\r\nvar messageEditorConstants = __webpack_require__(/*! ../utility/messageeditorconstants */ 325);\r\nvar localeHelper = __webpack_require__(/*! ../../utility/locale/localehelper */ 281);\r\nvar messageHelper = __webpack_require__(/*! ../utility/message/messagehelper */ 283);\r\nvar MessageEditor = /** @class */ (function (_super) {\r\n    __extends(MessageEditor, _super);\r\n    /**\r\n     * Constructor messageeditor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function MessageEditor(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.isEditorInitialised = false;\r\n        _this.lastTap = 0;\r\n        _this.contentStyle = htmlUtilities.isIPadDevice ?\r\n            '.mce-content-body{word-break: break-word;font-family:' + messageEditorConstants.TINYMCE_DEFAULT_FONT +\r\n                '; font-size:' + messageEditorConstants.TINYMCE_DEFAULT_FONTSIZE + '; list-style-position: inside;}' + 'p{ margin:0; padding:0;}'\r\n            : htmlUtilities.isIE ? '.mce-content-body{font-family:' + messageEditorConstants.TINYMCE_DEFAULT_FONT +\r\n                '; font-size:' + messageEditorConstants.TINYMCE_DEFAULT_FONTSIZE + ';} p{ margin:0; padding:0;}' :\r\n                '.mce-content-body{font-family:' + messageEditorConstants.TINYMCE_DEFAULT_FONT +\r\n                    '; font-size:' + messageEditorConstants.TINYMCE_DEFAULT_FONTSIZE + '; list-style-position: inside; } p{ margin:0; padding:0;}';\r\n        /**\r\n         * This will block the double-tap zoom in ipad\r\n         */\r\n        _this.blockDoubleTapZoom = function (e) {\r\n            var currentTime = new Date().getTime();\r\n            var tapLength = currentTime - _this.lastTap;\r\n            if (tapLength < 500 && tapLength > 0) {\r\n                e.preventDefault();\r\n            }\r\n            _this.lastTap = currentTime;\r\n        };\r\n        /**\r\n         * This will block the pinch-to-zoom in ipad\r\n         */\r\n        _this.blockPinchToZoom = function (e) {\r\n            if (e.touches.length > 1) {\r\n                e.preventDefault();\r\n            }\r\n        };\r\n        _this.onKeyup = function (o, e) {\r\n            _this.props.toggleSaveButtonState();\r\n        };\r\n        _this.onEditorInit = function (o, e) {\r\n            _this.activeEditor.on('SetContent', _this.onSetContent);\r\n            // Set the height of the iFrame section in the tiny mce as 100% for supporting the height calculation in css.\r\n            document.getElementById('msg-tinymce-editor_ifr').style.height = '100%';\r\n            if (htmlUtilities.isIPadDevice) {\r\n                document.getElementById('msg-tinymce-editor_ifr').setAttribute('scrolling', 'no');\r\n            }\r\n            _this.isEditorInitialised = true;\r\n            if (htmlUtilities.isIPadDevice && htmlUtilities.getUserDevice().browser === 'Safari') {\r\n                e.getWin().document.documentElement.addEventListener('touchend', _this.blockDoubleTapZoom);\r\n                e.getWin().document.documentElement.addEventListener('touchstart', _this.blockPinchToZoom);\r\n            }\r\n        };\r\n        _this.onRemove = function (o, e) {\r\n            if (htmlUtilities.isIPadDevice && htmlUtilities.getUserDevice().browser === 'Safari') {\r\n                e.getWin().document.documentElement.removeEventListener('touchend', _this.blockDoubleTapZoom);\r\n                e.getWin().document.documentElement.removeEventListener('touchstart', _this.blockPinchToZoom);\r\n            }\r\n        };\r\n        /**\r\n         * Simulate window click while clicking on tinyMCE editor to close opened priority drop down and user option panel.\r\n         */\r\n        _this.onClick = function (o, e) {\r\n            // we have to close opened priority drop down and user options (logout options) while clicking on outside that. TinyMCE editor was\r\n            // preventing the click event to propagate outside so closing of those things are not happening while clicking on TinyMCE editor.\r\n            var event = document.createEvent('MouseEvents');\r\n            event.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\r\n            window.dispatchEvent(event);\r\n        };\r\n        _this.onPaste = function (o, e) {\r\n            // find the clipboard data from any possible (window.clipboarddata is for ie)\r\n            var clipBoardData = (o.clipboardData || window.clipboardData ||\r\n                (o.originalEvent && o.originalEvent.clipboardData));\r\n            // set getdata argument - 'text' is only for ie11 and other device/browsers need 'text/plain'\r\n            var getDataArgument = htmlUtilities.isIE11 ? 'text' : 'text/plain';\r\n            // If you paste text into the editor with mouse by right- click\r\n            // TinyMCE's onPaste event is fired, but text is not available via .getContent().\r\n            // So that checking the clipboard data item when the user pasting the text via mouse by right- click.\r\n            if (clipBoardData && clipBoardData.getData(getDataArgument).trim() !== '') {\r\n                messageHelper.setPasteEnabledAction(true);\r\n            }\r\n            _this.props.toggleSaveButtonState();\r\n        };\r\n        /**\r\n         * This method will enable the send button when hyperlink is added.\r\n         */\r\n        _this.onSetContent = function (e) {\r\n            _this.props.toggleSaveButtonState();\r\n        };\r\n        /**\r\n         * This method will clear tinyMCE content\r\n         */\r\n        _this.onMessagePanelClose = function () {\r\n            _this.activeEditor.setContent('');\r\n        };\r\n        /**\r\n         * This method will set focus to tinyMCE editor\r\n         */\r\n        _this.setFocus = function () {\r\n            if (_this.state.scriptLoaded) {\r\n                if (_this.activeEditor && _this.isEditorInitialised && _this.props.hasFocus) {\r\n                    // this will set dom focus to tinymce editor\r\n                    _this.activeEditor.focus();\r\n                }\r\n            }\r\n        };\r\n        //initialize state\r\n        _this.state = {\r\n            scriptLoaded: false,\r\n            renderedOn: 0\r\n        };\r\n        _this.onRemove = _this.onRemove.bind(_this);\r\n        _this.onEditorInit = _this.onEditorInit.bind(_this);\r\n        _this.onSetContent = _this.onSetContent.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Component did mount\r\n     */\r\n    MessageEditor.prototype.componentDidMount = function () {\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_CLOSE_EVENT, this.onMessagePanelClose);\r\n        this.setFocus();\r\n    };\r\n    /**\r\n     * Component will mount\r\n     */\r\n    MessageEditor.prototype.componentWillMount = function () {\r\n        var url = htmlUtilities.getFullUrl(urls.TINYMCE_URL);\r\n        // If tinyMCE script is not loaded then load that\r\n        if (!htmlUtilities.isScriptLoaded(url)) {\r\n            var script = document.createElement('script');\r\n            script.src = url;\r\n            script.async = true;\r\n            script.onload = (this.dependenciesLoaded.bind(this));\r\n            document.body.appendChild(script);\r\n        }\r\n        else {\r\n            this.dependenciesLoaded();\r\n        }\r\n    };\r\n    /**\r\n     * component will unmount\r\n     */\r\n    MessageEditor.prototype.componentWillUnmount = function () {\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_CLOSE_EVENT, this.onMessagePanelClose);\r\n        if (tinymce.get(this.props.id)) {\r\n            tinymce.remove('#' + this.props.id);\r\n        }\r\n    };\r\n    /**\r\n     * Component did update\r\n     */\r\n    MessageEditor.prototype.componentDidUpdate = function () {\r\n        this.setFocus();\r\n    };\r\n    /**\r\n     * Render component\r\n     */\r\n    MessageEditor.prototype.render = function () {\r\n        if (this.state.scriptLoaded) {\r\n            var selectedLang = localeHelper.getAwardingBodyLocale(this.props.selectedLanguage);\r\n            var editorConfig = {\r\n                menubar: false,\r\n                statusbar: false,\r\n                renderedOn: Date.now(),\r\n                plugins: messageEditorConstants.TINYMCE_PLUGINS,\r\n                toolbar: messageEditorConstants.TINYMCE_TOOLBAR,\r\n                fontsize_formats: messageEditorConstants.TINYMCE_FONTSIZES,\r\n                font_formats: messageEditorConstants.TINYMCE_FONTS,\r\n                language: selectedLang,\r\n                browser_spellcheck: true,\r\n                content_style: this.contentStyle,\r\n                default_link_target: '_blank',\r\n                target_list: false,\r\n                invalid_elements: 'embed'\r\n            };\r\n            return (React.createElement(TINYMCE, { content: this.props.htmlContent, id: this.props.id, theme: messageEditorConstants.TINYMCE_THEME, config: editorConfig, onKeyup: this.onKeyup, onPaste: this.onPaste, onInit: this.onEditorInit, onClick: this.onClick, onRemove: this.onRemove }));\r\n        }\r\n        else {\r\n            //show loading icon if script is not loaded\r\n            return (React.createElement(\"div\", null));\r\n        }\r\n    };\r\n    /**\r\n     * Method to load dependencies\r\n     */\r\n    MessageEditor.prototype.dependenciesLoaded = function () {\r\n        if (this.props.isTinyMCELoaded) {\r\n            this.props.isTinyMCELoaded(true);\r\n        }\r\n        this.setState({ scriptLoaded: true });\r\n    };\r\n    Object.defineProperty(MessageEditor.prototype, \"activeEditor\", {\r\n        /**\r\n         * This method will return the active editor\r\n         */\r\n        get: function () {\r\n            return tinymce.get(this.props.id);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return MessageEditor;\r\n}(pureRenderComponent));\r\nmodule.exports = MessageEditor;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbWVzc2FnZS9tZXNzYWdlZWRpdG9yLnRzeD9iOWI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBSZWFjdERPTSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5jb25zdCBUSU5ZTUNFID0gcmVxdWlyZSgncmVhY3QtdGlueW1jZScpO1xyXG5pbXBvcnQgbWVzc2FnZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL21lc3NhZ2UvbWVzc2FnZXN0b3JlJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGh0bWxVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2dlbmVyaWMvaHRtbHV0aWxpdGllcycpO1xyXG5pbXBvcnQgdXJscyA9IHJlcXVpcmUoJy4uLy4uL2RhdGFzZXJ2aWNlcy9iYXNlL3VybHMnKTtcclxuaW1wb3J0IG1lc3NhZ2VFZGl0b3JDb25zdGFudHMgPSByZXF1aXJlKCcuLi91dGlsaXR5L21lc3NhZ2VlZGl0b3Jjb25zdGFudHMnKTtcclxuZGVjbGFyZSBsZXQgdGlueW1jZTogYW55O1xyXG5pbXBvcnQgbG9jYWxlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9sb2NhbGUvbG9jYWxlaGVscGVyJyk7XHJcbmltcG9ydCBtZXNzYWdlSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9tZXNzYWdlL21lc3NhZ2VoZWxwZXInKTtcclxuXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIFByb3BzQmFzZSwgTG9jYWxlU2VsZWN0aW9uQmFzZSB7XHJcbiAgICBodG1sQ29udGVudDogc3RyaW5nO1xyXG4gICAgaGFzRm9jdXM6IGJvb2xlYW47XHJcbiAgICB0b2dnbGVTYXZlQnV0dG9uU3RhdGU6IEZ1bmN0aW9uO1xyXG4gICAgaXNUaW55TUNFTG9hZGVkPzogRnVuY3Rpb247XHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgICBzY3JpcHRMb2FkZWQ/OiBib29sZWFuO1xyXG4gICAgcmVuZGVyZWRPbj86IG51bWJlcjtcclxufVxyXG5cclxuXHJcbmNsYXNzIE1lc3NhZ2VFZGl0b3IgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xyXG5cclxuICAgIHByaXZhdGUgaXNFZGl0b3JJbml0aWFsaXNlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBsYXN0VGFwOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBjb250ZW50U3R5bGU6IHN0cmluZyA9IGh0bWxVdGlsaXRpZXMuaXNJUGFkRGV2aWNlID9cclxuICAgICAgICAnLm1jZS1jb250ZW50LWJvZHl7d29yZC1icmVhazogYnJlYWstd29yZDtmb250LWZhbWlseTonICsgbWVzc2FnZUVkaXRvckNvbnN0YW50cy5USU5ZTUNFX0RFRkFVTFRfRk9OVCArXHJcbiAgICAgICAgJzsgZm9udC1zaXplOicgKyBtZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05UU0laRSArICc7IGxpc3Qtc3R5bGUtcG9zaXRpb246IGluc2lkZTt9JyArICdweyBtYXJnaW46MDsgcGFkZGluZzowO30nXHJcbiAgICAgICAgOiBodG1sVXRpbGl0aWVzLmlzSUUgPyAnLm1jZS1jb250ZW50LWJvZHl7Zm9udC1mYW1pbHk6JyArIG1lc3NhZ2VFZGl0b3JDb25zdGFudHMuVElOWU1DRV9ERUZBVUxUX0ZPTlQgK1xyXG4gICAgICAgICAgICAnOyBmb250LXNpemU6JyArIG1lc3NhZ2VFZGl0b3JDb25zdGFudHMuVElOWU1DRV9ERUZBVUxUX0ZPTlRTSVpFICsgJzt9IHB7IG1hcmdpbjowOyBwYWRkaW5nOjA7fScgOlxyXG4gICAgICAgICAgICAnLm1jZS1jb250ZW50LWJvZHl7Zm9udC1mYW1pbHk6JyArIG1lc3NhZ2VFZGl0b3JDb25zdGFudHMuVElOWU1DRV9ERUZBVUxUX0ZPTlQgK1xyXG4gICAgICAgICAgICAnOyBmb250LXNpemU6JyArIG1lc3NhZ2VFZGl0b3JDb25zdGFudHMuVElOWU1DRV9ERUZBVUxUX0ZPTlRTSVpFICsgJzsgbGlzdC1zdHlsZS1wb3NpdGlvbjogaW5zaWRlOyB9IHB7IG1hcmdpbjowOyBwYWRkaW5nOjA7fSc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBtZXNzYWdlZWRpdG9yXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBTdGF0ZSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcblxyXG4gICAgICAgIC8vaW5pdGlhbGl6ZSBzdGF0ZVxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHNjcmlwdExvYWRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IDBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm9uUmVtb3ZlID0gdGhpcy5vblJlbW92ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25FZGl0b3JJbml0ID0gdGhpcy5vbkVkaXRvckluaXQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uU2V0Q29udGVudCA9IHRoaXMub25TZXRDb250ZW50LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wb25lbnQgZGlkIG1vdW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX0NMT1NFX0VWRU5ULCB0aGlzLm9uTWVzc2FnZVBhbmVsQ2xvc2UpO1xyXG4gICAgICAgIHRoaXMuc2V0Rm9jdXMoKTtcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29tcG9uZW50IHdpbGwgbW91bnRcclxuXHQgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsTW91bnQoKSB7XHJcbiAgICAgICAgbGV0IHVybDogc3RyaW5nID0gaHRtbFV0aWxpdGllcy5nZXRGdWxsVXJsKHVybHMuVElOWU1DRV9VUkwpO1xyXG4gICAgICAgIC8vIElmIHRpbnlNQ0Ugc2NyaXB0IGlzIG5vdCBsb2FkZWQgdGhlbiBsb2FkIHRoYXRcclxuICAgICAgICBpZiAoIWh0bWxVdGlsaXRpZXMuaXNTY3JpcHRMb2FkZWQodXJsKSkge1xyXG4gICAgICAgICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuICAgICAgICAgICAgc2NyaXB0LnNyYyA9IHVybDtcclxuICAgICAgICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9ICh0aGlzLmRlcGVuZGVuY2llc0xvYWRlZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzTG9hZGVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY29tcG9uZW50IHdpbGwgdW5tb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuTUVTU0FHRV9DTE9TRV9FVkVOVCwgdGhpcy5vbk1lc3NhZ2VQYW5lbENsb3NlKTtcclxuXHJcbiAgICAgICAgaWYgKHRpbnltY2UuZ2V0KHRoaXMucHJvcHMuaWQpKSB7XHJcbiAgICAgICAgICAgIHRpbnltY2UucmVtb3ZlKCcjJyArIHRoaXMucHJvcHMuaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbXBvbmVudCBkaWQgdXBkYXRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnREaWRVcGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRGb2N1cygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyB3aWxsIGJsb2NrIHRoZSBkb3VibGUtdGFwIHpvb20gaW4gaXBhZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGJsb2NrRG91YmxlVGFwWm9vbSA9IChlOiBhbnkpOiB2b2lkID0+IHtcclxuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICBsZXQgdGFwTGVuZ3RoID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUYXA7XHJcbiAgICAgICAgaWYgKHRhcExlbmd0aCA8IDUwMCAmJiB0YXBMZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXN0VGFwID0gY3VycmVudFRpbWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyB3aWxsIGJsb2NrIHRoZSBwaW5jaC10by16b29tIGluIGlwYWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBibG9ja1BpbmNoVG9ab29tID0gKGU6IGFueSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2NyaXB0TG9hZGVkKSB7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZExhbmc6IHN0cmluZyA9IGxvY2FsZUhlbHBlci5nZXRBd2FyZGluZ0JvZHlMb2NhbGUodGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlKTtcclxuICAgICAgICAgICAgbGV0IGVkaXRvckNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIG1lbnViYXI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzYmFyOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICBwbHVnaW5zOiBtZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfUExVR0lOUyxcclxuICAgICAgICAgICAgICAgIHRvb2xiYXI6IG1lc3NhZ2VFZGl0b3JDb25zdGFudHMuVElOWU1DRV9UT09MQkFSLFxyXG4gICAgICAgICAgICAgICAgZm9udHNpemVfZm9ybWF0czogbWVzc2FnZUVkaXRvckNvbnN0YW50cy5USU5ZTUNFX0ZPTlRTSVpFUyxcclxuICAgICAgICAgICAgICAgIGZvbnRfZm9ybWF0czogbWVzc2FnZUVkaXRvckNvbnN0YW50cy5USU5ZTUNFX0ZPTlRTLFxyXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IHNlbGVjdGVkTGFuZyxcclxuICAgICAgICAgICAgICAgIGJyb3dzZXJfc3BlbGxjaGVjazogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRfc3R5bGU6IHRoaXMuY29udGVudFN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdF9saW5rX3RhcmdldDogJ19ibGFuaycsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRfbGlzdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpbnZhbGlkX2VsZW1lbnRzIDogJ2VtYmVkJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPFRJTllNQ0VcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLnByb3BzLmh0bWxDb250ZW50fVxyXG4gICAgICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lPXttZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfVEhFTUV9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnPXtlZGl0b3JDb25maWd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25LZXl1cD17dGhpcy5vbktleXVwfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uUGFzdGU9e3RoaXMub25QYXN0ZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkluaXQ9e3RoaXMub25FZGl0b3JJbml0fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cclxuICAgICAgICAgICAgICAgICAgICBvblJlbW92ZT17dGhpcy5vblJlbW92ZX1cclxuICAgICAgICAgICAgICAgIC8+KTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9zaG93IGxvYWRpbmcgaWNvbiBpZiBzY3JpcHQgaXMgbm90IGxvYWRlZFxyXG4gICAgICAgICAgICByZXR1cm4gKDxkaXY+PC9kaXY+KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gbG9hZCBkZXBlbmRlbmNpZXNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBkZXBlbmRlbmNpZXNMb2FkZWQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaXNUaW55TUNFTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaXNUaW55TUNFTG9hZGVkKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2NyaXB0TG9hZGVkOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25LZXl1cCA9IChvOiBhbnksIGU6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMudG9nZ2xlU2F2ZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgb25FZGl0b3JJbml0ID0gKG86IGFueSwgZTogYW55KSA9PiB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVFZGl0b3Iub24oJ1NldENvbnRlbnQnLCB0aGlzLm9uU2V0Q29udGVudCk7XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgaGVpZ2h0IG9mIHRoZSBpRnJhbWUgc2VjdGlvbiBpbiB0aGUgdGlueSBtY2UgYXMgMTAwJSBmb3Igc3VwcG9ydGluZyB0aGUgaGVpZ2h0IGNhbGN1bGF0aW9uIGluIGNzcy5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXNnLXRpbnltY2UtZWRpdG9yX2lmcicpLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgICBpZiAoaHRtbFV0aWxpdGllcy5pc0lQYWREZXZpY2UpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21zZy10aW55bWNlLWVkaXRvcl9pZnInKS5zZXRBdHRyaWJ1dGUoJ3Njcm9sbGluZycsICdubycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pc0VkaXRvckluaXRpYWxpc2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKGh0bWxVdGlsaXRpZXMuaXNJUGFkRGV2aWNlICYmIGh0bWxVdGlsaXRpZXMuZ2V0VXNlckRldmljZSgpLmJyb3dzZXIgPT09ICdTYWZhcmknKSB7XHJcbiAgICAgICAgICAgIGUuZ2V0V2luKCkuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5ibG9ja0RvdWJsZVRhcFpvb20pO1xyXG4gICAgICAgICAgICBlLmdldFdpbigpLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5ibG9ja1BpbmNoVG9ab29tKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgb25SZW1vdmUgPSAobzogYW55LCBlOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoaHRtbFV0aWxpdGllcy5pc0lQYWREZXZpY2UgJiYgaHRtbFV0aWxpdGllcy5nZXRVc2VyRGV2aWNlKCkuYnJvd3NlciA9PT0gJ1NhZmFyaScpIHtcclxuICAgICAgICAgICAgZS5nZXRXaW4oKS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLmJsb2NrRG91YmxlVGFwWm9vbSk7XHJcbiAgICAgICAgICAgIGUuZ2V0V2luKCkuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLmJsb2NrUGluY2hUb1pvb20pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaW11bGF0ZSB3aW5kb3cgY2xpY2sgd2hpbGUgY2xpY2tpbmcgb24gdGlueU1DRSBlZGl0b3IgdG8gY2xvc2Ugb3BlbmVkIHByaW9yaXR5IGRyb3AgZG93biBhbmQgdXNlciBvcHRpb24gcGFuZWwuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25DbGljayA9IChvOiBhbnksIGU6IGFueSkgPT4ge1xyXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gY2xvc2Ugb3BlbmVkIHByaW9yaXR5IGRyb3AgZG93biBhbmQgdXNlciBvcHRpb25zIChsb2dvdXQgb3B0aW9ucykgd2hpbGUgY2xpY2tpbmcgb24gb3V0c2lkZSB0aGF0LiBUaW55TUNFIGVkaXRvciB3YXNcclxuICAgICAgICAvLyBwcmV2ZW50aW5nIHRoZSBjbGljayBldmVudCB0byBwcm9wYWdhdGUgb3V0c2lkZSBzbyBjbG9zaW5nIG9mIHRob3NlIHRoaW5ncyBhcmUgbm90IGhhcHBlbmluZyB3aGlsZSBjbGlja2luZyBvbiBUaW55TUNFIGVkaXRvci5cclxuICAgICAgICBsZXQgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcclxuICAgICAgICBldmVudC5pbml0TW91c2VFdmVudCgnY2xpY2snLCB0cnVlLCB0cnVlLCB3aW5kb3csIDAsIDAsIDAsIDgwLCAyMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xyXG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvblBhc3RlID0gKG86IGFueSwgZTogYW55KSA9PiB7XHJcbiAgICAgICAgLy8gZmluZCB0aGUgY2xpcGJvYXJkIGRhdGEgZnJvbSBhbnkgcG9zc2libGUgKHdpbmRvdy5jbGlwYm9hcmRkYXRhIGlzIGZvciBpZSlcclxuICAgICAgICBsZXQgY2xpcEJvYXJkRGF0YTogYW55ID0gKG8uY2xpcGJvYXJkRGF0YSB8fCB3aW5kb3cuY2xpcGJvYXJkRGF0YSB8fFxyXG4gICAgICAgICAgICAoby5vcmlnaW5hbEV2ZW50ICYmIG8ub3JpZ2luYWxFdmVudC5jbGlwYm9hcmREYXRhKSk7XHJcblxyXG4gICAgICAgIC8vIHNldCBnZXRkYXRhIGFyZ3VtZW50IC0gJ3RleHQnIGlzIG9ubHkgZm9yIGllMTEgYW5kIG90aGVyIGRldmljZS9icm93c2VycyBuZWVkICd0ZXh0L3BsYWluJ1xyXG4gICAgICAgIGxldCBnZXREYXRhQXJndW1lbnQ6IHN0cmluZyA9IGh0bWxVdGlsaXRpZXMuaXNJRTExID8gJ3RleHQnIDogJ3RleHQvcGxhaW4nO1xyXG5cclxuICAgICAgICAvLyBJZiB5b3UgcGFzdGUgdGV4dCBpbnRvIHRoZSBlZGl0b3Igd2l0aCBtb3VzZSBieSByaWdodC0gY2xpY2tcclxuICAgICAgICAvLyBUaW55TUNFJ3Mgb25QYXN0ZSBldmVudCBpcyBmaXJlZCwgYnV0IHRleHQgaXMgbm90IGF2YWlsYWJsZSB2aWEgLmdldENvbnRlbnQoKS5cclxuICAgICAgICAvLyBTbyB0aGF0IGNoZWNraW5nIHRoZSBjbGlwYm9hcmQgZGF0YSBpdGVtIHdoZW4gdGhlIHVzZXIgcGFzdGluZyB0aGUgdGV4dCB2aWEgbW91c2UgYnkgcmlnaHQtIGNsaWNrLlxyXG4gICAgICAgIGlmIChjbGlwQm9hcmREYXRhICYmIGNsaXBCb2FyZERhdGEuZ2V0RGF0YShnZXREYXRhQXJndW1lbnQpLnRyaW0oKSAhPT0gJycpIHtcclxuICAgICAgICAgICAgbWVzc2FnZUhlbHBlci5zZXRQYXN0ZUVuYWJsZWRBY3Rpb24odHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvcHMudG9nZ2xlU2F2ZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBlbmFibGUgdGhlIHNlbmQgYnV0dG9uIHdoZW4gaHlwZXJsaW5rIGlzIGFkZGVkLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU2V0Q29udGVudCA9IChlOiBhbnkpID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLnRvZ2dsZVNhdmVCdXR0b25TdGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgY2xlYXIgdGlueU1DRSBjb250ZW50XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25NZXNzYWdlUGFuZWxDbG9zZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmFjdGl2ZUVkaXRvci5zZXRDb250ZW50KCcnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHNldCBmb2N1cyB0byB0aW55TUNFIGVkaXRvclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldEZvY3VzID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNjcmlwdExvYWRlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVFZGl0b3IgJiYgdGhpcy5pc0VkaXRvckluaXRpYWxpc2VkICYmIHRoaXMucHJvcHMuaGFzRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBzZXQgZG9tIGZvY3VzIHRvIHRpbnltY2UgZWRpdG9yXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUVkaXRvci5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBhY3RpdmUgZWRpdG9yXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0IGFjdGl2ZUVkaXRvcigpIHtcclxuICAgICAgICByZXR1cm4gdGlueW1jZS5nZXQodGhpcy5wcm9wcy5pZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IE1lc3NhZ2VFZGl0b3I7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9tZXNzYWdlL21lc3NhZ2VlZGl0b3IudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWVBO0FBQUE7QUFZQTs7OztBQUlBO0FBQ0E7QUFBQTtBQWZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFxREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE5TUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBdUJBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXVGQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 464:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/message/messageprioritydropdown.tsx ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\n/* tslint:disable:variable-name */\r\nvar ListItem = function (props) {\r\n    return React.createElement(\"li\", { role: 'menuitem' },\r\n        React.createElement(\"a\", { href: 'javascript:void(0)', onClick: function () { props.onSelect(props.item.id); } }, props.item.name));\r\n};\r\nvar List = function (props) { return (React.createElement(\"ul\", { id: props.id + '_drop-down-items', className: 'menu', role: 'menu', title: localeStore.instance.TranslateText('messaging.compose-message.priority.priority-tooltip'), \"aria-hidden\": 'true' }, props.items.map(function (item) { return (item !== null) ?\r\n    (React.createElement(ListItem, { key: 'key_drop_down_' + item.id, onSelect: props.onSelect, item: item })) :\r\n    null; }))); };\r\nvar DropDown = function (props) {\r\n    return (React.createElement(\"div\", { id: props.id + '_dropdown', className: classNames(props.className, { 'open': props.isOpen }, { 'close': props.isOpen === undefined ? false : !props.isOpen }), onClick: function () { props.onClick(props.dropDownType); } },\r\n        React.createElement(\"a\", { href: 'javascript:void(0)', id: props.id + '_component', className: 'menu-button' },\r\n            React.createElement(\"span\", { id: props.id + '_items' },\r\n                \" \",\r\n                props.selectedItem,\r\n                \" \"),\r\n            React.createElement(\"span\", { className: 'sprite-icon menu-arrow-icon' })),\r\n        React.createElement(List, { id: props.id, key: 'key_drop_down_items', onSelect: props.onSelect, items: props.items })));\r\n};\r\nmodule.exports = DropDown;\r\n/* tslint:enable */ \r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbWVzc2FnZS9tZXNzYWdlcHJpb3JpdHlkcm9wZG93bi50c3g/YTU0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmxldCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xyXG5sZXQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcblxyXG5pbnRlcmZhY2UgSXRlbSB7XHJcbiAgICBpZDogZW51bXMuTWVzc2FnZVByaW9yaXR5O1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRHJvcERvd25JdGVtcyB7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgZHJvcERvd25UeXBlOiBlbnVtcy5Ecm9wRG93blR5cGU7XHJcbiAgICBjbGFzc05hbWU6IHN0cmluZztcclxuICAgIGlzT3BlbjogYm9vbGVhbjtcclxuICAgIG9uQ2xpY2s6IEZ1bmN0aW9uO1xyXG4gICAgb25TZWxlY3Q6IEZ1bmN0aW9uO1xyXG4gICAgc2VsZWN0ZWRJdGVtOiBzdHJpbmc7XHJcbiAgICBpdGVtczogQXJyYXk8SXRlbT47XHJcbn1cclxuXHJcbi8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cclxuXHJcbmNvbnN0IExpc3RJdGVtID0gKHByb3BzOiB7IG9uU2VsZWN0OiBGdW5jdGlvbiwgaXRlbTogSXRlbX0pID0+XHJcbiAgICA8bGkgcm9sZT0nbWVudWl0ZW0nPjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKScgb25DbGljayA9IHsoKSA9PiB7IHByb3BzLm9uU2VsZWN0KHByb3BzLml0ZW0uaWQpOyB9IH0+eyBwcm9wcy5pdGVtLm5hbWUgfTwvYT48L2xpPjtcclxuY29uc3QgTGlzdCA9IChwcm9wczogeyBvblNlbGVjdDogRnVuY3Rpb24sIGl0ZW1zOiBBcnJheTxJdGVtPiwgaWQ6IHN0cmluZyB9KSA9PiAoXHJcbiAgICA8dWwgaWQ9e3Byb3BzLmlkICsgJ19kcm9wLWRvd24taXRlbXMnfSBjbGFzc05hbWU9J21lbnUnIHJvbGU9J21lbnUnXHJcbiAgICAgICAgdGl0bGU9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UucHJpb3JpdHkucHJpb3JpdHktdG9vbHRpcCcpfSBhcmlhLWhpZGRlbj0ndHJ1ZScgPlxyXG4gICAgICAgIHsgcHJvcHMuaXRlbXMubWFwKChpdGVtOiBJdGVtKSA9PiAoaXRlbSAhPT0gbnVsbCkgP1xyXG4gICAgICAgICAgICAoPExpc3RJdGVtIGtleT0geydrZXlfZHJvcF9kb3duXycgKyBpdGVtLmlkfSBvblNlbGVjdD0ge3Byb3BzLm9uU2VsZWN0fSBpdGVtPXsgaXRlbSB9IC8+KSA6XHJcbiAgICAgICAgICAgIG51bGwpIH1cclxuICAgIDwvdWw+XHJcbik7XHJcblxyXG5jb25zdCBEcm9wRG93biA9IChwcm9wczogRHJvcERvd25JdGVtcykgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGlkPXtwcm9wcy5pZCArICdfZHJvcGRvd24nfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMocHJvcHMuY2xhc3NOYW1lLCB7ICdvcGVuJzogcHJvcHMuaXNPcGVuIH0sXHJcbiAgICAgICAgICAgIHsgJ2Nsb3NlJzogcHJvcHMuaXNPcGVuID09PSB1bmRlZmluZWQgPyBmYWxzZSA6ICFwcm9wcy5pc09wZW4gfSkgfSBvbkNsaWNrID0geyAoKSA9PiB7IHByb3BzLm9uQ2xpY2socHJvcHMuZHJvcERvd25UeXBlKTsgfSB9PlxyXG4gICAgICAgICAgICA8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIGlkPXtwcm9wcy5pZCArICdfY29tcG9uZW50J30gY2xhc3NOYW1lPSdtZW51LWJ1dHRvbic+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBpZCA9IHtwcm9wcy5pZCArICdfaXRlbXMnfSA+IHsgcHJvcHMuc2VsZWN0ZWRJdGVtIH0gPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdzcHJpdGUtaWNvbiBtZW51LWFycm93LWljb24nPjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8TGlzdCBpZD17cHJvcHMuaWR9IGtleT17J2tleV9kcm9wX2Rvd25faXRlbXMnfSAgb25TZWxlY3Q9IHtwcm9wcy5vblNlbGVjdH0gaXRlbXMgPSB7IHByb3BzLml0ZW1zIH0vPlxyXG4gICAgICAgIDwvZGl2Pik7XHJcbn07XHJcblxyXG5leHBvcnQgPSBEcm9wRG93bjtcclxuXHJcbi8qIHRzbGludDplbmFibGUgKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvbWVzc2FnZS9tZXNzYWdlcHJpb3JpdHlkcm9wZG93bi50c3giXSwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFrQkE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFHQTtBQUNBOztBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 466:
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src/components/message/subject.tsx ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar messageStore = __webpack_require__(/*! ../../stores/message/messagestore */ 240);\r\nvar htmlUtilities = __webpack_require__(/*! ../../utility/generic/htmlutilities */ 243);\r\nvar Subject = /** @class */ (function (_super) {\r\n    __extends(Subject, _super);\r\n    /**\r\n     * constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function Subject(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * seting focus back to subject on message close for fixing cursor and onscreen keyboard displaying issue in ipad\r\n         * Defect: 24608\r\n         */\r\n        _this.closeMessage = function () {\r\n            if (_this.props.hasFocus && htmlUtilities.isIPadDevice) {\r\n                _this.setFocusOnSubject();\r\n                (_this.refs[_this.props.refName]).blur();\r\n            }\r\n            // close message callback function called\r\n            if (_this.props.callback) {\r\n                _this.props.callback();\r\n            }\r\n        };\r\n        /**\r\n         * This method will call on subject onChange event\r\n         */\r\n        _this.onChange = function (event) {\r\n            _this.props.onChange(event.target.value);\r\n        };\r\n        /**\r\n         * Set Focus to the input field if necessary\r\n         */\r\n        _this.setFocusOnSubject = function () {\r\n            if (_this.props.hasFocus) {\r\n                (_this.refs[_this.props.refName]).blur();\r\n                (_this.refs[_this.props.refName]).focus();\r\n            }\r\n        };\r\n        _this.onAnimationEnd = _this.onAnimationEnd.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Event on animation end\r\n     * @param event\r\n     */\r\n    Subject.prototype.onAnimationEnd = function (event) {\r\n        // If any child element has triggered the transion-end ignore it\r\n        var element = event.srcElement || event.target;\r\n        if (element.id !== 'messaging-panel') {\r\n            return;\r\n        }\r\n        // setting scroll top - fix for ipad issue #49587\r\n        if (htmlUtilities.isIPadDevice) {\r\n            window.scrollTo(0, 0);\r\n            document.body.scrollTop = 0;\r\n        }\r\n        this.setFocusOnSubject();\r\n    };\r\n    /**\r\n     * Render method\r\n     */\r\n    Subject.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: this.props.outerClass },\r\n            React.createElement(\"input\", { type: 'text', ref: this.props.refName, id: this.props.id, \"aria-label\": 'Subject', placeholder: this.props.placeHolder, className: this.props.className, maxLength: this.props.maxLength, value: this.props.value, onInput: this.onChange })));\r\n    };\r\n    /**\r\n     * This function gets invoked when the component is about to be mounted\r\n     */\r\n    Subject.prototype.componentDidMount = function () {\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_CLOSE_EVENT, this.closeMessage);\r\n        // While creating a message from worklist and Inbox, set the focus to subject\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_OPEN_EVENT, this.setFocusOnSubject);\r\n        this.messagingPanel = document.getElementsByClassName('messaging-panel').item(0);\r\n        if (this.messagingPanel) {\r\n            // While creating a message inside the response, set the focus to subject\r\n            this.messagingPanel.addEventListener('transitionend', this.onAnimationEnd);\r\n        }\r\n        // While composing a message from Team management. Set focus to subject\r\n        this.setFocusOnSubject();\r\n    };\r\n    /**\r\n     * This function gets invoked when the component is about to be mounted\r\n     */\r\n    Subject.prototype.componentWillUnmount = function () {\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_CLOSE_EVENT, this.closeMessage);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_OPEN_EVENT, this.setFocusOnSubject);\r\n        if (this.messagingPanel) {\r\n            this.messagingPanel.removeEventListener('transitionend', this.onAnimationEnd);\r\n        }\r\n    };\r\n    return Subject;\r\n}(pureRenderComponent));\r\nmodule.exports = Subject;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbWVzc2FnZS9zdWJqZWN0LnRzeD9hNzFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBSZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBtZXNzYWdlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbWVzc2FnZS9tZXNzYWdlc3RvcmUnKTtcclxuaW1wb3J0IGh0bWxVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2dlbmVyaWMvaHRtbHV0aWxpdGllcycpO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgUHJvcHNCYXNlLCBMb2NhbGVTZWxlY3Rpb25CYXNlIHtcclxuICAgIG91dGVyQ2xhc3M6IHN0cmluZztcclxuICAgIHJlZk5hbWU6IHN0cmluZztcclxuICAgIGhhc0ZvY3VzOiBib29sZWFuO1xyXG4gICAgY2xhc3NOYW1lOiBzdHJpbmc7XHJcbiAgICBwbGFjZUhvbGRlcj86IHN0cmluZztcclxuICAgIG1heExlbmd0aDogbnVtYmVyO1xyXG4gICAgdmFsdWU6IHN0cmluZztcclxuICAgIG9uQ2hhbmdlOiBGdW5jdGlvbjtcclxuICAgIGNhbGxiYWNrPzogRnVuY3Rpb247XHJcbiAgICBpc1Zpc2libGU6IGJvb2xlYW47XHJcbn1cclxuXHJcbmNsYXNzIFN1YmplY3QgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuICAgIC8qIHByaXZhdGUgdmFyaWFibGUgdG8gbWFuYWdlIGV2ZW50IGxpc3RlbmVycyBmb3IgbWVzc2FnaW5nIHBhbmVsKi9cclxuICAgIHByaXZhdGUgbWVzc2FnaW5nUGFuZWw6IEVsZW1lbnQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjb25zdHJ1Y3RvclxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgICAgICB0aGlzLm9uQW5pbWF0aW9uRW5kID0gdGhpcy5vbkFuaW1hdGlvbkVuZC5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXZlbnQgb24gYW5pbWF0aW9uIGVuZFxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25BbmltYXRpb25FbmQoZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICAgICAgLy8gSWYgYW55IGNoaWxkIGVsZW1lbnQgaGFzIHRyaWdnZXJlZCB0aGUgdHJhbnNpb24tZW5kIGlnbm9yZSBpdFxyXG4gICAgICAgIGxldCBlbGVtZW50OiBhbnkgPSBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LnRhcmdldDtcclxuICAgICAgICBpZiAoZWxlbWVudC5pZCAhPT0gJ21lc3NhZ2luZy1wYW5lbCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2V0dGluZyBzY3JvbGwgdG9wIC0gZml4IGZvciBpcGFkIGlzc3VlICM0OTU4N1xyXG4gICAgICAgIGlmIChodG1sVXRpbGl0aWVzLmlzSVBhZERldmljZSkge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRGb2N1c09uU3ViamVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIG1ldGhvZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5vdXRlckNsYXNzfT5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyByZWY9e3RoaXMucHJvcHMucmVmTmFtZX0gaWQ9e3RoaXMucHJvcHMuaWR9IGFyaWEtbGFiZWw9J1N1YmplY3QnXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2VIb2xkZXJ9IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoPXt0aGlzLnByb3BzLm1heExlbmd0aH0gdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9IG9uSW5wdXQ9e3RoaXMub25DaGFuZ2V9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGdldHMgaW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgYWJvdXQgdG8gYmUgbW91bnRlZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuTUVTU0FHRV9DTE9TRV9FVkVOVCwgdGhpcy5jbG9zZU1lc3NhZ2UpO1xyXG5cclxuICAgICAgICAvLyBXaGlsZSBjcmVhdGluZyBhIG1lc3NhZ2UgZnJvbSB3b3JrbGlzdCBhbmQgSW5ib3gsIHNldCB0aGUgZm9jdXMgdG8gc3ViamVjdFxyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfT1BFTl9FVkVOVCwgdGhpcy5zZXRGb2N1c09uU3ViamVjdCk7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdpbmdQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21lc3NhZ2luZy1wYW5lbCcpLml0ZW0oMCk7XHJcbiAgICAgICAgaWYgKHRoaXMubWVzc2FnaW5nUGFuZWwpIHtcclxuICAgICAgICAgICAgLy8gV2hpbGUgY3JlYXRpbmcgYSBtZXNzYWdlIGluc2lkZSB0aGUgcmVzcG9uc2UsIHNldCB0aGUgZm9jdXMgdG8gc3ViamVjdFxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2luZ1BhbmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm9uQW5pbWF0aW9uRW5kKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdoaWxlIGNvbXBvc2luZyBhIG1lc3NhZ2UgZnJvbSBUZWFtIG1hbmFnZW1lbnQuIFNldCBmb2N1cyB0byBzdWJqZWN0XHJcbiAgICAgICAgdGhpcy5zZXRGb2N1c09uU3ViamVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBnZXRzIGludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFib3V0IHRvIGJlIG1vdW50ZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfQ0xPU0VfRVZFTlQsIHRoaXMuY2xvc2VNZXNzYWdlKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX09QRU5fRVZFTlQsIHRoaXMuc2V0Rm9jdXNPblN1YmplY3QpO1xyXG4gICAgICAgIGlmICh0aGlzLm1lc3NhZ2luZ1BhbmVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnaW5nUGFuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMub25BbmltYXRpb25FbmQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldGluZyBmb2N1cyBiYWNrIHRvIHN1YmplY3Qgb24gbWVzc2FnZSBjbG9zZSBmb3IgZml4aW5nIGN1cnNvciBhbmQgb25zY3JlZW4ga2V5Ym9hcmQgZGlzcGxheWluZyBpc3N1ZSBpbiBpcGFkXHJcbiAgICAgKiBEZWZlY3Q6IDI0NjA4XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2xvc2VNZXNzYWdlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmhhc0ZvY3VzICYmIGh0bWxVdGlsaXRpZXMuaXNJUGFkRGV2aWNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXNPblN1YmplY3QoKTtcclxuICAgICAgICAgICAgKCh0aGlzLnJlZnNbdGhpcy5wcm9wcy5yZWZOYW1lXSkgYXMgSFRNTElucHV0RWxlbWVudCkuYmx1cigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY2xvc2UgbWVzc2FnZSBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWRcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jYWxsYmFjaykge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgY2FsbCBvbiBzdWJqZWN0IG9uQ2hhbmdlIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25DaGFuZ2UgPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgRm9jdXMgdG8gdGhlIGlucHV0IGZpZWxkIGlmIG5lY2Vzc2FyeVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldEZvY3VzT25TdWJqZWN0ID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmhhc0ZvY3VzKSB7XHJcbiAgICAgICAgICAgICgodGhpcy5yZWZzW3RoaXMucHJvcHMucmVmTmFtZV0pIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmJsdXIoKTtcclxuICAgICAgICAgICAgKCh0aGlzLnJlZnNbdGhpcy5wcm9wcy5yZWZOYW1lXSkgYXMgSFRNTElucHV0RWxlbWVudCkuZm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFN1YmplY3Q7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9tZXNzYWdlL3N1YmplY3QudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFFQTtBQUNBO0FBZUE7QUFBQTtBQUlBOzs7O0FBSUE7QUFDQTtBQUFBO0FBaUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlGQTs7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 467:
/* no static exports found */
/* all exports used */
/*!*********************************************!*\
  !*** ./src/components/utility/dropdown.tsx ***!
  \*********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\n/* tslint:disable:variable-name */\r\nvar ListItem = function (props) {\r\n    return React.createElement(\"li\", { role: 'menuitem' },\r\n        React.createElement(\"a\", { href: 'javascript:void(0)', onClick: function () { props.onSelect(props.item.id); } }, props.item.name));\r\n};\r\nvar List = function (props) { return (React.createElement(\"ul\", { id: 'drop-down-items', className: 'menu', role: 'menu', title: '', \"aria-hidden\": 'true', style: props.style }, props.items.map(function (item) { return React.createElement(ListItem, { key: 'key_drop_down_' + item.id, onSelect: props.onSelect, item: item }); }))); };\r\n/* tslint:enable */\r\nvar DropDown = /** @class */ (function (_super) {\r\n    __extends(DropDown, _super);\r\n    /**\r\n     * constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function DropDown(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * This will find the width of the anchor tag and pass to parent for applying width style of menu ul\r\n         */\r\n        _this.onDropDownClick = function (dropdownType) {\r\n            var width = _this.refs.qigDropDown.getBoundingClientRect().width;\r\n            _this.props.onClick(dropdownType, width);\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    DropDown.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", { id: this.props.id + '_dropdown', title: this.props.title, className: classNames(this.props.className, { 'open': this.props.isOpen }, { 'close': this.props.isOpen === undefined ? false : !this.props.isOpen }), onClick: function () { _this.onDropDownClick(_this.props.dropDownType); } },\r\n            React.createElement(\"a\", { ref: 'qigDropDown', href: 'javascript:void(0)', id: this.props.id + '_component', className: 'menu-button' },\r\n                React.createElement(\"span\", { id: this.props.id + '_items' },\r\n                    \" \",\r\n                    this.props.selectedItem,\r\n                    \" \"),\r\n                React.createElement(\"span\", { className: 'sprite-icon menu-arrow-icon' })),\r\n            React.createElement(List, { key: 'key_drop_down_items', onSelect: this.props.onSelect, items: this.props.items, style: this.props.style })));\r\n    };\r\n    return DropDown;\r\n}(pureRenderComponent));\r\nmodule.exports = DropDown;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9kcm9wZG93bi50c3g/ZTY2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmxldCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcblxyXG5pbnRlcmZhY2UgSXRlbSB7XHJcbiAgICBpZDogZW51bXMuTWVzc2FnZVByaW9yaXR5O1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIGRyb3BEb3duVHlwZTogZW51bXMuRHJvcERvd25UeXBlO1xyXG4gICAgY2xhc3NOYW1lOiBzdHJpbmc7XHJcbiAgICBzdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcztcclxuICAgIGlzT3BlbjogYm9vbGVhbjtcclxuICAgIG9uQ2xpY2s6IEZ1bmN0aW9uO1xyXG4gICAgb25TZWxlY3Q6IEZ1bmN0aW9uO1xyXG4gICAgc2VsZWN0ZWRJdGVtOiBzdHJpbmc7XHJcbiAgICBpdGVtczogQXJyYXk8SXRlbT47XHJcbiAgICB0aXRsZTogc3RyaW5nO1xyXG59XHJcblxyXG4vKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcblxyXG5jb25zdCBMaXN0SXRlbSA9IChwcm9wczogeyBvblNlbGVjdDogRnVuY3Rpb24sIGl0ZW06IEl0ZW0gfSkgPT5cclxuICAgIDxsaSByb2xlPSdtZW51aXRlbSc+PGEgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApJyBvbkNsaWNrPXsoKSA9PiB7IHByb3BzLm9uU2VsZWN0KHByb3BzLml0ZW0uaWQpOyB9fT57cHJvcHMuaXRlbS5uYW1lfTwvYT48L2xpPjtcclxuY29uc3QgTGlzdCA9IChwcm9wczogeyBvblNlbGVjdDogRnVuY3Rpb24sIHN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzLCBpdGVtczogQXJyYXk8SXRlbT4gfSkgPT4gKFxyXG4gICAgPHVsIGlkPSdkcm9wLWRvd24taXRlbXMnIGNsYXNzTmFtZT0nbWVudScgcm9sZT0nbWVudScgdGl0bGU9JycgYXJpYS1oaWRkZW49J3RydWUnIHN0eWxlPXtwcm9wcy5zdHlsZX0+XHJcbiAgICAgICAge3Byb3BzLml0ZW1zLm1hcCgoaXRlbTogSXRlbSkgPT4gPExpc3RJdGVtIGtleT17J2tleV9kcm9wX2Rvd25fJyArIGl0ZW0uaWR9IG9uU2VsZWN0PXtwcm9wcy5vblNlbGVjdH0gaXRlbT17aXRlbX0gLz4pfVxyXG4gICAgPC91bD5cclxuKTtcclxuXHJcbi8qIHRzbGludDplbmFibGUgKi9cclxuXHJcbmNsYXNzIERyb3BEb3duIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgcHJpdmF0ZSBzdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcztcclxuXHJcbiAgICAvKiogcmVmcyAqL1xyXG4gICAgcHVibGljIHJlZnM6IHtcclxuICAgICAgICBba2V5OiBzdHJpbmddOiAoRWxlbWVudCk7XHJcbiAgICAgICAgcWlnRHJvcERvd246IChIVE1MQW5jaG9yRWxlbWVudCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGlkPXt0aGlzLnByb3BzLmlkICsgJ19kcm9wZG93bid9XHJcbiAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyh0aGlzLnByb3BzLmNsYXNzTmFtZSwgeyAnb3Blbic6IHRoaXMucHJvcHMuaXNPcGVuIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyAnY2xvc2UnOiB0aGlzLnByb3BzLmlzT3BlbiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiAhdGhpcy5wcm9wcy5pc09wZW4gfSl9IG9uQ2xpY2s9XHJcbiAgICAgICAgICAgICAgICB7KCkgPT4geyB0aGlzLm9uRHJvcERvd25DbGljayh0aGlzLnByb3BzLmRyb3BEb3duVHlwZSk7IH19PlxyXG4gICAgICAgICAgICAgICAgPGEgcmVmPSdxaWdEcm9wRG93bicgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApJyBpZD17dGhpcy5wcm9wcy5pZCArICdfY29tcG9uZW50J30gY2xhc3NOYW1lPSdtZW51LWJ1dHRvbic+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9e3RoaXMucHJvcHMuaWQgKyAnX2l0ZW1zJ30gPiB7dGhpcy5wcm9wcy5zZWxlY3RlZEl0ZW19IDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Nwcml0ZS1pY29uIG1lbnUtYXJyb3ctaWNvbic+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPExpc3Qga2V5PXsna2V5X2Ryb3BfZG93bl9pdGVtcyd9IG9uU2VsZWN0PXt0aGlzLnByb3BzLm9uU2VsZWN0fSBpdGVtcz17dGhpcy5wcm9wcy5pdGVtc31cclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCBmaW5kIHRoZSB3aWR0aCBvZiB0aGUgYW5jaG9yIHRhZyBhbmQgcGFzcyB0byBwYXJlbnQgZm9yIGFwcGx5aW5nIHdpZHRoIHN0eWxlIG9mIG1lbnUgdWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbkRyb3BEb3duQ2xpY2sgPSAoZHJvcGRvd25UeXBlOiBlbnVtcy5Ecm9wRG93blR5cGUpID0+IHtcclxuICAgICAgICBsZXQgd2lkdGg6IG51bWJlciA9IHRoaXMucmVmcy5xaWdEcm9wRG93bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ2xpY2soZHJvcGRvd25UeXBlLCB3aWR0aCk7XHJcbiAgICB9O1xyXG5cclxufVxyXG5cclxuZXhwb3J0ID0gRHJvcERvd247XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZHJvcGRvd24udHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQXFCQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFNQTtBQUVBO0FBQUE7QUFVQTs7OztBQUlBO0FBQ0E7QUFBQTtBQXdCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQTVCQTtBQUVBOzs7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQU1BO0FBQ0E7O0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFHQTtBQVVBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 472:
/* no static exports found */
/* all exports used */
/*!******************************************************!*\
  !*** ./src/components/utility/banner/bannerbase.tsx ***!
  \******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:enable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\n/**\r\n * Banner base class\r\n */\r\nvar BannerBase = /** @class */ (function (_super) {\r\n    __extends(BannerBase, _super);\r\n    /**\r\n     * Constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function BannerBase(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.state = {\r\n            renderedOn: 0,\r\n            isVisible: _this.props.isVisible\r\n        };\r\n        return _this;\r\n    }\r\n    return BannerBase;\r\n}(pureRenderComponent));\r\nmodule.exports = BannerBase;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9iYW5uZXIvYmFubmVyYmFzZS50c3g/MDE2NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IFJlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XHJcbi8qIHRzbGludDplbmFibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uL2VudW1zJyk7XHJcblxyXG4vKlxyXG4gKiBTdGF0ZSBvZiBiYW5uZXJcclxuICovXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgICByZW5kZXJlZE9uPzogbnVtYmVyO1xyXG4gICAgaXNWaXNpYmxlPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgYmFubmVyXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgaGVhZGVyOiBzdHJpbmc7XHJcbiAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICByb2xlOiBzdHJpbmc7XHJcbiAgICBpc0FyaWFIaWRkZW46IGJvb2xlYW47XHJcbiAgICBiYW5uZXJUeXBlOiBlbnVtcy5CYW5uZXJUeXBlO1xyXG4gICAgaXNWaXNpYmxlPzogYm9vbGVhbjtcclxuICAgIG9uQ2xvc2VDbGljaz86IEZ1bmN0aW9uO1xyXG59XHJcblxyXG4vKipcclxuICogQmFubmVyIGJhc2UgY2xhc3NcclxuICovXHJcbmNsYXNzIEJhbm5lckJhc2UgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IFN0YXRlKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgcmVuZGVyZWRPbjogMCxcclxuICAgICAgICAgICAgaXNWaXNpYmxlOiB0aGlzLnByb3BzLmlzVmlzaWJsZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEJhbm5lckJhc2U7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvYmFubmVyL2Jhbm5lcmJhc2UudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUdBO0FBQ0E7QUF3QkE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 475:
/* no static exports found */
/* all exports used */
/*!******************************************************************************!*\
  !*** ./src/utility/teammanagement/helpers/warningmessagenavigationhelper.ts ***!
  \******************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../../components/utility/enums */ 225);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar teamManagementActionCreator = __webpack_require__(/*! ../../../actions/teammanagement/teammanagementactioncreator */ 263);\r\nvar qigActionCreator = __webpack_require__(/*! ../../../actions/qigselector/qigselectoractioncreator */ 253);\r\nvar loadContainerActionCreator = __webpack_require__(/*! ../../../actions/navigation/loadcontaineractioncreator */ 397);\r\nvar navigationHelper = __webpack_require__(/*! ../../../components/utility/navigation/navigationhelper */ 248);\r\nvar storageAdapterHelper = __webpack_require__(/*! ../../../dataservices/storageadapters/storageadapterhelper */ 269);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar worklistActionCreator = __webpack_require__(/*! ../../../actions/worklist/worklistactioncreator */ 261);\r\nvar markerInformationActionCreator = __webpack_require__(/*! ../../../actions/markerinformation/markerinformationactioncreator */ 381);\r\nvar teamManagementStore = __webpack_require__(/*! ../../../stores/teammanagement/teammanagementstore */ 245);\r\nvar responseActionCreator = __webpack_require__(/*! ../../../actions/response/responseactioncreator */ 257);\r\nvar markingCheckActionCreator = __webpack_require__(/*! ../../../actions/markingcheck/markingcheckactioncreator */ 311);\r\n/**\r\n * Helper class for warning message navigation\r\n */\r\nvar WarningMessageNavigationHelper = /** @class */ (function () {\r\n    function WarningMessageNavigationHelper() {\r\n    }\r\n    /**\r\n     * Refresh worklist data.\r\n     */\r\n    WarningMessageNavigationHelper.refreshworklistData = function (failureCode) {\r\n        // Clear worklist cache and do content refresh\r\n        var markingMode = worklistStore.instance.\r\n            getMarkingModeByWorkListType(worklistStore.instance.currentWorklistType);\r\n        WarningMessageNavigationHelper._storageAdapterHelper.\r\n            clearCache(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, markingMode, worklistStore.instance.getRemarkRequestType, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, worklistStore.instance.currentWorklistType);\r\n        var worklistType = worklistStore.instance.currentWorklistType;\r\n        var responseMode = worklistStore.instance.getResponseMode;\r\n        if (failureCode === enums.FailureCode.ExaminerStatusAlreadyChanged) {\r\n            worklistType = enums.WorklistType.live;\r\n            responseMode = enums.ResponseMode.open;\r\n        }\r\n        // Load work list.\r\n        if (failureCode === enums.FailureCode.ExaminerStatusAlreadyChanged ||\r\n            failureCode === enums.FailureCode.Suspended) {\r\n            var markSchemeGroupId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n            var examinerRoleId = qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId;\r\n            var questionPaperPartId = qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId;\r\n            var remarkRequestType = worklistStore.instance.getRemarkRequestType;\r\n            var isDirectedRemark = worklistStore.instance.isDirectedRemark;\r\n            worklistActionCreator.notifyWorklistTypeChange(markSchemeGroupId, examinerRoleId, questionPaperPartId, worklistType, responseMode, remarkRequestType, isDirectedRemark, qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember, false);\r\n        }\r\n        // Load the marking progress\r\n        worklistActionCreator.getWorklistMarkerProgressData(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember);\r\n        // Load the marker information\r\n        markerInformationActionCreator.\r\n            GetMarkerInformation(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, true, false, enums.ExaminerApproval.None);\r\n    };\r\n    /**\r\n     * Method to handle the supervisor sampling navigation.\r\n     */\r\n    WarningMessageNavigationHelper.supervisorSamplingFailureNavigation = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                WarningMessageNavigationHelper.clearMyTeamDataCache();\r\n                navigationHelper.loadTeamManagement();\r\n                break;\r\n            case enums.FailureCode.Withdrawn:\r\n            case enums.FailureCode.HierarchyChanged:\r\n                WarningMessageNavigationHelper.clearQIGSelectorCache();\r\n                navigationHelper.loadQigSelector();\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * method to handle the promote to seed failure navigation.\r\n     */\r\n    WarningMessageNavigationHelper.promoteSeedCheckFailureNavigation = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.Suspended:\r\n                navigationHelper.handleNavigation(enums.SaveAndNavigate.toWorklist);\r\n                break;\r\n            case enums.FailureCode.Withdrawn:\r\n                WarningMessageNavigationHelper.removeQIGSelectorCacheRemoveHistoryAndNavigate();\r\n                break;\r\n            case enums.FailureCode.HierarchyChanged:\r\n                navigationHelper.handleNavigation(enums.SaveAndNavigate.toQigSelector);\r\n                break;\r\n            case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                navigationHelper.handleNavigation(enums.SaveAndNavigate.toTeam);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * method to handle the worklist failure navigation.\r\n     */\r\n    WarningMessageNavigationHelper.teamWorklistFailureNavigation = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.Withdrawn:\r\n            case enums.FailureCode.NotTeamLead:\r\n                WarningMessageNavigationHelper.removeQIGSelectorCacheRemoveHistoryAndNavigate();\r\n                break;\r\n            case enums.FailureCode.HierarchyChanged:\r\n            case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                WarningMessageNavigationHelper.clearMyTeamDataCache();\r\n                navigationHelper.loadTeamManagement();\r\n                break;\r\n            case enums.FailureCode.Suspended:\r\n                WarningMessageNavigationHelper.refreshworklistData(failureCode);\r\n                navigationHelper.handleNavigation(enums.SaveAndNavigate.toWorklist);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Method to handle the supervisor remark check failure navigation\r\n     */\r\n    WarningMessageNavigationHelper.superVisorRemarkCheckFailureNavigation = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.Suspended:\r\n                responseActionCreator.doVisibleSupervisorRemarkButton(false);\r\n                break;\r\n            case enums.FailureCode.Withdrawn:\r\n            case enums.FailureCode.NotTeamLead:\r\n                WarningMessageNavigationHelper.removeQIGSelectorCacheRemoveHistoryAndNavigate();\r\n                break;\r\n            case enums.FailureCode.HierarchyChanged:\r\n                navigationHelper.loadTeamManagement();\r\n                break;\r\n            case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                navigationHelper.handleNavigation(enums.SaveAndNavigate.toTeam);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Method to handle the change examiner status failure navigation.\r\n     */\r\n    WarningMessageNavigationHelper.checkingExaminerViewingResponseFailureNavigation = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.Suspended:\r\n                // Load the marker information\r\n                markerInformationActionCreator.\r\n                    GetMarkerInformation(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, true, false, enums.ExaminerApproval.None);\r\n                markingCheckActionCreator.getMarkingCheckInfo(true, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId);\r\n                navigationHelper.handleNavigation(enums.SaveAndNavigate.toWorklist);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Method to handle the change examiner status failure navigation.\r\n     */\r\n    WarningMessageNavigationHelper.changeExaminerStatusFailureNavigation = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.Withdrawn:\r\n            case enums.FailureCode.NotTeamLead:\r\n                WarningMessageNavigationHelper.removeQIGSelectorCacheRemoveHistoryAndNavigate();\r\n                break;\r\n            case enums.FailureCode.HierarchyChanged:\r\n            case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                navigationHelper.loadTeamManagement();\r\n                break;\r\n            case enums.FailureCode.ExaminerStatusAlreadyChanged:\r\n            case enums.FailureCode.Suspended:\r\n                WarningMessageNavigationHelper.refreshworklistData(failureCode);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Method to handle the marking check failure navigation.\r\n     */\r\n    WarningMessageNavigationHelper.markingCheckFailureNavigation = function (failureCode, warningMessageAction) {\r\n        switch (worklistStore.instance.markingCheckFailureCode) {\r\n            case enums.FailureCode.Suspended:\r\n                if (warningMessageAction === enums.WarningMessageAction.CheckMyMarks &&\r\n                    qigStore.instance.selectedQIGForMarkerOperation) {\r\n                    markingCheckActionCreator.getMarkingCheckInfo(true, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId);\r\n                }\r\n                else {\r\n                    navigationHelper.handleNavigation(enums.SaveAndNavigate.toWorklist);\r\n                }\r\n                break;\r\n            case enums.FailureCode.Withdrawn:\r\n                navigationHelper.handleNavigation(enums.SaveAndNavigate.toQigSelector);\r\n                break;\r\n            case enums.FailureCode.HierarchyChanged:\r\n                if (warningMessageAction === enums.WarningMessageAction.MarksChecked) {\r\n                    navigationHelper.handleNavigation(enums.SaveAndNavigate.toQigSelector);\r\n                }\r\n                else {\r\n                    navigationHelper.handleNavigation(enums.SaveAndNavigate.toWorklist);\r\n                    if (qigStore.instance.selectedQIGForMarkerOperation) {\r\n                        markingCheckActionCreator.getMarkingCheckInfo(true, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Method to handle the set as reviewd failure navigation.\r\n     */\r\n    WarningMessageNavigationHelper.setAsReviewedFailureNavigation = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.Withdrawn:\r\n            case enums.FailureCode.NotTeamLead:\r\n                WarningMessageNavigationHelper.removeQIGSelectorCacheRemoveHistoryAndNavigate();\r\n                break;\r\n            case enums.FailureCode.HierarchyChanged:\r\n            case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                WarningMessageNavigationHelper.clearMyTeamDataCache();\r\n                navigationHelper.loadTeamManagement();\r\n                break;\r\n            case enums.FailureCode.Suspended:\r\n                WarningMessageNavigationHelper.refreshworklistData(failureCode);\r\n                navigationHelper.handleNavigation(enums.SaveAndNavigate.toWorklist);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Method to handle the set as reviewd failure navigation.\r\n     */\r\n    WarningMessageNavigationHelper.exceptionActionFailureNavigation = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.Withdrawn:\r\n            case enums.FailureCode.NotTeamLead:\r\n                WarningMessageNavigationHelper.removeQIGSelectorCacheRemoveHistoryAndNavigate();\r\n                break;\r\n            case enums.FailureCode.HierarchyChanged:\r\n            case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                WarningMessageNavigationHelper.clearMyTeamDataCache();\r\n                WarningMessageNavigationHelper.clearUnActionedExceptionDataCache();\r\n                WarningMessageNavigationHelper.clearTeamOverViewDataCache();\r\n                teamManagementActionCreator.teammanagementTabSelect(enums.TeamManagement.MyTeam);\r\n                navigationHelper.loadTeamManagement();\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Clear the unactioned exception cache.\r\n     */\r\n    WarningMessageNavigationHelper.clearUnActionedExceptionDataCache = function () {\r\n        var cacheKey = 'team';\r\n        var cacheValue = 'unActionedException_' +\r\n            teamManagementStore.instance.selectedMarkSchemeGroupId;\r\n        WarningMessageNavigationHelper._storageAdapterHelper.clearCacheByKey(cacheKey, cacheValue);\r\n    };\r\n    /**\r\n     * Clear the my team data cache.\r\n     */\r\n    WarningMessageNavigationHelper.clearMyTeamDataCache = function () {\r\n        var cacheKey = 'team';\r\n        var cacheValue = 'myTeamData_' +\r\n            teamManagementStore.instance.selectedExaminerRoleId + '_' +\r\n            teamManagementStore.instance.selectedMarkSchemeGroupId;\r\n        WarningMessageNavigationHelper._storageAdapterHelper.clearCacheByKey(cacheKey, cacheValue);\r\n    };\r\n    /**\r\n     * Clear cache for team overview.\r\n     */\r\n    WarningMessageNavigationHelper.clearTeamOverViewDataCache = function () {\r\n        // Clear cache for team overview\r\n        var cacheKey = 'team';\r\n        var cacheValue = 'teamOverviewCount_' + teamManagementStore.instance.selectedExaminerRoleId + '_' +\r\n            teamManagementStore.instance.selectedMarkSchemeGroupId;\r\n        WarningMessageNavigationHelper._storageAdapterHelper.clearCacheByKey(cacheKey, cacheValue);\r\n    };\r\n    // Storage adapter helper\r\n    WarningMessageNavigationHelper._storageAdapterHelper = new storageAdapterHelper();\r\n    /**\r\n     * Handle Withdrawn Scenarios.\r\n     */\r\n    WarningMessageNavigationHelper.removeQIGSelectorCacheRemoveHistoryAndNavigate = function () {\r\n        WarningMessageNavigationHelper.clearQIGSelectorCache();\r\n        if (qigStore.instance.getOverviewData && qigStore.instance.getSelectedQIGForTheLoggedInUser) {\r\n            var currentQig = qigStore.instance.getOverviewData.qigSummary.filter(function (qig) {\r\n                return qig.examinerRoleId === qigStore.instance.getSelectedQIGForTheLoggedInUser.examinerRoleId;\r\n            }).first();\r\n            teamManagementActionCreator.removeHistoryItem(currentQig ?\r\n                currentQig.markSchemeGroupId : 0);\r\n        }\r\n        qigActionCreator.getQIGSelectorData(0);\r\n        loadContainerActionCreator.loadContainer(enums.PageContainers.QigSelector);\r\n        navigationHelper.handleNavigation(enums.SaveAndNavigate.toQigSelector);\r\n    };\r\n    /**\r\n     * Method to handle the warning message navigation.\r\n     */\r\n    WarningMessageNavigationHelper.handleWarningMessageNavigation = function (failureCode, warningMessageAction, args) {\r\n        switch (warningMessageAction) {\r\n            case enums.WarningMessageAction.SupervisorSampling:\r\n                WarningMessageNavigationHelper.supervisorSamplingFailureNavigation(failureCode);\r\n                break;\r\n            case enums.WarningMessageAction.PromoteToSeed:\r\n                WarningMessageNavigationHelper.promoteSeedCheckFailureNavigation(failureCode);\r\n                break;\r\n            case enums.WarningMessageAction.SuperVisorRemarkCheck:\r\n                WarningMessageNavigationHelper.superVisorRemarkCheckFailureNavigation(failureCode);\r\n                break;\r\n            case enums.WarningMessageAction.CheckingExaminerViewingResponse:\r\n                WarningMessageNavigationHelper.checkingExaminerViewingResponseFailureNavigation(failureCode);\r\n                break;\r\n            case enums.WarningMessageAction.SEPAction:\r\n                WarningMessageNavigationHelper.sepActionFailureActions(failureCode);\r\n                break;\r\n            case enums.WarningMessageAction.ChangeExaminerStatus:\r\n                WarningMessageNavigationHelper.changeExaminerStatusFailureNavigation(failureCode);\r\n                break;\r\n            case enums.WarningMessageAction.MarksChecked:\r\n            case enums.WarningMessageAction.CheckMyMarks:\r\n                WarningMessageNavigationHelper.markingCheckFailureNavigation(failureCode, warningMessageAction);\r\n                break;\r\n            case enums.WarningMessageAction.MyTeamAction:\r\n                WarningMessageNavigationHelper.myTeamActionFailureActions(failureCode);\r\n                break;\r\n            case enums.WarningMessageAction.SetAsReviewed:\r\n                WarningMessageNavigationHelper.setAsReviewedFailureNavigation(failureCode);\r\n                break;\r\n            case enums.WarningMessageAction.ExceptionAction:\r\n                WarningMessageNavigationHelper.exceptionActionFailureNavigation(failureCode);\r\n                break;\r\n            case enums.WarningMessageAction.TeamWorklist:\r\n                WarningMessageNavigationHelper.teamWorklistFailureNavigation(failureCode);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Actions for the SEP failure\r\n     */\r\n    WarningMessageNavigationHelper.sepActionFailureActions = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.NotApproved:\r\n            case enums.FailureCode.NotInLockStatus:\r\n                WarningMessageNavigationHelper.clearQIGSelectorCache();\r\n                teamManagementActionCreator.teammanagementTabSelect(enums.TeamManagement.MyTeam);\r\n                navigationHelper.loadTeamManagement();\r\n                break;\r\n            case enums.FailureCode.Withdrawn:\r\n            case enums.FailureCode.NotASeniorExaminer:\r\n                WarningMessageNavigationHelper.removeQIGSelectorCacheRemoveHistoryAndNavigate();\r\n                break;\r\n            case enums.FailureCode.InvalidPriority:\r\n            case enums.FailureCode.LockLimitMet:\r\n            case enums.FailureCode.LockIsRequired:\r\n            case enums.FailureCode.AlreadyLocked:\r\n            case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                navigationHelper.loadTeamManagement();\r\n                break;\r\n            case enums.FailureCode.Suspended:\r\n                teamManagementActionCreator.teammanagementTabSelect(enums.TeamManagement.MyTeam);\r\n                navigationHelper.loadTeamManagement();\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Clear the QIG Selector Cache\r\n     */\r\n    WarningMessageNavigationHelper.clearQIGSelectorCache = function () {\r\n        WarningMessageNavigationHelper._storageAdapterHelper.clearCacheByKey('qigselector', 'overviewdata');\r\n    };\r\n    /**\r\n     * Actions for the my team failure\r\n     */\r\n    WarningMessageNavigationHelper.myTeamActionFailureActions = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.NotTeamLead:\r\n            case enums.FailureCode.Withdrawn:\r\n                WarningMessageNavigationHelper.removeQIGSelectorCacheRemoveHistoryAndNavigate();\r\n                break;\r\n            case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                navigationHelper.loadTeamManagement();\r\n                break;\r\n        }\r\n    };\r\n    return WarningMessageNavigationHelper;\r\n}());\r\nmodule.exports = WarningMessageNavigationHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvdGVhbW1hbmFnZW1lbnQvaGVscGVycy93YXJuaW5nbWVzc2FnZW5hdmlnYXRpb25oZWxwZXIudHM/OTY2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvdGVhbW1hbmFnZW1lbnQvdGVhbW1hbmFnZW1lbnRhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBxaWdBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9xaWdzZWxlY3Rvci9xaWdzZWxlY3RvcmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGxvYWRDb250YWluZXJBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9uYXZpZ2F0aW9uL2xvYWRjb250YWluZXJhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBuYXZpZ2F0aW9uSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L25hdmlnYXRpb24vbmF2aWdhdGlvbmhlbHBlcicpO1xyXG5pbXBvcnQgcWlnU3VtbWFyeSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci90eXBpbmdzL3FpZ3N1bW1hcnknKTtcclxuaW1wb3J0IHN0b3JhZ2VBZGFwdGVySGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vZGF0YXNlcnZpY2VzL3N0b3JhZ2VhZGFwdGVycy9zdG9yYWdlYWRhcHRlcmhlbHBlcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCB3b3JrbGlzdEFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL3dvcmtsaXN0L3dvcmtsaXN0YWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgbWFya2VySW5mb3JtYXRpb25BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9tYXJrZXJpbmZvcm1hdGlvbi9tYXJrZXJpbmZvcm1hdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHRlYW1NYW5hZ2VtZW50U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvdGVhbW1hbmFnZW1lbnQvdGVhbW1hbmFnZW1lbnRzdG9yZScpO1xyXG5pbXBvcnQgb3BlcmF0aW9uTW9kZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS91c2VyZGV0YWlscy91c2VyaW5mby9vcGVyYXRpb25tb2RlaGVscGVyJyk7XHJcbmltcG9ydCByZXNwb25zZUFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL3Jlc3BvbnNlL3Jlc3BvbnNlYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgbWFya2luZ0NoZWNrQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvbWFya2luZ2NoZWNrL21hcmtpbmdjaGVja2FjdGlvbmNyZWF0b3InKTtcclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHdhcm5pbmcgbWVzc2FnZSBuYXZpZ2F0aW9uXHJcbiAqL1xyXG5jbGFzcyBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIge1xyXG5cclxuICAgIC8vIFN0b3JhZ2UgYWRhcHRlciBoZWxwZXJcclxuICAgIHByaXZhdGUgc3RhdGljIF9zdG9yYWdlQWRhcHRlckhlbHBlciA9IG5ldyBzdG9yYWdlQWRhcHRlckhlbHBlcigpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIFdpdGhkcmF3biBTY2VuYXJpb3MuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVtb3ZlUUlHU2VsZWN0b3JDYWNoZVJlbW92ZUhpc3RvcnlBbmROYXZpZ2F0ZSA9ICgpID0+IHtcclxuICAgICAgICBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIuY2xlYXJRSUdTZWxlY3RvckNhY2hlKCk7XHJcbiAgICAgICAgaWYgKHFpZ1N0b3JlLmluc3RhbmNlLmdldE92ZXJ2aWV3RGF0YSAmJiBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlcikge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFFpZyA9IHFpZ1N0b3JlLmluc3RhbmNlLmdldE92ZXJ2aWV3RGF0YS5xaWdTdW1tYXJ5LmZpbHRlcigocWlnOiBxaWdTdW1tYXJ5KSA9PlxyXG4gICAgICAgICAgICAgICAgcWlnLmV4YW1pbmVyUm9sZUlkID09PSBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5leGFtaW5lclJvbGVJZCkuZmlyc3QoKTtcclxuXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvci5yZW1vdmVIaXN0b3J5SXRlbShjdXJyZW50UWlnID9cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRRaWcubWFya1NjaGVtZUdyb3VwSWQgOiAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcWlnQWN0aW9uQ3JlYXRvci5nZXRRSUdTZWxlY3RvckRhdGEoMCk7XHJcbiAgICAgICAgbG9hZENvbnRhaW5lckFjdGlvbkNyZWF0b3IubG9hZENvbnRhaW5lcihlbnVtcy5QYWdlQ29udGFpbmVycy5RaWdTZWxlY3Rvcik7XHJcbiAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5oYW5kbGVOYXZpZ2F0aW9uKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b1FpZ1NlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZnJlc2ggd29ya2xpc3QgZGF0YS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyByZWZyZXNod29ya2xpc3REYXRhKGZhaWx1cmVDb2RlKSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgd29ya2xpc3QgY2FjaGUgYW5kIGRvIGNvbnRlbnQgcmVmcmVzaFxyXG4gICAgICAgIGxldCBtYXJraW5nTW9kZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuXHJcbiAgICAgICAgICAgIGdldE1hcmtpbmdNb2RlQnlXb3JrTGlzdFR5cGUod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlKTtcclxuXHJcbiAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLl9zdG9yYWdlQWRhcHRlckhlbHBlci5cclxuICAgICAgICAgICAgY2xlYXJDYWNoZShxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgbWFya2luZ01vZGUsXHJcbiAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVtYXJrUmVxdWVzdFR5cGUsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGUpO1xyXG5cclxuICAgICAgICBsZXQgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGU7XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlTW9kZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVzcG9uc2VNb2RlO1xyXG4gICAgICAgIGlmIChmYWlsdXJlQ29kZSA9PT0gZW51bXMuRmFpbHVyZUNvZGUuRXhhbWluZXJTdGF0dXNBbHJlYWR5Q2hhbmdlZCkge1xyXG4gICAgICAgICAgICB3b3JrbGlzdFR5cGUgPSBlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZTtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlID0gZW51bXMuUmVzcG9uc2VNb2RlLm9wZW47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb2FkIHdvcmsgbGlzdC5cclxuICAgICAgICBpZiAoZmFpbHVyZUNvZGUgPT09IGVudW1zLkZhaWx1cmVDb2RlLkV4YW1pbmVyU3RhdHVzQWxyZWFkeUNoYW5nZWQgfHxcclxuICAgICAgICAgICAgZmFpbHVyZUNvZGUgPT09IGVudW1zLkZhaWx1cmVDb2RlLlN1c3BlbmRlZCkge1xyXG4gICAgICAgICAgICBsZXQgbWFya1NjaGVtZUdyb3VwSWQgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZDtcclxuICAgICAgICAgICAgbGV0IGV4YW1pbmVyUm9sZUlkID0gcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQ7XHJcbiAgICAgICAgICAgIGxldCBxdWVzdGlvblBhcGVyUGFydElkID0gcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ucXVlc3Rpb25QYXBlclBhcnRJZDtcclxuICAgICAgICAgICAgbGV0IHJlbWFya1JlcXVlc3RUeXBlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZW1hcmtSZXF1ZXN0VHlwZTtcclxuICAgICAgICAgICAgbGV0IGlzRGlyZWN0ZWRSZW1hcmsgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzRGlyZWN0ZWRSZW1hcms7XHJcbiAgICAgICAgICAgIHdvcmtsaXN0QWN0aW9uQ3JlYXRvci5ub3RpZnlXb3JrbGlzdFR5cGVDaGFuZ2VcclxuICAgICAgICAgICAgICAgIChtYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgIGV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICAgICAgcXVlc3Rpb25QYXBlclBhcnRJZCxcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VHlwZSxcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlTW9kZSxcclxuICAgICAgICAgICAgICAgIHJlbWFya1JlcXVlc3RUeXBlLFxyXG4gICAgICAgICAgICAgICAgaXNEaXJlY3RlZFJlbWFyayxcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXIsXHJcbiAgICAgICAgICAgICAgICBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb2FkIHRoZSBtYXJraW5nIHByb2dyZXNzXHJcbiAgICAgICAgd29ya2xpc3RBY3Rpb25DcmVhdG9yLmdldFdvcmtsaXN0TWFya2VyUHJvZ3Jlc3NEYXRhKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXJcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBMb2FkIHRoZSBtYXJrZXIgaW5mb3JtYXRpb25cclxuICAgICAgICBtYXJrZXJJbmZvcm1hdGlvbkFjdGlvbkNyZWF0b3IuXHJcbiAgICAgICAgICAgIEdldE1hcmtlckluZm9ybWF0aW9uKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgIGVudW1zLkV4YW1pbmVyQXBwcm92YWwuTm9uZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gaGFuZGxlIHRoZSB3YXJuaW5nIG1lc3NhZ2UgbmF2aWdhdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBoYW5kbGVXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb24gPSAoZmFpbHVyZUNvZGU6IGVudW1zLkZhaWx1cmVDb2RlLFxyXG4gICAgICAgIHdhcm5pbmdNZXNzYWdlQWN0aW9uOiBlbnVtcy5XYXJuaW5nTWVzc2FnZUFjdGlvbiwgYXJncz86IGFueSk6IHZvaWQgPT4ge1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHdhcm5pbmdNZXNzYWdlQWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuV2FybmluZ01lc3NhZ2VBY3Rpb24uU3VwZXJ2aXNvclNhbXBsaW5nOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLnN1cGVydmlzb3JTYW1wbGluZ0ZhaWx1cmVOYXZpZ2F0aW9uKGZhaWx1cmVDb2RlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5XYXJuaW5nTWVzc2FnZUFjdGlvbi5Qcm9tb3RlVG9TZWVkOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLnByb21vdGVTZWVkQ2hlY2tGYWlsdXJlTmF2aWdhdGlvbihmYWlsdXJlQ29kZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuV2FybmluZ01lc3NhZ2VBY3Rpb24uU3VwZXJWaXNvclJlbWFya0NoZWNrOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLnN1cGVyVmlzb3JSZW1hcmtDaGVja0ZhaWx1cmVOYXZpZ2F0aW9uKGZhaWx1cmVDb2RlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5XYXJuaW5nTWVzc2FnZUFjdGlvbi5DaGVja2luZ0V4YW1pbmVyVmlld2luZ1Jlc3BvbnNlOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLmNoZWNraW5nRXhhbWluZXJWaWV3aW5nUmVzcG9uc2VGYWlsdXJlTmF2aWdhdGlvbihmYWlsdXJlQ29kZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuV2FybmluZ01lc3NhZ2VBY3Rpb24uU0VQQWN0aW9uOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLnNlcEFjdGlvbkZhaWx1cmVBY3Rpb25zKGZhaWx1cmVDb2RlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5XYXJuaW5nTWVzc2FnZUFjdGlvbi5DaGFuZ2VFeGFtaW5lclN0YXR1czpcclxuICAgICAgICAgICAgICAgIFdhcm5pbmdNZXNzYWdlTmF2aWdhdGlvbkhlbHBlci5jaGFuZ2VFeGFtaW5lclN0YXR1c0ZhaWx1cmVOYXZpZ2F0aW9uKGZhaWx1cmVDb2RlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5XYXJuaW5nTWVzc2FnZUFjdGlvbi5NYXJrc0NoZWNrZWQ6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuV2FybmluZ01lc3NhZ2VBY3Rpb24uQ2hlY2tNeU1hcmtzOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLm1hcmtpbmdDaGVja0ZhaWx1cmVOYXZpZ2F0aW9uKGZhaWx1cmVDb2RlLCB3YXJuaW5nTWVzc2FnZUFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuV2FybmluZ01lc3NhZ2VBY3Rpb24uTXlUZWFtQWN0aW9uOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLm15VGVhbUFjdGlvbkZhaWx1cmVBY3Rpb25zKGZhaWx1cmVDb2RlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5XYXJuaW5nTWVzc2FnZUFjdGlvbi5TZXRBc1Jldmlld2VkOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLnNldEFzUmV2aWV3ZWRGYWlsdXJlTmF2aWdhdGlvbihmYWlsdXJlQ29kZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuV2FybmluZ01lc3NhZ2VBY3Rpb24uRXhjZXB0aW9uQWN0aW9uOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLmV4Y2VwdGlvbkFjdGlvbkZhaWx1cmVOYXZpZ2F0aW9uKGZhaWx1cmVDb2RlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5XYXJuaW5nTWVzc2FnZUFjdGlvbi5UZWFtV29ya2xpc3Q6XHJcbiAgICAgICAgICAgICAgICBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIudGVhbVdvcmtsaXN0RmFpbHVyZU5hdmlnYXRpb24oZmFpbHVyZUNvZGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBoYW5kbGUgdGhlIHN1cGVydmlzb3Igc2FtcGxpbmcgbmF2aWdhdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgc3VwZXJ2aXNvclNhbXBsaW5nRmFpbHVyZU5hdmlnYXRpb24oZmFpbHVyZUNvZGU6IGVudW1zLkZhaWx1cmVDb2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChmYWlsdXJlQ29kZSkge1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5TdWJvcmRpbmF0ZUV4YW1pbmVyV2l0aGRyYXduOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLmNsZWFyTXlUZWFtRGF0YUNhY2hlKCk7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRUZWFtTWFuYWdlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLldpdGhkcmF3bjpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5IaWVyYXJjaHlDaGFuZ2VkOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLmNsZWFyUUlHU2VsZWN0b3JDYWNoZSgpO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkUWlnU2VsZWN0b3IoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG1ldGhvZCB0byBoYW5kbGUgdGhlIHByb21vdGUgdG8gc2VlZCBmYWlsdXJlIG5hdmlnYXRpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIHByb21vdGVTZWVkQ2hlY2tGYWlsdXJlTmF2aWdhdGlvbihmYWlsdXJlQ29kZTogZW51bXMuRmFpbHVyZUNvZGUpIHtcclxuICAgICAgICBzd2l0Y2ggKGZhaWx1cmVDb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuU3VzcGVuZGVkOlxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5oYW5kbGVOYXZpZ2F0aW9uKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b1dvcmtsaXN0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLldpdGhkcmF3bjpcclxuICAgICAgICAgICAgICAgIFdhcm5pbmdNZXNzYWdlTmF2aWdhdGlvbkhlbHBlci5yZW1vdmVRSUdTZWxlY3RvckNhY2hlUmVtb3ZlSGlzdG9yeUFuZE5hdmlnYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5IaWVyYXJjaHlDaGFuZ2VkOlxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5oYW5kbGVOYXZpZ2F0aW9uKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b1FpZ1NlbGVjdG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLlN1Ym9yZGluYXRlRXhhbWluZXJXaXRoZHJhd246XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmhhbmRsZU5hdmlnYXRpb24oZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvVGVhbSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAvKipcclxuICAgICogbWV0aG9kIHRvIGhhbmRsZSB0aGUgd29ya2xpc3QgZmFpbHVyZSBuYXZpZ2F0aW9uLlxyXG4gICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIHRlYW1Xb3JrbGlzdEZhaWx1cmVOYXZpZ2F0aW9uKGZhaWx1cmVDb2RlOiBlbnVtcy5GYWlsdXJlQ29kZSkge1xyXG4gICAgICAgIHN3aXRjaCAoZmFpbHVyZUNvZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5XaXRoZHJhd246XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuTm90VGVhbUxlYWQ6XHJcbiAgICAgICAgICAgICAgICBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIucmVtb3ZlUUlHU2VsZWN0b3JDYWNoZVJlbW92ZUhpc3RvcnlBbmROYXZpZ2F0ZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkhpZXJhcmNoeUNoYW5nZWQ6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuU3Vib3JkaW5hdGVFeGFtaW5lcldpdGhkcmF3bjpcclxuICAgICAgICAgICAgICAgIFdhcm5pbmdNZXNzYWdlTmF2aWdhdGlvbkhlbHBlci5jbGVhck15VGVhbURhdGFDYWNoZSgpO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkVGVhbU1hbmFnZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5TdXNwZW5kZWQ6XHJcbiAgICAgICAgICAgICAgICBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIucmVmcmVzaHdvcmtsaXN0RGF0YShmYWlsdXJlQ29kZSk7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmhhbmRsZU5hdmlnYXRpb24oZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvV29ya2xpc3QpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGhhbmRsZSB0aGUgc3VwZXJ2aXNvciByZW1hcmsgY2hlY2sgZmFpbHVyZSBuYXZpZ2F0aW9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIHN1cGVyVmlzb3JSZW1hcmtDaGVja0ZhaWx1cmVOYXZpZ2F0aW9uKGZhaWx1cmVDb2RlOiBlbnVtcy5GYWlsdXJlQ29kZSkge1xyXG4gICAgICAgIHN3aXRjaCAoZmFpbHVyZUNvZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5TdXNwZW5kZWQ6XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZUFjdGlvbkNyZWF0b3IuZG9WaXNpYmxlU3VwZXJ2aXNvclJlbWFya0J1dHRvbihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5XaXRoZHJhd246XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuTm90VGVhbUxlYWQ6XHJcbiAgICAgICAgICAgICAgICBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIucmVtb3ZlUUlHU2VsZWN0b3JDYWNoZVJlbW92ZUhpc3RvcnlBbmROYXZpZ2F0ZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuSGllcmFyY2h5Q2hhbmdlZDpcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFRlYW1NYW5hZ2VtZW50KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5TdWJvcmRpbmF0ZUV4YW1pbmVyV2l0aGRyYXduOlxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5oYW5kbGVOYXZpZ2F0aW9uKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b1RlYW0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGhhbmRsZSB0aGUgY2hhbmdlIGV4YW1pbmVyIHN0YXR1cyBmYWlsdXJlIG5hdmlnYXRpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIGNoZWNraW5nRXhhbWluZXJWaWV3aW5nUmVzcG9uc2VGYWlsdXJlTmF2aWdhdGlvbihmYWlsdXJlQ29kZTogZW51bXMuRmFpbHVyZUNvZGUpIHtcclxuICAgICAgICBzd2l0Y2ggKGZhaWx1cmVDb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuU3VzcGVuZGVkOlxyXG4gICAgICAgICAgICAgICAgLy8gTG9hZCB0aGUgbWFya2VyIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICAgICAgICBtYXJrZXJJbmZvcm1hdGlvbkFjdGlvbkNyZWF0b3IuXHJcbiAgICAgICAgICAgICAgICAgICAgR2V0TWFya2VySW5mb3JtYXRpb24ocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLk5vbmUpO1xyXG4gICAgICAgICAgICAgICAgbWFya2luZ0NoZWNrQWN0aW9uQ3JlYXRvci5nZXRNYXJraW5nQ2hlY2tJbmZvKHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQpO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5oYW5kbGVOYXZpZ2F0aW9uKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b1dvcmtsaXN0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBY3Rpb25zIGZvciB0aGUgU0VQIGZhaWx1cmVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgc2VwQWN0aW9uRmFpbHVyZUFjdGlvbnMgPSAoZmFpbHVyZUNvZGU6IGVudW1zLkZhaWx1cmVDb2RlKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChmYWlsdXJlQ29kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLk5vdEFwcHJvdmVkOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLk5vdEluTG9ja1N0YXR1czpcclxuICAgICAgICAgICAgICAgIFdhcm5pbmdNZXNzYWdlTmF2aWdhdGlvbkhlbHBlci5jbGVhclFJR1NlbGVjdG9yQ2FjaGUoKTtcclxuICAgICAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvci50ZWFtbWFuYWdlbWVudFRhYlNlbGVjdChlbnVtcy5UZWFtTWFuYWdlbWVudC5NeVRlYW0pO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkVGVhbU1hbmFnZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLldpdGhkcmF3bjpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5Ob3RBU2VuaW9yRXhhbWluZXI6XHJcbiAgICAgICAgICAgICAgICBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIucmVtb3ZlUUlHU2VsZWN0b3JDYWNoZVJlbW92ZUhpc3RvcnlBbmROYXZpZ2F0ZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuSW52YWxpZFByaW9yaXR5OlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkxvY2tMaW1pdE1ldDpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5Mb2NrSXNSZXF1aXJlZDpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5BbHJlYWR5TG9ja2VkOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLlN1Ym9yZGluYXRlRXhhbWluZXJXaXRoZHJhd246XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRUZWFtTWFuYWdlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuU3VzcGVuZGVkOlxyXG4gICAgICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yLnRlYW1tYW5hZ2VtZW50VGFiU2VsZWN0KGVudW1zLlRlYW1NYW5hZ2VtZW50Lk15VGVhbSk7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRUZWFtTWFuYWdlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGhhbmRsZSB0aGUgY2hhbmdlIGV4YW1pbmVyIHN0YXR1cyBmYWlsdXJlIG5hdmlnYXRpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIGNoYW5nZUV4YW1pbmVyU3RhdHVzRmFpbHVyZU5hdmlnYXRpb24oZmFpbHVyZUNvZGU6IGVudW1zLkZhaWx1cmVDb2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChmYWlsdXJlQ29kZSkge1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5XaXRoZHJhd246XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuTm90VGVhbUxlYWQ6XHJcbiAgICAgICAgICAgICAgICBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIucmVtb3ZlUUlHU2VsZWN0b3JDYWNoZVJlbW92ZUhpc3RvcnlBbmROYXZpZ2F0ZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkhpZXJhcmNoeUNoYW5nZWQ6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuU3Vib3JkaW5hdGVFeGFtaW5lcldpdGhkcmF3bjpcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFRlYW1NYW5hZ2VtZW50KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuRXhhbWluZXJTdGF0dXNBbHJlYWR5Q2hhbmdlZDpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5TdXNwZW5kZWQ6XHJcbiAgICAgICAgICAgICAgICBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIucmVmcmVzaHdvcmtsaXN0RGF0YShmYWlsdXJlQ29kZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gaGFuZGxlIHRoZSBtYXJraW5nIGNoZWNrIGZhaWx1cmUgbmF2aWdhdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbWFya2luZ0NoZWNrRmFpbHVyZU5hdmlnYXRpb24oZmFpbHVyZUNvZGU6IGVudW1zLkZhaWx1cmVDb2RlLFxyXG4gICAgICAgIHdhcm5pbmdNZXNzYWdlQWN0aW9uOiBlbnVtcy5XYXJuaW5nTWVzc2FnZUFjdGlvbikge1xyXG4gICAgICAgIHN3aXRjaCAod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5tYXJraW5nQ2hlY2tGYWlsdXJlQ29kZSkge1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5TdXNwZW5kZWQ6XHJcbiAgICAgICAgICAgICAgICBpZiAod2FybmluZ01lc3NhZ2VBY3Rpb24gPT09IGVudW1zLldhcm5pbmdNZXNzYWdlQWN0aW9uLkNoZWNrTXlNYXJrcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2luZ0NoZWNrQWN0aW9uQ3JlYXRvci5nZXRNYXJraW5nQ2hlY2tJbmZvKHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5oYW5kbGVOYXZpZ2F0aW9uKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b1dvcmtsaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5XaXRoZHJhd246XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmhhbmRsZU5hdmlnYXRpb24oZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvUWlnU2VsZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkhpZXJhcmNoeUNoYW5nZWQ6XHJcbiAgICAgICAgICAgICAgICBpZiAod2FybmluZ01lc3NhZ2VBY3Rpb24gPT09IGVudW1zLldhcm5pbmdNZXNzYWdlQWN0aW9uLk1hcmtzQ2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIuaGFuZGxlTmF2aWdhdGlvbihlbnVtcy5TYXZlQW5kTmF2aWdhdGUudG9RaWdTZWxlY3Rvcik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIuaGFuZGxlTmF2aWdhdGlvbihlbnVtcy5TYXZlQW5kTmF2aWdhdGUudG9Xb3JrbGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtpbmdDaGVja0FjdGlvbkNyZWF0b3IuZ2V0TWFya2luZ0NoZWNrSW5mbyh0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBoYW5kbGUgdGhlIHNldCBhcyByZXZpZXdkIGZhaWx1cmUgbmF2aWdhdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgc2V0QXNSZXZpZXdlZEZhaWx1cmVOYXZpZ2F0aW9uKGZhaWx1cmVDb2RlOiBlbnVtcy5GYWlsdXJlQ29kZSkge1xyXG4gICAgICAgIHN3aXRjaCAoZmFpbHVyZUNvZGUpIHtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuV2l0aGRyYXduOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLk5vdFRlYW1MZWFkOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLnJlbW92ZVFJR1NlbGVjdG9yQ2FjaGVSZW1vdmVIaXN0b3J5QW5kTmF2aWdhdGUoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5IaWVyYXJjaHlDaGFuZ2VkOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLlN1Ym9yZGluYXRlRXhhbWluZXJXaXRoZHJhd246XHJcbiAgICAgICAgICAgICAgICBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIuY2xlYXJNeVRlYW1EYXRhQ2FjaGUoKTtcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFRlYW1NYW5hZ2VtZW50KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuU3VzcGVuZGVkOlxyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLnJlZnJlc2h3b3JrbGlzdERhdGEoZmFpbHVyZUNvZGUpO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5oYW5kbGVOYXZpZ2F0aW9uKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b1dvcmtsaXN0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBoYW5kbGUgdGhlIHNldCBhcyByZXZpZXdkIGZhaWx1cmUgbmF2aWdhdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXhjZXB0aW9uQWN0aW9uRmFpbHVyZU5hdmlnYXRpb24oZmFpbHVyZUNvZGU6IGVudW1zLkZhaWx1cmVDb2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChmYWlsdXJlQ29kZSkge1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5XaXRoZHJhd246XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuTm90VGVhbUxlYWQ6XHJcbiAgICAgICAgICAgICAgICBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIucmVtb3ZlUUlHU2VsZWN0b3JDYWNoZVJlbW92ZUhpc3RvcnlBbmROYXZpZ2F0ZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkhpZXJhcmNoeUNoYW5nZWQ6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuU3Vib3JkaW5hdGVFeGFtaW5lcldpdGhkcmF3bjpcclxuICAgICAgICAgICAgICAgIFdhcm5pbmdNZXNzYWdlTmF2aWdhdGlvbkhlbHBlci5jbGVhck15VGVhbURhdGFDYWNoZSgpO1xyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLmNsZWFyVW5BY3Rpb25lZEV4Y2VwdGlvbkRhdGFDYWNoZSgpO1xyXG4gICAgICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLmNsZWFyVGVhbU92ZXJWaWV3RGF0YUNhY2hlKCk7XHJcbiAgICAgICAgICAgICAgICB0ZWFtTWFuYWdlbWVudEFjdGlvbkNyZWF0b3IudGVhbW1hbmFnZW1lbnRUYWJTZWxlY3QoZW51bXMuVGVhbU1hbmFnZW1lbnQuTXlUZWFtKTtcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFRlYW1NYW5hZ2VtZW50KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhciB0aGUgUUlHIFNlbGVjdG9yIENhY2hlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIGNsZWFyUUlHU2VsZWN0b3JDYWNoZSA9ICgpID0+IHtcclxuICAgICAgICBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXIuX3N0b3JhZ2VBZGFwdGVySGVscGVyLmNsZWFyQ2FjaGVCeUtleSgncWlnc2VsZWN0b3InLCAnb3ZlcnZpZXdkYXRhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhciB0aGUgdW5hY3Rpb25lZCBleGNlcHRpb24gY2FjaGUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIGNsZWFyVW5BY3Rpb25lZEV4Y2VwdGlvbkRhdGFDYWNoZSgpIHtcclxuICAgICAgICBsZXQgY2FjaGVLZXkgPSAndGVhbSc7XHJcbiAgICAgICAgbGV0IGNhY2hlVmFsdWUgPSAndW5BY3Rpb25lZEV4Y2VwdGlvbl8nICtcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZE1hcmtTY2hlbWVHcm91cElkO1xyXG4gICAgICAgIFdhcm5pbmdNZXNzYWdlTmF2aWdhdGlvbkhlbHBlci5fc3RvcmFnZUFkYXB0ZXJIZWxwZXIuY2xlYXJDYWNoZUJ5S2V5KGNhY2hlS2V5LCBjYWNoZVZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENsZWFyIHRoZSBteSB0ZWFtIGRhdGEgY2FjaGUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIGNsZWFyTXlUZWFtRGF0YUNhY2hlKCkge1xyXG4gICAgICAgIGxldCBjYWNoZUtleSA9ICd0ZWFtJztcclxuICAgICAgICBsZXQgY2FjaGVWYWx1ZSA9ICdteVRlYW1EYXRhXycgK1xyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkRXhhbWluZXJSb2xlSWQgKyAnXycgK1xyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkTWFya1NjaGVtZUdyb3VwSWQ7XHJcbiAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLl9zdG9yYWdlQWRhcHRlckhlbHBlci5jbGVhckNhY2hlQnlLZXkoY2FjaGVLZXksIGNhY2hlVmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXIgY2FjaGUgZm9yIHRlYW0gb3ZlcnZpZXcuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIGNsZWFyVGVhbU92ZXJWaWV3RGF0YUNhY2hlKCkge1xyXG4gICAgICAgIC8vIENsZWFyIGNhY2hlIGZvciB0ZWFtIG92ZXJ2aWV3XHJcbiAgICAgICAgbGV0IGNhY2hlS2V5ID0gJ3RlYW0nO1xyXG4gICAgICAgIGxldCBjYWNoZVZhbHVlID0gJ3RlYW1PdmVydmlld0NvdW50XycgKyB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkRXhhbWluZXJSb2xlSWQgKyAnXycgK1xyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkTWFya1NjaGVtZUdyb3VwSWQ7XHJcbiAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLl9zdG9yYWdlQWRhcHRlckhlbHBlci5jbGVhckNhY2hlQnlLZXkoXHJcbiAgICAgICAgICAgIGNhY2hlS2V5LFxyXG4gICAgICAgICAgICBjYWNoZVZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFjdGlvbnMgZm9yIHRoZSBteSB0ZWFtIGZhaWx1cmVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbXlUZWFtQWN0aW9uRmFpbHVyZUFjdGlvbnMgPSAoZmFpbHVyZUNvZGU6IGVudW1zLkZhaWx1cmVDb2RlKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChmYWlsdXJlQ29kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLk5vdFRlYW1MZWFkOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLldpdGhkcmF3bjpcclxuICAgICAgICAgICAgV2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uSGVscGVyLnJlbW92ZVFJR1NlbGVjdG9yQ2FjaGVSZW1vdmVIaXN0b3J5QW5kTmF2aWdhdGUoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLlN1Ym9yZGluYXRlRXhhbWluZXJXaXRoZHJhd246XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRUZWFtTWFuYWdlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBXYXJuaW5nTWVzc2FnZU5hdmlnYXRpb25IZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L3RlYW1tYW5hZ2VtZW50L2hlbHBlcnMvd2FybmluZ21lc3NhZ2VuYXZpZ2F0aW9uaGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUEyYUE7QUFyWkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFLQTtBQXlEQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWdDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQXpaQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTREQTs7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUEwR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTBHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQW9DQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 478:
/* no static exports found */
/* all exports used */
/*!**************************************************!*\
  !*** ./src/components/message/teamlistpopup.tsx ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\nvar GenericButton = __webpack_require__(/*! ../utility/genericbutton */ 290);\r\nvar messageStore = __webpack_require__(/*! ../../stores/message/messagestore */ 240);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../actions/messaging/messagingactioncreator */ 268);\r\nvar TeamListTreeview = __webpack_require__(/*! ./teamlisttreeview */ 479);\r\nvar htmlUtilities = __webpack_require__(/*! ../../utility/generic/htmlutilities */ 243);\r\n/**\r\n * TeamListPopup section contain team list\r\n * @param props\r\n * @param state\r\n */\r\nvar TeamListPopup = /** @class */ (function (_super) {\r\n    __extends(TeamListPopup, _super);\r\n    /**\r\n     * Constructor Messagepopup\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function TeamListPopup(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.isShowAddressPopup = false;\r\n        _this.isToTeamChecked = false;\r\n        _this.prevPageY = 0;\r\n        _this.allowUp = false;\r\n        _this.allowDown = false;\r\n        /**\r\n         * event handler for touch start\r\n         */\r\n        _this.onTouchStart = function (event) {\r\n            _this.prevPageY = (event.changedTouches) ? event.changedTouches[0].pageY : 0;\r\n            var content = _this.teamListRef;\r\n            _this.allowUp = (content.scrollTop > 0);\r\n            _this.allowDown = (content.scrollTop <= content.scrollHeight - content.clientHeight);\r\n        };\r\n        /**\r\n         * event handler for touch move\r\n         */\r\n        _this.onTouchMove = function (event) {\r\n            setTimeout(function () {\r\n                event.preventDefault();\r\n                var content = _this.teamListRef;\r\n                var pageY = event.changedTouches[0].pageY;\r\n                var up = (pageY > _this.prevPageY);\r\n                var down = (pageY < _this.prevPageY);\r\n                var diff = Math.abs(_this.prevPageY - event.pageY);\r\n                _this.prevPageY = event.pageY;\r\n                if ((up && _this.allowUp)) {\r\n                    content.scrollTop = (content.scrollTop - diff);\r\n                }\r\n                else if (down && _this.allowDown) {\r\n                    content.scrollTop = (content.scrollTop + diff);\r\n                }\r\n            }, 0);\r\n        };\r\n        /**\r\n         * event handler for touch end\r\n         */\r\n        _this.onTouchEnd = function (event) {\r\n            _this.prevPageY = 0;\r\n        };\r\n        /**\r\n         * Method to cancel team selection.\r\n         */\r\n        _this.cancelTeamSelection = function () {\r\n            messagingActionCreator.updateSelectedTeamList(false);\r\n        };\r\n        /**\r\n         * Method to save selected team list in the message store.\r\n         */\r\n        _this.saveSelectedTeamList = function () {\r\n            messagingActionCreator.updateSelectedTeamList(true);\r\n        };\r\n        /**\r\n         * Method for handling entire team click.\r\n         */\r\n        _this.entireTeamClick = function () {\r\n            messagingActionCreator.entireTeamChecked(!_this.teamList.team.toTeam);\r\n        };\r\n        /**\r\n         * Method for update team list.\r\n         */\r\n        _this.teamListUpdated = function (isToTeamClick, isExpand) {\r\n            // avoid EntireTeam's checked-status change while clicking Expand/Collapse button\r\n            if (isExpand === undefined || !isExpand) {\r\n                _this.isToTeamChecked = isToTeamClick && messageStore.instance.teamDetails.team.toTeam ? true : false;\r\n            }\r\n            _this.teamList = messageStore.instance.teamDetails;\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /*\r\n         * event handler for team list panel scroll.\r\n         */\r\n        _this.onScroll = function () {\r\n            _this.setState({\r\n                renderedOn: _this.state.renderedOn,\r\n                teamListScrollHeight: _this.getTeamListScrollHeight()\r\n            });\r\n        };\r\n        /**\r\n         * Clicking on check/uncheck of superviser\r\n         */\r\n        _this.updateTeamListStatus = function (uniqueId, isExpand) {\r\n            messagingActionCreator.updateTeamListStatus(uniqueId, isExpand);\r\n        };\r\n        // Set the default states\r\n        _this.state = {\r\n            renderedOn: 0,\r\n        };\r\n        _this.isShowAddressPopup = false;\r\n        if (messageStore.instance.teamDetails && messageStore.instance.teamDetails.team.subordinates) {\r\n            _this.isShowAddressPopup = messageStore.instance.teamDetails.team.subordinates.length > 0 ? true : false;\r\n        }\r\n        _this.teamList = messageStore.instance.teamDetails;\r\n        _this.isToTeamChecked = false;\r\n        if (_this.teamList) {\r\n            _this.isToTeamChecked = _this.teamList.team.toTeam;\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    TeamListPopup.prototype.render = function () {\r\n        var _this = this;\r\n        this.teamList = messageStore.instance.teamDetails;\r\n        var toTeamListPopup = this.teamList ? (React.createElement(\"div\", null,\r\n            React.createElement(\"div\", { className: classNames('popup small msg-address-list-popup in-page-popout', this.isShowAddressPopup ? 'popup-overlay open' : 'popup-overlay close'), id: 'addressListPopUp', role: 'dialog', \"aria-describedby\": 'addressList' },\r\n                React.createElement(\"div\", { className: 'popup-wrap' },\r\n                    React.createElement(\"div\", { className: 'popup-content', id: 'popup1Desc', ref: function (ele) { _this.teamListRef = ele; } },\r\n                        React.createElement(\"div\", { className: 'tree-view' },\r\n                            React.createElement(\"ul\", { role: 'tree', id: 'addressList', onScroll: this.onScroll },\r\n                                React.createElement(\"li\", { className: 'node highlighted', role: 'treeitem', \"aria-expanded\": 'false', id: 'id_entire_team' },\r\n                                    React.createElement(\"input\", { type: 'checkbox', className: 'text-middle checkbox', id: 'item1', checked: this.isToTeamChecked, onChange: this.entireTeamClick }),\r\n                                    React.createElement(\"label\", { htmlFor: 'item1', id: 'id_entire_team_label' }, localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.entire-team'))),\r\n                                React.createElement(\"li\", { className: 'node expanded', role: 'treeitem', \"aria-expanded\": 'true' },\r\n                                    React.createElement(\"input\", { type: 'checkbox', className: 'text-middle checkbox', id: 'item2', checked: this.teamList && this.teamList.team.parent ?\r\n                                            this.teamList.team.parent.isChecked : false }),\r\n                                    this.teamList && this.teamList.team.parent ?\r\n                                        React.createElement(\"label\", { htmlFor: 'item2', onClick: this.updateTeamListStatus.bind(this, this.teamList.team.parent.examinerRoleId, false) }, this.teamList.team.parent.fullName) : null,\r\n                                    React.createElement(\"ul\", { role: 'group', id: this.props.id + '_TeamList' },\r\n                                        React.createElement(\"li\", { className: 'node expanded', role: 'treeitem', \"aria-expanded\": 'true', id: 'li_' + this.teamList.team.examinerRoleId },\r\n                                            React.createElement(\"span\", { className: 'sprite-icon user-icon-medium tree-icon' }),\r\n                                            React.createElement(\"label\", { className: 'text-middle', id: 'current_login_user' }, this.teamList.team.fullName),\r\n                                            React.createElement(TeamListTreeview, { id: 'teamList', key: 'teamList_key', addressList: this.teamList.team.subordinates, renderedOn: this.state.renderedOn }))))))),\r\n                    React.createElement(\"div\", { className: 'popup-footer text-right' },\r\n                        React.createElement(GenericButton, { id: 'button-rounded-close-button', key: 'key_button rounded close-button', className: 'button rounded close-button', title: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.cancel-button'), content: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.cancel-button'), disabled: false, onClick: this.cancelTeamSelection }),\r\n                        React.createElement(GenericButton, { id: 'button-primary-rounded-button', key: 'key_button primary rounded-button', className: 'button primary rounded', title: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.ok-button'), content: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.ok-button'), disabled: false, onClick: this.saveSelectedTeamList })))))) : null;\r\n        return (toTeamListPopup);\r\n    };\r\n    /**\r\n     * Component did mount\r\n     */\r\n    TeamListPopup.prototype.componentDidMount = function () {\r\n        /* these events are used to implement custom\r\n           scrolling logic to handle the elastic scroll behavior of ipad */\r\n        if (this.teamListRef && (htmlUtilities.isIPadDevice)) {\r\n            this.teamListRef.addEventListener('touchstart', this.onTouchStart);\r\n            this.teamListRef.addEventListener('touchmove', this.onTouchMove);\r\n            this.teamListRef.addEventListener('touchend', this.onTouchEnd);\r\n        }\r\n        messageStore.instance.addListener(messageStore.MessageStore.TEAM_LIST_UPDATED, this.teamListUpdated);\r\n    };\r\n    /**\r\n     * Component will unmount\r\n     */\r\n    TeamListPopup.prototype.componentWillUnmount = function () {\r\n        messageStore.instance.removeListener(messageStore.MessageStore.TEAM_LIST_UPDATED, this.teamListUpdated);\r\n        this.teamListRef.removeEventListener('touchstart', this.onTouchStart);\r\n        this.teamListRef.removeEventListener('touchmove', this.onTouchMove);\r\n        this.teamListRef.removeEventListener('touchend', this.onTouchEnd);\r\n    };\r\n    /**\r\n     * componentWillReceiveProps\r\n     * @param nextProps\r\n     */\r\n    TeamListPopup.prototype.componentWillReceiveProps = function (nextProps) {\r\n        this.isShowAddressPopup = false;\r\n        if (messageStore.instance.teamDetails && messageStore.instance.teamDetails.team.subordinates) {\r\n            this.isShowAddressPopup = messageStore.instance.teamDetails.team.subordinates.length > 0 ? true : false;\r\n        }\r\n    };\r\n    /**\r\n     * returns the team list scroll height\r\n     */\r\n    TeamListPopup.prototype.getTeamListScrollHeight = function () {\r\n        return (this.teamListRef) ? (this.teamListRef.clientHeight + this.teamListRef.scrollTop) : undefined;\r\n    };\r\n    return TeamListPopup;\r\n}(pureRenderComponent));\r\nmodule.exports = TeamListPopup;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbWVzc2FnZS90ZWFtbGlzdHBvcHVwLnRzeD82ZmU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBSZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBHZW5lcmljQnV0dG9uID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9nZW5lcmljYnV0dG9uJyk7XHJcbmltcG9ydCBtZXNzYWdlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbWVzc2FnZS9tZXNzYWdlc3RvcmUnKTtcclxuaW1wb3J0IE1lc3NhZ2VCYXNlID0gcmVxdWlyZSgnLi9tZXNzYWdlYmFzZScpO1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuaW1wb3J0IG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL21lc3NhZ2luZy9tZXNzYWdpbmdhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBUZWFtTGlzdFRyZWV2aWV3ID0gcmVxdWlyZSgnLi90ZWFtbGlzdHRyZWV2aWV3Jyk7XHJcbmltcG9ydCB0ZWFtUmV0dXJuID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL21lc3NhZ2UvdHlwaW5ncy90ZWFtcmV0dXJuJyk7XHJcbmltcG9ydCBodG1sVXRpbGl0aWVzID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9nZW5lcmljL2h0bWx1dGlsaXRpZXMnKTtcclxuXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIFByb3BzQmFzZSwgTG9jYWxlU2VsZWN0aW9uQmFzZSB7XHJcbiAgICBpc1Nob3dUZWFtTGlzdFBvcHVwOiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU3RhdGUge1xyXG4gICAgcmVuZGVyZWRPbj86IG51bWJlcjtcclxuICAgIHRlYW1MaXN0U2Nyb2xsSGVpZ2h0PzogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogVGVhbUxpc3RQb3B1cCBzZWN0aW9uIGNvbnRhaW4gdGVhbSBsaXN0XHJcbiAqIEBwYXJhbSBwcm9wc1xyXG4gKiBAcGFyYW0gc3RhdGVcclxuICovXHJcbmNsYXNzIFRlYW1MaXN0UG9wdXAgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xyXG5cclxuICAgIHByaXZhdGUgaXNTaG93QWRkcmVzc1BvcHVwOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHRlYW1MaXN0OiB0ZWFtUmV0dXJuO1xyXG4gICAgcHJpdmF0ZSBpc1RvVGVhbUNoZWNrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgcHJldlBhZ2VZOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBhbGxvd1VwOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGFsbG93RG93bjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSB0ZWFtTGlzdFJlZjogSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBNZXNzYWdlcG9wdXBcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IFN0YXRlKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBkZWZhdWx0IHN0YXRlc1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IDAsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5pc1Nob3dBZGRyZXNzUG9wdXAgPSBmYWxzZTtcclxuICAgICAgICBpZiAobWVzc2FnZVN0b3JlLmluc3RhbmNlLnRlYW1EZXRhaWxzICYmIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscy50ZWFtLnN1Ym9yZGluYXRlcykge1xyXG4gICAgICAgICAgICB0aGlzLmlzU2hvd0FkZHJlc3NQb3B1cCA9IG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscy50ZWFtLnN1Ym9yZGluYXRlcy5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50ZWFtTGlzdCA9IG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscztcclxuICAgICAgICB0aGlzLmlzVG9UZWFtQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnRlYW1MaXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNUb1RlYW1DaGVja2VkID0gdGhpcy50ZWFtTGlzdC50ZWFtLnRvVGVhbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICB0aGlzLnRlYW1MaXN0ID0gbWVzc2FnZVN0b3JlLmluc3RhbmNlLnRlYW1EZXRhaWxzO1xyXG4gICAgICAgIGxldCB0b1RlYW1MaXN0UG9wdXAgPSB0aGlzLnRlYW1MaXN0ID8gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3BvcHVwIHNtYWxsIG1zZy1hZGRyZXNzLWxpc3QtcG9wdXAgaW4tcGFnZS1wb3BvdXQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93QWRkcmVzc1BvcHVwID8gJ3BvcHVwLW92ZXJsYXkgb3BlbicgOiAncG9wdXAtb3ZlcmxheSBjbG9zZScpIH1cclxuICAgICAgICAgICAgICAgICAgICBpZD0nYWRkcmVzc0xpc3RQb3BVcCcgcm9sZT0nZGlhbG9nJyBhcmlhLWRlc2NyaWJlZGJ5PSdhZGRyZXNzTGlzdCc+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BvcHVwLXdyYXAnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncG9wdXAtY29udGVudCcgaWQ9J3BvcHVwMURlc2MnIHJlZj17KGVsZSkgPT4geyB0aGlzLnRlYW1MaXN0UmVmID0gZWxlOyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0cmVlLXZpZXcnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCByb2xlPSd0cmVlJyBpZD0nYWRkcmVzc0xpc3QnIG9uU2Nyb2xsPXt0aGlzLm9uU2Nyb2xsfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT0nbm9kZSBoaWdobGlnaHRlZCcgcm9sZT0ndHJlZWl0ZW0nIGFyaWEtZXhwYW5kZWQ9J2ZhbHNlJyBpZCA9ICdpZF9lbnRpcmVfdGVhbSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0nY2hlY2tib3gnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LW1pZGRsZSBjaGVja2JveCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0naXRlbTEnIGNoZWNrZWQ9e3RoaXMuaXNUb1RlYW1DaGVja2VkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlID17dGhpcy5lbnRpcmVUZWFtQ2xpY2t9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj0naXRlbTEnIGlkID0gJ2lkX2VudGlyZV90ZWFtX2xhYmVsJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UucmVjaXBpZW50LXNlbGVjdG9yLmVudGlyZS10ZWFtJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPSdub2RlIGV4cGFuZGVkJyByb2xlPSd0cmVlaXRlbScgYXJpYS1leHBhbmRlZD0ndHJ1ZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIGNsYXNzTmFtZT0ndGV4dC1taWRkbGUgY2hlY2tib3gnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2l0ZW0yJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMudGVhbUxpc3QgJiYgdGhpcy50ZWFtTGlzdC50ZWFtLnBhcmVudCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVhbUxpc3QudGVhbS5wYXJlbnQuaXNDaGVja2VkIDogZmFsc2V9Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnRlYW1MaXN0ICYmIHRoaXMudGVhbUxpc3QudGVhbS5wYXJlbnQgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPSdpdGVtMidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy51cGRhdGVUZWFtTGlzdFN0YXR1cy5iaW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVhbUxpc3QudGVhbS5wYXJlbnQuZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkgfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMudGVhbUxpc3QudGVhbS5wYXJlbnQuZnVsbE5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4gOiBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgcm9sZT0nZ3JvdXAnIGlkID17dGhpcy5wcm9wcy5pZCArICdfVGVhbUxpc3QnfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPSdub2RlIGV4cGFuZGVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPSd0cmVlaXRlbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD0ndHJ1ZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9eydsaV8nICsgdGhpcy50ZWFtTGlzdC50ZWFtLmV4YW1pbmVyUm9sZUlkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdzcHJpdGUtaWNvbiB1c2VyLWljb24tbWVkaXVtIHRyZWUtaWNvbic+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSd0ZXh0LW1pZGRsZScgaWQ9J2N1cnJlbnRfbG9naW5fdXNlcic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy50ZWFtTGlzdC50ZWFtLmZ1bGxOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGVhbUxpc3RUcmVldmlldyBpZD17J3RlYW1MaXN0J30ga2V5PXsndGVhbUxpc3Rfa2V5J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3NMaXN0ID17dGhpcy50ZWFtTGlzdC50ZWFtLnN1Ym9yZGluYXRlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkT24gPSB7dGhpcy5zdGF0ZS5yZW5kZXJlZE9ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC1mb290ZXIgdGV4dC1yaWdodCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R2VuZXJpY0J1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXsgJ2J1dHRvbi1yb3VuZGVkLWNsb3NlLWJ1dHRvbicgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2tleV9idXR0b24gcm91bmRlZCBjbG9zZS1idXR0b24nIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eydidXR0b24gcm91bmRlZCBjbG9zZS1idXR0b24nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLnJlY2lwaWVudC1zZWxlY3Rvci5jYW5jZWwtYnV0dG9uJykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UucmVjaXBpZW50LXNlbGVjdG9yLmNhbmNlbC1idXR0b24nKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2FuY2VsVGVhbVNlbGVjdGlvbn0vPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdlbmVyaWNCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17ICdidXR0b24tcHJpbWFyeS1yb3VuZGVkLWJ1dHRvbicgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2tleV9idXR0b24gcHJpbWFyeSByb3VuZGVkLWJ1dHRvbicgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17J2J1dHRvbiBwcmltYXJ5IHJvdW5kZWQnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLnJlY2lwaWVudC1zZWxlY3Rvci5vay1idXR0b24nKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5yZWNpcGllbnQtc2VsZWN0b3Iub2stYnV0dG9uJykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNhdmVTZWxlY3RlZFRlYW1MaXN0fS8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApIDogbnVsbDtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICB0b1RlYW1MaXN0UG9wdXBcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcG9uZW50IGRpZCBtb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcblxyXG4gICAgICAgIC8qIHRoZXNlIGV2ZW50cyBhcmUgdXNlZCB0byBpbXBsZW1lbnQgY3VzdG9tIFxyXG4gICAgICAgICAgIHNjcm9sbGluZyBsb2dpYyB0byBoYW5kbGUgdGhlIGVsYXN0aWMgc2Nyb2xsIGJlaGF2aW9yIG9mIGlwYWQgKi9cclxuICAgICAgICBpZiAodGhpcy50ZWFtTGlzdFJlZiAmJiAoaHRtbFV0aWxpdGllcy5pc0lQYWREZXZpY2UpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGVhbUxpc3RSZWYuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0KTtcclxuICAgICAgICAgICAgdGhpcy50ZWFtTGlzdFJlZi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlKTtcclxuICAgICAgICAgICAgdGhpcy50ZWFtTGlzdFJlZi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5URUFNX0xJU1RfVVBEQVRFRCwgdGhpcy50ZWFtTGlzdFVwZGF0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZXZlbnQgaGFuZGxlciBmb3IgdG91Y2ggc3RhcnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblRvdWNoU3RhcnQgPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICB0aGlzLnByZXZQYWdlWSA9IChldmVudC5jaGFuZ2VkVG91Y2hlcykgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSA6IDA7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSAodGhpcy50ZWFtTGlzdFJlZiBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5hbGxvd1VwID0gKGNvbnRlbnQuc2Nyb2xsVG9wID4gMCk7XHJcbiAgICAgICAgdGhpcy5hbGxvd0Rvd24gPSAoY29udGVudC5zY3JvbGxUb3AgPD0gY29udGVudC5zY3JvbGxIZWlnaHQgLSBjb250ZW50LmNsaWVudEhlaWdodCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZXZlbnQgaGFuZGxlciBmb3IgdG91Y2ggbW92ZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uVG91Y2hNb3ZlID0gKGV2ZW50OiBhbnkpID0+IHtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBsZXQgY29udGVudCA9ICh0aGlzLnRlYW1MaXN0UmVmIGFzIEhUTUxFbGVtZW50KTtcclxuICAgICAgICBsZXQgcGFnZVkgPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcclxuICAgICAgICB2YXIgdXAgPSAocGFnZVkgPiB0aGlzLnByZXZQYWdlWSk7XHJcbiAgICAgICAgdmFyIGRvd24gPSAocGFnZVkgPCB0aGlzLnByZXZQYWdlWSk7XHJcbiAgICAgICAgbGV0IGRpZmYgPSBNYXRoLmFicyh0aGlzLnByZXZQYWdlWSAtIGV2ZW50LnBhZ2VZKTtcclxuXHJcbiAgICAgICAgdGhpcy5wcmV2UGFnZVkgPSBldmVudC5wYWdlWTtcclxuXHJcbiAgICAgICAgaWYgKCh1cCAmJiB0aGlzLmFsbG93VXApKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuc2Nyb2xsVG9wID0gKGNvbnRlbnQuc2Nyb2xsVG9wIC0gZGlmZik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkb3duICYmIHRoaXMuYWxsb3dEb3duKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuc2Nyb2xsVG9wID0gKGNvbnRlbnQuc2Nyb2xsVG9wICsgZGlmZik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH0sIDApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGV2ZW50IGhhbmRsZXIgZm9yIHRvdWNoIGVuZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uVG91Y2hFbmQgPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJldlBhZ2VZID0gMDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wb25lbnQgd2lsbCB1bm1vdW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5URUFNX0xJU1RfVVBEQVRFRCwgdGhpcy50ZWFtTGlzdFVwZGF0ZWQpO1xyXG4gICAgICAgIHRoaXMudGVhbUxpc3RSZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0KTtcclxuICAgICAgICB0aGlzLnRlYW1MaXN0UmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUpO1xyXG4gICAgICAgIHRoaXMudGVhbUxpc3RSZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1xyXG4gICAgICogQHBhcmFtIG5leHRQcm9wc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IFByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5pc1Nob3dBZGRyZXNzUG9wdXAgPSBmYWxzZTtcclxuICAgICAgICBpZiAobWVzc2FnZVN0b3JlLmluc3RhbmNlLnRlYW1EZXRhaWxzICYmIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscy50ZWFtLnN1Ym9yZGluYXRlcykge1xyXG4gICAgICAgICAgICB0aGlzLmlzU2hvd0FkZHJlc3NQb3B1cCA9IG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscy50ZWFtLnN1Ym9yZGluYXRlcy5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBjYW5jZWwgdGVhbSBzZWxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2FuY2VsVGVhbVNlbGVjdGlvbiA9ICgpID0+IHtcclxuICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLnVwZGF0ZVNlbGVjdGVkVGVhbUxpc3QoZmFsc2UpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBzYXZlIHNlbGVjdGVkIHRlYW0gbGlzdCBpbiB0aGUgbWVzc2FnZSBzdG9yZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzYXZlU2VsZWN0ZWRUZWFtTGlzdCA9ICgpID0+IHtcclxuICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLnVwZGF0ZVNlbGVjdGVkVGVhbUxpc3QodHJ1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIGZvciBoYW5kbGluZyBlbnRpcmUgdGVhbSBjbGljay5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBlbnRpcmVUZWFtQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5lbnRpcmVUZWFtQ2hlY2tlZCghdGhpcy50ZWFtTGlzdC50ZWFtLnRvVGVhbSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIGZvciB1cGRhdGUgdGVhbSBsaXN0LlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgdGVhbUxpc3RVcGRhdGVkID0gKGlzVG9UZWFtQ2xpY2s6IGJvb2xlYW4sIGlzRXhwYW5kOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICAvLyBhdm9pZCBFbnRpcmVUZWFtJ3MgY2hlY2tlZC1zdGF0dXMgY2hhbmdlIHdoaWxlIGNsaWNraW5nIEV4cGFuZC9Db2xsYXBzZSBidXR0b25cclxuICAgICAgICBpZiAoaXNFeHBhbmQgPT09IHVuZGVmaW5lZCB8fCAhaXNFeHBhbmQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1RvVGVhbUNoZWNrZWQgPSBpc1RvVGVhbUNsaWNrICYmIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscy50ZWFtLnRvVGVhbSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50ZWFtTGlzdCA9IG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS50ZWFtRGV0YWlscztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLypcclxuICAgICAqIGV2ZW50IGhhbmRsZXIgZm9yIHRlYW0gbGlzdCBwYW5lbCBzY3JvbGwuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TY3JvbGwgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IHRoaXMuc3RhdGUucmVuZGVyZWRPbixcclxuICAgICAgICAgICAgdGVhbUxpc3RTY3JvbGxIZWlnaHQ6IHRoaXMuZ2V0VGVhbUxpc3RTY3JvbGxIZWlnaHQoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHRlYW0gbGlzdCBzY3JvbGwgaGVpZ2h0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0VGVhbUxpc3RTY3JvbGxIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMudGVhbUxpc3RSZWYpID8gKHRoaXMudGVhbUxpc3RSZWYuY2xpZW50SGVpZ2h0ICsgdGhpcy50ZWFtTGlzdFJlZi5zY3JvbGxUb3ApIDogdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xpY2tpbmcgb24gY2hlY2svdW5jaGVjayBvZiBzdXBlcnZpc2VyXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdXBkYXRlVGVhbUxpc3RTdGF0dXMgPSAodW5pcXVlSWQ6IG51bWJlciwgaXNFeHBhbmQ6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLnVwZGF0ZVRlYW1MaXN0U3RhdHVzKHVuaXF1ZUlkLCBpc0V4cGFuZCk7XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgPSBUZWFtTGlzdFBvcHVwO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9tZXNzYWdlL3RlYW1saXN0cG9wdXAudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQVdBOzs7O0FBSUE7QUFDQTtBQUFBO0FBVUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFiQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBZ0lBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUF1QkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQTFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBU0E7QUFDQTtBQVFBO0FBYUE7QUFHQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUEyQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE2Q0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 479:
/* no static exports found */
/* all exports used */
/*!*****************************************************!*\
  !*** ./src/components/message/teamlisttreeview.tsx ***!
  \*****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../actions/messaging/messagingactioncreator */ 268);\r\nvar TeamListTreeview = /** @class */ (function (_super) {\r\n    __extends(TeamListTreeview, _super);\r\n    /**\r\n     * Constructor Messagepopup\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function TeamListTreeview(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.isInitialLoad = true;\r\n        /**\r\n         * Clicking on expand/collapse or check/uncheck\r\n         */\r\n        _this.updateTeamListStatus = function (uniqueId, isExpand) {\r\n            messagingActionCreator.updateTeamListStatus(uniqueId, isExpand);\r\n        };\r\n        _this._className = _this.props.addressList.length > 0 ? 'sub-items has-expandables' : null;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    TeamListTreeview.prototype.render = function () {\r\n        var that = this;\r\n        var nodes;\r\n        var teamListTreeView;\r\n        if (that.props.addressList !== undefined) {\r\n            nodes = that.props.addressList.map(function (nodeItem, index) {\r\n                return that.getNodeItem(nodeItem, index);\r\n            });\r\n        }\r\n        return (React.createElement(\"ul\", { role: 'group', className: this._className, id: this.props.id, key: this.props.id }, nodes));\r\n    };\r\n    /**\r\n     * getting node items\r\n     */\r\n    TeamListTreeview.prototype.getNodeItem = function (nodeItem, index) {\r\n        var checkBoxId = 'cbx_' + nodeItem.examinerRoleId;\r\n        if (nodeItem.subordinates.length > 0) {\r\n            var teamListTreeview = nodeItem.isOpen ? (React.createElement(TeamListTreeview, { id: 'nodeItem_' + nodeItem.examinerRoleId, key: 'nodeItem_' + index.toString() + '_key_' + nodeItem.examinerRoleId, addressList: nodeItem.subordinates, renderedOn: Date.now() })) : null;\r\n            var classNameForExpand = nodeItem.isOpen ? 'node has-sub expanded' : 'node has-sub collapsed';\r\n            return (React.createElement(\"li\", { id: 'li_' + nodeItem.examinerRoleId, key: 'li_' + index.toString() + '_' + nodeItem.examinerRoleId, className: classNameForExpand, role: 'treeitem', \"aria-expanded\": 'true' },\r\n                React.createElement(\"a\", { id: 'a_' + nodeItem.examinerRoleId, onClick: this.updateTeamListStatus.bind(this, nodeItem.examinerRoleId, true), href: 'javascript:void(0);', className: 'parent-node' }),\r\n                React.createElement(\"input\", { type: 'checkbox', className: 'text-middle checkbox', id: checkBoxId, checked: nodeItem.isChecked, onChange: this.updateTeamListStatus.bind(this, nodeItem.examinerRoleId, false) }),\r\n                React.createElement(\"label\", { htmlFor: checkBoxId }, nodeItem.fullName),\r\n                teamListTreeview));\r\n        }\r\n        else {\r\n            return (React.createElement(\"li\", { id: 'li_' + nodeItem.examinerRoleId, key: 'li_' + index.toString() + '_' + nodeItem.examinerRoleId, className: 'node', role: 'treeitem' },\r\n                React.createElement(\"input\", { type: 'checkbox', className: 'text-middle checkbox', id: checkBoxId, checked: nodeItem.isChecked, onChange: this.updateTeamListStatus.bind(this, nodeItem.examinerRoleId, false) }),\r\n                React.createElement(\"label\", { htmlFor: checkBoxId }, nodeItem.fullName)));\r\n        }\r\n    };\r\n    return TeamListTreeview;\r\n}(pureRenderComponent));\r\nmodule.exports = TeamListTreeview;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbWVzc2FnZS90ZWFtbGlzdHRyZWV2aWV3LnRzeD84MjIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBSZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBHZW5lcmljQnV0dG9uID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9nZW5lcmljYnV0dG9uJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IHRvQWRkcmVzc0xpc3QgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbWVzc2FnZS90eXBpbmdzL3RlYW1yZXR1cm4nKTtcclxuaW1wb3J0IG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL21lc3NhZ2luZy9tZXNzYWdpbmdhY3Rpb25jcmVhdG9yJyk7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2UsIExvY2FsZVNlbGVjdGlvbkJhc2Uge1xyXG4gICAgYWRkcmVzc0xpc3Q6IEFycmF5PEV4YW1pbmVySW5mbz47XHJcbiAgICByZW5kZXJlZE9uPzogbnVtYmVyO1xyXG59XHJcblxyXG5jbGFzcyBUZWFtTGlzdFRyZWV2aWV3IGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgcHJpdmF0ZSBfY2xhc3NOYW1lOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGlzSW5pdGlhbExvYWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3IgTWVzc2FnZXBvcHVwXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG5cclxuICAgICAgICB0aGlzLl9jbGFzc05hbWUgPSB0aGlzLnByb3BzLmFkZHJlc3NMaXN0Lmxlbmd0aCA+IDAgPyAnc3ViLWl0ZW1zIGhhcy1leHBhbmRhYmxlcycgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIGxldCBub2RlczogYW55O1xyXG5cclxuICAgICAgICBsZXQgdGVhbUxpc3RUcmVlVmlldzogYW55O1xyXG5cclxuICAgICAgICBpZiAodGhhdC5wcm9wcy5hZGRyZXNzTGlzdCAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgICAgICBub2RlcyA9IHRoYXQucHJvcHMuYWRkcmVzc0xpc3QubWFwKGZ1bmN0aW9uIChub2RlSXRlbTogRXhhbWluZXJJbmZvLCBpbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5nZXROb2RlSXRlbShub2RlSXRlbSwgaW5kZXgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDx1bCByb2xlPSdncm91cCcgY2xhc3NOYW1lPXt0aGlzLl9jbGFzc05hbWV9IGlkPXt0aGlzLnByb3BzLmlkfSBrZXk9e3RoaXMucHJvcHMuaWR9PlxyXG4gICAgICAgICAgICAgICAge25vZGVzfVxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0dGluZyBub2RlIGl0ZW1zXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Tm9kZUl0ZW0obm9kZUl0ZW06IEV4YW1pbmVySW5mbywgaW5kZXg6IG51bWJlcik6IGFueSB7XHJcbiAgICAgICAgbGV0IGNoZWNrQm94SWQ6IHN0cmluZyA9ICdjYnhfJyArIG5vZGVJdGVtLmV4YW1pbmVyUm9sZUlkO1xyXG5cclxuICAgICAgICBpZiAobm9kZUl0ZW0uc3Vib3JkaW5hdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IHRlYW1MaXN0VHJlZXZpZXcgPSBub2RlSXRlbS5pc09wZW4gPyAoPFRlYW1MaXN0VHJlZXZpZXdcclxuICAgICAgICAgICAgICAgIGlkPXsnbm9kZUl0ZW1fJyArIG5vZGVJdGVtLmV4YW1pbmVyUm9sZUlkfVxyXG4gICAgICAgICAgICAgICAga2V5PXsnbm9kZUl0ZW1fJyArIGluZGV4LnRvU3RyaW5nKCkgKyAnX2tleV8nICsgbm9kZUl0ZW0uZXhhbWluZXJSb2xlSWQgfVxyXG4gICAgICAgICAgICAgICAgYWRkcmVzc0xpc3QgPXtub2RlSXRlbS5zdWJvcmRpbmF0ZXN9XHJcbiAgICAgICAgICAgICAgICByZW5kZXJlZE9uID0ge0RhdGUubm93KCl9Lz4pIDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGxldCBjbGFzc05hbWVGb3JFeHBhbmQgPSBub2RlSXRlbS5pc09wZW4gPyAnbm9kZSBoYXMtc3ViIGV4cGFuZGVkJyA6ICdub2RlIGhhcy1zdWIgY29sbGFwc2VkJztcclxuICAgICAgICAgICAgcmV0dXJuICg8bGkgaWQ9eydsaV8nICsgbm9kZUl0ZW0uZXhhbWluZXJSb2xlSWR9IGtleT17J2xpXycgKyBpbmRleC50b1N0cmluZygpICsgJ18nICsgbm9kZUl0ZW0uZXhhbWluZXJSb2xlSWR9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZUZvckV4cGFuZH0gcm9sZT0ndHJlZWl0ZW0nIGFyaWEtZXhwYW5kZWQ9J3RydWUnPlxyXG4gICAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgICAgICBpZD17J2FfJyArIG5vZGVJdGVtLmV4YW1pbmVyUm9sZUlkfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2sgPSB7dGhpcy51cGRhdGVUZWFtTGlzdFN0YXR1cy5iaW5kKHRoaXMsIG5vZGVJdGVtLmV4YW1pbmVyUm9sZUlkLCB0cnVlKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApOycgY2xhc3NOYW1lPSdwYXJlbnQtbm9kZSc+PC9hPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT0nY2hlY2tib3gnXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LW1pZGRsZSBjaGVja2JveCdcclxuICAgICAgICAgICAgICAgICAgICBpZD17Y2hlY2tCb3hJZH1cclxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0ge25vZGVJdGVtLmlzQ2hlY2tlZH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy51cGRhdGVUZWFtTGlzdFN0YXR1cy5iaW5kKHRoaXMsIG5vZGVJdGVtLmV4YW1pbmVyUm9sZUlkLCBmYWxzZSkgfVxyXG4gICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxsYWJlbFxyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxGb3I9e2NoZWNrQm94SWR9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtub2RlSXRlbS5mdWxsTmFtZX1cclxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgIHt0ZWFtTGlzdFRyZWV2aWV3fVxyXG4gICAgICAgICAgICA8L2xpPik7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPGxpIGlkPXsnbGlfJyArIG5vZGVJdGVtLmV4YW1pbmVyUm9sZUlkfSBrZXk9eydsaV8nICsgaW5kZXgudG9TdHJpbmcoKSArICdfJyArIG5vZGVJdGVtLmV4YW1pbmVyUm9sZUlkfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdub2RlJyByb2xlPSd0cmVlaXRlbSc+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPSdjaGVja2JveCdcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3RleHQtbWlkZGxlIGNoZWNrYm94J1xyXG4gICAgICAgICAgICAgICAgICAgIGlkPXtjaGVja0JveElkfVxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgPSB7bm9kZUl0ZW0uaXNDaGVja2VkfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnVwZGF0ZVRlYW1MaXN0U3RhdHVzLmJpbmQodGhpcywgbm9kZUl0ZW0uZXhhbWluZXJSb2xlSWQsIGZhbHNlKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxsYWJlbFxyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxGb3I9e2NoZWNrQm94SWR9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtub2RlSXRlbS5mdWxsTmFtZX08L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2xpPik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIENsaWNraW5nIG9uIGV4cGFuZC9jb2xsYXBzZSBvciBjaGVjay91bmNoZWNrXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdXBkYXRlVGVhbUxpc3RTdGF0dXMgPSAodW5pcXVlSWQ6IG51bWJlciwgaXNFeHBhbmQ6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLnVwZGF0ZVRlYW1MaXN0U3RhdHVzKHVuaXF1ZUlkLCBpc0V4cGFuZCk7XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgPSBUZWFtTGlzdFRyZWV2aWV3O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9tZXNzYWdlL3RlYW1saXN0dHJlZXZpZXcudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFLQTtBQU9BO0FBQUE7QUFLQTs7OztBQUlBO0FBQ0E7QUFBQTtBQVBBO0FBeUZBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBcEZBOztBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFJQTtBQU9BO0FBSUE7QUFHQTtBQUFBO0FBQ0E7QUFFQTtBQU9BO0FBSUE7QUFDQTtBQVNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 483:
/* no static exports found */
/* all exports used */
/*!***************************************************************************!*\
  !*** ./src/components/utility/qigselector/qigselectorvalidationhelper.ts ***!
  \***************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar targetSummaryStore = __webpack_require__(/*! ../../../stores/worklist/targetsummarystore */ 305);\r\nvar qigValidationResult = __webpack_require__(/*! ../../../stores/qigselector/qigvalidationresult */ 533);\r\nvar aggregatedQigValidationResult = __webpack_require__(/*! ../../../stores/qigselector/aggregatedqigvalidationresult */ 497);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * Class for the Validations in the QIG Selector\r\n */\r\nvar QigSelectorValidationHelper = /** @class */ (function () {\r\n    function QigSelectorValidationHelper() {\r\n        this.qigValidationResult = [];\r\n    }\r\n    /**\r\n     * Method to find the validation results by passing the QIG list\r\n     * @param qigsummaryCollection\r\n     */\r\n    QigSelectorValidationHelper.prototype.getValidationResults = function (qigsummaryCollection) {\r\n        var _this = this;\r\n        // clearing existing result before filling to enusre while opened and tranlate language\r\n        // should fill new results at the top.\r\n        this.qigValidationResult = [];\r\n        // Loop through each QIG and find the properties for the QIG selector\r\n        qigsummaryCollection.map(function (qigsummary) {\r\n            var qigValidationResultObj = new qigValidationResult();\r\n            _this.populateValidationResultForQig(qigsummary, qigValidationResultObj);\r\n            // Add the validation Result object to the collection\r\n            _this.qigValidationResult.push(qigValidationResultObj);\r\n        });\r\n        return this.qigValidationResult;\r\n    };\r\n    /**\r\n     * Set the Visibility properties for UI Components\r\n     * @param qigsummary\r\n     * @param qigValidationResult\r\n     */\r\n    QigSelectorValidationHelper.prototype.setVisibilityPropertiesBasedOnExaminerQIGStatus = function (qigsummary, qigValidationResult) {\r\n        switch (qigsummary.examinerQigStatus) {\r\n            case enums.ExaminerQIGStatus.Practice:\r\n            case enums.ExaminerQIGStatus.StandardisationMarking:\r\n            case enums.ExaminerQIGStatus.STMStandardisationMarking:\r\n            case enums.ExaminerQIGStatus.SecondStandardisationMarking:\r\n                qigValidationResult.displayTargetDate = true;\r\n                break;\r\n            case enums.ExaminerQIGStatus.QualityFeedback:\r\n            case enums.ExaminerQIGStatus.Suspended:\r\n                if (qigsummary.isForAdminRemark !== true) {\r\n                    qigValidationResult.displayTargetDate = true;\r\n                    qigValidationResult.displayProgressBar = qigsummary.groupId <= 0;\r\n                    qigValidationResult.displayTarget = true;\r\n                }\r\n                break;\r\n            case enums.ExaminerQIGStatus.LiveMarking:\r\n                qigValidationResult.displayTargetDate = true;\r\n                qigValidationResult.displayProgressBar = qigsummary.groupId <= 0;\r\n                qigValidationResult.displayTarget = true;\r\n                if (this.getTotalOpenResponsesCount(qigsummary) > 0) {\r\n                    qigValidationResult.displayOpenResponseIndicator = true;\r\n                }\r\n                else if (this.hasAvailableResponsesInPool(qigsummary)) {\r\n                    qigValidationResult.displayResponseAvailableIndicator = true;\r\n                }\r\n                if (this.hasRemarkOpenResponse(qigsummary)) {\r\n                    qigValidationResult.displayRemarkOpenResponseIndicator = true;\r\n                    qigValidationResult.displayRemarkAvailableResponseIndicator = false;\r\n                }\r\n                else if (this.hasRemarkResponseInPool(qigsummary)) {\r\n                    qigValidationResult.displayRemarkAvailableResponseIndicator = true;\r\n                    qigValidationResult.displayRemarkOpenResponseIndicator = false;\r\n                }\r\n                break;\r\n            case enums.ExaminerQIGStatus.LiveComplete:\r\n                qigValidationResult.displayTargetDate = true;\r\n                qigValidationResult.displayProgressBar = qigsummary.groupId <= 0;\r\n                qigValidationResult.displayTarget = true;\r\n                if (qigsummary.currentMarkingTarget.openResponsesCount > 0) {\r\n                    qigValidationResult.displayOpenResponseIndicator = true;\r\n                }\r\n                else if (this.isIntoOverAllocation(qigsummary) && this.hasAvailableResponsesInPool(qigsummary)) {\r\n                    qigValidationResult.displayResponseAvailableIndicator = true;\r\n                }\r\n                if (this.hasRemarkOpenResponse(qigsummary)) {\r\n                    qigValidationResult.displayRemarkOpenResponseIndicator = true;\r\n                    qigValidationResult.displayRemarkAvailableResponseIndicator = false;\r\n                }\r\n                else if (this.hasRemarkResponseInPool(qigsummary)) {\r\n                    qigValidationResult.displayRemarkAvailableResponseIndicator = true;\r\n                    qigValidationResult.displayRemarkOpenResponseIndicator = false;\r\n                }\r\n                break;\r\n            case enums.ExaminerQIGStatus.AdminRemark:\r\n                if (qigsummary.currentMarkingTarget.openResponsesCount > 0) {\r\n                    qigValidationResult.displayOpenResponseIndicator = true;\r\n                    qigValidationResult.displayResponseAvailableIndicator = false;\r\n                }\r\n                else if (this.hasAvailableResponsesInPool(qigsummary)) {\r\n                    qigValidationResult.displayResponseAvailableIndicator = true;\r\n                    qigValidationResult.displayOpenResponseIndicator = false;\r\n                }\r\n                break;\r\n            case enums.ExaminerQIGStatus.Simulation:\r\n                if (qigsummary.currentMarkingTarget.openResponsesCount > 0) {\r\n                    qigValidationResult.displayOpenResponseIndicator = true;\r\n                    qigValidationResult.displayResponseAvailableIndicator = false;\r\n                }\r\n                else if (this.hasAvailableResponsesInPool(qigsummary)) {\r\n                    qigValidationResult.displayResponseAvailableIndicator = true;\r\n                    qigValidationResult.displayOpenResponseIndicator = false;\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Get the Status color class for the text in UI.\r\n     * @param qigsummary\r\n     */\r\n    QigSelectorValidationHelper.prototype.getStatusClassBasedOnExaminerQIGStatus = function (qigsummary) {\r\n        switch (qigsummary.examinerQigStatus) {\r\n            case enums.ExaminerQIGStatus.QualityFeedback:\r\n                return 'warning'; //Amber\r\n            case enums.ExaminerQIGStatus.WaitingStandardisation:\r\n            case enums.ExaminerQIGStatus.AwaitingApproval:\r\n            case enums.ExaminerQIGStatus.Suspended:\r\n            case enums.ExaminerQIGStatus.NoLiveTarget:\r\n            case enums.ExaminerQIGStatus.AwaitingScripts:\r\n                return 'error'; // Red\r\n            default:\r\n                return ''; // Black\r\n        }\r\n    };\r\n    /**\r\n     * To check the remark open response\r\n     * Returns true if any remark is available in the any remark open worklist\r\n     */\r\n    QigSelectorValidationHelper.prototype.hasRemarkOpenResponse = function (qigsummary) {\r\n        if (qigsummary.markingTargets) {\r\n            return qigsummary.markingTargets.some(function (remark) {\r\n                return remark.markingMode === enums.MarkingMode.Remarking\r\n                    && remark.openResponsesCount > 0;\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * To check the remark pool status\r\n     * Returns true if any remark is available in the any remark pool\r\n     */\r\n    QigSelectorValidationHelper.prototype.hasRemarkResponseInPool = function (qigsummary) {\r\n        if (qigsummary.markingTargets) {\r\n            return qigsummary.markingTargets.some(function (remark) {\r\n                return remark.markingMode === enums.MarkingMode.Remarking\r\n                    && !remark.isDirectedRemark\r\n                    && remark.areResponsesAvailableToBeDownloaded\r\n                    && remark.maximumMarkingLimit > remark.closedResponsesCount;\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * * AvailableResponseExists logic *\r\n     * If live marking target is having responses in the pool\r\n     * @param qigsummary\r\n     */\r\n    QigSelectorValidationHelper.prototype.hasAvailableResponsesInPool = function (qigsummary) {\r\n        if (qigsummary.markingTargets == null) {\r\n            if (qigsummary.isForAdminRemark) {\r\n                if (qigsummary.currentMarkingTarget.areResponsesAvailableToBeDownloaded) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            return false;\r\n        }\r\n        for (var index in qigsummary.markingTargets) {\r\n            if (qigsummary.markingTargets[index].areResponsesAvailableToBeDownloaded\r\n                && qigsummary.markingTargets[index].markingMode === enums.MarkingMode.LiveMarking) {\r\n                return true;\r\n            }\r\n            else if (qigsummary.markingTargets[index].areResponsesAvailableToBeDownloaded\r\n                && qigsummary.markingTargets[index].markingMode === enums.MarkingMode.Remarking\r\n                && qigsummary.isForAdminRemark) {\r\n                return true;\r\n            }\r\n            else if (qigsummary.markingTargets[index].areResponsesAvailableToBeDownloaded\r\n                && qigsummary.markingTargets[index].markingMode === enums.MarkingMode.Simulation) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Check the user having access to live target\r\n     * @param qigsummary\r\n     */\r\n    QigSelectorValidationHelper.prototype.hasLiveMarkingTargetExists = function (qigsummary) {\r\n        for (var index in qigsummary.markingTargets) {\r\n            if (qigsummary.markingTargets[index].markingMode === enums.MarkingMode.LiveMarking) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Check the user has completed the non line targets.\r\n     * @param qigsummary\r\n     */\r\n    QigSelectorValidationHelper.prototype.hasNonLiveTargetCompleted = function (qigsummary) {\r\n        for (var index in qigsummary.markingTargets) {\r\n            if (qigsummary.markingTargets.hasOwnProperty(index)) {\r\n                var target = qigsummary.markingTargets[index];\r\n                if (target.markingMode === enums.MarkingMode.LiveMarking ||\r\n                    target.markingMode === enums.MarkingMode.Simulation ||\r\n                    target.markingMode === enums.MarkingMode.Remarking) {\r\n                    continue;\r\n                }\r\n                if (target.maximumMarkingLimit > target.closedResponsesCount) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Examiner QIG Status Text to display in QIG selector\r\n     * @param qigsummary\r\n     */\r\n    QigSelectorValidationHelper.prototype.getStatusText = function (qigsummary) {\r\n        var isIntoOverAllocation = this.isIntoOverAllocation(qigsummary);\r\n        var qigStatusKey = 'home.qig-statuses.' +\r\n            enums.ExaminerQIGStatus[qigsummary.examinerQigStatus];\r\n        if (isIntoOverAllocation) {\r\n            qigStatusKey = 'home.qig-statuses.LiveTargetOverAllocation';\r\n        }\r\n        return localeStore.instance.TranslateText(qigStatusKey);\r\n    };\r\n    /**\r\n     * checks if marking targets contains any directed remarks\r\n     * @param {qigSummary} qigsummary\r\n     * @returns\r\n     */\r\n    QigSelectorValidationHelper.prototype.filterDirectedRemarks = function (qigsummary) {\r\n        var directedRemarkTargets = [];\r\n        if (qigsummary.markingTargets != null) {\r\n            qigsummary.markingTargets.map(function (remark) {\r\n                if (remark.isDirectedRemark === true) {\r\n                    directedRemarkTargets.push(remark);\r\n                }\r\n            });\r\n        }\r\n        return directedRemarkTargets;\r\n    };\r\n    /**\r\n     * Retrieving the total open responses count\r\n     * @param qigsummary\r\n     */\r\n    QigSelectorValidationHelper.prototype.getTotalOpenResponsesCount = function (qigsummary) {\r\n        if (!qigsummary.currentMarkingTarget) {\r\n            return 0;\r\n        }\r\n        var totalOpenResponsesCount = 0;\r\n        var directedRemarkTargets = this.filterDirectedRemarks(qigsummary);\r\n        if (directedRemarkTargets !== undefined && directedRemarkTargets != null) {\r\n            directedRemarkTargets.map(function (remark) {\r\n                totalOpenResponsesCount += remark.openResponsesCount;\r\n            });\r\n        }\r\n        if (qigsummary.currentMarkingTarget !== undefined && qigsummary.currentMarkingTarget != null) {\r\n            totalOpenResponsesCount += isNaN(qigsummary.currentMarkingTarget.openResponsesCount) ?\r\n                0 : qigsummary.currentMarkingTarget.openResponsesCount;\r\n            totalOpenResponsesCount += isNaN(qigsummary.currentMarkingTarget.openAtypicalResponsesCount) ?\r\n                0 : qigsummary.currentMarkingTarget.openAtypicalResponsesCount;\r\n        }\r\n        return totalOpenResponsesCount;\r\n    };\r\n    /**\r\n     * Method to verify if the QIG is into the over allocation mode\r\n     * A marker would move to the over allocation mode only if\r\n     * the marker has an over allocation mentioned in the target\r\n     * and the total submitted responses count has crossed the actual\r\n     * marking target\r\n     * @param {qigSummary} qigsummary\r\n     * @returns\r\n     */\r\n    QigSelectorValidationHelper.prototype.isIntoOverAllocation = function (qigsummary) {\r\n        if (!qigsummary.currentMarkingTarget || qigsummary.currentMarkingTarget.overAllocationCount <= 0) {\r\n            return false;\r\n        }\r\n        var totalResponsesCount = 0;\r\n        var directedRemarkTargets = this.filterDirectedRemarks(qigsummary);\r\n        if (directedRemarkTargets !== undefined && directedRemarkTargets != null) {\r\n            directedRemarkTargets.map(function (remark) {\r\n                totalResponsesCount += remark.openResponsesCount +\r\n                    remark.pendingResponsesCount +\r\n                    remark.closedResponsesCount;\r\n            });\r\n        }\r\n        if (qigsummary.currentMarkingTarget !== undefined && qigsummary.currentMarkingTarget != null) {\r\n            totalResponsesCount += isNaN(qigsummary.currentMarkingTarget.openResponsesCount) ?\r\n                0 : qigsummary.currentMarkingTarget.openResponsesCount;\r\n            totalResponsesCount += isNaN(qigsummary.currentMarkingTarget.pendingResponsesCount) ?\r\n                0 : qigsummary.currentMarkingTarget.pendingResponsesCount;\r\n            totalResponsesCount += isNaN(qigsummary.currentMarkingTarget.closedResponsesCount) ?\r\n                0 : qigsummary.currentMarkingTarget.closedResponsesCount;\r\n        }\r\n        return totalResponsesCount >= qigsummary.currentMarkingTarget.maximumMarkingLimit;\r\n    };\r\n    /**\r\n     * Method to verify if the concurrent limit is met\r\n     * @param qigsummary\r\n     * @param concurrentLimit\r\n     */\r\n    QigSelectorValidationHelper.prototype.isConcurrentLimitMet = function (qigsummary, liveOpenWorklist) {\r\n        var totalOpenResponsesCount = 0;\r\n        var currentTarget = targetSummaryStore.instance.getCurrentTarget();\r\n        var directedRemarkTargets = this.filterDirectedRemarks(qigsummary);\r\n        //The directed remark targest have to be checked only when the worklist type is live\r\n        if (directedRemarkTargets !== undefined && directedRemarkTargets != null\r\n            && (worklistStore.instance.currentWorklistType === enums.WorklistType.live\r\n                || worklistStore.instance.currentWorklistType === enums.WorklistType.atypical)) {\r\n            directedRemarkTargets.map(function (remark) {\r\n                totalOpenResponsesCount += remark.openResponsesCount;\r\n            });\r\n        }\r\n        var concurrentLimit = 0;\r\n        if (qigStore.instance.isAggregatedQigCCEnabledForCurrentQig) {\r\n            concurrentLimit = currentTarget.aggregatedMaximumConcurrentLimit;\r\n            // calculating aggregated open response count including atypical. \r\n            totalOpenResponsesCount = currentTarget.aggregatedOpenResponsesCount;\r\n        }\r\n        else {\r\n            concurrentLimit = liveOpenWorklist.concurrentLimit;\r\n            totalOpenResponsesCount += liveOpenWorklist && liveOpenWorklist.responses ? liveOpenWorklist.responses.count() : 0;\r\n            if (worklistStore.instance.currentWorklistType === enums.WorklistType.live) {\r\n                totalOpenResponsesCount += isNaN(currentTarget.examinerProgress.atypicalOpenResponsesCount) ?\r\n                    0 : currentTarget.examinerProgress.atypicalOpenResponsesCount;\r\n            }\r\n            else if (worklistStore.instance.currentWorklistType === enums.WorklistType.atypical) {\r\n                totalOpenResponsesCount += isNaN(currentTarget.examinerProgress.openResponsesCount) ?\r\n                    0 : currentTarget.examinerProgress.openResponsesCount;\r\n            }\r\n        }\r\n        return liveOpenWorklist &&\r\n            totalOpenResponsesCount >= concurrentLimit;\r\n    };\r\n    /**\r\n     * Method to find the aggregated QIg validation result.\r\n     * @param qigsummaryCollection\r\n     */\r\n    QigSelectorValidationHelper.prototype.getAggregatedQigValidationResult = function (qigsummaryCollection) {\r\n        this.aggregatedQigValidationResult = new aggregatedQigValidationResult();\r\n        var qigValidationResultObj = new aggregatedQigValidationResult();\r\n        // Sets the visibility properties of different elements in the agregated qig.\r\n        this.setVisibilityPropertiesForAggregatedQig(qigsummaryCollection);\r\n        return this.aggregatedQigValidationResult;\r\n    };\r\n    /**\r\n     * Set the Visibility properties for the aggregatedQig\r\n     * @param qigsummary\r\n     * @param qigValidationResult\r\n     */\r\n    QigSelectorValidationHelper.prototype.setVisibilityPropertiesForAggregatedQig = function (qigsummary) {\r\n        this.aggregatedQigValidationResult.displayTargetDate = false;\r\n        // Display indicator properties.\r\n        this.aggregatedQigValidationResult.displayOpenResponseIndicator = this.displayAggregatedOpenResponseIndicator(qigsummary);\r\n        this.aggregatedQigValidationResult.displayResponseAvailableIndicator =\r\n            this.aggregatedQigValidationResult.displayOpenResponseIndicator ?\r\n                false : this.displayAggregatedResponseAvailabilityIndicator(qigsummary);\r\n        this.aggregatedQigValidationResult.displayRemarkOpenResponseIndicator =\r\n            this.displayAggregatedOpenResponseIndicator(qigsummary, true);\r\n        this.aggregatedQigValidationResult.displayRemarkAvailableResponseIndicator =\r\n            this.aggregatedQigValidationResult.displayRemarkOpenResponseIndicator ?\r\n                false : this.displayAggregatedResponseAvailabilityIndicator(qigsummary, true);\r\n        // Traget properties.\r\n        this.aggregatedQigValidationResult.displayTarget = this.displayAggregatedTarget(qigsummary);\r\n        // For displaying aggregated status text.\r\n        this.aggregatedQigValidationResult.displayAggregatedStatusText = true;\r\n        this.aggregatedQigValidationResult.statusText = localeStore.instance.TranslateText('home.qig-statuses.LiveMarking');\r\n        // Progress bar.\r\n        this.aggregatedQigValidationResult.displayProgressBar = this.aggregatedQigValidationResult.displayTarget;\r\n        // Response counts.\r\n        this.aggregatedQigValidationResult.aggregatedMaxMarkingLimit = this.aggregatedMaximiumMarkingLimit(qigsummary);\r\n        var _a = this.aggregatedResponseCount(qigsummary), openCount = _a[0], pendingCount = _a[1], closedCount = _a[2];\r\n        this.aggregatedQigValidationResult.aggregatedOpenResponsesCount = openCount;\r\n        this.aggregatedQigValidationResult.aggregatedPendingResponsesCount = pendingCount;\r\n        this.aggregatedQigValidationResult.aggregatedClosedResponsesCount = closedCount;\r\n        this.aggregatedQigValidationResult.aggregatedSubmittedResponsesCount = this.aggregatedSubmittedResponseCount(qigsummary);\r\n    };\r\n    /**\r\n     * Whether or not to display the aggregated response availability indicator.\r\n     * @param qigsummary\r\n     * @param isForRemark\r\n     */\r\n    QigSelectorValidationHelper.prototype.displayAggregatedResponseAvailabilityIndicator = function (qigsummary, isForRemark) {\r\n        if (isForRemark === void 0) { isForRemark = false; }\r\n        var displayIndicator = false;\r\n        var qigsCount = qigsummary.count();\r\n        for (var i = 0; i < qigsCount; i++) {\r\n            var qig = qigsummary.get(i);\r\n            if (qig.examinerQigStatus !== enums.ExaminerQIGStatus.LiveMarking\r\n                && qig.examinerQigStatus !== enums.ExaminerQIGStatus.LiveComplete) {\r\n                displayIndicator = false;\r\n            }\r\n            else if (isForRemark && this.hasRemarkResponseInPool(qig)) {\r\n                displayIndicator = true;\r\n                break;\r\n            }\r\n            else if (!isForRemark && qig.examinerQigStatus === enums.ExaminerQIGStatus.LiveComplete) {\r\n                if (this.isIntoOverAllocation(qig) && this.hasAvailableResponsesInPool(qig)) {\r\n                    displayIndicator = true;\r\n                    break;\r\n                }\r\n                else {\r\n                    displayIndicator = false;\r\n                }\r\n            }\r\n            else if (!isForRemark && this.hasAvailableResponsesInPool(qig)) {\r\n                displayIndicator = true;\r\n                break;\r\n            }\r\n        }\r\n        return displayIndicator;\r\n    };\r\n    /**\r\n     * Whether or not to display the aggregated response open indicator.\r\n     * @param qigsummary\r\n     * @param isForRemark\r\n     */\r\n    QigSelectorValidationHelper.prototype.displayAggregatedOpenResponseIndicator = function (qigsummary, isForRemark) {\r\n        if (isForRemark === void 0) { isForRemark = false; }\r\n        var displayIndicator = false;\r\n        var qigsCount = qigsummary.count();\r\n        for (var i = 0; i < qigsCount; i++) {\r\n            var qig = qigsummary.get(i);\r\n            if (qig.examinerQigStatus !== enums.ExaminerQIGStatus.LiveMarking\r\n                && qig.examinerQigStatus !== enums.ExaminerQIGStatus.LiveComplete) {\r\n                displayIndicator = false;\r\n            }\r\n            else if (isForRemark && this.hasRemarkOpenResponse(qig)) {\r\n                displayIndicator = true;\r\n                break;\r\n            }\r\n            else if (!isForRemark && qig.examinerQigStatus === enums.ExaminerQIGStatus.LiveComplete) {\r\n                if (qig.currentMarkingTarget.openResponsesCount > 0) {\r\n                    displayIndicator = true;\r\n                    break;\r\n                }\r\n                else {\r\n                    displayIndicator = false;\r\n                }\r\n            }\r\n            else if (!isForRemark && this.getTotalOpenResponsesCount(qig) > 0) {\r\n                displayIndicator = true;\r\n                break;\r\n            }\r\n        }\r\n        return displayIndicator;\r\n    };\r\n    /**\r\n     * Whether or not to display the aggregated target.\r\n     * @param qigsummary\r\n     */\r\n    QigSelectorValidationHelper.prototype.displayAggregatedTarget = function (qigsummary) {\r\n        var displayTarget = false;\r\n        var qigsCount = qigsummary.count();\r\n        for (var i = 0; i < qigsCount; i++) {\r\n            var qig = qigsummary.get(i);\r\n            if (this.isInLiveMarkingMode(qig.examinerQigStatus)) {\r\n                displayTarget = true;\r\n                break;\r\n            }\r\n        }\r\n        return displayTarget;\r\n    };\r\n    /**\r\n     * Returns the aggregated maximum marking limit.\r\n     * @param qigsummary\r\n     */\r\n    QigSelectorValidationHelper.prototype.aggregatedMaximiumMarkingLimit = function (qigsummary) {\r\n        var aggregatedOpenCount = 0;\r\n        qigsummary.map(function (qig) {\r\n            aggregatedOpenCount += qig.currentMarkingTarget.maximumMarkingLimit;\r\n        });\r\n        return aggregatedOpenCount;\r\n    };\r\n    /**\r\n     * Finds the submitted responses count for a qig, including directed remarks.\r\n     * @param directedRemarkTargets\r\n     * @param currentMarkingTarget\r\n     */\r\n    QigSelectorValidationHelper.prototype.findSubmittedResponsesCount = function (directedRemarkTargets, currentMarkingTarget) {\r\n        var totalClosedResponsesCount = 0;\r\n        var remarkClosedResponsesCount = 0;\r\n        var remarkPendingResponsesCount = 0;\r\n        if (directedRemarkTargets != null && directedRemarkTargets !== undefined) {\r\n            directedRemarkTargets.map(function (remark) {\r\n                remarkClosedResponsesCount += remark.closedResponsesCount;\r\n                remarkPendingResponsesCount += remark.pendingResponsesCount;\r\n            });\r\n        }\r\n        totalClosedResponsesCount += remarkClosedResponsesCount + remarkPendingResponsesCount;\r\n        if (currentMarkingTarget !== undefined && currentMarkingTarget != null) {\r\n            totalClosedResponsesCount += currentMarkingTarget.closedResponsesCount\r\n                + (isNaN(currentMarkingTarget.pendingResponsesCount) ? 0 : currentMarkingTarget.pendingResponsesCount)\r\n                + (isNaN(currentMarkingTarget.pendingAtypicalResponsesCount) ? 0 : currentMarkingTarget.pendingAtypicalResponsesCount)\r\n                + (isNaN(currentMarkingTarget.closedAtypicalResponsesCount) ? 0 : currentMarkingTarget.closedAtypicalResponsesCount);\r\n        }\r\n        return totalClosedResponsesCount;\r\n    };\r\n    /**\r\n     * Returns the aggregated submitted responses count.\r\n     * @param qigsummary\r\n     */\r\n    QigSelectorValidationHelper.prototype.aggregatedSubmittedResponseCount = function (qigsummary) {\r\n        var _this = this;\r\n        var aggregatedSubmittedCount = 0;\r\n        var directedRemarkTargets;\r\n        qigsummary.map(function (qig) {\r\n            directedRemarkTargets = [];\r\n            if (qig.markingTargets !== undefined && qig.markingTargets !== null) {\r\n                qig.markingTargets.map(function (target) {\r\n                    if (target.isDirectedRemark === true) {\r\n                        directedRemarkTargets.push(target);\r\n                    }\r\n                });\r\n            }\r\n            if (_this.isInLiveMarkingMode(qig.examinerQigStatus)) {\r\n                aggregatedSubmittedCount += _this.findSubmittedResponsesCount(Immutable.List(directedRemarkTargets), qig.currentMarkingTarget);\r\n            }\r\n        });\r\n        return aggregatedSubmittedCount;\r\n    };\r\n    /**\r\n     * Finds the response count in open-pending-closed worklist.\r\n     * @param directedRemarkTargets\r\n     * @param currentMarkingTarget\r\n     */\r\n    QigSelectorValidationHelper.prototype.findResponseCountInWorklist = function (directedRemarkTargets, currentMarkingTarget) {\r\n        var openCount = 0;\r\n        var pendingCount = 0;\r\n        var closedCount = 0;\r\n        if (directedRemarkTargets != null && directedRemarkTargets !== undefined) {\r\n            directedRemarkTargets.map(function (remark) {\r\n                openCount += remark.openResponsesCount;\r\n                pendingCount += remark.pendingResponsesCount;\r\n                closedCount += remark.closedResponsesCount;\r\n            });\r\n        }\r\n        if (currentMarkingTarget !== undefined && currentMarkingTarget != null) {\r\n            openCount += isNaN(currentMarkingTarget.openResponsesCount) ? 0 : currentMarkingTarget.openResponsesCount\r\n                + (isNaN(currentMarkingTarget.openAtypicalResponsesCount) ? 0 : currentMarkingTarget.openAtypicalResponsesCount);\r\n            pendingCount += isNaN(currentMarkingTarget.pendingResponsesCount) ? 0 : currentMarkingTarget.pendingResponsesCount\r\n                + (isNaN(currentMarkingTarget.pendingAtypicalResponsesCount) ? 0 : currentMarkingTarget.pendingAtypicalResponsesCount);\r\n            closedCount += isNaN(currentMarkingTarget.closedResponsesCount) ? 0 : currentMarkingTarget.closedResponsesCount\r\n                + (isNaN(currentMarkingTarget.closedAtypicalResponsesCount) ? 0 : currentMarkingTarget.closedAtypicalResponsesCount);\r\n        }\r\n        return [openCount, pendingCount, closedCount];\r\n    };\r\n    /**\r\n     * Returns the aggregated response count in each qig's open, pending and closed worklist.\r\n     * @param qigsummary\r\n     */\r\n    QigSelectorValidationHelper.prototype.aggregatedResponseCount = function (qigsummary) {\r\n        var _this = this;\r\n        var directedRemarkTargets;\r\n        var openCount = 0;\r\n        var pendingCount = 0;\r\n        var closedCount = 0;\r\n        qigsummary.map(function (qig) {\r\n            directedRemarkTargets = [];\r\n            if (qig.markingTargets !== undefined && qig.markingTargets !== null) {\r\n                qig.markingTargets.map(function (target) {\r\n                    if (target.isDirectedRemark === true) {\r\n                        directedRemarkTargets.push(target);\r\n                    }\r\n                });\r\n            }\r\n            if (_this.isInLiveMarkingMode(qig.examinerQigStatus)) {\r\n                var responseCounts = _this.findResponseCountInWorklist(Immutable.List(directedRemarkTargets), qig.currentMarkingTarget);\r\n                openCount += responseCounts[0];\r\n                pendingCount += responseCounts[1];\r\n                closedCount += responseCounts[2];\r\n            }\r\n        });\r\n        return [openCount, pendingCount, closedCount];\r\n    };\r\n    /**\r\n     * Populates validation result for qig.\r\n     * @param qig\r\n     * @param qigValidationResultObj\r\n     * @param hasAggregatedTargets\r\n     */\r\n    QigSelectorValidationHelper.prototype.populateValidationResultForQig = function (qig, qigValidationResultObj) {\r\n        // Set examinerQig Status as 'NoLiveTarget'\r\n        // 1. If no Targets specified\r\n        // 2. If User is having non live targets and all those targets completed.\r\n        // 3. User having live target but limit is 0\r\n        if (qig.isForAdminRemark) {\r\n            if (qig.examinerQigStatus !== enums.ExaminerQIGStatus.Suspended) {\r\n                qig.examinerQigStatus = enums.ExaminerQIGStatus.AdminRemark;\r\n            }\r\n        }\r\n        else if (qig.markingTargets == null ||\r\n            (this.hasNonLiveTargetCompleted(qig) && !this.hasLiveMarkingTargetExists(qig)) ||\r\n            (qig.currentMarkingTarget.markingMode === enums.MarkingMode.LiveMarking\r\n                && qig.currentMarkingTarget.maximumMarkingLimit === 0)\r\n                && qig.examinerQigStatus !== enums.ExaminerQIGStatus.WaitingStandardisation) {\r\n            qig.examinerQigStatus = enums.ExaminerQIGStatus.NoLiveTarget;\r\n        }\r\n        qigValidationResultObj.statusColourClass = this.getStatusClassBasedOnExaminerQIGStatus(qig);\r\n        this.setVisibilityPropertiesBasedOnExaminerQIGStatus(qig, qigValidationResultObj);\r\n        qigValidationResultObj.statusText = this.getStatusText(qig);\r\n        // Added examinerQigStatus if it is in simulation mode.\r\n        if (qig.examinerQigStatus === enums.ExaminerQIGStatus.Simulation) {\r\n            qigValidationResultObj.isSimulationMode = true;\r\n        }\r\n        // Added to set visibility of status text in marking target component\r\n        // Status text is not needed if Qualification set up button is visble\r\n        if (qig.examinerQigStatus === enums.ExaminerQIGStatus.WaitingStandardisation) {\r\n            qigValidationResultObj.isInStandardisationMode = true;\r\n        }\r\n        // Setting the open responses count when there is an over allocation\r\n        qigValidationResultObj.openResponsesCount =\r\n            this.isIntoOverAllocation(qig) ?\r\n                this.getTotalOpenResponsesCount(qig) : 0;\r\n    };\r\n    /**\r\n     * Checks if the marker is in live marking mode.\r\n     * @param examinerStatus\r\n     */\r\n    QigSelectorValidationHelper.prototype.isInLiveMarkingMode = function (examinerStatus) {\r\n        return examinerStatus === enums.ExaminerQIGStatus.Suspended\r\n            || examinerStatus === enums.ExaminerQIGStatus.LiveMarking\r\n            || examinerStatus === enums.ExaminerQIGStatus.LiveComplete;\r\n    };\r\n    /**\r\n     * Logic moved to QIG Store\r\n     */\r\n    QigSelectorValidationHelper.isQigHasBrowseScriptPermissionOnly = function (selectedQIG) {\r\n        return qigStore.instance.isQigHasBrowseScriptPermissionOnly(selectedQIG);\r\n    };\r\n    return QigSelectorValidationHelper;\r\n}());\r\nmodule.exports = QigSelectorValidationHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9xaWdzZWxlY3Rvci9xaWdzZWxlY3RvcnZhbGlkYXRpb25oZWxwZXIudHM/Y2VkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcWlnU3VtbWFyeSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci90eXBpbmdzL3FpZ3N1bW1hcnknKTtcclxuaW1wb3J0IG1hcmtpbmdUYXJnZXQgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvdHlwaW5ncy9tYXJraW5ndGFyZ2V0Jyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uL2VudW1zJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCB0YXJnZXRTdW1tYXJ5U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvd29ya2xpc3QvdGFyZ2V0c3VtbWFyeXN0b3JlJyk7XHJcbmltcG9ydCBxaWdWYWxpZGF0aW9uUmVzdWx0ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3ZhbGlkYXRpb25yZXN1bHQnKTtcclxuaW1wb3J0IGFnZ3JlZ2F0ZWRRaWdWYWxpZGF0aW9uUmVzdWx0ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL2FnZ3JlZ2F0ZWRxaWd2YWxpZGF0aW9ucmVzdWx0Jyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIGZvciB0aGUgVmFsaWRhdGlvbnMgaW4gdGhlIFFJRyBTZWxlY3RvclxyXG4gKi9cclxuY2xhc3MgUWlnU2VsZWN0b3JWYWxpZGF0aW9uSGVscGVyIHtcclxuXHJcbiAgICBwcml2YXRlIHFpZ1ZhbGlkYXRpb25SZXN1bHQ6IHFpZ1ZhbGlkYXRpb25SZXN1bHRbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBhZ2dyZWdhdGVkUWlnVmFsaWRhdGlvblJlc3VsdDogYWdncmVnYXRlZFFpZ1ZhbGlkYXRpb25SZXN1bHQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gZmluZCB0aGUgdmFsaWRhdGlvbiByZXN1bHRzIGJ5IHBhc3NpbmcgdGhlIFFJRyBsaXN0XHJcbiAgICAgKiBAcGFyYW0gcWlnc3VtbWFyeUNvbGxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFZhbGlkYXRpb25SZXN1bHRzKHFpZ3N1bW1hcnlDb2xsZWN0aW9uOiBJbW11dGFibGUuTGlzdDxxaWdTdW1tYXJ5Pikge1xyXG5cclxuICAgICAgICAvLyBjbGVhcmluZyBleGlzdGluZyByZXN1bHQgYmVmb3JlIGZpbGxpbmcgdG8gZW51c3JlIHdoaWxlIG9wZW5lZCBhbmQgdHJhbmxhdGUgbGFuZ3VhZ2VcclxuICAgICAgICAvLyBzaG91bGQgZmlsbCBuZXcgcmVzdWx0cyBhdCB0aGUgdG9wLlxyXG4gICAgICAgIHRoaXMucWlnVmFsaWRhdGlvblJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICAvLyBMb29wIHRocm91Z2ggZWFjaCBRSUcgYW5kIGZpbmQgdGhlIHByb3BlcnRpZXMgZm9yIHRoZSBRSUcgc2VsZWN0b3JcclxuICAgICAgICBxaWdzdW1tYXJ5Q29sbGVjdGlvbi5tYXAoKHFpZ3N1bW1hcnk6IHFpZ1N1bW1hcnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBxaWdWYWxpZGF0aW9uUmVzdWx0T2JqID0gbmV3IHFpZ1ZhbGlkYXRpb25SZXN1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5wb3B1bGF0ZVZhbGlkYXRpb25SZXN1bHRGb3JRaWcocWlnc3VtbWFyeSwgcWlnVmFsaWRhdGlvblJlc3VsdE9iaik7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdGhlIHZhbGlkYXRpb24gUmVzdWx0IG9iamVjdCB0byB0aGUgY29sbGVjdGlvblxyXG4gICAgICAgICAgICB0aGlzLnFpZ1ZhbGlkYXRpb25SZXN1bHQucHVzaChxaWdWYWxpZGF0aW9uUmVzdWx0T2JqKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMucWlnVmFsaWRhdGlvblJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgVmlzaWJpbGl0eSBwcm9wZXJ0aWVzIGZvciBVSSBDb21wb25lbnRzXHJcbiAgICAgKiBAcGFyYW0gcWlnc3VtbWFyeVxyXG4gICAgICogQHBhcmFtIHFpZ1ZhbGlkYXRpb25SZXN1bHRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXRWaXNpYmlsaXR5UHJvcGVydGllc0Jhc2VkT25FeGFtaW5lclFJR1N0YXR1cyhxaWdzdW1tYXJ5OiBxaWdTdW1tYXJ5LCBxaWdWYWxpZGF0aW9uUmVzdWx0OiBxaWdWYWxpZGF0aW9uUmVzdWx0KSB7XHJcbiAgICAgICAgc3dpdGNoIChxaWdzdW1tYXJ5LmV4YW1pbmVyUWlnU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuUHJhY3RpY2U6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuU3RhbmRhcmRpc2F0aW9uTWFya2luZzpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5TVE1TdGFuZGFyZGlzYXRpb25NYXJraW5nOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLlNlY29uZFN0YW5kYXJkaXNhdGlvbk1hcmtpbmc6XHJcbiAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlUYXJnZXREYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLlF1YWxpdHlGZWVkYmFjazpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5TdXNwZW5kZWQ6XHJcbiAgICAgICAgICAgICAgICBpZiAocWlnc3VtbWFyeS5pc0ZvckFkbWluUmVtYXJrICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5VGFyZ2V0RGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5UHJvZ3Jlc3NCYXIgPSBxaWdzdW1tYXJ5Lmdyb3VwSWQgPD0gMDtcclxuICAgICAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlUYXJnZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuTGl2ZU1hcmtpbmc6XHJcbiAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlUYXJnZXREYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHFpZ1ZhbGlkYXRpb25SZXN1bHQuZGlzcGxheVByb2dyZXNzQmFyID0gcWlnc3VtbWFyeS5ncm91cElkIDw9IDA7XHJcbiAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlUYXJnZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0VG90YWxPcGVuUmVzcG9uc2VzQ291bnQocWlnc3VtbWFyeSkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5T3BlblJlc3BvbnNlSW5kaWNhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXNBdmFpbGFibGVSZXNwb25zZXNJblBvb2wocWlnc3VtbWFyeSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlSZXNwb25zZUF2YWlsYWJsZUluZGljYXRvciA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzUmVtYXJrT3BlblJlc3BvbnNlKHFpZ3N1bW1hcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5UmVtYXJrT3BlblJlc3BvbnNlSW5kaWNhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlSZW1hcmtBdmFpbGFibGVSZXNwb25zZUluZGljYXRvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc1JlbWFya1Jlc3BvbnNlSW5Qb29sKHFpZ3N1bW1hcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5UmVtYXJrQXZhaWxhYmxlUmVzcG9uc2VJbmRpY2F0b3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1ZhbGlkYXRpb25SZXN1bHQuZGlzcGxheVJlbWFya09wZW5SZXNwb25zZUluZGljYXRvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuTGl2ZUNvbXBsZXRlOlxyXG4gICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5VGFyZ2V0RGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlQcm9ncmVzc0JhciA9IHFpZ3N1bW1hcnkuZ3JvdXBJZCA8PSAwO1xyXG4gICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5VGFyZ2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChxaWdzdW1tYXJ5LmN1cnJlbnRNYXJraW5nVGFyZ2V0Lm9wZW5SZXNwb25zZXNDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlPcGVuUmVzcG9uc2VJbmRpY2F0b3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzSW50b092ZXJBbGxvY2F0aW9uKHFpZ3N1bW1hcnkpICYmIHRoaXMuaGFzQXZhaWxhYmxlUmVzcG9uc2VzSW5Qb29sKHFpZ3N1bW1hcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5UmVzcG9uc2VBdmFpbGFibGVJbmRpY2F0b3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzUmVtYXJrT3BlblJlc3BvbnNlKHFpZ3N1bW1hcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5UmVtYXJrT3BlblJlc3BvbnNlSW5kaWNhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlSZW1hcmtBdmFpbGFibGVSZXNwb25zZUluZGljYXRvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc1JlbWFya1Jlc3BvbnNlSW5Qb29sKHFpZ3N1bW1hcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5UmVtYXJrQXZhaWxhYmxlUmVzcG9uc2VJbmRpY2F0b3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1ZhbGlkYXRpb25SZXN1bHQuZGlzcGxheVJlbWFya09wZW5SZXNwb25zZUluZGljYXRvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuQWRtaW5SZW1hcms6XHJcbiAgICAgICAgICAgICAgICBpZiAocWlnc3VtbWFyeS5jdXJyZW50TWFya2luZ1RhcmdldC5vcGVuUmVzcG9uc2VzQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5T3BlblJlc3BvbnNlSW5kaWNhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlSZXNwb25zZUF2YWlsYWJsZUluZGljYXRvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc0F2YWlsYWJsZVJlc3BvbnNlc0luUG9vbChxaWdzdW1tYXJ5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1ZhbGlkYXRpb25SZXN1bHQuZGlzcGxheVJlc3BvbnNlQXZhaWxhYmxlSW5kaWNhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlPcGVuUmVzcG9uc2VJbmRpY2F0b3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLlNpbXVsYXRpb246XHJcbiAgICAgICAgICAgICAgICBpZiAocWlnc3VtbWFyeS5jdXJyZW50TWFya2luZ1RhcmdldC5vcGVuUmVzcG9uc2VzQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5T3BlblJlc3BvbnNlSW5kaWNhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlSZXNwb25zZUF2YWlsYWJsZUluZGljYXRvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc0F2YWlsYWJsZVJlc3BvbnNlc0luUG9vbChxaWdzdW1tYXJ5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1ZhbGlkYXRpb25SZXN1bHQuZGlzcGxheVJlc3BvbnNlQXZhaWxhYmxlSW5kaWNhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBxaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlPcGVuUmVzcG9uc2VJbmRpY2F0b3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgU3RhdHVzIGNvbG9yIGNsYXNzIGZvciB0aGUgdGV4dCBpbiBVSS5cclxuICAgICAqIEBwYXJhbSBxaWdzdW1tYXJ5XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0U3RhdHVzQ2xhc3NCYXNlZE9uRXhhbWluZXJRSUdTdGF0dXMocWlnc3VtbWFyeTogcWlnU3VtbWFyeSk6IHN0cmluZyB7XHJcbiAgICAgICAgc3dpdGNoIChxaWdzdW1tYXJ5LmV4YW1pbmVyUWlnU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuUXVhbGl0eUZlZWRiYWNrOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd3YXJuaW5nJzsgLy9BbWJlclxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLldhaXRpbmdTdGFuZGFyZGlzYXRpb246XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuQXdhaXRpbmdBcHByb3ZhbDpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5TdXNwZW5kZWQ6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuTm9MaXZlVGFyZ2V0OlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLkF3YWl0aW5nU2NyaXB0czpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnZXJyb3InOyAvLyBSZWRcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJzsgLy8gQmxhY2tcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUbyBjaGVjayB0aGUgcmVtYXJrIG9wZW4gcmVzcG9uc2VcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBhbnkgcmVtYXJrIGlzIGF2YWlsYWJsZSBpbiB0aGUgYW55IHJlbWFyayBvcGVuIHdvcmtsaXN0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaGFzUmVtYXJrT3BlblJlc3BvbnNlKHFpZ3N1bW1hcnk6IHFpZ1N1bW1hcnkpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAocWlnc3VtbWFyeS5tYXJraW5nVGFyZ2V0cykge1xyXG4gICAgICAgICAgICByZXR1cm4gcWlnc3VtbWFyeS5tYXJraW5nVGFyZ2V0cy5zb21lKChyZW1hcms6IG1hcmtpbmdUYXJnZXQpID0+XHJcbiAgICAgICAgICAgICAgICByZW1hcmsubWFya2luZ01vZGUgPT09IGVudW1zLk1hcmtpbmdNb2RlLlJlbWFya2luZ1xyXG4gICAgICAgICAgICAgICAgJiYgcmVtYXJrLm9wZW5SZXNwb25zZXNDb3VudCA+IDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVG8gY2hlY2sgdGhlIHJlbWFyayBwb29sIHN0YXR1c1xyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGFueSByZW1hcmsgaXMgYXZhaWxhYmxlIGluIHRoZSBhbnkgcmVtYXJrIHBvb2xcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBoYXNSZW1hcmtSZXNwb25zZUluUG9vbChxaWdzdW1tYXJ5OiBxaWdTdW1tYXJ5KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHFpZ3N1bW1hcnkubWFya2luZ1RhcmdldHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHFpZ3N1bW1hcnkubWFya2luZ1RhcmdldHMuc29tZSgocmVtYXJrOiBtYXJraW5nVGFyZ2V0KSA9PlxyXG4gICAgICAgICAgICAgICAgcmVtYXJrLm1hcmtpbmdNb2RlID09PSBlbnVtcy5NYXJraW5nTW9kZS5SZW1hcmtpbmdcclxuICAgICAgICAgICAgICAgICYmICFyZW1hcmsuaXNEaXJlY3RlZFJlbWFya1xyXG4gICAgICAgICAgICAgICAgJiYgcmVtYXJrLmFyZVJlc3BvbnNlc0F2YWlsYWJsZVRvQmVEb3dubG9hZGVkXHJcbiAgICAgICAgICAgICAgICAmJiByZW1hcmsubWF4aW11bU1hcmtpbmdMaW1pdCA+IHJlbWFyay5jbG9zZWRSZXNwb25zZXNDb3VudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICogQXZhaWxhYmxlUmVzcG9uc2VFeGlzdHMgbG9naWMgKlxyXG4gICAgICogSWYgbGl2ZSBtYXJraW5nIHRhcmdldCBpcyBoYXZpbmcgcmVzcG9uc2VzIGluIHRoZSBwb29sXHJcbiAgICAgKiBAcGFyYW0gcWlnc3VtbWFyeVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGhhc0F2YWlsYWJsZVJlc3BvbnNlc0luUG9vbChxaWdzdW1tYXJ5OiBxaWdTdW1tYXJ5KSB7XHJcbiAgICAgICAgaWYgKHFpZ3N1bW1hcnkubWFya2luZ1RhcmdldHMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAocWlnc3VtbWFyeS5pc0ZvckFkbWluUmVtYXJrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocWlnc3VtbWFyeS5jdXJyZW50TWFya2luZ1RhcmdldC5hcmVSZXNwb25zZXNBdmFpbGFibGVUb0JlRG93bmxvYWRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggaW4gcWlnc3VtbWFyeS5tYXJraW5nVGFyZ2V0cykge1xyXG4gICAgICAgICAgICBpZiAocWlnc3VtbWFyeS5tYXJraW5nVGFyZ2V0c1tpbmRleF0uYXJlUmVzcG9uc2VzQXZhaWxhYmxlVG9CZURvd25sb2FkZWRcclxuICAgICAgICAgICAgICAgICYmIHFpZ3N1bW1hcnkubWFya2luZ1RhcmdldHNbaW5kZXhdLm1hcmtpbmdNb2RlID09PSBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocWlnc3VtbWFyeS5tYXJraW5nVGFyZ2V0c1tpbmRleF0uYXJlUmVzcG9uc2VzQXZhaWxhYmxlVG9CZURvd25sb2FkZWRcclxuICAgICAgICAgICAgICAgICYmIHFpZ3N1bW1hcnkubWFya2luZ1RhcmdldHNbaW5kZXhdLm1hcmtpbmdNb2RlID09PSBlbnVtcy5NYXJraW5nTW9kZS5SZW1hcmtpbmdcclxuICAgICAgICAgICAgICAgICYmIHFpZ3N1bW1hcnkuaXNGb3JBZG1pblJlbWFyaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocWlnc3VtbWFyeS5tYXJraW5nVGFyZ2V0c1tpbmRleF0uYXJlUmVzcG9uc2VzQXZhaWxhYmxlVG9CZURvd25sb2FkZWRcclxuICAgICAgICAgICAgICAgICYmIHFpZ3N1bW1hcnkubWFya2luZ1RhcmdldHNbaW5kZXhdLm1hcmtpbmdNb2RlID09PSBlbnVtcy5NYXJraW5nTW9kZS5TaW11bGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgdGhlIHVzZXIgaGF2aW5nIGFjY2VzcyB0byBsaXZlIHRhcmdldFxyXG4gICAgICogQHBhcmFtIHFpZ3N1bW1hcnlcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBoYXNMaXZlTWFya2luZ1RhcmdldEV4aXN0cyhxaWdzdW1tYXJ5OiBxaWdTdW1tYXJ5KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggaW4gcWlnc3VtbWFyeS5tYXJraW5nVGFyZ2V0cykge1xyXG4gICAgICAgICAgICBpZiAocWlnc3VtbWFyeS5tYXJraW5nVGFyZ2V0c1tpbmRleF0ubWFya2luZ01vZGUgPT09IGVudW1zLk1hcmtpbmdNb2RlLkxpdmVNYXJraW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgdGhlIHVzZXIgaGFzIGNvbXBsZXRlZCB0aGUgbm9uIGxpbmUgdGFyZ2V0cy5cclxuICAgICAqIEBwYXJhbSBxaWdzdW1tYXJ5XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaGFzTm9uTGl2ZVRhcmdldENvbXBsZXRlZChxaWdzdW1tYXJ5OiBxaWdTdW1tYXJ5KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggaW4gcWlnc3VtbWFyeS5tYXJraW5nVGFyZ2V0cykge1xyXG4gICAgICAgICAgICBpZiAocWlnc3VtbWFyeS5tYXJraW5nVGFyZ2V0cy5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBxaWdzdW1tYXJ5Lm1hcmtpbmdUYXJnZXRzW2luZGV4XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lm1hcmtpbmdNb2RlID09PSBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5tYXJraW5nTW9kZSA9PT0gZW51bXMuTWFya2luZ01vZGUuU2ltdWxhdGlvbiB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5tYXJraW5nTW9kZSA9PT0gZW51bXMuTWFya2luZ01vZGUuUmVtYXJraW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5tYXhpbXVtTWFya2luZ0xpbWl0ID4gdGFyZ2V0LmNsb3NlZFJlc3BvbnNlc0NvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGFtaW5lciBRSUcgU3RhdHVzIFRleHQgdG8gZGlzcGxheSBpbiBRSUcgc2VsZWN0b3JcclxuICAgICAqIEBwYXJhbSBxaWdzdW1tYXJ5XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0U3RhdHVzVGV4dChxaWdzdW1tYXJ5OiBxaWdTdW1tYXJ5KTogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgbGV0IGlzSW50b092ZXJBbGxvY2F0aW9uOiBib29sZWFuID0gdGhpcy5pc0ludG9PdmVyQWxsb2NhdGlvbihxaWdzdW1tYXJ5KTtcclxuICAgICAgICBsZXQgcWlnU3RhdHVzS2V5OiBzdHJpbmcgPSAnaG9tZS5xaWctc3RhdHVzZXMuJyArXHJcbiAgICAgICAgICAgIGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzW3FpZ3N1bW1hcnkuZXhhbWluZXJRaWdTdGF0dXNdO1xyXG5cclxuICAgICAgICBpZiAoaXNJbnRvT3ZlckFsbG9jYXRpb24pIHtcclxuICAgICAgICAgICAgcWlnU3RhdHVzS2V5ID0gJ2hvbWUucWlnLXN0YXR1c2VzLkxpdmVUYXJnZXRPdmVyQWxsb2NhdGlvbic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChxaWdTdGF0dXNLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hlY2tzIGlmIG1hcmtpbmcgdGFyZ2V0cyBjb250YWlucyBhbnkgZGlyZWN0ZWQgcmVtYXJrc1xyXG4gICAgICogQHBhcmFtIHtxaWdTdW1tYXJ5fSBxaWdzdW1tYXJ5XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGZpbHRlckRpcmVjdGVkUmVtYXJrcyhxaWdzdW1tYXJ5OiBxaWdTdW1tYXJ5KSB7XHJcblxyXG4gICAgICAgIGxldCBkaXJlY3RlZFJlbWFya1RhcmdldHMgPSBbXTtcclxuICAgICAgICBpZiAocWlnc3VtbWFyeS5tYXJraW5nVGFyZ2V0cyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHFpZ3N1bW1hcnkubWFya2luZ1RhcmdldHMubWFwKChyZW1hcms6IG1hcmtpbmdUYXJnZXQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZW1hcmsuaXNEaXJlY3RlZFJlbWFyayA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGVkUmVtYXJrVGFyZ2V0cy5wdXNoKHJlbWFyayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlyZWN0ZWRSZW1hcmtUYXJnZXRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmluZyB0aGUgdG90YWwgb3BlbiByZXNwb25zZXMgY291bnRcclxuICAgICAqIEBwYXJhbSBxaWdzdW1tYXJ5XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0VG90YWxPcGVuUmVzcG9uc2VzQ291bnQocWlnc3VtbWFyeTogcWlnU3VtbWFyeSkge1xyXG5cclxuICAgICAgICBpZiAoIXFpZ3N1bW1hcnkuY3VycmVudE1hcmtpbmdUYXJnZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdG90YWxPcGVuUmVzcG9uc2VzQ291bnQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgbGV0IGRpcmVjdGVkUmVtYXJrVGFyZ2V0cyA9IHRoaXMuZmlsdGVyRGlyZWN0ZWRSZW1hcmtzKHFpZ3N1bW1hcnkpO1xyXG5cclxuICAgICAgICBpZiAoZGlyZWN0ZWRSZW1hcmtUYXJnZXRzICE9PSB1bmRlZmluZWQgJiYgZGlyZWN0ZWRSZW1hcmtUYXJnZXRzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgZGlyZWN0ZWRSZW1hcmtUYXJnZXRzLm1hcCgocmVtYXJrOiBtYXJraW5nVGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbE9wZW5SZXNwb25zZXNDb3VudCArPSByZW1hcmsub3BlblJlc3BvbnNlc0NvdW50O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChxaWdzdW1tYXJ5LmN1cnJlbnRNYXJraW5nVGFyZ2V0ICE9PSB1bmRlZmluZWQgJiYgcWlnc3VtbWFyeS5jdXJyZW50TWFya2luZ1RhcmdldCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRvdGFsT3BlblJlc3BvbnNlc0NvdW50ICs9IGlzTmFOKHFpZ3N1bW1hcnkuY3VycmVudE1hcmtpbmdUYXJnZXQub3BlblJlc3BvbnNlc0NvdW50KSA/XHJcbiAgICAgICAgICAgICAgICAwIDogcWlnc3VtbWFyeS5jdXJyZW50TWFya2luZ1RhcmdldC5vcGVuUmVzcG9uc2VzQ291bnQ7XHJcbiAgICAgICAgICAgIHRvdGFsT3BlblJlc3BvbnNlc0NvdW50ICs9IGlzTmFOKHFpZ3N1bW1hcnkuY3VycmVudE1hcmtpbmdUYXJnZXQub3BlbkF0eXBpY2FsUmVzcG9uc2VzQ291bnQpID9cclxuICAgICAgICAgICAgICAgIDAgOiBxaWdzdW1tYXJ5LmN1cnJlbnRNYXJraW5nVGFyZ2V0Lm9wZW5BdHlwaWNhbFJlc3BvbnNlc0NvdW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRvdGFsT3BlblJlc3BvbnNlc0NvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIHZlcmlmeSBpZiB0aGUgUUlHIGlzIGludG8gdGhlIG92ZXIgYWxsb2NhdGlvbiBtb2RlXHJcbiAgICAgKiBBIG1hcmtlciB3b3VsZCBtb3ZlIHRvIHRoZSBvdmVyIGFsbG9jYXRpb24gbW9kZSBvbmx5IGlmXHJcbiAgICAgKiB0aGUgbWFya2VyIGhhcyBhbiBvdmVyIGFsbG9jYXRpb24gbWVudGlvbmVkIGluIHRoZSB0YXJnZXRcclxuICAgICAqIGFuZCB0aGUgdG90YWwgc3VibWl0dGVkIHJlc3BvbnNlcyBjb3VudCBoYXMgY3Jvc3NlZCB0aGUgYWN0dWFsXHJcbiAgICAgKiBtYXJraW5nIHRhcmdldFxyXG4gICAgICogQHBhcmFtIHtxaWdTdW1tYXJ5fSBxaWdzdW1tYXJ5XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzSW50b092ZXJBbGxvY2F0aW9uKHFpZ3N1bW1hcnk6IHFpZ1N1bW1hcnkpOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgaWYgKCFxaWdzdW1tYXJ5LmN1cnJlbnRNYXJraW5nVGFyZ2V0IHx8IHFpZ3N1bW1hcnkuY3VycmVudE1hcmtpbmdUYXJnZXQub3ZlckFsbG9jYXRpb25Db3VudCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB0b3RhbFJlc3BvbnNlc0NvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBkaXJlY3RlZFJlbWFya1RhcmdldHMgPSB0aGlzLmZpbHRlckRpcmVjdGVkUmVtYXJrcyhxaWdzdW1tYXJ5KTtcclxuXHJcbiAgICAgICAgaWYgKGRpcmVjdGVkUmVtYXJrVGFyZ2V0cyAhPT0gdW5kZWZpbmVkICYmIGRpcmVjdGVkUmVtYXJrVGFyZ2V0cyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGVkUmVtYXJrVGFyZ2V0cy5tYXAoKHJlbWFyazogbWFya2luZ1RhcmdldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdG90YWxSZXNwb25zZXNDb3VudCArPSByZW1hcmsub3BlblJlc3BvbnNlc0NvdW50ICtcclxuICAgICAgICAgICAgICAgICAgICByZW1hcmsucGVuZGluZ1Jlc3BvbnNlc0NvdW50ICtcclxuICAgICAgICAgICAgICAgICAgICByZW1hcmsuY2xvc2VkUmVzcG9uc2VzQ291bnQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHFpZ3N1bW1hcnkuY3VycmVudE1hcmtpbmdUYXJnZXQgIT09IHVuZGVmaW5lZCAmJiBxaWdzdW1tYXJ5LmN1cnJlbnRNYXJraW5nVGFyZ2V0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdG90YWxSZXNwb25zZXNDb3VudCArPSBpc05hTihxaWdzdW1tYXJ5LmN1cnJlbnRNYXJraW5nVGFyZ2V0Lm9wZW5SZXNwb25zZXNDb3VudCkgP1xyXG4gICAgICAgICAgICAgICAgMCA6IHFpZ3N1bW1hcnkuY3VycmVudE1hcmtpbmdUYXJnZXQub3BlblJlc3BvbnNlc0NvdW50O1xyXG4gICAgICAgICAgICB0b3RhbFJlc3BvbnNlc0NvdW50ICs9IGlzTmFOKHFpZ3N1bW1hcnkuY3VycmVudE1hcmtpbmdUYXJnZXQucGVuZGluZ1Jlc3BvbnNlc0NvdW50KSA/XHJcbiAgICAgICAgICAgICAgICAwIDogcWlnc3VtbWFyeS5jdXJyZW50TWFya2luZ1RhcmdldC5wZW5kaW5nUmVzcG9uc2VzQ291bnQ7XHJcbiAgICAgICAgICAgIHRvdGFsUmVzcG9uc2VzQ291bnQgKz0gaXNOYU4ocWlnc3VtbWFyeS5jdXJyZW50TWFya2luZ1RhcmdldC5jbG9zZWRSZXNwb25zZXNDb3VudCkgP1xyXG4gICAgICAgICAgICAgICAgMCA6IHFpZ3N1bW1hcnkuY3VycmVudE1hcmtpbmdUYXJnZXQuY2xvc2VkUmVzcG9uc2VzQ291bnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdG90YWxSZXNwb25zZXNDb3VudCA+PSBxaWdzdW1tYXJ5LmN1cnJlbnRNYXJraW5nVGFyZ2V0Lm1heGltdW1NYXJraW5nTGltaXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gdmVyaWZ5IGlmIHRoZSBjb25jdXJyZW50IGxpbWl0IGlzIG1ldFxyXG4gICAgICogQHBhcmFtIHFpZ3N1bW1hcnlcclxuICAgICAqIEBwYXJhbSBjb25jdXJyZW50TGltaXRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzQ29uY3VycmVudExpbWl0TWV0KHFpZ3N1bW1hcnk6IHFpZ1N1bW1hcnksIGxpdmVPcGVuV29ya2xpc3Q6IExpdmVPcGVuV29ya2xpc3QpOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgbGV0IHRvdGFsT3BlblJlc3BvbnNlc0NvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBjdXJyZW50VGFyZ2V0ID0gdGFyZ2V0U3VtbWFyeVN0b3JlLmluc3RhbmNlLmdldEN1cnJlbnRUYXJnZXQoKTtcclxuXHJcbiAgICAgICAgbGV0IGRpcmVjdGVkUmVtYXJrVGFyZ2V0cyA9IHRoaXMuZmlsdGVyRGlyZWN0ZWRSZW1hcmtzKHFpZ3N1bW1hcnkpO1xyXG4gICAgICAgIC8vVGhlIGRpcmVjdGVkIHJlbWFyayB0YXJnZXN0IGhhdmUgdG8gYmUgY2hlY2tlZCBvbmx5IHdoZW4gdGhlIHdvcmtsaXN0IHR5cGUgaXMgbGl2ZVxyXG4gICAgICAgIGlmIChkaXJlY3RlZFJlbWFya1RhcmdldHMgIT09IHVuZGVmaW5lZCAmJiBkaXJlY3RlZFJlbWFya1RhcmdldHMgIT0gbnVsbFxyXG4gICAgICAgICAgICAmJiAod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZVxyXG4gICAgICAgICAgICAgICAgfHwgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuYXR5cGljYWwpKSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGVkUmVtYXJrVGFyZ2V0cy5tYXAoKHJlbWFyazogbWFya2luZ1RhcmdldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdG90YWxPcGVuUmVzcG9uc2VzQ291bnQgKz0gcmVtYXJrLm9wZW5SZXNwb25zZXNDb3VudDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY29uY3VycmVudExpbWl0OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5pc0FnZ3JlZ2F0ZWRRaWdDQ0VuYWJsZWRGb3JDdXJyZW50UWlnKSB7XHJcbiAgICAgICAgICAgIGNvbmN1cnJlbnRMaW1pdCA9IGN1cnJlbnRUYXJnZXQuYWdncmVnYXRlZE1heGltdW1Db25jdXJyZW50TGltaXQ7XHJcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0aW5nIGFnZ3JlZ2F0ZWQgb3BlbiByZXNwb25zZSBjb3VudCBpbmNsdWRpbmcgYXR5cGljYWwuIFxyXG4gICAgICAgICAgICB0b3RhbE9wZW5SZXNwb25zZXNDb3VudCA9IGN1cnJlbnRUYXJnZXQuYWdncmVnYXRlZE9wZW5SZXNwb25zZXNDb3VudDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25jdXJyZW50TGltaXQgPSBsaXZlT3BlbldvcmtsaXN0LmNvbmN1cnJlbnRMaW1pdDtcclxuICAgICAgICAgICAgdG90YWxPcGVuUmVzcG9uc2VzQ291bnQgKz0gbGl2ZU9wZW5Xb3JrbGlzdCAmJiBsaXZlT3BlbldvcmtsaXN0LnJlc3BvbnNlcyA/IGxpdmVPcGVuV29ya2xpc3QucmVzcG9uc2VzLmNvdW50KCkgOiAwO1xyXG4gICAgICAgICAgICBpZiAod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgdG90YWxPcGVuUmVzcG9uc2VzQ291bnQgKz0gaXNOYU4oY3VycmVudFRhcmdldC5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsT3BlblJlc3BvbnNlc0NvdW50KSA/XHJcbiAgICAgICAgICAgICAgICAgICAgMCA6IGN1cnJlbnRUYXJnZXQuZXhhbWluZXJQcm9ncmVzcy5hdHlwaWNhbE9wZW5SZXNwb25zZXNDb3VudDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5hdHlwaWNhbCkge1xyXG4gICAgICAgICAgICAgICAgdG90YWxPcGVuUmVzcG9uc2VzQ291bnQgKz0gaXNOYU4oY3VycmVudFRhcmdldC5leGFtaW5lclByb2dyZXNzLm9wZW5SZXNwb25zZXNDb3VudCkgP1xyXG4gICAgICAgICAgICAgICAgICAgIDAgOiBjdXJyZW50VGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3Mub3BlblJlc3BvbnNlc0NvdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsaXZlT3BlbldvcmtsaXN0ICYmXHJcbiAgICAgICAgICAgIHRvdGFsT3BlblJlc3BvbnNlc0NvdW50ID49IGNvbmN1cnJlbnRMaW1pdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBmaW5kIHRoZSBhZ2dyZWdhdGVkIFFJZyB2YWxpZGF0aW9uIHJlc3VsdC5cclxuICAgICAqIEBwYXJhbSBxaWdzdW1tYXJ5Q29sbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0QWdncmVnYXRlZFFpZ1ZhbGlkYXRpb25SZXN1bHQocWlnc3VtbWFyeUNvbGxlY3Rpb246IEltbXV0YWJsZS5MaXN0PHFpZ1N1bW1hcnk+KSB7XHJcbiAgICAgICAgdGhpcy5hZ2dyZWdhdGVkUWlnVmFsaWRhdGlvblJlc3VsdCA9IG5ldyBhZ2dyZWdhdGVkUWlnVmFsaWRhdGlvblJlc3VsdCgpO1xyXG4gICAgICAgIGxldCBxaWdWYWxpZGF0aW9uUmVzdWx0T2JqID0gbmV3IGFnZ3JlZ2F0ZWRRaWdWYWxpZGF0aW9uUmVzdWx0KCk7XHJcbiAgICAgICAgLy8gU2V0cyB0aGUgdmlzaWJpbGl0eSBwcm9wZXJ0aWVzIG9mIGRpZmZlcmVudCBlbGVtZW50cyBpbiB0aGUgYWdyZWdhdGVkIHFpZy5cclxuICAgICAgICB0aGlzLnNldFZpc2liaWxpdHlQcm9wZXJ0aWVzRm9yQWdncmVnYXRlZFFpZyhxaWdzdW1tYXJ5Q29sbGVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdncmVnYXRlZFFpZ1ZhbGlkYXRpb25SZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIFZpc2liaWxpdHkgcHJvcGVydGllcyBmb3IgdGhlIGFnZ3JlZ2F0ZWRRaWdcclxuICAgICAqIEBwYXJhbSBxaWdzdW1tYXJ5XHJcbiAgICAgKiBAcGFyYW0gcWlnVmFsaWRhdGlvblJlc3VsdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldFZpc2liaWxpdHlQcm9wZXJ0aWVzRm9yQWdncmVnYXRlZFFpZyhxaWdzdW1tYXJ5OiBJbW11dGFibGUuTGlzdDxxaWdTdW1tYXJ5Pikge1xyXG4gICAgICAgIHRoaXMuYWdncmVnYXRlZFFpZ1ZhbGlkYXRpb25SZXN1bHQuZGlzcGxheVRhcmdldERhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gRGlzcGxheSBpbmRpY2F0b3IgcHJvcGVydGllcy5cclxuICAgICAgICB0aGlzLmFnZ3JlZ2F0ZWRRaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlPcGVuUmVzcG9uc2VJbmRpY2F0b3IgPSB0aGlzLmRpc3BsYXlBZ2dyZWdhdGVkT3BlblJlc3BvbnNlSW5kaWNhdG9yKHFpZ3N1bW1hcnkpO1xyXG4gICAgICAgIHRoaXMuYWdncmVnYXRlZFFpZ1ZhbGlkYXRpb25SZXN1bHQuZGlzcGxheVJlc3BvbnNlQXZhaWxhYmxlSW5kaWNhdG9yID1cclxuICAgICAgICAgICAgdGhpcy5hZ2dyZWdhdGVkUWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5T3BlblJlc3BvbnNlSW5kaWNhdG9yID9cclxuICAgICAgICAgICAgICAgIGZhbHNlIDogdGhpcy5kaXNwbGF5QWdncmVnYXRlZFJlc3BvbnNlQXZhaWxhYmlsaXR5SW5kaWNhdG9yKHFpZ3N1bW1hcnkpO1xyXG4gICAgICAgIHRoaXMuYWdncmVnYXRlZFFpZ1ZhbGlkYXRpb25SZXN1bHQuZGlzcGxheVJlbWFya09wZW5SZXNwb25zZUluZGljYXRvciA9XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUFnZ3JlZ2F0ZWRPcGVuUmVzcG9uc2VJbmRpY2F0b3IocWlnc3VtbWFyeSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5hZ2dyZWdhdGVkUWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5UmVtYXJrQXZhaWxhYmxlUmVzcG9uc2VJbmRpY2F0b3IgPVxyXG4gICAgICAgICAgICB0aGlzLmFnZ3JlZ2F0ZWRRaWdWYWxpZGF0aW9uUmVzdWx0LmRpc3BsYXlSZW1hcmtPcGVuUmVzcG9uc2VJbmRpY2F0b3IgP1xyXG4gICAgICAgICAgICAgICAgZmFsc2UgOiB0aGlzLmRpc3BsYXlBZ2dyZWdhdGVkUmVzcG9uc2VBdmFpbGFiaWxpdHlJbmRpY2F0b3IocWlnc3VtbWFyeSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIFRyYWdldCBwcm9wZXJ0aWVzLlxyXG4gICAgICAgIHRoaXMuYWdncmVnYXRlZFFpZ1ZhbGlkYXRpb25SZXN1bHQuZGlzcGxheVRhcmdldCA9IHRoaXMuZGlzcGxheUFnZ3JlZ2F0ZWRUYXJnZXQocWlnc3VtbWFyeSk7XHJcblxyXG4gICAgICAgIC8vIEZvciBkaXNwbGF5aW5nIGFnZ3JlZ2F0ZWQgc3RhdHVzIHRleHQuXHJcbiAgICAgICAgdGhpcy5hZ2dyZWdhdGVkUWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5QWdncmVnYXRlZFN0YXR1c1RleHQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWdncmVnYXRlZFFpZ1ZhbGlkYXRpb25SZXN1bHQuc3RhdHVzVGV4dCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2hvbWUucWlnLXN0YXR1c2VzLkxpdmVNYXJraW5nJyk7XHJcbiAgICAgICAgLy8gUHJvZ3Jlc3MgYmFyLlxyXG4gICAgICAgIHRoaXMuYWdncmVnYXRlZFFpZ1ZhbGlkYXRpb25SZXN1bHQuZGlzcGxheVByb2dyZXNzQmFyID0gdGhpcy5hZ2dyZWdhdGVkUWlnVmFsaWRhdGlvblJlc3VsdC5kaXNwbGF5VGFyZ2V0O1xyXG5cclxuICAgICAgICAvLyBSZXNwb25zZSBjb3VudHMuXHJcbiAgICAgICAgdGhpcy5hZ2dyZWdhdGVkUWlnVmFsaWRhdGlvblJlc3VsdC5hZ2dyZWdhdGVkTWF4TWFya2luZ0xpbWl0ID0gdGhpcy5hZ2dyZWdhdGVkTWF4aW1pdW1NYXJraW5nTGltaXQocWlnc3VtbWFyeSk7XHJcbiAgICAgICAgbGV0IFtvcGVuQ291bnQsIHBlbmRpbmdDb3VudCwgY2xvc2VkQ291bnRdID0gdGhpcy5hZ2dyZWdhdGVkUmVzcG9uc2VDb3VudChxaWdzdW1tYXJ5KTtcclxuICAgICAgICB0aGlzLmFnZ3JlZ2F0ZWRRaWdWYWxpZGF0aW9uUmVzdWx0LmFnZ3JlZ2F0ZWRPcGVuUmVzcG9uc2VzQ291bnQgPSBvcGVuQ291bnQ7XHJcbiAgICAgICAgdGhpcy5hZ2dyZWdhdGVkUWlnVmFsaWRhdGlvblJlc3VsdC5hZ2dyZWdhdGVkUGVuZGluZ1Jlc3BvbnNlc0NvdW50ID0gcGVuZGluZ0NvdW50O1xyXG4gICAgICAgIHRoaXMuYWdncmVnYXRlZFFpZ1ZhbGlkYXRpb25SZXN1bHQuYWdncmVnYXRlZENsb3NlZFJlc3BvbnNlc0NvdW50ID0gY2xvc2VkQ291bnQ7XHJcbiAgICAgICAgdGhpcy5hZ2dyZWdhdGVkUWlnVmFsaWRhdGlvblJlc3VsdC5hZ2dyZWdhdGVkU3VibWl0dGVkUmVzcG9uc2VzQ291bnQgPSB0aGlzLmFnZ3JlZ2F0ZWRTdWJtaXR0ZWRSZXNwb25zZUNvdW50KHFpZ3N1bW1hcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciBvciBub3QgdG8gZGlzcGxheSB0aGUgYWdncmVnYXRlZCByZXNwb25zZSBhdmFpbGFiaWxpdHkgaW5kaWNhdG9yLlxyXG4gICAgICogQHBhcmFtIHFpZ3N1bW1hcnlcclxuICAgICAqIEBwYXJhbSBpc0ZvclJlbWFya1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGRpc3BsYXlBZ2dyZWdhdGVkUmVzcG9uc2VBdmFpbGFiaWxpdHlJbmRpY2F0b3IocWlnc3VtbWFyeTogSW1tdXRhYmxlLkxpc3Q8cWlnU3VtbWFyeT4sIGlzRm9yUmVtYXJrOiBib29sZWFuID0gZmFsc2UpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgZGlzcGxheUluZGljYXRvcjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBxaWdzQ291bnQ6IG51bWJlciA9IHFpZ3N1bW1hcnkuY291bnQoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHFpZ3NDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBxaWcgPSBxaWdzdW1tYXJ5LmdldChpKTtcclxuICAgICAgICAgICAgaWYgKHFpZy5leGFtaW5lclFpZ1N0YXR1cyAhPT0gZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuTGl2ZU1hcmtpbmdcclxuICAgICAgICAgICAgICAgICYmIHFpZy5leGFtaW5lclFpZ1N0YXR1cyAhPT0gZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuTGl2ZUNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5SW5kaWNhdG9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNGb3JSZW1hcmsgJiYgdGhpcy5oYXNSZW1hcmtSZXNwb25zZUluUG9vbChxaWcpKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5SW5kaWNhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0ZvclJlbWFyayAmJiBxaWcuZXhhbWluZXJRaWdTdGF0dXMgPT09IGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLkxpdmVDb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNJbnRvT3ZlckFsbG9jYXRpb24ocWlnKSAmJiB0aGlzLmhhc0F2YWlsYWJsZVJlc3BvbnNlc0luUG9vbChxaWcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUluZGljYXRvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlJbmRpY2F0b3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNGb3JSZW1hcmsgJiYgdGhpcy5oYXNBdmFpbGFibGVSZXNwb25zZXNJblBvb2wocWlnKSkge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheUluZGljYXRvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlzcGxheUluZGljYXRvcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGRpc3BsYXkgdGhlIGFnZ3JlZ2F0ZWQgcmVzcG9uc2Ugb3BlbiBpbmRpY2F0b3IuXHJcbiAgICAgKiBAcGFyYW0gcWlnc3VtbWFyeVxyXG4gICAgICogQHBhcmFtIGlzRm9yUmVtYXJrXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZGlzcGxheUFnZ3JlZ2F0ZWRPcGVuUmVzcG9uc2VJbmRpY2F0b3IocWlnc3VtbWFyeTogSW1tdXRhYmxlLkxpc3Q8cWlnU3VtbWFyeT4sIGlzRm9yUmVtYXJrOiBib29sZWFuID0gZmFsc2UpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgZGlzcGxheUluZGljYXRvcjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBxaWdzQ291bnQ6IG51bWJlciA9IHFpZ3N1bW1hcnkuY291bnQoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHFpZ3NDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBxaWcgPSBxaWdzdW1tYXJ5LmdldChpKTtcclxuICAgICAgICAgICAgaWYgKHFpZy5leGFtaW5lclFpZ1N0YXR1cyAhPT0gZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuTGl2ZU1hcmtpbmdcclxuICAgICAgICAgICAgICAgICYmIHFpZy5leGFtaW5lclFpZ1N0YXR1cyAhPT0gZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuTGl2ZUNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5SW5kaWNhdG9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNGb3JSZW1hcmsgJiYgdGhpcy5oYXNSZW1hcmtPcGVuUmVzcG9uc2UocWlnKSkge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheUluZGljYXRvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNGb3JSZW1hcmsgJiYgcWlnLmV4YW1pbmVyUWlnU3RhdHVzID09PSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5MaXZlQ29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChxaWcuY3VycmVudE1hcmtpbmdUYXJnZXQub3BlblJlc3BvbnNlc0NvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlJbmRpY2F0b3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5SW5kaWNhdG9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzRm9yUmVtYXJrICYmIHRoaXMuZ2V0VG90YWxPcGVuUmVzcG9uc2VzQ291bnQocWlnKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlJbmRpY2F0b3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRpc3BsYXlJbmRpY2F0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBkaXNwbGF5IHRoZSBhZ2dyZWdhdGVkIHRhcmdldC5cclxuICAgICAqIEBwYXJhbSBxaWdzdW1tYXJ5XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZGlzcGxheUFnZ3JlZ2F0ZWRUYXJnZXQocWlnc3VtbWFyeTogSW1tdXRhYmxlLkxpc3Q8cWlnU3VtbWFyeT4pOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgZGlzcGxheVRhcmdldDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBxaWdzQ291bnQ6IG51bWJlciA9IHFpZ3N1bW1hcnkuY291bnQoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHFpZ3NDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBxaWcgPSBxaWdzdW1tYXJ5LmdldChpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbkxpdmVNYXJraW5nTW9kZShxaWcuZXhhbWluZXJRaWdTdGF0dXMpKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5VGFyZ2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkaXNwbGF5VGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgYWdncmVnYXRlZCBtYXhpbXVtIG1hcmtpbmcgbGltaXQuXHJcbiAgICAgKiBAcGFyYW0gcWlnc3VtbWFyeVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFnZ3JlZ2F0ZWRNYXhpbWl1bU1hcmtpbmdMaW1pdChxaWdzdW1tYXJ5OiBJbW11dGFibGUuTGlzdDxxaWdTdW1tYXJ5Pik6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGFnZ3JlZ2F0ZWRPcGVuQ291bnQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgcWlnc3VtbWFyeS5tYXAoKHFpZzogcWlnU3VtbWFyeSkgPT4ge1xyXG4gICAgICAgICAgICBhZ2dyZWdhdGVkT3BlbkNvdW50ICs9IHFpZy5jdXJyZW50TWFya2luZ1RhcmdldC5tYXhpbXVtTWFya2luZ0xpbWl0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhZ2dyZWdhdGVkT3BlbkNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmluZHMgdGhlIHN1Ym1pdHRlZCByZXNwb25zZXMgY291bnQgZm9yIGEgcWlnLCBpbmNsdWRpbmcgZGlyZWN0ZWQgcmVtYXJrcy5cclxuICAgICAqIEBwYXJhbSBkaXJlY3RlZFJlbWFya1RhcmdldHNcclxuICAgICAqIEBwYXJhbSBjdXJyZW50TWFya2luZ1RhcmdldCBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGZpbmRTdWJtaXR0ZWRSZXNwb25zZXNDb3VudChkaXJlY3RlZFJlbWFya1RhcmdldHM6IEltbXV0YWJsZS5MaXN0PG1hcmtpbmdUYXJnZXQ+LCBjdXJyZW50TWFya2luZ1RhcmdldDogbWFya2luZ1RhcmdldCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHRvdGFsQ2xvc2VkUmVzcG9uc2VzQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCByZW1hcmtDbG9zZWRSZXNwb25zZXNDb3VudCA9IDA7XHJcbiAgICAgICAgbGV0IHJlbWFya1BlbmRpbmdSZXNwb25zZXNDb3VudCA9IDA7XHJcbiAgICAgICAgaWYgKGRpcmVjdGVkUmVtYXJrVGFyZ2V0cyAhPSBudWxsICYmIGRpcmVjdGVkUmVtYXJrVGFyZ2V0cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGVkUmVtYXJrVGFyZ2V0cy5tYXAoKHJlbWFyazogbWFya2luZ1RhcmdldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVtYXJrQ2xvc2VkUmVzcG9uc2VzQ291bnQgKz0gcmVtYXJrLmNsb3NlZFJlc3BvbnNlc0NvdW50O1xyXG4gICAgICAgICAgICAgICAgcmVtYXJrUGVuZGluZ1Jlc3BvbnNlc0NvdW50ICs9IHJlbWFyay5wZW5kaW5nUmVzcG9uc2VzQ291bnQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0b3RhbENsb3NlZFJlc3BvbnNlc0NvdW50ICs9IHJlbWFya0Nsb3NlZFJlc3BvbnNlc0NvdW50ICsgcmVtYXJrUGVuZGluZ1Jlc3BvbnNlc0NvdW50O1xyXG5cclxuICAgICAgICBpZiAoY3VycmVudE1hcmtpbmdUYXJnZXQgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50TWFya2luZ1RhcmdldCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRvdGFsQ2xvc2VkUmVzcG9uc2VzQ291bnQgKz0gY3VycmVudE1hcmtpbmdUYXJnZXQuY2xvc2VkUmVzcG9uc2VzQ291bnRcclxuICAgICAgICAgICAgICAgICsgKGlzTmFOKGN1cnJlbnRNYXJraW5nVGFyZ2V0LnBlbmRpbmdSZXNwb25zZXNDb3VudCkgPyAwIDogY3VycmVudE1hcmtpbmdUYXJnZXQucGVuZGluZ1Jlc3BvbnNlc0NvdW50KVxyXG4gICAgICAgICAgICAgICAgKyAoaXNOYU4oY3VycmVudE1hcmtpbmdUYXJnZXQucGVuZGluZ0F0eXBpY2FsUmVzcG9uc2VzQ291bnQpID8gMCA6IGN1cnJlbnRNYXJraW5nVGFyZ2V0LnBlbmRpbmdBdHlwaWNhbFJlc3BvbnNlc0NvdW50KVxyXG4gICAgICAgICAgICAgICAgKyAoaXNOYU4oY3VycmVudE1hcmtpbmdUYXJnZXQuY2xvc2VkQXR5cGljYWxSZXNwb25zZXNDb3VudCkgPyAwIDogY3VycmVudE1hcmtpbmdUYXJnZXQuY2xvc2VkQXR5cGljYWxSZXNwb25zZXNDb3VudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b3RhbENsb3NlZFJlc3BvbnNlc0NvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgYWdncmVnYXRlZCBzdWJtaXR0ZWQgcmVzcG9uc2VzIGNvdW50LlxyXG4gICAgICogQHBhcmFtIHFpZ3N1bW1hcnlcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhZ2dyZWdhdGVkU3VibWl0dGVkUmVzcG9uc2VDb3VudChxaWdzdW1tYXJ5OiBJbW11dGFibGUuTGlzdDxxaWdTdW1tYXJ5Pik6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGFnZ3JlZ2F0ZWRTdWJtaXR0ZWRDb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgZGlyZWN0ZWRSZW1hcmtUYXJnZXRzOiBtYXJraW5nVGFyZ2V0W107XHJcbiAgICAgICAgcWlnc3VtbWFyeS5tYXAoKHFpZzogcWlnU3VtbWFyeSkgPT4ge1xyXG4gICAgICAgICAgICBkaXJlY3RlZFJlbWFya1RhcmdldHMgPSBbXTtcclxuICAgICAgICAgICAgaWYgKHFpZy5tYXJraW5nVGFyZ2V0cyAhPT0gdW5kZWZpbmVkICYmIHFpZy5tYXJraW5nVGFyZ2V0cyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcWlnLm1hcmtpbmdUYXJnZXRzLm1hcCgodGFyZ2V0OiBtYXJraW5nVGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5pc0RpcmVjdGVkUmVtYXJrID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGVkUmVtYXJrVGFyZ2V0cy5wdXNoKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbkxpdmVNYXJraW5nTW9kZShxaWcuZXhhbWluZXJRaWdTdGF0dXMpKSB7XHJcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkU3VibWl0dGVkQ291bnQgKz0gdGhpcy5maW5kU3VibWl0dGVkUmVzcG9uc2VzQ291bnQoXHJcbiAgICAgICAgICAgICAgICAgICAgSW1tdXRhYmxlLkxpc3Q8bWFya2luZ1RhcmdldD4oZGlyZWN0ZWRSZW1hcmtUYXJnZXRzKSwgcWlnLmN1cnJlbnRNYXJraW5nVGFyZ2V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYWdncmVnYXRlZFN1Ym1pdHRlZENvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmluZHMgdGhlIHJlc3BvbnNlIGNvdW50IGluIG9wZW4tcGVuZGluZy1jbG9zZWQgd29ya2xpc3QuXHJcbiAgICAgKiBAcGFyYW0gZGlyZWN0ZWRSZW1hcmtUYXJnZXRzXHJcbiAgICAgKiBAcGFyYW0gY3VycmVudE1hcmtpbmdUYXJnZXQgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBmaW5kUmVzcG9uc2VDb3VudEluV29ya2xpc3QoZGlyZWN0ZWRSZW1hcmtUYXJnZXRzOiBJbW11dGFibGUuTGlzdDxtYXJraW5nVGFyZ2V0PiwgY3VycmVudE1hcmtpbmdUYXJnZXQ6IG1hcmtpbmdUYXJnZXQpOlxyXG4gICAgICAgIFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSB7XHJcbiAgICAgICAgbGV0IG9wZW5Db3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgcGVuZGluZ0NvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBjbG9zZWRDb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICBpZiAoZGlyZWN0ZWRSZW1hcmtUYXJnZXRzICE9IG51bGwgJiYgZGlyZWN0ZWRSZW1hcmtUYXJnZXRzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZGlyZWN0ZWRSZW1hcmtUYXJnZXRzLm1hcCgocmVtYXJrOiBtYXJraW5nVGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvcGVuQ291bnQgKz0gcmVtYXJrLm9wZW5SZXNwb25zZXNDb3VudDtcclxuICAgICAgICAgICAgICAgIHBlbmRpbmdDb3VudCArPSByZW1hcmsucGVuZGluZ1Jlc3BvbnNlc0NvdW50O1xyXG4gICAgICAgICAgICAgICAgY2xvc2VkQ291bnQgKz0gcmVtYXJrLmNsb3NlZFJlc3BvbnNlc0NvdW50O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGN1cnJlbnRNYXJraW5nVGFyZ2V0ICE9PSB1bmRlZmluZWQgJiYgY3VycmVudE1hcmtpbmdUYXJnZXQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBvcGVuQ291bnQgKz0gaXNOYU4oY3VycmVudE1hcmtpbmdUYXJnZXQub3BlblJlc3BvbnNlc0NvdW50KSA/IDAgOiBjdXJyZW50TWFya2luZ1RhcmdldC5vcGVuUmVzcG9uc2VzQ291bnRcclxuICAgICAgICAgICAgICAgICsgKGlzTmFOKGN1cnJlbnRNYXJraW5nVGFyZ2V0Lm9wZW5BdHlwaWNhbFJlc3BvbnNlc0NvdW50KSA/IDAgOiBjdXJyZW50TWFya2luZ1RhcmdldC5vcGVuQXR5cGljYWxSZXNwb25zZXNDb3VudCk7XHJcblxyXG4gICAgICAgICAgICBwZW5kaW5nQ291bnQgKz0gaXNOYU4oY3VycmVudE1hcmtpbmdUYXJnZXQucGVuZGluZ1Jlc3BvbnNlc0NvdW50KSA/IDAgOiBjdXJyZW50TWFya2luZ1RhcmdldC5wZW5kaW5nUmVzcG9uc2VzQ291bnRcclxuICAgICAgICAgICAgICAgICsgKGlzTmFOKGN1cnJlbnRNYXJraW5nVGFyZ2V0LnBlbmRpbmdBdHlwaWNhbFJlc3BvbnNlc0NvdW50KSA/IDAgOiBjdXJyZW50TWFya2luZ1RhcmdldC5wZW5kaW5nQXR5cGljYWxSZXNwb25zZXNDb3VudCk7XHJcblxyXG4gICAgICAgICAgICBjbG9zZWRDb3VudCArPSBpc05hTihjdXJyZW50TWFya2luZ1RhcmdldC5jbG9zZWRSZXNwb25zZXNDb3VudCkgPyAwIDogY3VycmVudE1hcmtpbmdUYXJnZXQuY2xvc2VkUmVzcG9uc2VzQ291bnRcclxuICAgICAgICAgICAgICAgICsgKGlzTmFOKGN1cnJlbnRNYXJraW5nVGFyZ2V0LmNsb3NlZEF0eXBpY2FsUmVzcG9uc2VzQ291bnQpID8gMCA6IGN1cnJlbnRNYXJraW5nVGFyZ2V0LmNsb3NlZEF0eXBpY2FsUmVzcG9uc2VzQ291bnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW29wZW5Db3VudCwgcGVuZGluZ0NvdW50LCBjbG9zZWRDb3VudF07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBhZ2dyZWdhdGVkIHJlc3BvbnNlIGNvdW50IGluIGVhY2ggcWlnJ3Mgb3BlbiwgcGVuZGluZyBhbmQgY2xvc2VkIHdvcmtsaXN0LlxyXG4gICAgICogQHBhcmFtIHFpZ3N1bW1hcnlcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhZ2dyZWdhdGVkUmVzcG9uc2VDb3VudChxaWdzdW1tYXJ5OiBJbW11dGFibGUuTGlzdDxxaWdTdW1tYXJ5Pik6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSB7XHJcbiAgICAgICAgbGV0IGRpcmVjdGVkUmVtYXJrVGFyZ2V0czogbWFya2luZ1RhcmdldFtdO1xyXG4gICAgICAgIGxldCBvcGVuQ291bnQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgbGV0IHBlbmRpbmdDb3VudDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgY2xvc2VkQ291bnQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgcWlnc3VtbWFyeS5tYXAoKHFpZzogcWlnU3VtbWFyeSkgPT4ge1xyXG4gICAgICAgICAgICBkaXJlY3RlZFJlbWFya1RhcmdldHMgPSBbXTtcclxuICAgICAgICAgICAgaWYgKHFpZy5tYXJraW5nVGFyZ2V0cyAhPT0gdW5kZWZpbmVkICYmIHFpZy5tYXJraW5nVGFyZ2V0cyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcWlnLm1hcmtpbmdUYXJnZXRzLm1hcCgodGFyZ2V0OiBtYXJraW5nVGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5pc0RpcmVjdGVkUmVtYXJrID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGVkUmVtYXJrVGFyZ2V0cy5wdXNoKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbkxpdmVNYXJraW5nTW9kZShxaWcuZXhhbWluZXJRaWdTdGF0dXMpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VDb3VudHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IHRoaXMuZmluZFJlc3BvbnNlQ291bnRJbldvcmtsaXN0KFxyXG4gICAgICAgICAgICAgICAgICAgIEltbXV0YWJsZS5MaXN0PG1hcmtpbmdUYXJnZXQ+KGRpcmVjdGVkUmVtYXJrVGFyZ2V0cyksIHFpZy5jdXJyZW50TWFya2luZ1RhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBvcGVuQ291bnQgKz0gcmVzcG9uc2VDb3VudHNbMF07XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nQ291bnQgKz0gcmVzcG9uc2VDb3VudHNbMV07XHJcbiAgICAgICAgICAgICAgICBjbG9zZWRDb3VudCArPSByZXNwb25zZUNvdW50c1syXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBbb3BlbkNvdW50LCBwZW5kaW5nQ291bnQsIGNsb3NlZENvdW50XTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBvcHVsYXRlcyB2YWxpZGF0aW9uIHJlc3VsdCBmb3IgcWlnLlxyXG4gICAgICogQHBhcmFtIHFpZyBcclxuICAgICAqIEBwYXJhbSBxaWdWYWxpZGF0aW9uUmVzdWx0T2JqIFxyXG4gICAgICogQHBhcmFtIGhhc0FnZ3JlZ2F0ZWRUYXJnZXRzIFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHBvcHVsYXRlVmFsaWRhdGlvblJlc3VsdEZvclFpZyhxaWc6IHFpZ1N1bW1hcnksIHFpZ1ZhbGlkYXRpb25SZXN1bHRPYmo6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIC8vIFNldCBleGFtaW5lclFpZyBTdGF0dXMgYXMgJ05vTGl2ZVRhcmdldCdcclxuICAgICAgICAvLyAxLiBJZiBubyBUYXJnZXRzIHNwZWNpZmllZFxyXG4gICAgICAgIC8vIDIuIElmIFVzZXIgaXMgaGF2aW5nIG5vbiBsaXZlIHRhcmdldHMgYW5kIGFsbCB0aG9zZSB0YXJnZXRzIGNvbXBsZXRlZC5cclxuICAgICAgICAvLyAzLiBVc2VyIGhhdmluZyBsaXZlIHRhcmdldCBidXQgbGltaXQgaXMgMFxyXG4gICAgICAgIGlmIChxaWcuaXNGb3JBZG1pblJlbWFyaykge1xyXG4gICAgICAgICAgICBpZiAocWlnLmV4YW1pbmVyUWlnU3RhdHVzICE9PSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5TdXNwZW5kZWQpIHtcclxuICAgICAgICAgICAgICAgIHFpZy5leGFtaW5lclFpZ1N0YXR1cyA9IGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLkFkbWluUmVtYXJrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAocWlnLm1hcmtpbmdUYXJnZXRzID09IG51bGwgfHxcclxuICAgICAgICAgICAgKHRoaXMuaGFzTm9uTGl2ZVRhcmdldENvbXBsZXRlZChxaWcpICYmICF0aGlzLmhhc0xpdmVNYXJraW5nVGFyZ2V0RXhpc3RzKHFpZykpIHx8XHJcbiAgICAgICAgICAgIChxaWcuY3VycmVudE1hcmtpbmdUYXJnZXQubWFya2luZ01vZGUgPT09IGVudW1zLk1hcmtpbmdNb2RlLkxpdmVNYXJraW5nXHJcbiAgICAgICAgICAgICAgICAmJiBxaWcuY3VycmVudE1hcmtpbmdUYXJnZXQubWF4aW11bU1hcmtpbmdMaW1pdCA9PT0gMClcclxuICAgICAgICAgICAgICAgJiYgcWlnLmV4YW1pbmVyUWlnU3RhdHVzICE9PSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5XYWl0aW5nU3RhbmRhcmRpc2F0aW9uKSB7XHJcbiAgICAgICAgICAgIHFpZy5leGFtaW5lclFpZ1N0YXR1cyA9IGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLk5vTGl2ZVRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdE9iai5zdGF0dXNDb2xvdXJDbGFzcyA9IHRoaXMuZ2V0U3RhdHVzQ2xhc3NCYXNlZE9uRXhhbWluZXJRSUdTdGF0dXMocWlnKTtcclxuICAgICAgICB0aGlzLnNldFZpc2liaWxpdHlQcm9wZXJ0aWVzQmFzZWRPbkV4YW1pbmVyUUlHU3RhdHVzKHFpZywgcWlnVmFsaWRhdGlvblJlc3VsdE9iaik7XHJcbiAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdE9iai5zdGF0dXNUZXh0ID0gdGhpcy5nZXRTdGF0dXNUZXh0KHFpZyk7XHJcbiAgICAgICAgLy8gQWRkZWQgZXhhbWluZXJRaWdTdGF0dXMgaWYgaXQgaXMgaW4gc2ltdWxhdGlvbiBtb2RlLlxyXG4gICAgICAgIGlmIChxaWcuZXhhbWluZXJRaWdTdGF0dXMgPT09IGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLlNpbXVsYXRpb24pIHtcclxuICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdE9iai5pc1NpbXVsYXRpb25Nb2RlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZGVkIHRvIHNldCB2aXNpYmlsaXR5IG9mIHN0YXR1cyB0ZXh0IGluIG1hcmtpbmcgdGFyZ2V0IGNvbXBvbmVudFxyXG4gICAgICAgIC8vIFN0YXR1cyB0ZXh0IGlzIG5vdCBuZWVkZWQgaWYgUXVhbGlmaWNhdGlvbiBzZXQgdXAgYnV0dG9uIGlzIHZpc2JsZVxyXG4gICAgICAgIGlmIChxaWcuZXhhbWluZXJRaWdTdGF0dXMgPT09IGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLldhaXRpbmdTdGFuZGFyZGlzYXRpb24pIHtcclxuICAgICAgICAgICAgcWlnVmFsaWRhdGlvblJlc3VsdE9iai5pc0luU3RhbmRhcmRpc2F0aW9uTW9kZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXR0aW5nIHRoZSBvcGVuIHJlc3BvbnNlcyBjb3VudCB3aGVuIHRoZXJlIGlzIGFuIG92ZXIgYWxsb2NhdGlvblxyXG4gICAgICAgIHFpZ1ZhbGlkYXRpb25SZXN1bHRPYmoub3BlblJlc3BvbnNlc0NvdW50ID1cclxuICAgICAgICAgICAgdGhpcy5pc0ludG9PdmVyQWxsb2NhdGlvbihxaWcpID9cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0VG90YWxPcGVuUmVzcG9uc2VzQ291bnQocWlnKSA6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlIG1hcmtlciBpcyBpbiBsaXZlIG1hcmtpbmcgbW9kZS5cclxuICAgICAqIEBwYXJhbSBleGFtaW5lclN0YXR1c1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzSW5MaXZlTWFya2luZ01vZGUoZXhhbWluZXJTdGF0dXM6IGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGV4YW1pbmVyU3RhdHVzID09PSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5TdXNwZW5kZWRcclxuICAgICAgICB8fCBleGFtaW5lclN0YXR1cyA9PT0gZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuTGl2ZU1hcmtpbmdcclxuICAgICAgICB8fCBleGFtaW5lclN0YXR1cyA9PT0gZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuTGl2ZUNvbXBsZXRlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9naWMgbW92ZWQgdG8gUUlHIFN0b3JlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNRaWdIYXNCcm93c2VTY3JpcHRQZXJtaXNzaW9uT25seShzZWxlY3RlZFFJRyA6IHFpZ1N1bW1hcnkpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHFpZ1N0b3JlLmluc3RhbmNlLmlzUWlnSGFzQnJvd3NlU2NyaXB0UGVybWlzc2lvbk9ubHkoc2VsZWN0ZWRRSUcpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0ID0gUWlnU2VsZWN0b3JWYWxpZGF0aW9uSGVscGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy91dGlsaXR5L3FpZ3NlbGVjdG9yL3FpZ3NlbGVjdG9ydmFsaWRhdGlvbmhlbHBlci50cyJdLCJtYXBwaW5ncyI6IjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQWtxQkE7QUEvcEJBOzs7QUFHQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRUE7QUFFQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUlBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 485:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/stores/qigselector/qigvalidationresultbase.ts ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar QigValidationResultBase = /** @class */ (function () {\r\n    function QigValidationResultBase() {\r\n    }\r\n    return QigValidationResultBase;\r\n}());\r\nmodule.exports = QigValidationResultBase;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWd2YWxpZGF0aW9ucmVzdWx0YmFzZS50cz8wYWUxIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFFpZ1ZhbGlkYXRpb25SZXN1bHRCYXNlIHtcclxuICAgIHB1YmxpYyBkaXNwbGF5UHJvZ3Jlc3NCYXI6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgZGlzcGxheVRhcmdldDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBkaXNwbGF5VGFyZ2V0RGF0ZTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBkaXNwbGF5T3BlblJlc3BvbnNlSW5kaWNhdG9yOiBib29sZWFuO1xyXG4gICAgcHVibGljIGRpc3BsYXlSZXNwb25zZUF2YWlsYWJsZUluZGljYXRvcjogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBzdGF0dXNUZXh0OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgZGlzcGxheVJlbWFya09wZW5SZXNwb25zZUluZGljYXRvcjogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBkaXNwbGF5UmVtYXJrQXZhaWxhYmxlUmVzcG9uc2VJbmRpY2F0b3I6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCA9IFFpZ1ZhbGlkYXRpb25SZXN1bHRCYXNlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3ZhbGlkYXRpb25yZXN1bHRiYXNlLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFBQTtBQVNBO0FBQUE7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 486:
/* no static exports found */
/* all exports used */
/*!***********************************************************************!*\
  !*** ./src/utility/teammanagement/helpers/helpexaminersdatahelper.ts ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar teamManagementStore = __webpack_require__(/*! ../../../stores/teammanagement/teammanagementstore */ 245);\r\nvar enums = __webpack_require__(/*! ../../../components/utility/enums */ 225);\r\n/**\r\n * Helper class for help examiner data\r\n */\r\nvar HelpExaminerDataHelper = /** @class */ (function () {\r\n    function HelpExaminerDataHelper() {\r\n        var _this = this;\r\n        /**\r\n         * Get SEP Actions.\r\n         */\r\n        this.getSEPActions = function (examinerRoleId) {\r\n            if (teamManagementStore && teamManagementStore.instance.examinersForHelpExaminers) {\r\n                _this.sepActions = new Array();\r\n                var examinersForHelpExaminers = teamManagementStore.instance.examinersForHelpExaminers.toArray();\r\n                examinersForHelpExaminers.forEach(function (examiner) {\r\n                    if (examiner.examinerRoleId === examinerRoleId) {\r\n                        var actions = examiner.actions;\r\n                        actions.forEach(function (item) {\r\n                            if (item === enums.SEPAction.ProvideSecondStandardisation\r\n                                || item === enums.SEPAction.Approve\r\n                                || item === enums.SEPAction.Re_approve\r\n                                || item === enums.SEPAction.SendMessage) {\r\n                                _this.sepActions.push(item);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            return _this.sepActions;\r\n        };\r\n    }\r\n    return HelpExaminerDataHelper;\r\n}());\r\nmodule.exports = HelpExaminerDataHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvdGVhbW1hbmFnZW1lbnQvaGVscGVycy9oZWxwZXhhbWluZXJzZGF0YWhlbHBlci50cz83MWNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0ZWFtTWFuYWdlbWVudFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3RlYW1tYW5hZ2VtZW50L3RlYW1tYW5hZ2VtZW50c3RvcmUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XHJcblxyXG4vKipcclxuICogSGVscGVyIGNsYXNzIGZvciBoZWxwIGV4YW1pbmVyIGRhdGFcclxuICovXHJcbmNsYXNzIEhlbHBFeGFtaW5lckRhdGFIZWxwZXIge1xyXG5cclxuICAgIHByaXZhdGUgc2VwQWN0aW9uczogQXJyYXk8bnVtYmVyPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBTRVAgQWN0aW9ucy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFNFUEFjdGlvbnMgPSAoZXhhbWluZXJSb2xlSWQgOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGVhbU1hbmFnZW1lbnRTdG9yZSAmJiB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyc0ZvckhlbHBFeGFtaW5lcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXBBY3Rpb25zID0gbmV3IEFycmF5PG51bWJlcj4oKTtcclxuICAgICAgICAgICAgbGV0IGV4YW1pbmVyc0ZvckhlbHBFeGFtaW5lcnMgPSB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyc0ZvckhlbHBFeGFtaW5lcnMudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBleGFtaW5lcnNGb3JIZWxwRXhhbWluZXJzLmZvckVhY2goKGV4YW1pbmVyOiBFeGFtaW5lckRhdGFGb3JIZWxwRXhhbWluZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChleGFtaW5lci5leGFtaW5lclJvbGVJZCA9PT0gZXhhbWluZXJSb2xlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aW9ucyA9IGV4YW1pbmVyLmFjdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9ucy5mb3JFYWNoKChpdGVtOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gPT09IGVudW1zLlNFUEFjdGlvbi5Qcm92aWRlU2Vjb25kU3RhbmRhcmRpc2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBpdGVtID09PSBlbnVtcy5TRVBBY3Rpb24uQXBwcm92ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgaXRlbSA9PT0gZW51bXMuU0VQQWN0aW9uLlJlX2FwcHJvdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGl0ZW0gPT09IGVudW1zLlNFUEFjdGlvbi5TZW5kTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXBBY3Rpb25zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5zZXBBY3Rpb25zO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBIZWxwRXhhbWluZXJEYXRhSGVscGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS90ZWFtbWFuYWdlbWVudC9oZWxwZXJzL2hlbHBleGFtaW5lcnNkYXRhaGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 496:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/components/worklist/shared/accuracyindicator.tsx ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar AccuracyIndicator = /** @class */ (function (_super) {\r\n    __extends(AccuracyIndicator, _super);\r\n    /**\r\n     * Constructor for Accuracy indicator\r\n     * @param props\r\n     */\r\n    function AccuracyIndicator(props) {\r\n        return _super.call(this, props, null) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    AccuracyIndicator.prototype.render = function () {\r\n        this.getAccuracy(this.props.accuracyIndicator);\r\n        var accuracy = this.props.isTileView ?\r\n            (React.createElement(\"div\", { className: 'tolerance-level small-text', id: this.props.id + '_accuracyIndicator' }, this.accuracyType)) :\r\n            (this.props.isInMarkSchemePanel ?\r\n                (React.createElement(\"div\", { title: this.title, className: 'tolerance-level small-text' }, this.accuracyType)) : (React.createElement(\"div\", { className: 'col wl-tolerance', title: this.title },\r\n                React.createElement(\"div\", { className: 'col-inner' },\r\n                    React.createElement(\"div\", { id: this.props.id + '_accuracyIndicator', className: 'tolerance-level small-text' }, this.accuracyType)))));\r\n        return (accuracy);\r\n    };\r\n    /**\r\n     * Get the Accuracy indicator type\r\n     * @param AccuracyIndicatorType\r\n     */\r\n    AccuracyIndicator.prototype.getAccuracy = function (indicatorType) {\r\n        switch (indicatorType) {\r\n            case enums.AccuracyIndicatorType.Accurate:\r\n            case enums.AccuracyIndicatorType.AccurateNR:\r\n                this.accuracyType = localeStore.instance.TranslateText('generic.accuracy-indicators.accurate');\r\n                this.title = markerOperationModeFactory.operationMode.accurateAccuracyIndicatorTitle;\r\n                break;\r\n            case enums.AccuracyIndicatorType.OutsideTolerance:\r\n            case enums.AccuracyIndicatorType.OutsideToleranceNR:\r\n                this.accuracyType = localeStore.instance.TranslateText('generic.accuracy-indicators.inaccurate');\r\n                this.title = markerOperationModeFactory.operationMode.inaccurateAccuracyIndicatorTitle;\r\n                break;\r\n            case enums.AccuracyIndicatorType.WithinTolerance:\r\n            case enums.AccuracyIndicatorType.WithinToleranceNR:\r\n                this.accuracyType = localeStore.instance.TranslateText('generic.accuracy-indicators.in-tolerance');\r\n                this.title = markerOperationModeFactory.operationMode.intoleranceAccuracyIndicatorTitle;\r\n                break;\r\n            default:\r\n                this.accuracyType = '';\r\n                this.title = '';\r\n                break;\r\n        }\r\n        return this.accuracyType;\r\n    };\r\n    return AccuracyIndicator;\r\n}(PureRenderComponent));\r\nmodule.exports = AccuracyIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2FjY3VyYWN5aW5kaWNhdG9yLnRzeD9jNDFiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgUHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBsb2NhbGVIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2xvY2FsZS9sb2NhbGVoZWxwZXInKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGNvbXBvbmVudC5cclxuICogQHBhcmFtIHtQcm9wc30gcHJvcHNcclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBhY2N1cmFjeUluZGljYXRvcj86IG51bWJlcjtcclxuICAgIGlzVGlsZVZpZXc/OiBib29sZWFuO1xyXG4gICAgaXNJbk1hcmtTY2hlbWVQYW5lbD86IGJvb2xlYW47XHJcbn1cclxuXHJcbmNsYXNzIEFjY3VyYWN5SW5kaWNhdG9yIGV4dGVuZHMgUHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcbiAgICBwcml2YXRlIGFjY3VyYWN5VHlwZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSB0aXRsZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3IgZm9yIEFjY3VyYWN5IGluZGljYXRvclxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgdGhpcy5nZXRBY2N1cmFjeSh0aGlzLnByb3BzLmFjY3VyYWN5SW5kaWNhdG9yKTtcclxuICAgICAgICBsZXQgYWNjdXJhY3k6IEpTWC5FbGVtZW50ID0gdGhpcy5wcm9wcy5pc1RpbGVWaWV3ID9cclxuICAgICAgICAgICAgKDxkaXYgY2xhc3NOYW1lPSd0b2xlcmFuY2UtbGV2ZWwgc21hbGwtdGV4dCcgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX2FjY3VyYWN5SW5kaWNhdG9yJ30+e3RoaXMuYWNjdXJhY3lUeXBlfTwvZGl2PikgOlxyXG4gICAgICAgICAgICAodGhpcy5wcm9wcy5pc0luTWFya1NjaGVtZVBhbmVsID9cclxuICAgICAgICAgICAgICAgICg8ZGl2IHRpdGxlPXt0aGlzLnRpdGxlfSBjbGFzc05hbWU9J3RvbGVyYW5jZS1sZXZlbCBzbWFsbC10ZXh0Jz57dGhpcy5hY2N1cmFjeVR5cGV9PC9kaXY+KSA6IChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wgd2wtdG9sZXJhbmNlJyB0aXRsZT17dGhpcy50aXRsZX0gPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC1pbm5lcic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX2FjY3VyYWN5SW5kaWNhdG9yJ30gY2xhc3NOYW1lPSd0b2xlcmFuY2UtbGV2ZWwgc21hbGwtdGV4dCc+e3RoaXMuYWNjdXJhY3lUeXBlfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj4pKTtcclxuICAgICAgICByZXR1cm4gKGFjY3VyYWN5KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgQWNjdXJhY3kgaW5kaWNhdG9yIHR5cGVcclxuICAgICAqIEBwYXJhbSBBY2N1cmFjeUluZGljYXRvclR5cGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRBY2N1cmFjeShpbmRpY2F0b3JUeXBlOiBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUpOiBhbnkge1xyXG4gICAgICAgIHN3aXRjaCAoaW5kaWNhdG9yVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5BY2N1cmF0ZTpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuQWNjdXJhdGVOUjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWNjdXJhY3lUeXBlID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5hY2N1cmFjeS1pbmRpY2F0b3JzLmFjY3VyYXRlJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlID0gbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5hY2N1cmF0ZUFjY3VyYWN5SW5kaWNhdG9yVGl0bGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuT3V0c2lkZVRvbGVyYW5jZTpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuT3V0c2lkZVRvbGVyYW5jZU5SOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY2N1cmFjeVR5cGUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmFjY3VyYWN5LWluZGljYXRvcnMuaW5hY2N1cmF0ZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aXRsZSA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaW5hY2N1cmF0ZUFjY3VyYWN5SW5kaWNhdG9yVGl0bGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuV2l0aGluVG9sZXJhbmNlOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5XaXRoaW5Ub2xlcmFuY2VOUjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWNjdXJhY3lUeXBlID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5hY2N1cmFjeS1pbmRpY2F0b3JzLmluLXRvbGVyYW5jZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aXRsZSA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaW50b2xlcmFuY2VBY2N1cmFjeUluZGljYXRvclRpdGxlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjY3VyYWN5VHlwZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aXRsZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmFjY3VyYWN5VHlwZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gQWNjdXJhY3lJbmRpY2F0b3I7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvYWNjdXJhY3lpbmRpY2F0b3IudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVlBO0FBQUE7QUFJQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 497:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/stores/qigselector/aggregatedqigvalidationresult.ts ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar qigValidationResultBase = __webpack_require__(/*! ./qigvalidationresultbase */ 485);\r\nvar AggregatedQigValidationResult = /** @class */ (function (_super) {\r\n    __extends(AggregatedQigValidationResult, _super);\r\n    function AggregatedQigValidationResult() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return AggregatedQigValidationResult;\r\n}(qigValidationResultBase));\r\nmodule.exports = AggregatedQigValidationResult;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3Jlcy9xaWdzZWxlY3Rvci9hZ2dyZWdhdGVkcWlndmFsaWRhdGlvbnJlc3VsdC50cz9mNzc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBxaWdWYWxpZGF0aW9uUmVzdWx0QmFzZSA9IHJlcXVpcmUoJy4vcWlndmFsaWRhdGlvbnJlc3VsdGJhc2UnKTtcclxuXHJcbmNsYXNzIEFnZ3JlZ2F0ZWRRaWdWYWxpZGF0aW9uUmVzdWx0IGV4dGVuZHMgcWlnVmFsaWRhdGlvblJlc3VsdEJhc2Uge1xyXG4gICAgcHVibGljIGRpc3BsYXlBZ2dyZWdhdGVkU3RhdHVzVGV4dDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBhZ2dyZWdhdGVkTWF4TWFya2luZ0xpbWl0OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgYWdncmVnYXRlZE9wZW5SZXNwb25zZXNDb3VudDogbnVtYmVyO1xyXG4gICAgcHVibGljIGFnZ3JlZ2F0ZWRQZW5kaW5nUmVzcG9uc2VzQ291bnQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBhZ2dyZWdhdGVkQ2xvc2VkUmVzcG9uc2VzQ291bnQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBhZ2dyZWdhdGVkU3VibWl0dGVkUmVzcG9uc2VzQ291bnQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0ID0gQWdncmVnYXRlZFFpZ1ZhbGlkYXRpb25SZXN1bHQ7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9zdG9yZXMvcWlnc2VsZWN0b3IvYWdncmVnYXRlZHFpZ3ZhbGlkYXRpb25yZXN1bHQudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUFBO0FBQUE7O0FBT0E7QUFBQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 502:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/components/markschemestructure/markchangereason.tsx ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar domManager = __webpack_require__(/*! ../../utility/generic/domhelper */ 294);\r\nvar markingActionCreator = __webpack_require__(/*! ../../actions/marking/markingactioncreator */ 246);\r\nvar keyDownHelper = __webpack_require__(/*! ../../utility/generic/keydownhelper */ 258);\r\nvar markingStore = __webpack_require__(/*! ../../stores/marking/markingstore */ 236);\r\nvar deviceHelper = __webpack_require__(/*! ../../utility/touch/devicehelper */ 316);\r\nvar eventManagerBase = __webpack_require__(/*! ../base/eventmanager/eventmanagerbase */ 320);\r\nvar ReactDom = __webpack_require__(/*! react-dom */ 6);\r\nvar eventTypes = __webpack_require__(/*! ../base/eventmanager/eventtypes */ 306);\r\nvar direction = __webpack_require__(/*! ../base/eventmanager/direction */ 333);\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\n/**\r\n * Mark Change Reason component.\r\n * @param {Props} props\r\n * @returns\r\n */\r\nvar MarkChangeReason = /** @class */ (function (_super) {\r\n    __extends(MarkChangeReason, _super);\r\n    /**\r\n     * Constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function MarkChangeReason(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this._onClick = null;\r\n        /**\r\n         * Render markchangereason text area\r\n         */\r\n        _this.renderMarkChangeReasonTextArea = function () {\r\n            return (_this.props.isResponseEditable ?\r\n                React.createElement(\"textarea\", { name: 'markChangeReasonTextarea', id: 'markChangeReasonTextarea', className: 'eur-edit-input', ref: 'markChangeReasonTextarea', value: _this._markChangeReason ? _this._markChangeReason : '', onChange: _this.handleChange, onClick: _this.onClickOfMarkChangeReason, readOnly: !_this.props.isResponseEditable }) :\r\n                React.createElement(\"div\", { id: 'markChangeReasonTextarea', className: 'eur-edit-input input-box' }, _this._markChangeReason ? _this._markChangeReason : ''));\r\n        };\r\n        /**\r\n         * Change visibility of mark change reason\r\n         */\r\n        _this.showHideMarkChangeReason = function () {\r\n            if (markingStore.instance.isMarkChangeReasonVisible(markingStore.instance.currentMarkGroupId)) {\r\n                _this.setState({ isVisible: true });\r\n            }\r\n            else if (_this.state.isVisible) {\r\n                markingActionCreator.markChangeReasonUpdated('');\r\n                _this.setState({ isVisible: false });\r\n            }\r\n        };\r\n        /**\r\n         * handling click of MarkChangeReason text area\r\n         */\r\n        _this.onClickOfMarkChangeReason = function (event) {\r\n            event.stopPropagation();\r\n        };\r\n        /**\r\n         * Open mark change reason\r\n         */\r\n        _this.openMarkChangeReason = function () {\r\n            keyDownHelper.instance.DeActivate(enums.MarkEntryDeactivator.MarksChangeReason);\r\n            _this.setState({ isOpen: true });\r\n        };\r\n        /**\r\n         * Click event of MarkChangeReason icon\r\n         */\r\n        _this.onMarkChangeReasonClick = function (event) {\r\n            if (!markerOperationModeFactory.operationMode.isTeamManagementMode || _this._markChangeReason) {\r\n                if (_this.state.isOpen) {\r\n                    _this.saveMarkChangeReason();\r\n                    keyDownHelper.instance.Activate(enums.MarkEntryDeactivator.MarksChangeReason);\r\n                }\r\n                else {\r\n                    keyDownHelper.instance.DeActivate(enums.MarkEntryDeactivator.MarksChangeReason);\r\n                }\r\n                _this.setState({\r\n                    isOpen: !_this.state.isOpen,\r\n                    markChangeReasonRenderedOn: Date.now()\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Handle click events on the window\r\n         * @param {any} source - The source element\r\n         */\r\n        _this.handleOnClick = function (source) {\r\n            if (source.target !== undefined &&\r\n                domManager.searchParentNode(source.target, function (el) { return el.id === 'markChangeReason'; }) == null) {\r\n                if (_this.state.isOpen !== undefined && _this.state.isOpen === true) {\r\n                    _this.saveMarkChangeReason();\r\n                    _this.setState({ isOpen: false });\r\n                    keyDownHelper.instance.Activate(enums.MarkEntryDeactivator.MarksChangeReason);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * On mouse scroll hide context menu\r\n         * @param event\r\n         */\r\n        _this.onScrollHandler = function (event) {\r\n            if (_this.state.isOpen) {\r\n                event.stopPropagation();\r\n            }\r\n        };\r\n        /**\r\n         * On Response opened\r\n         * When response is changed close the mark change reason text box\r\n         */\r\n        _this.onResponseOpened = function () {\r\n            _this.setState({ isOpen: false });\r\n        };\r\n        _this.state = {\r\n            isOpen: undefined,\r\n            markChangeReasonRenderedOn: Date.now(),\r\n            isVisible: false\r\n        };\r\n        _this._markChangeReason = _this.props.markChangeReason;\r\n        _this.onMarkChangeReasonClick = _this.onMarkChangeReasonClick.bind(_this);\r\n        _this._onClick = _this.handleOnClick.bind(_this);\r\n        _this.handleChange = _this.handleChange.bind(_this);\r\n        _this.openMarkChangeReason = _this.openMarkChangeReason.bind(_this);\r\n        _this.onClickOfMarkChangeReason = _this.onClickOfMarkChangeReason.bind(_this);\r\n        _this.onScrollHandler = _this.onScrollHandler.bind(_this);\r\n        _this.showHideMarkChangeReason = _this.showHideMarkChangeReason.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    MarkChangeReason.prototype.render = function () {\r\n        var _className = 'sprite-icon ';\r\n        if (this._markChangeReason && this._markChangeReason.trim().length > 0) {\r\n            _className = _className + 'edit-box-icon';\r\n        }\r\n        else if (markerOperationModeFactory.operationMode.\r\n            hasMarkChangeReasonYellowIcon(this.props.isResponseEditable, this.props.isInResponse)) {\r\n            _className = _className + 'edit-box-yellow-icon';\r\n        }\r\n        var isTeamManagement = markerOperationModeFactory.operationMode.isTeamManagementMode;\r\n        var popoutHeader = isTeamManagement ?\r\n            (this._markChangeReason ?\r\n                localeStore.instance.TranslateText('marking.response.eur-marks-change-popout.header') :\r\n                localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.mark-change-reason-not-specified-icon-tooltip')) :\r\n            localeStore.instance.TranslateText('marking.response.eur-marks-change-popout.header');\r\n        var menuCallOutText = isTeamManagement ?\r\n            localeStore.instance.TranslateText('marking.response.eur-marks-change-popout.header') :\r\n            localeStore.instance.TranslateText('marking.response.eur-marks-change-popout.body');\r\n        if (this.props.isInResponse) {\r\n            if (this.state.isVisible) {\r\n                return (React.createElement(\"div\", { className: classNames('eur-reason-holder icon-menu-wrap dropdown-wrap up white', { 'open': this.state.isOpen }), id: 'markChangeReason' },\r\n                    React.createElement(\"a\", { href: 'javascript:void(0)', className: classNames('eur-reason-link menu-button'), onClick: this.onMarkChangeReasonClick },\r\n                        React.createElement(\"span\", { className: _className, title: popoutHeader })),\r\n                    React.createElement(\"div\", { className: 'menu-callout' }),\r\n                    React.createElement(\"div\", { className: 'menu' },\r\n                        React.createElement(\"div\", { className: 'eur-reason-label dim-text' }, menuCallOutText),\r\n                        React.createElement(\"div\", { className: 'eur-reason-edit' }, this.renderMarkChangeReasonTextArea()))));\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            return (React.createElement(\"span\", { className: _className, title: markerOperationModeFactory.operationMode.markChangeReasonTitle }));\r\n        }\r\n    };\r\n    /**\r\n     * This function gets called when the component is mounted\r\n     */\r\n    MarkChangeReason.prototype.componentDidMount = function () {\r\n        if (deviceHelper.isTouchDevice()) {\r\n            this.setUpEvents();\r\n        }\r\n        window.addEventListener('click', this._onClick);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.OPEN_MARK_CHANGE_REASON, this.openMarkChangeReason);\r\n        document.documentElement.addEventListener('touchstart', this.onScrollHandler, true);\r\n        document.documentElement.addEventListener('touchmove', this.onScrollHandler, true);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.MARK_CHANGE_REASON_VISIBILITY_UPDATED, this.showHideMarkChangeReason);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.OPEN_RESPONSE_EVENT, this.onResponseOpened);\r\n    };\r\n    /**\r\n     * This function gets invoked when the component is about to be unmounted\r\n     */\r\n    MarkChangeReason.prototype.componentWillUnmount = function () {\r\n        if (deviceHelper.isTouchDevice()) {\r\n            this.unRegisterEvents();\r\n        }\r\n        window.removeEventListener('click', this._onClick);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.OPEN_MARK_CHANGE_REASON, this.openMarkChangeReason);\r\n        if (this.props.isInResponse) {\r\n            keyDownHelper.instance.Activate(enums.MarkEntryDeactivator.MarksChangeReason);\r\n        }\r\n        document.documentElement.removeEventListener('touchstart', this.onScrollHandler, true);\r\n        document.documentElement.removeEventListener('touchmove', this.onScrollHandler, true);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.MARK_CHANGE_REASON_VISIBILITY_UPDATED, this.showHideMarkChangeReason);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.OPEN_RESPONSE_EVENT, this.onResponseOpened);\r\n    };\r\n    /**\r\n     * This function gets called when the component is remounted\r\n     */\r\n    MarkChangeReason.prototype.componentDidUpdate = function () {\r\n        if (this.refs && this.refs.markChangeReasonTextarea) {\r\n            this.refs.markChangeReasonTextarea.focus();\r\n        }\r\n    };\r\n    /**\r\n     * Comparing the props to check the updats are made by self\r\n     * @param {Props} nextProps\r\n     */\r\n    MarkChangeReason.prototype.componentWillReceiveProps = function (nextProps) {\r\n        this._markChangeReason = nextProps.markChangeReason;\r\n    };\r\n    /**\r\n     * This method will hook the touch events\r\n     */\r\n    MarkChangeReason.prototype.setUpEvents = function () {\r\n        var element = ReactDom.findDOMNode(this);\r\n        if (element && !this.eventHandler.isInitialized) {\r\n            // we don't want hammer in MS Touch devices like surface because it containes pointer events\r\n            var touchActionValue = 'pan-x,pan-y';\r\n            this.eventHandler.initEvents(element, touchActionValue, true);\r\n            this.eventHandler.get(eventTypes.PAN, { direction: direction.DirectionOptions.DIRECTION_ALL, threshold: 0 });\r\n            this.eventHandler.on(eventTypes.PAN, this.handleOnClick);\r\n        }\r\n    };\r\n    /**\r\n     * unsubscribing hammer touch events and handlers\r\n     */\r\n    MarkChangeReason.prototype.unRegisterEvents = function () {\r\n        if (this.eventHandler.isInitialized) {\r\n            this.eventHandler.destroy();\r\n        }\r\n    };\r\n    /**\r\n     * Saving mark change reason\r\n     */\r\n    MarkChangeReason.prototype.saveMarkChangeReason = function () {\r\n        if (this.props.isResponseEditable) {\r\n            var markChangeReason = this.refs.markChangeReasonTextarea.value;\r\n            if (!markChangeReason.replace(/\\s/g, '').length) {\r\n                markChangeReason = '';\r\n            }\r\n            markingActionCreator.markChangeReasonUpdated(markChangeReason);\r\n        }\r\n    };\r\n    /**\r\n     * Setting markchange reason text\r\n     */\r\n    MarkChangeReason.prototype.handleChange = function (e) {\r\n        if (markerOperationModeFactory.operationMode.isTeamManagementMode || this.props.isResponseEditable) {\r\n            if (e.target.value.length <= 500) {\r\n                this._markChangeReason = e.target.value;\r\n                this.saveMarkChangeReason();\r\n                this.setState({\r\n                    markChangeReasonRenderedOn: Date.now()\r\n                });\r\n            }\r\n        }\r\n    };\r\n    return MarkChangeReason;\r\n}(eventManagerBase));\r\nmodule.exports = MarkChangeReason;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbWFya3NjaGVtZXN0cnVjdHVyZS9tYXJrY2hhbmdlcmVhc29uLnRzeD9mZTFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgUmVhY3Rkb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuaW1wb3J0IGRvbU1hbmFnZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2dlbmVyaWMvZG9taGVscGVyJyk7XHJcbmltcG9ydCBtYXJraW5nQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvbWFya2luZy9tYXJraW5nYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQga2V5RG93bkhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZ2VuZXJpYy9rZXlkb3duaGVscGVyJyk7XHJcbmltcG9ydCBtYXJraW5nU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbWFya2luZy9tYXJraW5nc3RvcmUnKTtcclxuaW1wb3J0IGRldmljZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvdG91Y2gvZGV2aWNlaGVscGVyJyk7XHJcbmltcG9ydCBldmVudE1hbmFnZXJCYXNlID0gcmVxdWlyZSgnLi4vYmFzZS9ldmVudG1hbmFnZXIvZXZlbnRtYW5hZ2VyYmFzZScpO1xyXG5pbXBvcnQgUmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcclxuaW1wb3J0IGV2ZW50VHlwZXMgPSByZXF1aXJlKCcuLi9iYXNlL2V2ZW50bWFuYWdlci9ldmVudHR5cGVzJyk7XHJcbmltcG9ydCBkaXJlY3Rpb24gPSByZXF1aXJlKCcuLi9iYXNlL2V2ZW50bWFuYWdlci9kaXJlY3Rpb24nKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGEgTWFya0NoYW5nZVJlYXNvblxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGlzSW5SZXNwb25zZTogYm9vbGVhbjtcclxuICAgIGlzUmVzcG9uc2VFZGl0YWJsZT86IGJvb2xlYW47XHJcbiAgICBtYXJrQ2hhbmdlUmVhc29uPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogU3RhdGUgb2YgYSBNYXJrQ2hhbmdlUmVhc29uXHJcbiAqL1xyXG5pbnRlcmZhY2UgU3RhdGUge1xyXG4gICAgaXNPcGVuPzogYm9vbGVhbjtcclxuICAgIG1hcmtDaGFuZ2VSZWFzb25SZW5kZXJlZE9uPzogbnVtYmVyO1xyXG4gICAgaXNWaXNpYmxlPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1hcmsgQ2hhbmdlIFJlYXNvbiBjb21wb25lbnQuXHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5jbGFzcyBNYXJrQ2hhbmdlUmVhc29uIGV4dGVuZHMgZXZlbnRNYW5hZ2VyQmFzZSB7XHJcbiAgICBwcml2YXRlIF9tYXJrQ2hhbmdlUmVhc29uOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqIHJlZnMgKi9cclxuICAgIHB1YmxpYyByZWZzOiB7XHJcbiAgICAgICAgW2tleTogc3RyaW5nXTogKEVsZW1lbnQpO1xyXG4gICAgICAgIG1hcmtDaGFuZ2VSZWFzb25UZXh0YXJlYTogKEhUTUxJbnB1dEVsZW1lbnQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIF9vbkNsaWNrOiBFdmVudExpc3RlbmVyT2JqZWN0ID0gbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBTdGF0ZSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaXNPcGVuOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIG1hcmtDaGFuZ2VSZWFzb25SZW5kZXJlZE9uOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICBpc1Zpc2libGU6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5fbWFya0NoYW5nZVJlYXNvbiA9IHRoaXMucHJvcHMubWFya0NoYW5nZVJlYXNvbjtcclxuICAgICAgICB0aGlzLm9uTWFya0NoYW5nZVJlYXNvbkNsaWNrID0gdGhpcy5vbk1hcmtDaGFuZ2VSZWFzb25DbGljay5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuX29uQ2xpY2sgPSB0aGlzLmhhbmRsZU9uQ2xpY2suYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vcGVuTWFya0NoYW5nZVJlYXNvbiA9IHRoaXMub3Blbk1hcmtDaGFuZ2VSZWFzb24uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2tPZk1hcmtDaGFuZ2VSZWFzb24gPSB0aGlzLm9uQ2xpY2tPZk1hcmtDaGFuZ2VSZWFzb24uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uU2Nyb2xsSGFuZGxlciA9IHRoaXMub25TY3JvbGxIYW5kbGVyLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zaG93SGlkZU1hcmtDaGFuZ2VSZWFzb24gPSB0aGlzLnNob3dIaWRlTWFya0NoYW5nZVJlYXNvbi5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIG1hcmtjaGFuZ2VyZWFzb24gdGV4dCBhcmVhXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyTWFya0NoYW5nZVJlYXNvblRleHRBcmVhID0gKCk6IEpTWC5FbGVtZW50ID0+IHtcclxuICAgICAgICByZXR1cm4gKHRoaXMucHJvcHMuaXNSZXNwb25zZUVkaXRhYmxlID9cclxuICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICBuYW1lPSdtYXJrQ2hhbmdlUmVhc29uVGV4dGFyZWEnXHJcbiAgICAgICAgICAgICAgICBpZD0nbWFya0NoYW5nZVJlYXNvblRleHRhcmVhJ1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdldXItZWRpdC1pbnB1dCdcclxuICAgICAgICAgICAgICAgIHJlZj17J21hcmtDaGFuZ2VSZWFzb25UZXh0YXJlYSd9XHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5fbWFya0NoYW5nZVJlYXNvbiA/IHRoaXMuX21hcmtDaGFuZ2VSZWFzb24gOiAnJ31cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja09mTWFya0NoYW5nZVJlYXNvbn1cclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5PXshdGhpcy5wcm9wcy5pc1Jlc3BvbnNlRWRpdGFibGV9PlxyXG4gICAgICAgICAgICA8L3RleHRhcmVhPiA6XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9J21hcmtDaGFuZ2VSZWFzb25UZXh0YXJlYScgY2xhc3NOYW1lPSdldXItZWRpdC1pbnB1dCBpbnB1dC1ib3gnPlxyXG4gICAgICAgICAgICAgICAge3RoaXMuX21hcmtDaGFuZ2VSZWFzb24gPyB0aGlzLl9tYXJrQ2hhbmdlUmVhc29uIDogJyd9XHJcbiAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgX2NsYXNzTmFtZTogc3RyaW5nID0gJ3Nwcml0ZS1pY29uICc7XHJcbiAgICAgICAgaWYgKHRoaXMuX21hcmtDaGFuZ2VSZWFzb24gJiYgdGhpcy5fbWFya0NoYW5nZVJlYXNvbi50cmltKCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBfY2xhc3NOYW1lID0gX2NsYXNzTmFtZSArICdlZGl0LWJveC1pY29uJztcclxuICAgICAgICB9IGVsc2UgaWYgKG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuXHJcbiAgICAgICAgICAgIGhhc01hcmtDaGFuZ2VSZWFzb25ZZWxsb3dJY29uKHRoaXMucHJvcHMuaXNSZXNwb25zZUVkaXRhYmxlLCB0aGlzLnByb3BzLmlzSW5SZXNwb25zZSkpIHtcclxuICAgICAgICAgICAgX2NsYXNzTmFtZSA9IF9jbGFzc05hbWUgKyAnZWRpdC1ib3gteWVsbG93LWljb24nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGlzVGVhbU1hbmFnZW1lbnQ6IGJvb2xlYW4gPSBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlO1xyXG5cclxuICAgICAgICBsZXQgcG9wb3V0SGVhZGVyOiBzdHJpbmcgPSBpc1RlYW1NYW5hZ2VtZW50ID9cclxuICAgICAgICAgKHRoaXMuX21hcmtDaGFuZ2VSZWFzb24gP1xyXG4gICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy5yZXNwb25zZS5ldXItbWFya3MtY2hhbmdlLXBvcG91dC5oZWFkZXInKSA6XHJcbiAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LnJlc3BvbnNlLWRhdGEubWFyay1jaGFuZ2UtcmVhc29uLW5vdC1zcGVjaWZpZWQtaWNvbi10b29sdGlwJykpIDpcclxuICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcucmVzcG9uc2UuZXVyLW1hcmtzLWNoYW5nZS1wb3BvdXQuaGVhZGVyJyk7XHJcblxyXG4gICAgICAgIGxldCBtZW51Q2FsbE91dFRleHQ6IHN0cmluZyA9IGlzVGVhbU1hbmFnZW1lbnQgP1xyXG4gICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLnJlc3BvbnNlLmV1ci1tYXJrcy1jaGFuZ2UtcG9wb3V0LmhlYWRlcicpIDpcclxuICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy5yZXNwb25zZS5ldXItbWFya3MtY2hhbmdlLXBvcG91dC5ib2R5Jyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzSW5SZXNwb25zZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V1ci1yZWFzb24taG9sZGVyIGljb24tbWVudS13cmFwIGRyb3Bkb3duLXdyYXAgdXAgd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICdvcGVuJzogdGhpcy5zdGF0ZS5pc09wZW4gfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdtYXJrQ2hhbmdlUmVhc29uJyAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V1ci1yZWFzb24tbGluayBtZW51LWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbk1hcmtDaGFuZ2VSZWFzb25DbGlja30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e19jbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3BvcG91dEhlYWRlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21lbnUtY2FsbG91dCc+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZW51Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdldXItcmVhc29uLWxhYmVsIGRpbS10ZXh0Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVudUNhbGxPdXRUZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZXVyLXJlYXNvbi1lZGl0Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJNYXJrQ2hhbmdlUmVhc29uVGV4dEFyZWEoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e19jbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e21hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUubWFya0NoYW5nZVJlYXNvblRpdGxlfSA+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBnZXRzIGNhbGxlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgaWYgKGRldmljZUhlbHBlci5pc1RvdWNoRGV2aWNlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRVcEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5PUEVOX01BUktfQ0hBTkdFX1JFQVNPTiwgdGhpcy5vcGVuTWFya0NoYW5nZVJlYXNvbik7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblNjcm9sbEhhbmRsZXIsIHRydWUpO1xyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uU2Nyb2xsSGFuZGxlciwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLk1BUktfQ0hBTkdFX1JFQVNPTl9WSVNJQklMSVRZX1VQREFURUQsIHRoaXMuc2hvd0hpZGVNYXJrQ2hhbmdlUmVhc29uKTtcclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5PUEVOX1JFU1BPTlNFX0VWRU5ULCB0aGlzLm9uUmVzcG9uc2VPcGVuZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBnZXRzIGludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFib3V0IHRvIGJlIHVubW91bnRlZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgaWYgKGRldmljZUhlbHBlci5pc1RvdWNoRGV2aWNlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy51blJlZ2lzdGVyRXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2spO1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLk9QRU5fTUFSS19DSEFOR0VfUkVBU09OLCB0aGlzLm9wZW5NYXJrQ2hhbmdlUmVhc29uKTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pc0luUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAga2V5RG93bkhlbHBlci5pbnN0YW5jZS5BY3RpdmF0ZShlbnVtcy5NYXJrRW50cnlEZWFjdGl2YXRvci5NYXJrc0NoYW5nZVJlYXNvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25TY3JvbGxIYW5kbGVyLCB0cnVlKTtcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblNjcm9sbEhhbmRsZXIsIHRydWUpO1xyXG5cclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuTUFSS19DSEFOR0VfUkVBU09OX1ZJU0lCSUxJVFlfVVBEQVRFRCxcclxuICAgICAgICAgICAgdGhpcy5zaG93SGlkZU1hcmtDaGFuZ2VSZWFzb24pO1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLk9QRU5fUkVTUE9OU0VfRVZFTlQsIHRoaXMub25SZXNwb25zZU9wZW5lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGdldHMgY2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZW1vdW50ZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWZzICYmIHRoaXMucmVmcy5tYXJrQ2hhbmdlUmVhc29uVGV4dGFyZWEpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZzLm1hcmtDaGFuZ2VSZWFzb25UZXh0YXJlYS5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbXBhcmluZyB0aGUgcHJvcHMgdG8gY2hlY2sgdGhlIHVwZGF0cyBhcmUgbWFkZSBieSBzZWxmXHJcbiAgICAgKiBAcGFyYW0ge1Byb3BzfSBuZXh0UHJvcHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBQcm9wcykge1xyXG4gICAgICAgIHRoaXMuX21hcmtDaGFuZ2VSZWFzb24gPSBuZXh0UHJvcHMubWFya0NoYW5nZVJlYXNvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoYW5nZSB2aXNpYmlsaXR5IG9mIG1hcmsgY2hhbmdlIHJlYXNvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNob3dIaWRlTWFya0NoYW5nZVJlYXNvbiA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAobWFya2luZ1N0b3JlLmluc3RhbmNlLmlzTWFya0NoYW5nZVJlYXNvblZpc2libGUobWFya2luZ1N0b3JlLmluc3RhbmNlLmN1cnJlbnRNYXJrR3JvdXBJZCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzVmlzaWJsZTogdHJ1ZSB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIG1hcmtpbmdBY3Rpb25DcmVhdG9yLm1hcmtDaGFuZ2VSZWFzb25VcGRhdGVkKCcnKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzVmlzaWJsZTogZmFsc2UgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgaG9vayB0aGUgdG91Y2ggZXZlbnRzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2V0VXBFdmVudHMoKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQ6IEVsZW1lbnQgPSBSZWFjdERvbS5maW5kRE9NTm9kZSh0aGlzKTtcclxuXHJcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgIXRoaXMuZXZlbnRIYW5kbGVyLmlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gd2UgZG9uJ3Qgd2FudCBoYW1tZXIgaW4gTVMgVG91Y2ggZGV2aWNlcyBsaWtlIHN1cmZhY2UgYmVjYXVzZSBpdCBjb250YWluZXMgcG9pbnRlciBldmVudHNcclxuICAgICAgICAgICAgbGV0IHRvdWNoQWN0aW9uVmFsdWU6IHN0cmluZyA9ICdwYW4teCxwYW4teSc7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmluaXRFdmVudHMoZWxlbWVudCwgdG91Y2hBY3Rpb25WYWx1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmdldChldmVudFR5cGVzLlBBTiwgeyBkaXJlY3Rpb246IGRpcmVjdGlvbi5EaXJlY3Rpb25PcHRpb25zLkRJUkVDVElPTl9BTEwsIHRocmVzaG9sZDogMCB9KTtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIub24oZXZlbnRUeXBlcy5QQU4sIHRoaXMuaGFuZGxlT25DbGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdW5zdWJzY3JpYmluZyBoYW1tZXIgdG91Y2ggZXZlbnRzIGFuZCBoYW5kbGVyc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHVuUmVnaXN0ZXJFdmVudHMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRIYW5kbGVyLmlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNhdmluZyBtYXJrIGNoYW5nZSByZWFzb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzYXZlTWFya0NoYW5nZVJlYXNvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pc1Jlc3BvbnNlRWRpdGFibGUpIHtcclxuICAgICAgICAgICAgbGV0IG1hcmtDaGFuZ2VSZWFzb246IHN0cmluZyA9IHRoaXMucmVmcy5tYXJrQ2hhbmdlUmVhc29uVGV4dGFyZWEudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICghbWFya0NoYW5nZVJlYXNvbi5yZXBsYWNlKC9cXHMvZywgJycpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbWFya0NoYW5nZVJlYXNvbiA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtYXJraW5nQWN0aW9uQ3JlYXRvci5tYXJrQ2hhbmdlUmVhc29uVXBkYXRlZChtYXJrQ2hhbmdlUmVhc29uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGluZyBjbGljayBvZiBNYXJrQ2hhbmdlUmVhc29uIHRleHQgYXJlYVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQ2xpY2tPZk1hcmtDaGFuZ2VSZWFzb24gPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZW4gbWFyayBjaGFuZ2UgcmVhc29uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb3Blbk1hcmtDaGFuZ2VSZWFzb24gPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAga2V5RG93bkhlbHBlci5pbnN0YW5jZS5EZUFjdGl2YXRlKGVudW1zLk1hcmtFbnRyeURlYWN0aXZhdG9yLk1hcmtzQ2hhbmdlUmVhc29uKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiB0cnVlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHRpbmcgbWFya2NoYW5nZSByZWFzb24gdGV4dFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGhhbmRsZUNoYW5nZShlOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1RlYW1NYW5hZ2VtZW50TW9kZSB8fCB0aGlzLnByb3BzLmlzUmVzcG9uc2VFZGl0YWJsZSkge1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUubGVuZ3RoIDw9IDUwMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFya0NoYW5nZVJlYXNvbiA9IGUudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlTWFya0NoYW5nZVJlYXNvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya0NoYW5nZVJlYXNvblJlbmRlcmVkT246IERhdGUubm93KClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xpY2sgZXZlbnQgb2YgTWFya0NoYW5nZVJlYXNvbiBpY29uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25NYXJrQ2hhbmdlUmVhc29uQ2xpY2sgPSAoZXZlbnQ6IGFueSk6IGFueSA9PiB7XHJcbiAgICAgICAgaWYgKCFtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlIHx8IHRoaXMuX21hcmtDaGFuZ2VSZWFzb24pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNPcGVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVNYXJrQ2hhbmdlUmVhc29uKCk7XHJcbiAgICAgICAgICAgICAgICBrZXlEb3duSGVscGVyLmluc3RhbmNlLkFjdGl2YXRlKGVudW1zLk1hcmtFbnRyeURlYWN0aXZhdG9yLk1hcmtzQ2hhbmdlUmVhc29uKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGtleURvd25IZWxwZXIuaW5zdGFuY2UuRGVBY3RpdmF0ZShlbnVtcy5NYXJrRW50cnlEZWFjdGl2YXRvci5NYXJrc0NoYW5nZVJlYXNvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpc09wZW46ICF0aGlzLnN0YXRlLmlzT3BlbixcclxuICAgICAgICAgICAgICAgIG1hcmtDaGFuZ2VSZWFzb25SZW5kZXJlZE9uOiBEYXRlLm5vdygpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgY2xpY2sgZXZlbnRzIG9uIHRoZSB3aW5kb3dcclxuICAgICAqIEBwYXJhbSB7YW55fSBzb3VyY2UgLSBUaGUgc291cmNlIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBoYW5kbGVPbkNsaWNrID0gKHNvdXJjZTogYW55KTogYW55ID0+IHtcclxuICAgICAgICBpZiAoc291cmNlLnRhcmdldCAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGRvbU1hbmFnZXIuc2VhcmNoUGFyZW50Tm9kZShzb3VyY2UudGFyZ2V0LCBmdW5jdGlvbiAoZWw6IGFueSkgeyByZXR1cm4gZWwuaWQgPT09ICdtYXJrQ2hhbmdlUmVhc29uJzsgfSkgPT0gbnVsbFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc09wZW4gIT09IHVuZGVmaW5lZCAmJiB0aGlzLnN0YXRlLmlzT3BlbiA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlTWFya0NoYW5nZVJlYXNvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICBrZXlEb3duSGVscGVyLmluc3RhbmNlLkFjdGl2YXRlKGVudW1zLk1hcmtFbnRyeURlYWN0aXZhdG9yLk1hcmtzQ2hhbmdlUmVhc29uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbiBtb3VzZSBzY3JvbGwgaGlkZSBjb250ZXh0IG1lbnVcclxuICAgICAqIEBwYXJhbSBldmVudFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU2Nyb2xsSGFuZGxlciA9IChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNPcGVuKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbiBSZXNwb25zZSBvcGVuZWRcclxuICAgICAqIFdoZW4gcmVzcG9uc2UgaXMgY2hhbmdlZCBjbG9zZSB0aGUgbWFyayBjaGFuZ2UgcmVhc29uIHRleHQgYm94XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SZXNwb25zZU9wZW5lZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiBmYWxzZSB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gTWFya0NoYW5nZVJlYXNvbjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL21hcmtzY2hlbWVzdHJ1Y3R1cmUvbWFya2NoYW5nZXJlYXNvbi50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBb0JBOzs7O0FBSUE7QUFDQTtBQUFBO0FBV0E7Ozs7QUFJQTtBQUNBO0FBQUE7QUFQQTtBQXlCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBR0E7QUF1SEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF3Q0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaUJBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBM1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBc0JBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQWNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWlCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFxREE7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 522:
/* no static exports found */
/* all exports used */
/*!********************************************************************************************!*\
  !*** ./src/components/utility/responseallocation/responseallocationvalidationparameter.ts ***!
  \********************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Entity class for response allocation validation\r\n */\r\nvar ResponseAllocationValidationParameter = /** @class */ (function () {\r\n    /**\r\n     * Initializing new instance of response allocation validation entity.\r\n     */\r\n    function ResponseAllocationValidationParameter(errorDialogHeaderText, errorDialogContentText, responseAllocateButtonVisibility) {\r\n        this.errorDialogHeaderText = errorDialogHeaderText;\r\n        this.errorDialogContentText = errorDialogContentText;\r\n        this.responseAllocateButtonVisibility = responseAllocateButtonVisibility;\r\n    }\r\n    Object.defineProperty(ResponseAllocationValidationParameter.prototype, \"ErrorDialogHeaderText\", {\r\n        /**\r\n         * Returns back the Resource Key for Error Dialog Header Text\r\n         */\r\n        get: function () {\r\n            return this.errorDialogHeaderText;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResponseAllocationValidationParameter.prototype, \"ErrorDialogContentText\", {\r\n        /**\r\n         * Returns back the Resource Key for Error Dialog Content Text\r\n         */\r\n        get: function () {\r\n            return this.errorDialogContentText;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ResponseAllocationValidationParameter.prototype, \"ResponseAllocateButtonVisibility\", {\r\n        /**\r\n         * Returns back the visibility for the Allocate New Response button\r\n         */\r\n        get: function () {\r\n            return this.responseAllocateButtonVisibility;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ResponseAllocationValidationParameter;\r\n}());\r\nmodule.exports = ResponseAllocationValidationParameter;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9yZXNwb25zZWFsbG9jYXRpb24vcmVzcG9uc2VhbGxvY2F0aW9udmFsaWRhdGlvbnBhcmFtZXRlci50cz80ZmM5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBFbnRpdHkgY2xhc3MgZm9yIHJlc3BvbnNlIGFsbG9jYXRpb24gdmFsaWRhdGlvblxyXG4gKi9cclxuY2xhc3MgUmVzcG9uc2VBbGxvY2F0aW9uVmFsaWRhdGlvblBhcmFtZXRlciB7XHJcbiAgICBwcml2YXRlIGVycm9yRGlhbG9nSGVhZGVyVGV4dDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBlcnJvckRpYWxvZ0NvbnRlbnRUZXh0OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlc3BvbnNlQWxsb2NhdGVCdXR0b25WaXNpYmlsaXR5OiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6aW5nIG5ldyBpbnN0YW5jZSBvZiByZXNwb25zZSBhbGxvY2F0aW9uIHZhbGlkYXRpb24gZW50aXR5LlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlcnJvckRpYWxvZ0hlYWRlclRleHQ6IHN0cmluZywgZXJyb3JEaWFsb2dDb250ZW50VGV4dDogc3RyaW5nLCByZXNwb25zZUFsbG9jYXRlQnV0dG9uVmlzaWJpbGl0eTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuZXJyb3JEaWFsb2dIZWFkZXJUZXh0ID0gZXJyb3JEaWFsb2dIZWFkZXJUZXh0O1xyXG4gICAgICAgIHRoaXMuZXJyb3JEaWFsb2dDb250ZW50VGV4dCA9IGVycm9yRGlhbG9nQ29udGVudFRleHQ7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZUFsbG9jYXRlQnV0dG9uVmlzaWJpbGl0eSA9IHJlc3BvbnNlQWxsb2NhdGVCdXR0b25WaXNpYmlsaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBiYWNrIHRoZSBSZXNvdXJjZSBLZXkgZm9yIEVycm9yIERpYWxvZyBIZWFkZXIgVGV4dFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IEVycm9yRGlhbG9nSGVhZGVyVGV4dCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yRGlhbG9nSGVhZGVyVGV4dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYmFjayB0aGUgUmVzb3VyY2UgS2V5IGZvciBFcnJvciBEaWFsb2cgQ29udGVudCBUZXh0XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgRXJyb3JEaWFsb2dDb250ZW50VGV4dCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yRGlhbG9nQ29udGVudFRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGJhY2sgdGhlIHZpc2liaWxpdHkgZm9yIHRoZSBBbGxvY2F0ZSBOZXcgUmVzcG9uc2UgYnV0dG9uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvblZpc2liaWxpdHkoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VBbGxvY2F0ZUJ1dHRvblZpc2liaWxpdHk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFJlc3BvbnNlQWxsb2NhdGlvblZhbGlkYXRpb25QYXJhbWV0ZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvcmVzcG9uc2VhbGxvY2F0aW9uL3Jlc3BvbnNlYWxsb2NhdGlvbnZhbGlkYXRpb25wYXJhbWV0ZXIudHMiXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBS0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 526:
/* no static exports found */
/* all exports used */
/*!***************************************************!*\
  !*** ./src/components/utility/tab/tabcontrol.tsx ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/// <reference path='typings/tabheaderdata.ts' />\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar TabHeader = __webpack_require__(/*! ./tabheader */ 527);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\n/**\r\n * Represents the TabControl Compoent\r\n */\r\nvar TabControl = /** @class */ (function (_super) {\r\n    __extends(TabControl, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function TabControl(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * Render method for TabControl.\r\n     */\r\n    TabControl.prototype.render = function () {\r\n        var _this = this;\r\n        var tabHeaders = [];\r\n        this.props.tabHeaders.map(function (tabItem) {\r\n            tabHeaders.push(React.createElement(TabHeader, { index: tabItem.index, key: 'tabHeaderItem_' + tabItem.key, id: 'tabHeaderItem_' + tabItem.id, class: tabItem.class, isSelected: tabItem.isSelected, isDisabled: tabItem.isDisabled, tabNavigation: tabItem.tabNavigation, headerCount: tabItem.headerCount === undefined ? 0 : tabItem.headerCount, isHeaderCountNotRequired: tabItem.isHeaderCountNotRequired === undefined\r\n                    ? false : tabItem.isHeaderCountNotRequired, headerText: tabItem.headerText, selectTab: _this.props.selectTab }));\r\n        });\r\n        return (React.createElement(\"ul\", { className: 'tab-nav', role: 'tablist' }, tabHeaders));\r\n    };\r\n    return TabControl;\r\n}(pureRenderComponent));\r\nmodule.exports = TabControl;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90YWIvdGFiY29udHJvbC50c3g/ODNjNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPSd0eXBpbmdzL3RhYmhlYWRlcmRhdGEudHMnIC8+XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgVGFiSGVhZGVyID0gcmVxdWlyZSgnLi90YWJoZWFkZXInKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIFRhYkNvbnRyb2wgY29tcG9uZW50XHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlIHtcclxuICAgIHRhYkhlYWRlcnM6IEFycmF5PFRhYkhlYWRlckRhdGE+O1xyXG4gICAgc2VsZWN0VGFiOiBGdW5jdGlvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgdGhlIFRhYkNvbnRyb2wgQ29tcG9lbnRcclxuICovXHJcbmNsYXNzIFRhYkNvbnRyb2wgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuICAgIC8qKlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgbWV0aG9kIGZvciBUYWJDb250cm9sLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG5cclxuICAgICAgICBsZXQgdGFiSGVhZGVyczogSlNYLkVsZW1lbnRbXSA9IFtdO1xyXG4gICAgICAgIHRoaXMucHJvcHMudGFiSGVhZGVycy5tYXAoKHRhYkl0ZW06IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGFiSGVhZGVycy5wdXNoKDxUYWJIZWFkZXIgaW5kZXg9e3RhYkl0ZW0uaW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPXsndGFiSGVhZGVySXRlbV8nICsgdGFiSXRlbS5rZXkgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9eyd0YWJIZWFkZXJJdGVtXycgKyB0YWJJdGVtLmlkIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSB7dGFiSXRlbS5jbGFzc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9IHt0YWJJdGVtLmlzU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkPSB7dGFiSXRlbS5pc0Rpc2FibGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiTmF2aWdhdGlvbiA9IHt0YWJJdGVtLnRhYk5hdmlnYXRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJDb3VudCA9IHt0YWJJdGVtLmhlYWRlckNvdW50ID09PSB1bmRlZmluZWQgPyAwIDogdGFiSXRlbS5oZWFkZXJDb3VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzSGVhZGVyQ291bnROb3RSZXF1aXJlZD17dGFiSXRlbS5pc0hlYWRlckNvdW50Tm90UmVxdWlyZWQgPT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZmFsc2UgOiB0YWJJdGVtLmlzSGVhZGVyQ291bnROb3RSZXF1aXJlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlclRleHQgPSB7IHRhYkl0ZW0uaGVhZGVyVGV4dCB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RUYWIgPSB7IHRoaXMucHJvcHMuc2VsZWN0VGFiIH0vPik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9J3RhYi1uYXYnIHJvbGU9J3RhYmxpc3QnPlxyXG4gICAgICAgICAgICAgICB7dGFiSGVhZGVyc31cclxuICAgICAgICAgICAgPC91bD5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCA9IFRhYkNvbnRyb2w7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvdGFiL3RhYmNvbnRyb2wudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQVNBO0FBR0E7QUFFQTtBQUtBO0FBQ0E7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 527:
/* no static exports found */
/* all exports used */
/*!**************************************************!*\
  !*** ./src/components/utility/tab/tabheader.tsx ***!
  \**************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\n/* tslint:disable:no-reserved-keywords */\r\n/**\r\n * Represents the Tab header Compoent\r\n */\r\nvar TabHeader = /** @class */ (function (_super) {\r\n    __extends(TabHeader, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function TabHeader(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.handleClick = _this.handleClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render method for Tab header.\r\n     */\r\n    TabHeader.prototype.render = function () {\r\n        return (React.createElement(\"li\", { className: this.getClassNames(), id: this.props.id, key: 'key_' + this.props.id, role: 'tab', \"aria-selected\": this.props.isSelected, onClick: this.handleClick },\r\n            React.createElement(\"a\", { href: 'javascript:void(0)', \"data-tab-nav\": this.props.tabNavigation, \"aria-controls\": this.props.tabNavigation, className: 'arrow-link' },\r\n                React.createElement(\"span\", { className: 'tab-text-holder' },\r\n                    this.HeaderCount(),\r\n                    React.createElement(\"span\", { className: 'tab-text' }, this.props.headerText)))));\r\n    };\r\n    /**\r\n     * This method will update the state.\r\n     */\r\n    TabHeader.prototype.handleClick = function () {\r\n        if (this.props.isDisabled !== true) {\r\n            this.props.selectTab(this.props.index);\r\n        }\r\n    };\r\n    /**\r\n     * This method will return count visible status\r\n     */\r\n    TabHeader.prototype.HeaderCount = function () {\r\n        return this.props.isHeaderCountNotRequired ? null :\r\n            (React.createElement(\"span\", { className: 'response-count count' }, this.props.headerCount));\r\n    };\r\n    /**\r\n     * This method will return class name depend on disable required status\r\n     */\r\n    TabHeader.prototype.getClassNames = function () {\r\n        return this.props.isHeaderCountNotRequired ? (classNames(this.props.class, { ' active': this.props.isSelected })) :\r\n            (classNames(this.props.class, { ' active': this.props.isSelected }, { ' disabled': this.props.isDisabled }));\r\n    };\r\n    return TabHeader;\r\n}(pureRenderComponent));\r\nmodule.exports = TabHeader;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90YWIvdGFiaGVhZGVyLnRzeD9lNmQ4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXJlc2VydmVkLWtleXdvcmRzICovXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIHRoZSBUYWIgaGVhZGVyIGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSB7XHJcbiAgICBpbmRleDogbnVtYmVyO1xyXG4gICAga2V5OiBzdHJpbmc7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgY2xhc3M6IHN0cmluZztcclxuICAgIGlzU2VsZWN0ZWQ6IGJvb2xlYW47XHJcbiAgICBpc0Rpc2FibGVkOiBib29sZWFuO1xyXG4gICAgdGFiTmF2aWdhdGlvbjogc3RyaW5nO1xyXG4gICAgaGVhZGVyQ291bnQ6IG51bWJlcjtcclxuICAgIGlzSGVhZGVyQ291bnROb3RSZXF1aXJlZD86IGJvb2xlYW47XHJcbiAgICBoZWFkZXJUZXh0OiBzdHJpbmc7XHJcbiAgICBzZWxlY3RUYWI6IEZ1bmN0aW9uO1xyXG59XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXJlc2VydmVkLWtleXdvcmRzICovXHJcblxyXG4vKipcclxuICogUmVwcmVzZW50cyB0aGUgVGFiIGhlYWRlciBDb21wb2VudFxyXG4gKi9cclxuY2xhc3MgVGFiSGVhZGVyIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcbiAgICAvKipcclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIG1ldGhvZCBmb3IgVGFiIGhlYWRlci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9eyB0aGlzLmdldENsYXNzTmFtZXMoKSB9XHJcbiAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgIGtleT17J2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgIHJvbGU9J3RhYidcclxuICAgICAgICAgICAgICAgIGFyaWEtc2VsZWN0ZWQ9e3RoaXMucHJvcHMuaXNTZWxlY3RlZH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyB0aGlzLmhhbmRsZUNsaWNrIH0+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10YWItbmF2PXt0aGlzLnByb3BzLnRhYk5hdmlnYXRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1jb250cm9scz17dGhpcy5wcm9wcy50YWJOYXZpZ2F0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9ICdhcnJvdy1saW5rJz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3RhYi10ZXh0LWhvbGRlcic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLkhlYWRlckNvdW50KCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZSA9ICd0YWItdGV4dCcgPnt0aGlzLnByb3BzLmhlYWRlclRleHR9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHVwZGF0ZSB0aGUgc3RhdGUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaGFuZGxlQ2xpY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaXNEaXNhYmxlZCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnNlbGVjdFRhYih0aGlzLnByb3BzLmluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiBjb3VudCB2aXNpYmxlIHN0YXR1c1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIEhlYWRlckNvdW50KCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5pc0hlYWRlckNvdW50Tm90UmVxdWlyZWQgPyBudWxsIDpcclxuICAgICAgICAgICAgKDxzcGFuIGNsYXNzTmFtZT0ncmVzcG9uc2UtY291bnQgY291bnQnPnt0aGlzLnByb3BzLmhlYWRlckNvdW50fTwvc3Bhbj4pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gY2xhc3MgbmFtZSBkZXBlbmQgb24gZGlzYWJsZSByZXF1aXJlZCBzdGF0dXNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRDbGFzc05hbWVzKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaXNIZWFkZXJDb3VudE5vdFJlcXVpcmVkID8gKGNsYXNzTmFtZXModGhpcy5wcm9wcy5jbGFzcywgeyAnIGFjdGl2ZSc6IHRoaXMucHJvcHMuaXNTZWxlY3RlZCB9KSkgOlxyXG4gICAgICAgIChjbGFzc05hbWVzKHRoaXMucHJvcHMuY2xhc3MsIHsgJyBhY3RpdmUnOiB0aGlzLnByb3BzLmlzU2VsZWN0ZWQgfSwgeyAnIGRpc2FibGVkJzogdGhpcy5wcm9wcy5pc0Rpc2FibGVkIH0pKTtcclxuXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gVGFiSGVhZGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy91dGlsaXR5L3RhYi90YWJoZWFkZXIudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBbUJBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBR0E7O0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFPQTtBQUlBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 529:
/* no static exports found */
/* all exports used */
/*!*************************************************************!*\
  !*** ./src/components/worklist/shared/gridtogglebutton.tsx ***!
  \*************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\n/**\r\n * React component\r\n * @param {Props} props\r\n */\r\nvar GridToggleButton = /** @class */ (function (_super) {\r\n    __extends(GridToggleButton, _super);\r\n    /**\r\n     * Constructor for Grid toggle button\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function GridToggleButton(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.toggleView = _this.toggleView.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    GridToggleButton.prototype.render = function () {\r\n        var buttonTitle;\r\n        var iconStyle;\r\n        var click;\r\n        var _class;\r\n        if (this.props.buttonType === enums.GridType.tiled) {\r\n            buttonTitle = localeStore.instance.TranslateText('marking.worklist.view-switcher.tile-view');\r\n            iconStyle = 'sprite-icon tile-view-icon';\r\n        }\r\n        else if (this.props.buttonType === enums.GridType.detailed) {\r\n            buttonTitle = localeStore.instance.TranslateText('marking.worklist.view-switcher.list-view');\r\n            iconStyle = 'sprite-icon grid-view-icon';\r\n        }\r\n        else if (this.props.buttonType === enums.GridType.markByQuestion) {\r\n            buttonTitle = localeStore.instance.TranslateText('standardisation-setup.view-switcher.mark-by-question-view');\r\n            iconStyle = 'sprite-icon view-total-mark-icon';\r\n        }\r\n        else if (this.props.buttonType === enums.GridType.totalMarks) {\r\n            buttonTitle = localeStore.instance.TranslateText('standardisation-setup.view-switcher.total-mark-view');\r\n            iconStyle = 'sprite-icon grid-view-icon';\r\n        }\r\n        if (this.props.isSelected) {\r\n            _class = 'switch-view active';\r\n            click = null;\r\n        }\r\n        else {\r\n            _class = 'switch-view';\r\n            click = this.toggleView;\r\n        }\r\n        return (React.createElement(\"a\", { href: 'javascript:void(0)', title: buttonTitle, key: 'key_' + this.props.id, id: this.props.id, onClick: click, className: _class },\r\n            React.createElement(\"span\", { className: iconStyle }),\r\n            React.createElement(\"span\", { className: 'view-text', id: this.props.id + '_ToggleText' }, buttonTitle)));\r\n    };\r\n    /**\r\n     * this will toggle the grid view (tile/detail).\r\n     */\r\n    GridToggleButton.prototype.toggleView = function (evnt) {\r\n        this.props.toggleGridView();\r\n    };\r\n    return GridToggleButton;\r\n}(pureRenderComponent));\r\nmodule.exports = GridToggleButton;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2dyaWR0b2dnbGVidXR0b24udHN4P2VhZmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcbmxldCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xuXG4vKipcbiAqIFByb3BlcnRpZXMgb2YgYSBjb21wb25lbnRcbiAqL1xuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcbiAgICB0b2dnbGVHcmlkVmlldzogRnVuY3Rpb247XG4gICAgaXNTZWxlY3RlZDogYm9vbGVhbjtcbiAgICBidXR0b25UeXBlOiBlbnVtcy5HcmlkVHlwZTtcbn1cblxuLyoqXG4gKiBSZWFjdCBjb21wb25lbnRcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXG4gKi9cbmNsYXNzIEdyaWRUb2dnbGVCdXR0b24gZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yIGZvciBHcmlkIHRvZ2dsZSBidXR0b25cbiAgICAgKiBAcGFyYW0gcHJvcHNcbiAgICAgKiBAcGFyYW0gc3RhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcbiAgICAgICAgdGhpcy50b2dnbGVWaWV3ID0gdGhpcy50b2dnbGVWaWV3LmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGxldCBidXR0b25UaXRsZTtcbiAgICAgICAgbGV0IGljb25TdHlsZTtcbiAgICAgICAgbGV0IGNsaWNrOiBSZWFjdC5FdmVudEhhbmRsZXI8YW55PjtcbiAgICAgICAgbGV0IF9jbGFzcztcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYnV0dG9uVHlwZSA9PT0gZW51bXMuR3JpZFR5cGUudGlsZWQpIHtcbiAgICAgICAgICAgIGJ1dHRvblRpdGxlID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC52aWV3LXN3aXRjaGVyLnRpbGUtdmlldycpO1xuICAgICAgICAgICAgaWNvblN0eWxlID0gJ3Nwcml0ZS1pY29uIHRpbGUtdmlldy1pY29uJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmJ1dHRvblR5cGUgPT09IGVudW1zLkdyaWRUeXBlLmRldGFpbGVkKSB7XG4gICAgICAgICAgICBidXR0b25UaXRsZSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3Qudmlldy1zd2l0Y2hlci5saXN0LXZpZXcnKTtcbiAgICAgICAgICAgIGljb25TdHlsZSA9ICdzcHJpdGUtaWNvbiBncmlkLXZpZXctaWNvbic7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5idXR0b25UeXBlID09PSBlbnVtcy5HcmlkVHlwZS5tYXJrQnlRdWVzdGlvbikge1xuICAgICAgICAgICAgYnV0dG9uVGl0bGUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAudmlldy1zd2l0Y2hlci5tYXJrLWJ5LXF1ZXN0aW9uLXZpZXcnKTtcbiAgICAgICAgICAgIGljb25TdHlsZSA9ICdzcHJpdGUtaWNvbiB2aWV3LXRvdGFsLW1hcmstaWNvbic7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5idXR0b25UeXBlID09PSBlbnVtcy5HcmlkVHlwZS50b3RhbE1hcmtzKSB7XG4gICAgICAgICAgICBidXR0b25UaXRsZSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC52aWV3LXN3aXRjaGVyLnRvdGFsLW1hcmstdmlldycpO1xuICAgICAgICAgICAgaWNvblN0eWxlID0gJ3Nwcml0ZS1pY29uIGdyaWQtdmlldy1pY29uJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIF9jbGFzcyA9ICdzd2l0Y2gtdmlldyBhY3RpdmUnO1xuICAgICAgICAgICAgY2xpY2sgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX2NsYXNzID0gJ3N3aXRjaC12aWV3JztcbiAgICAgICAgICAgIGNsaWNrID0gdGhpcy50b2dnbGVWaWV3O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcblxuICAgICAgICAgICAgPGEgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApJyB0aXRsZT17YnV0dG9uVGl0bGV9XG4gICAgICAgICAgICAgICAga2V5PXsna2V5XycgKyB0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2NsaWNrIH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e19jbGFzc30gPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiAgY2xhc3NOYW1lPXtpY29uU3R5bGV9ID48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndmlldy10ZXh0JyBpZCA9IHt0aGlzLnByb3BzLmlkICsgJ19Ub2dnbGVUZXh0J30+e2J1dHRvblRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGhpcyB3aWxsIHRvZ2dsZSB0aGUgZ3JpZCB2aWV3ICh0aWxlL2RldGFpbCkuXG4gICAgICovXG4gICAgcHJpdmF0ZSB0b2dnbGVWaWV3KGV2bnQ6IGFueSkge1xuICAgICAgICB0aGlzLnByb3BzLnRvZ2dsZUdyaWRWaWV3KCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCA9IEdyaWRUb2dnbGVCdXR0b247XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2dyaWR0b2dnbGVidXR0b24udHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBOzs7QUFHQTtBQUNBO0FBQUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUdBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 530:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/worklist/shared/worklistmessage.tsx ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar localeHelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\n/**\r\n * Class for displaying worklist message.\r\n */\r\nvar WorkListMessage = /** @class */ (function (_super) {\r\n    __extends(WorkListMessage, _super);\r\n    /**\r\n     * Constructor for worklist message\r\n     * @param props\r\n     */\r\n    function WorkListMessage(props) {\r\n        return _super.call(this, props, null) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    WorkListMessage.prototype.render = function () {\r\n        if (this.props.hasResponsesAvailableInPool === true) {\r\n            if (!this.props.isSimulation) {\r\n                // return the worklistmessage based on AggregateQIGTargets CC value\r\n                var worklistEmptyMessage = this.worklistMessageBody;\r\n                /** Replacing the message with concurrent limit */\r\n                worklistEmptyMessage = worklistEmptyMessage.replace('{0}', localeHelper.toLocaleString(this.props.responseConcurrentLimit));\r\n                return (React.createElement(\"div\", { className: 'grid-holder grid-view' },\r\n                    React.createElement(\"div\", { className: 'grid-wrapper', id: this.props.id },\r\n                        React.createElement(\"div\", { className: 'message-box dark-msg info-guide callout download-resp-msg' },\r\n                            React.createElement(\"h4\", { id: this.props.id + '_messageHeader', className: 'bolder padding-bottom-10' }, localeStore.instance.TranslateText('marking.worklist.empty-worklist-helper.header')),\r\n                            React.createElement(\"p\", { id: this.props.id + '_messageContent', className: 'message-body' },\r\n                                localeStore.instance.TranslateText('marking.worklist.empty-worklist-helper.body-line-1'),\r\n                                \" \",\r\n                                React.createElement(\"br\", null),\r\n                                worklistEmptyMessage,\r\n                                \" \",\r\n                                React.createElement(\"br\", null),\r\n                                React.createElement(\"br\", null),\r\n                                localeStore.instance.TranslateText('marking.worklist.empty-worklist-helper.body-line-3'))))));\r\n            }\r\n            else {\r\n                return (React.createElement(\"div\", { className: 'grid-holder grid-view' },\r\n                    React.createElement(\"div\", { className: 'grid-wrapper', id: this.props.id },\r\n                        React.createElement(\"div\", { className: 'message-box text-left float-msg dark-msg info-guide callout download-resp-msg' },\r\n                            React.createElement(\"h4\", { id: this.props.id + '_messageHeader', className: 'bolder padding-bottom-10' }, localeStore.instance.TranslateText('marking.worklist.empty-worklist-helper.header')),\r\n                            React.createElement(\"p\", { id: this.props.id + '_messageContent1', className: 'message-body' }, localeStore.instance.TranslateText('marking.worklist.simulation-helper.body-line-1')),\r\n                            React.createElement(\"p\", { id: this.props.id + '_messageContent2', className: 'message-body padding-top-10' }, localeStore.instance.TranslateText('marking.worklist.simulation-helper.body-line-2'))))));\r\n            }\r\n        }\r\n        else if (this.props.hasTargetCompleted === true) {\r\n            return (React.createElement(\"div\", { className: 'grid-holder grid-view' },\r\n                React.createElement(\"div\", { className: 'grid-wrapper', id: this.props.id },\r\n                    React.createElement(\"div\", { className: 'message-box dark-msg float-msg info-guide download-resp-msg' },\r\n                        React.createElement(\"h4\", { id: this.props.id + '_messageHeader', className: 'bolder padding-bottom-10' }, localeStore.instance.TranslateText('marking.worklist.marking-target-complete-helper.header')),\r\n                        React.createElement(\"p\", { id: this.props.id + '_messageContent', className: 'message-body' },\r\n                            this.worklistMessageBody,\r\n                            \" \")))));\r\n        }\r\n        else {\r\n            return (React.createElement(\"div\", { className: 'grid-holder grid-view' },\r\n                React.createElement(\"div\", { className: 'grid-wrapper', id: this.props.id },\r\n                    React.createElement(\"div\", { className: 'message-box dark-msg info-guide download-resp-msg' },\r\n                        React.createElement(\"h4\", { id: this.props.id + '_messageHeader', className: 'bolder padding-bottom-10' }, localeStore.instance.TranslateText('marking.worklist.no-responses-available-helper.header')),\r\n                        React.createElement(\"p\", { id: this.props.id + '_messageContent', className: 'message-body' }, localeStore.instance.TranslateText('marking.worklist.no-responses-available-helper.body'))))));\r\n        }\r\n    };\r\n    Object.defineProperty(WorkListMessage.prototype, \"worklistMessageBody\", {\r\n        /**\r\n         * Return corresonding worklistmessage based on condition.\r\n         */\r\n        get: function () {\r\n            if (this.props.hasResponsesAvailableInPool && !this.props.isSimulation) {\r\n                if (this.props.isAggregateQIGTargetsON) {\r\n                    return localeStore.instance.TranslateText('marking.worklist.empty-worklist-helper.aggregated-body-line-2');\r\n                }\r\n                else {\r\n                    return localeStore.instance.TranslateText('marking.worklist.empty-worklist-helper.body-line-2');\r\n                }\r\n            }\r\n            else if (this.props.hasTargetCompleted === true) {\r\n                if (!this.props.isAggregateQIGTargetsON) {\r\n                    return localeStore.instance.TranslateText('marking.worklist.marking-target-complete-helper.body');\r\n                }\r\n                else {\r\n                    return localeStore.instance.TranslateText('marking.worklist.marking-target-complete-helper.aggregate-body');\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return WorkListMessage;\r\n}(pureRenderComponent));\r\nmodule.exports = WorkListMessage;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3dvcmtsaXN0bWVzc2FnZS50c3g/MDU0NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGxvY2FsZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBCdXN5SW5kaWNhdG9yID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9idXN5aW5kaWNhdG9yL2J1c3lpbmRpY2F0b3InKTtcclxuaW1wb3J0IHRhcmdldFN1bW1hcnlTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC90YXJnZXRzdW1tYXJ5c3RvcmUnKTtcclxuaW1wb3J0IG1hcmtpbmdUYXJnZXRTdW1tYXJ5ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3R5cGluZ3MvbWFya2luZ3RhcmdldHN1bW1hcnknKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wc1xyXG4gKiBAcGFyYW0ge1Byb3BzfSBwcm9wc1xyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGhhc1Jlc3BvbnNlc0F2YWlsYWJsZUluUG9vbDogYm9vbGVhbjtcclxuICAgIHJlc3BvbnNlQ29uY3VycmVudExpbWl0PzogbnVtYmVyO1xyXG4gICAgaGFzVGFyZ2V0Q29tcGxldGVkPzogYm9vbGVhbjtcclxuICAgIGlzU2ltdWxhdGlvbj86IGJvb2xlYW47XHJcbiAgICBpc0FnZ3JlZ2F0ZVFJR1RhcmdldHNPTj86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGFzcyBmb3IgZGlzcGxheWluZyB3b3JrbGlzdCBtZXNzYWdlLlxyXG4gKi9cclxuY2xhc3MgV29ya0xpc3RNZXNzYWdlIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3Igd29ya2xpc3QgbWVzc2FnZSBcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgbnVsbCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaGFzUmVzcG9uc2VzQXZhaWxhYmxlSW5Qb29sID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5pc1NpbXVsYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgd29ya2xpc3RtZXNzYWdlIGJhc2VkIG9uIEFnZ3JlZ2F0ZVFJR1RhcmdldHMgQ0MgdmFsdWVcclxuICAgICAgICAgICAgICAgIGxldCB3b3JrbGlzdEVtcHR5TWVzc2FnZSA6IHN0cmluZyA9IHRoaXMud29ya2xpc3RNZXNzYWdlQm9keTtcclxuICAgICAgICAgICAgICAgIC8qKiBSZXBsYWNpbmcgdGhlIG1lc3NhZ2Ugd2l0aCBjb25jdXJyZW50IGxpbWl0ICovXHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdEVtcHR5TWVzc2FnZSA9IHdvcmtsaXN0RW1wdHlNZXNzYWdlLnJlcGxhY2UoJ3swfScsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlSGVscGVyLnRvTG9jYWxlU3RyaW5nKHRoaXMucHJvcHMucmVzcG9uc2VDb25jdXJyZW50TGltaXQpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQtaG9sZGVyIGdyaWQtdmlldyc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkLXdyYXBwZXInIGlkPXt0aGlzLnByb3BzLmlkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZXNzYWdlLWJveCBkYXJrLW1zZyBpbmZvLWd1aWRlIGNhbGxvdXQgZG93bmxvYWQtcmVzcC1tc2cnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBpZD17dGhpcy5wcm9wcy5pZCArICdfbWVzc2FnZUhlYWRlcid9IGNsYXNzTmFtZT0nYm9sZGVyIHBhZGRpbmctYm90dG9tLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QuZW1wdHktd29ya2xpc3QtaGVscGVyLmhlYWRlcicpfTwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX21lc3NhZ2VDb250ZW50J30gY2xhc3NOYW1lPSdtZXNzYWdlLWJvZHknPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5lbXB0eS13b3JrbGlzdC1oZWxwZXIuYm9keS1saW5lLTEnKX0gPGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt3b3JrbGlzdEVtcHR5TWVzc2FnZX0gPGJyIC8+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmVtcHR5LXdvcmtsaXN0LWhlbHBlci5ib2R5LWxpbmUtMycpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkLWhvbGRlciBncmlkLXZpZXcnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JpZC13cmFwcGVyJyBpZD17dGhpcy5wcm9wcy5pZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWVzc2FnZS1ib3ggdGV4dC1sZWZ0IGZsb2F0LW1zZyBkYXJrLW1zZyBpbmZvLWd1aWRlIGNhbGxvdXQgZG93bmxvYWQtcmVzcC1tc2cnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBpZD17dGhpcy5wcm9wcy5pZCArICdfbWVzc2FnZUhlYWRlcid9IGNsYXNzTmFtZT0nYm9sZGVyIHBhZGRpbmctYm90dG9tLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QuZW1wdHktd29ya2xpc3QtaGVscGVyLmhlYWRlcicpfTwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX21lc3NhZ2VDb250ZW50MSd9IGNsYXNzTmFtZT0nbWVzc2FnZS1ib2R5Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3Quc2ltdWxhdGlvbi1oZWxwZXIuYm9keS1saW5lLTEnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX21lc3NhZ2VDb250ZW50Mid9IGNsYXNzTmFtZT0nbWVzc2FnZS1ib2R5IHBhZGRpbmctdG9wLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3Quc2ltdWxhdGlvbi1oZWxwZXIuYm9keS1saW5lLTInKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmhhc1RhcmdldENvbXBsZXRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQtaG9sZGVyIGdyaWQtdmlldyc+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQtd3JhcHBlcicgaWQgPSB7dGhpcy5wcm9wcy5pZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZXNzYWdlLWJveCBkYXJrLW1zZyBmbG9hdC1tc2cgaW5mby1ndWlkZSBkb3dubG9hZC1yZXNwLW1zZyc+XHJcbiAgICAgICAgICAgIDxoNCBpZCA9IHt0aGlzLnByb3BzLmlkICsgJ19tZXNzYWdlSGVhZGVyJ30gY2xhc3NOYW1lPSdib2xkZXIgcGFkZGluZy1ib3R0b20tMTAnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0Lm1hcmtpbmctdGFyZ2V0LWNvbXBsZXRlLWhlbHBlci5oZWFkZXInKSB9PC9oND5cclxuICAgICAgICAgICAgICAgIDxwIGlkID0geyB0aGlzLnByb3BzLmlkICsgJ19tZXNzYWdlQ29udGVudCcgfSBjbGFzc05hbWU9ICdtZXNzYWdlLWJvZHknID5cclxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMud29ya2xpc3RNZXNzYWdlQm9keSB9IDwvcCA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkLWhvbGRlciBncmlkLXZpZXcnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkLXdyYXBwZXInIGlkID0ge3RoaXMucHJvcHMuaWR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWVzc2FnZS1ib3ggZGFyay1tc2cgaW5mby1ndWlkZSBkb3dubG9hZC1yZXNwLW1zZyc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgaWQgPSB7dGhpcy5wcm9wcy5pZCArICdfbWVzc2FnZUhlYWRlcid9IGNsYXNzTmFtZT0nYm9sZGVyIHBhZGRpbmctYm90dG9tLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5uby1yZXNwb25zZXMtYXZhaWxhYmxlLWhlbHBlci5oZWFkZXInKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGlkID0ge3RoaXMucHJvcHMuaWQgKyAnX21lc3NhZ2VDb250ZW50J30gY2xhc3NOYW1lPSdtZXNzYWdlLWJvZHknPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0Lm5vLXJlc3BvbnNlcy1hdmFpbGFibGUtaGVscGVyLmJvZHknKSB9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBjb3JyZXNvbmRpbmcgd29ya2xpc3RtZXNzYWdlIGJhc2VkIG9uIGNvbmRpdGlvbi5cclxuICAgICAqL1xyXG5cclxuICAgIHByaXZhdGUgZ2V0IHdvcmtsaXN0TWVzc2FnZUJvZHkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaGFzUmVzcG9uc2VzQXZhaWxhYmxlSW5Qb29sICYmICF0aGlzLnByb3BzLmlzU2ltdWxhdGlvbikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5pc0FnZ3JlZ2F0ZVFJR1RhcmdldHNPTikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QuZW1wdHktd29ya2xpc3QtaGVscGVyLmFnZ3JlZ2F0ZWQtYm9keS1saW5lLTInKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmVtcHR5LXdvcmtsaXN0LWhlbHBlci5ib2R5LWxpbmUtMicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmhhc1RhcmdldENvbXBsZXRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucHJvcHMuaXNBZ2dyZWdhdGVRSUdUYXJnZXRzT04pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0Lm1hcmtpbmctdGFyZ2V0LWNvbXBsZXRlLWhlbHBlci5ib2R5Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5tYXJraW5nLXRhcmdldC1jb21wbGV0ZS1oZWxwZXIuYWdncmVnYXRlLWJvZHknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gV29ya0xpc3RNZXNzYWdlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvd29ya2xpc3RtZXNzYWdlLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrQkE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUFBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFLQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQU1BO0FBQ0E7QUFNQTtBQUpBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 533:
/* no static exports found */
/* all exports used */
/*!*******************************************************!*\
  !*** ./src/stores/qigselector/qigvalidationresult.ts ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar qigValidationResultBase = __webpack_require__(/*! ./qigvalidationresultbase */ 485);\r\nvar QigValidationResult = /** @class */ (function (_super) {\r\n    __extends(QigValidationResult, _super);\r\n    function QigValidationResult() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.isSimulationMode = false;\r\n        _this.isInStandardisationMode = false;\r\n        return _this;\r\n    }\r\n    return QigValidationResult;\r\n}(qigValidationResultBase));\r\nmodule.exports = QigValidationResult;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWd2YWxpZGF0aW9ucmVzdWx0LnRzP2YzOTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHFpZ1ZhbGlkYXRpb25SZXN1bHRCYXNlID0gcmVxdWlyZSgnLi9xaWd2YWxpZGF0aW9ucmVzdWx0YmFzZScpO1xyXG5cclxuY2xhc3MgUWlnVmFsaWRhdGlvblJlc3VsdCBleHRlbmRzIHFpZ1ZhbGlkYXRpb25SZXN1bHRCYXNlIHtcclxuICAgIHB1YmxpYyBvcGVuUmVzcG9uc2VzQ291bnQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBzdGF0dXNDb2xvdXJDbGFzczogc3RyaW5nO1xyXG4gICAgcHVibGljIGlzU2ltdWxhdGlvbk1vZGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyBpc0luU3RhbmRhcmRpc2F0aW9uTW9kZTogYm9vbGVhbiA9IGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgPSBRaWdWYWxpZGF0aW9uUmVzdWx0O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3ZhbGlkYXRpb25yZXN1bHQudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7O0FBQ0E7QUFBQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 584:
/* no static exports found */
/* all exports used */
/*!*****************************************************************************************!*\
  !*** ./src/components/utility/responseallocation/responseallocationvalidationhelper.ts ***!
  \*****************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\nvar responseAllocationValidationParameter = __webpack_require__(/*! ./responseallocationvalidationparameter */ 522);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar localeHelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * Helper class for response allocation validation\r\n */\r\nvar ResponseAllocationValidationHelper = /** @class */ (function () {\r\n    function ResponseAllocationValidationHelper() {\r\n    }\r\n    /**\r\n     * Returns an entity representing the states to be set as a result of Response Allocation request failure\r\n     * @param responseAllocationValidationParameter\r\n     */\r\n    ResponseAllocationValidationHelper.Validate = function (responseAllocationErrorCode, allocatedResponseCount, examinerApprovalStatus) {\r\n        var errorDialogHeaderText = localeStore.instance.TranslateText('marking.worklist.response-allocation-error-dialog.response-allocation-error-header');\r\n        // get the response allocation error message based on AggregateQIGTargets CC value.\r\n        var errorDialogContentText = this.getResponseAllocationErrorMessage(responseAllocationErrorCode);\r\n        var currentWorklistType = worklistStore.instance.currentWorklistType;\r\n        // In simulation worklist examiner approval status is irrelevant\r\n        if (currentWorklistType !== enums.WorklistType.simulation &&\r\n            (examinerApprovalStatus === enums.ExaminerApproval.Suspended\r\n                || examinerApprovalStatus === enums.ExaminerApproval.NotApproved)) {\r\n            errorDialogContentText = localeStore.instance.TranslateText('marking.worklist.approval-status-changed-dialog.body');\r\n        }\r\n        else {\r\n            // if the error code 'noSeedAvailable', then changing the error code to 'noResponseAvailable'.\r\n            if (responseAllocationErrorCode === enums.ResponseAllocationErrorCode.noSeedAvailable) {\r\n                responseAllocationErrorCode = enums.ResponseAllocationErrorCode.noResponseAvailable;\r\n            }\r\n            switch (responseAllocationErrorCode) {\r\n                case enums.ResponseAllocationErrorCode.concurrentLimitNotMet:\r\n                case enums.ResponseAllocationErrorCode.markingLimitReached:\r\n                    errorDialogContentText = errorDialogContentText.replace('{0}', localeHelper.toLocaleString(allocatedResponseCount));\r\n                    break;\r\n                default:\r\n                    errorDialogContentText = localeStore.instance.TranslateText('marking.worklist.response-allocation-error-dialog.response-allocation-error-'\r\n                        + enums.ResponseAllocationErrorCode[responseAllocationErrorCode]);\r\n                    break;\r\n            }\r\n        }\r\n        return new responseAllocationValidationParameter(errorDialogHeaderText, errorDialogContentText, true);\r\n    };\r\n    /**\r\n     * Return coresponding response allocation error message based on AggregateQIGTargets CC value.\r\n     */\r\n    ResponseAllocationValidationHelper.getResponseAllocationErrorMessage = function (responseAllocationErrorCode) {\r\n        var isAggregateQIGTargetsON = qigStore.instance.isAggregatedQigCCEnabledForCurrentQig;\r\n        if (isAggregateQIGTargetsON && responseAllocationErrorCode === enums.ResponseAllocationErrorCode.markingLimitReached) {\r\n            return localeStore.instance.TranslateText('marking.worklist.response-allocation-error-dialog.response-allocation-error-aggregate-'\r\n                + enums.ResponseAllocationErrorCode[responseAllocationErrorCode]);\r\n        }\r\n        else {\r\n            return localeStore.instance.TranslateText('marking.worklist.response-allocation-error-dialog.response-allocation-error-'\r\n                + enums.ResponseAllocationErrorCode[responseAllocationErrorCode]);\r\n        }\r\n    };\r\n    return ResponseAllocationValidationHelper;\r\n}());\r\nmodule.exports = ResponseAllocationValidationHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTg0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9yZXNwb25zZWFsbG9jYXRpb24vcmVzcG9uc2VhbGxvY2F0aW9udmFsaWRhdGlvbmhlbHBlci50cz85Nzc1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uL2VudW1zJyk7XHJcbmltcG9ydCByZXNwb25zZUFsbG9jYXRpb25WYWxpZGF0aW9uUGFyYW1ldGVyID0gcmVxdWlyZSgnLi9yZXNwb25zZWFsbG9jYXRpb252YWxpZGF0aW9ucGFyYW1ldGVyJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGxvY2FsZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgZXhhbWluZXJTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tYXJrZXJpbmZvcm1hdGlvbi9leGFtaW5lcnN0b3JlJyk7XHJcbmltcG9ydCB3b3JrbGlzdFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3dvcmtsaXN0c3RvcmUnKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcblxyXG4vKipcclxuICogSGVscGVyIGNsYXNzIGZvciByZXNwb25zZSBhbGxvY2F0aW9uIHZhbGlkYXRpb25cclxuICovXHJcbmNsYXNzIFJlc3BvbnNlQWxsb2NhdGlvblZhbGlkYXRpb25IZWxwZXIge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBlbnRpdHkgcmVwcmVzZW50aW5nIHRoZSBzdGF0ZXMgdG8gYmUgc2V0IGFzIGEgcmVzdWx0IG9mIFJlc3BvbnNlIEFsbG9jYXRpb24gcmVxdWVzdCBmYWlsdXJlXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VBbGxvY2F0aW9uVmFsaWRhdGlvblBhcmFtZXRlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIFZhbGlkYXRlKHJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZTogZW51bXMuUmVzcG9uc2VBbGxvY2F0aW9uRXJyb3JDb2RlLFxyXG4gICAgICAgIGFsbG9jYXRlZFJlc3BvbnNlQ291bnQ6IG51bWJlcixcclxuICAgICAgICBleGFtaW5lckFwcHJvdmFsU3RhdHVzOiBlbnVtcy5FeGFtaW5lckFwcHJvdmFsKTogcmVzcG9uc2VBbGxvY2F0aW9uVmFsaWRhdGlvblBhcmFtZXRlciB7XHJcblxyXG4gICAgICAgIGxldCBlcnJvckRpYWxvZ0hlYWRlclRleHQ6IHN0cmluZyA9XHJcbiAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtYWxsb2NhdGlvbi1lcnJvci1kaWFsb2cucmVzcG9uc2UtYWxsb2NhdGlvbi1lcnJvci1oZWFkZXInKTtcclxuICAgICAgICAvLyBnZXQgdGhlIHJlc3BvbnNlIGFsbG9jYXRpb24gZXJyb3IgbWVzc2FnZSBiYXNlZCBvbiBBZ2dyZWdhdGVRSUdUYXJnZXRzIENDIHZhbHVlLlxyXG4gICAgICAgIGxldCBlcnJvckRpYWxvZ0NvbnRlbnRUZXh0OiBzdHJpbmcgPSB0aGlzLmdldFJlc3BvbnNlQWxsb2NhdGlvbkVycm9yTWVzc2FnZShyZXNwb25zZUFsbG9jYXRpb25FcnJvckNvZGUpO1xyXG5cclxuICAgICAgICBsZXQgY3VycmVudFdvcmtsaXN0VHlwZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZTtcclxuXHJcbiAgICAgICAgLy8gSW4gc2ltdWxhdGlvbiB3b3JrbGlzdCBleGFtaW5lciBhcHByb3ZhbCBzdGF0dXMgaXMgaXJyZWxldmFudFxyXG4gICAgICAgIGlmIChjdXJyZW50V29ya2xpc3RUeXBlICE9PSBlbnVtcy5Xb3JrbGlzdFR5cGUuc2ltdWxhdGlvbiAmJlxyXG4gICAgICAgICAgICAoZXhhbWluZXJBcHByb3ZhbFN0YXR1cyA9PT0gZW51bXMuRXhhbWluZXJBcHByb3ZhbC5TdXNwZW5kZWRcclxuICAgICAgICAgICAgICAgIHx8IGV4YW1pbmVyQXBwcm92YWxTdGF0dXMgPT09IGVudW1zLkV4YW1pbmVyQXBwcm92YWwuTm90QXBwcm92ZWQpKSB7XHJcbiAgICAgICAgICAgIGVycm9yRGlhbG9nQ29udGVudFRleHQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmJvZHknKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgZXJyb3IgY29kZSAnbm9TZWVkQXZhaWxhYmxlJywgdGhlbiBjaGFuZ2luZyB0aGUgZXJyb3IgY29kZSB0byAnbm9SZXNwb25zZUF2YWlsYWJsZScuXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZUFsbG9jYXRpb25FcnJvckNvZGUgPT09IGVudW1zLlJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZS5ub1NlZWRBdmFpbGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZSA9IGVudW1zLlJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZS5ub1Jlc3BvbnNlQXZhaWxhYmxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN3aXRjaCAocmVzcG9uc2VBbGxvY2F0aW9uRXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZS5jb25jdXJyZW50TGltaXROb3RNZXQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZS5tYXJraW5nTGltaXRSZWFjaGVkOlxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yRGlhbG9nQ29udGVudFRleHQgPSBlcnJvckRpYWxvZ0NvbnRlbnRUZXh0LnJlcGxhY2UoJ3swfScsIGxvY2FsZUhlbHBlci50b0xvY2FsZVN0cmluZyhhbGxvY2F0ZWRSZXNwb25zZUNvdW50KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yRGlhbG9nQ29udGVudFRleHQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1hbGxvY2F0aW9uLWVycm9yLWRpYWxvZy5yZXNwb25zZS1hbGxvY2F0aW9uLWVycm9yLSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgKyBlbnVtcy5SZXNwb25zZUFsbG9jYXRpb25FcnJvckNvZGVbcmVzcG9uc2VBbGxvY2F0aW9uRXJyb3JDb2RlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyByZXNwb25zZUFsbG9jYXRpb25WYWxpZGF0aW9uUGFyYW1ldGVyKGVycm9yRGlhbG9nSGVhZGVyVGV4dCwgZXJyb3JEaWFsb2dDb250ZW50VGV4dCwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gY29yZXNwb25kaW5nIHJlc3BvbnNlIGFsbG9jYXRpb24gZXJyb3IgbWVzc2FnZSBiYXNlZCBvbiBBZ2dyZWdhdGVRSUdUYXJnZXRzIENDIHZhbHVlLlxyXG4gICAgICovXHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0UmVzcG9uc2VBbGxvY2F0aW9uRXJyb3JNZXNzYWdlKHJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZTogZW51bXMuUmVzcG9uc2VBbGxvY2F0aW9uRXJyb3JDb2RlKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgaXNBZ2dyZWdhdGVRSUdUYXJnZXRzT04gPSBxaWdTdG9yZS5pbnN0YW5jZS5pc0FnZ3JlZ2F0ZWRRaWdDQ0VuYWJsZWRGb3JDdXJyZW50UWlnO1xyXG4gICAgICAgIGlmIChpc0FnZ3JlZ2F0ZVFJR1RhcmdldHNPTiAmJiByZXNwb25zZUFsbG9jYXRpb25FcnJvckNvZGUgPT09IGVudW1zLlJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZS5tYXJraW5nTGltaXRSZWFjaGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtYWxsb2NhdGlvbi1lcnJvci1kaWFsb2cucmVzcG9uc2UtYWxsb2NhdGlvbi1lcnJvci1hZ2dyZWdhdGUtJ1xyXG4gICAgICAgICAgICAgICAgKyBlbnVtcy5SZXNwb25zZUFsbG9jYXRpb25FcnJvckNvZGVbcmVzcG9uc2VBbGxvY2F0aW9uRXJyb3JDb2RlXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtYWxsb2NhdGlvbi1lcnJvci1kaWFsb2cucmVzcG9uc2UtYWxsb2NhdGlvbi1lcnJvci0nXHJcbiAgICAgICAgICAgICAgICArIGVudW1zLlJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZVtyZXNwb25zZUFsbG9jYXRpb25FcnJvckNvZGVdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFJlc3BvbnNlQWxsb2NhdGlvblZhbGlkYXRpb25IZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvcmVzcG9uc2VhbGxvY2F0aW9uL3Jlc3BvbnNlYWxsb2NhdGlvbnZhbGlkYXRpb25oZWxwZXIudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUEwREE7QUF4REE7OztBQUdBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 585:
/* no static exports found */
/* all exports used */
/*!******************************************************************!*\
  !*** ./src/components/worklist/banner/qualityfeedbackbanner.tsx ***!
  \******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar bannerBase = __webpack_require__(/*! ../../utility/banner/bannerbase */ 472);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\n/**\r\n *  Quality feedback banner\r\n */\r\nvar QualityFeedbackBanner = /** @class */ (function (_super) {\r\n    __extends(QualityFeedbackBanner, _super);\r\n    /**\r\n     * Constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function QualityFeedbackBanner(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * On quality feedback banner click\r\n         */\r\n        _this.onQualityFeedbackBannerClickHandler = function (event) {\r\n            event.stopPropagation();\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    QualityFeedbackBanner.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", { onClick: function (e) { return _this.onQualityFeedbackBannerClickHandler(e); }, className: 'message-box text-left float-msg dark-msg info-guide callout marking-approved-msg' },\r\n            React.createElement(\"p\", { className: 'message-body' }, localeStore.instance.TranslateText(this.props.message))));\r\n    };\r\n    return QualityFeedbackBanner;\r\n}(bannerBase));\r\nmodule.exports = QualityFeedbackBanner;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTg1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3QvYmFubmVyL3F1YWxpdHlmZWVkYmFja2Jhbm5lci50c3g/OWI0MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuLyogdHNsaW50OmVuYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IGJhbm5lckJhc2UgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2Jhbm5lci9iYW5uZXJiYXNlJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuXHJcbi8qKlxyXG4gKiAgUXVhbGl0eSBmZWVkYmFjayBiYW5uZXJcclxuICovXHJcbmNsYXNzIFF1YWxpdHlGZWVkYmFja0Jhbm5lciBleHRlbmRzIGJhbm5lckJhc2Uge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBhbnksIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuXHJcbiAgICAgICAgcmV0dXJuICg8ZGl2IG9uQ2xpY2sgPSB7KGUpID0+IHRoaXMub25RdWFsaXR5RmVlZGJhY2tCYW5uZXJDbGlja0hhbmRsZXIoZSkgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9ICdtZXNzYWdlLWJveCB0ZXh0LWxlZnQgZmxvYXQtbXNnIGRhcmstbXNnIGluZm8tZ3VpZGUgY2FsbG91dCBtYXJraW5nLWFwcHJvdmVkLW1zZyc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lID0gJ21lc3NhZ2UtYm9keSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCh0aGlzLnByb3BzLm1lc3NhZ2UpIH1cclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj4pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gcXVhbGl0eSBmZWVkYmFjayBiYW5uZXIgY2xpY2tcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblF1YWxpdHlGZWVkYmFja0Jhbm5lckNsaWNrSGFuZGxlciA9IChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgPSBRdWFsaXR5RmVlZGJhY2tCYW5uZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L2Jhbm5lci9xdWFsaXR5ZmVlZGJhY2tiYW5uZXIudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUFBO0FBaUJBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQXBCQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFJQTtBQVFBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 586:
/* no static exports found */
/* all exports used */
/*!******************************************************************!*\
  !*** ./src/components/worklist/markcheck/markcheckexaminers.tsx ***!
  \******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar _this = this;\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar stringFormatHelper = __webpack_require__(/*! ../../../utility/stringformat/stringformathelper */ 250);\r\nvar markCheckExaminers = function (props) {\r\n    var that = _this;\r\n    var toRender = props.markCheckExaminers.map(function (examinerData) {\r\n        var examinerIndex = props.markCheckExaminers.indexOf(examinerData) + 1;\r\n        var roleText = 'examiner-roles.' + enums.ExaminerRole[examinerData.roleID];\r\n        var _className = 'profile-info';\r\n        if (examinerData.isSelected) {\r\n            _className = _className + ' active';\r\n        }\r\n        var formattedString = stringFormatHelper.getUserNameFormat().toLowerCase();\r\n        formattedString = formattedString.replace('{initials}', examinerData.toExaminer.initials);\r\n        formattedString = formattedString.replace('{surname}', examinerData.toExaminer.surname);\r\n        return (React.createElement(\"div\", { className: _className, id: 'markCheckRequestedExaminerInfo_' + examinerIndex, onClick: function () { props.onExaminerClick(examinerData.fromExaminerID); } },\r\n            React.createElement(\"a\", { className: 'examiner-info relative clearfix' },\r\n                React.createElement(\"div\", { className: 'user-photo-holder user-medium-icon sprite-icon' }),\r\n                React.createElement(\"div\", { className: 'user-details-holder' },\r\n                    React.createElement(\"div\", { className: 'user-name large-text' }, formattedString),\r\n                    React.createElement(\"div\", { className: 'designation small-text' }, localeStore.instance.TranslateText('generic.' + roleText))))));\r\n    });\r\n    return (React.createElement(\"div\", { className: 'column-left-inner' }, toRender));\r\n};\r\nmodule.exports = markCheckExaminers;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTg2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3QvbWFya2NoZWNrL21hcmtjaGVja2V4YW1pbmVycy50c3g/Y2ZlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IHdvcmtsaXN0QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvd29ya2xpc3Qvd29ya2xpc3RhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBzdHJpbmdGb3JtYXRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L3N0cmluZ2Zvcm1hdC9zdHJpbmdmb3JtYXRoZWxwZXInKTtcclxuXHJcbmludGVyZmFjZSBNYXJrQ2hlY2tFeGFtaW5lcnNQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcblxyXG4gICAgbWFya0NoZWNrRXhhbWluZXJzOiBJbW11dGFibGUuTGlzdDxNYXJraW5nQ2hlY2tFeGFtaW5lckluZm8+O1xyXG4gICAgb25FeGFtaW5lckNsaWNrIDogRnVuY3Rpb247XHJcbn1cclxuXHJcbmNvbnN0IG1hcmtDaGVja0V4YW1pbmVyczogUmVhY3QuU3RhdGVsZXNzQ29tcG9uZW50PE1hcmtDaGVja0V4YW1pbmVyc1Byb3BzPiA9IChwcm9wczogTWFya0NoZWNrRXhhbWluZXJzUHJvcHMpID0+IHtcclxuICAgIGxldCB0aGF0ID0gdGhpcztcclxuXHJcbiAgICBsZXQgdG9SZW5kZXIgPSBwcm9wcy5tYXJrQ2hlY2tFeGFtaW5lcnMubWFwKChleGFtaW5lckRhdGE6IE1hcmtpbmdDaGVja0V4YW1pbmVySW5mbykgPT4ge1xyXG4gICAgICAgIGxldCBleGFtaW5lckluZGV4OiBudW1iZXIgPSBwcm9wcy5tYXJrQ2hlY2tFeGFtaW5lcnMuaW5kZXhPZihleGFtaW5lckRhdGEpICsgMTtcclxuICAgICAgICBsZXQgcm9sZVRleHQgPSAnZXhhbWluZXItcm9sZXMuJyArIGVudW1zLkV4YW1pbmVyUm9sZVtleGFtaW5lckRhdGEucm9sZUlEXTtcclxuICAgICAgICBsZXQgX2NsYXNzTmFtZTogc3RyaW5nID0gJ3Byb2ZpbGUtaW5mbyc7XHJcbiAgICAgICAgaWYgKGV4YW1pbmVyRGF0YS5pc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIF9jbGFzc05hbWUgPSBfY2xhc3NOYW1lICsgJyBhY3RpdmUnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZFN0cmluZzogc3RyaW5nID0gc3RyaW5nRm9ybWF0SGVscGVyLmdldFVzZXJOYW1lRm9ybWF0KCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSBmb3JtYXR0ZWRTdHJpbmcucmVwbGFjZSgne2luaXRpYWxzfScsIGV4YW1pbmVyRGF0YS50b0V4YW1pbmVyLmluaXRpYWxzKTtcclxuICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSBmb3JtYXR0ZWRTdHJpbmcucmVwbGFjZSgne3N1cm5hbWV9JywgZXhhbWluZXJEYXRhLnRvRXhhbWluZXIuc3VybmFtZSk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtfY2xhc3NOYW1lfVxyXG4gICAgICAgICAgICAgICAgaWQ9eydtYXJrQ2hlY2tSZXF1ZXN0ZWRFeGFtaW5lckluZm9fJyArIGV4YW1pbmVySW5kZXh9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHByb3BzLm9uRXhhbWluZXJDbGljayhleGFtaW5lckRhdGEuZnJvbUV4YW1pbmVySUQpOyB9fT5cclxuICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9J2V4YW1pbmVyLWluZm8gcmVsYXRpdmUgY2xlYXJmaXgnPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3VzZXItcGhvdG8taG9sZGVyIHVzZXItbWVkaXVtLWljb24gc3ByaXRlLWljb24nPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3VzZXItZGV0YWlscy1ob2xkZXInPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndXNlci1uYW1lIGxhcmdlLXRleHQnPntmb3JtYXR0ZWRTdHJpbmd9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkZXNpZ25hdGlvbiBzbWFsbC10ZXh0Jz57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy4nICsgcm9sZVRleHQpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sdW1uLWxlZnQtaW5uZXInPlxyXG4gICAgICAgICAgICAgICAgeyB0b1JlbmRlciB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG5cclxuZXhwb3J0ID0gbWFya0NoZWNrRXhhbWluZXJzO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9tYXJrY2hlY2svbWFya2NoZWNrZXhhbWluZXJzLnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBSUE7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBS0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 588:
/* no static exports found */
/* all exports used */
/*!******************************************************************************!*\
  !*** ./src/components/worklist/markerinformation/markerinformationpanel.tsx ***!
  \******************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar SupervisorInformation = __webpack_require__(/*! ./supervisorinformation */ 1221);\r\nvar PersonalInformation = __webpack_require__(/*! ./personalinformation */ 1220);\r\nvar ExaminerStateChangeButton = __webpack_require__(/*! ./examinerstatechangebutton */ 1215);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar configurablecharacteristicshelper = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurablecharacteristicsnames = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar targetsummarystore = __webpack_require__(/*! ../../../stores/worklist/targetsummarystore */ 305);\r\nvar MarkingCheckButton = __webpack_require__(/*! ./markingcheckbutton */ 1217);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar helpExaminersDataHelper = __webpack_require__(/*! ../../../utility/teammanagement/helpers/helpexaminersdatahelper */ 486);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar markingCheckActionCreator = __webpack_require__(/*! ../../../actions/markingcheck/markingcheckactioncreator */ 311);\r\nvar responseSearchHelper = __webpack_require__(/*! ../../../utility/responsesearch/responsesearchhelper */ 321);\r\nvar teamManagementStore = __webpack_require__(/*! ../../../stores/teammanagement/teammanagementstore */ 245);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar warningMessageStore = __webpack_require__(/*! ../../../stores/teammanagement/warningmessagestore */ 327);\r\nvar applicationStore = __webpack_require__(/*! ../../../stores/applicationoffline/applicationstore */ 247);\r\n/**\r\n * React class for marker information panel.\r\n */\r\nvar MarkerInformationPanel = /** @class */ (function (_super) {\r\n    __extends(MarkerInformationPanel, _super);\r\n    /**\r\n     * constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function MarkerInformationPanel(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * Change Examiner Change Status Button In Progress Status\r\n         */\r\n        _this.resetExaminerChangeStatusButtonBusyStatus = function () {\r\n            _this.isExaminerChangeStatusInProgress = false;\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Set the examiner state change button as busy\r\n         */\r\n        _this.setExaminerStateChangeButtonAsBusy = function () {\r\n            _this.isExaminerChangeStatusInProgress = true;\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Rerender the marking check button\r\n         */\r\n        _this.renderMarkingCheckDetails = function () {\r\n            _this.doDisableRequestMakingCheckButton = false;\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * getting mark check info\r\n         */\r\n        _this.getMarkCheckInfo = function () {\r\n            // fix to ensure the RequestMakingCheckButton doesn't stay disabled when going offline\r\n            _this.doDisableRequestMakingCheckButton = true;\r\n            markingCheckActionCreator.getMarkingCheckInfo(responseSearchHelper.isMarkingCheckAvailable(), qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId);\r\n        };\r\n        /**\r\n         * Actions to be done when marking check button is clicked\r\n         */\r\n        _this.onMarkingCheckButtonClick = function () {\r\n            markingCheckActionCreator.getMarkingCheckRecipients(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId);\r\n        };\r\n        /**\r\n         * Actions to be done when online status changed\r\n         */\r\n        _this.onOnlineStatusChanged = function () {\r\n            _this.isExaminerChangeStatusInProgress = false;\r\n        };\r\n        _this.helpExaminersDataHelper = new helpExaminersDataHelper();\r\n        _this.getMarkCheckInfo = _this.getMarkCheckInfo.bind(_this);\r\n        _this.renderMarkingCheckDetails = _this.renderMarkingCheckDetails.bind(_this);\r\n        _this.doDisableRequestMakingCheckButton = false;\r\n        _this.isExaminerChangeStatusInProgress = false;\r\n        _this.state = { renderedOn: Date.now() };\r\n        return _this;\r\n    }\r\n    /**\r\n     * This function gets invoked when the component is about to be mounted\r\n     */\r\n    MarkerInformationPanel.prototype.componentDidMount = function () {\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.MARKING_CHECK_STATUS_UPDATED, this.renderMarkingCheckDetails);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.DO_GET_MARKING_CHECK_INFO, this.getMarkCheckInfo);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.TOGGLE_REQUEST_MARKING_CHECK_BUTTON_EVENT, this.renderMarkingCheckDetails);\r\n        applicationStore.instance.addListener(applicationStore.ApplicationStore.ONLINE_STATUS_UPDATED_EVENT, this.onOnlineStatusChanged);\r\n        if (markerOperationModeFactory && markerOperationModeFactory.operationMode.isTeamManagementMode) {\r\n            teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.SET_EXAMINER_CHANGE_STATUS_BUTTON_AS_BUSY, this.setExaminerStateChangeButtonAsBusy);\r\n            teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.CHANGE_EXAMINER_STATUS_UPDATED, this.resetExaminerChangeStatusButtonBusyStatus);\r\n            teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.PROVIDE_SECOND_STANDARDISATION_UPDATED, this.resetExaminerChangeStatusButtonBusyStatus);\r\n            teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.APPROVAL_MANAGEMENT_ACTION_EXECUTED, this.resetExaminerChangeStatusButtonBusyStatus);\r\n            warningMessageStore.instance.addListener(warningMessageStore.WarningMessageStore.WARNING_MESSAGE_EVENT, this.resetExaminerChangeStatusButtonBusyStatus);\r\n        }\r\n    };\r\n    /**\r\n     * This function gets invoked when the component is about to be unmounted\r\n     */\r\n    MarkerInformationPanel.prototype.componentWillUnmount = function () {\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.MARKING_CHECK_STATUS_UPDATED, this.renderMarkingCheckDetails);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.DO_GET_MARKING_CHECK_INFO, this.getMarkCheckInfo);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.TOGGLE_REQUEST_MARKING_CHECK_BUTTON_EVENT, this.renderMarkingCheckDetails);\r\n        applicationStore.instance.removeListener(applicationStore.ApplicationStore.ONLINE_STATUS_UPDATED_EVENT, this.onOnlineStatusChanged);\r\n        if (markerOperationModeFactory && markerOperationModeFactory.operationMode.isTeamManagementMode) {\r\n            teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.SET_EXAMINER_CHANGE_STATUS_BUTTON_AS_BUSY, this.setExaminerStateChangeButtonAsBusy);\r\n            teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.CHANGE_EXAMINER_STATUS_UPDATED, this.resetExaminerChangeStatusButtonBusyStatus);\r\n            teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.PROVIDE_SECOND_STANDARDISATION_UPDATED, this.resetExaminerChangeStatusButtonBusyStatus);\r\n            teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.APPROVAL_MANAGEMENT_ACTION_EXECUTED, this.resetExaminerChangeStatusButtonBusyStatus);\r\n            warningMessageStore.instance.removeListener(warningMessageStore.WarningMessageStore.WARNING_MESSAGE_EVENT, this.resetExaminerChangeStatusButtonBusyStatus);\r\n        }\r\n    };\r\n    /**\r\n     * Render component\r\n     */\r\n    MarkerInformationPanel.prototype.render = function () {\r\n        if (this.props.markerInformation == null) {\r\n            return (React.createElement(\"div\", null,\r\n                React.createElement(\"span\", { className: 'loader darker text-middle' },\r\n                    React.createElement(\"span\", { className: 'dot' }),\r\n                    React.createElement(\"span\", { className: 'dot' }),\r\n                    React.createElement(\"span\", { className: 'dot' }))));\r\n        }\r\n        var markSchemeGroupId = qigStore.instance.selectedQIGForMarkerOperation ?\r\n            qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId : 0;\r\n        this.isSeniorExaminerPoolEnabledCC = configurablecharacteristicshelper.getCharacteristicValue(configurablecharacteristicsnames.SeniorExaminerPool, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        var isChangeStatusButtonDisabled;\r\n        if (this.props.isTeamManagementMode && !this.isSeniorExaminerPoolEnabledCC) {\r\n            var isSubordinateApproved = (this.props.markerInformation.approvalStatus === enums.ExaminerApproval.Approved);\r\n            // Disable change status button if required targets are not met.\r\n            isChangeStatusButtonDisabled = !this.isRequiredTargetsMetForChangeStatus();\r\n            // If subordinate examiner is approved, the targets need not be considered for enabling the button\r\n            isChangeStatusButtonDisabled = isSubordinateApproved ? false : isChangeStatusButtonDisabled;\r\n        }\r\n        var examinerStateChangeButton;\r\n        if (!this.isSeniorExaminerPoolEnabledCC &&\r\n            this.props.isTeamManagementMode &&\r\n            this.props.markerInformation.currentExaminerApprovalStatus === enums.ExaminerApproval.Approved) {\r\n            examinerStateChangeButton = React.createElement(ExaminerStateChangeButton, { id: 'change_examiner_status', key: 'key_change_examiner_status', showExaminerStateChangePopup: this.props.showExaminerStateChangePopup, selectedLanguage: this.props.selectedLanguage, isDisabled: (this.isExaminerChangeStatusInProgress || isChangeStatusButtonDisabled) &&\r\n                    applicationStore.instance.isOnline });\r\n        }\r\n        // If senior examiner pool is enabled then invoke a method to get the SEP actions.\r\n        if (this.isSeniorExaminerPoolEnabledCC &&\r\n            this.props.isTeamManagementMode &&\r\n            qigStore.instance.selectedQIGForMarkerOperation) {\r\n            this.sepActions = this.helpExaminersDataHelper.\r\n                getSEPActions(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId);\r\n            if (this.sepActions) {\r\n                // We dont want to include the Message action to show the Change status button\r\n                var sendMessageIndex = this.sepActions.indexOf(enums.SEPAction.SendMessage);\r\n                if (sendMessageIndex > -1) {\r\n                    this.sepActions.splice(sendMessageIndex, 1);\r\n                }\r\n                if (this.sepActions.length > 0) {\r\n                    examinerStateChangeButton = React.createElement(ExaminerStateChangeButton, { id: 'change_examiner_status', key: 'key_change_examiner_status', showExaminerStateChangePopup: this.props.showExaminerStateChangePopup, selectedLanguage: this.props.selectedLanguage, isDisabled: this.isExaminerChangeStatusInProgress && applicationStore.instance.isOnline });\r\n                }\r\n            }\r\n        }\r\n        var markingCheckButton = this.isMarkingCheckAvialable ?\r\n            React.createElement(MarkingCheckButton, { id: 'marking_check_button', key: 'marking_check_button', disable: this.doDisableRequestMakingCheckButton, onMarkingCheckButtonClick: this.onMarkingCheckButtonClick, selectedLanguage: this.props.selectedLanguage }) : null;\r\n        var supervisor = null;\r\n        // Hide supervisor information from lefthand side if the current user is a Admin Remarker.\r\n        if (this.props.markerInformation.markerRoleID !== enums.ExaminerRole.adminRemarker) {\r\n            supervisor = (React.createElement(SupervisorInformation, { supervisorName: this.props.markerInformation.formattedSupervisorName, selectedLanguage: this.props.selectedLanguage, isSupervisorOnline: this.props.markerInformation.supervisorLoginStatus, supervisorLogoutDiffInMinutes: this.props.markerInformation.supervisorLogoutDiffInMinute, showMessagePopup: this.props.showMessagePopup, isTeamManagementMode: this.props.isTeamManagementMode, showMessageLink: this.props.showMessageLink }));\r\n        }\r\n        return (React.createElement(\"div\", { className: 'profile-info' },\r\n            supervisor,\r\n            React.createElement(PersonalInformation, { examinerName: this.props.markerInformation.formattedExaminerName, approvalStatus: this.props.markerInformation.approvalStatus, qualityFeedbackStatus: this.props.markerInformation.hasQualityFeedbackOutstanding, examinerRole: this.props.markerInformation.markerRoleID, selectedLanguage: this.props.selectedLanguage, isTeamManagementMode: this.props.isTeamManagementMode, showMessagePopup: this.props.showMessagePopup, markingCheckStatus: this.getMarkingCheckStatus() }),\r\n            examinerStateChangeButton,\r\n            markingCheckButton));\r\n    };\r\n    Object.defineProperty(MarkerInformationPanel.prototype, \"isMarkingCheckAvialable\", {\r\n        /**\r\n         * gets a value indicating whether marking check button is available\r\n         */\r\n        get: function () {\r\n            // worklistStore.instance.isMarkingCheckAvailable will be true\r\n            // only when all the required conditions are met and a gateway call\r\n            // from reponsearchhelper.ts : openQIGDetails() updates the worklist store.\r\n            // this value will be reset when a new QIG is selected.\r\n            return worklistStore.instance.isMarkingCheckAvailable;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns a value indicating the examiner marking check status\r\n     */\r\n    MarkerInformationPanel.prototype.getMarkingCheckStatus = function () {\r\n        if (this.isMarkingCheckAvialable) {\r\n            return localeStore.instance.TranslateText('marking.worklist.marking-check-status.' +\r\n                enums.MarkingCheckStatus[worklistStore.instance.markingCheckStatus]);\r\n        }\r\n    };\r\n    /**\r\n     *  This will check whether the required targets are met so that the change status button will be enabled.\r\n     */\r\n    MarkerInformationPanel.prototype.isRequiredTargetsMetForChangeStatus = function () {\r\n        // All Standardisation / 2nd Standardisation / STM Standardisation (in Submitted-Closed)\r\n        // need to be 'Set as Reviewed' for 'Change status' button to be enabled.\r\n        var isMarkingTargetReviewed = true;\r\n        this.markingTargetsSummary = targetsummarystore.instance.getExaminerMarkingTargetProgress();\r\n        if (this.markingTargetsSummary) {\r\n            this.markingTargetsSummary.some(function (summary) {\r\n                if (summary.markingModeID === enums.MarkingMode.Approval ||\r\n                    summary.markingModeID === enums.MarkingMode.ES_TeamApproval) {\r\n                    isMarkingTargetReviewed =\r\n                        (summary.closedResponsesCount >= summary.maximumMarkingLimit &&\r\n                            summary.reviewedResponsesCount === summary.closedResponsesCount);\r\n                    // If atleast one target is not reviewed exit the loop.\r\n                    if (!isMarkingTargetReviewed) {\r\n                        return true;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        // Finally return the status.\r\n        return isMarkingTargetReviewed;\r\n    };\r\n    return MarkerInformationPanel;\r\n}(pureRenderComponent));\r\nmodule.exports = MarkerInformationPanel;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTg4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3QvbWFya2VyaW5mb3JtYXRpb24vbWFya2VyaW5mb3JtYXRpb25wYW5lbC50c3g/OGM4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IFN1cGVydmlzb3JJbmZvcm1hdGlvbiA9IHJlcXVpcmUoJy4vc3VwZXJ2aXNvcmluZm9ybWF0aW9uJyk7XHJcbmltcG9ydCBQZXJzb25hbEluZm9ybWF0aW9uID0gcmVxdWlyZSgnLi9wZXJzb25hbGluZm9ybWF0aW9uJyk7XHJcbmltcG9ydCBtYXJrZXJJbmZvcm1hdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL21hcmtlcmluZm9ybWF0aW9uL21hcmtlcmluZm9ybWF0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgbWFya2VySW5mb3JtYXRpb24gPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbWFya2VyaW5mb3JtYXRpb24vdHlwaW5ncy9tYXJrZXJpbmZvcm1hdGlvbicpO1xyXG5pbXBvcnQgRXhhbWluZXJTdGF0ZUNoYW5nZUJ1dHRvbiA9IHJlcXVpcmUoJy4vZXhhbWluZXJzdGF0ZWNoYW5nZWJ1dHRvbicpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgdGFyZ2V0c3VtbWFyeXN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3RhcmdldHN1bW1hcnlzdG9yZScpO1xyXG5pbXBvcnQgTWFya2luZ0NoZWNrQnV0dG9uID0gcmVxdWlyZSgnLi9tYXJraW5nY2hlY2tidXR0b24nKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgaGVscEV4YW1pbmVyc0RhdGFIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L3RlYW1tYW5hZ2VtZW50L2hlbHBlcnMvaGVscGV4YW1pbmVyc2RhdGFoZWxwZXInKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgbWFya2luZ0NoZWNrQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvbWFya2luZ2NoZWNrL21hcmtpbmdjaGVja2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHJlc3BvbnNlU2VhcmNoSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9yZXNwb25zZXNlYXJjaC9yZXNwb25zZXNlYXJjaGhlbHBlcicpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudHN0b3JlJyk7XHJcbmltcG9ydCBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvbWFya2Vyb3BlcmF0aW9ubW9kZS9tYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeScpO1xyXG5pbXBvcnQgd2FybmluZ01lc3NhZ2VTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC93YXJuaW5nbWVzc2FnZXN0b3JlJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbnN0b3JlJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBhIGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSB7XHJcbiAgICBtYXJrZXJJbmZvcm1hdGlvbjogbWFya2VySW5mb3JtYXRpb247XHJcbiAgICByZW5kZXJlZE9uOiBudW1iZXI7XHJcbiAgICBzaG93TWVzc2FnZVBvcHVwOiBGdW5jdGlvbjtcclxuICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBib29sZWFuO1xyXG4gICAgc2hvd0V4YW1pbmVyU3RhdGVDaGFuZ2VQb3B1cDogRnVuY3Rpb247XHJcbiAgICBzaG93TWVzc2FnZUxpbms6IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdGF0ZXMgb2YgdGhlIGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFN0YXRlIHtcclxuICAgIHJlbmRlcmVkT24/OiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjbGFzcyBmb3IgbWFya2VyIGluZm9ybWF0aW9uIHBhbmVsLlxyXG4gKi9cclxuY2xhc3MgTWFya2VySW5mb3JtYXRpb25QYW5lbCBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXJrZXJJbmZvcm1hdGlvblBhbmVsRWxlbWVudDogRWxlbWVudDtcclxuXHJcbiAgICBwcml2YXRlIGlzU2VuaW9yRXhhbWluZXJQb29sRW5hYmxlZENDOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBkb0Rpc2FibGVSZXF1ZXN0TWFraW5nQ2hlY2tCdXR0b246IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIG1hcmtpbmdUYXJnZXRzU3VtbWFyeTogSW1tdXRhYmxlLkxpc3Q8YW55PjtcclxuICAgIHByaXZhdGUgc2VwQWN0aW9uczogQXJyYXk8bnVtYmVyPjtcclxuICAgIHByaXZhdGUgaGVscEV4YW1pbmVyc0RhdGFIZWxwZXI6IGhlbHBFeGFtaW5lcnNEYXRhSGVscGVyO1xyXG4gICAgcHJpdmF0ZSBpc0V4YW1pbmVyQ2hhbmdlU3RhdHVzSW5Qcm9ncmVzczogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBTdGF0ZSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcbiAgICAgICAgdGhpcy5oZWxwRXhhbWluZXJzRGF0YUhlbHBlciA9IG5ldyBoZWxwRXhhbWluZXJzRGF0YUhlbHBlcigpO1xyXG4gICAgICAgIHRoaXMuZ2V0TWFya0NoZWNrSW5mbyA9IHRoaXMuZ2V0TWFya0NoZWNrSW5mby5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyTWFya2luZ0NoZWNrRGV0YWlscyA9IHRoaXMucmVuZGVyTWFya2luZ0NoZWNrRGV0YWlscy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZG9EaXNhYmxlUmVxdWVzdE1ha2luZ0NoZWNrQnV0dG9uID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc0V4YW1pbmVyQ2hhbmdlU3RhdHVzSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IHJlbmRlcmVkT246IERhdGUubm93KCkgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gZ2V0cyBpbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBhYm91dCB0byBiZSBtb3VudGVkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcclxuXHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuTUFSS0lOR19DSEVDS19TVEFUVVNfVVBEQVRFRCwgdGhpcy5yZW5kZXJNYXJraW5nQ2hlY2tEZXRhaWxzKTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKHdvcmtsaXN0U3RvcmUuV29ya0xpc3RTdG9yZS5ET19HRVRfTUFSS0lOR19DSEVDS19JTkZPLCB0aGlzLmdldE1hcmtDaGVja0luZm8pO1xyXG4gICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIod29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLlRPR0dMRV9SRVFVRVNUX01BUktJTkdfQ0hFQ0tfQlVUVE9OX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlck1hcmtpbmdDaGVja0RldGFpbHMpO1xyXG4gICAgICAgIGFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoYXBwbGljYXRpb25TdG9yZS5BcHBsaWNhdGlvblN0b3JlLk9OTElORV9TVEFUVVNfVVBEQVRFRF9FVkVOVCwgdGhpcy5vbk9ubGluZVN0YXR1c0NoYW5nZWQpO1xyXG5cclxuICAgICAgICBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgJiYgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1RlYW1NYW5hZ2VtZW50TW9kZSkge1xyXG5cclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuU0VUX0VYQU1JTkVSX0NIQU5HRV9TVEFUVVNfQlVUVE9OX0FTX0JVU1ksXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEV4YW1pbmVyU3RhdGVDaGFuZ2VCdXR0b25Bc0J1c3kpO1xyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5DSEFOR0VfRVhBTUlORVJfU1RBVFVTX1VQREFURUQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0RXhhbWluZXJDaGFuZ2VTdGF0dXNCdXR0b25CdXN5U3RhdHVzKTtcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuUFJPVklERV9TRUNPTkRfU1RBTkRBUkRJU0FUSU9OX1VQREFURUQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0RXhhbWluZXJDaGFuZ2VTdGF0dXNCdXR0b25CdXN5U3RhdHVzKTtcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5BUFBST1ZBTF9NQU5BR0VNRU5UX0FDVElPTl9FWEVDVVRFRCxcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRFeGFtaW5lckNoYW5nZVN0YXR1c0J1dHRvbkJ1c3lTdGF0dXMpO1xyXG4gICAgICAgICAgICB3YXJuaW5nTWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICAgICAgd2FybmluZ01lc3NhZ2VTdG9yZS5XYXJuaW5nTWVzc2FnZVN0b3JlLldBUk5JTkdfTUVTU0FHRV9FVkVOVCxcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRFeGFtaW5lckNoYW5nZVN0YXR1c0J1dHRvbkJ1c3lTdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gZ2V0cyBpbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBhYm91dCB0byBiZSB1bm1vdW50ZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG5cclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHdvcmtsaXN0U3RvcmUuV29ya0xpc3RTdG9yZS5NQVJLSU5HX0NIRUNLX1NUQVRVU19VUERBVEVELCB0aGlzLnJlbmRlck1hcmtpbmdDaGVja0RldGFpbHMpO1xyXG4gICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIod29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLkRPX0dFVF9NQVJLSU5HX0NIRUNLX0lORk8sIHRoaXMuZ2V0TWFya0NoZWNrSW5mbyk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcih3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuVE9HR0xFX1JFUVVFU1RfTUFSS0lOR19DSEVDS19CVVRUT05fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyTWFya2luZ0NoZWNrRGV0YWlscyk7XHJcbiAgICAgICAgYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihhcHBsaWNhdGlvblN0b3JlLkFwcGxpY2F0aW9uU3RvcmUuT05MSU5FX1NUQVRVU19VUERBVEVEX0VWRU5ULCB0aGlzLm9uT25saW5lU3RhdHVzQ2hhbmdlZCk7XHJcblxyXG4gICAgICAgIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeSAmJiBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlKSB7XHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIodGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLlNFVF9FWEFNSU5FUl9DSEFOR0VfU1RBVFVTX0JVVFRPTl9BU19CVVNZLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFeGFtaW5lclN0YXRlQ2hhbmdlQnV0dG9uQXNCdXN5KTtcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcih0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuQ0hBTkdFX0VYQU1JTkVSX1NUQVRVU19VUERBVEVELFxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldEV4YW1pbmVyQ2hhbmdlU3RhdHVzQnV0dG9uQnVzeVN0YXR1cyk7XHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIodGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLlBST1ZJREVfU0VDT05EX1NUQU5EQVJESVNBVElPTl9VUERBVEVELFxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldEV4YW1pbmVyQ2hhbmdlU3RhdHVzQnV0dG9uQnVzeVN0YXR1cyk7XHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuQVBQUk9WQUxfTUFOQUdFTUVOVF9BQ1RJT05fRVhFQ1VURUQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0RXhhbWluZXJDaGFuZ2VTdGF0dXNCdXR0b25CdXN5U3RhdHVzKTtcclxuICAgICAgICAgICAgd2FybmluZ01lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgIHdhcm5pbmdNZXNzYWdlU3RvcmUuV2FybmluZ01lc3NhZ2VTdG9yZS5XQVJOSU5HX01FU1NBR0VfRVZFTlQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0RXhhbWluZXJDaGFuZ2VTdGF0dXNCdXR0b25CdXN5U3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGFuZ2UgRXhhbWluZXIgQ2hhbmdlIFN0YXR1cyBCdXR0b24gSW4gUHJvZ3Jlc3MgU3RhdHVzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVzZXRFeGFtaW5lckNoYW5nZVN0YXR1c0J1dHRvbkJ1c3lTdGF0dXMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc0V4YW1pbmVyQ2hhbmdlU3RhdHVzSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZW5kZXJlZE9uOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBleGFtaW5lciBzdGF0ZSBjaGFuZ2UgYnV0dG9uIGFzIGJ1c3lcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXRFeGFtaW5lclN0YXRlQ2hhbmdlQnV0dG9uQXNCdXN5ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNFeGFtaW5lckNoYW5nZVN0YXR1c0luUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZW5kZXJlZE9uOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1hcmtlckluZm9ybWF0aW9uID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuICg8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdsb2FkZXIgZGFya2VyIHRleHQtbWlkZGxlJz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2RvdCc+PC9zcGFuPjxzcGFuIGNsYXNzTmFtZT0nZG90Jz48L3NwYW4+PHNwYW4gY2xhc3NOYW1lPSdkb3QnPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyID0gcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24gP1xyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCA6IDA7XHJcblxyXG4gICAgICAgIHRoaXMuaXNTZW5pb3JFeGFtaW5lclBvb2xFbmFibGVkQ0MgPSBjb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMuU2VuaW9yRXhhbWluZXJQb29sLCBtYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICBsZXQgaXNDaGFuZ2VTdGF0dXNCdXR0b25EaXNhYmxlZDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGUgJiYgIXRoaXMuaXNTZW5pb3JFeGFtaW5lclBvb2xFbmFibGVkQ0MpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBpc1N1Ym9yZGluYXRlQXBwcm92ZWQ6IGJvb2xlYW4gPSAodGhpcy5wcm9wcy5tYXJrZXJJbmZvcm1hdGlvbi5hcHByb3ZhbFN0YXR1cyA9PT0gZW51bXMuRXhhbWluZXJBcHByb3ZhbC5BcHByb3ZlZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBEaXNhYmxlIGNoYW5nZSBzdGF0dXMgYnV0dG9uIGlmIHJlcXVpcmVkIHRhcmdldHMgYXJlIG5vdCBtZXQuXHJcbiAgICAgICAgICAgIGlzQ2hhbmdlU3RhdHVzQnV0dG9uRGlzYWJsZWQgPSAhdGhpcy5pc1JlcXVpcmVkVGFyZ2V0c01ldEZvckNoYW5nZVN0YXR1cygpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgc3Vib3JkaW5hdGUgZXhhbWluZXIgaXMgYXBwcm92ZWQsIHRoZSB0YXJnZXRzIG5lZWQgbm90IGJlIGNvbnNpZGVyZWQgZm9yIGVuYWJsaW5nIHRoZSBidXR0b25cclxuICAgICAgICAgICAgaXNDaGFuZ2VTdGF0dXNCdXR0b25EaXNhYmxlZCA9IGlzU3Vib3JkaW5hdGVBcHByb3ZlZCA/IGZhbHNlIDogaXNDaGFuZ2VTdGF0dXNCdXR0b25EaXNhYmxlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBleGFtaW5lclN0YXRlQ2hhbmdlQnV0dG9uOiBKU1guRWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzU2VuaW9yRXhhbWluZXJQb29sRW5hYmxlZENDICYmXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGUgJiZcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5tYXJrZXJJbmZvcm1hdGlvbi5jdXJyZW50RXhhbWluZXJBcHByb3ZhbFN0YXR1cyA9PT0gZW51bXMuRXhhbWluZXJBcHByb3ZhbC5BcHByb3ZlZCkge1xyXG4gICAgICAgICAgICBleGFtaW5lclN0YXRlQ2hhbmdlQnV0dG9uID0gPEV4YW1pbmVyU3RhdGVDaGFuZ2VCdXR0b25cclxuICAgICAgICAgICAgICAgIGlkPSdjaGFuZ2VfZXhhbWluZXJfc3RhdHVzJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdrZXlfY2hhbmdlX2V4YW1pbmVyX3N0YXR1cydcclxuICAgICAgICAgICAgICAgIHNob3dFeGFtaW5lclN0YXRlQ2hhbmdlUG9wdXA9e3RoaXMucHJvcHMuc2hvd0V4YW1pbmVyU3RhdGVDaGFuZ2VQb3B1cH1cclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQ9eyh0aGlzLmlzRXhhbWluZXJDaGFuZ2VTdGF0dXNJblByb2dyZXNzIHx8IGlzQ2hhbmdlU3RhdHVzQnV0dG9uRGlzYWJsZWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5pc09ubGluZX0gLz47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBzZW5pb3IgZXhhbWluZXIgcG9vbCBpcyBlbmFibGVkIHRoZW4gaW52b2tlIGEgbWV0aG9kIHRvIGdldCB0aGUgU0VQIGFjdGlvbnMuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNTZW5pb3JFeGFtaW5lclBvb2xFbmFibGVkQ0MgJiZcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5pc1RlYW1NYW5hZ2VtZW50TW9kZSAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLnNlcEFjdGlvbnMgPSB0aGlzLmhlbHBFeGFtaW5lcnNEYXRhSGVscGVyLlxyXG4gICAgICAgICAgICAgICAgZ2V0U0VQQWN0aW9ucyhxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlcEFjdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbnQgd2FudCB0byBpbmNsdWRlIHRoZSBNZXNzYWdlIGFjdGlvbiB0byBzaG93IHRoZSBDaGFuZ2Ugc3RhdHVzIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlbmRNZXNzYWdlSW5kZXggPSB0aGlzLnNlcEFjdGlvbnMuaW5kZXhPZihlbnVtcy5TRVBBY3Rpb24uU2VuZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbmRNZXNzYWdlSW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VwQWN0aW9ucy5zcGxpY2Uoc2VuZE1lc3NhZ2VJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXBBY3Rpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBleGFtaW5lclN0YXRlQ2hhbmdlQnV0dG9uID0gPEV4YW1pbmVyU3RhdGVDaGFuZ2VCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2NoYW5nZV9leGFtaW5lcl9zdGF0dXMnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0na2V5X2NoYW5nZV9leGFtaW5lcl9zdGF0dXMnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFeGFtaW5lclN0YXRlQ2hhbmdlUG9wdXA9e3RoaXMucHJvcHMuc2hvd0V4YW1pbmVyU3RhdGVDaGFuZ2VQb3B1cH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkPXt0aGlzLmlzRXhhbWluZXJDaGFuZ2VTdGF0dXNJblByb2dyZXNzICYmIGFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmV9IC8+O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbWFya2luZ0NoZWNrQnV0dG9uOiBKU1guRWxlbWVudCA9IHRoaXMuaXNNYXJraW5nQ2hlY2tBdmlhbGFibGUgP1xyXG4gICAgICAgICAgICA8TWFya2luZ0NoZWNrQnV0dG9uXHJcbiAgICAgICAgICAgICAgICBpZD0nbWFya2luZ19jaGVja19idXR0b24nXHJcbiAgICAgICAgICAgICAgICBrZXk9J21hcmtpbmdfY2hlY2tfYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgZGlzYWJsZT17dGhpcy5kb0Rpc2FibGVSZXF1ZXN0TWFraW5nQ2hlY2tCdXR0b259XHJcbiAgICAgICAgICAgICAgICBvbk1hcmtpbmdDaGVja0J1dHRvbkNsaWNrPXt0aGlzLm9uTWFya2luZ0NoZWNrQnV0dG9uQ2xpY2t9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9IC8+IDogbnVsbDtcclxuXHJcblx0XHRsZXQgc3VwZXJ2aXNvciA9IG51bGw7XHJcblxyXG5cdFx0Ly8gSGlkZSBzdXBlcnZpc29yIGluZm9ybWF0aW9uIGZyb20gbGVmdGhhbmQgc2lkZSBpZiB0aGUgY3VycmVudCB1c2VyIGlzIGEgQWRtaW4gUmVtYXJrZXIuXHJcblx0XHRpZiAodGhpcy5wcm9wcy5tYXJrZXJJbmZvcm1hdGlvbi5tYXJrZXJSb2xlSUQgIT09IGVudW1zLkV4YW1pbmVyUm9sZS5hZG1pblJlbWFya2VyKSB7XHJcblx0XHRcdHN1cGVydmlzb3IgPSAoPFN1cGVydmlzb3JJbmZvcm1hdGlvbiBzdXBlcnZpc29yTmFtZT17dGhpcy5wcm9wcy5tYXJrZXJJbmZvcm1hdGlvbi5mb3JtYXR0ZWRTdXBlcnZpc29yTmFtZX1cclxuXHRcdFx0XHRzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9IGlzU3VwZXJ2aXNvck9ubGluZT17dGhpcy5wcm9wcy5tYXJrZXJJbmZvcm1hdGlvbi5zdXBlcnZpc29yTG9naW5TdGF0dXN9XHJcblx0XHRcdFx0c3VwZXJ2aXNvckxvZ291dERpZmZJbk1pbnV0ZXM9e3RoaXMucHJvcHMubWFya2VySW5mb3JtYXRpb24uc3VwZXJ2aXNvckxvZ291dERpZmZJbk1pbnV0ZX1cclxuICAgICAgICAgICAgICAgIHNob3dNZXNzYWdlUG9wdXA9e3RoaXMucHJvcHMuc2hvd01lc3NhZ2VQb3B1cH0gaXNUZWFtTWFuYWdlbWVudE1vZGU9e3RoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGV9XHJcbiAgICAgICAgICAgICAgICBzaG93TWVzc2FnZUxpbms9e3RoaXMucHJvcHMuc2hvd01lc3NhZ2VMaW5rfSAvPik7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuICg8ZGl2IGNsYXNzTmFtZT0ncHJvZmlsZS1pbmZvJz5cclxuXHRcdFx0e3N1cGVydmlzb3J9XHJcbiAgICAgICAgICAgIDxQZXJzb25hbEluZm9ybWF0aW9uXHJcbiAgICAgICAgICAgICAgICBleGFtaW5lck5hbWU9e3RoaXMucHJvcHMubWFya2VySW5mb3JtYXRpb24uZm9ybWF0dGVkRXhhbWluZXJOYW1lfVxyXG4gICAgICAgICAgICAgICAgYXBwcm92YWxTdGF0dXM9e3RoaXMucHJvcHMubWFya2VySW5mb3JtYXRpb24uYXBwcm92YWxTdGF0dXN9XHJcbiAgICAgICAgICAgICAgICBxdWFsaXR5RmVlZGJhY2tTdGF0dXM9e3RoaXMucHJvcHMubWFya2VySW5mb3JtYXRpb24uaGFzUXVhbGl0eUZlZWRiYWNrT3V0c3RhbmRpbmd9XHJcbiAgICAgICAgICAgICAgICBleGFtaW5lclJvbGU9e3RoaXMucHJvcHMubWFya2VySW5mb3JtYXRpb24ubWFya2VyUm9sZUlEfVxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgaXNUZWFtTWFuYWdlbWVudE1vZGU9e3RoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGV9XHJcbiAgICAgICAgICAgICAgICBzaG93TWVzc2FnZVBvcHVwPXt0aGlzLnByb3BzLnNob3dNZXNzYWdlUG9wdXB9XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nQ2hlY2tTdGF0dXM9e3RoaXMuZ2V0TWFya2luZ0NoZWNrU3RhdHVzKCl9IC8+XHJcbiAgICAgICAgICAgIHtleGFtaW5lclN0YXRlQ2hhbmdlQnV0dG9ufVxyXG4gICAgICAgICAgICB7bWFya2luZ0NoZWNrQnV0dG9ufVxyXG4gICAgICAgIDwvZGl2Pik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRzIGEgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIG1hcmtpbmcgY2hlY2sgYnV0dG9uIGlzIGF2YWlsYWJsZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldCBpc01hcmtpbmdDaGVja0F2aWFsYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICAvLyB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzTWFya2luZ0NoZWNrQXZhaWxhYmxlIHdpbGwgYmUgdHJ1ZVxyXG4gICAgICAgIC8vIG9ubHkgd2hlbiBhbGwgdGhlIHJlcXVpcmVkIGNvbmRpdGlvbnMgYXJlIG1ldCBhbmQgYSBnYXRld2F5IGNhbGxcclxuICAgICAgICAvLyBmcm9tIHJlcG9uc2VhcmNoaGVscGVyLnRzIDogb3BlblFJR0RldGFpbHMoKSB1cGRhdGVzIHRoZSB3b3JrbGlzdCBzdG9yZS5cclxuICAgICAgICAvLyB0aGlzIHZhbHVlIHdpbGwgYmUgcmVzZXQgd2hlbiBhIG5ldyBRSUcgaXMgc2VsZWN0ZWQuXHJcbiAgICAgICAgcmV0dXJuIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuaXNNYXJraW5nQ2hlY2tBdmFpbGFibGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXJlbmRlciB0aGUgbWFya2luZyBjaGVjayBidXR0b25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZW5kZXJNYXJraW5nQ2hlY2tEZXRhaWxzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuZG9EaXNhYmxlUmVxdWVzdE1ha2luZ0NoZWNrQnV0dG9uID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0dGluZyBtYXJrIGNoZWNrIGluZm9cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRNYXJrQ2hlY2tJbmZvID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIGZpeCB0byBlbnN1cmUgdGhlIFJlcXVlc3RNYWtpbmdDaGVja0J1dHRvbiBkb2Vzbid0IHN0YXkgZGlzYWJsZWQgd2hlbiBnb2luZyBvZmZsaW5lXHJcbiAgICAgICAgdGhpcy5kb0Rpc2FibGVSZXF1ZXN0TWFraW5nQ2hlY2tCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgIG1hcmtpbmdDaGVja0FjdGlvbkNyZWF0b3IuZ2V0TWFya2luZ0NoZWNrSW5mbyhyZXNwb25zZVNlYXJjaEhlbHBlci5pc01hcmtpbmdDaGVja0F2YWlsYWJsZSgpLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHZhbHVlIGluZGljYXRpbmcgdGhlIGV4YW1pbmVyIG1hcmtpbmcgY2hlY2sgc3RhdHVzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0TWFya2luZ0NoZWNrU3RhdHVzKCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNNYXJraW5nQ2hlY2tBdmlhbGFibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QubWFya2luZy1jaGVjay1zdGF0dXMuJyArXHJcbiAgICAgICAgICAgICAgICBlbnVtcy5NYXJraW5nQ2hlY2tTdGF0dXNbd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5tYXJraW5nQ2hlY2tTdGF0dXNdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBY3Rpb25zIHRvIGJlIGRvbmUgd2hlbiBtYXJraW5nIGNoZWNrIGJ1dHRvbiBpcyBjbGlja2VkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25NYXJraW5nQ2hlY2tCdXR0b25DbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBtYXJraW5nQ2hlY2tBY3Rpb25DcmVhdG9yLmdldE1hcmtpbmdDaGVja1JlY2lwaWVudHMocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIFRoaXMgd2lsbCBjaGVjayB3aGV0aGVyIHRoZSByZXF1aXJlZCB0YXJnZXRzIGFyZSBtZXQgc28gdGhhdCB0aGUgY2hhbmdlIHN0YXR1cyBidXR0b24gd2lsbCBiZSBlbmFibGVkLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzUmVxdWlyZWRUYXJnZXRzTWV0Rm9yQ2hhbmdlU3RhdHVzKCk6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICAvLyBBbGwgU3RhbmRhcmRpc2F0aW9uIC8gMm5kIFN0YW5kYXJkaXNhdGlvbiAvIFNUTSBTdGFuZGFyZGlzYXRpb24gKGluIFN1Ym1pdHRlZC1DbG9zZWQpXHJcbiAgICAgICAgLy8gbmVlZCB0byBiZSAnU2V0IGFzIFJldmlld2VkJyBmb3IgJ0NoYW5nZSBzdGF0dXMnIGJ1dHRvbiB0byBiZSBlbmFibGVkLlxyXG4gICAgICAgIGxldCBpc01hcmtpbmdUYXJnZXRSZXZpZXdlZDogYm9vbGVhbiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tYXJraW5nVGFyZ2V0c1N1bW1hcnkgPSB0YXJnZXRzdW1tYXJ5c3RvcmUuaW5zdGFuY2UuZ2V0RXhhbWluZXJNYXJraW5nVGFyZ2V0UHJvZ3Jlc3MoKTtcclxuICAgICAgICBpZiAodGhpcy5tYXJraW5nVGFyZ2V0c1N1bW1hcnkpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJraW5nVGFyZ2V0c1N1bW1hcnkuc29tZSgoc3VtbWFyeTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeS5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHN1bW1hcnkubWFya2luZ01vZGVJRCA9PT0gZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nVGFyZ2V0UmV2aWV3ZWQgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc3VtbWFyeS5jbG9zZWRSZXNwb25zZXNDb3VudCA+PSBzdW1tYXJ5Lm1heGltdW1NYXJraW5nTGltaXQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bW1hcnkucmV2aWV3ZWRSZXNwb25zZXNDb3VudCA9PT0gc3VtbWFyeS5jbG9zZWRSZXNwb25zZXNDb3VudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGF0bGVhc3Qgb25lIHRhcmdldCBpcyBub3QgcmV2aWV3ZWQgZXhpdCB0aGUgbG9vcC5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTWFya2luZ1RhcmdldFJldmlld2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGaW5hbGx5IHJldHVybiB0aGUgc3RhdHVzLlxyXG4gICAgICAgIHJldHVybiBpc01hcmtpbmdUYXJnZXRSZXZpZXdlZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFjdGlvbnMgdG8gYmUgZG9uZSB3aGVuIG9ubGluZSBzdGF0dXMgY2hhbmdlZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uT25saW5lU3RhdHVzQ2hhbmdlZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLmlzRXhhbWluZXJDaGFuZ2VTdGF0dXNJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IE1hcmtlckluZm9ybWF0aW9uUGFuZWw7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtlcmluZm9ybWF0aW9uL21hcmtlcmluZm9ybWF0aW9ucGFuZWwudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXFCQTs7QUFFQTtBQUNBO0FBQUE7QUFXQTs7OztBQUlBO0FBQ0E7QUFBQTtBQWlFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW9IQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBWUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUErQkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUF0UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFrQkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUVBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQW9CQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 589:
/* no static exports found */
/* all exports used */
/*!*************************************************************************!*\
  !*** ./src/components/worklist/markerinformation/markingcheckpopup.tsx ***!
  \*************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar htmlUtilities = __webpack_require__(/*! ../../../utility/generic/htmlutilities */ 243);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../../actions/messaging/messagingactioncreator */ 268);\r\nvar markingCheckActionCreator = __webpack_require__(/*! ../../../actions/markingcheck/markingcheckactioncreator */ 311);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar popupDisplayActionCreator = __webpack_require__(/*! ../../../actions/popupdisplay/popupdisplayactioncreator */ 328);\r\nvar constants = __webpack_require__(/*! ../../utility/constants */ 241);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar applicationStore = __webpack_require__(/*! ../../../stores/applicationoffline/applicationstore */ 247);\r\nvar MarkingCheckPopup = /** @class */ (function (_super) {\r\n    __extends(MarkingCheckPopup, _super);\r\n    /**\r\n     * Constructor MarkingCheckPopup\r\n     * @param markingCheckProps\r\n     * @param markingCheckstate\r\n     */\r\n    function MarkingCheckPopup(markingCheckProps, markingCheckstate) {\r\n        var _this = _super.call(this, markingCheckProps, markingCheckstate) || this;\r\n        /**\r\n         * Gets the marker label to be shown in marking check popup\r\n         * @param marker\r\n         */\r\n        _this.getMarkerLabel = function (marker) {\r\n            var labelText = marker.fullname;\r\n            if (!marker.isEligibleForMarkingCheck) {\r\n                if (marker.approvalStatus === enums.ExaminerApproval.Suspended && marker.hasActiveMarkingCheck) {\r\n                    labelText += ' (' + localeStore.instance.TranslateText('marking.worklist.marking-check-status.Suspended') +\r\n                        '-' + localeStore.instance.TranslateText('marking.worklist.marking-check-status.CheckRequested') + ')';\r\n                }\r\n                else if (marker.approvalStatus === enums.ExaminerApproval.Suspended ||\r\n                    marker.approvalStatus === enums.ExaminerApproval.NotApproved) {\r\n                    labelText += ' (' + localeStore.instance.TranslateText('marking.worklist.marking-check-status.' +\r\n                        enums.ExaminerApproval[marker.approvalStatus]) + ')';\r\n                }\r\n            }\r\n            else if (marker.hasActiveMarkingCheck) {\r\n                labelText += ' (' + localeStore.instance.TranslateText('marking.worklist.marking-check-status.CheckRequested') + ')';\r\n            }\r\n            return labelText;\r\n        };\r\n        /**\r\n         * Toggles the marking check popup\r\n         */\r\n        _this.toggleMarkingCheckPopup = function () {\r\n            _this.setState({ isMarkingCheckPopupVisible: !_this.state.isMarkingCheckPopupVisible });\r\n        };\r\n        /**\r\n         * Initiates the popup with latest data\r\n         */\r\n        _this.markingCheckButtonClicked = function () {\r\n            _this.markingCheckToList = new Array();\r\n            _this.recipientList = worklistStore.instance.markingCheckRecipientList;\r\n            if (_this.recipientList && _this.recipientList.count() > 0) {\r\n                _this.toggleMarkingCheckPopup();\r\n            }\r\n            else {\r\n                markingCheckActionCreator.toggleRequestMarkingCheckButton(false);\r\n                if (applicationStore.instance.isOnline) {\r\n                    popupDisplayActionCreator.popUpDisplay(enums.PopUpType.NoMarkingCheckRequestPossible, enums.PopUpActionType.Show, enums.SaveAndNavigate.none, { popupContent: '' });\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Indicates whether the OK button is enabled\r\n         */\r\n        _this.isOkButtonEnabled = function () {\r\n            return _this.recipientList ?\r\n                _this.recipientList.some(function (marker) { return marker.isChecked; }) : false;\r\n        };\r\n        /**\r\n         * On Popup ok click\r\n         */\r\n        _this.onCheckBoxClick = function (examinerId, currentState) {\r\n            _this.recipientList.find(function (marker) {\r\n                return marker.examinerId === examinerId;\r\n            }).isChecked = !currentState;\r\n            _this.setState({ reRenderPopup: Date.now() });\r\n        };\r\n        /**\r\n         * On Popup ok click\r\n         */\r\n        _this.okClick = function () {\r\n            _this.toggleMarkingCheckPopup();\r\n            var that = _this;\r\n            var systemMessagePriority = constants.SYSTEM_MESSAGE;\r\n            _this.recipientList.map(function (marker) {\r\n                if (marker.isChecked) {\r\n                    that.markingCheckToList.push(marker.examinerId);\r\n                }\r\n            });\r\n            var questionPaperId = qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId;\r\n            var markSchemeGroupId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n            messagingActionCreator.sendExaminerMessage(_this.markingCheckToList, '', '', questionPaperId, null, enums.MessagePriority.Important, markSchemeGroupId, null, -1, -1, false, null, enums.SystemMessage.CheckMyMarks);\r\n            messagingActionCreator.sendExaminerMessage(_this.markingCheckToList, '', '', questionPaperId, null, systemMessagePriority, markSchemeGroupId, null, -1, -1, false, null, enums.SystemMessage.CheckMyMarks);\r\n        };\r\n        /**\r\n         * On Popup cancel click\r\n         */\r\n        _this.cancelClick = function () {\r\n            _this.toggleMarkingCheckPopup();\r\n            markingCheckActionCreator.toggleRequestMarkingCheckButton(false);\r\n        };\r\n        _this.state = {\r\n            isMarkingCheckPopupVisible: false,\r\n            isOkButtonEnabled: false,\r\n            reRenderPopup: 0\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * Component did mount\r\n     */\r\n    MarkingCheckPopup.prototype.componentDidMount = function () {\r\n        this.addEventListeners();\r\n    };\r\n    /**\r\n     * Component will unmount\r\n     */\r\n    MarkingCheckPopup.prototype.componentWillUnmount = function () {\r\n        this.removeEventListeners();\r\n    };\r\n    /**\r\n     * Component render\r\n     */\r\n    MarkingCheckPopup.prototype.render = function () {\r\n        var that = this;\r\n        var markCheckButtonOffset;\r\n        var markingCheckButton = htmlUtilities.getElementById('marking_check_button_id');\r\n        if (markingCheckButton) {\r\n            markCheckButtonOffset = markingCheckButton.getBoundingClientRect().top;\r\n        }\r\n        var popupContentHeight = {\r\n            maxHeight: 'calc(100vh - ' + markCheckButtonOffset + 'px - 70px)' // 70px is the border padding\r\n        };\r\n        var popupWrapTop = {\r\n            top: markCheckButtonOffset + 'px'\r\n        };\r\n        var PE = null;\r\n        if (this.recipientList) {\r\n            var pe_1 = this.recipientList.filter(function (marker) { return marker.isPrincipalExaminer; }).toArray();\r\n            if (pe_1 && pe_1.length > 0) {\r\n                PE = (React.createElement(\"div\", { className: 'approval-options' },\r\n                    React.createElement(\"input\", { id: 'examiner_' + pe_1[0].examinerId, className: 'checkbox show-remark', type: 'checkbox', disabled: pe_1[0].hasActiveMarkingCheck || !pe_1[0].isEligibleForMarkingCheck, checked: pe_1[0].hasActiveMarkingCheck || pe_1[0].isChecked, onChange: function () { that.onCheckBoxClick(pe_1[0].examinerId, pe_1[0].isChecked); } }),\r\n                    React.createElement(\"label\", { className: 'remark-label', htmlFor: 'examiner_' + pe_1[0].examinerId }, that.getMarkerLabel(pe_1[0]))));\r\n            }\r\n        }\r\n        var MARKERS = this.recipientList ?\r\n            this.recipientList.map(function (marker) {\r\n                if (!marker.isPrincipalExaminer) {\r\n                    return (React.createElement(\"div\", { className: 'approval-options' },\r\n                        React.createElement(\"input\", { id: 'examiner_' + marker.examinerId, className: 'checkbox show-remark', type: 'checkbox', disabled: marker.hasActiveMarkingCheck || !marker.isEligibleForMarkingCheck, checked: marker.hasActiveMarkingCheck || marker.isChecked, onChange: function () { that.onCheckBoxClick(marker.examinerId, marker.isChecked); } }),\r\n                        React.createElement(\"label\", { className: 'remark-label', htmlFor: 'examiner_' + marker.examinerId }, that.getMarkerLabel(marker))));\r\n                }\r\n            }) : null;\r\n        return (React.createElement(\"div\", { id: 'RequestMarkingCheckPopupOverlay', className: classNames('popup small request-marking-check popup-overlay', { 'open': this.state.isMarkingCheckPopupVisible }), role: 'dialog' },\r\n            React.createElement(\"div\", { className: 'popup-wrap', id: 'RequestMarkingCheckPopupId', style: popupWrapTop },\r\n                React.createElement(\"div\", { id: 'popup1Desc', className: 'popup-content', style: popupContentHeight },\r\n                    React.createElement(\"p\", { id: 'despt_id', className: 'despt' }, localeStore.instance.TranslateText('marking.worklist.request-marking-check-menu.header')),\r\n                    PE,\r\n                    MARKERS),\r\n                React.createElement(\"div\", { className: 'popup-footer text-right' },\r\n                    React.createElement(\"button\", { className: 'button rounded close-button', title: 'Cancel', onClick: this.cancelClick }, localeStore.instance.TranslateText('generic.user-menu.profile-section.cancel-email-button')),\r\n                    React.createElement(\"button\", { className: 'button primary rounded', title: 'Ok', onClick: this.okClick, disabled: !this.isOkButtonEnabled() }, localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.ok-button'))))));\r\n    };\r\n    /**\r\n     * Add all event listeners here\r\n     */\r\n    MarkingCheckPopup.prototype.addEventListeners = function () {\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.MARKING_CHECK_RECIPIENT_LIST_UPDATED, this.markingCheckButtonClicked);\r\n    };\r\n    /**\r\n     * Remove all event listeners here.\r\n     */\r\n    MarkingCheckPopup.prototype.removeEventListeners = function () {\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.MARKING_CHECK_RECIPIENT_LIST_UPDATED, this.markingCheckButtonClicked);\r\n    };\r\n    return MarkingCheckPopup;\r\n}(pureRenderComponent));\r\nmodule.exports = MarkingCheckPopup;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTg5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3QvbWFya2VyaW5mb3JtYXRpb24vbWFya2luZ2NoZWNrcG9wdXAudHN4PzJlNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgaHRtbFV0aWxpdGllcyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ2VuZXJpYy9odG1sdXRpbGl0aWVzJyk7XHJcbmltcG9ydCBsb2dpblNlc3Npb24gPSByZXF1aXJlKCcuLi8uLi8uLi9hcHAvbG9naW5zZXNzaW9uJyk7XHJcbmltcG9ydCBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9tZXNzYWdpbmcvbWVzc2FnaW5nYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgbWFya2luZ0NoZWNrQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvbWFya2luZ2NoZWNrL21hcmtpbmdjaGVja2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcbmltcG9ydCBwb3B1cERpc3BsYXlBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9wb3B1cGRpc3BsYXkvcG9wdXBkaXNwbGF5YWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25zdGFudHMnKTtcclxubGV0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbnN0b3JlJyk7XHJcblxyXG5pbnRlcmZhY2UgTWFya2luZ0NoZWNrUG9wdXBQcm9wcyBleHRlbmRzIFByb3BzQmFzZSwgTG9jYWxlU2VsZWN0aW9uQmFzZSB7XHJcbn1cclxuXHJcbmludGVyZmFjZSBNYXJraW5nQ2hlY2tQb3B1cFN0YXRlIHtcclxuICAgIGlzTWFya2luZ0NoZWNrUG9wdXBWaXNpYmxlPzogYm9vbGVhbjtcclxuICAgIGlzT2tCdXR0b25FbmFibGVkPzogYm9vbGVhbjtcclxuICAgIHJlUmVuZGVyUG9wdXA/OiBudW1iZXI7XHJcbn1cclxuXHJcbmNsYXNzIE1hcmtpbmdDaGVja1BvcHVwIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxNYXJraW5nQ2hlY2tQb3B1cFByb3BzLCBNYXJraW5nQ2hlY2tQb3B1cFN0YXRlPiB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWNpcGllbnRMaXN0OiBJbW11dGFibGUuTGlzdDxNYXJraW5nQ2hlY2tSZWNpcGllbnQ+O1xyXG4gICAgcHJpdmF0ZSBtYXJraW5nQ2hlY2tUb0xpc3Q6IEFycmF5PG51bWJlcj47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBNYXJraW5nQ2hlY2tQb3B1cFxyXG4gICAgICogQHBhcmFtIG1hcmtpbmdDaGVja1Byb3BzXHJcbiAgICAgKiBAcGFyYW0gbWFya2luZ0NoZWNrc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobWFya2luZ0NoZWNrUHJvcHM6IE1hcmtpbmdDaGVja1BvcHVwUHJvcHMsIG1hcmtpbmdDaGVja3N0YXRlOiBNYXJraW5nQ2hlY2tQb3B1cFN0YXRlKSB7XHJcbiAgICAgICAgc3VwZXIobWFya2luZ0NoZWNrUHJvcHMsIG1hcmtpbmdDaGVja3N0YXRlKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaXNNYXJraW5nQ2hlY2tQb3B1cFZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc09rQnV0dG9uRW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJlUmVuZGVyUG9wdXA6IDBcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcG9uZW50IGRpZCBtb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcG9uZW50IHdpbGwgdW5tb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcG9uZW50IHJlbmRlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgbGV0IG1hcmtDaGVja0J1dHRvbk9mZnNldDtcclxuXHJcbiAgICAgICAgbGV0IG1hcmtpbmdDaGVja0J1dHRvbiA9IGh0bWxVdGlsaXRpZXMuZ2V0RWxlbWVudEJ5SWQoJ21hcmtpbmdfY2hlY2tfYnV0dG9uX2lkJyk7XHJcbiAgICAgICAgaWYgKG1hcmtpbmdDaGVja0J1dHRvbikge1xyXG4gICAgICAgICAgICBtYXJrQ2hlY2tCdXR0b25PZmZzZXQgPSBtYXJraW5nQ2hlY2tCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHBvcHVwQ29udGVudEhlaWdodDogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcclxuICAgICAgICAgICAgbWF4SGVpZ2h0OiAnY2FsYygxMDB2aCAtICcgKyBtYXJrQ2hlY2tCdXR0b25PZmZzZXQgKyAncHggLSA3MHB4KScvLyA3MHB4IGlzIHRoZSBib3JkZXIgcGFkZGluZ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBwb3B1cFdyYXBUb3A6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgICAgIHRvcDogbWFya0NoZWNrQnV0dG9uT2Zmc2V0ICsgJ3B4J1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBQRTogSlNYLkVsZW1lbnQgPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yZWNpcGllbnRMaXN0KSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcGUgPSB0aGlzLnJlY2lwaWVudExpc3QuZmlsdGVyKChtYXJrZXI6IE1hcmtpbmdDaGVja1JlY2lwaWVudCkgPT4gbWFya2VyLmlzUHJpbmNpcGFsRXhhbWluZXIpLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgaWYgKHBlICYmIHBlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIFBFID0gKDxkaXYgY2xhc3NOYW1lPSdhcHByb3ZhbC1vcHRpb25zJz5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9eydleGFtaW5lcl8nICsgcGVbMF0uZXhhbWluZXJJZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdjaGVja2JveCBzaG93LXJlbWFyaydcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0nY2hlY2tib3gnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkID0ge3BlWzBdLmhhc0FjdGl2ZU1hcmtpbmdDaGVjayB8fCAhcGVbMF0uaXNFbGlnaWJsZUZvck1hcmtpbmdDaGVja31cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHtwZVswXS5oYXNBY3RpdmVNYXJraW5nQ2hlY2sgfHwgcGVbMF0uaXNDaGVja2VkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZSA9IHsoKSA9PiB7IHRoYXQub25DaGVja0JveENsaWNrKHBlWzBdLmV4YW1pbmVySWQsIHBlWzBdLmlzQ2hlY2tlZCk7IH0gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J3JlbWFyay1sYWJlbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj17J2V4YW1pbmVyXycgKyBwZVswXS5leGFtaW5lcklkfT57dGhhdC5nZXRNYXJrZXJMYWJlbChwZVswXSkgfTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgTUFSS0VSUyA9IHRoaXMucmVjaXBpZW50TGlzdCA/XHJcbiAgICAgICAgICAgIHRoaXMucmVjaXBpZW50TGlzdC5tYXAoKG1hcmtlcjogTWFya2luZ0NoZWNrUmVjaXBpZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW1hcmtlci5pc1ByaW5jaXBhbEV4YW1pbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT0nYXBwcm92YWwtb3B0aW9ucyc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD17J2V4YW1pbmVyXycgKyBtYXJrZXIuZXhhbWluZXJJZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nY2hlY2tib3ggc2hvdy1yZW1hcmsnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdjaGVja2JveCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkID0ge21hcmtlci5oYXNBY3RpdmVNYXJraW5nQ2hlY2sgfHwgIW1hcmtlci5pc0VsaWdpYmxlRm9yTWFya2luZ0NoZWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHttYXJrZXIuaGFzQWN0aXZlTWFya2luZ0NoZWNrIHx8IG1hcmtlci5pc0NoZWNrZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZSA9IHsoKSA9PiB7IHRoYXQub25DaGVja0JveENsaWNrKG1hcmtlci5leGFtaW5lcklkLCBtYXJrZXIuaXNDaGVja2VkKTsgfSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdyZW1hcmstbGFiZWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPXsnZXhhbWluZXJfJyArIG1hcmtlci5leGFtaW5lcklkfT57dGhhdC5nZXRNYXJrZXJMYWJlbChtYXJrZXIpIH08L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pIDogbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBpZD0nUmVxdWVzdE1hcmtpbmdDaGVja1BvcHVwT3ZlcmxheSdcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygncG9wdXAgc21hbGwgcmVxdWVzdC1tYXJraW5nLWNoZWNrIHBvcHVwLW92ZXJsYXknLFxyXG4gICAgICAgICAgICAgICAgeydvcGVuJzogdGhpcy5zdGF0ZS5pc01hcmtpbmdDaGVja1BvcHVwVmlzaWJsZSB9KSB9XHJcbiAgICAgICAgICAgICAgICByb2xlPSdkaWFsb2cnPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BvcHVwLXdyYXAnIGlkPSdSZXF1ZXN0TWFya2luZ0NoZWNrUG9wdXBJZCcgc3R5bGU9e3BvcHVwV3JhcFRvcH0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ncG9wdXAxRGVzYycgY2xhc3NOYW1lPSdwb3B1cC1jb250ZW50JyBzdHlsZT17cG9wdXBDb250ZW50SGVpZ2h0fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgaWQ9J2Rlc3B0X2lkJyBjbGFzc05hbWU9J2Rlc3B0Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlcXVlc3QtbWFya2luZy1jaGVjay1tZW51LmhlYWRlcicpIH08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtQRX1cclxuICAgICAgICAgICAgICAgICAgICAgICAge01BUktFUlN9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BvcHVwLWZvb3RlciB0ZXh0LXJpZ2h0Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J2J1dHRvbiByb3VuZGVkIGNsb3NlLWJ1dHRvbidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPSdDYW5jZWwnIG9uQ2xpY2sgPSB7dGhpcy5jYW5jZWxDbGlja30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy51c2VyLW1lbnUucHJvZmlsZS1zZWN0aW9uLmNhbmNlbC1lbWFpbC1idXR0b24nKSB9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPSdidXR0b24gcHJpbWFyeSByb3VuZGVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPSdPaycgb25DbGljayA9IHt0aGlzLm9rQ2xpY2t9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IHshdGhpcy5pc09rQnV0dG9uRW5hYmxlZCgpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmNoYW5nZS1zdGF0dXMub2stYnV0dG9uJykgfTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYWxsIGV2ZW50IGxpc3RlbmVycyBoZXJlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuTUFSS0lOR19DSEVDS19SRUNJUElFTlRfTElTVF9VUERBVEVELFxyXG4gICAgICAgICAgICB0aGlzLm1hcmtpbmdDaGVja0J1dHRvbkNsaWNrZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMgaGVyZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZW1vdmVFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHdvcmtsaXN0U3RvcmUuV29ya0xpc3RTdG9yZS5NQVJLSU5HX0NIRUNLX1JFQ0lQSUVOVF9MSVNUX1VQREFURUQsXHJcbiAgICAgICAgICAgIHRoaXMubWFya2luZ0NoZWNrQnV0dG9uQ2xpY2tlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBtYXJrZXIgbGFiZWwgdG8gYmUgc2hvd24gaW4gbWFya2luZyBjaGVjayBwb3B1cFxyXG4gICAgICogQHBhcmFtIG1hcmtlclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldE1hcmtlckxhYmVsID0gKG1hcmtlcjogTWFya2luZ0NoZWNrUmVjaXBpZW50KTogc3RyaW5nID0+IHtcclxuXHJcbiAgICAgICAgbGV0IGxhYmVsVGV4dDogc3RyaW5nID0gbWFya2VyLmZ1bGxuYW1lO1xyXG5cclxuICAgICAgICBpZiAoIW1hcmtlci5pc0VsaWdpYmxlRm9yTWFya2luZ0NoZWNrKSB7XHJcbiAgICAgICAgICAgIGlmIChtYXJrZXIuYXBwcm92YWxTdGF0dXMgPT09IGVudW1zLkV4YW1pbmVyQXBwcm92YWwuU3VzcGVuZGVkICYmIG1hcmtlci5oYXNBY3RpdmVNYXJraW5nQ2hlY2spIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsVGV4dCArPSAnICgnICsgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5tYXJraW5nLWNoZWNrLXN0YXR1cy5TdXNwZW5kZWQnKSArXHJcbiAgICAgICAgICAgICAgICAgICAgJy0nICsgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5tYXJraW5nLWNoZWNrLXN0YXR1cy5DaGVja1JlcXVlc3RlZCcpICsgJyknO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcmtlci5hcHByb3ZhbFN0YXR1cyA9PT0gZW51bXMuRXhhbWluZXJBcHByb3ZhbC5TdXNwZW5kZWQgfHxcclxuICAgICAgICAgICAgICAgIG1hcmtlci5hcHByb3ZhbFN0YXR1cyA9PT0gZW51bXMuRXhhbWluZXJBcHByb3ZhbC5Ob3RBcHByb3ZlZCkge1xyXG4gICAgICAgICAgICAgICAgbGFiZWxUZXh0ICs9ICcgKCcgKyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0Lm1hcmtpbmctY2hlY2stc3RhdHVzLicgK1xyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLkV4YW1pbmVyQXBwcm92YWxbbWFya2VyLmFwcHJvdmFsU3RhdHVzXSkgKyAnKSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKG1hcmtlci5oYXNBY3RpdmVNYXJraW5nQ2hlY2spIHtcclxuXHJcbiAgICAgICAgICAgIGxhYmVsVGV4dCArPSAnICgnICsgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5tYXJraW5nLWNoZWNrLXN0YXR1cy5DaGVja1JlcXVlc3RlZCcpICsgJyknO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxhYmVsVGV4dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgdGhlIG1hcmtpbmcgY2hlY2sgcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSB0b2dnbGVNYXJraW5nQ2hlY2tQb3B1cCA9ICgpOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTWFya2luZ0NoZWNrUG9wdXBWaXNpYmxlOiAhdGhpcy5zdGF0ZS5pc01hcmtpbmdDaGVja1BvcHVwVmlzaWJsZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYXRlcyB0aGUgcG9wdXAgd2l0aCBsYXRlc3QgZGF0YVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcmtpbmdDaGVja0J1dHRvbkNsaWNrZWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5tYXJraW5nQ2hlY2tUb0xpc3QgPSBuZXcgQXJyYXk8bnVtYmVyPigpO1xyXG4gICAgICAgIHRoaXMucmVjaXBpZW50TGlzdCA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UubWFya2luZ0NoZWNrUmVjaXBpZW50TGlzdDtcclxuICAgICAgICBpZiAodGhpcy5yZWNpcGllbnRMaXN0ICYmIHRoaXMucmVjaXBpZW50TGlzdC5jb3VudCgpID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZU1hcmtpbmdDaGVja1BvcHVwKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWFya2luZ0NoZWNrQWN0aW9uQ3JlYXRvci50b2dnbGVSZXF1ZXN0TWFya2luZ0NoZWNrQnV0dG9uKGZhbHNlKTtcclxuICAgICAgICAgICAgaWYgKGFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUpIHtcclxuICAgICAgICAgICAgICAgIHBvcHVwRGlzcGxheUFjdGlvbkNyZWF0b3IucG9wVXBEaXNwbGF5KFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlBvcFVwVHlwZS5Ob01hcmtpbmdDaGVja1JlcXVlc3RQb3NzaWJsZSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuU2hvdyxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TYXZlQW5kTmF2aWdhdGUubm9uZSxcclxuICAgICAgICAgICAgICAgICAgICB7IHBvcHVwQ29udGVudDogJycgfSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIE9LIGJ1dHRvbiBpcyBlbmFibGVkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNPa0J1dHRvbkVuYWJsZWQgPSAoKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjaXBpZW50TGlzdCA/XHJcbiAgICAgICAgICAgIHRoaXMucmVjaXBpZW50TGlzdC5zb21lKChtYXJrZXI6IE1hcmtpbmdDaGVja1JlY2lwaWVudCkgPT4gbWFya2VyLmlzQ2hlY2tlZCkgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIFBvcHVwIG9rIGNsaWNrXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25DaGVja0JveENsaWNrID0gKGV4YW1pbmVySWQ6IG51bWJlciwgY3VycmVudFN0YXRlOiBib29sZWFuKSA9PiB7XHJcblxyXG4gICAgICAgIHRoaXMucmVjaXBpZW50TGlzdC5maW5kKGZ1bmN0aW9uIChtYXJrZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hcmtlci5leGFtaW5lcklkID09PSBleGFtaW5lcklkO1xyXG4gICAgICAgIH0pLmlzQ2hlY2tlZCA9ICFjdXJyZW50U3RhdGU7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlUmVuZGVyUG9wdXA6IERhdGUubm93KCkgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbiBQb3B1cCBvayBjbGlja1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9rQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVNYXJraW5nQ2hlY2tQb3B1cCgpO1xyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgICAgICBsZXQgc3lzdGVtTWVzc2FnZVByaW9yaXR5OiBudW1iZXIgPSBjb25zdGFudHMuU1lTVEVNX01FU1NBR0U7XHJcblxyXG4gICAgICAgIHRoaXMucmVjaXBpZW50TGlzdC5tYXAoZnVuY3Rpb24gKG1hcmtlcjogTWFya2luZ0NoZWNrUmVjaXBpZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChtYXJrZXIuaXNDaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0Lm1hcmtpbmdDaGVja1RvTGlzdC5wdXNoKG1hcmtlci5leGFtaW5lcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgcXVlc3Rpb25QYXBlcklkID0gcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ucXVlc3Rpb25QYXBlclBhcnRJZDtcclxuICAgICAgICBsZXQgbWFya1NjaGVtZUdyb3VwSWQgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZDtcclxuICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLnNlbmRFeGFtaW5lck1lc3NhZ2UodGhpcy5tYXJraW5nQ2hlY2tUb0xpc3QsXHJcbiAgICAgICAgICAgICcnLCAnJywgcXVlc3Rpb25QYXBlcklkLCBudWxsLCBlbnVtcy5NZXNzYWdlUHJpb3JpdHkuSW1wb3J0YW50LFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZCwgbnVsbCwgLTEsIC0xLCBmYWxzZSwgbnVsbCwgZW51bXMuU3lzdGVtTWVzc2FnZS5DaGVja015TWFya3MpO1xyXG5cclxuICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLnNlbmRFeGFtaW5lck1lc3NhZ2UodGhpcy5tYXJraW5nQ2hlY2tUb0xpc3QsXHJcbiAgICAgICAgICAgICcnLCAnJywgcXVlc3Rpb25QYXBlcklkLCBudWxsLCBzeXN0ZW1NZXNzYWdlUHJpb3JpdHksXHJcbiAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkLCBudWxsLCAtMSwgLTEsIGZhbHNlLCBudWxsLCBlbnVtcy5TeXN0ZW1NZXNzYWdlLkNoZWNrTXlNYXJrcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbiBQb3B1cCBjYW5jZWwgY2xpY2tcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjYW5jZWxDbGljayA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnRvZ2dsZU1hcmtpbmdDaGVja1BvcHVwKCk7XHJcbiAgICAgICAgbWFya2luZ0NoZWNrQWN0aW9uQ3JlYXRvci50b2dnbGVSZXF1ZXN0TWFya2luZ0NoZWNrQnV0dG9uKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbn1cclxuZXhwb3J0ID0gTWFya2luZ0NoZWNrUG9wdXA7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtlcmluZm9ybWF0aW9uL21hcmtpbmdjaGVja3BvcHVwLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQUE7QUFLQTs7OztBQUlBO0FBQ0E7QUFBQTtBQTBIQTs7O0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFPQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUEyR0E7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 590:
/* no static exports found */
/* all exports used */
/*!***********************************************************************!*\
  !*** ./src/components/worklist/markerinformation/sendmessagelink.tsx ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * Send Message Link and its click event.\r\n * @param props\r\n */\r\nvar sendMessageLink = function (props) {\r\n    return (React.createElement(\"div\", { className: 'send-message-holder small-text', id: 'sendMessage' },\r\n        React.createElement(\"a\", { href: 'javascript:void(0)', title: localeStore.instance.TranslateText('marking.worklist.left-panel.send-message'), className: 'dark-link', onClick: function () { props.onClick(); } },\r\n            React.createElement(\"span\", { className: 'sprite-icon message-small-icon' }),\r\n            React.createElement(\"span\", { id: 'supervisor_message', className: 'padding-left-5' }, localeStore.instance.TranslateText('marking.worklist.left-panel.send-message')))));\r\n};\r\nmodule.exports = sendMessageLink;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3QvbWFya2VyaW5mb3JtYXRpb24vc2VuZG1lc3NhZ2VsaW5rLnRzeD84ZTY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuXHJcbi8qIHRzbGludDpkaXNhYmxlOmNsYXNzLW5hbWUgKi9cclxuaW50ZXJmYWNlIHNlbmRNZXNzYWdlTGlua1Byb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIG9uQ2xpY2s6IEZ1bmN0aW9uO1xyXG59XHJcblxyXG4vKipcclxuICogU2VuZCBNZXNzYWdlIExpbmsgYW5kIGl0cyBjbGljayBldmVudC5cclxuICogQHBhcmFtIHByb3BzXHJcbiAqL1xyXG5jb25zdCBzZW5kTWVzc2FnZUxpbms6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxzZW5kTWVzc2FnZUxpbmtQcm9wcz4gPSAocHJvcHM6IHNlbmRNZXNzYWdlTGlua1Byb3BzKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzZW5kLW1lc3NhZ2UtaG9sZGVyIHNtYWxsLXRleHQnIGlkPSdzZW5kTWVzc2FnZSc+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKScgdGl0bGU9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QubGVmdC1wYW5lbC5zZW5kLW1lc3NhZ2UnKVxyXG4gICAgICAgICAgICB9IGNsYXNzTmFtZT0nZGFyay1saW5rJyBvbkNsaWNrPXsoKSA9PiB7IHByb3BzLm9uQ2xpY2soKTsgfX0+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Nwcml0ZS1pY29uIG1lc3NhZ2Utc21hbGwtaWNvbicgLz5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGlkPSdzdXBlcnZpc29yX21lc3NhZ2UnIGNsYXNzTmFtZT0ncGFkZGluZy1sZWZ0LTUnPlxyXG4gICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmxlZnQtcGFuZWwuc2VuZC1tZXNzYWdlJyl9XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn07XHJcblxyXG5leHBvcnQgPSBzZW5kTWVzc2FnZUxpbms7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L21hcmtlcmluZm9ybWF0aW9uL3NlbmRtZXNzYWdlbGluay50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBT0E7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQU1BO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 591:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/worklist/shared/graceperiodtime.tsx ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n    React component for time to end the grace period\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar localeHelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\nvar stringHelper = __webpack_require__(/*! ../../../utility/generic/stringhelper */ 254);\r\n/**\r\n * React component class for time to end the grace period\r\n */\r\nvar GracePeriodTime = /** @class */ (function (_super) {\r\n    __extends(GracePeriodTime, _super);\r\n    /**\r\n     * Constructor for Grace period time\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function GracePeriodTime(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    GracePeriodTime.prototype.render = function () {\r\n        var elementId = 'dtGrace_' + this.props.id;\r\n        var resourceString = this.props.timeToEndOfGracePeriod === 1 ? 'marking.worklist.response-data.hour-to-end-of-grace' :\r\n            'marking.worklist.response-data.hours-to-end-of-grace';\r\n        var remaingPeriod = stringHelper.format(localeStore.instance.TranslateText(resourceString), [localeHelper.toLocaleString(this.props.timeToEndOfGracePeriod)]);\r\n        remaingPeriod = (this.props.isTileView) ? remaingPeriod +\r\n            localeStore.instance.TranslateText('marking.worklist.tile-view-labels.to-end-of-grace-period') : remaingPeriod;\r\n        return ((this.props.isTileView) ?\r\n            React.createElement(\"div\", { id: elementId, className: 'small-text ' }, remaingPeriod)\r\n            :\r\n                React.createElement(\"div\", { className: ' wl-grace-period' },\r\n                    React.createElement(\"span\", { id: elementId, className: 'small-text' }, remaingPeriod)));\r\n    };\r\n    return GracePeriodTime;\r\n}(pureRenderComponent));\r\nmodule.exports = GracePeriodTime;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2dyYWNlcGVyaW9kdGltZS50c3g/NmU5MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gICAgUmVhY3QgY29tcG9uZW50IGZvciB0aW1lIHRvIGVuZCB0aGUgZ3JhY2UgcGVyaW9kXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgbG9jYWxlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9sb2NhbGUvbG9jYWxlaGVscGVyJyk7XHJcbmltcG9ydCBzdHJpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dlbmVyaWMvc3RyaW5naGVscGVyJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiB0aW1lIHRvIGVuZCB0aGUgZ3JhY2UgcGVyaW9kXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgdGltZVRvRW5kT2ZHcmFjZVBlcmlvZDogbnVtYmVyO1xyXG4gICAgaXNUaWxlVmlldz86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIHRpbWUgdG8gZW5kIHRoZSBncmFjZSBwZXJpb2RcclxuICovXHJcbmNsYXNzIEdyYWNlUGVyaW9kVGltZSBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3IgZm9yIEdyYWNlIHBlcmlvZCB0aW1lXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBlbGVtZW50SWQgPSAnZHRHcmFjZV8nICsgdGhpcy5wcm9wcy5pZDtcclxuICAgICAgICBsZXQgcmVzb3VyY2VTdHJpbmc6IHN0cmluZyA9IHRoaXMucHJvcHMudGltZVRvRW5kT2ZHcmFjZVBlcmlvZCA9PT0gMSA/ICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEuaG91ci10by1lbmQtb2YtZ3JhY2UnIDpcclxuICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5ob3Vycy10by1lbmQtb2YtZ3JhY2UnO1xyXG5cclxuICAgICAgICBsZXQgcmVtYWluZ1BlcmlvZCA9IHN0cmluZ0hlbHBlci5mb3JtYXQoXHJcbiAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQocmVzb3VyY2VTdHJpbmcpLFxyXG4gICAgICAgICAgICBbbG9jYWxlSGVscGVyLnRvTG9jYWxlU3RyaW5nKHRoaXMucHJvcHMudGltZVRvRW5kT2ZHcmFjZVBlcmlvZCldXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZW1haW5nUGVyaW9kID0gKHRoaXMucHJvcHMuaXNUaWxlVmlldykgPyByZW1haW5nUGVyaW9kICtcclxuICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC50aWxlLXZpZXctbGFiZWxzLnRvLWVuZC1vZi1ncmFjZS1wZXJpb2QnKSA6IHJlbWFpbmdQZXJpb2Q7XHJcbiAgICAgICAgcmV0dXJuIChcclxuXHJcbiAgICAgICAgICAgICh0aGlzLnByb3BzLmlzVGlsZVZpZXcpID9cclxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9IHsgZWxlbWVudElkIH0gY2xhc3NOYW1lPSdzbWFsbC10ZXh0ICc+e3JlbWFpbmdQZXJpb2R9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nIHdsLWdyYWNlLXBlcmlvZCc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9IHsgZWxlbWVudElkIH0gY2xhc3NOYW1lPSdzbWFsbC10ZXh0Jz57cmVtYWluZ1BlcmlvZH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCA9IEdyYWNlUGVyaW9kVGltZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2dyYWNlcGVyaW9kdGltZS50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBOztBQUVBO0FBQ0E7QUFBQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 592:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/worklist/shared/marksdifference.tsx ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar constants = __webpack_require__(/*! ../../utility/constants */ 241);\r\nvar MarksDifference = /** @class */ (function (_super) {\r\n    __extends(MarksDifference, _super);\r\n    /**\r\n     * Constructor for MarksDifference\r\n     * @param props\r\n     */\r\n    function MarksDifference(props) {\r\n        return _super.call(this, props, null) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    MarksDifference.prototype.render = function () {\r\n        if (this.props.isTileView === false) {\r\n            return (React.createElement(\"div\", { id: this.props.id, className: this.props.className, title: localeStore.instance.TranslateText(this.props.title) },\r\n                React.createElement(\"span\", { className: 'dim-text txt-val' }, this.getMarkDifferenceValueInStringFormat())));\r\n        }\r\n        else {\r\n            return (React.createElement(\"div\", { id: this.props.id, className: this.props.className, title: localeStore.instance.TranslateText(this.props.title) },\r\n                React.createElement(\"span\", { className: 'ex-dim-text txt-label' },\r\n                    localeStore.instance.TranslateText(this.props.marksDifferenceText),\r\n                    \" \"),\r\n                React.createElement(\"span\", { className: 'dim-text txt-val' }, this.getMarkDifferenceValueInStringFormat())));\r\n        }\r\n    };\r\n    /**\r\n     * Get mark difference value in string format.\r\n     */\r\n    MarksDifference.prototype.getMarkDifferenceValueInStringFormat = function () {\r\n        var displayMarkDifferenceValue = '';\r\n        var markDifferenceValue = this.props.marksDifference !== undefined ? this.props.marksDifference : 0;\r\n        switch (this.props.marksDifferenceType) {\r\n            case enums.MarksDifferenceType.TotalMarksDifference:\r\n                displayMarkDifferenceValue = this.props.marksDifference > 0\r\n                    ? (constants.PLUS_SIGN + this.props.marksDifference) : markDifferenceValue.toString();\r\n                break;\r\n            default:\r\n                displayMarkDifferenceValue = markDifferenceValue.toString();\r\n        }\r\n        return displayMarkDifferenceValue;\r\n    };\r\n    return MarksDifference;\r\n}(PureRenderComponent));\r\nmodule.exports = MarksDifference;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL21hcmtzZGlmZmVyZW5jZS50c3g/MzlhMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuLyogdHNsaW50OmVuYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgbG9jYWxlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9sb2NhbGUvbG9jYWxlaGVscGVyJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IGNvbnN0YW50cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uc3RhbnRzJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBjb21wb25lbnQuXHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gICAgdGl0bGU/OiBzdHJpbmc7XHJcbiAgICBtYXJrc0RpZmZlcmVuY2U/OiBudW1iZXI7XHJcbiAgICBtYXJrc0RpZmZlcmVuY2VUZXh0Pzogc3RyaW5nO1xyXG4gICAgbWFya3NEaWZmZXJlbmNlVHlwZTogZW51bXMuTWFya3NEaWZmZXJlbmNlVHlwZTtcclxuICAgIGlzVGlsZVZpZXc/OiBib29sZWFuO1xyXG59XHJcblxyXG5jbGFzcyBNYXJrc0RpZmZlcmVuY2UgZXh0ZW5kcyBQdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIGZvciBNYXJrc0RpZmZlcmVuY2VcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzVGlsZVZpZXcgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPGRpdiBpZD17dGhpcy5wcm9wcy5pZH0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0gdGl0bGU9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQodGhpcy5wcm9wcy50aXRsZSkgfT5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nZGltLXRleHQgdHh0LXZhbCc+eyB0aGlzLmdldE1hcmtEaWZmZXJlbmNlVmFsdWVJblN0cmluZ0Zvcm1hdCgpIH08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICg8ZGl2IGlkPXt0aGlzLnByb3BzLmlkfSBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfSB0aXRsZT17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCh0aGlzLnByb3BzLnRpdGxlKSB9PlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdleC1kaW0tdGV4dCB0eHQtbGFiZWwnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KHRoaXMucHJvcHMubWFya3NEaWZmZXJlbmNlVGV4dCkgfSA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2RpbS10ZXh0IHR4dC12YWwnPnsgdGhpcy5nZXRNYXJrRGlmZmVyZW5jZVZhbHVlSW5TdHJpbmdGb3JtYXQoKSB9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBtYXJrIGRpZmZlcmVuY2UgdmFsdWUgaW4gc3RyaW5nIGZvcm1hdC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRNYXJrRGlmZmVyZW5jZVZhbHVlSW5TdHJpbmdGb3JtYXQoKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgZGlzcGxheU1hcmtEaWZmZXJlbmNlVmFsdWU6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGxldCBtYXJrRGlmZmVyZW5jZVZhbHVlOiBudW1iZXIgPSB0aGlzLnByb3BzLm1hcmtzRGlmZmVyZW5jZSAhPT0gdW5kZWZpbmVkID8gdGhpcy5wcm9wcy5tYXJrc0RpZmZlcmVuY2UgOiAwO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMubWFya3NEaWZmZXJlbmNlVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtzRGlmZmVyZW5jZVR5cGUuVG90YWxNYXJrc0RpZmZlcmVuY2U6XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5TWFya0RpZmZlcmVuY2VWYWx1ZSA9IHRoaXMucHJvcHMubWFya3NEaWZmZXJlbmNlID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gKGNvbnN0YW50cy5QTFVTX1NJR04gKyB0aGlzLnByb3BzLm1hcmtzRGlmZmVyZW5jZSkgOiBtYXJrRGlmZmVyZW5jZVZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlNYXJrRGlmZmVyZW5jZVZhbHVlID0gbWFya0RpZmZlcmVuY2VWYWx1ZS50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRpc3BsYXlNYXJrRGlmZmVyZW5jZVZhbHVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBNYXJrc0RpZmZlcmVuY2U7XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL21hcmtzZGlmZmVyZW5jZS50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFlQTtBQUFBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 593:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/components/worklist/shared/responsetypelabel.tsx ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\n/**\r\n * Stateless seed label component\r\n * @param props\r\n */\r\n/* tslint:disable:variable-name */\r\nvar ResponseTypeLabel = function (props) {\r\n    /* tslint:enable:variable-name */\r\n    var responseTypeLabel;\r\n    switch (props.responseType) {\r\n        case enums.ResponseType.Seed:\r\n            responseTypeLabel = localeStore.instance.TranslateText('marking.worklist.response-data.seed-indicator');\r\n            break;\r\n        case enums.ResponseType.PromotedSeed:\r\n            responseTypeLabel = localeStore.instance.TranslateText('marking.worklist.response-data.promoted-seed-indicator');\r\n            break;\r\n        case enums.ResponseType.Definitive:\r\n            responseTypeLabel = localeStore.instance.TranslateText('marking.worklist.response-data.definitive-indicator');\r\n            break;\r\n        case enums.ResponseType.WholeResponse:\r\n            responseTypeLabel = localeStore.instance.TranslateText('marking.worklist.response-data.wholeresponse-indicator');\r\n    }\r\n    if (!props.isResponseTypeLabelVisible) {\r\n        return null;\r\n    }\r\n    else {\r\n        return (React.createElement(\"div\", { className: 'response-type-label small-text' },\r\n            React.createElement(\"span\", { className: 'response-type-text' }, responseTypeLabel)));\r\n    }\r\n};\r\nmodule.exports = ResponseTypeLabel;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3Jlc3BvbnNldHlwZWxhYmVsLnRzeD8zMjNlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZW5hYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBsb2NhbGVIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2xvY2FsZS9sb2NhbGVoZWxwZXInKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGlzUmVzcG9uc2VUeXBlTGFiZWxWaXNpYmxlOiBib29sZWFuO1xyXG4gICAgcmVzcG9uc2VUeXBlPzogZW51bXMuUmVzcG9uc2VUeXBlO1xyXG59XHJcblxyXG4vKipcclxuICogU3RhdGVsZXNzIHNlZWQgbGFiZWwgY29tcG9uZW50XHJcbiAqIEBwYXJhbSBwcm9wc1xyXG4gKi9cclxuIC8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cclxuY29uc3QgUmVzcG9uc2VUeXBlTGFiZWwgPSAocHJvcHM6IFByb3BzKTogSlNYLkVsZW1lbnQgPT4ge1xyXG4gICAgLyogdHNsaW50OmVuYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcblxyXG4gICAgbGV0IHJlc3BvbnNlVHlwZUxhYmVsO1xyXG4gICAgc3dpdGNoIChwcm9wcy5yZXNwb25zZVR5cGUpIHtcclxuICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlVHlwZS5TZWVkOlxyXG4gICAgICAgICAgICByZXNwb25zZVR5cGVMYWJlbCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zZWVkLWluZGljYXRvcicpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlVHlwZS5Qcm9tb3RlZFNlZWQ6XHJcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZUxhYmVsID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnByb21vdGVkLXNlZWQtaW5kaWNhdG9yJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VUeXBlLkRlZmluaXRpdmU6XHJcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZUxhYmVsID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLmRlZmluaXRpdmUtaW5kaWNhdG9yJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VUeXBlLldob2xlUmVzcG9uc2U6XHJcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZUxhYmVsID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLndob2xlcmVzcG9uc2UtaW5kaWNhdG9yJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFwcm9wcy5pc1Jlc3BvbnNlVHlwZUxhYmVsVmlzaWJsZSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT0ncmVzcG9uc2UtdHlwZS1sYWJlbCBzbWFsbC10ZXh0Jz5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdyZXNwb25zZS10eXBlLXRleHQnPlxyXG4gICAgICAgICAgICAgICAgeyByZXNwb25zZVR5cGVMYWJlbCAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgPSBSZXNwb25zZVR5cGVMYWJlbDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3Jlc3BvbnNldHlwZWxhYmVsLnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBT0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 594:
/* no static exports found */
/* all exports used */
/*!*********************************************************!*\
  !*** ./src/components/worklist/shared/worklistdate.tsx ***!
  \*********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for login header\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar GenericDate = __webpack_require__(/*! ./genericdate */ 315);\r\n/**\r\n * React component class for submit button\r\n */\r\nvar WorkListDate = /** @class */ (function (_super) {\r\n    __extends(WorkListDate, _super);\r\n    /**\r\n     * Constructor for worklistdate\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function WorkListDate(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.dateText = '';\r\n        _this.dateValue = '';\r\n        _this.elementId = '';\r\n        _this.elementKey = '';\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    WorkListDate.prototype.render = function () {\r\n        var cName;\r\n        this.elementId = 'dtup_' + this.props.id;\r\n        this.elementKey = 'dtup_key_' + this.props.id;\r\n        if (!this.props.dateValue) {\r\n            this.dateValue = localeStore.instance.TranslateText('marking.worklist.response-data.marking-not-started');\r\n            return (React.createElement(\"p\", { className: 'resp-mark small-text' },\r\n                React.createElement(GenericDate, { id: 'dtup_' + this.props.id, key: 'dtup_key_' + this.props.id, className: 'dim-text txt-val', displayText: localeStore.instance.TranslateText('marking.worklist.response-data.marking-not-started') })));\r\n        }\r\n        else if (this.props.dateType === enums.WorkListDateType.allocatedDate) {\r\n            this.dateText = localeStore.instance.TranslateText('marking.worklist.tile-view-labels.allocated');\r\n            this.elementId = 'dtalloc_' + this.props.id;\r\n            this.elementKey = 'dtalloc_key_' + this.props.id;\r\n            return (React.createElement(\"div\", { className: 'resp-allocated-date small-text' },\r\n                React.createElement(GenericDate, { dateValue: this.props.dateValue, id: this.elementId, key: this.elementId, className: 'dim-text txt-val small-text' })));\r\n        }\r\n        else if (this.props.dateType === enums.WorkListDateType.submittedDate) {\r\n            this.dateText = localeStore.instance.TranslateText('marking.worklist.tile-view-labels.submitted');\r\n            this.elementId = 'dtsubmit_' + this.props.id;\r\n            this.elementKey = 'dtsubmit_key_' + this.props.id;\r\n            return ((React.createElement(\"div\", { className: 'resp-allocated-date small-text' },\r\n                React.createElement(\"span\", { className: 'ex-dim-text txt-label' },\r\n                    this.dateText,\r\n                    \": \"),\r\n                React.createElement(GenericDate, { dateValue: this.props.dateValue, id: this.elementId, key: this.elementId, className: 'dim-text txt-val' }))));\r\n        }\r\n        return null;\r\n    };\r\n    return WorkListDate;\r\n}(pureRenderComponent));\r\nmodule.exports = WorkListDate;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTk0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3dvcmtsaXN0ZGF0ZS50c3g/ZGE5NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gIFJlYWN0IGNvbXBvbmVudCBmb3IgbG9naW4gaGVhZGVyXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgbG9jYWxlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9sb2NhbGUvbG9jYWxlaGVscGVyJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IEdlbmVyaWNEYXRlID0gcmVxdWlyZSgnLi9nZW5lcmljZGF0ZScpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgYWxsb2NhdGUgZGFuZCBsYXN0IHVwZGF0ZWQgY29sdW1uXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgZGF0ZVZhbHVlPzogRGF0ZTtcclxuICAgIGRhdGVUeXBlOiBlbnVtcy5Xb3JrTGlzdERhdGVUeXBlO1xyXG4gICAgaXNUaWxlVmlldz86IGJvb2xlYW47XHJcbiAgICByZW5kZXJlZE9uPzogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50IGNsYXNzIGZvciBzdWJtaXQgYnV0dG9uXHJcbiAqL1xyXG5jbGFzcyBXb3JrTGlzdERhdGUgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuXHJcbiAgICBwcml2YXRlIGRhdGVUZXh0OiBzdHJpbmcgPSAnJztcclxuICAgIHByaXZhdGUgZGF0ZVZhbHVlOiBzdHJpbmcgPSAnJztcclxuICAgIHByaXZhdGUgZWxlbWVudElkOiBzdHJpbmcgPSAnJztcclxuICAgIHByaXZhdGUgZWxlbWVudEtleTogc3RyaW5nID0gJyc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3Igd29ya2xpc3RkYXRlIFxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnQgXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcblx0cHVibGljIHJlbmRlcigpIHtcclxuXHJcblx0XHRsZXQgY05hbWU6IHN0cmluZztcclxuXHRcdHRoaXMuZWxlbWVudElkID0gJ2R0dXBfJyArIHRoaXMucHJvcHMuaWQ7XHJcblx0XHR0aGlzLmVsZW1lbnRLZXkgPSAnZHR1cF9rZXlfJyArIHRoaXMucHJvcHMuaWQ7XHJcblxyXG5cdFx0aWYgKCF0aGlzLnByb3BzLmRhdGVWYWx1ZSkge1xyXG5cdFx0XHR0aGlzLmRhdGVWYWx1ZSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5tYXJraW5nLW5vdC1zdGFydGVkJyk7XHJcblxyXG5cdFx0XHRyZXR1cm4gKFxyXG5cdFx0XHRcdDxwIGNsYXNzTmFtZT0ncmVzcC1tYXJrIHNtYWxsLXRleHQnPlxyXG5cdFx0XHRcdFx0ICAgIDxHZW5lcmljRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXsnZHR1cF8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9eydkdHVwX2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eydkaW0tdGV4dCB0eHQtdmFsJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLm1hcmtpbmctbm90LXN0YXJ0ZWQnKX0vPlxyXG5cdFx0XHRcdDwvcD5cclxuXHRcdFx0KTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKHRoaXMucHJvcHMuZGF0ZVR5cGUgPT09IGVudW1zLldvcmtMaXN0RGF0ZVR5cGUuYWxsb2NhdGVkRGF0ZSkge1xyXG5cdFx0XHR0aGlzLmRhdGVUZXh0ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC50aWxlLXZpZXctbGFiZWxzLmFsbG9jYXRlZCcpO1xyXG5cdFx0XHR0aGlzLmVsZW1lbnRJZCA9ICdkdGFsbG9jXycgKyB0aGlzLnByb3BzLmlkO1xyXG5cdFx0XHR0aGlzLmVsZW1lbnRLZXkgPSAnZHRhbGxvY19rZXlfJyArIHRoaXMucHJvcHMuaWQ7XHJcblxyXG5cdFx0XHRyZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3Jlc3AtYWxsb2NhdGVkLWRhdGUgc21hbGwtdGV4dCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHZW5lcmljRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVWYWx1ZT17dGhpcy5wcm9wcy5kYXRlVmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e3RoaXMuZWxlbWVudElkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dGhpcy5lbGVtZW50SWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsnZGltLXRleHQgdHh0LXZhbCBzbWFsbC10ZXh0J30vPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2Pik7XHJcblx0XHR9IGVsc2UgaWYgKHRoaXMucHJvcHMuZGF0ZVR5cGUgPT09IGVudW1zLldvcmtMaXN0RGF0ZVR5cGUuc3VibWl0dGVkRGF0ZSkge1xyXG5cdFx0XHR0aGlzLmRhdGVUZXh0ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC50aWxlLXZpZXctbGFiZWxzLnN1Ym1pdHRlZCcpO1xyXG5cdFx0XHR0aGlzLmVsZW1lbnRJZCA9ICdkdHN1Ym1pdF8nICsgdGhpcy5wcm9wcy5pZDtcclxuXHRcdFx0dGhpcy5lbGVtZW50S2V5ID0gJ2R0c3VibWl0X2tleV8nICsgdGhpcy5wcm9wcy5pZDtcclxuXHJcblx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0KDxkaXYgY2xhc3NOYW1lPSdyZXNwLWFsbG9jYXRlZC1kYXRlIHNtYWxsLXRleHQnPlxyXG5cdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSdleC1kaW0tdGV4dCB0eHQtbGFiZWwnPnt0aGlzLmRhdGVUZXh0fTogPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8R2VuZXJpY0RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlVmFsdWU9e3RoaXMucHJvcHMuZGF0ZVZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXt0aGlzLmVsZW1lbnRJZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3RoaXMuZWxlbWVudElkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17J2RpbS10ZXh0IHR4dC12YWwnfS8+XHJcblx0XHRcdFx0PC9kaXY+KVxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG59XHJcbmV4cG9ydCA9IFdvcmtMaXN0RGF0ZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3dvcmtsaXN0ZGF0ZS50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVlBOztBQUVBO0FBQ0E7QUFBQTtBQU9BOzs7O0FBSUE7QUFDQTtBQUFBO0FBVkE7QUFDQTtBQUNBO0FBQ0E7O0FBU0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 595:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/components/worklist/targetsummary/targetitem.tsx ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar localeHelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar qiqStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar targetSummaryStore = __webpack_require__(/*! ../../../stores/worklist/targetsummarystore */ 305);\r\nvar TargetItem = /** @class */ (function (_super) {\r\n    __extends(TargetItem, _super);\r\n    /**\r\n     * constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function TargetItem(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.onTargetClickFn = _this.onTargetClick.bind(_this, _this.props.target.markingModeID, _this.props.remarkRequestTypeID, _this.props.isDirectedRemark);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    TargetItem.prototype.render = function () {\r\n        var markingModeName;\r\n        if (this.props.target.markingModeID === enums.MarkingMode.Remarking) {\r\n            markingModeName = enums.RemarkRequestType[this.props.remarkRequestTypeID];\r\n        }\r\n        else {\r\n            markingModeName = enums.MarkingMode[this.props.target.markingModeID];\r\n        }\r\n        if (this.props.target.markingModeID === enums.MarkingMode.ES_TeamApproval &&\r\n            qiqStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember === false) {\r\n            markingModeName = 'SecondStandardisation';\r\n        }\r\n        return (React.createElement(\"li\", { id: 'target_' + markingModeName, className: classNames('panel', {\r\n                'completed': (this.props.target.isTargetCompleted\r\n                    || this.props.isOverAllTargetCompleted), 'disabled': this.props.isDisabled, 'open': this.props.isSelected,\r\n                'active': markingModeName === 'Simulation'\r\n            }), onClick: this.onTargetClickFn },\r\n            React.createElement(\"span\", { id: markingModeName + '_status', className: this.determineMenuClass() },\r\n                React.createElement(\"span\", { id: markingModeName + '_indicator', className: this.determineStatusClass() }),\r\n                this.getOpenResponsesCount()),\r\n            React.createElement(\"a\", { href: 'javascript:void(0)', id: markingModeName + '_title', title: markingModeName === enums.getEnumString(enums.MarkingMode, enums.MarkingMode.LiveMarking) ?\r\n                    localeStore.instance.TranslateText('generic.marking-modes.Marking') :\r\n                    localeStore.instance.TranslateText('generic.marking-modes.' + markingModeName), className: 'left-menu-link panel-link' },\r\n                React.createElement(\"span\", { id: markingModeName + '_menutext', className: 'menu-text large-text' }, markingModeName === enums.getEnumString(enums.MarkingMode, enums.MarkingMode.LiveMarking) ?\r\n                    localeStore.instance.TranslateText('generic.marking-modes.Marking') :\r\n                    localeStore.instance.TranslateText('generic.marking-modes.' + markingModeName)),\r\n                this.renderHighlightedCompletedText(),\r\n                this.renderRemainingDaysSection(),\r\n                this.renderMarkingCompletionDate(markingModeName))));\r\n    };\r\n    /**\r\n     * Handle the click event in the Target.\r\n     * @param selectedMarkingModeID\r\n     */\r\n    TargetItem.prototype.onTargetClick = function (selectedMarkingModeID, remarkRequestTypeId, isDirectedRemark) {\r\n        if (!this.props.isDisabled && !this.props.isSelected) {\r\n            this.props.onClickCallback(selectedMarkingModeID, remarkRequestTypeId, isDirectedRemark);\r\n        }\r\n    };\r\n    /**\r\n     * Method which gets the formatted date to be shown in the UI\r\n     * @param markingCompletionDate\r\n     */\r\n    TargetItem.prototype.getFormattedMarkingCompletionDate = function () {\r\n        var targetCompletedDateString = (this.props.target.isTargetCompleted\r\n            || this.props.isOverAllTargetCompleted) ? this.props.target.targetCompletedDate.toString() :\r\n            this.props.target.markingTargetDate.toString();\r\n        var targetCompletedDate = new Date(targetCompletedDateString);\r\n        return localeHelper.toLocaleDateString(targetCompletedDate);\r\n    };\r\n    /**\r\n     * Get the remaining days for the completion date. Shouldn't be negetive.\r\n     * If target is met return the value as 0.\r\n     * @param markingCompletionDate\r\n     */\r\n    TargetItem.prototype.remainingDaysForMarkingCompletion = function () {\r\n        var today = new Date();\r\n        var markingDate = new Date(this.props.target.markingTargetDate.toString());\r\n        // Converting milli seconds to 1 day.\r\n        var oneDay = 1000 * 60 * 60 * 24;\r\n        var noOfDays = (Math.ceil((markingDate.getTime() - today.getTime()) / (oneDay)));\r\n        if (noOfDays < 0) {\r\n            return 0;\r\n        }\r\n        else {\r\n            return noOfDays;\r\n        }\r\n    };\r\n    /**\r\n     * Deteremines the menu class\r\n     */\r\n    TargetItem.prototype.determineMenuClass = function () {\r\n        return (this.props.target.isTargetCompleted || this.props.isOverAllTargetCompleted) ? 'menu-count-completed' : 'menu-count';\r\n    };\r\n    /**\r\n     * Renders the highlighted completed text\r\n     * @returns\r\n     */\r\n    TargetItem.prototype.renderHighlightedCompletedText = function () {\r\n        if (this.props.target.isTargetCompleted || this.props.isOverAllTargetCompleted) {\r\n            return (React.createElement(\"span\", { className: 'menu-highlight-text' }, localeStore.instance.TranslateText('marking.worklist.left-panel.target-completed')));\r\n        }\r\n    };\r\n    /**\r\n     * Renders the remaining day section\r\n     */\r\n    TargetItem.prototype.renderRemainingDaysSection = function () {\r\n        if (this.props.target.markingModeID === enums.MarkingMode.Simulation) {\r\n            return null;\r\n        }\r\n        if (!this.props.target.isCurrentTarget || this.props.target.isTargetCompleted || this.props.isOverAllTargetCompleted) {\r\n            return null;\r\n        }\r\n        var style = {\r\n            'display': 'block'\r\n        };\r\n        return (React.createElement(\"span\", { className: 'menu-highlight-text', style: style },\r\n            React.createElement(\"span\", { id: enums.MarkingMode[this.props.target.markingModeID] + '_days_until_target_date', className: 'remaining-date' },\r\n                this.remainingDaysForMarkingCompletion(),\r\n                \" \"),\r\n            localeStore.instance.TranslateText('marking.worklist.left-panel.days-until-target')));\r\n    };\r\n    /**\r\n     * Method to render marking completion date.\r\n     * @param markingModeName\r\n     */\r\n    TargetItem.prototype.renderMarkingCompletionDate = function (markingModeName) {\r\n        if (this.props.target.markingModeID === enums.MarkingMode.Simulation) {\r\n            return null;\r\n        }\r\n        return (React.createElement(\"div\", { id: markingModeName + '_target_date', className: 'menu-text-small small-text' },\r\n            React.createElement(\"span\", { className: 'menu-label' }, localeStore.instance.TranslateText('marking.worklist.left-panel.target' +\r\n                ((this.props.target.isTargetCompleted\r\n                    || this.props.isOverAllTargetCompleted) ? '-completed-date-label' : '-date-label'))),\r\n            React.createElement(\"span\", { id: markingModeName + '_datetext', className: 'date-text' }, this.getFormattedMarkingCompletionDate())));\r\n    };\r\n    /**\r\n     * Method to determine the status class to apply for the item.\r\n     */\r\n    TargetItem.prototype.determineStatusClass = function () {\r\n        // Determine the Status of the target item. tick/dots/pencil.\r\n        // TargetComplete = tick, Current = pencil, Future = dots.\r\n        if (this.props.target.isTargetCompleted || this.props.isOverAllTargetCompleted) {\r\n            return 'sprite-icon tick-circle-icon menu-count-completed';\r\n        }\r\n        else if (this.props.target.isCurrentTarget && this.props.target.markingModeID === enums.MarkingMode.Simulation) {\r\n            return '';\r\n        }\r\n        else if (this.props.target.isCurrentTarget || this.props.target.markingModeID === enums.MarkingMode.Remarking\r\n            && targetSummaryStore.instance.getCurrentTarget().markingModeID === enums.MarkingMode.LiveMarking) {\r\n            return this.props.target.markingModeID === enums.MarkingMode.LiveMarking\r\n                || this.props.target.markingModeID === enums.MarkingMode.Remarking ? '' : 'sprite-icon pencil-icon';\r\n        }\r\n        else {\r\n            return 'sprite-icon dot-dot-dot-icon';\r\n        }\r\n    };\r\n    /**\r\n     * This method will return the open responses count\r\n     */\r\n    TargetItem.prototype.getOpenResponsesCount = function () {\r\n        if (this.props.target.isCurrentTarget &&\r\n            this.props.target.markingModeID === enums.MarkingMode.LiveMarking && !this.props.target.isTargetCompleted\r\n            || (this.props.target.markingModeID === enums.MarkingMode.Remarking && !this.props.target.isTargetCompleted\r\n                && targetSummaryStore.instance.getCurrentTarget().markingModeID === enums.MarkingMode.LiveMarking)\r\n            || this.props.target.isCurrentTarget && this.props.target.markingModeID === enums.MarkingMode.Simulation) {\r\n            return this.props.target.examinerProgress.openResponsesCount;\r\n        }\r\n    };\r\n    return TargetItem;\r\n}(pureRenderComponent));\r\nmodule.exports = TargetItem;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTk1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3QvdGFyZ2V0c3VtbWFyeS90YXJnZXRpdGVtLnRzeD9hOTdhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG7vu79pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBsb2NhbGVIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2xvY2FsZS9sb2NhbGVoZWxwZXInKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgbWFya2luZ1RhcmdldFN1bW1hcnkgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvd29ya2xpc3QvdHlwaW5ncy9tYXJraW5ndGFyZ2V0c3VtbWFyeScpO1xyXG5pbXBvcnQgcWlxU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxubGV0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IHRhcmdldFN1bW1hcnlTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC90YXJnZXRzdW1tYXJ5c3RvcmUnKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGEgY29tcG9uZW50XHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2UsIExvY2FsZVNlbGVjdGlvbkJhc2Uge1xyXG4gICAgdGFyZ2V0OiBtYXJraW5nVGFyZ2V0U3VtbWFyeTtcclxuICAgIGlzRGlzYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBpc1NlbGVjdGVkOiBib29sZWFuO1xyXG4gICAgcmVuZGVyZWRPbjogbnVtYmVyO1xyXG4gICAgb25DbGlja0NhbGxiYWNrOiBGdW5jdGlvbjtcclxuICAgIGRpcmVjdGVkUmVtYXJrVGFyZ2V0PzogSW1tdXRhYmxlLkxpc3Q8bWFya2luZ1RhcmdldFN1bW1hcnk+O1xyXG4gICAgaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkOiBib29sZWFuO1xyXG4gICAgcmVtYXJrUmVxdWVzdFR5cGVJRDogZW51bXMuUmVtYXJrUmVxdWVzdFR5cGU7XHJcbiAgICBpc0RpcmVjdGVkUmVtYXJrOiBib29sZWFuO1xyXG4gICAgaXNUZWFtTWFuYWdlbWVudE1vZGU6IGJvb2xlYW47XHJcbiAgICBpc0FnZ3JlZ2F0ZWRUYXJnZXRzQ0NFbmFibGVkPzogYm9vbGVhbjtcclxufVxyXG5cclxuY2xhc3MgVGFyZ2V0SXRlbSBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogdmFyaWFibGUgZm9yIGhvbGRpbmcgZnVuY3Rpb25zXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25UYXJnZXRDbGlja0ZuOiBhbnk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjb25zdHJ1Y3RvclxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgICAgICB0aGlzLm9uVGFyZ2V0Q2xpY2tGbiA9IHRoaXMub25UYXJnZXRDbGljay5iaW5kKFxyXG4gICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnRhcmdldC5tYXJraW5nTW9kZUlELFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnJlbWFya1JlcXVlc3RUeXBlSUQsXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaXNEaXJlY3RlZFJlbWFyayk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCBtYXJraW5nTW9kZU5hbWU7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudGFyZ2V0Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLlJlbWFya2luZykge1xyXG4gICAgICAgICAgICBtYXJraW5nTW9kZU5hbWUgPSBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZVt0aGlzLnByb3BzLnJlbWFya1JlcXVlc3RUeXBlSURdO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXJraW5nTW9kZU5hbWUgPSBlbnVtcy5NYXJraW5nTW9kZVt0aGlzLnByb3BzLnRhcmdldC5tYXJraW5nTW9kZUlEXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRhcmdldC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5FU19UZWFtQXBwcm92YWwgJiZcclxuICAgICAgICAgICAgcWlxU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlciA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgbWFya2luZ01vZGVOYW1lID0gJ1NlY29uZFN0YW5kYXJkaXNhdGlvbic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxsaSBpZD17J3RhcmdldF8nICsgbWFya2luZ01vZGVOYW1lfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3BhbmVsJyxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAnY29tcGxldGVkJzogKHRoaXMucHJvcHMudGFyZ2V0LmlzVGFyZ2V0Q29tcGxldGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRoaXMucHJvcHMuaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkKSwgJ2Rpc2FibGVkJzogdGhpcy5wcm9wcy5pc0Rpc2FibGVkLCAnb3Blbic6IHRoaXMucHJvcHMuaXNTZWxlY3RlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FjdGl2ZSc6IG1hcmtpbmdNb2RlTmFtZSA9PT0gJ1NpbXVsYXRpb24nXHJcbiAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25UYXJnZXRDbGlja0ZufT5cclxuXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBpZD17bWFya2luZ01vZGVOYW1lICsgJ19zdGF0dXMnfSBjbGFzc05hbWU9e3RoaXMuZGV0ZXJtaW5lTWVudUNsYXNzKCl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPXttYXJraW5nTW9kZU5hbWUgKyAnX2luZGljYXRvcid9IGNsYXNzTmFtZT17dGhpcy5kZXRlcm1pbmVTdGF0dXNDbGFzcygpfT48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0T3BlblJlc3BvbnNlc0NvdW50KCl9XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIGlkPXttYXJraW5nTW9kZU5hbWUgKyAnX3RpdGxlJ31cclxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17bWFya2luZ01vZGVOYW1lID09PSBlbnVtcy5nZXRFbnVtU3RyaW5nKGVudW1zLk1hcmtpbmdNb2RlLCBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZykgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLm1hcmtpbmctbW9kZXMuTWFya2luZycpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5tYXJraW5nLW1vZGVzLicgKyBtYXJraW5nTW9kZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbGVmdC1tZW51LWxpbmsgcGFuZWwtbGluayc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9e21hcmtpbmdNb2RlTmFtZSArICdfbWVudXRleHQnfSBjbGFzc05hbWU9J21lbnUtdGV4dCBsYXJnZS10ZXh0Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAge21hcmtpbmdNb2RlTmFtZSA9PT0gZW51bXMuZ2V0RW51bVN0cmluZyhlbnVtcy5NYXJraW5nTW9kZSwgZW51bXMuTWFya2luZ01vZGUuTGl2ZU1hcmtpbmcpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMubWFya2luZy1tb2Rlcy5NYXJraW5nJykgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5tYXJraW5nLW1vZGVzLicgKyBtYXJraW5nTW9kZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJIaWdobGlnaHRlZENvbXBsZXRlZFRleHQoKX1cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJSZW1haW5pbmdEYXlzU2VjdGlvbigpfVxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlck1hcmtpbmdDb21wbGV0aW9uRGF0ZShtYXJraW5nTW9kZU5hbWUpfVxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgdGhlIGNsaWNrIGV2ZW50IGluIHRoZSBUYXJnZXQuXHJcbiAgICAgKiBAcGFyYW0gc2VsZWN0ZWRNYXJraW5nTW9kZUlEXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvblRhcmdldENsaWNrKHNlbGVjdGVkTWFya2luZ01vZGVJRDogbnVtYmVyLCByZW1hcmtSZXF1ZXN0VHlwZUlkOiBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZSwgaXNEaXJlY3RlZFJlbWFyazogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5pc0Rpc2FibGVkICYmICF0aGlzLnByb3BzLmlzU2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrQ2FsbGJhY2soc2VsZWN0ZWRNYXJraW5nTW9kZUlELCByZW1hcmtSZXF1ZXN0VHlwZUlkLCBpc0RpcmVjdGVkUmVtYXJrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2Qgd2hpY2ggZ2V0cyB0aGUgZm9ybWF0dGVkIGRhdGUgdG8gYmUgc2hvd24gaW4gdGhlIFVJXHJcbiAgICAgKiBAcGFyYW0gbWFya2luZ0NvbXBsZXRpb25EYXRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRGb3JtYXR0ZWRNYXJraW5nQ29tcGxldGlvbkRhdGUoKSB7XHJcbiAgICAgICAgbGV0IHRhcmdldENvbXBsZXRlZERhdGVTdHJpbmcgPSAodGhpcy5wcm9wcy50YXJnZXQuaXNUYXJnZXRDb21wbGV0ZWRcclxuICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5pc092ZXJBbGxUYXJnZXRDb21wbGV0ZWQpID8gdGhpcy5wcm9wcy50YXJnZXQudGFyZ2V0Q29tcGxldGVkRGF0ZS50b1N0cmluZygpIDpcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy50YXJnZXQubWFya2luZ1RhcmdldERhdGUudG9TdHJpbmcoKTtcclxuICAgICAgICBsZXQgdGFyZ2V0Q29tcGxldGVkRGF0ZSA9IG5ldyBEYXRlKHRhcmdldENvbXBsZXRlZERhdGVTdHJpbmcpO1xyXG4gICAgICAgIHJldHVybiBsb2NhbGVIZWxwZXIudG9Mb2NhbGVEYXRlU3RyaW5nKHRhcmdldENvbXBsZXRlZERhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSByZW1haW5pbmcgZGF5cyBmb3IgdGhlIGNvbXBsZXRpb24gZGF0ZS4gU2hvdWxkbid0IGJlIG5lZ2V0aXZlLlxyXG4gICAgICogSWYgdGFyZ2V0IGlzIG1ldCByZXR1cm4gdGhlIHZhbHVlIGFzIDAuXHJcbiAgICAgKiBAcGFyYW0gbWFya2luZ0NvbXBsZXRpb25EYXRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW1haW5pbmdEYXlzRm9yTWFya2luZ0NvbXBsZXRpb24oKTogYW55IHtcclxuICAgICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGxldCBtYXJraW5nRGF0ZSA9IG5ldyBEYXRlKHRoaXMucHJvcHMudGFyZ2V0Lm1hcmtpbmdUYXJnZXREYXRlLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAvLyBDb252ZXJ0aW5nIG1pbGxpIHNlY29uZHMgdG8gMSBkYXkuXHJcbiAgICAgICAgbGV0IG9uZURheSA9IDEwMDAgKiA2MCAqIDYwICogMjQ7XHJcblxyXG4gICAgICAgIGxldCBub09mRGF5cyA9IChNYXRoLmNlaWwoKG1hcmtpbmdEYXRlLmdldFRpbWUoKSAtIHRvZGF5LmdldFRpbWUoKSkgLyAob25lRGF5KSkpO1xyXG5cclxuICAgICAgICBpZiAobm9PZkRheXMgPCAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub09mRGF5cztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcmVtaW5lcyB0aGUgbWVudSBjbGFzc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGRldGVybWluZU1lbnVDbGFzcygpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMucHJvcHMudGFyZ2V0LmlzVGFyZ2V0Q29tcGxldGVkIHx8IHRoaXMucHJvcHMuaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkKSA/ICdtZW51LWNvdW50LWNvbXBsZXRlZCcgOiAnbWVudS1jb3VudCc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXJzIHRoZSBoaWdobGlnaHRlZCBjb21wbGV0ZWQgdGV4dFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZW5kZXJIaWdobGlnaHRlZENvbXBsZXRlZFRleHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudGFyZ2V0LmlzVGFyZ2V0Q29tcGxldGVkIHx8IHRoaXMucHJvcHMuaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J21lbnUtaGlnaGxpZ2h0LXRleHQnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgKCdtYXJraW5nLndvcmtsaXN0LmxlZnQtcGFuZWwudGFyZ2V0LWNvbXBsZXRlZCcpfTwvc3Bhbj4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlcnMgdGhlIHJlbWFpbmluZyBkYXkgc2VjdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlbmRlclJlbWFpbmluZ0RheXNTZWN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRhcmdldC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5TaW11bGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMudGFyZ2V0LmlzQ3VycmVudFRhcmdldCB8fCB0aGlzLnByb3BzLnRhcmdldC5pc1RhcmdldENvbXBsZXRlZCB8fCB0aGlzLnByb3BzLmlzT3ZlckFsbFRhcmdldENvbXBsZXRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzdHlsZSA9IHtcclxuICAgICAgICAgICAgJ2Rpc3BsYXknOiAnYmxvY2snXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdtZW51LWhpZ2hsaWdodC10ZXh0JyBzdHlsZT17c3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9e2VudW1zLk1hcmtpbmdNb2RlW3RoaXMucHJvcHMudGFyZ2V0Lm1hcmtpbmdNb2RlSURdICsgJ19kYXlzX3VudGlsX3RhcmdldF9kYXRlJ31cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3JlbWFpbmluZy1kYXRlJz5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW1haW5pbmdEYXlzRm9yTWFya2luZ0NvbXBsZXRpb24oKX0gPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QubGVmdC1wYW5lbC5kYXlzLXVudGlsLXRhcmdldCcpfVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gcmVuZGVyIG1hcmtpbmcgY29tcGxldGlvbiBkYXRlLlxyXG4gICAgICogQHBhcmFtIG1hcmtpbmdNb2RlTmFtZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlbmRlck1hcmtpbmdDb21wbGV0aW9uRGF0ZShtYXJraW5nTW9kZU5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRhcmdldC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5TaW11bGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBpZD17bWFya2luZ01vZGVOYW1lICsgJ190YXJnZXRfZGF0ZSd9IGNsYXNzTmFtZT0nbWVudS10ZXh0LXNtYWxsIHNtYWxsLXRleHQnPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdtZW51LWxhYmVsJz5cclxuICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5sZWZ0LXBhbmVsLnRhcmdldCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoKHRoaXMucHJvcHMudGFyZ2V0LmlzVGFyZ2V0Q29tcGxldGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRoaXMucHJvcHMuaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkKSA/ICctY29tcGxldGVkLWRhdGUtbGFiZWwnIDogJy1kYXRlLWxhYmVsJykpfVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9e21hcmtpbmdNb2RlTmFtZSArICdfZGF0ZXRleHQnfSBjbGFzc05hbWU9J2RhdGUtdGV4dCc+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0Rm9ybWF0dGVkTWFya2luZ0NvbXBsZXRpb25EYXRlKCl9XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gZGV0ZXJtaW5lIHRoZSBzdGF0dXMgY2xhc3MgdG8gYXBwbHkgZm9yIHRoZSBpdGVtLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGRldGVybWluZVN0YXR1c0NsYXNzKCkge1xyXG4gICAgICAgIC8vIERldGVybWluZSB0aGUgU3RhdHVzIG9mIHRoZSB0YXJnZXQgaXRlbS4gdGljay9kb3RzL3BlbmNpbC5cclxuICAgICAgICAvLyBUYXJnZXRDb21wbGV0ZSA9IHRpY2ssIEN1cnJlbnQgPSBwZW5jaWwsIEZ1dHVyZSA9IGRvdHMuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudGFyZ2V0LmlzVGFyZ2V0Q29tcGxldGVkIHx8IHRoaXMucHJvcHMuaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnc3ByaXRlLWljb24gdGljay1jaXJjbGUtaWNvbiBtZW51LWNvdW50LWNvbXBsZXRlZCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRhcmdldC5pc0N1cnJlbnRUYXJnZXQgJiYgdGhpcy5wcm9wcy50YXJnZXQubWFya2luZ01vZGVJRCA9PT0gZW51bXMuTWFya2luZ01vZGUuU2ltdWxhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRhcmdldC5pc0N1cnJlbnRUYXJnZXQgfHwgdGhpcy5wcm9wcy50YXJnZXQubWFya2luZ01vZGVJRCA9PT0gZW51bXMuTWFya2luZ01vZGUuUmVtYXJraW5nXHJcbiAgICAgICAgICAgICYmIHRhcmdldFN1bW1hcnlTdG9yZS5pbnN0YW5jZS5nZXRDdXJyZW50VGFyZ2V0KCkubWFya2luZ01vZGVJRCA9PT0gZW51bXMuTWFya2luZ01vZGUuTGl2ZU1hcmtpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMudGFyZ2V0Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLkxpdmVNYXJraW5nXHJcbiAgICAgICAgICAgICAgICB8fCB0aGlzLnByb3BzLnRhcmdldC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5SZW1hcmtpbmcgPyAnJyA6ICdzcHJpdGUtaWNvbiBwZW5jaWwtaWNvbic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICdzcHJpdGUtaWNvbiBkb3QtZG90LWRvdC1pY29uJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgb3BlbiByZXNwb25zZXMgY291bnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRPcGVuUmVzcG9uc2VzQ291bnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudGFyZ2V0LmlzQ3VycmVudFRhcmdldCAmJlxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnRhcmdldC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZyAmJiAhdGhpcy5wcm9wcy50YXJnZXQuaXNUYXJnZXRDb21wbGV0ZWRcclxuICAgICAgICAgICAgfHwgKHRoaXMucHJvcHMudGFyZ2V0Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLlJlbWFya2luZyAmJiAhdGhpcy5wcm9wcy50YXJnZXQuaXNUYXJnZXRDb21wbGV0ZWRcclxuICAgICAgICAgICAgICAgICYmIHRhcmdldFN1bW1hcnlTdG9yZS5pbnN0YW5jZS5nZXRDdXJyZW50VGFyZ2V0KCkubWFya2luZ01vZGVJRCA9PT0gZW51bXMuTWFya2luZ01vZGUuTGl2ZU1hcmtpbmcpXHJcbiAgICAgICAgICAgIHx8IHRoaXMucHJvcHMudGFyZ2V0LmlzQ3VycmVudFRhcmdldCAmJiB0aGlzLnByb3BzLnRhcmdldC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5TaW11bGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLnRhcmdldC5leGFtaW5lclByb2dyZXNzLm9wZW5SZXNwb25zZXNDb3VudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFRhcmdldEl0ZW07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3RhcmdldHN1bW1hcnkvdGFyZ2V0aXRlbS50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBbUJBO0FBQUE7QUFPQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUVBOztBQUtBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUlBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBSUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 596:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/components/worklist/targetsummary/targets.tsx ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar TargetItem = __webpack_require__(/*! ./targetitem */ 595);\r\nvar LiveOrPooledRemarkTargetItem = __webpack_require__(/*! ./liveorpooledremarktargetitem */ 1238);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar worklistActionCreator = __webpack_require__(/*! ../../../actions/worklist/worklistactioncreator */ 261);\r\nvar targetHelper = __webpack_require__(/*! ../../../utility/target/targethelper */ 300);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar applicationStore = __webpack_require__(/*! ../../../stores/applicationoffline/applicationstore */ 247);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../../actions/applicationoffline/applicationactioncreator */ 256);\r\n/**\r\n * Class for the Targts in the worklist.\r\n */\r\nvar Targets = /** @class */ (function (_super) {\r\n    __extends(Targets, _super);\r\n    /**\r\n     * The constructor for the target component.\r\n     * @param props\r\n     */\r\n    function Targets(props) {\r\n        var _this = _super.call(this, props, null) || this;\r\n        /**\r\n         * render the targetItemElement\r\n         */\r\n        _this.renderTargetItem = function (markingTarget, isTargetDisabled, idString) {\r\n            return (React.createElement(TargetItem, { target: markingTarget, isDisabled: isTargetDisabled, isOverAllTargetCompleted: (targetHelper.getExaminerQigStatus()\r\n                    === enums.ExaminerQIGStatus.OverAllTargetCompleted) ? true : false, isSelected: _this.isSelectedTarget(markingTarget.markingModeID, undefined), onClickCallback: _this.onTargetClick, selectedLanguage: _this.props.selectedLanguage, id: 'target_id' + idString, key: 'target_key' + idString, renderedOn: _this.props.liveTargetRenderedOn, remarkRequestTypeID: undefined, isDirectedRemark: false, isTeamManagementMode: _this.props.isTeamManagementMode }));\r\n        };\r\n        /**\r\n         * Get selected worklist type disabled.\r\n         */\r\n        _this.isSelectedWorklistTypeDisabled = function () {\r\n            var isDisabledtarget = false;\r\n            var markingModeByWorklistType = targetHelper.getMarkingModeByWorklistType(worklistStore.instance.currentWorklistType);\r\n            if (markingModeByWorklistType) {\r\n                var targetByWorklistType = _this.props.markingTargetsSummary.filter(function (target) { return target.markingModeID === markingModeByWorklistType; }).first();\r\n                // The markingTargetsSummary will not be get refreshed soon when we switching through recent history link.\r\n                if (targetByWorklistType) {\r\n                    isDisabledtarget = markerOperationModeFactory.operationMode.isTargetDisabled(targetByWorklistType, undefined);\r\n                }\r\n            }\r\n            return isDisabledtarget;\r\n        };\r\n        _this.selectedMarkingMode = enums.MarkingMode.None;\r\n        _this.state = {\r\n            currentlySelectedMarkingMode: undefined,\r\n            currentlySelectedremarkRequestTypeId: undefined\r\n        };\r\n        _this.onTargetClick = _this.onTargetClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Renders component\r\n     * @returns\r\n     */\r\n    Targets.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.props.markingTargetsSummary === undefined || this.props.markingTargetsSummary.count() === 0) {\r\n            return null;\r\n        }\r\n        this.selectedMarkingMode = targetHelper.getWorklistTargetToBeSelected(undefined, this.isSelectedWorklistTypeDisabled());\r\n        var that = this;\r\n        var previousTarget;\r\n        var standardisationSetupComplete = qigStore.instance.selectedQIGForMarkerOperation ?\r\n            qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete : false;\r\n        // Loop through the marking targets\r\n        var torender = this.props.markingTargetsSummary.map(function (markingTarget) {\r\n            var idString = '_' + markingTarget.markingModeID;\r\n            var isAggregateQIGTargetsON = qigStore.instance.isAggregatedQigCCEnabledForCurrentQig;\r\n            var isTargetDisabled = that.isTargetDisabled(markingTarget, previousTarget);\r\n            switch (markingTarget.markingModeID) {\r\n                case enums.MarkingMode.LiveMarking:\r\n                    previousTarget = markingTarget;\r\n                    // Only closed tab is displaying in help examiners,\r\n                    // update the open count with closed closed count, Also should not render progress bar component.\r\n                    if (markerOperationModeFactory.operationMode.isHelpExaminersView) {\r\n                        markingTarget.examinerProgress.openResponsesCount = markingTarget.examinerProgress.closedResponsesCount;\r\n                        return that.renderTargetItem(markingTarget, isTargetDisabled, idString);\r\n                    }\r\n                    return (React.createElement(LiveOrPooledRemarkTargetItem, { target: markingTarget, isOverAllTargetCompleted: (targetHelper.getExaminerQigStatus()\r\n                            === enums.ExaminerQIGStatus.OverAllTargetCompleted) ? true : false, isDisabled: isTargetDisabled, isSelected: that.isSelectedTarget(markingTarget.markingModeID, undefined), onClickCallback: that.onTargetClick, id: 'target_id' + idString, key: 'target_key' + idString, selectedLanguage: _this.props.selectedLanguage, renderedOn: _this.props.liveTargetRenderedOn, directedRemarkTarget: _this.getDirectedRemarkTargets(), remarkRequestTypeID: undefined, isDirectedRemark: false, isTeamManagementMode: _this.props.isTeamManagementMode, isAggregatedTargetsCCEnabled: isAggregateQIGTargetsON }));\r\n                case enums.MarkingMode.Practice:\r\n                case enums.MarkingMode.Approval:\r\n                case enums.MarkingMode.ES_TeamApproval:\r\n                    previousTarget = markingTarget;\r\n                    if (markingTarget.maximumMarkingLimit > 0) {\r\n                        return that.renderTargetItem(markingTarget, isTargetDisabled, idString);\r\n                    }\r\n                    break;\r\n                case enums.MarkingMode.Remarking:\r\n                    previousTarget = markingTarget;\r\n                    if (markingTarget.examinerProgress.isDirectedRemark === false) {\r\n                        return (React.createElement(LiveOrPooledRemarkTargetItem, { target: markingTarget, isDisabled: isTargetDisabled, \r\n                            //Passing false since overall target completed is not applicable for pooled remark targets\r\n                            isOverAllTargetCompleted: false, isSelected: that.isSelectedTarget(markingTarget.markingModeID, markingTarget.remarkRequestTypeID), onClickCallback: that.onTargetClick, selectedLanguage: _this.props.selectedLanguage, id: 'target_id' + idString + enums.RemarkRequestType[markingTarget.remarkRequestTypeID], key: 'target_key' + idString + enums.RemarkRequestType[markingTarget.remarkRequestTypeID], renderedOn: _this.props.liveTargetRenderedOn, remarkRequestTypeID: markingTarget.remarkRequestTypeID, isDirectedRemark: markingTarget.examinerProgress.isDirectedRemark, isTeamManagementMode: _this.props.isTeamManagementMode, isAggregatedTargetsCCEnabled: isAggregateQIGTargetsON }));\r\n                    }\r\n                    break;\r\n                case enums.MarkingMode.Simulation:\r\n                    previousTarget = markingTarget;\r\n                    if (!standardisationSetupComplete) {\r\n                        return that.renderTargetItem(markingTarget, false, idString);\r\n                    }\r\n                    break;\r\n                default: return null;\r\n            }\r\n        });\r\n        // Render the marking targets to the wrapper\r\n        return (React.createElement(\"div\", { className: 'left-menu-holder' },\r\n            React.createElement(\"ul\", { id: 'left_menu_panel_group', className: 'left-menu panel-group' }, torender)));\r\n    };\r\n    /**\r\n     * This will set state currently selected marking mode\r\n     * @param nxtProps\r\n     */\r\n    Targets.prototype.componentWillReceiveProps = function (nxtProps) {\r\n        if (this.props.markingTargetsSummary === undefined || this.props.markingTargetsSummary.count() === 0) {\r\n            return;\r\n        }\r\n        this.setState({ currentlySelectedMarkingMode: undefined, currentlySelectedremarkRequestTypeId: undefined });\r\n    };\r\n    /**\r\n     * This will return the selection status.\r\n     * @param markingModeId\r\n     */\r\n    Targets.prototype.isSelectedTarget = function (markingModeId, remarkRequestTypeId) {\r\n        if (this.state.currentlySelectedMarkingMode === undefined) {\r\n            if (this.selectedMarkingMode === enums.MarkingMode.Remarking) {\r\n                return targetHelper.getCurrentRemarkRequestType() === remarkRequestTypeId;\r\n            }\r\n            else {\r\n                return this.selectedMarkingMode === markingModeId;\r\n            }\r\n        }\r\n        else if (remarkRequestTypeId !== undefined) {\r\n            return this.state.currentlySelectedremarkRequestTypeId === remarkRequestTypeId;\r\n        }\r\n        else {\r\n            return this.state.currentlySelectedMarkingMode === markingModeId;\r\n        }\r\n    };\r\n    /**\r\n     * On target clicked\r\n     * @param markingModeId\r\n     */\r\n    Targets.prototype.onTargetClick = function (markingModeId, remarkRequestTypeId, isDirectedRemark) {\r\n        if (!applicationStore.instance.isOnline) {\r\n            applicationActionCreator.checkActionInterrupted();\r\n        }\r\n        else {\r\n            var worklistType = void 0;\r\n            switch (markingModeId) {\r\n                case enums.MarkingMode.Practice:\r\n                    worklistType = enums.WorklistType.practice;\r\n                    break;\r\n                case enums.MarkingMode.LiveMarking:\r\n                    worklistType = enums.WorklistType.live;\r\n                    break;\r\n                case enums.MarkingMode.Approval:\r\n                    worklistType = enums.WorklistType.standardisation;\r\n                    break;\r\n                case enums.MarkingMode.ES_TeamApproval:\r\n                    worklistType = enums.WorklistType.secondstandardisation;\r\n                    break;\r\n                case enums.MarkingMode.Remarking:\r\n                    worklistType = enums.WorklistType.pooledRemark;\r\n                    break;\r\n                case enums.MarkingMode.Simulation:\r\n                    worklistType = enums.WorklistType.simulation;\r\n                    break;\r\n            }\r\n            var isTargetCompleted_1;\r\n            isTargetCompleted_1 = false;\r\n            var responseMode = void 0;\r\n            responseMode = enums.ResponseMode.open;\r\n            if (markingModeId === enums.MarkingMode.Practice || markingModeId === enums.MarkingMode.Remarking) {\r\n                this.props.markingTargetsSummary.map(function (markingTarget) {\r\n                    if (markingTarget.markingModeID === markingModeId) {\r\n                        if (markingTarget.isTargetCompleted) {\r\n                            isTargetCompleted_1 = true;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            else if (markingModeId === enums.MarkingMode.Approval ||\r\n                markingModeId === enums.MarkingMode.ES_TeamApproval) {\r\n                isTargetCompleted_1 = targetHelper.isESTargetCompleted(markingModeId);\r\n            }\r\n            if (isTargetCompleted_1) {\r\n                responseMode = enums.ResponseMode.closed;\r\n            }\r\n            if (qigStore.instance.selectedQIGForMarkerOperation) {\r\n                responseMode = markerOperationModeFactory.operationMode.responseModeBasedOnQualityFeedback(responseMode, markingModeId, remarkRequestTypeId);\r\n                worklistActionCreator.notifyWorklistTypeChange(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId, worklistType, responseMode, remarkRequestTypeId, isDirectedRemark, qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember);\r\n            }\r\n            this.setState({ currentlySelectedMarkingMode: markingModeId, currentlySelectedremarkRequestTypeId: remarkRequestTypeId });\r\n        }\r\n    };\r\n    /**\r\n     * This method will determine whether a target in disabled state or not\r\n     * @param target - target\r\n     * @param previousTarget - previous target\r\n     */\r\n    Targets.prototype.isTargetDisabled = function (target, previousTarget) {\r\n        // Determine if the item is shown in a disabled status here.\r\n        // In the future state the item is disabled.\r\n        //When the marker has quality feedback outstanding, the remarking tab should be disabled\r\n        return markerOperationModeFactory.operationMode.isTargetDisabled(target, previousTarget);\r\n    };\r\n    /**\r\n     * Check is ES Team Approval Status\r\n     */\r\n    Targets.prototype.isESTeamApprovalStatus = function () {\r\n        if (qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember === true\r\n            || (qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember === false\r\n                && this.isSecondStandardisation() === true)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Check if Second Standardisation\r\n     */\r\n    Targets.prototype.isSecondStandardisation = function () {\r\n        var secondStandardisationTarget = this.props.markingTargetsSummary.filter(function (target) {\r\n            return target.markingModeID === enums.MarkingMode.ES_TeamApproval;\r\n        }).first();\r\n        if (secondStandardisationTarget !== undefined) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Get directed remark targets\r\n     */\r\n    Targets.prototype.getDirectedRemarkTargets = function () {\r\n        var filteredDirectedRemarkTargets = this.props.markingTargetsSummary.filter(function (markingTarget) {\r\n            return markingTarget.examinerProgress.isDirectedRemark === true;\r\n        });\r\n        return Immutable.List(filteredDirectedRemarkTargets);\r\n    };\r\n    return Targets;\r\n}(pureRenderComponent));\r\nmodule.exports = Targets;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTk2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3QvdGFyZ2V0c3VtbWFyeS90YXJnZXRzLnRzeD83Zjc3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZW5hYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbWFya2luZ1RhcmdldCA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci90eXBpbmdzL21hcmtpbmd0YXJnZXQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBUYXJnZXREZXRhaWxzID0gcmVxdWlyZSgnLi90YXJnZXRkZXRhaWxzJyk7XHJcbmltcG9ydCBUYXJnZXRJdGVtID0gcmVxdWlyZSgnLi90YXJnZXRpdGVtJyk7XHJcbmltcG9ydCBMaXZlT3JQb29sZWRSZW1hcmtUYXJnZXRJdGVtID0gcmVxdWlyZSgnLi9saXZlb3Jwb29sZWRyZW1hcmt0YXJnZXRpdGVtJyk7XHJcbmltcG9ydCBQcm9ncmVzc0luZGljYXRvciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvcHJvZ3Jlc3NpbmRpY2F0b3IvY2lyY3VsYXJwcm9ncmVzc2luZGljYXRvcicpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IHRhcmdldFN1bW1hcnlTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC90YXJnZXRzdW1tYXJ5c3RvcmUnKTtcclxuaW1wb3J0IGxvY2FsZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgd29ya2xpc3RBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy93b3JrbGlzdC93b3JrbGlzdGFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IG1hcmtpbmdUYXJnZXRTdW1tYXJ5ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3R5cGluZ3MvbWFya2luZ3RhcmdldHN1bW1hcnknKTtcclxuaW1wb3J0IHRhcmdldEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvdGFyZ2V0L3RhcmdldGhlbHBlcicpO1xyXG5pbXBvcnQgZXhhbWluZXJTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tYXJrZXJpbmZvcm1hdGlvbi9leGFtaW5lcnN0b3JlJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IHF1YWxpdHlGZWVkYmFja0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvcXVhbGl0eWZlZWRiYWNrL3F1YWxpdHlmZWVkYmFja2hlbHBlcicpO1xyXG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25zdG9yZScpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25hY3Rpb25jcmVhdG9yJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBhIGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSB7XHJcbiAgICBtYXJraW5nVGFyZ2V0c1N1bW1hcnk6IEltbXV0YWJsZS5MaXN0PG1hcmtpbmdUYXJnZXRTdW1tYXJ5PjtcclxuICAgIGxpdmVUYXJnZXRSZW5kZXJlZE9uPzogbnVtYmVyO1xyXG4gICAgaXNUZWFtTWFuYWdlbWVudE1vZGU6IGJvb2xlYW47XHJcbiAgICByZW5kZXJlZE9uPzogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogU3RhdGUgb2YgYSBjb21wb25lbnRcclxuICovXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgICBjdXJyZW50bHlTZWxlY3RlZE1hcmtpbmdNb2RlPzogbnVtYmVyO1xyXG4gICAgY3VycmVudGx5U2VsZWN0ZWRyZW1hcmtSZXF1ZXN0VHlwZUlkPzogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgZm9yIHRoZSBUYXJndHMgaW4gdGhlIHdvcmtsaXN0LlxyXG4gKi9cclxuY2xhc3MgVGFyZ2V0cyBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXJraW5nVGFyZ2V0czogbWFya2luZ1RhcmdldFtdO1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZE1hcmtpbmdNb2RlPzogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgdGFyZ2V0IGNvbXBvbmVudC5cclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZE1hcmtpbmdNb2RlID0gZW51bXMuTWFya2luZ01vZGUuTm9uZTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBjdXJyZW50bHlTZWxlY3RlZE1hcmtpbmdNb2RlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGN1cnJlbnRseVNlbGVjdGVkcmVtYXJrUmVxdWVzdFR5cGVJZDogdW5kZWZpbmVkXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uVGFyZ2V0Q2xpY2sgPSB0aGlzLm9uVGFyZ2V0Q2xpY2suYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlcnMgY29tcG9uZW50XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1hcmtpbmdUYXJnZXRzU3VtbWFyeSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMucHJvcHMubWFya2luZ1RhcmdldHNTdW1tYXJ5LmNvdW50KCkgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJraW5nTW9kZSA9IHRhcmdldEhlbHBlci5nZXRXb3JrbGlzdFRhcmdldFRvQmVTZWxlY3RlZCh1bmRlZmluZWQsIHRoaXMuaXNTZWxlY3RlZFdvcmtsaXN0VHlwZURpc2FibGVkKCkpO1xyXG5cclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgbGV0IHByZXZpb3VzVGFyZ2V0OiBtYXJraW5nVGFyZ2V0U3VtbWFyeTtcclxuICAgICAgICBsZXQgc3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0ZTogYm9vbGVhbiA9IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uID9cclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uc3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0ZSA6IGZhbHNlO1xyXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgbWFya2luZyB0YXJnZXRzXHJcbiAgICAgICAgbGV0IHRvcmVuZGVyID0gdGhpcy5wcm9wcy5tYXJraW5nVGFyZ2V0c1N1bW1hcnkubWFwKChtYXJraW5nVGFyZ2V0OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IGlkU3RyaW5nID0gJ18nICsgbWFya2luZ1RhcmdldC5tYXJraW5nTW9kZUlEO1xyXG4gICAgICAgICAgICBsZXQgaXNBZ2dyZWdhdGVRSUdUYXJnZXRzT046IGJvb2xlYW4gPSBxaWdTdG9yZS5pbnN0YW5jZS5pc0FnZ3JlZ2F0ZWRRaWdDQ0VuYWJsZWRGb3JDdXJyZW50UWlnO1xyXG4gICAgICAgICAgICBsZXQgaXNUYXJnZXREaXNhYmxlZCA9IHRoYXQuaXNUYXJnZXREaXNhYmxlZChtYXJraW5nVGFyZ2V0LCBwcmV2aW91c1RhcmdldCk7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKG1hcmtpbmdUYXJnZXQubWFya2luZ01vZGVJRCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZzpcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1RhcmdldCA9IG1hcmtpbmdUYXJnZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgY2xvc2VkIHRhYiBpcyBkaXNwbGF5aW5nIGluIGhlbHAgZXhhbWluZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgb3BlbiBjb3VudCB3aXRoIGNsb3NlZCBjbG9zZWQgY291bnQsIEFsc28gc2hvdWxkIG5vdCByZW5kZXIgcHJvZ3Jlc3MgYmFyIGNvbXBvbmVudC5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc0hlbHBFeGFtaW5lcnNWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtpbmdUYXJnZXQuZXhhbWluZXJQcm9ncmVzcy5vcGVuUmVzcG9uc2VzQ291bnQgPSBtYXJraW5nVGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuY2xvc2VkUmVzcG9uc2VzQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlclRhcmdldEl0ZW0obWFya2luZ1RhcmdldCwgaXNUYXJnZXREaXNhYmxlZCwgaWRTdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICg8TGl2ZU9yUG9vbGVkUmVtYXJrVGFyZ2V0SXRlbSB0YXJnZXQ9e21hcmtpbmdUYXJnZXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT3ZlckFsbFRhcmdldENvbXBsZXRlZD17KHRhcmdldEhlbHBlci5nZXRFeGFtaW5lclFpZ1N0YXR1cygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PT0gZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuT3ZlckFsbFRhcmdldENvbXBsZXRlZCkgPyB0cnVlIDogZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQ9e2lzVGFyZ2V0RGlzYWJsZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3RoYXQuaXNTZWxlY3RlZFRhcmdldChtYXJraW5nVGFyZ2V0Lm1hcmtpbmdNb2RlSUQsIHVuZGVmaW5lZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tDYWxsYmFjaz17dGhhdC5vblRhcmdldENsaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD17J3RhcmdldF9pZCcgKyBpZFN0cmluZ30ga2V5PXsndGFyZ2V0X2tleScgKyBpZFN0cmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfSByZW5kZXJlZE9uPXt0aGlzLnByb3BzLmxpdmVUYXJnZXRSZW5kZXJlZE9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RlZFJlbWFya1RhcmdldD17dGhpcy5nZXREaXJlY3RlZFJlbWFya1RhcmdldHMoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtYXJrUmVxdWVzdFR5cGVJRD17dW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0RpcmVjdGVkUmVtYXJrPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUZWFtTWFuYWdlbWVudE1vZGU9e3RoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQWdncmVnYXRlZFRhcmdldHNDQ0VuYWJsZWQ9e2lzQWdncmVnYXRlUUlHVGFyZ2V0c09OfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+KTtcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuUHJhY3RpY2U6XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5FU19UZWFtQXBwcm92YWw6XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUYXJnZXQgPSBtYXJraW5nVGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXJraW5nVGFyZ2V0Lm1heGltdW1NYXJraW5nTGltaXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlclRhcmdldEl0ZW0obWFya2luZ1RhcmdldCwgaXNUYXJnZXREaXNhYmxlZCwgaWRTdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuUmVtYXJraW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVGFyZ2V0ID0gbWFya2luZ1RhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWFya2luZ1RhcmdldC5leGFtaW5lclByb2dyZXNzLmlzRGlyZWN0ZWRSZW1hcmsgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoPExpdmVPclBvb2xlZFJlbWFya1RhcmdldEl0ZW0gdGFyZ2V0PXttYXJraW5nVGFyZ2V0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEaXNhYmxlZD17aXNUYXJnZXREaXNhYmxlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUGFzc2luZyBmYWxzZSBzaW5jZSBvdmVyYWxsIHRhcmdldCBjb21wbGV0ZWQgaXMgbm90IGFwcGxpY2FibGUgZm9yIHBvb2xlZCByZW1hcmsgdGFyZ2V0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3RoYXQuaXNTZWxlY3RlZFRhcmdldChtYXJraW5nVGFyZ2V0Lm1hcmtpbmdNb2RlSUQsIG1hcmtpbmdUYXJnZXQucmVtYXJrUmVxdWVzdFR5cGVJRCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrQ2FsbGJhY2s9e3RoYXQub25UYXJnZXRDbGlja31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXsndGFyZ2V0X2lkJyArIGlkU3RyaW5nICsgZW51bXMuUmVtYXJrUmVxdWVzdFR5cGVbbWFya2luZ1RhcmdldC5yZW1hcmtSZXF1ZXN0VHlwZUlEXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J3RhcmdldF9rZXknICsgaWRTdHJpbmcgKyBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZVttYXJraW5nVGFyZ2V0LnJlbWFya1JlcXVlc3RUeXBlSURdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRPbj17dGhpcy5wcm9wcy5saXZlVGFyZ2V0UmVuZGVyZWRPbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFya1JlcXVlc3RUeXBlSUQ9e21hcmtpbmdUYXJnZXQucmVtYXJrUmVxdWVzdFR5cGVJRH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlyZWN0ZWRSZW1hcms9e21hcmtpbmdUYXJnZXQuZXhhbWluZXJQcm9ncmVzcy5pc0RpcmVjdGVkUmVtYXJrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNUZWFtTWFuYWdlbWVudE1vZGU9e3RoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FnZ3JlZ2F0ZWRUYXJnZXRzQ0NFbmFibGVkPXtpc0FnZ3JlZ2F0ZVFJR1RhcmdldHNPTn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuU2ltdWxhdGlvbjpcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1RhcmdldCA9IG1hcmtpbmdUYXJnZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlclRhcmdldEl0ZW0obWFya2luZ1RhcmdldCwgZmFsc2UsIGlkU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZW5kZXIgdGhlIG1hcmtpbmcgdGFyZ2V0cyB0byB0aGUgd3JhcHBlclxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdsZWZ0LW1lbnUtaG9sZGVyJz5cclxuICAgICAgICAgICAgICAgIDx1bCBpZD0nbGVmdF9tZW51X3BhbmVsX2dyb3VwJyBjbGFzc05hbWU9J2xlZnQtbWVudSBwYW5lbC1ncm91cCc+XHJcbiAgICAgICAgICAgICAgICAgICAge3RvcmVuZGVyfVxyXG4gICAgICAgICAgICAgICAgPC8gdWw+XHJcbiAgICAgICAgICAgIDwvIGRpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVuZGVyIHRoZSB0YXJnZXRJdGVtRWxlbWVudFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlbmRlclRhcmdldEl0ZW0gPSAobWFya2luZ1RhcmdldDogbWFya2luZ1RhcmdldFN1bW1hcnksIGlzVGFyZ2V0RGlzYWJsZWQ6IGJvb2xlYW4sIGlkU3RyaW5nOiBzdHJpbmcpID0+IHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8VGFyZ2V0SXRlbSB0YXJnZXQ9e21hcmtpbmdUYXJnZXR9XHJcbiAgICAgICAgICAgICAgICBpc0Rpc2FibGVkPXtpc1RhcmdldERpc2FibGVkfVxyXG4gICAgICAgICAgICAgICAgaXNPdmVyQWxsVGFyZ2V0Q29tcGxldGVkPXsodGFyZ2V0SGVscGVyLmdldEV4YW1pbmVyUWlnU3RhdHVzKClcclxuICAgICAgICAgICAgICAgICAgICA9PT0gZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuT3ZlckFsbFRhcmdldENvbXBsZXRlZCkgPyB0cnVlIDogZmFsc2V9XHJcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkPXt0aGlzLmlzU2VsZWN0ZWRUYXJnZXQobWFya2luZ1RhcmdldC5tYXJraW5nTW9kZUlELCB1bmRlZmluZWQpfVxyXG4gICAgICAgICAgICAgICAgb25DbGlja0NhbGxiYWNrPXt0aGlzLm9uVGFyZ2V0Q2xpY2t9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICBpZD17J3RhcmdldF9pZCcgKyBpZFN0cmluZ30ga2V5PXsndGFyZ2V0X2tleScgKyBpZFN0cmluZ31cclxuICAgICAgICAgICAgICAgIHJlbmRlcmVkT249e3RoaXMucHJvcHMubGl2ZVRhcmdldFJlbmRlcmVkT259XHJcbiAgICAgICAgICAgICAgICByZW1hcmtSZXF1ZXN0VHlwZUlEPXt1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICBpc0RpcmVjdGVkUmVtYXJrPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlPXt0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlfVxyXG4gICAgICAgICAgICAvPik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyB3aWxsIHNldCBzdGF0ZSBjdXJyZW50bHkgc2VsZWN0ZWQgbWFya2luZyBtb2RlXHJcbiAgICAgKiBAcGFyYW0gbnh0UHJvcHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobnh0UHJvcHM6IFByb3BzKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubWFya2luZ1RhcmdldHNTdW1tYXJ5ID09PSB1bmRlZmluZWQgfHwgdGhpcy5wcm9wcy5tYXJraW5nVGFyZ2V0c1N1bW1hcnkuY291bnQoKSA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudGx5U2VsZWN0ZWRNYXJraW5nTW9kZTogdW5kZWZpbmVkLCBjdXJyZW50bHlTZWxlY3RlZHJlbWFya1JlcXVlc3RUeXBlSWQ6IHVuZGVmaW5lZCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIHNlbGVjdGlvbiBzdGF0dXMuXHJcbiAgICAgKiBAcGFyYW0gbWFya2luZ01vZGVJZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzU2VsZWN0ZWRUYXJnZXQobWFya2luZ01vZGVJZDogZW51bXMuTWFya2luZ01vZGUsIHJlbWFya1JlcXVlc3RUeXBlSWQ6IGVudW1zLlJlbWFya1JlcXVlc3RUeXBlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudGx5U2VsZWN0ZWRNYXJraW5nTW9kZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTWFya2luZ01vZGUgPT09IGVudW1zLk1hcmtpbmdNb2RlLlJlbWFya2luZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldEhlbHBlci5nZXRDdXJyZW50UmVtYXJrUmVxdWVzdFR5cGUoKSA9PT0gcmVtYXJrUmVxdWVzdFR5cGVJZDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkTWFya2luZ01vZGUgPT09IG1hcmtpbmdNb2RlSWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHJlbWFya1JlcXVlc3RUeXBlSWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50bHlTZWxlY3RlZHJlbWFya1JlcXVlc3RUeXBlSWQgPT09IHJlbWFya1JlcXVlc3RUeXBlSWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudGx5U2VsZWN0ZWRNYXJraW5nTW9kZSA9PT0gbWFya2luZ01vZGVJZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbiB0YXJnZXQgY2xpY2tlZFxyXG4gICAgICogQHBhcmFtIG1hcmtpbmdNb2RlSWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblRhcmdldENsaWNrKG1hcmtpbmdNb2RlSWQ6IGVudW1zLk1hcmtpbmdNb2RlLCByZW1hcmtSZXF1ZXN0VHlwZUlkOiBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZSwgaXNEaXJlY3RlZFJlbWFyazogYm9vbGVhbikge1xyXG5cclxuICAgICAgICBpZiAoIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUpIHtcclxuICAgICAgICAgICAgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yLmNoZWNrQWN0aW9uSW50ZXJydXB0ZWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGU7XHJcbiAgICAgICAgICAgIHN3aXRjaCAobWFya2luZ01vZGVJZCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZTpcclxuICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFR5cGUgPSBlbnVtcy5Xb3JrbGlzdFR5cGUucHJhY3RpY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLkxpdmVNYXJraW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0VHlwZSA9IGVudW1zLldvcmtsaXN0VHlwZS5saXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbDpcclxuICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFR5cGUgPSBlbnVtcy5Xb3JrbGlzdFR5cGUuc3RhbmRhcmRpc2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5FU19UZWFtQXBwcm92YWw6XHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RUeXBlID0gZW51bXMuV29ya2xpc3RUeXBlLnNlY29uZHN0YW5kYXJkaXNhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuUmVtYXJraW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0VHlwZSA9IGVudW1zLldvcmtsaXN0VHlwZS5wb29sZWRSZW1hcms7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLlNpbXVsYXRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RUeXBlID0gZW51bXMuV29ya2xpc3RUeXBlLnNpbXVsYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBpc1RhcmdldENvbXBsZXRlZDogYm9vbGVhbjtcclxuICAgICAgICAgICAgaXNUYXJnZXRDb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlO1xyXG4gICAgICAgICAgICByZXNwb25zZU1vZGUgPSBlbnVtcy5SZXNwb25zZU1vZGUub3BlbjtcclxuICAgICAgICAgICAgaWYgKG1hcmtpbmdNb2RlSWQgPT09IGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlIHx8IG1hcmtpbmdNb2RlSWQgPT09IGVudW1zLk1hcmtpbmdNb2RlLlJlbWFya2luZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tYXJraW5nVGFyZ2V0c1N1bW1hcnkubWFwKGZ1bmN0aW9uIChtYXJraW5nVGFyZ2V0OiBhbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWFya2luZ1RhcmdldC5tYXJraW5nTW9kZUlEID09PSBtYXJraW5nTW9kZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXJraW5nVGFyZ2V0LmlzVGFyZ2V0Q29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1RhcmdldENvbXBsZXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXJraW5nTW9kZUlkID09PSBlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCB8fFxyXG4gICAgICAgICAgICAgICAgbWFya2luZ01vZGVJZCA9PT0gZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpc1RhcmdldENvbXBsZXRlZCA9IHRhcmdldEhlbHBlci5pc0VTVGFyZ2V0Q29tcGxldGVkKG1hcmtpbmdNb2RlSWQpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNUYXJnZXRDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlTW9kZSA9IGVudW1zLlJlc3BvbnNlTW9kZS5jbG9zZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VNb2RlID0gbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5yZXNwb25zZU1vZGVCYXNlZE9uUXVhbGl0eUZlZWRiYWNrKHJlc3BvbnNlTW9kZSwgbWFya2luZ01vZGVJZCxcclxuICAgICAgICAgICAgICAgICAgICByZW1hcmtSZXF1ZXN0VHlwZUlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdEFjdGlvbkNyZWF0b3Iubm90aWZ5V29ya2xpc3RUeXBlQ2hhbmdlKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLnF1ZXN0aW9uUGFwZXJQYXJ0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTW9kZSxcclxuICAgICAgICAgICAgICAgICAgICByZW1hcmtSZXF1ZXN0VHlwZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzRGlyZWN0ZWRSZW1hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGN1cnJlbnRseVNlbGVjdGVkTWFya2luZ01vZGU6IG1hcmtpbmdNb2RlSWQsIGN1cnJlbnRseVNlbGVjdGVkcmVtYXJrUmVxdWVzdFR5cGVJZDogcmVtYXJrUmVxdWVzdFR5cGVJZCB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGRldGVybWluZSB3aGV0aGVyIGEgdGFyZ2V0IGluIGRpc2FibGVkIHN0YXRlIG9yIG5vdFxyXG4gICAgICogQHBhcmFtIHRhcmdldCAtIHRhcmdldFxyXG4gICAgICogQHBhcmFtIHByZXZpb3VzVGFyZ2V0IC0gcHJldmlvdXMgdGFyZ2V0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNUYXJnZXREaXNhYmxlZCh0YXJnZXQ6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5LCBwcmV2aW91c1RhcmdldDogbWFya2luZ1RhcmdldFN1bW1hcnkpIHtcclxuICAgICAgICAvLyBEZXRlcm1pbmUgaWYgdGhlIGl0ZW0gaXMgc2hvd24gaW4gYSBkaXNhYmxlZCBzdGF0dXMgaGVyZS5cclxuICAgICAgICAvLyBJbiB0aGUgZnV0dXJlIHN0YXRlIHRoZSBpdGVtIGlzIGRpc2FibGVkLlxyXG4gICAgICAgIC8vV2hlbiB0aGUgbWFya2VyIGhhcyBxdWFsaXR5IGZlZWRiYWNrIG91dHN0YW5kaW5nLCB0aGUgcmVtYXJraW5nIHRhYiBzaG91bGQgYmUgZGlzYWJsZWRcclxuICAgICAgICByZXR1cm4gbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1RhcmdldERpc2FibGVkKHRhcmdldCwgcHJldmlvdXNUYXJnZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaXMgRVMgVGVhbSBBcHByb3ZhbCBTdGF0dXNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc0VTVGVhbUFwcHJvdmFsU3RhdHVzKCkge1xyXG4gICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5pc0VsZWN0cm9uaWNTdGFuZGFyZGlzYXRpb25UZWFtTWVtYmVyID09PSB0cnVlXHJcbiAgICAgICAgICAgIHx8IChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5pc0VsZWN0cm9uaWNTdGFuZGFyZGlzYXRpb25UZWFtTWVtYmVyID09PSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5pc1NlY29uZFN0YW5kYXJkaXNhdGlvbigpID09PSB0cnVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIFNlY29uZCBTdGFuZGFyZGlzYXRpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc1NlY29uZFN0YW5kYXJkaXNhdGlvbigpIHtcclxuICAgICAgICBsZXQgc2Vjb25kU3RhbmRhcmRpc2F0aW9uVGFyZ2V0ID0gdGhpcy5wcm9wcy5tYXJraW5nVGFyZ2V0c1N1bW1hcnkuZmlsdGVyKCh0YXJnZXQ6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KSA9PlxyXG4gICAgICAgICAgICB0YXJnZXQubWFya2luZ01vZGVJRCA9PT0gZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKS5maXJzdCgpO1xyXG5cclxuICAgICAgICBpZiAoc2Vjb25kU3RhbmRhcmRpc2F0aW9uVGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgZGlyZWN0ZWQgcmVtYXJrIHRhcmdldHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXREaXJlY3RlZFJlbWFya1RhcmdldHMoKSB7XHJcbiAgICAgICAgbGV0IGZpbHRlcmVkRGlyZWN0ZWRSZW1hcmtUYXJnZXRzID0gdGhpcy5wcm9wcy5tYXJraW5nVGFyZ2V0c1N1bW1hcnkuZmlsdGVyKChtYXJraW5nVGFyZ2V0OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSkgPT5cclxuICAgICAgICAgICAgbWFya2luZ1RhcmdldC5leGFtaW5lclByb2dyZXNzLmlzRGlyZWN0ZWRSZW1hcmsgPT09IHRydWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gSW1tdXRhYmxlLkxpc3Q8bWFya2luZ1RhcmdldFN1bW1hcnk+KGZpbHRlcmVkRGlyZWN0ZWRSZW1hcmtUYXJnZXRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBzZWxlY3RlZCB3b3JrbGlzdCB0eXBlIGRpc2FibGVkLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzU2VsZWN0ZWRXb3JrbGlzdFR5cGVEaXNhYmxlZCA9ICgpOiBib29sZWFuID0+IHtcclxuICAgICAgICBsZXQgaXNEaXNhYmxlZHRhcmdldDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBtYXJraW5nTW9kZUJ5V29ya2xpc3RUeXBlOiBlbnVtcy5NYXJraW5nTW9kZSA9XHJcbiAgICAgICAgICAgIHRhcmdldEhlbHBlci5nZXRNYXJraW5nTW9kZUJ5V29ya2xpc3RUeXBlKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSk7XHJcbiAgICAgICAgaWYgKG1hcmtpbmdNb2RlQnlXb3JrbGlzdFR5cGUpIHtcclxuICAgICAgICAgICAgbGV0IHRhcmdldEJ5V29ya2xpc3RUeXBlOiBhbnkgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tYXJraW5nVGFyZ2V0c1N1bW1hcnkuZmlsdGVyKHRhcmdldCA9PiB0YXJnZXQubWFya2luZ01vZGVJRCA9PT0gbWFya2luZ01vZGVCeVdvcmtsaXN0VHlwZSkuZmlyc3QoKTtcclxuICAgICAgICAgICAgLy8gVGhlIG1hcmtpbmdUYXJnZXRzU3VtbWFyeSB3aWxsIG5vdCBiZSBnZXQgcmVmcmVzaGVkIHNvb24gd2hlbiB3ZSBzd2l0Y2hpbmcgdGhyb3VnaCByZWNlbnQgaGlzdG9yeSBsaW5rLlxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0QnlXb3JrbGlzdFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGlzRGlzYWJsZWR0YXJnZXQgPSBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGFyZ2V0RGlzYWJsZWQodGFyZ2V0QnlXb3JrbGlzdFR5cGUsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlzRGlzYWJsZWR0YXJnZXQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFRhcmdldHM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3RhcmdldHN1bW1hcnkvdGFyZ2V0cy50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBb0JBOztBQUVBO0FBQ0E7QUFBQTtBQUtBOzs7QUFHQTtBQUNBO0FBQUE7QUF3R0E7O0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFVQTtBQXNKQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQXNCQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQW1CQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 598:
/* no static exports found */
/* all exports used */
/*!*******************************************************!*\
  !*** ./src/components/worklist/worklistcontainer.tsx ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar WorkListMessage = __webpack_require__(/*! ./shared/worklistmessage */ 530);\r\nvar AllocateResponseButton = __webpack_require__(/*! ./shared/allocateresponsebutton */ 1225);\r\nvar GridControl = __webpack_require__(/*! ../utility/grid/gridcontrol */ 1177);\r\n//import liveWorkListHelper = require('../../utility/grid/worklisthelpers/liveworklisthelper');\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar GridToggleButton = __webpack_require__(/*! ./shared/gridtogglebutton */ 529);\r\nvar TabControl = __webpack_require__(/*! ../utility/tab/tabcontrol */ 526);\r\nvar TabContentContainer = __webpack_require__(/*! ../utility/tab/tabcontentcontainer */ 1209);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar userOptionsHelper = __webpack_require__(/*! ../../utility/useroption/useroptionshelper */ 265);\r\nvar userOptionKeys = __webpack_require__(/*! ../../utility/useroption/useroptionkeys */ 264);\r\nvar targetSummaryStore = __webpack_require__(/*! ../../stores/worklist/targetsummarystore */ 305);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar responseStore = __webpack_require__(/*! ../../stores/response/responsestore */ 235);\r\nvar responseAllocationButtonValidationHelper = __webpack_require__(/*! ../utility/responseallocation/responseallocationbuttonvalidationhelper */ 1199);\r\nvar worklistActionCreator = __webpack_require__(/*! ../../actions/worklist/worklistactioncreator */ 261);\r\nvar SubmitResponse = __webpack_require__(/*! ./shared/submitresponse */ 372);\r\nvar tabHelper = __webpack_require__(/*! ../utility/tab/tabhelper */ 1210);\r\nvar targetHelper = __webpack_require__(/*! ../../utility/target/targethelper */ 300);\r\nvar markingStore = __webpack_require__(/*! ../../stores/marking/markingstore */ 236);\r\nvar markSchemeHelper = __webpack_require__(/*! ../../utility/markscheme/markschemehelper */ 276);\r\nvar examinerStore = __webpack_require__(/*! ../../stores/markerinformation/examinerstore */ 259);\r\nvar qualityFeedbackHelper = __webpack_require__(/*! ../../utility/qualityfeedback/qualityfeedbackhelper */ 309);\r\nvar worklistFactory = __webpack_require__(/*! ../../utility/worklist/worklistfactory */ 1446);\r\nvar StandardisationWorklistMessage = __webpack_require__(/*! ./shared/standardisationworklistmessage */ 1235);\r\nvar WorklistTableWrapper = __webpack_require__(/*! ./worklisttablewrapper */ 1243);\r\nvar LoadingIndicator = __webpack_require__(/*! ../utility/loadingindicator/loadingindicator */ 303);\r\nvar messageStore = __webpack_require__(/*! ../../stores/message/messagestore */ 240);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../actions/messaging/messagingactioncreator */ 268);\r\nvar applicationStore = __webpack_require__(/*! ../../stores/applicationoffline/applicationstore */ 247);\r\nvar sortHelper = __webpack_require__(/*! ../../utility/sorting/sorthelper */ 272);\r\nvar comparerList = __webpack_require__(/*! ../../utility/sorting/sortbase/comparerlist */ 262);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar AtypicalSearchBar = __webpack_require__(/*! ./atypicalsearchbar */ 1214);\r\nvar userInfoActionCreator = __webpack_require__(/*! ../../actions/userinfo/userinfoactioncreator */ 255);\r\nvar responseHelper = __webpack_require__(/*! ../utility/responsehelper/responsehelper */ 249);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar MarkingCheckIndicator = __webpack_require__(/*! ./markingcheckindicator */ 1222);\r\nvar WorklistFilter = __webpack_require__(/*! ./worklistfilter */ 1242);\r\nvar stringFormatHelper = __webpack_require__(/*! ../../utility/stringformat/stringformathelper */ 250);\r\nvar teamManagementStore = __webpack_require__(/*! ../../stores/teammanagement/teammanagementstore */ 245);\r\nvar htmlUtilities = __webpack_require__(/*! ../../utility/generic/htmlutilities */ 243);\r\nvar markingCheckActionCreator = __webpack_require__(/*! ../../actions/markingcheck/markingcheckactioncreator */ 311);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../utility/ecoursework/ecourseworkhelper */ 238);\r\nvar PendingWorklistBanner = __webpack_require__(/*! ./shared/pendingworklistbanner */ 1231);\r\nvar constants = __webpack_require__(/*! ../utility/constants */ 241);\r\nvar stringHelper = __webpack_require__(/*! ../../utility/generic/stringhelper */ 254);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\n/**\r\n * React component for live worklist\r\n */\r\nvar WorkListContainer = /** @class */ (function (_super) {\r\n    __extends(WorkListContainer, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function WorkListContainer(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.isGraceTabVisible = true;\r\n        _this.gridStyle = '';\r\n        _this.isAtypicalCenterNumber = false;\r\n        _this.isAtypicalCandidateNumber = false;\r\n        _this.isSubmitDisabled = false;\r\n        _this.isErrorOccuredInWholeResponseAllocation = false;\r\n        _this.doSetMinWidth = true;\r\n        /*\r\n        * This function will pass to grid control as a callback function\r\n        */\r\n        _this.handleTileClick = function (responseId) {\r\n            if (!applicationStore.instance.isOnline) {\r\n                applicationActionCreator.checkActionInterrupted();\r\n            }\r\n            else {\r\n                var isTileView = userOptionsHelper.getUserOptionByName(userOptionKeys.SELECTED_GRID_TYPE) === 'true' ? true : false;\r\n                _this.messageNavigationArguments = {\r\n                    responseId: responseId,\r\n                    canNavigate: true,\r\n                    navigateTo: enums.MessageNavigation.toResponse,\r\n                    navigationConfirmed: false,\r\n                    hasMessageContainsDirtyValue: undefined,\r\n                    triggerPoint: enums.TriggerPoint.None\r\n                };\r\n                if (isTileView) {\r\n                    if (!messageStore.instance.isMessagePanelActive) {\r\n                        _this.onNavigatetoResponse(_this.messageNavigationArguments);\r\n                    }\r\n                    else {\r\n                        //if message panel is active call the navigation actions\r\n                        _this.messageNavigationArguments.canNavigate = false;\r\n                        _this.messageNavigationArguments.navigationConfirmed = false;\r\n                        messagingActionCreator.canMessageNavigate(_this.messageNavigationArguments);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Get the grid control id\r\n         */\r\n        _this.getGridControlId = function () {\r\n            var gridId = enums.WorklistType[_this.props.worklistType] + '_'\r\n                + enums.ResponseMode[_this.props.responseMode] + '_grid_' + _this.props.id;\r\n            return gridId;\r\n        };\r\n        // update worklist on changing marking check worklist\r\n        _this.reRender = function () {\r\n            var rightSpacer = htmlUtilities.getElementsByClassName('right-spacer');\r\n            if (rightSpacer.length > 0) {\r\n                rightSpacer.style.paddingLeft = '';\r\n            }\r\n            _this.setState({\r\n                renderedOn: Date.now(),\r\n                isTileView: false\r\n            });\r\n        };\r\n        /**\r\n         *\r\n         */\r\n        _this.updateMarkCheckWorklistAccessMessage = function () {\r\n            _this.setState({\r\n                isMarkingCheckWorklistAccessPresent: _this.props.isTeamManagementMode ? false : worklistStore.instance.isMarkingCheckWorklistAccessPresent\r\n            });\r\n        };\r\n        _this.updateMarkerInformationPanel = function () {\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * returns the worklist component based on the view (tile/list)\r\n         * @param worklistType\r\n         */\r\n        _this.getWorklistComponent = function (worklistType) {\r\n            var isQualityFeedbackMessageToBeDisplayed = qualityFeedbackHelper.isQualtiyHelperMessageNeededToBeDisplayed(_this.props.worklistType);\r\n            var grid;\r\n            if (_this.state.isTileView) {\r\n                grid = (React.createElement(GridControl, { gridRows: _this._gridRows, gridStyle: _this.gridStyle, onClickCallBack: _this.handleTileClick, id: _this.getGridControlId(), key: 'key_' + _this.props.id, worklistType: worklistType, selectedLanguage: _this.props.selectedLanguage }));\r\n            }\r\n            else {\r\n                grid = (React.createElement(\"div\", { className: classNames('grid-wrapper', { 'show-seed-message': isQualityFeedbackMessageToBeDisplayed }) },\r\n                    React.createElement(WorklistTableWrapper, { columnHeaderRows: _this._gridColumnHeaderRows, frozenHeaderRows: _this._gridFrozenHeaderRows, frozenBodyRows: _this._gridFrozenBodyRows, gridRows: _this._gridRows, getGridControlId: _this.getGridControlId, id: _this.props.id, key: 'worklistcontainer_key_' + _this.props.id, selectedLanguage: _this.props.selectedLanguage, worklistType: _this.props.worklistType, onSortClick: _this.onSortClick, doSetMinWidth: _this.doSetMinWidth, renderedOn: _this.state.renderedOn })));\r\n            }\r\n            return grid;\r\n        };\r\n        /**\r\n         * Invoked while clicking the filter\r\n         */\r\n        _this.onWorklistFilterSelected = function (selectedFilter) {\r\n            // FIre action for filter the data\r\n            worklistActionCreator.setFilteredWorklistData(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, selectedFilter);\r\n        };\r\n        /**\r\n         * Invoked while filtered data in the store\r\n         */\r\n        _this.onWorklistFilterChanged = function (selectedFilter) {\r\n            if (_this.state.selectedFilterType !== selectedFilter) {\r\n                var examinerRoleID = qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId;\r\n                var worklistType = _this.props.worklistType;\r\n                var remarkRequestType = _this.props.remarkRequestType;\r\n                var isDirectedRemark = _this.props.isDirectedRemark;\r\n                if (_this.props.isMarkingCheckMode) {\r\n                    examinerRoleID = worklistStore.instance.selectedMarkingCheckExaminer.examinerRoleID;\r\n                    worklistType = enums.WorklistType.live;\r\n                    remarkRequestType = enums.RemarkRequestType.Unknown;\r\n                    isDirectedRemark = false;\r\n                }\r\n                // Get script images from cache once the filter change.\r\n                worklistActionCreator.notifyWorklistTypeChange(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, examinerRoleID, qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId, worklistType, enums.ResponseMode.closed, remarkRequestType, isDirectedRemark, qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember, true, _this.props.isMarkingCheckMode);\r\n                _this.setState({\r\n                    selectedFilterType: selectedFilter,\r\n                    renderedOn: Date.now()\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * returns the header element of worklist.\r\n         */\r\n        _this.getWorklistHeader = function () {\r\n            var headingText;\r\n            if (_this.props.isMarkingCheckMode) {\r\n                var formattedString = stringFormatHelper.getUserNameFormat().toLowerCase();\r\n                formattedString = formattedString.replace('{initials}', worklistStore.instance.selectedMarkingCheckExaminer.toExaminer.initials);\r\n                formattedString = formattedString.replace('{surname}', worklistStore.instance.selectedMarkingCheckExaminer.toExaminer.surname);\r\n                headingText = localeStore.instance.TranslateText('marking.worklist.worklist-headers.live')\r\n                    + ' ' + localeStore.instance.TranslateText('marking.worklist.perform-marking-check.worklist-of-examiner')\r\n                    + ' ' + formattedString;\r\n            }\r\n            else {\r\n                switch (_this.props.worklistType) {\r\n                    case enums.WorklistType.live:\r\n                        headingText = localeStore.instance.TranslateText('marking.worklist.worklist-headers.live');\r\n                        break;\r\n                    case enums.WorklistType.atypical:\r\n                        headingText = localeStore.instance.TranslateText('marking.worklist.worklist-headers.atypical');\r\n                        break;\r\n                    case enums.WorklistType.practice:\r\n                        headingText = localeStore.instance.TranslateText('marking.worklist.worklist-headers.practice');\r\n                        break;\r\n                    case enums.WorklistType.standardisation:\r\n                        headingText = localeStore.instance.TranslateText('marking.worklist.worklist-headers.standardisation');\r\n                        break;\r\n                    case enums.WorklistType.secondstandardisation:\r\n                        headingText = (qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember === false ?\r\n                            localeStore.instance.TranslateText('marking.worklist.worklist-headers.secondstandardisation')\r\n                            : localeStore.instance.TranslateText('marking.worklist.worklist-headers.stm-standardisation'));\r\n                        break;\r\n                    case enums.WorklistType.directedRemark:\r\n                        headingText = stringHelper.format(localeStore.instance.TranslateText('generic.remark-types.long-names.' +\r\n                            enums.RemarkRequestType[_this.props.remarkRequestType]), [constants.NONBREAKING_HYPHEN_UNICODE]);\r\n                        break;\r\n                    case enums.WorklistType.pooledRemark:\r\n                        headingText = stringHelper.format(localeStore.instance.TranslateText('generic.remark-types.long-names.' +\r\n                            enums.RemarkRequestType[_this.props.remarkRequestType]), [constants.NONBREAKING_HYPHEN_UNICODE]);\r\n                        break;\r\n                    case enums.WorklistType.simulation:\r\n                        headingText = localeStore.instance.TranslateText('marking.worklist.worklist-headers.simulation');\r\n                        break;\r\n                }\r\n            }\r\n            var element = (React.createElement(\"h3\", { className: 'shift-left page-title', id: 'worklistTitle' },\r\n                React.createElement(\"span\", { className: 'page-title-text' }, headingText),\r\n                React.createElement(\"span\", { className: 'right-spacer' })));\r\n            return element;\r\n        };\r\n        /**\r\n         * returns the Atypical search bar for atypical worklist\r\n         */\r\n        _this.getAtypicalSearchBar = function () {\r\n            var atypicalSearchBarElement = null;\r\n            if (_this.props.selectedTab === enums.ResponseMode.open) {\r\n                atypicalSearchBarElement = React.createElement(AtypicalSearchBar, { id: 'atypicalSearchBar', key: 'atypicalSearchBar', disableControls: !qigStore.instance.isAtypicalAvailable, selectedLanguage: _this.props.selectedLanguage });\r\n            }\r\n            else {\r\n                atypicalSearchBarElement = (React.createElement(\"div\", { className: 'atypical-search-wrap middle-content' }));\r\n            }\r\n            return atypicalSearchBarElement;\r\n        };\r\n        /**\r\n         * Method called when response allocated\r\n         * @param responseAllocationErrorCode\r\n         */\r\n        _this.onResponseAllocated = function (responseAllocationErrorCode) {\r\n            if (responseStore.instance.isWholeResponseAllocation &&\r\n                (responseAllocationErrorCode === enums.ResponseAllocationErrorCode.suspendedMarker ||\r\n                    responseAllocationErrorCode === enums.ResponseAllocationErrorCode.unApprovedMarker)) {\r\n                // Visibility of whole response button handled for this particular error code\r\n                _this.isErrorOccuredInWholeResponseAllocation = true;\r\n            }\r\n        };\r\n        /**\r\n         * Function to bypass sorting for a specific requirment.\r\n         */\r\n        _this.isSortRequired = function () {\r\n            var isSortRequired = true;\r\n            // To bypass sorting in closed response, if any quality feedback is pending\r\n            if (_this.props.responseMode === enums.ResponseMode.closed\r\n                && qualityFeedbackHelper.isQualtiyHelperMessageNeededToBeDisplayed(_this.props.worklistType) === true) {\r\n                isSortRequired = false;\r\n                // setting the default sort order for closed response, if any quality feedback is pending.\r\n                _this.comparerName = comparerList[comparerList.submittedDateComparer];\r\n                _this.sortDirection = enums.SortDirection.Descending;\r\n            }\r\n            return isSortRequired;\r\n        };\r\n        _this.setLoadingindicator();\r\n        /* getting user preference for the grid view */\r\n        _this.state = {\r\n            isTileView: _this.props.isTeamManagementMode || _this.props.isMarkingCheckMode ? false :\r\n                userOptionsHelper.getUserOptionByName(userOptionKeys.SELECTED_GRID_TYPE) === 'true' ? true : false,\r\n            isGridviewChanged: false,\r\n            isMarkingCheckWorklistAccessPresent: false,\r\n            selectedFilterType: worklistStore.instance.getSelectedFilterDetails.get(teamManagementStore.instance.examinerDrillDownData ?\r\n                teamManagementStore.instance.examinerDrillDownData.examinerRoleId : 0, enums.WorklistSeedFilter.All)\r\n        };\r\n        // resetting the comparer at start\r\n        _this.resetSortAttributes();\r\n        _this.toggleLeftPanel = _this.toggleLeftPanel.bind(_this);\r\n        _this.selectTab = _this.selectTab.bind(_this);\r\n        _this.toggleGridView = _this.toggleGridView.bind(_this);\r\n        _this.onSortClick = _this.onSortClick.bind(_this);\r\n        _this.resetSortAttributes = _this.resetSortAttributes.bind(_this);\r\n        _this.onResponseAllocated = _this.onResponseAllocated.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render method\r\n     */\r\n    WorkListContainer.prototype.render = function () {\r\n        this.setLoadingindicator();\r\n        /* if there are no match and the data has not been loaded, show busy indicator */\r\n        if (this.props.worklistType === undefined || this.props.worklistType === enums.WorklistType.none) {\r\n            return this.loading;\r\n        }\r\n        else {\r\n            this.worklistHelper = worklistFactory.getWorklistHelper(this.props.worklistType);\r\n            this.setWorklistData();\r\n            var validationResponseAllocationButtonValidationParam = responseAllocationButtonValidationHelper.validate(this.openWorklist, targetHelper.getExaminerQigStatus(), targetHelper.getExaminerApproval(), this.props.worklistType, this.props.remarkRequestType, this.props.isTeamManagementMode || this.props.isMarkingCheckMode);\r\n            this.showHideAllocateNewResponseButton(validationResponseAllocationButtonValidationParam);\r\n            this.isSubmitDisabled = markerOperationModeFactory.operationMode.isSubmitDisabled(this.props.worklistType);\r\n            var currentTarget = targetSummaryStore.instance.getCurrentTarget();\r\n            var atypicalSearchVisible = this.props.worklistType === enums.WorklistType.atypical\r\n                && !this.props.isTeamManagementMode;\r\n            var responseDownloadButton = atypicalSearchVisible ?\r\n                this.getAtypicalSearchBar() :\r\n                (React.createElement(\"div\", { className: 'get-response-wrapper' },\r\n                    this.getNewResponseButton,\r\n                    this.markingCheckCompleteButton()));\r\n            var stylePanel = {\r\n                minWidth: 0\r\n            };\r\n            var element = htmlUtilities.getElementsByClassName('get-response-wrapper');\r\n            // Added for styling the worklist when there is no get new response button.\r\n            if (this.getNewResponseButton === undefined) {\r\n                stylePanel = { minWidth: 0 };\r\n            }\r\n            else if (element.length > 0 && this.props.responseMode === enums.ResponseMode.open) {\r\n                var minwidth = element[0].clientWidth;\r\n                stylePanel = { minWidth: minwidth };\r\n            }\r\n            return (React.createElement(\"div\", { className: 'column-right tab-holder horizontal response-tabs' },\r\n                React.createElement(\"a\", { href: 'javascript:void(0);', className: 'toggle-left-panel', id: 'togglePanel', title: this.props.isMarkingCheckMode ?\r\n                        localeStore.instance.TranslateText('marking.worklist.perform-marking-check.show-hide-left-panel-tooltip') :\r\n                        localeStore.instance.TranslateText('marking.worklist.left-panel.show-hide-panel-tooltip'), onClick: this.toggleLeftPanel },\r\n                    React.createElement(\"span\", { className: 'sprite-icon panel-toggle-icon' }, \"panel toggle\")),\r\n                React.createElement(\"div\", { className: 'wrapper' },\r\n                    React.createElement(MarkingCheckIndicator, { id: 'marking_Check_Worklist_Access_Indicator', key: 'marking_Check_Worklist_Access_Indicator', isMarkingCheckAvailable: worklistStore.instance.isMarkingCheckWorklistAccessPresent, isMarkCheckWorklist: this.props.isMarkingCheckMode }),\r\n                    React.createElement(\"div\", { className: classNames('clearfix wl-page-header', {\r\n                            'header-search ': atypicalSearchVisible,\r\n                            'tabs-2': (qigStore.instance.selectedQIGForMarkerOperation &&\r\n                                !qigStore.instance.selectedQIGForMarkerOperation.hasGracePeriod &&\r\n                                !(currentTarget.examinerProgress.atypicalPendingResponsesCount > 0) &&\r\n                                atypicalSearchVisible) ? true : false\r\n                        }) },\r\n                        this.getWorklistHeader(),\r\n                        React.createElement(\"div\", { className: 'tab-nav-holder' },\r\n                            React.createElement(TabControl, { tabHeaders: tabHelper.getTabHeaderData(this.props.worklistTabDetails, this.props.selectedTab), selectTab: this.selectTab })),\r\n                        React.createElement(\"div\", { className: classNames('response-button-holder arrow-tab ', {\r\n                                'atypical-search ': atypicalSearchVisible\r\n                            }), style: stylePanel },\r\n                            React.createElement(\"div\", { className: classNames('arrow-link', {\r\n                                    'vertical-middle': atypicalSearchVisible\r\n                                }) },\r\n                                responseDownloadButton,\r\n                                \" \")),\r\n                        React.createElement(\"div\", { className: 'tab-right-end arrow-tab' },\r\n                            React.createElement(\"div\", { className: 'arrow-link' }, \" \"))),\r\n                    React.createElement(TabContentContainer, { renderedOn: this.state.renderedOn, tabContents: this.getTabData(validationResponseAllocationButtonValidationParam) }))));\r\n        }\r\n    };\r\n    /**\r\n     * Unsubscribe events\r\n     */\r\n    WorkListContainer.prototype.componentWillUnmount = function () {\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.MARKING_CHECK_WORKLIST_ACCESS_STATUS_UPDATED, this.updateMarkCheckWorklistAccessMessage);\r\n        examinerStore.instance.removeListener(examinerStore.ExaminerStore.MARKER_INFO_UPDATED_EVENT, this.updateMarkerInformationPanel);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_NAVIGATION_EVENT, this.onNavigatetoResponse);\r\n        qigStore.instance.removeListener(qigStore.QigStore.QIG_SELECTED_EVENT, this.resetSortAttributes);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.WORKLIST_FILTER_CHANGED, this.onWorklistFilterChanged);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.MARK_CHECK_EXAMINERS_DATA_RETRIVED, this.reRender);\r\n        responseStore.instance.removeListener(responseStore.ResponseStore.RESPONSE_ALLOCATED_EVENT, this.onResponseAllocated);\r\n    };\r\n    /**\r\n     * Comparing the props to check the updats are made by self\r\n     * @param {Props} nextProps\r\n     */\r\n    WorkListContainer.prototype.componentWillReceiveProps = function (nextProps) {\r\n        if (this.props.worklistType !== nextProps.worklistType || this.props.responseMode !== nextProps.responseMode\r\n            || this.props.remarkRequestType !== nextProps.remarkRequestType) {\r\n            this.resetSortAttributes();\r\n        }\r\n        if (markerOperationModeFactory.operationMode.isTeamManagementMode ||\r\n            this.props.isMarkingCheckMode) {\r\n            this.setState({\r\n                isTileView: false\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                isTileView: userOptionsHelper.getUserOptionByName(userOptionKeys.SELECTED_GRID_TYPE) === 'true' ? true : false\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Marking check Complete button details\r\n     */\r\n    WorkListContainer.prototype.markingCheckCompleteButton = function () {\r\n        if (!this.props.isRefreshing && this.props.isMarkingCheckMode) {\r\n            return (React.createElement(\"button\", { className: 'primary rounded large download-rsp-btn split-btn popup-nav', id: 'marking_check_Complete_button_id', key: 'marking_check_Complete_button_key', onClick: this.OnMarkCheckCompleteCLick, disabled: false }, localeStore.instance.TranslateText('marking.worklist.perform-marking-check.set-marking-as-checked-button')));\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    /**\r\n     * Show/Hide allocate new response button\r\n     * @param validationResponseAllocationButtonParam\r\n     */\r\n    WorkListContainer.prototype.showHideAllocateNewResponseButton = function (validationResponseAllocationButtonParam) {\r\n        if ((this.props.worklistType === enums.WorklistType.live || this.props.worklistType === enums.WorklistType.pooledRemark\r\n            || this.props.worklistType === enums.WorklistType.simulation)\r\n            && this.props.selectedTab === enums.ResponseMode.open\r\n            && this.props.responseMode === enums.ResponseMode.open\r\n            && !this.props.isRefreshing\r\n            && !this.props.isMarkingCheckMode) {\r\n            this.getNewResponseButton = validationResponseAllocationButtonParam.IsResponseAllocateButtonVisible ?\r\n                (React.createElement(AllocateResponseButton, { id: 'getNewResponseButton', key: 'getNewResponseButton', selectedLanguage: this.props.selectedLanguage, title: validationResponseAllocationButtonParam.ResponseAllocationButtonTitle, isEnabled: validationResponseAllocationButtonParam.IsResponseAllocateButtonEnabled, worklistType: this.props.worklistType, buttonMainText: validationResponseAllocationButtonParam.ResponseAllocationButtonMainText, buttonSubText: validationResponseAllocationButtonParam.ResponseAllocationButtonSubText, buttonSingleResponseText: validationResponseAllocationButtonParam.\r\n                        ResponseAllocationButtonSingleResponseText, buttonUpToOpenResponseLimitText: validationResponseAllocationButtonParam.\r\n                        ResponseAllocationButtonUpToOpenResponseText, isWholeResponseButtonAvailable: validationResponseAllocationButtonParam.\r\n                        IsWholeResponseResponseAllocationButtonAvailable && !this.isErrorOccuredInWholeResponseAllocation })) : null;\r\n        }\r\n        else {\r\n            this.getNewResponseButton = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * When the markcheck Complete button is clicked\r\n     */\r\n    WorkListContainer.prototype.OnMarkCheckCompleteCLick = function () {\r\n        worklistActionCreator.markingCheckComplete();\r\n    };\r\n    /**\r\n     * This will returns the tab contents\r\n     * @param validationResponseAllocationButtonValidationParam\r\n     */\r\n    WorkListContainer.prototype.getTabData = function (validationResponseAllocationButtonValidationParam) {\r\n        var tabContents = [];\r\n        var tabToBeSelected = markerOperationModeFactory.operationMode.tabToBeSelected(this.props.selectedTab);\r\n        tabContents.push({\r\n            index: enums.ResponseMode.open,\r\n            class: 'tab-content resp-open',\r\n            isSelected: tabToBeSelected === enums.ResponseMode.open,\r\n            id: 'responseTab_Open',\r\n            content: this.showOpenGridContent(validationResponseAllocationButtonValidationParam)\r\n        });\r\n        if (this.isGraceTabVisible) {\r\n            tabContents.push({\r\n                index: enums.ResponseMode.pending,\r\n                class: 'wrapper tab-content resp-grace',\r\n                isSelected: tabToBeSelected === enums.ResponseMode.pending,\r\n                id: 'responseTab_Pending',\r\n                content: this.showPendingGridContent()\r\n            });\r\n        }\r\n        tabContents.push({\r\n            index: enums.ResponseMode.closed,\r\n            class: 'wrapper tab-content resp-closed',\r\n            isSelected: tabToBeSelected === enums.ResponseMode.closed,\r\n            id: 'responseTab_Closed',\r\n            content: this.showClosedGridContent()\r\n        });\r\n        return tabContents;\r\n    };\r\n    /**\r\n     * Resets the comparer and sort order\r\n     */\r\n    WorkListContainer.prototype.resetSortAttributes = function () {\r\n        this.comparerName = undefined;\r\n        this.sortDirection = undefined;\r\n    };\r\n    /**\r\n     * This method will update the selected tab.\r\n     * @param selectedTabIndex\r\n     */\r\n    WorkListContainer.prototype.selectTab = function (selectedTabIndex) {\r\n        if (!applicationStore.instance.isOnline) {\r\n            applicationActionCreator.checkActionInterrupted();\r\n        }\r\n        else {\r\n            if (selectedTabIndex !== this.props.selectedTab) {\r\n                this.props.switchTab(selectedTabIndex);\r\n                this.setState({\r\n                    isTileView: this.state.isTileView\r\n                });\r\n                this.getWorklistDataOnTabSwitch(selectedTabIndex);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Get worklist data on tab switch\r\n     * @param selectedTabIndex\r\n     */\r\n    WorkListContainer.prototype.getWorklistDataOnTabSwitch = function (selectedTabIndex) {\r\n        var examinerRoleID = qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId;\r\n        var worklistType = this.props.worklistType;\r\n        var remarkRequestType = this.props.remarkRequestType;\r\n        var isDirectedRemark = this.props.isDirectedRemark;\r\n        if (this.props.isMarkingCheckMode) {\r\n            examinerRoleID = worklistStore.instance.selectedMarkingCheckExaminer.examinerRoleID;\r\n            worklistType = enums.WorklistType.live;\r\n            remarkRequestType = enums.RemarkRequestType.Unknown;\r\n            isDirectedRemark = false;\r\n        }\r\n        var hasComplexOptionality = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ComplexOptionality, markingStore.instance.selectedQIGMarkSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        worklistActionCreator.notifyWorklistTypeChange(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, examinerRoleID, qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId, worklistType, selectedTabIndex, remarkRequestType, isDirectedRemark, qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember, false, this.props.isMarkingCheckMode, hasComplexOptionality);\r\n    };\r\n    /**\r\n     * Set the corresponding worklist data\r\n     */\r\n    WorkListContainer.prototype.setWorklistData = function () {\r\n        var worklistDetails = this.props.isRefreshing ? undefined :\r\n            worklistStore.instance.getWorklistDetails(this.props.worklistType, this.props.responseMode);\r\n        switch (this.props.responseMode) {\r\n            case enums.ResponseMode.open:\r\n                this.gridStyle = 'data-grid work-list-grid padding-top-15';\r\n                /** if the view is being refreshed on tab switch, clear the collection so that the view shows a loading indicator */\r\n                this.openWorklist = worklistDetails;\r\n                break;\r\n            case enums.ResponseMode.closed:\r\n                this.gridStyle = 'data-grid work-list-grid padding-top-15';\r\n                this.closedWorklist = worklistDetails;\r\n                break;\r\n            case enums.ResponseMode.pending:\r\n                this.gridStyle = 'data-grid work-list-grid';\r\n                this.pendingWorklist = worklistDetails;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * switch content in grid container according to response mode.\r\n     * @param responseMode\r\n     */\r\n    WorkListContainer.prototype.switchWorklistResponseMode = function (worklist) {\r\n        var gridTypeSelected;\r\n        gridTypeSelected = enums.GridType.tiled;\r\n        /* On switching grid view the style is updating twice for the animation to work.\r\n         * This checking will avoid duplicate calls on switching the grid view.  */\r\n        if (!this.state.isGridviewChanged) {\r\n            /* this will check which view(tiled/detailed) should be rendered */\r\n            if (this.state.isTileView) {\r\n                gridTypeSelected = enums.GridType.tiled;\r\n            }\r\n            else {\r\n                gridTypeSelected = enums.GridType.detailed;\r\n            }\r\n        }\r\n        //Sets the local variables with row data collection\r\n        this.setRowDefinitionCollections(gridTypeSelected, worklist);\r\n        var result;\r\n        var grid;\r\n        var gridTopArea;\r\n        var hasResponsesInWorklist = worklist.responses.count() > 0;\r\n        if (hasResponsesInWorklist || this.state.isGridviewChanged) {\r\n            grid = this.getWorklistComponent(this.props.worklistType);\r\n        }\r\n        // This section is not requred if filter is displayed\r\n        if (hasResponsesInWorklist && !markerOperationModeFactory.operationMode.isWorklistFilterShouldbeVisible\r\n            && !markerOperationModeFactory.operationMode.isTeamManagementMode) {\r\n            gridTopArea = this.gridTopArea;\r\n        }\r\n        result = (React.createElement(\"div\", { className: classNames({\r\n                'grid-holder tile-view': this.state.isGridviewChanged ? false : this.state.isTileView ? true : false,\r\n                'grid-holder grid-view': this.state.isGridviewChanged ? false : !this.state.isTileView ? true : false,\r\n                'grid-holder': this.state.isGridviewChanged\r\n            }) },\r\n            React.createElement(PendingWorklistBanner, { id: 'pendingworklistbannermessage', key: 'pendingworklistbanner', selectedLanguage: this.props.selectedLanguage, isVisible: markerOperationModeFactory.operationMode.shouldDisplayPendingWorklistBanner }),\r\n            React.createElement(WorklistFilter, { id: 'worklistFilter', key: 'worklistFilter', isVisible: markerOperationModeFactory.operationMode.isWorklistFilterShouldbeVisible, selectedFilter: this.state.selectedFilterType, onFilterChanged: this.onWorklistFilterSelected, markSchemeGroupId: qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId }),\r\n            gridTopArea,\r\n            grid));\r\n        return result;\r\n    };\r\n    Object.defineProperty(WorkListContainer.prototype, \"gridTopArea\", {\r\n        /**\r\n         * Get the top Area in the worklist\r\n         */\r\n        get: function () {\r\n            return (React.createElement(\"div\", { className: 'col-wrap grid-nav padding-bottom-15' },\r\n                React.createElement(\"div\", { className: 'col-3-of-12' }, (this.isSubmittButtonVisible()) ?\r\n                    (React.createElement(SubmitResponse, { id: this.props.id, key: 'key_' + this.props.id, isDisabled: this.isSubmitDisabled, selectedLanguage: this.props.selectedLanguage, isSubmitAll: true })) :\r\n                    '\\u00a0'),\r\n                React.createElement(\"div\", { className: 'col-9-of-12' }, this.getGridToggleButtons())));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     *  This method will returns the grid toggle buttons if the current marker operation mode is marking.\r\n     */\r\n    WorkListContainer.prototype.getGridToggleButtons = function () {\r\n        if (!(this.props.isTeamManagementMode || this.props.isMarkingCheckMode)) {\r\n            return (React.createElement(\"div\", { className: 'shift-right' },\r\n                React.createElement(\"ul\", { className: 'filter-menu' },\r\n                    React.createElement(\"li\", { className: 'switch-view-btn' },\r\n                        React.createElement(GridToggleButton, { key: 'gridtogglebuttonTile_key_' + this.props.id, id: 'gridtogglebuttonTile_' + this.props.id, toggleGridView: this.toggleGridView, isSelected: this.state.isTileView, buttonType: enums.GridType.tiled, selectedLanguage: this.props.selectedLanguage }),\r\n                        React.createElement(GridToggleButton, { key: 'gridtogglebuttonDetail_key_' + this.props.id, id: 'gridtogglebuttonDetail_' + this.props.id, toggleGridView: this.toggleGridView, isSelected: !this.state.isTileView, buttonType: enums.GridType.detailed, selectedLanguage: this.props.selectedLanguage })))));\r\n        }\r\n    };\r\n    /**\r\n     * Show live closed response list grid\r\n     */\r\n    WorkListContainer.prototype.showClosedGridContent = function () {\r\n        var result;\r\n        if (this.props.responseMode === enums.ResponseMode.closed) {\r\n            /** if live closed response list is filled show grid content */\r\n            if (this.closedWorklist) {\r\n                result = this.switchWorklistResponseMode(this.closedWorklist);\r\n            }\r\n            else {\r\n                result = this.props.isRefreshing ? this.loading : undefined;\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    /**\r\n     * Show live closed response list grid\r\n     */\r\n    WorkListContainer.prototype.showPendingGridContent = function () {\r\n        var result;\r\n        if (this.props.responseMode === enums.ResponseMode.pending) {\r\n            /** if live pending response list is filled show grid content */\r\n            if (this.pendingWorklist && this.pendingWorklist.responses.count() > 0) {\r\n                result = this.switchWorklistResponseMode(this.pendingWorklist);\r\n            }\r\n            else {\r\n                result = this.props.isRefreshing ? this.loading : undefined;\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    /**\r\n     * Show live open response list grid\r\n     */\r\n    WorkListContainer.prototype.showOpenGridContent = function (validationResponseAllocationButtonParam) {\r\n        var result;\r\n        var examinerQigStatus = targetHelper.getExaminerQigStatus();\r\n        var currentTarget = targetSummaryStore.instance.getCurrentTarget();\r\n        var isAggregateQIGTargetsON = qigStore.instance.isAggregatedQigCCEnabledForCurrentQig;\r\n        if (this.openWorklist && this.props.responseMode === enums.ResponseMode.open) {\r\n            /** if live open response is filled show grid content */\r\n            if (this.props.worklistType === enums.WorklistType.live ?\r\n                (this.openWorklist.concurrentLimit <= currentTarget.examinerProgress.atypicalOpenResponsesCount\r\n                    || this.openWorklist.responses.count() > 0)\r\n                : this.openWorklist.responses.count() > 0) {\r\n                result = this.switchWorklistResponseMode(this.openWorklist);\r\n            }\r\n            else if (markerOperationModeFactory.operationMode.shouldDisplayHelperMessage) {\r\n                if ((this.props.worklistType === enums.WorklistType.live) &&\r\n                    (examinerQigStatus === enums.ExaminerQIGStatus.LiveComplete\r\n                        || examinerQigStatus === enums.ExaminerQIGStatus.OverAllTargetCompleted)) {\r\n                    // Target reached worklist messages\r\n                    result = React.createElement(WorkListMessage, { id: 'workListMessage', key: 'workListMessage', selectedLanguage: this.props.selectedLanguage, hasTargetCompleted: true, hasResponsesAvailableInPool: false, isAggregateQIGTargetsON: isAggregateQIGTargetsON });\r\n                }\r\n                else if ((this.props.worklistType === enums.WorklistType.live) && this.openWorklist.unallocatedResponsesCount > 0\r\n                    && validationResponseAllocationButtonParam.IsWorklistInformationBannerVisible && !this.doShowBannerForOnDemand) {\r\n                    var concurrentLimit = isAggregateQIGTargetsON ?\r\n                        currentTarget.aggregatedMaximumConcurrentLimit - currentTarget.examinerProgress.atypicalOpenResponsesCount :\r\n                        currentTarget.maximumConcurrentLimit - currentTarget.examinerProgress.atypicalOpenResponsesCount;\r\n                    // live worklist messages\r\n                    result = React.createElement(WorkListMessage, { id: 'workListMessage', key: 'workListMessage', selectedLanguage: this.props.selectedLanguage, hasResponsesAvailableInPool: true, responseConcurrentLimit: concurrentLimit, isAggregateQIGTargetsON: isAggregateQIGTargetsON });\r\n                }\r\n                else if ((this.props.worklistType === enums.WorklistType.live) &&\r\n                    validationResponseAllocationButtonParam.IsWorklistInformationBannerVisible && !this.doShowBannerForOnDemand) {\r\n                    // live worklist messages\r\n                    result = React.createElement(WorkListMessage, { id: 'workListMessage', key: 'workListMessage', selectedLanguage: this.props.selectedLanguage, hasResponsesAvailableInPool: false });\r\n                }\r\n                else if (this.props.worklistType === enums.WorklistType.standardisation ||\r\n                    this.props.worklistType === enums.WorklistType.secondstandardisation) {\r\n                    // standardisation worklist awaiting approval message\r\n                    result = React.createElement(StandardisationWorklistMessage, { id: this.props.id, key: 'key_' + this.props.id, selectedLanguage: this.props.selectedLanguage });\r\n                }\r\n                else if (this.props.worklistType === enums.WorklistType.simulation &&\r\n                    validationResponseAllocationButtonParam.IsWorklistInformationBannerVisible) {\r\n                    var showResponseAvailableHelperMessage = (this.openWorklist.unallocatedResponsesCount > 0 && this.openWorklist.responses.count() === 0);\r\n                    result = React.createElement(WorkListMessage, { id: 'workListMessage', key: 'workListMessage', selectedLanguage: this.props.selectedLanguage, hasResponsesAvailableInPool: showResponseAvailableHelperMessage, isSimulation: true });\r\n                }\r\n                else {\r\n                    result = null;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            result = this.props.isRefreshing ? this.loading : undefined;\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * This method will call parent component function to toggle left panel\r\n     */\r\n    WorkListContainer.prototype.toggleLeftPanel = function () {\r\n        this.props.toggleLeftPanel();\r\n    };\r\n    /**\r\n     * Generating Grid Rows\r\n     */\r\n    WorkListContainer.prototype.getGridRows = function (liveOpenResponseList, worklistType, responseType, gridType, comparerName, sortDirection) {\r\n        return this.worklistHelper.generateRowDefinion(liveOpenResponseList, responseType, gridType);\r\n    };\r\n    /**\r\n     * Generating Grid Rows\r\n     */\r\n    WorkListContainer.prototype.getGridColumnHeaderRows = function (worklistType, responseType, comparerName, sortDirection) {\r\n        return this.worklistHelper.generateTableHeader(responseType, worklistType, comparerName, sortDirection);\r\n    };\r\n    /**\r\n     * Generating Grid Rows\r\n     */\r\n    WorkListContainer.prototype.getFrozenTableBodyRows = function (responseList, worklistType, responseType, comparerName, sortDirection) {\r\n        return this.worklistHelper.generateFrozenRowBody(responseList, responseType, worklistType);\r\n    };\r\n    /**\r\n     * Generating Grid Rows\r\n     */\r\n    WorkListContainer.prototype.getFrozenTableHeaderRow = function (responseList, worklistType, responseType, comparerName, sortDirection) {\r\n        return this.worklistHelper.generateFrozenRowHeader(responseList, responseType, worklistType, comparerName, sortDirection);\r\n    };\r\n    /**\r\n     * Handle animation of grid view toggle on componentDidUpdate\r\n     */\r\n    WorkListContainer.prototype.componentDidUpdate = function () {\r\n        this.triggerAnimation();\r\n        var buttonHolder = htmlUtilities.getElementsByClassName('response-button-holder');\r\n        var rightSpacer = htmlUtilities.getElementsByClassName('right-spacer');\r\n        if (buttonHolder.length > 0 && rightSpacer.length > 0) {\r\n            if (buttonHolder.length > 0) {\r\n                rightSpacer[0].style.paddingLeft = buttonHolder[0].clientWidth + 'px';\r\n            }\r\n            else {\r\n                rightSpacer[0].style.paddingLeft = '';\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handle animation of grid view toggle on componentDidMount\r\n     */\r\n    WorkListContainer.prototype.componentDidMount = function () {\r\n        examinerStore.instance.addListener(examinerStore.ExaminerStore.MARKER_INFO_UPDATED_EVENT, this.updateMarkerInformationPanel);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_NAVIGATION_EVENT, this.onNavigatetoResponse);\r\n        qigStore.instance.addListener(qigStore.QigStore.QIG_SELECTED_EVENT, this.resetSortAttributes);\r\n        this.triggerAnimation();\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.MARKING_CHECK_WORKLIST_ACCESS_STATUS_UPDATED, this.updateMarkCheckWorklistAccessMessage);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.WORKLIST_FILTER_CHANGED, this.onWorklistFilterChanged);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.MARK_CHECK_EXAMINERS_DATA_RETRIVED, this.reRender);\r\n        responseStore.instance.addListener(responseStore.ResponseStore.RESPONSE_ALLOCATED_EVENT, this.onResponseAllocated);\r\n    };\r\n    /**\r\n     * this will trigger the animation on grid view toggle.\r\n     */\r\n    WorkListContainer.prototype.triggerAnimation = function () {\r\n        if (this.state.isGridviewChanged) {\r\n            var that_1 = this;\r\n            /* setTimeout is used with delay 0 to work animation in Firefox and Chrome */\r\n            setTimeout(function () {\r\n                that_1.setState({\r\n                    isTileView: that_1.state.isTileView,\r\n                    isGridviewChanged: false\r\n                });\r\n                worklistActionCreator.setScrollWorklistColumns();\r\n            }, 0);\r\n        }\r\n    };\r\n    /**\r\n     * this will change the grid view (tile/detail).\r\n     */\r\n    WorkListContainer.prototype.toggleGridView = function () {\r\n        var isTileViewSelected = !this.state.isTileView;\r\n        /* Saving the selected grid view in user options */\r\n        userOptionsHelper.save(userOptionKeys.SELECTED_GRID_TYPE, String(isTileViewSelected), true);\r\n        this.setState({\r\n            isTileView: isTileViewSelected,\r\n            isGridviewChanged: true\r\n        });\r\n    };\r\n    /**\r\n     * returns whether the submitt all response button is visible or not.\r\n     */\r\n    WorkListContainer.prototype.isSubmittButtonVisible = function () {\r\n        // we don't need to display the submit button when the marker operation mode is TeamManagement or marking check\r\n        if (this.props.isTeamManagementMode || this.props.isMarkingCheckMode) {\r\n            return false;\r\n        }\r\n        else {\r\n            /* For an ecoursework component we have consider both allfilesviewed and submitenabled statuses\r\n               for showing submit button in open response */\r\n            var isSubmitEnabled = false;\r\n            if (this.props.responseMode === enums.ResponseMode.open) {\r\n                if (eCourseworkHelper.isECourseworkComponent) {\r\n                    isSubmitEnabled = this.openWorklist.responses.\r\n                        filter(function (x) { return x.isSubmitEnabled === true\r\n                        && x.allFilesViewed === true; }).count() > 0;\r\n                }\r\n                else {\r\n                    isSubmitEnabled = this.openWorklist.responses.\r\n                        filter(function (x) { return x.isSubmitEnabled === true; }).count() > 0;\r\n                }\r\n            }\r\n            if (!qigStore.instance.isAtypicalAvailable && this.props.responseMode === enums.ResponseMode.open\r\n                && this.props.worklistType === enums.WorklistType.atypical) {\r\n                isSubmitEnabled = false;\r\n            }\r\n            return isSubmitEnabled;\r\n        }\r\n    };\r\n    /**\r\n     *  Get grid rows and associated table rows ans ets associated local variables\r\n     */\r\n    WorkListContainer.prototype.setRowDefinitionCollections = function (gridTypeSelected, worklist) {\r\n        this.worklistHelper = worklistFactory.getWorklistHelper(this.props.worklistType);\r\n        if (!this.comparerName) {\r\n            this.setDefaultComparer();\r\n        }\r\n        if (this.isSortRequired() === true) {\r\n            // if the direction is descending the text 'Desc' is appending to the comparer name since all\r\n            // descending comparere has the same name followed by text 'Desc'\r\n            var _comparerName = (this.sortDirection === enums.SortDirection.Ascending) ? this.comparerName : this.comparerName + 'Desc';\r\n            worklist.responses = Immutable.List(sortHelper.sort(worklist.responses.toArray(), comparerList[_comparerName]));\r\n        }\r\n        // the below order of fecthing the grid data should be maintained.\r\n        this._gridRows = this.getGridRows(worklist, this.props.worklistType, this.props.responseMode, gridTypeSelected, this.comparerName, this.sortDirection);\r\n        this._gridColumnHeaderRows = this.getGridColumnHeaderRows(this.props.worklistType, this.props.responseMode, this.comparerName, this.sortDirection);\r\n        this._gridFrozenBodyRows = this.getFrozenTableBodyRows(worklist, this.props.worklistType, this.props.responseMode, this.comparerName, this.sortDirection);\r\n        this._gridFrozenHeaderRows = this.getFrozenTableHeaderRow(worklist, this.props.worklistType, this.props.responseMode, this.comparerName, this.sortDirection);\r\n    };\r\n    /**\r\n     * Set the comparer for the current worklist based on the worklisttype,qigId and responseMode\r\n     */\r\n    WorkListContainer.prototype.setDefaultComparer = function () {\r\n        var _this = this;\r\n        var defaultComparers = worklistStore.instance.responseSortDetails;\r\n        var qigId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n        var worklistType = this.props.worklistType;\r\n        var responseMode = this.props.responseMode;\r\n        var entry = defaultComparers.filter(function (x) {\r\n            return x.worklistType === worklistType && x.responseMode === responseMode\r\n                && x.qig === qigId && x.remarkRequestType === _this.props.remarkRequestType;\r\n        });\r\n        if (entry.length > 0) {\r\n            this.comparerName = comparerList[entry[0].comparerName];\r\n            this.sortDirection = entry[0].sortDirection;\r\n        }\r\n    };\r\n    /**\r\n     * Set the loading indicator\r\n     */\r\n    WorkListContainer.prototype.setLoadingindicator = function () {\r\n        if (this.props.hasTargetFound) {\r\n            this.loading = React.createElement(LoadingIndicator, { id: 'loading', key: 'loading', selectedLanguage: localeStore.instance.Locale, isOnline: applicationStore.instance.isOnline, cssClass: 'section-loader loading' });\r\n        }\r\n        else {\r\n            this.loading = null;\r\n        }\r\n    };\r\n    /**\r\n     * Method called when the user confirms navigation from message panel\r\n     */\r\n    WorkListContainer.prototype.onNavigatetoResponse = function (messageNavigationArguments) {\r\n        if (messageNavigationArguments.canNavigate && messageNavigationArguments.navigateTo === enums.MessageNavigation.toResponse) {\r\n            var openedResponseDetails = worklistStore.instance.getResponseDetails(messageNavigationArguments.responseId.toString());\r\n            responseHelper.openResponse(messageNavigationArguments.responseId, enums.ResponseNavigation.specific, worklistStore.instance.getResponseMode, openedResponseDetails.markGroupId, enums.ResponseViewMode.zoneView, messageNavigationArguments.triggerPoint);\r\n            // Ideally marking mode should be read from the opened response,\r\n            // since multiple marking modes won't come in the same worklist now this will work.\r\n            var selectedMarkingMode = worklistStore.instance.getMarkingModeByWorkListType(worklistStore.instance.currentWorklistType);\r\n            markSchemeHelper.getMarks(messageNavigationArguments.responseId, selectedMarkingMode);\r\n            eCourseworkHelper.fetchECourseWorkCandidateScriptMetadata(messageNavigationArguments.responseId);\r\n        }\r\n        else if (messageNavigationArguments.canNavigate && messageNavigationArguments.navigateTo === enums.SaveAndNavigate.toMenu) {\r\n            userInfoActionCreator.changeMenuVisibility();\r\n        }\r\n        else if (messageNavigationArguments.canNavigate &&\r\n            messageNavigationArguments.navigateTo === enums.SaveAndNavigate.toMarkingCheckWorklist) {\r\n            markingCheckActionCreator.getMarkCheckExaminers(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n        }\r\n    };\r\n    /**\r\n     * Call back function from table wrapper on sorting\r\n     */\r\n    WorkListContainer.prototype.onSortClick = function (comparerName, sortDirection) {\r\n        if (this.isSortRequired() === true) {\r\n            this.comparerName = comparerName;\r\n            this.sortDirection = sortDirection;\r\n            var sortDetails = {\r\n                worklistType: this.props.worklistType,\r\n                responseMode: this.props.responseMode,\r\n                qig: qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId,\r\n                comparerName: comparerList[this.comparerName],\r\n                sortDirection: this.sortDirection,\r\n                remarkRequestType: this.props.remarkRequestType\r\n            };\r\n            /* update the current sort order */\r\n            worklistActionCreator.onSortedClick(sortDetails);\r\n            // value is to prevent to set the min width of the grid columns\r\n            this.doSetMinWidth = false;\r\n            this.setState({ renderedOn: Date.now() });\r\n        }\r\n    };\r\n    Object.defineProperty(WorkListContainer.prototype, \"doShowBannerForOnDemand\", {\r\n        /**\r\n         * return boolean value  which showing the worklist message banner for on demand component.\r\n         */\r\n        get: function () {\r\n            var isAggregateQIGTargetsON = qigStore.instance.isAggregatedQigCCEnabledForCurrentQig;\r\n            var currentTarget = targetSummaryStore.instance.getCurrentTarget();\r\n            return isAggregateQIGTargetsON\r\n                && currentTarget.aggregatedOpenResponsesCount > 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return WorkListContainer;\r\n}(pureRenderComponent));\r\nmodule.exports = WorkListContainer;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTk4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvd29ya2xpc3Rjb250YWluZXIudHN4Pzg0ZWQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDplbmFibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBXb3JrTGlzdE1lc3NhZ2UgPSByZXF1aXJlKCcuL3NoYXJlZC93b3JrbGlzdG1lc3NhZ2UnKTtcclxuaW1wb3J0IEFsbG9jYXRlUmVzcG9uc2VCdXR0b24gPSByZXF1aXJlKCcuL3NoYXJlZC9hbGxvY2F0ZXJlc3BvbnNlYnV0dG9uJyk7XHJcbmltcG9ydCBHcmlkQ29udHJvbCA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvZ3JpZC9ncmlkY29udHJvbCcpO1xyXG5pbXBvcnQgd29ya0xpc3RIZWxwZXJCYXNlID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9ncmlkL3dvcmtsaXN0aGVscGVycy93b3JrbGlzdGhlbHBlcmJhc2UnKTtcclxuLy9pbXBvcnQgbGl2ZVdvcmtMaXN0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9ncmlkL3dvcmtsaXN0aGVscGVycy9saXZld29ya2xpc3RoZWxwZXInKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgR3JpZFRvZ2dsZUJ1dHRvbiA9IHJlcXVpcmUoJy4vc2hhcmVkL2dyaWR0b2dnbGVidXR0b24nKTtcclxuaW1wb3J0IFRhYkNvbnRyb2wgPSByZXF1aXJlKCcuLi91dGlsaXR5L3RhYi90YWJjb250cm9sJyk7XHJcbmltcG9ydCBUYWJDb250ZW50Q29udGFpbmVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS90YWIvdGFiY29udGVudGNvbnRhaW5lcicpO1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuaW1wb3J0IHVzZXJPcHRpb25zSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS91c2Vyb3B0aW9uL3VzZXJvcHRpb25zaGVscGVyJyk7XHJcbmltcG9ydCB1c2VyT3B0aW9uS2V5cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvdXNlcm9wdGlvbi91c2Vyb3B0aW9ua2V5cycpO1xyXG5pbXBvcnQgdGFyZ2V0U3VtbWFyeVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3RhcmdldHN1bW1hcnlzdG9yZScpO1xyXG5pbXBvcnQgbWFya2luZ1RhcmdldFN1bW1hcnkgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvd29ya2xpc3QvdHlwaW5ncy9tYXJraW5ndGFyZ2V0c3VtbWFyeScpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCByZXNwb25zZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3Jlc3BvbnNlL3Jlc3BvbnNlc3RvcmUnKTtcclxuaW1wb3J0IHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblZhbGlkYXRpb25IZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L3Jlc3BvbnNlYWxsb2NhdGlvbi9yZXNwb25zZWFsbG9jYXRpb25idXR0b252YWxpZGF0aW9uaGVscGVyJyk7XHJcbmltcG9ydCByZXNwb25zZUFsbG9jYXRpb25CdXR0b25WYWxpZGF0aW9uUGFyYW1ldGVyID1cclxucmVxdWlyZSgnLi4vdXRpbGl0eS9yZXNwb25zZWFsbG9jYXRpb24vcmVzcG9uc2VhbGxvY2F0aW9uYnV0dG9udmFsaWRhdGlvbnBhcmFtZXRlcicpO1xyXG5pbXBvcnQgd29ya2xpc3RBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy93b3JrbGlzdC93b3JrbGlzdGFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IG9wZW5SZXNwb25zZUFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL3Jlc3BvbnNlL3Jlc3BvbnNlYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgU3VibWl0UmVzcG9uc2UgPSByZXF1aXJlKCcuL3NoYXJlZC9zdWJtaXRyZXNwb25zZScpO1xyXG5pbXBvcnQgdXNlck9wdGlvbnNBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy91c2Vyb3B0aW9uL3VzZXJvcHRpb25hY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCB0YWJIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L3RhYi90YWJoZWxwZXInKTtcclxuaW1wb3J0IHRhcmdldEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvdGFyZ2V0L3RhcmdldGhlbHBlcicpO1xyXG5pbXBvcnQgbWFya2luZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL21hcmtpbmcvbWFya2luZ3N0b3JlJyk7XHJcbmltcG9ydCBtYXJrU2NoZW1lSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9tYXJrc2NoZW1lL21hcmtzY2hlbWVoZWxwZXInKTtcclxuaW1wb3J0IGV4YW1pbmVyU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbWFya2VyaW5mb3JtYXRpb24vZXhhbWluZXJzdG9yZScpO1xyXG5pbXBvcnQgcXVhbGl0eUZlZWRiYWNrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9xdWFsaXR5ZmVlZGJhY2svcXVhbGl0eWZlZWRiYWNraGVscGVyJyk7XHJcbmltcG9ydCB3b3JrbGlzdEZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3dvcmtsaXN0L3dvcmtsaXN0ZmFjdG9yeScpO1xyXG5pbXBvcnQgU3RhbmRhcmRpc2F0aW9uV29ya2xpc3RNZXNzYWdlID0gcmVxdWlyZSgnLi9zaGFyZWQvc3RhbmRhcmRpc2F0aW9ud29ya2xpc3RtZXNzYWdlJyk7XHJcbmltcG9ydCBXb3JrbGlzdFRhYmxlV3JhcHBlciA9IHJlcXVpcmUoJy4vd29ya2xpc3R0YWJsZXdyYXBwZXInKTtcclxuaW1wb3J0IHdvcmtsaXN0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS93b3JrbGlzdC93b3JrbGlzdGhlbHBlcicpO1xyXG5pbXBvcnQgTG9hZGluZ0luZGljYXRvciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvbG9hZGluZ2luZGljYXRvci9sb2FkaW5naW5kaWNhdG9yJyk7XHJcbmltcG9ydCBtZXNzYWdlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbWVzc2FnZS9tZXNzYWdlc3RvcmUnKTtcclxuaW1wb3J0IG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL21lc3NhZ2luZy9tZXNzYWdpbmdhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbnN0b3JlJyk7XHJcbmltcG9ydCBzb3J0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9zb3J0aW5nL3NvcnRoZWxwZXInKTtcclxuaW1wb3J0IGNvbXBhcmVyTGlzdCA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvc29ydGluZy9zb3J0YmFzZS9jb21wYXJlcmxpc3QnKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgQXR5cGljYWxTZWFyY2hCYXIgPSByZXF1aXJlKCcuL2F0eXBpY2Fsc2VhcmNoYmFyJyk7XHJcbmltcG9ydCByZXNwb25zZXNvcnRkZXRhaWxzID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9ncmlkL3Jlc3BvbnNlc29ydGRldGFpbHMnKTtcclxuaW1wb3J0IHVzZXJJbmZvQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvdXNlcmluZm8vdXNlcmluZm9hY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCByZXNwb25zZUhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvcmVzcG9uc2VoZWxwZXIvcmVzcG9uc2VoZWxwZXInKTtcclxuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XHJcbmltcG9ydCBNYXJraW5nQ2hlY2tJbmRpY2F0b3IgPSByZXF1aXJlKCcuL21hcmtpbmdjaGVja2luZGljYXRvcicpO1xyXG5pbXBvcnQgV29ya2xpc3RGaWx0ZXIgPSByZXF1aXJlKCcuL3dvcmtsaXN0ZmlsdGVyJyk7XHJcbmltcG9ydCBzdHJpbmdGb3JtYXRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3N0cmluZ2Zvcm1hdC9zdHJpbmdmb3JtYXRoZWxwZXInKTtcclxuaW1wb3J0IHRlYW1NYW5hZ2VtZW50U3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvdGVhbW1hbmFnZW1lbnQvdGVhbW1hbmFnZW1lbnRzdG9yZScpO1xyXG5pbXBvcnQgaHRtbFV0aWxpdGllcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZ2VuZXJpYy9odG1sdXRpbGl0aWVzJyk7XHJcbmltcG9ydCBtYXJraW5nQ2hlY2tBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9tYXJraW5nY2hlY2svbWFya2luZ2NoZWNrYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgZUNvdXJzZXdvcmtIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XHJcbmltcG9ydCBQZW5kaW5nV29ya2xpc3RCYW5uZXIgPSByZXF1aXJlKCcuL3NoYXJlZC9wZW5kaW5nd29ya2xpc3RiYW5uZXInKTtcclxuaW1wb3J0IGNvbnN0YW50cyA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvY29uc3RhbnRzJyk7XHJcbmltcG9ydCBzdHJpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2dlbmVyaWMvc3RyaW5naGVscGVyJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuLyoqXHJcbiAqIFN0YXRlIG9mIExpdmVXb3JrTGlzdCBjb21wb25lbnRcclxuICovXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgICByZW5kZXJlZE9uPzogbnVtYmVyO1xyXG4gICAgLyogQ3VycmVudGx5IHNlbGVjdGVkIHZpZXcgb2YgZ3JpZCAqL1xyXG4gICAgaXNUaWxlVmlldz86IGJvb2xlYW47XHJcbiAgICAvKiBUaGlzIGZsYWcgaXMgdXNlZCBpbmRpY2F0ZSB0aGF0IHRoZSB2aWV3IGlzIGNoYW5nZWQsIHRvIHN1cHBvcnQgYW5pbWF0aW9uICovXHJcbiAgICBpc0dyaWR2aWV3Q2hhbmdlZD86IGJvb2xlYW47XHJcblxyXG4gICAgaXNNYXJraW5nQ2hlY2tXb3JrbGlzdEFjY2Vzc1ByZXNlbnQ/OiBib29sZWFuO1xyXG4gICAgc2VsZWN0ZWRGaWx0ZXJUeXBlPzogZW51bXMuV29ya2xpc3RTZWVkRmlsdGVyO1xyXG59XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBhIGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIC8qKiB3aGljaCByZXNwb25zZSBtb2RlIHRoZSB3b3JrbGlzdCBpcyBvcGVuZWQgKi9cclxuICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlO1xyXG4gICAgdG9nZ2xlTGVmdFBhbmVsOiBGdW5jdGlvbjtcclxuICAgIHN3aXRjaFRhYjogRnVuY3Rpb247XHJcbiAgICAvKiogVGhlIGN1cnJlbnQgd29ya2xpc3QgdHlwZSAqL1xyXG4gICAgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGU7XHJcbiAgICB3b3JrbGlzdFRhYkRldGFpbHM6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz47XHJcbiAgICBzZWxlY3RlZFRhYj86IG51bWJlcjtcclxuICAgIHJlbWFya1JlcXVlc3RUeXBlOiBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZTtcclxuICAgIGlzRGlyZWN0ZWRSZW1hcms6IGJvb2xlYW47XHJcbiAgICAvKiogZmxhZyB0byBzaG93IGJ1c3kgaW5kaWNhdG9yIGluIHdvcmtsaXN0IHRhYnMgKi9cclxuICAgIGlzUmVmcmVzaGluZzogYm9vbGVhbjtcclxuICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBib29sZWFuO1xyXG4gICAgaXNNYXJraW5nQ2hlY2tNb2RlOiBib29sZWFuO1xyXG4gICAgaGFzVGFyZ2V0Rm91bmQ6IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgZm9yIGxpdmUgd29ya2xpc3RcclxuICovXHJcbmNsYXNzIFdvcmtMaXN0Q29udGFpbmVyIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuICAgIHByaXZhdGUgX2dyaWRSb3dzOiBJbW11dGFibGUuTGlzdDxSb3c+O1xyXG4gICAgcHJpdmF0ZSBfZ3JpZENvbHVtbkhlYWRlclJvd3M6IEltbXV0YWJsZS5MaXN0PFJvdz47XHJcbiAgICBwcml2YXRlIF9ncmlkRnJvemVuQm9keVJvd3M6IEltbXV0YWJsZS5MaXN0PFJvdz47XHJcbiAgICBwcml2YXRlIF9ncmlkRnJvemVuSGVhZGVyUm93czogSW1tdXRhYmxlLkxpc3Q8Um93PjtcclxuICAgIHByaXZhdGUgbWFya2luZ1RhcmdldHNTdW1tYXJ5OiBJbW11dGFibGUuTGlzdDxtYXJraW5nVGFyZ2V0U3VtbWFyeT47XHJcbiAgICBwcml2YXRlIGlzR3JhY2VUYWJWaXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgb3BlbldvcmtsaXN0OiBhbnk7XHJcbiAgICBwcml2YXRlIGNsb3NlZFdvcmtsaXN0OiBhbnk7XHJcbiAgICBwcml2YXRlIHBlbmRpbmdXb3JrbGlzdDogYW55O1xyXG4gICAgcHJpdmF0ZSBncmlkU3R5bGU6IHN0cmluZyA9ICcnO1xyXG4gICAgcHJpdmF0ZSBpc0F0eXBpY2FsQ2VudGVyTnVtYmVyOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGlzQXR5cGljYWxDYW5kaWRhdGVOdW1iZXI6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgZ2V0TmV3UmVzcG9uc2VCdXR0b246IEpTWC5FbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBpc1N1Ym1pdERpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHdvcmtsaXN0SGVscGVyOiB3b3JrbGlzdEhlbHBlcjtcclxuICAgIHByaXZhdGUgbG9hZGluZzogSlNYLkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzOiBNZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cztcclxuXHJcbiAgICBwcml2YXRlIGNvbXBhcmVyTmFtZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uO1xyXG5cclxuICAgIHByaXZhdGUgaXNFcnJvck9jY3VyZWRJbldob2xlUmVzcG9uc2VBbGxvY2F0aW9uOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGRvU2V0TWluV2lkdGg6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IFN0YXRlKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgICAgICB0aGlzLnNldExvYWRpbmdpbmRpY2F0b3IoKTtcclxuXHJcbiAgICAgICAgLyogZ2V0dGluZyB1c2VyIHByZWZlcmVuY2UgZm9yIHRoZSBncmlkIHZpZXcgKi9cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpc1RpbGVWaWV3OiB0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlIHx8IHRoaXMucHJvcHMuaXNNYXJraW5nQ2hlY2tNb2RlID8gZmFsc2UgOlxyXG4gICAgICAgICAgICAgICAgdXNlck9wdGlvbnNIZWxwZXIuZ2V0VXNlck9wdGlvbkJ5TmFtZSh1c2VyT3B0aW9uS2V5cy5TRUxFQ1RFRF9HUklEX1RZUEUpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzR3JpZHZpZXdDaGFuZ2VkOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNNYXJraW5nQ2hlY2tXb3JrbGlzdEFjY2Vzc1ByZXNlbnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBzZWxlY3RlZEZpbHRlclR5cGU6IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRGaWx0ZXJEZXRhaWxzLmdldChcclxuICAgICAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UuZXhhbWluZXJEcmlsbERvd25EYXRhID9cclxuICAgICAgICAgICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyRHJpbGxEb3duRGF0YS5leGFtaW5lclJvbGVJZCA6IDAsIGVudW1zLldvcmtsaXN0U2VlZEZpbHRlci5BbGwpXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyByZXNldHRpbmcgdGhlIGNvbXBhcmVyIGF0IHN0YXJ0XHJcbiAgICAgICAgdGhpcy5yZXNldFNvcnRBdHRyaWJ1dGVzKCk7XHJcblxyXG4gICAgICAgIHRoaXMudG9nZ2xlTGVmdFBhbmVsID0gdGhpcy50b2dnbGVMZWZ0UGFuZWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnNlbGVjdFRhYiA9IHRoaXMuc2VsZWN0VGFiLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVHcmlkVmlldyA9IHRoaXMudG9nZ2xlR3JpZFZpZXcuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uU29ydENsaWNrID0gdGhpcy5vblNvcnRDbGljay5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVzZXRTb3J0QXR0cmlidXRlcyA9IHRoaXMucmVzZXRTb3J0QXR0cmlidXRlcy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25SZXNwb25zZUFsbG9jYXRlZCA9IHRoaXMub25SZXNwb25zZUFsbG9jYXRlZC5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIG1ldGhvZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIHRoaXMuc2V0TG9hZGluZ2luZGljYXRvcigpO1xyXG4gICAgICAgIC8qIGlmIHRoZXJlIGFyZSBubyBtYXRjaCBhbmQgdGhlIGRhdGEgaGFzIG5vdCBiZWVuIGxvYWRlZCwgc2hvdyBidXN5IGluZGljYXRvciAqL1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLndvcmtsaXN0VHlwZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMucHJvcHMud29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUubm9uZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkaW5nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMud29ya2xpc3RIZWxwZXIgPSB3b3JrbGlzdEZhY3RvcnkuZ2V0V29ya2xpc3RIZWxwZXIodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFdvcmtsaXN0RGF0YSgpO1xyXG4gICAgICAgICAgICBsZXQgdmFsaWRhdGlvblJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblZhbGlkYXRpb25QYXJhbTogcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVmFsaWRhdGlvblBhcmFtZXRlciA9XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZUFsbG9jYXRpb25CdXR0b25WYWxpZGF0aW9uSGVscGVyLnZhbGlkYXRlKHRoaXMub3BlbldvcmtsaXN0LCB0YXJnZXRIZWxwZXIuZ2V0RXhhbWluZXJRaWdTdGF0dXMoKSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRIZWxwZXIuZ2V0RXhhbWluZXJBcHByb3ZhbCgpLCB0aGlzLnByb3BzLndvcmtsaXN0VHlwZSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlbWFya1JlcXVlc3RUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGUgfHwgdGhpcy5wcm9wcy5pc01hcmtpbmdDaGVja01vZGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zaG93SGlkZUFsbG9jYXRlTmV3UmVzcG9uc2VCdXR0b24odmFsaWRhdGlvblJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblZhbGlkYXRpb25QYXJhbSk7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTdWJtaXREaXNhYmxlZCA9IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTdWJtaXREaXNhYmxlZCh0aGlzLnByb3BzLndvcmtsaXN0VHlwZSk7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50VGFyZ2V0ID0gdGFyZ2V0U3VtbWFyeVN0b3JlLmluc3RhbmNlLmdldEN1cnJlbnRUYXJnZXQoKTtcclxuICAgICAgICAgICAgbGV0IGF0eXBpY2FsU2VhcmNoVmlzaWJsZTogYm9vbGVhbiA9IHRoaXMucHJvcHMud29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuYXR5cGljYWxcclxuICAgICAgICAgICAgICAgICYmICF0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlO1xyXG5cclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlRG93bmxvYWRCdXR0b246IEpTWC5FbGVtZW50ID0gYXR5cGljYWxTZWFyY2hWaXNpYmxlID9cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0QXR5cGljYWxTZWFyY2hCYXIoKSA6XHJcbiAgICAgICAgICAgICAgICAoPGRpdiBjbGFzc05hbWU9J2dldC1yZXNwb25zZS13cmFwcGVyJz5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXROZXdSZXNwb25zZUJ1dHRvbn1cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5tYXJraW5nQ2hlY2tDb21wbGV0ZUJ1dHRvbigpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+KTtcclxuICAgICAgICAgICAgbGV0IHN0eWxlUGFuZWw6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogMFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudCA9IGh0bWxVdGlsaXRpZXMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ2V0LXJlc3BvbnNlLXdyYXBwZXInKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZGVkIGZvciBzdHlsaW5nIHRoZSB3b3JrbGlzdCB3aGVuIHRoZXJlIGlzIG5vIGdldCBuZXcgcmVzcG9uc2UgYnV0dG9uLlxyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXROZXdSZXNwb25zZUJ1dHRvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVBhbmVsID0geyBtaW5XaWR0aDogMCB9O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQubGVuZ3RoID4gMCAmJiB0aGlzLnByb3BzLnJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4pIHtcclxuICAgICAgICAgICAgICAgIGxldCBtaW53aWR0aCA9IGVsZW1lbnRbMF0uY2xpZW50V2lkdGg7XHJcbiAgICAgICAgICAgICAgICBzdHlsZVBhbmVsID0geyBtaW5XaWR0aDogbWlud2lkdGggfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2x1bW4tcmlnaHQgdGFiLWhvbGRlciBob3Jpem9udGFsIHJlc3BvbnNlLXRhYnMnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ndG9nZ2xlLWxlZnQtcGFuZWwnIGlkPXsndG9nZ2xlUGFuZWwnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pc01hcmtpbmdDaGVja01vZGUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5wZXJmb3JtLW1hcmtpbmctY2hlY2suc2hvdy1oaWRlLWxlZnQtcGFuZWwtdG9vbHRpcCcpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QubGVmdC1wYW5lbC5zaG93LWhpZGUtcGFuZWwtdG9vbHRpcCcpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZUxlZnRQYW5lbH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3ByaXRlLWljb24gcGFuZWwtdG9nZ2xlLWljb24nPnBhbmVsIHRvZ2dsZTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3dyYXBwZXInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TWFya2luZ0NoZWNrSW5kaWNhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0nbWFya2luZ19DaGVja19Xb3JrbGlzdF9BY2Nlc3NfSW5kaWNhdG9yJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PSdtYXJraW5nX0NoZWNrX1dvcmtsaXN0X0FjY2Vzc19JbmRpY2F0b3InXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01hcmtpbmdDaGVja0F2YWlsYWJsZT17d29ya2xpc3RTdG9yZS5pbnN0YW5jZS5pc01hcmtpbmdDaGVja1dvcmtsaXN0QWNjZXNzUHJlc2VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWFya0NoZWNrV29ya2xpc3Q9e3RoaXMucHJvcHMuaXNNYXJraW5nQ2hlY2tNb2RlfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjbGFzc05hbWVzKCdjbGVhcmZpeCB3bC1wYWdlLWhlYWRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGVhZGVyLXNlYXJjaCAnOiBhdHlwaWNhbFNlYXJjaFZpc2libGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0YWJzLTInOiAocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5oYXNHcmFjZVBlcmlvZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIShjdXJyZW50VGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxQZW5kaW5nUmVzcG9uc2VzQ291bnQgPiAwKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR5cGljYWxTZWFyY2hWaXNpYmxlKSA/IHRydWUgOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRXb3JrbGlzdEhlYWRlcigpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RhYi1uYXYtaG9sZGVyJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFiQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJIZWFkZXJzPXt0YWJIZWxwZXIuZ2V0VGFiSGVhZGVyRGF0YSh0aGlzLnByb3BzLndvcmtsaXN0VGFiRGV0YWlscywgdGhpcy5wcm9wcy5zZWxlY3RlZFRhYil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFRhYj17dGhpcy5zZWxlY3RUYWJ9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdyZXNwb25zZS1idXR0b24taG9sZGVyIGFycm93LXRhYiAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2F0eXBpY2FsLXNlYXJjaCAnOiBhdHlwaWNhbFNlYXJjaFZpc2libGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX0gc3R5bGU9e3N0eWxlUGFuZWx9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnYXJyb3ctbGluaycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZXJ0aWNhbC1taWRkbGUnOiBhdHlwaWNhbFNlYXJjaFZpc2libGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVzcG9uc2VEb3dubG9hZEJ1dHRvbn0gPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0YWItcmlnaHQtZW5kIGFycm93LXRhYic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Fycm93LWxpbmsnPiA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYkNvbnRlbnRDb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkT249e3RoaXMuc3RhdGUucmVuZGVyZWRPbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYkNvbnRlbnRzPXt0aGlzLmdldFRhYkRhdGEodmFsaWRhdGlvblJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblZhbGlkYXRpb25QYXJhbSl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVbnN1YnNjcmliZSBldmVudHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIod29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLk1BUktJTkdfQ0hFQ0tfV09SS0xJU1RfQUNDRVNTX1NUQVRVU19VUERBVEVELFxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hcmtDaGVja1dvcmtsaXN0QWNjZXNzTWVzc2FnZSk7XHJcbiAgICAgICAgZXhhbWluZXJTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihleGFtaW5lclN0b3JlLkV4YW1pbmVyU3RvcmUuTUFSS0VSX0lORk9fVVBEQVRFRF9FVkVOVCwgdGhpcy51cGRhdGVNYXJrZXJJbmZvcm1hdGlvblBhbmVsKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX05BVklHQVRJT05fRVZFTlQsIHRoaXMub25OYXZpZ2F0ZXRvUmVzcG9uc2UpO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHFpZ1N0b3JlLlFpZ1N0b3JlLlFJR19TRUxFQ1RFRF9FVkVOVCwgdGhpcy5yZXNldFNvcnRBdHRyaWJ1dGVzKTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHdvcmtsaXN0U3RvcmUuV29ya0xpc3RTdG9yZS5XT1JLTElTVF9GSUxURVJfQ0hBTkdFRCwgdGhpcy5vbldvcmtsaXN0RmlsdGVyQ2hhbmdlZCk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcih3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuTUFSS19DSEVDS19FWEFNSU5FUlNfREFUQV9SRVRSSVZFRCwgdGhpcy5yZVJlbmRlcik7XHJcbiAgICAgICAgcmVzcG9uc2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihyZXNwb25zZVN0b3JlLlJlc3BvbnNlU3RvcmUuUkVTUE9OU0VfQUxMT0NBVEVEX0VWRU5ULCB0aGlzLm9uUmVzcG9uc2VBbGxvY2F0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcGFyaW5nIHRoZSBwcm9wcyB0byBjaGVjayB0aGUgdXBkYXRzIGFyZSBtYWRlIGJ5IHNlbGZcclxuICAgICAqIEBwYXJhbSB7UHJvcHN9IG5leHRQcm9wc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IFByb3BzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMud29ya2xpc3RUeXBlICE9PSBuZXh0UHJvcHMud29ya2xpc3RUeXBlIHx8IHRoaXMucHJvcHMucmVzcG9uc2VNb2RlICE9PSBuZXh0UHJvcHMucmVzcG9uc2VNb2RlXHJcbiAgICAgICAgICAgIHx8IHRoaXMucHJvcHMucmVtYXJrUmVxdWVzdFR5cGUgIT09IG5leHRQcm9wcy5yZW1hcmtSZXF1ZXN0VHlwZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0U29ydEF0dHJpYnV0ZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNUZWFtTWFuYWdlbWVudE1vZGUgfHxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5pc01hcmtpbmdDaGVja01vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpc1RpbGVWaWV3OiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGlzVGlsZVZpZXc6IHVzZXJPcHRpb25zSGVscGVyLmdldFVzZXJPcHRpb25CeU5hbWUodXNlck9wdGlvbktleXMuU0VMRUNURURfR1JJRF9UWVBFKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgcGFzcyB0byBncmlkIGNvbnRyb2wgYXMgYSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICAgKi9cclxuICAgIHByaXZhdGUgaGFuZGxlVGlsZUNsaWNrID0gKHJlc3BvbnNlSWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICghYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5pc09ubGluZSkge1xyXG4gICAgICAgICAgICBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IuY2hlY2tBY3Rpb25JbnRlcnJ1cHRlZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBpc1RpbGVWaWV3OiBib29sZWFuID0gdXNlck9wdGlvbnNIZWxwZXIuZ2V0VXNlck9wdGlvbkJ5TmFtZShcclxuICAgICAgICAgICAgICAgIHVzZXJPcHRpb25LZXlzLlNFTEVDVEVEX0dSSURfVFlQRSkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyA9IHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHJlc3BvbnNlSWQsXHJcbiAgICAgICAgICAgICAgICBjYW5OYXZpZ2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRlVG86IGVudW1zLk1lc3NhZ2VOYXZpZ2F0aW9uLnRvUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uQ29uZmlybWVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGhhc01lc3NhZ2VDb250YWluc0RpcnR5VmFsdWU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJQb2ludDogZW51bXMuVHJpZ2dlclBvaW50Lk5vbmVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKGlzVGlsZVZpZXcpIHtcclxuICAgICAgICAgICAgICAgIGlmICghbWVzc2FnZVN0b3JlLmluc3RhbmNlLmlzTWVzc2FnZVBhbmVsQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk5hdmlnYXRldG9SZXNwb25zZSh0aGlzLm1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiBtZXNzYWdlIHBhbmVsIGlzIGFjdGl2ZSBjYWxsIHRoZSBuYXZpZ2F0aW9uIGFjdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLmNhbk5hdmlnYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5uYXZpZ2F0aW9uQ29uZmlybWVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5jYW5NZXNzYWdlTmF2aWdhdGUodGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFya2luZyBjaGVjayBDb21wbGV0ZSBidXR0b24gZGV0YWlsc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcmtpbmdDaGVja0NvbXBsZXRlQnV0dG9uKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuaXNSZWZyZXNoaW5nICYmIHRoaXMucHJvcHMuaXNNYXJraW5nQ2hlY2tNb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPGJ1dHRvbiBjbGFzc05hbWU9J3ByaW1hcnkgcm91bmRlZCBsYXJnZSBkb3dubG9hZC1yc3AtYnRuIHNwbGl0LWJ0biBwb3B1cC1uYXYnXHJcbiAgICAgICAgICAgICAgICBpZD17J21hcmtpbmdfY2hlY2tfQ29tcGxldGVfYnV0dG9uX2lkJ31cclxuICAgICAgICAgICAgICAgIGtleT17J21hcmtpbmdfY2hlY2tfQ29tcGxldGVfYnV0dG9uX2tleSd9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLk9uTWFya0NoZWNrQ29tcGxldGVDTGlja31cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtmYWxzZX0+XHJcbiAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5wZXJmb3JtLW1hcmtpbmctY2hlY2suc2V0LW1hcmtpbmctYXMtY2hlY2tlZC1idXR0b24nKX1cclxuICAgICAgICAgICAgPC9idXR0b24+KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93L0hpZGUgYWxsb2NhdGUgbmV3IHJlc3BvbnNlIGJ1dHRvblxyXG4gICAgICogQHBhcmFtIHZhbGlkYXRpb25SZXNwb25zZUFsbG9jYXRpb25CdXR0b25QYXJhbVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNob3dIaWRlQWxsb2NhdGVOZXdSZXNwb25zZUJ1dHRvbih2YWxpZGF0aW9uUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uUGFyYW06IHJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblZhbGlkYXRpb25QYXJhbWV0ZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAoKHRoaXMucHJvcHMud29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZSB8fCB0aGlzLnByb3BzLndvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnBvb2xlZFJlbWFya1xyXG4gICAgICAgICAgICB8fCB0aGlzLnByb3BzLndvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnNpbXVsYXRpb24pXHJcbiAgICAgICAgICAgICYmIHRoaXMucHJvcHMuc2VsZWN0ZWRUYWIgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuXHJcbiAgICAgICAgICAgICYmIHRoaXMucHJvcHMucmVzcG9uc2VNb2RlID09PSBlbnVtcy5SZXNwb25zZU1vZGUub3BlblxyXG4gICAgICAgICAgICAmJiAhdGhpcy5wcm9wcy5pc1JlZnJlc2hpbmdcclxuICAgICAgICAgICAgJiYgIXRoaXMucHJvcHMuaXNNYXJraW5nQ2hlY2tNb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0TmV3UmVzcG9uc2VCdXR0b24gPSB2YWxpZGF0aW9uUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uUGFyYW0uSXNSZXNwb25zZUFsbG9jYXRlQnV0dG9uVmlzaWJsZSA/XHJcbiAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgPEFsbG9jYXRlUmVzcG9uc2VCdXR0b24gaWQ9J2dldE5ld1Jlc3BvbnNlQnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9J2dldE5ld1Jlc3BvbnNlQnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXt2YWxpZGF0aW9uUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uUGFyYW0uUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRW5hYmxlZD17dmFsaWRhdGlvblJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblBhcmFtLklzUmVzcG9uc2VBbGxvY2F0ZUJ1dHRvbkVuYWJsZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0VHlwZT17dGhpcy5wcm9wcy53b3JrbGlzdFR5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbk1haW5UZXh0PXt2YWxpZGF0aW9uUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uUGFyYW0uUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uTWFpblRleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblN1YlRleHQ9e3ZhbGlkYXRpb25SZXNwb25zZUFsbG9jYXRpb25CdXR0b25QYXJhbS5SZXNwb25zZUFsbG9jYXRpb25CdXR0b25TdWJUZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25TaW5nbGVSZXNwb25zZVRleHQ9e3ZhbGlkYXRpb25SZXNwb25zZUFsbG9jYXRpb25CdXR0b25QYXJhbS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblNpbmdsZVJlc3BvbnNlVGV4dH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uVXBUb09wZW5SZXNwb25zZUxpbWl0VGV4dD17dmFsaWRhdGlvblJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblBhcmFtLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVXBUb09wZW5SZXNwb25zZVRleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzV2hvbGVSZXNwb25zZUJ1dHRvbkF2YWlsYWJsZT17dmFsaWRhdGlvblJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblBhcmFtLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNXaG9sZVJlc3BvbnNlUmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uQXZhaWxhYmxlICYmICF0aGlzLmlzRXJyb3JPY2N1cmVkSW5XaG9sZVJlc3BvbnNlQWxsb2NhdGlvbn0gLz4pIDogbnVsbDtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5nZXROZXdSZXNwb25zZUJ1dHRvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGVuIHRoZSBtYXJrY2hlY2sgQ29tcGxldGUgYnV0dG9uIGlzIGNsaWNrZWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBPbk1hcmtDaGVja0NvbXBsZXRlQ0xpY2soKTogdm9pZCB7XHJcbiAgICAgICAgd29ya2xpc3RBY3Rpb25DcmVhdG9yLm1hcmtpbmdDaGVja0NvbXBsZXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIHdpbGwgcmV0dXJucyB0aGUgdGFiIGNvbnRlbnRzXHJcbiAgICAgKiBAcGFyYW0gdmFsaWRhdGlvblJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblZhbGlkYXRpb25QYXJhbVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFRhYkRhdGEodmFsaWRhdGlvblJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblZhbGlkYXRpb25QYXJhbTogcmVzcG9uc2VBbGxvY2F0aW9uQnV0dG9uVmFsaWRhdGlvblBhcmFtZXRlcik6IEFycmF5PGFueT4ge1xyXG5cclxuICAgICAgICBsZXQgdGFiQ29udGVudHM6IEFycmF5PGFueT4gPSBbXTtcclxuICAgICAgICBsZXQgdGFiVG9CZVNlbGVjdGVkOiBlbnVtcy5SZXNwb25zZU1vZGUgPSBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLnRhYlRvQmVTZWxlY3RlZCh0aGlzLnByb3BzLnNlbGVjdGVkVGFiKTtcclxuXHJcbiAgICAgICAgdGFiQ29udGVudHMucHVzaCh7XHJcbiAgICAgICAgICAgIGluZGV4OiBlbnVtcy5SZXNwb25zZU1vZGUub3BlbixcclxuICAgICAgICAgICAgY2xhc3M6ICd0YWItY29udGVudCByZXNwLW9wZW4nLFxyXG4gICAgICAgICAgICBpc1NlbGVjdGVkOiB0YWJUb0JlU2VsZWN0ZWQgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuLFxyXG4gICAgICAgICAgICBpZDogJ3Jlc3BvbnNlVGFiX09wZW4nLFxyXG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLnNob3dPcGVuR3JpZENvbnRlbnQodmFsaWRhdGlvblJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblZhbGlkYXRpb25QYXJhbSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5pc0dyYWNlVGFiVmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0YWJDb250ZW50cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZyxcclxuICAgICAgICAgICAgICAgIGNsYXNzOiAnd3JhcHBlciB0YWItY29udGVudCByZXNwLWdyYWNlJyxcclxuICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IHRhYlRvQmVTZWxlY3RlZCA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcsXHJcbiAgICAgICAgICAgICAgICBpZDogJ3Jlc3BvbnNlVGFiX1BlbmRpbmcnLFxyXG4gICAgICAgICAgICAgICAgY29udGVudDogdGhpcy5zaG93UGVuZGluZ0dyaWRDb250ZW50KClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhYkNvbnRlbnRzLnB1c2goe1xyXG4gICAgICAgICAgICBpbmRleDogZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgY2xhc3M6ICd3cmFwcGVyIHRhYi1jb250ZW50IHJlc3AtY2xvc2VkJyxcclxuICAgICAgICAgICAgaXNTZWxlY3RlZDogdGFiVG9CZVNlbGVjdGVkID09PSBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLFxyXG4gICAgICAgICAgICBpZDogJ3Jlc3BvbnNlVGFiX0Nsb3NlZCcsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuc2hvd0Nsb3NlZEdyaWRDb250ZW50KClcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGFiQ29udGVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldHMgdGhlIGNvbXBhcmVyIGFuZCBzb3J0IG9yZGVyXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVzZXRTb3J0QXR0cmlidXRlcygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNvbXBhcmVyTmFtZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLnNvcnREaXJlY3Rpb24gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHVwZGF0ZSB0aGUgc2VsZWN0ZWQgdGFiLlxyXG4gICAgICogQHBhcmFtIHNlbGVjdGVkVGFiSW5kZXhcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RUYWIoc2VsZWN0ZWRUYWJJbmRleDogYW55KSB7XHJcbiAgICAgICAgaWYgKCFhcHBsaWNhdGlvblN0b3JlLmluc3RhbmNlLmlzT25saW5lKSB7XHJcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uQWN0aW9uQ3JlYXRvci5jaGVja0FjdGlvbkludGVycnVwdGVkKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVGFiSW5kZXggIT09IHRoaXMucHJvcHMuc2VsZWN0ZWRUYWIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc3dpdGNoVGFiKHNlbGVjdGVkVGFiSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNUaWxlVmlldzogdGhpcy5zdGF0ZS5pc1RpbGVWaWV3XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0V29ya2xpc3REYXRhT25UYWJTd2l0Y2goc2VsZWN0ZWRUYWJJbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgd29ya2xpc3QgZGF0YSBvbiB0YWIgc3dpdGNoXHJcbiAgICAgKiBAcGFyYW0gc2VsZWN0ZWRUYWJJbmRleFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFdvcmtsaXN0RGF0YU9uVGFiU3dpdGNoKHNlbGVjdGVkVGFiSW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBleGFtaW5lclJvbGVJRDogbnVtYmVyID0gcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQ7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0VHlwZTogbnVtYmVyID0gdGhpcy5wcm9wcy53b3JrbGlzdFR5cGU7XHJcbiAgICAgICAgbGV0IHJlbWFya1JlcXVlc3RUeXBlOiBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZSA9IHRoaXMucHJvcHMucmVtYXJrUmVxdWVzdFR5cGU7XHJcbiAgICAgICAgbGV0IGlzRGlyZWN0ZWRSZW1hcms6IGJvb2xlYW4gPSB0aGlzLnByb3BzLmlzRGlyZWN0ZWRSZW1hcms7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzTWFya2luZ0NoZWNrTW9kZSkge1xyXG4gICAgICAgICAgICBleGFtaW5lclJvbGVJRCA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRNYXJraW5nQ2hlY2tFeGFtaW5lci5leGFtaW5lclJvbGVJRDtcclxuICAgICAgICAgICAgd29ya2xpc3RUeXBlID0gZW51bXMuV29ya2xpc3RUeXBlLmxpdmU7XHJcbiAgICAgICAgICAgIHJlbWFya1JlcXVlc3RUeXBlID0gZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUuVW5rbm93bjtcclxuICAgICAgICAgICAgaXNEaXJlY3RlZFJlbWFyayA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGhhc0NvbXBsZXhPcHRpb25hbGl0eSA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcy5Db21wbGV4T3B0aW9uYWxpdHksXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR01hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgd29ya2xpc3RBY3Rpb25DcmVhdG9yLm5vdGlmeVdvcmtsaXN0VHlwZUNoYW5nZShxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgZXhhbWluZXJSb2xlSUQsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLnF1ZXN0aW9uUGFwZXJQYXJ0SWQsXHJcbiAgICAgICAgICAgIHdvcmtsaXN0VHlwZSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRUYWJJbmRleCxcclxuICAgICAgICAgICAgcmVtYXJrUmVxdWVzdFR5cGUsXHJcbiAgICAgICAgICAgIGlzRGlyZWN0ZWRSZW1hcmssXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXIsXHJcbiAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmlzTWFya2luZ0NoZWNrTW9kZSxcclxuICAgICAgICAgICAgaGFzQ29tcGxleE9wdGlvbmFsaXR5KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgY29ycmVzcG9uZGluZyB3b3JrbGlzdCBkYXRhXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2V0V29ya2xpc3REYXRhKCkge1xyXG4gICAgICAgIGxldCB3b3JrbGlzdERldGFpbHM6IFdvcmtsaXN0QmFzZSA9IHRoaXMucHJvcHMuaXNSZWZyZXNoaW5nID8gdW5kZWZpbmVkIDpcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRXb3JrbGlzdERldGFpbHModGhpcy5wcm9wcy53b3JrbGlzdFR5cGUsIHRoaXMucHJvcHMucmVzcG9uc2VNb2RlKTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMucmVzcG9uc2VNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWRTdHlsZSA9ICdkYXRhLWdyaWQgd29yay1saXN0LWdyaWQgcGFkZGluZy10b3AtMTUnO1xyXG4gICAgICAgICAgICAgICAgLyoqIGlmIHRoZSB2aWV3IGlzIGJlaW5nIHJlZnJlc2hlZCBvbiB0YWIgc3dpdGNoLCBjbGVhciB0aGUgY29sbGVjdGlvbiBzbyB0aGF0IHRoZSB2aWV3IHNob3dzIGEgbG9hZGluZyBpbmRpY2F0b3IgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMub3BlbldvcmtsaXN0ID0gd29ya2xpc3REZXRhaWxzO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZDpcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JpZFN0eWxlID0gJ2RhdGEtZ3JpZCB3b3JrLWxpc3QtZ3JpZCBwYWRkaW5nLXRvcC0xNSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlZFdvcmtsaXN0ID0gd29ya2xpc3REZXRhaWxzO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWRTdHlsZSA9ICdkYXRhLWdyaWQgd29yay1saXN0LWdyaWQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nV29ya2xpc3QgPSB3b3JrbGlzdERldGFpbHM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGdyaWQgY29udHJvbCBpZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEdyaWRDb250cm9sSWQgPSAoKTogc3RyaW5nID0+IHtcclxuXHJcbiAgICAgICAgbGV0IGdyaWRJZDogc3RyaW5nID0gZW51bXMuV29ya2xpc3RUeXBlW3RoaXMucHJvcHMud29ya2xpc3RUeXBlXSArICdfJ1xyXG4gICAgICAgICAgICArIGVudW1zLlJlc3BvbnNlTW9kZVt0aGlzLnByb3BzLnJlc3BvbnNlTW9kZV0gKyAnX2dyaWRfJyArIHRoaXMucHJvcHMuaWQ7XHJcblxyXG4gICAgICAgIHJldHVybiBncmlkSWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogc3dpdGNoIGNvbnRlbnQgaW4gZ3JpZCBjb250YWluZXIgYWNjb3JkaW5nIHRvIHJlc3BvbnNlIG1vZGUuXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VNb2RlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3dpdGNoV29ya2xpc3RSZXNwb25zZU1vZGUod29ya2xpc3Q6IFdvcmtsaXN0QmFzZSk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgZ3JpZFR5cGVTZWxlY3RlZDogZW51bXMuR3JpZFR5cGU7XHJcbiAgICAgICAgZ3JpZFR5cGVTZWxlY3RlZCA9IGVudW1zLkdyaWRUeXBlLnRpbGVkO1xyXG5cclxuICAgICAgICAvKiBPbiBzd2l0Y2hpbmcgZ3JpZCB2aWV3IHRoZSBzdHlsZSBpcyB1cGRhdGluZyB0d2ljZSBmb3IgdGhlIGFuaW1hdGlvbiB0byB3b3JrLlxyXG4gICAgICAgICAqIFRoaXMgY2hlY2tpbmcgd2lsbCBhdm9pZCBkdXBsaWNhdGUgY2FsbHMgb24gc3dpdGNoaW5nIHRoZSBncmlkIHZpZXcuICAqL1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5pc0dyaWR2aWV3Q2hhbmdlZCkge1xyXG4gICAgICAgICAgICAvKiB0aGlzIHdpbGwgY2hlY2sgd2hpY2ggdmlldyh0aWxlZC9kZXRhaWxlZCkgc2hvdWxkIGJlIHJlbmRlcmVkICovXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmlzVGlsZVZpZXcpIHtcclxuICAgICAgICAgICAgICAgIGdyaWRUeXBlU2VsZWN0ZWQgPSBlbnVtcy5HcmlkVHlwZS50aWxlZDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGdyaWRUeXBlU2VsZWN0ZWQgPSBlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TZXRzIHRoZSBsb2NhbCB2YXJpYWJsZXMgd2l0aCByb3cgZGF0YSBjb2xsZWN0aW9uXHJcbiAgICAgICAgdGhpcy5zZXRSb3dEZWZpbml0aW9uQ29sbGVjdGlvbnMoZ3JpZFR5cGVTZWxlY3RlZCwgd29ya2xpc3QpO1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0OiBKU1guRWxlbWVudDtcclxuICAgICAgICBsZXQgZ3JpZDogSlNYLkVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGdyaWRUb3BBcmVhOiBKU1guRWxlbWVudDtcclxuICAgICAgICBsZXQgaGFzUmVzcG9uc2VzSW5Xb3JrbGlzdDogYm9vbGVhbiA9IHdvcmtsaXN0LnJlc3BvbnNlcy5jb3VudCgpID4gMDtcclxuICAgICAgICBpZiAoaGFzUmVzcG9uc2VzSW5Xb3JrbGlzdCB8fCB0aGlzLnN0YXRlLmlzR3JpZHZpZXdDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIGdyaWQgPSB0aGlzLmdldFdvcmtsaXN0Q29tcG9uZW50KHRoaXMucHJvcHMud29ya2xpc3RUeXBlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRoaXMgc2VjdGlvbiBpcyBub3QgcmVxdXJlZCBpZiBmaWx0ZXIgaXMgZGlzcGxheWVkXHJcbiAgICAgICAgaWYgKGhhc1Jlc3BvbnNlc0luV29ya2xpc3QgJiYgIW1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNXb3JrbGlzdEZpbHRlclNob3VsZGJlVmlzaWJsZVxyXG4gICAgICAgICAgICAmJiAhbWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1RlYW1NYW5hZ2VtZW50TW9kZSkge1xyXG4gICAgICAgICAgICBncmlkVG9wQXJlYSA9IHRoaXMuZ3JpZFRvcEFyZWE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXN1bHQgPSAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICdncmlkLWhvbGRlciB0aWxlLXZpZXcnOiB0aGlzLnN0YXRlLmlzR3JpZHZpZXdDaGFuZ2VkID8gZmFsc2UgOiB0aGlzLnN0YXRlLmlzVGlsZVZpZXcgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2dyaWQtaG9sZGVyIGdyaWQtdmlldyc6IHRoaXMuc3RhdGUuaXNHcmlkdmlld0NoYW5nZWQgPyBmYWxzZSA6ICF0aGlzLnN0YXRlLmlzVGlsZVZpZXcgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2dyaWQtaG9sZGVyJzogdGhpcy5zdGF0ZS5pc0dyaWR2aWV3Q2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8UGVuZGluZ1dvcmtsaXN0QmFubmVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9J3BlbmRpbmd3b3JrbGlzdGJhbm5lcm1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PSdwZW5kaW5nd29ya2xpc3RiYW5uZXInXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZT17bWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5zaG91bGREaXNwbGF5UGVuZGluZ1dvcmtsaXN0QmFubmVyfSAvPlxyXG4gICAgICAgICAgICAgICAgPFdvcmtsaXN0RmlsdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9J3dvcmtsaXN0RmlsdGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgIGtleT0nd29ya2xpc3RGaWx0ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlPXttYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzV29ya2xpc3RGaWx0ZXJTaG91bGRiZVZpc2libGV9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWx0ZXI9e3RoaXMuc3RhdGUuc2VsZWN0ZWRGaWx0ZXJUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uRmlsdGVyQ2hhbmdlZD17dGhpcy5vbldvcmtsaXN0RmlsdGVyU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWQ9e3FpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkfSAvPlxyXG4gICAgICAgICAgICAgICAge2dyaWRUb3BBcmVhfVxyXG4gICAgICAgICAgICAgICAge2dyaWR9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHRvcCBBcmVhIGluIHRoZSB3b3JrbGlzdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldCBncmlkVG9wQXJlYSgpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLXdyYXAgZ3JpZC1uYXYgcGFkZGluZy1ib3R0b20tMTUnPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC0zLW9mLTEyJz5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBcXHUwMGEwIGlzIHRoZSB1bmljb2RlIGZvciAmbmJzcCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBpZiByZXNwb25zZSBtb2RlIGlzIG9wZW4gYW5kIGlmIHRoZXJlIGFyZSBhbnkgcmVzcG9uc2VzIHRvIHN1Ym1pdCwgdGhlIHNob3cgc3VibWl0IGFsbCBidXR0b24gKi9cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgeyh0aGlzLmlzU3VibWl0dEJ1dHRvblZpc2libGUoKSkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoPFN1Ym1pdFJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQ9e3RoaXMuaXNTdWJtaXREaXNhYmxlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU3VibWl0QWxsPXt0cnVlfSAvPikgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx1MDBhMCd9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtOS1vZi0xMic+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0R3JpZFRvZ2dsZUJ1dHRvbnMoKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJucyB0aGUgZ3JpZCB0b2dnbGUgYnV0dG9ucyBpZiB0aGUgY3VycmVudCBtYXJrZXIgb3BlcmF0aW9uIG1vZGUgaXMgbWFya2luZy5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRHcmlkVG9nZ2xlQnV0dG9ucygpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgaWYgKCEodGhpcy5wcm9wcy5pc1RlYW1NYW5hZ2VtZW50TW9kZSB8fCB0aGlzLnByb3BzLmlzTWFya2luZ0NoZWNrTW9kZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzaGlmdC1yaWdodCc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT0nZmlsdGVyLW1lbnUnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPSdzd2l0Y2gtdmlldy1idG4nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRUb2dnbGVCdXR0b24ga2V5PXsnZ3JpZHRvZ2dsZWJ1dHRvblRpbGVfa2V5XycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXsnZ3JpZHRvZ2dsZWJ1dHRvblRpbGVfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlR3JpZFZpZXc9e3RoaXMudG9nZ2xlR3JpZFZpZXd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17dGhpcy5zdGF0ZS5pc1RpbGVWaWV3fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblR5cGU9e2VudW1zLkdyaWRUeXBlLnRpbGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX0gLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZFRvZ2dsZUJ1dHRvbiBrZXk9eydncmlkdG9nZ2xlYnV0dG9uRGV0YWlsX2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17J2dyaWR0b2dnbGVidXR0b25EZXRhaWxfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlR3JpZFZpZXc9e3RoaXMudG9nZ2xlR3JpZFZpZXd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17IXRoaXMuc3RhdGUuaXNUaWxlVmlld31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25UeXBlPXtlbnVtcy5HcmlkVHlwZS5kZXRhaWxlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBsaXZlIGNsb3NlZCByZXNwb25zZSBsaXN0IGdyaWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzaG93Q2xvc2VkR3JpZENvbnRlbnQoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCByZXN1bHQ6IEpTWC5FbGVtZW50O1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCkge1xyXG4gICAgICAgICAgICAvKiogaWYgbGl2ZSBjbG9zZWQgcmVzcG9uc2UgbGlzdCBpcyBmaWxsZWQgc2hvdyBncmlkIGNvbnRlbnQgKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VkV29ya2xpc3QpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuc3dpdGNoV29ya2xpc3RSZXNwb25zZU1vZGUodGhpcy5jbG9zZWRXb3JrbGlzdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb3BzLmlzUmVmcmVzaGluZyA/IHRoaXMubG9hZGluZyA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IGxpdmUgY2xvc2VkIHJlc3BvbnNlIGxpc3QgZ3JpZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNob3dQZW5kaW5nR3JpZENvbnRlbnQoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCByZXN1bHQ6IEpTWC5FbGVtZW50O1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcpIHtcclxuICAgICAgICAgICAgLyoqIGlmIGxpdmUgcGVuZGluZyByZXNwb25zZSBsaXN0IGlzIGZpbGxlZCBzaG93IGdyaWQgY29udGVudCAqL1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nV29ya2xpc3QgJiYgdGhpcy5wZW5kaW5nV29ya2xpc3QucmVzcG9uc2VzLmNvdW50KCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnN3aXRjaFdvcmtsaXN0UmVzcG9uc2VNb2RlKHRoaXMucGVuZGluZ1dvcmtsaXN0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvcHMuaXNSZWZyZXNoaW5nID8gdGhpcy5sb2FkaW5nIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgbGl2ZSBvcGVuIHJlc3BvbnNlIGxpc3QgZ3JpZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNob3dPcGVuR3JpZENvbnRlbnQodmFsaWRhdGlvblJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblBhcmFtOiByZXNwb25zZUFsbG9jYXRpb25CdXR0b25WYWxpZGF0aW9uUGFyYW1ldGVyKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCByZXN1bHQ6IEpTWC5FbGVtZW50O1xyXG4gICAgICAgIGxldCBleGFtaW5lclFpZ1N0YXR1czogZW51bXMuRXhhbWluZXJRSUdTdGF0dXMgPSB0YXJnZXRIZWxwZXIuZ2V0RXhhbWluZXJRaWdTdGF0dXMoKTtcclxuICAgICAgICBsZXQgY3VycmVudFRhcmdldCA9IHRhcmdldFN1bW1hcnlTdG9yZS5pbnN0YW5jZS5nZXRDdXJyZW50VGFyZ2V0KCk7XHJcbiAgICAgICAgbGV0IGlzQWdncmVnYXRlUUlHVGFyZ2V0c09OID0gcWlnU3RvcmUuaW5zdGFuY2UuaXNBZ2dyZWdhdGVkUWlnQ0NFbmFibGVkRm9yQ3VycmVudFFpZztcclxuICAgICAgICBpZiAodGhpcy5vcGVuV29ya2xpc3QgJiYgdGhpcy5wcm9wcy5yZXNwb25zZU1vZGUgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKSB7XHJcbiAgICAgICAgICAgIC8qKiBpZiBsaXZlIG9wZW4gcmVzcG9uc2UgaXMgZmlsbGVkIHNob3cgZ3JpZCBjb250ZW50ICovXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLndvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLmxpdmUgP1xyXG4gICAgICAgICAgICAgICAgKHRoaXMub3BlbldvcmtsaXN0LmNvbmN1cnJlbnRMaW1pdCA8PSBjdXJyZW50VGFyZ2V0LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxPcGVuUmVzcG9uc2VzQ291bnRcclxuICAgICAgICAgICAgICAgICAgICB8fCB0aGlzLm9wZW5Xb3JrbGlzdC5yZXNwb25zZXMuY291bnQoKSA+IDApXHJcbiAgICAgICAgICAgICAgICA6IHRoaXMub3BlbldvcmtsaXN0LnJlc3BvbnNlcy5jb3VudCgpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zd2l0Y2hXb3JrbGlzdFJlc3BvbnNlTW9kZSh0aGlzLm9wZW5Xb3JrbGlzdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5zaG91bGREaXNwbGF5SGVscGVyTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLndvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLmxpdmUpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKGV4YW1pbmVyUWlnU3RhdHVzID09PSBlbnVtcy5FeGFtaW5lclFJR1N0YXR1cy5MaXZlQ29tcGxldGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZXhhbWluZXJRaWdTdGF0dXMgPT09IGVudW1zLkV4YW1pbmVyUUlHU3RhdHVzLk92ZXJBbGxUYXJnZXRDb21wbGV0ZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGFyZ2V0IHJlYWNoZWQgd29ya2xpc3QgbWVzc2FnZXNcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSA8V29ya0xpc3RNZXNzYWdlIGlkPSd3b3JrTGlzdE1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0nd29ya0xpc3RNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1RhcmdldENvbXBsZXRlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzUmVzcG9uc2VzQXZhaWxhYmxlSW5Qb29sPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBZ2dyZWdhdGVRSUdUYXJnZXRzT049e2lzQWdncmVnYXRlUUlHVGFyZ2V0c09OfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5saXZlKSAmJiB0aGlzLm9wZW5Xb3JrbGlzdC51bmFsbG9jYXRlZFJlc3BvbnNlc0NvdW50ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgICYmIHZhbGlkYXRpb25SZXNwb25zZUFsbG9jYXRpb25CdXR0b25QYXJhbS5Jc1dvcmtsaXN0SW5mb3JtYXRpb25CYW5uZXJWaXNpYmxlICYmICF0aGlzLmRvU2hvd0Jhbm5lckZvck9uRGVtYW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbmN1cnJlbnRMaW1pdDogbnVtYmVyID0gaXNBZ2dyZWdhdGVRSUdUYXJnZXRzT04gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0LmFnZ3JlZ2F0ZWRNYXhpbXVtQ29uY3VycmVudExpbWl0IC0gY3VycmVudFRhcmdldC5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsT3BlblJlc3BvbnNlc0NvdW50IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldC5tYXhpbXVtQ29uY3VycmVudExpbWl0IC0gY3VycmVudFRhcmdldC5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsT3BlblJlc3BvbnNlc0NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxpdmUgd29ya2xpc3QgbWVzc2FnZXNcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSA8V29ya0xpc3RNZXNzYWdlIGlkPSd3b3JrTGlzdE1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0nd29ya0xpc3RNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1Jlc3BvbnNlc0F2YWlsYWJsZUluUG9vbD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VDb25jdXJyZW50TGltaXQ9e2NvbmN1cnJlbnRMaW1pdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBZ2dyZWdhdGVRSUdUYXJnZXRzT049e2lzQWdncmVnYXRlUUlHVGFyZ2V0c09OfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5saXZlKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXNwb25zZUFsbG9jYXRpb25CdXR0b25QYXJhbS5Jc1dvcmtsaXN0SW5mb3JtYXRpb25CYW5uZXJWaXNpYmxlICYmICF0aGlzLmRvU2hvd0Jhbm5lckZvck9uRGVtYW5kKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxpdmUgd29ya2xpc3QgbWVzc2FnZXNcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSA8V29ya0xpc3RNZXNzYWdlIGlkPSd3b3JrTGlzdE1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0nd29ya0xpc3RNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1Jlc3BvbnNlc0F2YWlsYWJsZUluUG9vbD17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgLz47XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMud29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuc3RhbmRhcmRpc2F0aW9uIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5zZWNvbmRzdGFuZGFyZGlzYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGlzYXRpb24gd29ya2xpc3QgYXdhaXRpbmcgYXBwcm92YWwgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDxTdGFuZGFyZGlzYXRpb25Xb3JrbGlzdE1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfSAvPjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5zaW11bGF0aW9uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3BvbnNlQWxsb2NhdGlvbkJ1dHRvblBhcmFtLklzV29ya2xpc3RJbmZvcm1hdGlvbkJhbm5lclZpc2libGUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNob3dSZXNwb25zZUF2YWlsYWJsZUhlbHBlck1lc3NhZ2U6IGJvb2xlYW4gPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5vcGVuV29ya2xpc3QudW5hbGxvY2F0ZWRSZXNwb25zZXNDb3VudCA+IDAgJiYgdGhpcy5vcGVuV29ya2xpc3QucmVzcG9uc2VzLmNvdW50KCkgPT09IDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSA8V29ya0xpc3RNZXNzYWdlIGlkPSd3b3JrTGlzdE1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0nd29ya0xpc3RNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1Jlc3BvbnNlc0F2YWlsYWJsZUluUG9vbD17c2hvd1Jlc3BvbnNlQXZhaWxhYmxlSGVscGVyTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTaW11bGF0aW9uPXt0cnVlfSAvPjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvcHMuaXNSZWZyZXNoaW5nID8gdGhpcy5sb2FkaW5nIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBjYWxsIHBhcmVudCBjb21wb25lbnQgZnVuY3Rpb24gdG8gdG9nZ2xlIGxlZnQgcGFuZWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSB0b2dnbGVMZWZ0UGFuZWwoKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy50b2dnbGVMZWZ0UGFuZWwoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRpbmcgR3JpZCBSb3dzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0R3JpZFJvd3MobGl2ZU9wZW5SZXNwb25zZUxpc3Q6IFdvcmtsaXN0QmFzZSxcclxuICAgICAgICB3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSxcclxuICAgICAgICByZXNwb25zZVR5cGU6IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBncmlkVHlwZTogZW51bXMuR3JpZFR5cGUsXHJcbiAgICAgICAgY29tcGFyZXJOYW1lPzogc3RyaW5nLFxyXG4gICAgICAgIHNvcnREaXJlY3Rpb24/OiBlbnVtcy5Tb3J0RGlyZWN0aW9uKTogSW1tdXRhYmxlLkxpc3Q8Um93PiB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLndvcmtsaXN0SGVscGVyLmdlbmVyYXRlUm93RGVmaW5pb24obGl2ZU9wZW5SZXNwb25zZUxpc3QsIHJlc3BvbnNlVHlwZSwgZ3JpZFR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGluZyBHcmlkIFJvd3NcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRHcmlkQ29sdW1uSGVhZGVyUm93cyh3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSxcclxuICAgICAgICByZXNwb25zZVR5cGU6IGVudW1zLlJlc3BvbnNlTW9kZSxcclxuICAgICAgICBjb21wYXJlck5hbWU6IHN0cmluZyxcclxuICAgICAgICBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uKTogSW1tdXRhYmxlLkxpc3Q8Um93PiB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLndvcmtsaXN0SGVscGVyLmdlbmVyYXRlVGFibGVIZWFkZXIocmVzcG9uc2VUeXBlLCB3b3JrbGlzdFR5cGUsIGNvbXBhcmVyTmFtZSwgc29ydERpcmVjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0aW5nIEdyaWQgUm93c1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEZyb3plblRhYmxlQm9keVJvd3MocmVzcG9uc2VMaXN0OiBXb3JrbGlzdEJhc2UsXHJcbiAgICAgICAgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUsXHJcbiAgICAgICAgcmVzcG9uc2VUeXBlOiBlbnVtcy5SZXNwb25zZU1vZGUsXHJcbiAgICAgICAgY29tcGFyZXJOYW1lPzogc3RyaW5nLFxyXG4gICAgICAgIHNvcnREaXJlY3Rpb24/OiBlbnVtcy5Tb3J0RGlyZWN0aW9uKTogSW1tdXRhYmxlLkxpc3Q8Um93PiB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLndvcmtsaXN0SGVscGVyLmdlbmVyYXRlRnJvemVuUm93Qm9keShyZXNwb25zZUxpc3QsIHJlc3BvbnNlVHlwZSwgd29ya2xpc3RUeXBlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRpbmcgR3JpZCBSb3dzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0RnJvemVuVGFibGVIZWFkZXJSb3cocmVzcG9uc2VMaXN0OiBXb3JrbGlzdEJhc2UsXHJcbiAgICAgICAgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUsXHJcbiAgICAgICAgcmVzcG9uc2VUeXBlOiBlbnVtcy5SZXNwb25zZU1vZGUsXHJcbiAgICAgICAgY29tcGFyZXJOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbik6IEltbXV0YWJsZS5MaXN0PFJvdz4ge1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy53b3JrbGlzdEhlbHBlci5nZW5lcmF0ZUZyb3plblJvd0hlYWRlcihyZXNwb25zZUxpc3QsIHJlc3BvbnNlVHlwZSwgd29ya2xpc3RUeXBlLCBjb21wYXJlck5hbWUsIHNvcnREaXJlY3Rpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIGFuaW1hdGlvbiBvZiBncmlkIHZpZXcgdG9nZ2xlIG9uIGNvbXBvbmVudERpZFVwZGF0ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50RGlkVXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMudHJpZ2dlckFuaW1hdGlvbigpO1xyXG4gICAgICAgIGxldCBidXR0b25Ib2xkZXIgPSBodG1sVXRpbGl0aWVzLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Jlc3BvbnNlLWJ1dHRvbi1ob2xkZXInKTtcclxuICAgICAgICBsZXQgcmlnaHRTcGFjZXI6IGFueSA9IGh0bWxVdGlsaXRpZXMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncmlnaHQtc3BhY2VyJyk7XHJcbiAgICAgICAgaWYgKGJ1dHRvbkhvbGRlci5sZW5ndGggPiAwICYmIHJpZ2h0U3BhY2VyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbkhvbGRlci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByaWdodFNwYWNlclswXS5zdHlsZS5wYWRkaW5nTGVmdCA9IGJ1dHRvbkhvbGRlclswXS5jbGllbnRXaWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByaWdodFNwYWNlclswXS5zdHlsZS5wYWRkaW5nTGVmdCA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIGFuaW1hdGlvbiBvZiBncmlkIHZpZXcgdG9nZ2xlIG9uIGNvbXBvbmVudERpZE1vdW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICBleGFtaW5lclN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKGV4YW1pbmVyU3RvcmUuRXhhbWluZXJTdG9yZS5NQVJLRVJfSU5GT19VUERBVEVEX0VWRU5ULCB0aGlzLnVwZGF0ZU1hcmtlckluZm9ybWF0aW9uUGFuZWwpO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfTkFWSUdBVElPTl9FVkVOVCwgdGhpcy5vbk5hdmlnYXRldG9SZXNwb25zZSk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIocWlnU3RvcmUuUWlnU3RvcmUuUUlHX1NFTEVDVEVEX0VWRU5ULCB0aGlzLnJlc2V0U29ydEF0dHJpYnV0ZXMpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlckFuaW1hdGlvbigpO1xyXG4gICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIod29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLk1BUktJTkdfQ0hFQ0tfV09SS0xJU1RfQUNDRVNTX1NUQVRVU19VUERBVEVELFxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hcmtDaGVja1dvcmtsaXN0QWNjZXNzTWVzc2FnZSk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuV09SS0xJU1RfRklMVEVSX0NIQU5HRUQsIHRoaXMub25Xb3JrbGlzdEZpbHRlckNoYW5nZWQpO1xyXG4gICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIod29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLk1BUktfQ0hFQ0tfRVhBTUlORVJTX0RBVEFfUkVUUklWRUQsIHRoaXMucmVSZW5kZXIpO1xyXG4gICAgICAgIHJlc3BvbnNlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIocmVzcG9uc2VTdG9yZS5SZXNwb25zZVN0b3JlLlJFU1BPTlNFX0FMTE9DQVRFRF9FVkVOVCwgdGhpcy5vblJlc3BvbnNlQWxsb2NhdGVkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgd29ya2xpc3Qgb24gY2hhbmdpbmcgbWFya2luZyBjaGVjayB3b3JrbGlzdFxyXG4gICAgcHJpdmF0ZSByZVJlbmRlciA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBsZXQgcmlnaHRTcGFjZXI6IGFueSA9IGh0bWxVdGlsaXRpZXMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncmlnaHQtc3BhY2VyJyk7XHJcbiAgICAgICAgaWYgKHJpZ2h0U3BhY2VyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmlnaHRTcGFjZXIuc3R5bGUucGFkZGluZ0xlZnQgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIGlzVGlsZVZpZXc6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVNYXJrQ2hlY2tXb3JrbGlzdEFjY2Vzc01lc3NhZ2UgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzTWFya2luZ0NoZWNrV29ya2xpc3RBY2Nlc3NQcmVzZW50OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5pc1RlYW1NYW5hZ2VtZW50TW9kZSA/IGZhbHNlIDogd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5pc01hcmtpbmdDaGVja1dvcmtsaXN0QWNjZXNzUHJlc2VudFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlTWFya2VySW5mb3JtYXRpb25QYW5lbCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0aGlzIHdpbGwgdHJpZ2dlciB0aGUgYW5pbWF0aW9uIG9uIGdyaWQgdmlldyB0b2dnbGUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdHJpZ2dlckFuaW1hdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0dyaWR2aWV3Q2hhbmdlZCkge1xyXG4gICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIC8qIHNldFRpbWVvdXQgaXMgdXNlZCB3aXRoIGRlbGF5IDAgdG8gd29yayBhbmltYXRpb24gaW4gRmlyZWZveCBhbmQgQ2hyb21lICovXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNUaWxlVmlldzogdGhhdC5zdGF0ZS5pc1RpbGVWaWV3LFxyXG4gICAgICAgICAgICAgICAgICAgIGlzR3JpZHZpZXdDaGFuZ2VkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdEFjdGlvbkNyZWF0b3Iuc2V0U2Nyb2xsV29ya2xpc3RDb2x1bW5zKCk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHRoaXMgd2lsbCBjaGFuZ2UgdGhlIGdyaWQgdmlldyAodGlsZS9kZXRhaWwpLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHRvZ2dsZUdyaWRWaWV3KCkge1xyXG5cclxuICAgICAgICBsZXQgaXNUaWxlVmlld1NlbGVjdGVkID0gIXRoaXMuc3RhdGUuaXNUaWxlVmlldztcclxuICAgICAgICAvKiBTYXZpbmcgdGhlIHNlbGVjdGVkIGdyaWQgdmlldyBpbiB1c2VyIG9wdGlvbnMgKi9cclxuICAgICAgICB1c2VyT3B0aW9uc0hlbHBlci5zYXZlKHVzZXJPcHRpb25LZXlzLlNFTEVDVEVEX0dSSURfVFlQRSwgU3RyaW5nKGlzVGlsZVZpZXdTZWxlY3RlZCksIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNUaWxlVmlldzogaXNUaWxlVmlld1NlbGVjdGVkLFxyXG4gICAgICAgICAgICBpc0dyaWR2aWV3Q2hhbmdlZDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgd29ya2xpc3QgY29tcG9uZW50IGJhc2VkIG9uIHRoZSB2aWV3ICh0aWxlL2xpc3QpXHJcbiAgICAgKiBAcGFyYW0gd29ya2xpc3RUeXBlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0V29ya2xpc3RDb21wb25lbnQgPSAod29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUpOiBKU1guRWxlbWVudCA9PiB7XHJcbiAgICAgICAgbGV0IGlzUXVhbGl0eUZlZWRiYWNrTWVzc2FnZVRvQmVEaXNwbGF5ZWQ6IGJvb2xlYW4gPVxyXG4gICAgICAgICAgICBxdWFsaXR5RmVlZGJhY2tIZWxwZXIuaXNRdWFsdGl5SGVscGVyTWVzc2FnZU5lZWRlZFRvQmVEaXNwbGF5ZWQodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUpO1xyXG5cclxuICAgICAgICBsZXQgZ3JpZDogSlNYLkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlzVGlsZVZpZXcpIHtcclxuXHJcbiAgICAgICAgICAgIGdyaWQgPSAoPEdyaWRDb250cm9sIGdyaWRSb3dzPXt0aGlzLl9ncmlkUm93c31cclxuICAgICAgICAgICAgICAgIGdyaWRTdHlsZT17dGhpcy5ncmlkU3R5bGV9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrQ2FsbEJhY2s9e3RoaXMuaGFuZGxlVGlsZUNsaWNrfVxyXG4gICAgICAgICAgICAgICAgaWQ9e3RoaXMuZ2V0R3JpZENvbnRyb2xJZCgpfVxyXG4gICAgICAgICAgICAgICAga2V5PXsna2V5XycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RUeXBlPXt3b3JrbGlzdFR5cGV9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9IC8+KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgZ3JpZCA9ICg8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZ3JpZC13cmFwcGVyJywgeyAnc2hvdy1zZWVkLW1lc3NhZ2UnOiBpc1F1YWxpdHlGZWVkYmFja01lc3NhZ2VUb0JlRGlzcGxheWVkIH0pfSA+XHJcbiAgICAgICAgICAgICAgICA8V29ya2xpc3RUYWJsZVdyYXBwZXJcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5IZWFkZXJSb3dzPXt0aGlzLl9ncmlkQ29sdW1uSGVhZGVyUm93c31cclxuICAgICAgICAgICAgICAgICAgICBmcm96ZW5IZWFkZXJSb3dzPXt0aGlzLl9ncmlkRnJvemVuSGVhZGVyUm93c31cclxuICAgICAgICAgICAgICAgICAgICBmcm96ZW5Cb2R5Um93cz17dGhpcy5fZ3JpZEZyb3plbkJvZHlSb3dzfVxyXG4gICAgICAgICAgICAgICAgICAgIGdyaWRSb3dzPXt0aGlzLl9ncmlkUm93c31cclxuICAgICAgICAgICAgICAgICAgICBnZXRHcmlkQ29udHJvbElkPXt0aGlzLmdldEdyaWRDb250cm9sSWR9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXsnd29ya2xpc3Rjb250YWluZXJfa2V5XycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFR5cGU9e3RoaXMucHJvcHMud29ya2xpc3RUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uU29ydENsaWNrPXt0aGlzLm9uU29ydENsaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgIGRvU2V0TWluV2lkdGg9e3RoaXMuZG9TZXRNaW5XaWR0aH1cclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlZE9uPXt0aGlzLnN0YXRlLnJlbmRlcmVkT259XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGdyaWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlZCB3aGlsZSBjbGlja2luZyB0aGUgZmlsdGVyXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Xb3JrbGlzdEZpbHRlclNlbGVjdGVkID0gKHNlbGVjdGVkRmlsdGVyOiBlbnVtcy5Xb3JrbGlzdFNlZWRGaWx0ZXIpID0+IHtcclxuICAgICAgICAvLyBGSXJlIGFjdGlvbiBmb3IgZmlsdGVyIHRoZSBkYXRhXHJcbiAgICAgICAgd29ya2xpc3RBY3Rpb25DcmVhdG9yLnNldEZpbHRlcmVkV29ya2xpc3REYXRhKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkLCBzZWxlY3RlZEZpbHRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2VkIHdoaWxlIGZpbHRlcmVkIGRhdGEgaW4gdGhlIHN0b3JlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Xb3JrbGlzdEZpbHRlckNoYW5nZWQgPSAoc2VsZWN0ZWRGaWx0ZXI6IGVudW1zLldvcmtsaXN0U2VlZEZpbHRlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkRmlsdGVyVHlwZSAhPT0gc2VsZWN0ZWRGaWx0ZXIpIHtcclxuICAgICAgICAgICAgbGV0IGV4YW1pbmVyUm9sZUlEOiBudW1iZXIgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZDtcclxuICAgICAgICAgICAgbGV0IHdvcmtsaXN0VHlwZTogbnVtYmVyID0gdGhpcy5wcm9wcy53b3JrbGlzdFR5cGU7XHJcbiAgICAgICAgICAgIGxldCByZW1hcmtSZXF1ZXN0VHlwZTogZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUgPSB0aGlzLnByb3BzLnJlbWFya1JlcXVlc3RUeXBlO1xyXG4gICAgICAgICAgICBsZXQgaXNEaXJlY3RlZFJlbWFyazogYm9vbGVhbiA9IHRoaXMucHJvcHMuaXNEaXJlY3RlZFJlbWFyaztcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmlzTWFya2luZ0NoZWNrTW9kZSkge1xyXG4gICAgICAgICAgICAgICAgZXhhbWluZXJSb2xlSUQgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkTWFya2luZ0NoZWNrRXhhbWluZXIuZXhhbWluZXJSb2xlSUQ7XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFR5cGUgPSBlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZTtcclxuICAgICAgICAgICAgICAgIHJlbWFya1JlcXVlc3RUeXBlID0gZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUuVW5rbm93bjtcclxuICAgICAgICAgICAgICAgIGlzRGlyZWN0ZWRSZW1hcmsgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gR2V0IHNjcmlwdCBpbWFnZXMgZnJvbSBjYWNoZSBvbmNlIHRoZSBmaWx0ZXIgY2hhbmdlLlxyXG4gICAgICAgICAgICB3b3JrbGlzdEFjdGlvbkNyZWF0b3Iubm90aWZ5V29ya2xpc3RUeXBlQ2hhbmdlKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgZXhhbWluZXJSb2xlSUQsXHJcbiAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyUGFydElkLFxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RUeXBlLFxyXG4gICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgICAgIHJlbWFya1JlcXVlc3RUeXBlLFxyXG4gICAgICAgICAgICAgICAgaXNEaXJlY3RlZFJlbWFyayxcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXIsXHJcbiAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5pc01hcmtpbmdDaGVja01vZGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEZpbHRlclR5cGU6IHNlbGVjdGVkRmlsdGVyLFxyXG4gICAgICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHdoZXRoZXIgdGhlIHN1Ym1pdHQgYWxsIHJlc3BvbnNlIGJ1dHRvbiBpcyB2aXNpYmxlIG9yIG5vdC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc1N1Ym1pdHRCdXR0b25WaXNpYmxlKCkge1xyXG4gICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gZGlzcGxheSB0aGUgc3VibWl0IGJ1dHRvbiB3aGVuIHRoZSBtYXJrZXIgb3BlcmF0aW9uIG1vZGUgaXMgVGVhbU1hbmFnZW1lbnQgb3IgbWFya2luZyBjaGVja1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlIHx8IHRoaXMucHJvcHMuaXNNYXJraW5nQ2hlY2tNb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiBGb3IgYW4gZWNvdXJzZXdvcmsgY29tcG9uZW50IHdlIGhhdmUgY29uc2lkZXIgYm90aCBhbGxmaWxlc3ZpZXdlZCBhbmQgc3VibWl0ZW5hYmxlZCBzdGF0dXNlc1xyXG4gICAgICAgICAgICAgICBmb3Igc2hvd2luZyBzdWJtaXQgYnV0dG9uIGluIG9wZW4gcmVzcG9uc2UgKi9cclxuICAgICAgICAgICAgbGV0IGlzU3VibWl0RW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5yZXNwb25zZU1vZGUgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZUNvdXJzZXdvcmtIZWxwZXIuaXNFQ291cnNld29ya0NvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU3VibWl0RW5hYmxlZCA9IHRoaXMub3BlbldvcmtsaXN0LnJlc3BvbnNlcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKCh4OiBMaXZlT3BlblJlc3BvbnNlKSA9PiB4LmlzU3VibWl0RW5hYmxlZCA9PT0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgeC5hbGxGaWxlc1ZpZXdlZCA9PT0gdHJ1ZSkuY291bnQoKSA+IDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU3VibWl0RW5hYmxlZCA9IHRoaXMub3BlbldvcmtsaXN0LnJlc3BvbnNlcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKCh4OiBMaXZlT3BlblJlc3BvbnNlKSA9PiB4LmlzU3VibWl0RW5hYmxlZCA9PT0gdHJ1ZSkuY291bnQoKSA+IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFxaWdTdG9yZS5pbnN0YW5jZS5pc0F0eXBpY2FsQXZhaWxhYmxlICYmIHRoaXMucHJvcHMucmVzcG9uc2VNb2RlID09PSBlbnVtcy5SZXNwb25zZU1vZGUub3BlblxyXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5wcm9wcy53b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5hdHlwaWNhbCkge1xyXG4gICAgICAgICAgICAgICAgaXNTdWJtaXRFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpc1N1Ym1pdEVuYWJsZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIEdldCBncmlkIHJvd3MgYW5kIGFzc29jaWF0ZWQgdGFibGUgcm93cyBhbnMgZXRzIGFzc29jaWF0ZWQgbG9jYWwgdmFyaWFibGVzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2V0Um93RGVmaW5pdGlvbkNvbGxlY3Rpb25zKGdyaWRUeXBlU2VsZWN0ZWQ6IGVudW1zLkdyaWRUeXBlLCB3b3JrbGlzdDogV29ya2xpc3RCYXNlKSB7XHJcblxyXG4gICAgICAgIHRoaXMud29ya2xpc3RIZWxwZXIgPSB3b3JrbGlzdEZhY3RvcnkuZ2V0V29ya2xpc3RIZWxwZXIodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY29tcGFyZXJOYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdENvbXBhcmVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc1NvcnRSZXF1aXJlZCgpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIHRoZSBkaXJlY3Rpb24gaXMgZGVzY2VuZGluZyB0aGUgdGV4dCAnRGVzYycgaXMgYXBwZW5kaW5nIHRvIHRoZSBjb21wYXJlciBuYW1lIHNpbmNlIGFsbFxyXG4gICAgICAgICAgICAvLyBkZXNjZW5kaW5nIGNvbXBhcmVyZSBoYXMgdGhlIHNhbWUgbmFtZSBmb2xsb3dlZCBieSB0ZXh0ICdEZXNjJ1xyXG4gICAgICAgICAgICBsZXQgX2NvbXBhcmVyTmFtZSA9ICh0aGlzLnNvcnREaXJlY3Rpb24gPT09IGVudW1zLlNvcnREaXJlY3Rpb24uQXNjZW5kaW5nKSA/IHRoaXMuY29tcGFyZXJOYW1lIDogdGhpcy5jb21wYXJlck5hbWUgKyAnRGVzYyc7XHJcbiAgICAgICAgICAgIHdvcmtsaXN0LnJlc3BvbnNlcyA9IEltbXV0YWJsZS5MaXN0PGFueT4oc29ydEhlbHBlci5zb3J0KHdvcmtsaXN0LnJlc3BvbnNlcy50b0FycmF5KCksIGNvbXBhcmVyTGlzdFtfY29tcGFyZXJOYW1lXSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdGhlIGJlbG93IG9yZGVyIG9mIGZlY3RoaW5nIHRoZSBncmlkIGRhdGEgc2hvdWxkIGJlIG1haW50YWluZWQuXHJcbiAgICAgICAgdGhpcy5fZ3JpZFJvd3MgPSB0aGlzLmdldEdyaWRSb3dzKHdvcmtsaXN0LCB0aGlzLnByb3BzLndvcmtsaXN0VHlwZSxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXNwb25zZU1vZGUsIGdyaWRUeXBlU2VsZWN0ZWQsIHRoaXMuY29tcGFyZXJOYW1lLCB0aGlzLnNvcnREaXJlY3Rpb24pO1xyXG4gICAgICAgIHRoaXMuX2dyaWRDb2x1bW5IZWFkZXJSb3dzID0gdGhpcy5nZXRHcmlkQ29sdW1uSGVhZGVyUm93cyh0aGlzLnByb3BzLndvcmtsaXN0VHlwZSxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXNwb25zZU1vZGUsIHRoaXMuY29tcGFyZXJOYW1lLCB0aGlzLnNvcnREaXJlY3Rpb24pO1xyXG4gICAgICAgIHRoaXMuX2dyaWRGcm96ZW5Cb2R5Um93cyA9IHRoaXMuZ2V0RnJvemVuVGFibGVCb2R5Um93cyh3b3JrbGlzdCxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy53b3JrbGlzdFR5cGUsIHRoaXMucHJvcHMucmVzcG9uc2VNb2RlLCB0aGlzLmNvbXBhcmVyTmFtZSwgdGhpcy5zb3J0RGlyZWN0aW9uKTtcclxuICAgICAgICB0aGlzLl9ncmlkRnJvemVuSGVhZGVyUm93cyA9IHRoaXMuZ2V0RnJvemVuVGFibGVIZWFkZXJSb3cod29ya2xpc3QsXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMud29ya2xpc3RUeXBlLCB0aGlzLnByb3BzLnJlc3BvbnNlTW9kZSwgdGhpcy5jb21wYXJlck5hbWUsIHRoaXMuc29ydERpcmVjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGNvbXBhcmVyIGZvciB0aGUgY3VycmVudCB3b3JrbGlzdCBiYXNlZCBvbiB0aGUgd29ya2xpc3R0eXBlLHFpZ0lkIGFuZCByZXNwb25zZU1vZGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXREZWZhdWx0Q29tcGFyZXIoKSB7XHJcbiAgICAgICAgbGV0IGRlZmF1bHRDb21wYXJlcnMgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnJlc3BvbnNlU29ydERldGFpbHM7XHJcbiAgICAgICAgbGV0IHFpZ0lkOiBudW1iZXIgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZDtcclxuICAgICAgICBsZXQgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUgPSB0aGlzLnByb3BzLndvcmtsaXN0VHlwZTtcclxuICAgICAgICBsZXQgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUgPSB0aGlzLnByb3BzLnJlc3BvbnNlTW9kZTtcclxuXHJcbiAgICAgICAgbGV0IGVudHJ5OiByZXNwb25zZXNvcnRkZXRhaWxzW10gPSBkZWZhdWx0Q29tcGFyZXJzLmZpbHRlcigoeDogcmVzcG9uc2Vzb3J0ZGV0YWlscykgPT5cclxuICAgICAgICAgICAgeC53b3JrbGlzdFR5cGUgPT09IHdvcmtsaXN0VHlwZSAmJiB4LnJlc3BvbnNlTW9kZSA9PT0gcmVzcG9uc2VNb2RlXHJcbiAgICAgICAgICAgICYmIHgucWlnID09PSBxaWdJZCAmJiB4LnJlbWFya1JlcXVlc3RUeXBlID09PSB0aGlzLnByb3BzLnJlbWFya1JlcXVlc3RUeXBlKTtcclxuXHJcbiAgICAgICAgaWYgKGVudHJ5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wYXJlck5hbWUgPSBjb21wYXJlckxpc3RbZW50cnlbMF0uY29tcGFyZXJOYW1lXTtcclxuICAgICAgICAgICAgdGhpcy5zb3J0RGlyZWN0aW9uID0gZW50cnlbMF0uc29ydERpcmVjdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgaGVhZGVyIGVsZW1lbnQgb2Ygd29ya2xpc3QuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0V29ya2xpc3RIZWFkZXIgPSAoKTogSlNYLkVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGxldCBoZWFkaW5nVGV4dDogc3RyaW5nO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pc01hcmtpbmdDaGVja01vZGUpIHtcclxuICAgICAgICAgICAgbGV0IGZvcm1hdHRlZFN0cmluZzogc3RyaW5nID0gc3RyaW5nRm9ybWF0SGVscGVyLmdldFVzZXJOYW1lRm9ybWF0KCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gZm9ybWF0dGVkU3RyaW5nLnJlcGxhY2UoJ3tpbml0aWFsc30nLFxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZE1hcmtpbmdDaGVja0V4YW1pbmVyLnRvRXhhbWluZXIuaW5pdGlhbHMpO1xyXG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSBmb3JtYXR0ZWRTdHJpbmcucmVwbGFjZSgne3N1cm5hbWV9JyxcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRNYXJraW5nQ2hlY2tFeGFtaW5lci50b0V4YW1pbmVyLnN1cm5hbWUpO1xyXG4gICAgICAgICAgICBoZWFkaW5nVGV4dCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3Qud29ya2xpc3QtaGVhZGVycy5saXZlJylcclxuICAgICAgICAgICAgICAgICsgJyAnICsgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5wZXJmb3JtLW1hcmtpbmctY2hlY2sud29ya2xpc3Qtb2YtZXhhbWluZXInKVxyXG4gICAgICAgICAgICAgICAgKyAnICcgKyBmb3JtYXR0ZWRTdHJpbmc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuV29ya2xpc3RUeXBlLmxpdmU6XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGluZ1RleHQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LndvcmtsaXN0LWhlYWRlcnMubGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5Xb3JrbGlzdFR5cGUuYXR5cGljYWw6XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGluZ1RleHQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LndvcmtsaXN0LWhlYWRlcnMuYXR5cGljYWwnKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuV29ya2xpc3RUeXBlLnByYWN0aWNlOlxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRpbmdUZXh0ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC53b3JrbGlzdC1oZWFkZXJzLnByYWN0aWNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLldvcmtsaXN0VHlwZS5zdGFuZGFyZGlzYXRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGluZ1RleHQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LndvcmtsaXN0LWhlYWRlcnMuc3RhbmRhcmRpc2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLldvcmtsaXN0VHlwZS5zZWNvbmRzdGFuZGFyZGlzYXRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGluZ1RleHQgPSAocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlciA9PT0gZmFsc2UgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LndvcmtsaXN0LWhlYWRlcnMuc2Vjb25kc3RhbmRhcmRpc2F0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LndvcmtsaXN0LWhlYWRlcnMuc3RtLXN0YW5kYXJkaXNhdGlvbicpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuV29ya2xpc3RUeXBlLmRpcmVjdGVkUmVtYXJrOlxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRpbmdUZXh0ID0gc3RyaW5nSGVscGVyLmZvcm1hdChsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLnJlbWFyay10eXBlcy5sb25nLW5hbWVzLicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZVt0aGlzLnByb3BzLnJlbWFya1JlcXVlc3RUeXBlXSksIFtjb25zdGFudHMuTk9OQlJFQUtJTkdfSFlQSEVOX1VOSUNPREVdKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuV29ya2xpc3RUeXBlLnBvb2xlZFJlbWFyazpcclxuICAgICAgICAgICAgICAgICAgICBoZWFkaW5nVGV4dCA9IHN0cmluZ0hlbHBlci5mb3JtYXQobG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5yZW1hcmstdHlwZXMubG9uZy1uYW1lcy4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVtYXJrUmVxdWVzdFR5cGVbdGhpcy5wcm9wcy5yZW1hcmtSZXF1ZXN0VHlwZV0pLCBbY29uc3RhbnRzLk5PTkJSRUFLSU5HX0hZUEhFTl9VTklDT0RFXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLldvcmtsaXN0VHlwZS5zaW11bGF0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRpbmdUZXh0ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC53b3JrbGlzdC1oZWFkZXJzLnNpbXVsYXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGVsZW1lbnQ6IEpTWC5FbGVtZW50ID0gKDxoMyBjbGFzc05hbWU9J3NoaWZ0LWxlZnQgcGFnZS10aXRsZScgaWQ9eyd3b3JrbGlzdFRpdGxlJ30+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ncGFnZS10aXRsZS10ZXh0Jz5cclxuICAgICAgICAgICAgICAgIHtoZWFkaW5nVGV4dH1cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3JpZ2h0LXNwYWNlcic+PC9zcGFuPlxyXG4gICAgICAgIDwvaDM+KTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBBdHlwaWNhbCBzZWFyY2ggYmFyIGZvciBhdHlwaWNhbCB3b3JrbGlzdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEF0eXBpY2FsU2VhcmNoQmFyID0gKCk6IEpTWC5FbGVtZW50ID0+IHtcclxuICAgICAgICBsZXQgYXR5cGljYWxTZWFyY2hCYXJFbGVtZW50OiBKU1guRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0ZWRUYWIgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKSB7XHJcbiAgICAgICAgICAgIGF0eXBpY2FsU2VhcmNoQmFyRWxlbWVudCA9IDxBdHlwaWNhbFNlYXJjaEJhclxyXG4gICAgICAgICAgICAgICAgaWQ9J2F0eXBpY2FsU2VhcmNoQmFyJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdhdHlwaWNhbFNlYXJjaEJhcidcclxuICAgICAgICAgICAgICAgIGRpc2FibGVDb250cm9scz17IXFpZ1N0b3JlLmluc3RhbmNlLmlzQXR5cGljYWxBdmFpbGFibGV9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9IC8+O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF0eXBpY2FsU2VhcmNoQmFyRWxlbWVudCA9ICg8ZGl2IGNsYXNzTmFtZT0nYXR5cGljYWwtc2VhcmNoLXdyYXAgbWlkZGxlLWNvbnRlbnQnPjwvZGl2Pik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhdHlwaWNhbFNlYXJjaEJhckVsZW1lbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBsb2FkaW5nIGluZGljYXRvclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldExvYWRpbmdpbmRpY2F0b3IoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaGFzVGFyZ2V0Rm91bmQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gPExvYWRpbmdJbmRpY2F0b3IgaWQ9J2xvYWRpbmcnIGtleT0nbG9hZGluZydcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e2xvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZX1cclxuICAgICAgICAgICAgICAgIGlzT25saW5lPXthcHBsaWNhdGlvblN0b3JlLmluc3RhbmNlLmlzT25saW5lfVxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M9J3NlY3Rpb24tbG9hZGVyIGxvYWRpbmcnIC8+O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIGNhbGxlZCB3aGVuIHRoZSB1c2VyIGNvbmZpcm1zIG5hdmlnYXRpb24gZnJvbSBtZXNzYWdlIHBhbmVsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25OYXZpZ2F0ZXRvUmVzcG9uc2UobWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHM6IE1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzKSB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLmNhbk5hdmlnYXRlICYmIG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLm5hdmlnYXRlVG8gPT09IGVudW1zLk1lc3NhZ2VOYXZpZ2F0aW9uLnRvUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgbGV0IG9wZW5lZFJlc3BvbnNlRGV0YWlscyA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVzcG9uc2VEZXRhaWxzKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLnJlc3BvbnNlSWQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlSGVscGVyLm9wZW5SZXNwb25zZShtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5yZXNwb25zZUlkLFxyXG4gICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VOYXZpZ2F0aW9uLnNwZWNpZmljLFxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZXNwb25zZU1vZGUsXHJcbiAgICAgICAgICAgICAgICBvcGVuZWRSZXNwb25zZURldGFpbHMubWFya0dyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZVZpZXdNb2RlLnpvbmVWaWV3LFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHMudHJpZ2dlclBvaW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vIElkZWFsbHkgbWFya2luZyBtb2RlIHNob3VsZCBiZSByZWFkIGZyb20gdGhlIG9wZW5lZCByZXNwb25zZSxcclxuICAgICAgICAgICAgLy8gc2luY2UgbXVsdGlwbGUgbWFya2luZyBtb2RlcyB3b24ndCBjb21lIGluIHRoZSBzYW1lIHdvcmtsaXN0IG5vdyB0aGlzIHdpbGwgd29yay5cclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkTWFya2luZ01vZGUgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldE1hcmtpbmdNb2RlQnlXb3JrTGlzdFR5cGUod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlKTtcclxuXHJcbiAgICAgICAgICAgIG1hcmtTY2hlbWVIZWxwZXIuZ2V0TWFya3MobWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHMucmVzcG9uc2VJZCwgc2VsZWN0ZWRNYXJraW5nTW9kZSk7XHJcbiAgICAgICAgICAgIGVDb3Vyc2V3b3JrSGVscGVyLmZldGNoRUNvdXJzZVdvcmtDYW5kaWRhdGVTY3JpcHRNZXRhZGF0YShtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5yZXNwb25zZUlkKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLmNhbk5hdmlnYXRlICYmIG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLm5hdmlnYXRlVG8gPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b01lbnUpIHtcclxuICAgICAgICAgICAgdXNlckluZm9BY3Rpb25DcmVhdG9yLmNoYW5nZU1lbnVWaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5jYW5OYXZpZ2F0ZSAmJlxyXG4gICAgICAgICAgICBtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5uYXZpZ2F0ZVRvID09PSBlbnVtcy5TYXZlQW5kTmF2aWdhdGUudG9NYXJraW5nQ2hlY2tXb3JrbGlzdCkge1xyXG4gICAgICAgICAgICBtYXJraW5nQ2hlY2tBY3Rpb25DcmVhdG9yLmdldE1hcmtDaGVja0V4YW1pbmVycyhcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgY2FsbGVkIHdoZW4gcmVzcG9uc2UgYWxsb2NhdGVkXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VBbGxvY2F0aW9uRXJyb3JDb2RlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SZXNwb25zZUFsbG9jYXRlZCA9IChyZXNwb25zZUFsbG9jYXRpb25FcnJvckNvZGU6IGVudW1zLlJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZSkgPT4ge1xyXG4gICAgICAgIGlmIChyZXNwb25zZVN0b3JlLmluc3RhbmNlLmlzV2hvbGVSZXNwb25zZUFsbG9jYXRpb24gJiZcclxuICAgICAgICAgICAgKHJlc3BvbnNlQWxsb2NhdGlvbkVycm9yQ29kZSA9PT0gZW51bXMuUmVzcG9uc2VBbGxvY2F0aW9uRXJyb3JDb2RlLnN1c3BlbmRlZE1hcmtlciB8fFxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VBbGxvY2F0aW9uRXJyb3JDb2RlID09PSBlbnVtcy5SZXNwb25zZUFsbG9jYXRpb25FcnJvckNvZGUudW5BcHByb3ZlZE1hcmtlcikpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFZpc2liaWxpdHkgb2Ygd2hvbGUgcmVzcG9uc2UgYnV0dG9uIGhhbmRsZWQgZm9yIHRoaXMgcGFydGljdWxhciBlcnJvciBjb2RlXHJcbiAgICAgICAgICAgIHRoaXMuaXNFcnJvck9jY3VyZWRJbldob2xlUmVzcG9uc2VBbGxvY2F0aW9uID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsIGJhY2sgZnVuY3Rpb24gZnJvbSB0YWJsZSB3cmFwcGVyIG9uIHNvcnRpbmdcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblNvcnRDbGljayhjb21wYXJlck5hbWU6IHN0cmluZywgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbikge1xyXG4gICAgICAgIGlmICh0aGlzLmlzU29ydFJlcXVpcmVkKCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wYXJlck5hbWUgPSBjb21wYXJlck5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydERpcmVjdGlvbiA9IHNvcnREaXJlY3Rpb247XHJcblxyXG4gICAgICAgICAgICBsZXQgc29ydERldGFpbHM6IHJlc3BvbnNlc29ydGRldGFpbHMgPSB7XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFR5cGU6IHRoaXMucHJvcHMud29ya2xpc3RUeXBlLFxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiB0aGlzLnByb3BzLnJlc3BvbnNlTW9kZSxcclxuICAgICAgICAgICAgICAgIHFpZzogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICBjb21wYXJlck5hbWU6IGNvbXBhcmVyTGlzdFt0aGlzLmNvbXBhcmVyTmFtZV0sXHJcbiAgICAgICAgICAgICAgICBzb3J0RGlyZWN0aW9uOiB0aGlzLnNvcnREaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICByZW1hcmtSZXF1ZXN0VHlwZTogdGhpcy5wcm9wcy5yZW1hcmtSZXF1ZXN0VHlwZVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLyogdXBkYXRlIHRoZSBjdXJyZW50IHNvcnQgb3JkZXIgKi9cclxuICAgICAgICAgICAgd29ya2xpc3RBY3Rpb25DcmVhdG9yLm9uU29ydGVkQ2xpY2soc29ydERldGFpbHMpO1xyXG4gICAgICAgICAgICAvLyB2YWx1ZSBpcyB0byBwcmV2ZW50IHRvIHNldCB0aGUgbWluIHdpZHRoIG9mIHRoZSBncmlkIGNvbHVtbnNcclxuICAgICAgICAgICAgdGhpcy5kb1NldE1pbldpZHRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZW5kZXJlZE9uOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9uIHRvIGJ5cGFzcyBzb3J0aW5nIGZvciBhIHNwZWNpZmljIHJlcXVpcm1lbnQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNTb3J0UmVxdWlyZWQgPSAoKTogYm9vbGVhbiA9PiB7XHJcblxyXG4gICAgICAgIGxldCBpc1NvcnRSZXF1aXJlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIFRvIGJ5cGFzcyBzb3J0aW5nIGluIGNsb3NlZCByZXNwb25zZSwgaWYgYW55IHF1YWxpdHkgZmVlZGJhY2sgaXMgcGVuZGluZ1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZFxyXG4gICAgICAgICAgICAmJiBxdWFsaXR5RmVlZGJhY2tIZWxwZXIuaXNRdWFsdGl5SGVscGVyTWVzc2FnZU5lZWRlZFRvQmVEaXNwbGF5ZWQodGhpcy5wcm9wcy53b3JrbGlzdFR5cGUpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGlzU29ydFJlcXVpcmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIHNldHRpbmcgdGhlIGRlZmF1bHQgc29ydCBvcmRlciBmb3IgY2xvc2VkIHJlc3BvbnNlLCBpZiBhbnkgcXVhbGl0eSBmZWVkYmFjayBpcyBwZW5kaW5nLlxyXG4gICAgICAgICAgICB0aGlzLmNvbXBhcmVyTmFtZSA9IGNvbXBhcmVyTGlzdFtjb21wYXJlckxpc3Quc3VibWl0dGVkRGF0ZUNvbXBhcmVyXTtcclxuICAgICAgICAgICAgdGhpcy5zb3J0RGlyZWN0aW9uID0gZW51bXMuU29ydERpcmVjdGlvbi5EZXNjZW5kaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGlzU29ydFJlcXVpcmVkO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybiBib29sZWFuIHZhbHVlICB3aGljaCBzaG93aW5nIHRoZSB3b3JrbGlzdCBtZXNzYWdlIGJhbm5lciBmb3Igb24gZGVtYW5kIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXQgZG9TaG93QmFubmVyRm9yT25EZW1hbmQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IGlzQWdncmVnYXRlUUlHVGFyZ2V0c09OID0gcWlnU3RvcmUuaW5zdGFuY2UuaXNBZ2dyZWdhdGVkUWlnQ0NFbmFibGVkRm9yQ3VycmVudFFpZztcclxuICAgICAgICBsZXQgY3VycmVudFRhcmdldCA9IHRhcmdldFN1bW1hcnlTdG9yZS5pbnN0YW5jZS5nZXRDdXJyZW50VGFyZ2V0KCk7XHJcbiAgICAgICAgcmV0dXJuIGlzQWdncmVnYXRlUUlHVGFyZ2V0c09OXHJcbiAgICAgICAgICAgICYmIGN1cnJlbnRUYXJnZXQuYWdncmVnYXRlZE9wZW5SZXNwb25zZXNDb3VudCA+IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFdvcmtMaXN0Q29udGFpbmVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC93b3JrbGlzdGNvbnRhaW5lci50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW9DQTs7QUFFQTtBQUNBO0FBQUE7QUF5QkE7O0FBRUE7QUFDQTtBQUFBO0FBdEJBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUNBO0FBaUtBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbUxBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQStUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBa0NBOzs7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFPQTtBQUFBO0FBRUE7QUFDQTtBQWVBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpRkE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTRDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBMkJBOztBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBN2pDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUtBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFHQTtBQU1BO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBV0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWFBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBS0E7QUFPQTtBQUNBO0FBSUE7QUFDQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQU1BO0FBRUE7QUFLQTs7O0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBU0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUVBO0FBR0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBNEJBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXdGQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBNkVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBZ0JBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF3QkE7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 606:
/* no static exports found */
/* all exports used */
/*!*********************************************************!*\
  !*** ./src/stores/qigselector/typings/markingtarget.ts ***!
  \*********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA2LmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiOzsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 607:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/stores/qigselector/typings/overviewdata.ts ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA3LmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiOzsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 608:
/* no static exports found */
/* all exports used */
/*!******************************************************!*\
  !*** ./src/stores/qigselector/typings/qigsummary.ts ***!
  \******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA4LmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiOzsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 611:
/* no static exports found */
/* all exports used */
/*!*************************************************************!*\
  !*** ./src/stores/worklist/typings/markingtargetsummary.ts ***!
  \*************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjExLmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiOzsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ })

});