webpackJsonp([9],{

/***/ 273:
/* no static exports found */
/* all exports used */
/*!**************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetupgridcolumns.json ***!
  \**************************************************************************/
/***/ (function(module, exports) {

eval("module.exports = {\"definitions\":{\"Marks\":{\"$id\":\"13\",\"GridColumn\":\"MarksColumn\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.marks\",\"ComparerName\":\"markComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-mark-obt\"},\"LastMarker\":{\"$id\":\"14\",\"GridColumn\":\"LastMarkerColumn\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.last-marker\",\"ComparerName\":\"stdLastMarkerComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-last-marker\"},\"Note\":{\"$id\":\"15\",\"GridColumn\":\"NoteColumn\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.note\",\"ComparerName\":\"stdNoteComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-note\"},\"TagIndicator\":{\"$id\":\"16\",\"GridColumn\":\"TagIndicator\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.tag\",\"CssClass\":\"col-tag\",\"ComparerName\":\"tagComparer\",\"Sortable\":\"true\",\"ComponentProps\":{\"selectedTagId\":\"selectedTagId\",\"tagList\":\"tagList\",\"markGroupId\":\"markGroupId\"}},\"LastUpdated\":{\"$id\":\"17\",\"GridColumn\":\"LastUpdatedColumn\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.last-updated\",\"ComparerName\":\"updatedDateComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-modified\",\"ComponentProps\":{\"updatedDate\":\"updatedDate\"}},\"ResponseId\":{\"$id\":\"18\",\"GridColumn\":\"ResponseIdColumn\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.response-id\",\"ComparerName\":\"responseIdComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-response header-col\"},\"LinkedMessageIndicator\":{\"$id\":\"19\",\"GridColumn\":\"LinkedMessageIndicator\",\"ColumnHeader\":\"\",\"CssClass\":\"col-message\",\"ComponentProps\":{\"hasMessages\":\"hasMessages\",\"unreadMessagesCount\":\"unreadMessagesCount\",\"displayId\":\"displayId\",\"isTeamManagementMode\":\"isTeamManagementMode\"}},\"RIGOrder\":{\"$id\":\"20\",\"GridColumn\":\"RigOrderColumn\",\"ColumnHeader\":\"\",\"Sortable\":\"false\"},\"Centre\":{\"$id\":\"31\",\"GridColumn\":\"Centre\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.centre\",\"CssClass\":\"col-centre header-col\",\"ComparerName\":\"centreComparer\",\"Sortable\":\"true\"},\"Scripts\":{\"$id\":\"32\",\"GridColumn\":\"Scripts\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.scripts\",\"CssClass\":\"col-scripts\",\"ComparerName\":\"stdScriptComparer\",\"Sortable\":\"true\"},\"Available\":{\"$id\":\"33\",\"GridColumn\":\"ScriptsAvailable\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.available-scripts\",\"CssClass\":\"col-scripts-available\",\"ComparerName\":\"stdScriptAvailableComparer\",\"Sortable\":\"true\"},\"FirstScanned\":{\"$id\":\"34\",\"GridColumn\":\"FirstScanned\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.first-scanned\",\"CssClass\":\"col-first-scanned\",\"ComparerName\":\"stdFirstScannedComparer\",\"Sortable\":\"true\"},\"ScriptId\":{\"$id\":\"35\",\"GridColumn\":\"ScriptId\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.script-id\",\"ComparerName\":\"stdScriptIdComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-script-id header-col\",\"ComponentProps\":{\"ScriptId\":\"candidateScriptId\"}},\"Candidate\":{\"$id\":\"36\",\"GridColumn\":\"CentreCandidateNum\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.candidate\",\"ComparerName\":\"candidateComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-candidate\",\"ComponentProps\":{\"Candidate\":\"CentreCandidateNum\"}},\"Status\":{\"$id\":\"37\",\"GridColumn\":\"Status\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.status\",\"ComparerName\":\"stdStatusComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-available-status\",\"ComponentProps\":{\"Status\":\"Status\"}},\"SLAOIndicator\":{\"$id\":\"38\",\"GridColumn\":\"SLAOIndicator\",\"ColumnHeader\":\"\",\"CssClass\":\"col-slao\",\"ComponentProps\":{\"hasAdditionalObjects\":\"hasAdditionalObjects\",\"hasAllPagesAnnotated\":\"hasAllPagesAnnotated\",\"markingProgress\":\"markingProgress\"}},\"MarkingProgress\":{\"$id\":\"39\",\"GridColumn\":\"Status\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.status\",\"ComparerName\":\"progressComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-status\",\"ComponentProps\":{\"markingProgress\":\"markingProgress\",\"esmarkGroupId\":\"esmarkGroupId\"}},\"ModifiedDate\":{\"$id\":\"40\",\"GridColumn\":\"Status\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.status\",\"ComparerName\":\"updatedDateComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-status\",\"ComponentProps\":{\"Status\":\"Status\"}},\"AllPageAnnotedIndicator\":{\"$id\":\"41\",\"GridColumn\":\"AllPageAnnotedIndicator\",\"CssClass\":\"col-slao\",\"ColumnHeader\":\"\",\"ComponentProps\":{\"hasAllPagesAnnotated\":\"hasAllPagesAnnotated\",\"markingProgress\":\"markingProgress\"}},\"AllFilesNotViewedIndicator\":{\"$id\":\"42\",\"GridColumn\":\"AllFilesNotViewedIndicator\",\"CssClass\":\"col-slao\",\"ColumnHeader\":\"\",\"ComponentProps\":{\"allFilesViewed\":\"allFilesViewed\",\"markingProgress\":\"markingProgress\",\"isECourseworkComponent\":\"isECourseworkComponent\"}},\"DeClassify\":{\"$id\":\"44\",\"GridColumn\":\"DeClassifyColumn\",\"ColumnHeader\":\"\",\"CssClass\":\"last-cell col-declassify\"},\"QuestionItems\":{\"$id\":\"43\",\"GridColumn\":\"QuestionItems\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.question-items\",\"CssClass\":\"col-question-item\",\"ComponentProps\":{\"QuestionItems\":\"QuestionItems\"}},\"OrginalSession\":{\"$id\":\"45\",\"GridColumn\":\"OrginalSession\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.original-session\",\"ComparerName\":\"stdOrginalSessionComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-org-session\",\"ComponentProps\":{\"Status\":\"OrginalSession\"}},\"OrginalClassification\":{\"$id\":\"46\",\"GridColumn\":\"OrginalClassification\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.original-classification\",\"ComparerName\":\"stdOrginalClassificationComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-org-classification\"},\"Mark\":{\"$id\":\"47\",\"GridColumn\":\"Mark\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.original-mark\",\"ComparerName\":\"marksComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-mark-obt\"},\"OrginalMarksUpdated\":{\"$id\":\"48\",\"GridColumn\":\"OrginalMarksUpdated\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.original-marks-updated\",\"ComparerName\":\"orginalMarksUpdatedComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-updated-mark\"},\"HideResponse\":{\"$id\":\"49\",\"GridColumn\":\"HideResponse\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.hide-response\",\"Sortable\":\"false\",\"CssClass\":\"col-hide-response\"},\"TotalTimeReused\":{\"$id\":\"50\",\"GridColumn\":\"Totaltimereused\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.total-times-reused\",\"ComparerName\":\"totalTimesReusedComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-time-reused text-center\"},\"LastUsed\":{\"$id\":\"51\",\"GridColumn\":\"LastUsed\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.last-used\",\"ComparerName\":\"lastUsedComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-last-used\"},\"TimesReusedInThisSession\":{\"$id\":\"52\",\"GridColumn\":\"TimesReusedInThisSession\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.times-reused-in-this-session\",\"ComparerName\":\"totalTimesReusedSessionComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-time-reused-in-session text-center\"},\"UpdatePending\":{\"$id\":\"53\",\"GridColumn\":\"UpdatePending\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.update-pending\",\"ComparerName\":\"updatePendingComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-update-pending\"},\"IsReused\":{\"$id\":\"54\",\"GridColumn\":\"Status\",\"Sortable\":\"false\",\"CssClass\":\"col-re-use\"},\"IsReusedInThisQIG\":{\"$id\":\"55\",\"GridColumn\":\"IsReusedInThisQIG\",\"ColumnHeader\":\"standardisation-setup.previous-session.reusable-response.re-used-inthis-qig\",\"ComparerName\":\"stdIsReusedInQigComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-re-use\"},\"ReuseCentre\":{\"$id\":\"56\",\"GridColumn\":\"Centre\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.centre\",\"CssClass\":\"col-centre header-col\",\"ComparerName\":\"stdCentreComparer\",\"Sortable\":\"true\"},\"ReuseCandidate\":{\"$id\":\"57\",\"GridColumn\":\"CentreCandidateNum\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.candidate\",\"ComparerName\":\"stdCandidateComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-candidate\",\"ComponentProps\":{\"Candidate\":\"CentreCandidateNum\"}},\"unclassifiedMarkingProgress\":{\"$id\":\"58\",\"GridColumn\":\"Status\",\"ColumnHeader\":\"standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.status\",\"ComparerName\":\"unclassifiedprogressComparer\",\"Sortable\":\"true\",\"CssClass\":\"col-status\",\"ComponentProps\":{\"markingProgress\":\"markingProgress\",\"esmarkGroupId\":\"esmarkGroupId\"}}},\"IsSharedProvisional\":{\"$id\":\"59\",\"GridColumn\":\"IsSharedProvisional\",\"CssClass\":\"col-share header-col\",\"ColumnHeader\":\"\"},\"standardisationsetup\":{\"SelectResponse\":{\"Centre\":{\"GridColumns\":[{\"$ref\":\"31\"},{\"$ref\":\"32\"},{\"$ref\":\"33\"},{\"$ref\":\"34\"}]},\"Script\":{\"GridColumns\":[{\"$ref\":\"36\"},{\"$ref\":\"37\"},{\"$ref\":\"38\"},{\"$ref\":\"43\"}]},\"FrozenRows\":{\"GridColumns\":[{\"$ref\":\"35\"}]}},\"PreviousSession\":{\"ReusableResponse\":{\"GridColumns\":[{\"$ref\":\"56\"},{\"$ref\":\"57\"},{\"$ref\":\"47\"},{\"$ref\":\"48\"},{\"$ref\":\"49\"},{\"$ref\":\"50\"},{\"$ref\":\"52\"},{\"$ref\":\"51\"},{\"$ref\":\"55\"},{\"$ref\":\"53\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"35\"},{\"$ref\":\"54\"},{\"$ref\":\"45\"},{\"$ref\":\"46\"}]}},\"ProvisionalResponse\":{\"totalmarksview\":{\"GridColumns\":[{\"$ref\":\"35\"},{\"$ref\":\"39\"},{\"$ref\":\"31\"},{\"$ref\":\"36\"},{\"$ref\":\"13\"},{\"$ref\":\"15\"},{\"$ref\":\"38\"},{\"$ref\":\"41\"},{\"$ref\":\"42\"},{\"$ref\":\"19\"},{\"$ref\":\"16\"},{\"$ref\":\"17\"}]},\"marksbyquestionview\":{\"GridColumns\":[{\"$ref\":\"13\"},{\"$ref\":\"39\"},{\"$ref\":\"15\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"59\"},{\"$ref\":\"18\"}]}},\"UnClassifiedResponse\":{\"totalmarksview\":{\"GridColumns\":[{\"$ref\":\"35\"},{\"$ref\":\"31\"},{\"$ref\":\"58\"},{\"$ref\":\"36\"},{\"$ref\":\"13\"},{\"$ref\":\"14\"},{\"$ref\":\"15\"},{\"$ref\":\"38\"},{\"$ref\":\"41\"},{\"$ref\":\"19\"},{\"$ref\":\"16\"},{\"$ref\":\"17\"}]},\"marksbyquestionview\":{\"GridColumns\":[{\"$ref\":\"13\"},{\"$ref\":\"58\"},{\"$ref\":\"15\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"18\"}]}},\"ClassifiedResponse\":{\"totalmarksview\":{\"GridColumns\":[{\"$ref\":\"35\"},{\"$ref\":\"31\"},{\"$ref\":\"36\"},{\"$ref\":\"13\"},{\"$ref\":\"14\"},{\"$ref\":\"15\"},{\"$ref\":\"19\"},{\"$ref\":\"16\"},{\"$ref\":\"17\"},{\"$ref\":\"44\"}]},\"marksbyquestionview\":{\"GridColumns\":[{\"$ref\":\"13\"},{\"$ref\":\"14\"},{\"$ref\":\"15\"}]},\"frozenRows\":{\"GridColumns\":[{\"$ref\":\"20\"},{\"$ref\":\"18\"}]}}}}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjczLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwZ3JpZGNvbHVtbnMuanNvbj82OTFhIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1wiZGVmaW5pdGlvbnNcIjp7XCJNYXJrc1wiOntcIiRpZFwiOlwiMTNcIixcIkdyaWRDb2x1bW5cIjpcIk1hcmtzQ29sdW1uXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLm1hcmtzXCIsXCJDb21wYXJlck5hbWVcIjpcIm1hcmtDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtbWFyay1vYnRcIn0sXCJMYXN0TWFya2VyXCI6e1wiJGlkXCI6XCIxNFwiLFwiR3JpZENvbHVtblwiOlwiTGFzdE1hcmtlckNvbHVtblwiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5sYXN0LW1hcmtlclwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGRMYXN0TWFya2VyQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDc3NDbGFzc1wiOlwiY29sLWxhc3QtbWFya2VyXCJ9LFwiTm90ZVwiOntcIiRpZFwiOlwiMTVcIixcIkdyaWRDb2x1bW5cIjpcIk5vdGVDb2x1bW5cIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMubm90ZVwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGROb3RlQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDc3NDbGFzc1wiOlwiY29sLW5vdGVcIn0sXCJUYWdJbmRpY2F0b3JcIjp7XCIkaWRcIjpcIjE2XCIsXCJHcmlkQ29sdW1uXCI6XCJUYWdJbmRpY2F0b3JcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMudGFnXCIsXCJDc3NDbGFzc1wiOlwiY29sLXRhZ1wiLFwiQ29tcGFyZXJOYW1lXCI6XCJ0YWdDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNvbXBvbmVudFByb3BzXCI6e1wic2VsZWN0ZWRUYWdJZFwiOlwic2VsZWN0ZWRUYWdJZFwiLFwidGFnTGlzdFwiOlwidGFnTGlzdFwiLFwibWFya0dyb3VwSWRcIjpcIm1hcmtHcm91cElkXCJ9fSxcIkxhc3RVcGRhdGVkXCI6e1wiJGlkXCI6XCIxN1wiLFwiR3JpZENvbHVtblwiOlwiTGFzdFVwZGF0ZWRDb2x1bW5cIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMubGFzdC11cGRhdGVkXCIsXCJDb21wYXJlck5hbWVcIjpcInVwZGF0ZWREYXRlQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDc3NDbGFzc1wiOlwiY29sLW1vZGlmaWVkXCIsXCJDb21wb25lbnRQcm9wc1wiOntcInVwZGF0ZWREYXRlXCI6XCJ1cGRhdGVkRGF0ZVwifX0sXCJSZXNwb25zZUlkXCI6e1wiJGlkXCI6XCIxOFwiLFwiR3JpZENvbHVtblwiOlwiUmVzcG9uc2VJZENvbHVtblwiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5yZXNwb25zZS1pZFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJyZXNwb25zZUlkQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDc3NDbGFzc1wiOlwiY29sLXJlc3BvbnNlIGhlYWRlci1jb2xcIn0sXCJMaW5rZWRNZXNzYWdlSW5kaWNhdG9yXCI6e1wiJGlkXCI6XCIxOVwiLFwiR3JpZENvbHVtblwiOlwiTGlua2VkTWVzc2FnZUluZGljYXRvclwiLFwiQ29sdW1uSGVhZGVyXCI6XCJcIixcIkNzc0NsYXNzXCI6XCJjb2wtbWVzc2FnZVwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJoYXNNZXNzYWdlc1wiOlwiaGFzTWVzc2FnZXNcIixcInVucmVhZE1lc3NhZ2VzQ291bnRcIjpcInVucmVhZE1lc3NhZ2VzQ291bnRcIixcImRpc3BsYXlJZFwiOlwiZGlzcGxheUlkXCIsXCJpc1RlYW1NYW5hZ2VtZW50TW9kZVwiOlwiaXNUZWFtTWFuYWdlbWVudE1vZGVcIn19LFwiUklHT3JkZXJcIjp7XCIkaWRcIjpcIjIwXCIsXCJHcmlkQ29sdW1uXCI6XCJSaWdPcmRlckNvbHVtblwiLFwiQ29sdW1uSGVhZGVyXCI6XCJcIixcIlNvcnRhYmxlXCI6XCJmYWxzZVwifSxcIkNlbnRyZVwiOntcIiRpZFwiOlwiMzFcIixcIkdyaWRDb2x1bW5cIjpcIkNlbnRyZVwiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5jZW50cmVcIixcIkNzc0NsYXNzXCI6XCJjb2wtY2VudHJlIGhlYWRlci1jb2xcIixcIkNvbXBhcmVyTmFtZVwiOlwiY2VudHJlQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCJ9LFwiU2NyaXB0c1wiOntcIiRpZFwiOlwiMzJcIixcIkdyaWRDb2x1bW5cIjpcIlNjcmlwdHNcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMuc2NyaXB0c1wiLFwiQ3NzQ2xhc3NcIjpcImNvbC1zY3JpcHRzXCIsXCJDb21wYXJlck5hbWVcIjpcInN0ZFNjcmlwdENvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwifSxcIkF2YWlsYWJsZVwiOntcIiRpZFwiOlwiMzNcIixcIkdyaWRDb2x1bW5cIjpcIlNjcmlwdHNBdmFpbGFibGVcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMuYXZhaWxhYmxlLXNjcmlwdHNcIixcIkNzc0NsYXNzXCI6XCJjb2wtc2NyaXB0cy1hdmFpbGFibGVcIixcIkNvbXBhcmVyTmFtZVwiOlwic3RkU2NyaXB0QXZhaWxhYmxlQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCJ9LFwiRmlyc3RTY2FubmVkXCI6e1wiJGlkXCI6XCIzNFwiLFwiR3JpZENvbHVtblwiOlwiRmlyc3RTY2FubmVkXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLmZpcnN0LXNjYW5uZWRcIixcIkNzc0NsYXNzXCI6XCJjb2wtZmlyc3Qtc2Nhbm5lZFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGRGaXJzdFNjYW5uZWRDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIn0sXCJTY3JpcHRJZFwiOntcIiRpZFwiOlwiMzVcIixcIkdyaWRDb2x1bW5cIjpcIlNjcmlwdElkXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLnNjcmlwdC1pZFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGRTY3JpcHRJZENvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1zY3JpcHQtaWQgaGVhZGVyLWNvbFwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJTY3JpcHRJZFwiOlwiY2FuZGlkYXRlU2NyaXB0SWRcIn19LFwiQ2FuZGlkYXRlXCI6e1wiJGlkXCI6XCIzNlwiLFwiR3JpZENvbHVtblwiOlwiQ2VudHJlQ2FuZGlkYXRlTnVtXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLmNhbmRpZGF0ZVwiLFwiQ29tcGFyZXJOYW1lXCI6XCJjYW5kaWRhdGVDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtY2FuZGlkYXRlXCIsXCJDb21wb25lbnRQcm9wc1wiOntcIkNhbmRpZGF0ZVwiOlwiQ2VudHJlQ2FuZGlkYXRlTnVtXCJ9fSxcIlN0YXR1c1wiOntcIiRpZFwiOlwiMzdcIixcIkdyaWRDb2x1bW5cIjpcIlN0YXR1c1wiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5zdGF0dXNcIixcIkNvbXBhcmVyTmFtZVwiOlwic3RkU3RhdHVzQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCIsXCJDc3NDbGFzc1wiOlwiY29sLWF2YWlsYWJsZS1zdGF0dXNcIixcIkNvbXBvbmVudFByb3BzXCI6e1wiU3RhdHVzXCI6XCJTdGF0dXNcIn19LFwiU0xBT0luZGljYXRvclwiOntcIiRpZFwiOlwiMzhcIixcIkdyaWRDb2x1bW5cIjpcIlNMQU9JbmRpY2F0b3JcIixcIkNvbHVtbkhlYWRlclwiOlwiXCIsXCJDc3NDbGFzc1wiOlwiY29sLXNsYW9cIixcIkNvbXBvbmVudFByb3BzXCI6e1wiaGFzQWRkaXRpb25hbE9iamVjdHNcIjpcImhhc0FkZGl0aW9uYWxPYmplY3RzXCIsXCJoYXNBbGxQYWdlc0Fubm90YXRlZFwiOlwiaGFzQWxsUGFnZXNBbm5vdGF0ZWRcIixcIm1hcmtpbmdQcm9ncmVzc1wiOlwibWFya2luZ1Byb2dyZXNzXCJ9fSxcIk1hcmtpbmdQcm9ncmVzc1wiOntcIiRpZFwiOlwiMzlcIixcIkdyaWRDb2x1bW5cIjpcIlN0YXR1c1wiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5zdGF0dXNcIixcIkNvbXBhcmVyTmFtZVwiOlwicHJvZ3Jlc3NDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtc3RhdHVzXCIsXCJDb21wb25lbnRQcm9wc1wiOntcIm1hcmtpbmdQcm9ncmVzc1wiOlwibWFya2luZ1Byb2dyZXNzXCIsXCJlc21hcmtHcm91cElkXCI6XCJlc21hcmtHcm91cElkXCJ9fSxcIk1vZGlmaWVkRGF0ZVwiOntcIiRpZFwiOlwiNDBcIixcIkdyaWRDb2x1bW5cIjpcIlN0YXR1c1wiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5zdGF0dXNcIixcIkNvbXBhcmVyTmFtZVwiOlwidXBkYXRlZERhdGVDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtc3RhdHVzXCIsXCJDb21wb25lbnRQcm9wc1wiOntcIlN0YXR1c1wiOlwiU3RhdHVzXCJ9fSxcIkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yXCI6e1wiJGlkXCI6XCI0MVwiLFwiR3JpZENvbHVtblwiOlwiQWxsUGFnZUFubm90ZWRJbmRpY2F0b3JcIixcIkNzc0NsYXNzXCI6XCJjb2wtc2xhb1wiLFwiQ29sdW1uSGVhZGVyXCI6XCJcIixcIkNvbXBvbmVudFByb3BzXCI6e1wiaGFzQWxsUGFnZXNBbm5vdGF0ZWRcIjpcImhhc0FsbFBhZ2VzQW5ub3RhdGVkXCIsXCJtYXJraW5nUHJvZ3Jlc3NcIjpcIm1hcmtpbmdQcm9ncmVzc1wifX0sXCJBbGxGaWxlc05vdFZpZXdlZEluZGljYXRvclwiOntcIiRpZFwiOlwiNDJcIixcIkdyaWRDb2x1bW5cIjpcIkFsbEZpbGVzTm90Vmlld2VkSW5kaWNhdG9yXCIsXCJDc3NDbGFzc1wiOlwiY29sLXNsYW9cIixcIkNvbHVtbkhlYWRlclwiOlwiXCIsXCJDb21wb25lbnRQcm9wc1wiOntcImFsbEZpbGVzVmlld2VkXCI6XCJhbGxGaWxlc1ZpZXdlZFwiLFwibWFya2luZ1Byb2dyZXNzXCI6XCJtYXJraW5nUHJvZ3Jlc3NcIixcImlzRUNvdXJzZXdvcmtDb21wb25lbnRcIjpcImlzRUNvdXJzZXdvcmtDb21wb25lbnRcIn19LFwiRGVDbGFzc2lmeVwiOntcIiRpZFwiOlwiNDRcIixcIkdyaWRDb2x1bW5cIjpcIkRlQ2xhc3NpZnlDb2x1bW5cIixcIkNvbHVtbkhlYWRlclwiOlwiXCIsXCJDc3NDbGFzc1wiOlwibGFzdC1jZWxsIGNvbC1kZWNsYXNzaWZ5XCJ9LFwiUXVlc3Rpb25JdGVtc1wiOntcIiRpZFwiOlwiNDNcIixcIkdyaWRDb2x1bW5cIjpcIlF1ZXN0aW9uSXRlbXNcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMucXVlc3Rpb24taXRlbXNcIixcIkNzc0NsYXNzXCI6XCJjb2wtcXVlc3Rpb24taXRlbVwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJRdWVzdGlvbkl0ZW1zXCI6XCJRdWVzdGlvbkl0ZW1zXCJ9fSxcIk9yZ2luYWxTZXNzaW9uXCI6e1wiJGlkXCI6XCI0NVwiLFwiR3JpZENvbHVtblwiOlwiT3JnaW5hbFNlc3Npb25cIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2Uub3JpZ2luYWwtc2Vzc2lvblwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGRPcmdpbmFsU2Vzc2lvbkNvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1vcmctc2Vzc2lvblwiLFwiQ29tcG9uZW50UHJvcHNcIjp7XCJTdGF0dXNcIjpcIk9yZ2luYWxTZXNzaW9uXCJ9fSxcIk9yZ2luYWxDbGFzc2lmaWNhdGlvblwiOntcIiRpZFwiOlwiNDZcIixcIkdyaWRDb2x1bW5cIjpcIk9yZ2luYWxDbGFzc2lmaWNhdGlvblwiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAucHJldmlvdXMtc2Vzc2lvbi5yZXVzYWJsZS1yZXNwb25zZS5vcmlnaW5hbC1jbGFzc2lmaWNhdGlvblwiLFwiQ29tcGFyZXJOYW1lXCI6XCJzdGRPcmdpbmFsQ2xhc3NpZmljYXRpb25Db21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtb3JnLWNsYXNzaWZpY2F0aW9uXCJ9LFwiTWFya1wiOntcIiRpZFwiOlwiNDdcIixcIkdyaWRDb2x1bW5cIjpcIk1hcmtcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2Uub3JpZ2luYWwtbWFya1wiLFwiQ29tcGFyZXJOYW1lXCI6XCJtYXJrc0NvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1tYXJrLW9idFwifSxcIk9yZ2luYWxNYXJrc1VwZGF0ZWRcIjp7XCIkaWRcIjpcIjQ4XCIsXCJHcmlkQ29sdW1uXCI6XCJPcmdpbmFsTWFya3NVcGRhdGVkXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNhYmxlLXJlc3BvbnNlLm9yaWdpbmFsLW1hcmtzLXVwZGF0ZWRcIixcIkNvbXBhcmVyTmFtZVwiOlwib3JnaW5hbE1hcmtzVXBkYXRlZENvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC11cGRhdGVkLW1hcmtcIn0sXCJIaWRlUmVzcG9uc2VcIjp7XCIkaWRcIjpcIjQ5XCIsXCJHcmlkQ29sdW1uXCI6XCJIaWRlUmVzcG9uc2VcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2UuaGlkZS1yZXNwb25zZVwiLFwiU29ydGFibGVcIjpcImZhbHNlXCIsXCJDc3NDbGFzc1wiOlwiY29sLWhpZGUtcmVzcG9uc2VcIn0sXCJUb3RhbFRpbWVSZXVzZWRcIjp7XCIkaWRcIjpcIjUwXCIsXCJHcmlkQ29sdW1uXCI6XCJUb3RhbHRpbWVyZXVzZWRcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2UudG90YWwtdGltZXMtcmV1c2VkXCIsXCJDb21wYXJlck5hbWVcIjpcInRvdGFsVGltZXNSZXVzZWRDb21wYXJlclwiLFwiU29ydGFibGVcIjpcInRydWVcIixcIkNzc0NsYXNzXCI6XCJjb2wtdGltZS1yZXVzZWQgdGV4dC1jZW50ZXJcIn0sXCJMYXN0VXNlZFwiOntcIiRpZFwiOlwiNTFcIixcIkdyaWRDb2x1bW5cIjpcIkxhc3RVc2VkXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNhYmxlLXJlc3BvbnNlLmxhc3QtdXNlZFwiLFwiQ29tcGFyZXJOYW1lXCI6XCJsYXN0VXNlZENvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1sYXN0LXVzZWRcIn0sXCJUaW1lc1JldXNlZEluVGhpc1Nlc3Npb25cIjp7XCIkaWRcIjpcIjUyXCIsXCJHcmlkQ29sdW1uXCI6XCJUaW1lc1JldXNlZEluVGhpc1Nlc3Npb25cIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2UudGltZXMtcmV1c2VkLWluLXRoaXMtc2Vzc2lvblwiLFwiQ29tcGFyZXJOYW1lXCI6XCJ0b3RhbFRpbWVzUmV1c2VkU2Vzc2lvbkNvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC10aW1lLXJldXNlZC1pbi1zZXNzaW9uIHRleHQtY2VudGVyXCJ9LFwiVXBkYXRlUGVuZGluZ1wiOntcIiRpZFwiOlwiNTNcIixcIkdyaWRDb2x1bW5cIjpcIlVwZGF0ZVBlbmRpbmdcIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2FibGUtcmVzcG9uc2UudXBkYXRlLXBlbmRpbmdcIixcIkNvbXBhcmVyTmFtZVwiOlwidXBkYXRlUGVuZGluZ0NvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC11cGRhdGUtcGVuZGluZ1wifSxcIklzUmV1c2VkXCI6e1wiJGlkXCI6XCI1NFwiLFwiR3JpZENvbHVtblwiOlwiU3RhdHVzXCIsXCJTb3J0YWJsZVwiOlwiZmFsc2VcIixcIkNzc0NsYXNzXCI6XCJjb2wtcmUtdXNlXCJ9LFwiSXNSZXVzZWRJblRoaXNRSUdcIjp7XCIkaWRcIjpcIjU1XCIsXCJHcmlkQ29sdW1uXCI6XCJJc1JldXNlZEluVGhpc1FJR1wiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAucHJldmlvdXMtc2Vzc2lvbi5yZXVzYWJsZS1yZXNwb25zZS5yZS11c2VkLWludGhpcy1xaWdcIixcIkNvbXBhcmVyTmFtZVwiOlwic3RkSXNSZXVzZWRJblFpZ0NvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1yZS11c2VcIn0sXCJSZXVzZUNlbnRyZVwiOntcIiRpZFwiOlwiNTZcIixcIkdyaWRDb2x1bW5cIjpcIkNlbnRyZVwiLFwiQ29sdW1uSGVhZGVyXCI6XCJzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5jZW50cmVcIixcIkNzc0NsYXNzXCI6XCJjb2wtY2VudHJlIGhlYWRlci1jb2xcIixcIkNvbXBhcmVyTmFtZVwiOlwic3RkQ2VudHJlQ29tcGFyZXJcIixcIlNvcnRhYmxlXCI6XCJ0cnVlXCJ9LFwiUmV1c2VDYW5kaWRhdGVcIjp7XCIkaWRcIjpcIjU3XCIsXCJHcmlkQ29sdW1uXCI6XCJDZW50cmVDYW5kaWRhdGVOdW1cIixcIkNvbHVtbkhlYWRlclwiOlwic3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMuY2FuZGlkYXRlXCIsXCJDb21wYXJlck5hbWVcIjpcInN0ZENhbmRpZGF0ZUNvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1jYW5kaWRhdGVcIixcIkNvbXBvbmVudFByb3BzXCI6e1wiQ2FuZGlkYXRlXCI6XCJDZW50cmVDYW5kaWRhdGVOdW1cIn19LFwidW5jbGFzc2lmaWVkTWFya2luZ1Byb2dyZXNzXCI6e1wiJGlkXCI6XCI1OFwiLFwiR3JpZENvbHVtblwiOlwiU3RhdHVzXCIsXCJDb2x1bW5IZWFkZXJcIjpcInN0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLnN0YXR1c1wiLFwiQ29tcGFyZXJOYW1lXCI6XCJ1bmNsYXNzaWZpZWRwcm9ncmVzc0NvbXBhcmVyXCIsXCJTb3J0YWJsZVwiOlwidHJ1ZVwiLFwiQ3NzQ2xhc3NcIjpcImNvbC1zdGF0dXNcIixcIkNvbXBvbmVudFByb3BzXCI6e1wibWFya2luZ1Byb2dyZXNzXCI6XCJtYXJraW5nUHJvZ3Jlc3NcIixcImVzbWFya0dyb3VwSWRcIjpcImVzbWFya0dyb3VwSWRcIn19fSxcIklzU2hhcmVkUHJvdmlzaW9uYWxcIjp7XCIkaWRcIjpcIjU5XCIsXCJHcmlkQ29sdW1uXCI6XCJJc1NoYXJlZFByb3Zpc2lvbmFsXCIsXCJDc3NDbGFzc1wiOlwiY29sLXNoYXJlIGhlYWRlci1jb2xcIixcIkNvbHVtbkhlYWRlclwiOlwiXCJ9LFwic3RhbmRhcmRpc2F0aW9uc2V0dXBcIjp7XCJTZWxlY3RSZXNwb25zZVwiOntcIkNlbnRyZVwiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjMxXCJ9LHtcIiRyZWZcIjpcIjMyXCJ9LHtcIiRyZWZcIjpcIjMzXCJ9LHtcIiRyZWZcIjpcIjM0XCJ9XX0sXCJTY3JpcHRcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIzNlwifSx7XCIkcmVmXCI6XCIzN1wifSx7XCIkcmVmXCI6XCIzOFwifSx7XCIkcmVmXCI6XCI0M1wifV19LFwiRnJvemVuUm93c1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjM1XCJ9XX19LFwiUHJldmlvdXNTZXNzaW9uXCI6e1wiUmV1c2FibGVSZXNwb25zZVwiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjU2XCJ9LHtcIiRyZWZcIjpcIjU3XCJ9LHtcIiRyZWZcIjpcIjQ3XCJ9LHtcIiRyZWZcIjpcIjQ4XCJ9LHtcIiRyZWZcIjpcIjQ5XCJ9LHtcIiRyZWZcIjpcIjUwXCJ9LHtcIiRyZWZcIjpcIjUyXCJ9LHtcIiRyZWZcIjpcIjUxXCJ9LHtcIiRyZWZcIjpcIjU1XCJ9LHtcIiRyZWZcIjpcIjUzXCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMzVcIn0se1wiJHJlZlwiOlwiNTRcIn0se1wiJHJlZlwiOlwiNDVcIn0se1wiJHJlZlwiOlwiNDZcIn1dfX0sXCJQcm92aXNpb25hbFJlc3BvbnNlXCI6e1widG90YWxtYXJrc3ZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIzNVwifSx7XCIkcmVmXCI6XCIzOVwifSx7XCIkcmVmXCI6XCIzMVwifSx7XCIkcmVmXCI6XCIzNlwifSx7XCIkcmVmXCI6XCIxM1wifSx7XCIkcmVmXCI6XCIxNVwifSx7XCIkcmVmXCI6XCIzOFwifSx7XCIkcmVmXCI6XCI0MVwifSx7XCIkcmVmXCI6XCI0MlwifSx7XCIkcmVmXCI6XCIxOVwifSx7XCIkcmVmXCI6XCIxNlwifSx7XCIkcmVmXCI6XCIxN1wifV19LFwibWFya3NieXF1ZXN0aW9udmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjEzXCJ9LHtcIiRyZWZcIjpcIjM5XCJ9LHtcIiRyZWZcIjpcIjE1XCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiNTlcIn0se1wiJHJlZlwiOlwiMThcIn1dfX0sXCJVbkNsYXNzaWZpZWRSZXNwb25zZVwiOntcInRvdGFsbWFya3N2aWV3XCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMzVcIn0se1wiJHJlZlwiOlwiMzFcIn0se1wiJHJlZlwiOlwiNThcIn0se1wiJHJlZlwiOlwiMzZcIn0se1wiJHJlZlwiOlwiMTNcIn0se1wiJHJlZlwiOlwiMTRcIn0se1wiJHJlZlwiOlwiMTVcIn0se1wiJHJlZlwiOlwiMzhcIn0se1wiJHJlZlwiOlwiNDFcIn0se1wiJHJlZlwiOlwiMTlcIn0se1wiJHJlZlwiOlwiMTZcIn0se1wiJHJlZlwiOlwiMTdcIn1dfSxcIm1hcmtzYnlxdWVzdGlvbnZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIxM1wifSx7XCIkcmVmXCI6XCI1OFwifSx7XCIkcmVmXCI6XCIxNVwifV19LFwiZnJvemVuUm93c1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjE4XCJ9XX19LFwiQ2xhc3NpZmllZFJlc3BvbnNlXCI6e1widG90YWxtYXJrc3ZpZXdcIjp7XCJHcmlkQ29sdW1uc1wiOlt7XCIkcmVmXCI6XCIzNVwifSx7XCIkcmVmXCI6XCIzMVwifSx7XCIkcmVmXCI6XCIzNlwifSx7XCIkcmVmXCI6XCIxM1wifSx7XCIkcmVmXCI6XCIxNFwifSx7XCIkcmVmXCI6XCIxNVwifSx7XCIkcmVmXCI6XCIxOVwifSx7XCIkcmVmXCI6XCIxNlwifSx7XCIkcmVmXCI6XCIxN1wifSx7XCIkcmVmXCI6XCI0NFwifV19LFwibWFya3NieXF1ZXN0aW9udmlld1wiOntcIkdyaWRDb2x1bW5zXCI6W3tcIiRyZWZcIjpcIjEzXCJ9LHtcIiRyZWZcIjpcIjE0XCJ9LHtcIiRyZWZcIjpcIjE1XCJ9XX0sXCJmcm96ZW5Sb3dzXCI6e1wiR3JpZENvbHVtbnNcIjpbe1wiJHJlZlwiOlwiMjBcIn0se1wiJHJlZlwiOlwiMThcIn1dfX19fVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwZ3JpZGNvbHVtbnMuanNvblxuLy8gbW9kdWxlIGlkID0gMjczXG4vLyBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2IDcgOCA5Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 274:
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./src/components/utility/grid/gridcell.ts ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Cell for GridControl Compoent\r\n */\r\nvar GridCell = /** @class */ (function () {\r\n    function GridCell() {\r\n        this.comparerName = undefined;\r\n        this.sortDirection = undefined;\r\n        this.isSortable = true;\r\n    }\r\n    /**\r\n     * returns the cell style\r\n     */\r\n    GridCell.prototype.getCellStyle = function () {\r\n        return this.cellStyle;\r\n    };\r\n    /**\r\n     * set the cell style\r\n     * @param {string} _cellStyle\r\n     */\r\n    GridCell.prototype.setCellStyle = function (_cellStyle) {\r\n        this.cellStyle = _cellStyle;\r\n    };\r\n    /**\r\n     * returns the additional cell Element\r\n     */\r\n    GridCell.prototype.getAdditionalElement = function () {\r\n        return this.additionalElement;\r\n    };\r\n    /**\r\n     * sets the additional cell Element\r\n     * @param _additionalElement\r\n     */\r\n    GridCell.prototype.setAdditionalElement = function (_additionalElement) {\r\n        this.additionalElement = _additionalElement;\r\n    };\r\n    return GridCell;\r\n}());\r\nmodule.exports = GridCell;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL2dyaWRjZWxsLnRzPzBjNjciXSwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD0ndHlwaW5ncy9jZWxsLnRzJyAvPlxyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi9lbnVtcycpO1xyXG5cclxuLyoqXHJcbiAqIENlbGwgZm9yIEdyaWRDb250cm9sIENvbXBvZW50XHJcbiAqL1xyXG5jbGFzcyBHcmlkQ2VsbCBpbXBsZW1lbnRzIENlbGwge1xyXG5cclxuICAgIHByaXZhdGUgY2VsbFN0eWxlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGFkZGl0aW9uYWxFbGVtZW50OiBKU1guRWxlbWVudDtcclxuXHJcbiAgICAvKipcclxuICAgICAqICBHcmlkIGNlbGwncyBFbGVtZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb2x1bW5FbGVtZW50OiBKU1guRWxlbWVudDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGNlbGwgc3R5bGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldENlbGxTdHlsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jZWxsU3R5bGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFxyXG4gICAgICogc2V0IHRoZSBjZWxsIHN0eWxlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gX2NlbGxTdHlsZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Q2VsbFN0eWxlKF9jZWxsU3R5bGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuY2VsbFN0eWxlID0gX2NlbGxTdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGFkZGl0aW9uYWwgY2VsbCBFbGVtZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRBZGRpdGlvbmFsRWxlbWVudCgpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkaXRpb25hbEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXRzIHRoZSBhZGRpdGlvbmFsIGNlbGwgRWxlbWVudFxyXG4gICAgICogQHBhcmFtIF9hZGRpdGlvbmFsRWxlbWVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0QWRkaXRpb25hbEVsZW1lbnQoX2FkZGl0aW9uYWxFbGVtZW50OiBKU1guRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuYWRkaXRpb25hbEVsZW1lbnQgPSBfYWRkaXRpb25hbEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIHJldHVybnMgd2hldGhlciB0aGUgY2VsbCBpcyBoaWRkZW4gKi9cclxuICAgIHB1YmxpYyBpc0hpZGRlbjogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgY29tcGFyZXJOYW1lOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIHNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24gPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIGlzU29ydGFibGU6IGJvb2xlYW4gPSB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgPSBHcmlkQ2VsbDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL2dyaWRjZWxsLnRzIl0sIm1hcHBpbmdzIjoiO0FBR0E7O0FBRUE7QUFDQTtBQUFBO0FBMkNBO0FBRUE7QUFFQTtBQUNBO0FBdENBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 281:
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src/utility/locale/localehelper.ts ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * helper class with utilty methods for localisation of date, time and number\r\n */\r\nvar LocaleHelper = /** @class */ (function () {\r\n    function LocaleHelper() {\r\n    }\r\n    /**\r\n     * returns the localised string based on the local time zone (machine's locale).\r\n     * @param object - date/time/number to be localised.\r\n     */\r\n    LocaleHelper.toLocaleString = function (object) {\r\n        if (object == null || object === undefined) {\r\n            return '';\r\n        }\r\n        return object.toLocaleString();\r\n    };\r\n    /**\r\n     * returns the localised date string based on the local time zone (machine's locale).\r\n     * @param object - date to be localised.\r\n     */\r\n    LocaleHelper.toLocaleDateString = function (object) {\r\n        if (object == null || object === undefined) {\r\n            return '';\r\n        }\r\n        return object.toLocaleDateString(navigator.language);\r\n    };\r\n    /**\r\n     * returns the localised time string based on the local time zone (machine's locale).\r\n     * @param object - time to be localised.\r\n     */\r\n    LocaleHelper.toLocaleTimeString = function (object) {\r\n        if (object == null || object === undefined) {\r\n            return '';\r\n        }\r\n        // Remove seconds from time.\r\n        return object.toLocaleTimeString(navigator.language);\r\n    };\r\n    /**\r\n     * returns the localised date time string based on the local time zone (machine's locale).\r\n     * @param object - Date and time to be localised.\r\n     */\r\n    LocaleHelper.toLocaleDateTimeString = function (object) {\r\n        if (object == null || object === undefined) {\r\n            return '';\r\n        }\r\n        return object.toLocaleDateString(navigator.language) + ' ' +\r\n            object.toLocaleTimeString(navigator.language);\r\n    };\r\n    /**\r\n     * get the awarding body\r\n     * @param locale\r\n     */\r\n    LocaleHelper.getAwardingBodyLocale = function (locale) {\r\n        //Checking wether browser language exist in languageJson\r\n        var langExist;\r\n        langExist = false;\r\n        languageList.languages.language.map(function (lang) {\r\n            if (lang.code === locale) {\r\n                langExist = true;\r\n            }\r\n        });\r\n        var awardingBody = languageList.languages['awarding-body'];\r\n        if (!langExist) {\r\n            // If the customer doesnt support the browser language select the default language\r\n            locale = languageList.languages['default-culture'];\r\n        }\r\n        /**\r\n         * Splitting the locale to take the langauge code only.The locale conatin both language and country code,\r\n         * the corresponding locale json name contain only language code.\r\n         */\r\n        var localeCode = locale.split('-')[0];\r\n        /**\r\n         * The locale JSON file name should be in a format of awardingbody-locale.json.\r\n         * Populating the url based on te awarding body and locale selected.\r\n         */\r\n        return awardingBody.toLowerCase() + '-' + localeCode;\r\n    };\r\n    return LocaleHelper;\r\n}());\r\nmodule.exports = LocaleHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjgxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlci50cz8yOGE1Il0sInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgbGV0IGxhbmd1YWdlTGlzdDogYW55O1xyXG5cclxuLyoqXHJcbiAqIGhlbHBlciBjbGFzcyB3aXRoIHV0aWx0eSBtZXRob2RzIGZvciBsb2NhbGlzYXRpb24gb2YgZGF0ZSwgdGltZSBhbmQgbnVtYmVyXHJcbiAqL1xyXG5jbGFzcyBMb2NhbGVIZWxwZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBsb2NhbGlzZWQgc3RyaW5nIGJhc2VkIG9uIHRoZSBsb2NhbCB0aW1lIHpvbmUgKG1hY2hpbmUncyBsb2NhbGUpLlxyXG4gICAgICogQHBhcmFtIG9iamVjdCAtIGRhdGUvdGltZS9udW1iZXIgdG8gYmUgbG9jYWxpc2VkLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHRvTG9jYWxlU3RyaW5nKG9iamVjdDogYW55KSB7XHJcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsIHx8IG9iamVjdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9iamVjdC50b0xvY2FsZVN0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgbG9jYWxpc2VkIGRhdGUgc3RyaW5nIGJhc2VkIG9uIHRoZSBsb2NhbCB0aW1lIHpvbmUgKG1hY2hpbmUncyBsb2NhbGUpLlxyXG4gICAgICogQHBhcmFtIG9iamVjdCAtIGRhdGUgdG8gYmUgbG9jYWxpc2VkLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHRvTG9jYWxlRGF0ZVN0cmluZyhvYmplY3Q6IERhdGUpIHtcclxuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwgfHwgb2JqZWN0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqZWN0LnRvTG9jYWxlRGF0ZVN0cmluZyhuYXZpZ2F0b3IubGFuZ3VhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgbG9jYWxpc2VkIHRpbWUgc3RyaW5nIGJhc2VkIG9uIHRoZSBsb2NhbCB0aW1lIHpvbmUgKG1hY2hpbmUncyBsb2NhbGUpLlxyXG4gICAgICogQHBhcmFtIG9iamVjdCAtIHRpbWUgdG8gYmUgbG9jYWxpc2VkLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHRvTG9jYWxlVGltZVN0cmluZyhvYmplY3Q6IERhdGUpIHtcclxuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwgfHwgb2JqZWN0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHNlY29uZHMgZnJvbSB0aW1lLlxyXG4gICAgICAgIHJldHVybiBvYmplY3QudG9Mb2NhbGVUaW1lU3RyaW5nKG5hdmlnYXRvci5sYW5ndWFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBsb2NhbGlzZWQgZGF0ZSB0aW1lIHN0cmluZyBiYXNlZCBvbiB0aGUgbG9jYWwgdGltZSB6b25lIChtYWNoaW5lJ3MgbG9jYWxlKS5cclxuICAgICAqIEBwYXJhbSBvYmplY3QgLSBEYXRlIGFuZCB0aW1lIHRvIGJlIGxvY2FsaXNlZC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB0b0xvY2FsZURhdGVUaW1lU3RyaW5nKG9iamVjdDogRGF0ZSkge1xyXG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCB8fCBvYmplY3QgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb2JqZWN0LnRvTG9jYWxlRGF0ZVN0cmluZyhuYXZpZ2F0b3IubGFuZ3VhZ2UpICsgJyAnICtcclxuICAgICAgICAgICAgICAgb2JqZWN0LnRvTG9jYWxlVGltZVN0cmluZyhuYXZpZ2F0b3IubGFuZ3VhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHRoZSBhd2FyZGluZyBib2R5XHJcbiAgICAgKiBAcGFyYW0gbG9jYWxlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QXdhcmRpbmdCb2R5TG9jYWxlKGxvY2FsZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgLy9DaGVja2luZyB3ZXRoZXIgYnJvd3NlciBsYW5ndWFnZSBleGlzdCBpbiBsYW5ndWFnZUpzb25cclxuICAgICAgICBsZXQgbGFuZ0V4aXN0OiBib29sZWFuO1xyXG4gICAgICAgIGxhbmdFeGlzdCA9IGZhbHNlO1xyXG4gICAgICAgIGxhbmd1YWdlTGlzdC5sYW5ndWFnZXMubGFuZ3VhZ2UubWFwKGZ1bmN0aW9uIChsYW5nOiBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKGxhbmcuY29kZSA9PT0gbG9jYWxlKSB7XHJcbiAgICAgICAgICAgICAgICBsYW5nRXhpc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBhd2FyZGluZ0JvZHkgPSBsYW5ndWFnZUxpc3QubGFuZ3VhZ2VzWydhd2FyZGluZy1ib2R5J107XHJcbiAgICAgICAgaWYgKCFsYW5nRXhpc3QpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGN1c3RvbWVyIGRvZXNudCBzdXBwb3J0IHRoZSBicm93c2VyIGxhbmd1YWdlIHNlbGVjdCB0aGUgZGVmYXVsdCBsYW5ndWFnZVxyXG4gICAgICAgICAgICBsb2NhbGUgPSBsYW5ndWFnZUxpc3QubGFuZ3VhZ2VzWydkZWZhdWx0LWN1bHR1cmUnXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNwbGl0dGluZyB0aGUgbG9jYWxlIHRvIHRha2UgdGhlIGxhbmdhdWdlIGNvZGUgb25seS5UaGUgbG9jYWxlIGNvbmF0aW4gYm90aCBsYW5ndWFnZSBhbmQgY291bnRyeSBjb2RlLFxyXG4gICAgICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIGxvY2FsZSBqc29uIG5hbWUgY29udGFpbiBvbmx5IGxhbmd1YWdlIGNvZGUuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbGV0IGxvY2FsZUNvZGUgPSBsb2NhbGUuc3BsaXQoJy0nKVswXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGxvY2FsZSBKU09OIGZpbGUgbmFtZSBzaG91bGQgYmUgaW4gYSBmb3JtYXQgb2YgYXdhcmRpbmdib2R5LWxvY2FsZS5qc29uLlxyXG4gICAgICAgICAqIFBvcHVsYXRpbmcgdGhlIHVybCBiYXNlZCBvbiB0ZSBhd2FyZGluZyBib2R5IGFuZCBsb2NhbGUgc2VsZWN0ZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmV0dXJuIGF3YXJkaW5nQm9keS50b0xvd2VyQ2FzZSgpICsgJy0nICsgbG9jYWxlQ29kZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gTG9jYWxlSGVscGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS9sb2NhbGUvbG9jYWxlaGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBa0ZBO0FBakZBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 282:
/* no static exports found */
/* all exports used */
/*!*******************************************************!*\
  !*** ./src/components/utility/submit/submithelper.ts ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar examinerStore = __webpack_require__(/*! ../../../stores/markerinformation/examinerstore */ 259);\r\nvar markingHelper = __webpack_require__(/*! ../../../utility/markscheme/markinghelper */ 267);\r\nvar targetHelper = __webpack_require__(/*! ../../../utility/target/targethelper */ 300);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar submitActionCreator = __webpack_require__(/*! ../../../actions/submit/submitactioncreator */ 297);\r\nvar responseActionCreator = __webpack_require__(/*! ../../../actions/response/responseactioncreator */ 257);\r\nvar marksandannotationsSaveHelper = __webpack_require__(/*! ../../../utility/marking/marksandannotationssavehelper */ 295);\r\nvar loginStore = __webpack_require__(/*! ../../../stores/login/loginstore */ 286);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../markeroperationmode/markeroperationmodefactory */ 232);\r\nvar submitStore = __webpack_require__(/*! ../../../stores/submit/submitstore */ 293);\r\nvar responseStore = __webpack_require__(/*! ../../../stores/response/responsestore */ 235);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../ecoursework/ecourseworkhelper */ 238);\r\nvar eCourseWorkFileStore = __webpack_require__(/*! ../../../stores/response/digital/ecourseworkfilestore */ 278);\r\nvar navigationStore = __webpack_require__(/*! ../../../stores/navigation/navigationstore */ 275);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\n/**\r\n * Submit helper for submitting the response from Response and worklist\r\n */\r\nvar SubmitHelper = /** @class */ (function () {\r\n    function SubmitHelper() {\r\n        this.calculateAllpagesAnnotatedLogic = false;\r\n    }\r\n    /**\r\n     * Validate submit button\r\n     * @param response\r\n     * @param markingProgress\r\n     * @param calculateAllpagesAnnotatedLogic\r\n     */\r\n    SubmitHelper.prototype.submitButtonValidate = function (response, markingProgress, calculateAllpagesAnnotatedLogic, hasBlockingExceptions) {\r\n        this.markingProgress = markingProgress;\r\n        this.calculateAllpagesAnnotatedLogic = calculateAllpagesAnnotatedLogic;\r\n        this.responseStatuses = Immutable.List();\r\n        this.responseStatuses.clear();\r\n        if (worklistStore.instance.getResponseMode === enums.ResponseMode.open) {\r\n            this.responseStatuses = this.openResponseValidation(response, hasBlockingExceptions);\r\n        }\r\n        else if (markerOperationModeFactory.operationMode.isStandardisationSetupMode) {\r\n            if (standardisationSetupStore.instance.selectedStandardisationSetupWorkList ===\r\n                enums.StandardisationSetup.ProvisionalResponse ||\r\n                standardisationSetupStore.instance.selectedStandardisationSetupWorkList ===\r\n                    enums.StandardisationSetup.UnClassifiedResponse) {\r\n                this.responseStatuses = this.openResponseValidation(response, hasBlockingExceptions);\r\n            }\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * Open live worklist validation for marking progress/submit button\r\n     * @param response\r\n     */\r\n    SubmitHelper.prototype.openResponseValidation = function (response, hasBlockingExceptions) {\r\n        response.isSubmitEnabled = false;\r\n        /** if the marking has started */\r\n        if (this.markingProgress > 0) {\r\n            /** if the marking is completed */\r\n            if (this.markingProgress === 100) {\r\n                /** taking the cc from cc helper */\r\n                // Avoid ForceAnnotationOnEachPage CC while opening single response in multiQig\r\n                // Apply ForceAnnotationOnEachPage CC for all QIGs in the whole response when it turned on for at least one QIG\r\n                var markSchemeGroupId = 0;\r\n                var markGroupId = (standardisationSetupStore.instance.selectedStandardisationSetupWorkList === enums.StandardisationSetup.None) ?\r\n                    response.markGroupId : response.esMarkGroupId;\r\n                var isAllFilesViewed = true;\r\n                if (navigationStore.instance.containerPage === enums.PageContainers.Response) {\r\n                    isAllFilesViewed = eCourseWorkFileStore.instance.checkIfAllFilesViewed(markGroupId);\r\n                }\r\n                else {\r\n                    isAllFilesViewed = response.allFilesViewed;\r\n                }\r\n                if (!responseStore.instance.isWholeResponse) {\r\n                    markSchemeGroupId = qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                }\r\n                var isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                var isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                /** if slao annotated cc is on and all pages are not annotated OR all pages annotated cc is on\r\n                 *  and all pages are not annotated if both CCs are on, all pages annotated cc has\r\n                 *  the higher priority.\r\n                 */\r\n                if (this.calculateAllpagesAnnotatedLogic === true && (isAllPagesAnnotatedCC || isAllSLAOAnnotatedCC)) {\r\n                    response.hasAllPagesAnnotated = markingHelper.isAllPageAnnotated();\r\n                }\r\n                if (standardisationSetupStore.instance.selectedStandardisationSetupWorkList ===\r\n                    enums.StandardisationSetup.UnClassifiedResponse &&\r\n                    !standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.viewDefinitives) {\r\n                    // STD UnClassified Response with No View Definitive Permission\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.NoViewDefinitivesPermisssion);\r\n                }\r\n                else if (standardisationSetupStore.instance.selectedStandardisationSetupWorkList ===\r\n                    enums.StandardisationSetup.UnClassifiedResponse && response.hasDefinitiveMark === false) {\r\n                    // STD UnClassified Response with Definitive Marking Not Started\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.definitiveMarkingNotStarted);\r\n                }\r\n                else if (standardisationSetupStore.instance.selectedStandardisationSetupWorkList ===\r\n                    enums.StandardisationSetup.UnClassifiedResponse &&\r\n                    !standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.classify) {\r\n                    // STD UnClassified Response with No permission to Classify\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.NoPermissionToClassify);\r\n                }\r\n                else if ((!isAllPagesAnnotatedCC && isAllSLAOAnnotatedCC && response.hasAllPagesAnnotated === false)\r\n                    || (isAllPagesAnnotatedCC && response.hasAllPagesAnnotated === false)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllPagesAnnotated);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    if (hasBlockingExceptions) {\r\n                        this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    }\r\n                }\r\n                else if (eCourseworkHelper.isECourseworkComponent && !isAllFilesViewed) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllFilesViewed);\r\n                    if (hasBlockingExceptions) {\r\n                        this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    }\r\n                }\r\n                else if (hasBlockingExceptions) {\r\n                    /**\r\n                     * if the marking is completed and blocking exceptions are there, show both.\r\n                     */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if (response.hasZoningExceptions) {\r\n                    /** if the marking is completed and zoning exceptions are there, show both. */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasZoningException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else {\r\n                    /**\r\n                     * if all pages annotated cc is off and if no blocking exceptions are there, show ready to submit button\r\n                     */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.readyToSubmit);\r\n                    response.isSubmitEnabled = true;\r\n                }\r\n            }\r\n            else if (hasBlockingExceptions) {\r\n                /**\r\n                 * if the marking is in progress and blocking exceptions are there, show both.\r\n                 */\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n            else if (standardisationSetupStore.instance.selectedStandardisationSetupWorkList ===\r\n                enums.StandardisationSetup.UnClassifiedResponse &&\r\n                !standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.viewDefinitives) {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.NoViewDefinitivesPermisssion);\r\n            }\r\n            else {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n        }\r\n        else {\r\n            //If StandardisationSetup UnClassifiedResponse and defenitive marking percentage iz Zero then show status as 0%\r\n            if (standardisationSetupStore.instance.selectedStandardisationSetupWorkList ===\r\n                enums.StandardisationSetup.UnClassifiedResponse) {\r\n                // If the logged in user has 'No View Definitive' Permission, then show status as 'Provisional'.\r\n                if (!standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.viewDefinitives) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.NoViewDefinitivesPermisssion);\r\n                }\r\n                else {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n            }\r\n            else {\r\n                // if marking not started show the same\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingNotStarted);\r\n            }\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * Save and submit response for the markgroupid\r\n     * @param markGroupId\r\n     */\r\n    SubmitHelper.saveAndSubmitResponse = function (markGroupId) {\r\n        marksandannotationsSaveHelper.triggerMarksAndAnnotationsQueueProcessing(enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Submit, function () {\r\n            SubmitHelper.submitreponse(markGroupId);\r\n        });\r\n    };\r\n    /**\r\n     * Save and classify response\r\n     * @param esMarkGroupId\r\n     * @param responseDetails\r\n     */\r\n    SubmitHelper.saveAndClassifyResponse = function (esMarkGroupId, responseDetails) {\r\n        marksandannotationsSaveHelper.triggerMarksAndAnnotationsQueueProcessing(enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Classify, function () {\r\n            standardisationActionCreator.classifyResponse(responseDetails, navigationStore.instance.containerPage);\r\n        });\r\n    };\r\n    /**\r\n     * Save and classify response\r\n     * @param esMarkGroupId\r\n     * @param responseDetails\r\n     */\r\n    SubmitHelper.saveAndShareAndClassifyResponse = function (submitResponseArgument, sharedFromMarkScheme, selectedDisplayId) {\r\n        if (sharedFromMarkScheme === void 0) { sharedFromMarkScheme = false; }\r\n        if (selectedDisplayId === void 0) { selectedDisplayId = undefined; }\r\n        marksandannotationsSaveHelper.triggerMarksAndAnnotationsQueueProcessing(enums.SaveMarksAndAnnotationsProcessingTriggerPoint.ShareAndClassify, function () {\r\n            submitActionCreator.shareAndClassifyResponse(submitResponseArgument, sharedFromMarkScheme, selectedDisplayId);\r\n        });\r\n    };\r\n    /**\r\n     *  Verify if marks and annotations can be cleared or not\r\n     *\r\n     *  In Case of Blind Practice Marking, standardisation marking, isQualityFeedbackOutstanding of seed,\r\n     *  the definitive marks are not retrieved from gateway for open responses\r\n     *  So after submission of a practice response we need to clear the existing marks and annotation so that the\r\n     *  Marks and annotations will be retrieved from gateway. The same logic is done in worklist as well\r\n     *  @param markGroupId\r\n     */\r\n    SubmitHelper.isClearMarksAndAnnotations = function (markGroupId) {\r\n        // check isBlindPracticeMarkingOn CC is turned On \r\n        var isBlindPracticeMarkingOn = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.BlindPracticeMarking).toLowerCase() === 'true';\r\n        // check isShowStandardisationDefinitiveMarks CC is turned On\r\n        var isShowStandardisationDefinitiveMarks = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ShowStandardisationDefinitiveMarks, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId).toLowerCase() === 'true';\r\n        // check AutomaticQualityFeedback CC is turned ON\r\n        var isAutomaticQualityFeedback = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.AutomaticQualityFeedback, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId).toLowerCase() === 'true';\r\n        // check whether the current response type is standardisation/secondstandardisation marking \r\n        // and corresponding cc is ON for showing  previous definitive mark after submitting.\r\n        var isStandardisation = (worklistStore.instance.currentWorklistType === enums.WorklistType.standardisation\r\n            || worklistStore.instance.currentWorklistType === enums.WorklistType.secondstandardisation)\r\n            && isShowStandardisationDefinitiveMarks ? true : false;\r\n        // check whether the current response type is Practice and corresponding cc is ON for showing\r\n        // previous definitive mark after submitting.\r\n        var isPractice = worklistStore.instance.currentWorklistType === enums.WorklistType.practice\r\n            && isBlindPracticeMarkingOn ? true : false;\r\n        var isSeed = false;\r\n        var seedCollection = submitStore.instance.getSubmitResponseReturn.seedCollection[markGroupId];\r\n        if (seedCollection) {\r\n            // check whether the submitted response is seed or not and if Quality feedback CC is ON or not\r\n            isSeed = isAutomaticQualityFeedback && seedCollection.seedType !== enums.SeedType.None;\r\n        }\r\n        return isStandardisation || isPractice || isSeed;\r\n    };\r\n    /**\r\n     * Submit response\r\n     * @param markGroupId\r\n     */\r\n    SubmitHelper.submitreponse = function (markGroupId) {\r\n        var submitResponseArgument;\r\n        var currentWorklistType;\r\n        var getRemarkRequestType;\r\n        var isStdSetupMode;\r\n        /* Submitting  responses initiated */\r\n        /* Select the mark group list based on the current response mode */\r\n        var markGroupIdList = new Array();\r\n        markGroupIdList.push(markGroupId);\r\n        if (responseStore.instance.isWholeResponse) {\r\n            // If a whole response, retrieve all the related markGroupIds\r\n            var relatedMarkGroupIds = worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(markGroupId);\r\n            // Update related markGroupIds for whole response submission from mark scheme panel\r\n            // For Atypical, the isWholeResponse flag is true always, so also checking the retrieved list length\r\n            if (relatedMarkGroupIds.length > 0) {\r\n                relatedMarkGroupIds.map(function (relatedMarkGroupId) {\r\n                    markGroupIdList.push(relatedMarkGroupId);\r\n                });\r\n            }\r\n        }\r\n        /* mapping values on submit argument*/\r\n        submitResponseArgument = {\r\n            markGroupIds: standardisationSetupStore.instance.selectedStandardisationSetupWorkList ===\r\n                enums.StandardisationSetup.ProvisionalResponse ? [markGroupId] : markGroupIdList,\r\n            markingMode: standardisationSetupStore.instance.selectedStandardisationSetupWorkList ===\r\n                enums.StandardisationSetup.ProvisionalResponse ? enums.MarkingMode.PreStandardisation\r\n                : targetHelper.getSelectedQigMarkingMode(),\r\n            examinerRoleId: qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId,\r\n            markSchemeGroupId: qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId,\r\n            examinerApproval: examinerStore.instance.getMarkerInformation.approvalStatus,\r\n            isAdminRemarker: loginStore.instance.isAdminRemarker\r\n        };\r\n        if (standardisationSetupStore.instance.selectedStandardisationSetupWorkList ===\r\n            enums.StandardisationSetup.ProvisionalResponse) {\r\n            currentWorklistType = enums.WorklistType.none;\r\n            getRemarkRequestType = enums.RemarkRequestType.Unknown;\r\n            isStdSetupMode = true;\r\n        }\r\n        else {\r\n            currentWorklistType = worklistStore.instance.currentWorklistType;\r\n            getRemarkRequestType = worklistStore.instance.getRemarkRequestType;\r\n            isStdSetupMode = false;\r\n        }\r\n        //let remarkRequestType: enums.RemarkRequestType = this.getRemarkRequestType(.worklistType);\r\n        /* calling to send data to server */\r\n        submitActionCreator.submitResponse(submitResponseArgument, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, currentWorklistType, getRemarkRequestType, true, responseStore.instance.selectedDisplayId.toString(), null, null, isStdSetupMode);\r\n    };\r\n    /**\r\n     * Clear the marks and Annotation for responses so that the marks will be reloaded\r\n     * @param submittedMarkGroupIds\r\n     */\r\n    SubmitHelper.clearMarksAndAnnotations = function (submittedMarkGroupIds) {\r\n        // check whether we need to clear marks and annoatation for pracice and standazation response.\r\n        if (submittedMarkGroupIds !== undefined) {\r\n            for (var _i = 0, submittedMarkGroupIds_1 = submittedMarkGroupIds; _i < submittedMarkGroupIds_1.length; _i++) {\r\n                var markGroupId = submittedMarkGroupIds_1[_i];\r\n                // Verify if marks and annotations of the submitted response can be cleared\r\n                if (SubmitHelper.isClearMarksAndAnnotations(markGroupId)) {\r\n                    // Calling the action creator to clear the marks and annotations\r\n                    responseActionCreator.clearMarksAndAnnotations(markGroupId);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return SubmitHelper;\r\n}());\r\nmodule.exports = SubmitHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjgyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9zdWJtaXQvc3VibWl0aGVscGVyLnRzP2I1N2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vZW51bXMnKTtcclxuaW1wb3J0IHdvcmtMaXN0VmFsaWRhdG9yU2NoZW1hID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvd29ya2xpc3R2YWxpZGF0b3JzY2hlbWEnKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCBleGFtaW5lclN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL21hcmtlcmluZm9ybWF0aW9uL2V4YW1pbmVyc3RvcmUnKTtcclxuaW1wb3J0IHJlc3BvbnNlSGVscGVyID0gcmVxdWlyZSgnLi4vcmVzcG9uc2VoZWxwZXIvcmVzcG9uc2VoZWxwZXInKTtcclxuaW1wb3J0IG1hcmtpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L21hcmtzY2hlbWUvbWFya2luZ2hlbHBlcicpO1xyXG5pbXBvcnQgdGFyZ2V0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS90YXJnZXQvdGFyZ2V0aGVscGVyJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgc3VibWl0QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvc3VibWl0L3N1Ym1pdGFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHJlc3BvbnNlQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvcmVzcG9uc2UvcmVzcG9uc2VhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBtYXJrc2FuZGFubm90YXRpb25zU2F2ZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbWFya2luZy9tYXJrc2FuZGFubm90YXRpb25zc2F2ZWhlbHBlcicpO1xyXG5pbXBvcnQgbG9naW5TdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2dpbi9sb2dpbnN0b3JlJyk7XHJcbmltcG9ydCBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeSA9IHJlcXVpcmUoJy4uL21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxuaW1wb3J0IHN1Ym1pdFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3N1Ym1pdC9zdWJtaXRzdG9yZScpO1xyXG5pbXBvcnQgcmVzcG9uc2VTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9yZXNwb25zZS9yZXNwb25zZXN0b3JlJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwc3RvcmUnKTtcclxuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vZWNvdXJzZXdvcmsvZWNvdXJzZXdvcmtoZWxwZXInKTtcclxuaW1wb3J0IGVDb3Vyc2VXb3JrRmlsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3Jlc3BvbnNlL2RpZ2l0YWwvZWNvdXJzZXdvcmtmaWxlc3RvcmUnKTtcclxuaW1wb3J0IG5hdmlnYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9uYXZpZ2F0aW9uL25hdmlnYXRpb25zdG9yZScpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgdXBkYXRlRVNNYXJrR3JvdXBNYXJraW5nTW9kZURhdGEgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvdHlwaW5ncy91cGRhdGVlc21hcmtncm91cG1hcmtpbmdtb2RlZGF0YScpO1xyXG5cclxuLyoqXHJcbiAqIFN1Ym1pdCBoZWxwZXIgZm9yIHN1Ym1pdHRpbmcgdGhlIHJlc3BvbnNlIGZyb20gUmVzcG9uc2UgYW5kIHdvcmtsaXN0XHJcbiAqL1xyXG5cclxuY2xhc3MgU3VibWl0SGVscGVyIHtcclxuICAgIHByaXZhdGUgcmVzcG9uc2VTdGF0dXNlczogSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+O1xyXG4gICAgcHJpdmF0ZSBtYXJraW5nUHJvZ3Jlc3M6IG51bWJlcjtcclxuICAgIHByaXZhdGUgY2FsY3VsYXRlQWxscGFnZXNBbm5vdGF0ZWRMb2dpYzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBtYXJrR3JvdXBJZDogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGUgc3VibWl0IGJ1dHRvblxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gbWFya2luZ1Byb2dyZXNzXHJcbiAgICAgKiBAcGFyYW0gY2FsY3VsYXRlQWxscGFnZXNBbm5vdGF0ZWRMb2dpY1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3VibWl0QnV0dG9uVmFsaWRhdGUocmVzcG9uc2U6IFJlc3BvbnNlQmFzZSwgbWFya2luZ1Byb2dyZXNzOiBudW1iZXIsIGNhbGN1bGF0ZUFsbHBhZ2VzQW5ub3RhdGVkTG9naWM6IGJvb2xlYW4sXHJcbiAgICAgICAgaGFzQmxvY2tpbmdFeGNlcHRpb25zOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5tYXJraW5nUHJvZ3Jlc3MgPSBtYXJraW5nUHJvZ3Jlc3M7XHJcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbGxwYWdlc0Fubm90YXRlZExvZ2ljID0gY2FsY3VsYXRlQWxscGFnZXNBbm5vdGF0ZWRMb2dpYztcclxuICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4oKTtcclxuICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMuY2xlYXIoKTtcclxuICAgICAgICBpZiAod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZXNwb25zZU1vZGUgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLm9wZW5SZXNwb25zZVZhbGlkYXRpb24ocmVzcG9uc2UsIGhhc0Jsb2NraW5nRXhjZXB0aW9ucyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzU3RhbmRhcmRpc2F0aW9uU2V0dXBNb2RlKSB7XHJcblx0XHRcdGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkU3RhbmRhcmRpc2F0aW9uU2V0dXBXb3JrTGlzdCA9PT1cclxuXHRcdFx0XHRlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlIHx8XHJcblx0XHRcdFx0c3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3QgPT09XHJcblx0XHRcdFx0ZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuVW5DbGFzc2lmaWVkUmVzcG9uc2UpIHtcclxuXHRcdFx0XHR0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLm9wZW5SZXNwb25zZVZhbGlkYXRpb24ocmVzcG9uc2UsIGhhc0Jsb2NraW5nRXhjZXB0aW9ucyk7XHJcblx0XHRcdH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VTdGF0dXNlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZW4gbGl2ZSB3b3JrbGlzdCB2YWxpZGF0aW9uIGZvciBtYXJraW5nIHByb2dyZXNzL3N1Ym1pdCBidXR0b25cclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9wZW5SZXNwb25zZVZhbGlkYXRpb24ocmVzcG9uc2U6IFJlc3BvbnNlQmFzZSwgaGFzQmxvY2tpbmdFeGNlcHRpb25zOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGhhcyBzdGFydGVkICovXHJcbiAgICAgICAgaWYgKHRoaXMubWFya2luZ1Byb2dyZXNzID4gMCkge1xyXG4gICAgICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaXMgY29tcGxldGVkICovXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1hcmtpbmdQcm9ncmVzcyA9PT0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAvKiogdGFraW5nIHRoZSBjYyBmcm9tIGNjIGhlbHBlciAqL1xyXG5cclxuXHRcdFx0XHQvLyBBdm9pZCBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIHdoaWxlIG9wZW5pbmcgc2luZ2xlIHJlc3BvbnNlIGluIG11bHRpUWlnXHJcblx0XHRcdFx0Ly8gQXBwbHkgRm9yY2VBbm5vdGF0aW9uT25FYWNoUGFnZSBDQyBmb3IgYWxsIFFJR3MgaW4gdGhlIHdob2xlIHJlc3BvbnNlIHdoZW4gaXQgdHVybmVkIG9uIGZvciBhdCBsZWFzdCBvbmUgUUlHXHJcbiAgICAgICAgICAgICAgICBsZXQgbWFya1NjaGVtZUdyb3VwSWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWFya0dyb3VwSWQ6IG51bWJlciA9XHJcbiAgICAgICAgICAgICAgICAgICAgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRTdGFuZGFyZGlzYXRpb25TZXR1cFdvcmtMaXN0ID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Ob25lKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UubWFya0dyb3VwSWQgOiByZXNwb25zZS5lc01hcmtHcm91cElkO1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQWxsRmlsZXNWaWV3ZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0aW9uU3RvcmUuaW5zdGFuY2UuY29udGFpbmVyUGFnZSA9PT0gZW51bXMuUGFnZUNvbnRhaW5lcnMuUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBbGxGaWxlc1ZpZXdlZCA9IGVDb3Vyc2VXb3JrRmlsZVN0b3JlLmluc3RhbmNlLmNoZWNrSWZBbGxGaWxlc1ZpZXdlZChtYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBbGxGaWxlc1ZpZXdlZCA9IHJlc3BvbnNlLmFsbEZpbGVzVmlld2VkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHRcdFx0XHRpZiAoIXJlc3BvbnNlU3RvcmUuaW5zdGFuY2UuaXNXaG9sZVJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRtYXJrU2NoZW1lR3JvdXBJZCA9IHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cdFx0XHRcdH1cclxuICAgICAgICAgICAgICAgIGxldCBpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsIG1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGlzQWxsU0xBT0Fubm90YXRlZENDID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuU0xBT0ZvcmNlZEFubm90YXRpb25zLCBtYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgLyoqIGlmIHNsYW8gYW5ub3RhdGVkIGNjIGlzIG9uIGFuZCBhbGwgcGFnZXMgYXJlIG5vdCBhbm5vdGF0ZWQgT1IgYWxsIHBhZ2VzIGFubm90YXRlZCBjYyBpcyBvblxyXG4gICAgICAgICAgICAgICAgICogIGFuZCBhbGwgcGFnZXMgYXJlIG5vdCBhbm5vdGF0ZWQgaWYgYm90aCBDQ3MgYXJlIG9uLCBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGhhc1xyXG4gICAgICAgICAgICAgICAgICogIHRoZSBoaWdoZXIgcHJpb3JpdHkuXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuXHRcdFx0XHRpZiAodGhpcy5jYWxjdWxhdGVBbGxwYWdlc0Fubm90YXRlZExvZ2ljID09PSB0cnVlICYmIChpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgfHwgaXNBbGxTTEFPQW5ub3RhdGVkQ0MpKSB7XHJcblx0XHRcdFx0XHRyZXNwb25zZS5oYXNBbGxQYWdlc0Fubm90YXRlZCA9IG1hcmtpbmdIZWxwZXIuaXNBbGxQYWdlQW5ub3RhdGVkKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3QgPT09XHJcblx0XHRcdFx0XHRlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5VbkNsYXNzaWZpZWRSZXNwb25zZSAmJlxyXG5cdFx0XHRcdFx0IXN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhLnJvbGUucGVybWlzc2lvbnMudmlld0RlZmluaXRpdmVzKSB7XHJcblx0XHRcdFx0XHQvLyBTVEQgVW5DbGFzc2lmaWVkIFJlc3BvbnNlIHdpdGggTm8gVmlldyBEZWZpbml0aXZlIFBlcm1pc3Npb25cclxuXHRcdFx0XHRcdHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLk5vVmlld0RlZmluaXRpdmVzUGVybWlzc3Npb24pO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3QgPT09XHJcblx0XHRcdFx0XHRlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5VbkNsYXNzaWZpZWRSZXNwb25zZSAmJiByZXNwb25zZS5oYXNEZWZpbml0aXZlTWFyayA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdC8vIFNURCBVbkNsYXNzaWZpZWQgUmVzcG9uc2Ugd2l0aCBEZWZpbml0aXZlIE1hcmtpbmcgTm90IFN0YXJ0ZWRcclxuXHRcdFx0XHRcdHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmRlZmluaXRpdmVNYXJraW5nTm90U3RhcnRlZCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkU3RhbmRhcmRpc2F0aW9uU2V0dXBXb3JrTGlzdCA9PT1cclxuXHRcdFx0XHRcdGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlVuQ2xhc3NpZmllZFJlc3BvbnNlICYmXHJcblx0XHRcdFx0XHQhc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGRTZXR1cFBlcm1pc3Npb25DQ0RhdGEucm9sZS5wZXJtaXNzaW9ucy5jbGFzc2lmeSkge1xyXG5cdFx0XHRcdFx0Ly8gU1REIFVuQ2xhc3NpZmllZCBSZXNwb25zZSB3aXRoIE5vIHBlcm1pc3Npb24gdG8gQ2xhc3NpZnlcclxuXHRcdFx0XHRcdHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLk5vUGVybWlzc2lvblRvQ2xhc3NpZnkpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoKCFpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgaXNBbGxTTEFPQW5ub3RhdGVkQ0MgJiYgcmVzcG9uc2UuaGFzQWxsUGFnZXNBbm5vdGF0ZWQgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IChpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgcmVzcG9uc2UuaGFzQWxsUGFnZXNBbm5vdGF0ZWQgPT09IGZhbHNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vdEFsbFBhZ2VzQW5ub3RhdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0Jsb2NraW5nRXhjZXB0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNFeGNlcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZUNvdXJzZXdvcmtIZWxwZXIuaXNFQ291cnNld29ya0NvbXBvbmVudCAmJiAhaXNBbGxGaWxlc1ZpZXdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxGaWxlc1ZpZXdlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNCbG9ja2luZ0V4Y2VwdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhhc0Jsb2NraW5nRXhjZXB0aW9ucykgIHtcclxuICAgICAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAgICAgKiBpZiB0aGUgbWFya2luZyBpcyBjb21wbGV0ZWQgYW5kIGJsb2NraW5nIGV4Y2VwdGlvbnMgYXJlIHRoZXJlLCBzaG93IGJvdGguXHJcbiAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzRXhjZXB0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmhhc1pvbmluZ0V4Y2VwdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaXMgY29tcGxldGVkIGFuZCB6b25pbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgYm90aC4gKi9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNab25pbmdFeGNlcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICAgICAqIGlmIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaXMgb2ZmIGFuZCBpZiBubyBibG9ja2luZyBleGNlcHRpb25zIGFyZSB0aGVyZSwgc2hvdyByZWFkeSB0byBzdWJtaXQgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMucmVhZHlUb1N1Ym1pdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNCbG9ja2luZ0V4Y2VwdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICogaWYgdGhlIG1hcmtpbmcgaXMgaW4gcHJvZ3Jlc3MgYW5kIGJsb2NraW5nIGV4Y2VwdGlvbnMgYXJlIHRoZXJlLCBzaG93IGJvdGguXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcblx0XHRcdH0gZWxzZSBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3QgPT09XHJcblx0XHRcdFx0ZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuVW5DbGFzc2lmaWVkUmVzcG9uc2UgJiZcclxuXHRcdFx0XHQhc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGRTZXR1cFBlcm1pc3Npb25DQ0RhdGEucm9sZS5wZXJtaXNzaW9ucy52aWV3RGVmaW5pdGl2ZXMpIHtcclxuXHJcblx0XHRcdFx0dGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMuTm9WaWV3RGVmaW5pdGl2ZXNQZXJtaXNzc2lvbik7XHJcblxyXG5cdFx0XHR9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHRcdH0gZWxzZSB7IC8vaWYgbWFya2luZyBoYXMgbm90IHN0YXJ0ZWRcclxuXHJcblx0XHRcdC8vSWYgU3RhbmRhcmRpc2F0aW9uU2V0dXAgVW5DbGFzc2lmaWVkUmVzcG9uc2UgYW5kIGRlZmVuaXRpdmUgbWFya2luZyBwZXJjZW50YWdlIGl6IFplcm8gdGhlbiBzaG93IHN0YXR1cyBhcyAwJVxyXG5cdFx0XHRpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3QgPT09XHJcblx0XHRcdFx0ZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuVW5DbGFzc2lmaWVkUmVzcG9uc2UpIHtcclxuXHRcdFx0XHQvLyBJZiB0aGUgbG9nZ2VkIGluIHVzZXIgaGFzICdObyBWaWV3IERlZmluaXRpdmUnIFBlcm1pc3Npb24sIHRoZW4gc2hvdyBzdGF0dXMgYXMgJ1Byb3Zpc2lvbmFsJy5cclxuXHRcdFx0XHRpZiAoIXN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhLnJvbGUucGVybWlzc2lvbnMudmlld0RlZmluaXRpdmVzKSB7XHJcblx0XHRcdFx0XHR0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5Ob1ZpZXdEZWZpbml0aXZlc1Blcm1pc3NzaW9uKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0ICAgLy8gaWYgbWFya2luZyBub3Qgc3RhcnRlZCBzaG93IHRoZSBzYW1lXHJcblx0XHRcdFx0dGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ05vdFN0YXJ0ZWQpO1xyXG5cdFx0XHR9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlU3RhdHVzZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTYXZlIGFuZCBzdWJtaXQgcmVzcG9uc2UgZm9yIHRoZSBtYXJrZ3JvdXBpZFxyXG4gICAgICogQHBhcmFtIG1hcmtHcm91cElkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgc2F2ZUFuZFN1Ym1pdFJlc3BvbnNlKG1hcmtHcm91cElkOiBudW1iZXIpIHtcclxuICAgICAgICBtYXJrc2FuZGFubm90YXRpb25zU2F2ZUhlbHBlci50cmlnZ2VyTWFya3NBbmRBbm5vdGF0aW9uc1F1ZXVlUHJvY2Vzc2luZ1xyXG4gICAgICAgICAgICAoZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LlN1Ym1pdCxcclxuICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgU3VibWl0SGVscGVyLnN1Ym1pdHJlcG9uc2UobWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNhdmUgYW5kIGNsYXNzaWZ5IHJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gZXNNYXJrR3JvdXBJZFxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlRGV0YWlsc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNhdmVBbmRDbGFzc2lmeVJlc3BvbnNlKGVzTWFya0dyb3VwSWQ6IG51bWJlciwgcmVzcG9uc2VEZXRhaWxzOiB1cGRhdGVFU01hcmtHcm91cE1hcmtpbmdNb2RlRGF0YSkge1xyXG4gICAgICAgIG1hcmtzYW5kYW5ub3RhdGlvbnNTYXZlSGVscGVyLnRyaWdnZXJNYXJrc0FuZEFubm90YXRpb25zUXVldWVQcm9jZXNzaW5nXHJcbiAgICAgICAgICAgIChlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuQ2xhc3NpZnksXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IuY2xhc3NpZnlSZXNwb25zZShyZXNwb25zZURldGFpbHMsIG5hdmlnYXRpb25TdG9yZS5pbnN0YW5jZS5jb250YWluZXJQYWdlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTYXZlIGFuZCBjbGFzc2lmeSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIGVzTWFya0dyb3VwSWRcclxuICAgICAqIEBwYXJhbSByZXNwb25zZURldGFpbHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBzYXZlQW5kU2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlKFxyXG4gICAgXHRzdWJtaXRSZXNwb25zZUFyZ3VtZW50OiBTdWJtaXRSZXNwb25zZUFyZ3VtZW50LFxyXG4gICAgICAgIHNoYXJlZEZyb21NYXJrU2NoZW1lOiBib29sZWFuID0gIGZhbHNlLFxyXG4gICAgICAgIHNlbGVjdGVkRGlzcGxheUlkOiBzdHJpbmcgPSB1bmRlZmluZWQsXHJcbiAgICApIHtcclxuICAgICAgICBtYXJrc2FuZGFubm90YXRpb25zU2F2ZUhlbHBlci50cmlnZ2VyTWFya3NBbmRBbm5vdGF0aW9uc1F1ZXVlUHJvY2Vzc2luZ1xyXG4gICAgICAgICAgICAoZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LlNoYXJlQW5kQ2xhc3NpZnksXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHN1Ym1pdEFjdGlvbkNyZWF0b3Iuc2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlKFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdFJlc3BvbnNlQXJndW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVkRnJvbU1hcmtTY2hlbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREaXNwbGF5SWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJtaXQgcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBtYXJrR3JvdXBJZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHN1Ym1pdHJlcG9uc2UgPSAobWFya0dyb3VwSWQ6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgICAgIGxldCBzdWJtaXRSZXNwb25zZUFyZ3VtZW50OiBTdWJtaXRSZXNwb25zZUFyZ3VtZW50O1xyXG4gICAgICAgIGxldCBjdXJyZW50V29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGU7XHJcbiAgICAgICAgbGV0IGdldFJlbWFya1JlcXVlc3RUeXBlOiBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZTtcclxuICAgICAgICBsZXQgaXNTdGRTZXR1cE1vZGU6IGJvb2xlYW47XHJcbiAgICAgICAgLyogU3VibWl0dGluZyAgcmVzcG9uc2VzIGluaXRpYXRlZCAqL1xyXG4gICAgICAgIC8qIFNlbGVjdCB0aGUgbWFyayBncm91cCBsaXN0IGJhc2VkIG9uIHRoZSBjdXJyZW50IHJlc3BvbnNlIG1vZGUgKi9cclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRMaXN0OiBBcnJheTxOdW1iZXI+ID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgbWFya0dyb3VwSWRMaXN0LnB1c2gobWFya0dyb3VwSWQpO1xyXG5cclxuICAgICAgICBpZiAocmVzcG9uc2VTdG9yZS5pbnN0YW5jZS5pc1dob2xlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgLy8gSWYgYSB3aG9sZSByZXNwb25zZSwgcmV0cmlldmUgYWxsIHRoZSByZWxhdGVkIG1hcmtHcm91cElkc1xyXG4gICAgICAgICAgICBsZXQgcmVsYXRlZE1hcmtHcm91cElkczogbnVtYmVyW10gPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbGF0ZWRNYXJrR3JvdXBJZHNGb3JXaG9sZVJlc3BvbnNlKG1hcmtHcm91cElkKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSByZWxhdGVkIG1hcmtHcm91cElkcyBmb3Igd2hvbGUgcmVzcG9uc2Ugc3VibWlzc2lvbiBmcm9tIG1hcmsgc2NoZW1lIHBhbmVsXHJcbiAgICAgICAgICAgIC8vIEZvciBBdHlwaWNhbCwgdGhlIGlzV2hvbGVSZXNwb25zZSBmbGFnIGlzIHRydWUgYWx3YXlzLCBzbyBhbHNvIGNoZWNraW5nIHRoZSByZXRyaWV2ZWQgbGlzdCBsZW5ndGhcclxuICAgICAgICAgICAgaWYgKHJlbGF0ZWRNYXJrR3JvdXBJZHMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICByZWxhdGVkTWFya0dyb3VwSWRzLm1hcCgocmVsYXRlZE1hcmtHcm91cElkOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZExpc3QucHVzaChyZWxhdGVkTWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIG1hcHBpbmcgdmFsdWVzIG9uIHN1Ym1pdCBhcmd1bWVudCovXHJcbiAgICAgICAgc3VibWl0UmVzcG9uc2VBcmd1bWVudCA9IHtcclxuICAgICAgICAgICAgbWFya0dyb3VwSWRzOiBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkU3RhbmRhcmRpc2F0aW9uU2V0dXBXb3JrTGlzdCA9PT1cclxuICAgICAgICAgICAgICAgIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2UgPyBbbWFya0dyb3VwSWRdIDogbWFya0dyb3VwSWRMaXN0LFxyXG4gICAgICAgICAgICBtYXJraW5nTW9kZTogc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3QgPT09XHJcbiAgICAgICAgICAgICAgICBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlID8gZW51bXMuTWFya2luZ01vZGUuUHJlU3RhbmRhcmRpc2F0aW9uXHJcbiAgICAgICAgICAgICAgICA6IHRhcmdldEhlbHBlci5nZXRTZWxlY3RlZFFpZ01hcmtpbmdNb2RlKCksXHJcbiAgICAgICAgICAgIGV4YW1pbmVyUm9sZUlkOiBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWQ6IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICBleGFtaW5lckFwcHJvdmFsOiBleGFtaW5lclN0b3JlLmluc3RhbmNlLmdldE1hcmtlckluZm9ybWF0aW9uLmFwcHJvdmFsU3RhdHVzLFxyXG4gICAgICAgICAgICBpc0FkbWluUmVtYXJrZXI6IGxvZ2luU3RvcmUuaW5zdGFuY2UuaXNBZG1pblJlbWFya2VyXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3QgPT09XHJcbiAgICAgICAgICAgIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgY3VycmVudFdvcmtsaXN0VHlwZSA9IGVudW1zLldvcmtsaXN0VHlwZS5ub25lO1xyXG4gICAgICAgICAgICBnZXRSZW1hcmtSZXF1ZXN0VHlwZSA9IGVudW1zLlJlbWFya1JlcXVlc3RUeXBlLlVua25vd247XHJcbiAgICAgICAgICAgIGlzU3RkU2V0dXBNb2RlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJyZW50V29ya2xpc3RUeXBlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlO1xyXG4gICAgICAgICAgICBnZXRSZW1hcmtSZXF1ZXN0VHlwZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVtYXJrUmVxdWVzdFR5cGU7XHJcbiAgICAgICAgICAgIGlzU3RkU2V0dXBNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2xldCByZW1hcmtSZXF1ZXN0VHlwZTogZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUgPSB0aGlzLmdldFJlbWFya1JlcXVlc3RUeXBlKC53b3JrbGlzdFR5cGUpO1xyXG4gICAgICAgIC8qIGNhbGxpbmcgdG8gc2VuZCBkYXRhIHRvIHNlcnZlciAqL1xyXG4gICAgICAgIHN1Ym1pdEFjdGlvbkNyZWF0b3Iuc3VibWl0UmVzcG9uc2VcclxuICAgICAgICAgICAgKHN1Ym1pdFJlc3BvbnNlQXJndW1lbnQsIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICBjdXJyZW50V29ya2xpc3RUeXBlLCBnZXRSZW1hcmtSZXF1ZXN0VHlwZSwgdHJ1ZSwgcmVzcG9uc2VTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZERpc3BsYXlJZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBudWxsLCBudWxsLCBpc1N0ZFNldHVwTW9kZSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENsZWFyIHRoZSBtYXJrcyBhbmQgQW5ub3RhdGlvbiBmb3IgcmVzcG9uc2VzIHNvIHRoYXQgdGhlIG1hcmtzIHdpbGwgYmUgcmVsb2FkZWRcclxuICAgICAqIEBwYXJhbSBzdWJtaXR0ZWRNYXJrR3JvdXBJZHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjbGVhck1hcmtzQW5kQW5ub3RhdGlvbnMgPSAoc3VibWl0dGVkTWFya0dyb3VwSWRzOiBBcnJheTxudW1iZXI+KTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gY2hlY2sgd2hldGhlciB3ZSBuZWVkIHRvIGNsZWFyIG1hcmtzIGFuZCBhbm5vYXRhdGlvbiBmb3IgcHJhY2ljZSBhbmQgc3RhbmRhemF0aW9uIHJlc3BvbnNlLlxyXG4gICAgICAgIGlmIChzdWJtaXR0ZWRNYXJrR3JvdXBJZHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBtYXJrR3JvdXBJZCBvZiBzdWJtaXR0ZWRNYXJrR3JvdXBJZHMpIHtcclxuICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBpZiBtYXJrcyBhbmQgYW5ub3RhdGlvbnMgb2YgdGhlIHN1Ym1pdHRlZCByZXNwb25zZSBjYW4gYmUgY2xlYXJlZFxyXG4gICAgICAgICAgICAgICAgaWYgKFN1Ym1pdEhlbHBlci5pc0NsZWFyTWFya3NBbmRBbm5vdGF0aW9ucyhtYXJrR3JvdXBJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDYWxsaW5nIHRoZSBhY3Rpb24gY3JlYXRvciB0byBjbGVhciB0aGUgbWFya3MgYW5kIGFubm90YXRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VBY3Rpb25DcmVhdG9yLmNsZWFyTWFya3NBbmRBbm5vdGF0aW9ucyhtYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogIFZlcmlmeSBpZiBtYXJrcyBhbmQgYW5ub3RhdGlvbnMgY2FuIGJlIGNsZWFyZWQgb3Igbm90XHJcbiAgICAgKlxyXG4gICAgICogIEluIENhc2Ugb2YgQmxpbmQgUHJhY3RpY2UgTWFya2luZywgc3RhbmRhcmRpc2F0aW9uIG1hcmtpbmcsIGlzUXVhbGl0eUZlZWRiYWNrT3V0c3RhbmRpbmcgb2Ygc2VlZCxcclxuICAgICAqICB0aGUgZGVmaW5pdGl2ZSBtYXJrcyBhcmUgbm90IHJldHJpZXZlZCBmcm9tIGdhdGV3YXkgZm9yIG9wZW4gcmVzcG9uc2VzXHJcbiAgICAgKiAgU28gYWZ0ZXIgc3VibWlzc2lvbiBvZiBhIHByYWN0aWNlIHJlc3BvbnNlIHdlIG5lZWQgdG8gY2xlYXIgdGhlIGV4aXN0aW5nIG1hcmtzIGFuZCBhbm5vdGF0aW9uIHNvIHRoYXQgdGhlXHJcbiAgICAgKiAgTWFya3MgYW5kIGFubm90YXRpb25zIHdpbGwgYmUgcmV0cmlldmVkIGZyb20gZ2F0ZXdheS4gVGhlIHNhbWUgbG9naWMgaXMgZG9uZSBpbiB3b3JrbGlzdCBhcyB3ZWxsXHJcbiAgICAgKiAgQHBhcmFtIG1hcmtHcm91cElkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIGlzQ2xlYXJNYXJrc0FuZEFubm90YXRpb25zKG1hcmtHcm91cElkOiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgaXNCbGluZFByYWN0aWNlTWFya2luZ09uIENDIGlzIHR1cm5lZCBPbiBcclxuICAgICAgICBsZXQgaXNCbGluZFByYWN0aWNlTWFya2luZ09uOiBib29sZWFuID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkJsaW5kUHJhY3RpY2VNYXJraW5nKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIGlzU2hvd1N0YW5kYXJkaXNhdGlvbkRlZmluaXRpdmVNYXJrcyBDQyBpcyB0dXJuZWQgT25cclxuICAgICAgICBsZXQgaXNTaG93U3RhbmRhcmRpc2F0aW9uRGVmaW5pdGl2ZU1hcmtzOiBib29sZWFuID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNob3dTdGFuZGFyZGlzYXRpb25EZWZpbml0aXZlTWFya3MsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIEF1dG9tYXRpY1F1YWxpdHlGZWVkYmFjayBDQyBpcyB0dXJuZWQgT05cclxuICAgICAgICBsZXQgaXNBdXRvbWF0aWNRdWFsaXR5RmVlZGJhY2s6IGJvb2xlYW4gPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuQXV0b21hdGljUXVhbGl0eUZlZWRiYWNrLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xyXG5cclxuICAgICAgICAvLyBjaGVjayB3aGV0aGVyIHRoZSBjdXJyZW50IHJlc3BvbnNlIHR5cGUgaXMgc3RhbmRhcmRpc2F0aW9uL3NlY29uZHN0YW5kYXJkaXNhdGlvbiBtYXJraW5nIFxyXG4gICAgICAgIC8vIGFuZCBjb3JyZXNwb25kaW5nIGNjIGlzIE9OIGZvciBzaG93aW5nICBwcmV2aW91cyBkZWZpbml0aXZlIG1hcmsgYWZ0ZXIgc3VibWl0dGluZy5cclxuICAgICAgICBsZXQgaXNTdGFuZGFyZGlzYXRpb24gPSAod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuc3RhbmRhcmRpc2F0aW9uXHJcbiAgICAgICAgICAgIHx8IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnNlY29uZHN0YW5kYXJkaXNhdGlvbilcclxuICAgICAgICAgICAgJiYgaXNTaG93U3RhbmRhcmRpc2F0aW9uRGVmaW5pdGl2ZU1hcmtzID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBjaGVjayB3aGV0aGVyIHRoZSBjdXJyZW50IHJlc3BvbnNlIHR5cGUgaXMgUHJhY3RpY2UgYW5kIGNvcnJlc3BvbmRpbmcgY2MgaXMgT04gZm9yIHNob3dpbmdcclxuICAgICAgICAvLyBwcmV2aW91cyBkZWZpbml0aXZlIG1hcmsgYWZ0ZXIgc3VibWl0dGluZy5cclxuICAgICAgICBsZXQgaXNQcmFjdGljZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnByYWN0aWNlXHJcbiAgICAgICAgICAgICYmIGlzQmxpbmRQcmFjdGljZU1hcmtpbmdPbiA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgbGV0IGlzU2VlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBzZWVkQ29sbGVjdGlvbiA9IHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldFN1Ym1pdFJlc3BvbnNlUmV0dXJuLnNlZWRDb2xsZWN0aW9uW21hcmtHcm91cElkXTtcclxuICAgICAgICBpZiAoc2VlZENvbGxlY3Rpb24pIHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGUgc3VibWl0dGVkIHJlc3BvbnNlIGlzIHNlZWQgb3Igbm90IGFuZCBpZiBRdWFsaXR5IGZlZWRiYWNrIENDIGlzIE9OIG9yIG5vdFxyXG4gICAgICAgICAgICBpc1NlZWQgPSBpc0F1dG9tYXRpY1F1YWxpdHlGZWVkYmFjayAmJiBzZWVkQ29sbGVjdGlvbi5zZWVkVHlwZSAhPT0gZW51bXMuU2VlZFR5cGUuTm9uZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpc1N0YW5kYXJkaXNhdGlvbiB8fCBpc1ByYWN0aWNlIHx8IGlzU2VlZDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gU3VibWl0SGVscGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy91dGlsaXR5L3N1Ym1pdC9zdWJtaXRoZWxwZXIudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUVBO0FBQUE7QUFHQTtBQXdUQTtBQXJUQTs7Ozs7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUlBO0FBQ0E7QUErRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUF4SEE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBK0NBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 283:
/* no static exports found */
/* all exports used */
/*!*********************************************************!*\
  !*** ./src/components/utility/message/messagehelper.ts ***!
  \*********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\r\nvar messagestore = __webpack_require__(/*! ../../../stores/message/messagestore */ 240);\r\nvar groupHelper = __webpack_require__(/*! ../../../utility/grouping/grouphelper */ 430);\r\nvar grouperList = __webpack_require__(/*! ../../../utility/grouping/groupingbase/grouperlist */ 427);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\nvar localehelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\nvar stringFormatHelper = __webpack_require__(/*! ../../../utility/stringformat/stringformathelper */ 250);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar messageEditorConstants = __webpack_require__(/*! ../messageeditorconstants */ 325);\r\nvar stringHelper = __webpack_require__(/*! ../../../utility/generic/stringhelper */ 254);\r\nvar htmlUtilities = __webpack_require__(/*! ../../../utility/generic/htmlutilities */ 243);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../markeroperationmode/markeroperationmodefactory */ 232);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar MessageHelper = /** @class */ (function () {\r\n    function MessageHelper() {\r\n    }\r\n    /**\r\n     * Get the Header to display and the related messges\r\n     * @param messages\r\n     */\r\n    MessageHelper.getGroupedMessageObject = function (messages, expandOrCollapseDetails) {\r\n        var _this = this;\r\n        // To store the messages after the grouping and sorting\r\n        var messageList = Immutable.List();\r\n        // Get the messages grouped by QIG\r\n        var groupedMessages = groupHelper.group(messages, grouperList.MessageQigGrouper, enums.GroupByField.qig);\r\n        // Get the key seq\r\n        var groupedKeys = groupedMessages.keySeq();\r\n        // Create the return object\r\n        var returnObj = [];\r\n        // Loop through the keys and find the list of messages for the group.\r\n        groupedKeys.forEach(function (qigId) {\r\n            // Get the messages for the group.\r\n            var currentMessageGroup = groupedMessages.get(qigId);\r\n            // Clear the collection, In each group.\r\n            var messages = [];\r\n            // Get the each messages for the group.\r\n            currentMessageGroup.map(function (message) {\r\n                if (message.status === enums.MessageReadStatus.New && messagestore.instance.isMessageRead(message.examinerMessageId)) {\r\n                    message.status = enums.MessageReadStatus.Read;\r\n                }\r\n                messages.push(message);\r\n            });\r\n            // Get the awarding body name format\r\n            var nameToDisplay = MessageHelper.getDisplayText(messages[0]);\r\n            var messageFolderType = messages[0].messageFolderType;\r\n            // Create an object to store messages\r\n            var groupedObj = {\r\n                qigId: parseInt(qigId),\r\n                isOpen: _this.isQigOpen(parseInt(qigId), messageFolderType, expandOrCollapseDetails),\r\n                textToDisplay: nameToDisplay,\r\n                messages: messages,\r\n                unReadMessages: messages.filter(function (x) {\r\n                    return x.status === enums.MessageReadStatus.New && !messagestore.instance.isMessageRead(x.examinerMessageId);\r\n                }).length\r\n            };\r\n            returnObj.push(groupedObj);\r\n        });\r\n        // Sort the objects based on the display header.\r\n        var getGroupedMessageObject = returnObj.sort(function (obj1, obj2) {\r\n            return obj1.textToDisplay.localeCompare(obj2.textToDisplay);\r\n        });\r\n        // Get the messages as in the order of displaying in the UI\r\n        getGroupedMessageObject.forEach(function (messageObject) {\r\n            messageList = Immutable.List(messageList.concat(messageObject.messages));\r\n        });\r\n        var messageGroupDetails = {\r\n            // Stores the Grouped Object along with those messages\r\n            MessageGroupObjects: getGroupedMessageObject,\r\n            // Store all messages for the UI\r\n            messages: messageList\r\n        };\r\n        return messageGroupDetails;\r\n    };\r\n    /**\r\n     * Returns whether a particular qig is open or not\r\n     * @param expandOrCollapseDetails\r\n     */\r\n    MessageHelper.isQigOpen = function (qigId, messageFolderType, expandOrCollapseDetails) {\r\n        return expandOrCollapseDetails ? expandOrCollapseDetails.get(qigId, true) : true;\r\n    };\r\n    /**\r\n     * Get the time style for the Date\r\n     * @param timeToDisplay\r\n     * @param todayTextConversionRequired : for deciding Today text conversion\r\n     */\r\n    MessageHelper.getDateToDisplay = function (timeToDisplay, todayTextConversionRequired) {\r\n        if (todayTextConversionRequired === void 0) { todayTextConversionRequired = true; }\r\n        var timeToDisplayDate = new Date(timeToDisplay);\r\n        var todaysDate = new Date();\r\n        var time = localehelper.toLocaleTimeString(new Date(timeToDisplay.toString()));\r\n        // call setHours to take the time out of the comparison\r\n        if ((timeToDisplayDate.setHours(0, 0, 0, 0) === todaysDate.setHours(0, 0, 0, 0)) && todayTextConversionRequired) {\r\n            // Date equals today's date. Display date feild as Today.\r\n            return localeStore.instance.TranslateText('messaging.message-lists.message-detail.date-today') + ' ' + time;\r\n        }\r\n        else {\r\n            return localehelper.toLocaleDateString(new Date(timeToDisplay)) + ' ' + time;\r\n        }\r\n    };\r\n    /**\r\n     * Get the Display Header for the Group Header.\r\n     * @param message\r\n     */\r\n    MessageHelper.getDisplayText = function (message) {\r\n        var msg = messagestore.instance.messagesMarkSchemes;\r\n        if (msg) {\r\n            var messageList = msg.filter(function (messages) { return messages.markSchemeGroupId === message.markSchemeGroupId; });\r\n            {\r\n                return stringFormatHelper.formatAwardingBodyQIG(messageList.first().markSchemeGroupName, messageList.first().assessmentCode, messageList.first().sessionName, messageList.first().componentId, messageList.first().questionPaperName, messageList.first().assessmentName, messageList.first().componentName, stringFormatHelper.getOverviewQIGNameFormat());\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Return the Mark Scheme Group Name\r\n     * @param message\r\n     */\r\n    MessageHelper.getMarkSchemeGroupName = function (message) {\r\n        var msg = messagestore.instance.messagesMarkSchemes;\r\n        if (msg) {\r\n            return msg.filter(function (messages) { return messages.markSchemeGroupId === message.markSchemeGroupId; }).\r\n                first().markSchemeGroupName;\r\n        }\r\n    };\r\n    /**\r\n     * Used to create the MessageOrExceptionLinkedItems based on the messages\r\n     * @param messages\r\n     */\r\n    MessageHelper.getMessageLinkedItems = function (messages) {\r\n        var messageOrExceptionLinkedItems = [];\r\n        var items = messages.forEach(function (message) {\r\n            messageOrExceptionLinkedItems.push({\r\n                itemId: message.examinerMessageId,\r\n                senderOrItem: message.toTeam ?\r\n                    localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.entire-team') :\r\n                    MessageHelper.appendExaminer(message),\r\n                priorityOrStatus: message.priorityName,\r\n                subjectOrType: message.subject,\r\n                timeToDisplay: message.displayDate,\r\n                isUnreadOrUnactioned: message.status === enums.MessageReadStatus.New &&\r\n                    !messagestore.instance.isMessageRead(message.examinerMessageId)\r\n            });\r\n        });\r\n        return Immutable.List(messageOrExceptionLinkedItems);\r\n    };\r\n    /**\r\n     * append examiners\r\n     */\r\n    MessageHelper.appendExaminer = function (message) {\r\n        var examiners = '';\r\n        if (message && message.toExaminerDetails != null) {\r\n            message.toExaminerDetails.map(function (item) {\r\n                examiners += item.fullName + ';';\r\n            });\r\n            // removing last item semicolon\r\n            return examiners.replace(/;$/, '');\r\n        }\r\n        else {\r\n            examiners = message.examinerDetails.fullName;\r\n        }\r\n        return examiners;\r\n    };\r\n    /**\r\n     * This method will returns the message content based on the template name\r\n     * @param templateName - template name\r\n     * @param messageBody - message content\r\n     */\r\n    MessageHelper.getMessageContent = function (templateName, messageFrom, date, messageBody) {\r\n        var template;\r\n        switch (templateName) {\r\n            case enums.MessageType.InboxReply:\r\n            case enums.MessageType.ResponseReply:\r\n                template = stringHelper.format(localeStore.instance.TranslateText('messaging.compose-message.new-message-templates.reply'), [messageEditorConstants.TINYMCE_DEFAULT_FONT, messageEditorConstants.TINYMCE_DEFAULT_FONTSIZE,\r\n                    this.getDateToDisplay(date, false), messageFrom, messageBody]);\r\n                break;\r\n            case enums.MessageType.InboxForward:\r\n            case enums.MessageType.ResponseForward:\r\n                template = stringHelper.format(localeStore.instance.TranslateText('messaging.compose-message.new-message-templates.forward'), [messageEditorConstants.TINYMCE_DEFAULT_FONT, messageEditorConstants.TINYMCE_DEFAULT_FONTSIZE,\r\n                    this.getDateToDisplay(date, false), messageFrom, messageBody]);\r\n                break;\r\n            case enums.MessageType.ResponseCompose:\r\n            case enums.MessageType.WorklistCompose:\r\n            case enums.MessageType.InboxCompose:\r\n            case enums.MessageType.TeamCompose:\r\n                template = stringHelper.format(localeStore.instance.TranslateText('messaging.compose-message.new-message-templates.new'), [messageEditorConstants.TINYMCE_DEFAULT_FONT, messageEditorConstants.TINYMCE_DEFAULT_FONTSIZE]);\r\n                break;\r\n        }\r\n        return template;\r\n    };\r\n    /**\r\n     * This method will return the Menu Action items needed based on the folder type\r\n     * @param folderType\r\n     * @param messageActions: an array of message actions\r\n     */\r\n    MessageHelper.getMessageMenuActionItems = function (folderType, messageActions) {\r\n        var _this = this;\r\n        var messageMenuActionItems = [];\r\n        switch (folderType) {\r\n            case enums.MessageFolderType.Inbox:\r\n                if (messageActions && messageActions.length > 0) {\r\n                    messageActions.map(function (x) {\r\n                        var actionItems = _this.messageActionItems(x);\r\n                        if (actionItems) {\r\n                            messageMenuActionItems.push(actionItems);\r\n                        }\r\n                    });\r\n                }\r\n        }\r\n        return messageMenuActionItems;\r\n    };\r\n    /**\r\n     * This method will return the localised message string based on message type\r\n     */\r\n    MessageHelper.getMessageHeader = function (messageType) {\r\n        var messageHeader;\r\n        switch (messageType) {\r\n            case enums.MessageType.InboxCompose:\r\n            case enums.MessageType.WorklistCompose:\r\n            case enums.MessageType.ResponseCompose:\r\n            case enums.MessageType.TeamCompose:\r\n                messageHeader = localeStore.instance.TranslateText('messaging.compose-message.new-message-header');\r\n                break;\r\n            case enums.MessageType.InboxForward:\r\n            case enums.MessageType.ResponseForward:\r\n                messageHeader = localeStore.instance.TranslateText('messaging.compose-message.forward-header');\r\n                break;\r\n            case enums.MessageType.InboxReply:\r\n            case enums.MessageType.ResponseReply:\r\n                messageHeader = localeStore.instance.TranslateText('messaging.compose-message.reply-header');\r\n                break;\r\n            case enums.MessageType.ResponseDetails:\r\n                messageHeader = localeStore.instance.TranslateText('marking.response.message-panel.header');\r\n        }\r\n        return messageHeader;\r\n    };\r\n    /**\r\n     * This method will returns the subject string\r\n     * @param messageType\r\n     * @param subject\r\n     */\r\n    MessageHelper.getSubjectContent = function (messageType, subject) {\r\n        var subjectText;\r\n        var subjectPrefix;\r\n        switch (messageType) {\r\n            case enums.MessageType.InboxCompose:\r\n                subjectText = subject;\r\n                break;\r\n            case enums.MessageType.InboxForward:\r\n            case enums.MessageType.ResponseForward:\r\n                subjectPrefix = localeStore.instance.TranslateText('messaging.compose-message.forward-prefix');\r\n                subjectText = subject.indexOf(subjectPrefix) === -1 ? subjectPrefix + ' ' + subject : subject;\r\n                break;\r\n            case enums.MessageType.InboxReply:\r\n            case enums.MessageType.ResponseReply:\r\n                subjectPrefix = localeStore.instance.TranslateText('messaging.compose-message.reply-prefix');\r\n                subjectText = subject.indexOf(subjectPrefix) === -1 ? subjectPrefix + ' ' + subject : subject;\r\n                break;\r\n        }\r\n        return subjectText;\r\n    };\r\n    Object.defineProperty(MessageHelper, \"getCreateNewMessageText\", {\r\n        /**\r\n         * Get the Create new text for the component.\r\n         */\r\n        get: function () {\r\n            return localeStore.instance.TranslateText('marking.response.message-list-panel.create-new-message');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * This method will return the Menu Action item based on the action parameter\r\n     * @param messageAction\r\n     */\r\n    MessageHelper.messageActionItems = function (messageAction) {\r\n        switch (messageAction) {\r\n            case enums.MessageAction.Reply:\r\n                return ({\r\n                    id: enums.MessageAction.Reply,\r\n                    icon: 'reply-icon',\r\n                    name: localeStore.instance.TranslateText('messaging.message-lists.message-detail.reply-button')\r\n                });\r\n            case enums.MessageAction.Forward:\r\n                if (!markerOperationModeFactory.operationMode.isForwardButtonHidden) {\r\n                    return ({\r\n                        id: enums.MessageAction.Forward,\r\n                        icon: 'forward-icon',\r\n                        name: localeStore.instance.TranslateText('messaging.message-lists.message-detail.forward-button')\r\n                    });\r\n                }\r\n                break;\r\n            case enums.MessageAction.Delete:\r\n                return ({\r\n                    id: enums.MessageAction.Delete,\r\n                    icon: 'delete-icon-small',\r\n                    name: localeStore.instance.TranslateText('messaging.message-lists.message-detail.delete-button')\r\n                });\r\n        }\r\n    };\r\n    /**\r\n     * This method will update the IFrame content with message details\r\n     * @param o\r\n     * @param e\r\n     */\r\n    MessageHelper.addIFrameForMessageDetails = function (o, e) {\r\n        var timeout = 0;\r\n        // add script to init mouse click event in parent window for any 'click' in current window\r\n        var scriptBlock = 'window.addEventListener(\\'click\\', function() { parent.initMouseClickEvent(); });';\r\n        var headTagContent = '<style type=\"text/css\"> p,body{margin:0;padding:0;}</style>';\r\n        if (htmlUtilities.isIPadDevice && htmlUtilities.getUserDevice().browser === 'Safari') {\r\n            //include script to block double tap and pinch zoom in iPad safari\r\n            scriptBlock +=\r\n                'window.addEventListener(\\'touchend\\', blockDoubleTapZoom);' +\r\n                    'window.addEventListener(\\'touchstart\\', blockPinchToZoom);' +\r\n                    //block double tap zoom\r\n                    'let lastTap = 0;' +\r\n                    'function blockDoubleTapZoom ( e ) {' +\r\n                    'let currentTime = new Date().getTime();' +\r\n                    'let tapLength = currentTime - lastTap;' +\r\n                    'if (tapLength < 500 && tapLength > 0) {' +\r\n                    'e.preventDefault();}' +\r\n                    'lastTap = currentTime;' +\r\n                    //init mouse click event\r\n                    'parent.initMouseClickEvent(); }' +\r\n                    //block pinch zoom\r\n                    'function blockPinchToZoom ( e ) {' +\r\n                    'if (e.touches.length > 1) {' +\r\n                    'e.preventDefault();}' +\r\n                    '}';\r\n        }\r\n        else {\r\n            //incluse script to init mouse click event in parent window for any 'touch' in current window\r\n            scriptBlock +=\r\n                'window.addEventListener(\\'touchend\\', function() { parent.initMouseClickEvent(); });';\r\n        }\r\n        var content = e.getContent().trim() +\r\n            '<script>' + scriptBlock + '</script >';\r\n        // put a timeout of 0, otherwise message details are not rendering on first message item click\r\n        if (!htmlUtilities.isTabletOrMobileDevice && htmlUtilities.getUserDevice().browser === 'Firefox') {\r\n            timeout = 50;\r\n        }\r\n        setTimeout(function () {\r\n            $('#msg-iframe_ifr').contents().find('head').html(headTagContent);\r\n            $('#msg-iframe_ifr').contents().find('body').html(content);\r\n        }, timeout);\r\n    };\r\n    /**\r\n     * Returns a boolean indicating whether the message panel is edited.\r\n     */\r\n    MessageHelper.isMessagePanelEdited = function (messageType, messageToFieldValues, messageToFieldIds) {\r\n        if (messagestore.instance.isMessagePanelActive) {\r\n            var currentActiveEditorId = tinymce.activeEditor.id;\r\n            var activeEditor = tinymce.get(MessageHelper.messageEditorId);\r\n            if (messageType === enums.MessageType.InboxCompose || messageType === enums.MessageType.InboxForward ||\r\n                messageType === enums.MessageType.InboxReply) {\r\n                return MessageHelper.messageSubject && MessageHelper.messageSubject.trim().length > 0 ||\r\n                    activeEditor.getContent({ format: 'text' }).trim().length > 0 ||\r\n                    ((messageToFieldValues && messageToFieldValues.length > 0) &&\r\n                        (messageToFieldIds && messageToFieldIds.length > 0));\r\n            }\r\n            else if (messageType === enums.MessageType.ResponseCompose\r\n                || messageType === enums.MessageType.WorklistCompose || messageType === enums.MessageType.ResponseReply\r\n                || messageType === enums.MessageType.ResponseForward || messageType === enums.MessageType.TeamCompose) {\r\n                return MessageHelper.messageSubject && MessageHelper.messageSubject.trim().length > 0 ||\r\n                    activeEditor.getContent({ format: 'text' }).trim().length > 0;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * This method revamps the marking mode naming for display in message\r\n     * @param markingMode\r\n     * @param isElectronicStandardisationTeamMember\r\n     */\r\n    MessageHelper.getMarkingModeText = function (markingMode, isElectronicStandardisationTeamMember) {\r\n        if (markingMode === enums.MarkingMode.ES_TeamApproval) {\r\n            if (isElectronicStandardisationTeamMember) {\r\n                return ((localeStore.instance.TranslateText('marking.worklist.response-data.stm-standardisation-response-title')) + ' ');\r\n            }\r\n            else {\r\n                return ((localeStore.instance.TranslateText('marking.worklist.response-data.second-standardisation-response-title')) + ' ');\r\n            }\r\n        }\r\n        else if (markingMode === enums.MarkingMode.Practice) {\r\n            return ((localeStore.instance.TranslateText('marking.worklist.response-data.practice-response-title')) + ' ');\r\n        }\r\n        else if (markingMode === enums.MarkingMode.Approval) {\r\n            return ((localeStore.instance.TranslateText('marking.worklist.response-data.standardisation-response-title')) + ' ');\r\n        }\r\n        else if (markingMode === enums.MarkingMode.ES_TeamApproval) {\r\n            return ((localeStore.instance.TranslateText('marking.worklist.response-data.second-standardisation-response-title')) + ' ');\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    };\r\n    MessageHelper._isPasteEnabled = false;\r\n    MessageHelper.messageEditorId = 'msg-tinymce-editor';\r\n    /**\r\n     * This method will return the selected item for priority dropdown based on priority name\r\n     */\r\n    MessageHelper.getPriorityDropDownSelectedItem = function (priorityName) {\r\n        if (priorityName === enums.getEnumString(enums.MessagePriority, enums.MessagePriority.Standard)) {\r\n            return enums.MessagePriority.Standard;\r\n        }\r\n        else if (priorityName === enums.getEnumString(enums.MessagePriority, enums.MessagePriority.Important)) {\r\n            return enums.MessagePriority.Important;\r\n        }\r\n        else if (priorityName === enums.getEnumString(enums.MessagePriority, enums.MessagePriority.Mandatory)) {\r\n            // When replying and forwarding a  mandatory message,priority need to be reset to standard.\r\n            return enums.MessagePriority.Standard;\r\n        }\r\n    };\r\n    /**\r\n     * returns the navigate to default options for different message types.\r\n     */\r\n    MessageHelper.getNavigateAwayType = function (messageType) {\r\n        var navigateTo = enums.SaveAndNavigate.none;\r\n        switch (messageType) {\r\n            case enums.MessageType.ResponseReply:\r\n            case enums.MessageType.ResponseForward:\r\n            case enums.MessageType.ResponseCompose:\r\n                navigateTo = enums.SaveAndNavigate.toNewResponseMessageCompose;\r\n                break;\r\n        }\r\n        return navigateTo;\r\n    };\r\n    /**\r\n     * Returns true if focus needs to be set in tinymce editor else return false\r\n     */\r\n    MessageHelper.hasFocus = function (messageType) {\r\n        return (messageType === enums.MessageType.InboxForward || messageType === enums.MessageType.InboxReply\r\n            || messageType === enums.MessageType.ResponseReply || messageType === enums.MessageType.ResponseForward);\r\n    };\r\n    MessageHelper.addInitMouseClickEventScriptBlock = function () {\r\n        // we have to close opened priority drop down and user options (logout options) while clicking on outside that. iframe was\r\n        // preventing the click event to propagate outside so closing of those things are not happening while clicking on iframe.\r\n        // dynamically add script to create mouse event\r\n        var scriptElement = document.getElementById('init_mouse_click_event_script_block');\r\n        var isScriptElementPresent = false;\r\n        if (scriptElement != null) {\r\n            isScriptElementPresent = true;\r\n        }\r\n        else {\r\n            scriptElement = document.createElement('script');\r\n            scriptElement.id = 'init_mouse_click_event_script_block';\r\n            scriptElement.innerText =\r\n                'function initMouseClickEvent() {' +\r\n                    'let event = document.createEvent(\\'MouseEvents\\');' +\r\n                    'event.initMouseEvent(\\'click\\', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);' +\r\n                    'window.dispatchEvent(event); }';\r\n        }\r\n        if (!isScriptElementPresent) {\r\n            document.body.appendChild(scriptElement);\r\n        }\r\n    };\r\n    MessageHelper.removeInitMouseClickEventScriptBlock = function () {\r\n        var scriptElement = document.getElementById('init_mouse_click_event_script_block');\r\n        if (htmlUtilities.getUserDevice().browser !== 'IE') {\r\n            document.body.removeChild(scriptElement);\r\n        }\r\n    };\r\n    MessageHelper.setPasteEnabledAction = function (isPasteEnabled) {\r\n        MessageHelper._isPasteEnabled = isPasteEnabled;\r\n    };\r\n    /**\r\n     * Method which gets the selected QIG's name based on the Awarding Body specific QIG Naming format\r\n     */\r\n    MessageHelper.getCurrentQIGName = function () {\r\n        // Calling the helper method to format the QIG Name\r\n        if (qigStore.instance.selectedQIGForMarkerOperation !== undefined) {\r\n            var selectedQig = qigStore.instance.selectedQIGForMarkerOperation;\r\n            return stringFormatHelper.formatAwardingBodyQIG(selectedQig.markSchemeGroupName, selectedQig.assessmentCode, selectedQig.sessionName, selectedQig.componentId, selectedQig.questionPaperName, selectedQig.assessmentName, selectedQig.componentName, stringFormatHelper.getOverviewQIGNameFormat());\r\n        }\r\n        // If a QIG is not selected, return the default text to be shown on the drop down\r\n        return localeStore.instance.TranslateText('messaging.compose-message.please-select-qig-placeholder');\r\n    };\r\n    /**\r\n     * Handles changes in the message panel subject section.\r\n     * @param e\r\n     */\r\n    MessageHelper.handleSubjectChange = function (subject) {\r\n        MessageHelper.messageSubject = subject;\r\n    };\r\n    return MessageHelper;\r\n}());\r\nmodule.exports = MessageHelper;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 42)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjgzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9tZXNzYWdlL21lc3NhZ2VoZWxwZXIudHM/NmViOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWVzc2FnZXN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL21lc3NhZ2UvbWVzc2FnZXN0b3JlJyk7XHJcbmltcG9ydCBxaWdTdW1tYXJ5ID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3R5cGluZ3MvcWlnc3VtbWFyeScpO1xyXG5pbXBvcnQgZ3JvdXBIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyb3VwaW5nL2dyb3VwaGVscGVyJyk7XHJcbmltcG9ydCBncm91cGVyTGlzdCA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JvdXBpbmcvZ3JvdXBpbmdiYXNlL2dyb3VwZXJsaXN0Jyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vZW51bXMnKTtcclxuaW1wb3J0IGxvY2FsZWhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgc3RyaW5nRm9ybWF0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9zdHJpbmdmb3JtYXQvc3RyaW5nZm9ybWF0aGVscGVyJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IG1lc3NhZ2VFZGl0b3JDb25zdGFudHMgPSByZXF1aXJlKCcuLi9tZXNzYWdlZWRpdG9yY29uc3RhbnRzJyk7XHJcbmltcG9ydCBzdHJpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dlbmVyaWMvc3RyaW5naGVscGVyJyk7XHJcbmltcG9ydCBodG1sVXRpbGl0aWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL2h0bWx1dGlsaXRpZXMnKTtcclxuaW1wb3J0IG5hdmlnYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9uYXZpZ2F0aW9uL25hdmlnYXRpb25zdG9yZScpO1xyXG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudHN0b3JlJyk7XHJcbmltcG9ydCBleGFtaW5lclN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL21hcmtlcmluZm9ybWF0aW9uL2V4YW1pbmVyc3RvcmUnKTtcclxuXHJcbmRlY2xhcmUgbGV0IHRpbnltY2U6IGFueTtcclxuXHJcbmNsYXNzIE1lc3NhZ2VIZWxwZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgX2lzUGFzdGVFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbWVzc2FnZUVkaXRvcklkOiBzdHJpbmcgPSAnbXNnLXRpbnltY2UtZWRpdG9yJztcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBtZXNzYWdlU3ViamVjdDogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBIZWFkZXIgdG8gZGlzcGxheSBhbmQgdGhlIHJlbGF0ZWQgbWVzc2dlc1xyXG4gICAgICogQHBhcmFtIG1lc3NhZ2VzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0R3JvdXBlZE1lc3NhZ2VPYmplY3QobWVzc2FnZXM6IEltbXV0YWJsZS5MaXN0PE1lc3NhZ2U+LCBleHBhbmRPckNvbGxhcHNlRGV0YWlsczogSW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+KTpcclxuICAgICAgICBNZXNzYWdlR3JvdXBEZXRhaWxzIHtcclxuICAgICAgICAvLyBUbyBzdG9yZSB0aGUgbWVzc2FnZXMgYWZ0ZXIgdGhlIGdyb3VwaW5nIGFuZCBzb3J0aW5nXHJcbiAgICAgICAgbGV0IG1lc3NhZ2VMaXN0OiBJbW11dGFibGUuTGlzdDxNZXNzYWdlPiA9IEltbXV0YWJsZS5MaXN0PE1lc3NhZ2U+KCk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgbWVzc2FnZXMgZ3JvdXBlZCBieSBRSUdcclxuICAgICAgICBsZXQgZ3JvdXBlZE1lc3NhZ2VzID0gZ3JvdXBIZWxwZXIuZ3JvdXAobWVzc2FnZXMsIGdyb3VwZXJMaXN0Lk1lc3NhZ2VRaWdHcm91cGVyLCBlbnVtcy5Hcm91cEJ5RmllbGQucWlnKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBrZXkgc2VxXHJcbiAgICAgICAgbGV0IGdyb3VwZWRLZXlzID0gZ3JvdXBlZE1lc3NhZ2VzLmtleVNlcSgpO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGhlIHJldHVybiBvYmplY3RcclxuICAgICAgICBsZXQgcmV0dXJuT2JqOiBNZXNzYWdlR3JvdXBEYXRhW10gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBrZXlzIGFuZCBmaW5kIHRoZSBsaXN0IG9mIG1lc3NhZ2VzIGZvciB0aGUgZ3JvdXAuXHJcbiAgICAgICAgZ3JvdXBlZEtleXMuZm9yRWFjaCgocWlnSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIG1lc3NhZ2VzIGZvciB0aGUgZ3JvdXAuXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50TWVzc2FnZUdyb3VwID0gZ3JvdXBlZE1lc3NhZ2VzLmdldChxaWdJZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgY29sbGVjdGlvbiwgSW4gZWFjaCBncm91cC5cclxuICAgICAgICAgICAgbGV0IG1lc3NhZ2VzID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGVhY2ggbWVzc2FnZXMgZm9yIHRoZSBncm91cC5cclxuICAgICAgICAgICAgY3VycmVudE1lc3NhZ2VHcm91cC5tYXAoKG1lc3NhZ2U6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSBlbnVtcy5NZXNzYWdlUmVhZFN0YXR1cy5OZXcgJiYgbWVzc2FnZXN0b3JlLmluc3RhbmNlLmlzTWVzc2FnZVJlYWQobWVzc2FnZS5leGFtaW5lck1lc3NhZ2VJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXR1cyA9IGVudW1zLk1lc3NhZ2VSZWFkU3RhdHVzLlJlYWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgYXdhcmRpbmcgYm9keSBuYW1lIGZvcm1hdFxyXG4gICAgICAgICAgICBsZXQgbmFtZVRvRGlzcGxheSA9IE1lc3NhZ2VIZWxwZXIuZ2V0RGlzcGxheVRleHQobWVzc2FnZXNbMF0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IG1lc3NhZ2VGb2xkZXJUeXBlOiBlbnVtcy5NZXNzYWdlRm9sZGVyVHlwZSA9IG1lc3NhZ2VzWzBdLm1lc3NhZ2VGb2xkZXJUeXBlO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIG9iamVjdCB0byBzdG9yZSBtZXNzYWdlc1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXBlZE9iajogTWVzc2FnZUdyb3VwRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHFpZ0lkOiBwYXJzZUludChxaWdJZCksXHJcbiAgICAgICAgICAgICAgICBpc09wZW46IHRoaXMuaXNRaWdPcGVuKHBhcnNlSW50KHFpZ0lkKSwgbWVzc2FnZUZvbGRlclR5cGUsIGV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzKSxcclxuICAgICAgICAgICAgICAgIHRleHRUb0Rpc3BsYXk6IG5hbWVUb0Rpc3BsYXksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMsXHJcbiAgICAgICAgICAgICAgICB1blJlYWRNZXNzYWdlczogbWVzc2FnZXMuZmlsdGVyKCh4OiBNZXNzYWdlKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHguc3RhdHVzID09PSBlbnVtcy5NZXNzYWdlUmVhZFN0YXR1cy5OZXcgJiYgIW1lc3NhZ2VzdG9yZS5pbnN0YW5jZS5pc01lc3NhZ2VSZWFkKHguZXhhbWluZXJNZXNzYWdlSWQpKS5sZW5ndGhcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybk9iai5wdXNoKGdyb3VwZWRPYmopO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTb3J0IHRoZSBvYmplY3RzIGJhc2VkIG9uIHRoZSBkaXNwbGF5IGhlYWRlci5cclxuICAgICAgICBsZXQgZ2V0R3JvdXBlZE1lc3NhZ2VPYmplY3QgPSByZXR1cm5PYmouc29ydChmdW5jdGlvbiAob2JqMTogTWVzc2FnZUdyb3VwRGF0YSwgb2JqMjogTWVzc2FnZUdyb3VwRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqMS50ZXh0VG9EaXNwbGF5LmxvY2FsZUNvbXBhcmUob2JqMi50ZXh0VG9EaXNwbGF5KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBtZXNzYWdlcyBhcyBpbiB0aGUgb3JkZXIgb2YgZGlzcGxheWluZyBpbiB0aGUgVUlcclxuICAgICAgICBnZXRHcm91cGVkTWVzc2FnZU9iamVjdC5mb3JFYWNoKChtZXNzYWdlT2JqZWN0OiBNZXNzYWdlR3JvdXBEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VMaXN0ID0gSW1tdXRhYmxlLkxpc3Q8TWVzc2FnZT4obWVzc2FnZUxpc3QuY29uY2F0KG1lc3NhZ2VPYmplY3QubWVzc2FnZXMpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IG1lc3NhZ2VHcm91cERldGFpbHM6IE1lc3NhZ2VHcm91cERldGFpbHMgPSB7XHJcbiAgICAgICAgICAgIC8vIFN0b3JlcyB0aGUgR3JvdXBlZCBPYmplY3QgYWxvbmcgd2l0aCB0aG9zZSBtZXNzYWdlc1xyXG4gICAgICAgICAgICBNZXNzYWdlR3JvdXBPYmplY3RzOiBnZXRHcm91cGVkTWVzc2FnZU9iamVjdCxcclxuXHJcbiAgICAgICAgICAgIC8vIFN0b3JlIGFsbCBtZXNzYWdlcyBmb3IgdGhlIFVJXHJcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlTGlzdFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBtZXNzYWdlR3JvdXBEZXRhaWxzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB3aGV0aGVyIGEgcGFydGljdWxhciBxaWcgaXMgb3BlbiBvciBub3RcclxuICAgICAqIEBwYXJhbSBleHBhbmRPckNvbGxhcHNlRGV0YWlscyBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaXNRaWdPcGVuKHFpZ0lkOiBudW1iZXIsIG1lc3NhZ2VGb2xkZXJUeXBlOiBlbnVtcy5NZXNzYWdlRm9sZGVyVHlwZSxcclxuICAgICAgICBleHBhbmRPckNvbGxhcHNlRGV0YWlsczogSW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzID8gZXhwYW5kT3JDb2xsYXBzZURldGFpbHMuZ2V0KHFpZ0lkLCB0cnVlKSA6IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHRpbWUgc3R5bGUgZm9yIHRoZSBEYXRlXHJcbiAgICAgKiBAcGFyYW0gdGltZVRvRGlzcGxheVxyXG4gICAgICogQHBhcmFtIHRvZGF5VGV4dENvbnZlcnNpb25SZXF1aXJlZCA6IGZvciBkZWNpZGluZyBUb2RheSB0ZXh0IGNvbnZlcnNpb25cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXREYXRlVG9EaXNwbGF5KHRpbWVUb0Rpc3BsYXk6IHN0cmluZywgdG9kYXlUZXh0Q29udmVyc2lvblJlcXVpcmVkOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCB0aW1lVG9EaXNwbGF5RGF0ZSA9IG5ldyBEYXRlKHRpbWVUb0Rpc3BsYXkpO1xyXG5cclxuICAgICAgICBsZXQgdG9kYXlzRGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgIGxldCB0aW1lOiBzdHJpbmcgPSBsb2NhbGVoZWxwZXIudG9Mb2NhbGVUaW1lU3RyaW5nKG5ldyBEYXRlKHRpbWVUb0Rpc3BsYXkudG9TdHJpbmcoKSkpO1xyXG5cclxuICAgICAgICAvLyBjYWxsIHNldEhvdXJzIHRvIHRha2UgdGhlIHRpbWUgb3V0IG9mIHRoZSBjb21wYXJpc29uXHJcbiAgICAgICAgaWYgKCh0aW1lVG9EaXNwbGF5RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKSA9PT0gdG9kYXlzRGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKSkgJiYgdG9kYXlUZXh0Q29udmVyc2lvblJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIC8vIERhdGUgZXF1YWxzIHRvZGF5J3MgZGF0ZS4gRGlzcGxheSBkYXRlIGZlaWxkIGFzIFRvZGF5LlxyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLm1lc3NhZ2UtbGlzdHMubWVzc2FnZS1kZXRhaWwuZGF0ZS10b2RheScpICsgJyAnICsgdGltZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlaGVscGVyLnRvTG9jYWxlRGF0ZVN0cmluZyhuZXcgRGF0ZSh0aW1lVG9EaXNwbGF5KSkgKyAnICcgKyB0aW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgRGlzcGxheSBIZWFkZXIgZm9yIHRoZSBHcm91cCBIZWFkZXIuXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldERpc3BsYXlUZXh0KG1lc3NhZ2U6IE1lc3NhZ2UpIHtcclxuICAgICAgICBsZXQgbXNnID0gbWVzc2FnZXN0b3JlLmluc3RhbmNlLm1lc3NhZ2VzTWFya1NjaGVtZXM7XHJcbiAgICAgICAgaWYgKG1zZykge1xyXG4gICAgICAgICAgICBsZXQgbWVzc2FnZUxpc3QgPSBtc2cuZmlsdGVyKChtZXNzYWdlczogTWVzc2FnaW5nTWFya1NjaGVtZSkgPT4gbWVzc2FnZXMubWFya1NjaGVtZUdyb3VwSWQgPT09IG1lc3NhZ2UubWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nRm9ybWF0SGVscGVyLmZvcm1hdEF3YXJkaW5nQm9keVFJRyhcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTGlzdC5maXJzdCgpLm1hcmtTY2hlbWVHcm91cE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUxpc3QuZmlyc3QoKS5hc3Nlc3NtZW50Q29kZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTGlzdC5maXJzdCgpLnNlc3Npb25OYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VMaXN0LmZpcnN0KCkuY29tcG9uZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUxpc3QuZmlyc3QoKS5xdWVzdGlvblBhcGVyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTGlzdC5maXJzdCgpLmFzc2Vzc21lbnROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VMaXN0LmZpcnN0KCkuY29tcG9uZW50TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmdGb3JtYXRIZWxwZXIuZ2V0T3ZlcnZpZXdRSUdOYW1lRm9ybWF0KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBNYXJrIFNjaGVtZSBHcm91cCBOYW1lXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE1hcmtTY2hlbWVHcm91cE5hbWUobWVzc2FnZTogTWVzc2FnZSk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IG1zZyA9IG1lc3NhZ2VzdG9yZS5pbnN0YW5jZS5tZXNzYWdlc01hcmtTY2hlbWVzO1xyXG4gICAgICAgIGlmIChtc2cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1zZy5maWx0ZXIoKG1lc3NhZ2VzOiBNZXNzYWdpbmdNYXJrU2NoZW1lKSA9PiBtZXNzYWdlcy5tYXJrU2NoZW1lR3JvdXBJZCA9PT0gbWVzc2FnZS5tYXJrU2NoZW1lR3JvdXBJZCkuXHJcbiAgICAgICAgICAgICAgICBmaXJzdCgpLm1hcmtTY2hlbWVHcm91cE5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlZCB0byBjcmVhdGUgdGhlIE1lc3NhZ2VPckV4Y2VwdGlvbkxpbmtlZEl0ZW1zIGJhc2VkIG9uIHRoZSBtZXNzYWdlc1xyXG4gICAgICogQHBhcmFtIG1lc3NhZ2VzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TWVzc2FnZUxpbmtlZEl0ZW1zKG1lc3NhZ2VzOiBJbW11dGFibGUuTGlzdDxNZXNzYWdlPik6IEltbXV0YWJsZS5MaXN0PE1lc3NhZ2VPckV4Y2VwdGlvbkxpbmtlZEl0ZW0+IHtcclxuICAgICAgICBsZXQgbWVzc2FnZU9yRXhjZXB0aW9uTGlua2VkSXRlbXM6IE1lc3NhZ2VPckV4Y2VwdGlvbkxpbmtlZEl0ZW1bXSA9IFtdO1xyXG4gICAgICAgIGxldCBpdGVtcyA9IG1lc3NhZ2VzLmZvckVhY2goKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgbWVzc2FnZU9yRXhjZXB0aW9uTGlua2VkSXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBpdGVtSWQ6IG1lc3NhZ2UuZXhhbWluZXJNZXNzYWdlSWQsXHJcbiAgICAgICAgICAgICAgICBzZW5kZXJPckl0ZW06IG1lc3NhZ2UudG9UZWFtID9cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLnJlY2lwaWVudC1zZWxlY3Rvci5lbnRpcmUtdGVhbScpIDpcclxuICAgICAgICAgICAgICAgICAgICBNZXNzYWdlSGVscGVyLmFwcGVuZEV4YW1pbmVyKG1lc3NhZ2UpLFxyXG4gICAgICAgICAgICAgICAgcHJpb3JpdHlPclN0YXR1czogbWVzc2FnZS5wcmlvcml0eU5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdWJqZWN0T3JUeXBlOiBtZXNzYWdlLnN1YmplY3QsXHJcbiAgICAgICAgICAgICAgICB0aW1lVG9EaXNwbGF5OiBtZXNzYWdlLmRpc3BsYXlEYXRlLFxyXG4gICAgICAgICAgICAgICAgaXNVbnJlYWRPclVuYWN0aW9uZWQ6IG1lc3NhZ2Uuc3RhdHVzID09PSBlbnVtcy5NZXNzYWdlUmVhZFN0YXR1cy5OZXcgJiZcclxuICAgICAgICAgICAgICAgICFtZXNzYWdlc3RvcmUuaW5zdGFuY2UuaXNNZXNzYWdlUmVhZChtZXNzYWdlLmV4YW1pbmVyTWVzc2FnZUlkKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIEltbXV0YWJsZS5MaXN0KG1lc3NhZ2VPckV4Y2VwdGlvbkxpbmtlZEl0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGFwcGVuZCBleGFtaW5lcnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXBwZW5kRXhhbWluZXIobWVzc2FnZTogTWVzc2FnZSk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIGxldCBleGFtaW5lcnM6IHN0cmluZyA9ICcnO1xyXG5cclxuICAgICAgICBpZiAobWVzc2FnZSAmJiBtZXNzYWdlLnRvRXhhbWluZXJEZXRhaWxzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbWVzc2FnZS50b0V4YW1pbmVyRGV0YWlscy5tYXAoKGl0ZW06IEV4YW1pbmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBleGFtaW5lcnMgKz0gaXRlbS5mdWxsTmFtZSArICc7JztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyByZW1vdmluZyBsYXN0IGl0ZW0gc2VtaWNvbG9uXHJcbiAgICAgICAgICAgIHJldHVybiBleGFtaW5lcnMucmVwbGFjZSgvOyQvLCAnJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXhhbWluZXJzID0gbWVzc2FnZS5leGFtaW5lckRldGFpbHMuZnVsbE5hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZXhhbWluZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm5zIHRoZSBtZXNzYWdlIGNvbnRlbnQgYmFzZWQgb24gdGhlIHRlbXBsYXRlIG5hbWVcclxuICAgICAqIEBwYXJhbSB0ZW1wbGF0ZU5hbWUgLSB0ZW1wbGF0ZSBuYW1lXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZUJvZHkgLSBtZXNzYWdlIGNvbnRlbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRNZXNzYWdlQ29udGVudCh0ZW1wbGF0ZU5hbWU6IGVudW1zLk1lc3NhZ2VUeXBlLCBtZXNzYWdlRnJvbT86IHN0cmluZywgZGF0ZT86IHN0cmluZywgbWVzc2FnZUJvZHk/OiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgdGVtcGxhdGU6IHN0cmluZztcclxuICAgICAgICBzd2l0Y2ggKHRlbXBsYXRlTmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94UmVwbHk6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VSZXBseTpcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gc3RyaW5nSGVscGVyLmZvcm1hdChsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLm5ldy1tZXNzYWdlLXRlbXBsYXRlcy5yZXBseScpLFxyXG4gICAgICAgICAgICAgICAgICAgIFttZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05ULCBtZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05UU0laRSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERhdGVUb0Rpc3BsYXkoZGF0ZSwgZmFsc2UpLCBtZXNzYWdlRnJvbSwgbWVzc2FnZUJvZHldKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Rm9yd2FyZDpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZUZvcndhcmQ6XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IHN0cmluZ0hlbHBlci5mb3JtYXQobG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5uZXctbWVzc2FnZS10ZW1wbGF0ZXMuZm9yd2FyZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIFttZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05ULCBtZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05UU0laRSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERhdGVUb0Rpc3BsYXkoZGF0ZSwgZmFsc2UpLCBtZXNzYWdlRnJvbSwgbWVzc2FnZUJvZHldKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLlJlc3BvbnNlQ29tcG9zZTpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5Xb3JrbGlzdENvbXBvc2U6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hDb21wb3NlOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLlRlYW1Db21wb3NlOlxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUgPSBzdHJpbmdIZWxwZXIuZm9ybWF0KGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UubmV3LW1lc3NhZ2UtdGVtcGxhdGVzLm5ldycpLFxyXG4gICAgICAgICAgICAgICAgICAgIFttZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05ULCBtZXNzYWdlRWRpdG9yQ29uc3RhbnRzLlRJTllNQ0VfREVGQVVMVF9GT05UU0laRV0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIE1lbnUgQWN0aW9uIGl0ZW1zIG5lZWRlZCBiYXNlZCBvbiB0aGUgZm9sZGVyIHR5cGVcclxuICAgICAqIEBwYXJhbSBmb2xkZXJUeXBlXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZUFjdGlvbnM6IGFuIGFycmF5IG9mIG1lc3NhZ2UgYWN0aW9uc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE1lc3NhZ2VNZW51QWN0aW9uSXRlbXMoZm9sZGVyVHlwZTogZW51bXMuTWVzc2FnZUZvbGRlclR5cGUsIG1lc3NhZ2VBY3Rpb25zOiBBcnJheTxlbnVtcy5NZXNzYWdlQWN0aW9uPikge1xyXG4gICAgICAgIGxldCBtZXNzYWdlTWVudUFjdGlvbkl0ZW1zOiBBcnJheTxhbnk+ID0gW107XHJcbiAgICAgICAgc3dpdGNoIChmb2xkZXJUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZUZvbGRlclR5cGUuSW5ib3g6XHJcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZUFjdGlvbnMgJiYgbWVzc2FnZUFjdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VBY3Rpb25zLm1hcCgoeDogZW51bXMuTWVzc2FnZUFjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aW9uSXRlbXMgPSB0aGlzLm1lc3NhZ2VBY3Rpb25JdGVtcyh4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbkl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTWVudUFjdGlvbkl0ZW1zLnB1c2goYWN0aW9uSXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXNzYWdlTWVudUFjdGlvbkl0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIGxvY2FsaXNlZCBtZXNzYWdlIHN0cmluZyBiYXNlZCBvbiBtZXNzYWdlIHR5cGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRNZXNzYWdlSGVhZGVyKG1lc3NhZ2VUeXBlOiBlbnVtcy5NZXNzYWdlVHlwZSkge1xyXG4gICAgICAgIGxldCBtZXNzYWdlSGVhZGVyOiBzdHJpbmc7XHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Q29tcG9zZTpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5Xb3JrbGlzdENvbXBvc2U6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VDb21wb3NlOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLlRlYW1Db21wb3NlOlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlciA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UubmV3LW1lc3NhZ2UtaGVhZGVyJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveEZvcndhcmQ6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VGb3J3YXJkOlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlciA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UuZm9yd2FyZC1oZWFkZXInKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94UmVwbHk6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VSZXBseTpcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXIgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLnJlcGx5LWhlYWRlcicpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VEZXRhaWxzOlxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlciA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcucmVzcG9uc2UubWVzc2FnZS1wYW5lbC5oZWFkZXInKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbWVzc2FnZUhlYWRlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJucyB0aGUgc3ViamVjdCBzdHJpbmdcclxuICAgICAqIEBwYXJhbSBtZXNzYWdlVHlwZVxyXG4gICAgICogQHBhcmFtIHN1YmplY3RcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRTdWJqZWN0Q29udGVudChtZXNzYWdlVHlwZTogZW51bXMuTWVzc2FnZVR5cGUsIHN1YmplY3Q6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBzdWJqZWN0VGV4dDogc3RyaW5nO1xyXG4gICAgICAgIGxldCBzdWJqZWN0UHJlZml4OiBzdHJpbmc7XHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Q29tcG9zZTpcclxuICAgICAgICAgICAgICAgIHN1YmplY3RUZXh0ID0gc3ViamVjdDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Rm9yd2FyZDpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZUZvcndhcmQ6XHJcbiAgICAgICAgICAgICAgICBzdWJqZWN0UHJlZml4ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5mb3J3YXJkLXByZWZpeCcpO1xyXG4gICAgICAgICAgICAgICAgc3ViamVjdFRleHQgPSBzdWJqZWN0LmluZGV4T2Yoc3ViamVjdFByZWZpeCkgPT09IC0xID8gc3ViamVjdFByZWZpeCArICcgJyArIHN1YmplY3QgOiBzdWJqZWN0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hSZXBseTpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZVJlcGx5OlxyXG4gICAgICAgICAgICAgICAgc3ViamVjdFByZWZpeCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UucmVwbHktcHJlZml4Jyk7XHJcbiAgICAgICAgICAgICAgICBzdWJqZWN0VGV4dCA9IHN1YmplY3QuaW5kZXhPZihzdWJqZWN0UHJlZml4KSA9PT0gLTEgPyBzdWJqZWN0UHJlZml4ICsgJyAnICsgc3ViamVjdCA6IHN1YmplY3Q7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdWJqZWN0VGV4dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgQ3JlYXRlIG5ldyB0ZXh0IGZvciB0aGUgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBnZXRDcmVhdGVOZXdNZXNzYWdlVGV4dCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLnJlc3BvbnNlLm1lc3NhZ2UtbGlzdC1wYW5lbC5jcmVhdGUtbmV3LW1lc3NhZ2UnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBNZW51IEFjdGlvbiBpdGVtIGJhc2VkIG9uIHRoZSBhY3Rpb24gcGFyYW1ldGVyXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZUFjdGlvblxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIG1lc3NhZ2VBY3Rpb25JdGVtcyhtZXNzYWdlQWN0aW9uOiBlbnVtcy5NZXNzYWdlQWN0aW9uKSB7XHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlQWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZUFjdGlvbi5SZXBseTpcclxuICAgICAgICAgICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBlbnVtcy5NZXNzYWdlQWN0aW9uLlJlcGx5LFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdyZXBseS1pY29uJyxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcubWVzc2FnZS1saXN0cy5tZXNzYWdlLWRldGFpbC5yZXBseS1idXR0b24nKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZUFjdGlvbi5Gb3J3YXJkOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzRm9yd2FyZEJ1dHRvbkhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZW51bXMuTWVzc2FnZUFjdGlvbi5Gb3J3YXJkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZm9yd2FyZC1pY29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLm1lc3NhZ2UtbGlzdHMubWVzc2FnZS1kZXRhaWwuZm9yd2FyZC1idXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZUFjdGlvbi5EZWxldGU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogZW51bXMuTWVzc2FnZUFjdGlvbi5EZWxldGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2RlbGV0ZS1pY29uLXNtYWxsJyxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcubWVzc2FnZS1saXN0cy5tZXNzYWdlLWRldGFpbC5kZWxldGUtYnV0dG9uJylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBzZWxlY3RlZCBpdGVtIGZvciBwcmlvcml0eSBkcm9wZG93biBiYXNlZCBvbiBwcmlvcml0eSBuYW1lXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0UHJpb3JpdHlEcm9wRG93blNlbGVjdGVkSXRlbSA9IChwcmlvcml0eU5hbWU6IHN0cmluZyk6IGVudW1zLk1lc3NhZ2VQcmlvcml0eSA9PiB7XHJcbiAgICAgICAgaWYgKHByaW9yaXR5TmFtZSA9PT0gZW51bXMuZ2V0RW51bVN0cmluZyhlbnVtcy5NZXNzYWdlUHJpb3JpdHksIGVudW1zLk1lc3NhZ2VQcmlvcml0eS5TdGFuZGFyZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVudW1zLk1lc3NhZ2VQcmlvcml0eS5TdGFuZGFyZDtcclxuICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5TmFtZSA9PT0gZW51bXMuZ2V0RW51bVN0cmluZyhlbnVtcy5NZXNzYWdlUHJpb3JpdHksIGVudW1zLk1lc3NhZ2VQcmlvcml0eS5JbXBvcnRhbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbnVtcy5NZXNzYWdlUHJpb3JpdHkuSW1wb3J0YW50O1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHlOYW1lID09PSBlbnVtcy5nZXRFbnVtU3RyaW5nKGVudW1zLk1lc3NhZ2VQcmlvcml0eSwgZW51bXMuTWVzc2FnZVByaW9yaXR5Lk1hbmRhdG9yeSkpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiByZXBseWluZyBhbmQgZm9yd2FyZGluZyBhICBtYW5kYXRvcnkgbWVzc2FnZSxwcmlvcml0eSBuZWVkIHRvIGJlIHJlc2V0IHRvIHN0YW5kYXJkLlxyXG4gICAgICAgICAgICByZXR1cm4gZW51bXMuTWVzc2FnZVByaW9yaXR5LlN0YW5kYXJkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBuYXZpZ2F0ZSB0byBkZWZhdWx0IG9wdGlvbnMgZm9yIGRpZmZlcmVudCBtZXNzYWdlIHR5cGVzLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE5hdmlnYXRlQXdheVR5cGUgPSAobWVzc2FnZVR5cGU6IGVudW1zLk1lc3NhZ2VUeXBlKTogZW51bXMuU2F2ZUFuZE5hdmlnYXRlID0+IHtcclxuICAgICAgICBsZXQgbmF2aWdhdGVUbzogZW51bXMuU2F2ZUFuZE5hdmlnYXRlID0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm5vbmU7XHJcblxyXG4gICAgICAgIHN3aXRjaCAobWVzc2FnZVR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZVJlcGx5OlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLlJlc3BvbnNlRm9yd2FyZDpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlVHlwZS5SZXNwb25zZUNvbXBvc2U6XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvID0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvTmV3UmVzcG9uc2VNZXNzYWdlQ29tcG9zZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRlVG87XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGZvY3VzIG5lZWRzIHRvIGJlIHNldCBpbiB0aW55bWNlIGVkaXRvciBlbHNlIHJldHVybiBmYWxzZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGhhc0ZvY3VzID0gKG1lc3NhZ2VUeXBlOiBlbnVtcy5NZXNzYWdlVHlwZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiAobWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Rm9yd2FyZCB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hSZXBseVxyXG4gICAgICAgICAgICB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VSZXBseSB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VGb3J3YXJkKTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGRJbml0TW91c2VDbGlja0V2ZW50U2NyaXB0QmxvY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBjbG9zZSBvcGVuZWQgcHJpb3JpdHkgZHJvcCBkb3duIGFuZCB1c2VyIG9wdGlvbnMgKGxvZ291dCBvcHRpb25zKSB3aGlsZSBjbGlja2luZyBvbiBvdXRzaWRlIHRoYXQuIGlmcmFtZSB3YXNcclxuICAgICAgICAvLyBwcmV2ZW50aW5nIHRoZSBjbGljayBldmVudCB0byBwcm9wYWdhdGUgb3V0c2lkZSBzbyBjbG9zaW5nIG9mIHRob3NlIHRoaW5ncyBhcmUgbm90IGhhcHBlbmluZyB3aGlsZSBjbGlja2luZyBvbiBpZnJhbWUuXHJcbiAgICAgICAgLy8gZHluYW1pY2FsbHkgYWRkIHNjcmlwdCB0byBjcmVhdGUgbW91c2UgZXZlbnRcclxuICAgICAgICBsZXQgc2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbml0X21vdXNlX2NsaWNrX2V2ZW50X3NjcmlwdF9ibG9jaycpO1xyXG4gICAgICAgIGxldCBpc1NjcmlwdEVsZW1lbnRQcmVzZW50OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHNjcmlwdEVsZW1lbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpc1NjcmlwdEVsZW1lbnRQcmVzZW50ID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzY3JpcHRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgICAgICAgIHNjcmlwdEVsZW1lbnQuaWQgPSAnaW5pdF9tb3VzZV9jbGlja19ldmVudF9zY3JpcHRfYmxvY2snO1xyXG4gICAgICAgICAgICBzY3JpcHRFbGVtZW50LmlubmVyVGV4dCA9XHJcbiAgICAgICAgICAgICAgICAnZnVuY3Rpb24gaW5pdE1vdXNlQ2xpY2tFdmVudCgpIHsnICtcclxuICAgICAgICAgICAgICAgICdsZXQgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcXCdNb3VzZUV2ZW50c1xcJyk7JyArXHJcbiAgICAgICAgICAgICAgICAnZXZlbnQuaW5pdE1vdXNlRXZlbnQoXFwnY2xpY2tcXCcsIHRydWUsIHRydWUsIHdpbmRvdywgMCwgMCwgMCwgODAsIDIwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7JyArXHJcbiAgICAgICAgICAgICAgICAnd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpOyB9JztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1NjcmlwdEVsZW1lbnRQcmVzZW50KSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlbW92ZUluaXRNb3VzZUNsaWNrRXZlbnRTY3JpcHRCbG9jayA9ICgpID0+IHtcclxuICAgICAgICBsZXQgc2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbml0X21vdXNlX2NsaWNrX2V2ZW50X3NjcmlwdF9ibG9jaycpO1xyXG4gICAgICAgIGlmIChodG1sVXRpbGl0aWVzLmdldFVzZXJEZXZpY2UoKS5icm93c2VyICE9PSAnSUUnKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2NyaXB0RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldFBhc3RlRW5hYmxlZEFjdGlvbiA9IChpc1Bhc3RlRW5hYmxlZDogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIE1lc3NhZ2VIZWxwZXIuX2lzUGFzdGVFbmFibGVkID0gaXNQYXN0ZUVuYWJsZWQ7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgdXBkYXRlIHRoZSBJRnJhbWUgY29udGVudCB3aXRoIG1lc3NhZ2UgZGV0YWlsc1xyXG4gICAgICogQHBhcmFtIG9cclxuICAgICAqIEBwYXJhbSBlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkSUZyYW1lRm9yTWVzc2FnZURldGFpbHMobzogYW55LCBlOiBhbnkpIHtcclxuICAgICAgICBsZXQgdGltZW91dDogbnVtYmVyID0gMDtcclxuICAgICAgICAvLyBhZGQgc2NyaXB0IHRvIGluaXQgbW91c2UgY2xpY2sgZXZlbnQgaW4gcGFyZW50IHdpbmRvdyBmb3IgYW55ICdjbGljaycgaW4gY3VycmVudCB3aW5kb3dcclxuICAgICAgICBsZXQgc2NyaXB0QmxvY2sgPSAnd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFwnY2xpY2tcXCcsIGZ1bmN0aW9uKCkgeyBwYXJlbnQuaW5pdE1vdXNlQ2xpY2tFdmVudCgpOyB9KTsnO1xyXG5cclxuICAgICAgICBsZXQgaGVhZFRhZ0NvbnRlbnQgPSAnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPiBwLGJvZHl7bWFyZ2luOjA7cGFkZGluZzowO308L3N0eWxlPic7XHJcblxyXG4gICAgICAgIGlmIChodG1sVXRpbGl0aWVzLmlzSVBhZERldmljZSAmJiBodG1sVXRpbGl0aWVzLmdldFVzZXJEZXZpY2UoKS5icm93c2VyID09PSAnU2FmYXJpJykge1xyXG4gICAgICAgICAgICAvL2luY2x1ZGUgc2NyaXB0IHRvIGJsb2NrIGRvdWJsZSB0YXAgYW5kIHBpbmNoIHpvb20gaW4gaVBhZCBzYWZhcmlcclxuICAgICAgICAgICAgc2NyaXB0QmxvY2sgKz1cclxuICAgICAgICAgICAgICAgICd3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcXCd0b3VjaGVuZFxcJywgYmxvY2tEb3VibGVUYXBab29tKTsnICtcclxuICAgICAgICAgICAgICAgICd3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcXCd0b3VjaHN0YXJ0XFwnLCBibG9ja1BpbmNoVG9ab29tKTsnICtcclxuICAgICAgICAgICAgICAgIC8vYmxvY2sgZG91YmxlIHRhcCB6b29tXHJcbiAgICAgICAgICAgICAgICAnbGV0IGxhc3RUYXAgPSAwOycgK1xyXG4gICAgICAgICAgICAgICAgJ2Z1bmN0aW9uIGJsb2NrRG91YmxlVGFwWm9vbSAoIGUgKSB7JyArXHJcbiAgICAgICAgICAgICAgICAnbGV0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7JyArXHJcbiAgICAgICAgICAgICAgICAnbGV0IHRhcExlbmd0aCA9IGN1cnJlbnRUaW1lIC0gbGFzdFRhcDsnICtcclxuICAgICAgICAgICAgICAgICdpZiAodGFwTGVuZ3RoIDwgNTAwICYmIHRhcExlbmd0aCA+IDApIHsnICtcclxuICAgICAgICAgICAgICAgICdlLnByZXZlbnREZWZhdWx0KCk7fScgK1xyXG4gICAgICAgICAgICAgICAgJ2xhc3RUYXAgPSBjdXJyZW50VGltZTsnICtcclxuICAgICAgICAgICAgICAgIC8vaW5pdCBtb3VzZSBjbGljayBldmVudFxyXG4gICAgICAgICAgICAgICAgJ3BhcmVudC5pbml0TW91c2VDbGlja0V2ZW50KCk7IH0nICtcclxuICAgICAgICAgICAgICAgIC8vYmxvY2sgcGluY2ggem9vbVxyXG4gICAgICAgICAgICAgICAgJ2Z1bmN0aW9uIGJsb2NrUGluY2hUb1pvb20gKCBlICkgeycgK1xyXG4gICAgICAgICAgICAgICAgJ2lmIChlLnRvdWNoZXMubGVuZ3RoID4gMSkgeycgK1xyXG4gICAgICAgICAgICAgICAgJ2UucHJldmVudERlZmF1bHQoKTt9JyArXHJcbiAgICAgICAgICAgICAgICAnfSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9pbmNsdXNlIHNjcmlwdCB0byBpbml0IG1vdXNlIGNsaWNrIGV2ZW50IGluIHBhcmVudCB3aW5kb3cgZm9yIGFueSAndG91Y2gnIGluIGN1cnJlbnQgd2luZG93XHJcbiAgICAgICAgICAgIHNjcmlwdEJsb2NrICs9XHJcbiAgICAgICAgICAgICAgICAnd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFwndG91Y2hlbmRcXCcsIGZ1bmN0aW9uKCkgeyBwYXJlbnQuaW5pdE1vdXNlQ2xpY2tFdmVudCgpOyB9KTsnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGNvbnRlbnQ6IHN0cmluZyA9IGUuZ2V0Q29udGVudCgpLnRyaW0oKSArXHJcbiAgICAgICAgICAgICc8c2NyaXB0PicgKyBzY3JpcHRCbG9jayArICc8L3NjcmlwdCA+JztcclxuICAgICAgICAvLyBwdXQgYSB0aW1lb3V0IG9mIDAsIG90aGVyd2lzZSBtZXNzYWdlIGRldGFpbHMgYXJlIG5vdCByZW5kZXJpbmcgb24gZmlyc3QgbWVzc2FnZSBpdGVtIGNsaWNrXHJcbiAgICAgICAgaWYgKCFodG1sVXRpbGl0aWVzLmlzVGFibGV0T3JNb2JpbGVEZXZpY2UgJiYgaHRtbFV0aWxpdGllcy5nZXRVc2VyRGV2aWNlKCkuYnJvd3NlciA9PT0gJ0ZpcmVmb3gnKSB7XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSA1MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICQoJyNtc2ctaWZyYW1lX2lmcicpLmNvbnRlbnRzKCkuZmluZCgnaGVhZCcpLmh0bWwoaGVhZFRhZ0NvbnRlbnQpO1xyXG4gICAgICAgICAgICAkKCcjbXNnLWlmcmFtZV9pZnInKS5jb250ZW50cygpLmZpbmQoJ2JvZHknKS5odG1sKGNvbnRlbnQpO1xyXG4gICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHdoaWNoIGdldHMgdGhlIHNlbGVjdGVkIFFJRydzIG5hbWUgYmFzZWQgb24gdGhlIEF3YXJkaW5nIEJvZHkgc3BlY2lmaWMgUUlHIE5hbWluZyBmb3JtYXRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRDdXJyZW50UUlHTmFtZSA9ICgpID0+IHtcclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBoZWxwZXIgbWV0aG9kIHRvIGZvcm1hdCB0aGUgUUlHIE5hbWVcclxuICAgICAgICBpZiAocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRRaWcgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbjtcclxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ0Zvcm1hdEhlbHBlci5mb3JtYXRBd2FyZGluZ0JvZHlRSUcoXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFFpZy5tYXJrU2NoZW1lR3JvdXBOYW1lLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRRaWcuYXNzZXNzbWVudENvZGUsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFFpZy5zZXNzaW9uTmFtZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUWlnLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRRaWcucXVlc3Rpb25QYXBlck5hbWUsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFFpZy5hc3Nlc3NtZW50TmFtZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUWlnLmNvbXBvbmVudE5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdHJpbmdGb3JtYXRIZWxwZXIuZ2V0T3ZlcnZpZXdRSUdOYW1lRm9ybWF0KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBhIFFJRyBpcyBub3Qgc2VsZWN0ZWQsIHJldHVybiB0aGUgZGVmYXVsdCB0ZXh0IHRvIGJlIHNob3duIG9uIHRoZSBkcm9wIGRvd25cclxuICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5wbGVhc2Utc2VsZWN0LXFpZy1wbGFjZWhvbGRlcicpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWVzc2FnZSBwYW5lbCBpcyBlZGl0ZWQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNNZXNzYWdlUGFuZWxFZGl0ZWQobWVzc2FnZVR5cGU6IGVudW1zLk1lc3NhZ2VUeXBlLCBtZXNzYWdlVG9GaWVsZFZhbHVlczogQXJyYXk8c3RyaW5nPixcclxuICAgICAgICBtZXNzYWdlVG9GaWVsZElkczogQXJyYXk8bnVtYmVyPikge1xyXG4gICAgICAgIGlmIChtZXNzYWdlc3RvcmUuaW5zdGFuY2UuaXNNZXNzYWdlUGFuZWxBY3RpdmUpIHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRBY3RpdmVFZGl0b3JJZCA9IHRpbnltY2UuYWN0aXZlRWRpdG9yLmlkO1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlRWRpdG9yID0gdGlueW1jZS5nZXQoTWVzc2FnZUhlbHBlci5tZXNzYWdlRWRpdG9ySWQpO1xyXG4gICAgICAgICAgICBpZiAobWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Q29tcG9zZSB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hGb3J3YXJkIHx8XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hSZXBseSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1lc3NhZ2VIZWxwZXIubWVzc2FnZVN1YmplY3QgJiYgTWVzc2FnZUhlbHBlci5tZXNzYWdlU3ViamVjdC50cmltKCkubGVuZ3RoID4gMCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVkaXRvci5nZXRDb250ZW50KHsgZm9ybWF0OiAndGV4dCcgfSkudHJpbSgpLmxlbmd0aCA+IDAgfHxcclxuICAgICAgICAgICAgICAgICAgICAoKG1lc3NhZ2VUb0ZpZWxkVmFsdWVzICYmIG1lc3NhZ2VUb0ZpZWxkVmFsdWVzLmxlbmd0aCA+IDApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChtZXNzYWdlVG9GaWVsZElkcyAmJiBtZXNzYWdlVG9GaWVsZElkcy5sZW5ndGggPiAwKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLlJlc3BvbnNlQ29tcG9zZVxyXG4gICAgICAgICAgICAgICAgfHwgbWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLldvcmtsaXN0Q29tcG9zZSB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuUmVzcG9uc2VSZXBseVxyXG4gICAgICAgICAgICAgICAgfHwgbWVzc2FnZVR5cGUgPT09IGVudW1zLk1lc3NhZ2VUeXBlLlJlc3BvbnNlRm9yd2FyZCB8fCBtZXNzYWdlVHlwZSA9PT0gZW51bXMuTWVzc2FnZVR5cGUuVGVhbUNvbXBvc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNZXNzYWdlSGVscGVyLm1lc3NhZ2VTdWJqZWN0ICYmIE1lc3NhZ2VIZWxwZXIubWVzc2FnZVN1YmplY3QudHJpbSgpLmxlbmd0aCA+IDAgfHxcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVFZGl0b3IuZ2V0Q29udGVudCh7IGZvcm1hdDogJ3RleHQnIH0pLnRyaW0oKS5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyBjaGFuZ2VzIGluIHRoZSBtZXNzYWdlIHBhbmVsIHN1YmplY3Qgc2VjdGlvbi5cclxuICAgICAqIEBwYXJhbSBlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgaGFuZGxlU3ViamVjdENoYW5nZSA9IChzdWJqZWN0OiBzdHJpbmcpID0+IHtcclxuICAgICAgICBNZXNzYWdlSGVscGVyLm1lc3NhZ2VTdWJqZWN0ID0gc3ViamVjdDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCByZXZhbXBzIHRoZSBtYXJraW5nIG1vZGUgbmFtaW5nIGZvciBkaXNwbGF5IGluIG1lc3NhZ2VcclxuICAgICAqIEBwYXJhbSBtYXJraW5nTW9kZVxyXG4gICAgICogQHBhcmFtIGlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRNYXJraW5nTW9kZVRleHQobWFya2luZ01vZGU6IG51bWJlciwgaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlcjogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKG1hcmtpbmdNb2RlID09PSBlbnVtcy5NYXJraW5nTW9kZS5FU19UZWFtQXBwcm92YWwpIHtcclxuICAgICAgICAgICAgaWYgKGlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zdG0tc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlLXRpdGxlJykpICsgJyAnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5zZWNvbmQtc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlLXRpdGxlJykpICsgJyAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAobWFya2luZ01vZGUgPT09IGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5wcmFjdGljZS1yZXNwb25zZS10aXRsZScpKSArICcgJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXJraW5nTW9kZSA9PT0gZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuICgobG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnN0YW5kYXJkaXNhdGlvbi1yZXNwb25zZS10aXRsZScpKSArICcgJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXJraW5nTW9kZSA9PT0gZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnNlY29uZC1zdGFuZGFyZGlzYXRpb24tcmVzcG9uc2UtdGl0bGUnKSkgKyAnICcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IE1lc3NhZ2VIZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvbWVzc2FnZS9tZXNzYWdlaGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBd2hCQTtBQWhoQkE7OztBQUdBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1QkE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXJoQkE7QUFFQTtBQTRVQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXFEQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQXlCQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUEyQkE7QUFBQTtBQUVBOztBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 292:
/* no static exports found */
/* all exports used */
/*!***************************************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetuphelpers/standardisationsetuphelperbase.ts ***!
  \***************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar localeStore = __webpack_require__(/*! ../../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar GenericComponentWrapper = __webpack_require__(/*! ../genericcomponentwrapper */ 365);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar ColumnHeader = __webpack_require__(/*! ../../../worklist/shared/columnheader */ 329);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar jsonRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar GenericTextColumn = __webpack_require__(/*! ../../../worklist/shared/generictextcolumn */ 387);\r\nvar comparerList = __webpack_require__(/*! ../../../../utility/sorting/sortbase/comparerlist */ 262);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../markeroperationmode/markeroperationmodefactory */ 232);\r\nvar immutable = __webpack_require__(/*! immutable */ 40);\r\nvar standardisationSetupGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/standardisationsetupgridcolumns.json */ 273);\r\nvar blueBannerMessage = __webpack_require__(/*! ../../../standardisationsetup/shared/bluebanner */ 401);\r\nvar totalMark = __webpack_require__(/*! ../../../worklist/shared/totalmarkdetail */ 391);\r\nvar TagList = __webpack_require__(/*! ../../../response/responsescreen/taglist */ 313);\r\nvar stdResponseId = __webpack_require__(/*! ../../../standardisationsetup/shared/standardisationresponseid */ 406);\r\nvar LinkedMessageIndicator = __webpack_require__(/*! ../../../worklist/shared/linkedmessageindicator */ 389);\r\nvar LastUpdatedColumn = __webpack_require__(/*! ../../../worklist/shared/lastupdatedcolumn */ 388);\r\nvar scriptidgridelement = __webpack_require__(/*! ../../../standardisationsetup/shared/scriptidgridelement */ 403);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar ecourseWorkHelper = __webpack_require__(/*! ../../ecoursework/ecourseworkhelper */ 238);\r\nvar RigOrder = __webpack_require__(/*! ../../../standardisationsetup/shared/rigorder */ 402);\r\nvar tagStore = __webpack_require__(/*! ../../../../stores/tags/tagstore */ 331);\r\nvar slaoAnnotationIndicator = __webpack_require__(/*! ../../../worklist/shared/slaoannotationindicator */ 371);\r\nvar MarkingProgress = __webpack_require__(/*! ../../../worklist/shared/markingprogress */ 369);\r\nvar marksColumn = __webpack_require__(/*! ../../../worklist/shared/markscolumn */ 415);\r\nvar allPageAnnotationIndicator = __webpack_require__(/*! ../../../worklist/shared/allpageannotationindicator */ 368);\r\nvar allFilesNotViewedIndicator = __webpack_require__(/*! ../../../worklist/shared/allfilesnotviewedindicator */ 386);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../ecoursework/ecourseworkhelper */ 238);\r\nvar submitHelper = __webpack_require__(/*! ../../submit/submithelper */ 282);\r\nvar DeclassifyButton = __webpack_require__(/*! ../../../standardisationsetup/declassifybutton */ 400);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\nvar stringFormatHelper = __webpack_require__(/*! ../../../../utility/stringformat/stringformathelper */ 250);\r\nvar genericDate = __webpack_require__(/*! ../../../worklist/shared/genericdate */ 315);\r\nvar xmlHelper = __webpack_require__(/*! ../../../../utility/generic/xmlhelper */ 379);\r\nvar sortHelper = __webpack_require__(/*! ../../../../utility/sorting/sorthelper */ 272);\r\nvar sharedResponseIndicatorElement = __webpack_require__(/*! ../../../standardisationsetup/shared/sharedresponseindicator */ 405);\r\n/**\r\n * class for WorkList Helper implementation\r\n */\r\nvar StandardisationSetupHelperBase = /** @class */ (function () {\r\n    function StandardisationSetupHelperBase() {\r\n        var _this = this;\r\n        this._dateLengthInPixel = 0;\r\n        this._isNonNumeric = false;\r\n        /**\r\n         * returns the blue banner element\r\n         * @param selectedWorkList\r\n         * @param targetCount\r\n         * @param isESTeamMember\r\n         * @param selectedSession\r\n         */\r\n        this.getBlueBannerForTargets = function (selectedWorkList, targetCount, isESTeamMember, selectedSession) {\r\n            var componentProps;\r\n            componentProps = {\r\n                key: selectedWorkList + '_blueBanner',\r\n                blueBannerMessageKey: _this.getRightContainerBlueBannerKey(selectedWorkList, targetCount, isESTeamMember, selectedSession)\r\n            };\r\n            return React.createElement(blueBannerMessage, componentProps);\r\n        };\r\n        /**\r\n         * returns the blue banner message key for resource file\r\n         * @param selectedWorkList\r\n         * @param targetCount\r\n         * @param isESTeamMember\r\n         * @param selectedSession\r\n         */\r\n        this.getRightContainerBlueBannerKey = function (selectedWorkList, targetCount, isESTeamMember, selectedSession) {\r\n            if (isESTeamMember === void 0) { isESTeamMember = false; }\r\n            var key;\r\n            switch (selectedWorkList) {\r\n                case enums.StandardisationSetup.None:\r\n                    key = 'standardisation-setup.right-container.select-response-bluebanner-message';\r\n                    break;\r\n                case enums.StandardisationSetup.SelectResponse:\r\n                    if (selectedSession !== null && selectedSession !== undefined\r\n                        && selectedSession === enums.StandardisationSessionTab.PreviousSession) {\r\n                        targetCount === 0 ?\r\n                            key = 'standardisation-setup.right-container.select-response-previouse-session-empty-message' :\r\n                            key = 'standardisation-setup.right-container.select-response-previouse-session-default-message';\r\n                    }\r\n                    else {\r\n                        key = 'standardisation-setup.right-container.select-response-bluebanner-message';\r\n                    }\r\n                    break;\r\n                case enums.StandardisationSetup.ProvisionalResponse:\r\n                    key = targetCount > 0 ? 'standardisation-setup.right-container.provisional-bluebanner-message' :\r\n                        'standardisation-setup.right-container.empty-responses-provisional-bluebanner-message';\r\n                    break;\r\n                case enums.StandardisationSetup.UnClassifiedResponse:\r\n                    var isSeedVisible = standardisationSetupStore.instance.stdSetupPermissionCCData ?\r\n                        standardisationSetupStore.instance.stdSetupPermissionCCData.role.viewByClassification.classifications.seeding :\r\n                        false;\r\n                    // Check whether the logged in examiner role is present in the 'StandardisationSetupPermissions' CC\r\n                    var isLoggedInExaminerRolePresentInCC = standardisationSetupStore.instance.stdSetupPermissionCCData.isLoggedInExaminerRolePresentInCC;\r\n                    var loggedInExaminerRole = standardisationSetupStore.instance.stdSetupPermissionCCData.role.name;\r\n                    key = targetCount > 0 ?\r\n                        ((isESTeamMember && (isSeedVisible === false || isSeedVisible === undefined)) ?\r\n                            'standardisation-setup.right-container.unclassified-bluebanner-message-for-esteam' :\r\n                            'standardisation-setup.right-container.unclassified-bluebanner-message') :\r\n                        (isESTeamMember && !isLoggedInExaminerRolePresentInCC) ?\r\n                            'standardisation-setup.right-container.empty-responses-unclassified-without-role-bluebanner-message' :\r\n                            'standardisation-setup.right-container.empty-responses-unclassified-bluebanner-message';\r\n                    break;\r\n                case enums.StandardisationSetup.ClassifiedResponse:\r\n                    key = targetCount > 0 ? 'standardisation-setup.right-container.classified-bluebanner-message' :\r\n                        'standardisation-setup.right-container.empty-responses-classified-bluebanner-message';\r\n                    break;\r\n            }\r\n            return key;\r\n        };\r\n    }\r\n    /**\r\n     * Get the Configurable characteristic value.\r\n     * @param ccName\r\n     * @returns\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getCCValue = function (ccName, markSchemeGroupId) {\r\n        return configurableCharacteristicsHelper.getCharacteristicValue(ccName, markSchemeGroupId);\r\n    };\r\n    /**\r\n     * Get Session tab visibilty in SSU\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getSessionTabVisibiltyinSelectResponse = function () {\r\n        return (configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ReuseRIG).toLowerCase() === 'true'\r\n            && standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.reuseResponses);\r\n    };\r\n    /**\r\n     * Get the retain provisional CC\r\n     */\r\n    StandardisationSetupHelperBase.prototype.isRetainProvisionalMarksCCOn = function () {\r\n        return configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.RetainProvisionalMarks, standardisationSetupStore.instance.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n    };\r\n    /**\r\n     * generateStandardisationRowDefinion is used for generating row collection for WorkList Grid\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param workListSelection\r\n     * @param gridType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateStandardisationRowDefinion = function (comparerName, sortDirection, workListSelection, gridType) {\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Generating Reusable response worklist grid row definition\r\n     * @param reusableResponsesList\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateReusableResponsesRowDefinition = function (reusableResponsesList) {\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Generating frozen row body for reusable responses grid\r\n     * @param reusableResponsesList\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateStandardisationFrozenRowBodyReusableGrid = function (reusableResponsesList, comparerName, sortDirection) {\r\n        return this._stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * generateScriptRowDefinition is used for generating row collection for Select response Script Grid\r\n     * @param standardisationScriptList\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateScriptRowDefinition = function (standardisationScriptList) {\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * GenerateTableHeader is used for generating header collection.\r\n     * @param standardisationSetupType\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param gridType\r\n     * @param selectedSessionTab\r\n     * @param centreOrScript\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateTableHeader = function (standardisationSetupType, comparerName, sortDirection, gridType, selectedSessionTab, centreOrScript) {\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        var _tableHeaderCollection = this.getTableHeader(standardisationSetupType, comparerName, sortDirection, selectedSessionTab, gridType, centreOrScript);\r\n        return _tableHeaderCollection;\r\n    };\r\n    /**\r\n     * generateFrozenRowBody is used for generating row collection for Standardisation Setup Grid\r\n     * @param standardisationSetupDetailsList\r\n     * @param standardisationSetupType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateFrozenRowBody = function (standardisationSetupDetailsList, standardisationSetupType, gridType, comparerName, sortDirection) {\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        var _workListFrozenRowBodyCollection = this.getFrozenRowBodyForListView(standardisationSetupDetailsList, standardisationSetupType, gridType, comparerName, sortDirection);\r\n        return _workListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Is used for generating row header collection for WorkList table\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param standardisationSetupType\r\n     * @param selectedSessionTab\r\n     * @param isSortable\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateFrozenRowHeader = function (comparerName, sortDirection, standardisationSetupType, selectedSessionTab, isSortable) {\r\n        if (selectedSessionTab === void 0) { selectedSessionTab = enums.StandardisationSessionTab.CurrentSession; }\r\n        if (isSortable === void 0) { isSortable = true; }\r\n        // Get the frozen column list from json\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        var _frozenRowHeaderCollection = this.getFrozenRowHeader(comparerName, sortDirection, isSortable, standardisationSetupType, selectedSessionTab);\r\n        return _frozenRowHeaderCollection;\r\n    };\r\n    /**\r\n     * Is used for generating frozen row body collection for STD WorkList table\r\n     * @param standardisationResponseListData\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateStandardisationFrozenRowBody = function (comparerName, sortDirection, standardisationSetupType, gridType) {\r\n        return this._stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * create a wraper for grid column\r\n     * @param elements\r\n     * @param className\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getWrappedColumn = function (elements, className, seq) {\r\n        var componentProps;\r\n        var _workListCell;\r\n        var _gridCell = new gridCell();\r\n        var element;\r\n        componentProps = {\r\n            key: seq,\r\n            divClassName: className,\r\n            componentList: elements\r\n        };\r\n        _workListCell = new gridCell();\r\n        _workListCell.columnElement = React.createElement(GenericComponentWrapper, componentProps);\r\n        return _workListCell;\r\n    };\r\n    /**\r\n     * creating grid columns collection\r\n     * @param gridgridLeftColumn\r\n     * @param gridMiddleColumn\r\n     * @param key\r\n     * @param gridRightColumn - to display AMD and TMD based on Accuracy Indicator\r\n     * @returns grid cell collection.\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getGridCells = function (gridgridLeftColumn, gridMiddleColumn, key, gridRightColumn) {\r\n        var _gridCells = new Array();\r\n        _gridCells.push(this.getWrappedColumn(Immutable.List(gridgridLeftColumn), 'col left-col', 'Grid_left_' + key));\r\n        _gridCells.push(this.getWrappedColumn(Immutable.List(gridMiddleColumn), 'col centre-col', 'Grid_centre_' + key));\r\n        // create column for AMD and TMD only if gridRightColumn is not null\r\n        if (gridRightColumn !== null) {\r\n            _gridCells.push(this.getWrappedColumn(Immutable.List(gridRightColumn), 'col right-col', 'Grid_right_' + key));\r\n        }\r\n        return _gridCells;\r\n    };\r\n    /**\r\n     * Group the elements based on the classNames.\r\n     * @param {string} groupClassName\r\n     * @param {string} seq\r\n     * @returns the grouped JSX.Element.\r\n     * @Summary groupClassName is the root element className and the column list may contain\r\n     * the key same as groupClassName. Then that will not group the elements instead add it as\r\n     * immediate child node.\r\n     */\r\n    StandardisationSetupHelperBase.prototype.groupColumnElements = function (groupClassName, seq) {\r\n        var elements = Immutable.List();\r\n        // loop through the class group names to find the child and group.\r\n        for (var key in this._groupColumns) {\r\n            if (this._groupColumns[key].values) {\r\n                var componentProps_1 = {\r\n                    id: this._groupColumns[key] + seq,\r\n                    key: this._groupColumns[key] + seq,\r\n                    divClassName: key,\r\n                    componentList: this._groupColumns[key].values\r\n                };\r\n                // If the key same as main group className then we dont need to create a childnode.\r\n                // treating it as immediate child of the main element.\r\n                if (key !== groupClassName) {\r\n                    elements = elements.push(React.createElement(GenericComponentWrapper, componentProps_1));\r\n                }\r\n                else {\r\n                    this._groupColumns[key].values.map(function (x) {\r\n                        elements = elements.push(x);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        var componentProps = {\r\n            id: groupClassName + seq,\r\n            key: groupClassName + seq,\r\n            divClassName: groupClassName,\r\n            componentList: elements\r\n        };\r\n        return React.createElement(GenericComponentWrapper, componentProps);\r\n    };\r\n    /**\r\n     * Start with fresh group.\r\n     */\r\n    StandardisationSetupHelperBase.prototype.emptyGroupColumns = function () {\r\n        // start with a fresh list of column group set.\r\n        this._groupColumns = {};\r\n    };\r\n    Object.defineProperty(StandardisationSetupHelperBase.prototype, \"groupColumns\", {\r\n        /**\r\n         * Return the group columns\r\n         * @returns\r\n         */\r\n        get: function () {\r\n            return this._groupColumns;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Mapping the each elements to a group.\r\n     * This add the elements to a dictionary which has className as key\r\n     * and list of elements that  grouped under the className.\r\n     * @param {string} className\r\n     * @param {JSX.Element} element\r\n     */\r\n    StandardisationSetupHelperBase.prototype.mapGroupColumns = function (className, element) {\r\n        // If not group class has been added create a new object\r\n        // otherwise add to the existing.\r\n        if (this._groupColumns[className] === undefined) {\r\n            this._groupColumns[className] = { values: Immutable.List() };\r\n        }\r\n        this._groupColumns[className].values = this._groupColumns[className].values.push(element);\r\n    };\r\n    /**\r\n     * creating react element for the  Column Header component\r\n     * @param seq - key value for the component\r\n     * @param displayText - the text to append with the display id.\r\n     * @returns JSX.Element.\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getColumnHeaderElement = function (seq, headerText, gridColumn, isCurrentSort, isSortRequired, sortDirection) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            headerText: headerText,\r\n            sortDirection: sortDirection,\r\n            isCurrentSort: isCurrentSort,\r\n            isSortingRequired: isSortRequired\r\n        };\r\n        return React.createElement(ColumnHeader, componentProps);\r\n    };\r\n    /**\r\n     * returns the table row collection for table header.\r\n     * @param standardisationSetupType\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param selectedSessionTab\r\n     * @param gridType\r\n     * @param centreOrScript\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getTableHeader = function (standardisationSetupType, comparerName, sortDirection, selectedSessionTab, gridType, centreOrScript) {\r\n        if (selectedSessionTab === void 0) { selectedSessionTab = enums.StandardisationSessionTab.CurrentSession; }\r\n        var _columnHeaderCollection = Array();\r\n        var _cell;\r\n        var _row = new gridRow();\r\n        var _columnHeaderCellcollection = new Array();\r\n        var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, standardisationSetupType, false, gridType, selectedSessionTab, centreOrScript);\r\n        var gridColumnLength = gridColumns.length;\r\n        this.resetDynamicColumnSettings();\r\n        // Getting the classified worklist columns\r\n        for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n            _cell = new gridCell();\r\n            var _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n            var headerText = gridColumns[gridColumnCount].ColumnHeader;\r\n            var _comparerName = gridColumns[gridColumnCount].ComparerName;\r\n            headerText = (headerText && headerText !== '') ? localeStore.instance.TranslateText(headerText) : '';\r\n            var key = 'columnHeader_' + gridColumnCount;\r\n            var isCurrentSort = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n                undefined : (comparerName === _comparerName);\r\n            var isSortRequired = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n                false : (gridColumns[gridColumnCount].Sortable === 'true');\r\n            var currentSortDirection = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n                undefined : sortDirection;\r\n            _cell.columnElement = this.getColumnHeaderElement(key, headerText, _responseColumn, isCurrentSort, isSortRequired, currentSortDirection);\r\n            _cell.isHidden = this.getCellVisibility(_responseColumn);\r\n            // No sort for classification\r\n            if (standardisationSetupType !== enums.StandardisationSetup.ClassifiedResponse) {\r\n                _cell.comparerName = _comparerName;\r\n                _cell.sortDirection = this.getSortDirection((comparerName === _comparerName), sortDirection);\r\n            }\r\n            var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n            _cell.setCellStyle(cellStyle);\r\n            // Creating the grid row collection.\r\n            _columnHeaderCellcollection.push(_cell);\r\n        }\r\n        // Get Dynamic Headers for Individual question when Mark By question view selected\r\n        if (gridType === enums.GridType.markByQuestion) {\r\n            var standardisationResponseListData = Immutable.List(standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses);\r\n            _columnHeaderCellcollection.concat(this.getDynamicHeadersForMarks(standardisationResponseListData, _columnHeaderCellcollection));\r\n            if (standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse &&\r\n                (standardisationSetupStore.instance.stdSetupPermissionCCData &&\r\n                    standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.declassify) &&\r\n                this.isRetainProvisionalMarksCCOn() &&\r\n                !qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n                var key = 'columnHeader_Declassify';\r\n                var cellStyle = 'last-cell-header';\r\n                _cell = new gridCell();\r\n                // create question header element for each question.\r\n                _cell.columnElement = this.getColumnHeaderElement(key, '', undefined, undefined, false, undefined);\r\n                _cell.isHidden = false;\r\n                _cell.setCellStyle(cellStyle);\r\n                // Creating the grid row collection.\r\n                _columnHeaderCellcollection.push(_cell);\r\n            }\r\n            else {\r\n                //Adding the 'last-cell' column as this column is not added to classified worklst by default\r\n                var key = 'columnHeader_Declassify';\r\n                var cellStyle = 'last-cell-header';\r\n                _cell = new gridCell();\r\n                _cell.isHidden = false;\r\n                _cell.setCellStyle(cellStyle);\r\n                // Creating the grid row collection.\r\n                _columnHeaderCellcollection.push(_cell);\r\n            }\r\n        }\r\n        _row.setRowId(1);\r\n        _row.setCells(_columnHeaderCellcollection);\r\n        _columnHeaderCollection.push(_row);\r\n        var _standardisationTableHeaderCollection = Immutable.fromJS(_columnHeaderCollection);\r\n        return _standardisationTableHeaderCollection;\r\n    };\r\n    /**\r\n     * returns the table row collection of frozen table\r\n     * @param standardisationSetupDetailsList\r\n     * @param standardisationSetupType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getFrozenRowBodyForListView = function (standardisationSetupDetailsList, standardisationSetupType, gridType, comparerName, sortDirection) {\r\n        var _rowHeaderCellcollection = Array();\r\n        var _row;\r\n        var _rowCollection = Array();\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _cell;\r\n        var key;\r\n        var cssClass;\r\n        var submitResponse = new submitHelper();\r\n        if (standardisationSetupDetailsList != null) {\r\n            var gridSeq = void 0;\r\n            var _responseListData = void 0;\r\n            var gridColumns = void 0;\r\n            var gridRowIdColumn = void 0;\r\n            switch (standardisationSetupType) {\r\n                case enums.StandardisationSetup.SelectResponse:\r\n                    if (standardisationSetupDetailsList.standardisationScriptDetailsList) {\r\n                        gridSeq = standardisationSetupDetailsList.standardisationScriptDetailsList.centreScriptList.keySeq();\r\n                        _responseListData = standardisationSetupDetailsList.standardisationScriptDetailsList.centreScriptList.toArray();\r\n                        gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, standardisationSetupType, true, null, enums.StandardisationSessionTab.CurrentSession, 'Script');\r\n                        gridRowIdColumn = 'candidateScriptId';\r\n                    }\r\n                    else {\r\n                        return;\r\n                    }\r\n                    break;\r\n                case enums.StandardisationSetup.ProvisionalResponse:\r\n                    _responseListData = standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses;\r\n                    var sortedData = void 0;\r\n                    sortedData = Immutable.List(sortHelper.sort(_responseListData, comparerList[comparerName]));\r\n                    _responseListData = sortedData.toArray();\r\n                    gridSeq = Immutable.List(_responseListData).keySeq();\r\n                    gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, standardisationSetupType, true, gridType);\r\n                    break;\r\n                case enums.StandardisationSetup.None:\r\n                    break;\r\n            }\r\n            for (var responseListCount = 0; responseListCount < _responseListData.length; responseListCount++) {\r\n                // Getting the list data row\r\n                _row = new gridRow();\r\n                _rowHeaderCellcollection = new Array();\r\n                var responseData = _responseListData[responseListCount];\r\n                var gridColumnLength = gridColumns.length;\r\n                var responseStatuses = submitResponse.submitButtonValidate(responseData, responseData.markingProgress, false, false);\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _cell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    //Switch statement for adding frozen columns.\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.ScriptId:\r\n                            key = gridSeq.get(responseListCount) + '_ScriptId_' + gridColumnCount;\r\n                            _cell.columnElement = this.getScriptIdElement(responseData, componentPropsJson, key, (localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.script-id')\r\n                                + ' '), true);\r\n                            _cell.setCellStyle('col-script-id header-col');\r\n                            _rowHeaderCellcollection.push(_cell);\r\n                            break;\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq.get(responseListCount) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _cell.columnElement = this.getResponseIdColumnElement(responseData, key, true);\r\n                            _cell.setCellStyle('col-response header-col');\r\n                            _rowHeaderCellcollection.push(_cell);\r\n                            break;\r\n                        case gridColumnNames.IsSharedProvisional:\r\n                            var isSharedProvisional = this.isCommonProvisionalStandardisationOn()\r\n                                && standardisationSetupStore.instance.stdSetupPermissionCCData.role\r\n                                    .permissions.viewCommonProvisionalAvailableResponses\r\n                                && responseData.isSharedProvisional;\r\n                            key = gridSeq.get(responseListCount) + '_ShareResponseIndicatorColumn_' + gridColumnCount;\r\n                            _cell.columnElement = this.getSharedResponseIndicatorElement(isSharedProvisional, key);\r\n                            _cell.setCellStyle('col-share');\r\n                            _rowHeaderCellcollection.push(_cell);\r\n                            break;\r\n                    }\r\n                }\r\n                // Creating the table row collection.\r\n                _rowCollection.push(this.getGridRow(responseData[gridRowIdColumn], _rowHeaderCellcollection, undefined, cssClass, responseStatuses));\r\n            }\r\n        }\r\n        var _frozenRowBodyCollection = Immutable.fromJS(_rowCollection);\r\n        return _frozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * get Script Id Element\r\n     * @param standardisationScriptDetails\r\n     * @param propsNames\r\n     * @param seq\r\n     * @param displayText\r\n     * @param isScriptIdClickable\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getScriptIdElement = function (standardisationScriptDetails, propsNames, seq, displayText, isScriptIdClickable) {\r\n        if (isScriptIdClickable === void 0) { isScriptIdClickable = true; }\r\n        var componentProps;\r\n        var _displayText;\r\n        _displayText = standardisationScriptDetails[propsNames.ScriptId];\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            displayId: standardisationScriptDetails[propsNames.ScriptId],\r\n            displayText: _displayText,\r\n            isClickable: isScriptIdClickable\r\n        };\r\n        return React.createElement(scriptidgridelement, componentProps);\r\n    };\r\n    /**\r\n     * returns the table row elements for frozen table header\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param isSortable\r\n     * @param standardisationSetupType\r\n     * @param selectedTab\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getFrozenRowHeader = function (comparerName, sortDirection, isSortable, standardisationSetupType, selectedSessionTab) {\r\n        var _columnHeaderCollection = Array();\r\n        var _row = new gridRow();\r\n        var _columnHeaderCellcollection = new Array();\r\n        var _comparerName;\r\n        var _gridColumnName = '';\r\n        var _cellStyle = '';\r\n        switch (standardisationSetupType) {\r\n            case enums.StandardisationSetup.SelectResponse:\r\n                switch (selectedSessionTab) {\r\n                    case enums.StandardisationSessionTab.CurrentSession:\r\n                        _comparerName = comparerList.stdScriptIdComparer;\r\n                        _gridColumnName = localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.script-id');\r\n                        _cellStyle = 'col-script-id header-col';\r\n                        // Creating the grid row collection.\r\n                        _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, _gridColumnName, _cellStyle, comparerName, isSortable, _comparerName, sortDirection));\r\n                        break;\r\n                    case enums.StandardisationSessionTab.PreviousSession:\r\n                        var _cell = void 0;\r\n                        var gridColumns_1 = this.getGridColumns(this.resolvedGridColumnsJson, enums.StandardisationSetup.SelectResponse, true, null, enums.StandardisationSessionTab.PreviousSession);\r\n                        var gridColumnLength_1 = gridColumns_1.length;\r\n                        for (var gridColumnCount = 0; gridColumnCount < gridColumnLength_1; gridColumnCount++) {\r\n                            _cell = new gridCell();\r\n                            var key = 'frozenRowHeader_' + gridColumnCount;\r\n                            var currentComparer = gridColumns_1[gridColumnCount].ComparerName;\r\n                            var isSortRequired = gridColumns_1[gridColumnCount].Sortable === 'true';\r\n                            var headerText = gridColumns_1[gridColumnCount].ColumnHeader;\r\n                            headerText = (headerText && headerText !== '') ? localeStore.instance.TranslateText(headerText) : '';\r\n                            var cellStyle = (gridColumns_1[gridColumnCount].CssClass) ? gridColumns_1[gridColumnCount].CssClass : '';\r\n                            // Creating the grid row collection.\r\n                            _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, headerText, cellStyle, comparerName, isSortRequired, comparerList[currentComparer], sortDirection));\r\n                        }\r\n                        break;\r\n                }\r\n                break;\r\n            case enums.StandardisationSetup.ClassifiedResponse:\r\n                _gridColumnName =\r\n                    localeStore.instance.\r\n                        TranslateText('standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.response-id');\r\n                _cellStyle = 'col-response header-col';\r\n                // Creating the grid row collection.\r\n                _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, '', 'col-std-classify-items header-col', '', false));\r\n                _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, _gridColumnName, _cellStyle, '', false));\r\n                break;\r\n            case enums.StandardisationSetup.ProvisionalResponse:\r\n                var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, standardisationSetupType, true);\r\n                var gridColumnLength = gridColumns.length;\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    var currentComparer = gridColumns[gridColumnCount].ComparerName;\r\n                    _gridColumnName = gridColumns[gridColumnCount].ColumnHeader;\r\n                    _gridColumnName = (_gridColumnName && _gridColumnName !== '') ?\r\n                        localeStore.instance.TranslateText(_gridColumnName) : '';\r\n                    _cellStyle = (gridColumns[gridColumnCount].CssClass) ?\r\n                        gridColumns[gridColumnCount].CssClass : ''; // 'col-response header-col';\r\n                    var isSortRequired = gridColumns[gridColumnCount].Sortable === 'true';\r\n                    // Creating the grid row collection.\r\n                    _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, _gridColumnName, _cellStyle, comparerName, isSortRequired, comparerList[currentComparer], sortDirection));\r\n                }\r\n                break;\r\n            case enums.StandardisationSetup.UnClassifiedResponse:\r\n                _gridColumnName =\r\n                    localeStore.instance.\r\n                        TranslateText('standardisation-setup.standardisation-setup-worklist.total-mark-view-column-headers.response-id');\r\n                _cellStyle = 'col-response header-col';\r\n                _comparerName = comparerList.responseIdComparer;\r\n                // Creating the grid row collection.\r\n                _columnHeaderCellcollection.push(this.setFrozenColumnHeaders(standardisationSetupType, _gridColumnName, _cellStyle, comparerName, isSortable, _comparerName, sortDirection));\r\n                break;\r\n            case enums.StandardisationSetup.None:\r\n                break;\r\n        }\r\n        _row.setRowId(1);\r\n        _row.setCells(_columnHeaderCellcollection);\r\n        _columnHeaderCollection.push(_row);\r\n        var _frozenRowHeaderCollection = Immutable.fromJS(_columnHeaderCollection);\r\n        return _frozenRowHeaderCollection;\r\n    };\r\n    /**\r\n     * Setting frozen header columns (Rig order empty column/Response Id for Classifed)\r\n     * @param columnHeader\r\n     * @param cellStyle\r\n     */\r\n    StandardisationSetupHelperBase.prototype.setFrozenColumnHeaders = function (standardisationSetupType, columnHeader, cellStyle, currentComparer, isSortable, _comparerName, sortDirection) {\r\n        var _cell;\r\n        _cell = new gridCell();\r\n        var key = 'frozenRowHeader';\r\n        var isCurrentSort = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n            undefined : (comparerList[currentComparer] === _comparerName);\r\n        var isSortRequired = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n            false : isSortable;\r\n        var currentSortDirection = standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse ?\r\n            undefined : sortDirection;\r\n        //TODO : Move the magic strings outside (json?)\r\n        _cell.columnElement = this.getColumnHeaderElement(key, columnHeader, '', isCurrentSort, isSortRequired, currentSortDirection);\r\n        if (standardisationSetupType !== enums.StandardisationSetup.ClassifiedResponse) {\r\n            _cell.comparerName = comparerList[_comparerName];\r\n            _cell.sortDirection = this.getSortDirection((comparerList[currentComparer] === _comparerName), sortDirection);\r\n        }\r\n        _cell.setCellStyle(cellStyle);\r\n        return _cell;\r\n    };\r\n    /**\r\n     * returns the gridcolumns based on the response mode and worklist type\r\n     * @param resolvedGridColumnsJson\r\n     * @param standardisationSetupType\r\n     * @param isFrozen\r\n     * @param selectedSessionTab\r\n     * @param centreOrScript\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getGridColumns = function (resolvedGridColumnsJson, standardisationSetupType, isFrozen, gridType, selectedSessionTab, centreOrScript) {\r\n        if (isFrozen === void 0) { isFrozen = false; }\r\n        var gridColumns;\r\n        switch (standardisationSetupType) {\r\n            case enums.StandardisationSetup.SelectResponse:\r\n                if (selectedSessionTab === enums.StandardisationSessionTab.CurrentSession) {\r\n                    if (centreOrScript === 'Script') {\r\n                        gridColumns = (isFrozen === false) ? resolvedGridColumnsJson.standardisationsetup.SelectResponse.Script.GridColumns\r\n                            : resolvedGridColumnsJson.standardisationsetup.SelectResponse.FrozenRows.GridColumns;\r\n                    }\r\n                    else {\r\n                        gridColumns = resolvedGridColumnsJson.standardisationsetup.SelectResponse.Centre.GridColumns;\r\n                    }\r\n                }\r\n                else if (selectedSessionTab === enums.StandardisationSessionTab.PreviousSession) {\r\n                    gridColumns = (isFrozen === false) ?\r\n                        resolvedGridColumnsJson.standardisationsetup.PreviousSession.ReusableResponse.GridColumns\r\n                        : resolvedGridColumnsJson.standardisationsetup.PreviousSession.frozenRows.GridColumns;\r\n                }\r\n                break;\r\n            case enums.StandardisationSetup.ProvisionalResponse:\r\n                gridColumns = (isFrozen === false) ? (gridType === enums.GridType.totalMarks ?\r\n                    resolvedGridColumnsJson.standardisationsetup.ProvisionalResponse.totalmarksview.GridColumns\r\n                    : resolvedGridColumnsJson.standardisationsetup.ProvisionalResponse.marksbyquestionview.GridColumns)\r\n                    : resolvedGridColumnsJson.standardisationsetup.ProvisionalResponse.frozenRows.GridColumns;\r\n                break;\r\n            case enums.StandardisationSetup.UnClassifiedResponse:\r\n                gridColumns = (isFrozen === false) ? (gridType === enums.GridType.totalMarks ?\r\n                    resolvedGridColumnsJson.standardisationsetup.UnClassifiedResponse.totalmarksview.GridColumns\r\n                    : resolvedGridColumnsJson.standardisationsetup.UnClassifiedResponse.marksbyquestionview.GridColumns)\r\n                    : resolvedGridColumnsJson.standardisationsetup.UnClassifiedResponse.frozenRows.GridColumns;\r\n                break;\r\n            case enums.StandardisationSetup.ClassifiedResponse:\r\n                gridColumns = (isFrozen === false) ? (gridType === enums.GridType.totalMarks ?\r\n                    resolvedGridColumnsJson.standardisationsetup.ClassifiedResponse.totalmarksview.GridColumns\r\n                    : resolvedGridColumnsJson.standardisationsetup.ClassifiedResponse.marksbyquestionview.GridColumns)\r\n                    : resolvedGridColumnsJson.standardisationsetup.ClassifiedResponse.frozenRows.GridColumns;\r\n                break;\r\n            case enums.StandardisationSetup.None:\r\n                break;\r\n        }\r\n        return gridColumns;\r\n    };\r\n    /**\r\n     * returns whether the the given column is hidden or not\r\n     * @param responseColumn\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getCellVisibility = function (column) {\r\n        if (ecourseWorkHelper.isECourseworkComponent && column === 'FirstScanned') {\r\n            return true;\r\n        }\r\n        if (!(configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.eBookmarking).toLowerCase() === 'true' ? true : false) && column === 'QuestionItems') {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Reset dynamic column\r\n     */\r\n    StandardisationSetupHelperBase.prototype.resetDynamicColumnSettings = function () {\r\n        this._dateLengthInPixel = 0;\r\n    };\r\n    /**\r\n     * return the sort direction - if it is current sort just reverse the direction otherwise asc as defaualt direction.\r\n     * @param isCurrentSort\r\n     * @param sortDirection\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getSortDirection = function (isCurrentSort, sortDirection) {\r\n        return ((isCurrentSort === true) ?\r\n            ((sortDirection === enums.SortDirection.Ascending) ? enums.SortDirection.Descending : enums.SortDirection.Ascending)\r\n            : enums.SortDirection.Ascending);\r\n    };\r\n    /**\r\n     * Get the text value for Grid Column\r\n     * @param textValue\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getGenericTextElement = function (textValue, seq, title) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            textValue: textValue,\r\n            title: title\r\n        };\r\n        return React.createElement(GenericTextColumn, componentProps);\r\n    };\r\n    /**\r\n     * Get the Formatted date element.\r\n     * @param value\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getGenericFormattedDateElement = function (value, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            dateValue: new Date(value.toString()),\r\n            className: 'dim-text txt-val small-text'\r\n        };\r\n        return React.createElement(genericDate, componentProps);\r\n    };\r\n    /**\r\n     * Get the Converted text value for Grid Column\r\n     *  @param textValue\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getConvertTextElement = function (textValue, seq) {\r\n        var componentProps;\r\n        switch (textValue) {\r\n            case 'true':\r\n                textValue = 'Yes';\r\n                break;\r\n            case 'false':\r\n                textValue = 'No';\r\n                break;\r\n        }\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            textValue: textValue\r\n        };\r\n        return React.createElement(GenericTextColumn, componentProps);\r\n    };\r\n    /**\r\n     * Get the Marks Grid Column\r\n     * @param textValue\r\n     * @param seq\r\n     * @param usedInTotal\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getMarksColumn = function (textValue, seq, usedInTotal) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            textValue: textValue,\r\n            usedInTotal: usedInTotal\r\n        };\r\n        return React.createElement(marksColumn, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  TotalMark component\r\n     * @param mark\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getTotalMarkElement = function (mark, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            isNonNumericMark: false,\r\n            maximumMark: 100,\r\n            totalMark: mark,\r\n            markingProgress: 100,\r\n            selectedLanguage: localeStore.instance.Locale\r\n        };\r\n        return React.createElement(totalMark, componentProps);\r\n    };\r\n    /**\r\n     * returns the Selected Tag Id of response.\r\n     * @param seq\r\n     * @param tagId\r\n     * @param tagList\r\n     * @param markGroupId\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getTag = function (seq, tagId, tagList, markGroupId, markingMode) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedTagId: tagId,\r\n            tagList: tagList,\r\n            markGroupId: markGroupId,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            // isESResponse = true when tag updated from standardisation setup.\r\n            isESResponse: true,\r\n            markingMode: markingMode\r\n        };\r\n        return React.createElement(TagList, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  ResponseIdColumn component\r\n     * @param stdResponseData\r\n     * @param seq\r\n     * @param isResponseIdClickable\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getResponseIdColumnElement = function (stdResponseData, seq, isResponseIdClickable, isReusableResponseView, candidateScriptId) {\r\n        if (isResponseIdClickable === void 0) { isResponseIdClickable = true; }\r\n        if (isReusableResponseView === void 0) { isReusableResponseView = false; }\r\n        if (candidateScriptId === void 0) { candidateScriptId = ''; }\r\n        var componentProps;\r\n        var displayId = stdResponseData.displayId;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            displayId: displayId.toString(),\r\n            isResponseIdClickable: isResponseIdClickable,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isReusableResponseView: isReusableResponseView,\r\n            candidateScriptId: '1' + stdResponseData.candidateScriptId\r\n        };\r\n        return React.createElement(stdResponseId, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  LinkedMessagrIndicator component\r\n     * @param responseData\r\n     * @param propsNames\r\n     * @param seq\r\n     * @param isTileView\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getLinkedMessageElement = function (responseData, propsNames, seq, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            messageCount: responseData[propsNames.unreadMessagesCount],\r\n            hasMessages: responseData[propsNames.hasMessages],\r\n            displayId: responseData[propsNames.displayId],\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isTileView: isTileView,\r\n            isTeamManagementMode: markerOperationModeFactory.operationMode.isTeamManagementMode\r\n        };\r\n        return React.createElement(LinkedMessageIndicator, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  Last updated component\r\n     * @param lastUpdatedDate\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getLastUpdatedElement = function (stdResponseData, propsNames, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            dateType: enums.WorkListDateType.lastUpdatedDate,\r\n            dateValue: new Date(stdResponseData[propsNames.updatedDate]),\r\n            isTileView: false\r\n        };\r\n        return React.createElement(LastUpdatedColumn, componentProps);\r\n    };\r\n    /**\r\n     * create react element for declassify button\r\n     * @param title\r\n     * @param anchorclassName\r\n     * @param spanclassName\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getDeclassifyButtonElement = function (title, anchorclassName, spanclassName, seq, displayId, totalMarkValue, candidateScriptId, esCandidateScriptMarkSchemeGroupId, markingModeId, rigOrder, esMarkGroupRowVersion) {\r\n        var componentProps;\r\n        componentProps = {\r\n            title: title,\r\n            id: seq,\r\n            anchorclassName: anchorclassName,\r\n            spanclassName: spanclassName,\r\n            displayId: displayId,\r\n            totalMarkValue: totalMarkValue,\r\n            candidateScriptId: candidateScriptId,\r\n            esCandidateScriptMarkSchemeGroupId: esCandidateScriptMarkSchemeGroupId,\r\n            markSchemeGroupId: standardisationSetupStore.instance.markSchemeGroupId,\r\n            markingModeId: markingModeId,\r\n            rigOrder: rigOrder,\r\n            esMarkGroupRowVersion: esMarkGroupRowVersion\r\n        };\r\n        return React.createElement(DeclassifyButton, componentProps);\r\n    };\r\n    /**\r\n     * creating grid row\r\n     * @param {string} uniqueId\r\n     * @param {Array<gridCell>} gridCells\r\n     * @param {JSX.Element} [additionalComponent]\r\n     * @param {string} [cssClass]\r\n     * @param {Immutable.List<enums.ResponseStatus>} [responseStatus]\r\n     * @param {boolean} [overClassified]\r\n     * @returns {gridRow}\r\n     * @memberof StandardisationSetupHelperBase\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getGridRow = function (uniqueId, gridCells, additionalComponent, cssClass, responseStatus, overClassified) {\r\n        var _gridRow = new gridRow();\r\n        var className = this.setRowStyle(responseStatus, overClassified);\r\n        className = (cssClass) ? (className + ' ' + cssClass) : className;\r\n        _gridRow.setRowStyle(className);\r\n        _gridRow.setRowId(parseFloat(uniqueId));\r\n        _gridRow.setCells(gridCells);\r\n        _gridRow.setAdditionalElement(additionalComponent);\r\n        return _gridRow;\r\n    };\r\n    /**\r\n     * Set row style to amber if the response has blocking exceptions or other reasons\r\n     * @param {Immutable.List<enums.ResponseStatus>} responseStatus\r\n     * @returns {string}\r\n     * @memberof StandardisationSetupHelperBase\r\n     */\r\n    StandardisationSetupHelperBase.prototype.setRowStyle = function (responseStatus, overClassified) {\r\n        // Check whetehr the classifcation type exceeded the current target,\r\n        // if so highlight the exceeded last rows with amber color.\r\n        if ((responseStatus && (responseStatus.contains(enums.ResponseStatus.hasException) ||\r\n            responseStatus.contains(enums.ResponseStatus.hasZoningException) ||\r\n            responseStatus.contains(enums.ResponseStatus.notAllPagesAnnotated) ||\r\n            responseStatus.contains(enums.ResponseStatus.markChangeReasonNotExist) ||\r\n            responseStatus.contains(enums.ResponseStatus.supervisorRemarkDecisionNotSelected) ||\r\n            responseStatus.contains(enums.ResponseStatus.notAllFilesViewed))) || overClassified) {\r\n            return 'row warning-alert';\r\n        }\r\n        else {\r\n            return 'row';\r\n        }\r\n    };\r\n    /**\r\n     * Generate Centre Row Definition\r\n     * @param standardisationCentreList\r\n     */\r\n    StandardisationSetupHelperBase.prototype.generateCentreRowDefinition = function (standardisationCentreList) {\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Return the dynamic headers for questions\r\n     * @param standardisationResponseListData\r\n     * @param _columnHeaderCellcollection\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getDynamicHeadersForMarks = function (standardisationResponseListData, _columnHeaderCellcollection) {\r\n        // Get the Standardisation marks for the response if exist.\r\n        var _stdMarksData = standardisationResponseListData.first().standardisationMarks;\r\n        var questionsCount = _stdMarksData.length;\r\n        var _cell;\r\n        // iterate through each questions and get the display label.\r\n        for (var questionItemCount = 0; questionItemCount < questionsCount; questionItemCount++) {\r\n            _cell = new gridCell();\r\n            var headerText = _stdMarksData[questionItemCount].displayLabel;\r\n            var _comparerName = '';\r\n            headerText = (headerText && headerText !== '') ? headerText : '';\r\n            var key = 'columnHeader_' + questionItemCount;\r\n            // create question header element for each question.\r\n            _cell.columnElement = this.getColumnHeaderElement(key, headerText, undefined, undefined, false, undefined);\r\n            _cell.isHidden = false;\r\n            _cell.comparerName = _comparerName;\r\n            var cellStyle = 'col-question-item';\r\n            _cell.setCellStyle(cellStyle);\r\n            // Creating the grid row collection.\r\n            _columnHeaderCellcollection.push(_cell);\r\n        }\r\n        return _columnHeaderCellcollection;\r\n    };\r\n    /**\r\n     * Get Dynamic Value For Marks\r\n     * @param gridSeq\r\n     * @param stdResponseData\r\n     * @param _stdRowHeaderCellcollection\r\n     * @param index\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getDynamicValueForMarks = function (stdResponseData, _stdRowHeaderCellcollection, index) {\r\n        var _stdGridCell;\r\n        var key;\r\n        // Get the Standardisation marks for the response if exist.\r\n        var stdMarks = stdResponseData.standardisationMarks;\r\n        var noOfQuestions = stdMarks.length;\r\n        var mark;\r\n        var usedInTotal;\r\n        // Getting the Marks Data\r\n        for (var questionItemCount = 0; questionItemCount < noOfQuestions; questionItemCount++) {\r\n            _stdGridCell = new gridCell();\r\n            key = index + '_Questions_' + questionItemCount;\r\n            mark = isNaN(parseInt(stdMarks[questionItemCount].mark.toString())) ?\r\n                stdMarks[questionItemCount].mark : parseInt(stdMarks[questionItemCount].mark.toString());\r\n            usedInTotal = stdMarks[questionItemCount].usedInTotal;\r\n            _stdGridCell.columnElement = this.getMarksColumn(mark, key, usedInTotal);\r\n            _stdGridCell.isHidden = false;\r\n            var cellStyle = 'col-question-item';\r\n            _stdGridCell.setCellStyle(cellStyle);\r\n            _stdRowHeaderCellcollection.push(_stdGridCell);\r\n        }\r\n        return _stdRowHeaderCellcollection;\r\n    };\r\n    /**\r\n     * Method to create Frozen Body Data for different std worklists.\r\n     * @param stdResponseData\r\n     * @param gridSeq\r\n     * @param gridType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getFrozenRowData = function (stdResponseData, gridType, gridColumns, index, overClassified) {\r\n        var _stdWorkListRowHeaderCellcollection = Array();\r\n        var _stdWorkListCell;\r\n        var key;\r\n        var cellStyle;\r\n        var _stdResponseColumn;\r\n        var componentPropsJson;\r\n        var gridColumnLength = gridColumns.length;\r\n        var submitResponse = new submitHelper();\r\n        var responseStatuses = submitResponse.submitButtonValidate(stdResponseData, stdResponseData.markingProgress, false, false);\r\n        // Set rig order as \"Seed\" for seed responses.\r\n        var isSeed = (stdResponseData.markingModeId === enums.MarkingMode.Seeding);\r\n        // Getting the STD worklist columns\r\n        for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n            _stdResponseColumn = gridColumns[gridColumnCount].GridColumn;\r\n            _stdWorkListCell = new gridCell();\r\n            componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n            //Switch statement for adding frozen columns in future.\r\n            switch (_stdResponseColumn) {\r\n                case gridColumnNames.RigOrderColumn:\r\n                    key = index + '_RigOrderColumn_' + gridColumnCount;\r\n                    var className = 'dim-text small-text classify-index';\r\n                    _stdWorkListCell.columnElement = this.getRIGOrderColumnElement(key, className, undefined, isSeed ? 'Seed' : stdResponseData.rigOrder.toString());\r\n                    cellStyle = 'col-std-classify-items header-col';\r\n                    break;\r\n                case gridColumnNames.ResponseIdColumn:\r\n                    key = index + '_ResponseIdColumn_' + gridColumnCount;\r\n                    _stdWorkListCell.columnElement = this.getResponseIdColumnElement(stdResponseData, key, true);\r\n                    cellStyle = 'col-response header-col';\r\n                    break;\r\n            }\r\n            _stdWorkListCell.setCellStyle(cellStyle);\r\n            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n        }\r\n        // Return the table row.\r\n        return this.getGridRow(stdResponseData.displayId.toString(), _stdWorkListRowHeaderCellcollection, undefined, undefined, responseStatuses, overClassified);\r\n    };\r\n    /**\r\n     * Method to return ufrozen row data for different type.\r\n     * @param stdResponseListData\r\n     * @param gridColumns\r\n     * @param gridSeq\r\n     * @param gridType\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getRowData = function (stdResponseListData, gridColumns, gridType, index, standardisationSetupType) {\r\n        var _this = this;\r\n        var stdGridRowCollection = Array();\r\n        var submitResponse = new submitHelper();\r\n        // Loop through each response\r\n        stdResponseListData.map(function (stdResponseData) {\r\n            var stdGridRowHeaderCellcollection = Array();\r\n            var _stdResponseColumn;\r\n            var componentPropsJson;\r\n            var _stdGridCell;\r\n            var key;\r\n            var responseStatuses = submitResponse.submitButtonValidate(stdResponseData, stdResponseData.markingProgress, false, false);\r\n            // Getting the worklist columns\r\n            for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n                _stdResponseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                _stdGridCell = new gridCell();\r\n                switch (_stdResponseColumn) {\r\n                    case gridColumnNames.ScriptId:\r\n                        key = index + '_ScriptId_' + gridColumnCount;\r\n                        var candidateScriptId = '1' + stdResponseData.candidateScriptId.toString();\r\n                        _stdGridCell.columnElement = _this.getGenericTextElement(candidateScriptId, key);\r\n                        break;\r\n                    case gridColumnNames.Centre:\r\n                        key = index + '_Centre_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getGenericTextElement(stdResponseData.centreNumber, key);\r\n                        break;\r\n                    case gridColumnNames.CentreCandidateNum:\r\n                        key = index + '_Candidate_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getGenericTextElement(stdResponseData.centreCandidateNumber, key);\r\n                        break;\r\n                    case gridColumnNames.MarksColumn:\r\n                        key = index + '_Marks_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getTotalMarkElement(stdResponseData.totalMarkValue, key);\r\n                        break;\r\n                    case gridColumnNames.LastMarkerColumn:\r\n                        key = index + '_LastMarker_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getGenericTextElement(stringFormatHelper.getFormattedExaminerName(stdResponseData.lastMarkerInitials, stdResponseData.lastMarkerSurname), key);\r\n                        break;\r\n                    case gridColumnNames.NoteColumn:\r\n                        key = index + '_Note_' + gridColumnCount;\r\n                        var title = stdResponseData.note;\r\n                        _stdGridCell.columnElement = _this.getGenericTextElement(stdResponseData.note, key, title);\r\n                        break;\r\n                    case gridColumnNames.LinkedMessageIndicator:\r\n                        key = index + '_LinkedMessage_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getLinkedMessageElement(stdResponseData, componentPropsJson, key, false);\r\n                        break;\r\n                    case gridColumnNames.TagIndicator:\r\n                        key = index + '_TagIndicator_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getTag(key, stdResponseData.tagId, tagStore.instance.tags, stdResponseData.esMarkGroupId, stdResponseData.markingModeId);\r\n                        break;\r\n                    case gridColumnNames.LastUpdatedColumn:\r\n                        key = index + '_LastUpdated_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getLastUpdatedElement(stdResponseData, componentPropsJson, key);\r\n                        break;\r\n                    case gridColumnNames.Status:\r\n                        responseStatuses = submitResponse.submitButtonValidate(stdResponseData, stdResponseData.markingProgress, false, false);\r\n                        key = index + '_Status_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = _this.getMarkingProgressElement(stdResponseData, componentPropsJson, key, responseStatuses, standardisationSetupType);\r\n                        break;\r\n                    case gridColumnNames.DeClassifyColumn:\r\n                        if ((standardisationSetupStore.instance.stdSetupPermissionCCData &&\r\n                            standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.declassify) &&\r\n                            _this.isRetainProvisionalMarksCCOn() &&\r\n                            !qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n                            key = index + '_DeClassify_' + gridColumnCount;\r\n                            _stdGridCell.columnElement = _this.getDeclassifyButtonElement('Declassify', 'close-icon-link', 'close-icon', key, stdResponseData.displayId, stdResponseData.totalMarkValue, stdResponseData.candidateScriptId, stdResponseData.esCandidateScriptMarkSchemeGroupId, stdResponseData.markingModeId, stdResponseData.rigOrder, stdResponseData.esMarkGroupRowVersion);\r\n                        }\r\n                        else {\r\n                            //Adding the 'last-cell' column as this column is not added to classified worklst by default\r\n                            key = index + '_DeClassify_' + gridColumnCount;\r\n                        }\r\n                        break;\r\n                    case gridColumnNames.SLAOIndicator:\r\n                        key = index + '_SLAOIndicator_' + gridColumnCount;\r\n                        _stdGridCell.columnElement = (_this.getSLAOIndicatorElementForStandardisationResponses(stdResponseData, componentPropsJson, key, true, false));\r\n                        break;\r\n                    case gridColumnNames.AllPageAnnotedIndicator:\r\n                        key = index + '_AllPageAnnotated_' + gridColumnCount;\r\n                        // Create annotation indicator element.\r\n                        _stdGridCell.columnElement = _this.getAllPageAnnotationIndicatorElement(stdResponseData, componentPropsJson, key);\r\n                        break;\r\n                    case gridColumnNames.AllFilesNotViewedIndicator:\r\n                        key = index + '_AllFilesNotViewed_' + gridColumnCount;\r\n                        // Create annotation indicator element.\r\n                        _stdGridCell.columnElement = _this.getAllFilesNotViewedIndicatorElement(stdResponseData, componentPropsJson, key);\r\n                        break;\r\n                    default:\r\n                }\r\n                _stdGridCell.isHidden = _this.getCellVisibility(_stdResponseColumn);\r\n                var cellStyle = gridColumns[gridColumnCount].CssClass\r\n                    ? gridColumns[gridColumnCount].CssClass\r\n                    : '';\r\n                _stdGridCell.setCellStyle(cellStyle);\r\n                stdGridRowHeaderCellcollection.push(_stdGridCell);\r\n            }\r\n            // Get individual question's marks if Mark by question view.\r\n            if (gridType === enums.GridType.markByQuestion) {\r\n                stdGridRowHeaderCellcollection.concat(_this.getDynamicValueForMarks(stdResponseData, stdGridRowHeaderCellcollection, index));\r\n                if (standardisationSetupType === enums.StandardisationSetup.ClassifiedResponse &&\r\n                    (standardisationSetupStore.instance.stdSetupPermissionCCData &&\r\n                        standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.declassify) &&\r\n                    _this.isRetainProvisionalMarksCCOn() &&\r\n                    !qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n                    _stdGridCell = new gridCell();\r\n                    key = index + '_DeClassify_' + stdGridRowHeaderCellcollection.length + 1;\r\n                    _stdGridCell.columnElement = _this.getDeclassifyButtonElement('Declassify', 'close-icon-link', 'close-icon', key, stdResponseData.displayId, stdResponseData.totalMarkValue, stdResponseData.candidateScriptId, stdResponseData.esCandidateScriptMarkSchemeGroupId, stdResponseData.markingModeId, stdResponseData.rigOrder, stdResponseData.esMarkGroupRowVersion);\r\n                    _stdGridCell.isHidden = _this.getCellVisibility(_stdResponseColumn);\r\n                    var cellStyle = 'last-cell col-declassify';\r\n                    _stdGridCell.setCellStyle(cellStyle);\r\n                    stdGridRowHeaderCellcollection.push(_stdGridCell);\r\n                }\r\n                else {\r\n                    //Adding the 'last-cell' column as this column is not added to classified worklst by default\r\n                    _stdGridCell = new gridCell();\r\n                    key = index + '_DeClassify_' + stdGridRowHeaderCellcollection.length + 1;\r\n                    _stdGridCell.isHidden = _this.getCellVisibility(_stdResponseColumn);\r\n                    var cellStyle = 'last-cell';\r\n                    _stdGridCell.setCellStyle(cellStyle);\r\n                    stdGridRowHeaderCellcollection.push(_stdGridCell);\r\n                }\r\n            }\r\n            // Check whetehr the classifcation type exceeded the current target,\r\n            // if so highlight the exceeded last rows with amber color.\r\n            // Applicable for Classified Worklist\r\n            var overClassified = _this.isSSUTargetsOverClassified(standardisationSetupType, stdResponseData.markingModeId, stdResponseData.rigOrder);\r\n            // Creating the grid row collection.\r\n            stdGridRowCollection.push(_this.getGridRow(stdResponseData.displayId.toString(), stdGridRowHeaderCellcollection, undefined, undefined, responseStatuses, overClassified));\r\n            index++;\r\n        });\r\n        // Return the STD Set up row collection for Unfrozen data.\r\n        return stdGridRowCollection;\r\n    };\r\n    /**\r\n     * Creating react element for the  RIG Order Column component\r\n     * @param seq\r\n     * @param className\r\n     * @param classificationType\r\n     * @param rigOrder\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getRIGOrderColumnElement = function (seq, className, classificationType, rigOrder) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            classificationType: classificationType,\r\n            rigOrder: rigOrder,\r\n            className: className\r\n        };\r\n        return React.createElement(RigOrder, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  getSLAOIndicatorElement component\r\n     * @param standardisationScriptDetails\r\n     * @param propsNames\r\n     * @param seq\r\n     * @param showMarkingProgress\r\n     * @param isTileView\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getSLAOIndicatorElement = function (standardisationScriptDetails, propsNames, seq, showMarkingProgress, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isResponseHasSLAO: standardisationScriptDetails.hasAdditionalObjects,\r\n            isAllAnnotated: false,\r\n            isMarkingCompleted: false,\r\n            isTileView: isTileView,\r\n            markSchemeGroupId: standardisationSetupStore.instance.markSchemeGroupId\r\n        };\r\n        return React.createElement(slaoAnnotationIndicator, componentProps);\r\n    };\r\n    /**\r\n     * Getting SLAO Indicator Element for Standardisation Responses\r\n     * @param {StandardisationResponseDetails} standardisationResponseDetails\r\n     * @param {*} propsNames\r\n     * @param {string} seq\r\n     * @param {boolean} showMarkingProgress\r\n     * @param {boolean} [isTileView=true]\r\n     * @returns {JSX.Element}\r\n     * @memberof StandardisationSetupHelperBase\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getSLAOIndicatorElementForStandardisationResponses = function (standardisationResponseDetails, propsNames, seq, showMarkingProgress, isTileView) {\r\n        if (isTileView === void 0) { isTileView = true; }\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isResponseHasSLAO: standardisationResponseDetails.hasAdditionalObjects,\r\n            isAllAnnotated: standardisationResponseDetails.hasAllPagesAnnotated,\r\n            isMarkingCompleted: ((showMarkingProgress ? standardisationResponseDetails.markingProgress : 100) === 100) ? true : false,\r\n            isTileView: isTileView,\r\n            markSchemeGroupId: standardisationSetupStore.instance.markSchemeGroupId\r\n        };\r\n        return React.createElement(slaoAnnotationIndicator, componentProps);\r\n    };\r\n    /**\r\n     * Creating react element for the  MarkingProgress component.\r\n     * @param standardisationResponses\r\n     * @param propsNames\r\n     * @param seq\r\n     * @param responseStatuses\r\n     * @param standardisationSetup\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getMarkingProgressElement = function (standardisationResponses, propsNames, seq, responseStatuses, standardisationSetup) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            responseStatus: responseStatuses,\r\n            progress: standardisationResponses.markingProgress,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            markGroupId: standardisationResponses.esMarkGroupId,\r\n            isSubmitDisabled: false,\r\n            standardisationSetupTab: standardisationSetup,\r\n            stdResponseDetails: standardisationResponses\r\n        };\r\n        return React.createElement(MarkingProgress, componentProps);\r\n    };\r\n    /**\r\n     * Show the AllPageAnnotationIndicator when the CC is on and marking is completed\r\n     * blocking submission.\r\n     * @param {ResponseBase} responseData\r\n     * @param {any} propsNames\r\n     * @param {string} seq\r\n     * @returns\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getAllPageAnnotationIndicatorElement = function (responseData, propsNames, seq, showMarkingProgress) {\r\n        if (showMarkingProgress === void 0) { showMarkingProgress = true; }\r\n        var isForceAnnotationCCOn = this.getCCValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, responseData.markSchemeGroupId);\r\n        var markingProgress = responseData[propsNames.markingProgress];\r\n        // we need to show this in tile view only if we 100% marked responses and\r\n        // all page annotation cc is on.\r\n        if (isForceAnnotationCCOn === 'true' && markingProgress === 100) {\r\n            var componentProps = void 0;\r\n            componentProps = {\r\n                key: seq,\r\n                id: seq,\r\n                selectedLanguage: localeStore.instance.Locale,\r\n                isAllAnnotated: responseData[propsNames.hasAllPagesAnnotated],\r\n                isMarkingCompleted: ((showMarkingProgress ? responseData[propsNames.markingProgress] : 100) === 100) ? true : false,\r\n                isTileView: false,\r\n                markSchemeGroupId: responseData.markSchemeGroupId\r\n            };\r\n            var allPageElement = Immutable.List([React.createElement(allPageAnnotationIndicator, componentProps)]);\r\n            return this.getWrappedColumn(allPageElement, 'col wl-slao-holder', seq + 'wrapped').columnElement;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * creating react element for the  getAllPageAnnotatedIndicatorElement component\r\n     * @param responseData - response data\r\n     * @param propsNames - prop names for the component\r\n     * @param seq - key value for the component\r\n     * @param showMarkingProgress - key value for the component\r\n     * @returns JSX.Element.\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getAllFilesNotViewedIndicatorElement = function (responseData, propsNames, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            allFilesViewed: responseData[propsNames.allFilesViewed],\r\n            isMarkingCompleted: responseData[propsNames.markingProgress] === 100 ? true : false,\r\n            isTileView: false,\r\n            isECourseworkComponent: eCourseworkHelper.isECourseworkComponent\r\n        };\r\n        return React.createElement(allFilesNotViewedIndicator, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  Shared Response Indicator component\r\n     * @param stdResponseData\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getSharedResponseIndicatorElement = function (isSharedProvisional, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            isSharedProvisional: isSharedProvisional\r\n        };\r\n        return React.createElement(sharedResponseIndicatorElement, componentProps);\r\n    };\r\n    /**\r\n     * creating react element for the  Shared Response Indicator component\r\n     * @param stdResponseData\r\n     * @param seq\r\n     */\r\n    StandardisationSetupHelperBase.prototype.isCommonProvisionalStandardisationOn = function () {\r\n        return this.getCCValue(configurableCharacteristicsNames.CommonProvisionalStandardisation, standardisationSetupStore.instance.markSchemeGroupId).toLowerCase() === 'true';\r\n    };\r\n    /**\r\n     * Get restricted Classification types\r\n     * which should be highlighted as amber when over classified.\r\n     * @param markSchemeGroupId\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getRestrictedSSUTarget = function (markSchemeGroupId) {\r\n        var restrictSSUTargetsCCValue = configurableCharacteristicsHelper.getCharacteristicValue('RestrictStandardisationSetupTargets', markSchemeGroupId);\r\n        if (restrictSSUTargetsCCValue !== '') {\r\n            var xmlHelperObj = new xmlHelper(restrictSSUTargetsCCValue);\r\n            var restrictedTargetNodes = xmlHelperObj.getAllChildNodes();\r\n            var restrictedTargets = immutable.List();\r\n            if (restrictedTargetNodes) {\r\n                // get targets which are restricted. exclude seed.\r\n                for (var node = 0; node < restrictedTargetNodes.length; node++) {\r\n                    switch (restrictedTargetNodes[node].firstChild.nodeValue) {\r\n                        case 'Practice':\r\n                            restrictedTargets =\r\n                                immutable.List(restrictedTargets.concat(enums.MarkingMode.Practice));\r\n                            break;\r\n                        case 'Standardisation':\r\n                            restrictedTargets =\r\n                                immutable.List(restrictedTargets.concat(enums.MarkingMode.Approval));\r\n                            break;\r\n                        case 'STMStandardisation':\r\n                            restrictedTargets =\r\n                                immutable.List(restrictedTargets.concat(enums.MarkingMode.ES_TeamApproval));\r\n                            break;\r\n                    }\r\n                }\r\n                return restrictedTargets;\r\n            }\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Get Standardisation Setup Required Targets\r\n     */\r\n    StandardisationSetupHelperBase.prototype.getStandardisationSetupRequiredTargets = function () {\r\n        var standardisationSetupRequiredTargetsCCValue = configurableCharacteristicsHelper.getCharacteristicValue('StandardisationSetupRequiredTargets');\r\n        if (standardisationSetupRequiredTargetsCCValue !== '') {\r\n            var xmlHelperObj = new xmlHelper(standardisationSetupRequiredTargetsCCValue);\r\n            var requiredTargetNodes = xmlHelperObj.getAllChildNodes();\r\n            var requiredTargets = Immutable.List();\r\n            if (requiredTargetNodes) {\r\n                // get targets which are restricted. exclude seed.\r\n                for (var node = 0; node < requiredTargetNodes.length; node++) {\r\n                    if (requiredTargetNodes[node].firstChild !== null) {\r\n                        switch (requiredTargetNodes[node].firstChild.nodeValue) {\r\n                            case 'Practice':\r\n                                requiredTargets =\r\n                                    Immutable.List(requiredTargets.concat(enums.MarkingMode.Practice));\r\n                                break;\r\n                            case 'Standardisation':\r\n                                requiredTargets =\r\n                                    Immutable.List(requiredTargets.concat(enums.MarkingMode.Approval));\r\n                                break;\r\n                            case 'STMStandardisation':\r\n                                requiredTargets =\r\n                                    Immutable.List(requiredTargets.concat(enums.MarkingMode.ES_TeamApproval));\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n                return requiredTargets;\r\n            }\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Check whether the specified target ov3erclassified\r\n     * @param tabSelection\r\n     * @param markingMode\r\n     * @param rigOrder\r\n     */\r\n    StandardisationSetupHelperBase.prototype.isSSUTargetsOverClassified = function (tabSelection, markingMode, rigOrder) {\r\n        // Hold the Restricted targets which should be highlighted when over classified.\r\n        var restrictedSSUTargets = this.getRestrictedSSUTarget(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n        var classificationSummaryTargetDetails = standardisationSetupStore.instance.classificationSummaryTargetDetails;\r\n        return tabSelection === enums.StandardisationSetup.ClassifiedResponse &&\r\n            restrictedSSUTargets && restrictedSSUTargets.contains(markingMode) &&\r\n            classificationSummaryTargetDetails.some(function (x) { return x.markingModeId === markingMode &&\r\n                x.markingModeId !== enums.MarkingMode.Seeding &&\r\n                x.count > x.target && rigOrder > x.target; });\r\n    };\r\n    return StandardisationSetupHelperBase;\r\n}());\r\nmodule.exports = StandardisationSetupHelperBase;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2UudHM/MmNhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuaW1wb3J0IGdyaWRSb3cgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZHJvdycpO1xuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xuaW1wb3J0IGdyaWRDZWxsID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9ncmlkL2dyaWRjZWxsJyk7XG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9lbnVtcycpO1xuaW1wb3J0IEdlbmVyaWNDb21wb25lbnRXcmFwcGVyID0gcmVxdWlyZSgnLi4vZ2VuZXJpY2NvbXBvbmVudHdyYXBwZXInKTtcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xuaW1wb3J0IENvbHVtbkhlYWRlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9jb2x1bW5oZWFkZXInKTtcbmltcG9ydCBncmlkQ29sdW1uTmFtZXMgPSByZXF1aXJlKCcuLi9ncmlkY29sdW1ubmFtZXMnKTtcbmltcG9ydCBqc29uUmVmUmVzb2x2ZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2pzb25yZWZyZXNvbHZlci9qb3NucmVmcmVzb2x2ZXInKTtcbmltcG9ydCBHZW5lcmljVGV4dENvbHVtbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9nZW5lcmljdGV4dGNvbHVtbicpO1xuaW1wb3J0IGxvY2FsSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9sb2NhbGUvbG9jYWxlaGVscGVyJyk7XG5pbXBvcnQgaHRtVXRpbGl0aWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL2h0bWx1dGlsaXRpZXMnKTtcbmltcG9ydCBjb25zdGFudHMgPSByZXF1aXJlKCcuLi8uLi9jb25zdGFudHMnKTtcbmltcG9ydCBjb21wYXJlckxpc3QgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3NvcnRpbmcvc29ydGJhc2UvY29tcGFyZXJsaXN0Jyk7XG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XG5pbXBvcnQgaW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVyJyk7XG5sZXQgc3RhbmRhcmRpc2F0aW9uU2V0dXBHcmlkQ29sdW1uc0pzb24gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBncmlkY29sdW1ucy5qc29uJyk7XG5pbXBvcnQgYmx1ZUJhbm5lck1lc3NhZ2UgPSByZXF1aXJlKCcuLi8uLi8uLi9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvYmx1ZWJhbm5lcicpO1xuaW1wb3J0IHRvdGFsTWFyayA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC90b3RhbG1hcmtkZXRhaWwnKTtcbmltcG9ydCBUYWdMaXN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vcmVzcG9uc2UvcmVzcG9uc2VzY3JlZW4vdGFnbGlzdCcpO1xuaW1wb3J0IHN0ZFJlc3BvbnNlSWQgPSByZXF1aXJlKCcuLi8uLi8uLi9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvc3RhbmRhcmRpc2F0aW9ucmVzcG9uc2VpZCcpO1xuaW1wb3J0IExpbmtlZE1lc3NhZ2VJbmRpY2F0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvbGlua2VkbWVzc2FnZWluZGljYXRvcicpO1xuaW1wb3J0IExhc3RVcGRhdGVkQ29sdW1uID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL2xhc3R1cGRhdGVkY29sdW1uJyk7XG5pbXBvcnQgc2NyaXB0aWRncmlkZWxlbWVudCA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9zY3JpcHRpZGdyaWRlbGVtZW50Jyk7XG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cHN0b3JlJyk7XG5pbXBvcnQgZWNvdXJzZVdvcmtIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9lY291cnNld29yay9lY291cnNld29ya2hlbHBlcicpO1xuaW1wb3J0IFJpZ09yZGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3JpZ29yZGVyJyk7XG5pbXBvcnQgdGFnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvdGFncy90YWdzdG9yZScpO1xuaW1wb3J0IHNsYW9Bbm5vdGF0aW9uSW5kaWNhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL3NsYW9hbm5vdGF0aW9uaW5kaWNhdG9yJyk7XG5pbXBvcnQgTWFya2luZ1Byb2dyZXNzID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL21hcmtpbmdwcm9ncmVzcycpO1xuaW1wb3J0IG1hcmtzQ29sdW1uID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL21hcmtzY29sdW1uJyk7XG5pbXBvcnQgYWxsUGFnZUFubm90YXRpb25JbmRpY2F0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvYWxscGFnZWFubm90YXRpb25pbmRpY2F0b3InKTtcbmltcG9ydCBhbGxGaWxlc05vdFZpZXdlZEluZGljYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9hbGxmaWxlc25vdHZpZXdlZGluZGljYXRvcicpO1xuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vZWNvdXJzZXdvcmsvZWNvdXJzZXdvcmtoZWxwZXInKTtcbmltcG9ydCBzdWJtaXRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9zdWJtaXQvc3VibWl0aGVscGVyJyk7XG5pbXBvcnQgRGVjbGFzc2lmeUJ1dHRvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0YW5kYXJkaXNhdGlvbnNldHVwL2RlY2xhc3NpZnlidXR0b24nKTtcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xuaW1wb3J0IHN0cmluZ0Zvcm1hdEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvc3RyaW5nZm9ybWF0L3N0cmluZ2Zvcm1hdGhlbHBlcicpO1xuaW1wb3J0IGdlbmVyaWNEYXRlID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL2dlbmVyaWNkYXRlJyk7XG5pbXBvcnQgeG1sSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL3htbGhlbHBlcicpO1xuaW1wb3J0IHNvcnRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3NvcnRpbmcvc29ydGhlbHBlcicpO1xuaW1wb3J0IHN0YW5kYXJkaXNhdGlvblRhcmdldERldGFpbCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC90eXBpbmdzL3N0YW5kYXJkaXNhdGlvbnRhcmdldGRldGFpbCcpO1xuaW1wb3J0IHNoYXJlZFJlc3BvbnNlSW5kaWNhdG9yRWxlbWVudCA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9zaGFyZWRyZXNwb25zZWluZGljYXRvcicpO1xuLyoqXG4gKiBjbGFzcyBmb3IgV29ya0xpc3QgSGVscGVyIGltcGxlbWVudGF0aW9uXG4gKi9cbmNsYXNzIFN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyQmFzZSBpbXBsZW1lbnRzIHN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyIHtcblxuICAgIC8qIHZhcmlhYmxlIHRvIGhvbGRzIHRoZSBjb2x1bW4gZGV0YWlscyBKU09OKi9cbiAgICBwdWJsaWMgcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb246IGFueTtcblxuICAgIC8qIEdyaWQgcm93cyBjb2xsZWN0aW9uICovXG4gICAgcHVibGljIF9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbjogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz47XG5cbiAgICBwdWJsaWMgX3N0ZFdvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb246IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+O1xuXG4gICAgcHVibGljIF90YWJsZUhlYWRlckNvbGxlY3Rpb246IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+O1xuXG4gICAgLy8gRWxlbWVudHMgdG8gaG9sZCBhIGRpY3Rpb25hcnkgd2l0aCBrZXkgYXMgY2xhc3MgbmFtZSB0byBncm91cCBhbmQgY29sbGVjdGlvblxuICAgIC8vIG9mIGVsZW1lbnRzXG4gICAgcHJpdmF0ZSBfZ3JvdXBDb2x1bW5zOiB7IFtpZDogc3RyaW5nXTogeyB2YWx1ZXM6IEltbXV0YWJsZS5MaXN0PEpTWC5FbGVtZW50PiB9IH07XG5cbiAgICBwcml2YXRlIF9kYXRlTGVuZ3RoSW5QaXhlbDogbnVtYmVyID0gMDtcblxuICAgIHByaXZhdGUgX2lzTm9uTnVtZXJpYzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgcm93VGl0bGU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgQ29uZmlndXJhYmxlIGNoYXJhY3RlcmlzdGljIHZhbHVlLlxuICAgICAqIEBwYXJhbSBjY05hbWVcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRDQ1ZhbHVlKGNjTmFtZTogc3RyaW5nLCBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyKTogYW55IHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKGNjTmFtZSwgbWFya1NjaGVtZUdyb3VwSWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBTZXNzaW9uIHRhYiB2aXNpYmlsdHkgaW4gU1NVXG4gICAgICovXG4gICAgcHVibGljIGdldFNlc3Npb25UYWJWaXNpYmlsdHlpblNlbGVjdFJlc3BvbnNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuUmV1c2VSSUcpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJ1xuICAgICAgICAgICAgJiYgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGRTZXR1cFBlcm1pc3Npb25DQ0RhdGEucm9sZS5wZXJtaXNzaW9ucy5yZXVzZVJlc3BvbnNlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZXRhaW4gcHJvdmlzaW9uYWwgQ0NcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNSZXRhaW5Qcm92aXNpb25hbE1hcmtzQ0NPbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuUmV0YWluUHJvdmlzaW9uYWxNYXJrcyxcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG5cblx0LyoqXG5cdCAqIGdlbmVyYXRlU3RhbmRhcmRpc2F0aW9uUm93RGVmaW5pb24gaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgR3JpZFxuXHQgKiBAcGFyYW0gY29tcGFyZXJOYW1lXG5cdCAqIEBwYXJhbSBzb3J0RGlyZWN0aW9uXG5cdCAqIEBwYXJhbSB3b3JrTGlzdFNlbGVjdGlvblxuXHQgKiBAcGFyYW0gZ3JpZFR5cGVcblx0ICovXG4gICAgcHVibGljIGdlbmVyYXRlU3RhbmRhcmRpc2F0aW9uUm93RGVmaW5pb24oY29tcGFyZXJOYW1lOiBzdHJpbmcsIHNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24sXG4gICAgICAgIHdvcmtMaXN0U2VsZWN0aW9uOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCwgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGluZyBSZXVzYWJsZSByZXNwb25zZSB3b3JrbGlzdCBncmlkIHJvdyBkZWZpbml0aW9uXG4gICAgICogQHBhcmFtIHJldXNhYmxlUmVzcG9uc2VzTGlzdFxuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVJldXNhYmxlUmVzcG9uc2VzUm93RGVmaW5pdGlvbihyZXVzYWJsZVJlc3BvbnNlc0xpc3Q6IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRpbmcgZnJvemVuIHJvdyBib2R5IGZvciByZXVzYWJsZSByZXNwb25zZXMgZ3JpZFxuICAgICAqIEBwYXJhbSByZXVzYWJsZVJlc3BvbnNlc0xpc3RcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5UmV1c2FibGVHcmlkKHJldXNhYmxlUmVzcG9uc2VzTGlzdDogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPixcbiAgICAgICAgY29tcGFyZXJOYW1lPzogc3RyaW5nLFxuICAgICAgICBzb3J0RGlyZWN0aW9uPzogZW51bXMuU29ydERpcmVjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RkV29ya0xpc3RGcm96ZW5Sb3dCb2R5Q29sbGVjdGlvbjtcbiAgICB9XG5cblx0LyoqXG5cdCAqIGdlbmVyYXRlU2NyaXB0Um93RGVmaW5pdGlvbiBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBTZWxlY3QgcmVzcG9uc2UgU2NyaXB0IEdyaWRcblx0ICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNjcmlwdExpc3Rcblx0ICovXG4gICAgcHVibGljIGdlbmVyYXRlU2NyaXB0Um93RGVmaW5pdGlvbihzdGFuZGFyZGlzYXRpb25TY3JpcHRMaXN0OiBTdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzTGlzdCk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlVGFibGVIZWFkZXIgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyBoZWFkZXIgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlXG4gICAgICogQHBhcmFtIGNvbXBhcmVyTmFtZVxuICAgICAqIEBwYXJhbSBzb3J0RGlyZWN0aW9uXG4gICAgICogQHBhcmFtIGdyaWRUeXBlXG4gICAgICogQHBhcmFtIHNlbGVjdGVkU2Vzc2lvblRhYlxuICAgICAqIEBwYXJhbSBjZW50cmVPclNjcmlwdFxuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVRhYmxlSGVhZGVyKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsIGNvbXBhcmVyTmFtZTogc3RyaW5nLFxuICAgICAgICBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxuICAgICAgICBncmlkVHlwZT86IGVudW1zLkdyaWRUeXBlLFxuICAgICAgICBzZWxlY3RlZFNlc3Npb25UYWI/OiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiLFxuICAgICAgICBjZW50cmVPclNjcmlwdD86IHN0cmluZyk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcblxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0ganNvblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHN0YW5kYXJkaXNhdGlvblNldHVwR3JpZENvbHVtbnNKc29uKTtcbiAgICAgICAgbGV0IF90YWJsZUhlYWRlckNvbGxlY3Rpb24gPSB0aGlzLmdldFRhYmxlSGVhZGVyKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSxcbiAgICAgICAgICAgIGNvbXBhcmVyTmFtZSwgc29ydERpcmVjdGlvbiwgc2VsZWN0ZWRTZXNzaW9uVGFiLCBncmlkVHlwZSwgY2VudHJlT3JTY3JpcHQpO1xuICAgICAgICByZXR1cm4gX3RhYmxlSGVhZGVyQ29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZW5lcmF0ZUZyb3plblJvd0JvZHkgaXMgdXNlZCBmb3IgZ2VuZXJhdGluZyByb3cgY29sbGVjdGlvbiBmb3IgU3RhbmRhcmRpc2F0aW9uIFNldHVwIEdyaWRcbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBEZXRhaWxzTGlzdFxuICAgICAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVGcm96ZW5Sb3dCb2R5KHN0YW5kYXJkaXNhdGlvblNldHVwRGV0YWlsc0xpc3Q6IFN0YW5kYXJkaXNhdGlvblNldHVwRGV0YWlsc0xpc3QsXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXG4gICAgICAgIGdyaWRUeXBlPzogZW51bXMuR3JpZFR5cGUsXG4gICAgICAgIGNvbXBhcmVyTmFtZT86IHN0cmluZyxcbiAgICAgICAgc29ydERpcmVjdGlvbj86IGVudW1zLlNvcnREaXJlY3Rpb24pOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XG5cbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpzb25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbik7XG5cbiAgICAgICAgbGV0IF93b3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uID0gdGhpcy5nZXRGcm96ZW5Sb3dCb2R5Rm9yTGlzdFZpZXcoXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cERldGFpbHNMaXN0LCBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsIGdyaWRUeXBlLCBjb21wYXJlck5hbWUsIHNvcnREaXJlY3Rpb24pO1xuXG4gICAgICAgIHJldHVybiBfd29ya0xpc3RGcm96ZW5Sb3dCb2R5Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBoZWFkZXIgY29sbGVjdGlvbiBmb3IgV29ya0xpc3QgdGFibGVcbiAgICAgKiBAcGFyYW0gY29tcGFyZXJOYW1lXG4gICAgICogQHBhcmFtIHNvcnREaXJlY3Rpb25cbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlXG4gICAgICogQHBhcmFtIHNlbGVjdGVkU2Vzc2lvblRhYlxuICAgICAqIEBwYXJhbSBpc1NvcnRhYmxlXG4gICAgICovXG4gICAgcHVibGljIGdlbmVyYXRlRnJvemVuUm93SGVhZGVyKGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGU6IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLFxuICAgICAgICBzZWxlY3RlZFNlc3Npb25UYWI6IGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIgPSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiLkN1cnJlbnRTZXNzaW9uLFxuICAgICAgICBpc1NvcnRhYmxlOiBib29sZWFuID0gdHJ1ZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcblxuICAgICAgICAvLyBHZXQgdGhlIGZyb3plbiBjb2x1bW4gbGlzdCBmcm9tIGpzb25cbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpzb25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbik7XG4gICAgICAgIGxldCBfZnJvemVuUm93SGVhZGVyQ29sbGVjdGlvbiA9IHRoaXMuZ2V0RnJvemVuUm93SGVhZGVyKGNvbXBhcmVyTmFtZSxcbiAgICAgICAgICAgIHNvcnREaXJlY3Rpb24sIGlzU29ydGFibGUsIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSwgc2VsZWN0ZWRTZXNzaW9uVGFiKTtcblxuICAgICAgICByZXR1cm4gX2Zyb3plblJvd0hlYWRlckNvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdXNlZCBmb3IgZ2VuZXJhdGluZyBmcm96ZW4gcm93IGJvZHkgY29sbGVjdGlvbiBmb3IgU1REIFdvcmtMaXN0IHRhYmxlXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlTGlzdERhdGFcbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlXG4gICAgICogQHBhcmFtIGdyaWRUeXBlXG4gICAgICovXG4gICAgcHVibGljIGdlbmVyYXRlU3RhbmRhcmRpc2F0aW9uRnJvemVuUm93Qm9keShjb21wYXJlck5hbWU6IHN0cmluZywgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbixcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RkV29ya0xpc3RGcm96ZW5Sb3dCb2R5Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgYSB3cmFwZXIgZm9yIGdyaWQgY29sdW1uXG4gICAgICogQHBhcmFtIGVsZW1lbnRzXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZVxuICAgICAqIEBwYXJhbSBzZXFcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0V3JhcHBlZENvbHVtbihlbGVtZW50czogSW1tdXRhYmxlLkxpc3Q8SlNYLkVsZW1lbnQ+LCBjbGFzc05hbWU6IHN0cmluZywgc2VxOiBzdHJpbmcpOiBncmlkQ2VsbCB7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XG4gICAgICAgIGxldCBfZ3JpZENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgbGV0IGVsZW1lbnQ6IGdyaWRDZWxsO1xuXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBkaXZDbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgICAgIGNvbXBvbmVudExpc3Q6IGVsZW1lbnRzXG4gICAgICAgIH07XG4gICAgICAgIF93b3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChHZW5lcmljQ29tcG9uZW50V3JhcHBlciwgY29tcG9uZW50UHJvcHMpO1xuICAgICAgICByZXR1cm4gX3dvcmtMaXN0Q2VsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGluZyBncmlkIGNvbHVtbnMgY29sbGVjdGlvblxuICAgICAqIEBwYXJhbSBncmlkZ3JpZExlZnRDb2x1bW5cbiAgICAgKiBAcGFyYW0gZ3JpZE1pZGRsZUNvbHVtblxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKiBAcGFyYW0gZ3JpZFJpZ2h0Q29sdW1uIC0gdG8gZGlzcGxheSBBTUQgYW5kIFRNRCBiYXNlZCBvbiBBY2N1cmFjeSBJbmRpY2F0b3JcbiAgICAgKiBAcmV0dXJucyBncmlkIGNlbGwgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0R3JpZENlbGxzKFxuICAgICAgICBncmlkZ3JpZExlZnRDb2x1bW46IEFycmF5PEpTWC5FbGVtZW50PixcbiAgICAgICAgZ3JpZE1pZGRsZUNvbHVtbjogQXJyYXk8SlNYLkVsZW1lbnQ+LFxuICAgICAgICBrZXk6IHN0cmluZyxcbiAgICAgICAgZ3JpZFJpZ2h0Q29sdW1uPzogQXJyYXk8SlNYLkVsZW1lbnQ+KTogQXJyYXk8Z3JpZENlbGw+IHtcbiAgICAgICAgbGV0IF9ncmlkQ2VsbHM6IEFycmF5PGdyaWRDZWxsPiA9IG5ldyBBcnJheSgpO1xuICAgICAgICBfZ3JpZENlbGxzLnB1c2godGhpcy5nZXRXcmFwcGVkQ29sdW1uKEltbXV0YWJsZS5MaXN0KGdyaWRncmlkTGVmdENvbHVtbiksICdjb2wgbGVmdC1jb2wnLCAnR3JpZF9sZWZ0XycgKyBrZXkpKTtcbiAgICAgICAgX2dyaWRDZWxscy5wdXNoKHRoaXMuZ2V0V3JhcHBlZENvbHVtbihJbW11dGFibGUuTGlzdChncmlkTWlkZGxlQ29sdW1uKSwgJ2NvbCBjZW50cmUtY29sJywgJ0dyaWRfY2VudHJlXycgKyBrZXkpKTtcbiAgICAgICAgLy8gY3JlYXRlIGNvbHVtbiBmb3IgQU1EIGFuZCBUTUQgb25seSBpZiBncmlkUmlnaHRDb2x1bW4gaXMgbm90IG51bGxcbiAgICAgICAgaWYgKGdyaWRSaWdodENvbHVtbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgX2dyaWRDZWxscy5wdXNoKHRoaXMuZ2V0V3JhcHBlZENvbHVtbihJbW11dGFibGUuTGlzdChncmlkUmlnaHRDb2x1bW4pLCAnY29sIHJpZ2h0LWNvbCcsICdHcmlkX3JpZ2h0XycgKyBrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2dyaWRDZWxscztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHcm91cCB0aGUgZWxlbWVudHMgYmFzZWQgb24gdGhlIGNsYXNzTmFtZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGdyb3VwQ2xhc3NOYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlcVxuICAgICAqIEByZXR1cm5zIHRoZSBncm91cGVkIEpTWC5FbGVtZW50LlxuICAgICAqIEBTdW1tYXJ5IGdyb3VwQ2xhc3NOYW1lIGlzIHRoZSByb290IGVsZW1lbnQgY2xhc3NOYW1lIGFuZCB0aGUgY29sdW1uIGxpc3QgbWF5IGNvbnRhaW5cbiAgICAgKiB0aGUga2V5IHNhbWUgYXMgZ3JvdXBDbGFzc05hbWUuIFRoZW4gdGhhdCB3aWxsIG5vdCBncm91cCB0aGUgZWxlbWVudHMgaW5zdGVhZCBhZGQgaXQgYXNcbiAgICAgKiBpbW1lZGlhdGUgY2hpbGQgbm9kZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ3JvdXBDb2x1bW5FbGVtZW50cyhncm91cENsYXNzTmFtZTogc3RyaW5nLCBzZXE6IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcblxuICAgICAgICBsZXQgZWxlbWVudHMgPSBJbW11dGFibGUuTGlzdDxKU1guRWxlbWVudD4oKTtcblxuICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGNsYXNzIGdyb3VwIG5hbWVzIHRvIGZpbmQgdGhlIGNoaWxkIGFuZCBncm91cC5cbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuX2dyb3VwQ29sdW1ucykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2dyb3VwQ29sdW1uc1trZXldLnZhbHVlcykge1xuICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuX2dyb3VwQ29sdW1uc1trZXldICsgc2VxLFxuICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuX2dyb3VwQ29sdW1uc1trZXldICsgc2VxLFxuICAgICAgICAgICAgICAgICAgICBkaXZDbGFzc05hbWU6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50TGlzdDogdGhpcy5fZ3JvdXBDb2x1bW5zW2tleV0udmFsdWVzXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBrZXkgc2FtZSBhcyBtYWluIGdyb3VwIGNsYXNzTmFtZSB0aGVuIHdlIGRvbnQgbmVlZCB0byBjcmVhdGUgYSBjaGlsZG5vZGUuXG4gICAgICAgICAgICAgICAgLy8gdHJlYXRpbmcgaXQgYXMgaW1tZWRpYXRlIGNoaWxkIG9mIHRoZSBtYWluIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gZ3JvdXBDbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgPSBlbGVtZW50cy5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoR2VuZXJpY0NvbXBvbmVudFdyYXBwZXIsIGNvbXBvbmVudFByb3BzKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ncm91cENvbHVtbnNba2V5XS52YWx1ZXMubWFwKCh4OiBKU1guRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgPSBlbGVtZW50cy5wdXNoKHgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBpZDogZ3JvdXBDbGFzc05hbWUgKyBzZXEsXG4gICAgICAgICAgICBrZXk6IGdyb3VwQ2xhc3NOYW1lICsgc2VxLFxuICAgICAgICAgICAgZGl2Q2xhc3NOYW1lOiBncm91cENsYXNzTmFtZSxcbiAgICAgICAgICAgIGNvbXBvbmVudExpc3Q6IGVsZW1lbnRzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEdlbmVyaWNDb21wb25lbnRXcmFwcGVyLCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgd2l0aCBmcmVzaCBncm91cC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZW1wdHlHcm91cENvbHVtbnMoKTogdm9pZCB7XG4gICAgICAgIC8vIHN0YXJ0IHdpdGggYSBmcmVzaCBsaXN0IG9mIGNvbHVtbiBncm91cCBzZXQuXG4gICAgICAgIHRoaXMuX2dyb3VwQ29sdW1ucyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZ3JvdXAgY29sdW1uc1xuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcHVibGljIGdldCBncm91cENvbHVtbnMoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyb3VwQ29sdW1ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBwaW5nIHRoZSBlYWNoIGVsZW1lbnRzIHRvIGEgZ3JvdXAuXG4gICAgICogVGhpcyBhZGQgdGhlIGVsZW1lbnRzIHRvIGEgZGljdGlvbmFyeSB3aGljaCBoYXMgY2xhc3NOYW1lIGFzIGtleVxuICAgICAqIGFuZCBsaXN0IG9mIGVsZW1lbnRzIHRoYXQgIGdyb3VwZWQgdW5kZXIgdGhlIGNsYXNzTmFtZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gICAgICogQHBhcmFtIHtKU1guRWxlbWVudH0gZWxlbWVudFxuICAgICAqL1xuICAgIHB1YmxpYyBtYXBHcm91cENvbHVtbnMoY2xhc3NOYW1lOiBzdHJpbmcsIGVsZW1lbnQ6IEpTWC5FbGVtZW50KTogdm9pZCB7XG5cbiAgICAgICAgLy8gSWYgbm90IGdyb3VwIGNsYXNzIGhhcyBiZWVuIGFkZGVkIGNyZWF0ZSBhIG5ldyBvYmplY3RcbiAgICAgICAgLy8gb3RoZXJ3aXNlIGFkZCB0byB0aGUgZXhpc3RpbmcuXG4gICAgICAgIGlmICh0aGlzLl9ncm91cENvbHVtbnNbY2xhc3NOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9ncm91cENvbHVtbnNbY2xhc3NOYW1lXSA9IHsgdmFsdWVzOiBJbW11dGFibGUuTGlzdDxKU1guRWxlbWVudD4oKSB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2dyb3VwQ29sdW1uc1tjbGFzc05hbWVdLnZhbHVlcyA9IHRoaXMuX2dyb3VwQ29sdW1uc1tjbGFzc05hbWVdLnZhbHVlcy5wdXNoKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgQ29sdW1uIEhlYWRlciBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gc2VxIC0ga2V5IHZhbHVlIGZvciB0aGUgY29tcG9uZW50XG4gICAgICogQHBhcmFtIGRpc3BsYXlUZXh0IC0gdGhlIHRleHQgdG8gYXBwZW5kIHdpdGggdGhlIGRpc3BsYXkgaWQuXG4gICAgICogQHJldHVybnMgSlNYLkVsZW1lbnQuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldENvbHVtbkhlYWRlckVsZW1lbnQoc2VxOiBzdHJpbmcsIGhlYWRlclRleHQ/OiBzdHJpbmcsIGdyaWRDb2x1bW4/OiBzdHJpbmcsXG4gICAgICAgIGlzQ3VycmVudFNvcnQ/OiBib29sZWFuLCBpc1NvcnRSZXF1aXJlZD86IGJvb2xlYW4sIHNvcnREaXJlY3Rpb24/OiBlbnVtcy5Tb3J0RGlyZWN0aW9uKTogSlNYLkVsZW1lbnQge1xuXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIGhlYWRlclRleHQ6IGhlYWRlclRleHQsXG4gICAgICAgICAgICBzb3J0RGlyZWN0aW9uOiBzb3J0RGlyZWN0aW9uLFxuICAgICAgICAgICAgaXNDdXJyZW50U29ydDogaXNDdXJyZW50U29ydCxcbiAgICAgICAgICAgIGlzU29ydGluZ1JlcXVpcmVkOiBpc1NvcnRSZXF1aXJlZFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbHVtbkhlYWRlciwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uIGZvciB0YWJsZSBoZWFkZXIuXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZVxuICAgICAqIEBwYXJhbSBjb21wYXJlck5hbWVcbiAgICAgKiBAcGFyYW0gc29ydERpcmVjdGlvblxuICAgICAqIEBwYXJhbSBzZWxlY3RlZFNlc3Npb25UYWJcbiAgICAgKiBAcGFyYW0gZ3JpZFR5cGVcbiAgICAgKiBAcGFyYW0gY2VudHJlT3JTY3JpcHRcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VGFibGVIZWFkZXIoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcbiAgICAgICAgY29tcGFyZXJOYW1lOiBzdHJpbmcsXG4gICAgICAgIHNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24sXG4gICAgICAgIHNlbGVjdGVkU2Vzc2lvblRhYjogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2Vzc2lvblRhYiA9IGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIuQ3VycmVudFNlc3Npb24sXG4gICAgICAgIGdyaWRUeXBlPzogZW51bXMuR3JpZFR5cGUsIGNlbnRyZU9yU2NyaXB0Pzogc3RyaW5nKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuICAgICAgICBsZXQgX2NvbHVtbkhlYWRlckNvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xuICAgICAgICBsZXQgX2NlbGw6IGdyaWRDZWxsO1xuICAgICAgICBsZXQgX3JvdyA9IG5ldyBncmlkUm93KCk7XG4gICAgICAgIGxldCBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb246IEFycmF5PGdyaWRDZWxsPiA9IG5ldyBBcnJheSgpO1xuICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24sXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsIGZhbHNlLCBncmlkVHlwZSwgc2VsZWN0ZWRTZXNzaW9uVGFiLCBjZW50cmVPclNjcmlwdCk7XG4gICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMucmVzZXREeW5hbWljQ29sdW1uU2V0dGluZ3MoKTtcblxuICAgICAgICAvLyBHZXR0aW5nIHRoZSBjbGFzc2lmaWVkIHdvcmtsaXN0IGNvbHVtbnNcbiAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcbiAgICAgICAgICAgIF9jZWxsID0gbmV3IGdyaWRDZWxsKCk7XG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xuICAgICAgICAgICAgbGV0IGhlYWRlclRleHQgPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbHVtbkhlYWRlcjtcbiAgICAgICAgICAgIGxldCBfY29tcGFyZXJOYW1lID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wYXJlck5hbWU7XG5cbiAgICAgICAgICAgIGhlYWRlclRleHQgPSAoaGVhZGVyVGV4dCAmJiBoZWFkZXJUZXh0ICE9PSAnJykgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KGhlYWRlclRleHQpIDogJyc7XG4gICAgICAgICAgICBsZXQga2V5ID0gJ2NvbHVtbkhlYWRlcl8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgbGV0IGlzQ3VycmVudFNvcnQ6IGFueSA9XG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UgP1xuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQgOiAoY29tcGFyZXJOYW1lID09PSBfY29tcGFyZXJOYW1lKTtcbiAgICAgICAgICAgIGxldCBpc1NvcnRSZXF1aXJlZDogYW55ID1cbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUgPT09IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLkNsYXNzaWZpZWRSZXNwb25zZSA/XG4gICAgICAgICAgICAgICAgICAgIGZhbHNlIDogKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uU29ydGFibGUgPT09ICd0cnVlJyk7XG4gICAgICAgICAgICBsZXQgY3VycmVudFNvcnREaXJlY3Rpb246IGVudW1zLlNvcnREaXJlY3Rpb24gPVxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlID9cbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkIDogc29ydERpcmVjdGlvbjtcblxuICAgICAgICAgICAgX2NlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0Q29sdW1uSGVhZGVyRWxlbWVudChcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgaGVhZGVyVGV4dCxcbiAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4sXG4gICAgICAgICAgICAgICAgaXNDdXJyZW50U29ydCxcbiAgICAgICAgICAgICAgICBpc1NvcnRSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICBjdXJyZW50U29ydERpcmVjdGlvblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgX2NlbGwuaXNIaWRkZW4gPSB0aGlzLmdldENlbGxWaXNpYmlsaXR5KF9yZXNwb25zZUNvbHVtbik7XG5cbiAgICAgICAgICAgIC8vIE5vIHNvcnQgZm9yIGNsYXNzaWZpY2F0aW9uXG4gICAgICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlICE9PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBfY2VsbC5jb21wYXJlck5hbWUgPSBfY29tcGFyZXJOYW1lO1xuICAgICAgICAgICAgICAgIF9jZWxsLnNvcnREaXJlY3Rpb24gPSB0aGlzLmdldFNvcnREaXJlY3Rpb24oKGNvbXBhcmVyTmFtZSA9PT0gX2NvbXBhcmVyTmFtZSksIHNvcnREaXJlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcbiAgICAgICAgICAgIF9jZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cbiAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9jZWxsKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IER5bmFtaWMgSGVhZGVycyBmb3IgSW5kaXZpZHVhbCBxdWVzdGlvbiB3aGVuIE1hcmsgQnkgcXVlc3Rpb24gdmlldyBzZWxlY3RlZFxuICAgICAgICBpZiAoZ3JpZFR5cGUgPT09IGVudW1zLkdyaWRUeXBlLm1hcmtCeVF1ZXN0aW9uKSB7XG4gICAgICAgICAgICBsZXQgc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VMaXN0RGF0YSA9XG4gICAgICAgICAgICAgICAgSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPihcbiAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGFuZGFyZGlzYXRpb25TZXRVcFJlc3BvbnNlZGV0YWlscy5zdGFuZGFyZGlzYXRpb25SZXNwb25zZXMpO1xuICAgICAgICAgICAgX2NvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uLmNvbmNhdChcbiAgICAgICAgICAgICAgICB0aGlzLmdldER5bmFtaWNIZWFkZXJzRm9yTWFya3Moc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VMaXN0RGF0YSwgX2NvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlICYmXG4gICAgICAgICAgICAgICAgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhICYmXG4gICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhLnJvbGUucGVybWlzc2lvbnMuZGVjbGFzc2lmeSkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmV0YWluUHJvdmlzaW9uYWxNYXJrc0NDT24oKSAmJlxuICAgICAgICAgICAgICAgICFxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5zdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleSA9ICdjb2x1bW5IZWFkZXJfRGVjbGFzc2lmeSc7XG4gICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9ICdsYXN0LWNlbGwtaGVhZGVyJztcbiAgICAgICAgICAgICAgICBfY2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBxdWVzdGlvbiBoZWFkZXIgZWxlbWVudCBmb3IgZWFjaCBxdWVzdGlvbi5cbiAgICAgICAgICAgICAgICBfY2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRDb2x1bW5IZWFkZXJFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBfY2VsbC5pc0hpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF9jZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9jZWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9BZGRpbmcgdGhlICdsYXN0LWNlbGwnIGNvbHVtbiBhcyB0aGlzIGNvbHVtbiBpcyBub3QgYWRkZWQgdG8gY2xhc3NpZmllZCB3b3JrbHN0IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gJ2NvbHVtbkhlYWRlcl9EZWNsYXNzaWZ5JztcbiAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gJ2xhc3QtY2VsbC1oZWFkZXInO1xuICAgICAgICAgICAgICAgIF9jZWxsID0gbmV3IGdyaWRDZWxsKCk7XG4gICAgICAgICAgICAgICAgX2NlbGwuaXNIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfY2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cbiAgICAgICAgICAgICAgICBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfY2VsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIF9yb3cuc2V0Um93SWQoMSk7XG4gICAgICAgIF9yb3cuc2V0Q2VsbHMoX2NvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uKTtcbiAgICAgICAgX2NvbHVtbkhlYWRlckNvbGxlY3Rpb24ucHVzaChfcm93KTtcblxuICAgICAgICBsZXQgX3N0YW5kYXJkaXNhdGlvblRhYmxlSGVhZGVyQ29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX2NvbHVtbkhlYWRlckNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gX3N0YW5kYXJkaXNhdGlvblRhYmxlSGVhZGVyQ29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSB0YWJsZSByb3cgY29sbGVjdGlvbiBvZiBmcm96ZW4gdGFibGVcbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBEZXRhaWxzTGlzdFxuICAgICAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RnJvemVuUm93Qm9keUZvckxpc3RWaWV3KHN0YW5kYXJkaXNhdGlvblNldHVwRGV0YWlsc0xpc3Q6IFN0YW5kYXJkaXNhdGlvblNldHVwRGV0YWlsc0xpc3QsXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXG4gICAgICAgIGdyaWRUeXBlPzogZW51bXMuR3JpZFR5cGUsXG4gICAgICAgIGNvbXBhcmVyTmFtZT86IHN0cmluZyxcbiAgICAgICAgc29ydERpcmVjdGlvbj86IGVudW1zLlNvcnREaXJlY3Rpb24pOiBJbW11dGFibGUuTGlzdDxncmlkUm93PiB7XG5cbiAgICAgICAgbGV0IF9yb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xuICAgICAgICBsZXQgX3JvdzogZ3JpZFJvdztcbiAgICAgICAgbGV0IF9yb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XG4gICAgICAgIGxldCBfY2VsbDogZ3JpZENlbGw7XG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcbiAgICAgICAgbGV0IGNzc0NsYXNzOiBzdHJpbmc7XG4gICAgICAgIGxldCBzdWJtaXRSZXNwb25zZTogc3VibWl0SGVscGVyID0gbmV3IHN1Ym1pdEhlbHBlcigpO1xuXG4gICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cERldGFpbHNMaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBncmlkU2VxOiBhbnk7XG4gICAgICAgICAgICBsZXQgX3Jlc3BvbnNlTGlzdERhdGE6IGFueTtcbiAgICAgICAgICAgIGxldCBncmlkQ29sdW1uczogYW55O1xuICAgICAgICAgICAgbGV0IGdyaWRSb3dJZENvbHVtbjogc3RyaW5nO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuU2VsZWN0UmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cERldGFpbHNMaXN0LnN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHNMaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkU2VxID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBEZXRhaWxzTGlzdC5zdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzTGlzdC5jZW50cmVTY3JpcHRMaXN0LmtleVNlcSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlTGlzdERhdGEgPSBzdGFuZGFyZGlzYXRpb25TZXR1cERldGFpbHNMaXN0LnN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHNMaXN0LmNlbnRyZVNjcmlwdExpc3QudG9BcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24sIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSwgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIuQ3VycmVudFNlc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NjcmlwdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFJvd0lkQ29sdW1uID0gJ2NhbmRpZGF0ZVNjcmlwdElkJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUxpc3REYXRhID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGFuZGFyZGlzYXRpb25TZXRVcFJlc3BvbnNlZGV0YWlscy5zdGFuZGFyZGlzYXRpb25SZXNwb25zZXM7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzb3J0ZWREYXRhOiBhbnk7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRlZERhdGEgPSBJbW11dGFibGUuTGlzdDxhbnk+KHNvcnRIZWxwZXIuc29ydChfcmVzcG9uc2VMaXN0RGF0YSwgY29tcGFyZXJMaXN0W2NvbXBhcmVyTmFtZV0pKTtcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlTGlzdERhdGEgPSBzb3J0ZWREYXRhLnRvQXJyYXkoKTtcblxuICAgICAgICAgICAgICAgICAgICBncmlkU2VxID0gSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPlxuICAgICAgICAgICAgICAgICAgICAgICAgKF9yZXNwb25zZUxpc3REYXRhKS5rZXlTZXEoKTtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsIGdyaWRUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Ob25lOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IF9yZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIGxpc3QgZGF0YSByb3dcbiAgICAgICAgICAgICAgICBfcm93ID0gbmV3IGdyaWRSb3coKTtcbiAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcblxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGEgPSBfcmVzcG9uc2VMaXN0RGF0YVtyZXNwb25zZUxpc3RDb3VudF07XG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPiA9XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdFJlc3BvbnNlLnN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlRGF0YSwgcmVzcG9uc2VEYXRhLm1hcmtpbmdQcm9ncmVzcywgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgX2NlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcblxuICAgICAgICAgICAgICAgICAgICAvL1N3aXRjaCBzdGF0ZW1lbnQgZm9yIGFkZGluZyBmcm96ZW4gY29sdW1ucy5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNjcmlwdElkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfU2NyaXB0SWRfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRTY3JpcHRJZEVsZW1lbnQocmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMuc2NyaXB0LWlkJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VsbC5zZXRDZWxsU3R5bGUoJ2NvbC1zY3JpcHQtaWQgaGVhZGVyLWNvbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9jZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlSWRDb2x1bW46XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19SZXNwb25zZUlkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jZWxsLnNldENlbGxTdHlsZSgnY29sLXJlc3BvbnNlIGhlYWRlci1jb2wnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfY2VsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Jc1NoYXJlZFByb3Zpc2lvbmFsOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc1NoYXJlZFByb3Zpc2lvbmFsID0gdGhpcy5pc0NvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uT24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YS5yb2xlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGVybWlzc2lvbnMudmlld0NvbW1vblByb3Zpc2lvbmFsQXZhaWxhYmxlUmVzcG9uc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJlc3BvbnNlRGF0YS5pc1NoYXJlZFByb3Zpc2lvbmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NoYXJlUmVzcG9uc2VJbmRpY2F0b3JDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0U2hhcmVkUmVzcG9uc2VJbmRpY2F0b3JFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTaGFyZWRQcm92aXNpb25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VsbC5zZXRDZWxsU3R5bGUoJ2NvbC1zaGFyZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfY2VsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgdGFibGUgcm93IGNvbGxlY3Rpb24uXG4gICAgICAgICAgICAgICAgX3Jvd0NvbGxlY3Rpb24ucHVzaChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhW2dyaWRSb3dJZENvbHVtbl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzZXNcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IF9mcm96ZW5Sb3dCb2R5Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3Jvd0NvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gX2Zyb3plblJvd0JvZHlDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCBTY3JpcHQgSWQgRWxlbWVudFxuICAgICAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzIFxuICAgICAqIEBwYXJhbSBwcm9wc05hbWVzIFxuICAgICAqIEBwYXJhbSBzZXEgXG4gICAgICogQHBhcmFtIGRpc3BsYXlUZXh0IFxuICAgICAqIEBwYXJhbSBpc1NjcmlwdElkQ2xpY2thYmxlIFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTY3JpcHRJZEVsZW1lbnQoc3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlsczogU3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlscyxcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxuICAgICAgICBzZXE6IHN0cmluZyxcbiAgICAgICAgZGlzcGxheVRleHQ/OiBzdHJpbmcsXG4gICAgICAgIGlzU2NyaXB0SWRDbGlja2FibGU6IGJvb2xlYW4gPSB0cnVlKTogSlNYLkVsZW1lbnQge1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgbGV0IF9kaXNwbGF5VGV4dDogc3RyaW5nO1xuXG4gICAgICAgIF9kaXNwbGF5VGV4dCA9IHN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHNbcHJvcHNOYW1lcy5TY3JpcHRJZF07XG5cbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlcSxcbiAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICBkaXNwbGF5SWQ6IHN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHNbcHJvcHNOYW1lcy5TY3JpcHRJZF0sXG4gICAgICAgICAgICBkaXNwbGF5VGV4dDogX2Rpc3BsYXlUZXh0LFxuICAgICAgICAgICAgaXNDbGlja2FibGU6IGlzU2NyaXB0SWRDbGlja2FibGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoc2NyaXB0aWRncmlkZWxlbWVudCwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgdGFibGUgcm93IGVsZW1lbnRzIGZvciBmcm96ZW4gdGFibGUgaGVhZGVyXG4gICAgICogQHBhcmFtIGNvbXBhcmVyTmFtZVxuICAgICAqIEBwYXJhbSBzb3J0RGlyZWN0aW9uXG4gICAgICogQHBhcmFtIGlzU29ydGFibGVcbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlXG4gICAgICogQHBhcmFtIHNlbGVjdGVkVGFiXG4gICAgICovXG4gICAgcHVibGljIGdldEZyb3plblJvd0hlYWRlcihjb21wYXJlck5hbWU6IHN0cmluZywgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbixcbiAgICAgICAgaXNTb3J0YWJsZTogYm9vbGVhbixcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcbiAgICAgICAgc2VsZWN0ZWRTZXNzaW9uVGFiOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuXG4gICAgICAgIGxldCBfY29sdW1uSGVhZGVyQ29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XG4gICAgICAgIGxldCBfcm93ID0gbmV3IGdyaWRSb3coKTtcbiAgICAgICAgbGV0IF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbjogQXJyYXk8Z3JpZENlbGw+ID0gbmV3IEFycmF5KCk7XG5cbiAgICAgICAgbGV0IF9jb21wYXJlck5hbWU6IGNvbXBhcmVyTGlzdDtcbiAgICAgICAgbGV0IF9ncmlkQ29sdW1uTmFtZTogc3RyaW5nID0gJyc7XG4gICAgICAgIGxldCBfY2VsbFN0eWxlOiBzdHJpbmcgPSAnJztcblxuICAgICAgICBzd2l0Y2ggKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5TZWxlY3RSZXNwb25zZTpcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlbGVjdGVkU2Vzc2lvblRhYikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIuQ3VycmVudFNlc3Npb246XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29tcGFyZXJOYW1lID0gY29tcGFyZXJMaXN0LnN0ZFNjcmlwdElkQ29tcGFyZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZ3JpZENvbHVtbk5hbWUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnRvdGFsLW1hcmstdmlldy1jb2x1bW4taGVhZGVycy5zY3JpcHQtaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jZWxsU3R5bGUgPSAnY29sLXNjcmlwdC1pZCBoZWFkZXItY29sJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaCh0aGlzLnNldEZyb3plbkNvbHVtbkhlYWRlcnMoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLCBfZ3JpZENvbHVtbk5hbWUsIF9jZWxsU3R5bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZXJOYW1lLCBpc1NvcnRhYmxlLCBfY29tcGFyZXJOYW1lLCBzb3J0RGlyZWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiLlByZXZpb3VzU2Vzc2lvbjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfY2VsbDogZ3JpZENlbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuU2VsZWN0UmVzcG9uc2UsIHRydWUsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2Vzc2lvblRhYi5QcmV2aW91c1Nlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0gJ2Zyb3plblJvd0hlYWRlcl8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50Q29tcGFyZXI6IHN0cmluZyA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcGFyZXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc1NvcnRSZXF1aXJlZDogYm9vbGVhbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uU29ydGFibGUgPT09ICd0cnVlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGVhZGVyVGV4dCA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29sdW1uSGVhZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlclRleHQgPSAoaGVhZGVyVGV4dCAmJiBoZWFkZXJUZXh0ICE9PSAnJykgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KGhlYWRlclRleHQpIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKHRoaXMuc2V0RnJvemVuQ29sdW1uSGVhZGVycyhzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsIGhlYWRlclRleHQsIGNlbGxTdHlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZXJOYW1lLCBpc1NvcnRSZXF1aXJlZCwgY29tcGFyZXJMaXN0W2N1cnJlbnRDb21wYXJlcl0sIHNvcnREaXJlY3Rpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIF9ncmlkQ29sdW1uTmFtZSA9XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRlVGV4dCgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC50b3RhbC1tYXJrLXZpZXctY29sdW1uLWhlYWRlcnMucmVzcG9uc2UtaWQnKTtcbiAgICAgICAgICAgICAgICBfY2VsbFN0eWxlID0gJ2NvbC1yZXNwb25zZSBoZWFkZXItY29sJztcblxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKHRoaXMuc2V0RnJvemVuQ29sdW1uSGVhZGVycyhzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsICcnLFxuICAgICAgICAgICAgICAgICAgICAnY29sLXN0ZC1jbGFzc2lmeS1pdGVtcyBoZWFkZXItY29sJywgJycsIGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgX2NvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2godGhpcy5zZXRGcm96ZW5Db2x1bW5IZWFkZXJzKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSwgX2dyaWRDb2x1bW5OYW1lLFxuICAgICAgICAgICAgICAgICAgICBfY2VsbFN0eWxlLCAnJywgZmFsc2UpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuUHJvdmlzaW9uYWxSZXNwb25zZTpcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLFxuICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHRydWUpO1xuICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uTGVuZ3RoID0gZ3JpZENvbHVtbnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudENvbXBhcmVyOiBzdHJpbmcgPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBhcmVyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9ncmlkQ29sdW1uTmFtZSA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29sdW1uSGVhZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2dyaWRDb2x1bW5OYW1lID0gKF9ncmlkQ29sdW1uTmFtZSAmJiBfZ3JpZENvbHVtbk5hbWUgIT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChfZ3JpZENvbHVtbk5hbWUpIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzIDogJyc7IC8vICdjb2wtcmVzcG9uc2UgaGVhZGVyLWNvbCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNTb3J0UmVxdWlyZWQ6IGJvb2xlYW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLlNvcnRhYmxlID09PSAndHJ1ZSc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbHVtbkhlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2godGhpcy5zZXRGcm96ZW5Db2x1bW5IZWFkZXJzKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSwgX2dyaWRDb2x1bW5OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jZWxsU3R5bGUsIGNvbXBhcmVyTmFtZSwgaXNTb3J0UmVxdWlyZWQsIGNvbXBhcmVyTGlzdFtjdXJyZW50Q29tcGFyZXJdLCBzb3J0RGlyZWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5VbkNsYXNzaWZpZWRSZXNwb25zZTpcbiAgICAgICAgICAgICAgICBfZ3JpZENvbHVtbk5hbWUgPVxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QudG90YWwtbWFyay12aWV3LWNvbHVtbi1oZWFkZXJzLnJlc3BvbnNlLWlkJyk7XG4gICAgICAgICAgICAgICAgX2NlbGxTdHlsZSA9ICdjb2wtcmVzcG9uc2UgaGVhZGVyLWNvbCc7XG5cbiAgICAgICAgICAgICAgICBfY29tcGFyZXJOYW1lID0gY29tcGFyZXJMaXN0LnJlc3BvbnNlSWRDb21wYXJlcjtcblxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKHRoaXMuc2V0RnJvemVuQ29sdW1uSGVhZGVycyhzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsIF9ncmlkQ29sdW1uTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgX2NlbGxTdHlsZSwgY29tcGFyZXJOYW1lLCBpc1NvcnRhYmxlLCBfY29tcGFyZXJOYW1lLCBzb3J0RGlyZWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLk5vbmU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBfcm93LnNldFJvd0lkKDEpO1xuICAgICAgICBfcm93LnNldENlbGxzKF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbik7XG4gICAgICAgIF9jb2x1bW5IZWFkZXJDb2xsZWN0aW9uLnB1c2goX3Jvdyk7XG5cbiAgICAgICAgbGV0IF9mcm96ZW5Sb3dIZWFkZXJDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfY29sdW1uSGVhZGVyQ29sbGVjdGlvbik7XG5cbiAgICAgICAgcmV0dXJuIF9mcm96ZW5Sb3dIZWFkZXJDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRpbmcgZnJvemVuIGhlYWRlciBjb2x1bW5zIChSaWcgb3JkZXIgZW1wdHkgY29sdW1uL1Jlc3BvbnNlIElkIGZvciBDbGFzc2lmZWQpXG4gICAgICogQHBhcmFtIGNvbHVtbkhlYWRlclxuICAgICAqIEBwYXJhbSBjZWxsU3R5bGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgc2V0RnJvemVuQ29sdW1uSGVhZGVycyhzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGU6IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLFxuICAgICAgICBjb2x1bW5IZWFkZXI6IHN0cmluZywgY2VsbFN0eWxlOiBzdHJpbmcsXG4gICAgICAgIGN1cnJlbnRDb21wYXJlcjogc3RyaW5nLCBpc1NvcnRhYmxlOiBib29sZWFuLFxuICAgICAgICBfY29tcGFyZXJOYW1lPzogY29tcGFyZXJMaXN0LCBzb3J0RGlyZWN0aW9uPzogZW51bXMuU29ydERpcmVjdGlvbikge1xuICAgICAgICBsZXQgX2NlbGw6IGdyaWRDZWxsO1xuICAgICAgICBfY2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICBsZXQga2V5ID0gJ2Zyb3plblJvd0hlYWRlcic7XG5cbiAgICAgICAgbGV0IGlzQ3VycmVudFNvcnQ6IGFueSA9XG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUgPT09IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLkNsYXNzaWZpZWRSZXNwb25zZSA/XG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkIDogKGNvbXBhcmVyTGlzdFtjdXJyZW50Q29tcGFyZXJdID09PSBfY29tcGFyZXJOYW1lKTtcbiAgICAgICAgbGV0IGlzU29ydFJlcXVpcmVkOiBhbnkgPVxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UgP1xuICAgICAgICAgICAgICAgIGZhbHNlIDogaXNTb3J0YWJsZTtcbiAgICAgICAgbGV0IGN1cnJlbnRTb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uID1cbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlID9cbiAgICAgICAgICAgICAgICB1bmRlZmluZWQgOiBzb3J0RGlyZWN0aW9uO1xuXG4gICAgICAgIC8vVE9ETyA6IE1vdmUgdGhlIG1hZ2ljIHN0cmluZ3Mgb3V0c2lkZSAoanNvbj8pXG4gICAgICAgIF9jZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldENvbHVtbkhlYWRlckVsZW1lbnQoXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBjb2x1bW5IZWFkZXIsXG4gICAgICAgICAgICAnJyxcbiAgICAgICAgICAgIGlzQ3VycmVudFNvcnQsXG4gICAgICAgICAgICBpc1NvcnRSZXF1aXJlZCxcbiAgICAgICAgICAgIGN1cnJlbnRTb3J0RGlyZWN0aW9uXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSAhPT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfY2VsbC5jb21wYXJlck5hbWUgPSBjb21wYXJlckxpc3RbX2NvbXBhcmVyTmFtZV07XG4gICAgICAgICAgICBfY2VsbC5zb3J0RGlyZWN0aW9uID0gdGhpcy5nZXRTb3J0RGlyZWN0aW9uKChjb21wYXJlckxpc3RbY3VycmVudENvbXBhcmVyXSA9PT0gX2NvbXBhcmVyTmFtZSksIHNvcnREaXJlY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XG5cbiAgICAgICAgcmV0dXJuIF9jZWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGdyaWRjb2x1bW5zIGJhc2VkIG9uIHRoZSByZXNwb25zZSBtb2RlIGFuZCB3b3JrbGlzdCB0eXBlXG4gICAgICogQHBhcmFtIHJlc29sdmVkR3JpZENvbHVtbnNKc29uXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZVxuICAgICAqIEBwYXJhbSBpc0Zyb3plblxuICAgICAqIEBwYXJhbSBzZWxlY3RlZFNlc3Npb25UYWJcbiAgICAgKiBAcGFyYW0gY2VudHJlT3JTY3JpcHRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0R3JpZENvbHVtbnMocmVzb2x2ZWRHcmlkQ29sdW1uc0pzb246IGFueSwgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcbiAgICAgICAgaXNGcm96ZW46IGJvb2xlYW4gPSBmYWxzZSwgZ3JpZFR5cGU/OiBlbnVtcy5HcmlkVHlwZSxcbiAgICAgICAgc2VsZWN0ZWRTZXNzaW9uVGFiPzogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2Vzc2lvblRhYiwgY2VudHJlT3JTY3JpcHQ/OiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGdyaWRDb2x1bW5zOiBhbnk7XG4gICAgICAgIHN3aXRjaCAoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlNlbGVjdFJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlc3Npb25UYWIgPT09IGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIuQ3VycmVudFNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRyZU9yU2NyaXB0ID09PSAnU2NyaXB0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSAoaXNGcm96ZW4gPT09IGZhbHNlKSA/IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLlNlbGVjdFJlc3BvbnNlLlNjcmlwdC5HcmlkQ29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuU2VsZWN0UmVzcG9uc2UuRnJvemVuUm93cy5HcmlkQ29sdW1ucztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuU2VsZWN0UmVzcG9uc2UuQ2VudHJlLkdyaWRDb2x1bW5zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZFNlc3Npb25UYWIgPT09IGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIuUHJldmlvdXNTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuUHJldmlvdXNTZXNzaW9uLlJldXNhYmxlUmVzcG9uc2UuR3JpZENvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuUHJldmlvdXNTZXNzaW9uLmZyb3plblJvd3MuR3JpZENvbHVtbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zID0gKGlzRnJvemVuID09PSBmYWxzZSkgPyAoZ3JpZFR5cGUgPT09IGVudW1zLkdyaWRUeXBlLnRvdGFsTWFya3MgP1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5zdGFuZGFyZGlzYXRpb25zZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlLnRvdGFsbWFya3N2aWV3LkdyaWRDb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuUHJvdmlzaW9uYWxSZXNwb25zZS5tYXJrc2J5cXVlc3Rpb252aWV3LkdyaWRDb2x1bW5zKVxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2UuZnJvemVuUm93cy5HcmlkQ29sdW1ucztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuVW5DbGFzc2lmaWVkUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSAoaXNGcm96ZW4gPT09IGZhbHNlKSA/IChncmlkVHlwZSA9PT0gZW51bXMuR3JpZFR5cGUudG90YWxNYXJrcyA/XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLlVuQ2xhc3NpZmllZFJlc3BvbnNlLnRvdGFsbWFya3N2aWV3LkdyaWRDb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24uc3RhbmRhcmRpc2F0aW9uc2V0dXAuVW5DbGFzc2lmaWVkUmVzcG9uc2UubWFya3NieXF1ZXN0aW9udmlldy5HcmlkQ29sdW1ucylcbiAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5zdGFuZGFyZGlzYXRpb25zZXR1cC5VbkNsYXNzaWZpZWRSZXNwb25zZS5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSAoaXNGcm96ZW4gPT09IGZhbHNlKSA/IChncmlkVHlwZSA9PT0gZW51bXMuR3JpZFR5cGUudG90YWxNYXJrcyA/XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLkNsYXNzaWZpZWRSZXNwb25zZS50b3RhbG1hcmtzdmlldy5HcmlkQ29sdW1uc1xuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLkNsYXNzaWZpZWRSZXNwb25zZS5tYXJrc2J5cXVlc3Rpb252aWV3LkdyaWRDb2x1bW5zKVxuICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLkNsYXNzaWZpZWRSZXNwb25zZS5mcm96ZW5Sb3dzLkdyaWRDb2x1bW5zO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Ob25lOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncmlkQ29sdW1ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHdoZXRoZXIgdGhlIHRoZSBnaXZlbiBjb2x1bW4gaXMgaGlkZGVuIG9yIG5vdFxuICAgICAqIEBwYXJhbSByZXNwb25zZUNvbHVtblxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRDZWxsVmlzaWJpbGl0eShjb2x1bW46IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZWNvdXJzZVdvcmtIZWxwZXIuaXNFQ291cnNld29ya0NvbXBvbmVudCAmJiBjb2x1bW4gPT09ICdGaXJzdFNjYW5uZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLmVCb29rbWFya2luZykudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlKSAmJiBjb2x1bW4gPT09ICdRdWVzdGlvbkl0ZW1zJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0IGR5bmFtaWMgY29sdW1uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHJlc2V0RHluYW1pY0NvbHVtblNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLl9kYXRlTGVuZ3RoSW5QaXhlbCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBzb3J0IGRpcmVjdGlvbiAtIGlmIGl0IGlzIGN1cnJlbnQgc29ydCBqdXN0IHJldmVyc2UgdGhlIGRpcmVjdGlvbiBvdGhlcndpc2UgYXNjIGFzIGRlZmF1YWx0IGRpcmVjdGlvbi5cbiAgICAgKiBAcGFyYW0gaXNDdXJyZW50U29ydFxuICAgICAqIEBwYXJhbSBzb3J0RGlyZWN0aW9uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFNvcnREaXJlY3Rpb24oaXNDdXJyZW50U29ydDogYm9vbGVhbiwgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbik6IGVudW1zLlNvcnREaXJlY3Rpb24ge1xuICAgICAgICByZXR1cm4gKChpc0N1cnJlbnRTb3J0ID09PSB0cnVlKSA/XG4gICAgICAgICAgICAoKHNvcnREaXJlY3Rpb24gPT09IGVudW1zLlNvcnREaXJlY3Rpb24uQXNjZW5kaW5nKSA/IGVudW1zLlNvcnREaXJlY3Rpb24uRGVzY2VuZGluZyA6IGVudW1zLlNvcnREaXJlY3Rpb24uQXNjZW5kaW5nKVxuICAgICAgICAgICAgOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLkFzY2VuZGluZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgYmx1ZSBiYW5uZXIgZWxlbWVudFxuICAgICAqIEBwYXJhbSBzZWxlY3RlZFdvcmtMaXN0XG4gICAgICogQHBhcmFtIHRhcmdldENvdW50XG4gICAgICogQHBhcmFtIGlzRVNUZWFtTWVtYmVyXG4gICAgICogQHBhcmFtIHNlbGVjdGVkU2Vzc2lvblxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRCbHVlQmFubmVyRm9yVGFyZ2V0cyA9IChzZWxlY3RlZFdvcmtMaXN0OiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCwgdGFyZ2V0Q291bnQ6XG4gICAgICAgIG51bWJlciwgaXNFU1RlYW1NZW1iZXI/OiBib29sZWFuLCBzZWxlY3RlZFNlc3Npb24/OiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiKTogSlNYLkVsZW1lbnQgPT4ge1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlbGVjdGVkV29ya0xpc3QgKyAnX2JsdWVCYW5uZXInLFxuICAgICAgICAgICAgYmx1ZUJhbm5lck1lc3NhZ2VLZXk6IHRoaXMuZ2V0UmlnaHRDb250YWluZXJCbHVlQmFubmVyS2V5KHNlbGVjdGVkV29ya0xpc3QsIHRhcmdldENvdW50LCBpc0VTVGVhbU1lbWJlciwgc2VsZWN0ZWRTZXNzaW9uKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChibHVlQmFubmVyTWVzc2FnZSwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGJsdWUgYmFubmVyIG1lc3NhZ2Uga2V5IGZvciByZXNvdXJjZSBmaWxlXG4gICAgICogQHBhcmFtIHNlbGVjdGVkV29ya0xpc3RcbiAgICAgKiBAcGFyYW0gdGFyZ2V0Q291bnRcbiAgICAgKiBAcGFyYW0gaXNFU1RlYW1NZW1iZXJcbiAgICAgKiBAcGFyYW0gc2VsZWN0ZWRTZXNzaW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRSaWdodENvbnRhaW5lckJsdWVCYW5uZXJLZXkgPSAoc2VsZWN0ZWRXb3JrTGlzdDogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXG4gICAgICAgIHRhcmdldENvdW50OiBudW1iZXIsIGlzRVNUZWFtTWVtYmVyOiBib29sZWFuID0gZmFsc2UsIHNlbGVjdGVkU2Vzc2lvbj86IGVudW1zLlN0YW5kYXJkaXNhdGlvblNlc3Npb25UYWIpOiBzdHJpbmcgPT4ge1xuXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcbiAgICAgICAgc3dpdGNoIChzZWxlY3RlZFdvcmtMaXN0KSB7XG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLk5vbmU6XG4gICAgICAgICAgICAgICAga2V5ID0gJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5yaWdodC1jb250YWluZXIuc2VsZWN0LXJlc3BvbnNlLWJsdWViYW5uZXItbWVzc2FnZSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlNlbGVjdFJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlc3Npb24gIT09IG51bGwgJiYgc2VsZWN0ZWRTZXNzaW9uICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgJiYgc2VsZWN0ZWRTZXNzaW9uID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiLlByZXZpb3VzU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRDb3VudCA9PT0gMCA/XG4gICAgICAgICAgICAgICAgICAgIGtleSA9ICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLnNlbGVjdC1yZXNwb25zZS1wcmV2aW91c2Utc2Vzc2lvbi1lbXB0eS1tZXNzYWdlJyA6XG4gICAgICAgICAgICAgICAgICAgIGtleSA9ICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLnNlbGVjdC1yZXNwb25zZS1wcmV2aW91c2Utc2Vzc2lvbi1kZWZhdWx0LW1lc3NhZ2UnIDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnJpZ2h0LWNvbnRhaW5lci5zZWxlY3QtcmVzcG9uc2UtYmx1ZWJhbm5lci1tZXNzYWdlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAga2V5ID0gdGFyZ2V0Q291bnQgPiAwID8gJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5yaWdodC1jb250YWluZXIucHJvdmlzaW9uYWwtYmx1ZWJhbm5lci1tZXNzYWdlJyA6XG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLmVtcHR5LXJlc3BvbnNlcy1wcm92aXNpb25hbC1ibHVlYmFubmVyLW1lc3NhZ2UnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5VbkNsYXNzaWZpZWRSZXNwb25zZTpcbiAgICAgICAgICAgICAgICBsZXQgaXNTZWVkVmlzaWJsZSA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhID9cbiAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGRTZXR1cFBlcm1pc3Npb25DQ0RhdGEucm9sZS52aWV3QnlDbGFzc2lmaWNhdGlvbi5jbGFzc2lmaWNhdGlvbnMuc2VlZGluZyA6XG4gICAgICAgICAgICAgICAgICAgIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgbG9nZ2VkIGluIGV4YW1pbmVyIHJvbGUgaXMgcHJlc2VudCBpbiB0aGUgJ1N0YW5kYXJkaXNhdGlvblNldHVwUGVybWlzc2lvbnMnIENDXG4gICAgICAgICAgICAgICAgbGV0IGlzTG9nZ2VkSW5FeGFtaW5lclJvbGVQcmVzZW50SW5DQyA9XG4gICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhLmlzTG9nZ2VkSW5FeGFtaW5lclJvbGVQcmVzZW50SW5DQztcbiAgICAgICAgICAgICAgICBsZXQgbG9nZ2VkSW5FeGFtaW5lclJvbGUgPSBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YS5yb2xlLm5hbWU7XG5cbiAgICAgICAgICAgICAgICBrZXkgPSB0YXJnZXRDb3VudCA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAoKGlzRVNUZWFtTWVtYmVyICYmIChpc1NlZWRWaXNpYmxlID09PSBmYWxzZSB8fCBpc1NlZWRWaXNpYmxlID09PSB1bmRlZmluZWQpKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnJpZ2h0LWNvbnRhaW5lci51bmNsYXNzaWZpZWQtYmx1ZWJhbm5lci1tZXNzYWdlLWZvci1lc3RlYW0nIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLnVuY2xhc3NpZmllZC1ibHVlYmFubmVyLW1lc3NhZ2UnKSA6XG4gICAgICAgICAgICAgICAgICAgIChpc0VTVGVhbU1lbWJlciAmJiAhaXNMb2dnZWRJbkV4YW1pbmVyUm9sZVByZXNlbnRJbkNDKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnJpZ2h0LWNvbnRhaW5lci5lbXB0eS1yZXNwb25zZXMtdW5jbGFzc2lmaWVkLXdpdGhvdXQtcm9sZS1ibHVlYmFubmVyLW1lc3NhZ2UnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLmVtcHR5LXJlc3BvbnNlcy11bmNsYXNzaWZpZWQtYmx1ZWJhbm5lci1tZXNzYWdlJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIGtleSA9IHRhcmdldENvdW50ID4gMCA/ICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLmNsYXNzaWZpZWQtYmx1ZWJhbm5lci1tZXNzYWdlJyA6XG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLmVtcHR5LXJlc3BvbnNlcy1jbGFzc2lmaWVkLWJsdWViYW5uZXItbWVzc2FnZSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG5cblx0LyoqXG5cdCAqIEdldCB0aGUgdGV4dCB2YWx1ZSBmb3IgR3JpZCBDb2x1bW5cblx0ICogQHBhcmFtIHRleHRWYWx1ZVxuXHQgKiBAcGFyYW0gc2VxXG5cdCAqL1xuICAgIHB1YmxpYyBnZXRHZW5lcmljVGV4dEVsZW1lbnQodGV4dFZhbHVlOiBzdHJpbmcsIHNlcTogc3RyaW5nLCB0aXRsZT86IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgdGV4dFZhbHVlOiB0ZXh0VmFsdWUsXG4gICAgICAgICAgICB0aXRsZTogdGl0bGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoR2VuZXJpY1RleHRDb2x1bW4sIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIEZvcm1hdHRlZCBkYXRlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICogQHBhcmFtIHNlcVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRHZW5lcmljRm9ybWF0dGVkRGF0ZUVsZW1lbnQodmFsdWU6IERhdGUsIHNlcTogc3RyaW5nKTogSlNYLkVsZW1lbnQge1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlcSxcbiAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICBkYXRlVmFsdWU6IG5ldyBEYXRlKHZhbHVlLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnZGltLXRleHQgdHh0LXZhbCBzbWFsbC10ZXh0J1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChnZW5lcmljRGF0ZSwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgQ29udmVydGVkIHRleHQgdmFsdWUgZm9yIEdyaWQgQ29sdW1uXG4gICAgICogIEBwYXJhbSB0ZXh0VmFsdWVcbiAgICAgKiBAcGFyYW0gc2VxXG4gICAgICovXG4gICAgcHVibGljIGdldENvbnZlcnRUZXh0RWxlbWVudCh0ZXh0VmFsdWU6IHN0cmluZywgc2VxOiBzdHJpbmcpOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBzd2l0Y2ggKHRleHRWYWx1ZSkge1xuICAgICAgICAgICAgY2FzZSAndHJ1ZSc6XG4gICAgICAgICAgICAgICAgdGV4dFZhbHVlID0gJ1llcyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmYWxzZSc6XG4gICAgICAgICAgICAgICAgdGV4dFZhbHVlID0gJ05vJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIHRleHRWYWx1ZTogdGV4dFZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEdlbmVyaWNUZXh0Q29sdW1uLCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIE1hcmtzIEdyaWQgQ29sdW1uXG4gICAgICogQHBhcmFtIHRleHRWYWx1ZVxuICAgICAqIEBwYXJhbSBzZXFcbiAgICAgKiBAcGFyYW0gdXNlZEluVG90YWxcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TWFya3NDb2x1bW4odGV4dFZhbHVlOiBzdHJpbmcsIHNlcTogc3RyaW5nLCB1c2VkSW5Ub3RhbDogYm9vbGVhbik6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgdGV4dFZhbHVlOiB0ZXh0VmFsdWUsXG4gICAgICAgICAgICB1c2VkSW5Ub3RhbDogdXNlZEluVG90YWxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQobWFya3NDb2x1bW4sIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cblxuXHQvKipcblx0ICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBUb3RhbE1hcmsgY29tcG9uZW50XG5cdCAqIEBwYXJhbSBtYXJrXG5cdCAqIEBwYXJhbSBzZXFcblx0ICovXG4gICAgcHVibGljIGdldFRvdGFsTWFya0VsZW1lbnQobWFyazogbnVtYmVyLFxuICAgICAgICBzZXE6IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgaXNOb25OdW1lcmljTWFyazogZmFsc2UsXG4gICAgICAgICAgICBtYXhpbXVtTWFyazogMTAwLFxuICAgICAgICAgICAgdG90YWxNYXJrOiBtYXJrLFxuICAgICAgICAgICAgbWFya2luZ1Byb2dyZXNzOiAxMDAsXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQodG90YWxNYXJrLCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBTZWxlY3RlZCBUYWcgSWQgb2YgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIHNlcVxuICAgICAqIEBwYXJhbSB0YWdJZFxuICAgICAqIEBwYXJhbSB0YWdMaXN0XG4gICAgICogQHBhcmFtIG1hcmtHcm91cElkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFRhZyhzZXE6IHN0cmluZywgdGFnSWQ6IG51bWJlciwgdGFnTGlzdDogaW1tdXRhYmxlLkxpc3Q8VGFnPixcbiAgICAgICAgbWFya0dyb3VwSWQ6IG51bWJlciwgbWFya2luZ01vZGU6IGVudW1zLk1hcmtpbmdNb2RlKTogSlNYLkVsZW1lbnQge1xuXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgc2VsZWN0ZWRUYWdJZDogdGFnSWQsXG4gICAgICAgICAgICB0YWdMaXN0OiB0YWdMaXN0LFxuICAgICAgICAgICAgbWFya0dyb3VwSWQ6IG1hcmtHcm91cElkLFxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxuICAgICAgICAgICAgLy8gaXNFU1Jlc3BvbnNlID0gdHJ1ZSB3aGVuIHRhZyB1cGRhdGVkIGZyb20gc3RhbmRhcmRpc2F0aW9uIHNldHVwLlxuICAgICAgICAgICAgaXNFU1Jlc3BvbnNlOiB0cnVlLFxuICAgICAgICAgICAgbWFya2luZ01vZGU6IG1hcmtpbmdNb2RlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFnTGlzdCwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgUmVzcG9uc2VJZENvbHVtbiBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gc3RkUmVzcG9uc2VEYXRhXG4gICAgICogQHBhcmFtIHNlcVxuICAgICAqIEBwYXJhbSBpc1Jlc3BvbnNlSWRDbGlja2FibGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQoc3RkUmVzcG9uc2VEYXRhOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMsXG4gICAgICAgIHNlcTogc3RyaW5nLFxuICAgICAgICBpc1Jlc3BvbnNlSWRDbGlja2FibGU6IGJvb2xlYW4gPSB0cnVlLFxuICAgICAgICBpc1JldXNhYmxlUmVzcG9uc2VWaWV3OiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIGNhbmRpZGF0ZVNjcmlwdElkOiBzdHJpbmcgPSAnJyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGxldCBkaXNwbGF5SWQgPSBzdGRSZXNwb25zZURhdGEuZGlzcGxheUlkO1xuXG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgZGlzcGxheUlkOiBkaXNwbGF5SWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGlzUmVzcG9uc2VJZENsaWNrYWJsZTogaXNSZXNwb25zZUlkQ2xpY2thYmxlLFxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxuICAgICAgICAgICAgaXNSZXVzYWJsZVJlc3BvbnNlVmlldzogaXNSZXVzYWJsZVJlc3BvbnNlVmlldyxcbiAgICAgICAgICAgIGNhbmRpZGF0ZVNjcmlwdElkOiAnMScgKyBzdGRSZXNwb25zZURhdGEuY2FuZGlkYXRlU2NyaXB0SWRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoc3RkUmVzcG9uc2VJZCwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuXHQvKipcblx0ICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBMaW5rZWRNZXNzYWdySW5kaWNhdG9yIGNvbXBvbmVudFxuXHQgKiBAcGFyYW0gcmVzcG9uc2VEYXRhXG5cdCAqIEBwYXJhbSBwcm9wc05hbWVzXG5cdCAqIEBwYXJhbSBzZXFcblx0ICogQHBhcmFtIGlzVGlsZVZpZXdcblx0ICovXG4gICAgcHVibGljIGdldExpbmtlZE1lc3NhZ2VFbGVtZW50KFxuICAgICAgICByZXNwb25zZURhdGE6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscywgcHJvcHNOYW1lczogYW55LCBzZXE6IHN0cmluZywgaXNUaWxlVmlldzogYm9vbGVhbiA9IHRydWUpOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIG1lc3NhZ2VDb3VudDogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMudW5yZWFkTWVzc2FnZXNDb3VudF0sXG4gICAgICAgICAgICBoYXNNZXNzYWdlczogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuaGFzTWVzc2FnZXNdLFxuICAgICAgICAgICAgZGlzcGxheUlkOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5kaXNwbGF5SWRdLFxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxuICAgICAgICAgICAgaXNUaWxlVmlldzogaXNUaWxlVmlldyxcbiAgICAgICAgICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExpbmtlZE1lc3NhZ2VJbmRpY2F0b3IsIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cblx0LyoqXG5cdCAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgTGFzdCB1cGRhdGVkIGNvbXBvbmVudFxuXHQgKiBAcGFyYW0gbGFzdFVwZGF0ZWREYXRlXG5cdCAqIEBwYXJhbSBzZXFcblx0ICovXG4gICAgcHVibGljIGdldExhc3RVcGRhdGVkRWxlbWVudChzdGRSZXNwb25zZURhdGE6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscyxcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxuICAgICAgICBzZXE6IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgZGF0ZVR5cGU6IGVudW1zLldvcmtMaXN0RGF0ZVR5cGUubGFzdFVwZGF0ZWREYXRlLFxuICAgICAgICAgICAgZGF0ZVZhbHVlOiBuZXcgRGF0ZShzdGRSZXNwb25zZURhdGFbcHJvcHNOYW1lcy51cGRhdGVkRGF0ZV0pLFxuICAgICAgICAgICAgaXNUaWxlVmlldzogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGFzdFVwZGF0ZWRDb2x1bW4sIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgcmVhY3QgZWxlbWVudCBmb3IgZGVjbGFzc2lmeSBidXR0b25cbiAgICAgKiBAcGFyYW0gdGl0bGVcbiAgICAgKiBAcGFyYW0gYW5jaG9yY2xhc3NOYW1lXG4gICAgICogQHBhcmFtIHNwYW5jbGFzc05hbWVcbiAgICAgKiBAcGFyYW0gc2VxXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXREZWNsYXNzaWZ5QnV0dG9uRWxlbWVudCh0aXRsZTogc3RyaW5nLFxuICAgICAgICBhbmNob3JjbGFzc05hbWU6IHN0cmluZyxcbiAgICAgICAgc3BhbmNsYXNzTmFtZTogc3RyaW5nLFxuICAgICAgICBzZXE6IHN0cmluZyxcbiAgICAgICAgZGlzcGxheUlkOiBzdHJpbmcsXG5cdFx0dG90YWxNYXJrVmFsdWU6IG51bWJlcixcblx0XHRjYW5kaWRhdGVTY3JpcHRJZDogbnVtYmVyLFxuXHRcdGVzQ2FuZGlkYXRlU2NyaXB0TWFya1NjaGVtZUdyb3VwSWQ6IG51bWJlcixcbiAgICAgICAgbWFya2luZ01vZGVJZDogbnVtYmVyLFxuICAgICAgICByaWdPcmRlcjogbnVtYmVyLFxuICAgICAgICBlc01hcmtHcm91cFJvd1ZlcnNpb246IHN0cmluZ1xuICAgICk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIGFuY2hvcmNsYXNzTmFtZTogYW5jaG9yY2xhc3NOYW1lLFxuICAgICAgICAgICAgc3BhbmNsYXNzTmFtZTogc3BhbmNsYXNzTmFtZSxcbiAgICAgICAgICAgIGRpc3BsYXlJZDogZGlzcGxheUlkLFxuXHRcdFx0dG90YWxNYXJrVmFsdWU6IHRvdGFsTWFya1ZhbHVlLFxuXHRcdFx0Y2FuZGlkYXRlU2NyaXB0SWQ6IGNhbmRpZGF0ZVNjcmlwdElkLFxuICAgICAgICAgICAgZXNDYW5kaWRhdGVTY3JpcHRNYXJrU2NoZW1lR3JvdXBJZDogZXNDYW5kaWRhdGVTY3JpcHRNYXJrU2NoZW1lR3JvdXBJZCxcbiAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkOiBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkLFxuXHRcdFx0bWFya2luZ01vZGVJZDogbWFya2luZ01vZGVJZCxcbiAgICAgICAgICAgIHJpZ09yZGVyOiByaWdPcmRlcixcbiAgICAgICAgICAgIGVzTWFya0dyb3VwUm93VmVyc2lvbjogZXNNYXJrR3JvdXBSb3dWZXJzaW9uXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KERlY2xhc3NpZnlCdXR0b24sIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGluZyBncmlkIHJvd1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1bmlxdWVJZCBcbiAgICAgKiBAcGFyYW0ge0FycmF5PGdyaWRDZWxsPn0gZ3JpZENlbGxzIFxuICAgICAqIEBwYXJhbSB7SlNYLkVsZW1lbnR9IFthZGRpdGlvbmFsQ29tcG9uZW50XSBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Nzc0NsYXNzXSBcbiAgICAgKiBAcGFyYW0ge0ltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPn0gW3Jlc3BvbnNlU3RhdHVzXSBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvdmVyQ2xhc3NpZmllZF1cbiAgICAgKiBAcmV0dXJucyB7Z3JpZFJvd30gXG4gICAgICogQG1lbWJlcm9mIFN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyQmFzZVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRHcmlkUm93KFxuICAgICAgICB1bmlxdWVJZDogc3RyaW5nLFxuICAgICAgICBncmlkQ2VsbHM6IEFycmF5PGdyaWRDZWxsPixcbiAgICAgICAgYWRkaXRpb25hbENvbXBvbmVudD86IEpTWC5FbGVtZW50LFxuICAgICAgICBjc3NDbGFzcz86IHN0cmluZyxcbiAgICAgICAgcmVzcG9uc2VTdGF0dXM/OiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4sXG4gICAgICAgIG92ZXJDbGFzc2lmaWVkPzogYm9vbGVhbik6IGdyaWRSb3cge1xuICAgICAgICBsZXQgX2dyaWRSb3c6IGdyaWRSb3cgPSBuZXcgZ3JpZFJvdygpO1xuICAgICAgICBsZXQgY2xhc3NOYW1lID0gdGhpcy5zZXRSb3dTdHlsZShyZXNwb25zZVN0YXR1cywgb3ZlckNsYXNzaWZpZWQpO1xuICAgICAgICBjbGFzc05hbWUgPSAoY3NzQ2xhc3MpID8gKGNsYXNzTmFtZSArICcgJyArIGNzc0NsYXNzKSA6IGNsYXNzTmFtZTtcblxuICAgICAgICBfZ3JpZFJvdy5zZXRSb3dTdHlsZShjbGFzc05hbWUpO1xuICAgICAgICBfZ3JpZFJvdy5zZXRSb3dJZChwYXJzZUZsb2F0KHVuaXF1ZUlkKSk7XG4gICAgICAgIF9ncmlkUm93LnNldENlbGxzKGdyaWRDZWxscyk7XG4gICAgICAgIF9ncmlkUm93LnNldEFkZGl0aW9uYWxFbGVtZW50KGFkZGl0aW9uYWxDb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gX2dyaWRSb3c7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHJvdyBzdHlsZSB0byBhbWJlciBpZiB0aGUgcmVzcG9uc2UgaGFzIGJsb2NraW5nIGV4Y2VwdGlvbnMgb3Igb3RoZXIgcmVhc29uc1xuICAgICAqIEBwYXJhbSB7SW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+fSByZXNwb25zZVN0YXR1cyBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBcbiAgICAgKiBAbWVtYmVyb2YgU3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXJCYXNlXG4gICAgICovXG4gICAgcHVibGljIHNldFJvd1N0eWxlKHJlc3BvbnNlU3RhdHVzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4sIG92ZXJDbGFzc2lmaWVkOiBib29sZWFuKTogc3RyaW5nIHtcblxuICAgICAgICAvLyBDaGVjayB3aGV0ZWhyIHRoZSBjbGFzc2lmY2F0aW9uIHR5cGUgZXhjZWVkZWQgdGhlIGN1cnJlbnQgdGFyZ2V0LFxuICAgICAgICAvLyBpZiBzbyBoaWdobGlnaHQgdGhlIGV4Y2VlZGVkIGxhc3Qgcm93cyB3aXRoIGFtYmVyIGNvbG9yLlxuICAgICAgICBpZiAoKHJlc3BvbnNlU3RhdHVzICYmIChyZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNFeGNlcHRpb24pIHx8XG4gICAgICAgICAgICByZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNab25pbmdFeGNlcHRpb24pIHx8XG4gICAgICAgICAgICByZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxQYWdlc0Fubm90YXRlZCkgfHxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtDaGFuZ2VSZWFzb25Ob3RFeGlzdCkgfHxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLnN1cGVydmlzb3JSZW1hcmtEZWNpc2lvbk5vdFNlbGVjdGVkKSB8fFxuICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMubm90QWxsRmlsZXNWaWV3ZWQpKSkgfHwgb3ZlckNsYXNzaWZpZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAncm93IHdhcm5pbmctYWxlcnQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICdyb3cnO1xuICAgICAgICB9XG4gICAgfVxuXG5cdC8qKlxuXHQgKiBHZW5lcmF0ZSBDZW50cmUgUm93IERlZmluaXRpb25cblx0ICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvbkNlbnRyZUxpc3Rcblx0ICovXG4gICAgcHVibGljIGdlbmVyYXRlQ2VudHJlUm93RGVmaW5pdGlvbihzdGFuZGFyZGlzYXRpb25DZW50cmVMaXN0OiBTdGFuZGFyZGlzYXRpb25DZW50cmVEZXRhaWxzTGlzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBkeW5hbWljIGhlYWRlcnMgZm9yIHF1ZXN0aW9uc1xuICAgICAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25SZXNwb25zZUxpc3REYXRhIFxuICAgICAqIEBwYXJhbSBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb24gXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldER5bmFtaWNIZWFkZXJzRm9yTWFya3Moc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VMaXN0RGF0YTogYW55LFxuICAgICAgICBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb246IEFycmF5PGdyaWRDZWxsPik6IEFycmF5PGdyaWRDZWxsPiB7XG4gICAgICAgIC8vIEdldCB0aGUgU3RhbmRhcmRpc2F0aW9uIG1hcmtzIGZvciB0aGUgcmVzcG9uc2UgaWYgZXhpc3QuXG4gICAgICAgIGxldCBfc3RkTWFya3NEYXRhID0gc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VMaXN0RGF0YS5maXJzdCgpLnN0YW5kYXJkaXNhdGlvbk1hcmtzO1xuICAgICAgICBsZXQgcXVlc3Rpb25zQ291bnQ6IGFueSA9IF9zdGRNYXJrc0RhdGEubGVuZ3RoO1xuICAgICAgICBsZXQgX2NlbGw6IGdyaWRDZWxsO1xuXG4gICAgICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYWNoIHF1ZXN0aW9ucyBhbmQgZ2V0IHRoZSBkaXNwbGF5IGxhYmVsLlxuICAgICAgICBmb3IgKGxldCBxdWVzdGlvbkl0ZW1Db3VudCA9IDA7IHF1ZXN0aW9uSXRlbUNvdW50IDwgcXVlc3Rpb25zQ291bnQ7IHF1ZXN0aW9uSXRlbUNvdW50KyspIHtcbiAgICAgICAgICAgIF9jZWxsID0gbmV3IGdyaWRDZWxsKCk7XG5cbiAgICAgICAgICAgIGxldCBoZWFkZXJUZXh0ID0gX3N0ZE1hcmtzRGF0YVtxdWVzdGlvbkl0ZW1Db3VudF0uZGlzcGxheUxhYmVsO1xuICAgICAgICAgICAgbGV0IF9jb21wYXJlck5hbWUgPSAnJztcblxuICAgICAgICAgICAgaGVhZGVyVGV4dCA9IChoZWFkZXJUZXh0ICYmIGhlYWRlclRleHQgIT09ICcnKSA/IGhlYWRlclRleHQgOiAnJztcbiAgICAgICAgICAgIGxldCBrZXkgPSAnY29sdW1uSGVhZGVyXycgKyBxdWVzdGlvbkl0ZW1Db3VudDtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIHF1ZXN0aW9uIGhlYWRlciBlbGVtZW50IGZvciBlYWNoIHF1ZXN0aW9uLlxuICAgICAgICAgICAgX2NlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0Q29sdW1uSGVhZGVyRWxlbWVudChcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgaGVhZGVyVGV4dCxcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgX2NlbGwuaXNIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIF9jZWxsLmNvbXBhcmVyTmFtZSA9IF9jb21wYXJlck5hbWU7XG4gICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gJ2NvbC1xdWVzdGlvbi1pdGVtJztcbiAgICAgICAgICAgIF9jZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cbiAgICAgICAgICAgIF9jb2x1bW5IZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9jZWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfY29sdW1uSGVhZGVyQ2VsbGNvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IER5bmFtaWMgVmFsdWUgRm9yIE1hcmtzXG4gICAgICogQHBhcmFtIGdyaWRTZXFcbiAgICAgKiBAcGFyYW0gc3RkUmVzcG9uc2VEYXRhXG4gICAgICogQHBhcmFtIF9zdGRSb3dIZWFkZXJDZWxsY29sbGVjdGlvblxuICAgICAqIEBwYXJhbSBpbmRleCBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0RHluYW1pY1ZhbHVlRm9yTWFya3Moc3RkUmVzcG9uc2VEYXRhOiBhbnksXG4gICAgICAgIF9zdGRSb3dIZWFkZXJDZWxsY29sbGVjdGlvbjogQXJyYXk8Z3JpZENlbGw+LCBpbmRleDogbnVtYmVyKTogQXJyYXk8Z3JpZENlbGw+IHtcblxuICAgICAgICBsZXQgX3N0ZEdyaWRDZWxsOiBncmlkQ2VsbDtcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuXG4gICAgICAgIC8vIEdldCB0aGUgU3RhbmRhcmRpc2F0aW9uIG1hcmtzIGZvciB0aGUgcmVzcG9uc2UgaWYgZXhpc3QuXG4gICAgICAgIGxldCBzdGRNYXJrcyA9IHN0ZFJlc3BvbnNlRGF0YS5zdGFuZGFyZGlzYXRpb25NYXJrcztcbiAgICAgICAgbGV0IG5vT2ZRdWVzdGlvbnMgPSBzdGRNYXJrcy5sZW5ndGg7XG4gICAgICAgIGxldCBtYXJrOiBzdHJpbmc7XG4gICAgICAgIGxldCB1c2VkSW5Ub3RhbDogYm9vbGVhbjtcblxuICAgICAgICAvLyBHZXR0aW5nIHRoZSBNYXJrcyBEYXRhXG4gICAgICAgIGZvciAobGV0IHF1ZXN0aW9uSXRlbUNvdW50ID0gMDsgcXVlc3Rpb25JdGVtQ291bnQgPCBub09mUXVlc3Rpb25zOyBxdWVzdGlvbkl0ZW1Db3VudCsrKSB7XG4gICAgICAgICAgICBfc3RkR3JpZENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19RdWVzdGlvbnNfJyArIHF1ZXN0aW9uSXRlbUNvdW50O1xuICAgICAgICAgICAgbWFyayA9IGlzTmFOKHBhcnNlSW50KHN0ZE1hcmtzW3F1ZXN0aW9uSXRlbUNvdW50XS5tYXJrLnRvU3RyaW5nKCkpKSA/XG4gICAgICAgICAgICAgICAgc3RkTWFya3NbcXVlc3Rpb25JdGVtQ291bnRdLm1hcmsgOiBwYXJzZUludChzdGRNYXJrc1txdWVzdGlvbkl0ZW1Db3VudF0ubWFyay50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHVzZWRJblRvdGFsID0gc3RkTWFya3NbcXVlc3Rpb25JdGVtQ291bnRdLnVzZWRJblRvdGFsO1xuICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldE1hcmtzQ29sdW1uKG1hcmssIGtleSwgdXNlZEluVG90YWwpO1xuICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmlzSGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gJ2NvbC1xdWVzdGlvbi1pdGVtJztcbiAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgIF9zdGRSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRHcmlkQ2VsbCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3N0ZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjcmVhdGUgRnJvemVuIEJvZHkgRGF0YSBmb3IgZGlmZmVyZW50IHN0ZCB3b3JrbGlzdHMuXG4gICAgICogQHBhcmFtIHN0ZFJlc3BvbnNlRGF0YVxuICAgICAqIEBwYXJhbSBncmlkU2VxXG4gICAgICogQHBhcmFtIGdyaWRUeXBlXG4gICAgICovXG4gICAgcHVibGljIGdldEZyb3plblJvd0RhdGEoc3RkUmVzcG9uc2VEYXRhOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMsXG4gICAgICAgIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSwgZ3JpZENvbHVtbnM6IGFueSwgaW5kZXg6IG51bWJlciwgb3ZlckNsYXNzaWZpZWQ6IGJvb2xlYW4pOiBncmlkUm93IHtcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuICAgICAgICBsZXQgY2VsbFN0eWxlOiBzdHJpbmc7XG4gICAgICAgIGxldCBfc3RkUmVzcG9uc2VDb2x1bW46IGFueTtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xuICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcbiAgICAgICAgbGV0IHN1Ym1pdFJlc3BvbnNlOiBzdWJtaXRIZWxwZXIgPSBuZXcgc3VibWl0SGVscGVyKCk7XG4gICAgICAgIGxldCByZXNwb25zZVN0YXR1c2VzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4gPVxuICAgICAgICAgICAgc3VibWl0UmVzcG9uc2Uuc3VibWl0QnV0dG9uVmFsaWRhdGUoc3RkUmVzcG9uc2VEYXRhLCBzdGRSZXNwb25zZURhdGEubWFya2luZ1Byb2dyZXNzLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgIC8vIFNldCByaWcgb3JkZXIgYXMgXCJTZWVkXCIgZm9yIHNlZWQgcmVzcG9uc2VzLlxuICAgICAgICBsZXQgaXNTZWVkOiBib29sZWFuID0gKHN0ZFJlc3BvbnNlRGF0YS5tYXJraW5nTW9kZUlkID09PSBlbnVtcy5NYXJraW5nTW9kZS5TZWVkaW5nKTtcblxuICAgICAgICAvLyBHZXR0aW5nIHRoZSBTVEQgd29ya2xpc3QgY29sdW1uc1xuICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xuICAgICAgICAgICAgX3N0ZFJlc3BvbnNlQ29sdW1uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5HcmlkQ29sdW1uO1xuICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcbiAgICAgICAgICAgIC8vU3dpdGNoIHN0YXRlbWVudCBmb3IgYWRkaW5nIGZyb3plbiBjb2x1bW5zIGluIGZ1dHVyZS5cbiAgICAgICAgICAgIHN3aXRjaCAoX3N0ZFJlc3BvbnNlQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmlnT3JkZXJDb2x1bW46XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19SaWdPcmRlckNvbHVtbl8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gJ2RpbS10ZXh0IHNtYWxsLXRleHQgY2xhc3NpZnktaW5kZXgnO1xuICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFJJR09yZGVyQ29sdW1uRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VlZCA/ICdTZWVkJyA6IHN0ZFJlc3BvbnNlRGF0YS5yaWdPcmRlci50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNlbGxTdHlsZSA9ICdjb2wtc3RkLWNsYXNzaWZ5LWl0ZW1zIGhlYWRlci1jb2wnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlJlc3BvbnNlSWRDb2x1bW46XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19SZXNwb25zZUlkQ29sdW1uXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0UmVzcG9uc2VJZENvbHVtbkVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNlbGxTdHlsZSA9ICdjb2wtcmVzcG9uc2UgaGVhZGVyLWNvbCc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3N0ZFdvcmtMaXN0Q2VsbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gdGhlIHRhYmxlIHJvdy5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R3JpZFJvdyhzdGRSZXNwb25zZURhdGEuZGlzcGxheUlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbixcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzZXMsXG4gICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIHJldHVybiB1ZnJvemVuIHJvdyBkYXRhIGZvciBkaWZmZXJlbnQgdHlwZS5cbiAgICAgKiBAcGFyYW0gc3RkUmVzcG9uc2VMaXN0RGF0YVxuICAgICAqIEBwYXJhbSBncmlkQ29sdW1uc1xuICAgICAqIEBwYXJhbSBncmlkU2VxXG4gICAgICogQHBhcmFtIGdyaWRUeXBlXG4gICAgICovXG4gICAgcHVibGljIGdldFJvd0RhdGEoc3RkUmVzcG9uc2VMaXN0RGF0YTogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPixcbiAgICAgICAgZ3JpZENvbHVtbnM6IGFueSwgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlLCBpbmRleDogbnVtYmVyLCBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGU6IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwKTogQXJyYXk8Z3JpZFJvdz4ge1xuICAgICAgICBsZXQgc3RkR3JpZFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xuICAgICAgICBsZXQgc3VibWl0UmVzcG9uc2U6IHN1Ym1pdEhlbHBlciA9IG5ldyBzdWJtaXRIZWxwZXIoKTtcblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggZWFjaCByZXNwb25zZVxuICAgICAgICBzdGRSZXNwb25zZUxpc3REYXRhLm1hcCgoc3RkUmVzcG9uc2VEYXRhOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMpID0+IHtcbiAgICAgICAgICAgIGxldCBzdGRHcmlkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcbiAgICAgICAgICAgIGxldCBfc3RkUmVzcG9uc2VDb2x1bW46IGFueTtcbiAgICAgICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcbiAgICAgICAgICAgIGxldCBfc3RkR3JpZENlbGw6IGdyaWRDZWxsO1xuICAgICAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPiA9XG4gICAgICAgICAgICAgICAgc3VibWl0UmVzcG9uc2Uuc3VibWl0QnV0dG9uVmFsaWRhdGUoc3RkUmVzcG9uc2VEYXRhLCBzdGRSZXNwb25zZURhdGEubWFya2luZ1Byb2dyZXNzLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgY29sdW1uc1xuICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbnMubGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xuICAgICAgICAgICAgICAgIF9zdGRSZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcblxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ29tcG9uZW50UHJvcHM7XG4gICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsID0gbmV3IGdyaWRDZWxsKCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfc3RkUmVzcG9uc2VDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU2NyaXB0SWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfU2NyaXB0SWRfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGVTY3JpcHRJZCA9ICcxJyArIHN0ZFJlc3BvbnNlRGF0YS5jYW5kaWRhdGVTY3JpcHRJZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVTY3JpcHRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX0NlbnRyZV8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEuY2VudHJlTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5DZW50cmVDYW5kaWRhdGVOdW06XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfQ2FuZGlkYXRlXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5jZW50cmVDYW5kaWRhdGVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk1hcmtzQ29sdW1uOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX01hcmtzXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0VG90YWxNYXJrRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEudG90YWxNYXJrVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxhc3RNYXJrZXJDb2x1bW46XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfTGFzdE1hcmtlcl8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdGb3JtYXRIZWxwZXIuZ2V0Rm9ybWF0dGVkRXhhbWluZXJOYW1lKHN0ZFJlc3BvbnNlRGF0YS5sYXN0TWFya2VySW5pdGlhbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5sYXN0TWFya2VyU3VybmFtZSksIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuTm90ZUNvbHVtbjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19Ob3RlXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBzdGRSZXNwb25zZURhdGEubm90ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQoc3RkUmVzcG9uc2VEYXRhLm5vdGUsIGtleSwgdGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxpbmtlZE1lc3NhZ2VJbmRpY2F0b3I6XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfTGlua2VkTWVzc2FnZV8nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldExpbmtlZE1lc3NhZ2VFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRhZ0luZGljYXRvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19UYWdJbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRUYWcoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS50YWdJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdTdG9yZS5pbnN0YW5jZS50YWdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5lc01hcmtHcm91cElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5tYXJraW5nTW9kZUlkXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkxhc3RVcGRhdGVkQ29sdW1uOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX0xhc3RVcGRhdGVkXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0TGFzdFVwZGF0ZWRFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlN0YXR1czpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzZXMgPSBzdWJtaXRSZXNwb25zZS5zdWJtaXRCdXR0b25WYWxpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGRSZXNwb25zZURhdGEsIHN0ZFJlc3BvbnNlRGF0YS5tYXJraW5nUHJvZ3Jlc3MsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfU3RhdHVzXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0TWFya2luZ1Byb2dyZXNzRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1c2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5EZUNsYXNzaWZ5Q29sdW1uOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhLnJvbGUucGVybWlzc2lvbnMuZGVjbGFzc2lmeSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmV0YWluUHJvdmlzaW9uYWxNYXJrc0NDT24oKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5zdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX0RlQ2xhc3NpZnlfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0RGVjbGFzc2lmeUJ1dHRvbkVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEZWNsYXNzaWZ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Nsb3NlLWljb24tbGluaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjbG9zZS1pY29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEuZGlzcGxheUlkLFxuXHRcdFx0XHRcdFx0XHRcdHN0ZFJlc3BvbnNlRGF0YS50b3RhbE1hcmtWYWx1ZSxcblx0XHRcdFx0XHRcdFx0XHRzdGRSZXNwb25zZURhdGEuY2FuZGlkYXRlU2NyaXB0SWQsXG5cdFx0XHRcdFx0XHRcdFx0c3RkUmVzcG9uc2VEYXRhLmVzQ2FuZGlkYXRlU2NyaXB0TWFya1NjaGVtZUdyb3VwSWQsXG5cdFx0XHRcdFx0XHRcdFx0c3RkUmVzcG9uc2VEYXRhLm1hcmtpbmdNb2RlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5yaWdPcmRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLmVzTWFya0dyb3VwUm93VmVyc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQWRkaW5nIHRoZSAnbGFzdC1jZWxsJyBjb2x1bW4gYXMgdGhpcyBjb2x1bW4gaXMgbm90IGFkZGVkIHRvIGNsYXNzaWZpZWQgd29ya2xzdCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX0RlQ2xhc3NpZnlfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5TTEFPSW5kaWNhdG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0U0xBT0luZGljYXRvckVsZW1lbnRGb3JTdGFuZGFyZGlzYXRpb25SZXNwb25zZXMoc3RkUmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkFsbFBhZ2VBbm5vdGVkSW5kaWNhdG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gaW5kZXggKyAnX0FsbFBhZ2VBbm5vdGF0ZWRfJyArIGdyaWRDb2x1bW5Db3VudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFubm90YXRpb24gaW5kaWNhdG9yIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuY29sdW1uRWxlbWVudCA9IHRoaXMuZ2V0QWxsUGFnZUFubm90YXRpb25JbmRpY2F0b3JFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5BbGxGaWxlc05vdFZpZXdlZEluZGljYXRvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19BbGxGaWxlc05vdFZpZXdlZF8nICsgZ3JpZENvbHVtbkNvdW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYW5ub3RhdGlvbiBpbmRpY2F0b3IgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRBbGxGaWxlc05vdFZpZXdlZEluZGljYXRvckVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BzSnNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmlzSGlkZGVuID0gdGhpcy5nZXRDZWxsVmlzaWJpbGl0eShfc3RkUmVzcG9uc2VDb2x1bW4pO1xuICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzXG4gICAgICAgICAgICAgICAgICAgID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzc1xuICAgICAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgICAgICBzdGRHcmlkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfc3RkR3JpZENlbGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgaW5kaXZpZHVhbCBxdWVzdGlvbidzIG1hcmtzIGlmIE1hcmsgYnkgcXVlc3Rpb24gdmlldy5cbiAgICAgICAgICAgIGlmIChncmlkVHlwZSA9PT0gZW51bXMuR3JpZFR5cGUubWFya0J5UXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICBzdGRHcmlkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24uY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldER5bmFtaWNWYWx1ZUZvck1hcmtzKFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RkR3JpZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RkU2V0dXBQZXJtaXNzaW9uQ0NEYXRhICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YS5yb2xlLnBlcm1pc3Npb25zLmRlY2xhc3NpZnkpICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNSZXRhaW5Qcm92aXNpb25hbE1hcmtzQ0NPbigpICYmXG4gICAgICAgICAgICAgICAgICAgICFxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5zdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBpbmRleCArICdfRGVDbGFzc2lmeV8nICsgc3RkR3JpZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXREZWNsYXNzaWZ5QnV0dG9uRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdEZWNsYXNzaWZ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdjbG9zZS1pY29uLWxpbmsnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Nsb3NlLWljb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLmRpc3BsYXlJZCxcblx0XHRcdFx0XHRcdHN0ZFJlc3BvbnNlRGF0YS50b3RhbE1hcmtWYWx1ZSxcblx0XHRcdFx0XHRcdHN0ZFJlc3BvbnNlRGF0YS5jYW5kaWRhdGVTY3JpcHRJZCxcblx0XHRcdFx0XHRcdHN0ZFJlc3BvbnNlRGF0YS5lc0NhbmRpZGF0ZVNjcmlwdE1hcmtTY2hlbWVHcm91cElkLFxuXHRcdFx0XHRcdFx0c3RkUmVzcG9uc2VEYXRhLm1hcmtpbmdNb2RlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEucmlnT3JkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGRSZXNwb25zZURhdGEuZXNNYXJrR3JvdXBSb3dWZXJzaW9uXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5pc0hpZGRlbiA9IHRoaXMuZ2V0Q2VsbFZpc2liaWxpdHkoX3N0ZFJlc3BvbnNlQ29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9ICdsYXN0LWNlbGwgY29sLWRlY2xhc3NpZnknO1xuICAgICAgICAgICAgICAgICAgICBfc3RkR3JpZENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0ZEdyaWRSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRHcmlkQ2VsbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy9BZGRpbmcgdGhlICdsYXN0LWNlbGwnIGNvbHVtbiBhcyB0aGlzIGNvbHVtbiBpcyBub3QgYWRkZWQgdG8gY2xhc3NpZmllZCB3b3JrbHN0IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsID0gbmV3IGdyaWRDZWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGluZGV4ICsgJ19EZUNsYXNzaWZ5XycgKyBzdGRHcmlkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgICAgICAgX3N0ZEdyaWRDZWxsLmlzSGlkZGVuID0gdGhpcy5nZXRDZWxsVmlzaWJpbGl0eShfc3RkUmVzcG9uc2VDb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gJ2xhc3QtY2VsbCc7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRHcmlkQ2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgc3RkR3JpZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3N0ZEdyaWRDZWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHdoZXRlaHIgdGhlIGNsYXNzaWZjYXRpb24gdHlwZSBleGNlZWRlZCB0aGUgY3VycmVudCB0YXJnZXQsXG4gICAgICAgICAgICAvLyBpZiBzbyBoaWdobGlnaHQgdGhlIGV4Y2VlZGVkIGxhc3Qgcm93cyB3aXRoIGFtYmVyIGNvbG9yLlxuICAgICAgICAgICAgLy8gQXBwbGljYWJsZSBmb3IgQ2xhc3NpZmllZCBXb3JrbGlzdFxuICAgICAgICAgICAgbGV0IG92ZXJDbGFzc2lmaWVkOiBib29sZWFuID1cbiAgICAgICAgICAgICAgICB0aGlzLmlzU1NVVGFyZ2V0c092ZXJDbGFzc2lmaWVkKHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSwgc3RkUmVzcG9uc2VEYXRhLm1hcmtpbmdNb2RlSWQsIHN0ZFJlc3BvbnNlRGF0YS5yaWdPcmRlcik7XG5cbiAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgc3RkR3JpZFJvd0NvbGxlY3Rpb24ucHVzaChcbiAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXG4gICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGF0YS5kaXNwbGF5SWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc3RkR3JpZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXNlcyxcbiAgICAgICAgICAgICAgICAgICAgb3ZlckNsYXNzaWZpZWQpKTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJldHVybiB0aGUgU1REIFNldCB1cCByb3cgY29sbGVjdGlvbiBmb3IgVW5mcm96ZW4gZGF0YS5cbiAgICAgICAgcmV0dXJuIHN0ZEdyaWRSb3dDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgUklHIE9yZGVyIENvbHVtbiBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gc2VxXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZVxuICAgICAqIEBwYXJhbSBjbGFzc2lmaWNhdGlvblR5cGVcbiAgICAgKiBAcGFyYW0gcmlnT3JkZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UklHT3JkZXJDb2x1bW5FbGVtZW50KFxuICAgICAgICBzZXE6IHN0cmluZyxcbiAgICAgICAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gICAgICAgIGNsYXNzaWZpY2F0aW9uVHlwZT86IGVudW1zLk1hcmtpbmdNb2RlLFxuICAgICAgICByaWdPcmRlcj86IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG5cbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlcSxcbiAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICBjbGFzc2lmaWNhdGlvblR5cGU6IGNsYXNzaWZpY2F0aW9uVHlwZSxcbiAgICAgICAgICAgIHJpZ09yZGVyOiByaWdPcmRlcixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJpZ09yZGVyLCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG5cdC8qKlxuXHQgKiBjcmVhdGluZyByZWFjdCBlbGVtZW50IGZvciB0aGUgIGdldFNMQU9JbmRpY2F0b3JFbGVtZW50IGNvbXBvbmVudFxuXHQgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlsc1xuXHQgKiBAcGFyYW0gcHJvcHNOYW1lc1xuXHQgKiBAcGFyYW0gc2VxXG5cdCAqIEBwYXJhbSBzaG93TWFya2luZ1Byb2dyZXNzXG5cdCAqIEBwYXJhbSBpc1RpbGVWaWV3XG5cdCAqL1xuICAgIHB1YmxpYyBnZXRTTEFPSW5kaWNhdG9yRWxlbWVudChzdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzOiBTdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzLFxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXG4gICAgICAgIHNlcTogc3RyaW5nLFxuICAgICAgICBzaG93TWFya2luZ1Byb2dyZXNzOiBib29sZWFuLFxuICAgICAgICBpc1RpbGVWaWV3OiBib29sZWFuID0gdHJ1ZSk6IEpTWC5FbGVtZW50IHtcblxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlcSxcbiAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGUsXG4gICAgICAgICAgICBpc1Jlc3BvbnNlSGFzU0xBTzogc3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlscy5oYXNBZGRpdGlvbmFsT2JqZWN0cyxcbiAgICAgICAgICAgIGlzQWxsQW5ub3RhdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGlzTWFya2luZ0NvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICBpc1RpbGVWaWV3OiBpc1RpbGVWaWV3LFxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWQ6IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoc2xhb0Fubm90YXRpb25JbmRpY2F0b3IsIGNvbXBvbmVudFByb3BzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXR0aW5nIFNMQU8gSW5kaWNhdG9yIEVsZW1lbnQgZm9yIFN0YW5kYXJkaXNhdGlvbiBSZXNwb25zZXNcbiAgICAgKiBAcGFyYW0ge1N0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlsc30gc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzIFxuICAgICAqIEBwYXJhbSB7Kn0gcHJvcHNOYW1lcyBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VxIFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvd01hcmtpbmdQcm9ncmVzcyBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1RpbGVWaWV3PXRydWVdIFxuICAgICAqIEByZXR1cm5zIHtKU1guRWxlbWVudH0gXG4gICAgICogQG1lbWJlcm9mIFN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyQmFzZVxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0U0xBT0luZGljYXRvckVsZW1lbnRGb3JTdGFuZGFyZGlzYXRpb25SZXNwb25zZXMoc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMsXG4gICAgICAgIHByb3BzTmFtZXM6IGFueSxcbiAgICAgICAgc2VxOiBzdHJpbmcsXG4gICAgICAgIHNob3dNYXJraW5nUHJvZ3Jlc3M6IGJvb2xlYW4sXG4gICAgICAgIGlzVGlsZVZpZXc6IGJvb2xlYW4gPSB0cnVlKTogSlNYLkVsZW1lbnQge1xuXG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U6IGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZSxcbiAgICAgICAgICAgIGlzUmVzcG9uc2VIYXNTTEFPOiBzdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMuaGFzQWRkaXRpb25hbE9iamVjdHMsXG4gICAgICAgICAgICBpc0FsbEFubm90YXRlZDogc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzLmhhc0FsbFBhZ2VzQW5ub3RhdGVkLFxuICAgICAgICAgICAgaXNNYXJraW5nQ29tcGxldGVkOiAoKHNob3dNYXJraW5nUHJvZ3Jlc3MgPyBzdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMubWFya2luZ1Byb2dyZXNzIDogMTAwKSA9PT0gMTAwKSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgIGlzVGlsZVZpZXc6IGlzVGlsZVZpZXcsXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChzbGFvQW5ub3RhdGlvbkluZGljYXRvciwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuXHQvKipcblx0ICogQ3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBNYXJraW5nUHJvZ3Jlc3MgY29tcG9uZW50LlxuXHQgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzXG5cdCAqIEBwYXJhbSBwcm9wc05hbWVzXG5cdCAqIEBwYXJhbSBzZXFcblx0ICogQHBhcmFtIHJlc3BvbnNlU3RhdHVzZXNcblx0ICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwXG5cdCAqL1xuICAgIHByaXZhdGUgZ2V0TWFya2luZ1Byb2dyZXNzRWxlbWVudChzdGFuZGFyZGlzYXRpb25SZXNwb25zZXM6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscyxcbiAgICAgICAgcHJvcHNOYW1lczogYW55LFxuICAgICAgICBzZXE6IHN0cmluZyxcbiAgICAgICAgcmVzcG9uc2VTdGF0dXNlczogSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+LFxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cDogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXApOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzOiByZXNwb25zZVN0YXR1c2VzLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlcy5tYXJraW5nUHJvZ3Jlc3MsXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGUsXG4gICAgICAgICAgICBtYXJrR3JvdXBJZDogc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzLmVzTWFya0dyb3VwSWQsXG5cdFx0XHRpc1N1Ym1pdERpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVGFiOiBzdGFuZGFyZGlzYXRpb25TZXR1cCxcbiAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGV0YWlsczogc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KE1hcmtpbmdQcm9ncmVzcywgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIEFsbFBhZ2VBbm5vdGF0aW9uSW5kaWNhdG9yIHdoZW4gdGhlIENDIGlzIG9uIGFuZCBtYXJraW5nIGlzIGNvbXBsZXRlZFxuICAgICAqIGJsb2NraW5nIHN1Ym1pc3Npb24uXG4gICAgICogQHBhcmFtIHtSZXNwb25zZUJhc2V9IHJlc3BvbnNlRGF0YVxuICAgICAqIEBwYXJhbSB7YW55fSBwcm9wc05hbWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlcVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRBbGxQYWdlQW5ub3RhdGlvbkluZGljYXRvckVsZW1lbnRcbiAgICAgICAgKHJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzLFxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXG4gICAgICAgIHNlcTogc3RyaW5nLFxuICAgICAgICBzaG93TWFya2luZ1Byb2dyZXNzOiBib29sZWFuID0gdHJ1ZSk6IEpTWC5FbGVtZW50IHtcblxuICAgICAgICBsZXQgaXNGb3JjZUFubm90YXRpb25DQ09uID0gdGhpcy5nZXRDQ1ZhbHVlKGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsXG4gICAgICAgICAgICByZXNwb25zZURhdGEubWFya1NjaGVtZUdyb3VwSWQpO1xuICAgICAgICBsZXQgbWFya2luZ1Byb2dyZXNzID0gcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMubWFya2luZ1Byb2dyZXNzXTtcblxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHNob3cgdGhpcyBpbiB0aWxlIHZpZXcgb25seSBpZiB3ZSAxMDAlIG1hcmtlZCByZXNwb25zZXMgYW5kXG4gICAgICAgIC8vIGFsbCBwYWdlIGFubm90YXRpb24gY2MgaXMgb24uXG4gICAgICAgIGlmIChpc0ZvcmNlQW5ub3RhdGlvbkNDT24gPT09ICd0cnVlJyAmJiBtYXJraW5nUHJvZ3Jlc3MgPT09IDEwMCkge1xuXG4gICAgICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxuICAgICAgICAgICAgICAgIGlzQWxsQW5ub3RhdGVkOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5oYXNBbGxQYWdlc0Fubm90YXRlZF0sXG4gICAgICAgICAgICAgICAgaXNNYXJraW5nQ29tcGxldGVkOiAoKHNob3dNYXJraW5nUHJvZ3Jlc3MgPyByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5tYXJraW5nUHJvZ3Jlc3NdIDogMTAwKSA9PT0gMTAwKSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1RpbGVWaWV3OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogcmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgYWxsUGFnZUVsZW1lbnQgPSBJbW11dGFibGUuTGlzdDxKU1guRWxlbWVudD4oW1JlYWN0LmNyZWF0ZUVsZW1lbnQoYWxsUGFnZUFubm90YXRpb25JbmRpY2F0b3IsIGNvbXBvbmVudFByb3BzKV0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0V3JhcHBlZENvbHVtbihhbGxQYWdlRWxlbWVudCwgJ2NvbCB3bC1zbGFvLWhvbGRlcicsIHNlcSArICd3cmFwcGVkJykuY29sdW1uRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBnZXRBbGxQYWdlQW5ub3RhdGVkSW5kaWNhdG9yRWxlbWVudCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VEYXRhIC0gcmVzcG9uc2UgZGF0YVxuICAgICAqIEBwYXJhbSBwcm9wc05hbWVzIC0gcHJvcCBuYW1lcyBmb3IgdGhlIGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSBzZXEgLSBrZXkgdmFsdWUgZm9yIHRoZSBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gc2hvd01hcmtpbmdQcm9ncmVzcyAtIGtleSB2YWx1ZSBmb3IgdGhlIGNvbXBvbmVudFxuICAgICAqIEByZXR1cm5zIEpTWC5FbGVtZW50LlxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0QWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3JFbGVtZW50KHJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzLFxuICAgICAgICBwcm9wc05hbWVzOiBhbnksXG4gICAgICAgIHNlcTogc3RyaW5nKTogSlNYLkVsZW1lbnQge1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBrZXk6IHNlcSxcbiAgICAgICAgICAgIGlkOiBzZXEsXG4gICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGUsXG4gICAgICAgICAgICBhbGxGaWxlc1ZpZXdlZDogcmVzcG9uc2VEYXRhW3Byb3BzTmFtZXMuYWxsRmlsZXNWaWV3ZWRdLFxuICAgICAgICAgICAgaXNNYXJraW5nQ29tcGxldGVkOiByZXNwb25zZURhdGFbcHJvcHNOYW1lcy5tYXJraW5nUHJvZ3Jlc3NdID09PSAxMDAgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICBpc1RpbGVWaWV3OiBmYWxzZSxcbiAgICAgICAgICAgIGlzRUNvdXJzZXdvcmtDb21wb25lbnQ6IGVDb3Vyc2V3b3JrSGVscGVyLmlzRUNvdXJzZXdvcmtDb21wb25lbnRcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChhbGxGaWxlc05vdFZpZXdlZEluZGljYXRvciwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNyZWF0aW5nIHJlYWN0IGVsZW1lbnQgZm9yIHRoZSAgU2hhcmVkIFJlc3BvbnNlIEluZGljYXRvciBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gc3RkUmVzcG9uc2VEYXRhXG4gICAgICogQHBhcmFtIHNlcVxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0U2hhcmVkUmVzcG9uc2VJbmRpY2F0b3JFbGVtZW50KGlzU2hhcmVkUHJvdmlzaW9uYWw6IGJvb2xlYW4sXG4gICAgICAgIHNlcTogc3RyaW5nLFxuICAgICAgICApOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wczogYW55O1xuICAgICAgICBjb21wb25lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIGtleTogc2VxLFxuICAgICAgICAgICAgaWQ6IHNlcSxcbiAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U6IGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZSxcbiAgICAgICAgICAgIGlzU2hhcmVkUHJvdmlzaW9uYWw6IGlzU2hhcmVkUHJvdmlzaW9uYWxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoc2hhcmVkUmVzcG9uc2VJbmRpY2F0b3JFbGVtZW50LCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY3JlYXRpbmcgcmVhY3QgZWxlbWVudCBmb3IgdGhlICBTaGFyZWQgUmVzcG9uc2UgSW5kaWNhdG9yIGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSBzdGRSZXNwb25zZURhdGFcbiAgICAgKiBAcGFyYW0gc2VxXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc0NvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uT24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRDQ1ZhbHVlKGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkNvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uLFxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCByZXN0cmljdGVkIENsYXNzaWZpY2F0aW9uIHR5cGVzXG4gICAgICogd2hpY2ggc2hvdWxkIGJlIGhpZ2hsaWdodGVkIGFzIGFtYmVyIHdoZW4gb3ZlciBjbGFzc2lmaWVkLlxuICAgICAqIEBwYXJhbSBtYXJrU2NoZW1lR3JvdXBJZFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRSZXN0cmljdGVkU1NVVGFyZ2V0KG1hcmtTY2hlbWVHcm91cElkOiBudW1iZXIpOiBpbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4ge1xuICAgICAgICBsZXQgcmVzdHJpY3RTU1VUYXJnZXRzQ0NWYWx1ZSA9XG4gICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZSgnUmVzdHJpY3RTdGFuZGFyZGlzYXRpb25TZXR1cFRhcmdldHMnLCBtYXJrU2NoZW1lR3JvdXBJZCk7XG5cbiAgICAgICAgaWYgKHJlc3RyaWN0U1NVVGFyZ2V0c0NDVmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICBsZXQgeG1sSGVscGVyT2JqID0gbmV3IHhtbEhlbHBlcihyZXN0cmljdFNTVVRhcmdldHNDQ1ZhbHVlKTtcbiAgICAgICAgICAgIGxldCByZXN0cmljdGVkVGFyZ2V0Tm9kZXMgPSB4bWxIZWxwZXJPYmouZ2V0QWxsQ2hpbGROb2RlcygpO1xuICAgICAgICAgICAgbGV0IHJlc3RyaWN0ZWRUYXJnZXRzOiBpbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4gPSBpbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4oKTtcbiAgICAgICAgICAgIGlmIChyZXN0cmljdGVkVGFyZ2V0Tm9kZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgdGFyZ2V0cyB3aGljaCBhcmUgcmVzdHJpY3RlZC4gZXhjbHVkZSBzZWVkLlxuICAgICAgICAgICAgICAgIGZvciAodmFyIG5vZGUgPSAwOyBub2RlIDwgcmVzdHJpY3RlZFRhcmdldE5vZGVzLmxlbmd0aDsgbm9kZSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVzdHJpY3RlZFRhcmdldE5vZGVzW25vZGVdLmZpcnN0Q2hpbGQubm9kZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdQcmFjdGljZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdHJpY3RlZFRhcmdldHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4ocmVzdHJpY3RlZFRhcmdldHMuY29uY2F0KGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdTdGFuZGFyZGlzYXRpb24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RyaWN0ZWRUYXJnZXRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1tdXRhYmxlLkxpc3Q8ZW51bXMuTWFya2luZ01vZGU+KHJlc3RyaWN0ZWRUYXJnZXRzLmNvbmNhdChlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnU1RNU3RhbmRhcmRpc2F0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN0cmljdGVkVGFyZ2V0cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltbXV0YWJsZS5MaXN0PGVudW1zLk1hcmtpbmdNb2RlPihyZXN0cmljdGVkVGFyZ2V0cy5jb25jYXQoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3RyaWN0ZWRUYXJnZXRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBTdGFuZGFyZGlzYXRpb24gU2V0dXAgUmVxdWlyZWQgVGFyZ2V0c1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTdGFuZGFyZGlzYXRpb25TZXR1cFJlcXVpcmVkVGFyZ2V0cygpOiBJbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4ge1xuICAgICAgICBsZXQgc3RhbmRhcmRpc2F0aW9uU2V0dXBSZXF1aXJlZFRhcmdldHNDQ1ZhbHVlID1cbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKCdTdGFuZGFyZGlzYXRpb25TZXR1cFJlcXVpcmVkVGFyZ2V0cycpO1xuXG4gICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cFJlcXVpcmVkVGFyZ2V0c0NDVmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICBsZXQgeG1sSGVscGVyT2JqID0gbmV3IHhtbEhlbHBlcihzdGFuZGFyZGlzYXRpb25TZXR1cFJlcXVpcmVkVGFyZ2V0c0NDVmFsdWUpO1xuICAgICAgICAgICAgbGV0IHJlcXVpcmVkVGFyZ2V0Tm9kZXMgPSB4bWxIZWxwZXJPYmouZ2V0QWxsQ2hpbGROb2RlcygpO1xuICAgICAgICAgICAgbGV0IHJlcXVpcmVkVGFyZ2V0czogSW1tdXRhYmxlLkxpc3Q8ZW51bXMuTWFya2luZ01vZGU+ID0gSW1tdXRhYmxlLkxpc3Q8ZW51bXMuTWFya2luZ01vZGU+KCk7XG4gICAgICAgICAgICBpZiAocmVxdWlyZWRUYXJnZXROb2Rlcykge1xuICAgICAgICAgICAgICAgIC8vIGdldCB0YXJnZXRzIHdoaWNoIGFyZSByZXN0cmljdGVkLiBleGNsdWRlIHNlZWQuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbm9kZSA9IDA7IG5vZGUgPCByZXF1aXJlZFRhcmdldE5vZGVzLmxlbmd0aDsgbm9kZSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlZFRhcmdldE5vZGVzW25vZGVdLmZpcnN0Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVxdWlyZWRUYXJnZXROb2Rlc1tub2RlXS5maXJzdENoaWxkLm5vZGVWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1ByYWN0aWNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRUYXJnZXRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEltbXV0YWJsZS5MaXN0PGVudW1zLk1hcmtpbmdNb2RlPihyZXF1aXJlZFRhcmdldHMuY29uY2F0KGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1N0YW5kYXJkaXNhdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkVGFyZ2V0cyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4ocmVxdWlyZWRUYXJnZXRzLmNvbmNhdChlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdTVE1TdGFuZGFyZGlzYXRpb24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFRhcmdldHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW1tdXRhYmxlLkxpc3Q8ZW51bXMuTWFya2luZ01vZGU+KHJlcXVpcmVkVGFyZ2V0cy5jb25jYXQoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXF1aXJlZFRhcmdldHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgc3BlY2lmaWVkIHRhcmdldCBvdjNlcmNsYXNzaWZpZWRcbiAgICAgKiBAcGFyYW0gdGFiU2VsZWN0aW9uXG4gICAgICogQHBhcmFtIG1hcmtpbmdNb2RlXG4gICAgICogQHBhcmFtIHJpZ09yZGVyXG4gICAgICovXG4gICAgcHVibGljIGlzU1NVVGFyZ2V0c092ZXJDbGFzc2lmaWVkKHRhYlNlbGVjdGlvbjogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXG4gICAgICAgIG1hcmtpbmdNb2RlOiBlbnVtcy5NYXJraW5nTW9kZSwgcmlnT3JkZXI6IG51bWJlcik6IGJvb2xlYW4ge1xuXG4gICAgICAgIC8vIEhvbGQgdGhlIFJlc3RyaWN0ZWQgdGFyZ2V0cyB3aGljaCBzaG91bGQgYmUgaGlnaGxpZ2h0ZWQgd2hlbiBvdmVyIGNsYXNzaWZpZWQuXG4gICAgICAgIGxldCByZXN0cmljdGVkU1NVVGFyZ2V0cyA9XG4gICAgICAgICAgICB0aGlzLmdldFJlc3RyaWN0ZWRTU1VUYXJnZXQocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQpO1xuICAgICAgICBsZXQgY2xhc3NpZmljYXRpb25TdW1tYXJ5VGFyZ2V0RGV0YWlsczogSW1tdXRhYmxlLkxpc3Q8c3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlsPiA9XG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmNsYXNzaWZpY2F0aW9uU3VtbWFyeVRhcmdldERldGFpbHM7XG5cbiAgICAgICAgcmV0dXJuIHRhYlNlbGVjdGlvbiA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlICYmXG4gICAgICAgICAgICByZXN0cmljdGVkU1NVVGFyZ2V0cyAmJiByZXN0cmljdGVkU1NVVGFyZ2V0cy5jb250YWlucyhtYXJraW5nTW9kZSkgJiZcbiAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uU3VtbWFyeVRhcmdldERldGFpbHMuc29tZSh4ID0+IHgubWFya2luZ01vZGVJZCA9PT0gbWFya2luZ01vZGUgJiZcbiAgICAgICAgICAgICAgICB4Lm1hcmtpbmdNb2RlSWQgIT09IGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcgJiZcbiAgICAgICAgICAgICAgICB4LmNvdW50ID4geC50YXJnZXQgJiYgcmlnT3JkZXIgPiB4LnRhcmdldCk7XG4gICAgfVxufVxuZXhwb3J0ID0gU3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXJCYXNlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJzL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVyYmFzZS50cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBZ0JBO0FBRUE7QUFxeUJBOzs7Ozs7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcThCQTtBQTd5REE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7OztBQVFBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQU1BO0FBRUE7QUFHQTtBQUNBO0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFKQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOzs7Ozs7O0FBT0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTBFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7OztBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7Ozs7O0FBTUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQVFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFJQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7Ozs7OztBQU9BO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 296:
/* no static exports found */
/* all exports used */
/*!************************************************!*\
  !*** ./src/components/utility/grid/gridrow.ts ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Row Definition for Grid Compoent\r\n */\r\nvar GridRow = /** @class */ (function () {\r\n    function GridRow() {\r\n    }\r\n    /**\r\n     * returns the rowId\r\n     */\r\n    GridRow.prototype.getRowId = function () {\r\n        return this.rowId;\r\n    };\r\n    /**\r\n     * returns the cells\r\n     */\r\n    GridRow.prototype.getCells = function () {\r\n        return this.cells;\r\n    };\r\n    /**\r\n     * set the cells\r\n     */\r\n    GridRow.prototype.setCells = function (_cells) {\r\n        this.cells = _cells;\r\n    };\r\n    /**\r\n     * returns the rowStyle\r\n     */\r\n    GridRow.prototype.getRowStyle = function () {\r\n        return this.rowStyle;\r\n    };\r\n    /**\r\n     * set the rowStyle\r\n     */\r\n    GridRow.prototype.setRowStyle = function (_rowStyle) {\r\n        this.rowStyle = _rowStyle;\r\n    };\r\n    /**\r\n     * set the rowId\r\n     * @param rowId\r\n     */\r\n    GridRow.prototype.setRowId = function (rowId) {\r\n        this.rowId = rowId;\r\n    };\r\n    /**\r\n     * returns the rowTitle\r\n     */\r\n    GridRow.prototype.getRowTitle = function () {\r\n        return this.rowTitle;\r\n    };\r\n    /**\r\n     * returns the rowTitle\r\n     */\r\n    GridRow.prototype.setRowTitle = function (title) {\r\n        this.rowTitle = title;\r\n    };\r\n    /**\r\n     * returns the additional row Element\r\n     */\r\n    GridRow.prototype.getAdditionalElement = function () {\r\n        return this.additionalElement;\r\n    };\r\n    /**\r\n     * returns the additional row Element\r\n     */\r\n    GridRow.prototype.setAdditionalElement = function (_additionalElement) {\r\n        this.additionalElement = _additionalElement;\r\n    };\r\n    return GridRow;\r\n}());\r\nmodule.exports = GridRow;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL2dyaWRyb3cudHM/ZTk1YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPSd0eXBpbmdzL3Jvdy50cycgLz5cclxuaW1wb3J0IGdyaWRDZWxsID0gcmVxdWlyZSgnLi9ncmlkY2VsbCcpO1xyXG5cclxuLyoqXHJcbiAqIFJvdyBEZWZpbml0aW9uIGZvciBHcmlkIENvbXBvZW50XHJcbiAqL1xyXG5jbGFzcyBHcmlkUm93IGltcGxlbWVudHMgUm93IHtcclxuXHJcbiAgICBwcml2YXRlIGNlbGxzOiBBcnJheTxncmlkQ2VsbD47XHJcbiAgICBwcml2YXRlIHJvd1N0eWxlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJvd0lkOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJvd1RpdGxlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGFkZGl0aW9uYWxFbGVtZW50OiBKU1guRWxlbWVudDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHJvd0lkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRSb3dJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3dJZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIGNlbGxzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRDZWxscygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jZWxscztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldCB0aGUgY2VsbHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldENlbGxzKF9jZWxsczogQXJyYXk8Z3JpZENlbGw+KSB7XHJcbiAgICAgICAgdGhpcy5jZWxscyA9IF9jZWxscztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHJvd1N0eWxlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRSb3dTdHlsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3dTdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldCB0aGUgcm93U3R5bGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFJvd1N0eWxlKF9yb3dTdHlsZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5yb3dTdHlsZSA9IF9yb3dTdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldCB0aGUgcm93SWRcclxuICAgICAqIEBwYXJhbSByb3dJZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Um93SWQocm93SWQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucm93SWQgPSByb3dJZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHJvd1RpdGxlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRSb3dUaXRsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3dUaXRsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHJvd1RpdGxlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRSb3dUaXRsZSh0aXRsZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5yb3dUaXRsZSA9IHRpdGxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgYWRkaXRpb25hbCByb3cgRWxlbWVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0QWRkaXRpb25hbEVsZW1lbnQoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZGl0aW9uYWxFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgYWRkaXRpb25hbCByb3cgRWxlbWVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0QWRkaXRpb25hbEVsZW1lbnQoX2FkZGl0aW9uYWxFbGVtZW50OiBKU1guRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuYWRkaXRpb25hbEVsZW1lbnQgPSBfYWRkaXRpb25hbEVsZW1lbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEdyaWRSb3c7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9ncmlkcm93LnRzIl0sIm1hcHBpbmdzIjoiO0FBR0E7O0FBRUE7QUFDQTtBQUFBO0FBOEVBO0FBdEVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 297:
/* no static exports found */
/* all exports used */
/*!***************************************************!*\
  !*** ./src/actions/submit/submitactioncreator.ts ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar dispatcher = __webpack_require__(/*! ../../app/dispatcher */ 242);\r\nvar submitResponseStartedAction = __webpack_require__(/*! ./submitresponsestartedaction */ 346);\r\nvar submitResponseDataService = __webpack_require__(/*! ../../dataservices/submit/submitresponsedataservice */ 375);\r\nvar submitResponseCompletedAction = __webpack_require__(/*! ./submitresponsecompletedaction */ 345);\r\nvar shareAndClassifyCompletedAction = __webpack_require__(/*! ./shareandclassifycompletedaction */ 344);\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar base = __webpack_require__(/*! ../base/actioncreatorbase */ 280);\r\nvar SubmitActionCreator = /** @class */ (function (_super) {\r\n    __extends(SubmitActionCreator, _super);\r\n    function SubmitActionCreator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * when clicking on submit button\r\n     * @param markGroupId The mark group id\r\n     */\r\n    SubmitActionCreator.prototype.submitResponseStarted = function (markGroupId) {\r\n        dispatcher.dispatch(new submitResponseStartedAction(markGroupId));\r\n    };\r\n    /**\r\n     * Submit response\r\n     * @param submitResponseArgument\r\n     * @param markSchemeGroupId\r\n     * @param worklistType\r\n     * @param remarkRequestType\r\n     * @param selectedDisplayId\r\n     */\r\n    SubmitActionCreator.prototype.submitResponse = function (submitResponseArgument, markSchemeGroupId, worklistType, remarkRequestType, fromMarkschemepanel, selectedDisplayId, examinerRoleIds, markSchemeGroupIds, isStdSetupMode) {\r\n        if (remarkRequestType === void 0) { remarkRequestType = enums.RemarkRequestType.Unknown; }\r\n        if (fromMarkschemepanel === void 0) { fromMarkschemepanel = false; }\r\n        if (selectedDisplayId === void 0) { selectedDisplayId = undefined; }\r\n        if (examinerRoleIds === void 0) { examinerRoleIds = null; }\r\n        if (markSchemeGroupIds === void 0) { markSchemeGroupIds = null; }\r\n        if (isStdSetupMode === void 0) { isStdSetupMode = false; }\r\n        var that = this;\r\n        submitResponseDataService.submitResponses(submitResponseArgument, markSchemeGroupId, worklistType, remarkRequestType, examinerRoleIds, markSchemeGroupIds, function (success, submitResponseReturn) {\r\n            // This will validate the call to find any network failure\r\n            // and is mandatory to add this.\r\n            if (that.validateCall(submitResponseReturn, true, true)) {\r\n                if (!success) {\r\n                    submitResponseReturn = undefined;\r\n                }\r\n                dispatcher.dispatch(new submitResponseCompletedAction(success, submitResponseReturn, worklistType, fromMarkschemepanel, submitResponseArgument.examinerApproval, submitResponseArgument.markGroupIds, selectedDisplayId, isStdSetupMode));\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Share and Classify response\r\n     * @param submitResponseArgument\r\n     * @param fromMarkschemepanel\r\n     * @param selectedDisplayId\r\n     */\r\n    SubmitActionCreator.prototype.shareAndClassifyResponse = function (submitResponseArgument, fromMarkschemepanel, selectedDisplayId) {\r\n        if (fromMarkschemepanel === void 0) { fromMarkschemepanel = false; }\r\n        if (selectedDisplayId === void 0) { selectedDisplayId = undefined; }\r\n        var that = this;\r\n        submitResponseDataService.ShareAndClassifyResponse(submitResponseArgument, function (success, shareAndClassifyReturn) {\r\n            // This will validate the call to find any network failure\r\n            // and is mandatory to add this.\r\n            if (that.validateCall(shareAndClassifyReturn, true, true)) {\r\n                if (!success) {\r\n                    shareAndClassifyReturn = undefined;\r\n                }\r\n                dispatcher.dispatch(new shareAndClassifyCompletedAction(success, shareAndClassifyReturn, fromMarkschemepanel, selectedDisplayId));\r\n            }\r\n        });\r\n    };\r\n    return SubmitActionCreator;\r\n}(base));\r\nvar submitActionCreator = new SubmitActionCreator();\r\nmodule.exports = submitActionCreator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FjdGlvbnMvc3VibWl0L3N1Ym1pdGFjdGlvbmNyZWF0b3IudHM/ZDMyYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uLy4uL2FwcC9kaXNwYXRjaGVyJyk7XHJcbmltcG9ydCBzdWJtaXRSZXNwb25zZVN0YXJ0ZWRBY3Rpb24gPSByZXF1aXJlKCcuL3N1Ym1pdHJlc3BvbnNlc3RhcnRlZGFjdGlvbicpO1xyXG5pbXBvcnQgc3VibWl0UmVzcG9uc2VEYXRhU2VydmljZSA9IHJlcXVpcmUoJy4uLy4uL2RhdGFzZXJ2aWNlcy9zdWJtaXQvc3VibWl0cmVzcG9uc2VkYXRhc2VydmljZScpO1xyXG5pbXBvcnQgc3VibWl0UmVzcG9uc2VDb21wbGV0ZWRBY3Rpb24gPSByZXF1aXJlKCcuL3N1Ym1pdHJlc3BvbnNlY29tcGxldGVkYWN0aW9uJyk7XHJcbmltcG9ydCBzaGFyZUFuZENsYXNzaWZ5Q29tcGxldGVkQWN0aW9uID0gcmVxdWlyZSgnLi9zaGFyZWFuZGNsYXNzaWZ5Y29tcGxldGVkYWN0aW9uJyk7XHJcbmltcG9ydCB3b3JrbGlzdERhdGFTZXJ2aWNlID0gcmVxdWlyZSgnLi4vLi4vZGF0YXNlcnZpY2VzL3dvcmtsaXN0L3dvcmtsaXN0ZGF0YXNlcnZpY2UnKTtcclxuaW1wb3J0IG1hcmtlclByb2dyZXNzRGF0YSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy93b3JrbGlzdC90eXBpbmdzL21hcmtlcnByb2dyZXNzZGF0YScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IGJhc2UgPSByZXF1aXJlKCcuLi9iYXNlL2FjdGlvbmNyZWF0b3JiYXNlJyk7XHJcbmltcG9ydCBTaGFyZUFuZENsYXNzaWZ5UmV0dXJuID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3N1Ym1pdC90eXBpbmdzL3NoYXJlQW5kQ2xhc3NpZnlSZXR1cm4nKTtcclxuY2xhc3MgU3VibWl0QWN0aW9uQ3JlYXRvciBleHRlbmRzIGJhc2Uge1xyXG4gICAgLyoqXHJcbiAgICAgKiB3aGVuIGNsaWNraW5nIG9uIHN1Ym1pdCBidXR0b25cclxuICAgICAqIEBwYXJhbSBtYXJrR3JvdXBJZCBUaGUgbWFyayBncm91cCBpZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3VibWl0UmVzcG9uc2VTdGFydGVkKG1hcmtHcm91cElkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBkaXNwYXRjaGVyLmRpc3BhdGNoKG5ldyBzdWJtaXRSZXNwb25zZVN0YXJ0ZWRBY3Rpb24obWFya0dyb3VwSWQpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN1Ym1pdCByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIHN1Ym1pdFJlc3BvbnNlQXJndW1lbnRcclxuICAgICAqIEBwYXJhbSBtYXJrU2NoZW1lR3JvdXBJZFxyXG4gICAgICogQHBhcmFtIHdvcmtsaXN0VHlwZVxyXG4gICAgICogQHBhcmFtIHJlbWFya1JlcXVlc3RUeXBlXHJcbiAgICAgKiBAcGFyYW0gc2VsZWN0ZWREaXNwbGF5SWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN1Ym1pdFJlc3BvbnNlKHN1Ym1pdFJlc3BvbnNlQXJndW1lbnQ6IFN1Ym1pdFJlc3BvbnNlQXJndW1lbnQsXHJcbiAgICAgICAgbWFya1NjaGVtZUdyb3VwSWQ6IG51bWJlcixcclxuICAgICAgICB3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSxcclxuICAgICAgICByZW1hcmtSZXF1ZXN0VHlwZTogZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUgPSBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZS5Vbmtub3duLCBmcm9tTWFya3NjaGVtZXBhbmVsOiBib29sZWFuID0gZmFsc2UsXHJcbiAgICAgICAgc2VsZWN0ZWREaXNwbGF5SWQ6IHN0cmluZyA9IHVuZGVmaW5lZCwgZXhhbWluZXJSb2xlSWRzOiBBcnJheTxudW1iZXI+ID0gbnVsbCwgbWFya1NjaGVtZUdyb3VwSWRzOiBBcnJheTxudW1iZXI+ID0gbnVsbCxcclxuICAgICAgICBpc1N0ZFNldHVwTW9kZTogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgICAgICBzdWJtaXRSZXNwb25zZURhdGFTZXJ2aWNlLnN1Ym1pdFJlc3BvbnNlcyhzdWJtaXRSZXNwb25zZUFyZ3VtZW50LCBtYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgd29ya2xpc3RUeXBlLFxyXG4gICAgICAgICAgICByZW1hcmtSZXF1ZXN0VHlwZSwgZXhhbWluZXJSb2xlSWRzLCBtYXJrU2NoZW1lR3JvdXBJZHMsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChzdWNjZXNzOiBib29sZWFuLCBzdWJtaXRSZXNwb25zZVJldHVybj86IFN1Ym1pdFJlc3BvbnNlUmV0dXJuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgdmFsaWRhdGUgdGhlIGNhbGwgdG8gZmluZCBhbnkgbmV0d29yayBmYWlsdXJlXHJcbiAgICAgICAgICAgICAgICAvLyBhbmQgaXMgbWFuZGF0b3J5IHRvIGFkZCB0aGlzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoYXQudmFsaWRhdGVDYWxsKHN1Ym1pdFJlc3BvbnNlUmV0dXJuLCB0cnVlLCB0cnVlKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0UmVzcG9uc2VSZXR1cm4gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoZXIuZGlzcGF0Y2gobmV3IHN1Ym1pdFJlc3BvbnNlQ29tcGxldGVkQWN0aW9uKHN1Y2Nlc3MsIHN1Ym1pdFJlc3BvbnNlUmV0dXJuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFR5cGUsIGZyb21NYXJrc2NoZW1lcGFuZWwsIHN1Ym1pdFJlc3BvbnNlQXJndW1lbnQuZXhhbWluZXJBcHByb3ZhbCwgc3VibWl0UmVzcG9uc2VBcmd1bWVudC5tYXJrR3JvdXBJZHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlzcGxheUlkLCBpc1N0ZFNldHVwTW9kZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaGFyZSBhbmQgQ2xhc3NpZnkgcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBzdWJtaXRSZXNwb25zZUFyZ3VtZW50XHJcbiAgICAgKiBAcGFyYW0gZnJvbU1hcmtzY2hlbWVwYW5lbFxyXG4gICAgICogQHBhcmFtIHNlbGVjdGVkRGlzcGxheUlkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzaGFyZUFuZENsYXNzaWZ5UmVzcG9uc2UoXHJcbiAgICAgICAgc3VibWl0UmVzcG9uc2VBcmd1bWVudDogU3VibWl0UmVzcG9uc2VBcmd1bWVudCxcclxuICAgICAgICBmcm9tTWFya3NjaGVtZXBhbmVsOiBib29sZWFuID0gZmFsc2UsXHJcbiAgICAgICAgc2VsZWN0ZWREaXNwbGF5SWQ6IHN0cmluZyA9IHVuZGVmaW5lZCxcclxuICAgICk6IHZvaWQge1xyXG5cclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgc3VibWl0UmVzcG9uc2VEYXRhU2VydmljZS5TaGFyZUFuZENsYXNzaWZ5UmVzcG9uc2Uoc3VibWl0UmVzcG9uc2VBcmd1bWVudCxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKHN1Y2Nlc3M6IGJvb2xlYW4sIHNoYXJlQW5kQ2xhc3NpZnlSZXR1cm4/OiBTaGFyZUFuZENsYXNzaWZ5UmV0dXJuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgdmFsaWRhdGUgdGhlIGNhbGwgdG8gZmluZCBhbnkgbmV0d29yayBmYWlsdXJlXHJcbiAgICAgICAgICAgICAgICAvLyBhbmQgaXMgbWFuZGF0b3J5IHRvIGFkZCB0aGlzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoYXQudmFsaWRhdGVDYWxsKHNoYXJlQW5kQ2xhc3NpZnlSZXR1cm4sIHRydWUsIHRydWUpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZUFuZENsYXNzaWZ5UmV0dXJuID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaGVyLmRpc3BhdGNoKG5ldyBzaGFyZUFuZENsYXNzaWZ5Q29tcGxldGVkQWN0aW9uKHN1Y2Nlc3MsIHNoYXJlQW5kQ2xhc3NpZnlSZXR1cm4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21NYXJrc2NoZW1lcGFuZWwsIHNlbGVjdGVkRGlzcGxheUlkKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmxldCBzdWJtaXRBY3Rpb25DcmVhdG9yID0gbmV3IFN1Ym1pdEFjdGlvbkNyZWF0b3IoKTtcclxuLyogZXhwb3J0aW5nIGFuIGluc3RhbmNlIG9mIFN1Ym1pdEFjdGlvbkNyZWF0b3IgKi9cclxuZXhwb3J0ID0gc3VibWl0QWN0aW9uQ3JlYXRvcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FjdGlvbnMvc3VibWl0L3N1Ym1pdGFjdGlvbmNyZWF0b3IudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7O0FBdUVBO0FBdEVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 304:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/utility/worklistvalidators/worklistvalidatorlist.ts ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * List of validators used for worklists. An entry should be added to this enum for all worklist validators\r\n */\r\nvar WorklistValidatorList;\r\n(function (WorklistValidatorList) {\r\n    WorklistValidatorList[WorklistValidatorList[\"liveOpen\"] = 0] = \"liveOpen\";\r\n    WorklistValidatorList[WorklistValidatorList[\"atypicalOpen\"] = 1] = \"atypicalOpen\";\r\n    WorklistValidatorList[WorklistValidatorList[\"standardisationOpen\"] = 2] = \"standardisationOpen\";\r\n    WorklistValidatorList[WorklistValidatorList[\"practiceOpen\"] = 3] = \"practiceOpen\";\r\n    WorklistValidatorList[WorklistValidatorList[\"directedRemarkOpen\"] = 4] = \"directedRemarkOpen\";\r\n    WorklistValidatorList[WorklistValidatorList[\"simulationOpen\"] = 5] = \"simulationOpen\";\r\n})(WorklistValidatorList || (WorklistValidatorList = {}));\r\nmodule.exports = WorklistValidatorList;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9ybGlzdC50cz9lZTc5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBMaXN0IG9mIHZhbGlkYXRvcnMgdXNlZCBmb3Igd29ya2xpc3RzLiBBbiBlbnRyeSBzaG91bGQgYmUgYWRkZWQgdG8gdGhpcyBlbnVtIGZvciBhbGwgd29ya2xpc3QgdmFsaWRhdG9yc1xyXG4gKi9cclxuXHJcbmVudW0gV29ya2xpc3RWYWxpZGF0b3JMaXN0IHtcclxuICAgIGxpdmVPcGVuLFxyXG4gICAgYXR5cGljYWxPcGVuLFxyXG4gICAgc3RhbmRhcmRpc2F0aW9uT3BlbixcclxuICAgIHByYWN0aWNlT3BlbixcclxuICAgIGRpcmVjdGVkUmVtYXJrT3BlbixcclxuICAgIHNpbXVsYXRpb25PcGVuXHJcbn1cclxuZXhwb3J0ID0gV29ya2xpc3RWYWxpZGF0b3JMaXN0O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvd29ya2xpc3R2YWxpZGF0b3JsaXN0LnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7O0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 308:
/* no static exports found */
/* all exports used */
/*!*************************************************!*\
  !*** ./src/components/utility/togglebutton.tsx ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\n/**\r\n * React component class for Ask on Logout confirmation\r\n */\r\nvar ToggleButton = /** @class */ (function (_super) {\r\n    __extends(ToggleButton, _super);\r\n    /**\r\n     * constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function ToggleButton(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.onToggleChange = function () {\r\n            _this.props.onChange(_this.props.index, !_this.props.isChecked, _this.props.displayId);\r\n        };\r\n        _this.onToggleChange = _this.onToggleChange.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render method\r\n     */\r\n    ToggleButton.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: classNames('toggle-button', this.props.className), \"aria-pressed\": 'false', style: this.props.style, title: this.props.title },\r\n            React.createElement(\"input\", { type: 'checkbox', id: this.props.id + '_toggle_button', \"data-value\": this.props.isChecked, checked: this.props.isChecked, onChange: this.onToggleChange, disabled: this.props.isDisabled }),\r\n            React.createElement(\"label\", { className: 'toggle-label', id: this.props.id + '_label', htmlFor: this.props.id + '_toggle_button', title: this.props.title },\r\n                React.createElement(\"div\", { className: 'toggle-content' },\r\n                    React.createElement(\"div\", { className: 'on-text' }, this.props.onText),\r\n                    React.createElement(\"div\", { className: 'off-text' }, this.props.offText)),\r\n                React.createElement(\"div\", { className: 'toggle-switch' }))));\r\n    };\r\n    return ToggleButton;\r\n}(pureRenderComponent));\r\nmodule.exports = ToggleButton;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90b2dnbGVidXR0b24udHN4P2ZjZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxubGV0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BzIGZvciB0aGUgTGVmdCBQYW5lbFxyXG4gKi9cclxuaW50ZXJmYWNlIFRvZ2dsZUJ1dHRvblByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGluZGV4OiBudW1iZXI7XHJcbiAgICBpc0NoZWNrZWQ6IGJvb2xlYW47XHJcbiAgICBvbkNoYW5nZTogRnVuY3Rpb247XHJcbiAgICBzdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcztcclxuICAgIHRpdGxlOiBzdHJpbmc7XHJcblx0Y2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gICAgaXNEaXNhYmxlZD86IGJvb2xlYW47XHJcbiAgICBvblRleHQ6IHN0cmluZztcclxuICAgIG9mZlRleHQ6IHN0cmluZztcclxuICAgIGRpc3BsYXlJZD86IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudCBjbGFzcyBmb3IgQXNrIG9uIExvZ291dCBjb25maXJtYXRpb25cclxuICovXHJcbmNsYXNzIFRvZ2dsZUJ1dHRvbiBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8VG9nZ2xlQnV0dG9uUHJvcHMsIGFueT4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBUb2dnbGVCdXR0b25Qcm9wcywgc3RhdGU6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcbiAgICAgICAgdGhpcy5vblRvZ2dsZUNoYW5nZSA9IHRoaXMub25Ub2dnbGVDaGFuZ2UuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBtZXRob2RcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndG9nZ2xlLWJ1dHRvbicsIHRoaXMucHJvcHMuY2xhc3NOYW1lKX1cclxuICAgICAgICAgICAgICAgIGFyaWEtcHJlc3NlZD0nZmFsc2UnIHN0eWxlPXt0aGlzLnByb3BzLnN0eWxlfSB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX0gPlxyXG5cdFx0XHRcdDxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX3RvZ2dsZV9idXR0b24nfVxyXG5cdFx0XHRcdFx0ZGF0YS12YWx1ZT17dGhpcy5wcm9wcy5pc0NoZWNrZWR9IGNoZWNrZWQ9e3RoaXMucHJvcHMuaXNDaGVja2VkfSBvbkNoYW5nZT17dGhpcy5vblRvZ2dsZUNoYW5nZX0gZGlzYWJsZWQ9e3RoaXMucHJvcHMuaXNEaXNhYmxlZH0gLz5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J3RvZ2dsZS1sYWJlbCcgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX2xhYmVsJ30gaHRtbEZvcj17dGhpcy5wcm9wcy5pZCArICdfdG9nZ2xlX2J1dHRvbid9XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0b2dnbGUtY29udGVudCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvbi10ZXh0Jz57dGhpcy5wcm9wcy5vblRleHR9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvZmYtdGV4dCc+e3RoaXMucHJvcHMub2ZmVGV4dH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndG9nZ2xlLXN3aXRjaCc+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25Ub2dnbGVDaGFuZ2UgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnByb3BzLmluZGV4LCAhdGhpcy5wcm9wcy5pc0NoZWNrZWQsIHRoaXMucHJvcHMuZGlzcGxheUlkKTtcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCA9IFRvZ2dsZUJ1dHRvbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90b2dnbGVidXR0b24udHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQW1CQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFBQTtBQTBCQTtBQUNBO0FBQ0E7QUExQkE7O0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUtBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 313:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/response/responsescreen/taglist.tsx ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar Tag = __webpack_require__(/*! ./tag */ 356);\r\nvar tagActionCreator = __webpack_require__(/*! ../../../actions/tag/tagactioncreator */ 441);\r\nvar responseStore = __webpack_require__(/*! ../../../stores/response/responsestore */ 235);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar domManager = __webpack_require__(/*! ../../../utility/generic/domhelper */ 294);\r\nvar loginSession = __webpack_require__(/*! ../../../app/loginsession */ 252);\r\nvar TAG_LIST_WIDTH = 90;\r\nvar TAG_LIST_HEIGHT = 216;\r\n/**\r\n * React component for reports\r\n */\r\nvar TagList = /** @class */ (function (_super) {\r\n    __extends(TagList, _super);\r\n    /**\r\n     * Constructor for TagList class\r\n     */\r\n    function TagList(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.xPos = 0;\r\n        _this.yPos = 0;\r\n        /**\r\n         * Render the list\r\n         */\r\n        _this.renderTagListItems = function () {\r\n            var that = _this;\r\n            var tagList = that.props.tagList;\r\n            var element = tagList && tagList.map(function (tagItem) {\r\n                return (React.createElement(\"li\", { className: 'tag-menu-item', id: that.props.id + '_item_' + tagItem.tagId, key: that.props.id + '_item_' + tagItem.tagId },\r\n                    React.createElement(Tag, { isSelected: (that.selectedTag === tagItem.tagId), tagType: tagItem.tagId, onSelection: that.onTagSelection, onArrowClick: that.onArrowClick, isInList: true, isFromWorklist: (that.props.markGroupId ? true : false), selectedLanguage: that.props.selectedLanguage, id: that.props.id + '_' + tagItem.tagId, key: that.props.id + '_' + tagItem.tagId })));\r\n            });\r\n            return element;\r\n        };\r\n        /**\r\n         * to hide the tag drop down clicking outside the box.\r\n         */\r\n        _this.hideTagList = function (event) {\r\n            if (event.target !== undefined &&\r\n                domManager.searchParentNode(event.target, function (el) { return el.id === 'response_tag'; }) == null) {\r\n                if (_this.state.isExpanded === true) {\r\n                    _this.setState({\r\n                        isExpanded: false\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * To change the state of the component on selecting the component.\r\n         */\r\n        _this.onTagSelection = function (selectedTag, event) {\r\n            event.stopPropagation();\r\n            // Case 1: this.props.markGroupId : Tag Updated from worklist.\r\n            // Case 2: responseStore.instance.selectedMarkGroupId : Tag Updated  within response.\r\n            var currentMarkGroupId = _this.props.markGroupId ? _this.props.markGroupId : responseStore.instance.selectedMarkGroupId;\r\n            var updateResponseTagArguments = {\r\n                markGroupList: _this.populateMarkGroupList(currentMarkGroupId, _this.props.isESResponse),\r\n                examinerId: loginSession.EXAMINER_ID,\r\n                isDelete: selectedTag === 0 ? true : false,\r\n                tagId: selectedTag,\r\n                isESResponse: _this.props.isESResponse\r\n            };\r\n            // get the updated tag order to update the worklist data with the newly selected tag.\r\n            var tagOrder = _this.props.tagList.filter(function (t) { return t.tagId === selectedTag; })[0].tagOrder;\r\n            tagActionCreator.updateTags(updateResponseTagArguments, tagOrder, currentMarkGroupId, _this.props.markingMode);\r\n        };\r\n        /**\r\n         * event listener for the tag update event\r\n         */\r\n        _this.onTagUpdated = function (selectedTag, markGroupId) {\r\n            // Case 1: !this.props.markGroupId : Tag Updated within response.\r\n            // Case 2: this.props.markGroupId === markGroupId : Tag Updated from worklist.\r\n            if (!_this.props.markGroupId || _this.props.markGroupId === markGroupId) {\r\n                _this.selectedTag = selectedTag;\r\n                _this.setState({\r\n                    isExpanded: false\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * event listener for the tag list click event\r\n         * To hide any open tag list other than selected one.\r\n         */\r\n        _this.onTagListClicked = function (selectedMarkGroupId) {\r\n            // Hide all tag list other than one selected now.\r\n            if (_this.props.markGroupId !== selectedMarkGroupId && _this.state.isExpanded === true) {\r\n                _this.setState({\r\n                    isExpanded: false\r\n                });\r\n            }\r\n        };\r\n        // Setting the initial state\r\n        _this.state = {\r\n            isExpanded: undefined\r\n        };\r\n        _this.onTagSelection = _this.onTagSelection.bind(_this);\r\n        _this.onArrowClick = _this.onArrowClick.bind(_this);\r\n        _this.hideTagList = _this.hideTagList.bind(_this);\r\n        _this.selectedTag = _this.props.selectedTagId;\r\n        _this.onTagUpdated = _this.onTagUpdated.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component.\r\n     */\r\n    TagList.prototype.render = function () {\r\n        var tagClass;\r\n        return (React.createElement(\"span\", { className: classNames('tag dropdown-wrap', { ' center right': this.isCenterAlignmentRequired === true && this.isRightAlignmentRequired === true }, { ' center left': this.isCenterAlignmentRequired === true && this.isLeftAlignmentRequired === true }, { ' bottom right': this.isRightAlignmentRequired === true && this.isBottomAlignmentRequired === true }, {\r\n                ' bottom left': this.isRightAlignmentRequired === false &&\r\n                    this.isBottomAlignmentRequired === true && this.isLeftAlignmentRequired === true\r\n            }, {\r\n                ' top left': this.isRightAlignmentRequired === false\r\n                    && this.isLeftAlignmentRequired === true && this.isTopAlignmentRequired === true\r\n            }, { ' top right': this.isRightAlignmentRequired === true && this.isTopAlignmentRequired === true }, { ' close': (this.state.isExpanded === false) }, { ' open': (this.state.isExpanded === true) }), id: 'response_tag' },\r\n            React.createElement(Tag, { isSelected: true, tagType: this.selectedTag, onSelection: this.onTagSelection, onArrowClick: this.onArrowClick, isInList: false, isFromWorklist: (this.props.markGroupId ? true : false), selectedLanguage: this.props.selectedLanguage, id: this.props.id + '_selected', key: this.props.id + '_selected' }),\r\n            React.createElement(\"div\", { className: 'menu-callout' }),\r\n            React.createElement(\"ul\", { className: 'menu tag-menu', role: 'menu', \"aria-hidden\": 'true', id: 'tag_list' }, this.renderTagListItems())));\r\n    };\r\n    /**\r\n     * triggers when the tag list component mount.\r\n     */\r\n    TagList.prototype.componentDidMount = function () {\r\n        /** Avoid memory leak warning */\r\n        worklistStore.instance.setMaxListeners(0);\r\n        window.addEventListener('touchend', this.hideTagList);\r\n        window.addEventListener('click', this.hideTagList);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.TAG_UPDATED_EVENT, this.onTagUpdated);\r\n        // Event to collapse all tag list except the selected one from worklist \r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.TAG_LIST_CLICKED, this.onTagListClicked);\r\n    };\r\n    /**\r\n     * triggers while the component receives the props.\r\n     */\r\n    TagList.prototype.componentWillReceiveProps = function (nextProps) {\r\n        if (this.selectedTag !== nextProps.selectedTagId) {\r\n            this.selectedTag = nextProps.selectedTagId;\r\n        }\r\n    };\r\n    /**\r\n     * triggers when the tag list components unmounts\r\n     */\r\n    TagList.prototype.componentWillUnmount = function () {\r\n        window.removeEventListener('touchend', this.hideTagList);\r\n        window.removeEventListener('click', this.hideTagList);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.TAG_UPDATED_EVENT, this.onTagUpdated);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.TAG_LIST_CLICKED, this.onTagListClicked);\r\n    };\r\n    /**\r\n     * On arrow click.\r\n     */\r\n    TagList.prototype.onArrowClick = function (selectedTag, event) {\r\n        // Tag List Position Logic is applicable only in worklist.\r\n        if (this.props.markGroupId) {\r\n            this.getTaglistPosition(event.clientX, event.clientY);\r\n            tagActionCreator.tagListClickAction(this.props.markGroupId);\r\n        }\r\n        this.setState({\r\n            isExpanded: !this.state.isExpanded\r\n        });\r\n    };\r\n    /**\r\n     * Check if tag list goes offscreen on right hand side of the window.\r\n     * If taglist widhth  is greater than the space available right to tag indicator then\r\n     * it means that when tag list is rendered it will go offscreen.\r\n     */\r\n    TagList.prototype.isHorizontalAlignmentRequired = function (mouseX, worklistWidth) {\r\n        // if space available right of tag indicator,\r\n        if (TAG_LIST_WIDTH < (window.innerWidth - mouseX)) {\r\n            this.isRightAlignmentRequired = true;\r\n        }\r\n        else {\r\n            if (TAG_LIST_WIDTH < (mouseX - (window.innerWidth - worklistWidth))) {\r\n                this.isLeftAlignmentRequired = true;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Check if tag list goes offscreen on bottom side of the window.\r\n     * If mouse Y position + tag list height is greater than\r\n     * space available bottom from tag indicator then\r\n     * it means that when tag list is rendered it will go offscreen.\r\n     */\r\n    TagList.prototype.isVerticalAlignmentRequired = function (mouseY, worklistHeight) {\r\n        // If space available in the bottom of tag indicator,\r\n        if ((window.innerHeight - mouseY) > TAG_LIST_HEIGHT) {\r\n            this.isTopAlignmentRequired = true;\r\n        }\r\n        else {\r\n            if (mouseY - (window.innerHeight - worklistHeight) > TAG_LIST_HEIGHT) {\r\n                this.isBottomAlignmentRequired = true;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Get tag list expanded position based on window space available.\r\n     * @param xPos: Tag Indicator Xcoord\r\n     * @param yPos: Tag Indicator Y coord\r\n     */\r\n    TagList.prototype.getTaglistPosition = function (xPos, yPos) {\r\n        this.isCenterAlignmentRequired = false;\r\n        this.isLeftAlignmentRequired = false;\r\n        this.isRightAlignmentRequired = false;\r\n        this.isTopAlignmentRequired = false;\r\n        this.isBottomAlignmentRequired = false;\r\n        // Tag indicator Coords.\r\n        this.xPos = xPos;\r\n        this.yPos = yPos;\r\n        // Get the height and width of scroll holder.\r\n        var worklistElement = document.getElementsByClassName('table-scroll-holder')[0].getBoundingClientRect();\r\n        var worklistHeight = worklistElement.height;\r\n        var worklistWidth = worklistElement.width;\r\n        // Determine whether tag list show in Bottom/Top.\r\n        this.isVerticalAlignmentRequired(this.yPos, worklistHeight);\r\n        // Determine whether tag list show in Right/Left.\r\n        this.isHorizontalAlignmentRequired(this.xPos, worklistWidth);\r\n        // If no space available in bottom or Top portion,\r\n        // we should display it in centre position.\r\n        if (this.isBottomAlignmentRequired === false && this.isTopAlignmentRequired === false) {\r\n            this.isCenterAlignmentRequired = true;\r\n        }\r\n    };\r\n    /**\r\n     * Get the markGroupIds for tagging the resposnse.\r\n     * @param currentMarkGroupId\r\n     * @param isESResponse\r\n     */\r\n    TagList.prototype.populateMarkGroupList = function (currentMarkGroupId, isESResponse) {\r\n        var markGroupIds = [];\r\n        // If the response is an es response then whole response tagging is not possible\r\n        // So only pushing the current markGroupID into the collection\r\n        // else we need to add the related markGroupIds for a whole response.\r\n        if (isESResponse) {\r\n            markGroupIds.push(currentMarkGroupId);\r\n        }\r\n        else {\r\n            markGroupIds = worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(currentMarkGroupId);\r\n            markGroupIds.unshift(currentMarkGroupId);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    return TagList;\r\n}(pureRenderComponent));\r\nmodule.exports = TagList;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVzcG9uc2UvcmVzcG9uc2VzY3JlZW4vdGFnbGlzdC50c3g/ZTU2MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IFJlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XHJcbi8qIHRzbGludDplbmFibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmxldCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IFRhZyA9IHJlcXVpcmUoJy4vdGFnJyk7XHJcbmltcG9ydCBpbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IHRhZ0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL3RhZy90YWdhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCByZXNwb25zZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3Jlc3BvbnNlL3Jlc3BvbnNlc3RvcmUnKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgZG9tTWFuYWdlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ2VuZXJpYy9kb21oZWxwZXInKTtcclxuaW1wb3J0IGxvZ2luU2Vzc2lvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL2FwcC9sb2dpbnNlc3Npb24nKTtcclxuY29uc3QgVEFHX0xJU1RfV0lEVEggPSA5MDtcclxuY29uc3QgVEFHX0xJU1RfSEVJR0hUID0gMjE2O1xyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgVGFnbGlzdCBjb21wb25lbnQuXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2UsIExvY2FsZVNlbGVjdGlvbkJhc2Uge1xyXG4gICAgc2VsZWN0ZWRUYWdJZDogbnVtYmVyO1xyXG4gICAgdGFnTGlzdDogaW1tdXRhYmxlLkxpc3Q8VGFnPjtcclxuICAgIHJlbmRlcmVkT246IG51bWJlcjtcclxuICAgIC8vIEluIG9yZGVyIHRvIHVwZGF0ZSB3b3JrbGlzdCBkYXRhIHdoaWxlIGVkaXRpbmcgdGFnIGRhdGFcclxuICAgIC8vIFRocm91Z2ggV29ya2xpc3QvV2l0aGluIFJlc3BvbnNlLiAgXHJcbiAgICBtYXJrR3JvdXBJZD86IG51bWJlcjtcclxuICAgIHRhZ09yZGVyPzogbnVtYmVyO1xyXG4gICAgaXNFU1Jlc3BvbnNlPzogYm9vbGVhbjtcclxuICAgIG1hcmtpbmdNb2RlPzogZW51bXMuTWFya2luZ01vZGU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdGF0ZSBvZiB0aGUgY29tcG9uZW50XHJcbiAqL1xyXG5pbnRlcmZhY2UgU3RhdGUge1xyXG4gICAgaXNFeHBhbmRlZDogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudCBmb3IgcmVwb3J0c1xyXG4gKi9cclxuY2xhc3MgVGFnTGlzdCBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XHJcbiAgICBwcml2YXRlIHNlbGVjdGVkVGFnOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGlzQm90dG9tQWxpZ25tZW50UmVxdWlyZWQ6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIGlzUmlnaHRBbGlnbm1lbnRSZXF1aXJlZDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgaXNUb3BBbGlnbm1lbnRSZXF1aXJlZDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgaXNMZWZ0QWxpZ25tZW50UmVxdWlyZWQ6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIGlzQ2VudGVyQWxpZ25tZW50UmVxdWlyZWQ6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIHhQb3M6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIHlQb3M6IG51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgVGFnTGlzdCBjbGFzc1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBTdGF0ZSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcblxyXG4gICAgICAgIC8vIFNldHRpbmcgdGhlIGluaXRpYWwgc3RhdGVcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpc0V4cGFuZGVkOiB1bmRlZmluZWRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm9uVGFnU2VsZWN0aW9uID0gdGhpcy5vblRhZ1NlbGVjdGlvbi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25BcnJvd0NsaWNrID0gdGhpcy5vbkFycm93Q2xpY2suYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmhpZGVUYWdMaXN0ID0gdGhpcy5oaWRlVGFnTGlzdC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWcgPSB0aGlzLnByb3BzLnNlbGVjdGVkVGFnSWQ7XHJcbiAgICAgICAgdGhpcy5vblRhZ1VwZGF0ZWQgPSB0aGlzLm9uVGFnVXBkYXRlZC5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IHRhZ0NsYXNzOiBzdHJpbmc7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd0YWcgZHJvcGRvd24td3JhcCcsXHJcbiAgICAgICAgICAgICAgICB7ICcgY2VudGVyIHJpZ2h0JzogdGhpcy5pc0NlbnRlckFsaWdubWVudFJlcXVpcmVkID09PSB0cnVlICYmIHRoaXMuaXNSaWdodEFsaWdubWVudFJlcXVpcmVkID09PSB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB7ICcgY2VudGVyIGxlZnQnOiB0aGlzLmlzQ2VudGVyQWxpZ25tZW50UmVxdWlyZWQgPT09IHRydWUgJiYgdGhpcy5pc0xlZnRBbGlnbm1lbnRSZXF1aXJlZCA9PT0gdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgeyAnIGJvdHRvbSByaWdodCc6IHRoaXMuaXNSaWdodEFsaWdubWVudFJlcXVpcmVkID09PSB0cnVlICYmIHRoaXMuaXNCb3R0b21BbGlnbm1lbnRSZXF1aXJlZCA9PT0gdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICcgYm90dG9tIGxlZnQnOiB0aGlzLmlzUmlnaHRBbGlnbm1lbnRSZXF1aXJlZCA9PT0gZmFsc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0JvdHRvbUFsaWdubWVudFJlcXVpcmVkID09PSB0cnVlICYmIHRoaXMuaXNMZWZ0QWxpZ25tZW50UmVxdWlyZWQgPT09IHRydWVcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgJyB0b3AgbGVmdCc6IHRoaXMuaXNSaWdodEFsaWdubWVudFJlcXVpcmVkID09PSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiB0aGlzLmlzTGVmdEFsaWdubWVudFJlcXVpcmVkID09PSB0cnVlICYmIHRoaXMuaXNUb3BBbGlnbm1lbnRSZXF1aXJlZCA9PT0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHsgJyB0b3AgcmlnaHQnOiB0aGlzLmlzUmlnaHRBbGlnbm1lbnRSZXF1aXJlZCA9PT0gdHJ1ZSAmJiB0aGlzLmlzVG9wQWxpZ25tZW50UmVxdWlyZWQgPT09IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHsgJyBjbG9zZSc6ICh0aGlzLnN0YXRlLmlzRXhwYW5kZWQgPT09IGZhbHNlKSB9LFxyXG4gICAgICAgICAgICAgICAgeyAnIG9wZW4nOiAodGhpcy5zdGF0ZS5pc0V4cGFuZGVkID09PSB0cnVlKSB9KX1cclxuICAgICAgICAgICAgICAgIGlkPXsncmVzcG9uc2VfdGFnJ30gPlxyXG4gICAgICAgICAgICAgICAgPFRhZyBpc1NlbGVjdGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIHRhZ1R5cGU9e3RoaXMuc2VsZWN0ZWRUYWd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Rpb249e3RoaXMub25UYWdTZWxlY3Rpb259XHJcbiAgICAgICAgICAgICAgICAgICAgb25BcnJvd0NsaWNrPXt0aGlzLm9uQXJyb3dDbGlja31cclxuICAgICAgICAgICAgICAgICAgICBpc0luTGlzdD17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNGcm9tV29ya2xpc3Q9eyh0aGlzLnByb3BzLm1hcmtHcm91cElkID8gdHJ1ZSA6IGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX3NlbGVjdGVkJ31cclxuICAgICAgICAgICAgICAgICAgICBrZXk9e3RoaXMucHJvcHMuaWQgKyAnX3NlbGVjdGVkJ30gLz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZW51LWNhbGxvdXQnPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT0nbWVudSB0YWctbWVudScgcm9sZT0nbWVudScgYXJpYS1oaWRkZW49J3RydWUnIGlkPSd0YWdfbGlzdCc+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyVGFnTGlzdEl0ZW1zKCl9XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L3NwYW4+KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciB0aGUgbGlzdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlbmRlclRhZ0xpc3RJdGVtcyA9ICgpOiBhbnkgPT4ge1xyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgICAgICBsZXQgdGFnTGlzdCA9IHRoYXQucHJvcHMudGFnTGlzdDtcclxuICAgICAgICBsZXQgZWxlbWVudCA9IHRhZ0xpc3QgJiYgdGFnTGlzdC5tYXAoZnVuY3Rpb24gKHRhZ0l0ZW06IFRhZykge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT0ndGFnLW1lbnUtaXRlbSdcclxuICAgICAgICAgICAgICAgICAgICBpZD17dGhhdC5wcm9wcy5pZCArICdfaXRlbV8nICsgdGFnSXRlbS50YWdJZH1cclxuICAgICAgICAgICAgICAgICAgICBrZXk9e3RoYXQucHJvcHMuaWQgKyAnX2l0ZW1fJyArIHRhZ0l0ZW0udGFnSWR9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWcgaXNTZWxlY3RlZD17KHRoYXQuc2VsZWN0ZWRUYWcgPT09IHRhZ0l0ZW0udGFnSWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdUeXBlPXt0YWdJdGVtLnRhZ0lkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdGlvbj17dGhhdC5vblRhZ1NlbGVjdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25BcnJvd0NsaWNrPXt0aGF0Lm9uQXJyb3dDbGlja31cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNJbkxpc3Q9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRnJvbVdvcmtsaXN0PXsodGhhdC5wcm9wcy5tYXJrR3JvdXBJZCA/IHRydWUgOiBmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoYXQucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e3RoYXQucHJvcHMuaWQgKyAnXycgKyB0YWdJdGVtLnRhZ0lkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3RoYXQucHJvcHMuaWQgKyAnXycgKyB0YWdJdGVtLnRhZ0lkfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9saT4pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHRyaWdnZXJzIHdoZW4gdGhlIHRhZyBsaXN0IGNvbXBvbmVudCBtb3VudC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIC8qKiBBdm9pZCBtZW1vcnkgbGVhayB3YXJuaW5nICovXHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5zZXRNYXhMaXN0ZW5lcnMoMCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5oaWRlVGFnTGlzdCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlVGFnTGlzdCk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuVEFHX1VQREFURURfRVZFTlQsIHRoaXMub25UYWdVcGRhdGVkKTtcclxuXHJcbiAgICAgICAgLy8gRXZlbnQgdG8gY29sbGFwc2UgYWxsIHRhZyBsaXN0IGV4Y2VwdCB0aGUgc2VsZWN0ZWQgb25lIGZyb20gd29ya2xpc3QgXHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuVEFHX0xJU1RfQ0xJQ0tFRCwgdGhpcy5vblRhZ0xpc3RDbGlja2VkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHRyaWdnZXJzIHdoaWxlIHRoZSBjb21wb25lbnQgcmVjZWl2ZXMgdGhlIHByb3BzLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IFByb3BzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRUYWcgIT09IG5leHRQcm9wcy5zZWxlY3RlZFRhZ0lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUYWcgPSBuZXh0UHJvcHMuc2VsZWN0ZWRUYWdJZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0cmlnZ2VycyB3aGVuIHRoZSB0YWcgbGlzdCBjb21wb25lbnRzIHVubW91bnRzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLmhpZGVUYWdMaXN0KTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVUYWdMaXN0KTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHdvcmtsaXN0U3RvcmUuV29ya0xpc3RTdG9yZS5UQUdfVVBEQVRFRF9FVkVOVCwgdGhpcy5vblRhZ1VwZGF0ZWQpO1xyXG4gICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIod29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLlRBR19MSVNUX0NMSUNLRUQsIHRoaXMub25UYWdMaXN0Q2xpY2tlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0byBoaWRlIHRoZSB0YWcgZHJvcCBkb3duIGNsaWNraW5nIG91dHNpZGUgdGhlIGJveC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBoaWRlVGFnTGlzdCA9IChldmVudDogYW55KTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGRvbU1hbmFnZXIuc2VhcmNoUGFyZW50Tm9kZShldmVudC50YXJnZXQsIGZ1bmN0aW9uIChlbDogYW55KSB7IHJldHVybiBlbC5pZCA9PT0gJ3Jlc3BvbnNlX3RhZyc7IH0pID09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNFeHBhbmRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNFeHBhbmRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRvIGNoYW5nZSB0aGUgc3RhdGUgb2YgdGhlIGNvbXBvbmVudCBvbiBzZWxlY3RpbmcgdGhlIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblRhZ1NlbGVjdGlvbiA9IChzZWxlY3RlZFRhZzogbnVtYmVyLCBldmVudDogYW55KTogdm9pZCA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgLy8gQ2FzZSAxOiB0aGlzLnByb3BzLm1hcmtHcm91cElkIDogVGFnIFVwZGF0ZWQgZnJvbSB3b3JrbGlzdC5cclxuICAgICAgICAvLyBDYXNlIDI6IHJlc3BvbnNlU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRNYXJrR3JvdXBJZCA6IFRhZyBVcGRhdGVkICB3aXRoaW4gcmVzcG9uc2UuXHJcbiAgICAgICAgbGV0IGN1cnJlbnRNYXJrR3JvdXBJZCA9IHRoaXMucHJvcHMubWFya0dyb3VwSWQgPyB0aGlzLnByb3BzLm1hcmtHcm91cElkIDogcmVzcG9uc2VTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZE1hcmtHcm91cElkO1xyXG4gICAgICAgIGxldCB1cGRhdGVSZXNwb25zZVRhZ0FyZ3VtZW50czogVXBkYXRlUmVzcG9uc2VUYWdBcmd1bWVudHMgPSB7XHJcbiAgICAgICAgICAgIG1hcmtHcm91cExpc3Q6IHRoaXMucG9wdWxhdGVNYXJrR3JvdXBMaXN0KGN1cnJlbnRNYXJrR3JvdXBJZCwgdGhpcy5wcm9wcy5pc0VTUmVzcG9uc2UpLFxyXG4gICAgICAgICAgICBleGFtaW5lcklkOiBsb2dpblNlc3Npb24uRVhBTUlORVJfSUQsXHJcbiAgICAgICAgICAgIGlzRGVsZXRlOiBzZWxlY3RlZFRhZyA9PT0gMCA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICAgICAgdGFnSWQ6IHNlbGVjdGVkVGFnLFxyXG4gICAgICAgICAgICBpc0VTUmVzcG9uc2U6IHRoaXMucHJvcHMuaXNFU1Jlc3BvbnNlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gZ2V0IHRoZSB1cGRhdGVkIHRhZyBvcmRlciB0byB1cGRhdGUgdGhlIHdvcmtsaXN0IGRhdGEgd2l0aCB0aGUgbmV3bHkgc2VsZWN0ZWQgdGFnLlxyXG4gICAgICAgIGxldCB0YWdPcmRlcjogbnVtYmVyID0gdGhpcy5wcm9wcy50YWdMaXN0LmZpbHRlcih0ID0+IHQudGFnSWQgPT09IHNlbGVjdGVkVGFnKVswXS50YWdPcmRlcjtcclxuICAgICAgICB0YWdBY3Rpb25DcmVhdG9yLnVwZGF0ZVRhZ3ModXBkYXRlUmVzcG9uc2VUYWdBcmd1bWVudHMsIHRhZ09yZGVyLCBjdXJyZW50TWFya0dyb3VwSWQsIHRoaXMucHJvcHMubWFya2luZ01vZGUpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgdGFnIHVwZGF0ZSBldmVudFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uVGFnVXBkYXRlZCA9IChzZWxlY3RlZFRhZzogbnVtYmVyLCBtYXJrR3JvdXBJZDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gQ2FzZSAxOiAhdGhpcy5wcm9wcy5tYXJrR3JvdXBJZCA6IFRhZyBVcGRhdGVkIHdpdGhpbiByZXNwb25zZS5cclxuICAgICAgICAvLyBDYXNlIDI6IHRoaXMucHJvcHMubWFya0dyb3VwSWQgPT09IG1hcmtHcm91cElkIDogVGFnIFVwZGF0ZWQgZnJvbSB3b3JrbGlzdC5cclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMubWFya0dyb3VwSWQgfHwgdGhpcy5wcm9wcy5tYXJrR3JvdXBJZCA9PT0gbWFya0dyb3VwSWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRhZyA9IHNlbGVjdGVkVGFnO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGlzRXhwYW5kZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBldmVudCBsaXN0ZW5lciBmb3IgdGhlIHRhZyBsaXN0IGNsaWNrIGV2ZW50XHJcbiAgICAgKiBUbyBoaWRlIGFueSBvcGVuIHRhZyBsaXN0IG90aGVyIHRoYW4gc2VsZWN0ZWQgb25lLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uVGFnTGlzdENsaWNrZWQgPSAoc2VsZWN0ZWRNYXJrR3JvdXBJZDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gSGlkZSBhbGwgdGFnIGxpc3Qgb3RoZXIgdGhhbiBvbmUgc2VsZWN0ZWQgbm93LlxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1hcmtHcm91cElkICE9PSBzZWxlY3RlZE1hcmtHcm91cElkICYmIHRoaXMuc3RhdGUuaXNFeHBhbmRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGlzRXhwYW5kZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIGFycm93IGNsaWNrLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQXJyb3dDbGljayhzZWxlY3RlZFRhZzogbnVtYmVyLCBldmVudDogYW55KSB7XHJcbiAgICAgICAgLy8gVGFnIExpc3QgUG9zaXRpb24gTG9naWMgaXMgYXBwbGljYWJsZSBvbmx5IGluIHdvcmtsaXN0LlxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1hcmtHcm91cElkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VGFnbGlzdFBvc2l0aW9uKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICAgICAgICB0YWdBY3Rpb25DcmVhdG9yLnRhZ0xpc3RDbGlja0FjdGlvbih0aGlzLnByb3BzLm1hcmtHcm91cElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzRXhwYW5kZWQ6ICF0aGlzLnN0YXRlLmlzRXhwYW5kZWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHRhZyBsaXN0IGdvZXMgb2Zmc2NyZWVuIG9uIHJpZ2h0IGhhbmQgc2lkZSBvZiB0aGUgd2luZG93LlxyXG4gICAgICogSWYgdGFnbGlzdCB3aWRodGggIGlzIGdyZWF0ZXIgdGhhbiB0aGUgc3BhY2UgYXZhaWxhYmxlIHJpZ2h0IHRvIHRhZyBpbmRpY2F0b3IgdGhlblxyXG4gICAgICogaXQgbWVhbnMgdGhhdCB3aGVuIHRhZyBsaXN0IGlzIHJlbmRlcmVkIGl0IHdpbGwgZ28gb2Zmc2NyZWVuLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzSG9yaXpvbnRhbEFsaWdubWVudFJlcXVpcmVkKG1vdXNlWDogbnVtYmVyLCB3b3JrbGlzdFdpZHRoOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAvLyBpZiBzcGFjZSBhdmFpbGFibGUgcmlnaHQgb2YgdGFnIGluZGljYXRvcixcclxuICAgICAgICBpZiAoVEFHX0xJU1RfV0lEVEggPCAod2luZG93LmlubmVyV2lkdGggLSBtb3VzZVgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSaWdodEFsaWdubWVudFJlcXVpcmVkID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoVEFHX0xJU1RfV0lEVEggPCAobW91c2VYIC0gKHdpbmRvdy5pbm5lcldpZHRoIC0gd29ya2xpc3RXaWR0aCkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTGVmdEFsaWdubWVudFJlcXVpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHRhZyBsaXN0IGdvZXMgb2Zmc2NyZWVuIG9uIGJvdHRvbSBzaWRlIG9mIHRoZSB3aW5kb3cuXHJcbiAgICAgKiBJZiBtb3VzZSBZIHBvc2l0aW9uICsgdGFnIGxpc3QgaGVpZ2h0IGlzIGdyZWF0ZXIgdGhhblxyXG4gICAgICogc3BhY2UgYXZhaWxhYmxlIGJvdHRvbSBmcm9tIHRhZyBpbmRpY2F0b3IgdGhlblxyXG4gICAgICogaXQgbWVhbnMgdGhhdCB3aGVuIHRhZyBsaXN0IGlzIHJlbmRlcmVkIGl0IHdpbGwgZ28gb2Zmc2NyZWVuLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzVmVydGljYWxBbGlnbm1lbnRSZXF1aXJlZChtb3VzZVk6IG51bWJlciwgd29ya2xpc3RIZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIC8vIElmIHNwYWNlIGF2YWlsYWJsZSBpbiB0aGUgYm90dG9tIG9mIHRhZyBpbmRpY2F0b3IsXHJcbiAgICAgICAgaWYgKCh3aW5kb3cuaW5uZXJIZWlnaHQgLSBtb3VzZVkpID4gVEFHX0xJU1RfSEVJR0hUKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNUb3BBbGlnbm1lbnRSZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKG1vdXNlWSAtICh3aW5kb3cuaW5uZXJIZWlnaHQgLSB3b3JrbGlzdEhlaWdodCkgPiBUQUdfTElTVF9IRUlHSFQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNCb3R0b21BbGlnbm1lbnRSZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGFnIGxpc3QgZXhwYW5kZWQgcG9zaXRpb24gYmFzZWQgb24gd2luZG93IHNwYWNlIGF2YWlsYWJsZS5cclxuICAgICAqIEBwYXJhbSB4UG9zOiBUYWcgSW5kaWNhdG9yIFhjb29yZFxyXG4gICAgICogQHBhcmFtIHlQb3M6IFRhZyBJbmRpY2F0b3IgWSBjb29yZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFRhZ2xpc3RQb3NpdGlvbih4UG9zOiBudW1iZXIsIHlQb3M6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuaXNDZW50ZXJBbGlnbm1lbnRSZXF1aXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNMZWZ0QWxpZ25tZW50UmVxdWlyZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzUmlnaHRBbGlnbm1lbnRSZXF1aXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNUb3BBbGlnbm1lbnRSZXF1aXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNCb3R0b21BbGlnbm1lbnRSZXF1aXJlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBUYWcgaW5kaWNhdG9yIENvb3Jkcy5cclxuICAgICAgICB0aGlzLnhQb3MgPSB4UG9zO1xyXG4gICAgICAgIHRoaXMueVBvcyA9IHlQb3M7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgaGVpZ2h0IGFuZCB3aWR0aCBvZiBzY3JvbGwgaG9sZGVyLlxyXG4gICAgICAgIGxldCB3b3JrbGlzdEVsZW1lbnQ6IENsaWVudFJlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0YWJsZS1zY3JvbGwtaG9sZGVyJylbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0SGVpZ2h0OiBudW1iZXIgPSB3b3JrbGlzdEVsZW1lbnQuaGVpZ2h0O1xyXG4gICAgICAgIGxldCB3b3JrbGlzdFdpZHRoOiBudW1iZXIgPSB3b3JrbGlzdEVsZW1lbnQud2lkdGg7XHJcblxyXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIHRhZyBsaXN0IHNob3cgaW4gQm90dG9tL1RvcC5cclxuICAgICAgICB0aGlzLmlzVmVydGljYWxBbGlnbm1lbnRSZXF1aXJlZCh0aGlzLnlQb3MsIHdvcmtsaXN0SGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgdGFnIGxpc3Qgc2hvdyBpbiBSaWdodC9MZWZ0LlxyXG4gICAgICAgIHRoaXMuaXNIb3Jpem9udGFsQWxpZ25tZW50UmVxdWlyZWQodGhpcy54UG9zLCB3b3JrbGlzdFdpZHRoKTtcclxuXHJcbiAgICAgICAgLy8gSWYgbm8gc3BhY2UgYXZhaWxhYmxlIGluIGJvdHRvbSBvciBUb3AgcG9ydGlvbixcclxuICAgICAgICAvLyB3ZSBzaG91bGQgZGlzcGxheSBpdCBpbiBjZW50cmUgcG9zaXRpb24uXHJcbiAgICAgICAgaWYgKHRoaXMuaXNCb3R0b21BbGlnbm1lbnRSZXF1aXJlZCA9PT0gZmFsc2UgJiYgdGhpcy5pc1RvcEFsaWdubWVudFJlcXVpcmVkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzQ2VudGVyQWxpZ25tZW50UmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHRoZSBtYXJrR3JvdXBJZHMgZm9yIHRhZ2dpbmcgdGhlIHJlc3Bvc25zZS5cclxuXHQgKiBAcGFyYW0gY3VycmVudE1hcmtHcm91cElkXHJcblx0ICogQHBhcmFtIGlzRVNSZXNwb25zZVxyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSBwb3B1bGF0ZU1hcmtHcm91cExpc3QoY3VycmVudE1hcmtHcm91cElkOiBudW1iZXIsIGlzRVNSZXNwb25zZTogYm9vbGVhbik6IG51bWJlcltdIHtcclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRzOiBudW1iZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgcmVzcG9uc2UgaXMgYW4gZXMgcmVzcG9uc2UgdGhlbiB3aG9sZSByZXNwb25zZSB0YWdnaW5nIGlzIG5vdCBwb3NzaWJsZVxyXG4gICAgICAgIC8vIFNvIG9ubHkgcHVzaGluZyB0aGUgY3VycmVudCBtYXJrR3JvdXBJRCBpbnRvIHRoZSBjb2xsZWN0aW9uXHJcbiAgICAgICAgLy8gZWxzZSB3ZSBuZWVkIHRvIGFkZCB0aGUgcmVsYXRlZCBtYXJrR3JvdXBJZHMgZm9yIGEgd2hvbGUgcmVzcG9uc2UuXHJcbiAgICAgICAgaWYgKGlzRVNSZXNwb25zZSkge1xyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZHMucHVzaChjdXJyZW50TWFya0dyb3VwSWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcmtHcm91cElkcyA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVsYXRlZE1hcmtHcm91cElkc0Zvcldob2xlUmVzcG9uc2UoY3VycmVudE1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgbWFya0dyb3VwSWRzLnVuc2hpZnQoY3VycmVudE1hcmtHcm91cElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hcmtHcm91cElkcztcclxuICAgIH1cclxufVxyXG5leHBvcnQgPSBUYWdMaXN0O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvcmVzcG9uc2UvcmVzcG9uc2VzY3JlZW4vdGFnbGlzdC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF3QkE7O0FBRUE7QUFDQTtBQUFBO0FBVUE7O0FBRUE7QUFDQTtBQUFBO0FBTkE7QUFDQTtBQTBEQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQVVBO0FBQ0E7QUFDQTtBQW1DQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeEtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFTQTtBQUNBO0FBSUE7QUEyQkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 315:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/components/worklist/shared/genericdate.tsx ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n    React component for generic date.\r\n*/\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeHelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\n/**\r\n * Stateless component for generic date.\r\n * @param props\r\n */\r\nvar genericDate = function (props) {\r\n    var dateValue = props.displayText ? props.displayText : localeHelper.toLocaleDateTimeString(props.dateValue);\r\n    return (React.createElement(\"span\", { id: props.id, className: props.className }, dateValue));\r\n};\r\nmodule.exports = genericDate;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2dlbmVyaWNkYXRlLnRzeD83YmYyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgICBSZWFjdCBjb21wb25lbnQgZm9yIGdlbmVyaWMgZGF0ZS5cclxuKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgbG9jYWxlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9sb2NhbGUvbG9jYWxlaGVscGVyJyk7XHJcbmltcG9ydCBzdHJpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dlbmVyaWMvc3RyaW5naGVscGVyJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IGNvbnN0YW50ID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25zdGFudHMnKTtcclxuXHJcbmludGVyZmFjZSBHZW5lcmljRGF0ZSBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBkYXRlVmFsdWU/OiBEYXRlO1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIGNsYXNzTmFtZTogc3RyaW5nO1xyXG4gICAgZGlzcGxheVRleHQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdGF0ZWxlc3MgY29tcG9uZW50IGZvciBnZW5lcmljIGRhdGUuXHJcbiAqIEBwYXJhbSBwcm9wc1xyXG4gKi9cclxuY29uc3QgZ2VuZXJpY0RhdGU6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxHZW5lcmljRGF0ZT4gPSAocHJvcHM6IEdlbmVyaWNEYXRlKSA9PiB7XHJcbiAgICBsZXQgZGF0ZVZhbHVlIDogc3RyaW5nID0gcHJvcHMuZGlzcGxheVRleHQgPyBwcm9wcy5kaXNwbGF5VGV4dCA6IGxvY2FsZUhlbHBlci50b0xvY2FsZURhdGVUaW1lU3RyaW5nKHByb3BzLmRhdGVWYWx1ZSk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxzcGFuIGlkPXtwcm9wcy5pZH0gY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxyXG4gICAgICAgICAgICB7ZGF0ZVZhbHVlfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICk7XHJcbn07XHJcblxyXG5leHBvcnQgPSBnZW5lcmljRGF0ZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2dlbmVyaWNkYXRlLnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBOztBQUVBO0FBQ0E7QUFFQTtBQVlBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 319:
/* no static exports found */
/* all exports used */
/*!********************************************************************!*\
  !*** ./src/utility/worklistvalidators/worklistvalidatorfactory.ts ***!
  \********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar worklistValidatorList = __webpack_require__(/*! ./worklistvalidatorlist */ 304);\r\nvar liveWorklistValidator = __webpack_require__(/*! ./liveworklistvalidator */ 421);\r\nvar standardisationWorklistValidator = __webpack_require__(/*! ./standardisationworklistvalidator */ 424);\r\nvar practiceWorklistValidator = __webpack_require__(/*! ./practiceworklistvalidator */ 422);\r\nvar directedRemarkWorlistValidator = __webpack_require__(/*! ./directedremarkworklistvalidator */ 420);\r\nvar simulationkWorlistValidator = __webpack_require__(/*! ./simulationworklistvalidator */ 423);\r\nvar WorklistValidatorFactory = /** @class */ (function () {\r\n    function WorklistValidatorFactory() {\r\n    }\r\n    /**\r\n     * returns the validator object.\r\n     * @param comparerName - Name of the validator - should be a member of the worklistvalidatorlist enum.\r\n     */\r\n    WorklistValidatorFactory.prototype.getValidator = function (validatorName) {\r\n        var worklistValidator = undefined;\r\n        switch (validatorName) {\r\n            /** instance of liveWorklistValidator to be registered in this factory */\r\n            case worklistValidatorList.liveOpen:\r\n            case worklistValidatorList.atypicalOpen:\r\n                worklistValidator = new liveWorklistValidator();\r\n                break;\r\n            case worklistValidatorList.standardisationOpen:\r\n                worklistValidator = new standardisationWorklistValidator();\r\n                break;\r\n            case worklistValidatorList.practiceOpen:\r\n                worklistValidator = new practiceWorklistValidator();\r\n                break;\r\n            case worklistValidatorList.directedRemarkOpen:\r\n                worklistValidator = new directedRemarkWorlistValidator();\r\n                break;\r\n            case worklistValidatorList.simulationOpen:\r\n                worklistValidator = new simulationkWorlistValidator();\r\n        }\r\n        /** returns the validator object corresponding to  the name */\r\n        return worklistValidator;\r\n    };\r\n    return WorklistValidatorFactory;\r\n}());\r\nvar validatorFactory = new WorklistValidatorFactory();\r\nmodule.exports = validatorFactory;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9yZmFjdG9yeS50cz8wNzM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB3b3JrbGlzdFZhbGlkYXRvckxpc3QgPSByZXF1aXJlKCcuL3dvcmtsaXN0dmFsaWRhdG9ybGlzdCcpO1xyXG5pbXBvcnQgbGl2ZVdvcmtsaXN0VmFsaWRhdG9yID0gcmVxdWlyZSgnLi9saXZld29ya2xpc3R2YWxpZGF0b3InKTtcclxuaW1wb3J0IHdvcmtsaXN0dmFsaWRhdG9yc2NoZW1hID0gcmVxdWlyZSgnLi93b3JrbGlzdHZhbGlkYXRvcnNjaGVtYScpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uV29ya2xpc3RWYWxpZGF0b3IgPSByZXF1aXJlKCcuL3N0YW5kYXJkaXNhdGlvbndvcmtsaXN0dmFsaWRhdG9yJyk7XHJcbmltcG9ydCBwcmFjdGljZVdvcmtsaXN0VmFsaWRhdG9yID0gcmVxdWlyZSgnLi9wcmFjdGljZXdvcmtsaXN0dmFsaWRhdG9yJyk7XHJcbmltcG9ydCBkaXJlY3RlZFJlbWFya1dvcmxpc3RWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2RpcmVjdGVkcmVtYXJrd29ya2xpc3R2YWxpZGF0b3InKTtcclxuaW1wb3J0IHNpbXVsYXRpb25rV29ybGlzdFZhbGlkYXRvciA9IHJlcXVpcmUoJy4vc2ltdWxhdGlvbndvcmtsaXN0dmFsaWRhdG9yJyk7XHJcblxyXG5jbGFzcyBXb3JrbGlzdFZhbGlkYXRvckZhY3Rvcnkge1xyXG4gICAvKipcclxuICAgICogcmV0dXJucyB0aGUgdmFsaWRhdG9yIG9iamVjdC5cclxuICAgICogQHBhcmFtIGNvbXBhcmVyTmFtZSAtIE5hbWUgb2YgdGhlIHZhbGlkYXRvciAtIHNob3VsZCBiZSBhIG1lbWJlciBvZiB0aGUgd29ya2xpc3R2YWxpZGF0b3JsaXN0IGVudW0uXHJcbiAgICAqL1xyXG4gICAgcHVibGljIGdldFZhbGlkYXRvcih2YWxpZGF0b3JOYW1lOiB3b3JrbGlzdFZhbGlkYXRvckxpc3QpOiB3b3JrbGlzdHZhbGlkYXRvcnNjaGVtYSB7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0VmFsaWRhdG9yOiB3b3JrbGlzdHZhbGlkYXRvcnNjaGVtYSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgc3dpdGNoICh2YWxpZGF0b3JOYW1lKSB7XHJcbiAgICAgICAgICAgIC8qKiBpbnN0YW5jZSBvZiBsaXZlV29ya2xpc3RWYWxpZGF0b3IgdG8gYmUgcmVnaXN0ZXJlZCBpbiB0aGlzIGZhY3RvcnkgKi9cclxuXHRcdFx0Y2FzZSB3b3JrbGlzdFZhbGlkYXRvckxpc3QubGl2ZU9wZW46XHJcblx0XHRcdGNhc2Ugd29ya2xpc3RWYWxpZGF0b3JMaXN0LmF0eXBpY2FsT3BlbjpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yID0gbmV3IGxpdmVXb3JrbGlzdFZhbGlkYXRvcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2Ugd29ya2xpc3RWYWxpZGF0b3JMaXN0LnN0YW5kYXJkaXNhdGlvbk9wZW46XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFZhbGlkYXRvciA9IG5ldyBzdGFuZGFyZGlzYXRpb25Xb3JrbGlzdFZhbGlkYXRvcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2Ugd29ya2xpc3RWYWxpZGF0b3JMaXN0LnByYWN0aWNlT3BlbjpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yID0gbmV3IHByYWN0aWNlV29ya2xpc3RWYWxpZGF0b3IoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIHdvcmtsaXN0VmFsaWRhdG9yTGlzdC5kaXJlY3RlZFJlbWFya09wZW46XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFZhbGlkYXRvciA9IG5ldyBkaXJlY3RlZFJlbWFya1dvcmxpc3RWYWxpZGF0b3IoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIHdvcmtsaXN0VmFsaWRhdG9yTGlzdC5zaW11bGF0aW9uT3BlbjpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yID0gbmV3IHNpbXVsYXRpb25rV29ybGlzdFZhbGlkYXRvcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqIHJldHVybnMgdGhlIHZhbGlkYXRvciBvYmplY3QgY29ycmVzcG9uZGluZyB0byAgdGhlIG5hbWUgKi9cclxuICAgICAgICByZXR1cm4gd29ya2xpc3RWYWxpZGF0b3I7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCB2YWxpZGF0b3JGYWN0b3J5ID0gbmV3IFdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeSgpO1xyXG5leHBvcnQgPSB2YWxpZGF0b3JGYWN0b3J5O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvd29ya2xpc3R2YWxpZGF0b3JmYWN0b3J5LnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQThCQTtBQTdCQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 325:
/* no static exports found */
/* all exports used */
/*!**********************************************************!*\
  !*** ./src/components/utility/messageeditorconstants.ts ***!
  \**********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar MessageEditorConstants;\r\n(function (MessageEditorConstants) {\r\n    MessageEditorConstants.TINYMCE_THEME = 'advanced';\r\n    MessageEditorConstants.TINYMCE_PLUGINS = 'link textcolor advlist';\r\n    MessageEditorConstants.TINYMCE_TOOLBAR = 'bold italic underline | fontselect fontsizeselect | alignleft aligncenter alignright | bullist numlist | link';\r\n    MessageEditorConstants.TINYMCE_FONTSIZES = '8px 10px 12px 14px 18px 24px 36px';\r\n    MessageEditorConstants.TINYMCE_FONTS = 'Andale Mono=andale mono,times;'\r\n        + 'Arial=arial,helvetica,sans-serif;'\r\n        + 'Arial Black=arial black,avant garde;'\r\n        + 'Book Antiqua=book antiqua,palatino;'\r\n        + 'Comic Sans MS=comic sans ms,sans-serif;'\r\n        + 'Courier New=courier new,courier;'\r\n        + 'Georgia=georgia,palatino;'\r\n        + 'Helvetica=helvetica;'\r\n        + 'Impact=impact,chicago;'\r\n        + 'Tahoma=tahoma,arial,helvetica,sans-serif;'\r\n        + 'Terminal=terminal,monaco;'\r\n        + 'Times New Roman=times new roman,times;'\r\n        + 'Trebuchet MS=trebuchet ms,geneva;'\r\n        + 'Verdana=verdana,geneva;';\r\n    MessageEditorConstants.TINYMCE_TEXTCOLOR_PALETTE = [\r\n        '000000', '',\r\n        '993300', '',\r\n        '333300', '',\r\n        '003300', '',\r\n        '003366', '',\r\n        '000080', '',\r\n        '333399', '',\r\n        '333333', '',\r\n        '800000', '',\r\n        '808000', '',\r\n        '008000', '',\r\n        '008080', '',\r\n        '0000FF', '',\r\n        '666699', '',\r\n        '808080', '',\r\n        'FF0000', '',\r\n        '99CC00', '',\r\n        '339966', '',\r\n        '33CCCC', '',\r\n        '3366FF', '',\r\n        '800080', '',\r\n        '999999', '',\r\n        'FF00FF', '',\r\n        '00FF00', '',\r\n        '00FFFF', '',\r\n        '00CCFF', '',\r\n        '993366', '',\r\n        'FFFFFF', '',\r\n        '99CCFF', '',\r\n    ];\r\n    MessageEditorConstants.TINYMCE_FONTNAME_CMD = 'FontName';\r\n    MessageEditorConstants.TINYMCE_FONTSIZE_CMD = 'FontSize';\r\n    MessageEditorConstants.TINYMCE_DEFAULT_FONT = 'arial,helvetica,sans-serif';\r\n    MessageEditorConstants.TINYMCE_DEFAULT_FONTSIZE = '12px';\r\n})(MessageEditorConstants || (MessageEditorConstants = {}));\r\nmodule.exports = MessageEditorConstants;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9tZXNzYWdlZWRpdG9yY29uc3RhbnRzLnRzP2NkZmYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlIE1lc3NhZ2VFZGl0b3JDb25zdGFudHMge1xyXG4gICAgZXhwb3J0IGNvbnN0IFRJTllNQ0VfVEhFTUUgPSAnYWR2YW5jZWQnO1xyXG4gICAgZXhwb3J0IGNvbnN0IFRJTllNQ0VfUExVR0lOUyA9ICdsaW5rIHRleHRjb2xvciBhZHZsaXN0JztcclxuICAgIGV4cG9ydCBjb25zdCBUSU5ZTUNFX1RPT0xCQVIgPVxyXG4gICAgICAgICdib2xkIGl0YWxpYyB1bmRlcmxpbmUgfCBmb250c2VsZWN0IGZvbnRzaXplc2VsZWN0IHwgYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgfCBidWxsaXN0IG51bWxpc3QgfCBsaW5rJztcclxuICAgIGV4cG9ydCBjb25zdCBUSU5ZTUNFX0ZPTlRTSVpFUyA9ICc4cHggMTBweCAxMnB4IDE0cHggMThweCAyNHB4IDM2cHgnO1xyXG4gICAgZXhwb3J0IGNvbnN0IFRJTllNQ0VfRk9OVFMgPSAnQW5kYWxlIE1vbm89YW5kYWxlIG1vbm8sdGltZXM7J1xyXG4gICAgICAgICsgJ0FyaWFsPWFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmOydcclxuICAgICAgICArICdBcmlhbCBCbGFjaz1hcmlhbCBibGFjayxhdmFudCBnYXJkZTsnXHJcbiAgICAgICAgKyAnQm9vayBBbnRpcXVhPWJvb2sgYW50aXF1YSxwYWxhdGlubzsnXHJcbiAgICAgICAgKyAnQ29taWMgU2FucyBNUz1jb21pYyBzYW5zIG1zLHNhbnMtc2VyaWY7J1xyXG4gICAgICAgICsgJ0NvdXJpZXIgTmV3PWNvdXJpZXIgbmV3LGNvdXJpZXI7J1xyXG4gICAgICAgICsgJ0dlb3JnaWE9Z2VvcmdpYSxwYWxhdGlubzsnXHJcbiAgICAgICAgKyAnSGVsdmV0aWNhPWhlbHZldGljYTsnXHJcbiAgICAgICAgKyAnSW1wYWN0PWltcGFjdCxjaGljYWdvOydcclxuICAgICAgICArICdUYWhvbWE9dGFob21hLGFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmOydcclxuICAgICAgICArICdUZXJtaW5hbD10ZXJtaW5hbCxtb25hY287J1xyXG4gICAgICAgICsgJ1RpbWVzIE5ldyBSb21hbj10aW1lcyBuZXcgcm9tYW4sdGltZXM7J1xyXG4gICAgICAgICsgJ1RyZWJ1Y2hldCBNUz10cmVidWNoZXQgbXMsZ2VuZXZhOydcclxuICAgICAgICArICdWZXJkYW5hPXZlcmRhbmEsZ2VuZXZhOyc7XHJcbiAgICBleHBvcnQgY29uc3QgVElOWU1DRV9URVhUQ09MT1JfUEFMRVRURSA9IFtcclxuICAgICAgICAnMDAwMDAwJywgJycsXHJcbiAgICAgICAgJzk5MzMwMCcsICcnLFxyXG4gICAgICAgICczMzMzMDAnLCAnJyxcclxuICAgICAgICAnMDAzMzAwJywgJycsXHJcbiAgICAgICAgJzAwMzM2NicsICcnLFxyXG4gICAgICAgICcwMDAwODAnLCAnJyxcclxuICAgICAgICAnMzMzMzk5JywgJycsXHJcbiAgICAgICAgJzMzMzMzMycsICcnLFxyXG4gICAgICAgICc4MDAwMDAnLCAnJyxcclxuICAgICAgICAnODA4MDAwJywgJycsXHJcbiAgICAgICAgJzAwODAwMCcsICcnLFxyXG4gICAgICAgICcwMDgwODAnLCAnJyxcclxuICAgICAgICAnMDAwMEZGJywgJycsXHJcbiAgICAgICAgJzY2NjY5OScsICcnLFxyXG4gICAgICAgICc4MDgwODAnLCAnJyxcclxuICAgICAgICAnRkYwMDAwJywgJycsXHJcbiAgICAgICAgJzk5Q0MwMCcsICcnLFxyXG4gICAgICAgICczMzk5NjYnLCAnJyxcclxuICAgICAgICAnMzNDQ0NDJywgJycsXHJcbiAgICAgICAgJzMzNjZGRicsICcnLFxyXG4gICAgICAgICc4MDAwODAnLCAnJyxcclxuICAgICAgICAnOTk5OTk5JywgJycsXHJcbiAgICAgICAgJ0ZGMDBGRicsICcnLFxyXG4gICAgICAgICcwMEZGMDAnLCAnJyxcclxuICAgICAgICAnMDBGRkZGJywgJycsXHJcbiAgICAgICAgJzAwQ0NGRicsICcnLFxyXG4gICAgICAgICc5OTMzNjYnLCAnJyxcclxuICAgICAgICAnRkZGRkZGJywgJycsXHJcbiAgICAgICAgJzk5Q0NGRicsICcnLFxyXG4gICAgXTtcclxuICAgIGV4cG9ydCBjb25zdCBUSU5ZTUNFX0ZPTlROQU1FX0NNRCA9ICdGb250TmFtZSc7XHJcbiAgICBleHBvcnQgY29uc3QgVElOWU1DRV9GT05UU0laRV9DTUQgPSAnRm9udFNpemUnO1xyXG4gICAgZXhwb3J0IGNvbnN0IFRJTllNQ0VfREVGQVVMVF9GT05UID0gJ2FyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmJztcclxuICAgIGV4cG9ydCBjb25zdCBUSU5ZTUNFX0RFRkFVTFRfRk9OVFNJWkUgPSAnMTJweCc7XHJcbn1cclxuZXhwb3J0ID0gTWVzc2FnZUVkaXRvckNvbnN0YW50cztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9tZXNzYWdlZWRpdG9yY29uc3RhbnRzLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 326:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/stores/busyindicator/busyindicatorstore.ts ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar storeBase = __webpack_require__(/*! ../base/storebase */ 285);\r\nvar dispatcher = __webpack_require__(/*! ../../app/dispatcher */ 242);\r\nvar actionType = __webpack_require__(/*! ../../actions/base/actiontypes */ 228);\r\n/* The busy indicator store */\r\nvar BusyIndicatorStore = /** @class */ (function (_super) {\r\n    __extends(BusyIndicatorStore, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function BusyIndicatorStore() {\r\n        var _this = _super.call(this) || this;\r\n        _this.dispatchToken = dispatcher.register(function (action) {\r\n            if (action.actionType === actionType.BUSY_INDICATOR) {\r\n                _this.busyIndicatorInvoker = action.getBusyIndicatorInvoker;\r\n                _this.emit(BusyIndicatorStore.BUSY_INDICATOR);\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BusyIndicatorStore.prototype, \"getBusyIndicatorInvoker\", {\r\n        /**\r\n         * Returns the busy indicator invoker\r\n         * @returns\r\n         */\r\n        get: function () {\r\n            return this.busyIndicatorInvoker;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BusyIndicatorStore.BUSY_INDICATOR = 'setBusyIndicatorInvoker';\r\n    return BusyIndicatorStore;\r\n}(storeBase));\r\nvar instance = new BusyIndicatorStore();\r\nmodule.exports = { BusyIndicatorStore: BusyIndicatorStore, instance: instance };\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3Jlcy9idXN5aW5kaWNhdG9yL2J1c3lpbmRpY2F0b3JzdG9yZS50cz83OTVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdG9yZUJhc2UgPSByZXF1aXJlKCcuLi9iYXNlL3N0b3JlYmFzZScpO1xyXG5pbXBvcnQgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uLy4uL2FwcC9kaXNwYXRjaGVyJyk7XHJcbmltcG9ydCBhY3Rpb24gPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL2Jhc2UvYWN0aW9uJyk7XHJcbmltcG9ydCBhY3Rpb25UeXBlID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9iYXNlL2FjdGlvbnR5cGVzJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgYnVzeUluZGljYXRvckFjdGlvbiA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvYnVzeWluZGljYXRvci9idXN5aW5kaWNhdG9yYWN0aW9uJyk7XHJcblxyXG4vKiBUaGUgYnVzeSBpbmRpY2F0b3Igc3RvcmUgKi9cclxuY2xhc3MgQnVzeUluZGljYXRvclN0b3JlIGV4dGVuZHMgc3RvcmVCYXNlIHtcclxuICAgIHByaXZhdGUgYnVzeUluZGljYXRvckludm9rZXI6IGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyO1xyXG4gICAgcHVibGljIHN0YXRpYyBCVVNZX0lORElDQVRPUiA9ICdzZXRCdXN5SW5kaWNhdG9ySW52b2tlcic7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoVG9rZW4gPSBkaXNwYXRjaGVyLnJlZ2lzdGVyKChhY3Rpb246IGFjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWN0aW9uLmFjdGlvblR5cGUgPT09IGFjdGlvblR5cGUuQlVTWV9JTkRJQ0FUT1IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVzeUluZGljYXRvckludm9rZXIgPSAoYWN0aW9uIGFzIGJ1c3lJbmRpY2F0b3JBY3Rpb24pLmdldEJ1c3lJbmRpY2F0b3JJbnZva2VyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KEJ1c3lJbmRpY2F0b3JTdG9yZS5CVVNZX0lORElDQVRPUik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBidXN5IGluZGljYXRvciBpbnZva2VyXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG4gICAgcHVibGljIGdldCBnZXRCdXN5SW5kaWNhdG9ySW52b2tlcigpOiBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVzeUluZGljYXRvckludm9rZXI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBpbnN0YW5jZSA9IG5ldyBCdXN5SW5kaWNhdG9yU3RvcmUoKTtcclxuZXhwb3J0ID0geyBCdXN5SW5kaWNhdG9yU3RvcmUsIGluc3RhbmNlIH07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9zdG9yZXMvYnVzeWluZGljYXRvci9idXN5aW5kaWNhdG9yc3RvcmUudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUFBO0FBSUE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBTUE7QUFKQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBckJBO0FBc0JBO0FBQUE7QUFFQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 327:
/* no static exports found */
/* all exports used */
/*!**********************************************************!*\
  !*** ./src/stores/teammanagement/warningmessagestore.ts ***!
  \**********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar dispatcher = __webpack_require__(/*! ../../app/dispatcher */ 242);\r\nvar storeBase = __webpack_require__(/*! ../base/storebase */ 285);\r\nvar actionType = __webpack_require__(/*! ../../actions/base/actiontypes */ 228);\r\n/**\r\n * Warning Message store\r\n */\r\nvar WarningMessageStore = /** @class */ (function (_super) {\r\n    __extends(WarningMessageStore, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function WarningMessageStore() {\r\n        var _this = _super.call(this) || this;\r\n        _this._dispatchToken = dispatcher.register(function (action) {\r\n            switch (action.actionType) {\r\n                case actionType.WARNING_MESSAGE_ACTION:\r\n                    var validateAction = action;\r\n                    _this.emit(WarningMessageStore.WARNING_MESSAGE_EVENT, validateAction.failureCode, validateAction.warningMessageAction);\r\n                    break;\r\n                case actionType.WARNING_MESSAGE_NAVIGATION_ACTION:\r\n                    var navigationAction = action;\r\n                    _this.emit(WarningMessageStore.WARNING_MESSAGE_NAVIGATION_EVENT, navigationAction.failureCode, navigationAction.warningMessageAction);\r\n                    break;\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    // Warning message event\r\n    WarningMessageStore.WARNING_MESSAGE_EVENT = 'warningessageevent';\r\n    // Warning message event\r\n    WarningMessageStore.WARNING_MESSAGE_NAVIGATION_EVENT = 'warningessagenavigationevent';\r\n    return WarningMessageStore;\r\n}(storeBase));\r\nvar instance = new WarningMessageStore();\r\nmodule.exports = { WarningMessageStore: WarningMessageStore, instance: instance };\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC93YXJuaW5nbWVzc2FnZXN0b3JlLnRzP2I0ZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi8uLi9hcHAvZGlzcGF0Y2hlcicpO1xyXG5pbXBvcnQgYWN0aW9uID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9iYXNlL2FjdGlvbicpO1xyXG5pbXBvcnQgc3RvcmVCYXNlID0gcmVxdWlyZSgnLi4vYmFzZS9zdG9yZWJhc2UnKTtcclxuaW1wb3J0IGFjdGlvblR5cGUgPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL2Jhc2UvYWN0aW9udHlwZXMnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCB2YWxpZGF0aW9uQWN0aW9uID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy90ZWFtbWFuYWdlbWVudC92YWxpZGF0aW9uYWN0aW9uJyk7XHJcbmltcG9ydCB3YXJuaW5nTWVzc2FnZU5hdmlnYXRpb25BY3Rpb24gPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL3RlYW1tYW5hZ2VtZW50L3dhcm5pbmdtZXNzYWdlbmF2aWdhdGlvbmFjdGlvbicpO1xyXG5cclxuLyoqXHJcbiAqIFdhcm5pbmcgTWVzc2FnZSBzdG9yZVxyXG4gKi9cclxuY2xhc3MgV2FybmluZ01lc3NhZ2VTdG9yZSBleHRlbmRzIHN0b3JlQmFzZSB7XHJcblxyXG4gICAgLy8gV2FybmluZyBtZXNzYWdlIGV2ZW50XHJcbiAgICBwdWJsaWMgc3RhdGljIFdBUk5JTkdfTUVTU0FHRV9FVkVOVCA9ICd3YXJuaW5nZXNzYWdlZXZlbnQnO1xyXG5cclxuICAgIC8vIFdhcm5pbmcgbWVzc2FnZSBldmVudFxyXG4gICAgcHVibGljIHN0YXRpYyBXQVJOSU5HX01FU1NBR0VfTkFWSUdBVElPTl9FVkVOVCA9ICd3YXJuaW5nZXNzYWdlbmF2aWdhdGlvbmV2ZW50JztcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoVG9rZW4gPSBkaXNwYXRjaGVyLnJlZ2lzdGVyKChhY3Rpb246IGFjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbi5hY3Rpb25UeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGFjdGlvblR5cGUuV0FSTklOR19NRVNTQUdFX0FDVElPTjpcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsaWRhdGVBY3Rpb24gPSAoYWN0aW9uIGFzIHZhbGlkYXRpb25BY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChXYXJuaW5nTWVzc2FnZVN0b3JlLldBUk5JTkdfTUVTU0FHRV9FVkVOVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVBY3Rpb24uZmFpbHVyZUNvZGUsIHZhbGlkYXRlQWN0aW9uLndhcm5pbmdNZXNzYWdlQWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgYWN0aW9uVHlwZS5XQVJOSU5HX01FU1NBR0VfTkFWSUdBVElPTl9BQ1RJT046XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hdmlnYXRpb25BY3Rpb24gPSAoYWN0aW9uIGFzIHdhcm5pbmdNZXNzYWdlTmF2aWdhdGlvbkFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFdhcm5pbmdNZXNzYWdlU3RvcmUuV0FSTklOR19NRVNTQUdFX05BVklHQVRJT05fRVZFTlQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25BY3Rpb24uZmFpbHVyZUNvZGUsIG5hdmlnYXRpb25BY3Rpb24ud2FybmluZ01lc3NhZ2VBY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBpbnN0YW5jZSA9IG5ldyBXYXJuaW5nTWVzc2FnZVN0b3JlKCk7XHJcbmV4cG9ydCA9IHsgV2FybmluZ01lc3NhZ2VTdG9yZSwgaW5zdGFuY2UgfTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9zdG9yZXMvdGVhbW1hbmFnZW1lbnQvd2FybmluZ21lc3NhZ2VzdG9yZS50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFLQTs7QUFFQTtBQUNBO0FBQUE7QUFRQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUF6QkE7QUFDQTtBQUVBO0FBQ0E7QUFzQkE7QUFBQTtBQUVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 329:
/* no static exports found */
/* all exports used */
/*!*********************************************************!*\
  !*** ./src/components/worklist/shared/columnheader.tsx ***!
  \*********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar SortArrow = __webpack_require__(/*! ../../utility/table/sortarrow */ 340);\r\n/* tslint:disable:variable-name */\r\nvar ColumnHeader = function (props) {\r\n    if (props.isSortingRequired) {\r\n        return (React.createElement(\"a\", { className: getSortClassName(), href: 'javascript:void(0)', title: getTitleText() },\r\n            React.createElement(\"div\", { className: 'frozen-header' },\r\n                React.createElement(\"span\", { className: 'sort-head-text', id: 'col_' + props.headerText.replace(/ /g, '') }, props.headerText),\r\n                React.createElement(SortArrow, { sortOption: props.sortOption }))));\r\n    }\r\n    else {\r\n        return (React.createElement(\"div\", { className: 'frozen-header' },\r\n            React.createElement(\"span\", { className: 'sort-head-text', id: 'col_' + props.headerText.replace(/ /g, '') }, props.headerText)));\r\n    }\r\n    /**\r\n     * This method will return the sort className\r\n     */\r\n    function getSortClassName() {\r\n        if (!props.isSortingRequired) {\r\n            return '';\r\n        }\r\n        if (props.isCurrentSort) {\r\n            if (props.sortOption === undefined || props.sortOption === enums.SortOption.Both) {\r\n                return (props.sortDirection === enums.SortDirection.Descending) ?\r\n                    'sortable-link desc' : 'sortable-link asc';\r\n            }\r\n            else if (props.sortOption === enums.SortOption.Up) {\r\n                return ('sortable-link asc');\r\n            }\r\n            else {\r\n                return ('sortable-link desc');\r\n            }\r\n        }\r\n        else {\r\n            return 'sortable-link';\r\n        }\r\n    }\r\n    /**\r\n     * Gets Title text.\r\n     */\r\n    function getTitleText() {\r\n        if (props.headerText && props.headerText !== '') {\r\n            return localeStore.instance.TranslateText('marking.worklist.list-view-column-headers.sort-by-tooltip') + ' ' + props.headerText;\r\n        }\r\n    }\r\n};\r\nmodule.exports = ColumnHeader;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2NvbHVtbmhlYWRlci50c3g/NWY3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IFNvcnRBcnJvdyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvdGFibGUvc29ydGFycm93Jyk7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2Uge1xyXG4gICAgaGVhZGVyVGV4dDogc3RyaW5nO1xyXG4gICAgc29ydERpcmVjdGlvbj86IGVudW1zLlNvcnREaXJlY3Rpb247XHJcbiAgICBpc0N1cnJlbnRTb3J0PzogYm9vbGVhbjtcclxuICAgIGlzU29ydGluZ1JlcXVpcmVkPzogYm9vbGVhbjtcclxuICAgIHNvcnRPcHRpb24/OiBlbnVtcy5Tb3J0T3B0aW9uO1xyXG59XHJcblxyXG4vKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbmNvbnN0IENvbHVtbkhlYWRlciA9IChwcm9wczogUHJvcHMpID0+IHtcclxuXHJcbiAgICBpZiAocHJvcHMuaXNTb3J0aW5nUmVxdWlyZWQpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8YSBjbGFzc05hbWU9e2dldFNvcnRDbGFzc05hbWUoKX1cclxuICAgICAgICAgICAgICAgIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKSdcclxuICAgICAgICAgICAgICAgIHRpdGxlPXtnZXRUaXRsZVRleHQoKX0gPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Zyb3plbi1oZWFkZXInPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc29ydC1oZWFkLXRleHQnIGlkPXsnY29sXycgKyBwcm9wcy5oZWFkZXJUZXh0LnJlcGxhY2UoLyAvZywgJycpfT57cHJvcHMuaGVhZGVyVGV4dH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPFNvcnRBcnJvdyBzb3J0T3B0aW9uPXtwcm9wcy5zb3J0T3B0aW9ufSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvYT4pO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Zyb3plbi1oZWFkZXInPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdzb3J0LWhlYWQtdGV4dCcgaWQ9eydjb2xfJyArIHByb3BzLmhlYWRlclRleHQucmVwbGFjZSgvIC9nLCAnJyl9Pntwcm9wcy5oZWFkZXJUZXh0fTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBzb3J0IGNsYXNzTmFtZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRTb3J0Q2xhc3NOYW1lKCkge1xyXG4gICAgICAgIGlmICghcHJvcHMuaXNTb3J0aW5nUmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHByb3BzLmlzQ3VycmVudFNvcnQpIHtcclxuICAgICAgICAgICAgaWYgKHByb3BzLnNvcnRPcHRpb24gPT09IHVuZGVmaW5lZCB8fCBwcm9wcy5zb3J0T3B0aW9uID09PSBlbnVtcy5Tb3J0T3B0aW9uLkJvdGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAocHJvcHMuc29ydERpcmVjdGlvbiA9PT0gZW51bXMuU29ydERpcmVjdGlvbi5EZXNjZW5kaW5nKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgJ3NvcnRhYmxlLWxpbmsgZGVzYycgOiAnc29ydGFibGUtbGluayBhc2MnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb3BzLnNvcnRPcHRpb24gPT09IGVudW1zLlNvcnRPcHRpb24uVXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoJ3NvcnRhYmxlLWxpbmsgYXNjJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCdzb3J0YWJsZS1saW5rIGRlc2MnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnc29ydGFibGUtbGluayc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBUaXRsZSB0ZXh0LlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRUaXRsZVRleHQoKSB7XHJcbiAgICAgICAgaWYgKHByb3BzLmhlYWRlclRleHQgJiYgcHJvcHMuaGVhZGVyVGV4dCAhPT0gJycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICgnbWFya2luZy53b3JrbGlzdC5saXN0LXZpZXctY29sdW1uLWhlYWRlcnMuc29ydC1ieS10b29sdGlwJykgKyAnICcgKyBwcm9wcy5oZWFkZXJUZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCA9IENvbHVtbkhlYWRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2NvbHVtbmhlYWRlci50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 336:
/* no static exports found */
/* all exports used */
/*!*************************************************************************!*\
  !*** ./src/utility/standardisationsetup/standardisationsetupfactory.ts ***!
  \*************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar classifiedHelper = __webpack_require__(/*! ../../components/utility/grid/standardisationsetuphelpers/classifiedhelper */ 411);\r\nvar unclassifiedHelper = __webpack_require__(/*! ../../components/utility/grid/standardisationsetuphelpers/unclassifiedhelper */ 414);\r\nvar provisionalHelper = __webpack_require__(/*! ../../components/utility/grid/standardisationsetuphelpers/provisionalhelper */ 412);\r\nvar selectResponseHelper = __webpack_require__(/*! ../../components/utility/grid/standardisationsetuphelpers/selectresponsehelper */ 413);\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar StandardisationSetupFactory = /** @class */ (function () {\r\n    function StandardisationSetupFactory() {\r\n    }\r\n    /**\r\n     * returns the standard helper object based on the type\r\n     * @param teamManagementTab\r\n     */\r\n    StandardisationSetupFactory.prototype.getStandardisationSetUpWorklistHelper = function (standardisationSetUpWorkList) {\r\n        var standardisationSetUpHelper;\r\n        switch (standardisationSetUpWorkList) {\r\n            case enums.StandardisationSetup.SelectResponse:\r\n                standardisationSetUpHelper = new selectResponseHelper();\r\n                break;\r\n            case enums.StandardisationSetup.ProvisionalResponse:\r\n                standardisationSetUpHelper = new provisionalHelper();\r\n                break;\r\n            case enums.StandardisationSetup.UnClassifiedResponse:\r\n                standardisationSetUpHelper = new unclassifiedHelper();\r\n                break;\r\n            case enums.StandardisationSetup.ClassifiedResponse:\r\n                standardisationSetUpHelper = new classifiedHelper();\r\n                break;\r\n        }\r\n        return standardisationSetUpHelper;\r\n    };\r\n    return StandardisationSetupFactory;\r\n}());\r\nvar standardisationSetupFactory = new StandardisationSetupFactory();\r\nmodule.exports = standardisationSetupFactory;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uc2V0dXBmYWN0b3J5LnRzPzhmODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsYXNzaWZpZWRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcnMvY2xhc3NpZmllZGhlbHBlcicpO1xyXG5pbXBvcnQgdW5jbGFzc2lmaWVkSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJzL3VuY2xhc3NpZmllZGhlbHBlcicpO1xyXG5pbXBvcnQgcHJvdmlzaW9uYWxIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcnMvcHJvdmlzaW9uYWxoZWxwZXInKTtcclxuaW1wb3J0IHNlbGVjdFJlc3BvbnNlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJzL3NlbGVjdHJlc3BvbnNlaGVscGVyJyk7XHJcblxyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcclxuXHJcbmNsYXNzIFN0YW5kYXJkaXNhdGlvblNldHVwRmFjdG9yeSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBzdGFuZGFyZCBoZWxwZXIgb2JqZWN0IGJhc2VkIG9uIHRoZSB0eXBlXHJcbiAgICAgKiBAcGFyYW0gdGVhbU1hbmFnZW1lbnRUYWJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFN0YW5kYXJkaXNhdGlvblNldFVwV29ya2xpc3RIZWxwZXIoc3RhbmRhcmRpc2F0aW9uU2V0VXBXb3JrTGlzdDogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXApIHtcclxuXHJcbiAgICAgICAgbGV0IHN0YW5kYXJkaXNhdGlvblNldFVwSGVscGVyO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHN0YW5kYXJkaXNhdGlvblNldFVwV29ya0xpc3QpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5TZWxlY3RSZXNwb25zZTpcclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldFVwSGVscGVyID0gbmV3IHNlbGVjdFJlc3BvbnNlSGVscGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlOlxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0VXBIZWxwZXIgPSBuZXcgcHJvdmlzaW9uYWxIZWxwZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlVuQ2xhc3NpZmllZFJlc3BvbnNlOlxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0VXBIZWxwZXIgPSBuZXcgdW5jbGFzc2lmaWVkSGVscGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2U6XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXRVcEhlbHBlciA9IG5ldyBjbGFzc2lmaWVkSGVscGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdGFuZGFyZGlzYXRpb25TZXRVcEhlbHBlcjtcclxuICAgIH1cclxufVxyXG5cclxubGV0IHN0YW5kYXJkaXNhdGlvblNldHVwRmFjdG9yeSA9IG5ldyBTdGFuZGFyZGlzYXRpb25TZXR1cEZhY3RvcnkoKTtcclxuZXhwb3J0ID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBGYWN0b3J5O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cGZhY3RvcnkudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQTJCQTtBQXpCQTs7O0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 338:
/* no static exports found */
/* all exports used */
/*!******************************************************************!*\
  !*** ./src/components/utility/multioptionconfirmationdialog.tsx ***!
  \******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for Confirmation Popup\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar moduleKeyHandler = __webpack_require__(/*! ../../utility/generic/modulekeyhandler */ 323);\r\nvar modulekeys = __webpack_require__(/*! ../../utility/generic/modulekeys */ 318);\r\nvar keyDownHelper = __webpack_require__(/*! ../../utility/generic/keydownhelper */ 258);\r\nvar enums = __webpack_require__(/*! ./enums */ 225);\r\nvar controlsEnum = { none: 0, cancel: 1, no: 2, yes: 3 };\r\n/**\r\n * React component class for Header for Authorized pages\r\n */\r\nvar MultiOptionConfirmationDialog = /** @class */ (function (_super) {\r\n    __extends(MultiOptionConfirmationDialog, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function MultiOptionConfirmationDialog(props) {\r\n        var _this = _super.call(this, props, null) || this;\r\n        _this.focusedItem = controlsEnum.none;\r\n        _this.keyHandler = _this.keyHandler.bind(_this);\r\n        _this.onCancelClick = _this.onCancelClick.bind(_this);\r\n        _this.onPopupNoClick = _this.onPopupNoClick.bind(_this);\r\n        _this.onYesClick = _this.onYesClick.bind(_this);\r\n        _this.onNoClick = _this.onNoClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render method\r\n     */\r\n    MultiOptionConfirmationDialog.prototype.render = function () {\r\n        if (this.props.displayPopup) {\r\n            if (this.props.isKeyBoardSupportEnabled) {\r\n                var keyDownHandler = new moduleKeyHandler(modulekeys.POPUP_KEY_DOWN, enums.Priority.Second, true, this.keyHandler, enums.KeyMode.down);\r\n                keyDownHelper.instance.mountKeyDownHandler(keyDownHandler);\r\n                var keyPressHandler = new moduleKeyHandler(modulekeys.POPUP_KEY_PRESS, enums.Priority.Second, true, this.keyHandler, enums.KeyMode.press);\r\n                keyDownHelper.instance.mountKeyPressHandler(keyPressHandler);\r\n            }\r\n            var prefix = void 0;\r\n            switch (this.props.popupType) {\r\n                case enums.PopUpType.AtypicalSearch:\r\n                    prefix = 'atypicalSearch';\r\n                    break;\r\n                case enums.PopUpType.SelectToMarkAsProvisional:\r\n                    prefix = 'selectToMark';\r\n                    break;\r\n                case enums.PopUpType.ReclassifyMultiOption:\r\n                    prefix = 'ReclassifyMultiOption';\r\n                    break;\r\n                case enums.PopUpType.ShareResponse:\r\n                    prefix = 'shareResponse';\r\n                    break;\r\n                case enums.PopUpType.ReuseRigAction:\r\n                    prefix = 'reuseRig';\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            var noButtonEl = void 0;\r\n            if (this.props.displayNoButton) {\r\n                noButtonEl = (React.createElement(\"button\", { autoFocus: false, onClick: this.onNoClick, id: 'popup_' + prefix + 'Messge_move_to_worklist_button', className: 'button rounded', ref: 'noButton' }, this.props.buttonNoText));\r\n            }\r\n            return (React.createElement(\"div\", { className: classNames('popup popup-overlay close-button popup-open open', enums.getEnumString(enums.PopupSize, this.props.popupSize).toLowerCase()), id: this.id, role: 'dialog', \"aria-labelledby\": 'popup42Title', \"aria-describedby\": 'popup42Desc', onClick: this.onPopupNoClick },\r\n                React.createElement(\"div\", { className: 'popup-wrap', onClick: this.onPopupClick },\r\n                    React.createElement(\"div\", { className: 'popup-header bold-header-txt' },\r\n                        React.createElement(\"h4\", { id: 'popup42Title' }, this.props.header)),\r\n                    React.createElement(\"div\", { className: 'popup-content content-with-radio-btn', id: 'popup42Desc', key: 'popup14Desc' },\r\n                        React.createElement(\"p\", null, this.props.content)),\r\n                    React.createElement(\"div\", { className: 'popup-footer text-right' },\r\n                        React.createElement(\"button\", { onClick: this.onCancelClick, id: 'popup_' + prefix + 'Messge_cancel_button', ref: 'cancelButton', className: 'button rounded close-button' }, this.props.buttonCancelText),\r\n                        noButtonEl,\r\n                        React.createElement(\"button\", { autoFocus: true, onClick: this.onYesClick, id: 'popup_' + prefix + 'Messge_mark_now_button', className: 'button primary rounded', ref: 'yesButton', disabled: this.props.isClassifyResponseOkButtonDisabled }, this.props.buttonYesText)))));\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    /**\r\n     * This function gets invoked when the component is about to be mounted\r\n     */\r\n    MultiOptionConfirmationDialog.prototype.componentWillUnmount = function () {\r\n        if (this.props.isKeyBoardSupportEnabled) {\r\n            // Unmount the event to give others the priority\r\n            keyDownHelper.instance.unmountKeyHandler(modulekeys.POPUP_KEY_DOWN);\r\n            // Unmount the event to give others the priority\r\n            keyDownHelper.instance.unmountKeyHandler(modulekeys.POPUP_KEY_PRESS);\r\n        }\r\n    };\r\n    /**\r\n     * Event fired on clicking 'No'\r\n     * @param evnt\r\n     */\r\n    MultiOptionConfirmationDialog.prototype.onCancelClick = function (evnt) {\r\n        if (this.props.isKeyBoardSupportEnabled) {\r\n            // Unmount the event to give others the priority\r\n            keyDownHelper.instance.unmountKeyHandler(modulekeys.POPUP_KEY_DOWN);\r\n            // Unmount the event to give others the priority\r\n            keyDownHelper.instance.unmountKeyHandler(modulekeys.POPUP_KEY_PRESS);\r\n        }\r\n        /** Should be true and rerender once the user changed (turn on) the ask on logout from panel and logging out */\r\n        this.setState({ isAskOnLogOutChecked: true });\r\n        this.props.onCancelClick();\r\n    };\r\n    /**\r\n     * Event fired on clicking 'Yes'\r\n     * @param evnt\r\n     */\r\n    MultiOptionConfirmationDialog.prototype.onNoClick = function (evnt) {\r\n        if (this.props.isKeyBoardSupportEnabled) {\r\n            // Unmount the event to give others the priority\r\n            keyDownHelper.instance.unmountKeyHandler(modulekeys.POPUP_KEY_DOWN);\r\n            // Unmount the event to give others the priority\r\n            keyDownHelper.instance.unmountKeyHandler(modulekeys.POPUP_KEY_PRESS);\r\n        }\r\n        this.props.onNoClick();\r\n    };\r\n    /**\r\n     * Event fired on clicking 'MarkNow'\r\n     * @param evnt\r\n     */\r\n    MultiOptionConfirmationDialog.prototype.onYesClick = function (evnt) {\r\n        if (this.props.isKeyBoardSupportEnabled) {\r\n            // Unmount the event to give others the priority\r\n            keyDownHelper.instance.unmountKeyHandler(modulekeys.POPUP_KEY_DOWN);\r\n            // Unmount the event to give others the priority\r\n            keyDownHelper.instance.unmountKeyHandler(modulekeys.POPUP_KEY_PRESS);\r\n        }\r\n        this.props.onYesClick();\r\n    };\r\n    /**\r\n     * Event fired on clicking popup\r\n     * @param evnt\r\n     */\r\n    MultiOptionConfirmationDialog.prototype.onPopupClick = function (evnt) {\r\n        evnt.stopPropagation();\r\n        return false;\r\n    };\r\n    /**\r\n     * Event fired on clicking 'No' of popup\r\n     * @param evnt\r\n     */\r\n    MultiOptionConfirmationDialog.prototype.onPopupNoClick = function (evnt) {\r\n        this.onPopupClick(evnt);\r\n    };\r\n    /**\r\n     * Handle keydown.\r\n     * @param {KeyboardEvent} event\r\n     * @returns\r\n     */\r\n    MultiOptionConfirmationDialog.prototype.keyHandler = function (event) {\r\n        var key = event.keyCode || event.charCode;\r\n        // Handling the tab key for toggling the yes and no button focus.\r\n        if (key === enums.KeyCode.tab) {\r\n            switch (this.focusedItem) {\r\n                case controlsEnum.cancel:\r\n                    this.refs.noButton.focus();\r\n                    this.focusedItem = controlsEnum.no;\r\n                    break;\r\n                case controlsEnum.no:\r\n                    this.refs.yesButton.focus();\r\n                    this.focusedItem = controlsEnum.yes;\r\n                    break;\r\n                case controlsEnum.yes:\r\n                    this.refs.cancelButton.focus();\r\n                    this.focusedItem = controlsEnum.cancel;\r\n                    break;\r\n                case controlsEnum.none:\r\n                    this.refs.cancelButton.focus();\r\n                    this.focusedItem = controlsEnum.cancel;\r\n                    break;\r\n            }\r\n        }\r\n        // If enter key pressed firing action based on focused element.\r\n        if (key === enums.KeyCode.enter) {\r\n            switch (this.focusedItem) {\r\n                case controlsEnum.cancel:\r\n                    this.onCancelClick(event);\r\n                    break;\r\n                case controlsEnum.no:\r\n                    this.onNoClick(event);\r\n                    break;\r\n                case controlsEnum.yes:\r\n                    this.onYesClick(event);\r\n                    break;\r\n            }\r\n        }\r\n        else if (key === enums.KeyCode.backspace) {\r\n            keyDownHelper.KeydownHelper.stopEvent(event);\r\n            return true;\r\n        }\r\n        /** to disbale the response navigation on confirmation popups (reset marks and annotation) */\r\n        if (key === enums.KeyCode.left || key === enums.KeyCode.right) {\r\n            keyDownHelper.KeydownHelper.stopEvent(event);\r\n        }\r\n        return true;\r\n    };\r\n    return MultiOptionConfirmationDialog;\r\n}(pureRenderComponent));\r\nmodule.exports = MultiOptionConfirmationDialog;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9tdWx0aW9wdGlvbmNvbmZpcm1hdGlvbmRpYWxvZy50c3g/NDZiYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICBSZWFjdCBjb21wb25lbnQgZm9yIENvbmZpcm1hdGlvbiBQb3B1cFxuKi9cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmltcG9ydCBSZWFjdERPTSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XG5pbXBvcnQgdXNlck9wdGlvbnNIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3VzZXJvcHRpb24vdXNlcm9wdGlvbnNoZWxwZXInKTtcbmltcG9ydCB1c2VyT3B0aW9uS2V5cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvdXNlcm9wdGlvbi91c2Vyb3B0aW9ua2V5cycpO1xuaW1wb3J0IHVzZXJPcHRpb25zQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvdXNlcm9wdGlvbi91c2Vyb3B0aW9uYWN0aW9uY3JlYXRvcicpO1xuaW1wb3J0IG1vZHVsZUtleUhhbmRsZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2dlbmVyaWMvbW9kdWxla2V5aGFuZGxlcicpO1xuaW1wb3J0IG1vZHVsZWtleXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2dlbmVyaWMvbW9kdWxla2V5cycpO1xuaW1wb3J0IGtleURvd25IZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2dlbmVyaWMva2V5ZG93bmhlbHBlcicpO1xuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi9lbnVtcycpO1xuaW1wb3J0IGNvbnN0YW50cyA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XG5cbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2Uge1xuICAgIGhlYWRlcjogc3RyaW5nO1xuICAgIGNvbnRlbnQ6IEpTWC5FbGVtZW50W107XG4gICAgZGlzcGxheVBvcHVwOiBib29sZWFuO1xuICAgIG9uQ2FuY2VsQ2xpY2s6IEZ1bmN0aW9uO1xuICAgIG9uWWVzQ2xpY2s6IEZ1bmN0aW9uO1xuICAgIG9uTm9DbGljaz86IEZ1bmN0aW9uO1xuICAgIGlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZD86IGJvb2xlYW47XG4gICAgcG9wdXBTaXplOiBlbnVtcy5Qb3B1cFNpemU7XG4gICAgcG9wdXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGU7XG4gICAgYnV0dG9uWWVzVGV4dDogc3RyaW5nO1xuICAgIGJ1dHRvbk5vVGV4dD86IHN0cmluZztcbiAgICBidXR0b25DYW5jZWxUZXh0OiBzdHJpbmc7XG4gICAgZGlzcGxheU5vQnV0dG9uOiBib29sZWFuO1xuICAgIGlzQ2xhc3NpZnlSZXNwb25zZU9rQnV0dG9uRGlzYWJsZWQ/OiBib29sZWFuO1xufVxuXG52YXIgY29udHJvbHNFbnVtID0geyBub25lOiAwLCBjYW5jZWw6IDEsIG5vOiAyLCB5ZXM6IDMgfTtcblxuLyoqXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIEhlYWRlciBmb3IgQXV0aG9yaXplZCBwYWdlc1xuICovXG5jbGFzcyBNdWx0aU9wdGlvbkNvbmZpcm1hdGlvbkRpYWxvZyBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xuICAgIHB1YmxpYyBmb2N1c2VkSXRlbTogYW55ID0gY29udHJvbHNFbnVtLm5vbmU7XG4gICAgcHJpdmF0ZSBpZDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCBudWxsKTtcblxuICAgICAgICB0aGlzLmtleUhhbmRsZXIgPSB0aGlzLmtleUhhbmRsZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkNhbmNlbENsaWNrID0gdGhpcy5vbkNhbmNlbENsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Qb3B1cE5vQ2xpY2sgPSB0aGlzLm9uUG9wdXBOb0NsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25ZZXNDbGljayA9IHRoaXMub25ZZXNDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uTm9DbGljayA9IHRoaXMub25Ob0NsaWNrLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqIHJlZnMgKi9cbiAgICBwdWJsaWMgcmVmczoge1xuICAgICAgICBba2V5OiBzdHJpbmddOiAoRWxlbWVudCk7XG4gICAgICAgIG5vQnV0dG9uOiAoSFRNTEJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICB5ZXNCdXR0b246IChIVE1MQnV0dG9uRWxlbWVudCk7XG4gICAgICAgIGNhbmNlbEJ1dHRvbjogKEhUTUxCdXR0b25FbGVtZW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIG1ldGhvZFxuICAgICAqL1xuICAgIHB1YmxpYyByZW5kZXIoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZGlzcGxheVBvcHVwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5pc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5RG93bkhhbmRsZXI6IG1vZHVsZUtleUhhbmRsZXIgPSBuZXcgbW9kdWxlS2V5SGFuZGxlcihcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxla2V5cy5QT1BVUF9LRVlfRE9XTixcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuUHJpb3JpdHkuU2Vjb25kLFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmtleUhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLktleU1vZGUuZG93bik7XG4gICAgICAgICAgICAgICAga2V5RG93bkhlbHBlci5pbnN0YW5jZS5tb3VudEtleURvd25IYW5kbGVyKGtleURvd25IYW5kbGVyKTtcblxuICAgICAgICAgICAgICAgIGxldCBrZXlQcmVzc0hhbmRsZXI6IG1vZHVsZUtleUhhbmRsZXIgPSBuZXcgbW9kdWxlS2V5SGFuZGxlcihcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxla2V5cy5QT1BVUF9LRVlfUFJFU1MsXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlByaW9yaXR5LlNlY29uZCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlIYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5LZXlNb2RlLnByZXNzKTtcbiAgICAgICAgICAgICAgICBrZXlEb3duSGVscGVyLmluc3RhbmNlLm1vdW50S2V5UHJlc3NIYW5kbGVyKGtleVByZXNzSGFuZGxlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBwcmVmaXg6IHN0cmluZztcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5wcm9wcy5wb3B1cFR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlBvcFVwVHlwZS5BdHlwaWNhbFNlYXJjaDpcbiAgICAgICAgICAgICAgICBwcmVmaXggPSAnYXR5cGljYWxTZWFyY2gnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBUeXBlLlNlbGVjdFRvTWFya0FzUHJvdmlzaW9uYWw6XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gJ3NlbGVjdFRvTWFyayc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5Qb3BVcFR5cGUuUmVjbGFzc2lmeU11bHRpT3B0aW9uOlxuICAgICAgICAgICAgICAgIHByZWZpeCA9ICdSZWNsYXNzaWZ5TXVsdGlPcHRpb24nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBUeXBlLlNoYXJlUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gJ3NoYXJlUmVzcG9uc2UnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBUeXBlLlJldXNlUmlnQWN0aW9uOlxuICAgICAgICAgICAgICAgIHByZWZpeCA9ICdyZXVzZVJpZyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG5vQnV0dG9uRWw6IEpTWC5FbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZGlzcGxheU5vQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgbm9CdXR0b25FbCA9ICg8YnV0dG9uIGF1dG9Gb2N1cyA9IHtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbk5vQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgIGlkPXsncG9wdXBfJyArIHByZWZpeCArICdNZXNzZ2VfbW92ZV90b193b3JrbGlzdF9idXR0b24nfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2J1dHRvbiByb3VuZGVkJ1xuICAgICAgICAgICAgICAgICAgICByZWYgPSB7J25vQnV0dG9uJ30+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmJ1dHRvbk5vVGV4dH08L2J1dHRvbj4pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lID0ge2NsYXNzTmFtZXMoJ3BvcHVwIHBvcHVwLW92ZXJsYXkgY2xvc2UtYnV0dG9uIHBvcHVwLW9wZW4gb3BlbicsXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLmdldEVudW1TdHJpbmcoZW51bXMuUG9wdXBTaXplLCB0aGlzLnByb3BzLnBvcHVwU2l6ZSkudG9Mb3dlckNhc2UoKSl9XG4gICAgICAgICAgICAgICAgICAgIGlkPSB7IHRoaXMuaWQgfVxuICAgICAgICAgICAgICAgICAgICByb2xlPSdkaWFsb2cnXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT0ncG9wdXA0MlRpdGxlJ1xuICAgICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PSdwb3B1cDQyRGVzYydcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17IHRoaXMub25Qb3B1cE5vQ2xpY2sgfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BvcHVwLXdyYXAnIG9uQ2xpY2s9e3RoaXMub25Qb3B1cENsaWNrfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC1oZWFkZXIgYm9sZC1oZWFkZXItdHh0Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgaWQ9J3BvcHVwNDJUaXRsZSc+e3RoaXMucHJvcHMuaGVhZGVyfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncG9wdXAtY29udGVudCBjb250ZW50LXdpdGgtcmFkaW8tYnRuJyBpZD0ncG9wdXA0MkRlc2MnIGtleT0ncG9wdXAxNERlc2MnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPnt0aGlzLnByb3BzLmNvbnRlbnR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BvcHVwLWZvb3RlciB0ZXh0LXJpZ2h0Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMub25DYW5jZWxDbGlja31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9eydwb3B1cF8nICsgcHJlZml4ICsgJ01lc3NnZV9jYW5jZWxfYnV0dG9uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmID0geydjYW5jZWxCdXR0b24nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2J1dHRvbiByb3VuZGVkIGNsb3NlLWJ1dHRvbic+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmJ1dHRvbkNhbmNlbFRleHR9PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge25vQnV0dG9uRWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBhdXRvRm9jdXMgPSB7dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblllc0NsaWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17J3BvcHVwXycgKyBwcmVmaXggKyAnTWVzc2dlX21hcmtfbm93X2J1dHRvbid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYnV0dG9uIHByaW1hcnkgcm91bmRlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsneWVzQnV0dG9uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuaXNDbGFzc2lmeVJlc3BvbnNlT2tCdXR0b25EaXNhYmxlZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmJ1dHRvblllc1RleHR9PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBnZXRzIGludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFib3V0IHRvIGJlIG1vdW50ZWRcbiAgICAgKi9cbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZCkge1xuICAgICAgICAgICAgLy8gVW5tb3VudCB0aGUgZXZlbnQgdG8gZ2l2ZSBvdGhlcnMgdGhlIHByaW9yaXR5XG4gICAgICAgICAgICBrZXlEb3duSGVscGVyLmluc3RhbmNlLnVubW91bnRLZXlIYW5kbGVyKG1vZHVsZWtleXMuUE9QVVBfS0VZX0RPV04pO1xuXG4gICAgICAgICAgICAvLyBVbm1vdW50IHRoZSBldmVudCB0byBnaXZlIG90aGVycyB0aGUgcHJpb3JpdHlcbiAgICAgICAgICAgIGtleURvd25IZWxwZXIuaW5zdGFuY2UudW5tb3VudEtleUhhbmRsZXIobW9kdWxla2V5cy5QT1BVUF9LRVlfUFJFU1MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXZlbnQgZmlyZWQgb24gY2xpY2tpbmcgJ05vJ1xuICAgICAqIEBwYXJhbSBldm50XG4gICAgICovXG4gICAgcHJpdmF0ZSBvbkNhbmNlbENsaWNrKGV2bnQ6IGFueSkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5pc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQpIHtcbiAgICAgICAgICAgIC8vIFVubW91bnQgdGhlIGV2ZW50IHRvIGdpdmUgb3RoZXJzIHRoZSBwcmlvcml0eVxuICAgICAgICAgICAga2V5RG93bkhlbHBlci5pbnN0YW5jZS51bm1vdW50S2V5SGFuZGxlcihtb2R1bGVrZXlzLlBPUFVQX0tFWV9ET1dOKTtcblxuICAgICAgICAgICAgLy8gVW5tb3VudCB0aGUgZXZlbnQgdG8gZ2l2ZSBvdGhlcnMgdGhlIHByaW9yaXR5XG4gICAgICAgICAgICBrZXlEb3duSGVscGVyLmluc3RhbmNlLnVubW91bnRLZXlIYW5kbGVyKG1vZHVsZWtleXMuUE9QVVBfS0VZX1BSRVNTKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogU2hvdWxkIGJlIHRydWUgYW5kIHJlcmVuZGVyIG9uY2UgdGhlIHVzZXIgY2hhbmdlZCAodHVybiBvbikgdGhlIGFzayBvbiBsb2dvdXQgZnJvbSBwYW5lbCBhbmQgbG9nZ2luZyBvdXQgKi9cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzQXNrT25Mb2dPdXRDaGVja2VkOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnByb3BzLm9uQ2FuY2VsQ2xpY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBmaXJlZCBvbiBjbGlja2luZyAnWWVzJ1xuICAgICAqIEBwYXJhbSBldm50XG4gICAgICovXG4gICAgcHJpdmF0ZSBvbk5vQ2xpY2soZXZudDogYW55KSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZCkge1xuICAgICAgICAgICAgLy8gVW5tb3VudCB0aGUgZXZlbnQgdG8gZ2l2ZSBvdGhlcnMgdGhlIHByaW9yaXR5XG4gICAgICAgICAgICBrZXlEb3duSGVscGVyLmluc3RhbmNlLnVubW91bnRLZXlIYW5kbGVyKG1vZHVsZWtleXMuUE9QVVBfS0VZX0RPV04pO1xuXG4gICAgICAgICAgICAvLyBVbm1vdW50IHRoZSBldmVudCB0byBnaXZlIG90aGVycyB0aGUgcHJpb3JpdHlcbiAgICAgICAgICAgIGtleURvd25IZWxwZXIuaW5zdGFuY2UudW5tb3VudEtleUhhbmRsZXIobW9kdWxla2V5cy5QT1BVUF9LRVlfUFJFU1MpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvcHMub25Ob0NsaWNrKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXZlbnQgZmlyZWQgb24gY2xpY2tpbmcgJ01hcmtOb3cnXG4gICAgICogQHBhcmFtIGV2bnRcbiAgICAgKi9cbiAgICBwcml2YXRlIG9uWWVzQ2xpY2soZXZudDogYW55KSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZCkge1xuICAgICAgICAgICAgLy8gVW5tb3VudCB0aGUgZXZlbnQgdG8gZ2l2ZSBvdGhlcnMgdGhlIHByaW9yaXR5XG4gICAgICAgICAgICBrZXlEb3duSGVscGVyLmluc3RhbmNlLnVubW91bnRLZXlIYW5kbGVyKG1vZHVsZWtleXMuUE9QVVBfS0VZX0RPV04pO1xuXG4gICAgICAgICAgICAvLyBVbm1vdW50IHRoZSBldmVudCB0byBnaXZlIG90aGVycyB0aGUgcHJpb3JpdHlcbiAgICAgICAgICAgIGtleURvd25IZWxwZXIuaW5zdGFuY2UudW5tb3VudEtleUhhbmRsZXIobW9kdWxla2V5cy5QT1BVUF9LRVlfUFJFU1MpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvcHMub25ZZXNDbGljaygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGZpcmVkIG9uIGNsaWNraW5nIHBvcHVwXG4gICAgICogQHBhcmFtIGV2bnRcbiAgICAgKi9cbiAgICBwcml2YXRlIG9uUG9wdXBDbGljayhldm50OiBhbnkpIHtcbiAgICAgICAgZXZudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGZpcmVkIG9uIGNsaWNraW5nICdObycgb2YgcG9wdXBcbiAgICAgKiBAcGFyYW0gZXZudFxuICAgICAqL1xuICAgIHByaXZhdGUgb25Qb3B1cE5vQ2xpY2soZXZudDogYW55KSB7XG4gICAgICAgIHRoaXMub25Qb3B1cENsaWNrKGV2bnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBrZXlkb3duLlxuICAgICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHByaXZhdGUga2V5SGFuZGxlcihldmVudDogS2V5Ym9hcmRFdmVudCk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGxldCBrZXkgPSBldmVudC5rZXlDb2RlIHx8IGV2ZW50LmNoYXJDb2RlO1xuICAgICAgICAvLyBIYW5kbGluZyB0aGUgdGFiIGtleSBmb3IgdG9nZ2xpbmcgdGhlIHllcyBhbmQgbm8gYnV0dG9uIGZvY3VzLlxuICAgICAgICBpZiAoa2V5ID09PSBlbnVtcy5LZXlDb2RlLnRhYikge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmZvY3VzZWRJdGVtKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBjb250cm9sc0VudW0uY2FuY2VsOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnMubm9CdXR0b24uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c2VkSXRlbSA9IGNvbnRyb2xzRW51bS5ubztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBjb250cm9sc0VudW0ubm86XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcy55ZXNCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c2VkSXRlbSA9IGNvbnRyb2xzRW51bS55ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGNvbnRyb2xzRW51bS55ZXM6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcy5jYW5jZWxCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c2VkSXRlbSA9IGNvbnRyb2xzRW51bS5jYW5jZWw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgY29udHJvbHNFbnVtLm5vbmU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcy5jYW5jZWxCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c2VkSXRlbSA9IGNvbnRyb2xzRW51bS5jYW5jZWw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIGVudGVyIGtleSBwcmVzc2VkIGZpcmluZyBhY3Rpb24gYmFzZWQgb24gZm9jdXNlZCBlbGVtZW50LlxuICAgICAgICBpZiAoa2V5ID09PSBlbnVtcy5LZXlDb2RlLmVudGVyKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZm9jdXNlZEl0ZW0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIGNvbnRyb2xzRW51bS5jYW5jZWw6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25DYW5jZWxDbGljayhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgY29udHJvbHNFbnVtLm5vOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTm9DbGljayhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgY29udHJvbHNFbnVtLnllczpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblllc0NsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBlbnVtcy5LZXlDb2RlLmJhY2tzcGFjZSkge1xuXG4gICAgICAgICAgICBrZXlEb3duSGVscGVyLktleWRvd25IZWxwZXIuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKiB0byBkaXNiYWxlIHRoZSByZXNwb25zZSBuYXZpZ2F0aW9uIG9uIGNvbmZpcm1hdGlvbiBwb3B1cHMgKHJlc2V0IG1hcmtzIGFuZCBhbm5vdGF0aW9uKSAqL1xuICAgICAgICBpZiAoa2V5ID09PSBlbnVtcy5LZXlDb2RlLmxlZnQgfHwga2V5ID09PSBlbnVtcy5LZXlDb2RlLnJpZ2h0KSB7XG4gICAgICAgICAgICBrZXlEb3duSGVscGVyLktleWRvd25IZWxwZXIuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0ID0gTXVsdGlPcHRpb25Db25maXJtYXRpb25EaWFsb2c7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvbXVsdGlvcHRpb25jb25maXJtYXRpb25kaWFsb2cudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBb0JBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBSUE7O0FBRUE7QUFDQTtBQUFBO0FBTkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBVUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFVQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 340:
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./src/components/utility/table/sortarrow.tsx ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\n/* tslint:disable:variable-name */\r\nvar SortArrow = function (props) {\r\n    switch (props.sortOption) {\r\n        case enums.SortOption.Up:\r\n            return (React.createElement(\"span\", { className: 'sort-arrow' },\r\n                React.createElement(\"span\", { className: 'sort-arrow-up' })));\r\n        case enums.SortOption.Down:\r\n            return (React.createElement(\"span\", { className: 'sort-arrow' },\r\n                React.createElement(\"span\", { className: 'sort-arrow-down' })));\r\n        default:// enums.SortOption.both or undefined\r\n            return (React.createElement(\"span\", { className: 'sort-arrow' },\r\n                React.createElement(\"span\", { className: 'sort-arrow-up' }),\r\n                React.createElement(\"span\", { className: 'sort-arrow-down' })));\r\n    }\r\n};\r\nmodule.exports = SortArrow;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90YWJsZS9zb3J0YXJyb3cudHN4PzdjYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vZW51bXMnKTtcclxuXHJcbi8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cclxuY29uc3QgU29ydEFycm93ID0gKHByb3BzOiB7IHNvcnRPcHRpb246IGVudW1zLlNvcnRPcHRpb24gfSkgPT4ge1xyXG4gICAgc3dpdGNoIChwcm9wcy5zb3J0T3B0aW9uKSB7XHJcbiAgICAgICAgY2FzZSBlbnVtcy5Tb3J0T3B0aW9uLlVwOlxyXG4gICAgICAgICAgICByZXR1cm4gKDwgc3BhbiBjbGFzc05hbWU9J3NvcnQtYXJyb3cnID5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc29ydC1hcnJvdy11cCc+PC9zcGFuPlxyXG4gICAgICAgICAgICA8L3NwYW4gPik7XHJcbiAgICAgICAgY2FzZSBlbnVtcy5Tb3J0T3B0aW9uLkRvd246XHJcbiAgICAgICAgICAgIHJldHVybiAoPCBzcGFuIGNsYXNzTmFtZT0nc29ydC1hcnJvdycgPlxyXG4gICAgICAgICAgICAgICAgPCBzcGFuIGNsYXNzTmFtZT0nc29ydC1hcnJvdy1kb3duJyA+PC9zcGFuID5cclxuICAgICAgICAgICAgPC9zcGFuID4pO1xyXG4gICAgICAgIGRlZmF1bHQ6IC8vIGVudW1zLlNvcnRPcHRpb24uYm90aCBvciB1bmRlZmluZWRcclxuICAgICAgICAgICAgcmV0dXJuICg8IHNwYW4gY2xhc3NOYW1lPSdzb3J0LWFycm93JyA+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3NvcnQtYXJyb3ctdXAnPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwgc3BhbiBjbGFzc05hbWU9J3NvcnQtYXJyb3ctZG93bicgPjwvc3BhbiA+XHJcbiAgICAgICAgICAgIDwvc3BhbiA+KTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCA9IFNvcnRBcnJvdztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS90YWJsZS9zb3J0YXJyb3cudHN4Il0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 344:
/* no static exports found */
/* all exports used */
/*!***************************************************************!*\
  !*** ./src/actions/submit/shareandclassifycompletedaction.ts ***!
  \***************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar action = __webpack_require__(/*! ../base/action */ 229);\r\nvar actionType = __webpack_require__(/*! ../base/actiontypes */ 228);\r\nvar dataRetrievalAction = __webpack_require__(/*! ../base/dataretrievalaction */ 239);\r\n/**\r\n * Action when responses are submitted\r\n */\r\nvar ShareAndClassifyCompletedAction = /** @class */ (function (_super) {\r\n    __extends(ShareAndClassifyCompletedAction, _super);\r\n    /**\r\n     * Constructor for ShareAndClassifyResponse\r\n     * @param submitResponseReturn The return values after response submission\r\n     */\r\n    function ShareAndClassifyCompletedAction(success, shareAndClassifyReturn, fromMarkScheme, selectedDisplayId) {\r\n        var _this = _super.call(this, action.Source.View, actionType.SHARE_AND_CLASSIFY_COMPLETED, success, shareAndClassifyReturn) || this;\r\n        _this._shareAndClassifyResponseReturn = shareAndClassifyReturn;\r\n        _this.fromMarkScheme = fromMarkScheme;\r\n        _this._selectedDisplayId = selectedDisplayId;\r\n        _this.auditLog.logContent = _this.auditLog.logContent.replace(/{success}/g, success.toString()).replace(/{errorCode}/g, shareAndClassifyReturn.responseShareAndClassifyErrorCode.toString());\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ShareAndClassifyCompletedAction.prototype, \"getShareAndClassifyResponseReturnDetails\", {\r\n        /**\r\n         * Gets the submit response return details\r\n         */\r\n        get: function () {\r\n            return this._shareAndClassifyResponseReturn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ShareAndClassifyCompletedAction.prototype, \"isFromMarkScheme\", {\r\n        /**\r\n         * Gets whether the response has been submitted from markscheme\r\n         */\r\n        get: function () {\r\n            return this.fromMarkScheme;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ShareAndClassifyCompletedAction.prototype, \"getSelectedDisplayId\", {\r\n        /**\r\n         * Gets the  selectedDisplayId\r\n         */\r\n        get: function () {\r\n            return this._selectedDisplayId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ShareAndClassifyCompletedAction;\r\n}(dataRetrievalAction));\r\nmodule.exports = ShareAndClassifyCompletedAction;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQ0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FjdGlvbnMvc3VibWl0L3NoYXJlYW5kY2xhc3NpZnljb21wbGV0ZWRhY3Rpb24udHM/YmRjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYWN0aW9uID0gcmVxdWlyZSgnLi4vYmFzZS9hY3Rpb24nKTtcclxuaW1wb3J0IGFjdGlvblR5cGUgPSByZXF1aXJlKCcuLi9iYXNlL2FjdGlvbnR5cGVzJyk7XHJcbmltcG9ydCBhY3Rpb25BdWRpdExvZ0luZm8gPSByZXF1aXJlKCcuLi9iYXNlL2F1ZGl0bG9naW5mby9hY3Rpb25hdWRpdGxvZ2luZm8nKTtcclxuaW1wb3J0IGRhdGFSZXRyaWV2YWxBY3Rpb24gPSByZXF1aXJlKCcuLi9iYXNlL2RhdGFyZXRyaWV2YWxhY3Rpb24nKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBzaGFyZUFuZENsYXNzaWZ5UmV0dXJuICA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9zdWJtaXQvdHlwaW5ncy9zaGFyZUFuZENsYXNzaWZ5UmV0dXJuJyk7XHJcblxyXG4vKipcclxuICogQWN0aW9uIHdoZW4gcmVzcG9uc2VzIGFyZSBzdWJtaXR0ZWRcclxuICovXHJcbmNsYXNzIFNoYXJlQW5kQ2xhc3NpZnlDb21wbGV0ZWRBY3Rpb24gZXh0ZW5kcyBkYXRhUmV0cmlldmFsQWN0aW9uIHtcclxuXHJcbiAgICBwcml2YXRlIF9zaGFyZUFuZENsYXNzaWZ5UmVzcG9uc2VSZXR1cm46IHNoYXJlQW5kQ2xhc3NpZnlSZXR1cm47XHJcbiAgICBwcml2YXRlIGZyb21NYXJrU2NoZW1lOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBfc2VsZWN0ZWREaXNwbGF5SWQ6IHN0cmluZztcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgU2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gc3VibWl0UmVzcG9uc2VSZXR1cm4gVGhlIHJldHVybiB2YWx1ZXMgYWZ0ZXIgcmVzcG9uc2Ugc3VibWlzc2lvblxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihzdWNjZXNzOiBib29sZWFuLFxyXG4gICAgICAgIHNoYXJlQW5kQ2xhc3NpZnlSZXR1cm46IHNoYXJlQW5kQ2xhc3NpZnlSZXR1cm4sXHJcbiAgICAgICAgZnJvbU1hcmtTY2hlbWU6IGJvb2xlYW4sXHJcbiAgICAgICAgc2VsZWN0ZWREaXNwbGF5SWQ/OiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihhY3Rpb24uU291cmNlLlZpZXcsIGFjdGlvblR5cGUuU0hBUkVfQU5EX0NMQVNTSUZZX0NPTVBMRVRFRCwgc3VjY2Vzcywgc2hhcmVBbmRDbGFzc2lmeVJldHVybik7XHJcbiAgICAgICAgdGhpcy5fc2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlUmV0dXJuID0gc2hhcmVBbmRDbGFzc2lmeVJldHVybjtcclxuICAgICAgICB0aGlzLmZyb21NYXJrU2NoZW1lID0gZnJvbU1hcmtTY2hlbWU7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWREaXNwbGF5SWQgPSBzZWxlY3RlZERpc3BsYXlJZDtcclxuICAgICAgICB0aGlzLmF1ZGl0TG9nLmxvZ0NvbnRlbnQgPSB0aGlzLmF1ZGl0TG9nLmxvZ0NvbnRlbnQucmVwbGFjZSgve3N1Y2Nlc3N9L2csXHJcbiAgICAgICAgICAgIHN1Y2Nlc3MudG9TdHJpbmcoKSkucmVwbGFjZSgve2Vycm9yQ29kZX0vZywgc2hhcmVBbmRDbGFzc2lmeVJldHVybi5yZXNwb25zZVNoYXJlQW5kQ2xhc3NpZnlFcnJvckNvZGUudG9TdHJpbmcoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBzdWJtaXQgcmVzcG9uc2UgcmV0dXJuIGRldGFpbHNcclxuICAgICAqL1xyXG4gICAgZ2V0IGdldFNoYXJlQW5kQ2xhc3NpZnlSZXNwb25zZVJldHVybkRldGFpbHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXJlQW5kQ2xhc3NpZnlSZXNwb25zZVJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgd2hldGhlciB0aGUgcmVzcG9uc2UgaGFzIGJlZW4gc3VibWl0dGVkIGZyb20gbWFya3NjaGVtZVxyXG4gICAgICovXHJcbiAgICBnZXQgaXNGcm9tTWFya1NjaGVtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tTWFya1NjaGVtZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSAgc2VsZWN0ZWREaXNwbGF5SWRcclxuICAgICAqL1xyXG4gICAgZ2V0IGdldFNlbGVjdGVkRGlzcGxheUlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZERpc3BsYXlJZDtcclxuICAgIH1cclxuXHJcbn1cclxuZXhwb3J0ID0gU2hhcmVBbmRDbGFzc2lmeUNvbXBsZXRlZEFjdGlvbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FjdGlvbnMvc3VibWl0L3NoYXJlYW5kY2xhc3NpZnljb21wbGV0ZWRhY3Rpb24udHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBSUE7O0FBRUE7QUFDQTtBQUFBO0FBT0E7OztBQUdBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQU1BO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBRUE7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 345:
/* no static exports found */
/* all exports used */
/*!*************************************************************!*\
  !*** ./src/actions/submit/submitresponsecompletedaction.ts ***!
  \*************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar action = __webpack_require__(/*! ../base/action */ 229);\r\nvar actionType = __webpack_require__(/*! ../base/actiontypes */ 228);\r\nvar dataRetrievalAction = __webpack_require__(/*! ../base/dataretrievalaction */ 239);\r\n/**\r\n * Action when responses are submitted\r\n */\r\nvar SubmitResponseCompletedAction = /** @class */ (function (_super) {\r\n    __extends(SubmitResponseCompletedAction, _super);\r\n    /**\r\n     * Constructor for SubmitResponseCompletedAction\r\n     * @param submitResponseReturn The return values after response submission\r\n     */\r\n    function SubmitResponseCompletedAction(success, submitResponseReturn, worklistType, fromMarkScheme, examinerApproval, markGroupIds, selectedDisplayId, isStdSetupMode) {\r\n        var _this = _super.call(this, action.Source.View, actionType.SUBMIT_RESPONSE_COMPLETED, success, submitResponseReturn) || this;\r\n        _this._submitResponseReturn = submitResponseReturn;\r\n        _this.worklistType = worklistType;\r\n        _this.fromMarkScheme = fromMarkScheme;\r\n        _this.examinerApproval = examinerApproval;\r\n        _this.markGroupIds = markGroupIds;\r\n        _this._selectedDisplayId = selectedDisplayId;\r\n        _this._isStdSetupMode = isStdSetupMode;\r\n        _this.auditLog.logContent = _this.auditLog.logContent.replace(/{success}/g, success.toString()).replace(/{errorCode}/g, submitResponseReturn.responseSubmitErrorCode.toString());\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SubmitResponseCompletedAction.prototype, \"getExaminerApproval\", {\r\n        /**\r\n         * Gets the approval status of examiner while submitting the response\r\n         */\r\n        get: function () {\r\n            return this.examinerApproval;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SubmitResponseCompletedAction.prototype, \"getSubmitResponseReturnDetails\", {\r\n        /**\r\n         * Gets the submit response return details\r\n         */\r\n        get: function () {\r\n            return this._submitResponseReturn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SubmitResponseCompletedAction.prototype, \"getCurrentWorklistType\", {\r\n        /**\r\n         * Gets the current worklist type.\r\n         */\r\n        get: function () {\r\n            return this.worklistType;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SubmitResponseCompletedAction.prototype, \"isFromMarkScheme\", {\r\n        /**\r\n         * Gets whether the response has been submitted from markscheme\r\n         */\r\n        get: function () {\r\n            return this.fromMarkScheme;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SubmitResponseCompletedAction.prototype, \"getSubmittedMarkGroupIds\", {\r\n        /**\r\n         * Getsthe list of submitted Markgroupids\r\n         */\r\n        get: function () {\r\n            return this.markGroupIds;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SubmitResponseCompletedAction.prototype, \"getSelectedDisplayId\", {\r\n        /**\r\n         * Gets the  selectedDisplayId\r\n         */\r\n        get: function () {\r\n            return this._selectedDisplayId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SubmitResponseCompletedAction.prototype, \"isStdSetupMode\", {\r\n        /**\r\n         * Gets whether submitted from Standardisation Setup Worklist\r\n         */\r\n        get: function () {\r\n            return this._isStdSetupMode;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return SubmitResponseCompletedAction;\r\n}(dataRetrievalAction));\r\nmodule.exports = SubmitResponseCompletedAction;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQ1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FjdGlvbnMvc3VibWl0L3N1Ym1pdHJlc3BvbnNlY29tcGxldGVkYWN0aW9uLnRzPzUxNTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFjdGlvbiA9IHJlcXVpcmUoJy4uL2Jhc2UvYWN0aW9uJyk7XHJcbmltcG9ydCBhY3Rpb25UeXBlID0gcmVxdWlyZSgnLi4vYmFzZS9hY3Rpb250eXBlcycpO1xyXG5pbXBvcnQgYWN0aW9uQXVkaXRMb2dJbmZvID0gcmVxdWlyZSgnLi4vYmFzZS9hdWRpdGxvZ2luZm8vYWN0aW9uYXVkaXRsb2dpbmZvJyk7XHJcbmltcG9ydCBkYXRhUmV0cmlldmFsQWN0aW9uID0gcmVxdWlyZSgnLi4vYmFzZS9kYXRhcmV0cmlldmFsYWN0aW9uJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9lbnVtcycpO1xyXG5cclxuLyoqXHJcbiAqIEFjdGlvbiB3aGVuIHJlc3BvbnNlcyBhcmUgc3VibWl0dGVkXHJcbiAqL1xyXG5jbGFzcyBTdWJtaXRSZXNwb25zZUNvbXBsZXRlZEFjdGlvbiBleHRlbmRzIGRhdGFSZXRyaWV2YWxBY3Rpb24ge1xyXG5cclxuICAgIHByaXZhdGUgX3N1Ym1pdFJlc3BvbnNlUmV0dXJuOiBTdWJtaXRSZXNwb25zZVJldHVybjtcclxuICAgIHByaXZhdGUgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGU7XHJcbiAgICBwcml2YXRlIGZyb21NYXJrU2NoZW1lOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBleGFtaW5lckFwcHJvdmFsOiBlbnVtcy5FeGFtaW5lckFwcHJvdmFsO1xyXG4gICAgcHJpdmF0ZSBtYXJrR3JvdXBJZHM6IEFycmF5PE51bWJlcj47XHJcbiAgICBwcml2YXRlIF9zZWxlY3RlZERpc3BsYXlJZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfaXNTdGRTZXR1cE1vZGU6IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgU3VibWl0UmVzcG9uc2VDb21wbGV0ZWRBY3Rpb25cclxuICAgICAqIEBwYXJhbSBzdWJtaXRSZXNwb25zZVJldHVybiBUaGUgcmV0dXJuIHZhbHVlcyBhZnRlciByZXNwb25zZSBzdWJtaXNzaW9uXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHN1Y2Nlc3M6IGJvb2xlYW4sIHN1Ym1pdFJlc3BvbnNlUmV0dXJuOiBTdWJtaXRSZXNwb25zZVJldHVybiwgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUsXHJcbiAgICAgICAgZnJvbU1hcmtTY2hlbWU6IGJvb2xlYW4sIGV4YW1pbmVyQXBwcm92YWw6IGVudW1zLkV4YW1pbmVyQXBwcm92YWwsIG1hcmtHcm91cElkczogQXJyYXk8TnVtYmVyPixcclxuICAgICAgICBzZWxlY3RlZERpc3BsYXlJZD86IHN0cmluZywgaXNTdGRTZXR1cE1vZGU/OiBib29sZWFuKSB7XHJcbiAgICAgICAgc3VwZXIoYWN0aW9uLlNvdXJjZS5WaWV3LCBhY3Rpb25UeXBlLlNVQk1JVF9SRVNQT05TRV9DT01QTEVURUQsIHN1Y2Nlc3MsIHN1Ym1pdFJlc3BvbnNlUmV0dXJuKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRSZXNwb25zZVJldHVybiA9IHN1Ym1pdFJlc3BvbnNlUmV0dXJuO1xyXG4gICAgICAgIHRoaXMud29ya2xpc3RUeXBlID0gd29ya2xpc3RUeXBlO1xyXG4gICAgICAgIHRoaXMuZnJvbU1hcmtTY2hlbWUgPSBmcm9tTWFya1NjaGVtZTtcclxuICAgICAgICB0aGlzLmV4YW1pbmVyQXBwcm92YWwgPSBleGFtaW5lckFwcHJvdmFsO1xyXG4gICAgICAgIHRoaXMubWFya0dyb3VwSWRzID0gbWFya0dyb3VwSWRzO1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdGVkRGlzcGxheUlkID0gc2VsZWN0ZWREaXNwbGF5SWQ7XHJcbiAgICAgICAgdGhpcy5faXNTdGRTZXR1cE1vZGUgPSBpc1N0ZFNldHVwTW9kZTtcclxuICAgICAgICB0aGlzLmF1ZGl0TG9nLmxvZ0NvbnRlbnQgPSB0aGlzLmF1ZGl0TG9nLmxvZ0NvbnRlbnQucmVwbGFjZSgve3N1Y2Nlc3N9L2csXHJcbiAgICAgICAgICAgIHN1Y2Nlc3MudG9TdHJpbmcoKSkucmVwbGFjZSgve2Vycm9yQ29kZX0vZywgc3VibWl0UmVzcG9uc2VSZXR1cm4ucmVzcG9uc2VTdWJtaXRFcnJvckNvZGUudG9TdHJpbmcoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ZhbCBzdGF0dXMgb2YgZXhhbWluZXIgd2hpbGUgc3VibWl0dGluZyB0aGUgcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgZ2V0IGdldEV4YW1pbmVyQXBwcm92YWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhhbWluZXJBcHByb3ZhbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHN1Ym1pdCByZXNwb25zZSByZXR1cm4gZGV0YWlsc1xyXG4gICAgICovXHJcbiAgICBnZXQgZ2V0U3VibWl0UmVzcG9uc2VSZXR1cm5EZXRhaWxzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJtaXRSZXNwb25zZVJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgd29ya2xpc3QgdHlwZS5cclxuICAgICAqL1xyXG4gICAgZ2V0IGdldEN1cnJlbnRXb3JrbGlzdFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud29ya2xpc3RUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB3aGV0aGVyIHRoZSByZXNwb25zZSBoYXMgYmVlbiBzdWJtaXR0ZWQgZnJvbSBtYXJrc2NoZW1lXHJcbiAgICAgKi9cclxuICAgIGdldCBpc0Zyb21NYXJrU2NoZW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZyb21NYXJrU2NoZW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0c3RoZSBsaXN0IG9mIHN1Ym1pdHRlZCBNYXJrZ3JvdXBpZHNcclxuICAgICAqL1xyXG4gICAgZ2V0IGdldFN1Ym1pdHRlZE1hcmtHcm91cElkcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXJrR3JvdXBJZHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSAgc2VsZWN0ZWREaXNwbGF5SWRcclxuICAgICAqL1xyXG4gICAgZ2V0IGdldFNlbGVjdGVkRGlzcGxheUlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZERpc3BsYXlJZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgd2hldGhlciBzdWJtaXR0ZWQgZnJvbSBTdGFuZGFyZGlzYXRpb24gU2V0dXAgV29ya2xpc3RcclxuICAgICAqL1xyXG4gICAgZ2V0IGlzU3RkU2V0dXBNb2RlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc1N0ZFNldHVwTW9kZTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgPSBTdWJtaXRSZXNwb25zZUNvbXBsZXRlZEFjdGlvbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FjdGlvbnMvc3VibWl0L3N1Ym1pdHJlc3BvbnNlY29tcGxldGVkYWN0aW9uLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUdBOztBQUVBO0FBQ0E7QUFBQTtBQVVBOzs7QUFHQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 346:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/actions/submit/submitresponsestartedaction.ts ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar action = __webpack_require__(/*! ../base/action */ 229);\r\nvar actionType = __webpack_require__(/*! ../base/actiontypes */ 228);\r\n/**\r\n * Action to start submit single response\r\n */\r\nvar SubmitResponseStartedAction = /** @class */ (function (_super) {\r\n    __extends(SubmitResponseStartedAction, _super);\r\n    /**\r\n     * Constructor for ResponseSubmitStarted\r\n     * @param markGroupId The mark group id\r\n     */\r\n    function SubmitResponseStartedAction(markGroupId) {\r\n        var _this = _super.call(this, action.Source.View, actionType.SINGLE_RESPONSE_SUBMIT_STARTED) || this;\r\n        _this._markGroupId = markGroupId;\r\n        _this.auditLog.logContent = _this.auditLog.logContent.replace(/{markGroupId}/g, markGroupId.toString());\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SubmitResponseStartedAction.prototype, \"getMarkGroupId\", {\r\n        /**\r\n         * Gets the mark group id\r\n         */\r\n        get: function () {\r\n            return this._markGroupId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return SubmitResponseStartedAction;\r\n}(action));\r\nmodule.exports = SubmitResponseStartedAction;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQ2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FjdGlvbnMvc3VibWl0L3N1Ym1pdHJlc3BvbnNlc3RhcnRlZGFjdGlvbi50cz9hYzA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhY3Rpb24gPSByZXF1aXJlKCcuLi9iYXNlL2FjdGlvbicpO1xyXG5pbXBvcnQgYWN0aW9uVHlwZSA9IHJlcXVpcmUoJy4uL2Jhc2UvYWN0aW9udHlwZXMnKTtcclxuaW1wb3J0IGFjdGlvbkF1ZGl0TG9nSW5mbyA9IHJlcXVpcmUoJy4uL2Jhc2UvYXVkaXRsb2dpbmZvL2FjdGlvbmF1ZGl0bG9naW5mbycpO1xyXG5cclxuLyoqXHJcbiAqIEFjdGlvbiB0byBzdGFydCBzdWJtaXQgc2luZ2xlIHJlc3BvbnNlXHJcbiAqL1xyXG5jbGFzcyBTdWJtaXRSZXNwb25zZVN0YXJ0ZWRBY3Rpb24gZXh0ZW5kcyBhY3Rpb24ge1xyXG5cclxuICAgIHByaXZhdGUgX21hcmtHcm91cElkOiBudW1iZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgUmVzcG9uc2VTdWJtaXRTdGFydGVkXHJcbiAgICAgKiBAcGFyYW0gbWFya0dyb3VwSWQgVGhlIG1hcmsgZ3JvdXAgaWRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoIG1hcmtHcm91cElkOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihhY3Rpb24uU291cmNlLlZpZXcsIGFjdGlvblR5cGUuU0lOR0xFX1JFU1BPTlNFX1NVQk1JVF9TVEFSVEVEKTtcclxuICAgICAgICB0aGlzLl9tYXJrR3JvdXBJZCA9IG1hcmtHcm91cElkO1xyXG4gICAgICAgIHRoaXMuYXVkaXRMb2cubG9nQ29udGVudCA9IHRoaXMuYXVkaXRMb2cubG9nQ29udGVudC5yZXBsYWNlKC97bWFya0dyb3VwSWR9L2csIG1hcmtHcm91cElkLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbWFyayBncm91cCBpZFxyXG4gICAgICovXHJcbiAgICBnZXQgZ2V0TWFya0dyb3VwSWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcmtHcm91cElkO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCA9IFN1Ym1pdFJlc3BvbnNlU3RhcnRlZEFjdGlvbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FjdGlvbnMvc3VibWl0L3N1Ym1pdHJlc3BvbnNlc3RhcnRlZGFjdGlvbi50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBR0E7O0FBRUE7QUFDQTtBQUFBO0FBSUE7OztBQUdBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7O0FBQ0E7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 356:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/components/response/responsescreen/tag.tsx ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar tag = function (props) {\r\n    // For light-green tag, in css class they are using a hyphen(-) but the same cannot be applied to an Enum.\r\n    // So for light Green Tag, we are appending the class name through below condition.\r\n    // For other tags, it works.\r\n    var tagClass = props.tagType === enums.TagType.LightGreen ? ' light-green'\r\n        : enums.getEnumString(enums.TagType, props.tagType).toLocaleLowerCase();\r\n    /**\r\n     * This method gets the title for the tag\r\n     */\r\n    var getTitleForTag = function () {\r\n        var title;\r\n        switch (props.tagType) {\r\n            case enums.TagType.Empty:\r\n                title = localeStore.instance.TranslateText('marking.worklist.tag-tooltips.no-tag');\r\n                if (props.isSelected && props.isInList === false) {\r\n                    title = localeStore.instance.TranslateText('marking.worklist.tag-tooltips.add-tag');\r\n                }\r\n                break;\r\n            default:\r\n                title = localeStore.instance.TranslateText('marking.worklist.tag-tooltips.' +\r\n                    enums.getEnumString(enums.TagType, props.tagType).toLocaleLowerCase());\r\n        }\r\n        return title;\r\n    };\r\n    /**\r\n     * handler for selection of tags from list (Callback).\r\n     */\r\n    var onSelection = function (event) {\r\n        props.onSelection(props.tagType, event);\r\n    };\r\n    /**\r\n     * handler for clicking on the tag to expand/collapse the list (Callback).\r\n     */\r\n    var onClickExpandAndCollapse = function (event) {\r\n        props.onArrowClick(props.tagType, event);\r\n    };\r\n    // SVG element for tag icons\r\n    var svgElements = React.createElement(\"g\", { id: 'tag-icon' },\r\n        React.createElement(\"svg\", { viewBox: '0 0 20 20', preserveAspectRatio: 'xMidYMid meet' },\r\n            React.createElement(\"g\", null,\r\n                React.createElement(\"path\", { d: 'M17.125,2.876l-5.553-0.799l-9.336,9.336l6.35,6.352l9.338-9.337L17.125,2.876z M15.145,7.39c-0.7,0.7-1.835,0.7-2.536,0c-0.7-0.699-0.7-1.833,0-2.532c0.7-0.7,1.836-0.7,2.536,0C15.845,5.557,15.845,6.69,15.145,7.39' }),\r\n                React.createElement(\"path\", { d: 'M17.59,2.41l-6.203-0.892L1.49,11.413l7.095,7.097l9.896-9.896L17.59,2.41z M8.585,17.02L2.98,11.413l8.779-8.776l4.9,0.705l0.704,4.899L8.585,17.02z', fill: 'currentColor' }),\r\n                React.createElement(\"path\", { d: 'M12.237,4.483c-0.904,0.905-0.904,2.374,0,3.278c0.453,0.453,1.045,0.679,1.64,0.679s1.188-0.226,1.64-0.679c0.904-0.904,0.904-2.373,0-3.278C14.614,3.581,13.14,3.579,12.237,4.483z M14.772,7.017c-0.494,0.496-1.296,0.493-1.791,0c-0.492-0.492-0.492-1.295,0-1.788c0.247-0.246,0.572-0.369,0.896-0.369s0.648,0.123,0.895,0.369C15.264,5.722,15.264,6.524,14.772,7.017z', fill: 'currentColor' }),\r\n                React.createElement(\"path\", { d: 'M9.127,8.035c-0.207-0.206-0.54-0.206-0.745,0c-0.207,0.206-0.207,0.539,0,0.745l2.838,2.839c0.103,0.102,0.239,0.153,0.373,0.153c0.136,0,0.27-0.052,0.373-0.153c0.206-0.207,0.206-0.54,0-0.746L9.127,8.035z', fill: 'currentColor' }),\r\n                React.createElement(\"path\", { d: 'M6.69,10.472c-0.206-0.206-0.539-0.206-0.745,0c-0.206,0.206-0.206,0.539,0,0.745l2.838,2.839c0.103,0.103,0.238,0.153,0.373,0.153s0.27-0.051,0.373-0.153c0.206-0.206,0.206-0.54,0-0.746L6.69,10.472z', fill: 'currentColor' }))));\r\n    // SVG elements for highlighted tags\r\n    var svgElementHighlight = React.createElement(\"g\", { id: 'tag-highlight' },\r\n        React.createElement(\"svg\", { viewBox: '0 0 20 20', preserveAspectRatio: 'xMidYMid meet' },\r\n            React.createElement(\"g\", null,\r\n                React.createElement(\"path\", { d: 'M13.877,4.859c-0.323,0-0.648,0.123-0.896,0.369c-0.492,0.493-0.492,1.296,0,1.788c0.494,0.493,1.295,0.496,1.791,0c0.492-0.492,0.492-1.295,0-1.788C14.525,4.982,14.2,4.859,13.877,4.859' }),\r\n                React.createElement(\"path\", { d: 'M19.524,8.464l-0.891-6.203L18.52,1.479l-0.78-0.11l-6.204-0.895L11.014,0.4l-0.373,0.373l-9.896,9.895L0,11.413l0.745,0.745l7.096,7.097L8.586,20l0.745-0.745l9.894-9.896l0.375-0.372L19.524,8.464z M8.586,18.51L1.49,11.413l9.896-9.896l6.203,0.895l0.891,6.201L8.586,18.51z' }))));\r\n    // SVG Elements for no tags\r\n    var svgElementEmpty = React.createElement(\"g\", { id: 'tag-icon-empty' },\r\n        React.createElement(\"svg\", { viewBox: '0 0 20 20', preserveAspectRatio: 'xMidYMid meet' },\r\n            React.createElement(\"g\", null,\r\n                React.createElement(\"path\", { d: 'M17.59,2.41l-6.203-0.892L1.49,11.413l7.095,7.097l9.896-9.896L17.59,2.41z M8.585,17.02L2.98,11.413l8.779-8.776l4.9,0.705l0.704,4.899L8.585,17.02z', fill: 'currentColor' }),\r\n                React.createElement(\"path\", { d: 'M12.237,4.483c-0.904,0.905-0.904,2.374,0,3.278c0.453,0.453,1.045,0.679,1.64,0.679s1.188-0.226,1.64-0.679c0.904-0.904,0.904-2.373,0-3.278C14.614,3.581,13.14,3.579,12.237,4.483z M14.772,7.017c-0.494,0.496-1.296,0.493-1.791,0c-0.492-0.492-0.492-1.295,0-1.788c0.247-0.246,0.572-0.369,0.896-0.369s0.648,0.123,0.895,0.369C15.264,5.722,15.264,6.524,14.772,7.017z', fill: 'currentColor' }))));\r\n    if (props.isInList) {\r\n        return (React.createElement(\"a\", { className: classNames('tag-menu-item-link', { ' current': props.isSelected }), title: getTitleForTag(), id: 'tag_item_' + props.tagType, onClick: onSelection },\r\n            React.createElement(\"span\", { className: 'svg-icon tag' },\r\n                React.createElement(\"svg\", { viewBox: '0 0 20 20', className: ' tag-icon ' + tagClass, id: 'tag_list_' + tagClass },\r\n                    React.createElement(\"use\", { xlinkHref: '#tag-icon' + (props.tagType === enums.TagType.Empty ? '-empty' : '') })))));\r\n    }\r\n    else {\r\n        return (React.createElement(\"a\", { className: 'tag-menu-anchor menu-button', id: (props.isFromWorklist ? ('tag_icon_' + props.id) : 'tag_icon'), title: getTitleForTag(), onClick: onClickExpandAndCollapse },\r\n            React.createElement(\"span\", { className: 'svg-icon tag' },\r\n                React.createElement(\"svg\", { viewBox: '0 0 20 20', className: ' tag-icon ' + tagClass, id: 'tag_color' },\r\n                    React.createElement(\"use\", { xlinkHref: '#tag-icon', className: 'non-empty-tag' }, svgElements),\r\n                    React.createElement(\"use\", { xlinkHref: '#tag-icon-empty', className: 'empty-tag' }, svgElementEmpty),\r\n                    React.createElement(\"use\", { xlinkHref: '#tag-highlight', className: 'highlight-tag' }, svgElementHighlight))),\r\n            React.createElement(\"span\", { className: 'sprite-icon toolexpand-icon' + (props.isFromWorklist ? '-grey' : '') })));\r\n    }\r\n};\r\nmodule.exports = tag;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzU2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVzcG9uc2UvcmVzcG9uc2VzY3JlZW4vdGFnLnRzeD8wZGEzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZW5hYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcblxyXG4vKipcclxuICogQ29tcG9uZW50IHByb3BzXHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqIEBwYXJhbSB7YW55fSBhbnlcclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIFByb3BzQmFzZSwgTG9jYWxlU2VsZWN0aW9uQmFzZSB7XHJcbiAgICBpc1NlbGVjdGVkID86IGJvb2xlYW47XHJcbiAgICB0YWdUeXBlOiBlbnVtcy5UYWdUeXBlO1xyXG4gICAgb25BcnJvd0NsaWNrOiBGdW5jdGlvbjtcclxuICAgIG9uU2VsZWN0aW9uOiBGdW5jdGlvbjtcclxuICAgIGlzSW5MaXN0OiBib29sZWFuO1xyXG4gICAgLy8gV2UgYXJlIGdldHRpbmcgdGhpcyB2YWx1ZSBmcm9tIHRhZyBsaXN0IHdoZXJlIHdlIGFyZSBjaGVja2luZyBmb3IgbWFyayBncm91cCBpZCBwcm9wcyBcclxuICAgIC8vIHdoaWNoIGNvbnRhaW4gdmFsdWUgb25seSBpZiB0aGUgcmVzcG9uc2UgaW4gd29ya2xpc3QuXHJcbiAgICBpc0Zyb21Xb3JrbGlzdCA/OiBib29sZWFuO1xyXG59XHJcblxyXG5jb25zdCB0YWc6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxQcm9wcz4gPSAocHJvcHM6IFByb3BzKSA9PiB7XHJcblxyXG4gICAgLy8gRm9yIGxpZ2h0LWdyZWVuIHRhZywgaW4gY3NzIGNsYXNzIHRoZXkgYXJlIHVzaW5nIGEgaHlwaGVuKC0pIGJ1dCB0aGUgc2FtZSBjYW5ub3QgYmUgYXBwbGllZCB0byBhbiBFbnVtLlxyXG4gICAgLy8gU28gZm9yIGxpZ2h0IEdyZWVuIFRhZywgd2UgYXJlIGFwcGVuZGluZyB0aGUgY2xhc3MgbmFtZSB0aHJvdWdoIGJlbG93IGNvbmRpdGlvbi5cclxuICAgIC8vIEZvciBvdGhlciB0YWdzLCBpdCB3b3Jrcy5cclxuICAgIGxldCB0YWdDbGFzcyA9IHByb3BzLnRhZ1R5cGUgPT09IGVudW1zLlRhZ1R5cGUuTGlnaHRHcmVlbiA/ICcgbGlnaHQtZ3JlZW4nXHJcbiAgICAgICAgOiBlbnVtcy5nZXRFbnVtU3RyaW5nKGVudW1zLlRhZ1R5cGUsIHByb3BzLnRhZ1R5cGUpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBnZXRzIHRoZSB0aXRsZSBmb3IgdGhlIHRhZ1xyXG4gICAgICovXHJcbiAgICBjb25zdCBnZXRUaXRsZUZvclRhZyA9ICgpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgIGxldCB0aXRsZTogc3RyaW5nO1xyXG4gICAgICAgIHN3aXRjaCAocHJvcHMudGFnVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlRhZ1R5cGUuRW1wdHk6XHJcbiAgICAgICAgICAgICAgICB0aXRsZSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QudGFnLXRvb2x0aXBzLm5vLXRhZycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmlzU2VsZWN0ZWQgJiYgcHJvcHMuaXNJbkxpc3QgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnRhZy10b29sdGlwcy5hZGQtdGFnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRpdGxlID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC50YWctdG9vbHRpcHMuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuZ2V0RW51bVN0cmluZyhlbnVtcy5UYWdUeXBlLCBwcm9wcy50YWdUeXBlKS50b0xvY2FsZUxvd2VyQ2FzZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRpdGxlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGhhbmRsZXIgZm9yIHNlbGVjdGlvbiBvZiB0YWdzIGZyb20gbGlzdCAoQ2FsbGJhY2spLlxyXG4gICAgICovXHJcbiAgICBjb25zdCBvblNlbGVjdGlvbiA9IChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgcHJvcHMub25TZWxlY3Rpb24ocHJvcHMudGFnVHlwZSwgZXZlbnQpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGhhbmRsZXIgZm9yIGNsaWNraW5nIG9uIHRoZSB0YWcgdG8gZXhwYW5kL2NvbGxhcHNlIHRoZSBsaXN0IChDYWxsYmFjaykuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0IG9uQ2xpY2tFeHBhbmRBbmRDb2xsYXBzZSA9IChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgcHJvcHMub25BcnJvd0NsaWNrKHByb3BzLnRhZ1R5cGUsIGV2ZW50KTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gU1ZHIGVsZW1lbnQgZm9yIHRhZyBpY29uc1xyXG4gICAgbGV0IHN2Z0VsZW1lbnRzID0gPGcgaWQ9J3RhZy1pY29uJz5cclxuICAgIFx0PHN2ZyB2aWV3Qm94PScwIDAgMjAgMjAnIHByZXNlcnZlQXNwZWN0UmF0aW89J3hNaWRZTWlkIG1lZXQnPlxyXG5cdFx0XHQ8Zz5cclxuICAgICAgICAgICAgICAgIHsvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi99XHJcblx0XHRcdDxwYXRoIGQ9J00xNy4xMjUsMi44NzZsLTUuNTUzLTAuNzk5bC05LjMzNiw5LjMzNmw2LjM1LDYuMzUybDkuMzM4LTkuMzM3TDE3LjEyNSwyLjg3NnogTTE1LjE0NSw3LjM5Yy0wLjcsMC43LTEuODM1LDAuNy0yLjUzNiwwYy0wLjctMC42OTktMC43LTEuODMzLDAtMi41MzJjMC43LTAuNywxLjgzNi0wLjcsMi41MzYsMEMxNS44NDUsNS41NTcsMTUuODQ1LDYuNjksMTUuMTQ1LDcuMzknPjwvcGF0aD5cclxuXHRcdFx0PHBhdGggZD0nTTE3LjU5LDIuNDFsLTYuMjAzLTAuODkyTDEuNDksMTEuNDEzbDcuMDk1LDcuMDk3bDkuODk2LTkuODk2TDE3LjU5LDIuNDF6IE04LjU4NSwxNy4wMkwyLjk4LDExLjQxM2w4Ljc3OS04Ljc3Nmw0LjksMC43MDVsMC43MDQsNC44OTlMOC41ODUsMTcuMDJ6JyBmaWxsPSdjdXJyZW50Q29sb3InPjwvcGF0aD5cclxuXHRcdFx0PHBhdGggZD0nTTEyLjIzNyw0LjQ4M2MtMC45MDQsMC45MDUtMC45MDQsMi4zNzQsMCwzLjI3OGMwLjQ1MywwLjQ1MywxLjA0NSwwLjY3OSwxLjY0LDAuNjc5czEuMTg4LTAuMjI2LDEuNjQtMC42NzljMC45MDQtMC45MDQsMC45MDQtMi4zNzMsMC0zLjI3OEMxNC42MTQsMy41ODEsMTMuMTQsMy41NzksMTIuMjM3LDQuNDgzeiBNMTQuNzcyLDcuMDE3Yy0wLjQ5NCwwLjQ5Ni0xLjI5NiwwLjQ5My0xLjc5MSwwYy0wLjQ5Mi0wLjQ5Mi0wLjQ5Mi0xLjI5NSwwLTEuNzg4YzAuMjQ3LTAuMjQ2LDAuNTcyLTAuMzY5LDAuODk2LTAuMzY5czAuNjQ4LDAuMTIzLDAuODk1LDAuMzY5QzE1LjI2NCw1LjcyMiwxNS4yNjQsNi41MjQsMTQuNzcyLDcuMDE3eicgZmlsbD0nY3VycmVudENvbG9yJz48L3BhdGg+XHJcblx0XHRcdDxwYXRoIGQ9J005LjEyNyw4LjAzNWMtMC4yMDctMC4yMDYtMC41NC0wLjIwNi0wLjc0NSwwYy0wLjIwNywwLjIwNi0wLjIwNywwLjUzOSwwLDAuNzQ1bDIuODM4LDIuODM5YzAuMTAzLDAuMTAyLDAuMjM5LDAuMTUzLDAuMzczLDAuMTUzYzAuMTM2LDAsMC4yNy0wLjA1MiwwLjM3My0wLjE1M2MwLjIwNi0wLjIwNywwLjIwNi0wLjU0LDAtMC43NDZMOS4xMjcsOC4wMzV6JyBmaWxsPSdjdXJyZW50Q29sb3InPjwvcGF0aD5cclxuXHRcdFx0PHBhdGggZD0nTTYuNjksMTAuNDcyYy0wLjIwNi0wLjIwNi0wLjUzOS0wLjIwNi0wLjc0NSwwYy0wLjIwNiwwLjIwNi0wLjIwNiwwLjUzOSwwLDAuNzQ1bDIuODM4LDIuODM5YzAuMTAzLDAuMTAzLDAuMjM4LDAuMTUzLDAuMzczLDAuMTUzczAuMjctMC4wNTEsMC4zNzMtMC4xNTNjMC4yMDYtMC4yMDYsMC4yMDYtMC41NCwwLTAuNzQ2TDYuNjksMTAuNDcyeicgZmlsbD0nY3VycmVudENvbG9yJz48L3BhdGg+XHJcbiAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgey8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovfVxyXG5cdFx0PC9zdmc+XHJcblx0PC9nPjtcclxuXHJcbiAgICAvLyBTVkcgZWxlbWVudHMgZm9yIGhpZ2hsaWdodGVkIHRhZ3NcclxuICAgIGxldCBzdmdFbGVtZW50SGlnaGxpZ2h0ID0gPGcgaWQ9J3RhZy1oaWdobGlnaHQnPlxyXG4gICAgXHQ8c3ZnIHZpZXdCb3g9JzAgMCAyMCAyMCcgcHJlc2VydmVBc3BlY3RSYXRpbz0neE1pZFlNaWQgbWVldCc+XHJcbiAgICAgICAgICAgIDxnPlxyXG4gICAgICAgICAgICAgICAgey8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL31cclxuXHRcdFx0PHBhdGggZD0nTTEzLjg3Nyw0Ljg1OWMtMC4zMjMsMC0wLjY0OCwwLjEyMy0wLjg5NiwwLjM2OWMtMC40OTIsMC40OTMtMC40OTIsMS4yOTYsMCwxLjc4OGMwLjQ5NCwwLjQ5MywxLjI5NSwwLjQ5NiwxLjc5MSwwYzAuNDkyLTAuNDkyLDAuNDkyLTEuMjk1LDAtMS43ODhDMTQuNTI1LDQuOTgyLDE0LjIsNC44NTksMTMuODc3LDQuODU5Jz48L3BhdGg+XHJcbiAgICAgICAgICAgIDxwYXRoIGQ9J00xOS41MjQsOC40NjRsLTAuODkxLTYuMjAzTDE4LjUyLDEuNDc5bC0wLjc4LTAuMTFsLTYuMjA0LTAuODk1TDExLjAxNCwwLjRsLTAuMzczLDAuMzczbC05Ljg5Niw5Ljg5NUwwLDExLjQxM2wwLjc0NSwwLjc0NWw3LjA5Niw3LjA5N0w4LjU4NiwyMGwwLjc0NS0wLjc0NWw5Ljg5NC05Ljg5NmwwLjM3NS0wLjM3MkwxOS41MjQsOC40NjR6IE04LjU4NiwxOC41MUwxLjQ5LDExLjQxM2w5Ljg5Ni05Ljg5Nmw2LjIwMywwLjg5NWwwLjg5MSw2LjIwMUw4LjU4NiwxOC41MXonPjwvcGF0aD5cclxuICAgICAgICAgICAgey8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovfVxyXG5cdFx0XHQ8L2c+XHJcblx0XHQ8L3N2Zz5cclxuXHQ8L2c+O1xyXG5cclxuICAgIC8vIFNWRyBFbGVtZW50cyBmb3Igbm8gdGFnc1xyXG4gICAgbGV0IHN2Z0VsZW1lbnRFbXB0eSA9IDxnIGlkPSd0YWctaWNvbi1lbXB0eSc+XHJcbiAgICBcdDxzdmcgdmlld0JveD0nMCAwIDIwIDIwJyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0Jz5cclxuICAgICAgICAgICAgPGc+XHJcbiAgICAgICAgICAgICAgICB7LyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovfVxyXG5cdFx0XHQ8cGF0aCBkPSdNMTcuNTksMi40MWwtNi4yMDMtMC44OTJMMS40OSwxMS40MTNsNy4wOTUsNy4wOTdsOS44OTYtOS44OTZMMTcuNTksMi40MXogTTguNTg1LDE3LjAyTDIuOTgsMTEuNDEzbDguNzc5LTguNzc2bDQuOSwwLjcwNWwwLjcwNCw0Ljg5OUw4LjU4NSwxNy4wMnonIGZpbGw9J2N1cnJlbnRDb2xvcic+PC9wYXRoPlxyXG4gICAgICAgICAgICA8cGF0aCBkPSdNMTIuMjM3LDQuNDgzYy0wLjkwNCwwLjkwNS0wLjkwNCwyLjM3NCwwLDMuMjc4YzAuNDUzLDAuNDUzLDEuMDQ1LDAuNjc5LDEuNjQsMC42NzlzMS4xODgtMC4yMjYsMS42NC0wLjY3OWMwLjkwNC0wLjkwNCwwLjkwNC0yLjM3MywwLTMuMjc4QzE0LjYxNCwzLjU4MSwxMy4xNCwzLjU3OSwxMi4yMzcsNC40ODN6IE0xNC43NzIsNy4wMTdjLTAuNDk0LDAuNDk2LTEuMjk2LDAuNDkzLTEuNzkxLDBjLTAuNDkyLTAuNDkyLTAuNDkyLTEuMjk1LDAtMS43ODhjMC4yNDctMC4yNDYsMC41NzItMC4zNjksMC44OTYtMC4zNjlzMC42NDgsMC4xMjMsMC44OTUsMC4zNjlDMTUuMjY0LDUuNzIyLDE1LjI2NCw2LjUyNCwxNC43NzIsNy4wMTd6JyBmaWxsPSdjdXJyZW50Q29sb3InPjwvcGF0aD5cclxuICAgICAgICAgICAgey8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovfVxyXG5cdFx0XHQ8L2c+XHJcblx0XHQ8L3N2Zz5cclxuXHQ8L2c+O1xyXG5cclxuICAgIGlmIChwcm9wcy5pc0luTGlzdCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxhIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndGFnLW1lbnUtaXRlbS1saW5rJywgeyAnIGN1cnJlbnQnOiBwcm9wcy5pc1NlbGVjdGVkIH0pfSB0aXRsZT17Z2V0VGl0bGVGb3JUYWcoKX1cclxuICAgICAgICAgICAgICAgIGlkPXsndGFnX2l0ZW1fJyArIHByb3BzLnRhZ1R5cGV9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblNlbGVjdGlvbn0+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3N2Zy1pY29uIHRhZyc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PScwIDAgMjAgMjAnIGNsYXNzTmFtZT17JyB0YWctaWNvbiAnICsgdGFnQ2xhc3N9IGlkPXsndGFnX2xpc3RfJyArIHRhZ0NsYXNzfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGlua0hyZWY9eycjdGFnLWljb24nICsgKHByb3BzLnRhZ1R5cGUgPT09IGVudW1zLlRhZ1R5cGUuRW1wdHkgPyAnLWVtcHR5JyA6ICcnKX0+PC91c2U+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYT5cclxuICAgICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8YSBjbGFzc05hbWU9J3RhZy1tZW51LWFuY2hvciBtZW51LWJ1dHRvbicgaWQ9eyhwcm9wcy5pc0Zyb21Xb3JrbGlzdCA/ICgndGFnX2ljb25fJyArIHByb3BzLmlkKSAgOiAndGFnX2ljb24nKX1cclxuICAgICAgICAgICAgICAgIHRpdGxlPXtnZXRUaXRsZUZvclRhZygpfSBvbkNsaWNrPXtvbkNsaWNrRXhwYW5kQW5kQ29sbGFwc2V9PlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdzdmctaWNvbiB0YWcnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0nMCAwIDIwIDIwJyBjbGFzc05hbWU9eycgdGFnLWljb24gJyArIHRhZ0NsYXNzfSBpZD0ndGFnX2NvbG9yJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGlua0hyZWY9JyN0YWctaWNvbicgY2xhc3NOYW1lPSdub24tZW1wdHktdGFnJz57c3ZnRWxlbWVudHN9PC91c2U+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbmtIcmVmPScjdGFnLWljb24tZW1wdHknIGNsYXNzTmFtZT0nZW1wdHktdGFnJz57c3ZnRWxlbWVudEVtcHR5fTwvdXNlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rSHJlZj0nI3RhZy1oaWdobGlnaHQnIGNsYXNzTmFtZT0naGlnaGxpZ2h0LXRhZyc+e3N2Z0VsZW1lbnRIaWdobGlnaHR9PC91c2U+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9eydzcHJpdGUtaWNvbiB0b29sZXhwYW5kLWljb24nICsgKHByb3BzLmlzRnJvbVdvcmtsaXN0ID8gJy1ncmV5JyA6ICcnICl9Pjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgPSB0YWc7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9yZXNwb25zZS9yZXNwb25zZXNjcmVlbi90YWcudHN4Il0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0JBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 361:
/* no static exports found */
/* all exports used */
/*!****************************************************!*\
  !*** ./src/components/utility/genericcheckbox.tsx ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/**\r\n * generic check box component.\r\n * @param props\r\n */\r\nvar genericCheckbox = function (props) {\r\n    return (React.createElement(\"div\", { className: props.containerClassName },\r\n        React.createElement(\"input\", { type: 'checkbox', id: props.id, className: props.className, checked: props.isChecked, disabled: props.disabled, onChange: function () { props.onSelectionChange(); } }),\r\n        React.createElement(\"label\", { htmlFor: props.id, className: props.labelClassName }, props.labelContent)));\r\n};\r\nmodule.exports = genericCheckbox;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9nZW5lcmljY2hlY2tib3gudHN4PzU3NTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIG9uU2VsZWN0aW9uQ2hhbmdlPzogRnVuY3Rpb247XHJcbiAgICBpc0NoZWNrZWQ/OiBib29sZWFuO1xyXG4gICAgbGFiZWxDb250ZW50Pzogc3RyaW5nO1xyXG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gICAgbGFiZWxDbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgICBjb250YWluZXJDbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgICBkaXNhYmxlZD86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBnZW5lcmljIGNoZWNrIGJveCBjb21wb25lbnQuXHJcbiAqIEBwYXJhbSBwcm9wc1xyXG4gKi9cclxuY29uc3QgZ2VuZXJpY0NoZWNrYm94ID0gKHByb3BzOiBQcm9wcykgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY29udGFpbmVyQ2xhc3NOYW1lfT5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9J2NoZWNrYm94J1xyXG4gICAgICAgICAgICAgICAgaWQ9e3Byb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtwcm9wcy5pc0NoZWNrZWR9XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyBwcm9wcy5vblNlbGVjdGlvbkNoYW5nZSgpOyB9fS8+XHJcbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtwcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17cHJvcHMubGFiZWxDbGFzc05hbWV9Pntwcm9wcy5sYWJlbENvbnRlbnR9PC9sYWJlbD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn07XHJcblxyXG5leHBvcnQgPSBnZW5lcmljQ2hlY2tib3g7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ2VuZXJpY2NoZWNrYm94LnRzeCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBYUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFJQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 362:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/components/utility/genericpopupwithradiobuttons.tsx ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar _this = this;\r\n/*\r\n  React component for Generic button.\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/**\r\n * React component class for Generic popup with radio buttons implementation.\r\n */\r\nvar genericPopupWithRadioButtons = function (props) {\r\n    var that = _this;\r\n    var toRender = (React.createElement(\"ul\", { id: props.id, key: 'key_ul_genericpopup', className: props.className }, props.items && props.items.map(function (item) {\r\n        return React.createElement(\"li\", { id: 'li_genericpopup_' + item.id, className: props.liClassName, key: 'key_li_genericpopup_' + item.id },\r\n            React.createElement(\"input\", { checked: item.isChecked, type: 'radio', id: item.id.toString(), onClick: function () { props.onCheckedChange(item); }, key: 'key_' + item.id, name: 'genericpopup', value: item.isChecked ? 'true' : 'false' }),\r\n            React.createElement(\"label\", { htmlFor: item.id.toString() },\r\n                React.createElement(\"span\", { className: 'radio-ui' }),\r\n                React.createElement(\"span\", { className: 'label-text' }, item.name),\r\n                React.createElement(\"span\", { className: 'label-text error' }, item.errorText)));\r\n    })));\r\n    return toRender;\r\n};\r\nmodule.exports = genericPopupWithRadioButtons;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9nZW5lcmljcG9wdXB3aXRocmFkaW9idXR0b25zLnRzeD8wMWU5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gIFJlYWN0IGNvbXBvbmVudCBmb3IgR2VuZXJpYyBidXR0b24uXG4qL1xuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXG5pbXBvcnQgZ2VuZXJpY1JhZGlvQnV0dG9uSXRlbXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2dlbmVyaWNyYWRpb2J1dHRvbml0ZW1zJyk7XG5cblxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcbiAgICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gICAgb25DaGVja2VkQ2hhbmdlPzogRnVuY3Rpb247XG4gICAgaXRlbXM/OiBBcnJheTxnZW5lcmljUmFkaW9CdXR0b25JdGVtcz47XG4gICAgcmVuZGVyZWRPbj86IG51bWJlcjtcbiAgICBsaUNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIEdlbmVyaWMgcG9wdXAgd2l0aCByYWRpbyBidXR0b25zIGltcGxlbWVudGF0aW9uLlxuICovXG5jb25zdCBnZW5lcmljUG9wdXBXaXRoUmFkaW9CdXR0b25zOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8UHJvcHM+ID0gKHByb3BzOiBQcm9wcykgPT4ge1xuICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICBsZXQgdG9SZW5kZXIgPSAoPHVsIGlkPXtwcm9wcy5pZH0ga2V5PSdrZXlfdWxfZ2VuZXJpY3BvcHVwJyBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gPlxuICAgICAgICB7XG4gICAgICAgICAgICBwcm9wcy5pdGVtcyAmJiBwcm9wcy5pdGVtcy5tYXAoKGl0ZW06IGdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zKSA9PlxuICAgICAgICAgICAgICAgIDxsaSBpZD17J2xpX2dlbmVyaWNwb3B1cF8nICsgaXRlbS5pZH0gY2xhc3NOYW1lPXtwcm9wcy5saUNsYXNzTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgIGtleT17J2tleV9saV9nZW5lcmljcG9wdXBfJyArIGl0ZW0uaWR9PlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2hlY2tlZD17aXRlbS5pc0NoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdyYWRpbycgaWQ9e2l0ZW0uaWQudG9TdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgcHJvcHMub25DaGVja2VkQ2hhbmdlKGl0ZW0pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsna2V5XycgKyBpdGVtLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0nZ2VuZXJpY3BvcHVwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2l0ZW0uaXNDaGVja2VkID8gJ3RydWUnIDogJ2ZhbHNlJ30gLz5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9e2l0ZW0uaWQudG9TdHJpbmcoKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3JhZGlvLXVpJz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xhYmVsLXRleHQnPntpdGVtLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdsYWJlbC10ZXh0IGVycm9yJz57aXRlbS5lcnJvclRleHR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICA8L3VsPik7XG5cbiAgICByZXR1cm4gdG9SZW5kZXI7XG59O1xuXG5leHBvcnQgPSBnZW5lcmljUG9wdXBXaXRoUmFkaW9CdXR0b25zO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ2VuZXJpY3BvcHVwd2l0aHJhZGlvYnV0dG9ucy50c3giXSwibWFwcGluZ3MiOiI7QUFJQTtBQUpBOztBQUVBO0FBQ0E7QUFDQTtBQWFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFrQkE7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 363:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/components/utility/genericradiobuttonitems.ts ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Radio Button Items\r\n */\r\nvar GenericRadioButtonItems = /** @class */ (function () {\r\n    function GenericRadioButtonItems() {\r\n    }\r\n    return GenericRadioButtonItems;\r\n}());\r\nmodule.exports = GenericRadioButtonItems;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9nZW5lcmljcmFkaW9idXR0b25pdGVtcy50cz80ZmUwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBSYWRpbyBCdXR0b24gSXRlbXNcclxuICovXHJcbmNsYXNzIEdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zIHtcclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgaWQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBpc0NoZWNrZWQ6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgc2VxdWVuY2VObzogbnVtYmVyO1xyXG4gICAgcHVibGljIGVycm9yVGV4dD86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0ID0gR2VuZXJpY1JhZGlvQnV0dG9uSXRlbXM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ2VuZXJpY3JhZGlvYnV0dG9uaXRlbXMudHMiXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 365:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/components/utility/grid/genericcomponentwrapper.tsx ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\n/**\r\n * React component class for GenericWrapper\r\n */\r\nvar GenericComponentWrapper = /** @class */ (function (_super) {\r\n    __extends(GenericComponentWrapper, _super);\r\n    /**\r\n     * Constructor GenericComponentWrapper\r\n     * @param properties\r\n     * @param state\r\n     */\r\n    function GenericComponentWrapper(properties, state) {\r\n        return _super.call(this, properties, state) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    GenericComponentWrapper.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: this.props.divClassName }, this.props.componentList));\r\n    };\r\n    return GenericComponentWrapper;\r\n}(pureRenderComponent));\r\nmodule.exports = GenericComponentWrapper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL2dlbmVyaWNjb21wb25lbnR3cmFwcGVyLnRzeD9jYjU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGEgY29tcG9uZW50IEdlbmVyaWNXcmFwcGVyXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgZGl2Q2xhc3NOYW1lOiBzdHJpbmc7XHJcbiAgICBjb21wb25lbnRMaXN0OiBJbW11dGFibGUuTGlzdDxKU1guRWxlbWVudD47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIEdlbmVyaWNXcmFwcGVyXHJcbiAqL1xyXG5jbGFzcyBHZW5lcmljQ29tcG9uZW50V3JhcHBlciBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3IgR2VuZXJpY0NvbXBvbmVudFdyYXBwZXJcclxuICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcGVydGllczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wZXJ0aWVzLCBzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lID0ge3RoaXMucHJvcHMuZGl2Q2xhc3NOYW1lfSA+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jb21wb25lbnRMaXN0fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBHZW5lcmljQ29tcG9uZW50V3JhcHBlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL2dlbmVyaWNjb21wb25lbnR3cmFwcGVyLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBV0E7O0FBRUE7QUFDQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 367:
/* no static exports found */
/* all exports used */
/*!********************************************************************************************************************!*\
  !*** ./src/components/utility/savemarksandannotations/savemarksandannotationsnonrecoverableerrordialogcontents.ts ***!
  \********************************************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar marksAndAnnotationsSaveHelper = __webpack_require__(/*! ../../../utility/marking/marksandannotationssavehelper */ 295);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../enums */ 225);\r\n/**\r\n * Class for generating Save Marks and annotations error dialog.\r\n */\r\nvar SaveMarksAndAnnotationsNonRecoverableErrorDialogContents = /** @class */ (function () {\r\n    /**\r\n     * @constructor\r\n     */\r\n    function SaveMarksAndAnnotationsNonRecoverableErrorDialogContents(detailedError) {\r\n        this._detailedError = false;\r\n        this._detailedError = detailedError;\r\n    }\r\n    Object.defineProperty(SaveMarksAndAnnotationsNonRecoverableErrorDialogContents.prototype, \"header\", {\r\n        /**\r\n         * returns the error dialog header.\r\n         */\r\n        get: function () {\r\n            return localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.header-error-saving-marks');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SaveMarksAndAnnotationsNonRecoverableErrorDialogContents.prototype, \"content\", {\r\n        /**\r\n         * returns the error dialog content based on the dialog type\r\n         */\r\n        get: function () {\r\n            var isDefinitive = standardisationSetupStore.instance.selectedStandardisationSetupWorkList\r\n                === enums.StandardisationSetup.UnClassifiedResponse;\r\n            if (!this._detailedError) {\r\n                return localeStore.instance.TranslateText(isDefinitive ? 'marking.response.saving-marks-error-dialog.body-error-saving-def-marks-single-response' :\r\n                    'marking.response.saving-marks-error-dialog.body-error-saving-marks-single-response');\r\n            }\r\n            else {\r\n                return localeStore.instance.TranslateText(isDefinitive ? 'marking.response.saving-marks-error-dialog.body-error-saving-def-marks-multiple-responses' :\r\n                    'marking.response.saving-marks-error-dialog.body-error-saving-marks-multiple-responses');\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SaveMarksAndAnnotationsNonRecoverableErrorDialogContents.prototype, \"tableContent\", {\r\n        /**\r\n         * This will returns the non-recoverable error items (displayIds)\r\n         */\r\n        get: function () {\r\n            return marksAndAnnotationsSaveHelper.markGroupItemsWithNonRecoverableErrors;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return SaveMarksAndAnnotationsNonRecoverableErrorDialogContents;\r\n}());\r\nmodule.exports = SaveMarksAndAnnotationsNonRecoverableErrorDialogContents;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9zYXZlbWFya3NhbmRhbm5vdGF0aW9ucy9zYXZlbWFya3NhbmRhbm5vdGF0aW9uc25vbnJlY292ZXJhYmxlZXJyb3JkaWFsb2djb250ZW50cy50cz9mMTE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbWFya2luZy9tYXJrc2FuZGFubm90YXRpb25zc2F2ZWhlbHBlcicpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cHN0b3JlJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vZW51bXMnKTtcclxuXHJcbi8qKlxyXG4gKiBDbGFzcyBmb3IgZ2VuZXJhdGluZyBTYXZlIE1hcmtzIGFuZCBhbm5vdGF0aW9ucyBlcnJvciBkaWFsb2cuXHJcbiAqL1xyXG5jbGFzcyBTYXZlTWFya3NBbmRBbm5vdGF0aW9uc05vblJlY292ZXJhYmxlRXJyb3JEaWFsb2dDb250ZW50cyB7XHJcblxyXG4gICAgcHJpdmF0ZSBfZGV0YWlsZWRFcnJvcjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZGV0YWlsZWRFcnJvcjogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX2RldGFpbGVkRXJyb3IgPSBkZXRhaWxlZEVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIHJldHVybnMgdGhlIGVycm9yIGRpYWxvZyBoZWFkZXIuXHJcbiAgICAqL1xyXG4gICAgcHVibGljIGdldCBoZWFkZXIoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgKCdtYXJraW5nLnJlc3BvbnNlLnNhdmluZy1tYXJrcy1lcnJvci1kaWFsb2cuaGVhZGVyLWVycm9yLXNhdmluZy1tYXJrcycpO1xyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIHJldHVybnMgdGhlIGVycm9yIGRpYWxvZyBjb250ZW50IGJhc2VkIG9uIHRoZSBkaWFsb2cgdHlwZVxyXG4gICAgKi9cclxuICAgIHB1YmxpYyBnZXQgY29udGVudCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBpc0RlZmluaXRpdmU6IGJvb2xlYW4gPSBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkU3RhbmRhcmRpc2F0aW9uU2V0dXBXb3JrTGlzdFxyXG4gICAgICAgICAgICA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuVW5DbGFzc2lmaWVkUmVzcG9uc2U7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9kZXRhaWxlZEVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAoaXNEZWZpbml0aXZlID8gJ21hcmtpbmcucmVzcG9uc2Uuc2F2aW5nLW1hcmtzLWVycm9yLWRpYWxvZy5ib2R5LWVycm9yLXNhdmluZy1kZWYtbWFya3Mtc2luZ2xlLXJlc3BvbnNlJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2Uuc2F2aW5nLW1hcmtzLWVycm9yLWRpYWxvZy5ib2R5LWVycm9yLXNhdmluZy1tYXJrcy1zaW5nbGUtcmVzcG9uc2UnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgKGlzRGVmaW5pdGl2ZSA/ICdtYXJraW5nLnJlc3BvbnNlLnNhdmluZy1tYXJrcy1lcnJvci1kaWFsb2cuYm9keS1lcnJvci1zYXZpbmctZGVmLW1hcmtzLW11bHRpcGxlLXJlc3BvbnNlcycgOlxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLnNhdmluZy1tYXJrcy1lcnJvci1kaWFsb2cuYm9keS1lcnJvci1zYXZpbmctbWFya3MtbXVsdGlwbGUtcmVzcG9uc2VzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgLyoqXHJcbiAgICAqIFRoaXMgd2lsbCByZXR1cm5zIHRoZSBub24tcmVjb3ZlcmFibGUgZXJyb3IgaXRlbXMgKGRpc3BsYXlJZHMpXHJcbiAgICAqL1xyXG4gICAgcHVibGljIGdldCB0YWJsZUNvbnRlbnQoKTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICAgICAgcmV0dXJuIG1hcmtzQW5kQW5ub3RhdGlvbnNTYXZlSGVscGVyLm1hcmtHcm91cEl0ZW1zV2l0aE5vblJlY292ZXJhYmxlRXJyb3JzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBTYXZlTWFya3NBbmRBbm5vdGF0aW9uc05vblJlY292ZXJhYmxlRXJyb3JEaWFsb2dDb250ZW50cztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9zYXZlbWFya3NhbmRhbm5vdGF0aW9ucy9zYXZlbWFya3NhbmRhbm5vdGF0aW9uc25vbnJlY292ZXJhYmxlZXJyb3JkaWFsb2djb250ZW50cy50cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFKQTtBQUtBO0FBQ0E7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7QUFBQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUFBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 368:
/* no static exports found */
/* all exports used */
/*!***********************************************************************!*\
  !*** ./src/components/worklist/shared/allpageannotationindicator.tsx ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for All pages annotation indicator\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\n/**\r\n * React component class for SLAO annotation indicator\r\n */\r\nvar AllPageAnnotationIndicator = /** @class */ (function (_super) {\r\n    __extends(AllPageAnnotationIndicator, _super);\r\n    /**\r\n     * @constructor\r\n     */\r\n    function AllPageAnnotationIndicator(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * returns true or false to display or hide the icon\r\n     */\r\n    AllPageAnnotationIndicator.prototype.isAllPageAnnotationIndiactorIconShow = function () {\r\n        /**\r\n         * If allpage annotated cc on, all pages are not annotated and marking is completed\r\n         * then the icon will show. in all other cases icon won't be there\r\n         */\r\n        /**\r\n         * taking the cc from cc helper\r\n         */\r\n        var _isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, this.props.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        if (_isAllPagesAnnotatedCC && this.props.isAllAnnotated === false && this.props.isMarkingCompleted) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Render component\r\n     */\r\n    AllPageAnnotationIndicator.prototype.render = function () {\r\n        var className = 'sprite-icon';\r\n        var title = '';\r\n        var isIconVisible = this.isAllPageAnnotationIndiactorIconShow();\r\n        if (isIconVisible) {\r\n            return ((this.props.isTileView) ?\r\n                (React.createElement(\"div\", { className: 'col-inner' },\r\n                    React.createElement(\"span\", { id: 'allPagesAnnotated_' + this.props.id, key: 'allPagesAnnotated_key_' + this.props.id, className: 'sprite-icon note-and-cross-icon', title: localeStore.instance.TranslateText('marking.worklist.response-data.not-all-pages-annotated-icon-tooltip') }))) :\r\n                (React.createElement(\"span\", { className: 'sprite-icon note-and-cross-icon', id: 'allPagesAnnotated_' + this.props.id, key: 'allPagesAnnotated_key_' + this.props.id, title: localeStore.instance.TranslateText('marking.worklist.response-data.not-all-pages-annotated-icon-tooltip') })));\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    return AllPageAnnotationIndicator;\r\n}(pureRenderComponent));\r\nmodule.exports = AllPageAnnotationIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2FsbHBhZ2Vhbm5vdGF0aW9uaW5kaWNhdG9yLnRzeD8wY2ViIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgUmVhY3QgY29tcG9uZW50IGZvciBBbGwgcGFnZXMgYW5ub3RhdGlvbiBpbmRpY2F0b3JcclxuKi9cclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBTTEFPIGFubm90YXRpb24gaW5kaWNhdG9yXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgaXNBbGxBbm5vdGF0ZWQ/OiBib29sZWFuO1xyXG4gICAgaXNNYXJraW5nQ29tcGxldGVkOiBib29sZWFuO1xyXG4gICAgaXNUaWxlVmlldz86IGJvb2xlYW47XHJcbiAgICBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50IGNsYXNzIGZvciBTTEFPIGFubm90YXRpb24gaW5kaWNhdG9yXHJcbiAqL1xyXG5jbGFzcyBBbGxQYWdlQW5ub3RhdGlvbkluZGljYXRvciBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdHJ1ZSBvciBmYWxzZSB0byBkaXNwbGF5IG9yIGhpZGUgdGhlIGljb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc0FsbFBhZ2VBbm5vdGF0aW9uSW5kaWFjdG9ySWNvblNob3coKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIElmIGFsbHBhZ2UgYW5ub3RhdGVkIGNjIG9uLCBhbGwgcGFnZXMgYXJlIG5vdCBhbm5vdGF0ZWQgYW5kIG1hcmtpbmcgaXMgY29tcGxldGVkXHJcbiAgICAgICAgICAgKiB0aGVuIHRoZSBpY29uIHdpbGwgc2hvdy4gaW4gYWxsIG90aGVyIGNhc2VzIGljb24gd29uJ3QgYmUgdGhlcmVcclxuICAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAvKiogXHJcbiAgICAgICAgICogdGFraW5nIHRoZSBjYyBmcm9tIGNjIGhlbHBlclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGxldCBfaXNBbGxQYWdlc0Fubm90YXRlZENDID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMubWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKF9pc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgdGhpcy5wcm9wcy5pc0FsbEFubm90YXRlZCA9PT0gZmFsc2UgJiYgdGhpcy5wcm9wcy5pc01hcmtpbmdDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgY2xhc3NOYW1lID0gJ3Nwcml0ZS1pY29uJztcclxuICAgICAgICBsZXQgdGl0bGU6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGxldCBpc0ljb25WaXNpYmxlID0gdGhpcy5pc0FsbFBhZ2VBbm5vdGF0aW9uSW5kaWFjdG9ySWNvblNob3coKTtcclxuXHJcbiAgICAgICAgaWYgKGlzSWNvblZpc2libGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLmlzVGlsZVZpZXcpID9cclxuICAgICAgICAgICAgICAgICAgICAoPGRpdiBjbGFzc05hbWU9J2NvbC1pbm5lcic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD17J2FsbFBhZ2VzQW5ub3RhdGVkXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2FsbFBhZ2VzQW5ub3RhdGVkX2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3Nwcml0ZS1pY29uIG5vdGUtYW5kLWNyb3NzLWljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEubm90LWFsbC1wYWdlcy1hbm5vdGF0ZWQtaWNvbi10b29sdGlwJyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4pIDpcclxuICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3ByaXRlLWljb24gbm90ZS1hbmQtY3Jvc3MtaWNvbicgaWQ9eydhbGxQYWdlc0Fubm90YXRlZF8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsnYWxsUGFnZXNBbm5vdGF0ZWRfa2V5XycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLm5vdC1hbGwtcGFnZXMtYW5ub3RhdGVkLWljb24tdG9vbHRpcCcpIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBBbGxQYWdlQW5ub3RhdGlvbkluZGljYXRvcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9hbGxwYWdlYW5ub3RhdGlvbmluZGljYXRvci50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBOztBQUVBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUVBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 369:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/worklist/shared/markingprogress.tsx ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for login header\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar SubmitResponse = __webpack_require__(/*! ./submitresponse */ 372);\r\nvar localeHelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar ClassifyResponse = __webpack_require__(/*! ../../standardisationsetup/shared/classifyresponse */ 383);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\n/**\r\n * React component class for marking progress\r\n */\r\nvar MarkingProgress = /** @class */ (function (_super) {\r\n    __extends(MarkingProgress, _super);\r\n    /**\r\n     * Constructor for MarkingProgress\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function MarkingProgress(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * Open classify multi option pop with unclassified response details\r\n         */\r\n        _this.classifyMultiOptionPopUpOpen = function (esMarkGroupId) {\r\n            standardisationActionCreator.reclassifyMultiOptionPopupOpen(esMarkGroupId);\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    MarkingProgress.prototype.render = function () {\r\n        if (this.props.responseStatus !== undefined) {\r\n            if (this.props.responseStatus.contains(enums.ResponseStatus.readyToSubmit) &&\r\n                !(this.props.isTeamManagementMode ||\r\n                    worklistStore.instance.isMarkingCheckMode)) {\r\n                if (this.props.standardisationSetupTab === enums.StandardisationSetup.UnClassifiedResponse) {\r\n                    return (React.createElement(ClassifyResponse, { id: this.props.id, key: this.props.id + '_key', isDisabled: false, buttonTextResourceKey: 'standardisation-setup.right-container.classify-button', esMarkGroupId: this.props.markGroupId, onClickAction: this.classifyMultiOptionPopUpOpen }));\r\n                }\r\n                else {\r\n                    return (React.createElement(SubmitResponse, { isSubmitAll: false, selectedLanguage: this.props.selectedLanguage, id: this.props.id, key: 'key_' + this.props.id, markGroupId: this.props.markGroupId, isDisabled: this.props.isSubmitDisabled, isTileView: this.props.isTileView, standardisationSetupType: this.props.standardisationSetupTab, stdResponseDetails: this.props.stdResponseDetails }));\r\n                }\r\n            }\r\n            else if (this.props.responseStatus.contains(enums.ResponseStatus.markingNotStarted)) {\r\n                return (((!this.props.isTileView) ? null :\r\n                    React.createElement(\"div\", { className: 'col wl-status text-center', id: this.props.id + '_markingProgress' },\r\n                        React.createElement(\"div\", { className: 'col-inner' }))));\r\n            }\r\n            else if (this.props.responseStatus.contains(enums.ResponseStatus.definitiveMarkingNotStarted) ||\r\n                this.props.responseStatus.contains(enums.ResponseStatus.NoViewDefinitivesPermisssion)) {\r\n                return (React.createElement(\"span\", { className: 'dim-text txt-val small-text', id: this.props.id + '_provisional' }, localeStore.instance.TranslateText('standardisation-setup.right-container.status-provisional')));\r\n            }\r\n            else {\r\n                return (((!this.props.isTileView) ? React.createElement(\"span\", { className: classNames('inline-bubble oval', {\r\n                        'pink': (this.props.responseStatus.contains(enums.ResponseStatus.hasException) ||\r\n                            this.props.responseStatus.contains(enums.ResponseStatus.hasZoningException) ||\r\n                            this.props.responseStatus.contains(enums.ResponseStatus.markChangeReasonNotExist) ||\r\n                            this.props.responseStatus.contains(enums.ResponseStatus.supervisorRemarkDecisionNotSelected) ||\r\n                            this.props.responseStatus.contains(enums.ResponseStatus.wholeResponseNotAvailable) ||\r\n                            this.props.responseStatus.contains(enums.ResponseStatus.notAllPagesAnnotated)) &&\r\n                            !worklistStore.instance.isMarkingCheckMode ?\r\n                            false : true\r\n                    }), id: this.props.id + '_markingProgress' },\r\n                    \" \",\r\n                    markerOperationModeFactory.operationMode.showMarkingProgressWithPercentage(this.props.responseStatus.contains(enums.ResponseStatus.markingInProgress))\r\n                        ? localeHelper.toLocaleString(this.props.progress) + '%' : '')\r\n                    :\r\n                        React.createElement(\"div\", { className: 'col wl-status text-center', id: this.props.id + '_markingProgress' },\r\n                            React.createElement(\"div\", { className: 'col-inner' },\r\n                                React.createElement(\"span\", { className: classNames('inline-bubble oval', {\r\n                                        'pink': this.props.responseStatus.contains(enums.ResponseStatus.hasException) ||\r\n                                            this.props.responseStatus.contains(enums.ResponseStatus.hasZoningException) ||\r\n                                            this.props.responseStatus.contains(enums.ResponseStatus.markChangeReasonNotExist) ||\r\n                                            this.props.responseStatus.contains(enums.ResponseStatus.supervisorRemarkDecisionNotSelected) ||\r\n                                            this.props.responseStatus.contains(enums.ResponseStatus.wholeResponseNotAvailable) ||\r\n                                            this.props.responseStatus.contains(enums.ResponseStatus.notAllPagesAnnotated) ?\r\n                                            false : true\r\n                                    }) }, this.props.responseStatus.contains(enums.ResponseStatus.markingInProgress)\r\n                                    ? localeHelper.toLocaleString(this.props.progress) + '%' : '')))));\r\n            }\r\n        }\r\n        else {\r\n            return (null);\r\n        }\r\n    };\r\n    /**\r\n     * Checks if Share button text is visible\r\n     */\r\n    MarkingProgress.prototype.isShareButtonVisible = function () {\r\n        return this.props.standardisationSetupTab === enums.StandardisationSetup.ProvisionalResponse;\r\n    };\r\n    return MarkingProgress;\r\n}(PureRenderComponent));\r\nmodule.exports = MarkingProgress;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL21hcmtpbmdwcm9ncmVzcy50c3g/NTUyYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gIFJlYWN0IGNvbXBvbmVudCBmb3IgbG9naW4gaGVhZGVyXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgU3VibWl0UmVzcG9uc2UgPSByZXF1aXJlKCcuL3N1Ym1pdHJlc3BvbnNlJyk7XHJcbmltcG9ydCBsb2NhbGVIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2xvY2FsZS9sb2NhbGVoZWxwZXInKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgbWFya2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxubGV0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgQ2xhc3NpZnlSZXNwb25zZSA9IHJlcXVpcmUoJy4uLy4uL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9jbGFzc2lmeXJlc3BvbnNlJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25hY3Rpb25jcmVhdG9yJyk7XHJcblxyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgbWFya2luZyBwcm9ncmVzc1xyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIHJlc3BvbnNlU3RhdHVzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz47XHJcbiAgICBwcm9ncmVzczogbnVtYmVyO1xyXG4gICAgbWFya0dyb3VwSWQ6IG51bWJlcjtcclxuICAgIGlzU3VibWl0RGlzYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBpc1RpbGVWaWV3OiBib29sZWFuO1xyXG5cdGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBib29sZWFuO1xyXG4gICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUYWI/OiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cDtcclxuICAgIHN0ZFJlc3BvbnNlRGV0YWlscz86IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscztcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudCBjbGFzcyBmb3IgbWFya2luZyBwcm9ncmVzc1xyXG4gKi9cclxuY2xhc3MgTWFya2luZ1Byb2dyZXNzIGV4dGVuZHMgUHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgTWFya2luZ1Byb2dyZXNzXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZXNwb25zZVN0YXR1cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpICYmXHJcbiAgICAgICAgICAgICAgICAhKHRoaXMucHJvcHMuaXNUZWFtTWFuYWdlbWVudE1vZGUgfHxcclxuXHRcdFx0XHRcdHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuaXNNYXJraW5nQ2hlY2tNb2RlKSkge1xyXG5cdFx0XHRcdGlmICh0aGlzLnByb3BzLnN0YW5kYXJkaXNhdGlvblNldHVwVGFiID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5VbkNsYXNzaWZpZWRSZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICg8Q2xhc3NpZnlSZXNwb25zZVxyXG5cdFx0XHRcdFx0XHRpZD17dGhpcy5wcm9wcy5pZH1cclxuXHRcdFx0XHRcdFx0a2V5PXt0aGlzLnByb3BzLmlkICsgJ19rZXknfVxyXG5cdFx0XHRcdFx0XHRpc0Rpc2FibGVkPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uVGV4dFJlc291cmNlS2V5PXsnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnJpZ2h0LWNvbnRhaW5lci5jbGFzc2lmeS1idXR0b24nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlc01hcmtHcm91cElkPXt0aGlzLnByb3BzLm1hcmtHcm91cElkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrQWN0aW9uPXt0aGlzLmNsYXNzaWZ5TXVsdGlPcHRpb25Qb3BVcE9wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuIChcclxuXHRcdFx0XHRcdFx0PFN1Ym1pdFJlc3BvbnNlIGlzU3VibWl0QWxsPXtmYWxzZX1cclxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcblx0XHRcdFx0XHRcdFx0aWQ9e3RoaXMucHJvcHMuaWR9XHJcblx0XHRcdFx0XHRcdFx0a2V5PXsna2V5XycgKyB0aGlzLnByb3BzLmlkfVxyXG5cdFx0XHRcdFx0XHRcdG1hcmtHcm91cElkPXt0aGlzLnByb3BzLm1hcmtHcm91cElkfVxyXG5cdFx0XHRcdFx0XHRcdGlzRGlzYWJsZWQ9e3RoaXMucHJvcHMuaXNTdWJtaXREaXNhYmxlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVGlsZVZpZXc9e3RoaXMucHJvcHMuaXNUaWxlVmlld31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZT17dGhpcy5wcm9wcy5zdGFuZGFyZGlzYXRpb25TZXR1cFRhYn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFJlc3BvbnNlRGV0YWlscz17dGhpcy5wcm9wcy5zdGRSZXNwb25zZURldGFpbHN9XHJcblx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdOb3RTdGFydGVkKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAoKCF0aGlzLnByb3BzLmlzVGlsZVZpZXcpID8gbnVsbCA6XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbCB3bC1zdGF0dXMgdGV4dC1jZW50ZXInIGlkPXt0aGlzLnByb3BzLmlkICsgJ19tYXJraW5nUHJvZ3Jlc3MnfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC1pbm5lcic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4pXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuZGVmaW5pdGl2ZU1hcmtpbmdOb3RTdGFydGVkKSB8fFxyXG5cdFx0XHRcdHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuTm9WaWV3RGVmaW5pdGl2ZXNQZXJtaXNzc2lvbikpe1xyXG5cdFx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J2RpbS10ZXh0IHR4dC12YWwgc21hbGwtdGV4dCcgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX3Byb3Zpc2lvbmFsJ30+XHJcblx0XHRcdFx0XHRcdHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLnN0YXR1cy1wcm92aXNpb25hbCcpfVxyXG5cdFx0XHRcdFx0PC9zcGFuPlxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgKCghdGhpcy5wcm9wcy5pc1RpbGVWaWV3KSA/IDxzcGFuIGNsYXNzTmFtZSA9IHtjbGFzc05hbWVzKCdpbmxpbmUtYnViYmxlIG92YWwnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdwaW5rJzogKHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzRXhjZXB0aW9uKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNab25pbmdFeGNlcHRpb24pIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtDaGFuZ2VSZWFzb25Ob3RFeGlzdCkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuc3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uTm90U2VsZWN0ZWQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLndob2xlUmVzcG9uc2VOb3RBdmFpbGFibGUpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vdEFsbFBhZ2VzQW5ub3RhdGVkKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzTWFya2luZ0NoZWNrTW9kZSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSA6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0gaWQ9e3RoaXMucHJvcHMuaWQgKyAnX21hcmtpbmdQcm9ncmVzcyd9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLnNob3dNYXJraW5nUHJvZ3Jlc3NXaXRoUGVyY2VudGFnZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBsb2NhbGVIZWxwZXIudG9Mb2NhbGVTdHJpbmcodGhpcy5wcm9wcy5wcm9ncmVzcykgKyAnJScgOiAnJ308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sIHdsLXN0YXR1cyB0ZXh0LWNlbnRlcicgaWQ9e3RoaXMucHJvcHMuaWQgKyAnX21hcmtpbmdQcm9ncmVzcyd9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLWlubmVyJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWVzKCdpbmxpbmUtYnViYmxlIG92YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGluayc6IHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzRXhjZXB0aW9uKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzWm9uaW5nRXhjZXB0aW9uKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya0NoYW5nZVJlYXNvbk5vdEV4aXN0KSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMuc3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uTm90U2VsZWN0ZWQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXNwb25zZVN0YXR1cy5jb250YWlucyhlbnVtcy5SZXNwb25zZVN0YXR1cy53aG9sZVJlc3BvbnNlTm90QXZhaWxhYmxlKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVzcG9uc2VTdGF0dXMuY29udGFpbnMoZW51bXMuUmVzcG9uc2VTdGF0dXMubm90QWxsUGFnZXNBbm5vdGF0ZWQpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSA6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnJlc3BvbnNlU3RhdHVzLmNvbnRhaW5zKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGxvY2FsZUhlbHBlci50b0xvY2FsZVN0cmluZyh0aGlzLnByb3BzLnByb2dyZXNzKSArICclJyA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIChudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgU2hhcmUgYnV0dG9uIHRleHQgaXMgdmlzaWJsZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzU2hhcmVCdXR0b25WaXNpYmxlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnN0YW5kYXJkaXNhdGlvblNldHVwVGFiID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlbiBjbGFzc2lmeSBtdWx0aSBvcHRpb24gcG9wIHdpdGggdW5jbGFzc2lmaWVkIHJlc3BvbnNlIGRldGFpbHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjbGFzc2lmeU11bHRpT3B0aW9uUG9wVXBPcGVuID0gKGVzTWFya0dyb3VwSWQ6IG51bWJlcikgPT4ge1xyXG5cdCAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnJlY2xhc3NpZnlNdWx0aU9wdGlvblBvcHVwT3Blbihlc01hcmtHcm91cElkKTtcclxuICAgIH1cclxuXHJcbn1cclxuZXhwb3J0ID0gTWFya2luZ1Byb2dyZXNzO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvbWFya2luZ3Byb2dyZXNzLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBaUJBOztBQUVBO0FBQ0E7QUFBQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUFBO0FBc0dBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQXpHQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBWUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 370:
/* no static exports found */
/* all exports used */
/*!******************************************************************!*\
  !*** ./src/components/worklist/shared/responseidgridelement.tsx ***!
  \******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar stringHelper = __webpack_require__(/*! ../../../utility/generic/stringhelper */ 254);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar markSchemeHelper = __webpack_require__(/*! ../../../utility/markscheme/markschemehelper */ 276);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar messageStore = __webpack_require__(/*! ../../../stores/message/messagestore */ 240);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../../actions/messaging/messagingactioncreator */ 268);\r\nvar responseHelper = __webpack_require__(/*! ../../utility/responsehelper/responsehelper */ 249);\r\nvar teamManagementStore = __webpack_require__(/*! ../../../stores/teammanagement/teammanagementstore */ 245);\r\nvar teamManagementActionCreator = __webpack_require__(/*! ../../../actions/teammanagement/teammanagementactioncreator */ 263);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../utility/ecoursework/ecourseworkhelper */ 238);\r\nvar applicationStore = __webpack_require__(/*! ../../../stores/applicationoffline/applicationstore */ 247);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\n/**\r\n * React component class for response id\r\n */\r\nvar ResponseIdGridElement = /** @class */ (function (_super) {\r\n    __extends(ResponseIdGridElement, _super);\r\n    /**\r\n     * Constructor for ResponseIdGridElement\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function ResponseIdGridElement(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.classNameText = '';\r\n        /**\r\n         * This will initiate open response action\r\n         */\r\n        _this.handleResponseClick = function () {\r\n            //TO DO Remove this on enabling response click.\r\n            if (!_this.props.isClickable) {\r\n                return;\r\n            }\r\n            if (!applicationStore.instance.isOnline) {\r\n                applicationActionCreator.checkActionInterrupted();\r\n            }\r\n            else {\r\n                // Ideally marking mode should be read from the opened response,\r\n                // since multiple marking modes won't come in the same worklist now this will work.\r\n                _this.selectedMarkingMode = worklistStore.instance.getMarkingModeByWorkListType(worklistStore.instance.currentWorklistType);\r\n                _this.actualDisplayId = _this.props.displayId.toString();\r\n                if (!messageStore.instance.isMessagePanelActive) {\r\n                    if (markerOperationModeFactory.operationMode.isHelpExaminersView) {\r\n                        var dataCollection = new Array();\r\n                        var examinerSEPAction = {\r\n                            examinerRoleId: qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId,\r\n                            markSchemeGroupId: qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId,\r\n                            requestedByExaminerRoleId: qigStore.instance.getSelectedQIGForTheLoggedInUser.examinerRoleId\r\n                        };\r\n                        dataCollection.push(examinerSEPAction);\r\n                        var examinerSEPActions = Immutable.List(dataCollection);\r\n                        var doSEPApprovalManagementActionArgument = {\r\n                            actionIdentifier: enums.SEPAction.ViewResponse,\r\n                            examiners: examinerSEPActions\r\n                        };\r\n                        teamManagementActionCreator.ExecuteApprovalManagementAction(doSEPApprovalManagementActionArgument);\r\n                    }\r\n                    else if (worklistStore.instance.isMarkingCheckMode) {\r\n                        teamManagementActionCreator.teamManagementExaminerValidation(qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, 0, worklistStore.instance.selectedMarkingCheckExaminer.fromExaminerID, enums.ExaminerValidationArea.MarkCheckWorklist, false, _this.actualDisplayId, _this.selectedMarkingMode);\r\n                    }\r\n                    else {\r\n                        _this.openResponse(_this.actualDisplayId, _this.selectedMarkingMode);\r\n                    }\r\n                }\r\n                else {\r\n                    var messageNavigationArguments = {\r\n                        responseId: parseInt(_this.actualDisplayId),\r\n                        canNavigate: false,\r\n                        navigateTo: enums.MessageNavigation.toResponse,\r\n                        navigationConfirmed: false,\r\n                        hasMessageContainsDirtyValue: undefined,\r\n                        triggerPoint: enums.TriggerPoint.None\r\n                    };\r\n                    messagingActionCreator.canMessageNavigate(messageNavigationArguments);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * This will initiate the SEP action while opening a response\r\n         */\r\n        _this.onApprovalManagementActionExecuted = function (actionIdentifier) {\r\n            if (actionIdentifier === enums.SEPAction.ViewResponse) {\r\n                if (_this.actualDisplayId && _this.selectedMarkingMode) {\r\n                    _this.openResponse(_this.actualDisplayId, _this.selectedMarkingMode);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Method to open response if the loggined examiner is valid.\r\n         */\r\n        _this.validateExaminerStatus = function (displayId, markingMode) {\r\n            if (displayId && markingMode !== enums.MarkingMode.None) {\r\n                _this.openResponse(displayId, markingMode);\r\n            }\r\n        };\r\n        _this.handleResponseClick = _this.handleResponseClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    ResponseIdGridElement.prototype.render = function () {\r\n        var title = (this.props.isReusableResponseView) ?\r\n            stringHelper.format(localeStore.instance.\r\n                TranslateText('standardisation-setup.standardisation-setup-worklist.response-data.script-id-tooltip'), [String(this.props.candidateScriptId)])\r\n            : stringHelper.format(localeStore.instance.TranslateText('marking.worklist.response-data.response-id-tooltip'), [(this.props.displayText) ? String(this.props.displayText) : String(this.props.displayId)]);\r\n        (this.props.isTileView) ? this.classNameText = 'resp-id response-display-id' :\r\n            this.classNameText = 'response-display-id resp-id';\r\n        return (React.createElement(\"div\", { className: this.classNameText },\r\n            React.createElement(\"a\", { href: 'javascript:void(0)', id: 'res_' + this.props.id, key: 'res_key_' + this.props.id, title: title, className: (this.props.isTileView) ? 'dark-link large-text' : '', onClick: this.handleResponseClick }, (this.props.isReusableResponseView) ? String(this.props.candidateScriptId)\r\n                : (this.props.displayText) ? String(this.props.displayText) : String(this.props.displayId))));\r\n    };\r\n    /**\r\n     * Componet did mount\r\n     */\r\n    ResponseIdGridElement.prototype.componentDidMount = function () {\r\n        teamManagementStore.instance.setMaxListeners(0);\r\n        if (markerOperationModeFactory.operationMode.isHelpExaminersView) {\r\n            teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.APPROVAL_MANAGEMENT_ACTION_EXECUTED, this.onApprovalManagementActionExecuted);\r\n        }\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.EXAMINER_VALIDATED_OPEN_RESPONSE_EVENT, this.validateExaminerStatus);\r\n    };\r\n    /**\r\n     * Component will unmount\r\n     */\r\n    ResponseIdGridElement.prototype.componentWillUnmount = function () {\r\n        if (markerOperationModeFactory.operationMode.isHelpExaminersView) {\r\n            teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.APPROVAL_MANAGEMENT_ACTION_EXECUTED, this.onApprovalManagementActionExecuted);\r\n        }\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.EXAMINER_VALIDATED_OPEN_RESPONSE_EVENT, this.validateExaminerStatus);\r\n    };\r\n    /**\r\n     * This will open the response\r\n     * @param actualDisplayId contains the actual display id\r\n     * @param selectedMarkingMode contains the selected marking mode\r\n     */\r\n    ResponseIdGridElement.prototype.openResponse = function (actualDisplayId, selectedMarkingMode) {\r\n        var openedResponseDetails = markerOperationModeFactory.operationMode.openedResponseDetails(actualDisplayId);\r\n        responseHelper.openResponse(parseInt(actualDisplayId), enums.ResponseNavigation.specific, markerOperationModeFactory.operationMode.isStandardisationSetupMode ?\r\n            (standardisationSetupStore.instance.selectedStandardisationSetupWorkList === enums.StandardisationSetup.SelectResponse &&\r\n                standardisationSetupStore.instance.selectedTabInSelectResponse === enums.StandardisationSessionTab.PreviousSession) ?\r\n                enums.ResponseMode.closed : enums.ResponseMode.open :\r\n            worklistStore.instance.getResponseMode, markerOperationModeFactory.operationMode.isStandardisationSetupMode ?\r\n            openedResponseDetails.esMarkGroupId : openedResponseDetails.markGroupId, enums.ResponseViewMode.zoneView, enums.TriggerPoint.None, openedResponseDetails.sampleReviewCommentId, openedResponseDetails.sampleReviewCommentCreatedBy);\r\n        markSchemeHelper.getMarks(parseInt(actualDisplayId), selectedMarkingMode, false, true);\r\n        eCourseworkHelper.fetchECourseWorkCandidateScriptMetadata(parseInt(actualDisplayId));\r\n    };\r\n    return ResponseIdGridElement;\r\n}(pureRenderComponent));\r\nmodule.exports = ResponseIdGridElement;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3Jlc3BvbnNlaWRncmlkZWxlbWVudC50c3g/YzRlNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IHN0cmluZ0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ2VuZXJpYy9zdHJpbmdoZWxwZXInKTtcclxuaW1wb3J0IG9wZW5SZXNwb25zZUFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL3Jlc3BvbnNlL3Jlc3BvbnNlYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCByZXNwb25zZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3Jlc3BvbnNlL3Jlc3BvbnNlc3RvcmUnKTtcclxuaW1wb3J0IG1hcmtpbmdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tYXJraW5nL21hcmtpbmdzdG9yZScpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgdGFyZ2V0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS90YXJnZXQvdGFyZ2V0aGVscGVyJyk7XHJcbmltcG9ydCBtYXJrU2NoZW1lSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9tYXJrc2NoZW1lL21hcmtzY2hlbWVoZWxwZXInKTtcclxuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XHJcbmltcG9ydCBtZXNzYWdlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbWVzc2FnZS9tZXNzYWdlc3RvcmUnKTtcclxuaW1wb3J0IG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL21lc3NhZ2luZy9tZXNzYWdpbmdhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCByZXNwb25zZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvcmVzcG9uc2VoZWxwZXIvcmVzcG9uc2VoZWxwZXInKTtcclxuaW1wb3J0IHRlYW1NYW5hZ2VtZW50U3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvdGVhbW1hbmFnZW1lbnQvdGVhbW1hbmFnZW1lbnRzdG9yZScpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudGFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lY291cnNld29yay9lY291cnNld29ya2hlbHBlcicpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25zdG9yZScpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25hY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwc3RvcmUnKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgcmVzcG9uc2UgaWQgY29sdW1uXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgZGlzcGxheUlkPzogc3RyaW5nO1xyXG4gICAgZGlzcGxheVRleHQ/OiBzdHJpbmc7XHJcbiAgICBpc0NsaWNrYWJsZT86IGJvb2xlYW47XHJcbiAgICBpc1RpbGVWaWV3PzogYm9vbGVhbjtcclxuICAgIGlzUmV1c2FibGVSZXNwb25zZVZpZXc/OiBib29sZWFuO1xyXG4gICAgY2FuZGlkYXRlU2NyaXB0SWQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIHJlc3BvbnNlIGlkXHJcbiAqL1xyXG5jbGFzcyBSZXNwb25zZUlkR3JpZEVsZW1lbnQgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuICAgIHByaXZhdGUgY2xhc3NOYW1lVGV4dDogc3RyaW5nID0gJyc7XHJcbiAgICBwcml2YXRlIGFjdHVhbERpc3BsYXlJZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZE1hcmtpbmdNb2RlOiBhbnk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgUmVzcG9uc2VJZEdyaWRFbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlUmVzcG9uc2VDbGljayA9IHRoaXMuaGFuZGxlUmVzcG9uc2VDbGljay5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgdGl0bGUgPSAodGhpcy5wcm9wcy5pc1JldXNhYmxlUmVzcG9uc2VWaWV3KSA/XHJcbiAgICAgICAgc3RyaW5nSGVscGVyLmZvcm1hdChsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgVHJhbnNsYXRlVGV4dCgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZXNwb25zZS1kYXRhLnNjcmlwdC1pZC10b29sdGlwJyksXHJcbiAgICAgICAgW1N0cmluZyh0aGlzLnByb3BzLmNhbmRpZGF0ZVNjcmlwdElkKV0pXHJcbiAgICAgICAgOiBzdHJpbmdIZWxwZXIuZm9ybWF0KGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5yZXNwb25zZS1pZC10b29sdGlwJyksXHJcbiAgICAgICAgICAgIFsodGhpcy5wcm9wcy5kaXNwbGF5VGV4dCkgPyBTdHJpbmcodGhpcy5wcm9wcy5kaXNwbGF5VGV4dCkgOiBTdHJpbmcodGhpcy5wcm9wcy5kaXNwbGF5SWQpXSk7XHJcblxyXG4gICAgICAgICh0aGlzLnByb3BzLmlzVGlsZVZpZXcpID8gdGhpcy5jbGFzc05hbWVUZXh0ID0gJ3Jlc3AtaWQgcmVzcG9uc2UtZGlzcGxheS1pZCcgOlxyXG4gICAgICAgICAgICB0aGlzLmNsYXNzTmFtZVRleHQgPSAncmVzcG9uc2UtZGlzcGxheS1pZCByZXNwLWlkJztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuY2xhc3NOYW1lVGV4dH0+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIGlkPXsncmVzXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17J3Jlc19rZXlfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17KHRoaXMucHJvcHMuaXNUaWxlVmlldykgPyAnZGFyay1saW5rIGxhcmdlLXRleHQnIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVSZXNwb25zZUNsaWNrfT5cclxuICAgICAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMuaXNSZXVzYWJsZVJlc3BvbnNlVmlldykgPyBTdHJpbmcodGhpcy5wcm9wcy5jYW5kaWRhdGVTY3JpcHRJZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAodGhpcy5wcm9wcy5kaXNwbGF5VGV4dCkgPyBTdHJpbmcodGhpcy5wcm9wcy5kaXNwbGF5VGV4dCkgOiBTdHJpbmcodGhpcy5wcm9wcy5kaXNwbGF5SWQpfTwvYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIC8qKiAgICAgXHJcbiAgICAgKiBDb21wb25ldCBkaWQgbW91bnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2Uuc2V0TWF4TGlzdGVuZXJzKDApO1xyXG4gICAgICAgIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzSGVscEV4YW1pbmVyc1ZpZXcpIHtcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuQVBQUk9WQUxfTUFOQUdFTUVOVF9BQ1RJT05fRVhFQ1VURUQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uRXhlY3V0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5FWEFNSU5FUl9WQUxJREFURURfT1BFTl9SRVNQT05TRV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUV4YW1pbmVyU3RhdHVzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbXBvbmVudCB3aWxsIHVubW91bnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzSGVscEV4YW1pbmVyc1ZpZXcpIHtcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcih0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuQVBQUk9WQUxfTUFOQUdFTUVOVF9BQ1RJT05fRVhFQ1VURUQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uRXhlY3V0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5FWEFNSU5FUl9WQUxJREFURURfT1BFTl9SRVNQT05TRV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUV4YW1pbmVyU3RhdHVzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCBpbml0aWF0ZSBvcGVuIHJlc3BvbnNlIGFjdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGhhbmRsZVJlc3BvbnNlQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgLy9UTyBETyBSZW1vdmUgdGhpcyBvbiBlbmFibGluZyByZXNwb25zZSBjbGljay5cclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuaXNDbGlja2FibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUpIHtcclxuICAgICAgICAgICAgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yLmNoZWNrQWN0aW9uSW50ZXJydXB0ZWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZGVhbGx5IG1hcmtpbmcgbW9kZSBzaG91bGQgYmUgcmVhZCBmcm9tIHRoZSBvcGVuZWQgcmVzcG9uc2UsXHJcbiAgICAgICAgICAgIC8vIHNpbmNlIG11bHRpcGxlIG1hcmtpbmcgbW9kZXMgd29uJ3QgY29tZSBpbiB0aGUgc2FtZSB3b3JrbGlzdCBub3cgdGhpcyB3aWxsIHdvcmsuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNYXJraW5nTW9kZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya2luZ01vZGVCeVdvcmtMaXN0VHlwZSh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hY3R1YWxEaXNwbGF5SWQgPSB0aGlzLnByb3BzLmRpc3BsYXlJZC50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFtZXNzYWdlU3RvcmUuaW5zdGFuY2UuaXNNZXNzYWdlUGFuZWxBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzSGVscEV4YW1pbmVyc1ZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YUNvbGxlY3Rpb246IEFycmF5PEV4YW1pbmVyRm9yU0VQQWN0aW9uPiA9IG5ldyBBcnJheTxFeGFtaW5lckZvclNFUEFjdGlvbj4oKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXhhbWluZXJTRVBBY3Rpb246IEV4YW1pbmVyRm9yU0VQQWN0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFtaW5lclJvbGVJZDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkOiBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkQnlFeGFtaW5lclJvbGVJZDogcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIuZXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFDb2xsZWN0aW9uLnB1c2goZXhhbWluZXJTRVBBY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBleGFtaW5lclNFUEFjdGlvbnMgPSBJbW11dGFibGUuTGlzdDxFeGFtaW5lckZvclNFUEFjdGlvbj4oZGF0YUNvbGxlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZG9TRVBBcHByb3ZhbE1hbmFnZW1lbnRBY3Rpb25Bcmd1bWVudDogRG9TRVBBcHByb3ZhbE1hbmFnZW1lbnRBY3Rpb25Bcmd1bWVudCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uSWRlbnRpZmllcjogZW51bXMuU0VQQWN0aW9uLlZpZXdSZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhbWluZXJzOiBleGFtaW5lclNFUEFjdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvci5FeGVjdXRlQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uKGRvU0VQQXBwcm92YWxNYW5hZ2VtZW50QWN0aW9uQXJndW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzTWFya2luZ0NoZWNrTW9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvci50ZWFtTWFuYWdlbWVudEV4YW1pbmVyVmFsaWRhdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkLCAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkTWFya2luZ0NoZWNrRXhhbWluZXIuZnJvbUV4YW1pbmVySUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkV4YW1pbmVyVmFsaWRhdGlvbkFyZWEuTWFya0NoZWNrV29ya2xpc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLCB0aGlzLmFjdHVhbERpc3BsYXlJZCwgdGhpcy5zZWxlY3RlZE1hcmtpbmdNb2RlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuUmVzcG9uc2UodGhpcy5hY3R1YWxEaXNwbGF5SWQsIHRoaXMuc2VsZWN0ZWRNYXJraW5nTW9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHM6IE1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHBhcnNlSW50KHRoaXMuYWN0dWFsRGlzcGxheUlkKSxcclxuICAgICAgICAgICAgICAgICAgICBjYW5OYXZpZ2F0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUbzogZW51bXMuTWVzc2FnZU5hdmlnYXRpb24udG9SZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uQ29uZmlybWVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBoYXNNZXNzYWdlQ29udGFpbnNEaXJ0eVZhbHVlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclBvaW50OiBlbnVtcy5UcmlnZ2VyUG9pbnQuTm9uZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IuY2FuTWVzc2FnZU5hdmlnYXRlKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCBvcGVuIHRoZSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIGFjdHVhbERpc3BsYXlJZCBjb250YWlucyB0aGUgYWN0dWFsIGRpc3BsYXkgaWRcclxuICAgICAqIEBwYXJhbSBzZWxlY3RlZE1hcmtpbmdNb2RlIGNvbnRhaW5zIHRoZSBzZWxlY3RlZCBtYXJraW5nIG1vZGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvcGVuUmVzcG9uc2UoYWN0dWFsRGlzcGxheUlkOiBzdHJpbmcsIHNlbGVjdGVkTWFya2luZ01vZGU6IGFueSkge1xyXG4gICAgICAgIGxldCBvcGVuZWRSZXNwb25zZURldGFpbHMgPVxyXG4gICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLm9wZW5lZFJlc3BvbnNlRGV0YWlscyhhY3R1YWxEaXNwbGF5SWQpO1xyXG5cclxuICAgICAgICByZXNwb25zZUhlbHBlci5vcGVuUmVzcG9uc2UocGFyc2VJbnQoYWN0dWFsRGlzcGxheUlkKSxcclxuICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VOYXZpZ2F0aW9uLnNwZWNpZmljLFxyXG4gICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzU3RhbmRhcmRpc2F0aW9uU2V0dXBNb2RlID9cclxuICAgICAgICAgICAgICAgIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkU3RhbmRhcmRpc2F0aW9uU2V0dXBXb3JrTGlzdCA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuU2VsZWN0UmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkVGFiSW5TZWxlY3RSZXNwb25zZSA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2Vzc2lvblRhYi5QcmV2aW91c1Nlc3Npb24pID9cclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkIDogZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4gOlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZXNwb25zZU1vZGUsXHJcbiAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTdGFuZGFyZGlzYXRpb25TZXR1cE1vZGUgP1xyXG4gICAgICAgICAgICAgICAgb3BlbmVkUmVzcG9uc2VEZXRhaWxzLmVzTWFya0dyb3VwSWQgOiBvcGVuZWRSZXNwb25zZURldGFpbHMubWFya0dyb3VwSWQsXHJcbiAgICAgICAgICAgIGVudW1zLlJlc3BvbnNlVmlld01vZGUuem9uZVZpZXcsXHJcbiAgICAgICAgICAgIGVudW1zLlRyaWdnZXJQb2ludC5Ob25lLFxyXG4gICAgICAgICAgICBvcGVuZWRSZXNwb25zZURldGFpbHMuc2FtcGxlUmV2aWV3Q29tbWVudElkLFxyXG4gICAgICAgICAgICBvcGVuZWRSZXNwb25zZURldGFpbHMuc2FtcGxlUmV2aWV3Q29tbWVudENyZWF0ZWRCeSk7XHJcblxyXG4gICAgICAgIG1hcmtTY2hlbWVIZWxwZXIuZ2V0TWFya3MocGFyc2VJbnQoYWN0dWFsRGlzcGxheUlkKSwgc2VsZWN0ZWRNYXJraW5nTW9kZSwgZmFsc2UsIHRydWUpO1xyXG5cclxuICAgICAgICBlQ291cnNld29ya0hlbHBlci5mZXRjaEVDb3Vyc2VXb3JrQ2FuZGlkYXRlU2NyaXB0TWV0YWRhdGEocGFyc2VJbnQoYWN0dWFsRGlzcGxheUlkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIHdpbGwgaW5pdGlhdGUgdGhlIFNFUCBhY3Rpb24gd2hpbGUgb3BlbmluZyBhIHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25BcHByb3ZhbE1hbmFnZW1lbnRBY3Rpb25FeGVjdXRlZCA9IChhY3Rpb25JZGVudGlmaWVyOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAoYWN0aW9uSWRlbnRpZmllciA9PT0gZW51bXMuU0VQQWN0aW9uLlZpZXdSZXNwb25zZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hY3R1YWxEaXNwbGF5SWQgJiYgdGhpcy5zZWxlY3RlZE1hcmtpbmdNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5SZXNwb25zZSh0aGlzLmFjdHVhbERpc3BsYXlJZCwgdGhpcy5zZWxlY3RlZE1hcmtpbmdNb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gb3BlbiByZXNwb25zZSBpZiB0aGUgbG9nZ2luZWQgZXhhbWluZXIgaXMgdmFsaWQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdmFsaWRhdGVFeGFtaW5lclN0YXR1cyA9IChkaXNwbGF5SWQ6IHN0cmluZywgbWFya2luZ01vZGU6IGVudW1zLk1hcmtpbmdNb2RlKSA9PiB7XHJcbiAgICAgICAgaWYgKGRpc3BsYXlJZCAmJiBtYXJraW5nTW9kZSAhPT0gZW51bXMuTWFya2luZ01vZGUuTm9uZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5SZXNwb25zZShkaXNwbGF5SWQsIG1hcmtpbmdNb2RlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgPSBSZXNwb25zZUlkR3JpZEVsZW1lbnQ7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9yZXNwb25zZWlkZ3JpZGVsZW1lbnQudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBOztBQUVBO0FBQ0E7QUFBQTtBQUtBOzs7O0FBSUE7QUFDQTtBQUFBO0FBVEE7QUFpRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0pBOztBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFNQTtBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBMkRBOzs7O0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFFQTtBQUNBO0FBcUJBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 371:
/* no static exports found */
/* all exports used */
/*!********************************************************************!*\
  !*** ./src/components/worklist/shared/slaoannotationindicator.tsx ***!
  \********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for SLAO annotation indicator\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\n/**\r\n * React component class for SLAO annotation indicator\r\n */\r\nvar SLAOAnnotationIndicator = /** @class */ (function (_super) {\r\n    __extends(SLAOAnnotationIndicator, _super);\r\n    /**\r\n     * Constructor fot SLAOAnnotationIndicator\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function SLAOAnnotationIndicator(props, state) {\r\n        return _super.call(this, props, state) || this;\r\n    }\r\n    /**\r\n     * returns the below values which define the type of SLAO indicator icon displayed\r\n     *       true        - icon without cross\r\n     *       false       - icon with cross\r\n     *       undefined   - no icon\r\n     */\r\n    SLAOAnnotationIndicator.prototype.getIconType = function () {\r\n        /**\r\n         * taking the cc from cc helper\r\n         */\r\n        var _isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, this.props.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        var _isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, this.props.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        /**\r\n         * If the response has no SLAO's ther will not be an icon in the column, so returning undefined\r\n         */\r\n        if (!this.props.isResponseHasSLAO) {\r\n            return undefined;\r\n        }\r\n        else if (!this.props.isMarkingCompleted && !this.props.isTileView) {\r\n            /**\r\n             * If the response has SLAO and marking is ot completed the icon without cross will display\r\n             * on the grid column(returning true)\r\n             */\r\n            return true;\r\n        }\r\n        else if (!_isAllPagesAnnotatedCC && _isAllSLAOAnnotatedCC && this.props.isAllAnnotated === false\r\n            && this.props.isMarkingCompleted) {\r\n            /**\r\n             * If the marking is completed an icon with cross mark will display if the All SLALO CC is on\r\n             * and all SLAO's are not annotated\r\n             */\r\n            return false;\r\n        }\r\n        else if (!this.props.isTileView && this.props.isMarkingCompleted && this.props.isAllAnnotated === true) {\r\n            /**\r\n             * If the marking is completed , all slo annotated  and listview\r\n             * show sprite-icon bundle-icon\r\n             */\r\n            return true;\r\n        }\r\n        else if (!this.props.isTileView) {\r\n            /**\r\n             * show 'sprite-icon bundle-icon' in listview in all other cases otherthan mentioned above.\r\n             * will not show, if the response has no SLAO's.\r\n             */\r\n            return true;\r\n        }\r\n        /**\r\n         * no need to display 'sprite-icon bundle-icon' in tileview .\r\n         */\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Render component\r\n     */\r\n    SLAOAnnotationIndicator.prototype.render = function () {\r\n        var className = 'sprite-icon';\r\n        var title = '';\r\n        var id = '';\r\n        var iconType = this.getIconType();\r\n        /**\r\n         * choosing the class name and title based on the icon type returned from the getIconType() method\r\n         */\r\n        if (iconType === undefined) {\r\n            return null;\r\n        }\r\n        else if (iconType === true) {\r\n            className = 'sprite-icon bundle-icon';\r\n            title = localeStore.instance.TranslateText('marking.worklist.response-data.additional-objects-icon-tooltip');\r\n        }\r\n        else if (iconType === false) {\r\n            className = 'sprite-icon bundle-icon-cross';\r\n            id = 'sprite-icon bundle-icon-cross-id';\r\n            title = localeStore.instance.TranslateText('marking.worklist.response-data.additional-objects-not-annotated-icon-tooltip');\r\n        }\r\n        return ((this.props.isTileView) ?\r\n            React.createElement(\"div\", { className: 'slao' },\r\n                React.createElement(\"a\", { id: 'slaoAnnotation_' + this.props.id, key: 'slaoAnnotation_key_' + this.props.id, href: 'javascript:void(0)', title: title },\r\n                    React.createElement(\"span\", { className: className, id: id }, \"slao\")))\r\n            : React.createElement(\"span\", { className: 'Response has additional answer pages' },\r\n                React.createElement(\"a\", { id: 'slaoAnnotation_' + this.props.id, key: 'slaoAnnotation_key_' + this.props.id, href: 'javascript:void(0)', title: title },\r\n                    React.createElement(\"span\", { className: className }, \"slao\"))));\r\n    };\r\n    return SLAOAnnotationIndicator;\r\n}(pureRenderComponent));\r\nmodule.exports = SLAOAnnotationIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3NsYW9hbm5vdGF0aW9uaW5kaWNhdG9yLnRzeD9hZTdhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgUmVhY3QgY29tcG9uZW50IGZvciBTTEFPIGFubm90YXRpb24gaW5kaWNhdG9yXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc3N0b3JlJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBTTEFPIGFubm90YXRpb24gaW5kaWNhdG9yXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgaXNSZXNwb25zZUhhc1NMQU86IGJvb2xlYW47XHJcbiAgICBpc0FsbEFubm90YXRlZD86IGJvb2xlYW47XHJcbiAgICBpc01hcmtpbmdDb21wbGV0ZWQ6IGJvb2xlYW47XHJcbiAgICBpc1RpbGVWaWV3PzogYm9vbGVhbjtcclxuICAgIG1hcmtTY2hlbWVHcm91cElkOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIFNMQU8gYW5ub3RhdGlvbiBpbmRpY2F0b3JcclxuICovXHJcbmNsYXNzIFNMQU9Bbm5vdGF0aW9uSW5kaWNhdG9yIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3QgU0xBT0Fubm90YXRpb25JbmRpY2F0b3JcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBiZWxvdyB2YWx1ZXMgd2hpY2ggZGVmaW5lIHRoZSB0eXBlIG9mIFNMQU8gaW5kaWNhdG9yIGljb24gZGlzcGxheWVkXHJcbiAgICAgKiAgICAgICB0cnVlICAgICAgICAtIGljb24gd2l0aG91dCBjcm9zc1xyXG4gICAgICogICAgICAgZmFsc2UgICAgICAgLSBpY29uIHdpdGggY3Jvc3NcclxuICAgICAqICAgICAgIHVuZGVmaW5lZCAgIC0gbm8gaWNvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEljb25UeXBlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8qKiBcclxuICAgICAgICAgKiB0YWtpbmcgdGhlIGNjIGZyb20gY2MgaGVscGVyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbGV0IF9pc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuRm9yY2VBbm5vdGF0aW9uT25FYWNoUGFnZSxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5tYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIGxldCBfaXNBbGxTTEFPQW5ub3RhdGVkQ0MgPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuU0xBT0ZvcmNlZEFubm90YXRpb25zLFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKiBcclxuICAgICAgICAgKiBJZiB0aGUgcmVzcG9uc2UgaGFzIG5vIFNMQU8ncyB0aGVyIHdpbGwgbm90IGJlIGFuIGljb24gaW4gdGhlIGNvbHVtbiwgc28gcmV0dXJuaW5nIHVuZGVmaW5lZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5pc1Jlc3BvbnNlSGFzU0xBTykge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMucHJvcHMuaXNNYXJraW5nQ29tcGxldGVkICYmICF0aGlzLnByb3BzLmlzVGlsZVZpZXcpIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIElmIHRoZSByZXNwb25zZSBoYXMgU0xBTyBhbmQgbWFya2luZyBpcyBvdCBjb21wbGV0ZWQgdGhlIGljb24gd2l0aG91dCBjcm9zcyB3aWxsIGRpc3BsYXlcclxuICAgICAgICAgICAgICogb24gdGhlIGdyaWQgY29sdW1uKHJldHVybmluZyB0cnVlKVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICghX2lzQWxsUGFnZXNBbm5vdGF0ZWRDQyAmJiBfaXNBbGxTTEFPQW5ub3RhdGVkQ0MgJiYgdGhpcy5wcm9wcy5pc0FsbEFubm90YXRlZCA9PT0gZmFsc2VcclxuICAgICAgICAgICAgJiYgdGhpcy5wcm9wcy5pc01hcmtpbmdDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIElmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCBhbiBpY29uIHdpdGggY3Jvc3MgbWFyayB3aWxsIGRpc3BsYXkgaWYgdGhlIEFsbCBTTEFMTyBDQyBpcyBvblxyXG4gICAgICAgICAgICAgKiBhbmQgYWxsIFNMQU8ncyBhcmUgbm90IGFubm90YXRlZFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMucHJvcHMuaXNUaWxlVmlldyAmJiB0aGlzLnByb3BzLmlzTWFya2luZ0NvbXBsZXRlZCAmJiB0aGlzLnByb3BzLmlzQWxsQW5ub3RhdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBJZiB0aGUgbWFya2luZyBpcyBjb21wbGV0ZWQgLCBhbGwgc2xvIGFubm90YXRlZCAgYW5kIGxpc3R2aWV3XHJcbiAgICAgICAgICAgICAqIHNob3cgc3ByaXRlLWljb24gYnVuZGxlLWljb24gXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnByb3BzLmlzVGlsZVZpZXcpIHtcclxuICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgKiBzaG93ICdzcHJpdGUtaWNvbiBidW5kbGUtaWNvbicgaW4gbGlzdHZpZXcgaW4gYWxsIG90aGVyIGNhc2VzIG90aGVydGhhbiBtZW50aW9uZWQgYWJvdmUuXHJcbiAgICAgICAgICAgICogd2lsbCBub3Qgc2hvdywgaWYgdGhlIHJlc3BvbnNlIGhhcyBubyBTTEFPJ3MuXHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBubyBuZWVkIHRvIGRpc3BsYXkgJ3Nwcml0ZS1pY29uIGJ1bmRsZS1pY29uJyBpbiB0aWxldmlldyAuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgY2xhc3NOYW1lID0gJ3Nwcml0ZS1pY29uJztcclxuICAgICAgICBsZXQgdGl0bGU6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGxldCBpZDogc3RyaW5nID0gJyc7XHJcbiAgICAgICAgbGV0IGljb25UeXBlID0gdGhpcy5nZXRJY29uVHlwZSgpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBjaG9vc2luZyB0aGUgY2xhc3MgbmFtZSBhbmQgdGl0bGUgYmFzZWQgb24gdGhlIGljb24gdHlwZSByZXR1cm5lZCBmcm9tIHRoZSBnZXRJY29uVHlwZSgpIG1ldGhvZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChpY29uVHlwZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaWNvblR5cGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ3Nwcml0ZS1pY29uIGJ1bmRsZS1pY29uJztcclxuICAgICAgICAgICAgdGl0bGUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEuYWRkaXRpb25hbC1vYmplY3RzLWljb24tdG9vbHRpcCcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaWNvblR5cGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9ICdzcHJpdGUtaWNvbiBidW5kbGUtaWNvbi1jcm9zcyc7XHJcbiAgICAgICAgICAgIGlkID0gJ3Nwcml0ZS1pY29uIGJ1bmRsZS1pY29uLWNyb3NzLWlkJztcclxuICAgICAgICAgICAgdGl0bGUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEuYWRkaXRpb25hbC1vYmplY3RzLW5vdC1hbm5vdGF0ZWQtaWNvbi10b29sdGlwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICh0aGlzLnByb3BzLmlzVGlsZVZpZXcpID9cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzbGFvJz5cclxuICAgICAgICAgICAgICAgICAgICA8YSBpZD17J3NsYW9Bbm5vdGF0aW9uXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9eydzbGFvQW5ub3RhdGlvbl9rZXlfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKScgdGl0bGU9e3RpdGxlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9IGlkID17aWR9PnNsYW88L3NwYW4+PC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA6IDxzcGFuIGNsYXNzTmFtZT0nUmVzcG9uc2UgaGFzIGFkZGl0aW9uYWwgYW5zd2VyIHBhZ2VzJz5cclxuICAgICAgICAgICAgICAgICAgICA8YSBpZD17J3NsYW9Bbm5vdGF0aW9uXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9eydzbGFvQW5ub3RhdGlvbl9rZXlfJyArIHRoaXMucHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKScgdGl0bGU9e3RpdGxlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PnNsYW88L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFNMQU9Bbm5vdGF0aW9uSW5kaWNhdG9yO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvc2xhb2Fubm90YXRpb25pbmRpY2F0b3IudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFhQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFHQTtBQUlBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 372:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/components/worklist/shared/submitresponse.tsx ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for Submit response header\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar submitActionCreator = __webpack_require__(/*! ../../../actions/submit/submitactioncreator */ 297);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar busyIndicatorActionCreator = __webpack_require__(/*! ../../../actions/busyindicator/busyindicatoractioncreator */ 279);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar markingStore = __webpack_require__(/*! ../../../stores/marking/markingstore */ 236);\r\nvar markingActionCreator = __webpack_require__(/*! ../../../actions/marking/markingactioncreator */ 246);\r\nvar submitHelper = __webpack_require__(/*! ../../utility/submit/submithelper */ 282);\r\nvar markingHelper = __webpack_require__(/*! ../../../utility/markscheme/markinghelper */ 267);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar combinedWarningPopupHelper = __webpack_require__(/*! ../../utility/popup/responseerrordialoghelper */ 438);\r\nvar eCourseWorkFileStore = __webpack_require__(/*! ../../../stores/response/digital/ecourseworkfilestore */ 278);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar standardisationsetupActionCreator = __webpack_require__(/*! ../../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\n/**\r\n * React component class for submit button\r\n */\r\nvar SubmitResponse = /** @class */ (function (_super) {\r\n    __extends(SubmitResponse, _super);\r\n    /**\r\n     * Constructor for SubmitResponse\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function SubmitResponse(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * Change visibility of mark change reason\r\n         */\r\n        _this.showHideMarkChangeReason = function () {\r\n            if (_this.props.checkIsSubmitVisible()) {\r\n                _this.isVisible = true;\r\n            }\r\n            else {\r\n                _this.isVisible = false;\r\n            }\r\n            _this.setState({ reRender: Date.now() });\r\n        };\r\n        /**\r\n         * File read status updated event.\r\n         */\r\n        _this.fileReadStatusUpdated = function () {\r\n            _this.isVisible = _this.props.checkIsSubmitVisible();\r\n            _this.setState({ reRender: Date.now() });\r\n        };\r\n        _this.submitResponseFromMarkscheme = function () {\r\n            if (markingStore.instance.navigateTo === enums.SaveAndNavigate.submit) {\r\n                busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.submitInResponseScreen);\r\n                submitHelper.saveAndSubmitResponse(_this.props.markGroupId);\r\n            }\r\n        };\r\n        _this.state = {\r\n            reRender: Date.now()\r\n        };\r\n        _this.onSubmit = _this.onSubmit.bind(_this);\r\n        _this.showHideMarkChangeReason = _this.showHideMarkChangeReason.bind(_this);\r\n        _this.isVisible = _this.props.isVisible;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    SubmitResponse.prototype.render = function () {\r\n        /**\r\n         * show multiple/single response submit button\r\n         */\r\n        if (this.props.isSubmitAll) {\r\n            return (React.createElement(\"button\", { id: 'submitResponseAll_' + this.props.id, key: 'submitResponseAll_key_' + this.props.id, title: !this.props.isDisabled ? '' :\r\n                    localeStore.instance.TranslateText('marking.worklist.action-buttons.submit-button-not-approved-tooltip'), disabled: this.props.isDisabled ? true : false, className: classNames('button primary rounded', {\r\n                    'disabled submit-all-rsp-btn': this.props.isDisabled\r\n                }), onClick: this.onSubmit },\r\n                localeStore.instance.TranslateText('marking.worklist.action-buttons.submit-button'),\r\n                this.renderSubTextItem()));\r\n        }\r\n        else if (this.props.fromMarkScheme) {\r\n            if (this.isVisible) {\r\n                return (React.createElement(\"div\", { className: 'submit-holder show' }, this.getSubmitButton()));\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            return (((!this.props.isTileView) ?\r\n                this.getSubmitButton() :\r\n                React.createElement(\"div\", { className: 'col wl-status text-center' },\r\n                    React.createElement(\"div\", { className: 'col-inner' }, this.getSubmitButton()))));\r\n        }\r\n    };\r\n    /**\r\n     * To get the submit button\r\n     */\r\n    SubmitResponse.prototype.getSubmitButton = function () {\r\n        var isfromStandardisationProvResponse = this.props.standardisationSetupType === enums.StandardisationSetup.ProvisionalResponse;\r\n        var className = isfromStandardisationProvResponse ? 'primary button rounded popup-nav shareProv'\r\n            : 'button primary rounded submit-button';\r\n        var id = isfromStandardisationProvResponse ? 'shareProvResponse_'\r\n            : 'submitSingleResponse_';\r\n        var toolTip = isfromStandardisationProvResponse ?\r\n            localeStore.instance.TranslateText('standardisation-setup.right-container.share-button-tooltip') : '';\r\n        if (this.props.fromMarkScheme) {\r\n            className = ' submit-mark rounded primary';\r\n        }\r\n        else if (this.props.isDisabled) {\r\n            className = className + ' disabled';\r\n        }\r\n        var result = React.createElement(\"button\", null);\r\n        result = React.createElement(\"button\", { id: id + this.props.id, key: 'submitSingleResponse_key_' + this.props.id, disabled: this.props.isDisabled ? true : false, title: !this.props.isDisabled ? toolTip :\r\n                localeStore.instance.TranslateText('marking.worklist.action-buttons.submit-button-not-approved-tooltip'), className: className, onClick: this.onSubmit }, \r\n        // For provisional worklist in standardisationsetup, instead of submit we should show share button\r\n        isfromStandardisationProvResponse ?\r\n            localeStore.instance.TranslateText('standardisation-setup.right-container.share-button') :\r\n            localeStore.instance.TranslateText('marking.worklist.response-data.submit-button'));\r\n        return result;\r\n    };\r\n    /**\r\n     * componentDidMount\r\n     */\r\n    SubmitResponse.prototype.componentDidMount = function () {\r\n        markingStore.instance.addListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.submitResponseFromMarkscheme);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.MARK_CHANGE_REASON_VISIBILITY_UPDATED, this.showHideMarkChangeReason);\r\n        eCourseWorkFileStore.instance.addListener(eCourseWorkFileStore.ECourseWorkFileStore.FILE_READ_STATUS_UPDATED, this.fileReadStatusUpdated);\r\n    };\r\n    /**\r\n     * componentWillUnmount\r\n     */\r\n    SubmitResponse.prototype.componentWillUnmount = function () {\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.submitResponseFromMarkscheme);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.MARK_CHANGE_REASON_VISIBILITY_UPDATED, this.showHideMarkChangeReason);\r\n        eCourseWorkFileStore.instance.removeListener(eCourseWorkFileStore.ECourseWorkFileStore.FILE_READ_STATUS_UPDATED, this.fileReadStatusUpdated);\r\n    };\r\n    /**\r\n     * Comparing the props to check the updats are made by self\r\n     * @param {Props} nextProps\r\n     */\r\n    SubmitResponse.prototype.componentWillReceiveProps = function (nextProps) {\r\n        this.isVisible = nextProps.isVisible;\r\n    };\r\n    /**\r\n     * Method to indicate whether to show the sub text for the case where Submit button is disabled;\r\n     * since the subtext needs to be shown only in disabled state\r\n     */\r\n    SubmitResponse.prototype.renderSubTextItem = function () {\r\n        if (this.props.isDisabled) {\r\n            return (React.createElement(\"span\", { className: classNames('', {\r\n                    'awaiting-feedback-msg text-middle small-text': this.props.isDisabled\r\n                }) }, localeStore.instance.TranslateText('marking.worklist.action-buttons.submit-button-suspended-indicator')));\r\n        }\r\n    };\r\n    /**\r\n     * On clicking submit\r\n     */\r\n    SubmitResponse.prototype.onSubmit = function (e) {\r\n        //on submitting simulation response, show a confirmation popup before submit\r\n        if (!applicationActionCreator.checkActionInterrupted()) {\r\n            return;\r\n        }\r\n        if (this.props.standardisationSetupType === enums.StandardisationSetup.ProvisionalResponse) {\r\n            //ActionCreator for showing Share Response Popup\r\n            var navigatePossible = true;\r\n            if (this.props.fromMarkScheme) {\r\n                this.props.stdResponseDetails.totalMarkValue = Number(this.props.updatedTotalMarks);\r\n                var responseNavigationFailureReasons = markingHelper.canNavigateAwayFromCurrentResponse();\r\n                if (responseNavigationFailureReasons.length > 0) {\r\n                    navigatePossible = false;\r\n                    var combinedWarningMessages = combinedWarningPopupHelper.getCombinedWarningMessage(enums.SaveAndNavigate.submit, responseNavigationFailureReasons);\r\n                    markingActionCreator.showResponseNavigationFailureReasons(enums.SaveAndNavigate.submit, combinedWarningMessages);\r\n                }\r\n            }\r\n            if (navigatePossible) {\r\n                standardisationsetupActionCreator.displayShareResponsePopup(this.props.stdResponseDetails, this.props.fromMarkScheme);\r\n                return;\r\n            }\r\n        }\r\n        if (worklistStore.instance.currentWorklistType === enums.WorklistType.simulation) {\r\n            markingActionCreator.showSimulationResponseSubmitConfirmationPopup(this.props.markGroupId, this.props.fromMarkScheme);\r\n            if (!this.props.fromMarkScheme) {\r\n                /* stopping propagation because the parent li has a click event in tile view\r\n                which should not work when submit is clicked\r\n                 */\r\n                e.stopPropagation();\r\n            }\r\n        }\r\n        else if (this.props.fromMarkScheme) {\r\n            var navigatePossible = true;\r\n            var responseNavigationFailureReasons = markingHelper.canNavigateAwayFromCurrentResponse();\r\n            if (responseNavigationFailureReasons.length > 0) {\r\n                navigatePossible = false;\r\n                var combinedWarningMessages = combinedWarningPopupHelper.getCombinedWarningMessage(enums.SaveAndNavigate.submit, responseNavigationFailureReasons);\r\n                markingActionCreator.showResponseNavigationFailureReasons(enums.SaveAndNavigate.submit, combinedWarningMessages);\r\n            }\r\n            if (navigatePossible) {\r\n                busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.submitInResponseScreen);\r\n                markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.submit);\r\n            }\r\n        }\r\n        else {\r\n            var markGroupId = void 0;\r\n            if (this.props.isSubmitAll) {\r\n                markGroupId = 0;\r\n            }\r\n            else {\r\n                markGroupId = this.props.markGroupId;\r\n            }\r\n            submitActionCreator.submitResponseStarted(markGroupId);\r\n            /* stopping propagation because the parent li has a click event in tile view\r\n            which should not work when submit is clicked\r\n             */\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    return SubmitResponse;\r\n}(PureRenderComponent));\r\nmodule.exports = SubmitResponse;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3N1Ym1pdHJlc3BvbnNlLnRzeD84YTg2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgUmVhY3QgY29tcG9uZW50IGZvciBTdWJtaXQgcmVzcG9uc2UgaGVhZGVyXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZW5hYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBzdWJtaXRBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9zdWJtaXQvc3VibWl0YWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBidXN5SW5kaWNhdG9yQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvYnVzeWluZGljYXRvci9idXN5aW5kaWNhdG9yYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgdGFyZ2V0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS90YXJnZXQvdGFyZ2V0aGVscGVyJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgZXhhbWluZXJzdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tYXJrZXJpbmZvcm1hdGlvbi9leGFtaW5lcnN0b3JlJyk7XHJcbmltcG9ydCB3b3JrbGlzdFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3dvcmtsaXN0c3RvcmUnKTtcclxuaW1wb3J0IG1hcmtpbmdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tYXJraW5nL21hcmtpbmdzdG9yZScpO1xyXG5pbXBvcnQgbWFya1NjaGVtZVBhbmVsID0gcmVxdWlyZSgnLi4vLi4vbWFya3NjaGVtZXN0cnVjdHVyZS9tYXJrc2NoZW1lcGFuZWwnKTtcclxuaW1wb3J0IG1hcmtpbmdBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9tYXJraW5nL21hcmtpbmdhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBzdWJtaXRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3N1Ym1pdC9zdWJtaXRoZWxwZXInKTtcclxuaW1wb3J0IG1hcmtpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L21hcmtzY2hlbWUvbWFya2luZ2hlbHBlcicpO1xyXG5pbXBvcnQgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvbWVzc2FnaW5nL21lc3NhZ2luZ2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IG1lc3NhZ2VTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tZXNzYWdlL21lc3NhZ2VzdG9yZScpO1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuaW1wb3J0IGV4Y2VwdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2V4Y2VwdGlvbi9leGNlcHRpb25zdG9yZScpO1xyXG5pbXBvcnQgZXhjZXB0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvZXhjZXB0aW9uL2V4Y2VwdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGNvbWJpbmVkV2FybmluZ1BvcHVwSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9wb3B1cC9yZXNwb25zZWVycm9yZGlhbG9naGVscGVyJyk7XHJcbmltcG9ydCBlQ291cnNlV29ya0ZpbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9yZXNwb25zZS9kaWdpdGFsL2Vjb3Vyc2V3b3JrZmlsZXN0b3JlJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHN0YW5kYXJkaXNhdGlvbnNldHVwQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgU3VibWl0IGJ1dHRvblxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGlzU3VibWl0QWxsOiBib29sZWFuO1xyXG4gICAgbWFya0dyb3VwSWQ/OiBudW1iZXI7XHJcbiAgICBpc0Rpc2FibGVkPzogYm9vbGVhbjtcclxuICAgIGZyb21NYXJrU2NoZW1lPzogYm9vbGVhbjtcclxuICAgIGlzVGlsZVZpZXc/OiBib29sZWFuO1xyXG4gICAgaXNWaXNpYmxlPzogYm9vbGVhbjtcclxuICAgIGNoZWNrSXNTdWJtaXRWaXNpYmxlPzogRnVuY3Rpb247XHJcbiAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGU/OiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cDtcclxuICAgIHN0ZFJlc3BvbnNlRGV0YWlscz86IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscztcclxuICAgIHVwZGF0ZWRUb3RhbE1hcmtzPzogc3RyaW5nO1xyXG4gICAgcmVuZGVyZWRPbj86IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0YXRlIG9mIGEgU3VibWl0UmVzcG9uc2VcclxuICovXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgICByZVJlbmRlcj86IG51bWJlcjtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBSZWFjdCBjb21wb25lbnQgY2xhc3MgZm9yIHN1Ym1pdCBidXR0b25cclxuICovXHJcbmNsYXNzIFN1Ym1pdFJlc3BvbnNlIGV4dGVuZHMgUHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuXHJcbiAgICBwcml2YXRlIHNhdmVNYXJrczogTWFya3NBbmRBbm5vdGF0aW9uc01hbmFnZW1lbnRCYXNlO1xyXG4gICAgcHJpdmF0ZSBpc1Zpc2libGU6IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgU3VibWl0UmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IFN0YXRlKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICByZVJlbmRlcjogRGF0ZS5ub3coKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vblN1Ym1pdCA9IHRoaXMub25TdWJtaXQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnNob3dIaWRlTWFya0NoYW5nZVJlYXNvbiA9IHRoaXMuc2hvd0hpZGVNYXJrQ2hhbmdlUmVhc29uLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0aGlzLnByb3BzLmlzVmlzaWJsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBzaG93IG11bHRpcGxlL3NpbmdsZSByZXNwb25zZSBzdWJtaXQgYnV0dG9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaXNTdWJtaXRBbGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBpZD17J3N1Ym1pdFJlc3BvbnNlQWxsXycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IHsnc3VibWl0UmVzcG9uc2VBbGxfa2V5XycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXshdGhpcy5wcm9wcy5pc0Rpc2FibGVkID8gJycgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LmFjdGlvbi1idXR0b25zLnN1Ym1pdC1idXR0b24tbm90LWFwcHJvdmVkLXRvb2x0aXAnKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQgPXt0aGlzLnByb3BzLmlzRGlzYWJsZWQgPyB0cnVlIDogZmFsc2UgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0geyBjbGFzc05hbWVzKCdidXR0b24gcHJpbWFyeSByb3VuZGVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc2FibGVkIHN1Ym1pdC1hbGwtcnNwLWJ0bic6IHRoaXMucHJvcHMuaXNEaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljayA9eyB0aGlzLm9uU3VibWl0IH0+XHJcbiAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QuYWN0aW9uLWJ1dHRvbnMuc3VibWl0LWJ1dHRvbicpIH1cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJTdWJUZXh0SXRlbSgpIH1cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuZnJvbU1hcmtTY2hlbWUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzdWJtaXQtaG9sZGVyIHNob3cnPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFN1Ym1pdEJ1dHRvbigpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgKCghdGhpcy5wcm9wcy5pc1RpbGVWaWV3KSA/XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTdWJtaXRCdXR0b24oKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbCB3bC1zdGF0dXMgdGV4dC1jZW50ZXInPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtaW5uZXInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFN1Ym1pdEJ1dHRvbigpIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVG8gZ2V0IHRoZSBzdWJtaXQgYnV0dG9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0U3VibWl0QnV0dG9uKCk6IGFueSB7XHJcbiAgICAgICAgbGV0IGlzZnJvbVN0YW5kYXJkaXNhdGlvblByb3ZSZXNwb25zZSA9IHRoaXMucHJvcHMuc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlO1xyXG4gICAgICAgIGxldCBjbGFzc05hbWU6IHN0cmluZyA9IGlzZnJvbVN0YW5kYXJkaXNhdGlvblByb3ZSZXNwb25zZSA/ICdwcmltYXJ5IGJ1dHRvbiByb3VuZGVkIHBvcHVwLW5hdiBzaGFyZVByb3YnXHJcbiAgICAgICAgICAgIDogJ2J1dHRvbiBwcmltYXJ5IHJvdW5kZWQgc3VibWl0LWJ1dHRvbic7XHJcbiAgICAgICAgbGV0IGlkOiBzdHJpbmcgPSBpc2Zyb21TdGFuZGFyZGlzYXRpb25Qcm92UmVzcG9uc2UgPyAnc2hhcmVQcm92UmVzcG9uc2VfJ1xyXG4gICAgICAgICAgICA6ICdzdWJtaXRTaW5nbGVSZXNwb25zZV8nO1xyXG4gICAgICAgIGxldCB0b29sVGlwOiBzdHJpbmcgPSBpc2Zyb21TdGFuZGFyZGlzYXRpb25Qcm92UmVzcG9uc2UgP1xyXG4gICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLnNoYXJlLWJ1dHRvbi10b29sdGlwJykgOiAnJztcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5mcm9tTWFya1NjaGVtZSkge1xyXG4gICAgICAgICAgICBjbGFzc05hbWUgPSAnIHN1Ym1pdC1tYXJrIHJvdW5kZWQgcHJpbWFyeSc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJyBkaXNhYmxlZCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVzdWx0ID0gPGJ1dHRvbj48L2J1dHRvbj47XHJcbiAgICAgICAgcmVzdWx0ID0gPGJ1dHRvblxyXG4gICAgICAgICAgICBpZD17aWQgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICBrZXkgPSB7J3N1Ym1pdFNpbmdsZVJlc3BvbnNlX2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgZGlzYWJsZWQgPXt0aGlzLnByb3BzLmlzRGlzYWJsZWQgPyB0cnVlIDogZmFsc2UgfVxyXG4gICAgICAgICAgICB0aXRsZT17IXRoaXMucHJvcHMuaXNEaXNhYmxlZCA/IHRvb2xUaXAgOlxyXG4gICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5hY3Rpb24tYnV0dG9ucy5zdWJtaXQtYnV0dG9uLW5vdC1hcHByb3ZlZC10b29sdGlwJyl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT0ge2NsYXNzTmFtZX1cclxuICAgICAgICAgICAgb25DbGljayA9eyB0aGlzLm9uU3VibWl0IH0gPlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBGb3IgcHJvdmlzaW9uYWwgd29ya2xpc3QgaW4gc3RhbmRhcmRpc2F0aW9uc2V0dXAsIGluc3RlYWQgb2Ygc3VibWl0IHdlIHNob3VsZCBzaG93IHNoYXJlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgaXNmcm9tU3RhbmRhcmRpc2F0aW9uUHJvdlJlc3BvbnNlID9cclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5yaWdodC1jb250YWluZXIuc2hhcmUtYnV0dG9uJykgOlxyXG4gICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnN1Ym1pdC1idXR0b24nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgPC9idXR0b24+O1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY29tcG9uZW50RGlkTW91bnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5SRUFEWV9UT19OQVZJR0FURSxcclxuICAgICAgICAgICAgdGhpcy5zdWJtaXRSZXNwb25zZUZyb21NYXJrc2NoZW1lKTtcclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuTUFSS19DSEFOR0VfUkVBU09OX1ZJU0lCSUxJVFlfVVBEQVRFRCxcclxuICAgICAgICAgICAgdGhpcy5zaG93SGlkZU1hcmtDaGFuZ2VSZWFzb24pO1xyXG4gICAgICAgIGVDb3Vyc2VXb3JrRmlsZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBlQ291cnNlV29ya0ZpbGVTdG9yZS5FQ291cnNlV29ya0ZpbGVTdG9yZS5GSUxFX1JFQURfU1RBVFVTX1VQREFURUQsXHJcbiAgICAgICAgICAgIHRoaXMuZmlsZVJlYWRTdGF0dXNVcGRhdGVkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNvbXBvbmVudFdpbGxVbm1vdW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuUkVBRFlfVE9fTkFWSUdBVEUsXHJcbiAgICAgICAgICAgIHRoaXMuc3VibWl0UmVzcG9uc2VGcm9tTWFya3NjaGVtZSk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLk1BUktfQ0hBTkdFX1JFQVNPTl9WSVNJQklMSVRZX1VQREFURUQsXHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0hpZGVNYXJrQ2hhbmdlUmVhc29uKTtcclxuICAgICAgICBlQ291cnNlV29ya0ZpbGVTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgZUNvdXJzZVdvcmtGaWxlU3RvcmUuRUNvdXJzZVdvcmtGaWxlU3RvcmUuRklMRV9SRUFEX1NUQVRVU19VUERBVEVELFxyXG4gICAgICAgICAgICB0aGlzLmZpbGVSZWFkU3RhdHVzVXBkYXRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wYXJpbmcgdGhlIHByb3BzIHRvIGNoZWNrIHRoZSB1cGRhdHMgYXJlIG1hZGUgYnkgc2VsZlxyXG4gICAgICogQHBhcmFtIHtQcm9wc30gbmV4dFByb3BzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wczogUHJvcHMpIHtcclxuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IG5leHRQcm9wcy5pc1Zpc2libGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGFuZ2UgdmlzaWJpbGl0eSBvZiBtYXJrIGNoYW5nZSByZWFzb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzaG93SGlkZU1hcmtDaGFuZ2VSZWFzb24gPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2hlY2tJc1N1Ym1pdFZpc2libGUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlUmVuZGVyOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbGUgcmVhZCBzdGF0dXMgdXBkYXRlZCBldmVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBmaWxlUmVhZFN0YXR1c1VwZGF0ZWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0aGlzLnByb3BzLmNoZWNrSXNTdWJtaXRWaXNpYmxlKCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlUmVuZGVyOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBpbmRpY2F0ZSB3aGV0aGVyIHRvIHNob3cgdGhlIHN1YiB0ZXh0IGZvciB0aGUgY2FzZSB3aGVyZSBTdWJtaXQgYnV0dG9uIGlzIGRpc2FibGVkO1xyXG4gICAgICogc2luY2UgdGhlIHN1YnRleHQgbmVlZHMgdG8gYmUgc2hvd24gb25seSBpbiBkaXNhYmxlZCBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlbmRlclN1YlRleHRJdGVtKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICg8c3BhbiBjbGFzc05hbWU9IHsgY2xhc3NOYW1lcygnJyxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAnYXdhaXRpbmctZmVlZGJhY2stbXNnIHRleHQtbWlkZGxlIHNtYWxsLXRleHQnOiB0aGlzLnByb3BzLmlzRGlzYWJsZWRcclxuICAgICAgICAgICAgICAgIH0pIH0+XHJcbiAgICAgICAgICAgICAgICB7IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QuYWN0aW9uLWJ1dHRvbnMuc3VibWl0LWJ1dHRvbi1zdXNwZW5kZWQtaW5kaWNhdG9yJykgfVxyXG4gICAgICAgICAgICA8L3NwYW4+KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbiBjbGlja2luZyBzdWJtaXRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblN1Ym1pdChlOiBhbnkpIHtcclxuICAgICAgICAvL29uIHN1Ym1pdHRpbmcgc2ltdWxhdGlvbiByZXNwb25zZSwgc2hvdyBhIGNvbmZpcm1hdGlvbiBwb3B1cCBiZWZvcmUgc3VibWl0XHJcbiAgICAgICAgaWYgKCFhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IuY2hlY2tBY3Rpb25JbnRlcnJ1cHRlZCgpKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlID09PSBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIC8vQWN0aW9uQ3JlYXRvciBmb3Igc2hvd2luZyBTaGFyZSBSZXNwb25zZSBQb3B1cFxyXG4gICAgICAgICAgICBsZXQgbmF2aWdhdGVQb3NzaWJsZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmZyb21NYXJrU2NoZW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnN0ZFJlc3BvbnNlRGV0YWlscy50b3RhbE1hcmtWYWx1ZSA9IE51bWJlcih0aGlzLnByb3BzLnVwZGF0ZWRUb3RhbE1hcmtzKTtcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZU5hdmlnYXRpb25GYWlsdXJlUmVhc29uczogQXJyYXk8ZW51bXMuUmVzcG9uc2VOYXZpZ2F0ZUZhaWx1cmVSZWFzb24+ID1cclxuICAgICAgICAgICAgICAgICAgICBtYXJraW5nSGVscGVyLmNhbk5hdmlnYXRlQXdheUZyb21DdXJyZW50UmVzcG9uc2UoKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZU5hdmlnYXRpb25GYWlsdXJlUmVhc29ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVQb3NzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21iaW5lZFdhcm5pbmdNZXNzYWdlcyA9IGNvbWJpbmVkV2FybmluZ1BvcHVwSGVscGVyLmdldENvbWJpbmVkV2FybmluZ01lc3NhZ2UoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnN1Ym1pdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VOYXZpZ2F0aW9uRmFpbHVyZVJlYXNvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdBY3Rpb25DcmVhdG9yLnNob3dSZXNwb25zZU5hdmlnYXRpb25GYWlsdXJlUmVhc29ucyhlbnVtcy5TYXZlQW5kTmF2aWdhdGUuc3VibWl0LCBjb21iaW5lZFdhcm5pbmdNZXNzYWdlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5hdmlnYXRlUG9zc2libGUpIHtcclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvbnNldHVwQWN0aW9uQ3JlYXRvci5kaXNwbGF5U2hhcmVSZXNwb25zZVBvcHVwKHRoaXMucHJvcHMuc3RkUmVzcG9uc2VEZXRhaWxzLCB0aGlzLnByb3BzLmZyb21NYXJrU2NoZW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnNpbXVsYXRpb24pIHtcclxuICAgICAgICAgICAgbWFya2luZ0FjdGlvbkNyZWF0b3Iuc2hvd1NpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvblBvcHVwKHRoaXMucHJvcHMubWFya0dyb3VwSWQsIHRoaXMucHJvcHMuZnJvbU1hcmtTY2hlbWUpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucHJvcHMuZnJvbU1hcmtTY2hlbWUpIHtcclxuICAgICAgICAgICAgICAgIC8qIHN0b3BwaW5nIHByb3BhZ2F0aW9uIGJlY2F1c2UgdGhlIHBhcmVudCBsaSBoYXMgYSBjbGljayBldmVudCBpbiB0aWxlIHZpZXdcclxuICAgICAgICAgICAgICAgIHdoaWNoIHNob3VsZCBub3Qgd29yayB3aGVuIHN1Ym1pdCBpcyBjbGlja2VkXHJcbiAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuZnJvbU1hcmtTY2hlbWUpIHtcclxuICAgICAgICAgICAgbGV0IG5hdmlnYXRlUG9zc2libGU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VOYXZpZ2F0aW9uRmFpbHVyZVJlYXNvbnM6IEFycmF5PGVudW1zLlJlc3BvbnNlTmF2aWdhdGVGYWlsdXJlUmVhc29uPiA9XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nSGVscGVyLmNhbk5hdmlnYXRlQXdheUZyb21DdXJyZW50UmVzcG9uc2UoKTtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlTmF2aWdhdGlvbkZhaWx1cmVSZWFzb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRlUG9zc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxldCBjb21iaW5lZFdhcm5pbmdNZXNzYWdlcyA9IGNvbWJpbmVkV2FybmluZ1BvcHVwSGVscGVyLmdldENvbWJpbmVkV2FybmluZ01lc3NhZ2UoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnN1Ym1pdCxcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU5hdmlnYXRpb25GYWlsdXJlUmVhc29ucyk7XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nQWN0aW9uQ3JlYXRvci5zaG93UmVzcG9uc2VOYXZpZ2F0aW9uRmFpbHVyZVJlYXNvbnMoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnN1Ym1pdCwgY29tYmluZWRXYXJuaW5nTWVzc2FnZXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobmF2aWdhdGVQb3NzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckFjdGlvbkNyZWF0b3Iuc2V0QnVzeUluZGljYXRvckludm9rZXIoZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuc3VibWl0SW5SZXNwb25zZVNjcmVlbik7XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nQWN0aW9uQ3JlYXRvci5zYXZlQW5kTmF2aWdhdGUoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnN1Ym1pdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgbWFya0dyb3VwSWQ6IG51bWJlcjtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuaXNTdWJtaXRBbGwpIHtcclxuICAgICAgICAgICAgICAgIG1hcmtHcm91cElkID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hcmtHcm91cElkID0gdGhpcy5wcm9wcy5tYXJrR3JvdXBJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdWJtaXRBY3Rpb25DcmVhdG9yLnN1Ym1pdFJlc3BvbnNlU3RhcnRlZChtYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgICAgIC8qIHN0b3BwaW5nIHByb3BhZ2F0aW9uIGJlY2F1c2UgdGhlIHBhcmVudCBsaSBoYXMgYSBjbGljayBldmVudCBpbiB0aWxlIHZpZXdcclxuICAgICAgICAgICAgd2hpY2ggc2hvdWxkIG5vdCB3b3JrIHdoZW4gc3VibWl0IGlzIGNsaWNrZWRcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3VibWl0UmVzcG9uc2VGcm9tTWFya3NjaGVtZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAobWFya2luZ1N0b3JlLmluc3RhbmNlLm5hdmlnYXRlVG8gPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5zdWJtaXQpIHtcclxuICAgICAgICAgICAgYnVzeUluZGljYXRvckFjdGlvbkNyZWF0b3Iuc2V0QnVzeUluZGljYXRvckludm9rZXIoZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuc3VibWl0SW5SZXNwb25zZVNjcmVlbik7XHJcbiAgICAgICAgICAgIHN1Ym1pdEhlbHBlci5zYXZlQW5kU3VibWl0UmVzcG9uc2UodGhpcy5wcm9wcy5tYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5leHBvcnQgPSBTdWJtaXRSZXNwb25zZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3N1Ym1pdHJlc3BvbnNlLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQTJCQTs7QUFFQTtBQUNBO0FBQUE7QUFLQTs7OztBQUlBO0FBQ0E7QUFBQTtBQW9JQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN09BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFzQkE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 373:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/worklist/worklistcomponenthelper.ts ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar worklistValidatorFactory = __webpack_require__(/*! ../../utility/worklistvalidators/worklistvalidatorfactory */ 319);\r\nvar worklistValidatorList = __webpack_require__(/*! ../../utility/worklistvalidators/worklistvalidatorlist */ 304);\r\nvar submitStore = __webpack_require__(/*! ../../stores/submit/submitstore */ 293);\r\nvar customError = __webpack_require__(/*! ../base/customerror */ 398);\r\nvar targetHelper = __webpack_require__(/*! ../../utility/target/targethelper */ 300);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar teamManagementStore = __webpack_require__(/*! ../../stores/teammanagement/teammanagementstore */ 245);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\n/**\r\n * Helper class for worklist\r\n */\r\nvar WorklistComponentHelper = /** @class */ (function () {\r\n    function WorklistComponentHelper() {\r\n    }\r\n    /**\r\n     * Method which returns array of mark group ids to submit\r\n     */\r\n    WorklistComponentHelper.createMarkgroupIdCollectionForLiveSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        var relatedMarkGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            /* looping through each response to determine whether the same is eligible for submit */\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.liveOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    if (response.isWholeResponse) {\r\n                        relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(response.markGroupId));\r\n                    }\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if (worklistData &&\r\n                worklistData.responses.count() > 0 &&\r\n                worklistData.responses.filter(function (x) { return x.markGroupId === singleResponseMarkGroupId; }).first().isWholeResponse) {\r\n                relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(singleResponseMarkGroupId));\r\n            }\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        if (relatedMarkGroupIds.length > 0) {\r\n            markGroupIds = markGroupIds.concat(relatedMarkGroupIds);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Raturns the markgroup ids of practice response to submit.\r\n     * @param {PracticeOpenWorklist} worklistData\r\n     * @param {number} singleResponseMarkGroupId\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.createMarkGroupIdCollectionForPracticeSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.practiceOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Raturns the markgroup ids of standardization response to submit.\r\n     * @param {StandardisationOpenWorklist} worklistData\r\n     * @param {number} singleResponseMarkGroupId\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.createMarkGroupIdCollectionForStandardizationSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.standardisationOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Raturns the markgroup ids of directed remark response to submit.\r\n     * @param {StandardisationOpenWorklist} worklistData\r\n     * @param {number} singleResponseMarkGroupId\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.createMarkGroupIdCollectionForDirectedRemarkSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        var relatedMarkGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            /* looping through each response to determine whether the same is eligible for submit */\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.directedRemarkOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    if (response.isWholeResponse) {\r\n                        // grouping related mark-group id's for the whole response.\r\n                        relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(response.markGroupId));\r\n                    }\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if (worklistData &&\r\n                worklistData.responses.count() > 0 &&\r\n                worklistData.responses.filter(function (x) { return x.markGroupId === singleResponseMarkGroupId; }).first().isWholeResponse) {\r\n                // grouping related mark-group id's for the whole response.\r\n                relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(singleResponseMarkGroupId));\r\n            }\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        if (relatedMarkGroupIds.length > 0) {\r\n            markGroupIds = markGroupIds.concat(relatedMarkGroupIds);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Raturns the markgroup ids of pooled remark response to submit.\r\n     * @param {PooledRemarkOpenWorklist} worklistData\r\n     * @param {number} singleResponseMarkGroupId\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.createMarkGroupIdCollectionForPooledRemarkSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        var relatedMarkGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            /* looping through each response to determine whether the same is eligible for submit */\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.directedRemarkOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    // grouping related mark-group id's for the whole response.\r\n                    if (response.isWholeResponse) {\r\n                        relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(response.markGroupId));\r\n                    }\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if (worklistData &&\r\n                worklistData.responses.count() > 0 &&\r\n                worklistData.responses.filter(function (x) { return x.markGroupId === singleResponseMarkGroupId; }).first().isWholeResponse) {\r\n                // grouping related mark-group id's for the whole response.\r\n                relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(singleResponseMarkGroupId));\r\n            }\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        if (relatedMarkGroupIds.length > 0) {\r\n            markGroupIds = markGroupIds.concat(relatedMarkGroupIds);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Method which returns array of mark group ids to submit simulation response/s\r\n     */\r\n    WorklistComponentHelper.createMarkgroupIdCollectionForSimulationSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            /* looping through each response to determine whether the same is eligible for submit */\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.simulationOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Method which returns array of mark group ids to submit\r\n     * @param worklistData\r\n     * @param singleResponseMarkGroupId\r\n     */\r\n    WorklistComponentHelper.createMarkgroupIdCollectionForAtypicalSubmit = function (worklistData, singleResponseMarkGroupId) {\r\n        var markGroupIds = new Array();\r\n        /* Collection of Mark Group Ids of realted RIGs in other QIGs */\r\n        var relatedMarkGroupIds = new Array();\r\n        if (submitStore.instance.getMarkGroupId === 0) {\r\n            /* looping through each response to determine whether the same is eligible for submit */\r\n            worklistData.responses.map(function (response) {\r\n                worklistValidatorFactory.getValidator(worklistValidatorList.atypicalOpen).submitButtonValidate(response);\r\n                if (response.isSubmitEnabled) {\r\n                    relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(response.markGroupId));\r\n                    markGroupIds.push(response.markGroupId);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            relatedMarkGroupIds = relatedMarkGroupIds.concat(worklistStore.instance.getRelatedMarkGroupIdsForWholeResponse(singleResponseMarkGroupId));\r\n            markGroupIds.push(singleResponseMarkGroupId);\r\n        }\r\n        if (relatedMarkGroupIds.length > 0) {\r\n            markGroupIds = markGroupIds.concat(relatedMarkGroupIds);\r\n        }\r\n        return markGroupIds;\r\n    };\r\n    /**\r\n     * Get the error message key to show when submit response fails\r\n     */\r\n    WorklistComponentHelper.showMessageOnSubmitResponse = function (submittedResponseCount) {\r\n        var messageKey = '';\r\n        var messageHeaderKey = undefined;\r\n        if (submitStore.instance.getErrorCode > 0) {\r\n            var isInStandardisationworklist = worklistStore.instance.currentWorklistType === enums.WorklistType.practice ||\r\n                worklistStore.instance.currentWorklistType === enums.WorklistType.standardisation ||\r\n                worklistStore.instance.currentWorklistType === enums.WorklistType.secondstandardisation;\r\n            // If standardisation worklist, then no need to check the not approved status\r\n            if (submitStore.instance.getSubmitResponseReturn.examinerApprovalStatus === enums.ExaminerApproval.Suspended) {\r\n                if (submitStore.instance.getSubmitResponseReturn.hasQualityFeedbackOutstanding) {\r\n                    messageKey = 'marking.worklist.approval-status-changed-dialog.body-quality-feedback';\r\n                }\r\n                else {\r\n                    messageKey = 'marking.worklist.approval-status-changed-dialog.body';\r\n                }\r\n                messageHeaderKey = submittedResponseCount === 0 ?\r\n                    'marking.worklist.response-submission-error-dialog.header' : 'marking.worklist.approval-status-changed-dialog.header';\r\n            }\r\n            else if (submitStore.instance.getSubmitResponseReturn.examinerApprovalStatus === enums.ExaminerApproval.NotApproved &&\r\n                !isInStandardisationworklist &&\r\n                worklistStore.instance.currentWorklistType !== enums.WorklistType.simulation) {\r\n                messageKey = 'marking.worklist.approval-status-changed-dialog.body';\r\n                messageHeaderKey = submittedResponseCount === 0 ?\r\n                    'marking.worklist.response-submission-error-dialog.header' : 'marking.worklist.approval-status-changed-dialog.header';\r\n            }\r\n            else {\r\n                switch (submitStore.instance.getErrorCode) {\r\n                    case enums.SubmitResponseErrorCode.responseNotFullyMarked:\r\n                    case enums.SubmitResponseErrorCode.responseHasExceptions:\r\n                    case enums.SubmitResponseErrorCode.allSLAOsNotAnnotated:\r\n                    case enums.SubmitResponseErrorCode.allPagesNotAnnotated:\r\n                    case enums.SubmitResponseErrorCode.onHold:\r\n                    case enums.SubmitResponseErrorCode.mandateMarkschemeNotCommented:\r\n                    case enums.SubmitResponseErrorCode.notAllFilesViewed:\r\n                    case enums.SubmitResponseErrorCode.hasZoningException:\r\n                        messageHeaderKey = submitStore.instance.getMarkGroupId > 0 ?\r\n                            'marking.worklist.submit-response-dialog.header' :\r\n                            'marking.worklist.submit-all-responses-dialog.header';\r\n                        messageKey = submitStore.instance.getMarkGroupId > 0 ?\r\n                            'marking.worklist.response-submission-error-dialog.body-single-response-not-submitted' :\r\n                            'marking.worklist.response-submission-error-dialog.body-some-responses-not-submitted';\r\n                        break;\r\n                    case enums.SubmitResponseErrorCode.responseAlreadySubmitted:\r\n                        if (submitStore.instance.getMarkGroupId > 0) {\r\n                            messageHeaderKey = 'marking.worklist.submit-response-dialog.header';\r\n                            messageKey = 'marking.worklist.response-submission-error-dialog.body-single-response-already-submitted';\r\n                        }\r\n                        else {\r\n                            messageHeaderKey = 'marking.worklist.submit-all-responses-dialog.header';\r\n                            messageKey = 'marking.worklist.response-submission-error-dialog.body-some-responses-already-submitted';\r\n                        }\r\n                        break;\r\n                    case enums.SubmitResponseErrorCode.examinerNotApproved:\r\n                        messageKey = 'marking.worklist.approval-status-changed-dialog.body-relatedQIG';\r\n                        messageHeaderKey = submittedResponseCount === 0 ?\r\n                            'marking.worklist.response-submission-error-dialog.header' :\r\n                            'marking.worklist.approval-status-changed-dialog.header';\r\n                        break;\r\n                    case enums.SubmitResponseErrorCode.examinerSuspended:\r\n                        if (submitStore.instance.getSubmitResponseReturn.hasQualityFeedbackOutstanding) {\r\n                            messageKey = 'marking.worklist.approval-status-changed-dialog.body-quality-feedback';\r\n                        }\r\n                        else {\r\n                            messageKey = 'marking.worklist.approval-status-changed-dialog.body';\r\n                        }\r\n                        messageHeaderKey = submittedResponseCount === 0 ?\r\n                            'marking.worklist.response-submission-error-dialog.header' :\r\n                            'marking.worklist.approval-status-changed-dialog.header';\r\n                        break;\r\n                    case enums.SubmitResponseErrorCode.examinerWithdrawn:\r\n                        //This code added for whole response case and the examinerApprovalStatus contains only current qigs status, \r\n                        //but SubmitResponseErrorCode contains status against any qig etc.\r\n                        messageKey = 'marking.worklist.approval-status-changed-dialog.body-withdrawn';\r\n                        messageHeaderKey = submittedResponseCount === 0 ?\r\n                            'marking.worklist.response-submission-error-dialog.header' :\r\n                            'marking.worklist.approval-status-changed-dialog.header';\r\n                        break;\r\n                    default:\r\n                        messageKey = '';\r\n                }\r\n            }\r\n        }\r\n        if (messageKey !== '' && submittedResponseCount === 0) {\r\n            /** Creating custom error message to show */\r\n            var submitErrorMessage = {\r\n                messageHeader: messageHeaderKey,\r\n                messageContent: messageKey\r\n            };\r\n            return submitErrorMessage;\r\n        }\r\n        else if (messageKey !== '') {\r\n            /** Creating custom error message to show */\r\n            var submitResponseError = new customError('Submit', messageKey, messageHeaderKey, false);\r\n            window.onerror('', '', null, null, submitResponseError);\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Sets the auto approval Secondary content\r\n     * @param submittedResponseCount\r\n     */\r\n    WorklistComponentHelper.getAutoApprovalSecondaryContent = function (submittedResponseCount) {\r\n        var deleteResponseOnAutoApproval = targetHelper.isResponsesDeletedOnAutoApproval(submittedResponseCount);\r\n        return ((targetHelper.currentMarkingMode === enums.MarkingMode.ES_TeamApproval\r\n            && qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember === false) ?\r\n            ((deleteResponseOnAutoApproval === false) ?\r\n                'marking.worklist.auto-approved-dialog.body-standardisation'\r\n                : 'marking.worklist.auto-approved-dialog.body-excess-second-standardisation-responses-removed')\r\n            : ((targetHelper.currentMarkingMode === enums.MarkingMode.Approval\r\n                && qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember === false) ?\r\n                ((deleteResponseOnAutoApproval === false) ?\r\n                    'marking.worklist.auto-approved-dialog.body-standardisation'\r\n                    : 'marking.worklist.auto-approved-dialog.body-excess-standardisation-responses-removed')\r\n                : ((deleteResponseOnAutoApproval === false) ?\r\n                    'marking.worklist.auto-approved-dialog.body-stm-standardisation'\r\n                    : 'marking.worklist.auto-approved-dialog.body-excess-stm-standardisation-responses-removed')));\r\n    };\r\n    /**\r\n     * Returns the markgroup id collection for response submission\r\n     * @param {enums.MarkingMode} markingMode\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.getMarkgroupIdCollectionForSubmit = function (markingMode) {\r\n        switch (markingMode) {\r\n            case enums.MarkingMode.LiveMarking:\r\n                if (worklistStore.instance.currentWorklistType !== enums.WorklistType.atypical) {\r\n                    return WorklistComponentHelper.createMarkgroupIdCollectionForLiveSubmit(worklistStore.instance.getLiveOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n                }\r\n                return WorklistComponentHelper.createMarkgroupIdCollectionForAtypicalSubmit(worklistStore.instance.getAtypicalOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n            case enums.MarkingMode.Practice:\r\n                return WorklistComponentHelper.createMarkGroupIdCollectionForPracticeSubmit(worklistStore.instance.getPracticeOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n            case enums.MarkingMode.Approval:\r\n                return WorklistComponentHelper.createMarkGroupIdCollectionForStandardizationSubmit(worklistStore.instance.getStandardisationOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n            case enums.MarkingMode.ES_TeamApproval:\r\n                return WorklistComponentHelper.createMarkGroupIdCollectionForStandardizationSubmit(worklistStore.instance.getSecondStandardisationOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n            case enums.MarkingMode.Remarking:\r\n                if (worklistStore.instance.isDirectedRemark) {\r\n                    return WorklistComponentHelper.createMarkGroupIdCollectionForDirectedRemarkSubmit(worklistStore.instance.getDirectedRemarkOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n                }\r\n                else {\r\n                    return WorklistComponentHelper.createMarkGroupIdCollectionForPooledRemarkSubmit(worklistStore.instance.getPooledRemarkOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n                }\r\n            case enums.MarkingMode.Simulation:\r\n                return WorklistComponentHelper.createMarkgroupIdCollectionForSimulationSubmit(worklistStore.instance.getSimulationOpenWorklistDetails, submitStore.instance.getMarkGroupId);\r\n        }\r\n    };\r\n    /**\r\n     * Get remark request type\r\n     * @param worklistType\r\n     */\r\n    WorklistComponentHelper.getRemarkRequestType = function (worklistType) {\r\n        return worklistType === enums.WorklistType.directedRemark || worklistType === enums.WorklistType.pooledRemark ?\r\n            worklistStore.instance.getRemarkRequestType : enums.RemarkRequestType.Unknown;\r\n    };\r\n    /**\r\n     * Get is directed remark\r\n     * @param worklistType\r\n     */\r\n    WorklistComponentHelper.getIsDirectedRemark = function (worklistType) {\r\n        return worklistType === enums.WorklistType.directedRemark || worklistType === enums.WorklistType.pooledRemark ?\r\n            worklistStore.instance.isDirectedRemark : false;\r\n    };\r\n    /**\r\n     * Method which returns whether the quality feedback related message should be shown on submitting\r\n     * seeds accurately/within tolerance\r\n     */\r\n    WorklistComponentHelper.shouldShowQualityFeedbackMessage = function () {\r\n        var _automaticQualityFeedback = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.AutomaticQualityFeedback, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        var _seedSubmissionStatus = submitStore.instance.getSubmitResponseReturn.seedSubmissionStatus;\r\n        return _automaticQualityFeedback &&\r\n            _seedSubmissionStatus === enums.SeedSubmissionStatus.SeedsSubmittedWithinToleranceOrAccurately;\r\n    };\r\n    /**\r\n     * Get the tab details that needs to be shown in the live worklist\r\n     * @param targetSummary\r\n     */\r\n    WorklistComponentHelper.getLiveWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        // Only closed tab is displaying in help examiners,\r\n        if (teamManagementStore.instance.selectedTeamManagementTab !== enums.TeamManagement.HelpExaminers) {\r\n            worklistTabDetails.push({\r\n                responseMode: enums.ResponseMode.open,\r\n                responseCount: targetSummary.examinerProgress.openResponsesCount\r\n            });\r\n            worklistTabDetails.push({\r\n                responseMode: enums.ResponseMode.pending,\r\n                responseCount: targetSummary.examinerProgress.pendingResponsesCount\r\n            });\r\n        }\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: targetSummary.examinerProgress.closedResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Get the tab details that needs to be shown in the atypical worklist\r\n     * @param targetSummary\r\n     */\r\n    WorklistComponentHelper.getAtypicalWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.open,\r\n            responseCount: (isNaN(targetSummary.examinerProgress.atypicalOpenResponsesCount)\r\n                ? 0 : targetSummary.examinerProgress.atypicalOpenResponsesCount)\r\n        });\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.pending,\r\n            responseCount: (isNaN(targetSummary.examinerProgress.atypicalPendingResponsesCount)\r\n                ? 0 : targetSummary.examinerProgress.atypicalPendingResponsesCount)\r\n        });\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: (isNaN(targetSummary.examinerProgress.atypicalClosedResponsesCount)\r\n                ? 0 : targetSummary.examinerProgress.atypicalClosedResponsesCount)\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Get the tab details that needs to be shown in the live worklist\r\n     * @param targetSummary\r\n     */\r\n    WorklistComponentHelper.getPracticeWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        if (!targetSummary.isTargetCompleted) {\r\n            worklistTabDetails.push({\r\n                responseMode: enums.ResponseMode.open,\r\n                responseCount: targetSummary.examinerProgress.openResponsesCount\r\n            });\r\n        }\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: targetSummary.examinerProgress.closedResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Returns StandardisationWorklist TabDetails\r\n     * @param {markingTargetSummary} targetSummary\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.getStandardisationWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        if (markerOperationModeFactory.operationMode.shouldDisplayStandardisationOpenTab(targetSummary)) {\r\n            if (targetHelper.isESTargetCompleted(enums.MarkingMode.Approval) === false) {\r\n                worklistTabDetails.push({\r\n                    responseMode: enums.ResponseMode.open,\r\n                    responseCount: targetSummary.examinerProgress.openResponsesCount\r\n                });\r\n            }\r\n        }\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: targetSummary.examinerProgress.closedResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Returns SecondStandardization TabDetails\r\n     * @param {markingTargetSummary} targetSummary\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.getSecondStandardizationTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        if (markerOperationModeFactory.operationMode.shouldDisplayStandardisationOpenTab(targetSummary)) {\r\n            if (targetHelper.isESTargetCompleted(enums.MarkingMode.ES_TeamApproval) === false) {\r\n                worklistTabDetails.push({\r\n                    responseMode: enums.ResponseMode.open,\r\n                    responseCount: targetSummary.examinerProgress.openResponsesCount\r\n                });\r\n            }\r\n        }\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: targetSummary.examinerProgress.closedResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Get the tab details that needs to be shown in the remark worklist\r\n     * @param targetSummary\r\n     */\r\n    WorklistComponentHelper.getRemarkWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.open,\r\n            responseCount: targetSummary.examinerProgress.openResponsesCount\r\n        });\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.pending,\r\n            responseCount: targetSummary.examinerProgress.pendingResponsesCount\r\n        });\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.closed,\r\n            responseCount: targetSummary.examinerProgress.closedResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Returns the worklist tab details\r\n     * @param {enums.MarkingMode} markingMode\r\n     * @returns\r\n     */\r\n    WorklistComponentHelper.getWorklistTabDetails = function (markingMode, isTargetRefresh) {\r\n        if (isTargetRefresh === void 0) { isTargetRefresh = false; }\r\n        var worklistTabDetails = [];\r\n        var markingTargetsSummary;\r\n        /** Getting  markingTargetsSummary from worklist store,\r\n         * it will be updated if the worklist response collection changes\r\n         */\r\n        if (isTargetRefresh) {\r\n            /** If calling from refreshTargetProgress in worklist, will return summary data from targetSummaryStore */\r\n            markingTargetsSummary = targetHelper.getExaminerMarkingTargetProgress;\r\n        }\r\n        else {\r\n            /** If calling from markingmodechanged in worklist, will return summary data from workliststore\r\n             * worklist target summary collection is updated based on resposecount in the worklist\r\n             */\r\n            markingTargetsSummary = worklistStore.instance.getExaminerMarkingTargetProgress(markerOperationModeFactory.operationMode.isSelectedExaminerSTM);\r\n        }\r\n        switch (markingMode) {\r\n            case enums.MarkingMode.LiveMarking:\r\n                if (worklistStore.instance.currentWorklistType === enums.WorklistType.atypical) {\r\n                    worklistTabDetails = this.getAtypicalWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.LiveMarking; }).first());\r\n                }\r\n                else {\r\n                    worklistTabDetails = this.getLiveWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.LiveMarking; }).first());\r\n                }\r\n                break;\r\n            case enums.MarkingMode.Practice:\r\n                worklistTabDetails = this.getPracticeWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.Practice; }).first());\r\n                break;\r\n            case enums.MarkingMode.Approval:\r\n                worklistTabDetails = this.getStandardisationWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.Approval; }).first());\r\n                break;\r\n            case enums.MarkingMode.ES_TeamApproval:\r\n                worklistTabDetails = this.getSecondStandardizationTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.ES_TeamApproval; }).first());\r\n                break;\r\n            case enums.MarkingMode.Remarking:\r\n                worklistTabDetails = this.getRemarkWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.Remarking\r\n                    && x.remarkRequestTypeID === worklistStore.instance.getRemarkRequestType; }).first());\r\n                break;\r\n            case enums.MarkingMode.Simulation:\r\n                worklistTabDetails = this.getSimulationWorklistTabDetails(markingTargetsSummary.filter(function (x) { return x.markingModeID === enums.MarkingMode.Simulation; }).first());\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return worklistTabDetails;\r\n    };\r\n    /**\r\n     * Get the tab details that needs to be shown in the simulation worklist\r\n     * @param targetSummary\r\n     */\r\n    WorklistComponentHelper.getSimulationWorklistTabDetails = function (targetSummary) {\r\n        var worklistTabDetails = [];\r\n        worklistTabDetails.push({\r\n            responseMode: enums.ResponseMode.open,\r\n            responseCount: targetSummary.examinerProgress.openResponsesCount\r\n        });\r\n        return worklistTabDetails;\r\n    };\r\n    return WorklistComponentHelper;\r\n}());\r\nmodule.exports = WorklistComponentHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzczLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvd29ya2xpc3Rjb21wb25lbnRoZWxwZXIudHM/MjIxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCB3b3JrbGlzdFZhbGlkYXRvckZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy93b3JrbGlzdHZhbGlkYXRvcmZhY3RvcnknKTtcclxuaW1wb3J0IHdvcmtsaXN0VmFsaWRhdG9yTGlzdCA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3dvcmtsaXN0dmFsaWRhdG9ybGlzdCcpO1xyXG5pbXBvcnQgc3VibWl0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvc3VibWl0L3N1Ym1pdHN0b3JlJyk7XHJcbmltcG9ydCBjdXN0b21FcnJvciA9IHJlcXVpcmUoJy4uL2Jhc2UvY3VzdG9tZXJyb3InKTtcclxuaW1wb3J0IG1hcmtpbmdUYXJnZXRTdW1tYXJ5ID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3R5cGluZ3MvbWFya2luZ3RhcmdldHN1bW1hcnknKTtcclxuaW1wb3J0IHRhcmdldFN1bW1hcnlTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy93b3JrbGlzdC90YXJnZXRzdW1tYXJ5c3RvcmUnKTtcclxuaW1wb3J0IHRhcmdldEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvdGFyZ2V0L3RhcmdldGhlbHBlcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudHN0b3JlJyk7XHJcbmltcG9ydCBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeSA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvbWFya2Vyb3BlcmF0aW9ubW9kZS9tYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeScpO1xyXG5cclxuLyoqXHJcbiAqIEhlbHBlciBjbGFzcyBmb3Igd29ya2xpc3RcclxuICovXHJcbmNsYXNzIFdvcmtsaXN0Q29tcG9uZW50SGVscGVyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB3aGljaCByZXR1cm5zIGFycmF5IG9mIG1hcmsgZ3JvdXAgaWRzIHRvIHN1Ym1pdFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZU1hcmtncm91cElkQ29sbGVjdGlvbkZvckxpdmVTdWJtaXQod29ya2xpc3REYXRhOiBMaXZlT3BlbldvcmtsaXN0LFxyXG4gICAgICAgIHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWQ6IG51bWJlcik6IEFycmF5PE51bWJlcj4ge1xyXG4gICAgICAgIGxldCBtYXJrR3JvdXBJZHM6IEFycmF5PE51bWJlcj4gPSBuZXcgQXJyYXk8TnVtYmVyPigpO1xyXG4gICAgICAgIGxldCByZWxhdGVkTWFya0dyb3VwSWRzOiBBcnJheTxOdW1iZXI+ID0gbmV3IEFycmF5PE51bWJlcj4oKTtcclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPT09IDApIHtcclxuICAgICAgICAgICAgLyogbG9vcGluZyB0aHJvdWdoIGVhY2ggcmVzcG9uc2UgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHNhbWUgaXMgZWxpZ2libGUgZm9yIHN1Ym1pdCAqL1xyXG4gICAgICAgICAgICB3b3JrbGlzdERhdGEucmVzcG9uc2VzLm1hcChmdW5jdGlvbiAocmVzcG9uc2U6IExpdmVPcGVuUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeS5nZXRWYWxpZGF0b3Iod29ya2xpc3RWYWxpZGF0b3JMaXN0LmxpdmVPcGVuKS5zdWJtaXRCdXR0b25WYWxpZGF0ZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmlzV2hvbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkTWFya0dyb3VwSWRzID0gcmVsYXRlZE1hcmtHcm91cElkcy5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbGF0ZWRNYXJrR3JvdXBJZHNGb3JXaG9sZVJlc3BvbnNlKHJlc3BvbnNlLm1hcmtHcm91cElkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtHcm91cElkcy5wdXNoKHJlc3BvbnNlLm1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHdvcmtsaXN0RGF0YSAmJlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5jb3VudCgpID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5maWx0ZXIoeCA9PiB4Lm1hcmtHcm91cElkID09PSBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKS5maXJzdCgpLmlzV2hvbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgcmVsYXRlZE1hcmtHcm91cElkcyA9IHJlbGF0ZWRNYXJrR3JvdXBJZHMuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVsYXRlZE1hcmtHcm91cElkc0Zvcldob2xlUmVzcG9uc2Uoc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hcmtHcm91cElkcy5wdXNoKHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlbGF0ZWRNYXJrR3JvdXBJZHMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgbWFya0dyb3VwSWRzID0gbWFya0dyb3VwSWRzLmNvbmNhdChyZWxhdGVkTWFya0dyb3VwSWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBtYXJrR3JvdXBJZHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSYXR1cm5zIHRoZSBtYXJrZ3JvdXAgaWRzIG9mIHByYWN0aWNlIHJlc3BvbnNlIHRvIHN1Ym1pdC5cclxuICAgICAqIEBwYXJhbSB7UHJhY3RpY2VPcGVuV29ya2xpc3R9IHdvcmtsaXN0RGF0YVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlTWFya0dyb3VwSWRDb2xsZWN0aW9uRm9yUHJhY3RpY2VTdWJtaXQod29ya2xpc3REYXRhOiBQcmFjdGljZU9wZW5Xb3JrbGlzdCxcclxuICAgICAgICBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkOiBudW1iZXIpOiBBcnJheTxOdW1iZXI+IHtcclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRzOiBBcnJheTxOdW1iZXI+ID0gbmV3IEFycmF5PE51bWJlcj4oKTtcclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPT09IDApIHtcclxuICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5tYXAoZnVuY3Rpb24gKHJlc3BvbnNlOiBQcmFjdGljZU9wZW5SZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RWYWxpZGF0b3JGYWN0b3J5LmdldFZhbGlkYXRvcih3b3JrbGlzdFZhbGlkYXRvckxpc3QucHJhY3RpY2VPcGVuKS5zdWJtaXRCdXR0b25WYWxpZGF0ZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya0dyb3VwSWRzLnB1c2gocmVzcG9uc2UubWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZHMucHVzaChzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hcmtHcm91cElkcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJhdHVybnMgdGhlIG1hcmtncm91cCBpZHMgb2Ygc3RhbmRhcmRpemF0aW9uIHJlc3BvbnNlIHRvIHN1Ym1pdC5cclxuICAgICAqIEBwYXJhbSB7U3RhbmRhcmRpc2F0aW9uT3BlbldvcmtsaXN0fSB3b3JrbGlzdERhdGFcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZU1hcmtHcm91cElkQ29sbGVjdGlvbkZvclN0YW5kYXJkaXphdGlvblN1Ym1pdCh3b3JrbGlzdERhdGE6IFN0YW5kYXJkaXNhdGlvbk9wZW5Xb3JrbGlzdCxcclxuICAgICAgICBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkOiBudW1iZXIpOiBBcnJheTxOdW1iZXI+IHtcclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRzOiBBcnJheTxOdW1iZXI+ID0gbmV3IEFycmF5PE51bWJlcj4oKTtcclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPT09IDApIHtcclxuICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5tYXAoZnVuY3Rpb24gKHJlc3BvbnNlOiBTdGFuZGFyZGlzYXRpb25PcGVuUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeS5nZXRWYWxpZGF0b3Iod29ya2xpc3RWYWxpZGF0b3JMaXN0LnN0YW5kYXJkaXNhdGlvbk9wZW4pLnN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZHMucHVzaChyZXNwb25zZS5tYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcmtHcm91cElkcy5wdXNoKHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWFya0dyb3VwSWRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmF0dXJucyB0aGUgbWFya2dyb3VwIGlkcyBvZiBkaXJlY3RlZCByZW1hcmsgcmVzcG9uc2UgdG8gc3VibWl0LlxyXG4gICAgICogQHBhcmFtIHtTdGFuZGFyZGlzYXRpb25PcGVuV29ya2xpc3R9IHdvcmtsaXN0RGF0YVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlTWFya0dyb3VwSWRDb2xsZWN0aW9uRm9yRGlyZWN0ZWRSZW1hcmtTdWJtaXQod29ya2xpc3REYXRhOiBEaXJlY3RlZFJlbWFya09wZW5Xb3JrbGlzdCxcclxuICAgICAgICBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkOiBudW1iZXIpOiBBcnJheTxOdW1iZXI+IHtcclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRzOiBBcnJheTxOdW1iZXI+ID0gbmV3IEFycmF5PE51bWJlcj4oKTtcclxuICAgICAgICBsZXQgcmVsYXRlZE1hcmtHcm91cElkczogQXJyYXk8TnVtYmVyPiA9IG5ldyBBcnJheTxOdW1iZXI+KCk7XHJcbiAgICAgICAgaWYgKHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldE1hcmtHcm91cElkID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgIC8qIGxvb3BpbmcgdGhyb3VnaCBlYWNoIHJlc3BvbnNlIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBzYW1lIGlzIGVsaWdpYmxlIGZvciBzdWJtaXQgKi9cclxuICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5tYXAoZnVuY3Rpb24gKHJlc3BvbnNlOiBEaXJlY3RlZFJlbWFya09wZW5SZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RWYWxpZGF0b3JGYWN0b3J5LmdldFZhbGlkYXRvcih3b3JrbGlzdFZhbGlkYXRvckxpc3QuZGlyZWN0ZWRSZW1hcmtPcGVuKS5zdWJtaXRCdXR0b25WYWxpZGF0ZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmlzV2hvbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBncm91cGluZyByZWxhdGVkIG1hcmstZ3JvdXAgaWQncyBmb3IgdGhlIHdob2xlIHJlc3BvbnNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkTWFya0dyb3VwSWRzID0gcmVsYXRlZE1hcmtHcm91cElkcy5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbGF0ZWRNYXJrR3JvdXBJZHNGb3JXaG9sZVJlc3BvbnNlKHJlc3BvbnNlLm1hcmtHcm91cElkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtHcm91cElkcy5wdXNoKHJlc3BvbnNlLm1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHdvcmtsaXN0RGF0YSAmJlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5jb3VudCgpID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3REYXRhLnJlc3BvbnNlcy5maWx0ZXIoeCA9PiB4Lm1hcmtHcm91cElkID09PSBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKS5maXJzdCgpLmlzV2hvbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZ3JvdXBpbmcgcmVsYXRlZCBtYXJrLWdyb3VwIGlkJ3MgZm9yIHRoZSB3aG9sZSByZXNwb25zZS5cclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRNYXJrR3JvdXBJZHMgPSByZWxhdGVkTWFya0dyb3VwSWRzLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbGF0ZWRNYXJrR3JvdXBJZHNGb3JXaG9sZVJlc3BvbnNlKHNpbmdsZVJlc3BvbnNlTWFya0dyb3VwSWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZHMucHVzaChzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlbGF0ZWRNYXJrR3JvdXBJZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZHMgPSBtYXJrR3JvdXBJZHMuY29uY2F0KHJlbGF0ZWRNYXJrR3JvdXBJZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1hcmtHcm91cElkcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJhdHVybnMgdGhlIG1hcmtncm91cCBpZHMgb2YgcG9vbGVkIHJlbWFyayByZXNwb25zZSB0byBzdWJtaXQuXHJcbiAgICAgKiBAcGFyYW0ge1Bvb2xlZFJlbWFya09wZW5Xb3JrbGlzdH0gd29ya2xpc3REYXRhXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVNYXJrR3JvdXBJZENvbGxlY3Rpb25Gb3JQb29sZWRSZW1hcmtTdWJtaXQod29ya2xpc3REYXRhOiBQb29sZWRSZW1hcmtPcGVuV29ya2xpc3QsXHJcbiAgICAgICAgc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZDogbnVtYmVyKTogQXJyYXk8TnVtYmVyPiB7XHJcbiAgICAgICAgbGV0IG1hcmtHcm91cElkczogQXJyYXk8TnVtYmVyPiA9IG5ldyBBcnJheTxOdW1iZXI+KCk7XHJcbiAgICAgICAgbGV0IHJlbGF0ZWRNYXJrR3JvdXBJZHM6IEFycmF5PE51bWJlcj4gPSBuZXcgQXJyYXk8TnVtYmVyPigpO1xyXG4gICAgICAgIGlmIChzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvKiBsb29waW5nIHRocm91Z2ggZWFjaCByZXNwb25zZSB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgc2FtZSBpcyBlbGlnaWJsZSBmb3Igc3VibWl0ICovXHJcbiAgICAgICAgICAgIHdvcmtsaXN0RGF0YS5yZXNwb25zZXMubWFwKGZ1bmN0aW9uIChyZXNwb25zZTogUG9vbGVkUmVtYXJrT3BlblJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFZhbGlkYXRvckZhY3RvcnkuZ2V0VmFsaWRhdG9yKHdvcmtsaXN0VmFsaWRhdG9yTGlzdC5kaXJlY3RlZFJlbWFya09wZW4pLnN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBncm91cGluZyByZWxhdGVkIG1hcmstZ3JvdXAgaWQncyBmb3IgdGhlIHdob2xlIHJlc3BvbnNlLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pc1dob2xlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZE1hcmtHcm91cElkcyA9IHJlbGF0ZWRNYXJrR3JvdXBJZHMuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZWxhdGVkTWFya0dyb3VwSWRzRm9yV2hvbGVSZXNwb25zZShyZXNwb25zZS5tYXJrR3JvdXBJZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZHMucHVzaChyZXNwb25zZS5tYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh3b3JrbGlzdERhdGEgJiZcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0RGF0YS5yZXNwb25zZXMuY291bnQoKSA+IDAgJiZcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0RGF0YS5yZXNwb25zZXMuZmlsdGVyKHggPT4geC5tYXJrR3JvdXBJZCA9PT0gc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZCkuZmlyc3QoKS5pc1dob2xlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIGdyb3VwaW5nIHJlbGF0ZWQgbWFyay1ncm91cCBpZCdzIGZvciB0aGUgd2hvbGUgcmVzcG9uc2UuXHJcbiAgICAgICAgICAgICAgICByZWxhdGVkTWFya0dyb3VwSWRzID0gcmVsYXRlZE1hcmtHcm91cElkcy5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZWxhdGVkTWFya0dyb3VwSWRzRm9yV2hvbGVSZXNwb25zZShzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFya0dyb3VwSWRzLnB1c2goc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZWxhdGVkTWFya0dyb3VwSWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbWFya0dyb3VwSWRzID0gbWFya0dyb3VwSWRzLmNvbmNhdChyZWxhdGVkTWFya0dyb3VwSWRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hcmtHcm91cElkcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB3aGljaCByZXR1cm5zIGFycmF5IG9mIG1hcmsgZ3JvdXAgaWRzIHRvIHN1Ym1pdCBzaW11bGF0aW9uIHJlc3BvbnNlL3NcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVNYXJrZ3JvdXBJZENvbGxlY3Rpb25Gb3JTaW11bGF0aW9uU3VibWl0KHdvcmtsaXN0RGF0YTogTGl2ZU9wZW5Xb3JrbGlzdCxcclxuICAgICAgICBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkOiBudW1iZXIpOiBBcnJheTxOdW1iZXI+IHtcclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRzOiBBcnJheTxOdW1iZXI+ID0gbmV3IEFycmF5PE51bWJlcj4oKTtcclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPT09IDApIHtcclxuICAgICAgICAgICAgLyogbG9vcGluZyB0aHJvdWdoIGVhY2ggcmVzcG9uc2UgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHNhbWUgaXMgZWxpZ2libGUgZm9yIHN1Ym1pdCAqL1xyXG4gICAgICAgICAgICB3b3JrbGlzdERhdGEucmVzcG9uc2VzLm1hcChmdW5jdGlvbiAocmVzcG9uc2U6IFNpbXVsYXRpb25PcGVuUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VmFsaWRhdG9yRmFjdG9yeS5nZXRWYWxpZGF0b3Iod29ya2xpc3RWYWxpZGF0b3JMaXN0LnNpbXVsYXRpb25PcGVuKS5zdWJtaXRCdXR0b25WYWxpZGF0ZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya0dyb3VwSWRzLnB1c2gocmVzcG9uc2UubWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZHMucHVzaChzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hcmtHcm91cElkcztcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHdoaWNoIHJldHVybnMgYXJyYXkgb2YgbWFyayBncm91cCBpZHMgdG8gc3VibWl0XHJcblx0ICogQHBhcmFtIHdvcmtsaXN0RGF0YVxyXG5cdCAqIEBwYXJhbSBzaW5nbGVSZXNwb25zZU1hcmtHcm91cElkXHJcblx0ICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZU1hcmtncm91cElkQ29sbGVjdGlvbkZvckF0eXBpY2FsU3VibWl0KHdvcmtsaXN0RGF0YTogRGlyZWN0ZWRSZW1hcmtPcGVuV29ya2xpc3QsXHJcbiAgICAgICAgc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZDogbnVtYmVyKTogQXJyYXk8TnVtYmVyPiB7XHJcblxyXG4gICAgICAgIGxldCBtYXJrR3JvdXBJZHM6IEFycmF5PE51bWJlcj4gPSBuZXcgQXJyYXk8TnVtYmVyPigpO1xyXG5cclxuICAgICAgICAvKiBDb2xsZWN0aW9uIG9mIE1hcmsgR3JvdXAgSWRzIG9mIHJlYWx0ZWQgUklHcyBpbiBvdGhlciBRSUdzICovXHJcbiAgICAgICAgbGV0IHJlbGF0ZWRNYXJrR3JvdXBJZHM6IEFycmF5PE51bWJlcj4gPSBuZXcgQXJyYXk8TnVtYmVyPigpO1xyXG5cclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPT09IDApIHtcclxuICAgICAgICAgICAgLyogbG9vcGluZyB0aHJvdWdoIGVhY2ggcmVzcG9uc2UgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHNhbWUgaXMgZWxpZ2libGUgZm9yIHN1Ym1pdCAqL1xyXG4gICAgICAgICAgICB3b3JrbGlzdERhdGEucmVzcG9uc2VzLm1hcChmdW5jdGlvbiAocmVzcG9uc2U6IERpcmVjdGVkUmVtYXJrT3BlblJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFZhbGlkYXRvckZhY3RvcnkuZ2V0VmFsaWRhdG9yKHdvcmtsaXN0VmFsaWRhdG9yTGlzdC5hdHlwaWNhbE9wZW4pLnN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZE1hcmtHcm91cElkcyA9IHJlbGF0ZWRNYXJrR3JvdXBJZHMuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbGF0ZWRNYXJrR3JvdXBJZHNGb3JXaG9sZVJlc3BvbnNlKHJlc3BvbnNlLm1hcmtHcm91cElkKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtHcm91cElkcy5wdXNoKHJlc3BvbnNlLm1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHJlbGF0ZWRNYXJrR3JvdXBJZHMgPSByZWxhdGVkTWFya0dyb3VwSWRzLmNvbmNhdChcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVsYXRlZE1hcmtHcm91cElkc0Zvcldob2xlUmVzcG9uc2Uoc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZCkpO1xyXG5cclxuICAgICAgICAgICAgbWFya0dyb3VwSWRzLnB1c2goc2luZ2xlUmVzcG9uc2VNYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVsYXRlZE1hcmtHcm91cElkcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZHMgPSBtYXJrR3JvdXBJZHMuY29uY2F0KHJlbGF0ZWRNYXJrR3JvdXBJZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1hcmtHcm91cElkcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZXJyb3IgbWVzc2FnZSBrZXkgdG8gc2hvdyB3aGVuIHN1Ym1pdCByZXNwb25zZSBmYWlsc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNob3dNZXNzYWdlT25TdWJtaXRSZXNwb25zZShzdWJtaXR0ZWRSZXNwb25zZUNvdW50OiBudW1iZXIpOiBTdWJtaXRSZXNwb25zZUVycm9yTWVzc2FnZUFyZ3VtZW50cyB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2VLZXk6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGxldCBtZXNzYWdlSGVhZGVyS2V5OiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldEVycm9yQ29kZSA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGlzSW5TdGFuZGFyZGlzYXRpb253b3JrbGlzdCA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnByYWN0aWNlIHx8XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5zdGFuZGFyZGlzYXRpb24gfHxcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnNlY29uZHN0YW5kYXJkaXNhdGlvbjtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHN0YW5kYXJkaXNhdGlvbiB3b3JrbGlzdCwgdGhlbiBubyBuZWVkIHRvIGNoZWNrIHRoZSBub3QgYXBwcm92ZWQgc3RhdHVzXHJcbiAgICAgICAgICAgIGlmIChzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRTdWJtaXRSZXNwb25zZVJldHVybi5leGFtaW5lckFwcHJvdmFsU3RhdHVzID09PSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLlN1c3BlbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldFN1Ym1pdFJlc3BvbnNlUmV0dXJuLmhhc1F1YWxpdHlGZWVkYmFja091dHN0YW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUtleSA9ICdtYXJraW5nLndvcmtsaXN0LmFwcHJvdmFsLXN0YXR1cy1jaGFuZ2VkLWRpYWxvZy5ib2R5LXF1YWxpdHktZmVlZGJhY2snO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlS2V5ID0gJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmJvZHknO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlcktleSA9IHN1Ym1pdHRlZFJlc3BvbnNlQ291bnQgPT09IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmhlYWRlcicgOiAnbWFya2luZy53b3JrbGlzdC5hcHByb3ZhbC1zdGF0dXMtY2hhbmdlZC1kaWFsb2cuaGVhZGVyJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRTdWJtaXRSZXNwb25zZVJldHVybi5leGFtaW5lckFwcHJvdmFsU3RhdHVzID09PSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLk5vdEFwcHJvdmVkICYmXHJcbiAgICAgICAgICAgICAgICAhaXNJblN0YW5kYXJkaXNhdGlvbndvcmtsaXN0ICYmXHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGUgIT09IGVudW1zLldvcmtsaXN0VHlwZS5zaW11bGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlS2V5ID0gJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmJvZHknO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlcktleSA9IHN1Ym1pdHRlZFJlc3BvbnNlQ291bnQgPT09IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmhlYWRlcicgOiAnbWFya2luZy53b3JrbGlzdC5hcHByb3ZhbC1zdGF0dXMtY2hhbmdlZC1kaWFsb2cuaGVhZGVyJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0RXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdWJtaXRSZXNwb25zZUVycm9yQ29kZS5yZXNwb25zZU5vdEZ1bGx5TWFya2VkOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3VibWl0UmVzcG9uc2VFcnJvckNvZGUucmVzcG9uc2VIYXNFeGNlcHRpb25zOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3VibWl0UmVzcG9uc2VFcnJvckNvZGUuYWxsU0xBT3NOb3RBbm5vdGF0ZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdWJtaXRSZXNwb25zZUVycm9yQ29kZS5hbGxQYWdlc05vdEFubm90YXRlZDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlN1Ym1pdFJlc3BvbnNlRXJyb3JDb2RlLm9uSG9sZDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlN1Ym1pdFJlc3BvbnNlRXJyb3JDb2RlLm1hbmRhdGVNYXJrc2NoZW1lTm90Q29tbWVudGVkOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3VibWl0UmVzcG9uc2VFcnJvckNvZGUubm90QWxsRmlsZXNWaWV3ZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdWJtaXRSZXNwb25zZUVycm9yQ29kZS5oYXNab25pbmdFeGNlcHRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXJLZXkgPSBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCA+IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3Quc3VibWl0LXJlc3BvbnNlLWRpYWxvZy5oZWFkZXInICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1hbGwtcmVzcG9uc2VzLWRpYWxvZy5oZWFkZXInO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlS2V5ID0gc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPiAwID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmJvZHktc2luZ2xlLXJlc3BvbnNlLW5vdC1zdWJtaXR0ZWQnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmJvZHktc29tZS1yZXNwb25zZXMtbm90LXN1Ym1pdHRlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3VibWl0UmVzcG9uc2VFcnJvckNvZGUucmVzcG9uc2VBbHJlYWR5U3VibWl0dGVkOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSGVhZGVyS2V5ID0gJ21hcmtpbmcud29ya2xpc3Quc3VibWl0LXJlc3BvbnNlLWRpYWxvZy5oZWFkZXInO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUtleSA9ICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmJvZHktc2luZ2xlLXJlc3BvbnNlLWFscmVhZHktc3VibWl0dGVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXJLZXkgPSAnbWFya2luZy53b3JrbGlzdC5zdWJtaXQtYWxsLXJlc3BvbnNlcy1kaWFsb2cuaGVhZGVyJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VLZXkgPSAnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1zdWJtaXNzaW9uLWVycm9yLWRpYWxvZy5ib2R5LXNvbWUtcmVzcG9uc2VzLWFscmVhZHktc3VibWl0dGVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLlN1Ym1pdFJlc3BvbnNlRXJyb3JDb2RlLmV4YW1pbmVyTm90QXBwcm92ZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VLZXkgPSAnbWFya2luZy53b3JrbGlzdC5hcHByb3ZhbC1zdGF0dXMtY2hhbmdlZC1kaWFsb2cuYm9keS1yZWxhdGVkUUlHJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlcktleSA9IHN1Ym1pdHRlZFJlc3BvbnNlQ291bnQgPT09IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2Utc3VibWlzc2lvbi1lcnJvci1kaWFsb2cuaGVhZGVyJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5hcHByb3ZhbC1zdGF0dXMtY2hhbmdlZC1kaWFsb2cuaGVhZGVyJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5TdWJtaXRSZXNwb25zZUVycm9yQ29kZS5leGFtaW5lclN1c3BlbmRlZDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldFN1Ym1pdFJlc3BvbnNlUmV0dXJuLmhhc1F1YWxpdHlGZWVkYmFja091dHN0YW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlS2V5ID0gJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmJvZHktcXVhbGl0eS1mZWVkYmFjayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlS2V5ID0gJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmJvZHknO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXJLZXkgPSBzdWJtaXR0ZWRSZXNwb25zZUNvdW50ID09PSAwID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmhlYWRlcicgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmhlYWRlcic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuU3VibWl0UmVzcG9uc2VFcnJvckNvZGUuZXhhbWluZXJXaXRoZHJhd246XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vVGhpcyBjb2RlIGFkZGVkIGZvciB3aG9sZSByZXNwb25zZSBjYXNlIGFuZCB0aGUgZXhhbWluZXJBcHByb3ZhbFN0YXR1cyBjb250YWlucyBvbmx5IGN1cnJlbnQgcWln4oCZcyBzdGF0dXMsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2J1dCBTdWJtaXRSZXNwb25zZUVycm9yQ29kZSBjb250YWlucyBzdGF0dXMgYWdhaW5zdCBhbnkgcWlnIGV0Yy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUtleSA9ICdtYXJraW5nLndvcmtsaXN0LmFwcHJvdmFsLXN0YXR1cy1jaGFuZ2VkLWRpYWxvZy5ib2R5LXdpdGhkcmF3bic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXJLZXkgPSBzdWJtaXR0ZWRSZXNwb25zZUNvdW50ID09PSAwID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLXN1Ym1pc3Npb24tZXJyb3ItZGlhbG9nLmhlYWRlcicgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuYXBwcm92YWwtc3RhdHVzLWNoYW5nZWQtZGlhbG9nLmhlYWRlcic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VLZXkgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1lc3NhZ2VLZXkgIT09ICcnICYmIHN1Ym1pdHRlZFJlc3BvbnNlQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgLyoqIENyZWF0aW5nIGN1c3RvbSBlcnJvciBtZXNzYWdlIHRvIHNob3cgKi9cclxuICAgICAgICAgICAgbGV0IHN1Ym1pdEVycm9yTWVzc2FnZTogU3VibWl0UmVzcG9uc2VFcnJvck1lc3NhZ2VBcmd1bWVudHMgPSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlSGVhZGVyOiBtZXNzYWdlSGVhZGVyS2V5LFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQ6IG1lc3NhZ2VLZXlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHN1Ym1pdEVycm9yTWVzc2FnZTtcclxuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2VLZXkgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIC8qKiBDcmVhdGluZyBjdXN0b20gZXJyb3IgbWVzc2FnZSB0byBzaG93ICovXHJcbiAgICAgICAgICAgIGxldCBzdWJtaXRSZXNwb25zZUVycm9yID0gbmV3IGN1c3RvbUVycm9yKCdTdWJtaXQnLCBtZXNzYWdlS2V5LCBtZXNzYWdlSGVhZGVyS2V5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5vbmVycm9yKCcnLCAnJywgbnVsbCwgbnVsbCwgc3VibWl0UmVzcG9uc2VFcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgYXV0byBhcHByb3ZhbCBTZWNvbmRhcnkgY29udGVudFxyXG4gICAgICogQHBhcmFtIHN1Ym1pdHRlZFJlc3BvbnNlQ291bnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRBdXRvQXBwcm92YWxTZWNvbmRhcnlDb250ZW50KHN1Ym1pdHRlZFJlc3BvbnNlQ291bnQ6IG51bWJlcik6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIGxldCBkZWxldGVSZXNwb25zZU9uQXV0b0FwcHJvdmFsOiBib29sZWFuICA9IHRhcmdldEhlbHBlci5pc1Jlc3BvbnNlc0RlbGV0ZWRPbkF1dG9BcHByb3ZhbChzdWJtaXR0ZWRSZXNwb25zZUNvdW50KTtcclxuXHJcbiAgICAgICAgcmV0dXJuICgodGFyZ2V0SGVscGVyLmN1cnJlbnRNYXJraW5nTW9kZSA9PT0gZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsXHJcbiAgICAgICAgICAgICYmIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXIgPT09IGZhbHNlKSA/XHJcbiAgICAgICAgICAgICgoZGVsZXRlUmVzcG9uc2VPbkF1dG9BcHByb3ZhbCA9PT0gZmFsc2UpID9cclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LmF1dG8tYXBwcm92ZWQtZGlhbG9nLmJvZHktc3RhbmRhcmRpc2F0aW9uJ1xyXG4gICAgICAgICAgICAgICAgOiAnbWFya2luZy53b3JrbGlzdC5hdXRvLWFwcHJvdmVkLWRpYWxvZy5ib2R5LWV4Y2Vzcy1zZWNvbmQtc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlcy1yZW1vdmVkJylcclxuICAgICAgICAgICAgOiAoKHRhcmdldEhlbHBlci5jdXJyZW50TWFya2luZ01vZGUgPT09IGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsXHJcbiAgICAgICAgICAgICAgICAmJiBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5pc0VsZWN0cm9uaWNTdGFuZGFyZGlzYXRpb25UZWFtTWVtYmVyID09PSBmYWxzZSkgP1xyXG4gICAgICAgICAgICAgICAgKChkZWxldGVSZXNwb25zZU9uQXV0b0FwcHJvdmFsID09PSBmYWxzZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LmF1dG8tYXBwcm92ZWQtZGlhbG9nLmJvZHktc3RhbmRhcmRpc2F0aW9uJ1xyXG4gICAgICAgICAgICAgICAgICAgIDogJ21hcmtpbmcud29ya2xpc3QuYXV0by1hcHByb3ZlZC1kaWFsb2cuYm9keS1leGNlc3Mtc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlcy1yZW1vdmVkJylcclxuXHJcbiAgICAgICAgICAgICAgICA6ICgoZGVsZXRlUmVzcG9uc2VPbkF1dG9BcHByb3ZhbCA9PT0gZmFsc2UpID9cclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5hdXRvLWFwcHJvdmVkLWRpYWxvZy5ib2R5LXN0bS1zdGFuZGFyZGlzYXRpb24nXHJcbiAgICAgICAgICAgICAgICAgICAgOiAnbWFya2luZy53b3JrbGlzdC5hdXRvLWFwcHJvdmVkLWRpYWxvZy5ib2R5LWV4Y2Vzcy1zdG0tc3RhbmRhcmRpc2F0aW9uLXJlc3BvbnNlcy1yZW1vdmVkJykpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIG1hcmtncm91cCBpZCBjb2xsZWN0aW9uIGZvciByZXNwb25zZSBzdWJtaXNzaW9uXHJcbiAgICAgKiBAcGFyYW0ge2VudW1zLk1hcmtpbmdNb2RlfSBtYXJraW5nTW9kZVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRNYXJrZ3JvdXBJZENvbGxlY3Rpb25Gb3JTdWJtaXQobWFya2luZ01vZGU6IGVudW1zLk1hcmtpbmdNb2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChtYXJraW5nTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLkxpdmVNYXJraW5nOlxyXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSAhPT0gZW51bXMuV29ya2xpc3RUeXBlLmF0eXBpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdvcmtsaXN0Q29tcG9uZW50SGVscGVyLmNyZWF0ZU1hcmtncm91cElkQ29sbGVjdGlvbkZvckxpdmVTdWJtaXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0TGl2ZU9wZW5Xb3JrbGlzdERldGFpbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldE1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBXb3JrbGlzdENvbXBvbmVudEhlbHBlci5jcmVhdGVNYXJrZ3JvdXBJZENvbGxlY3Rpb25Gb3JBdHlwaWNhbFN1Ym1pdChcclxuICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldEF0eXBpY2FsT3BlbldvcmtsaXN0RGV0YWlscyxcclxuICAgICAgICAgICAgICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuUHJhY3RpY2U6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gV29ya2xpc3RDb21wb25lbnRIZWxwZXIuY3JlYXRlTWFya0dyb3VwSWRDb2xsZWN0aW9uRm9yUHJhY3RpY2VTdWJtaXQoXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRQcmFjdGljZU9wZW5Xb3JrbGlzdERldGFpbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFdvcmtsaXN0Q29tcG9uZW50SGVscGVyLmNyZWF0ZU1hcmtHcm91cElkQ29sbGVjdGlvbkZvclN0YW5kYXJkaXphdGlvblN1Ym1pdChcclxuICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFN0YW5kYXJkaXNhdGlvbk9wZW5Xb3JrbGlzdERldGFpbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLkVTX1RlYW1BcHByb3ZhbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBXb3JrbGlzdENvbXBvbmVudEhlbHBlci5jcmVhdGVNYXJrR3JvdXBJZENvbGxlY3Rpb25Gb3JTdGFuZGFyZGl6YXRpb25TdWJtaXQoXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRTZWNvbmRTdGFuZGFyZGlzYXRpb25PcGVuV29ya2xpc3REZXRhaWxzLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldE1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5SZW1hcmtpbmc6XHJcbiAgICAgICAgICAgICAgICBpZiAod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5pc0RpcmVjdGVkUmVtYXJrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdvcmtsaXN0Q29tcG9uZW50SGVscGVyLmNyZWF0ZU1hcmtHcm91cElkQ29sbGVjdGlvbkZvckRpcmVjdGVkUmVtYXJrU3VibWl0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldERpcmVjdGVkUmVtYXJrT3BlbldvcmtsaXN0RGV0YWlscyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV29ya2xpc3RDb21wb25lbnRIZWxwZXIuY3JlYXRlTWFya0dyb3VwSWRDb2xsZWN0aW9uRm9yUG9vbGVkUmVtYXJrU3VibWl0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFBvb2xlZFJlbWFya09wZW5Xb3JrbGlzdERldGFpbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldE1hcmtHcm91cElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5TaW11bGF0aW9uOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFdvcmtsaXN0Q29tcG9uZW50SGVscGVyLmNyZWF0ZU1hcmtncm91cElkQ29sbGVjdGlvbkZvclNpbXVsYXRpb25TdWJtaXQoXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRTaW11bGF0aW9uT3BlbldvcmtsaXN0RGV0YWlscyxcclxuICAgICAgICAgICAgICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHJlbWFyayByZXF1ZXN0IHR5cGVcclxuICAgICAqIEBwYXJhbSB3b3JrbGlzdFR5cGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBnZXRSZW1hcmtSZXF1ZXN0VHlwZSh3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSk6IGVudW1zLlJlbWFya1JlcXVlc3RUeXBlIHtcclxuICAgICAgICByZXR1cm4gd29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuZGlyZWN0ZWRSZW1hcmsgfHwgd29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUucG9vbGVkUmVtYXJrID9cclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZW1hcmtSZXF1ZXN0VHlwZSA6IGVudW1zLlJlbWFya1JlcXVlc3RUeXBlLlVua25vd247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgaXMgZGlyZWN0ZWQgcmVtYXJrXHJcbiAgICAgKiBAcGFyYW0gd29ya2xpc3RUeXBlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SXNEaXJlY3RlZFJlbWFyayh3b3JrbGlzdFR5cGU6IGVudW1zLldvcmtsaXN0VHlwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB3b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5kaXJlY3RlZFJlbWFyayB8fCB3b3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5wb29sZWRSZW1hcmsgP1xyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzRGlyZWN0ZWRSZW1hcmsgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB3aGljaCByZXR1cm5zIHdoZXRoZXIgdGhlIHF1YWxpdHkgZmVlZGJhY2sgcmVsYXRlZCBtZXNzYWdlIHNob3VsZCBiZSBzaG93biBvbiBzdWJtaXR0aW5nXHJcbiAgICAgKiBzZWVkcyBhY2N1cmF0ZWx5L3dpdGhpbiB0b2xlcmFuY2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBzaG91bGRTaG93UXVhbGl0eUZlZWRiYWNrTWVzc2FnZSgpOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgbGV0IF9hdXRvbWF0aWNRdWFsaXR5RmVlZGJhY2s6IGJvb2xlYW4gPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuQXV0b21hdGljUXVhbGl0eUZlZWRiYWNrLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIGxldCBfc2VlZFN1Ym1pc3Npb25TdGF0dXM6IGVudW1zLlNlZWRTdWJtaXNzaW9uU3RhdHVzID0gc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0U3VibWl0UmVzcG9uc2VSZXR1cm4uc2VlZFN1Ym1pc3Npb25TdGF0dXM7XHJcbiAgICAgICAgcmV0dXJuIF9hdXRvbWF0aWNRdWFsaXR5RmVlZGJhY2sgJiZcclxuICAgICAgICAgICAgX3NlZWRTdWJtaXNzaW9uU3RhdHVzID09PSBlbnVtcy5TZWVkU3VibWlzc2lvblN0YXR1cy5TZWVkc1N1Ym1pdHRlZFdpdGhpblRvbGVyYW5jZU9yQWNjdXJhdGVseTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgdGFiIGRldGFpbHMgdGhhdCBuZWVkcyB0byBiZSBzaG93biBpbiB0aGUgbGl2ZSB3b3JrbGlzdFxyXG4gICAgICogQHBhcmFtIHRhcmdldFN1bW1hcnlcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0TGl2ZVdvcmtsaXN0VGFiRGV0YWlscyh0YXJnZXRTdW1tYXJ5OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSk6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4ge1xyXG4gICAgICAgIGxldCB3b3JrbGlzdFRhYkRldGFpbHM6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gT25seSBjbG9zZWQgdGFiIGlzIGRpc3BsYXlpbmcgaW4gaGVscCBleGFtaW5lcnMsXHJcbiAgICAgICAgaWYgKHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRUZWFtTWFuYWdlbWVudFRhYiAhPT0gZW51bXMuVGVhbU1hbmFnZW1lbnQuSGVscEV4YW1pbmVycykge1xyXG4gICAgICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuLFxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLm9wZW5SZXNwb25zZXNDb3VudFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZyxcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlQ291bnQ6IHRhcmdldFN1bW1hcnkuZXhhbWluZXJQcm9ncmVzcy5wZW5kaW5nUmVzcG9uc2VzQ291bnRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmNsb3NlZFJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHdvcmtsaXN0VGFiRGV0YWlscztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgdGFiIGRldGFpbHMgdGhhdCBuZWVkcyB0byBiZSBzaG93biBpbiB0aGUgYXR5cGljYWwgd29ya2xpc3RcclxuICAgICAqIEBwYXJhbSB0YXJnZXRTdW1tYXJ5XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIGdldEF0eXBpY2FsV29ya2xpc3RUYWJEZXRhaWxzKHRhcmdldFN1bW1hcnk6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KTogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiB7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0VGFiRGV0YWlsczogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiA9IFtdO1xyXG5cclxuICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sXHJcbiAgICAgICAgICAgIHJlc3BvbnNlQ291bnQ6IChpc05hTih0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxPcGVuUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgICAgICAgICA/IDAgOiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxPcGVuUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzLnB1c2goe1xyXG4gICAgICAgICAgICByZXNwb25zZU1vZGU6IGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nLFxyXG4gICAgICAgICAgICByZXNwb25zZUNvdW50OiAoaXNOYU4odGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsUGVuZGluZ1Jlc3BvbnNlc0NvdW50KVxyXG4gICAgICAgICAgICAgICAgPyAwIDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsUGVuZGluZ1Jlc3BvbnNlc0NvdW50KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLFxyXG4gICAgICAgICAgICByZXNwb25zZUNvdW50OiAoaXNOYU4odGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmF0eXBpY2FsQ2xvc2VkUmVzcG9uc2VzQ291bnQpXHJcbiAgICAgICAgICAgICAgICA/IDAgOiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3MuYXR5cGljYWxDbG9zZWRSZXNwb25zZXNDb3VudClcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gd29ya2xpc3RUYWJEZXRhaWxzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSB0YWIgZGV0YWlscyB0aGF0IG5lZWRzIHRvIGJlIHNob3duIGluIHRoZSBsaXZlIHdvcmtsaXN0XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0U3VtbWFyeVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRQcmFjdGljZVdvcmtsaXN0VGFiRGV0YWlscyh0YXJnZXRTdW1tYXJ5OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSk6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4ge1xyXG4gICAgICAgIGxldCB3b3JrbGlzdFRhYkRldGFpbHM6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4gPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKCF0YXJnZXRTdW1tYXJ5LmlzVGFyZ2V0Q29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZUNvdW50OiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3Mub3BlblJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmNsb3NlZFJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHdvcmtsaXN0VGFiRGV0YWlscztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgU3RhbmRhcmRpc2F0aW9uV29ya2xpc3QgVGFiRGV0YWlsc1xyXG4gICAgICogQHBhcmFtIHttYXJraW5nVGFyZ2V0U3VtbWFyeX0gdGFyZ2V0U3VtbWFyeVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U3RhbmRhcmRpc2F0aW9uV29ya2xpc3RUYWJEZXRhaWxzKHRhcmdldFN1bW1hcnk6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KTogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiB7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0VGFiRGV0YWlsczogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiA9IFtdO1xyXG5cclxuICAgICAgICBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5zaG91bGREaXNwbGF5U3RhbmRhcmRpc2F0aW9uT3BlblRhYih0YXJnZXRTdW1tYXJ5KSkge1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0SGVscGVyLmlzRVNUYXJnZXRDb21wbGV0ZWQoZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLm9wZW5SZXNwb25zZXNDb3VudFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLFxyXG4gICAgICAgICAgICByZXNwb25zZUNvdW50OiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3MuY2xvc2VkUmVzcG9uc2VzQ291bnRcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gd29ya2xpc3RUYWJEZXRhaWxzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBTZWNvbmRTdGFuZGFyZGl6YXRpb24gVGFiRGV0YWlsc1xyXG4gICAgICogQHBhcmFtIHttYXJraW5nVGFyZ2V0U3VtbWFyeX0gdGFyZ2V0U3VtbWFyeVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U2Vjb25kU3RhbmRhcmRpemF0aW9uVGFiRGV0YWlscyh0YXJnZXRTdW1tYXJ5OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSk6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4ge1xyXG4gICAgICAgIGxldCB3b3JrbGlzdFRhYkRldGFpbHM6IEFycmF5PFdvcmtsaXN0VGFiRGV0YWlscz4gPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuc2hvdWxkRGlzcGxheVN0YW5kYXJkaXNhdGlvbk9wZW5UYWIodGFyZ2V0U3VtbWFyeSkpIHtcclxuICAgICAgICAgICAgaWYgKHRhcmdldEhlbHBlci5pc0VTVGFyZ2V0Q29tcGxldGVkKGVudW1zLk1hcmtpbmdNb2RlLkVTX1RlYW1BcHByb3ZhbCkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUub3BlbixcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUNvdW50OiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3Mub3BlblJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB3b3JrbGlzdFRhYkRldGFpbHMucHVzaCh7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCxcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLmNsb3NlZFJlc3BvbnNlc0NvdW50XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHdvcmtsaXN0VGFiRGV0YWlscztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgdGFiIGRldGFpbHMgdGhhdCBuZWVkcyB0byBiZSBzaG93biBpbiB0aGUgcmVtYXJrIHdvcmtsaXN0XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0U3VtbWFyeVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRSZW1hcmtXb3JrbGlzdFRhYkRldGFpbHModGFyZ2V0U3VtbWFyeTogbWFya2luZ1RhcmdldFN1bW1hcnkpOiBBcnJheTxXb3JrbGlzdFRhYkRldGFpbHM+IHtcclxuICAgICAgICBsZXQgd29ya2xpc3RUYWJEZXRhaWxzOiBBcnJheTxXb3JrbGlzdFRhYkRldGFpbHM+ID0gW107XHJcblxyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUub3BlbixcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLm9wZW5SZXNwb25zZXNDb3VudFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUucGVuZGluZyxcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLnBlbmRpbmdSZXNwb25zZXNDb3VudFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLFxyXG4gICAgICAgICAgICByZXNwb25zZUNvdW50OiB0YXJnZXRTdW1tYXJ5LmV4YW1pbmVyUHJvZ3Jlc3MuY2xvc2VkUmVzcG9uc2VzQ291bnRcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gd29ya2xpc3RUYWJEZXRhaWxzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgd29ya2xpc3QgdGFiIGRldGFpbHNcclxuICAgICAqIEBwYXJhbSB7ZW51bXMuTWFya2luZ01vZGV9IG1hcmtpbmdNb2RlXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFdvcmtsaXN0VGFiRGV0YWlscyhtYXJraW5nTW9kZTogZW51bXMuTWFya2luZ01vZGUsIGlzVGFyZ2V0UmVmcmVzaDogYm9vbGVhbiA9IGZhbHNlKTogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiB7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0VGFiRGV0YWlsczogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiA9IFtdO1xyXG4gICAgICAgIGxldCBtYXJraW5nVGFyZ2V0c1N1bW1hcnk6IEltbXV0YWJsZS5MaXN0PG1hcmtpbmdUYXJnZXRTdW1tYXJ5PjtcclxuXHJcbiAgICAgICAgLyoqIEdldHRpbmcgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeSBmcm9tIHdvcmtsaXN0IHN0b3JlLFxyXG4gICAgICAgICAqIGl0IHdpbGwgYmUgdXBkYXRlZCBpZiB0aGUgd29ya2xpc3QgcmVzcG9uc2UgY29sbGVjdGlvbiBjaGFuZ2VzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKGlzVGFyZ2V0UmVmcmVzaCkge1xyXG4gICAgICAgICAgICAvKiogSWYgY2FsbGluZyBmcm9tIHJlZnJlc2hUYXJnZXRQcm9ncmVzcyBpbiB3b3JrbGlzdCwgd2lsbCByZXR1cm4gc3VtbWFyeSBkYXRhIGZyb20gdGFyZ2V0U3VtbWFyeVN0b3JlICovXHJcbiAgICAgICAgICAgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeSA9IHRhcmdldEhlbHBlci5nZXRFeGFtaW5lck1hcmtpbmdUYXJnZXRQcm9ncmVzcztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiogSWYgY2FsbGluZyBmcm9tIG1hcmtpbmdtb2RlY2hhbmdlZCBpbiB3b3JrbGlzdCwgd2lsbCByZXR1cm4gc3VtbWFyeSBkYXRhIGZyb20gd29ya2xpc3RzdG9yZVxyXG4gICAgICAgICAgICAgKiB3b3JrbGlzdCB0YXJnZXQgc3VtbWFyeSBjb2xsZWN0aW9uIGlzIHVwZGF0ZWQgYmFzZWQgb24gcmVzcG9zZWNvdW50IGluIHRoZSB3b3JrbGlzdFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgbWFya2luZ1RhcmdldHNTdW1tYXJ5ID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRFeGFtaW5lck1hcmtpbmdUYXJnZXRQcm9ncmVzcyhcclxuICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTZWxlY3RlZEV4YW1pbmVyU1RNKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoIChtYXJraW5nTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLkxpdmVNYXJraW5nOlxyXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLmF0eXBpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzID0gdGhpcy5nZXRBdHlwaWNhbFdvcmtsaXN0VGFiRGV0YWlscyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2luZ1RhcmdldHNTdW1tYXJ5LmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh4OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSkgPT4geC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZykuZmlyc3QoKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscyA9IHRoaXMuZ2V0TGl2ZVdvcmtsaXN0VGFiRGV0YWlscyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2luZ1RhcmdldHNTdW1tYXJ5LmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh4OiBtYXJraW5nVGFyZ2V0U3VtbWFyeSkgPT4geC5tYXJraW5nTW9kZUlEID09PSBlbnVtcy5NYXJraW5nTW9kZS5MaXZlTWFya2luZykuZmlyc3QoKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZTpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscyA9IHRoaXMuZ2V0UHJhY3RpY2VXb3JrbGlzdFRhYkRldGFpbHMoXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2luZ1RhcmdldHNTdW1tYXJ5LmZpbHRlcigoeDogbWFya2luZ1RhcmdldFN1bW1hcnkpID0+IHgubWFya2luZ01vZGVJRCA9PT0gZW51bXMuTWFya2luZ01vZGUuUHJhY3RpY2UpLmZpcnN0KClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbDpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscyA9IHRoaXMuZ2V0U3RhbmRhcmRpc2F0aW9uV29ya2xpc3RUYWJEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeS5maWx0ZXIoKHg6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KSA9PiB4Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsKS5maXJzdCgpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsOlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzID0gdGhpcy5nZXRTZWNvbmRTdGFuZGFyZGl6YXRpb25UYWJEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeS5maWx0ZXIoKHg6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KSA9PiB4Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLkVTX1RlYW1BcHByb3ZhbCkuZmlyc3QoKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLlJlbWFya2luZzpcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscyA9IHRoaXMuZ2V0UmVtYXJrV29ya2xpc3RUYWJEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeS5maWx0ZXIoKHg6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KSA9PiB4Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLlJlbWFya2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiB4LnJlbWFya1JlcXVlc3RUeXBlSUQgPT09IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVtYXJrUmVxdWVzdFR5cGUpLmZpcnN0KClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5TaW11bGF0aW9uOlxyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RUYWJEZXRhaWxzID0gdGhpcy5nZXRTaW11bGF0aW9uV29ya2xpc3RUYWJEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdUYXJnZXRzU3VtbWFyeS5maWx0ZXIoKHg6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KSA9PiB4Lm1hcmtpbmdNb2RlSUQgPT09IGVudW1zLk1hcmtpbmdNb2RlLlNpbXVsYXRpb24pLmZpcnN0KClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd29ya2xpc3RUYWJEZXRhaWxzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSB0YWIgZGV0YWlscyB0aGF0IG5lZWRzIHRvIGJlIHNob3duIGluIHRoZSBzaW11bGF0aW9uIHdvcmtsaXN0XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0U3VtbWFyeVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRTaW11bGF0aW9uV29ya2xpc3RUYWJEZXRhaWxzKHRhcmdldFN1bW1hcnk6IG1hcmtpbmdUYXJnZXRTdW1tYXJ5KTogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiB7XHJcbiAgICAgICAgbGV0IHdvcmtsaXN0VGFiRGV0YWlsczogQXJyYXk8V29ya2xpc3RUYWJEZXRhaWxzPiA9IFtdO1xyXG4gICAgICAgIHdvcmtsaXN0VGFiRGV0YWlscy5wdXNoKHtcclxuICAgICAgICAgICAgcmVzcG9uc2VNb2RlOiBlbnVtcy5SZXNwb25zZU1vZGUub3BlbixcclxuICAgICAgICAgICAgcmVzcG9uc2VDb3VudDogdGFyZ2V0U3VtbWFyeS5leGFtaW5lclByb2dyZXNzLm9wZW5SZXNwb25zZXNDb3VudFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB3b3JrbGlzdFRhYkRldGFpbHM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gV29ya2xpc3RDb21wb25lbnRIZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3dvcmtsaXN0Y29tcG9uZW50aGVscGVyLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBaW9CQTtBQS9uQkE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 375:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/dataservices/submit/submitresponsedataservice.ts ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar dataServiceBase = __webpack_require__(/*! ../base/dataservicebase */ 287);\r\nvar urls = __webpack_require__(/*! ../base/urls */ 266);\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar storageAdapterHelper = __webpack_require__(/*! ../storageadapters/storageadapterhelper */ 269);\r\nvar SubmitResponseDataService = /** @class */ (function (_super) {\r\n    __extends(SubmitResponseDataService, _super);\r\n    function SubmitResponseDataService() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.storageAdapterHelper = new storageAdapterHelper();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Method which makes the AJAX call to submit responses\r\n     * @param submitResponseArgument\r\n     * @param markSchemeGroupId\r\n     * @param remarkRequestType\r\n     * @param callback\r\n     */\r\n    SubmitResponseDataService.prototype.submitResponses = function (submitResponseArgument, markSchemeGroupId, worklistType, remarkRequestType, examinerRoleIds, markSchemeGroupIds, callback) {\r\n        /* Clear open/closed/pending cache */\r\n        if (remarkRequestType === void 0) { remarkRequestType = enums.RemarkRequestType.Unknown; }\r\n        if (examinerRoleIds === void 0) { examinerRoleIds = null; }\r\n        if (markSchemeGroupIds === void 0) { markSchemeGroupIds = null; }\r\n        this.storageAdapterHelper.clearCache(markSchemeGroupId, submitResponseArgument.markingMode, remarkRequestType, submitResponseArgument.examinerRoleId, worklistType);\r\n        var url = urls.SUBMIT_RESPONSE;\r\n        var that = this;\r\n        var index = 0;\r\n        //Clearing Cache for Whole Response\r\n        if (markSchemeGroupIds && markSchemeGroupIds.length !== 0) {\r\n            do {\r\n                this.storageAdapterHelper.clearCache(markSchemeGroupIds[index], submitResponseArgument.markingMode, remarkRequestType, examinerRoleIds[index], worklistType);\r\n                index++;\r\n            } while (index < markSchemeGroupIds.length);\r\n        }\r\n        index = 0;\r\n        /**  Making AJAX call to get the examiner progress fata */\r\n        var worklistPromise = this.makeAJAXCall('POST', url, JSON.stringify(submitResponseArgument), true, false);\r\n        worklistPromise.then(function (json) {\r\n            if (callback) {\r\n                var result = JSON.parse(json);\r\n                that.storageAdapterHelper.clearCachePostSubmission(submitResponseArgument.examinerRoleId, submitResponseArgument.markingMode, result);\r\n                //Clearing Cache for Whole Response\r\n                if (examinerRoleIds && examinerRoleIds.length !== 0) {\r\n                    do {\r\n                        that.storageAdapterHelper.clearCachePostSubmission(examinerRoleIds[index], submitResponseArgument.markingMode, result);\r\n                        index++;\r\n                    } while (index < examinerRoleIds.length);\r\n                }\r\n                callback(result.success, result);\r\n            }\r\n        }).catch(function (json) {\r\n            if (callback) {\r\n                callback(false, json);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * ShareAndClassifyResponse\r\n     */\r\n    SubmitResponseDataService.prototype.ShareAndClassifyResponse = function (submitResponseArgument, callback) {\r\n        var url = urls.SHARE_AND_CLASSIFY_RESPONSE;\r\n        var that = this;\r\n        var index = 0;\r\n        /**  Making AJAX call to get data */\r\n        var worklistPromise = this.makeAJAXCall('POST', url, JSON.stringify(submitResponseArgument), true, false);\r\n        worklistPromise.then(function (json) {\r\n            if (callback) {\r\n                var result = JSON.parse(json);\r\n                callback(true, result);\r\n            }\r\n        }).catch(function (json) {\r\n            if (callback) {\r\n                callback(false, json);\r\n            }\r\n        });\r\n    };\r\n    return SubmitResponseDataService;\r\n}(dataServiceBase));\r\nvar submitResponseDataService = new SubmitResponseDataService();\r\nmodule.exports = submitResponseDataService;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFzZXJ2aWNlcy9zdWJtaXQvc3VibWl0cmVzcG9uc2VkYXRhc2VydmljZS50cz8xMmM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYXRhU2VydmljZUJhc2UgPSByZXF1aXJlKCcuLi9iYXNlL2RhdGFzZXJ2aWNlYmFzZScpO1xyXG5pbXBvcnQgdXJscyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXJscycpO1xyXG5pbXBvcnQgSW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XHJcbmRlY2xhcmUgbGV0IGNvbmZpZzogYW55O1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IHN0b3JhZ2VBZGFwdGVySGVscGVyID0gcmVxdWlyZSgnLi4vc3RvcmFnZWFkYXB0ZXJzL3N0b3JhZ2VhZGFwdGVyaGVscGVyJyk7XHJcbmltcG9ydCBTaGFyZUFuZENsYXNzaWZ5UmV0dXJuICA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9zdWJtaXQvdHlwaW5ncy9zaGFyZUFuZENsYXNzaWZ5UmV0dXJuJyk7XHJcblxyXG5jbGFzcyBTdWJtaXRSZXNwb25zZURhdGFTZXJ2aWNlIGV4dGVuZHMgZGF0YVNlcnZpY2VCYXNlIHtcclxuXHJcbiAgICBwcml2YXRlIHN0b3JhZ2VBZGFwdGVySGVscGVyID0gbmV3IHN0b3JhZ2VBZGFwdGVySGVscGVyKCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2Qgd2hpY2ggbWFrZXMgdGhlIEFKQVggY2FsbCB0byBzdWJtaXQgcmVzcG9uc2VzXHJcbiAgICAgKiBAcGFyYW0gc3VibWl0UmVzcG9uc2VBcmd1bWVudFxyXG4gICAgICogQHBhcmFtIG1hcmtTY2hlbWVHcm91cElkXHJcbiAgICAgKiBAcGFyYW0gcmVtYXJrUmVxdWVzdFR5cGVcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3VibWl0UmVzcG9uc2VzKHN1Ym1pdFJlc3BvbnNlQXJndW1lbnQ6IFN1Ym1pdFJlc3BvbnNlQXJndW1lbnQsIG1hcmtTY2hlbWVHcm91cElkOiBudW1iZXIsXHJcbiAgICAgICAgd29ya2xpc3RUeXBlOiBlbnVtcy5Xb3JrbGlzdFR5cGUsXHJcbiAgICAgICAgcmVtYXJrUmVxdWVzdFR5cGU6IGVudW1zLlJlbWFya1JlcXVlc3RUeXBlID0gZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUuVW5rbm93bixcclxuICAgICAgICBleGFtaW5lclJvbGVJZHM6IEFycmF5PG51bWJlcj4gPSBudWxsLCBtYXJrU2NoZW1lR3JvdXBJZHM6IEFycmF5PG51bWJlcj4gPSBudWxsLFxyXG4gICAgICAgIGNhbGxiYWNrOiAoKHN1Y2Nlc3M6IGJvb2xlYW4sIHN1Ym1pdFJlc3BvbnNlUmV0dXJuOiBTdWJtaXRSZXNwb25zZVJldHVybikgPT4gdm9pZCkpOiB2b2lkIHtcclxuICAgICAgICAvKiBDbGVhciBvcGVuL2Nsb3NlZC9wZW5kaW5nIGNhY2hlICovXHJcblxyXG4gICAgICAgIHRoaXMuc3RvcmFnZUFkYXB0ZXJIZWxwZXIuY2xlYXJDYWNoZShtYXJrU2NoZW1lR3JvdXBJZCwgc3VibWl0UmVzcG9uc2VBcmd1bWVudC5tYXJraW5nTW9kZSxcclxuICAgICAgICAgICAgcmVtYXJrUmVxdWVzdFR5cGUsIHN1Ym1pdFJlc3BvbnNlQXJndW1lbnQuZXhhbWluZXJSb2xlSWQsIHdvcmtsaXN0VHlwZSk7XHJcbiAgICAgICAgbGV0IHVybCA9IHVybHMuU1VCTUlUX1JFU1BPTlNFO1xyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgICAgICBsZXQgaW5kZXg6IG51bWJlciA9IDA7XHJcblxyXG4gICAgICAgIC8vQ2xlYXJpbmcgQ2FjaGUgZm9yIFdob2xlIFJlc3BvbnNlXHJcbiAgICAgICAgaWYgKG1hcmtTY2hlbWVHcm91cElkcyAmJiBtYXJrU2NoZW1lR3JvdXBJZHMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZUFkYXB0ZXJIZWxwZXIuY2xlYXJDYWNoZShtYXJrU2NoZW1lR3JvdXBJZHNbaW5kZXhdLCBzdWJtaXRSZXNwb25zZUFyZ3VtZW50Lm1hcmtpbmdNb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbWFya1JlcXVlc3RUeXBlLCBleGFtaW5lclJvbGVJZHNbaW5kZXhdLCB3b3JrbGlzdFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgfSB3aGlsZSAoaW5kZXggPCBtYXJrU2NoZW1lR3JvdXBJZHMubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5kZXggPSAwO1xyXG4gICAgICAgIC8qKiAgTWFraW5nIEFKQVggY2FsbCB0byBnZXQgdGhlIGV4YW1pbmVyIHByb2dyZXNzIGZhdGEgKi9cclxuICAgICAgICBsZXQgd29ya2xpc3RQcm9taXNlID0gdGhpcy5tYWtlQUpBWENhbGwoJ1BPU1QnLCB1cmwsIEpTT04uc3RyaW5naWZ5KHN1Ym1pdFJlc3BvbnNlQXJndW1lbnQpLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgd29ya2xpc3RQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGpzb246IGFueSkge1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQ6IFN1Ym1pdFJlc3BvbnNlUmV0dXJuID0gSlNPTi5wYXJzZShqc29uKTtcclxuICAgICAgICAgICAgICAgIHRoYXQuc3RvcmFnZUFkYXB0ZXJIZWxwZXIuY2xlYXJDYWNoZVBvc3RTdWJtaXNzaW9uKHN1Ym1pdFJlc3BvbnNlQXJndW1lbnQuZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0UmVzcG9uc2VBcmd1bWVudC5tYXJraW5nTW9kZSwgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIC8vQ2xlYXJpbmcgQ2FjaGUgZm9yIFdob2xlIFJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICBpZiAoZXhhbWluZXJSb2xlSWRzICYmIGV4YW1pbmVyUm9sZUlkcy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc3RvcmFnZUFkYXB0ZXJIZWxwZXIuY2xlYXJDYWNoZVBvc3RTdWJtaXNzaW9uKGV4YW1pbmVyUm9sZUlkc1tpbmRleF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRSZXNwb25zZUFyZ3VtZW50Lm1hcmtpbmdNb2RlLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGluZGV4IDwgZXhhbWluZXJSb2xlSWRzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXN1bHQuc3VjY2VzcywgcmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChqc29uOiBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSwganNvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNoYXJlQW5kQ2xhc3NpZnlSZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgU2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlKFxyXG4gICAgICAgIHN1Ym1pdFJlc3BvbnNlQXJndW1lbnQ6IFN1Ym1pdFJlc3BvbnNlQXJndW1lbnQsXHJcbiAgICAgICAgY2FsbGJhY2s6ICgoc3VjY2VzczogYm9vbGVhbiwgc2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlUmV0dXJuOiBTaGFyZUFuZENsYXNzaWZ5UmV0dXJuKSA9PiB2b2lkKSk6IHZvaWQge1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gdXJscy5TSEFSRV9BTkRfQ0xBU1NJRllfUkVTUE9OU0U7XHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIGxldCBpbmRleDogbnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgLyoqICBNYWtpbmcgQUpBWCBjYWxsIHRvIGdldCBkYXRhICovXHJcbiAgICAgICAgbGV0IHdvcmtsaXN0UHJvbWlzZSA9IHRoaXMubWFrZUFKQVhDYWxsKCdQT1NUJywgdXJsLCBKU09OLnN0cmluZ2lmeShzdWJtaXRSZXNwb25zZUFyZ3VtZW50KSwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHdvcmtsaXN0UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChqc29uOiBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0OiBTaGFyZUFuZENsYXNzaWZ5UmV0dXJuID0gSlNPTi5wYXJzZShqc29uKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlLCByZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGpzb246IGFueSkge1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlLCBqc29uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgc3VibWl0UmVzcG9uc2VEYXRhU2VydmljZSA9IG5ldyBTdWJtaXRSZXNwb25zZURhdGFTZXJ2aWNlKCk7XHJcbmV4cG9ydCA9IHN1Ym1pdFJlc3BvbnNlRGF0YVNlcnZpY2U7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9kYXRhc2VydmljZXMvc3VibWl0L3N1Ym1pdHJlc3BvbnNlZGF0YXNlcnZpY2UudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUVBOztBQStFQTtBQTdFQTs7Ozs7O0FBTUE7QUFDQTtBQUtBO0FBSEE7QUFDQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 382:
/* no static exports found */
/* all exports used */
/*!***********************************!*\
  !*** ./src/components/footer.tsx ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ./base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../stores/locale/localestore */ 226);\r\nvar ConfirmationDialog = __webpack_require__(/*! ./utility/confirmationdialog */ 408);\r\nvar userOptionsHelper = __webpack_require__(/*! ../utility/useroption/useroptionshelper */ 265);\r\nvar logoutArgument = __webpack_require__(/*! ../dataservices/authentication/logoutargument */ 416);\r\nvar logoutActionCreator = __webpack_require__(/*! ../actions/logout/logoutactioncreator */ 396);\r\nvar loginSession = __webpack_require__(/*! ../app/loginsession */ 252);\r\nvar loginStore = __webpack_require__(/*! ../stores/login/loginstore */ 286);\r\nvar useroptionKeys = __webpack_require__(/*! ../utility/useroption/useroptionkeys */ 264);\r\nvar userOptionStore = __webpack_require__(/*! ../stores/useroption/useroptionstore */ 302);\r\nvar markerOperationModeFactory = __webpack_require__(/*! ./utility/markeroperationmode/markeroperationmodefactory */ 232);\r\nvar enums = __webpack_require__(/*! ./utility/enums */ 225);\r\nvar marksAndAnnotationsSaveHelper = __webpack_require__(/*! ../utility/marking/marksandannotationssavehelper */ 295);\r\nvar markingStore = __webpack_require__(/*! ../stores/marking/markingstore */ 236);\r\nvar markingActionCreator = __webpack_require__(/*! ../actions/marking/markingactioncreator */ 246);\r\nvar worklistStore = __webpack_require__(/*! ../stores/worklist/workliststore */ 231);\r\nvar BusyIndicator = __webpack_require__(/*! ./utility/busyindicator/busyindicator */ 312);\r\nvar navigationHelper = __webpack_require__(/*! ./utility/navigation/navigationhelper */ 248);\r\nvar navigationStore = __webpack_require__(/*! ../stores/navigation/navigationstore */ 275);\r\nvar applicationActionCreator = __webpack_require__(/*! ../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar GenericDialog = __webpack_require__(/*! ./utility/genericdialog */ 317);\r\nvar saveMarksAndAnnotationsNonRecoverableErrorDialogContents = __webpack_require__(/*! ./utility/savemarksandannotations/savemarksandannotationsnonrecoverableerrordialogcontents */ 367);\r\nvar htmlUtilities = __webpack_require__(/*! ../utility/generic/htmlutilities */ 243);\r\nvar worklistActionCreator = __webpack_require__(/*! ../actions/worklist/worklistactioncreator */ 261);\r\nvar qigStore = __webpack_require__(/*! ../stores/qigselector/qigstore */ 230);\r\nvar keyDownHelper = __webpack_require__(/*! ../utility/generic/keydownhelper */ 258);\r\nvar qigActionCreator = __webpack_require__(/*! ../actions/qigselector/qigselectoractioncreator */ 253);\r\nvar messageStore = __webpack_require__(/*! ../stores/message/messagestore */ 240);\r\nvar exceptionStore = __webpack_require__(/*! ../stores/exception/exceptionstore */ 277);\r\nvar popUpDisplayActionCreator = __webpack_require__(/*! ../actions/popupdisplay/popupdisplayactioncreator */ 328);\r\nvar examinerStore = __webpack_require__(/*! ../stores/markerinformation/examinerstore */ 259);\r\nvar responseActionCreator = __webpack_require__(/*! ../actions/response/responseactioncreator */ 257);\r\nvar qualityFeedbackHelper = __webpack_require__(/*! ../utility/qualityfeedback/qualityfeedbackhelper */ 309);\r\nvar colouredAnnotationsHelper = __webpack_require__(/*! ../utility/stamppanel/colouredannotationshelper */ 314);\r\nvar submitStore = __webpack_require__(/*! ../stores/submit/submitstore */ 293);\r\nvar worklistComponentHelper = __webpack_require__(/*! ./worklist/worklistcomponenthelper */ 373);\r\nvar submitHelper = __webpack_require__(/*! ./utility/submit/submithelper */ 282);\r\nvar targetHelper = __webpack_require__(/*! ../utility/target/targethelper */ 300);\r\nvar busyIndicatorActionCreator = __webpack_require__(/*! ../actions/busyindicator/busyindicatoractioncreator */ 279);\r\nvar busyIndicatorStore = __webpack_require__(/*! ../stores/busyindicator/busyindicatorstore */ 326);\r\nvar messagingActionCreator = __webpack_require__(/*! ../actions/messaging/messagingactioncreator */ 268);\r\nvar messageHelper = __webpack_require__(/*! ./utility/message/messagehelper */ 283);\r\nvar stdSetupPermissionHelper = __webpack_require__(/*! ../utility/standardisationsetup/standardisationsetuppermissionhelper */ 332);\r\nvar responseHelper = __webpack_require__(/*! ./utility/responsehelper/responsehelper */ 249);\r\nvar standardisationSetupFactory = __webpack_require__(/*! ../utility/standardisationsetup/standardisationsetupfactory */ 336);\r\n/* tslint:disable:variable-name */\r\nvar IdleTimer = __webpack_require__(/*! react-idle-timer */ 43).default;\r\nvar applicationStore = __webpack_require__(/*! ../stores/applicationoffline/applicationstore */ 247);\r\nvar submitActionCreator = __webpack_require__(/*! ../actions/submit/submitactioncreator */ 297);\r\nvar responseStore = __webpack_require__(/*! ../stores/response/responsestore */ 235);\r\nvar storageAdapterHelper = __webpack_require__(/*! ../dataservices/storageadapters/storageadapterhelper */ 269);\r\nvar teamManagementStore = __webpack_require__(/*! ../stores/teammanagement/teammanagementstore */ 245);\r\nvar userInfoActionCreator = __webpack_require__(/*! ../actions/userinfo/userinfoactioncreator */ 255);\r\nvar loadContainerActionCreator = __webpack_require__(/*! ../actions/navigation/loadcontaineractioncreator */ 397);\r\nvar operationModeHelper = __webpack_require__(/*! ./utility/userdetails/userinfo/operationmodehelper */ 289);\r\nvar worklistHistoryInfo = __webpack_require__(/*! ../utility/breadcrumb/worklisthistoryinfo */ 456);\r\nvar teamManagementHistoryInfo = __webpack_require__(/*! ../utility/breadcrumb/teammanagementhistoryinfo */ 455);\r\nvar historyItem = __webpack_require__(/*! ../utility/breadcrumb/historyitem */ 454);\r\nvar teamManagementActionCreator = __webpack_require__(/*! ../actions/teammanagement/teammanagementactioncreator */ 263);\r\nvar markingCheckActionCreator = __webpack_require__(/*! ../actions/markingcheck/markingcheckactioncreator */ 311);\r\nvar rememberQig = __webpack_require__(/*! ../stores/useroption/typings/rememberqig */ 446);\r\nvar userOptionKeys = __webpack_require__(/*! ../utility/useroption/useroptionkeys */ 264);\r\nvar WarningMessagePopup = __webpack_require__(/*! ./teammanagement/warningmessagepopup */ 407);\r\nvar LocksInQigPopup = __webpack_require__(/*! ./qigselector/locksinqigpopup */ 399);\r\nvar ccActionCreator = __webpack_require__(/*! ../actions/configurablecharacteristics/configurablecharacteristicsactioncreator */ 310);\r\nvar Promise = __webpack_require__(/*! es6-promise */ 41);\r\nvar stringHelper = __webpack_require__(/*! ../utility/generic/stringhelper */ 254);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar simulationModeHelper = __webpack_require__(/*! ../utility/simulation/simulationmodehelper */ 324);\r\nvar stringFormatHelper = __webpack_require__(/*! ../utility/stringformat/stringformathelper */ 250);\r\nvar ccStore = __webpack_require__(/*! ../stores/configurablecharacteristics/configurablecharacteristicsstore */ 341);\r\nvar ecourseworkHelper = __webpack_require__(/*! ./utility/ecoursework/ecourseworkhelper */ 238);\r\nvar ecourseworkFileStore = __webpack_require__(/*! ../stores/response/digital/ecourseworkfilestore */ 278);\r\nvar acetatesActionCreator = __webpack_require__(/*! ../actions/acetates/acetatesactioncreator */ 393);\r\nvar configurableCharacteristicHelper = __webpack_require__(/*! ../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicNames = __webpack_require__(/*! ../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar targetSummaryStore = __webpack_require__(/*! ../stores/worklist/targetsummarystore */ 305);\r\nvar imageZoneStore = __webpack_require__(/*! ../stores/imagezones/imagezonestore */ 376);\r\nvar auditLoggingHelper = __webpack_require__(/*! ./utility/auditlogger/auditlogginghelper */ 298);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar MultiOptionConfirmationDialog = __webpack_require__(/*! ./utility/multioptionconfirmationdialog */ 338);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../actions/standardisationsetup/standardisationactioncreator */ 251);\r\nvar userinfostore = __webpack_require__(/*! ../stores/userinfo/userinfostore */ 244);\r\nvar genericRadioButtonItems = __webpack_require__(/*! ./utility/genericradiobuttonitems */ 363);\r\nvar GenericPopupWithRadioButton = __webpack_require__(/*! ./utility/genericpopupwithradiobuttons */ 362);\r\nvar genericCheckBoxItems = __webpack_require__(/*! ./utility/genericcheckboxitems */ 409);\r\nvar GenericPopupWithCheckBoxes = __webpack_require__(/*! ./utility/genericpopupwithcheckboxes */ 410);\r\nvar awardingHelper = __webpack_require__(/*! ./utility/awarding/awardinghelper */ 360);\r\nvar awardingStore = __webpack_require__(/*! ../stores/awarding/awardingstore */ 270);\r\nvar standardisationSetupHistoryInfo = __webpack_require__(/*! ../utility/breadcrumb/standardisationsetuphistoryinfo */ 418);\r\nvar Footer = /** @class */ (function (_super) {\r\n    __extends(Footer, _super);\r\n    /**\r\n     * Constructor\r\n     * @param {Props} props\r\n     * @param {State} state\r\n     */\r\n    function Footer(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        // Indicates if logout has been triggered\r\n        _this._onLogoutTriggered = false;\r\n        _this._failureReason = enums\r\n            .ResponseNavigateFailureReason.None;\r\n        _this.expiredMarkGroupId = 0;\r\n        _this.currentSaveMarksAndAnnotationTriggeringPoint = undefined;\r\n        // variable for save marks and annotations dialog contents\r\n        _this.saveMarksAndAnnotationsErrorDialogContents = new saveMarksAndAnnotationsNonRecoverableErrorDialogContents(false);\r\n        // variable to save examiner Approval status\r\n        _this.examinerApprovalStatus = enums\r\n            .SaveMarksAndAnnotationErrorCode.None;\r\n        //variable to know where the reponse is navigated to\r\n        _this.navigateReponse = enums.SaveAndNavigate.none;\r\n        // Holds the Pop data for displaying the contents of popup\r\n        _this.popUpData = {};\r\n        // Indicates if logout has been triggered through Idle TimeOut\r\n        _this._isAutoLogOut = false;\r\n        // Holds the idle time out value in milli seconds -- default:10 mins\r\n        _this._idleTimeOut = 600000;\r\n        //  This will hold the mandatory message checking trigger points\r\n        _this.mandatoryMessageTriggeringPoint = enums.TriggerPoint.None;\r\n        _this.isConcurrentSessionActive = false;\r\n        _this.storageAdapterHelper = new storageAdapterHelper();\r\n        _this.messageDetails = { messageHeader: '', messageString: '' };\r\n        _this.triggerPointAfterClose = 0;\r\n        _this.offlineErrorMessage = null;\r\n        _this.submitMessageErrorPopupContent = undefined;\r\n        _this.copyMarksAsDefinitiveSelected = true;\r\n        _this.classifyResponseDetails = undefined;\r\n        _this.reclassifyResponseDetails = undefined;\r\n        _this.reuseResponseDetails = undefined;\r\n        _this.isClassifyResponseOkButtonDisabled = true;\r\n        _this.concurrentSaveFailArea = enums.PageContainers.None;\r\n        /**\r\n         * Fires after email save\r\n         */\r\n        _this.userInfoSaved = function () {\r\n            _this.setState({\r\n                isSaveEmailMessageDisplaying: true\r\n            });\r\n        };\r\n        /**\r\n         * Email save success message ok click\r\n         */\r\n        _this.onOkClickOfEmailSucessMessage = function () {\r\n            _this.setState({\r\n                isSaveEmailMessageDisplaying: false\r\n            });\r\n        };\r\n        /**\r\n         * Method to be invoked when a ExamBody CC is loaded.\r\n         */\r\n        _this.onExamBodyCCLoaded = function () {\r\n            // show locks and simulation exited popup if it is not already shown and exambodycc is loaded\r\n            _this.setState({\r\n                reRenderLocksInQigPopUp: _this.state.reRenderLocksInQigPopUp && ccStore.instance.isExamBodyCCLoaded,\r\n                renderedOn: Date.now(),\r\n                showSimulationExitedPopup: _this.state.showSimulationExitedPopup && ccStore.instance.isExamBodyCCLoaded\r\n            });\r\n        };\r\n        /**\r\n         * Updates the Marker information panel.\r\n         */\r\n        _this.updateMarkerInformationPanel = function () {\r\n            // Check the Marker got with drawn from the QIG, If So show the message\r\n            if (examinerStore.instance.getMarkerInformation.approvalStatus ===\r\n                enums.ExaminerApproval.Withdrawn) {\r\n                if (qigStore.instance.getOverviewData) {\r\n                    var currentQig = qigStore.instance.getOverviewData.qigSummary\r\n                        .filter(function (qig) {\r\n                        return qig.examinerRoleId ===\r\n                            examinerStore.instance.getMarkerInformation.examinerRoleId;\r\n                    })\r\n                        .first();\r\n                    // removing entry from recent history\r\n                    teamManagementActionCreator.removeHistoryItem(currentQig ? currentQig.markSchemeGroupId : 0);\r\n                }\r\n                _this.setState({ isWithdrawnResponseError: true, isBusy: false });\r\n            }\r\n        };\r\n        /**\r\n         * Updates qig selector if the examiner session is closed for the qig.\r\n         */\r\n        _this.updateQigForSessionClose = function () {\r\n            // Check the Marker got with drawn from the QIG, If So show the message\r\n            _this.setState({ isQigsessionClosedError: true, isBusy: false });\r\n        };\r\n        /**\r\n         * On response submission started\r\n         */\r\n        _this.onSubmitResponseStarted = function () {\r\n            /**\r\n             * for submit all the markgroup id will always be zero\r\n             */\r\n            if (submitStore.instance.getMarkGroupId > 0) {\r\n                _this.submitConfirmationDialogueContent = localeStore.instance.TranslateText('marking.worklist.submit-response-dialog.body');\r\n                _this.submitConfirmationDialogueHeader = localeStore.instance.TranslateText('marking.worklist.submit-response-dialog.header');\r\n            }\r\n            else {\r\n                _this.submitConfirmationDialogueContent = localeStore.instance.TranslateText('marking.worklist.submit-all-responses-dialog.body');\r\n                _this.submitConfirmationDialogueHeader = localeStore.instance.TranslateText('marking.worklist.submit-all-responses-dialog.header');\r\n            }\r\n            _this.setConfirmationDialogueState(true);\r\n        };\r\n        /**\r\n         * Show busy indicator when submit is clicked in live open worklist\r\n         */\r\n        _this.setBusyIndicator = function () {\r\n            _this.setState({\r\n                isBusy: busyIndicatorStore.instance.getBusyIndicatorInvoker ===\r\n                    enums.BusyIndicatorInvoker.none\r\n                    ? false\r\n                    : true\r\n            });\r\n        };\r\n        /**\r\n         * hiding busy indicator\r\n         */\r\n        _this.resetBusyIndicator = function () {\r\n            _this.setState({\r\n                isBusy: busyIndicatorStore.instance.getBusyIndicatorInvoker !==\r\n                    enums.BusyIndicatorInvoker.none\r\n                    ? false\r\n                    : true\r\n            });\r\n        };\r\n        /**\r\n         * hiding busy indicator on ok click of validation of std setup\r\n         */\r\n        _this.resetBusyIndicatorStdSetupNotComplete = function () {\r\n            if (standardisationSetupStore.instance.iscompleteStandardisationSuccess === false) {\r\n                _this.setState({\r\n                    isBusy: busyIndicatorStore.instance.getBusyIndicatorInvoker ===\r\n                        enums.BusyIndicatorInvoker.none\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Marks retrieval event.\r\n         */\r\n        _this.marksRetrieved = function (markGroupId) {\r\n            if ((markingStore.instance.currentResponseMode === enums.ResponseMode.open ||\r\n                markingStore.instance.currentResponseMode === enums.ResponseMode.pending) &&\r\n                !markerOperationModeFactory.operationMode.isTeamManagementMode) {\r\n                var isColourUpdated = colouredAnnotationsHelper.updateAnnotationColourIfNeeded(markGroupId);\r\n                if (isColourUpdated) {\r\n                    // Updating the queue to let know the background process to save the dirty marks and annotations\r\n                    marksAndAnnotationsSaveHelper.updateMarksAndAnnotationsQueue();\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Handles the action event while message priority updation.\r\n         */\r\n        _this.messagePriorityUpdate = function () {\r\n            _this.setState({ doShowMandatoryMessageValidationPopup: false });\r\n        };\r\n        /**\r\n         * Updates user session data by changing the logged_out status to 1.\r\n         * logged_out status 1 means user logged out properly by clicking on the\r\n         * log out button.\r\n         */\r\n        _this.updateUserSession = function () {\r\n            /**\r\n             * Trigger save mark for the currently selected item when logging out\r\n             */\r\n            if (markingStore.instance.isMarkingInProgress) {\r\n                markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.toLogout);\r\n            }\r\n            else {\r\n                /**\r\n                 * navigating from a response which is in view mode doesn't require to call save marks\r\n                 */\r\n                var logoutData = new logoutArgument();\r\n                logoutData.MarkingSessionTrackingId = parseInt(loginSession.MARKING_SESSION_TRACKING_ID);\r\n                logoutActionCreator.updateUserSession(logoutData);\r\n            }\r\n        };\r\n        /**\r\n         * setting login invalid state.\r\n         */\r\n        _this.onConcurrentSessionActive = function () {\r\n            _this.isConcurrentSessionActive = true;\r\n            _this.clearSession();\r\n        };\r\n        /**\r\n         * Clears the session after user option saved and logged_out status updated.\r\n         */\r\n        _this.clearSession = function () {\r\n            window.removeEventListener('beforeunload', navigationHelper.onBeforeWindowUnload);\r\n            /* tslint:disable:no-string-literal */\r\n            if (_this.isConcurrentSessionActive) {\r\n                window.sessionStorage['invaliduser'] = 'true';\r\n            }\r\n            else if (_this._isAutoLogOut) {\r\n                window.sessionStorage['autologout'] = 'true';\r\n            }\r\n            /* tslint:enable:no-string-literal */\r\n            userOptionsHelper.resetTokensAndRedirect();\r\n            navigationHelper.loadLoginPage();\r\n        };\r\n        /**\r\n         *  clear marks and annotations queue entry and update isDirty fields\r\n         */\r\n        _this.onSaveMarksAndAnnotations = function (markGroupId, saveMarksAndAnnotationTriggeringPoint, queueOperation, isnetworkerror) {\r\n            var saveErrorCode = markingStore.instance.getSaveMarksAndAnnotationErrorCode(markGroupId);\r\n            // selectedQIGForMarkerOperation become undefined when the marker is withdrawn from the selected qig.\r\n            // so added undefined check as part of bug 57226.\r\n            if (qigStore.instance.selectedQIGForMarkerOperation &&\r\n                qigStore.instance.selectedQIGForMarkerOperation.currentMarkingTarget.markingMode ===\r\n                    enums.MarkingMode.Simulation &&\r\n                qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n                _this.triggerPointAfterClose = saveMarksAndAnnotationTriggeringPoint;\r\n                if (_this.triggerPointAfterClose ===\r\n                    enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Submit) {\r\n                    _this.triggerPointAfterClose =\r\n                        enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse;\r\n                }\r\n                saveMarksAndAnnotationTriggeringPoint =\r\n                    enums.SaveMarksAndAnnotationsProcessingTriggerPoint.BackgroundWorker;\r\n                saveErrorCode = enums.SaveMarksAndAnnotationErrorCode.None;\r\n                marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, enums.MarksAndAnnotationsQueueOperation.Remove);\r\n                _this.setState({\r\n                    showSimulationExitedPopup: true\r\n                });\r\n            }\r\n            if (saveMarksAndAnnotationTriggeringPoint !==\r\n                enums.SaveMarksAndAnnotationsProcessingTriggerPoint.None) {\r\n                // reset the saveinprogress flag when savingmarks has been completed\r\n                marksAndAnnotationsSaveHelper.resetSaveInProgress();\r\n                /**\r\n                 * set the current marks and annotations save triggering point.\r\n                 */\r\n                _this.currentSaveMarksAndAnnotationTriggeringPoint = saveMarksAndAnnotationTriggeringPoint;\r\n                if (saveErrorCode === enums.SaveMarksAndAnnotationErrorCode.ResponseRemoved) {\r\n                    worklistActionCreator.getWorklistMarkerProgressData(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation\r\n                        .isElectronicStandardisationTeamMember);\r\n                    _this.expiredMarkGroupId = markGroupId;\r\n                    marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n                    _this.setState({\r\n                        isDisplayingResponseRemovedError: markingStore.instance.currentResponseMode === enums.ResponseMode.pending,\r\n                        doShowSavingMarksAndAnnotationsIndicator: false\r\n                    });\r\n                }\r\n                else if (saveErrorCode === enums.SaveMarksAndAnnotationErrorCode.ClosedResponse) {\r\n                    worklistActionCreator.getWorklistMarkerProgressData(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation\r\n                        .isElectronicStandardisationTeamMember);\r\n                    _this.expiredMarkGroupId = markGroupId;\r\n                    marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n                    _this.setState({\r\n                        isDisplayingGraceResponseExpiredError: markingStore.instance.currentResponseMode === enums.ResponseMode.pending,\r\n                        doShowSavingMarksAndAnnotationsIndicator: false\r\n                    });\r\n                }\r\n                else if (saveErrorCode === enums.SaveMarksAndAnnotationErrorCode.WithdrawnResponse) {\r\n                    /**\r\n                     * Calling the helper method to update the marks and annotations queue\r\n                     */\r\n                    marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n                    _this.onWithdrawnResponse(enums.SaveMarksAndAnnotationErrorCode.WithdrawnResponse, markingStore.instance.navigateTo);\r\n                }\r\n                else if (saveErrorCode === enums.SaveMarksAndAnnotationErrorCode.UnallocatedResponse ||\r\n                    saveErrorCode === enums.SaveMarksAndAnnotationErrorCode.MarksAndAnnotationsOutOfDate) {\r\n                    /**\r\n                     * Calling the helper method to update the marks and annotations queue\r\n                     */\r\n                    marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n                    if (saveMarksAndAnnotationTriggeringPoint ===\r\n                        enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Submit) {\r\n                        /**\r\n                         * When there are errors in saving marks and annotations we have to hide the busy indicator\r\n                         */\r\n                        busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.none);\r\n                        _this.setState({\r\n                            doShowSavingMarksAndAnnotationsIndicator: false,\r\n                            nonRecoverableSaveMarksAndAnnotationsErrorMessage: true\r\n                        });\r\n                    }\r\n                    else {\r\n                        if (saveMarksAndAnnotationTriggeringPoint ===\r\n                            enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse) {\r\n                            _this.saveMarksAndAnnotationsWithNonRecoverableError(saveMarksAndAnnotationTriggeringPoint, markGroupId, queueOperation);\r\n                        }\r\n                        else {\r\n                            // hide the saving marks and annotations busy indicator\r\n                            if (_this.state.doShowSavingMarksAndAnnotationsIndicator) {\r\n                                _this.setState({\r\n                                    doShowSavingMarksAndAnnotationsIndicator: false\r\n                                });\r\n                            }\r\n                            navigationHelper.loadContainerIfNeeded(enums.PageContainers.WorkList, enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse);\r\n                            _this.initiateContentRefresh();\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    _this.saveMarksAndAnnotationsWithNonRecoverableError(saveMarksAndAnnotationTriggeringPoint, markGroupId, queueOperation);\r\n                }\r\n            }\r\n            _this.setState({\r\n                isOnline: !isnetworkerror\r\n            });\r\n        };\r\n        /**\r\n         * show the error message when a marker is withdrawn from background\r\n         */\r\n        _this.onWithdrawnResponse = function (saveMarksAndAnnotationErrorCode, navigatingTo) {\r\n            _this.examinerApprovalStatus = saveMarksAndAnnotationErrorCode;\r\n            _this.navigateReponse = navigatingTo;\r\n            var currentQig = qigStore.instance.getOverviewData.qigSummary\r\n                .filter(function (qig) {\r\n                return qig.examinerRoleId ===\r\n                    examinerStore.instance.getMarkerInformation.examinerRoleId;\r\n            })\r\n                .first();\r\n            // removes entry from recent history\r\n            teamManagementActionCreator.removeHistoryItem(currentQig ? currentQig.markSchemeGroupId : 0);\r\n            _this.setState({\r\n                doShowSavingMarksAndAnnotationsIndicator: false,\r\n                isWithdrawnResponseError: true,\r\n                isBusy: false\r\n            });\r\n        };\r\n        /**\r\n         *  This will remove the item from marksAndAnnotations save processing queue.\r\n         */\r\n        _this.onSetHasNonRecoverableError = function (markGroupId) {\r\n            // Calling the helper method to update the marks and annotations queue\r\n            var queueOperation = enums.MarksAndAnnotationsQueueOperation.Remove;\r\n            marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n        };\r\n        /**\r\n         * Method to show the busy indicator on triggering saving of marks and annotations\r\n         */\r\n        _this.onSaveMarksAndAnnotationsTriggered = function (saveMarksAndAnnotationTriggeringPoint) {\r\n            if (saveMarksAndAnnotationTriggeringPoint !==\r\n                enums.SaveMarksAndAnnotationsProcessingTriggerPoint.None &&\r\n                saveMarksAndAnnotationTriggeringPoint !==\r\n                    enums.SaveMarksAndAnnotationsProcessingTriggerPoint.BackgroundWorker) {\r\n                _this.setState({\r\n                    doShowSavingMarksAndAnnotationsIndicator: true\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Go to logout after saving mark if there is any\r\n         */\r\n        _this.navigateAwayFromResponse = function () {\r\n            if (markingStore.instance.navigateTo === enums.SaveAndNavigate.toLogout) {\r\n                var logoutData = new logoutArgument();\r\n                logoutData.MarkingSessionTrackingId = parseInt(loginSession.MARKING_SESSION_TRACKING_ID);\r\n                logoutActionCreator.updateUserSession(logoutData);\r\n            }\r\n            else {\r\n                // reset mark entry deactivators on navigating away from response.\r\n                keyDownHelper.instance.resetMarkEntryDeactivators();\r\n                // we are deactivating the keydown helper while message panel or exception panel is open. We are disabling that\r\n                // during the corresponding panel is close. If user is navigate away from response screen without closing the message panel\r\n                // then we've to activate the keydown helper\r\n                if (messageStore.instance.isMessagePanelVisible) {\r\n                    keyDownHelper.instance.DeActivate(enums.MarkEntryDeactivator.Messaging);\r\n                }\r\n                else if (exceptionStore.instance.isExceptionPanelVisible) {\r\n                    keyDownHelper.instance.DeActivate(enums.MarkEntryDeactivator.Exception);\r\n                }\r\n                else if (markingStore.instance.navigateTo === enums.SaveAndNavigate.toMenu) {\r\n                    markingActionCreator.removeMarkEntrySelection();\r\n                    keyDownHelper.instance.DeActivate(enums.MarkEntryDeactivator.Menu);\r\n                }\r\n                _this.copyMarksAsDefinitiveSelected = true;\r\n            }\r\n        };\r\n        /**\r\n         * Method to show the busy indicator on triggering saving of marks and annotations\r\n         */\r\n        _this.refreshState = function () {\r\n            switch (navigationStore.instance.containerPage) {\r\n                case enums.PageContainers.Login:\r\n                    _this.clearSession();\r\n                    break;\r\n            }\r\n        };\r\n        /*\r\n         * On Accept Quality Feedback Action completedF\r\n         */\r\n        _this.onAcceptQualityFeedbackActionCompleted = function () {\r\n            var responseModeBasedOnQualityFeedback = qualityFeedbackHelper.getResponseModeBasedOnQualityFeedback();\r\n            if (responseModeBasedOnQualityFeedback !== enums.ResponseMode.closed) {\r\n                var responseMode = responseModeBasedOnQualityFeedback !== undefined\r\n                    ? responseModeBasedOnQualityFeedback\r\n                    : enums.ResponseMode.open;\r\n                if (qigStore.instance.selectedQIGForMarkerOperation) {\r\n                    worklistActionCreator.notifyWorklistTypeChange(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId, worklistStore.instance.currentWorklistType, responseMode, worklistStore.instance.getRemarkRequestType, worklistStore.instance.isDirectedRemark, qigStore.instance.selectedQIGForMarkerOperation\r\n                        .isElectronicStandardisationTeamMember);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Show response in grace not fully marked message.\r\n         */\r\n        _this.showResponseInGraceNotFullyMarkedMessage = function (failureReason) {\r\n            _this._failureReason = failureReason;\r\n            _this.setState({ isDisplayingGraceResponseLessthan100PercentageError: true });\r\n        };\r\n        /**\r\n         * Show mandatory message popup\r\n         */\r\n        _this.showMandatoryMessagePopup = function (isUnreadMandatoryMessagePresent, triggerPoint) {\r\n            if (isUnreadMandatoryMessagePresent) {\r\n                _this.mandatoryMessageTriggeringPoint = triggerPoint;\r\n                _this.onPopUpDisplayEvent(enums.PopUpType.MandatoryMessage, enums.PopUpActionType.Show, null);\r\n            }\r\n        };\r\n        /**\r\n         * Display the corresponding popups\r\n         */\r\n        _this.onPopUpDisplayEvent = function (popUpType, popUpActionType, popUpData) {\r\n            _this.popUpData = popUpData;\r\n            if (popUpActionType === enums.PopUpActionType.Show) {\r\n                _this.setState({ popUpType: popUpType });\r\n            }\r\n        };\r\n        /**\r\n         * handle different popup actions\r\n         */\r\n        _this.handlePopUpAction = function (popUpType, popUpActionType) {\r\n            switch (popUpActionType) {\r\n                case enums.PopUpActionType.Show:\r\n                    break;\r\n                case enums.PopUpActionType.Yes:\r\n                    // when navigated from message panel the navigate action is called\r\n                    if (_this.messageNavigationArguments) {\r\n                        _this.messageNavigationArguments.canNavigate = true;\r\n                        messagingActionCreator.canMessageNavigate(_this.messageNavigationArguments);\r\n                        _this.messageNavigationArguments = undefined;\r\n                        messagingActionCreator.messageAction(enums.MessageViewAction.Close);\r\n                        _this.setState({ popUpType: undefined });\r\n                    }\r\n                    else {\r\n                        popUpDisplayActionCreator.popUpDisplay(popUpType, popUpActionType, messageStore.instance.navigateFrom, {});\r\n                        _this.setState({ popUpType: undefined });\r\n                    }\r\n                    break;\r\n                case enums.PopUpActionType.No:\r\n                    _this.messageNavigationArguments = undefined;\r\n                    popUpDisplayActionCreator.popUpDisplay(popUpType, popUpActionType, messageStore.instance.navigateFrom, {});\r\n                    _this.setState({ popUpType: undefined });\r\n                    break;\r\n                case enums.PopUpActionType.Ok:\r\n                    if (popUpType === enums.PopUpType.MandatoryMessage &&\r\n                        _this.props.footerType !== enums.FooterType.Message) {\r\n                        //Response displayed in Atypical worklist even after changing the response to 'On hold' in AI Image Management\r\n                        //so do refresh worklist content when mandatory message popup appears\r\n                        //This will affect all response types except live.\r\n                        _this.storageAdapterHelper.clearStorageArea('worklist');\r\n                        // redirecting to inbox screen, if user currently not in the message screen\r\n                        navigationHelper.loadMessagePage();\r\n                    }\r\n                    else if (popUpType === enums.PopUpType.MandatoryMessage &&\r\n                        _this.props.footerType === enums.FooterType.Message &&\r\n                        _this.mandatoryMessageTriggeringPoint !== enums.TriggerPoint.MessageStore) {\r\n                        // we don't need to refresh inbox tab if we found mandatory messages are available during message loading action\r\n                        // refresh the inbox tab with selected mandatory message\r\n                        messagingActionCreator.refreshMessageFolder(enums.MessageFolderType.Inbox);\r\n                    }\r\n                    _this.mandatoryMessageTriggeringPoint = enums.TriggerPoint.None;\r\n                    _this.setState({ popUpType: undefined });\r\n                    break;\r\n            }\r\n        };\r\n        /**\r\n         * On response submission completed\r\n         */\r\n        _this.onSubmitResponseCompleted = function (fromMarkScheme, submittedMarkGroupIds, selectedDisplayId) {\r\n            if (!_this._showShareLoadingIndicatorForPE) {\r\n                _this.submitMessageErrorPopupContent = worklistComponentHelper.showMessageOnSubmitResponse(submitStore.instance.getSubmittedResponsesCount());\r\n            }\r\n            //updating provisional response collection and navigating after sharing Provisional Response\r\n            if (_this._showShareLoadingIndicator && fromMarkScheme) {\r\n                var stdWorklistView = standardisationSetupStore.instance.isTotalMarksViewSelected ? enums.STDWorklistViewType.ViewTotalMarks :\r\n                    enums.STDWorklistViewType.ViewMarksByQuestion;\r\n                var isNextResponseAvailable = standardisationSetupStore.instance.isNextResponseAvailable(selectedDisplayId);\r\n                var nextResponseId = markerOperationModeFactory.operationMode.nextResponseId(responseStore.instance.selectedDisplayId.toString());\r\n                if (isNextResponseAvailable) {\r\n                    var responseData = standardisationSetupStore.instance.getResponseDetails(responseStore.instance.selectedDisplayId.toString());\r\n                    // remove shared response from provisional response worklist collection.\r\n                    standardisationActionCreator.updateStandardisationResponseCollection(responseData.esMarkGroupId, enums.StandardisationSetup.ProvisionalResponse);\r\n                    _this.setState({\r\n                        isBusy: false\r\n                    });\r\n                    navigationHelper.responseNavigation(enums.ResponseNavigation.next, false, parseInt(nextResponseId));\r\n                }\r\n                else {\r\n                    // if next response is not available then load worklist.\r\n                    navigationHelper.loadStandardisationSetup();\r\n                }\r\n                return;\r\n            }\r\n            /* Logging event in google analytics or application insights based on the configuration */\r\n            new auditLoggingHelper().logHelper.logEventOnSubmitResponse(submitStore.instance.getSubmittedResponsesCount(), submittedMarkGroupIds);\r\n            var messageKey = '';\r\n            var messageHeaderKey = undefined;\r\n            // If No validation Error, Check the whether to display the Quality Feedback Message\r\n            if (worklistComponentHelper.shouldShowQualityFeedbackMessage()) {\r\n                messageKey = localeStore.instance.TranslateText('marking.worklist.quality-feedback-dialog.body');\r\n                messageHeaderKey = localeStore.instance.TranslateText('marking.worklist.quality-feedback-dialog.header');\r\n            }\r\n            else if (submitStore.instance.getCurrentWorklistType === enums.WorklistType.standardisation ||\r\n                submitStore.instance.getCurrentWorklistType === enums.WorklistType.secondstandardisation) {\r\n                if (submitStore.instance.getSubmitResponseReturn.examinerApprovalStatus ===\r\n                    enums.ExaminerApproval.Approved) {\r\n                    messageKey = localeStore.instance.TranslateText(worklistComponentHelper.getAutoApprovalSecondaryContent(submittedMarkGroupIds.length));\r\n                    messageHeaderKey = localeStore.instance.TranslateText('marking.worklist.auto-approved-dialog.header');\r\n                }\r\n            }\r\n            if (messageKey !== '') {\r\n                _this.messageDetails = {\r\n                    messageHeader: messageHeaderKey,\r\n                    messageString: messageKey,\r\n                    submittedMarkGroupIds: submittedMarkGroupIds,\r\n                    displayId: selectedDisplayId,\r\n                    isFromMarkScheme: fromMarkScheme\r\n                };\r\n                _this.setState({\r\n                    doShowSavingMarksAndAnnotationsIndicator: false,\r\n                    isBusy: false,\r\n                    doShowPopup: true\r\n                });\r\n            }\r\n            else if (_this.submitMessageErrorPopupContent !== undefined) {\r\n                _this.setState({\r\n                    isSubmitErrorPopDisplaying: true,\r\n                    isBusy: false,\r\n                    doShowSavingMarksAndAnnotationsIndicator: false\r\n                });\r\n            }\r\n            else {\r\n                _this.navigateAfterSubmit(submittedMarkGroupIds, selectedDisplayId, fromMarkScheme);\r\n            }\r\n        };\r\n        /**\r\n         * Navigate after the submit\r\n         */\r\n        _this.navigateAfterSubmit = function (submittedMarkGroupIds, displayId, fromMarkScheme) {\r\n            // Inform response navigation module.\r\n            responseActionCreator.navigateAfterSubmit(submittedMarkGroupIds, displayId, fromMarkScheme);\r\n            // Navigate to corresponding worklist even if not in QualityFeedbackOutstanding,\r\n            // to ensure that the navigation happens correctly at the time of submition.\r\n            qualityFeedbackHelper.forceNavigationToWorklist(submitStore.instance.getSubmitResponseReturn.hasQualityFeedbackOutstanding);\r\n            // Refresh the worklist\r\n            _this.initiateContentRefresh();\r\n            // Clear the marks and annotations if needed for Reloading the DefinitiveMarks\r\n            submitHelper.clearMarksAndAnnotations(submittedMarkGroupIds);\r\n        };\r\n        /**\r\n         * This will display the unread mandatory message popup while user in message screen using background pulse\r\n         */\r\n        _this.onUpdateNotification = function (unreadMessageCount, isMessageReadCountChanged, unreadMandatoryMessageCount) {\r\n            // display unread mandatory messages are available popup while user in message screen and not composing a message\r\n            if (unreadMandatoryMessageCount > 0 &&\r\n                _this.props.footerType === enums.FooterType.Message &&\r\n                !messageStore.instance.isMessagePanelVisible) {\r\n                _this.mandatoryMessageTriggeringPoint = enums.TriggerPoint.BackgroundPulse;\r\n                _this.onPopUpDisplayEvent(enums.PopUpType.MandatoryMessage, enums.PopUpActionType.Show, null);\r\n            }\r\n        };\r\n        /**\r\n         * Show pop up if the message panel is edited on navigation\r\n         */\r\n        _this.onMessagePanelEdited = function (messageNavigationArgument) {\r\n            if (messageNavigationArgument.hasMessageContainsDirtyValue &&\r\n                !messageNavigationArgument.navigationConfirmed) {\r\n                _this.messageNavigationArguments = messageNavigationArgument;\r\n                _this.messageNavigationArguments.navigationConfirmed = true;\r\n                if (messageNavigationArgument.navigateTo === enums.MessageNavigation.newException ||\r\n                    messageNavigationArgument.navigateTo ===\r\n                        enums.MessageNavigation.exceptionWithInResponse) {\r\n                    _this.popUpData.popupContent = localeStore.instance.TranslateText('marking.response.discard-exception-dialog.body-open-another');\r\n                }\r\n                else if (messageNavigationArgument.navigateTo === enums.MessageNavigation.ChangeStatus) {\r\n                    _this.popUpData.popupContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.body-start-new-message-while-composing');\r\n                }\r\n                else {\r\n                    _this.popUpData.popupContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.body-navigated-away');\r\n                }\r\n                _this.setState({ popUpType: enums.PopUpType.DiscardMessageNavigateAway });\r\n            }\r\n        };\r\n        /**\r\n         * Show mandatory message validation popup\r\n         */\r\n        _this.mandatoryMessageValidationPopupVisibility = function () {\r\n            _this.setState({ doShowMandatoryMessageValidationPopup: true });\r\n        };\r\n        /**\r\n         * Check the QIG got withdrwan\r\n         */\r\n        _this.onResponseDataReceived = function (searchedResponseData) {\r\n            if (searchedResponseData.approvalStatusId === enums.ExaminerApproval.Withdrawn) {\r\n                teamManagementActionCreator.removeHistoryItem(searchedResponseData.markSchemeGroupId);\r\n                _this.setState({ isWithdrawnResponseError: true, isBusy: false });\r\n            }\r\n        };\r\n        /**\r\n         * show error popup on response search failed\r\n         */\r\n        _this.onResponseDataReceivedFailed = function (serviceFailed) {\r\n            // If this service failed then we dont know whether the response is available or not\r\n            if (!serviceFailed) {\r\n                return;\r\n            }\r\n            _this.setState({ isResponseSearchFailed: true, isBusy: false });\r\n        };\r\n        _this.handleErrorNavigationTeamManagement = function (failureCode, markSchemeGroupId) {\r\n            if (markSchemeGroupId === void 0) { markSchemeGroupId = 0; }\r\n            switch (failureCode) {\r\n                case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                case enums.FailureCode.HierarchyChanged:\r\n                    navigationHelper.loadTeamManagement();\r\n                    userInfoActionCreator.changeMenuVisibility(false);\r\n                    break;\r\n                case enums.FailureCode.Withdrawn:\r\n                    _this.storageAdapterHelper.clearCacheByKey('qigselector', 'overviewdata');\r\n                    navigationHelper.loadQigSelector();\r\n                    userInfoActionCreator.changeMenuVisibility(false);\r\n                    teamManagementActionCreator.removeHistoryItem(markSchemeGroupId);\r\n                    break;\r\n            }\r\n        };\r\n        /**\r\n         * Adding current items to history based upon the user's action\r\n         */\r\n        _this.addToRecentHistory = function () {\r\n            if (!worklistStore.instance.isMarkingCheckMode) {\r\n                _this.addSelectedQigDetailsToUserOption();\r\n            }\r\n            // If the container page is response we dont want to add that to the history\r\n            if (!qigStore.instance.selectedQIGForMarkerOperation ||\r\n                worklistStore.instance.isMarkingCheckMode ||\r\n                navigationStore.instance.containerPage === enums.PageContainers.Response) {\r\n                return;\r\n            }\r\n            var _historyItem = new historyItem();\r\n            // QIG Name based on string format CC\r\n            _historyItem.qigName = stringFormatHelper.formatAwardingBodyQIG(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupName, qigStore.instance.selectedQIGForMarkerOperation.assessmentCode, qigStore.instance.selectedQIGForMarkerOperation.sessionName, qigStore.instance.selectedQIGForMarkerOperation.componentId, qigStore.instance.selectedQIGForMarkerOperation.questionPaperName, qigStore.instance.selectedQIGForMarkerOperation.assessmentName, qigStore.instance.selectedQIGForMarkerOperation.componentName, stringFormatHelper.getOverviewQIGNameFormat());\r\n            _historyItem.qigId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n            _historyItem.timeStamp = Date.now();\r\n            // adding to history item based on Marker Operation Mode\r\n            if (markerOperationModeFactory.operationMode.isTeamManagementMode) {\r\n                var _teamManagementHistoryInfo = new teamManagementHistoryInfo();\r\n                _teamManagementHistoryInfo.worklistType = worklistStore.instance.currentWorklistType;\r\n                _teamManagementHistoryInfo.responseMode = worklistStore.instance.getResponseMode;\r\n                _teamManagementHistoryInfo.remarkRequestType =\r\n                    worklistStore.instance.getRemarkRequestType;\r\n                _teamManagementHistoryInfo.subordinateExaminerRoleID =\r\n                    navigationStore.instance.containerPage !== enums.PageContainers.TeamManagement\r\n                        ? teamManagementStore.instance.examinerDrillDownData\r\n                            ? teamManagementStore.instance.examinerDrillDownData.examinerRoleId\r\n                            : 0\r\n                        : 0;\r\n                _teamManagementHistoryInfo.subordinateExaminerID =\r\n                    navigationStore.instance.containerPage !== enums.PageContainers.TeamManagement\r\n                        ? teamManagementStore.instance.examinerDrillDownData\r\n                            ? teamManagementStore.instance.examinerDrillDownData.examinerId\r\n                            : 0\r\n                        : 0;\r\n                _teamManagementHistoryInfo.supervisorExaminerRoleID = teamManagementStore.instance\r\n                    .selectedExaminerRoleId\r\n                    ? teamManagementStore.instance.selectedExaminerRoleId\r\n                    : operationModeHelper.examinerRoleId;\r\n                _teamManagementHistoryInfo.selectedTab = teamManagementStore.instance\r\n                    .selectedTeamManagementTab\r\n                    ? teamManagementStore.instance.selectedTeamManagementTab\r\n                    : enums.TeamManagement.MyTeam;\r\n                _teamManagementHistoryInfo.currentContainer = navigationStore.instance.containerPage;\r\n                _historyItem.team = _teamManagementHistoryInfo;\r\n            }\r\n            else if (markerOperationModeFactory.operationMode.isStandardisationSetupMode) {\r\n                var _standardisationSetupHistoryInfo = new standardisationSetupHistoryInfo();\r\n                _standardisationSetupHistoryInfo.standardisationSetupWorklistType =\r\n                    standardisationSetupStore.instance.selectedStandardisationSetupWorkList;\r\n                _standardisationSetupHistoryInfo.timeStamp = Date.now();\r\n                _historyItem.standardisationSetup = _standardisationSetupHistoryInfo;\r\n            }\r\n            else {\r\n                var _worklistHistoryInfo = new worklistHistoryInfo();\r\n                _worklistHistoryInfo.worklistType = worklistStore.instance.currentWorklistType;\r\n                _worklistHistoryInfo.responseMode = worklistStore.instance.getResponseMode;\r\n                _worklistHistoryInfo.remarkRequestType = worklistStore.instance.getRemarkRequestType;\r\n                _historyItem.myMarking = _worklistHistoryInfo;\r\n            }\r\n            var _isMarkingEnabled = qigStore.instance.selectedQIGForMarkerOperation &&\r\n                qigStore.instance.selectedQIGForMarkerOperation.isMarkingEnabled;\r\n            _historyItem.markingMethodId =\r\n                qigStore.instance.selectedQIGForMarkerOperation.markingMethod;\r\n            _historyItem.isElectronicStandardisationTeamMember =\r\n                qigStore.instance.selectedQIGForMarkerOperation.isElectronicStandardisationTeamMember;\r\n            // used for showing/hiding marking link in menu's histroy list under menu tab\r\n            _historyItem.isMarkingEnabled =\r\n                _isMarkingEnabled &&\r\n                    qigStore.instance.selectedQIGForMarkerOperation.examinerQigStatus !==\r\n                        enums.ExaminerQIGStatus.WaitingStandardisation &&\r\n                    qigStore.instance.selectedQIGForMarkerOperation.currentMarkingTarget != null;\r\n            // used for showing/hiding teammanagement link in menu's histroy list under menu tab\r\n            _historyItem.isTeamManagementEnabled =\r\n                qigStore.instance.selectedQIGForMarkerOperation &&\r\n                    qigStore.instance.selectedQIGForMarkerOperation.isTeamManagementEnabled;\r\n            // used for showing/hiding standardisation setup link in menu's history list under menu tab.\r\n            _historyItem.isStandardisationSetupEnabled =\r\n                (qigStore.instance.isStandardisationSetupButtonVisible(qigStore.instance.selectedQIGForMarkerOperation) ||\r\n                    qigStore.instance.isStandardisationSetupLinkVisible(qigStore.instance.selectedQIGForMarkerOperation));\r\n            _historyItem.questionPaperPartId =\r\n                qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId;\r\n            _historyItem.examinerRoleId = operationModeHelper.examinerRoleId;\r\n            loadContainerActionCreator.addToRecentHistory(_historyItem);\r\n        };\r\n        /**\r\n         * Show No Marking Check Available Popup\r\n         */\r\n        _this.showNoMarkingCheckAvailableMessage = function (popUpType, popUpActionType, popUpData) {\r\n            if (popUpActionType === enums.PopUpActionType.Show &&\r\n                popUpType === enums.PopUpType.NoMarkingCheckRequestPossible) {\r\n                _this.setState({\r\n                    popUpType: popUpType,\r\n                    doShowNoMarkingCheckAvailableMessage: true\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Navigate to team management\r\n         */\r\n        _this.onTeamManagementOpen = function (isFromHistory) {\r\n            if (isFromHistory === void 0) { isFromHistory = false; }\r\n            navigationHelper.loadTeamManagement(isFromHistory);\r\n        };\r\n        /**\r\n         * Marking Check Complete Button Clicked\r\n         */\r\n        _this.markCheckCompleteButtonEvent = function () {\r\n            _this.setState({ isMarkingCheckCompleteConfirmationPopupDisplaying: true });\r\n        };\r\n        /**\r\n         *  Marking Check Completed Event\r\n         */\r\n        _this.markCheckCompletedEvent = function () {\r\n            markingCheckActionCreator.getMarkCheckExaminers(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n        };\r\n        /**\r\n         * Scroll view when focus comes to text box in android like in ipad\r\n         * Firefox is exclueded, scrollIntoViewIfNeeded is not supporting by browser #49184.\r\n         */\r\n        _this.scrollIntoViewOnEditingTextForAndroid = function () {\r\n            var activeElement = document.activeElement;\r\n            if (htmlUtilities.isAndroidDevice &&\r\n                !htmlUtilities.isAndroidFirefox &&\r\n                (activeElement.tagName === 'TEXTAREA' || activeElement.tagName === 'INPUT')) {\r\n                var that = _this;\r\n                setTimeout(function () {\r\n                    var el = $(activeElement)[0];\r\n                    el.scrollIntoViewIfNeeded(true);\r\n                }, 0);\r\n            }\r\n        };\r\n        /**\r\n         * Show locks in qig popup\r\n         */\r\n        _this.onShowLocksInQigsPopup = function (_locksInQigDetailsList) {\r\n            if (qigStore.instance.doShowLocksInQigPopUp &&\r\n                _locksInQigDetailsList.locksInQigDetailsList &&\r\n                _locksInQigDetailsList.locksInQigDetailsList.count()) {\r\n                _this.setState({\r\n                    reRenderLocksInQigPopUp: true\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * This method will render the pop up with no of locks and qig name\r\n         */\r\n        _this.renderLocksInQigPopUp = function () {\r\n            // If Exam body CC's not loaded yet, then do not show the locks popup\r\n            var locksPopup = ccStore.instance.isExamBodyCCLoaded ? (React.createElement(LocksInQigPopup, { showLocksInQigPopUp: _this.state.reRenderLocksInQigPopUp, fromLogout: qigStore.instance.isShowLocksFromLogout, onCancelClickOfLocksInQigPopup: _this.onCancelClickOfLocksInQigPopup, onLogoutClickOfLocksInQigPopup: _this.onLogoutClickOfLocksInQigPopup, id: 'LocksInQigPopup', key: 'LocksInQigPopup_key' })) : null;\r\n            return locksPopup;\r\n        };\r\n        /**\r\n         * Locks in qig list recieved event\r\n         */\r\n        _this.onQigSelectedFromLockedList = function (qigId) {\r\n            if (loginStore.instance.isAdminRemarker) {\r\n                // Invoking the action creator to retrieve the Admin remarkers QIG details.\r\n                qigActionCreator.getAdminRemarkerQIGSelectorData(true);\r\n            }\r\n            else {\r\n                // Invoking the action creator to retrieve the QIG list for the QIG Selector\r\n                qigActionCreator.getQIGSelectorData(qigId, true, false, false, true);\r\n            }\r\n        };\r\n        /**\r\n         * Cancel click on locks in qig popup\r\n         * @private\r\n         *\r\n         * @memberof Footer\r\n         */\r\n        _this.onCancelClickOfLocksInQigPopup = function () {\r\n            _this.setState({\r\n                reRenderLocksInQigPopUp: false\r\n            });\r\n        };\r\n        _this.onLogoutClickOfLocksInQigPopup = function () {\r\n            _this.onYesClickOfLogoutConfirmation(false);\r\n            _this.setState({\r\n                reRenderLocksInQigPopUp: false\r\n            });\r\n        };\r\n        _this.navigateToQigFromLockedList = function (isDataFromSearch, isDataFromHistory, isFromLocksInPopUp) {\r\n            if (isDataFromSearch === void 0) { isDataFromSearch = false; }\r\n            if (isDataFromHistory === void 0) { isDataFromHistory = false; }\r\n            if (isFromLocksInPopUp === void 0) { isFromLocksInPopUp = false; }\r\n            if (isFromLocksInPopUp) {\r\n                var changeOperationModePromise = userInfoActionCreator.changeOperationMode(enums.MarkerOperationMode.TeamManagement);\r\n                var markSchemeGroupCCPromise = ccActionCreator.getMarkSchemeGroupCCs(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId);\r\n                var openQIGPromise = void 0;\r\n                if (qigStore.instance.getOverviewData) {\r\n                    openQIGPromise = qigActionCreator.openQIG(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, false);\r\n                }\r\n                else {\r\n                    openQIGPromise = qigActionCreator.getQIGSelectorData(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n                }\r\n                var that = _this;\r\n                Promise.Promise\r\n                    .all([changeOperationModePromise, markSchemeGroupCCPromise, openQIGPromise])\r\n                    .then(function (result) {\r\n                    teamManagementActionCreator.openTeamManagement(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, false, true);\r\n                });\r\n            }\r\n            _this.setState({\r\n                reRenderLocksInQigPopUp: false\r\n            });\r\n        };\r\n        _this.doLogoutPopup = function (isFromLogout, _locksInQigDetailsList) {\r\n            if (isFromLogout) {\r\n                if (_locksInQigDetailsList.locksInQigDetailsList &&\r\n                    _locksInQigDetailsList.locksInQigDetailsList.count() > 0) {\r\n                    qigActionCreator.showLocksInQigPopup(true, true);\r\n                }\r\n                else {\r\n                    userInfoActionCreator.showLogoutPopup();\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * show confirmation popup on submiting simulation response\r\n         */\r\n        _this.onshowSimulationResponseSubmitConfirmationPopup = function () {\r\n            /**\r\n             * for submit all the markgroup id will always be zero\r\n             */\r\n            if (submitStore.instance.getMarkGroupId > 0) {\r\n                _this.simulationResponseSubmitConfirmationDialogueContent = localeStore.instance.TranslateText('marking.worklist.submit-response-dialog.body-simulation');\r\n                _this.simulationResponseSubmitConfirmationDialogueHeader = localeStore.instance.TranslateText('marking.worklist.submit-response-dialog.header');\r\n            }\r\n            else {\r\n                _this.simulationResponseSubmitConfirmationDialogueContent = localeStore.instance.TranslateText('marking.worklist.submit-all-responses-dialog.body-simulation');\r\n                _this.simulationResponseSubmitConfirmationDialogueHeader = localeStore.instance.TranslateText('marking.worklist.submit-all-responses-dialog.header');\r\n            }\r\n            _this.setState({ showSimulationResponseSubmitConfirmationPopup: true });\r\n        };\r\n        /**\r\n         * call when share toggle button is turned off\r\n         */\r\n        _this.shareConfirmationPopup = function (clientToken, showSharePopup) {\r\n            _this.shareConfirmationClientToken = clientToken;\r\n            markingActionCreator.showOrHideRemoveContextMenu(false);\r\n            _this.setState({\r\n                isShared: showSharePopup,\r\n                doShowShareConfirmationPopup: true\r\n            });\r\n        };\r\n        /**\r\n         * Render simulation exited qigs in popup\r\n         */\r\n        _this.renderSimulationExitedQigsPopup = function () {\r\n            var secondaryContent = null;\r\n            var footerContent = null;\r\n            if (_this.state.showAllSimulationExitedQigs) {\r\n                secondaryContent = localeStore.instance.TranslateText('marking.worklist.exited-simulation-dialog.subheader-multiple-qigs');\r\n                footerContent = localeStore.instance.TranslateText('marking.worklist.exited-simulation-dialog.body-multiple-qigs');\r\n            }\r\n            else {\r\n                secondaryContent = localeStore.instance.TranslateText('marking.worklist.exited-simulation-dialog.subheader-single-qig');\r\n                footerContent = localeStore.instance.TranslateText('marking.worklist.exited-simulation-dialog.body-single-qig');\r\n            }\r\n            // If Exam body CC's not loaded yet, then do not show the simulation exited qigs popup\r\n            var simulationExitedQigsPopup = ccStore.instance.isExamBodyCCLoaded ? (React.createElement(GenericDialog, { content: null, multiLineContent: _this.getSimulationModeExitedQigs(), header: localeStore.instance.TranslateText('marking.worklist.exited-simulation-dialog.header'), secondaryContent: secondaryContent, displayPopup: _this.state.showSimulationExitedPopup, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: _this.onOKClickOfSimulationExitedQigsPopup.bind(_this), id: 'moveSimulation', key: 'moveSimulationMessage', popupDialogType: enums.PopupDialogType.SimulationExited, footerContent: footerContent })) : null;\r\n            return simulationExitedQigsPopup;\r\n        };\r\n        /**\r\n         * On Ok button click of simulation exited qigs popup\r\n         */\r\n        _this.onOKClickOfSimulationExitedQigsPopup = function () {\r\n            var currentContainer = navigationStore.instance.containerPage;\r\n            // When the popup is displayed in the qigselector\r\n            if (_this.state.showAllSimulationExitedQigs &&\r\n                currentContainer === enums.PageContainers.QigSelector) {\r\n                simulationModeHelper.clearCacheBeforBeforeSimulationTargetCompletion();\r\n                simulationModeHelper.handleSimulationTargetCompletion(true);\r\n            }\r\n            else {\r\n                // When only the current qig is shown in the popup\r\n                if (!_this.state.showAllSimulationExitedQigs) {\r\n                    simulationModeHelper.clearCacheBeforBeforeSimulationTargetCompletion();\r\n                    simulationModeHelper.handleSimulationTargetCompletion(false);\r\n                }\r\n            }\r\n            _this.processBasedOnSaveMarksAndAnnotationTriggeringPoint(_this.triggerPointAfterClose);\r\n            _this.triggerPointAfterClose = 0;\r\n        };\r\n        /**\r\n         * When standardisation setup is completed in background\r\n         */\r\n        _this.onStandardisationSetupCompletionInBackground = function () {\r\n            if (navigationStore.instance.containerPage === enums.PageContainers.WorkList) {\r\n                _this.setState({\r\n                    showSimulationExitedPopup: true,\r\n                    showAllSimulationExitedQigs: false\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * On simulation target completion\r\n         */\r\n        _this.onSimulationTargetCompletion = function () {\r\n            var navigateTo = qigStore.instance.navigateToAfterStdSetupCheck;\r\n            _this.setState({\r\n                showSimulationExitedPopup: false\r\n            });\r\n            if (!_this.state.showAllSimulationExitedQigs) {\r\n                if (navigateTo === enums.PageContainers.Message) {\r\n                    navigationHelper.loadMessagePage();\r\n                }\r\n                else if (navigateTo === enums.PageContainers.WorkList) {\r\n                    navigationHelper.loadWorklist();\r\n                }\r\n                else if (navigateTo === enums.PageContainers.TeamManagement) {\r\n                    navigationHelper.loadTeamManagement();\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * On getting the simulation exited qigs and locks in qigs data\r\n         */\r\n        _this.onSimulationExitedQigsAndLocksInQigsRecieved = function (isFromLogout) {\r\n            if (simulationModeHelper.isSimulationExitedQigDataAvailable) {\r\n                // If there are simulation exited qigs then show the popup\r\n                _this.setState({\r\n                    showSimulationExitedPopup: true,\r\n                    showAllSimulationExitedQigs: true\r\n                });\r\n            }\r\n            else if (simulationModeHelper.isLockInQigsDataAvailable) {\r\n                // Show locks if there is no simulation\r\n                qigActionCreator.showLocksInQigPopup(true, isFromLogout);\r\n            }\r\n        };\r\n        /**\r\n         * On standardisation setup completion\r\n         */\r\n        _this.onStandardisationSetupCompletion = function () {\r\n            if (qigStore.instance.isStandardisationsetupCompletedForTheQig &&\r\n                qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n                _this.setState({\r\n                    showSimulationExitedPopup: true,\r\n                    showAllSimulationExitedQigs: false\r\n                });\r\n            }\r\n            else if (qigStore.instance.navigateToAfterStdSetupCheck === enums.PageContainers.Login) {\r\n                // Checking whether there are any locked examiners currently, if the standardisation setup was not completed\r\n                // and the user was trying to logout.\r\n                qigActionCreator.getLocksInQigs(true);\r\n            }\r\n        };\r\n        /**\r\n         * On getting the simulation exited qigs data\r\n         */\r\n        _this.onSimulationExitedQigsRecieved = function () {\r\n            if (simulationModeHelper.isSimulationExitedQigDataAvailable) {\r\n                _this.setState({\r\n                    showSimulationExitedPopup: true,\r\n                    showAllSimulationExitedQigs: true\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Method to be invoked when browser is online.\r\n         */\r\n        _this.updateOnlineStatus = function () {\r\n            // sends ping to validate network is offline\r\n            applicationActionCreator.validateNetWorkStatus(true);\r\n        };\r\n        /**\r\n         * On ok click of submit response error popup\r\n         */\r\n        _this.onSubmitResponseErrorPopupOkClick = function () {\r\n            _this.setState({ isSubmitErrorPopDisplaying: false });\r\n            _this.initiateContentRefresh();\r\n            if (ecourseworkHelper.isECourseworkComponent) {\r\n                ecourseworkHelper.clearEcourseworkFileData();\r\n            }\r\n            else {\r\n                navigationHelper.loadWorklist();\r\n            }\r\n        };\r\n        /**\r\n         * On OK click of Autozoned message popup\r\n         */\r\n        _this.onAutozonedWarningMessageOkClick = function () {\r\n            //change the state to false to close the popup\r\n            _this.setState({ isAutozonedMessagePopupDisplaying: false });\r\n        };\r\n        /**\r\n         * On Ecoursework File data cleared\r\n         */\r\n        _this.onEcourseworkFileDataCleared = function () {\r\n            ecourseworkHelper.fetchECourseWorkCandidateScriptMetadata(null, true);\r\n            navigationHelper.loadWorklist();\r\n        };\r\n        /**\r\n         * on click select to mark popup in Std setup centre script\r\n         */\r\n        _this.onSelectStdSetupResponseToMark = function (popupType, provisionalQigDetails) {\r\n            var provisionalMarkingType = enums.ProvisionalMarkingType.None;\r\n            if (popupType === enums.PopUpType.SelectToMarkAsProvisional && _this.isCommonProvisionalStandardisationCcOn()) {\r\n                provisionalMarkingType = enums.ProvisionalMarkingType.AllocateToAll;\r\n            }\r\n            if (provisionalQigDetails) {\r\n                _this.populateCreateMultiQIGProvisionalsPopUpData(provisionalQigDetails);\r\n            }\r\n            _this.setState({ popUpType: popupType, provisionalMarkingType: provisionalMarkingType });\r\n        };\r\n        /**\r\n         * on cancel click of the select response to mark as provisional popup\r\n         */\r\n        _this.onCancelClickOfSelectResponseToMarkasProvisional = function () {\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n        };\r\n        /**\r\n         * cancel click on mark as definitive popup.\r\n         */\r\n        _this.onCancelClickOnMarkAsDefinitivePopUp = function () {\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n            _this.copyMarksAsDefinitiveSelected = true;\r\n        };\r\n        /**\r\n         * submit click on mark as definitive popup.\r\n         */\r\n        _this.submitClickOnMarkAsDefinitivePopUp = function () {\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n            var standardisationResponseDataExaminerRoleId = 0;\r\n            var currentExaminerRoleId = 0;\r\n            var standardisationResponseData = standardisationSetupStore.instance.fetchStandardisationResponseData();\r\n            if (standardisationResponseData) {\r\n                standardisationResponseDataExaminerRoleId = standardisationResponseData.examinerRoleId;\r\n                currentExaminerRoleId = qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId;\r\n            }\r\n            standardisationActionCreator.copyMarksAndAnnotationsAsDefinitive(_this.copyMarksAsDefinitiveSelected, standardisationResponseDataExaminerRoleId !== currentExaminerRoleId, responseHelper.hasAdditionalObject);\r\n        };\r\n        /**\r\n         * on mark later clicked for select responses popup to move as provisional\r\n         */\r\n        _this.selectProvisionalMarkLaterClick = function () {\r\n            var markSchemeGroupIds = Array();\r\n            if (_this.multiQigCheckboxItems && _this.multiQigCheckboxItems.length > 1) {\r\n                _this.multiQigCheckboxItems.map(function (item) {\r\n                    if (item.isChecked) {\r\n                        markSchemeGroupIds.push(item.id);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                markSchemeGroupIds.push(standardisationSetupStore.instance.markSchemeGroupId);\r\n            }\r\n            standardisationActionCreator.createStandardisationRig(standardisationSetupStore.instance.examinerRoleId, standardisationSetupStore.instance.selectedResponseId, markSchemeGroupIds, enums.MarkingMode.PreStandardisation, false, _this.state.provisionalMarkingType);\r\n        };\r\n        /**\r\n         * on mark now clicked for select responses popup to move as provisional\r\n         */\r\n        _this.selectProvisionalMarkNowClick = function () {\r\n            var markSchemeGroupIds = Array();\r\n            if (_this.multiQigCheckboxItems && _this.multiQigCheckboxItems.length > 1) {\r\n                _this.multiQigCheckboxItems.map(function (item) {\r\n                    if (item.isChecked) {\r\n                        markSchemeGroupIds.push(item.id);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                markSchemeGroupIds.push(standardisationSetupStore.instance.markSchemeGroupId);\r\n            }\r\n            standardisationActionCreator.createStandardisationRig(standardisationSetupStore.instance.examinerRoleId, standardisationSetupStore.instance.selectedResponseId, markSchemeGroupIds, enums.MarkingMode.PreStandardisation, true, _this.state.provisionalMarkingType);\r\n        };\r\n        /**\r\n         * navigate to standardisation setup screen on mark later\r\n         */\r\n        _this.onStandardisationRigCreated = function (errorInRigCreation, doMarkNow) {\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n            if (!errorInRigCreation) {\r\n                navigationHelper.loadStandardisationSetup();\r\n                // promise to get standardisation target details\r\n                var getStandardisationTargetDetails = standardisationActionCreator.getStandardisationTargetDetails(standardisationSetupStore.instance.markSchemeGroupId, standardisationSetupStore.instance.examinerRoleId);\r\n                getStandardisationTargetDetails.then(function (item) {\r\n                    // load select Responses details on coming from response\r\n                    var standardisationworlist = standardisationActionCreator.standardisationSetupWorkListSelection(doMarkNow ? enums.StandardisationSetup.ProvisionalResponse : enums.StandardisationSetup.SelectResponse, standardisationSetupStore.instance.markSchemeGroupId, standardisationSetupStore.instance.examinerRoleId);\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Reload unclassified worklist\r\n         */\r\n        _this.reRenderUnclassifiedWorklist = function (isFromResponse) {\r\n            // Update standardisation target details\r\n            _this.copyMarksAsDefinitiveSelected = true;\r\n            var getStandardisationTargetDetails = standardisationActionCreator.getStandardisationTargetDetails(standardisationSetupStore.instance.markSchemeGroupId, standardisationSetupStore.instance.examinerRoleId);\r\n            // Update unclassified worklist details\r\n            var standardisationWorklist = standardisationActionCreator.standardisationSetupWorkListSelection(enums.StandardisationSetup.UnClassifiedResponse, standardisationSetupStore.instance.markSchemeGroupId, standardisationSetupStore.instance.examinerRoleId);\r\n            // Response id in the unclassified worklist to which, the navigation should happen after classify action\r\n            var nextResponseId = markerOperationModeFactory.operationMode.nextResponseId(responseStore.instance.selectedDisplayId.toString());\r\n            // For classify actions from response scren\r\n            if (nextResponseId && isFromResponse) {\r\n                // Remember unclassified worklist view to go back after classify action\r\n                var stdWorklistView = standardisationSetupStore.instance.isTotalMarksViewSelected ?\r\n                    enums.STDWorklistViewType.ViewTotalMarks :\r\n                    enums.STDWorklistViewType.ViewMarksByQuestion;\r\n                var unclassifiedResponsesPromise = standardisationActionCreator.getUnClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, false, stdWorklistView).then(function (item) {\r\n                    // On classifying response from response screen, navigate to next available response in the unclassified worklist\r\n                    navigationHelper.responseNavigation(enums.ResponseNavigation.next, false, parseInt(nextResponseId));\r\n                });\r\n                Promise.Promise.all([standardisationWorklist, unclassifiedResponsesPromise]).\r\n                    then(function () {\r\n                    _this.setState({ doShowClassifyResponseBusyIndicator: false });\r\n                });\r\n            }\r\n            else {\r\n                Promise.Promise.all([standardisationWorklist]).\r\n                    then(function () {\r\n                    _this.setState({ doShowClassifyResponseBusyIndicator: false });\r\n                });\r\n                // On classifying last response from response screen, navigate back to unclassified worklist.\r\n                navigationHelper.loadStandardisationSetup();\r\n            }\r\n        };\r\n        /**\r\n         * Reload provional worklist\r\n         */\r\n        _this.reRenderProvionalWorklist = function (fromMarkScheme) {\r\n            if (_this._showShareLoadingIndicatorForPE && fromMarkScheme) {\r\n                var stdWorklistView = standardisationSetupStore.instance.isTotalMarksViewSelected ? enums.STDWorklistViewType.ViewTotalMarks :\r\n                    enums.STDWorklistViewType.ViewMarksByQuestion;\r\n                var nextResponseId = markerOperationModeFactory.operationMode.nextResponseId(_this._shareResponseDetails.displayId.toString());\r\n                if (nextResponseId) {\r\n                    var responseData = standardisationSetupStore.instance.getResponseDetails(responseStore.instance.selectedDisplayId.toString());\r\n                    // remove shared response from provisional response worklist collection.\r\n                    standardisationActionCreator.updateStandardisationResponseCollection(responseData.esMarkGroupId, enums.StandardisationSetup.ProvisionalResponse);\r\n                    _this.setState({\r\n                        isBusy: false\r\n                    });\r\n                    navigationHelper.responseNavigation(enums.ResponseNavigation.next, false, parseInt(nextResponseId));\r\n                }\r\n                else {\r\n                    // if next response is not available then load worklist.\r\n                    navigationHelper.loadStandardisationSetup();\r\n                }\r\n                return;\r\n            }\r\n        };\r\n        /**\r\n         * on cancel click of reclassify multi option popup\r\n         */\r\n        _this.onCancelClickOfReclassifyMultiOptionPopUp = function () {\r\n            _this.reclassifyResponseDetails = undefined;\r\n            // Disable classify response 'OK button' while clicking on classify multi option popup 'cancel button'\r\n            if (_this.isUnclassifiedWorklistSelected()) {\r\n                _this.isClassifyResponseOkButtonDisabled = true;\r\n            }\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n        };\r\n        /**\r\n         * On cancel click of Reuse Rig action popup\r\n         */\r\n        _this.onCancelClickOfReuseRigPopup = function () {\r\n            _this.reuseRIGSelectedDisplayId = undefined;\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            _this.populateReuseUnclassifyPopupItem();\r\n            _this.setState({ popUpType: enums.PopUpType.None });\r\n        };\r\n        /**\r\n         * On Ok mclick of ReuseRIG action popup\r\n         */\r\n        _this.onOKClickOfReuseRigpopup = function () {\r\n            var openedResponseDetails = standardisationSetupStore.instance.getReusableResponseDetails(_this.reuseRIGSelectedDisplayId.toString());\r\n            if (_this.reuseUnclassifyItem.filter(function (i) { return i.isChecked === true; })[0] === undefined) {\r\n                _this.currentMarkingMode = _this.items.filter(function (i) { return i.isChecked === true; })[0].id;\r\n            }\r\n            else {\r\n                _this.currentMarkingMode = enums.MarkingMode.PreStandardisation;\r\n            }\r\n            var documentId = openedResponseDetails.documentId;\r\n            var markGroupId = openedResponseDetails.esMarkGroupId;\r\n            var markSchemeGroupId = openedResponseDetails.markSchemeGroupId;\r\n            standardisationActionCreator.reuseRigAction(markGroupId, documentId, markSchemeGroupId, _this.currentMarkingMode);\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None,\r\n                doShowReuseRigActionBusyIndicator: true\r\n            });\r\n        };\r\n        /**\r\n         * reclassify response to selected marking mode in popup\r\n         */\r\n        _this.onReclassifyResponse = function () {\r\n            // Fetch markSchemeGroupId\r\n            var markSchemeGroupId = standardisationSetupStore.instance.markSchemeGroupId;\r\n            // rig order update is not required for classify action\r\n            var rigOrderUpdateRequired = _this.isUnclassifiedWorklistSelected() ? false : true;\r\n            // Fetch the new marking mode id selected for reclassification\r\n            _this.currentMarkingMode = _this.items.filter(function (i) { return i.isChecked === true; })[0].id;\r\n            _this.previousMarkingMode = _this.reclassifyResponseDetails.markingModeId;\r\n            _this.displayId = _this.reclassifyResponseDetails.displayId;\r\n            // Construct the model for reclassifyResponseAction\r\n            var responseDetails = {\r\n                candidateScriptId: _this.reclassifyResponseDetails.candidateScriptId,\r\n                esCandidateScriptMarkSchemeGroupId: _this.reclassifyResponseDetails.esCandidateScriptMarkSchemeGroupId,\r\n                markSchemeGroupId: markSchemeGroupId,\r\n                markingModeId: _this.currentMarkingMode,\r\n                previousMarkingModeId: _this.reclassifyResponseDetails.markingModeId,\r\n                rigOrder: null,\r\n                isRigOrderUpdateRequired: rigOrderUpdateRequired,\r\n                displayId: _this.reclassifyResponseDetails.displayId,\r\n                totalMarkValue: _this.reclassifyResponseDetails.totalMarkValue,\r\n                oldRigOrder: _this.reclassifyResponseDetails.rigOrder,\r\n                assignNextRigOrder: _this.currentMarkingMode !== enums.MarkingMode.Seeding ? true : false,\r\n                esMarkGroupRowVersion: _this.reclassifyResponseDetails.esMarkGroupRowVersion\r\n            };\r\n            if (_this.isUnclassifiedWorklistSelected()) {\r\n                _this._classifyResponseDetails = responseDetails;\r\n                _this.isClassifyResponseOkButtonDisabled = true;\r\n                _this.setState({\r\n                    popUpType: enums.PopUpType.None,\r\n                    doShowClassifyResponseBusyIndicator: true\r\n                });\r\n                submitHelper.saveAndClassifyResponse(responseStore.instance.selectedMarkGroupId, _this._classifyResponseDetails);\r\n            }\r\n            else if (responseDetails.previousMarkingModeId !== responseDetails.markingModeId) {\r\n                // No need to call classify action if there are no changes in marking mode \r\n                // This reclassify action is being called when reclassify a response from response screen \r\n                standardisationActionCreator.reclassifyResponse(responseDetails, enums.PageContainers.Response);\r\n            }\r\n            // reset state \r\n            _this.reclassifyResponseDetails = undefined;\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            var isBusy = !_this.isUnclassifiedWorklistSelected() ?\r\n                responseDetails.previousMarkingModeId !== responseDetails.markingModeId : false;\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None,\r\n                doShowReclassifyResponseBusyIndicator: isBusy\r\n            });\r\n        };\r\n        /**\r\n         * Set the state of multi option popup type to Classify or Reclassify\r\n         */\r\n        _this.reclassifyMultiOptionPopupOpen = function (esMarkGroupId) {\r\n            _this.reclassifyResponseDetails =\r\n                standardisationSetupStore.instance.getResponseDetailsByEsMarkGroupIdBasedOnPermission(esMarkGroupId);\r\n            _this.populateRecassifyMultiOptionPopUpData(_this.reclassifyResponseDetails.markingModeId);\r\n            _this.setState({ popUpType: enums.PopUpType.ReclassifyMultiOption });\r\n        };\r\n        /**\r\n         * On clicking items in radio button popup\r\n         * @param item\r\n         */\r\n        _this.onCheckedChange = function (itemToBeUpdated) {\r\n            // set the isChecked property of the checked item to true\r\n            _this.items.map(function (i) {\r\n                i.isChecked = i.id === itemToBeUpdated.id ? true : false;\r\n            });\r\n            // Enable classify response OK button on selecting any of the classify response radio button options\r\n            if (_this.isUnclassifiedWorklistSelected) {\r\n                _this.isClassifyResponseOkButtonDisabled = false;\r\n            }\r\n            // If reuse popup then unchecked unclassify option when select classification\r\n            if (_this.reuseUnclassifyItem !== undefined) {\r\n                _this.reuseUnclassifyItem.map(function (i) {\r\n                    i.isChecked = false;\r\n                });\r\n            }\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * On clicking items in radio buton popup\r\n         */\r\n        _this.onReuseItemCheckedChange = function (itemToBeUpdated) {\r\n            _this.reuseUnclassifyItem.map(function (i) {\r\n                i.isChecked = i.id === itemToBeUpdated.id ? true : false;\r\n            });\r\n            // set the isChecked property of the not checked item to false\r\n            _this.items.map(function (i) {\r\n                i.isChecked = false;\r\n            });\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * Method called when reclassify popup open.\r\n         * @param reclassifiedResponseDetails\r\n         */\r\n        _this.reclassifyPopupOpen = function (reclassifiedResponseDetails) {\r\n            // Set the previous, current marking mode plus display id when we try to reclassify from worklist\r\n            // or within response.\r\n            _this.previousMarkingMode = reclassifiedResponseDetails.previousMarkingModeId;\r\n            _this.currentMarkingMode = reclassifiedResponseDetails.markingModeId;\r\n            _this.displayId = reclassifiedResponseDetails.displayId;\r\n        };\r\n        /**\r\n         * ReuseRIG action popup open\r\n         */\r\n        _this.reuseRigActionPopupOpen = function (displayId) {\r\n            _this.reuseRIGSelectedDisplayId = displayId;\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            _this.populateReuseUnclassifyPopupItem();\r\n            var openedResponseDetails = standardisationSetupStore.instance.\r\n                getReusableResponseDetails(_this.reuseRIGSelectedDisplayId.toString());\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.ReuseRigAction\r\n            });\r\n        };\r\n        /**\r\n         * ReuseRIG action completed event\r\n         */\r\n        _this.reuseRigActionCompletedEvent = function () {\r\n            _this.reuseRIGSelectedDisplayId = undefined;\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            _this.populateReuseUnclassifyPopupItem();\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None,\r\n                doShowReuseRigActionBusyIndicator: false\r\n            });\r\n        };\r\n        /**\r\n         * Method to open Reclassify error popup\r\n         * whenever a fail in reclassify action.\r\n         */\r\n        _this.reclassifyErrorPopupOpen = function () {\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.ReclassifyError, doShowReclassifyResponseBusyIndicator: false\r\n            });\r\n        };\r\n        /**\r\n         * Method to hide Reclassify error popup on ok click.\r\n         */\r\n        _this.onReclassifyErrorMessageOkClick = function () {\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None\r\n            });\r\n        };\r\n        /**\r\n         * Method to show the concurrent save fail popup\r\n         * while updating the same response marking mode by different user.\r\n         */\r\n        _this.concurrentSaveFailPopup = function (area) {\r\n            _this.concurrentSaveFailArea = area;\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.ConcurrentSaveFail,\r\n                doShowReclassifyResponseBusyIndicator: false,\r\n                doShowClassifyResponseBusyIndicator: false\r\n            });\r\n        };\r\n        /**\r\n         * Method to show the discard response fail popup while discarding the same response by different user.\r\n         */\r\n        _this.discardResponseFailPopup = function () {\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.DiscardResponseFail\r\n            });\r\n        };\r\n        /**\r\n         * Method to hide Concurrent Save Fail Popup on ok click.\r\n         */\r\n        _this.onConcurrentSaveFailPopupOkClick = function () {\r\n            // get the worklist view type.\r\n            var stdWorklistViewType = userOptionsHelper.getUserOptionByName(userOptionKeys.SELECTED_GRID_VIEW_OPTION)\r\n                === 'false' ? enums.STDWorklistViewType.ViewMarksByQuestion : enums.STDWorklistViewType.ViewTotalMarks;\r\n            if (_this.concurrentSaveFailArea === enums.PageContainers.Response) {\r\n                // when concurreny error occurs from response, navigate to ssu\r\n                navigationHelper.loadStandardisationSetup();\r\n            }\r\n            else {\r\n                if (standardisationSetupStore.instance.selectedStandardisationSetupWorkList\r\n                    === enums.StandardisationSetup.ClassifiedResponse) {\r\n                    // Refresh the Classified worklist grid with latest changes.\r\n                    standardisationActionCreator.getClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, standardisationSetupStore.instance.markSchemeGroupId, false, stdWorklistViewType);\r\n                }\r\n                else {\r\n                    // Refresh the UnClassified worklist grid with latest changes.\r\n                    standardisationActionCreator.getUnClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, standardisationSetupStore.instance.markSchemeGroupId, false, stdWorklistViewType);\r\n                }\r\n            }\r\n            // Reset concurrent Save Fail Area\r\n            _this.concurrentSaveFailArea = enums.PageContainers.None;\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None\r\n            });\r\n        };\r\n        /**\r\n         * Method to hide discard response fail popup and navigate back to unclassified worklist with refreshed data.\r\n         */\r\n        _this.onDiscardResponseFailPopupOkClick = function () {\r\n            // get the worklist view type.\r\n            var stdWorklistViewType = userOptionsHelper.getUserOptionByName(userOptionKeys.SELECTED_GRID_VIEW_OPTION)\r\n                === 'false' ? enums.STDWorklistViewType.ViewMarksByQuestion : enums.STDWorklistViewType.ViewTotalMarks;\r\n            // Refresh the UnClassified worklist grid with latest data.\r\n            standardisationActionCreator.getUnClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, standardisationSetupStore.instance.markSchemeGroupId, false, stdWorklistViewType);\r\n            navigationHelper.loadStandardisationSetup();\r\n            _this.setState({\r\n                popUpType: enums.PopUpType.None\r\n            });\r\n        };\r\n        /**\r\n         * On clicking items in check box popup\r\n         * @param item\r\n         */\r\n        _this.onChecked = function (itemToBeUpdated) {\r\n            //// set the isChecked property of the checked item to true\r\n            _this.multiQigCheckboxItems.map(function (item) {\r\n                item.isChecked = item.id === itemToBeUpdated.id ? (item.isChecked ? false : true) : item.isChecked;\r\n            });\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * Popup element for note timestamp changed popup.\r\n         */\r\n        _this.onNoteTimeStampChangedPopupClose = function () {\r\n            _this.setState({ isNoteTimeStampChangedPopupVisible: false });\r\n        };\r\n        /**\r\n         * Popup element for response modified popup.\r\n         */\r\n        _this.onResponseModifiedPopupClose = function () {\r\n            _this.setState({ isResponseModifiedPopupVisibile: false });\r\n            navigationHelper.loadStandardisationSetup();\r\n        };\r\n        /**\r\n         * Sets the visibility of UnClassified response unavailable popup.\r\n         */\r\n        _this.unClassifiedScriptinStmUnavailable = function () {\r\n            _this.setState({\r\n                unClassifiedScriptinStmUnavailableVisible: true\r\n            });\r\n        };\r\n        /**\r\n         * Ok click action, on UnClassified unavailable popup.\r\n         */\r\n        _this.okClickOnUnavailablePopUp = function () {\r\n            _this.setState({\r\n                unClassifiedScriptinStmUnavailableVisible: false\r\n            });\r\n            navigationHelper.loadStandardisationSetup();\r\n        };\r\n        /**\r\n         *  Rerender rig not found pop up.\r\n         */\r\n        _this.showOrHideRigNotFoundPopup = function (showOrHideRigNotFound) {\r\n            _this.setState({ showRigNotFoundPopUp: showOrHideRigNotFound });\r\n        };\r\n        /**\r\n         *  Rerender Rig not found popup\r\n         */\r\n        _this.onRigNotFoundOkClick = function () {\r\n            _this.setState({ showRigNotFoundPopUp: false });\r\n        };\r\n        /**\r\n         *  Display confirmation dialog to share the response.\r\n         */\r\n        _this.shareResponsePopupOpen = function (shareResponseDetails, isSharedFromMarkScheme) {\r\n            // Set flag to display shareResponse Popup Or not.\r\n            _this._shareResponseDetails = shareResponseDetails;\r\n            _this._isSharedFromMarkScheme = isSharedFromMarkScheme;\r\n            _this._showShareLoadingIndicator = true;\r\n            _this.populateRecassifyMultiOptionPopUpData();\r\n            _this.populateShareForPEclassifyPopupItem();\r\n            if (standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.classify) {\r\n                _this._showShareLoadingIndicatorForPE = true;\r\n                _this.setState({\r\n                    isShareResponsePopupDisplayingForPE: true,\r\n                    isBusy: false\r\n                });\r\n            }\r\n            else {\r\n                _this.setState({\r\n                    isShareResponsePopupDisplaying: true,\r\n                    isBusy: false\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         *  Close Share Response dialog after clicking Cancel.\r\n         */\r\n        _this.shareResponsePopupClose = function () {\r\n            // Set flag to display shareResponse Popup Or not.\r\n            _this._showShareLoadingIndicator = false;\r\n            _this.setState({\r\n                isShareResponsePopupDisplaying: false,\r\n                isShareResponsePopupDisplayingForPE: false\r\n            });\r\n        };\r\n        /**\r\n         * share Provisional Response\r\n         */\r\n        _this.shareResponse = function () {\r\n            _this.setState({\r\n                isShareResponsePopupDisplaying: false,\r\n                isShareResponsePopupDisplayingForPE: false,\r\n                isBusy: true\r\n            });\r\n            var markingMode;\r\n            // Fetch markSchemeGroupId\r\n            var markSchemeGroupId = standardisationSetupStore.instance.markSchemeGroupId;\r\n            if (_this.IsShareAndClassifyOptionNeeded) {\r\n                markingMode = _this.items.filter(function (i) { return i.isChecked === true; })[0].id;\r\n            }\r\n            else {\r\n                markingMode = _this._shareResponseDetails.markingModeId;\r\n            }\r\n            /**\r\n             * mapping values on submit argument\r\n             */\r\n            _this._shareResponseArgument = {\r\n                markGroupIds: [_this._shareResponseDetails.esMarkGroupId],\r\n                markingMode: markingMode,\r\n                examinerRoleId: standardisationSetupStore.instance.examinerRoleId,\r\n                markSchemeGroupId: standardisationSetupStore.instance.markSchemeGroupId,\r\n                examinerApproval: examinerStore.instance.getMarkerInformation.approvalStatus,\r\n                isAdminRemarker: false\r\n            };\r\n            if (_this.IsShareAndClassifyOptionNeeded) {\r\n                if (_this._isSharedFromMarkScheme) {\r\n                    //invoke save and navigate Provisional Response\r\n                    markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.shareAndClassify);\r\n                }\r\n                else {\r\n                    submitActionCreator.shareAndClassifyResponse(_this._shareResponseArgument, _this._isSharedFromMarkScheme, _this._shareResponseDetails.displayId);\r\n                }\r\n            }\r\n            else {\r\n                if (_this._isSharedFromMarkScheme) {\r\n                    markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.submit);\r\n                }\r\n                else {\r\n                    submitActionCreator.submitResponse(_this._shareResponseArgument, standardisationSetupStore.instance.markSchemeGroupId, enums.WorklistType.none, enums.RemarkRequestType.Unknown, _this._isSharedFromMarkScheme, _this._shareResponseDetails.displayId);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * submitResponseFromMarkscheme will be called when the response is ready to navigate\r\n         */\r\n        _this.submitResponseFromMarkscheme = function () {\r\n            if (markingStore.instance.navigateTo === enums.SaveAndNavigate.shareAndClassify) {\r\n                submitHelper.saveAndShareAndClassifyResponse(_this._shareResponseArgument, _this._isSharedFromMarkScheme, _this._shareResponseDetails.displayId);\r\n            }\r\n        };\r\n        _this.state = {\r\n            doShowSavingMarksAndAnnotationsIndicator: false,\r\n            isNonRecoverableErrorPopupVisible: false,\r\n            isDisplayingGraceResponseLessthan100PercentageError: false,\r\n            isDisplayingGraceResponseExpiredError: false,\r\n            isDisplayingResponseRemovedError: false,\r\n            isOnline: applicationStore.instance.isOnline,\r\n            isBusy: false,\r\n            isApplicationOffline: false,\r\n            nonRecoverableSaveMarksAndAnnotationsErrorMessage: false,\r\n            isMarkingCheckCompleteConfirmationPopupDisplaying: false,\r\n            doShowPopup: false,\r\n            showSimulationResponseSubmitConfirmationPopup: false,\r\n            showSimulationExitedPopup: false,\r\n            showAllSimulationExitedQigs: false,\r\n            renderedOn: 0,\r\n            isShared: false,\r\n            doShowShareConfirmationPopup: false,\r\n            isQigsessionClosedError: false,\r\n            popUpType: enums.PopUpType.None,\r\n            isNoteTimeStampChangedPopupVisible: false,\r\n            isResponseModifiedPopupVisibile: false,\r\n            unClassifiedScriptinStmUnavailableVisible: false,\r\n            showRigNotFoundPopUp: false,\r\n            provisionalMarkingType: enums.ProvisionalMarkingType.None,\r\n            isSaveEmailMessageDisplaying: false,\r\n            isShareResponsePopupDisplaying: false,\r\n            isShareResponsePopupDisplayingForPE: false\r\n        };\r\n        _this.onYesClickOfLogoutConfirmation = _this.onYesClickOfLogoutConfirmation.bind(_this);\r\n        _this.onYesClickOfLogoutConfirmationAutoLogout = _this.onYesClickOfLogoutConfirmation.bind(_this, true);\r\n        _this.onNoClickOfLogoutConfirmation = _this.onNoClickOfLogoutConfirmation.bind(_this);\r\n        _this.onOkClickOfNonRecoverableErrorMessage = _this.onOkClickOfNonRecoverableErrorMessage.bind(_this);\r\n        _this.userActionInterrupted = _this.userActionInterrupted.bind(_this);\r\n        _this.onOkClickMandatoryMessageValidationPopup = _this.onOkClickMandatoryMessageValidationPopup.bind(_this);\r\n        _this.onPopupOkClick = _this.onPopupOkClick.bind(_this);\r\n        _this.ShowSupervisorSamplingCommentValidationPopup = _this.ShowSupervisorSamplingCommentValidationPopup.bind(_this);\r\n        _this.onOkClickOfResponseInGraceExpiredMessageOrResponseRemovedMessage =\r\n            _this.onOkClickOfResponseInGraceExpiredMessageOrResponseRemovedMessage.bind(_this);\r\n        /* setting submit confirmation yes/no functions to initialize. */\r\n        _this.onYesClickOfSubmitButton = _this.onYesClickOfSubmitButton.bind(_this);\r\n        _this.onNoClickOfSubmitButton = _this.onNoClickOfSubmitButton.bind(_this);\r\n        _this.onYesClickOfShareConfirmationPopup = _this.onYesClickOfShareConfirmationPopup.bind(_this);\r\n        _this.onNoClickOfShareConfirmationPopup = _this.onNoClickOfShareConfirmationPopup.bind(_this);\r\n        _this.OnOkClickOfMarkingCheckCompleteConfirmation = _this.OnOkClickOfMarkingCheckCompleteConfirmation.bind(_this);\r\n        _this.OnCancelClickOfMarkingCheckCompleteConfirmation = _this.OnCancelClickOfMarkingCheckCompleteConfirmation.bind(_this);\r\n        _this._boundOnlineStatusEvent = _this.updateOnlineStatus.bind(_this);\r\n        _this.isAutozonedMessagePopupVisible = _this.isAutozonedMessagePopupVisible.bind(_this);\r\n        _this.onSelectStdSetupResponseToMark = _this.onSelectStdSetupResponseToMark.bind(_this);\r\n        _this.onCompleteStandardisationSetup = _this.onCompleteStandardisationSetup.bind(_this);\r\n        _this.onOkClickofStandardisationSetupValidate = _this.onOkClickofStandardisationSetupValidate.bind(_this);\r\n        _this.resetBusyIndicatorStdSetupNotComplete = _this.resetBusyIndicatorStdSetupNotComplete.bind(_this);\r\n        _this.OnCancelClickOfCompleteStandardisationConfirmation = _this.OnCancelClickOfCompleteStandardisationConfirmation.bind(_this);\r\n        _this.OnOkClickOfCompleteStandardisationConfirmation = _this.OnOkClickOfCompleteStandardisationConfirmation.bind(_this);\r\n        _this.onResponseDataRecievedAfterRefresh = _this.onResponseDataRecievedAfterRefresh.bind(_this);\r\n        _this.onNoteTimeStampChangedPopupClose = _this.onNoteTimeStampChangedPopupClose.bind(_this);\r\n        _this.displayNoteSaveFailedPopup = _this.displayNoteSaveFailedPopup.bind(_this);\r\n        _this.reRenderUnclassifiedWorklist = _this.reRenderUnclassifiedWorklist.bind(_this);\r\n        _this.reRenderOnClassifiedResponseReceived = _this.reRenderOnClassifiedResponseReceived.bind(_this);\r\n        _this.shareResponse = _this.shareResponse.bind(_this);\r\n        _this.onOKClickOfReuseRigpopup = _this.onOKClickOfReuseRigpopup.bind(_this);\r\n        _this.populateReuseUnclassifyPopupItem = _this.populateReuseUnclassifyPopupItem.bind(_this);\r\n        _this.onReuseItemCheckedChange = _this.onReuseItemCheckedChange.bind(_this);\r\n        _this.onCancelClickOfReuseRigPopup = _this.onCancelClickOfReuseRigPopup.bind(_this);\r\n        _this.onCheckedChange = _this.onCheckedChange.bind(_this);\r\n        _this.shareResponsePopupOpen = _this.shareResponsePopupOpen.bind(_this);\r\n        _this.onSubmitResponseCompleted = _this.onSubmitResponseCompleted.bind(_this);\r\n        _this.reRenderProvionalWorklist = _this.reRenderProvionalWorklist.bind(_this);\r\n        _this.submitResponseFromMarkscheme = _this.submitResponseFromMarkscheme.bind(_this);\r\n        if (config.general.IDLE_TIMEOUT) {\r\n            _this._idleTimeOut = config.general.IDLE_TIMEOUT;\r\n        }\r\n        // One Issue noticed that the footer compoent is taking time to load sometimes. \r\n        // Because of this, some of the events are already passed. Recheck for the first time for one of the event.\r\n        if (qigStore.instance.getOverviewData === undefined) {\r\n            _this.onSimulationExitedQigsAndLocksInQigsRecieved(false);\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    Footer.prototype.render = function () {\r\n        var isAskOnLogOutEnabled;\r\n        var confirmationDialog;\r\n        var busyIndicator;\r\n        var submitConfirmationDialog = (React.createElement(ConfirmationDialog, { content: this.submitConfirmationDialogueContent, header: this.submitConfirmationDialogueHeader, displayPopup: this.state.isSubmitConfirmationPopupDisplaying, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('generic.logout-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('generic.logout-dialog.yes-button'), onYesClick: this.onYesClickOfSubmitButton, onNoClick: this.onNoClickOfSubmitButton, isKeyBoardSupportEnabled: true, dialogType: enums.PopupDialogType.LogoutConfirmation }));\r\n        var shareConfirmationPopup = this.state.isShared ? (React.createElement(ConfirmationDialog, { content: localeStore.instance.TranslateText('marking.response.share-confirmation-popup.content'), header: null, displayPopup: this.state.doShowShareConfirmationPopup, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('marking.response.share-confirmation-popup.no-button'), yesButtonText: localeStore.instance.TranslateText('marking.response.share-confirmation-popup.yes-button'), onYesClick: this.onYesClickOfShareConfirmationPopup.bind(this), onNoClick: this.onNoClickOfShareConfirmationPopup.bind(this), dialogType: enums.PopupDialogType.ShareConfirmationPopup, isKeyBoardSupportEnabled: true })) : null;\r\n        var mandatoryMessageValidationPopup = (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('messaging.compose-message.mandatory-message-warning-dialog.body'), header: localeStore.instance.TranslateText('messaging.compose-message.mandatory-message-warning-dialog.header'), displayPopup: this.state.doShowMandatoryMessageValidationPopup, okButtonText: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.ok-button'), onOkClick: this.onOkClickMandatoryMessageValidationPopup.bind(this), id: 'mandatoryMessageValidationPopup', key: 'mandatoryMessageValidationPopup', popupDialogType: enums.PopupDialogType.none }));\r\n        var supervisorSamplingCommentValidationPopup = (React.createElement(GenericDialog, { content: this.messageDetails.messageString, header: this.messageDetails.messageHeader, displayPopup: this.state.doShowPopup, okButtonText: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.ok-button'), onOkClick: this.onPopupOkClick.bind(this), id: 'supervisorSamplingCommentValidationPopup', key: 'supervisorSamplingCommentValidationPopup', popupDialogType: enums.PopupDialogType.GenericMessage }));\r\n        var noteTimeStampChangedPopup = (React.createElement(GenericDialog, { content: this.messageDetails.messageString, header: this.messageDetails.messageHeader, displayPopup: this.state.isNoteTimeStampChangedPopupVisible, okButtonText: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.ok-button'), onOkClick: this.onNoteTimeStampChangedPopupClose.bind(this), id: 'noteTimeStampChangedPopup', key: 'noteTimeStampChangedPopup', popupDialogType: enums.PopupDialogType.GenericMessage }));\r\n        var responseModifiedPopup = (React.createElement(GenericDialog, { content: this.messageDetails.messageString, header: this.messageDetails.messageHeader, displayPopup: this.state.isResponseModifiedPopupVisibile, okButtonText: localeStore.instance.TranslateText('messaging.compose-message.recipient-selector.ok-button'), onOkClick: this.onResponseModifiedPopupClose.bind(this), id: 'responseMOdifiedPopup', key: 'responseMOdifiedPopup', popupDialogType: enums.PopupDialogType.GenericMessage }));\r\n        var simulationResponseSubmitConfirmationPopup = (React.createElement(ConfirmationDialog, { content: this.simulationResponseSubmitConfirmationDialogueContent, header: this.simulationResponseSubmitConfirmationDialogueHeader, displayPopup: this.state.showSimulationResponseSubmitConfirmationPopup, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('generic.logout-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('generic.logout-dialog.yes-button'), onYesClick: this.onYesClickOfSimulationResponseSubmitButton.bind(this), onNoClick: this.onNoClickOfSimulationResponseSubmitButton.bind(this), dialogType: enums.PopupDialogType.SimulationResponseSubmitConfirmation, isKeyBoardSupportEnabled: true }));\r\n        /** Getting Ask On LogOut value from user option */\r\n        isAskOnLogOutEnabled =\r\n            userOptionsHelper.getUserOptionByName(useroptionKeys.ASK_ON_LOG_OUT) === 'true'\r\n                ? true\r\n                : false;\r\n        /** this.props.isConfirmationPopupDisplaying check included here, in the initial load its value\r\n         *    will be false\r\n         */\r\n        if (!isAskOnLogOutEnabled &&\r\n            this.props.isLogoutConfirmationPopupDisplaying &&\r\n            !this.state.doShowSavingMarksAndAnnotationsIndicator &&\r\n            !this._onLogoutTriggered) {\r\n            this.onYesClickOfLogoutConfirmation();\r\n            /**this.props.isConfirmationPopupDisplaying check included here, if it is true will load the confirmation dialog\r\n             * content into confirmationDialog\r\n             */\r\n        }\r\n        else if (this.props.isLogoutConfirmationPopupDisplaying &&\r\n            !this.state.doShowSavingMarksAndAnnotationsIndicator &&\r\n            !this._onLogoutTriggered) {\r\n            confirmationDialog = (React.createElement(ConfirmationDialog, { content: localeStore.instance.TranslateText('generic.logout-dialog.body'), header: localeStore.instance.TranslateText('generic.logout-dialog.header'), displayPopup: this.props.isLogoutConfirmationPopupDisplaying, isCheckBoxVisible: true, noButtonText: localeStore.instance.TranslateText('generic.logout-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('generic.logout-dialog.yes-button'), onYesClick: this.onYesClickOfLogoutConfirmation, onNoClick: this.onNoClickOfLogoutConfirmation, dialogType: enums.PopupDialogType.LogoutConfirmation }));\r\n        }\r\n        if (this.state.isBusy) {\r\n            switch (busyIndicatorStore.instance.getBusyIndicatorInvoker) {\r\n                case enums.BusyIndicatorInvoker.submitInResponseScreen:\r\n                    busyIndicator = (React.createElement(BusyIndicator, { id: 'response_' +\r\n                            enums.BusyIndicatorInvoker.submitInResponseScreen.toString(), isBusy: this.state.isBusy, key: 'response_' +\r\n                            enums.BusyIndicatorInvoker.submitInResponseScreen.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.submitInResponseScreen, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n                    break;\r\n                case enums.BusyIndicatorInvoker.loadingHistoryDetails:\r\n                    busyIndicator = (React.createElement(BusyIndicator, { id: 'history_' +\r\n                            enums.BusyIndicatorInvoker.loadingHistoryDetails.toString(), isBusy: this.state.isBusy, key: 'history_' +\r\n                            enums.BusyIndicatorInvoker.loadingHistoryDetails.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.loadingHistoryDetails, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n                    break;\r\n                case enums.BusyIndicatorInvoker.validateStandardisationSetup:\r\n                    busyIndicator = (React.createElement(BusyIndicator, { id: 'std_' +\r\n                            enums.BusyIndicatorInvoker.validateStandardisationSetup.toString(), isBusy: this.state.isBusy, key: 'std_' +\r\n                            enums.BusyIndicatorInvoker.validateStandardisationSetup.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.validateStandardisationSetup, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n                    break;\r\n            }\r\n        }\r\n        if (this.state.isCompleteStandardisation && this.state.isBusy === true) {\r\n            busyIndicator = (React.createElement(BusyIndicator, { id: 'std_' +\r\n                    enums.BusyIndicatorInvoker.completingStandardisationSetup.toString(), isBusy: this.state.isBusy, key: 'std_' +\r\n                    enums.BusyIndicatorInvoker.completingStandardisationSetup.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.completingStandardisationSetup, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n        }\r\n        if (this.state.isBusy === true && (this._showShareLoadingIndicator || this._showShareLoadingIndicatorForPE)) {\r\n            busyIndicator = (React.createElement(BusyIndicator, { id: 'std_' +\r\n                    enums.BusyIndicatorInvoker.completingStandardisationSetup.toString(), isBusy: this.state.isBusy, key: 'std_' +\r\n                    enums.BusyIndicatorInvoker.completingStandardisationSetup.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.completingStandardisationSetup, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n        }\r\n        if (this.state.doShowSavingMarksAndAnnotationsIndicator) {\r\n            busyIndicator = (React.createElement(BusyIndicator, { id: 'response_' +\r\n                    enums.BusyIndicatorInvoker.savingMarksAndAnnotations.toString(), isBusy: this.state.doShowSavingMarksAndAnnotationsIndicator, key: 'response_' +\r\n                    enums.BusyIndicatorInvoker.savingMarksAndAnnotations.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.savingMarksAndAnnotations, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n        }\r\n        if (this.state.doShowReclassifyResponseBusyIndicator) {\r\n            busyIndicator = (React.createElement(BusyIndicator, { id: 'response_' +\r\n                    enums.BusyIndicatorInvoker.reclassifyResponse.toString(), isBusy: this.state.doShowReclassifyResponseBusyIndicator, key: 'response_' +\r\n                    enums.BusyIndicatorInvoker.reclassifyResponse.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.reclassifyResponse, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n        }\r\n        if (this.state.doShowReuseRigActionBusyIndicator) {\r\n            busyIndicator = (React.createElement(BusyIndicator, { id: 'response_' +\r\n                    enums.BusyIndicatorInvoker.reuseResponse.toString(), isBusy: this.state.doShowReuseRigActionBusyIndicator, key: 'response_' +\r\n                    enums.BusyIndicatorInvoker.reuseResponse.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.reuseResponse, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n        }\r\n        if (this.state.doShowClassifyResponseBusyIndicator) {\r\n            if (this.isUnclassifiedWorklistSelected()) {\r\n                busyIndicator = (React.createElement(BusyIndicator, { id: 'response_' +\r\n                        enums.BusyIndicatorInvoker.classifyResponse.toString(), isBusy: this.state.doShowClassifyResponseBusyIndicator, key: 'response_' +\r\n                        enums.BusyIndicatorInvoker.classifyResponse.toString(), isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.classifyResponse, showBackgroundScreen: false, isOffline: !this.state.isOnline }));\r\n            }\r\n        }\r\n        var nonRecoverableErrorMessage = (React.createElement(GenericDialog, { content: this.saveMarksAndAnnotationsErrorDialogContents.content, header: this.saveMarksAndAnnotationsErrorDialogContents.header, multiLineContent: this.saveMarksAndAnnotationsErrorDialogContents.tableContent, displayPopup: this.state.isNonRecoverableErrorPopupVisible, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfNonRecoverableErrorMessage, id: 'nonRecoverableErrorMessge', key: 'marksAndAnnotationsErrorMessge', popupDialogType: enums.PopupDialogType.NonRecoverableDetailedError }));\r\n        var nonRecoverableSaveMarksAndAnnotationsErrorMessage = (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('marking.worklist.response-submission-error-dialog.body-single-response-not-submitted'), header: localeStore.instance.TranslateText('marking.worklist.response-submission-error-dialog.header'), displayPopup: this.state.nonRecoverableSaveMarksAndAnnotationsErrorMessage, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfNonRecoverableErrorMessage, id: 'nonRecoverableSaveMarksAndAnnotationErrorMessge', key: 'saveMarksAndAnnotationsErrorMessge', popupDialogType: enums.PopupDialogType.AllPageNotAnnotated }));\r\n        var gracePeriodResponseUnmarkedDialog = this.state\r\n            .isDisplayingGraceResponseLessthan100PercentageError ? this._failureReason ===\r\n            enums.ResponseNavigateFailureReason.MarksMissingInGracePeriodResponse ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.body-cannot-leave-response-partially-marked-in-grace'), header: localeStore.instance.TranslateText('marking.response.leaving-response-warning-dialog.header'), displayPopup: this.state.isDisplayingGraceResponseLessthan100PercentageError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfResponseInGraceMessage.bind(this), id: 'responseInGraceMessage', key: 'responseInGraceMessageMessge', popupDialogType: enums.PopupDialogType.GracePeriodWarning })) : (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.body-must-annotate-all-pages-in-grace'), header: localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.header-must-annotate-all-pages-in-grace'), displayPopup: this.state.isDisplayingGraceResponseLessthan100PercentageError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfResponseInGraceMessage.bind(this), id: 'responseInGraceMessage', key: 'responseInGraceMessageMessge', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var gracePeriodExpiredErrorDialog = this.state.isDisplayingGraceResponseExpiredError ? (React.createElement(GenericDialog, { content: this.getGracePeriodExpiredMessageBody(), header: localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.header-grace-period-expired'), displayPopup: this.state.isDisplayingGraceResponseExpiredError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfResponseInGraceExpiredMessageOrResponseRemovedMessage, id: 'responseInGraceMessage', key: 'responseInGraceMessageMessge', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var responseRemovedErrorDialog = this.state.isDisplayingResponseRemovedError ? (React.createElement(GenericDialog, { content: this.getResponseRemovedErrorDialogMessageBody(), header: localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.header-response-removed-from-worklist'), displayPopup: this.state.isDisplayingResponseRemovedError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfResponseInGraceExpiredMessageOrResponseRemovedMessage, id: 'response-removed-error-message', key: 'key-response-removed-error-message', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var confirmationDialogContent;\r\n        if (this.state.popUpType === enums.PopUpType.DiscardMessage) {\r\n            confirmationDialogContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.body-discard');\r\n        }\r\n        else if (this.state.popUpType === enums.PopUpType.DiscardMessageNavigateAway) {\r\n            if (this.popUpData.popupContent) {\r\n                confirmationDialogContent = this.popUpData.popupContent;\r\n            }\r\n            else {\r\n                confirmationDialogContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.body-navigated-away');\r\n            }\r\n        }\r\n        else {\r\n            confirmationDialogContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.body-start-new-message-while-composing');\r\n        }\r\n        var discardMessageDialog = this.state.popUpType === enums.PopUpType.DiscardMessage ||\r\n            this.state.popUpType === enums.PopUpType.DiscardMessageNavigateAway ||\r\n            this.state.popUpType === enums.PopUpType.DiscardOnNewMessageButtonClick ? (React.createElement(ConfirmationDialog, { content: this.popUpData.popupContent ? (this.popUpData.popupContent) : (confirmationDialogContent), header: localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.header'), displayPopup: true, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.yes-button'), onYesClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.Yes), onNoClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.No), dialogType: enums.PopupDialogType.Message, isKeyBoardSupportEnabled: true })) : null;\r\n        var confirmationHeaderContent;\r\n        switch (this.state.popUpType) {\r\n            case enums.PopUpType.DiscardMessageOnNewException:\r\n            case enums.PopUpType.DiscardMessageOnViewExceptionButtonClick:\r\n                confirmationHeaderContent = localeStore.instance.TranslateText('messaging.compose-message.discard-message-dialog.header');\r\n                break;\r\n            case enums.PopUpType.DiscardExceptionNavigateAway:\r\n                confirmationHeaderContent = localeStore.instance.TranslateText('marking.response.discard-exception-dialog.header');\r\n                confirmationDialogContent = localeStore.instance.TranslateText('marking.response.discard-exception-dialog.body-navigate-away');\r\n                break;\r\n            case enums.PopUpType.CloseException:\r\n                confirmationHeaderContent = localeStore.instance.TranslateText('marking.response.close-exception-dialog.header');\r\n                break;\r\n            default:\r\n                confirmationHeaderContent = localeStore.instance.TranslateText('marking.response.discard-exception-dialog.header');\r\n                confirmationDialogContent = localeStore.instance.TranslateText('marking.response.discard-exception-dialog.body-raise-new');\r\n                break;\r\n        }\r\n        var discardExceptionDialog = this.state.popUpType === enums.PopUpType.DiscardException ||\r\n            this.state.popUpType === enums.PopUpType.DiscardExceptionNavigateAway ||\r\n            this.state.popUpType === enums.PopUpType.DiscardOnNewExceptionButtonClick ||\r\n            this.state.popUpType === enums.PopUpType.DiscardMessageOnViewExceptionButtonClick ||\r\n            this.state.popUpType === enums.PopUpType.DiscardExceptionOnViewExceptionButtonClick ||\r\n            this.state.popUpType === enums.PopUpType.DiscardExceptionOnViewMessage ||\r\n            this.state.popUpType === enums.PopUpType.DiscardMessageOnNewException ||\r\n            this.state.popUpType === enums.PopUpType.DiscardExceptionOnNewMessage ||\r\n            this.state.popUpType === enums.PopUpType.CloseException ? (React.createElement(ConfirmationDialog, { content: this.popUpData.popupContent ? (this.popUpData.popupContent) : (confirmationDialogContent), header: confirmationHeaderContent, displayPopup: true, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('marking.response.discard-exception-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('marking.response.discard-exception-dialog.yes-button'), onYesClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.Yes), onNoClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.No), dialogType: enums.PopupDialogType.Exception, isKeyBoardSupportEnabled: true })) : null;\r\n        var mandatoryMessageDialog = this.state.popUpType === enums.PopUpType.MandatoryMessage ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('messaging.mandatory-message-dialog.body'), header: localeStore.instance.TranslateText('messaging.mandatory-message-dialog.header'), displayPopup: true, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.Ok), id: 'id_mandatory_message_dialog', key: 'key_mandatory_message_dialog', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var withdrawErrorDialog = this.state.isWithdrawnResponseError ? (React.createElement(GenericDialog, { content: this.getWithdrawnResponseErrorMessage(), header: localeStore.instance.TranslateText('marking.worklist.response-allocation-error-dialog.response-allocation-error-header-withdrawnMarker'), displayPopup: this.state.isWithdrawnResponseError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfWithDrawErrorMessage.bind(this), id: 'withdrawResponseMessage', key: 'withdrawResponseMessageMessage', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var sessionClosedErrorDilaog = this.state.isQigsessionClosedError ? (React.createElement(GenericDialog, { content: this.getSessionClosedErrorMessage(), header: localeStore.instance.TranslateText('marking.worklist.request-marking-check-error-dialog.header-session-closed'), displayPopup: this.state.isQigsessionClosedError, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfWithDrawErrorMessage.bind(this), id: 'sessionClosedResponseMessage', key: 'sessionClosedResponseMessageMessage', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var responseSearchFailedErrorDialog = this.state.isResponseSearchFailed ? (React.createElement(GenericDialog, { content: this.getResponseSearchFailedErrorMessage(), header: localeStore.instance.TranslateText('generic.error-dialog.header'), displayPopup: this.state.isResponseSearchFailed, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onOkClickOfResponseSearchFailedErrorMessage.bind(this), id: 'removedResponseMessage', key: 'removedResponseMessageMessage', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var applicationOffLineErrorMessage = this.state.isApplicationOffline ? (React.createElement(GenericDialog, { content: this.offlineErrorMessage, header: localeStore.instance.TranslateText('generic.offline-dialog.header'), displayPopup: this.state.isApplicationOffline, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onApplicationErrorMessagePopUpClicked.bind(this), id: 'offlineErrorMessge', key: 'offlineErrorMessge', popupDialogType: enums.PopupDialogType.OffLineWarning })) : null;\r\n        var idleTimer = this.state.isOnline ? (React.createElement(IdleTimer, { idleAction: this.onYesClickOfLogoutConfirmationAutoLogout, timeout: this._idleTimeOut })) : null;\r\n        var noMarkingCheckAvailableMessage = this.state.popUpType === enums.PopUpType.NoMarkingCheckRequestPossible ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('marking.worklist.request-marking-check-error-dialog.body-no-examiners-available'), header: localeStore.instance.TranslateText('marking.worklist.request-marking-check-error-dialog.header-no-examiners-available'), displayPopup: this.state.doShowNoMarkingCheckAvailableMessage, okButtonText: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.ok-button'), onOkClick: this.handlePopUpAction.bind(this, this.state.popUpType, enums.PopUpActionType.Ok), id: 'id_no_marking_check_message', key: 'key_no_marking_check_message', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var markingCheckCompleteConfirmationPopup = this.state\r\n            .isMarkingCheckCompleteConfirmationPopupDisplaying ? (React.createElement(ConfirmationDialog, { content: localeStore.instance\r\n                .TranslateText('marking.worklist.perform-marking-check-confirmation-dialog.body')\r\n                .replace('{0}', worklistStore.instance.selectedMarkingCheckExaminer.toExaminer.fullName), header: localeStore.instance.TranslateText('marking.worklist.perform-marking-check-confirmation-dialog.header'), displayPopup: true, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('generic.user-menu.profile-section.cancel-email-button'), yesButtonText: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.ok-button'), onYesClick: this.OnOkClickOfMarkingCheckCompleteConfirmation, onNoClick: this.OnCancelClickOfMarkingCheckCompleteConfirmation, dialogType: enums.PopupDialogType.CompleteMarkingCheck, isKeyBoardSupportEnabled: true })) : null;\r\n        var warningMessagePopup = (React.createElement(WarningMessagePopup, { id: 'id_warning_message_popup', key: 'key_warning_message_popup', buttonText: localeStore.instance.TranslateText('team-management.examiner-worklist.change-status.ok-button') }));\r\n        var submitErrorPopup = this.state.isSubmitErrorPopDisplaying ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText(this.submitMessageErrorPopupContent.messageContent), header: localeStore.instance.TranslateText(this.submitMessageErrorPopupContent.messageHeader), displayPopup: this.state.isSubmitErrorPopDisplaying, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onSubmitResponseErrorPopupOkClick, id: 'submitErrorMessge', key: 'submitErrorMessge', popupDialogType: enums.PopupDialogType.SubmitResponseError })) : null;\r\n        //Pop up for displaying warning message on opening a QIG in an autozoned question paper\r\n        var autozonedWarningMessage = this.state.isAutozonedMessagePopupDisplaying ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('marking.worklist.autozoned-warning-dialog.body'), header: localeStore.instance.TranslateText('marking.worklist.autozoned-warning-dialog.header'), displayPopup: this.state.isAutozonedMessagePopupDisplaying, okButtonText: localeStore.instance.TranslateText('marking.worklist.autozoned-warning-dialog.ok-button'), onOkClick: this.onAutozonedWarningMessageOkClick, id: 'id_autozonedWarningMessage', key: 'key_autozonedWarningMessage', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        // popup when clicked on the select responses in Std setup - select to mark button\r\n        var selecttoMarkProvisionalDialog = this.state.popUpType === enums.PopUpType.SelectToMarkAsProvisional ? (React.createElement(MultiOptionConfirmationDialog, { content: this.getSelectToMarkProvisionalPopupContent, header: localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-header'), displayPopup: true, onCancelClick: this.onCancelClickOfSelectResponseToMarkasProvisional, onYesClick: this.selectProvisionalMarkNowClick, onNoClick: this.selectProvisionalMarkLaterClick, isKeyBoardSupportEnabled: true, selectedLanguage: this.props.selectedLanguage, popupSize: enums.PopupSize.Medium, popupType: enums.PopUpType.SelectToMarkAsProvisional, buttonCancelText: localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-button1'), buttonNoText: localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-button2'), buttonYesText: localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-button3'), displayNoButton: true })) : null;\r\n        var completeStandardisationPopup = this.props.isCompleteStandardisation && !this.state.isCompleteStandardisation ? (React.createElement(ConfirmationDialog, { content: localeStore.instance.TranslateText('standardisation-setup.left-panel.complete-standardisation-popup-body'), header: localeStore.instance.TranslateText('standardisation-setup.left-panel.complete-standardisation-popup-header'), displayPopup: true, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('generic.logout-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('generic.logout-dialog.yes-button'), onYesClick: this.OnOkClickOfCompleteStandardisationConfirmation, onNoClick: this.OnCancelClickOfCompleteStandardisationConfirmation, dialogType: enums.PopupDialogType.none, isKeyBoardSupportEnabled: true })) : null;\r\n        var completeStandardisationSetupPopup = this.state.popUpType === enums.PopUpType.CompleteStandardisationValidate ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('standardisation-setup.left-panel.complete-standardisation-validate-body'), header: localeStore.instance.TranslateText('standardisation-setup.left-panel.complete-standardisation-validate-header'), displayPopup: this.state.popUpType === enums.PopUpType.CompleteStandardisationValidate ? true : false, okButtonText: localeStore.instance.TranslateText('marking.worklist.autozoned-warning-dialog.ok-button'), onOkClick: this.onOkClickofStandardisationSetupValidate, id: 'id_standardisationsetupvalidate', key: 'key_autozonedWarningMessage', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var markAsDefinitiveDialog = this.state.popUpType === enums.PopUpType.MarkAsDefinitive ? (React.createElement(MultiOptionConfirmationDialog, { content: this.getMarkAsDefinitivePopupContent, header: localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-header'), displayPopup: true, onCancelClick: this.onCancelClickOnMarkAsDefinitivePopUp, onYesClick: this.submitClickOnMarkAsDefinitivePopUp, isKeyBoardSupportEnabled: true, selectedLanguage: this.props.selectedLanguage, popupSize: enums.PopupSize.Medium, popupType: enums.PopUpType.MarkAsDefinitive, buttonCancelText: localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-button1'), buttonYesText: localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-submit-button'), displayNoButton: false })) : null;\r\n        var header = this.isUnclassifiedWorklistSelected() ?\r\n            'standardisation-setup.standardisation-setup-worklist.classify-multioption-popup.header' :\r\n            'standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.header';\r\n        var reusepopupHeader = 'standardisation-setup.previous-session.reuse-action-popup.header';\r\n        var reuseRigActionMultiOptionDialog = this.state.popUpType === enums.PopUpType.ReuseRigAction ? (React.createElement(MultiOptionConfirmationDialog, { content: this.getReUseActionMultiOptionPopupContent, header: localeStore.instance.TranslateText(reusepopupHeader), displayPopup: true, isClassifyResponseOkButtonDisabled: false, onCancelClick: this.onCancelClickOfReuseRigPopup, onYesClick: this.onOKClickOfReuseRigpopup, isKeyBoardSupportEnabled: true, selectedLanguage: this.props.selectedLanguage, popupSize: enums.PopupSize.Medium, popupType: enums.PopUpType.ReuseRigAction, buttonCancelText: localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.cancel-button'), buttonYesText: localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.ok-button'), displayNoButton: false, key: 'key_reuseRigActionMultiOptionDialog' })) : null;\r\n        // Popup when clicked on unclassified worklsit 'classify' or classified worklsit 'reclassify' of a response\r\n        var reclassifyResponseMultiOptionDialog = this.state.popUpType === enums.PopUpType.ReclassifyMultiOption ? (React.createElement(MultiOptionConfirmationDialog, { content: this.getReclassificationMultiOptionPopupContent, header: localeStore.instance.TranslateText(header), displayPopup: true, isClassifyResponseOkButtonDisabled: this.isUnclassifiedWorklistSelected() ?\r\n                this.isClassifyResponseOkButtonDisabled : false, onCancelClick: this.onCancelClickOfReclassifyMultiOptionPopUp, onYesClick: this.onReclassifyResponse, isKeyBoardSupportEnabled: true, selectedLanguage: this.props.selectedLanguage, popupSize: enums.PopupSize.Medium, popupType: enums.PopUpType.ReclassifyMultiOption, buttonCancelText: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.cancel-button'), buttonYesText: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.ok-button'), displayNoButton: false, key: 'key_reclassifyResponseMultiOptionDialog' })) : null;\r\n        // Popup Dialog to notify user above reclassify failure.\r\n        var reclassifyErrorPopupDialog = (this.state.popUpType === enums.PopUpType.ReclassifyError ?\r\n            React.createElement(GenericDialog, { content: this.getReclassifyErrorPopupContent(), multiLineContent: null, header: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassifyerror-popup.header'), secondaryContent: null, displayPopup: true, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onReclassifyErrorMessageOkClick, id: 'reclassifyError', key: 'reclassifyErrorMessage', popupDialogType: enums.PopupDialogType.ReclassifyError, footerContent: null }) : null);\r\n        // Popup Dialog to notify user above concurrent save fail.\r\n        var concurrentSaveFailPopup = (this.state.popUpType === enums.PopUpType.ConcurrentSaveFail ?\r\n            React.createElement(GenericDialog, { content: this.classifyOrReclassifySaveFailPopUpContent, header: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.concurrent-esmarkingmode-save-fail-popup.header'), secondaryContent: null, displayPopup: true, okButtonText: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.concurrent-esmarkingmode-save-fail-popup.ok-button'), onOkClick: this.onConcurrentSaveFailPopupOkClick, id: 'concurrentSaveFailError', key: 'concurrentSaveFailErrorMessage', popupDialogType: enums.PopupDialogType.ConcurrentSaveFail, footerContent: null }) : null);\r\n        // Popup dialog to notify user that the current response has already been discarded.\r\n        var discardResponseFailPopup = (this.state.popUpType === enums.PopUpType.DiscardResponseFail ?\r\n            React.createElement(GenericDialog, { content: this.discardResponseFailPopUpContent, header: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.response-already-discarded-popup.header'), secondaryContent: null, displayPopup: true, okButtonText: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.response-already-discarded-popup.ok-button'), onOkClick: this.onDiscardResponseFailPopupOkClick, id: 'discardResponseFailError', key: 'concurrentSaveFailErrorMessage', popupDialogType: enums.PopupDialogType.DiscardResponse, footerContent: null }) : null);\r\n        // Popup Dialog to notify user above concurrent save fail.\r\n        var unClassifiedScriptinStmUnavailablePopup = (this.state.unClassifiedScriptinStmUnavailableVisible === true ?\r\n            React.createElement(GenericDialog, { content: stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.unclassified-script-unavailable-popup.content'), [responseStore.instance.selectedDisplayId.toString()]), header: localeStore.instance.TranslateText('standardisation-setup.unclassified-script-unavailable-popup.header'), secondaryContent: null, okButtonText: localeStore.instance.TranslateText('standardisation-setup.unclassified-script-unavailable-popup.ok-button'), onOkClick: this.okClickOnUnavailablePopUp, displayPopup: this.state.unClassifiedScriptinStmUnavailableVisible, id: 'unclassifiedscriptunavailable', key: 'unclassifiedscriptunavailableKey', popupDialogType: enums.PopupDialogType.none, footerContent: null }) : null);\r\n        var rigNotFoundDialog = this.state.showRigNotFoundPopUp ? (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('search-response.search-rig-not-found-content'), header: localeStore.instance.TranslateText('search-response.search-rig-not-found-title'), displayPopup: this.state.showRigNotFoundPopUp, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onRigNotFoundOkClick, id: 'rigNotFoundPopup', key: 'rigNotFoundPopup', popupDialogType: enums.PopupDialogType.none })) : null;\r\n        var saveEmailMessage = stringHelper.format(localeStore.instance.TranslateText('generic.user-menu.email-address-saved-dialog.body'), [String(String.fromCharCode(179))]);\r\n        var emailSaveMessage = (React.createElement(GenericDialog, { content: saveEmailMessage, header: localeStore.instance.TranslateText('generic.user-menu.email-address-saved-dialog.header'), displayPopup: this.state.isSaveEmailMessageDisplaying, okButtonText: localeStore.instance.TranslateText('marking.worklist.response-allocation-error-dialog.ok-button'), onOkClick: this.onOkClickOfEmailSucessMessage, id: 'emailSaveMessage', key: 'emailSaveMessage', popupDialogType: enums.PopupDialogType.ResponseAllocationError }));\r\n        var shareResponsePopup = this.state.isShareResponsePopupDisplayingForPE || this.state.isShareResponsePopupDisplaying ? (React.createElement(MultiOptionConfirmationDialog, { content: this.state.isShareResponsePopupDisplayingForPE ?\r\n                this.getShareResponsePopupContentForPE : this.getShareResponsePopupContent(), header: localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.header'), displayPopup: true, onCancelClick: this.shareResponsePopupClose, onYesClick: this.shareResponse, onNoClick: null, isKeyBoardSupportEnabled: true, selectedLanguage: this.props.selectedLanguage, popupSize: enums.PopupSize.Medium, popupType: enums.PopUpType.ShareResponse, buttonCancelText: localeStore.instance\r\n                .TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.cancel-button'), buttonYesText: localeStore.instance\r\n                .TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.share-button'), buttonNoText: null, displayNoButton: false })) : null;\r\n        return (React.createElement(\"div\", null,\r\n            selecttoMarkProvisionalDialog,\r\n            markAsDefinitiveDialog,\r\n            completeStandardisationPopup,\r\n            completeStandardisationSetupPopup,\r\n            autozonedWarningMessage,\r\n            submitConfirmationDialog,\r\n            mandatoryMessageValidationPopup,\r\n            confirmationDialog,\r\n            busyIndicator,\r\n            nonRecoverableErrorMessage,\r\n            gracePeriodResponseUnmarkedDialog,\r\n            responseRemovedErrorDialog,\r\n            gracePeriodExpiredErrorDialog,\r\n            discardMessageDialog,\r\n            discardExceptionDialog,\r\n            withdrawErrorDialog,\r\n            mandatoryMessageDialog,\r\n            idleTimer,\r\n            nonRecoverableSaveMarksAndAnnotationsErrorMessage,\r\n            noMarkingCheckAvailableMessage,\r\n            markingCheckCompleteConfirmationPopup,\r\n            supervisorSamplingCommentValidationPopup,\r\n            warningMessagePopup,\r\n            this.renderSimulationExitedQigsPopup(),\r\n            this.renderLocksInQigPopUp(),\r\n            applicationOffLineErrorMessage,\r\n            responseSearchFailedErrorDialog,\r\n            simulationResponseSubmitConfirmationPopup,\r\n            submitErrorPopup,\r\n            shareConfirmationPopup,\r\n            sessionClosedErrorDilaog,\r\n            reclassifyResponseMultiOptionDialog,\r\n            reclassifyErrorPopupDialog,\r\n            concurrentSaveFailPopup,\r\n            noteTimeStampChangedPopup,\r\n            responseModifiedPopup,\r\n            unClassifiedScriptinStmUnavailablePopup,\r\n            rigNotFoundDialog,\r\n            emailSaveMessage,\r\n            shareResponsePopup,\r\n            reuseRigActionMultiOptionDialog,\r\n            discardResponseFailPopup));\r\n    };\r\n    /**\r\n     * componentDidMount\r\n     */\r\n    Footer.prototype.componentDidMount = function () {\r\n        userOptionStore.instance.addListener(userOptionStore.UseroptionStore.USER_OPTION_SAVE_ON_LOGOUT_EVENT, this.updateUserSession);\r\n        loginStore.instance.addListener(loginStore.LoginStore.UPDATE_SESSION_ON_LOGOUT_EVENT, this.clearSession);\r\n        loginStore.instance.addListener(loginStore.LoginStore.CONCURRENT_SESSION_ACTIVE, this.onConcurrentSessionActive);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.SAVE_MARKS_AND_ANNOTATIONS_EVENT, this.onSaveMarksAndAnnotations);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.navigateAwayFromResponse);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.TRIGGER_SAVING_MARKS_AND_ANNOTATIONS_EVENT, this.onSaveMarksAndAnnotationsTriggered);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.SET_NON_RECOVERABLE_ERROR_EVENT, this.onSetHasNonRecoverableError);\r\n        window.addEventListener('online', this._boundOnlineStatusEvent);\r\n        window.addEventListener('offline', this._boundOnlineStatusEvent);\r\n        window.addEventListener('beforeunload', navigationHelper.onBeforeWindowUnload);\r\n        window.addEventListener('resize', this.scrollIntoViewOnEditingTextForAndroid);\r\n        submitStore.instance.addListener(submitStore.SubmitStore.SUBMIT_RESPONSE_COMPLETED, this.onSubmitResponseCompleted);\r\n        submitStore.instance.addListener(submitStore.SubmitStore.SHARE_AND_CLASSIFY_RESPONSE_COMPLETED, this.reRenderProvionalWorklist);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_NAVIGATION_EVENT, this.onMessagePanelEdited);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.MARKINGMODE_CHANGED_IN_PROVISIONAL_RESPONSE_EVENT, this.unClassifiedScriptinStmUnavailable);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.SHOW_GRACE_PERIOD_NOT_FULLY_MARKED_MESSAGE, this.showResponseInGraceNotFullyMarkedMessage);\r\n        messageStore.instance.addListener(messageStore.MessageStore.POPUP_DISPLAY_EVENT, this.onPopUpDisplayEvent);\r\n        exceptionStore.instance.addListener(exceptionStore.ExceptionStore.EXCEPTION_DISCARD_POPUP_DISPLAY_EVENT, this.onPopUpDisplayEvent);\r\n        qigStore.instance.addListener(qigStore.QigStore.ACCEPT_QUALITY_ACTION_COMPLETED, this.onAcceptQualityFeedbackActionCompleted);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.RETRIEVE_MARKS_EVENT, this.marksRetrieved);\r\n        busyIndicatorStore.instance.addListener(busyIndicatorStore.BusyIndicatorStore.BUSY_INDICATOR, this.setBusyIndicator);\r\n        messageStore.instance.addListener(messageStore.MessageStore.UNREAD_MANDATORY_MESSAGE_STATUS_UPDATED, this.showMandatoryMessagePopup);\r\n        messageStore.instance.addListener(messageStore.MessageStore.UPDATE_NOTIFICATION_TRIGGERED_EVENT, this.onUpdateNotification);\r\n        applicationStore.instance.addListener(applicationStore.ApplicationStore.ACTION_INTERRUPTED_EVENT, this.userActionInterrupted);\r\n        submitStore.instance.addListener(submitStore.SubmitStore.SUBMIT_RESPONSE_STARTED, this.onSubmitResponseStarted);\r\n        examinerStore.instance.addListener(examinerStore.ExaminerStore.MARKER_INFO_UPDATED_EVENT, this.updateMarkerInformationPanel);\r\n        examinerStore.instance.addListener(examinerStore.ExaminerStore.QIG_SESSION_CLOSED_EVENT, this.updateQigForSessionClose);\r\n        messageStore.instance.addListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_EVENT, this.onResponseDataReceived);\r\n        navigationStore.instance.addListener(navigationStore.NavigationStore.CONTAINER_CHANGE__EVENT, this.refreshState);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MANDATORY_MESSAGE_VALIDATION_POPUP_EVENT, this.mandatoryMessageValidationPopupVisibility);\r\n        messageStore.instance.addListener(messageStore.MessageStore.UPDATE_MESSAGE_PRIORITY_EVENT, this.messagePriorityUpdate);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.WORKLIST_MARKING_MODE_CHANGE, this.addToRecentHistory);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.WORKLIST_MARKING_MODE_CHANGE, this.resetBusyIndicator);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.NO_MARKING_CHECK_AVAILABLE_MESSAGE, this.showNoMarkingCheckAvailableMessage);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.OPEN_TEAM_MANAGEMENT_EVENT, this.onTeamManagementOpen);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.MY_TEAM_DATA_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.TEAM_EXCEPTIONS_DATA_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.HELP_EXAMINERS_DATA_RECEIVED, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.ADD_TO_HISTORY_EVENT, this.addToRecentHistory);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.MARKING_CHECK_COMPLETE_BUTTON_EVENT, this.markCheckCompleteButtonEvent);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.MARKING_CHECK_COMPLETED_EVENT, this.markCheckCompletedEvent);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.SAMPLING_STATUS_CHANGED_EVENT, this.ShowSupervisorSamplingCommentValidationPopup);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.EXAMINER_DRILL_DOWN_DATA_UPDATED, this.addToRecentHistory);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.FAILURE_WHILE_FETCHING_TEAM_DATA_EVENT, this.handleErrorNavigationTeamManagement);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.MY_TEAM_DATA_LOADED_EVENT, this.resetBusyIndicator);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.TEAM_EXCEPTIONS_DATA_LOADED_EVENT, this.resetBusyIndicator);\r\n        teamManagementStore.instance.addListener(teamManagementStore.TeamManagementStore.HELP_EXAMINERS_DATA_RECEIVED, this.resetBusyIndicator);\r\n        qigStore.instance.addListener(qigStore.QigStore.SHOW_LOCKS_IN_QIG_POPUP, this.onShowLocksInQigsPopup);\r\n        qigStore.instance.addListener(qigStore.QigStore.QIG_SELECTED_FROM_LOCKED_LIST, this.onQigSelectedFromLockedList);\r\n        qigStore.instance.addListener(qigStore.QigStore.QIG_SELECTED_EVENT, this.navigateToQigFromLockedList);\r\n        qigStore.instance.addListener(qigStore.QigStore.LOCKS_IN_QIG_DATA_RETRIEVED, this.doLogoutPopup);\r\n        messageStore.instance.addListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_FAILED_EVENT, this.onResponseDataReceivedFailed);\r\n        submitStore.instance.addListener(submitStore.SubmitStore.SHOW_SIMULATION_RESPONSE_SUBMIT_CONFIRMATION_EVENT, this.onshowSimulationResponseSubmitConfirmationPopup);\r\n        worklistStore.instance.addListener(worklistStore.WorkListStore.STANDARDISATION_SETUP_COMPLETED_IN_BACKGROUND, this.onStandardisationSetupCompletionInBackground);\r\n        qigStore.instance.addListener(qigStore.QigStore.SIMULATION_EXITED_QIGS_AND_LOCKS_IN_QIGS_RETRIEVED, this.onSimulationExitedQigsAndLocksInQigsRecieved);\r\n        qigStore.instance.addListener(qigStore.QigStore.SIMULATION_TARGET_COMPLETED, this.onSimulationTargetCompletion);\r\n        qigStore.instance.addListener(qigStore.QigStore.STANDARDISATION_SETUP_COMPLETED_EVENT, this.onStandardisationSetupCompletion);\r\n        qigStore.instance.addListener(qigStore.QigStore.SIMULATION_EXITED_QIGS_RETRIEVED, this.onSimulationExitedQigsRecieved);\r\n        ccStore.instance.addListener(ccStore.ConfigurableCharacteristicsStore.EXAM_BODY_CC_GET, this.onExamBodyCCLoaded);\r\n        ecourseworkFileStore.instance.addListener(ecourseworkFileStore.ECourseWorkFileStore.ECOURSEWORK_FILE_DATA_CLEARED_EVENT, this.onEcourseworkFileDataCleared);\r\n        qigStore.instance.addListener(qigStore.QigStore.SAVE_ACETATES_DATA_ACTION_COMPLETED, this.resetAcetateSaveInProgressStatus);\r\n        qigStore.instance.addListener(qigStore.QigStore.SHARE_CONFIRMATION_EVENT, this.shareConfirmationPopup);\r\n        qigStore.instance.addListener(qigStore.QigStore.RESET_SHARED_ACETATES_COMPLETED, this.resetAcetateSaveInProgressStatus);\r\n        qigStore.instance.addListener(qigStore.QigStore.RESET_ACETATE_SAVE_IN_PROGRESS_STATUS_COMPLETED, this.onResetAcetatesSaveInProgressReceived);\r\n        targetSummaryStore.instance.addListener(targetSummaryStore.TargetSummaryStore.WORKLIST_INITIALISATION_COMPLETED, this.isAutozonedMessagePopupVisible);\r\n        imageZoneStore.instance.addListener(imageZoneStore.ImageZoneStore.EBOOK_IMAGEZONE_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .POPUP_OPEN_SELECT_TO_MARK_BUTTON_EVENT, this.onSelectStdSetupResponseToMark);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .STANDARDISATION_RIG_CREATED_EVENT, this.onStandardisationRigCreated);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .COMPLETE_STANDARDISATION_SETUP_EVENT, this.onCompleteStandardisationSetup);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .GET_STANDARDISATION_TARGET_DETAILS_EVENT, this.resetBusyIndicatorStdSetupNotComplete);\r\n        userinfostore.instance.addListener(userinfostore.UserInfoStore.SWITCH_USER_BUTTON_CLICK, this.switchUserButtonClick);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .STANDARDISATION_RESPONSE_DATA_UPDATED_EVENT, this.onResponseDataRecievedAfterRefresh);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .GET_STANDARDISATION_CENTRE_DETAILS_EVENT, this.onResponseDataRecievedAfterRefresh);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .MULTI_OPTION_POPUP_OPEN_RECLASSIFY_POPUP_EVENT, this.reclassifyMultiOptionPopupOpen);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.STANDARDISATION_SETUP_LEFT_PANEL_SELECT_EVENT, this.addToRecentHistory);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.POPUP_OPEN_RECLASSIFY_POPUP_EVENT, this.reclassifyPopupOpen);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .POPUP_OPEN_RECLASSIFY_ERROR_POPUP_EVENT, this.reclassifyErrorPopupOpen);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore\r\n            .CONCURRENT_SAVE_FAIL_EVENT, this.concurrentSaveFailPopup);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.CLASSIFY_RESPONSE_EVENT, this.reRenderUnclassifiedWorklist);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.SAVE_NOTE_COMPLETED_ACTION_EVENT, this.displayNoteSaveFailedPopup);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.RECLASSIFIED_RESPONSE_EVENT, this.reRenderOnClassifiedResponseReceived);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.DECLASSIFY_RESPONSE_EVENT, this.reRenderOnClassifiedResponseReceived);\r\n        responseStore.instance.addListener(responseStore.ResponseStore.RIG_NOT_FOUND_EVENT, this.showOrHideRigNotFoundPopup);\r\n        userinfostore.instance.addListener(userinfostore.UserInfoStore.USERINFO_SAVE, this.userInfoSaved);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.STANDARDISATION_SHARE_RESPONSE_POPUP_DISPLAY, this.shareResponsePopupOpen);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.REUSE_RIG_POPUP_DISPLAY_ACTION_EVENT, this.reuseRigActionPopupOpen);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.REUSE_RIG_ACTION_COMPLETED_EVENT, this.reuseRigActionCompletedEvent);\r\n        standardisationSetupStore.instance.addListener(standardisationSetupStore.StandardisationSetupStore.RESPONSE_ALREADY_DISCARDED_EVENT, this.discardResponseFailPopup);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.submitResponseFromMarkscheme);\r\n    };\r\n    /**\r\n     * componentWillUnmount\r\n     */\r\n    Footer.prototype.componentWillUnmount = function () {\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.submitResponseFromMarkscheme);\r\n        userOptionStore.instance.removeListener(userOptionStore.UseroptionStore.USER_OPTION_SAVE_ON_LOGOUT_EVENT, this.updateUserSession);\r\n        loginStore.instance.removeListener(loginStore.LoginStore.UPDATE_SESSION_ON_LOGOUT_EVENT, this.clearSession);\r\n        loginStore.instance.removeListener(loginStore.LoginStore.CONCURRENT_SESSION_ACTIVE, this.onConcurrentSessionActive);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.SAVE_MARKS_AND_ANNOTATIONS_EVENT, this.onSaveMarksAndAnnotations);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.READY_TO_NAVIGATE, this.navigateAwayFromResponse);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.TRIGGER_SAVING_MARKS_AND_ANNOTATIONS_EVENT, this.onSaveMarksAndAnnotationsTriggered);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.SET_NON_RECOVERABLE_ERROR_EVENT, this.onSetHasNonRecoverableError);\r\n        markingStore.instance.addListener(markingStore.MarkingStore.MARKINGMODE_CHANGED_IN_PROVISIONAL_RESPONSE_EVENT, this.unClassifiedScriptinStmUnavailable);\r\n        window.removeEventListener('online', this._boundOnlineStatusEvent);\r\n        window.removeEventListener('offline', this._boundOnlineStatusEvent);\r\n        window.removeEventListener('beforeunload', navigationHelper.onBeforeWindowUnload);\r\n        window.removeEventListener('resize', this.scrollIntoViewOnEditingTextForAndroid);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.SHOW_GRACE_PERIOD_NOT_FULLY_MARKED_MESSAGE, this.showResponseInGraceNotFullyMarkedMessage);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.POPUP_DISPLAY_EVENT, this.onPopUpDisplayEvent);\r\n        exceptionStore.instance.removeListener(exceptionStore.ExceptionStore.EXCEPTION_DISCARD_POPUP_DISPLAY_EVENT, this.onPopUpDisplayEvent);\r\n        markingStore.instance.removeListener(markingStore.MarkingStore.RETRIEVE_MARKS_EVENT, this.marksRetrieved);\r\n        qigStore.instance.removeListener(qigStore.QigStore.ACCEPT_QUALITY_ACTION_COMPLETED, this.onAcceptQualityFeedbackActionCompleted);\r\n        submitStore.instance.removeListener(submitStore.SubmitStore.SUBMIT_RESPONSE_COMPLETED, this.onSubmitResponseCompleted);\r\n        submitStore.instance.removeListener(submitStore.SubmitStore.SHARE_AND_CLASSIFY_RESPONSE_COMPLETED, this.reRenderProvionalWorklist);\r\n        busyIndicatorStore.instance.removeListener(busyIndicatorStore.BusyIndicatorStore.BUSY_INDICATOR, this.setBusyIndicator);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.UNREAD_MANDATORY_MESSAGE_STATUS_UPDATED, this.showMandatoryMessagePopup);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.UPDATE_NOTIFICATION_TRIGGERED_EVENT, this.onUpdateNotification);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_NAVIGATION_EVENT, this.onMessagePanelEdited);\r\n        applicationStore.instance.removeListener(applicationStore.ApplicationStore.ACTION_INTERRUPTED_EVENT, this.userActionInterrupted);\r\n        submitStore.instance.removeListener(submitStore.SubmitStore.SUBMIT_RESPONSE_STARTED, this.onSubmitResponseStarted);\r\n        examinerStore.instance.removeListener(examinerStore.ExaminerStore.MARKER_INFO_UPDATED_EVENT, this.updateMarkerInformationPanel);\r\n        examinerStore.instance.removeListener(examinerStore.ExaminerStore.QIG_SESSION_CLOSED_EVENT, this.updateQigForSessionClose);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_EVENT, this.onResponseDataReceived);\r\n        navigationStore.instance.removeListener(navigationStore.NavigationStore.CONTAINER_CHANGE__EVENT, this.refreshState);\r\n        //timerHelper.clearInterval();\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MANDATORY_MESSAGE_VALIDATION_POPUP_EVENT, this.mandatoryMessageValidationPopupVisibility);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.UPDATE_MESSAGE_PRIORITY_EVENT, this.messagePriorityUpdate);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.WORKLIST_MARKING_MODE_CHANGE, this.addToRecentHistory);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.WORKLIST_MARKING_MODE_CHANGE, this.resetBusyIndicator);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.NO_MARKING_CHECK_AVAILABLE_MESSAGE, this.showNoMarkingCheckAvailableMessage);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.OPEN_TEAM_MANAGEMENT_EVENT, this.onTeamManagementOpen);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.MY_TEAM_DATA_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.TEAM_EXCEPTIONS_DATA_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.HELP_EXAMINERS_DATA_RECEIVED, this.isAutozonedMessagePopupVisible);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.ADD_TO_HISTORY_EVENT, this.addToRecentHistory);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.MARKING_CHECK_COMPLETE_BUTTON_EVENT, this.markCheckCompleteButtonEvent);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.MARKING_CHECK_COMPLETED_EVENT, this.markCheckCompletedEvent);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.SAMPLING_STATUS_CHANGED_EVENT, this.ShowSupervisorSamplingCommentValidationPopup);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.EXAMINER_DRILL_DOWN_DATA_UPDATED, this.addToRecentHistory);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.FAILURE_WHILE_FETCHING_TEAM_DATA_EVENT, this.handleErrorNavigationTeamManagement);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.MY_TEAM_DATA_LOADED_EVENT, this.resetBusyIndicator);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.TEAM_EXCEPTIONS_DATA_LOADED_EVENT, this.resetBusyIndicator);\r\n        teamManagementStore.instance.removeListener(teamManagementStore.TeamManagementStore.HELP_EXAMINERS_DATA_RECEIVED, this.resetBusyIndicator);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SHOW_LOCKS_IN_QIG_POPUP, this.onShowLocksInQigsPopup);\r\n        qigStore.instance.removeListener(qigStore.QigStore.QIG_SELECTED_FROM_LOCKED_LIST, this.onQigSelectedFromLockedList);\r\n        qigStore.instance.removeListener(qigStore.QigStore.QIG_SELECTED_EVENT, this.navigateToQigFromLockedList);\r\n        qigStore.instance.removeListener(qigStore.QigStore.LOCKS_IN_QIG_DATA_RETRIEVED, this.doLogoutPopup);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_FAILED_EVENT, this.onResponseDataReceivedFailed);\r\n        submitStore.instance.removeListener(submitStore.SubmitStore.SHOW_SIMULATION_RESPONSE_SUBMIT_CONFIRMATION_EVENT, this.onshowSimulationResponseSubmitConfirmationPopup);\r\n        worklistStore.instance.removeListener(worklistStore.WorkListStore.STANDARDISATION_SETUP_COMPLETED_IN_BACKGROUND, this.onStandardisationSetupCompletionInBackground);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SIMULATION_EXITED_QIGS_AND_LOCKS_IN_QIGS_RETRIEVED, this.onSimulationExitedQigsAndLocksInQigsRecieved);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SIMULATION_TARGET_COMPLETED, this.onSimulationTargetCompletion);\r\n        qigStore.instance.removeListener(qigStore.QigStore.STANDARDISATION_SETUP_COMPLETED_EVENT, this.onStandardisationSetupCompletion);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SIMULATION_EXITED_QIGS_RETRIEVED, this.onSimulationExitedQigsRecieved);\r\n        ccStore.instance.removeListener(ccStore.ConfigurableCharacteristicsStore.EXAM_BODY_CC_GET, this.onExamBodyCCLoaded);\r\n        ecourseworkFileStore.instance.removeListener(ecourseworkFileStore.ECourseWorkFileStore.ECOURSEWORK_FILE_DATA_CLEARED_EVENT, this.onEcourseworkFileDataCleared);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SAVE_ACETATES_DATA_ACTION_COMPLETED, this.resetAcetateSaveInProgressStatus);\r\n        qigStore.instance.removeListener(qigStore.QigStore.SHARE_CONFIRMATION_EVENT, this.shareConfirmationPopup);\r\n        qigStore.instance.removeListener(qigStore.QigStore.RESET_SHARED_ACETATES_COMPLETED, this.resetAcetateSaveInProgressStatus);\r\n        qigStore.instance.removeListener(qigStore.QigStore.RESET_ACETATE_SAVE_IN_PROGRESS_STATUS_COMPLETED, this.onResetAcetatesSaveInProgressReceived);\r\n        targetSummaryStore.instance.removeListener(targetSummaryStore.TargetSummaryStore.WORKLIST_INITIALISATION_COMPLETED, this.isAutozonedMessagePopupVisible);\r\n        imageZoneStore.instance.removeListener(imageZoneStore.ImageZoneStore.EBOOK_IMAGEZONE_LOADED_EVENT, this.isAutozonedMessagePopupVisible);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .POPUP_OPEN_SELECT_TO_MARK_BUTTON_EVENT, this.onSelectStdSetupResponseToMark);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .STANDARDISATION_RIG_CREATED_EVENT, this.onStandardisationRigCreated);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .COMPLETE_STANDARDISATION_SETUP_EVENT, this.onCompleteStandardisationSetup);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .GET_STANDARDISATION_TARGET_DETAILS_EVENT, this.resetBusyIndicatorStdSetupNotComplete);\r\n        userinfostore.instance.removeListener(userinfostore.UserInfoStore.SWITCH_USER_BUTTON_CLICK, this.switchUserButtonClick);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .STANDARDISATION_RESPONSE_DATA_UPDATED_EVENT, this.onResponseDataRecievedAfterRefresh);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .GET_STANDARDISATION_CENTRE_DETAILS_EVENT, this.onResponseDataRecievedAfterRefresh);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .MULTI_OPTION_POPUP_OPEN_RECLASSIFY_POPUP_EVENT, this.reclassifyMultiOptionPopupOpen);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.STANDARDISATION_SETUP_LEFT_PANEL_SELECT_EVENT, this.addToRecentHistory);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.POPUP_OPEN_RECLASSIFY_POPUP_EVENT, this.reclassifyPopupOpen);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .POPUP_OPEN_RECLASSIFY_ERROR_POPUP_EVENT, this.reclassifyErrorPopupOpen);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore\r\n            .CONCURRENT_SAVE_FAIL_EVENT, this.concurrentSaveFailPopup);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.CLASSIFY_RESPONSE_EVENT, this.reRenderUnclassifiedWorklist);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.SAVE_NOTE_COMPLETED_ACTION_EVENT, this.displayNoteSaveFailedPopup);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.RECLASSIFIED_RESPONSE_EVENT, this.reRenderOnClassifiedResponseReceived);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.DECLASSIFY_RESPONSE_EVENT, this.reRenderOnClassifiedResponseReceived);\r\n        responseStore.instance.removeListener(responseStore.ResponseStore.RIG_NOT_FOUND_EVENT, this.showOrHideRigNotFoundPopup);\r\n        userinfostore.instance.removeListener(userinfostore.UserInfoStore.USERINFO_SAVE, this.userInfoSaved);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.STANDARDISATION_SHARE_RESPONSE_POPUP_DISPLAY, this.shareResponsePopupOpen);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.REUSE_RIG_POPUP_DISPLAY_ACTION_EVENT, this.reuseRigActionPopupOpen);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.REUSE_RIG_ACTION_COMPLETED_EVENT, this.reuseRigActionCompletedEvent);\r\n        standardisationSetupStore.instance.removeListener(standardisationSetupStore.StandardisationSetupStore.RESPONSE_ALREADY_DISCARDED_EVENT, this.discardResponseFailPopup);\r\n    };\r\n    /**\r\n     * Set the confirmation dialogue state\r\n     * @param stateValue The state value\r\n     */\r\n    Footer.prototype.setConfirmationDialogueState = function (stateValue) {\r\n        this.setState({\r\n            isSubmitConfirmationPopupDisplaying: stateValue\r\n        });\r\n    };\r\n    /**\r\n     * On yes click of submit response confirmation pop up\r\n     */\r\n    Footer.prototype.onYesClickOfSubmitButton = function () {\r\n        this.setConfirmationDialogueState(false);\r\n        this.submitResponse();\r\n    };\r\n    /**\r\n     * submit response/s\r\n     */\r\n    Footer.prototype.submitResponse = function () {\r\n        var busyIndicatorInvoker;\r\n        var submitResponseArgument;\r\n        /**\r\n         * if markgroupid is greater than zero, then its single response submit\r\n         */\r\n        busyIndicatorInvoker =\r\n            submitStore.instance.getMarkGroupId > 0\r\n                ? enums.BusyIndicatorInvoker.submit\r\n                : enums.BusyIndicatorInvoker.submitAll;\r\n        /**\r\n         * Show busy indicator on submitting response\r\n         */\r\n        busyIndicatorActionCreator.setBusyIndicatorInvoker(busyIndicatorInvoker);\r\n        /**\r\n         * Submitting  responses initiated\r\n         * Select the mark group list based on the current response mode\r\n         */\r\n        var markGroupIdList = worklistComponentHelper.getMarkgroupIdCollectionForSubmit(targetHelper.getSelectedQigMarkingMode());\r\n        var qiglist = qigStore.instance.relatedQigList;\r\n        var examinerRoleIdList = new Array();\r\n        qiglist\r\n            ? qiglist.map(function (x) {\r\n                examinerRoleIdList.push(x.examinerRoleId);\r\n            })\r\n            : (examinerRoleIdList = null);\r\n        var markSchemeGroupIds = new Array();\r\n        qiglist\r\n            ? qiglist.map(function (x) {\r\n                markSchemeGroupIds.push(x.markSchemeGroupId);\r\n            })\r\n            : (markSchemeGroupIds = null);\r\n        /**\r\n         * mapping  values on submit argument\r\n         */\r\n        submitResponseArgument = {\r\n            markGroupIds: markGroupIdList,\r\n            markingMode: targetHelper.getSelectedQigMarkingMode(),\r\n            examinerRoleId: qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId,\r\n            markSchemeGroupId: qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId,\r\n            examinerApproval: examinerStore.instance.getMarkerInformation.approvalStatus,\r\n            isAdminRemarker: loginStore.instance.isAdminRemarker\r\n        };\r\n        var worklistType = worklistStore.instance.currentWorklistType;\r\n        var remarkRequestType = worklistComponentHelper.getRemarkRequestType(worklistType);\r\n        /**\r\n         * calling to send data to server\r\n         */\r\n        var displayId = submitStore.instance.isSubmitFromMarkScheme\r\n            ? responseStore.instance.selectedDisplayId.toString()\r\n            : undefined;\r\n        submitActionCreator.submitResponse(submitResponseArgument, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, worklistType, remarkRequestType, submitStore.instance.isSubmitFromMarkScheme, displayId, examinerRoleIdList, markSchemeGroupIds);\r\n    };\r\n    /**\r\n     * On no click of submit response confirmation pop up\r\n     */\r\n    Footer.prototype.onNoClickOfSubmitButton = function () {\r\n        this.setConfirmationDialogueState(false);\r\n    };\r\n    /**\r\n     * this function is called on \"yes\" click of logout confirmation popup. This will trigger logout.\r\n     */\r\n    Footer.prototype.onYesClickOfLogoutConfirmation = function (isAutoLogOut) {\r\n        if (isAutoLogOut === void 0) { isAutoLogOut = false; }\r\n        /**\r\n         * Setting to true as the logout has been triggered\r\n         */\r\n        this._onLogoutTriggered = true;\r\n        /**\r\n         * Setting the value to identify whether it is from idle timeout\r\n         */\r\n        this._isAutoLogOut = isAutoLogOut;\r\n        switch (navigationStore.instance.containerPage) {\r\n            case enums.PageContainers.QigSelector:\r\n            case enums.PageContainers.Message:\r\n            case enums.PageContainers.Reports:\r\n                var _rememberQig = new rememberQig();\r\n                _rememberQig.qigId = 0;\r\n                _rememberQig.area = enums.QigArea.QigSelector;\r\n                userOptionsHelper.save(userOptionKeys.REMEMBER_PREVIOUS_QIG, JSON.stringify(_rememberQig));\r\n                break;\r\n        }\r\n        /**\r\n         * Saving changed user options if any of them changed\r\n         */\r\n        if (userOptionsHelper.hasUserOptionsChanged) {\r\n            userOptionsHelper.InitiateSaveUserOption(true);\r\n        }\r\n        else {\r\n            this.updateUserSession();\r\n        }\r\n    };\r\n    /**\r\n     * to update message priority\r\n     */\r\n    Footer.prototype.onOkClickMandatoryMessageValidationPopup = function () {\r\n        messagingActionCreator.updateMessagePriority();\r\n    };\r\n    /**\r\n     * Return true if the selected standardisation tab is unclassified\r\n     */\r\n    Footer.prototype.isUnclassifiedWorklistSelected = function () {\r\n        return standardisationSetupStore.instance.selectedStandardisationSetupWorkList === enums.StandardisationSetup.UnClassifiedResponse;\r\n    };\r\n    /**\r\n     * hides the popup\r\n     */\r\n    Footer.prototype.onPopupOkClick = function () {\r\n        this.setState({ doShowPopup: false });\r\n        // If the object has the mark group Id, Call navigate method for completing actions.\r\n        if (this.messageDetails.submittedMarkGroupIds &&\r\n            this.messageDetails.submittedMarkGroupIds.length > 0) {\r\n            this.navigateAfterSubmit(this.messageDetails.submittedMarkGroupIds, this.messageDetails.displayId, this.messageDetails.isFromMarkScheme);\r\n            this.messageDetails.submittedMarkGroupIds = [];\r\n        }\r\n    };\r\n    /**\r\n     * shows the popup\r\n     */\r\n    Footer.prototype.ShowSupervisorSamplingCommentValidationPopup = function (supervisorSamplingCommentReturn) {\r\n        if (supervisorSamplingCommentReturn.isSampled) {\r\n            this.messageDetails = {\r\n                messageHeader: localeStore.instance.TranslateText('team-management.response.sampling-error-dialog-already-sampled.body'),\r\n                messageString: localeStore.instance.TranslateText('team-management.response.sampling-error-dialog-already-sampled.header')\r\n            };\r\n            this.setState({ doShowPopup: true });\r\n        }\r\n    };\r\n    /**\r\n     * this function is called on 'No' click of logout confirmation popup.This will call a method in the container.\r\n     */\r\n    Footer.prototype.onNoClickOfLogoutConfirmation = function () {\r\n        this.props.resetLogoutConfirmationSatus();\r\n    };\r\n    /**\r\n     * Non-Recoverable marks and annotation save error message ok click\r\n     */\r\n    Footer.prototype.onOkClickOfNonRecoverableErrorMessage = function () {\r\n        // close the non-recoverable error popup on submit if it is already open.\r\n        if (this.state.nonRecoverableSaveMarksAndAnnotationsErrorMessage) {\r\n            this.setState({\r\n                nonRecoverableSaveMarksAndAnnotationsErrorMessage: false\r\n            });\r\n        }\r\n        // close the non-recoverable error popup.\r\n        if (this.state.isNonRecoverableErrorPopupVisible) {\r\n            this.setState({\r\n                isNonRecoverableErrorPopupVisible: false\r\n            });\r\n        }\r\n        // This will clear the marks and annotations with non-recoverable error from store collection.\r\n        // This will reload by background call or while opening the response.\r\n        marksAndAnnotationsSaveHelper.clearMarksAndAnnotationsForNonRecoverableErrors();\r\n        // Calling the processBasedOnSaveMarksAndAnnotationTriggeringPoint on Submit will make the DB call.\r\n        // refresh and navigate to worklist if there is an error.\r\n        if (this.currentSaveMarksAndAnnotationTriggeringPoint ===\r\n            enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Submit) {\r\n            navigationHelper.loadContainerIfNeeded(enums.PageContainers.WorkList, enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse);\r\n            this.initiateContentRefresh();\r\n        }\r\n        else {\r\n            this.processBasedOnSaveMarksAndAnnotationTriggeringPoint(this.currentSaveMarksAndAnnotationTriggeringPoint);\r\n        }\r\n    };\r\n    /**\r\n     * This method will handle the navigation based on the triggering point.\r\n     * @param saveMarksAndAnnotationTriggeringPoint\r\n     * @param markGroupId\r\n     */\r\n    Footer.prototype.processBasedOnSaveMarksAndAnnotationTriggeringPoint = function (saveMarksAndAnnotationTriggeringPoint, markGroupId) {\r\n        switch (saveMarksAndAnnotationTriggeringPoint) {\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse:\r\n                navigationHelper.loadContainerIfNeeded(navigationStore.instance.containerPage, enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse, this.context);\r\n                break;\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Inbox:\r\n                navigationHelper.loadContainerIfNeeded(navigationStore.instance.containerPage, enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Inbox, this.context);\r\n                break;\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Logout:\r\n                /* Trigger save mark for the currently selected item when logging out */\r\n                markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.toLogout);\r\n                break;\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Submit:\r\n                submitHelper.saveAndSubmitResponse(markGroupId ? markGroupId : submitStore.instance.getMarkGroupId);\r\n                break;\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Classify:\r\n                // Update MarkGroupRowVersion after save\r\n                this._classifyResponseDetails.esMarkGroupRowVersion = markingStore.instance.getUpdatedRowVersionOnSaveAndClassify;\r\n                // Trigger classify response action with updated MarkGroupRowVersion\r\n                standardisationActionCreator.classifyResponse(this._classifyResponseDetails, navigationStore.instance.containerPage);\r\n                break;\r\n            case enums.SaveMarksAndAnnotationsProcessingTriggerPoint.ShareAndClassify:\r\n                submitActionCreator.shareAndClassifyResponse(this._shareResponseArgument, this._isSharedFromMarkScheme, this._shareResponseDetails.displayId);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Method to get Grace Period Expired Message Body\r\n     * @returns\r\n     */\r\n    Footer.prototype.getGracePeriodExpiredMessageBody = function () {\r\n        var errorBody = localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.body-grace-period-expired-changes-not-saved');\r\n        return errorBody.replace('{0}', worklistStore.instance.displayIdOfMarkGroup(this.expiredMarkGroupId));\r\n    };\r\n    /**\r\n     * Method to get Response removed error dialog Message Body\r\n     * @returns\r\n     */\r\n    Footer.prototype.getResponseRemovedErrorDialogMessageBody = function () {\r\n        var errorBody = localeStore.instance.TranslateText('marking.response.saving-marks-error-dialog.body-response-removed-from-worklist');\r\n        return errorBody.replace('{0}', worklistStore.instance.displayIdOfMarkGroup(this.expiredMarkGroupId));\r\n    };\r\n    /**\r\n     * Just hide the response in grace message on ok click.\r\n     */\r\n    Footer.prototype.onOkClickOfResponseInGraceMessage = function () {\r\n        this.setState({\r\n            isDisplayingGraceResponseLessthan100PercentageError: false\r\n        });\r\n        if (this._failureReason === enums.ResponseNavigateFailureReason.AllPagesNotAnnotatedInGrace) {\r\n            // Closing the user information panel, if the popup is triggered due to logout button action.\r\n            // moving to full response view.\r\n            markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.toFullResponseview);\r\n            this._failureReason = enums.ResponseNavigateFailureReason.None;\r\n        }\r\n    };\r\n    /**\r\n     * Just hide the response in grace message on ok click.\r\n     */\r\n    Footer.prototype.onOkClickOfResponseInGraceExpiredMessageOrResponseRemovedMessage = function () {\r\n        if (this.currentSaveMarksAndAnnotationTriggeringPoint ===\r\n            enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Logout) {\r\n            this.updateUserSession();\r\n        }\r\n        else {\r\n            // This will clear the marks and annotations with mark save errors\r\n            // This will reload by background call or while opening the response.\r\n            marksAndAnnotationsSaveHelper.clearMarksAndAnnotationsForMarkSaveErrors();\r\n            navigationHelper.loadWorklist();\r\n        }\r\n    };\r\n    /**\r\n     * Get the error message that has to be shown while a marker is withdrawn in the background\r\n     */\r\n    Footer.prototype.getWithdrawnResponseErrorMessage = function () {\r\n        var errorBody = localeStore.instance.TranslateText('marking.worklist.response-allocation-error-dialog.response-allocation-error-withdrawnMarker');\r\n        return errorBody;\r\n    };\r\n    /**\r\n     * Get the error message that has to be shown while a marker is withdrawn in the background\r\n     */\r\n    Footer.prototype.getSessionClosedErrorMessage = function () {\r\n        var errorBody = localeStore.instance.TranslateText('marking.worklist.request-marking-check-error-dialog.body-session-closed');\r\n        return errorBody;\r\n    };\r\n    /**\r\n     * On cliking Ok button of the response trigger close response\r\n     */\r\n    Footer.prototype.onOkClickOfWithDrawErrorMessage = function () {\r\n        if (this.props.footerType === enums.FooterType.Response) {\r\n            if (this.navigateReponse === enums.SaveAndNavigate.toInboxMessagePage) {\r\n                this.processBasedOnSaveMarksAndAnnotationTriggeringPoint(enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Inbox);\r\n                navigationHelper.loadMessagePage();\r\n            }\r\n            else {\r\n                var updateNavigationPromise = markingActionCreator.updateNavigation(enums.SaveAndNavigate.toQigSelector, false);\r\n                var that_1 = this;\r\n                Promise.Promise.all([updateNavigationPromise]).then(function (result) {\r\n                    that_1.processBasedOnSaveMarksAndAnnotationTriggeringPoint(enums.SaveMarksAndAnnotationsProcessingTriggerPoint.CloseResponse);\r\n                    if (that_1.navigateReponse === enums.SaveAndNavigate.toLogout) {\r\n                        that_1.navigateAwayFromResponse();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.setState({ isWithdrawnResponseError: false, isBusy: false });\r\n            this.storageAdapterHelper.clearCacheByKey('qigselector', 'overviewdata');\r\n            if (qigStore.instance.getOverviewData) {\r\n                var currentQig = qigStore.instance.getOverviewData.qigSummary\r\n                    .filter(function (qig) {\r\n                    return qig.examinerRoleId ===\r\n                        examinerStore.instance.getMarkerInformation.examinerRoleId;\r\n                })\r\n                    .first();\r\n                teamManagementActionCreator.removeHistoryItem(currentQig ? currentQig.markSchemeGroupId : 0);\r\n            }\r\n            qigActionCreator.getQIGSelectorData(0);\r\n            loadContainerActionCreator.loadContainer(enums.PageContainers.QigSelector);\r\n        }\r\n    };\r\n    /**\r\n     * Start the content refresh\r\n     */\r\n    Footer.prototype.initiateContentRefresh = function () {\r\n        // Clear worklist cache and do content refresh\r\n        var markingMode = worklistStore.instance.getMarkingModeByWorkListType(worklistStore.instance.currentWorklistType);\r\n        if (qigStore.instance.selectedQIGForMarkerOperation) {\r\n            this.storageAdapterHelper.clearCache(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, markingMode, worklistStore.instance.getRemarkRequestType, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, worklistStore.instance.currentWorklistType);\r\n            // Load the marking progress\r\n            worklistActionCreator.getWorklistMarkerProgressData(qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation\r\n                .isElectronicStandardisationTeamMember);\r\n        }\r\n    };\r\n    /**\r\n     * setting the timeout of application online check\r\n     * @param {type} interval\r\n     */\r\n    Footer.prototype.triggerApplicationOnlinePoll = function (forceStartPoll) {\r\n        if (forceStartPoll === void 0) { forceStartPoll = false; }\r\n        // If the application status has been changed update the call\r\n        if (forceStartPoll || this.state.isOnline !== applicationStore.instance.isOnline) {\r\n            if (userOptionsHelper.hasUserOptionsChanged) {\r\n                userOptionsHelper.InitiateSaveUserOption(false);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Closing application error poup message\r\n     */\r\n    Footer.prototype.onApplicationErrorMessagePopUpClicked = function () {\r\n        this.setState({\r\n            isApplicationOffline: false\r\n        });\r\n    };\r\n    /**\r\n     * User action has been interrupted\r\n     */\r\n    Footer.prototype.userActionInterrupted = function (_isFromLogout) {\r\n        if (_isFromLogout) {\r\n            this.offlineErrorMessage = localeStore.instance.TranslateText('generic.offline-dialog.body-user-options-changed');\r\n            this.props.resetLogoutConfirmationSatus();\r\n            this._onLogoutTriggered = false;\r\n        }\r\n        else {\r\n            this.offlineErrorMessage = stringHelper.format(localeStore.instance.TranslateText('generic.offline-dialog.body'), [String(String.fromCharCode(179))]);\r\n        }\r\n        /*Hiding the busy indicator if the application is offline and the busy indicator was showing at the time of being offline*/\r\n        if (this.state.isBusy && !applicationStore.instance.isOnline) {\r\n            this.setState({\r\n                isApplicationOffline: !applicationStore.instance.isOnline,\r\n                isBusy: false\r\n            });\r\n        }\r\n        else {\r\n            this.setState({ isApplicationOffline: !applicationStore.instance.isOnline });\r\n        }\r\n    };\r\n    /**\r\n     * Adding current qig details to user option.\r\n     */\r\n    Footer.prototype.addSelectedQigDetailsToUserOption = function () {\r\n        var _rememberQig = new rememberQig();\r\n        if (qigStore.instance.selectedQIGForMarkerOperation) {\r\n            _rememberQig.qigId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n            _rememberQig.worklistType = worklistStore.instance.currentWorklistType;\r\n            _rememberQig.remarkRequestType = worklistStore.instance.getRemarkRequestType;\r\n            _rememberQig.questionPaperPartId =\r\n                qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId;\r\n            if (markerOperationModeFactory.operationMode.isTeamManagementMode) {\r\n                _rememberQig.area = enums.QigArea.TeamManagement;\r\n                if (teamManagementStore.instance.selectedTeamManagementTab ===\r\n                    enums.TeamManagement.MyTeam) {\r\n                    if (navigationStore.instance.containerPage === enums.PageContainers.WorkList) {\r\n                        _rememberQig.subordinateExaminerRoleID = teamManagementStore.instance\r\n                            .examinerDrillDownData\r\n                            ? teamManagementStore.instance.examinerDrillDownData.examinerRoleId\r\n                            : 0;\r\n                        _rememberQig.subordinateExaminerID = teamManagementStore.instance\r\n                            .examinerDrillDownData\r\n                            ? teamManagementStore.instance.examinerDrillDownData.examinerId\r\n                            : 0;\r\n                    }\r\n                    else {\r\n                        _rememberQig.subordinateExaminerRoleID = 0;\r\n                        _rememberQig.subordinateExaminerID = 0;\r\n                    }\r\n                }\r\n                _rememberQig.examinerRoleId = teamManagementStore.instance.selectedExaminerRoleId\r\n                    ? teamManagementStore.instance.selectedExaminerRoleId\r\n                    : operationModeHelper.examinerRoleId;\r\n                _rememberQig.tab = enums.TeamManagement.MyTeam;\r\n            }\r\n            else if (markerOperationModeFactory.operationMode.isStandardisationSetupMode) {\r\n                _rememberQig.area = enums.QigArea.StandardisationSetup;\r\n                _rememberQig.standardisationSetupWorklistType = standardisationSetupStore.instance.selectedStandardisationSetupWorkList;\r\n            }\r\n            else {\r\n                _rememberQig.area = enums.QigArea.Marking;\r\n            }\r\n            userOptionsHelper.save(userOptionKeys.REMEMBER_PREVIOUS_QIG, JSON.stringify(_rememberQig));\r\n        }\r\n    };\r\n    /**\r\n     * Action when the cancel button for Marking Check is clicked\r\n     * Cancel the popup\r\n     */\r\n    Footer.prototype.OnCancelClickOfMarkingCheckCompleteConfirmation = function () {\r\n        this.setState({ isMarkingCheckCompleteConfirmationPopupDisplaying: false });\r\n    };\r\n    /**\r\n     * Action when the ok button for Marking Check confirmation is clicked\r\n     */\r\n    Footer.prototype.OnOkClickOfMarkingCheckCompleteConfirmation = function () {\r\n        /* on marking check confirmation is clicked Send two messages\r\n           First Message to the marker so that it will appear in the inbox\r\n           the  second message with sysytem message priority so that the\r\n           marking check will be considered as complete*/\r\n        this.setState({ isMarkingCheckCompleteConfirmationPopupDisplaying: false });\r\n        var systemMessagePriority = 255;\r\n        var markingCheckToList = [\r\n            worklistStore.instance.selectedMarkingCheckExaminer.fromExaminerID\r\n        ];\r\n        var questionPaperId = qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId;\r\n        var markSchemeGroupId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n        messagingActionCreator.sendExaminerMessage(markingCheckToList, '', '', questionPaperId, null, enums.MessagePriority.Important, markSchemeGroupId, null, -1, -1, false, null, enums.SystemMessage.MarksChecked);\r\n        messagingActionCreator.sendExaminerMessage(markingCheckToList, '', '', questionPaperId, null, systemMessagePriority, markSchemeGroupId, null, -1, -1, false, null, enums.SystemMessage.MarksChecked);\r\n    };\r\n    /**\r\n     * On cliking Ok button of the response search failed popup\r\n     */\r\n    Footer.prototype.onOkClickOfResponseSearchFailedErrorMessage = function () {\r\n        this.setState({ isResponseSearchFailed: false });\r\n        this.storageAdapterHelper.clearStorageArea('messaging');\r\n        messagingActionCreator.refreshMessageFolder(enums.MessageFolderType.Inbox);\r\n    };\r\n    /**\r\n     * Get the error message that has to be shown on response search failed while a response is deallocated in the background\r\n     */\r\n    Footer.prototype.getResponseSearchFailedErrorMessage = function () {\r\n        var searchResponseData = messageStore.instance.searchResponseData;\r\n        var questionGroup = messageHelper.getDisplayText(messageStore.instance.getMessageData(searchResponseData.messageId));\r\n        var errorBodyParameter = [searchResponseData.displayId, questionGroup];\r\n        var errorBody = stringHelper.format(localeStore.instance.TranslateText('generic.error-dialog.body-response-removed'), errorBodyParameter);\r\n        return errorBody;\r\n    };\r\n    /**\r\n     * on clicking yes button of simulation response submit confirmation popup\r\n     */\r\n    Footer.prototype.onYesClickOfSimulationResponseSubmitButton = function () {\r\n        this.setState({ showSimulationResponseSubmitConfirmationPopup: false });\r\n        if (submitStore.instance.isSubmitFromMarkScheme) {\r\n            simulationModeHelper.checkStandardisationSetupCompletion(enums.PageContainers.None, enums.PageContainers.None);\r\n            busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.submitInResponseScreen);\r\n            markingActionCreator.saveAndNavigate(enums.SaveAndNavigate.submit);\r\n        }\r\n        else {\r\n            // If simulation response submission happens from worklist, then submission\r\n            // needs to be blocked if standardisation setup is completed\r\n            var that_2 = this;\r\n            if (!qigStore.instance.getSelectedQIGForTheLoggedInUser.standardisationSetupComplete) {\r\n                var promise = qigActionCreator.checkStandardisationSetupCompleted(qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId, enums.PageContainers.WorkList, enums.PageContainers.WorkList);\r\n                Promise.Promise.all([promise]).then(function (data) {\r\n                    if (data[0] === true) {\r\n                        this.setState({\r\n                            showSimulationExitedPopup: true,\r\n                            showAllSimulationExitedQigs: false\r\n                        });\r\n                    }\r\n                    else {\r\n                        that_2.submitResponse();\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                that_2.submitResponse();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * on clicking no button of simulation response submit confirmation popup\r\n     */\r\n    Footer.prototype.onNoClickOfSimulationResponseSubmitButton = function () {\r\n        this.setState({ showSimulationResponseSubmitConfirmationPopup: false });\r\n    };\r\n    /**\r\n     * on clicking yes button of share confirmation popup\r\n     */\r\n    Footer.prototype.onYesClickOfShareConfirmationPopup = function () {\r\n        this.setState({ doShowShareConfirmationPopup: false });\r\n        acetatesActionCreator.shareAcetate(this.shareConfirmationClientToken);\r\n        this.shareConfirmationClientToken = undefined;\r\n    };\r\n    /**\r\n     * on clicking no button of share confirmation popup\r\n     */\r\n    Footer.prototype.onNoClickOfShareConfirmationPopup = function () {\r\n        this.setState({ doShowShareConfirmationPopup: false });\r\n        this.shareConfirmationClientToken = undefined;\r\n    };\r\n    /**\r\n     * Gets the name of simulation mode exited qigs\r\n     */\r\n    Footer.prototype.getSimulationModeExitedQigs = function () {\r\n        var qigNames = new Array();\r\n        if (this.state.showSimulationExitedPopup) {\r\n            // If all qigs need to be shown then. When navigating to qigselector.\r\n            if (this.state.showAllSimulationExitedQigs) {\r\n                var simulationModeExitedQigList_1 = Immutable.List();\r\n                simulationModeExitedQigList_1 =\r\n                    qigStore.instance.getSimulationModeExitedQigList === undefined\r\n                        ? undefined\r\n                        : qigStore.instance.getSimulationModeExitedQigList.qigList;\r\n                if (simulationModeExitedQigList_1) {\r\n                    simulationModeExitedQigList_1.map(function (_simulationModeExitedQig) {\r\n                        var qigNameToDisplay = stringFormatHelper.formatAwardingBodyQIG(_simulationModeExitedQig.markSchemeGroupName, _simulationModeExitedQig.assessmentCode, _simulationModeExitedQig.sessionName, _simulationModeExitedQig.componentId, _simulationModeExitedQig.questionPaperName, '', // TO DO: have to retrive ComponentName and AssessmentName on simulationQIg details.\r\n                        '', stringFormatHelper.getOverviewQIGNameFormat());\r\n                        qigNames.push(qigNameToDisplay);\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                // Otherwise show only the currrent qig. When navigating from worklist/response to area other than\r\n                // qigselector\r\n                var qigData = qigStore.instance.getSelectedQIGForTheLoggedInUser;\r\n                var qigNameToDisplay = stringFormatHelper.formatAwardingBodyQIG(qigData.markSchemeGroupName, qigData.assessmentCode, qigData.sessionName, qigData.componentId, qigData.questionPaperName, '', // TO DO: have to retrive ComponentName and AssessmentName on simulationQIg details.\r\n                '', stringFormatHelper.getOverviewQIGNameFormat());\r\n                qigNames.push(qigNameToDisplay);\r\n            }\r\n        }\r\n        return qigNames;\r\n    };\r\n    /**\r\n     * Method to reset the acetate save inprogress status.\r\n     */\r\n    Footer.prototype.resetAcetateSaveInProgressStatus = function () {\r\n        // checking whether any addded/modified acetates are found in the acetatelist from store.\r\n        var modifiedAcetatesList = qigStore.instance.getModifiedAcetatesList();\r\n        if (modifiedAcetatesList && modifiedAcetatesList.size > 0) {\r\n            // Invoke action creator to set saveInProgress status to true before calling acetate save process.\r\n            acetatesActionCreator.resetAcetateSaveInProgressStatus(modifiedAcetatesList);\r\n        }\r\n    };\r\n    /**\r\n     * Reset acetates saveInProgress status received callback event.\r\n     */\r\n    Footer.prototype.onResetAcetatesSaveInProgressReceived = function (modifiedAcetatesList) {\r\n        var saveacetatesarguments = {\r\n            Tools: modifiedAcetatesList\r\n        };\r\n        // db call for saving the acetate list in database.\r\n        acetatesActionCreator.saveAcetates(saveacetatesarguments);\r\n    };\r\n    /**\r\n     * Complete Standardisation received callback event.\r\n     */\r\n    Footer.prototype.onCompleteStandardisationSetup = function () {\r\n        if (!standardisationSetupStore.instance.iscompleteStandardisationSuccess) {\r\n            this.setState({ popUpType: enums.PopUpType.CompleteStandardisationValidate, isBusy: false });\r\n        }\r\n    };\r\n    /**\r\n     * Checks whether the autozoned message should be displayed.\r\n     */\r\n    Footer.prototype.isAutozonedMessagePopupVisible = function () {\r\n        if (this.props.footerType !== enums.FooterType.Message) {\r\n            var selectedAwardingCandidateData = void 0;\r\n            var examSessionID = void 0;\r\n            if (markerOperationModeFactory.operationMode.isAwardingMode) {\r\n                selectedAwardingCandidateData = awardingHelper.awardingSelectedCandidateData();\r\n                examSessionID = selectedAwardingCandidateData.responseItemGroups[0].examSessionID;\r\n            }\r\n            //Checking the CC values\r\n            var isAutozoned = configurableCharacteristicHelper\r\n                .getExamSessionCCValue(configurableCharacteristicNames.AutoZoning, markerOperationModeFactory.operationMode.isAwardingMode\r\n                ? examSessionID\r\n                : qigStore.instance.selectedQIGForMarkerOperation.examSessionId)\r\n                .toLowerCase() === 'true' &&\r\n                configurableCharacteristicHelper\r\n                    .getExamSessionCCValue(configurableCharacteristicNames.DisplayAutozonedResponsesWarning, markerOperationModeFactory.operationMode.isAwardingMode\r\n                    ? examSessionID\r\n                    : qigStore.instance.selectedQIGForMarkerOperation.examSessionId)\r\n                    .toLowerCase() === 'true';\r\n            //getting the saved userOption value\r\n            var userOptionAutozonedValue = userOptionsHelper.getUserOptionByName(userOptionKeys.AUTOZONED_WARNING_MESSAGE, markerOperationModeFactory.operationMode.isAwardingMode\r\n                ? awardingStore.instance.selectedCandidateData.responseItemGroups[0].examinerRoleId\r\n                : qigStore.instance.getSelectedQIGForTheLoggedInUser.examinerRoleId) === 'true';\r\n            //set state to display Autozoned message popup\r\n            if (isAutozoned && userOptionAutozonedValue !== true) {\r\n                this.setState({\r\n                    isAutozonedMessagePopupDisplaying: true\r\n                });\r\n                //saving useroption for autozoned message popup\r\n                userOptionsHelper.save(userOptionKeys.AUTOZONED_WARNING_MESSAGE, JSON.stringify(true), true, true, false, true, markerOperationModeFactory.operationMode.isAwardingMode\r\n                    ? awardingStore.instance.selectedCandidateData.responseItemGroups[0].examinerRoleId\r\n                    : qigStore.instance.getSelectedQIGForTheLoggedInUser.examinerRoleId);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Action when the ok button for Marking Check confirmation is clicked\r\n     */\r\n    Footer.prototype.OnOkClickOfCompleteStandardisationConfirmation = function () {\r\n        this.setState({ isBusy: true, isCompleteStandardisation: true });\r\n        standardisationActionCreator.completeStandardisationSetup(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n    };\r\n    /**\r\n     * Action when the ok button for Marking Check confirmation is clicked\r\n     */\r\n    Footer.prototype.OnCancelClickOfCompleteStandardisationConfirmation = function () {\r\n        this.props.OnClickingCancelofStdSetupPopup(true);\r\n    };\r\n    /**\r\n     * Action when the ok button for Marking Check confirmation is clicked\r\n     */\r\n    Footer.prototype.onOkClickofStandardisationSetupValidate = function () {\r\n        this.setState({\r\n            popUpType: enums.PopUpType.None,\r\n            isCompleteStandardisation: false\r\n        });\r\n        busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.validateStandardisationSetup);\r\n        standardisationActionCreator.getStandardisationTargetDetails(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId);\r\n        // get the worklist view type.\r\n        var stdWorklistViewType = userOptionsHelper.getUserOptionByName(userOptionKeys.SELECTED_GRID_VIEW_OPTION)\r\n            === 'false' ? enums.STDWorklistViewType.ViewMarksByQuestion : enums.STDWorklistViewType.ViewTotalMarks;\r\n        // Refresh the grid with latest changes.\r\n        standardisationActionCreator.getClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, standardisationSetupStore.instance.markSchemeGroupId, false, stdWorklistViewType);\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"getSelectToMarkProvisionalPopupContent\", {\r\n        /**\r\n         * pop up content on clicking select response to mark button\r\n         */\r\n        get: function () {\r\n            var content = [];\r\n            var scriptData = standardisationSetupStore.instance.fetchSelectedScriptDetails(standardisationSetupStore.instance.selectedResponseId);\r\n            var showMultiQigPopup = this.isMultiQigMarkingAvailable();\r\n            var centreCandidateDetails = stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-content-line2'), [\r\n                String(scriptData.candidateScriptId),\r\n                scriptData.centreNumber,\r\n                scriptData.centreCandidateNumber.toUpperCase()\r\n            ]);\r\n            var isCommonProvisionalStandardisationCcOn = configurableCharacteristicHelper.getCharacteristicValue(configurableCharacteristicNames.CommonProvisionalStandardisation, standardisationSetupStore.instance.markSchemeGroupId).toLowerCase() === 'true';\r\n            if (showMultiQigPopup) {\r\n                content.push(React.createElement(\"p\", { key: 'select-to-mark-popup-content-line2', className: 'dim-text padding-bottom-10' }, centreCandidateDetails));\r\n                content.push(React.createElement(\"p\", { key: 'select-to-mark-popup-content-line2' }, localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-multiqig-popup-content-line')));\r\n                content.push(React.createElement(GenericPopupWithCheckBoxes, { className: 'qig-item', id: 'popup-createprovisional-multiqig', items: this.multiQigCheckboxItems, selectedLanguage: this.props.selectedLanguage, onChecked: this.onChecked, key: 'popup-createprovisional-multiqig' }));\r\n            }\r\n            else {\r\n                content.push(React.createElement(\"p\", { key: 'select-to-mark-popup-content-line1' }, isCommonProvisionalStandardisationCcOn ? localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-content-line1-provisional')\r\n                    : localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-content-line1')));\r\n                content.push(React.createElement(\"p\", { key: 'select-to-mark-popup-content-line2', className: 'dim-text padding-top-10' }, centreCandidateDetails));\r\n            }\r\n            if (this.isCommonProvisionalStandardisationCcOn()) {\r\n                content.push(React.createElement(\"div\", { className: 'option-holder padding-top-10' },\r\n                    React.createElement(\"ul\", { className: 'options' },\r\n                        React.createElement(\"li\", { className: 'padding-top-10' },\r\n                            React.createElement(\"input\", { type: 'radio', value: 'selected', id: 'STMAllocate1', name: 'selectProvisionalSTM', checked: this.state.provisionalMarkingType === enums.ProvisionalMarkingType.AllocateToAll ?\r\n                                    true : false }),\r\n                            React.createElement(\"label\", { htmlFor: 'STMAllocate1', onClick: this.onOptionButtonClick.bind(this, enums.ProvisionalMarkingType.AllocateToAll) },\r\n                                React.createElement(\"span\", { className: 'radio-ui' }),\r\n                                React.createElement(\"span\", { className: 'label-text' }, localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-option-allocate-all')))),\r\n                        React.createElement(\"li\", { className: 'padding-top-10' },\r\n                            React.createElement(\"input\", { type: 'radio', value: 'selected', id: 'STMAllocate2', name: 'selectProvisionalSTM', checked: this.state.provisionalMarkingType === enums.ProvisionalMarkingType.AllocatedToMe ?\r\n                                    true : false }),\r\n                            React.createElement(\"label\", { htmlFor: 'STMAllocate2', onClick: this.onOptionButtonClick.bind(this, enums.ProvisionalMarkingType.AllocatedToMe) },\r\n                                React.createElement(\"span\", { className: 'radio-ui' }),\r\n                                React.createElement(\"span\", { className: 'label-text' }, localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-option-allocate-me'))))),\r\n                    React.createElement(\"p\", { className: 'padding-top-20', key: 'select-to-mark-popup-content-line3' }, localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-content-line3'))));\r\n            }\r\n            else {\r\n                content.push(React.createElement(\"p\", { className: 'padding-top-10', key: 'select-to-mark-popup-content-line3' }, localeStore.instance.TranslateText('standardisation-setup.select-response.select-to-mark-popup-content-line3')));\r\n            }\r\n            return content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Method to handle option button click\r\n     * @param isAllocateToMe\r\n     */\r\n    Footer.prototype.onOptionButtonClick = function (_provisionalMarkingType) {\r\n        this.setState({\r\n            renderedOn: Date.now(),\r\n            provisionalMarkingType: _provisionalMarkingType\r\n        });\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"getMarkAsDefinitivePopupContent\", {\r\n        /**\r\n         * get mark as definitive popup content\r\n         */\r\n        get: function () {\r\n            var content = [];\r\n            var responseData = standardisationSetupStore.instance.fetchStandardisationResponseData(standardisationSetupStore.instance.selectedResponseId);\r\n            var markAsDefinitiveResponse = stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-content-line2'), [\r\n                String(responseData.displayId),\r\n                String(responseData.totalMarkValue)\r\n            ]);\r\n            content.push(React.createElement(\"p\", { key: 'mark-as-definitive-popup-content-line1' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-content-line1')));\r\n            content.push(React.createElement(\"p\", { key: 'select-to-mark-popup-content-line2', className: 'dim-text padding-top-20' }, markAsDefinitiveResponse));\r\n            content.push(React.createElement(\"p\", { className: 'padding-top-20', key: 'select-to-mark-popup-content-line3' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-content-line3')));\r\n            var radioButtonText = (React.createElement(\"div\", { className: 'option-holder padding-top-10' },\r\n                React.createElement(\"ul\", { className: 'options' },\r\n                    React.createElement(\"li\", { className: 'padding-top-10', onClick: this.onMarkAsDefinitiveContentClick.bind(this, true) },\r\n                        React.createElement(\"input\", { type: 'radio', value: 'selected', id: 'copyasDefinitive', defaultChecked: true, name: 'markasdefinitive' /* checked={this.copyMarksAsDefinitiveSelected === false ? false : true}*/ }),\r\n                        React.createElement(\"label\", { htmlFor: 'copyasDefinitive' },\r\n                            React.createElement(\"span\", { className: 'radio-ui' }),\r\n                            React.createElement(\"span\", { className: 'label-text', id: 'markAsDefinitivePopupRadioButton1' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-radio-1')))),\r\n                    React.createElement(\"p\", { className: 'padding-top-10 option-content' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-radio-1-desc')),\r\n                    React.createElement(\"li\", { className: 'padding-top-20', onClick: this.onMarkAsDefinitiveContentClick.bind(this, false) },\r\n                        React.createElement(\"input\", { type: 'radio', value: '', id: 'clearAllMark', name: 'markasdefinitive' /* checked={this.copyMarksAsDefinitiveSelected === false ? true : false} */ }),\r\n                        React.createElement(\"label\", { htmlFor: 'clearAllMark' },\r\n                            React.createElement(\"span\", { className: 'radio-ui' }),\r\n                            React.createElement(\"span\", { className: 'label-text', id: 'markAsDefinitivePopupRadioButton2' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-radio-2')))),\r\n                    React.createElement(\"p\", { className: 'padding-top-10 padding-bottom-5 option-content' }, localeStore.instance.TranslateText('standardisation-setup.mark-as-definitive.mark-as-definitive-popup-radio-2-desc')))));\r\n            content.push(radioButtonText);\r\n            return content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates the copyMarksAsDefinitiveSelected flag, on Mark as definitve popup option click.\r\n     * @param isCopyMarksAndAnnotation\r\n     */\r\n    Footer.prototype.onMarkAsDefinitiveContentClick = function (isCopyMarksAndAnnotation) {\r\n        this.copyMarksAsDefinitiveSelected = isCopyMarksAndAnnotation;\r\n    };\r\n    /**\r\n     * conditions where the multiqig popup to be shown while select to mark button is clicked\r\n     */\r\n    Footer.prototype.isMultiQigMarkingAvailable = function () {\r\n        // The multiqig response pop will only show when the following conditions are true\r\n        // 1. WholeResponseProvisionalMarking should be ON.\r\n        // 2. Available QIGs for Provisional marking is more than one\r\n        var wholeResponseProvisionalMarking = configurableCharacteristicHelper.getExamSessionCCValue(configurableCharacteristicNames.WholeResponseProvisionalMarking, markerOperationModeFactory.operationMode.isAwardingMode\r\n            ? awardingStore.instance.selectedSession.examSessionId\r\n            : qigStore.instance.selectedQIGForMarkerOperation.examSessionId).toLowerCase() === 'true' ? true : false;\r\n        if (wholeResponseProvisionalMarking && this.multiQigCheckboxItems !== undefined && this.multiQigCheckboxItems.length > 1) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * switch user button click\r\n     */\r\n    Footer.prototype.switchUserButtonClick = function () {\r\n        window.removeEventListener('beforeunload', navigationHelper.onBeforeWindowUnload);\r\n        /* tslint:disable:no-string-literal */\r\n        window.sessionStorage['adminsupport'] = 'true';\r\n        /* tslint:enable:no-string-literal */\r\n        window.open('?', '_self');\r\n    };\r\n    /**\r\n     * Complete Standardisation received callback event.\r\n     */\r\n    Footer.prototype.onResponseDataRecievedAfterRefresh = function () {\r\n        /*\r\n          Setting busy indicator to false on Standardisation Setup refresh on\r\n          completing standardisation setup\r\n        */\r\n        this.setState({ isBusy: false });\r\n    };\r\n    /**\r\n     * Populate recassify multioption popUp data\r\n     */\r\n    Footer.prototype.populateRecassifyMultiOptionPopUpData = function (selectedMarkingModeId) {\r\n        if (selectedMarkingModeId === void 0) { selectedMarkingModeId = 0; }\r\n        this.items = new Array();\r\n        var markSchemeGroupId = standardisationSetupStore.instance.markSchemeGroupId;\r\n        var ssuStmClassificationRestriction = stdSetupPermissionHelper.getSsuClassificationRestrictionByMarkSchemeGroupId(markSchemeGroupId);\r\n        var restictedText = localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.restricted');\r\n        this.standardisationSetupHelper = standardisationSetupFactory.\r\n            getStandardisationSetUpWorklistHelper(standardisationSetupStore.instance.selectedStandardisationSetupWorkList);\r\n        var restrictedTargets = this.standardisationSetupHelper.getRestrictedSSUTarget(markSchemeGroupId);\r\n        // Once std setup is completed, then show only 'seed' radio button in classify options\r\n        if (!qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete) {\r\n            if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Practice)) {\r\n                this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Practice, 1, selectedMarkingModeId, ssuStmClassificationRestriction.isPracticeRestrictedForAnyStm, restictedText));\r\n            }\r\n            if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.ES_TeamApproval)) {\r\n                this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.ES_TeamApproval, 2, selectedMarkingModeId, ssuStmClassificationRestriction.isStmStandardisationeRestrictedForAnyStm, restictedText));\r\n            }\r\n            if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Approval)) {\r\n                this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Approval, 3, selectedMarkingModeId, ssuStmClassificationRestriction.isStandardisationRestrictedForAnyStm, restictedText));\r\n            }\r\n            if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Seeding)) {\r\n                this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Seeding, 4, selectedMarkingModeId, ssuStmClassificationRestriction.isSeedingRestrictedForAnyStm, restictedText));\r\n            }\r\n        }\r\n        else {\r\n            /* #75081 : On classifying a response from Provisional/Unclassified worklist after SSU complete,\r\n             the Classification pop- up shall list only those targets which are not met OR\r\n            (where the target is met AND the type is not included in RestrictStandardisationSetupTargets). */\r\n            if (this.canListTargetInClassificationPopUp(enums.MarkingMode.Practice, restrictedTargets)) {\r\n                if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Practice)) {\r\n                    this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Practice, 1, selectedMarkingModeId, ssuStmClassificationRestriction.isPracticeRestrictedForAnyStm, restictedText));\r\n                }\r\n            }\r\n            if (this.canListTargetInClassificationPopUp(enums.MarkingMode.ES_TeamApproval, restrictedTargets)) {\r\n                if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.ES_TeamApproval)) {\r\n                    this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.ES_TeamApproval, 2, selectedMarkingModeId, ssuStmClassificationRestriction.isStmStandardisationeRestrictedForAnyStm, restictedText));\r\n                }\r\n            }\r\n            if (this.canListTargetInClassificationPopUp(enums.MarkingMode.Approval, restrictedTargets)) {\r\n                if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Approval)) {\r\n                    this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Approval, 3, selectedMarkingModeId, ssuStmClassificationRestriction.isStandardisationRestrictedForAnyStm, restictedText));\r\n                }\r\n            }\r\n            if (this.canListTargetInClassificationPopUp(enums.MarkingMode.Seeding, restrictedTargets)) {\r\n                if (standardisationSetupStore.instance.checkMarkingModeTargetExistForThisQIG(enums.MarkingMode.Seeding)) {\r\n                    this.items.push(this.createGenericRadioButtonItem(enums.MarkingMode.Seeding, 4, selectedMarkingModeId, ssuStmClassificationRestriction.isSeedingRestrictedForAnyStm, restictedText));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To check whether the target can be displayed in Classification popup On\r\n     * classifying a response from Provisional/Unclassified worklist after SSU complete\r\n     */\r\n    Footer.prototype.canListTargetInClassificationPopUp = function (target, restrictedTargets) {\r\n        var standardisationTargetDetailList = standardisationSetupStore.instance.classificationSummaryTargetDetails;\r\n        if (standardisationTargetDetailList) {\r\n            var selectedTarget = standardisationTargetDetailList.\r\n                filter(function (x) { return x.markingModeId === target; }).first();\r\n            if (selectedTarget.count < selectedTarget.target ||\r\n                (!restrictedTargets.contains(target) && selectedTarget.target <= selectedTarget.count)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Create Generic Radio Button Item\r\n     * @param markingModeId\r\n     * @param sequenceNo\r\n     * @param selectedMarkingModeId\r\n     * @param isMarkingModeRestrictedForAnyStm\r\n     */\r\n    Footer.prototype.createGenericRadioButtonItem = function (markingModeId, sequenceNo, selectedMarkingModeId, isMarkingModeRestrictedForAnyStm, restictedText) {\r\n        var obj = new genericRadioButtonItems();\r\n        obj.sequenceNo = sequenceNo;\r\n        obj.id = markingModeId;\r\n        obj.isChecked = obj.id === selectedMarkingModeId ? true : false;\r\n        obj.name = localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.classification-type.' + enums.MarkingMode[markingModeId]);\r\n        obj.errorText = (isMarkingModeRestrictedForAnyStm ? ' - ' + restictedText : '');\r\n        return obj;\r\n    };\r\n    /**\r\n     * Create radio button for Reuse action popup\r\n     */\r\n    Footer.prototype.createReuseGenericRadioButtonItem = function (inputid, sequenceNo) {\r\n        var radioButonForPE = new genericRadioButtonItems();\r\n        radioButonForPE.sequenceNo = sequenceNo;\r\n        radioButonForPE.id = inputid;\r\n        radioButonForPE.isChecked = true;\r\n        radioButonForPE.name = 'Create copy and move to unclassified list';\r\n        radioButonForPE.errorText = '';\r\n        return radioButonForPE;\r\n    };\r\n    /**\r\n     * Populate radio button item for ReuseRIG pop up\r\n     */\r\n    Footer.prototype.populateReuseUnclassifyPopupItem = function () {\r\n        this.reuseUnclassifyItem = new Array();\r\n        this.reuseUnclassifyItem.push(this.createReuseGenericRadioButtonItem(enums.MarkingMode.PreStandardisation, 1));\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"getReUseActionMultiOptionPopupContent\", {\r\n        /**\r\n         * get Reuse RIG popup action\r\n         */\r\n        get: function () {\r\n            var content = [];\r\n            var openedResponseDetails = standardisationSetupStore.instance.\r\n                getReusableResponseDetails(this.reuseRIGSelectedDisplayId.toString());\r\n            var reuseRIGSelectedCentreId = openedResponseDetails.centreNumber.toString();\r\n            var reuseRIGSelectedCandidateNo = openedResponseDetails.centreCandidateNumber.toString();\r\n            var reuseRIGSelectedScriptID = openedResponseDetails.candidateScriptId.toString();\r\n            content.push(React.createElement(\"span\", null,\r\n                React.createElement(\"p\", null, localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.reuse-content')),\r\n                React.createElement(\"p\", { className: 'dim-text padding-top-10' },\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.script-id'),\r\n                        React.createElement(\"span\", { id: 'reusescriptid' }, ': 1' + reuseRIGSelectedScriptID + ', ')),\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.Centre'),\r\n                        React.createElement(\"span\", { id: 'reusecentreid' }, ': ' + reuseRIGSelectedCentreId + ', ')),\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.Candidate'),\r\n                        React.createElement(\"span\", { id: 'reusecandidateid' }, ': ' + reuseRIGSelectedCandidateNo))),\r\n                React.createElement(\"div\", { className: 'option-holder padding-top-10' },\r\n                    React.createElement(GenericPopupWithRadioButton, { className: 'options', id: 'popup-reuserig-option-holder', items: this.reuseUnclassifyItem, selectedLanguage: this.props.selectedLanguage, onCheckedChange: this.onReuseItemCheckedChange, renderedOn: this.state.renderedOn, liClassName: 'padding-top-10', key: 'popup-reuse-unclassify-option' })),\r\n                React.createElement(\"p\", { className: 'padding-top-10' }, localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-action-popup.reuse-classify-option')),\r\n                React.createElement(\"div\", { className: 'classify-options-holder padding-top-10 clearfix' },\r\n                    React.createElement(GenericPopupWithRadioButton, { className: 'option-items', id: 'popup-reclassify-multioption', items: this.items, selectedLanguage: this.props.selectedLanguage, onCheckedChange: this.onCheckedChange, renderedOn: this.state.renderedOn, liClassName: 'padding-top-10', key: 'popup-reuse-classify-option' }))));\r\n            return content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Footer.prototype, \"getReclassificationMultiOptionPopupContent\", {\r\n        /**\r\n         * get reclassification Multi Option Popup Content\r\n         */\r\n        get: function () {\r\n            var content = [];\r\n            content.push(React.createElement(\"span\", null,\r\n                React.createElement(\"p\", { className: 'dim-text' },\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.response-id'),\r\n                        React.createElement(\"span\", { className: 'responseID' }, ' ' + this.reclassifyResponseDetails.displayId)),\r\n                    \",\",\r\n                    React.createElement(\"span\", null,\r\n                        ' ' + localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.total-mark'),\r\n                        React.createElement(\"span\", { className: 'total-mark' }, ' ' + this.reclassifyResponseDetails.totalMarkValue))),\r\n                React.createElement(\"p\", { className: 'padding-top-10' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.body')),\r\n                React.createElement(\"p\", { className: 'padding-top-10' }, localeStore.instance.TranslateText(qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete ?\r\n                    'standardisation-setup.standardisation-setup-worklist.classify-multioption-popup.body-complete-setup-message' :\r\n                    'standardisation-setup.standardisation-setup-worklist.reclassify-multioption-popup.body-complete-setup-message')),\r\n                React.createElement(\"div\", { className: 'classify-options-holder padding-top-10 clearfix' },\r\n                    React.createElement(GenericPopupWithRadioButton, { className: 'option-items', id: 'popup-reclassify-multioption', items: this.items, selectedLanguage: this.props.selectedLanguage, onCheckedChange: this.onCheckedChange, renderedOn: this.state.renderedOn, liClassName: 'padding-top-10', key: 'popup-reclassify-multioption' }))));\r\n            return content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Method to get the reclassified response error popup content.\r\n     */\r\n    Footer.prototype.getReclassifyErrorPopupContent = function () {\r\n        var previousMarkingMode = (localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.classification-type.'\r\n            + enums.MarkingMode[this.previousMarkingMode]));\r\n        var currentMarkingMode = (localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.classification-type.'\r\n            + enums.MarkingMode[this.currentMarkingMode]));\r\n        return stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.reclassifyerror-popup.body'), [this.displayId,\r\n            previousMarkingMode,\r\n            currentMarkingMode\r\n        ]);\r\n    };\r\n    /**\r\n     * Method to get the share response popup content.\r\n     */\r\n    Footer.prototype.getShareResponsePopupContent = function () {\r\n        var popUpContent = [];\r\n        popUpContent.push(React.createElement(\"p\", null, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.body')));\r\n        popUpContent.push(React.createElement(\"p\", { className: 'dim-text padding-top-10' },\r\n            React.createElement(\"span\", null,\r\n                localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.response-id'),\r\n                React.createElement(\"span\", { className: 'responseID' }, this._shareResponseDetails.displayId)),\r\n            \",\",\r\n            React.createElement(\"span\", null,\r\n                localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.total-mark'),\r\n                React.createElement(\"span\", { className: 'total-mark' }, this._shareResponseDetails.totalMarkValue))));\r\n        popUpContent.push(React.createElement(\"p\", { className: 'padding-top-10' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.confirmation-text')));\r\n        return popUpContent;\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"getShareResponsePopupContentForPE\", {\r\n        /**\r\n         * get Share Response Popup Content For PE\r\n         */\r\n        get: function () {\r\n            var content = [];\r\n            content.push(React.createElement(\"span\", null,\r\n                React.createElement(\"p\", { id: 'chose-message' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.chose-message')),\r\n                React.createElement(\"p\", { className: 'dim-text padding-top-10' },\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.response-id'),\r\n                        React.createElement(\"span\", { className: 'responseID' }, this._shareResponseDetails.displayId)),\r\n                    \",\",\r\n                    React.createElement(\"span\", null,\r\n                        localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.total-mark'),\r\n                        React.createElement(\"span\", { className: 'total-mark' }, this._shareResponseDetails.totalMarkValue))),\r\n                React.createElement(\"div\", { className: 'option-holder padding-top-10' },\r\n                    React.createElement(GenericPopupWithRadioButton, { className: 'options', id: 'popup-share-response-option-holder', items: this.reuseUnclassifyItem, selectedLanguage: this.props.selectedLanguage, onCheckedChange: this.onReuseItemCheckedChange, renderedOn: this.state.renderedOn, liClassName: 'padding-top-10', key: 'popup-reuse-unclassify-option' })),\r\n                React.createElement(\"p\", { id: 'share-note', className: 'padding-top-10 option-content' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.share-note')),\r\n                React.createElement(\"p\", { id: 'classify-now', className: 'padding-top-10' },\r\n                    React.createElement(\"label\", null,\r\n                        React.createElement(\"span\", { className: 'label-text' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.classify-now')))),\r\n                React.createElement(\"p\", { id: 'annotation-note', className: 'padding-top-10' }, localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.annotation-note')),\r\n                React.createElement(\"div\", { className: 'classify-options-holder padding-top-10 clearfix' },\r\n                    React.createElement(GenericPopupWithRadioButton, { className: 'option-items', id: 'popup-reclassify-multioption', items: this.items, selectedLanguage: this.props.selectedLanguage, onCheckedChange: this.onCheckedChange, renderedOn: this.state.renderedOn, liClassName: 'padding-top-10', key: 'popup-reuse-classify-option' }))));\r\n            return content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Populate radio button item for Share and Classify pop up for PE\r\n     */\r\n    Footer.prototype.populateShareForPEclassifyPopupItem = function () {\r\n        this.reuseUnclassifyItem = new Array();\r\n        this.reuseUnclassifyItem.push(this.creatShareForPEGenericRadioButtonItem(enums.MarkingMode.PreStandardisation, 1));\r\n    };\r\n    /**\r\n     * Create radio button for Share and Classify\r\n     */\r\n    Footer.prototype.creatShareForPEGenericRadioButtonItem = function (inputid, sequenceNo) {\r\n        var radioButtonForSharePE = new genericRadioButtonItems();\r\n        radioButtonForSharePE.sequenceNo = sequenceNo;\r\n        radioButtonForSharePE.id = inputid;\r\n        radioButtonForSharePE.isChecked = radioButtonForSharePE.id === inputid ? true : false;\r\n        radioButtonForSharePE.name = localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.share-response-popup.share-mark');\r\n        radioButtonForSharePE.errorText = '';\r\n        return radioButtonForSharePE;\r\n    };\r\n    /**\r\n     * Populate recassify multioption popUp data\r\n     */\r\n    Footer.prototype.populateCreateMultiQIGProvisionalsPopUpData = function (provisionalQigdetails) {\r\n        var _this = this;\r\n        this.multiQigCheckboxItems = new Array();\r\n        provisionalQigdetails.map(function (item) {\r\n            // Only show the QIGs which have MultiQIGProvisionalPermisson in the StandardisationSetupPermissions CC is ON\r\n            var standardisationSetupCCData = stdSetupPermissionHelper.generateSTDSetupPermissionData(item.stdSetupPermissionCCData, item.role);\r\n            if (standardisationSetupCCData && standardisationSetupCCData.role.permissions.multiQIGProvisionals) {\r\n                _this.multiQigCheckboxItems.push(_this.createGenericCheckBoxItem(item, item.markSchemeGroupId === standardisationSetupStore.instance.markSchemeGroupId));\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Create Generic Check Box Item\r\n     * @param provisionalQigDetail\r\n     */\r\n    Footer.prototype.createGenericCheckBoxItem = function (provisionalQigDetail, ischecked) {\r\n        var obj = new genericCheckBoxItems();\r\n        obj.id = provisionalQigDetail.markSchemeGroupId;\r\n        obj.isChecked = ischecked;\r\n        obj.disabled = ischecked;\r\n        obj.labelContent = provisionalQigDetail.markSchemeGroupName;\r\n        obj.containerClassName = 'padding-top-10';\r\n        obj.className = 'text-middle checkbox';\r\n        obj.labelClassName = 'text-middle';\r\n        return obj;\r\n    };\r\n    /**\r\n     * display note modified in background popup\r\n     */\r\n    Footer.prototype.displayNoteSaveFailedPopup = function (saveNoteErrorCode) {\r\n        if (saveNoteErrorCode === enums.SaveNoteError.TimeStampChanged) {\r\n            this.messageDetails = {\r\n                messageHeader: localeStore.instance.TranslateText('standardisation-setup.left-panel.note-save-error-popup-header'),\r\n                messageString: localeStore.instance.TranslateText('standardisation-setup.left-panel.note-timestamp-changed-popup-body')\r\n            };\r\n            this.setState({ isNoteTimeStampChangedPopupVisible: true });\r\n        }\r\n        else if (saveNoteErrorCode === enums.SaveNoteError.MarkingModeChanged) {\r\n            this.messageDetails = {\r\n                messageHeader: localeStore.instance.TranslateText('standardisation-setup.left-panel.note-save-error-popup-header'),\r\n                messageString: localeStore.instance.TranslateText('standardisation-setup.left-panel.note-response-modified-popup-body')\r\n            };\r\n            this.setState({ isResponseModifiedPopupVisibile: true });\r\n        }\r\n    };\r\n    /**\r\n     *  Rerender classified worklist on declassify/reclassify scenario\r\n     */\r\n    Footer.prototype.reRenderOnClassifiedResponseReceived = function () {\r\n        var _this = this;\r\n        // Fetch the STDWorklistViewType from user options\r\n        var isStdTotalMarkView = userOptionsHelper.getUserOptionByName(userOptionKeys.SELECTED_GRID_VIEW_OPTION)\r\n            === 'false' ? false : true;\r\n        var gridType = isStdTotalMarkView ?\r\n            enums.STDWorklistViewType.ViewTotalMarks : enums.STDWorklistViewType.ViewMarksByQuestion;\r\n        // refresh the summary targets.\r\n        var getStandardisationTargetDetails = standardisationActionCreator.getStandardisationTargetDetails(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, qigStore.instance.selectedQIGForMarkerOperation.examinerRoleId);\r\n        getStandardisationTargetDetails.\r\n            then(function () {\r\n            // refresh the classification grid once we reclassify/declassify a response.\r\n            var getClassifiedResponseDetails = standardisationActionCreator.getClassifiedResponseDetails(standardisationSetupStore.instance.examinerRoleId, loginSession.EXAMINER_ID, qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, false, gridType);\r\n            getClassifiedResponseDetails.\r\n                then(function () {\r\n                _this.setState({ doShowReclassifyResponseBusyIndicator: false });\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * save Marks And Annotations With Non Recoverable Error\r\n     * @param saveMarksAndAnnotationTriggeringPoint\r\n     * @param markGroupId\r\n     * @param queueOperation\r\n     */\r\n    Footer.prototype.saveMarksAndAnnotationsWithNonRecoverableError = function (saveMarksAndAnnotationTriggeringPoint, markGroupId, queueOperation) {\r\n        // Calling the helper method to update the marks and annotations queue\r\n        marksAndAnnotationsSaveHelper.onSaveMarksAndAnnotations(markGroupId, queueOperation);\r\n        // If the queue is processed completely, have to hide the save marks and annotations busy indicator\r\n        if (marksAndAnnotationsSaveHelper.isQueueProcessedCompletely) {\r\n            if (marksAndAnnotationsSaveHelper.markGroupItemsWithNonRecoverableErrors\r\n                .length > 0) {\r\n                //When there are errors in saving marks and annotations we have to hide the busy indicator\r\n                busyIndicatorActionCreator.setBusyIndicatorInvoker(enums.BusyIndicatorInvoker.none);\r\n                // set appropriate error dialog contents\r\n                this.saveMarksAndAnnotationsErrorDialogContents = new saveMarksAndAnnotationsNonRecoverableErrorDialogContents(true);\r\n                if (this.state.doShowSavingMarksAndAnnotationsIndicator) {\r\n                    //logic for displaying error popup.\r\n                    this.setState({\r\n                        doShowSavingMarksAndAnnotationsIndicator: false,\r\n                        isNonRecoverableErrorPopupVisible: true\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                this.processBasedOnSaveMarksAndAnnotationTriggeringPoint(saveMarksAndAnnotationTriggeringPoint, markGroupId);\r\n            }\r\n            // Last Invoked Trigger point is stored in marking Store. Reset the variable after 'ALL Completed Save'\r\n            if (marksAndAnnotationsSaveHelper.count === 0) {\r\n                responseActionCreator.triggerSavingMarksAndAnnotations(enums.SaveMarksAndAnnotationsProcessingTriggerPoint.None);\r\n            }\r\n            // hide the saving marks and annotations busy indicator\r\n            if (this.state.doShowSavingMarksAndAnnotationsIndicator) {\r\n                this.setState({\r\n                    doShowSavingMarksAndAnnotationsIndicator: false\r\n                });\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"IsShareAndClassifyOptionNeeded\", {\r\n        /**\r\n         * Return IsShareAndClassifyOptionNeeded value\r\n         */\r\n        get: function () {\r\n            return standardisationSetupStore.instance.stdSetupPermissionCCData.role.permissions.classify &&\r\n                this.reuseUnclassifyItem.filter(function (i) { return i.isChecked === true; })[0] === undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Footer.prototype, \"classifyOrReclassifySaveFailPopUpContent\", {\r\n        /**\r\n         * Returns the currentSaveFailPopUp content.\r\n         */\r\n        get: function () {\r\n            return this.isUnclassifiedWorklistSelected ?\r\n                stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.concurrent-esmarkingmode-save-fail-popup.body-with-response-id'), [this.displayId]) :\r\n                localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.concurrent-esmarkingmode-save-fail-popup.body');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns isCommonProvisionalStandardisationCcOn.\r\n     */\r\n    Footer.prototype.isCommonProvisionalStandardisationCcOn = function () {\r\n        return configurableCharacteristicHelper.getCharacteristicValue(configurableCharacteristicNames.CommonProvisionalStandardisation, standardisationSetupStore.instance.markSchemeGroupId).toLowerCase() === 'true';\r\n    };\r\n    Object.defineProperty(Footer.prototype, \"discardResponseFailPopUpContent\", {\r\n        /**\r\n         * Returns the discard response fail popup content with displayId.\r\n         */\r\n        get: function () {\r\n            return stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.response-already-discarded-popup.body-with-response-id'), [responseStore.instance.selectedDisplayId.toString()]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Footer;\r\n}(pureRenderComponent));\r\nmodule.exports = Footer;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 42)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzgyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZm9vdGVyLnRzeD84OGM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDplbmFibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgQ29uZmlybWF0aW9uRGlhbG9nID0gcmVxdWlyZSgnLi91dGlsaXR5L2NvbmZpcm1hdGlvbmRpYWxvZycpO1xyXG5pbXBvcnQgdXNlck9wdGlvbnNIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L3VzZXJvcHRpb24vdXNlcm9wdGlvbnNoZWxwZXInKTtcclxuaW1wb3J0IHVzZXJPcHRpb25zQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvdXNlcm9wdGlvbi91c2Vyb3B0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgbG9nb3V0QXJndW1lbnQgPSByZXF1aXJlKCcuLi9kYXRhc2VydmljZXMvYXV0aGVudGljYXRpb24vbG9nb3V0YXJndW1lbnQnKTtcclxuaW1wb3J0IGxvZ291dEFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL2xvZ291dC9sb2dvdXRhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBsb2dpblNlc3Npb24gPSByZXF1aXJlKCcuLi9hcHAvbG9naW5zZXNzaW9uJyk7XHJcbmltcG9ydCBsb2dpblN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL2xvZ2luL2xvZ2luc3RvcmUnKTtcclxuaW1wb3J0IHVzZXJvcHRpb25LZXlzID0gcmVxdWlyZSgnLi4vdXRpbGl0eS91c2Vyb3B0aW9uL3VzZXJvcHRpb25rZXlzJyk7XHJcbmltcG9ydCB1c2VyT3B0aW9uU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvdXNlcm9wdGlvbi91c2Vyb3B0aW9uc3RvcmUnKTtcclxuaW1wb3J0IG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvbWFya2luZy9tYXJrc2FuZGFubm90YXRpb25zc2F2ZWhlbHBlcicpO1xyXG5pbXBvcnQgbWFya2luZ1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL21hcmtpbmcvbWFya2luZ3N0b3JlJyk7XHJcbmltcG9ydCBtYXJraW5nQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvbWFya2luZy9tYXJraW5nYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBCdXN5SW5kaWNhdG9yID0gcmVxdWlyZSgnLi91dGlsaXR5L2J1c3lpbmRpY2F0b3IvYnVzeWluZGljYXRvcicpO1xyXG5pbXBvcnQgbmF2aWdhdGlvbkhlbHBlciA9IHJlcXVpcmUoJy4vdXRpbGl0eS9uYXZpZ2F0aW9uL25hdmlnYXRpb25oZWxwZXInKTtcclxuaW1wb3J0IG5hdmlnYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9uYXZpZ2F0aW9uL25hdmlnYXRpb25zdG9yZScpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25hY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBHZW5lcmljRGlhbG9nID0gcmVxdWlyZSgnLi91dGlsaXR5L2dlbmVyaWNkaWFsb2cnKTtcclxuaW1wb3J0IHNhdmVNYXJrc0FuZEFubm90YXRpb25zTm9uUmVjb3ZlcmFibGVFcnJvckRpYWxvZ0NvbnRlbnRzID1cclxucmVxdWlyZSgnLi91dGlsaXR5L3NhdmVtYXJrc2FuZGFubm90YXRpb25zL3NhdmVtYXJrc2FuZGFubm90YXRpb25zbm9ucmVjb3ZlcmFibGVlcnJvcmRpYWxvZ2NvbnRlbnRzJyk7XHJcbmltcG9ydCBodG1sVXRpbGl0aWVzID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9nZW5lcmljL2h0bWx1dGlsaXRpZXMnKTtcclxuaW1wb3J0IHdvcmtsaXN0QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvd29ya2xpc3Qvd29ya2xpc3RhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQga2V5RG93bkhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvZ2VuZXJpYy9rZXlkb3duaGVscGVyJyk7XHJcbmltcG9ydCBxaWdBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9xaWdzZWxlY3Rvci9xaWdzZWxlY3RvcmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IG1lc3NhZ2VTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9tZXNzYWdlL21lc3NhZ2VzdG9yZScpO1xyXG5pbXBvcnQgZXhjZXB0aW9uU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvZXhjZXB0aW9uL2V4Y2VwdGlvbnN0b3JlJyk7XHJcbmltcG9ydCBwb3BVcERpc3BsYXlBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9wb3B1cGRpc3BsYXkvcG9wdXBkaXNwbGF5YWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgZXhhbWluZXJTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9tYXJrZXJpbmZvcm1hdGlvbi9leGFtaW5lcnN0b3JlJyk7XHJcbmltcG9ydCByZXNwb25zZUFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3Jlc3BvbnNlL3Jlc3BvbnNlYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgcXVhbGl0eUZlZWRiYWNrSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9xdWFsaXR5ZmVlZGJhY2svcXVhbGl0eWZlZWRiYWNraGVscGVyJyk7XHJcbmltcG9ydCBjb2xvdXJlZEFubm90YXRpb25zSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9zdGFtcHBhbmVsL2NvbG91cmVkYW5ub3RhdGlvbnNoZWxwZXInKTtcclxuaW1wb3J0IHN1Ym1pdFN0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL3N1Ym1pdC9zdWJtaXRzdG9yZScpO1xyXG5pbXBvcnQgd29ya2xpc3RDb21wb25lbnRIZWxwZXIgPSByZXF1aXJlKCcuL3dvcmtsaXN0L3dvcmtsaXN0Y29tcG9uZW50aGVscGVyJyk7XHJcbmltcG9ydCByZXNwb25zZU5hdmlnYXRpb24gPSByZXF1aXJlKCcuL3Jlc3BvbnNlL3Jlc3BvbnNlbmF2aWdhdGlvbicpO1xyXG5pbXBvcnQgc3VibWl0SGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L3N1Ym1pdC9zdWJtaXRoZWxwZXInKTtcclxuaW1wb3J0IGFsbG9jYXRlUmVzcG9uc2VIZWxwZXIgPSByZXF1aXJlKCcuL3V0aWxpdHkvcmVzcG9uc2VhbGxvY2F0aW9uL2FsbG9jYXRlcmVzcG9uc2VzaGVscGVyJyk7XHJcbmltcG9ydCB0YXJnZXRIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L3RhcmdldC90YXJnZXRoZWxwZXInKTtcclxuaW1wb3J0IGJ1c3lJbmRpY2F0b3JBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9idXN5aW5kaWNhdG9yL2J1c3lpbmRpY2F0b3JhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBidXN5SW5kaWNhdG9yU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvYnVzeWluZGljYXRvci9idXN5aW5kaWNhdG9yc3RvcmUnKTtcclxuaW1wb3J0IG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL21lc3NhZ2luZy9tZXNzYWdpbmdhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBtZXNzYWdlSGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L21lc3NhZ2UvbWVzc2FnZWhlbHBlcicpO1xyXG5pbXBvcnQgc3RkU2V0dXBQZXJtaXNzaW9uSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cHBlcm1pc3Npb25oZWxwZXInKTtcclxuaW1wb3J0IHJlc3BvbnNlSGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L3Jlc3BvbnNlaGVscGVyL3Jlc3BvbnNlaGVscGVyJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cEZhY3RvcnkgPSByZXF1aXJlKCcuLi91dGlsaXR5L3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwZmFjdG9yeScpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlsID0gcmVxdWlyZSgnLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3R5cGluZ3Mvc3RhbmRhcmRpc2F0aW9udGFyZ2V0ZGV0YWlsJyk7XHJcblxyXG5kZWNsYXJlIGxldCBjb25maWc6IGFueTtcclxuLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5jb25zdCBJZGxlVGltZXIgPSByZXF1aXJlKCdyZWFjdC1pZGxlLXRpbWVyJykuZGVmYXVsdDtcclxuLyogdHNsaW50OmVuYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbmltcG9ydCB0aW1lckhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvZ2VuZXJpYy90aW1lcmhlbHBlcicpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25zdG9yZScpO1xyXG5pbXBvcnQgc3VibWl0QWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc3VibWl0L3N1Ym1pdGFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHJlc3BvbnNlU3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvcmVzcG9uc2UvcmVzcG9uc2VzdG9yZScpO1xyXG5pbXBvcnQgY3VzdG9tRXJyb3IgPSByZXF1aXJlKCcuL2Jhc2UvY3VzdG9tZXJyb3InKTtcclxuaW1wb3J0IHN0b3JhZ2VBZGFwdGVySGVscGVyID0gcmVxdWlyZSgnLi4vZGF0YXNlcnZpY2VzL3N0b3JhZ2VhZGFwdGVycy9zdG9yYWdlYWRhcHRlcmhlbHBlcicpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudHN0b3JlJyk7XHJcbmltcG9ydCB1c2VySW5mb0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3VzZXJpbmZvL3VzZXJpbmZvYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgbG9hZENvbnRhaW5lckFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL25hdmlnYXRpb24vbG9hZGNvbnRhaW5lcmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IG9wZXJhdGlvbk1vZGVIZWxwZXIgPSByZXF1aXJlKCcuL3V0aWxpdHkvdXNlcmRldGFpbHMvdXNlcmluZm8vb3BlcmF0aW9ubW9kZWhlbHBlcicpO1xyXG5pbXBvcnQgd29ya2xpc3RIaXN0b3J5SW5mbyA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvYnJlYWRjcnVtYi93b3JrbGlzdGhpc3RvcnlpbmZvJyk7XHJcbmltcG9ydCB0ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9icmVhZGNydW1iL3RlYW1tYW5hZ2VtZW50aGlzdG9yeWluZm8nKTtcclxuaW1wb3J0IGhpc3RvcnlJdGVtID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9icmVhZGNydW1iL2hpc3RvcnlpdGVtJyk7XHJcbmltcG9ydCB0ZWFtTWFuYWdlbWVudEFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL3RlYW1tYW5hZ2VtZW50L3RlYW1tYW5hZ2VtZW50YWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgcWlnSW5mbyA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci90eXBpbmdzL3FpZ3N1bW1hcnknKTtcclxuaW1wb3J0IG1hcmtpbmdDaGVja0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi9hY3Rpb25zL21hcmtpbmdjaGVjay9tYXJraW5nY2hlY2thY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCByZW1lbWJlclFpZyA9IHJlcXVpcmUoJy4uL3N0b3Jlcy91c2Vyb3B0aW9uL3R5cGluZ3MvcmVtZW1iZXJxaWcnKTtcclxuaW1wb3J0IHVzZXJPcHRpb25LZXlzID0gcmVxdWlyZSgnLi4vdXRpbGl0eS91c2Vyb3B0aW9uL3VzZXJvcHRpb25rZXlzJyk7XHJcbmltcG9ydCBXYXJuaW5nTWVzc2FnZVBvcHVwID0gcmVxdWlyZSgnLi90ZWFtbWFuYWdlbWVudC93YXJuaW5nbWVzc2FnZXBvcHVwJyk7XHJcbmltcG9ydCBMb2Nrc0luUWlnUG9wdXAgPSByZXF1aXJlKCcuL3FpZ3NlbGVjdG9yL2xvY2tzaW5xaWdwb3B1cCcpO1xyXG5pbXBvcnQgcmVzcG9uc2VTZWFyY2hIZWxwZXIgPSByZXF1aXJlKCcuLy4uL3V0aWxpdHkvcmVzcG9uc2VzZWFyY2gvcmVzcG9uc2VzZWFyY2hoZWxwZXInKTtcclxuaW1wb3J0IGNjQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IFByb21pc2UgPSByZXF1aXJlKCdlczYtcHJvbWlzZScpO1xyXG5pbXBvcnQgbmV0d29ya0NoYW5nZUF1ZGl0SGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L3pvb20vbmV0d29ya2NoYW5nZWF1ZGl0aGVscGVyJyk7XHJcbmltcG9ydCBsb2dnZXJDb25zdGFudHMgPSByZXF1aXJlKCcuL3V0aWxpdHkvbG9nZ2VyaGVscGVyY29uc3RhbnRzJyk7XHJcbmltcG9ydCBzdHJpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L2dlbmVyaWMvc3RyaW5naGVscGVyJyk7XHJcbmltcG9ydCBzaW11bGF0aW9uTW9kZUV4aXRlZFFpZ0xpc3QgPSByZXF1aXJlKCcuLi9zdG9yZXMvcWlnc2VsZWN0b3IvdHlwaW5ncy9zaW11bGF0aW9ubW9kZWV4aXRlZHFpZ2xpc3QnKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgc2ltdWxhdGlvbk1vZGVIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L3NpbXVsYXRpb24vc2ltdWxhdGlvbm1vZGVoZWxwZXInKTtcclxuaW1wb3J0IHN0cmluZ0Zvcm1hdEhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvc3RyaW5nZm9ybWF0L3N0cmluZ2Zvcm1hdGhlbHBlcicpO1xyXG5pbXBvcnQgY2NTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3MvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzc3RvcmUnKTtcclxuaW1wb3J0IGVjb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XHJcbmltcG9ydCBlY291cnNld29ya0ZpbGVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9yZXNwb25zZS9kaWdpdGFsL2Vjb3Vyc2V3b3JrZmlsZXN0b3JlJyk7XHJcbmltcG9ydCBvdmVybGF5SGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L292ZXJsYXkvb3ZlcmxheWhlbHBlcicpO1xyXG5pbXBvcnQgYWNldGF0ZXNBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vYWN0aW9ucy9hY2V0YXRlcy9hY2V0YXRlc2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljTmFtZXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCB0YXJnZXRTdW1tYXJ5U3RvcmUgPSByZXF1aXJlKCcuLi9zdG9yZXMvd29ya2xpc3QvdGFyZ2V0c3VtbWFyeXN0b3JlJyk7XHJcbmltcG9ydCBpbWFnZVpvbmVTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9pbWFnZXpvbmVzL2ltYWdlem9uZXN0b3JlJyk7XHJcbmltcG9ydCBhdWRpdExvZ2dpbmdIZWxwZXIgPSByZXF1aXJlKCcuL3V0aWxpdHkvYXVkaXRsb2dnZXIvYXVkaXRsb2dnaW5naGVscGVyJyk7XHJcbmltcG9ydCBxaWdTdW1tYXJ5ID0gcmVxdWlyZSgnLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3R5cGluZ3MvcWlnc3VtbWFyeScpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cHN0b3JlJyk7XHJcbmltcG9ydCBNdWx0aU9wdGlvbkNvbmZpcm1hdGlvbkRpYWxvZyA9IHJlcXVpcmUoJy4vdXRpbGl0eS9tdWx0aW9wdGlvbmNvbmZpcm1hdGlvbmRpYWxvZycpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uL2FjdGlvbnMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgdXNlcmluZm9zdG9yZSA9IHJlcXVpcmUoJy4uL3N0b3Jlcy91c2VyaW5mby91c2VyaW5mb3N0b3JlJyk7XHJcbmltcG9ydCBnZW5lcmljUmFkaW9CdXR0b25JdGVtcyA9IHJlcXVpcmUoJy4vdXRpbGl0eS9nZW5lcmljcmFkaW9idXR0b25pdGVtcycpO1xyXG5pbXBvcnQgR2VuZXJpY1BvcHVwV2l0aFJhZGlvQnV0dG9uID0gcmVxdWlyZSgnLi91dGlsaXR5L2dlbmVyaWNwb3B1cHdpdGhyYWRpb2J1dHRvbnMnKTtcclxuaW1wb3J0IHVwZGF0ZUVTTWFya0dyb3VwTWFya2luZ01vZGVEYXRhID0gcmVxdWlyZSgnLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3R5cGluZ3MvdXBkYXRlZXNtYXJrZ3JvdXBtYXJraW5nbW9kZWRhdGEnKTtcclxuaW1wb3J0IHNzdVN0bUNsYXNzaWZpY2F0aW9uUmVzdHJpY3Rpb24gPSByZXF1aXJlKCcuLi9zdG9yZXMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvdHlwaW5ncy9zc3VzdG1jbGFzc2lmaWNhdGlvbnJlc3RyaWN0aW9uJyk7XHJcbmltcG9ydCBnZW5lcmljQ2hlY2tCb3hJdGVtcyA9IHJlcXVpcmUoJy4vdXRpbGl0eS9nZW5lcmljY2hlY2tib3hpdGVtcycpO1xyXG5pbXBvcnQgR2VuZXJpY1BvcHVwV2l0aENoZWNrQm94ZXMgPSByZXF1aXJlKCcuL3V0aWxpdHkvZ2VuZXJpY3BvcHVwd2l0aGNoZWNrYm94ZXMnKTtcclxuaW1wb3J0IGF3YXJkaW5nSGVscGVyID0gcmVxdWlyZSgnLi91dGlsaXR5L2F3YXJkaW5nL2F3YXJkaW5naGVscGVyJyk7XHJcbmltcG9ydCBhd2FyZGluZ1N0b3JlID0gcmVxdWlyZSgnLi4vc3RvcmVzL2F3YXJkaW5nL2F3YXJkaW5nc3RvcmUnKTtcclxuaW1wb3J0IHN0YW5kYXJkaXNhdGlvblNldHVwQ0NEYXRhID0gcmVxdWlyZSgnLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3R5cGluZ3Mvc3RhbmRhcmRpc2F0aW9uc2V0dXBjY2RhdGEnKTtcclxuaW1wb3J0IHN0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm8gPSByZXF1aXJlKCcuLi91dGlsaXR5L2JyZWFkY3J1bWIvc3RhbmRhcmRpc2F0aW9uc2V0dXBoaXN0b3J5aW5mbycpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVyJyk7XHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGEgY29tcG9uZW50XHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2UsIExvY2FsZVNlbGVjdGlvbkJhc2Uge1xyXG4gICAgZm9vdGVyVHlwZTogZW51bXMuRm9vdGVyVHlwZTtcclxuICAgIGlzTG9nb3V0Q29uZmlybWF0aW9uUG9wdXBEaXNwbGF5aW5nOiBib29sZWFuO1xyXG4gICAgcmVzZXRMb2dvdXRDb25maXJtYXRpb25TYXR1czogRnVuY3Rpb247XHJcbiAgICBpc0NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uPzogYm9vbGVhbjtcclxuICAgIE9uQ2xpY2tpbmdDYW5jZWxvZlN0ZFNldHVwUG9wdXA/OiBGdW5jdGlvbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlIHtcclxuICAgIGRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3I/OiBib29sZWFuO1xyXG4gICAgaXNOb25SZWNvdmVyYWJsZUVycm9yUG9wdXBWaXNpYmxlPzogYm9vbGVhbjtcclxuICAgIGlzRGlzcGxheWluZ0dyYWNlUmVzcG9uc2VMZXNzdGhhbjEwMFBlcmNlbnRhZ2VFcnJvcj86IGJvb2xlYW47XHJcbiAgICBpc0Rpc3BsYXlpbmdHcmFjZVJlc3BvbnNlRXhwaXJlZEVycm9yPzogYm9vbGVhbjtcclxuICAgIGlzRGlzcGxheWluZ1Jlc3BvbnNlUmVtb3ZlZEVycm9yPzogYm9vbGVhbjtcclxuICAgIGlzV2l0aGRyYXduUmVzcG9uc2VFcnJvcj86IGJvb2xlYW47XHJcbiAgICBwb3BVcFR5cGU/OiBlbnVtcy5Qb3BVcFR5cGU7XHJcbiAgICBpc09ubGluZT86IGJvb2xlYW47XHJcbiAgICBpc0J1c3k/OiBib29sZWFuO1xyXG4gICAgaXNBcHBsaWNhdGlvbk9mZmxpbmU/OiBib29sZWFuO1xyXG4gICAgaXNTdWJtaXRDb25maXJtYXRpb25Qb3B1cERpc3BsYXlpbmc/OiBib29sZWFuO1xyXG4gICAgbm9uUmVjb3ZlcmFibGVTYXZlTWFya3NBbmRBbm5vdGF0aW9uc0Vycm9yTWVzc2FnZT86IGJvb2xlYW47XHJcbiAgICBkb1Nob3dNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwPzogYm9vbGVhbjtcclxuICAgIGRvU2hvd05vTWFya2luZ0NoZWNrQXZhaWxhYmxlTWVzc2FnZT86IGJvb2xlYW47XHJcbiAgICBpc01hcmtpbmdDaGVja0NvbXBsZXRlQ29uZmlybWF0aW9uUG9wdXBEaXNwbGF5aW5nPzogYm9vbGVhbjtcclxuICAgIGRvU2hvd1BvcHVwPzogYm9vbGVhbjtcclxuICAgIHJlUmVuZGVyTG9ja3NJblFpZ1BvcFVwPzogYm9vbGVhbjtcclxuICAgIGlzUmVzcG9uc2VTZWFyY2hGYWlsZWQ/OiBib29sZWFuO1xyXG4gICAgc2hvd1NpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvblBvcHVwPzogYm9vbGVhbjtcclxuICAgIHNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXA/OiBib29sZWFuO1xyXG4gICAgc2hvd0FsbFNpbXVsYXRpb25FeGl0ZWRRaWdzPzogYm9vbGVhbjtcclxuICAgIHJlbmRlcmVkT24/OiBudW1iZXI7XHJcbiAgICBpc1N1Ym1pdEVycm9yUG9wRGlzcGxheWluZz86IGJvb2xlYW47XHJcbiAgICBpc1NoYXJlZD86IGJvb2xlYW47XHJcbiAgICBkb1Nob3dTaGFyZUNvbmZpcm1hdGlvblBvcHVwPzogYm9vbGVhbjtcclxuICAgIGlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwRGlzcGxheWluZz86IGJvb2xlYW47XHJcbiAgICBpc1FpZ3Nlc3Npb25DbG9zZWRFcnJvcj86IGJvb2xlYW47XHJcbiAgICBpc0NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uPzogYm9vbGVhbjtcclxuICAgIGlzTm90ZVRpbWVTdGFtcENoYW5nZWRQb3B1cFZpc2libGU6IGJvb2xlYW47XHJcbiAgICBpc1Jlc3BvbnNlTW9kaWZpZWRQb3B1cFZpc2liaWxlOiBib29sZWFuO1xyXG4gICAgZG9TaG93UmVjbGFzc2lmeVJlc3BvbnNlQnVzeUluZGljYXRvcj86IGJvb2xlYW47XHJcbiAgICB1bkNsYXNzaWZpZWRTY3JpcHRpblN0bVVuYXZhaWxhYmxlVmlzaWJsZTogYm9vbGVhbjtcclxuICAgIHNob3dSaWdOb3RGb3VuZFBvcFVwOiBib29sZWFuO1xyXG4gICAgcHJvdmlzaW9uYWxNYXJraW5nVHlwZT86IGVudW1zLlByb3Zpc2lvbmFsTWFya2luZ1R5cGU7XHJcbiAgICBpc1NhdmVFbWFpbE1lc3NhZ2VEaXNwbGF5aW5nPzogYm9vbGVhbjtcclxuICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZzogYm9vbGVhbjtcclxuICAgIGRvU2hvd1JldXNlUmlnQWN0aW9uQnVzeUluZGljYXRvcj86IGJvb2xlYW47XHJcbiAgICBpc1NoYXJlUmVzcG9uc2VQb3B1cERpc3BsYXlpbmdGb3JQRTogYm9vbGVhbjtcclxuICAgIGRvU2hvd0NsYXNzaWZ5UmVzcG9uc2VCdXN5SW5kaWNhdG9yPzogYm9vbGVhbjtcclxufVxyXG5cclxuY2xhc3MgRm9vdGVyIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuICAgIC8vIEluZGljYXRlcyBpZiBsb2dvdXQgaGFzIGJlZW4gdHJpZ2dlcmVkXHJcbiAgICBwcml2YXRlIF9vbkxvZ291dFRyaWdnZXJlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLy8gRXZlbnQgbGlzdGVuZXIgb2JqZWN0IGZvciBob2xkaW5nIG9ubGluZSBzdGF0dXMgc2V0dGluZyBtZXRob2QuXHJcbiAgICBwcml2YXRlIF9ib3VuZE9ubGluZVN0YXR1c0V2ZW50OiBFdmVudExpc3RlbmVyT2JqZWN0O1xyXG4gICAgcHJpdmF0ZSBfZmFpbHVyZVJlYXNvbjogZW51bXMuUmVzcG9uc2VOYXZpZ2F0ZUZhaWx1cmVSZWFzb24gPSBlbnVtc1xyXG4gICAgICAgIC5SZXNwb25zZU5hdmlnYXRlRmFpbHVyZVJlYXNvbi5Ob25lO1xyXG4gICAgcHJpdmF0ZSBfc2hhcmVSZXNwb25zZURldGFpbHM6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscztcclxuICAgIHByaXZhdGUgX2lzU2hhcmVkRnJvbU1hcmtTY2hlbWU6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIF9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBfc2hvd1NoYXJlTG9hZGluZ0luZGljYXRvckZvclBFOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBfY2xhc3NpZnlSZXNwb25zZURldGFpbHM6IHVwZGF0ZUVTTWFya0dyb3VwTWFya2luZ01vZGVEYXRhO1xyXG4gICAgcHJpdmF0ZSBleHBpcmVkTWFya0dyb3VwSWQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBjdXJyZW50U2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludDogZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50ID0gdW5kZWZpbmVkO1xyXG4gICAgLy8gdmFyaWFibGUgZm9yIHNhdmUgbWFya3MgYW5kIGFubm90YXRpb25zIGRpYWxvZyBjb250ZW50c1xyXG4gICAgcHJpdmF0ZSBzYXZlTWFya3NBbmRBbm5vdGF0aW9uc0Vycm9yRGlhbG9nQ29udGVudHM6IHNhdmVNYXJrc0FuZEFubm90YXRpb25zTm9uUmVjb3ZlcmFibGVFcnJvckRpYWxvZ0NvbnRlbnRzID1cclxuICAgICAgICBuZXcgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNOb25SZWNvdmVyYWJsZUVycm9yRGlhbG9nQ29udGVudHMoXHJcbiAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgKTtcclxuICAgIC8vIHZhcmlhYmxlIHRvIHNhdmUgZXhhbWluZXIgQXBwcm92YWwgc3RhdHVzXHJcbiAgICBwcml2YXRlIGV4YW1pbmVyQXBwcm92YWxTdGF0dXM6IGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25FcnJvckNvZGUgPSBlbnVtc1xyXG4gICAgICAgIC5TYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlLk5vbmU7XHJcbiAgICAvL3ZhcmlhYmxlIHRvIGtub3cgd2hlcmUgdGhlIHJlcG9uc2UgaXMgbmF2aWdhdGVkIHRvXHJcbiAgICBwcml2YXRlIG5hdmlnYXRlUmVwb25zZTogZW51bXMuU2F2ZUFuZE5hdmlnYXRlID0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm5vbmU7XHJcblxyXG4gICAgLy8gSG9sZHMgdGhlIFBvcCBkYXRhIGZvciBkaXNwbGF5aW5nIHRoZSBjb250ZW50cyBvZiBwb3B1cFxyXG4gICAgcHJpdmF0ZSBwb3BVcERhdGE6IFBvcFVwRGF0YSA9IHt9O1xyXG4gICAgcHJpdmF0ZSBtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50czogTWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHM7XHJcblxyXG4gICAgLy8gSW5kaWNhdGVzIGlmIGxvZ291dCBoYXMgYmVlbiB0cmlnZ2VyZWQgdGhyb3VnaCBJZGxlIFRpbWVPdXRcclxuICAgIHByaXZhdGUgX2lzQXV0b0xvZ091dDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8vIEhvbGRzIHRoZSBpZGxlIHRpbWUgb3V0IHZhbHVlIGluIG1pbGxpIHNlY29uZHMgLS0gZGVmYXVsdDoxMCBtaW5zXHJcbiAgICBwcml2YXRlIF9pZGxlVGltZU91dDogbnVtYmVyID0gNjAwMDAwO1xyXG5cclxuICAgIHByaXZhdGUgdGltZXI6IHRpbWVySGVscGVyO1xyXG4gICAgLy8gIFRoaXMgd2lsbCBob2xkIHRoZSBtYW5kYXRvcnkgbWVzc2FnZSBjaGVja2luZyB0cmlnZ2VyIHBvaW50c1xyXG4gICAgcHJpdmF0ZSBtYW5kYXRvcnlNZXNzYWdlVHJpZ2dlcmluZ1BvaW50OiBlbnVtcy5UcmlnZ2VyUG9pbnQgPSBlbnVtcy5UcmlnZ2VyUG9pbnQuTm9uZTtcclxuXHJcbiAgICBwcml2YXRlIG9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbkF1dG9Mb2dvdXQ6IEZ1bmN0aW9uO1xyXG5cclxuICAgIHByaXZhdGUgc3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVDb250ZW50OiBzdHJpbmc7XHJcblxyXG4gICAgcHJpdmF0ZSBzdWJtaXRDb25maXJtYXRpb25EaWFsb2d1ZUhlYWRlcjogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgaXNDb25jdXJyZW50U2Vzc2lvbkFjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgc3RvcmFnZUFkYXB0ZXJIZWxwZXIgPSBuZXcgc3RvcmFnZUFkYXB0ZXJIZWxwZXIoKTtcclxuXHJcbiAgICBwcml2YXRlIHNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlQ29udGVudDogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVIZWFkZXI6IHN0cmluZztcclxuXHJcbiAgICBwcml2YXRlIG1lc3NhZ2VEZXRhaWxzOiBJbmZvcm1hdGlvbk1lc3NhZ2VEZXRhaWxzID0geyBtZXNzYWdlSGVhZGVyOiAnJywgbWVzc2FnZVN0cmluZzogJycgfTtcclxuXHJcbiAgICBwcml2YXRlIHRyaWdnZXJQb2ludEFmdGVyQ2xvc2U6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBvZmZsaW5lRXJyb3JNZXNzYWdlOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgc2hhcmVDb25maXJtYXRpb25DbGllbnRUb2tlbjogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgc3VibWl0TWVzc2FnZUVycm9yUG9wdXBDb250ZW50OiBTdWJtaXRSZXNwb25zZUVycm9yTWVzc2FnZUFyZ3VtZW50cyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwcml2YXRlIGNvcHlNYXJrc0FzRGVmaW5pdGl2ZVNlbGVjdGVkOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBwcml2YXRlIGNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHJpdmF0ZSByZWNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHJpdmF0ZSByZXVzZVJlc3BvbnNlRGV0YWlsczogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwcml2YXRlIGl0ZW1zOiBBcnJheTxnZW5lcmljUmFkaW9CdXR0b25JdGVtcz47XHJcblxyXG4gICAgcHJpdmF0ZSByZXVzZVVuY2xhc3NpZnlJdGVtOiBBcnJheTxnZW5lcmljUmFkaW9CdXR0b25JdGVtcz47XHJcblxyXG4gICAgcHJpdmF0ZSBpc0NsYXNzaWZ5UmVzcG9uc2VPa0J1dHRvbkRpc2FibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBwcml2YXRlIHByZXZpb3VzTWFya2luZ01vZGU6IGVudW1zLk1hcmtpbmdNb2RlO1xyXG5cclxuICAgIHByaXZhdGUgY3VycmVudE1hcmtpbmdNb2RlOiBlbnVtcy5NYXJraW5nTW9kZTtcclxuXHJcbiAgICBwcml2YXRlIGRpc3BsYXlJZDogc3RyaW5nO1xyXG5cclxuICAgIHByaXZhdGUgbXVsdGlRaWdDaGVja2JveEl0ZW1zOiBBcnJheTxnZW5lcmljQ2hlY2tCb3hJdGVtcz47XHJcblxyXG4gICAgcHJpdmF0ZSBjb25jdXJyZW50U2F2ZUZhaWxBcmVhOiBlbnVtcy5QYWdlQ29udGFpbmVycyA9IGVudW1zLlBhZ2VDb250YWluZXJzLk5vbmU7XHJcblxyXG4gICAgcHJpdmF0ZSByZXVzZVJJR1NlbGVjdGVkRGlzcGxheUlkOiBzdHJpbmc7XHJcblxyXG4gICAgcHJpdmF0ZSByZXNwb25zZURldGFpbHM6IHVwZGF0ZUVTTWFya0dyb3VwTWFya2luZ01vZGVEYXRhO1xyXG5cclxuICAgIHByaXZhdGUgc3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXI6IHN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyO1xyXG5cclxuICAgIHByaXZhdGUgX3NoYXJlUmVzcG9uc2VBcmd1bWVudDogU3VibWl0UmVzcG9uc2VBcmd1bWVudDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0ge1Byb3BzfSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHtTdGF0ZX0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogU3RhdGUpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNOb25SZWNvdmVyYWJsZUVycm9yUG9wdXBWaXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNEaXNwbGF5aW5nR3JhY2VSZXNwb25zZUxlc3N0aGFuMTAwUGVyY2VudGFnZUVycm9yOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNEaXNwbGF5aW5nR3JhY2VSZXNwb25zZUV4cGlyZWRFcnJvcjogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzRGlzcGxheWluZ1Jlc3BvbnNlUmVtb3ZlZEVycm9yOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNPbmxpbmU6IGFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUsXHJcbiAgICAgICAgICAgIGlzQnVzeTogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzQXBwbGljYXRpb25PZmZsaW5lOiBmYWxzZSxcclxuICAgICAgICAgICAgbm9uUmVjb3ZlcmFibGVTYXZlTWFya3NBbmRBbm5vdGF0aW9uc0Vycm9yTWVzc2FnZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzTWFya2luZ0NoZWNrQ29tcGxldGVDb25maXJtYXRpb25Qb3B1cERpc3BsYXlpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBkb1Nob3dQb3B1cDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXA6IGZhbHNlLFxyXG4gICAgICAgICAgICBzaG93QWxsU2ltdWxhdGlvbkV4aXRlZFFpZ3M6IGZhbHNlLFxyXG4gICAgICAgICAgICByZW5kZXJlZE9uOiAwLFxyXG4gICAgICAgICAgICBpc1NoYXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGRvU2hvd1NoYXJlQ29uZmlybWF0aW9uUG9wdXA6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1FpZ3Nlc3Npb25DbG9zZWRFcnJvcjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmUsXHJcbiAgICAgICAgICAgIGlzTm90ZVRpbWVTdGFtcENoYW5nZWRQb3B1cFZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1Jlc3BvbnNlTW9kaWZpZWRQb3B1cFZpc2liaWxlOiBmYWxzZSxcclxuICAgICAgICAgICAgdW5DbGFzc2lmaWVkU2NyaXB0aW5TdG1VbmF2YWlsYWJsZVZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBzaG93UmlnTm90Rm91bmRQb3BVcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHByb3Zpc2lvbmFsTWFya2luZ1R5cGU6IGVudW1zLlByb3Zpc2lvbmFsTWFya2luZ1R5cGUuTm9uZSxcclxuICAgICAgICAgICAgaXNTYXZlRW1haWxNZXNzYWdlRGlzcGxheWluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZ0ZvclBFOiBmYWxzZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMub25ZZXNDbGlja09mTG9nb3V0Q29uZmlybWF0aW9uID0gdGhpcy5vblllc0NsaWNrT2ZMb2dvdXRDb25maXJtYXRpb24uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbkF1dG9Mb2dvdXQgPSB0aGlzLm9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbi5iaW5kKFxyXG4gICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLm9uTm9DbGlja09mTG9nb3V0Q29uZmlybWF0aW9uID0gdGhpcy5vbk5vQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25Pa0NsaWNrT2ZOb25SZWNvdmVyYWJsZUVycm9yTWVzc2FnZSA9IHRoaXMub25Pa0NsaWNrT2ZOb25SZWNvdmVyYWJsZUVycm9yTWVzc2FnZS5iaW5kKFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnVzZXJBY3Rpb25JbnRlcnJ1cHRlZCA9IHRoaXMudXNlckFjdGlvbkludGVycnVwdGVkLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbk9rQ2xpY2tNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwID0gdGhpcy5vbk9rQ2xpY2tNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwLmJpbmQoXHJcbiAgICAgICAgICAgIHRoaXNcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMub25Qb3B1cE9rQ2xpY2sgPSB0aGlzLm9uUG9wdXBPa0NsaWNrLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5TaG93U3VwZXJ2aXNvclNhbXBsaW5nQ29tbWVudFZhbGlkYXRpb25Qb3B1cCA9IHRoaXMuU2hvd1N1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXAuYmluZChcclxuICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5vbk9rQ2xpY2tPZlJlc3BvbnNlSW5HcmFjZUV4cGlyZWRNZXNzYWdlT3JSZXNwb25zZVJlbW92ZWRNZXNzYWdlID1cclxuICAgICAgICAgICAgdGhpcy5vbk9rQ2xpY2tPZlJlc3BvbnNlSW5HcmFjZUV4cGlyZWRNZXNzYWdlT3JSZXNwb25zZVJlbW92ZWRNZXNzYWdlLmJpbmQoXHJcbiAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgLyogc2V0dGluZyBzdWJtaXQgY29uZmlybWF0aW9uIHllcy9ubyBmdW5jdGlvbnMgdG8gaW5pdGlhbGl6ZS4gKi9cclxuICAgICAgICB0aGlzLm9uWWVzQ2xpY2tPZlN1Ym1pdEJ1dHRvbiA9IHRoaXMub25ZZXNDbGlja09mU3VibWl0QnV0dG9uLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbk5vQ2xpY2tPZlN1Ym1pdEJ1dHRvbiA9IHRoaXMub25Ob0NsaWNrT2ZTdWJtaXRCdXR0b24uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uWWVzQ2xpY2tPZlNoYXJlQ29uZmlybWF0aW9uUG9wdXAgPSB0aGlzLm9uWWVzQ2xpY2tPZlNoYXJlQ29uZmlybWF0aW9uUG9wdXAuYmluZChcclxuICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5vbk5vQ2xpY2tPZlNoYXJlQ29uZmlybWF0aW9uUG9wdXAgPSB0aGlzLm9uTm9DbGlja09mU2hhcmVDb25maXJtYXRpb25Qb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuT25Pa0NsaWNrT2ZNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvbiA9IHRoaXMuT25Pa0NsaWNrT2ZNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvbi5iaW5kKFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLk9uQ2FuY2VsQ2xpY2tPZk1hcmtpbmdDaGVja0NvbXBsZXRlQ29uZmlybWF0aW9uID0gdGhpcy5PbkNhbmNlbENsaWNrT2ZNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvbi5iaW5kKFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl9ib3VuZE9ubGluZVN0YXR1c0V2ZW50ID0gdGhpcy51cGRhdGVPbmxpbmVTdGF0dXMuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZSA9IHRoaXMuaXNBdXRvem9uZWRNZXNzYWdlUG9wdXBWaXNpYmxlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vblNlbGVjdFN0ZFNldHVwUmVzcG9uc2VUb01hcmsgPSB0aGlzLm9uU2VsZWN0U3RkU2V0dXBSZXNwb25zZVRvTWFyay5iaW5kKFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLm9uQ29tcGxldGVTdGFuZGFyZGlzYXRpb25TZXR1cCA9IHRoaXMub25Db21wbGV0ZVN0YW5kYXJkaXNhdGlvblNldHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbk9rQ2xpY2tvZlN0YW5kYXJkaXNhdGlvblNldHVwVmFsaWRhdGUgPSB0aGlzLm9uT2tDbGlja29mU3RhbmRhcmRpc2F0aW9uU2V0dXBWYWxpZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yU3RkU2V0dXBOb3RDb21wbGV0ZSA9IHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yU3RkU2V0dXBOb3RDb21wbGV0ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuT25DYW5jZWxDbGlja09mQ29tcGxldGVTdGFuZGFyZGlzYXRpb25Db25maXJtYXRpb24gPSB0aGlzLk9uQ2FuY2VsQ2xpY2tPZkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uQ29uZmlybWF0aW9uLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5Pbk9rQ2xpY2tPZkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uQ29uZmlybWF0aW9uID0gdGhpcy5Pbk9rQ2xpY2tPZkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uQ29uZmlybWF0aW9uLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vblJlc3BvbnNlRGF0YVJlY2lldmVkQWZ0ZXJSZWZyZXNoID0gdGhpcy5vblJlc3BvbnNlRGF0YVJlY2lldmVkQWZ0ZXJSZWZyZXNoLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbk5vdGVUaW1lU3RhbXBDaGFuZ2VkUG9wdXBDbG9zZSA9IHRoaXMub25Ob3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlOb3RlU2F2ZUZhaWxlZFBvcHVwID0gdGhpcy5kaXNwbGF5Tm90ZVNhdmVGYWlsZWRQb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVSZW5kZXJVbmNsYXNzaWZpZWRXb3JrbGlzdCA9IHRoaXMucmVSZW5kZXJVbmNsYXNzaWZpZWRXb3JrbGlzdC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVSZW5kZXJPbkNsYXNzaWZpZWRSZXNwb25zZVJlY2VpdmVkID0gdGhpcy5yZVJlbmRlck9uQ2xhc3NpZmllZFJlc3BvbnNlUmVjZWl2ZWQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnNoYXJlUmVzcG9uc2UgPSB0aGlzLnNoYXJlUmVzcG9uc2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uT0tDbGlja09mUmV1c2VSaWdwb3B1cCA9IHRoaXMub25PS0NsaWNrT2ZSZXVzZVJpZ3BvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJldXNlVW5jbGFzc2lmeVBvcHVwSXRlbSA9IHRoaXMucG9wdWxhdGVSZXVzZVVuY2xhc3NpZnlQb3B1cEl0ZW0uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uUmV1c2VJdGVtQ2hlY2tlZENoYW5nZSA9IHRoaXMub25SZXVzZUl0ZW1DaGVja2VkQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkNhbmNlbENsaWNrT2ZSZXVzZVJpZ1BvcHVwID0gdGhpcy5vbkNhbmNlbENsaWNrT2ZSZXVzZVJpZ1BvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkNoZWNrZWRDaGFuZ2UgPSB0aGlzLm9uQ2hlY2tlZENoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2hhcmVSZXNwb25zZVBvcHVwT3BlbiA9IHRoaXMuc2hhcmVSZXNwb25zZVBvcHVwT3Blbi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25TdWJtaXRSZXNwb25zZUNvbXBsZXRlZCA9IHRoaXMub25TdWJtaXRSZXNwb25zZUNvbXBsZXRlZC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVSZW5kZXJQcm92aW9uYWxXb3JrbGlzdCA9IHRoaXMucmVSZW5kZXJQcm92aW9uYWxXb3JrbGlzdC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc3VibWl0UmVzcG9uc2VGcm9tTWFya3NjaGVtZSA9IHRoaXMuc3VibWl0UmVzcG9uc2VGcm9tTWFya3NjaGVtZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGlmIChjb25maWcuZ2VuZXJhbC5JRExFX1RJTUVPVVQpIHtcclxuICAgICAgICAgICAgdGhpcy5faWRsZVRpbWVPdXQgPSBjb25maWcuZ2VuZXJhbC5JRExFX1RJTUVPVVQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPbmUgSXNzdWUgbm90aWNlZCB0aGF0IHRoZSBmb290ZXIgY29tcG9lbnQgaXMgdGFraW5nIHRpbWUgdG8gbG9hZCBzb21ldGltZXMuIFxyXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcywgc29tZSBvZiB0aGUgZXZlbnRzIGFyZSBhbHJlYWR5IHBhc3NlZC4gUmVjaGVjayBmb3IgdGhlIGZpcnN0IHRpbWUgZm9yIG9uZSBvZiB0aGUgZXZlbnQuXHJcbiAgICAgICAgaWYgKHFpZ1N0b3JlLmluc3RhbmNlLmdldE92ZXJ2aWV3RGF0YSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25TaW11bGF0aW9uRXhpdGVkUWlnc0FuZExvY2tzSW5RaWdzUmVjaWV2ZWQoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgaXNBc2tPbkxvZ091dEVuYWJsZWQ6IGJvb2xlYW47XHJcbiAgICAgICAgbGV0IGNvbmZpcm1hdGlvbkRpYWxvZzogSlNYLkVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGJ1c3lJbmRpY2F0b3I6IEpTWC5FbGVtZW50O1xyXG5cclxuICAgICAgICBsZXQgc3VibWl0Q29uZmlybWF0aW9uRGlhbG9nID0gKFxyXG4gICAgICAgICAgICA8Q29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLnN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlQ29udGVudH1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17dGhpcy5zdWJtaXRDb25maXJtYXRpb25EaWFsb2d1ZUhlYWRlcn1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5pc1N1Ym1pdENvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZ31cclxuICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIG5vQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5sb2dvdXQtZGlhbG9nLm5vLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgeWVzQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnZ2VuZXJpYy5sb2dvdXQtZGlhbG9nLnllcy1idXR0b24nXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5vblllc0NsaWNrT2ZTdWJtaXRCdXR0b259XHJcbiAgICAgICAgICAgICAgICBvbk5vQ2xpY2s9e3RoaXMub25Ob0NsaWNrT2ZTdWJtaXRCdXR0b259XHJcbiAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICBkaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuTG9nb3V0Q29uZmlybWF0aW9ufVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBzaGFyZUNvbmZpcm1hdGlvblBvcHVwID0gdGhpcy5zdGF0ZS5pc1NoYXJlZCA/IChcclxuICAgICAgICAgICAgPENvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zaGFyZS1jb25maXJtYXRpb24tcG9wdXAuY29udGVudCdcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e251bGx9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuZG9TaG93U2hhcmVDb25maXJtYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIG5vQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zaGFyZS1jb25maXJtYXRpb24tcG9wdXAubm8tYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIHllc0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2Uuc2hhcmUtY29uZmlybWF0aW9uLXBvcHVwLnllcy1idXR0b24nXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5vblllc0NsaWNrT2ZTaGFyZUNvbmZpcm1hdGlvblBvcHVwLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBvbk5vQ2xpY2s9e3RoaXMub25Ob0NsaWNrT2ZTaGFyZUNvbmZpcm1hdGlvblBvcHVwLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBkaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuU2hhcmVDb25maXJtYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIGlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgbGV0IG1hbmRhdG9yeU1lc3NhZ2VWYWxpZGF0aW9uUG9wdXAgPSAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLm1hbmRhdG9yeS1tZXNzYWdlLXdhcm5pbmctZGlhbG9nLmJvZHknXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLm1hbmRhdG9yeS1tZXNzYWdlLXdhcm5pbmctZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuZG9TaG93TWFuZGF0b3J5TWVzc2FnZVZhbGlkYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5yZWNpcGllbnQtc2VsZWN0b3Iub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBpZD0nbWFuZGF0b3J5TWVzc2FnZVZhbGlkYXRpb25Qb3B1cCdcclxuICAgICAgICAgICAgICAgIGtleT0nbWFuZGF0b3J5TWVzc2FnZVZhbGlkYXRpb25Qb3B1cCdcclxuICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IHN1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXAgPSAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLm1lc3NhZ2VEZXRhaWxzLm1lc3NhZ2VTdHJpbmd9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e3RoaXMubWVzc2FnZURldGFpbHMubWVzc2FnZUhlYWRlcn1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5kb1Nob3dQb3B1cH1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5yZWNpcGllbnQtc2VsZWN0b3Iub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vblBvcHVwT2tDbGljay5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgaWQ9J3N1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXAnXHJcbiAgICAgICAgICAgICAgICBrZXk9J3N1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXAnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5HZW5lcmljTWVzc2FnZX1cclxuICAgICAgICAgICAgLz4pO1xyXG5cclxuICAgICAgICBsZXQgbm90ZVRpbWVTdGFtcENoYW5nZWRQb3B1cCA9IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMubWVzc2FnZURldGFpbHMubWVzc2FnZVN0cmluZ31cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17dGhpcy5tZXNzYWdlRGV0YWlscy5tZXNzYWdlSGVhZGVyfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzTm90ZVRpbWVTdGFtcENoYW5nZWRQb3B1cFZpc2libGV9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UucmVjaXBpZW50LXNlbGVjdG9yLm9rLWJ1dHRvbidcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25Ob3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwQ2xvc2UuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgIGlkPSdub3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdub3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwJ1xyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuR2VuZXJpY01lc3NhZ2V9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgcmVzcG9uc2VNb2RpZmllZFBvcHVwID0gKFxyXG4gICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17dGhpcy5tZXNzYWdlRGV0YWlscy5tZXNzYWdlU3RyaW5nfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXt0aGlzLm1lc3NhZ2VEZXRhaWxzLm1lc3NhZ2VIZWFkZXJ9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuaXNSZXNwb25zZU1vZGlmaWVkUG9wdXBWaXNpYmlsZX1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5yZWNpcGllbnQtc2VsZWN0b3Iub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vblJlc3BvbnNlTW9kaWZpZWRQb3B1cENsb3NlLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBpZD0ncmVzcG9uc2VNT2RpZmllZFBvcHVwJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdyZXNwb25zZU1PZGlmaWVkUG9wdXAnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5HZW5lcmljTWVzc2FnZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBsZXQgc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uUG9wdXAgPSAoXHJcbiAgICAgICAgICAgIDxDb25maXJtYXRpb25EaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVDb250ZW50fVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXt0aGlzLnNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlSGVhZGVyfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLnNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIG5vQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5sb2dvdXQtZGlhbG9nLm5vLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgeWVzQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnZ2VuZXJpYy5sb2dvdXQtZGlhbG9nLnllcy1idXR0b24nXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5vblllc0NsaWNrT2ZTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRCdXR0b24uYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgIG9uTm9DbGljaz17dGhpcy5vbk5vQ2xpY2tPZlNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdEJ1dHRvbi5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgZGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLlNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvbn1cclxuICAgICAgICAgICAgICAgIGlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvKiogR2V0dGluZyBBc2sgT24gTG9nT3V0IHZhbHVlIGZyb20gdXNlciBvcHRpb24gKi9cclxuICAgICAgICBpc0Fza09uTG9nT3V0RW5hYmxlZCA9XHJcbiAgICAgICAgICAgIHVzZXJPcHRpb25zSGVscGVyLmdldFVzZXJPcHRpb25CeU5hbWUodXNlcm9wdGlvbktleXMuQVNLX09OX0xPR19PVVQpID09PSAndHJ1ZSdcclxuICAgICAgICAgICAgICAgID8gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgLyoqIHRoaXMucHJvcHMuaXNDb25maXJtYXRpb25Qb3B1cERpc3BsYXlpbmcgY2hlY2sgaW5jbHVkZWQgaGVyZSwgaW4gdGhlIGluaXRpYWwgbG9hZCBpdHMgdmFsdWVcclxuICAgICAgICAgKiAgICB3aWxsIGJlIGZhbHNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhaXNBc2tPbkxvZ091dEVuYWJsZWQgJiZcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5pc0xvZ291dENvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZyAmJlxyXG4gICAgICAgICAgICAhdGhpcy5zdGF0ZS5kb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yICYmXHJcbiAgICAgICAgICAgICF0aGlzLl9vbkxvZ291dFRyaWdnZXJlZFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLm9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgLyoqdGhpcy5wcm9wcy5pc0NvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZyBjaGVjayBpbmNsdWRlZCBoZXJlLCBpZiBpdCBpcyB0cnVlIHdpbGwgbG9hZCB0aGUgY29uZmlybWF0aW9uIGRpYWxvZ1xyXG4gICAgICAgICAgICAgKiBjb250ZW50IGludG8gY29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaXNMb2dvdXRDb25maXJtYXRpb25Qb3B1cERpc3BsYXlpbmcgJiZcclxuICAgICAgICAgICAgIXRoaXMuc3RhdGUuZG9TaG93U2F2aW5nTWFya3NBbmRBbm5vdGF0aW9uc0luZGljYXRvciAmJlxyXG4gICAgICAgICAgICAhdGhpcy5fb25Mb2dvdXRUcmlnZ2VyZWRcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nID0gKFxyXG4gICAgICAgICAgICAgICAgPENvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMubG9nb3V0LWRpYWxvZy5ib2R5Jyl9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmxvZ291dC1kaWFsb2cuaGVhZGVyJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnByb3BzLmlzTG9nb3V0Q29uZmlybWF0aW9uUG9wdXBEaXNwbGF5aW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIG5vQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbmVyaWMubG9nb3V0LWRpYWxvZy5uby1idXR0b24nXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICB5ZXNCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuZXJpYy5sb2dvdXQtZGlhbG9nLnllcy1idXR0b24nXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBvblllc0NsaWNrPXt0aGlzLm9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICBvbk5vQ2xpY2s9e3RoaXMub25Ob0NsaWNrT2ZMb2dvdXRDb25maXJtYXRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLkxvZ291dENvbmZpcm1hdGlvbn1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0J1c3kpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChidXN5SW5kaWNhdG9yU3RvcmUuaW5zdGFuY2UuZ2V0QnVzeUluZGljYXRvckludm9rZXIpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuc3VibWl0SW5SZXNwb25zZVNjcmVlbjpcclxuICAgICAgICAgICAgICAgICAgICBidXN5SW5kaWNhdG9yID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnVzeUluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZXNwb25zZV8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5zdWJtaXRJblJlc3BvbnNlU2NyZWVuLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5pc0J1c3l9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZXNwb25zZV8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5zdWJtaXRJblJlc3BvbnNlU2NyZWVuLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWFya2luZ0J1c3k9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckludm9rZXI9e2VudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLnN1Ym1pdEluUmVzcG9uc2VTY3JlZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93QmFja2dyb3VuZFNjcmVlbj17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09mZmxpbmU9eyF0aGlzLnN0YXRlLmlzT25saW5lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLmxvYWRpbmdIaXN0b3J5RGV0YWlsczpcclxuICAgICAgICAgICAgICAgICAgICBidXN5SW5kaWNhdG9yID0gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnVzeUluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoaXN0b3J5XycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLmxvYWRpbmdIaXN0b3J5RGV0YWlscy50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0J1c3k9e3RoaXMuc3RhdGUuaXNCdXN5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGlzdG9yeV8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5sb2FkaW5nSGlzdG9yeURldGFpbHMudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nQnVzeT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXN5SW5kaWNhdG9ySW52b2tlcj17ZW51bXMuQnVzeUluZGljYXRvckludm9rZXIubG9hZGluZ0hpc3RvcnlEZXRhaWxzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmRTY3JlZW49e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPZmZsaW5lPXshdGhpcy5zdGF0ZS5pc09ubGluZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci52YWxpZGF0ZVN0YW5kYXJkaXNhdGlvblNldHVwOlxyXG4gICAgICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3IgPSAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0ZF8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci52YWxpZGF0ZVN0YW5kYXJkaXNhdGlvblNldHVwLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5pc0J1c3l9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGRfJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIudmFsaWRhdGVTdGFuZGFyZGlzYXRpb25TZXR1cC50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01hcmtpbmdCdXN5PXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JJbnZva2VyPXtlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci52YWxpZGF0ZVN0YW5kYXJkaXNhdGlvblNldHVwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmRTY3JlZW49e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPZmZsaW5lPXshdGhpcy5zdGF0ZS5pc09ubGluZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlzQ29tcGxldGVTdGFuZGFyZGlzYXRpb24gJiYgdGhpcy5zdGF0ZS5pc0J1c3kgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgYnVzeUluZGljYXRvciA9IChcclxuICAgICAgICAgICAgICAgIDxCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RkXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5jb21wbGV0aW5nU3RhbmRhcmRpc2F0aW9uU2V0dXAudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpc0J1c3k9e3RoaXMuc3RhdGUuaXNCdXN5fVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGRfJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLmNvbXBsZXRpbmdTdGFuZGFyZGlzYXRpb25TZXR1cC50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzTWFya2luZ0J1c3k9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JJbnZva2VyPXtlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5jb21wbGV0aW5nU3RhbmRhcmRpc2F0aW9uU2V0dXB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmRTY3JlZW49e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzT2ZmbGluZT17IXRoaXMuc3RhdGUuaXNPbmxpbmV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0J1c3kgPT09IHRydWUgJiYgKHRoaXMuX3Nob3dTaGFyZUxvYWRpbmdJbmRpY2F0b3IgfHwgdGhpcy5fc2hvd1NoYXJlTG9hZGluZ0luZGljYXRvckZvclBFKSkge1xyXG4gICAgICAgICAgICBidXN5SW5kaWNhdG9yID0gKFxyXG4gICAgICAgICAgICAgICAgPEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgICAgICBpZD17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGRfJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLmNvbXBsZXRpbmdTdGFuZGFyZGlzYXRpb25TZXR1cC50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5pc0J1c3l9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0ZF8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuY29tcGxldGluZ1N0YW5kYXJkaXNhdGlvblNldHVwLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nQnVzeT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckludm9rZXI9e2VudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLmNvbXBsZXRpbmdTdGFuZGFyZGlzYXRpb25TZXR1cH1cclxuICAgICAgICAgICAgICAgICAgICBzaG93QmFja2dyb3VuZFNjcmVlbj17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNPZmZsaW5lPXshdGhpcy5zdGF0ZS5pc09ubGluZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5kb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yKSB7XHJcbiAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3IgPSAoXHJcbiAgICAgICAgICAgICAgICA8QnVzeUluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgICAgIGlkPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5zYXZpbmdNYXJrc0FuZEFubm90YXRpb25zLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNCdXN5PXt0aGlzLnN0YXRlLmRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3J9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5zYXZpbmdNYXJrc0FuZEFubm90YXRpb25zLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nQnVzeT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckludm9rZXI9e2VudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLnNhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnN9XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmRTY3JlZW49e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzT2ZmbGluZT17IXRoaXMuc3RhdGUuaXNPbmxpbmV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZG9TaG93UmVjbGFzc2lmeVJlc3BvbnNlQnVzeUluZGljYXRvcikge1xyXG4gICAgICAgICAgICBidXN5SW5kaWNhdG9yID0gKFxyXG4gICAgICAgICAgICAgICAgPEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgICAgICBpZD17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdyZXNwb25zZV8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIucmVjbGFzc2lmeVJlc3BvbnNlLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNCdXN5PXt0aGlzLnN0YXRlLmRvU2hvd1JlY2xhc3NpZnlSZXNwb25zZUJ1c3lJbmRpY2F0b3J9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5yZWNsYXNzaWZ5UmVzcG9uc2UudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpc01hcmtpbmdCdXN5PXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBidXN5SW5kaWNhdG9ySW52b2tlcj17ZW51bXMuQnVzeUluZGljYXRvckludm9rZXIucmVjbGFzc2lmeVJlc3BvbnNlfVxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dCYWNrZ3JvdW5kU2NyZWVuPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBpc09mZmxpbmU9eyF0aGlzLnN0YXRlLmlzT25saW5lfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmRvU2hvd1JldXNlUmlnQWN0aW9uQnVzeUluZGljYXRvcikge1xyXG4gICAgICAgICAgICBidXN5SW5kaWNhdG9yID0gKFxyXG4gICAgICAgICAgICAgICAgPEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgICAgICBpZD17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdyZXNwb25zZV8nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIucmV1c2VSZXNwb25zZS50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5kb1Nob3dSZXVzZVJpZ0FjdGlvbkJ1c3lJbmRpY2F0b3J9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5yZXVzZVJlc3BvbnNlLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nQnVzeT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckludm9rZXI9e2VudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLnJldXNlUmVzcG9uc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmRTY3JlZW49e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzT2ZmbGluZT17IXRoaXMuc3RhdGUuaXNPbmxpbmV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZG9TaG93Q2xhc3NpZnlSZXNwb25zZUJ1c3lJbmRpY2F0b3IpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNVbmNsYXNzaWZpZWRXb3JrbGlzdFNlbGVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3IgPSAoXHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuY2xhc3NpZnlSZXNwb25zZS50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNCdXN5PXt0aGlzLnN0YXRlLmRvU2hvd0NsYXNzaWZ5UmVzcG9uc2VCdXN5SW5kaWNhdG9yfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlXycgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuY2xhc3NpZnlSZXNwb25zZS50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNYXJraW5nQnVzeT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JJbnZva2VyPXtlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5jbGFzc2lmeVJlc3BvbnNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93QmFja2dyb3VuZFNjcmVlbj17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT2ZmbGluZT17IXRoaXMuc3RhdGUuaXNPbmxpbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBub25SZWNvdmVyYWJsZUVycm9yTWVzc2FnZSA9IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvckRpYWxvZ0NvbnRlbnRzLmNvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e3RoaXMuc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvckRpYWxvZ0NvbnRlbnRzLmhlYWRlcn1cclxuICAgICAgICAgICAgICAgIG11bHRpTGluZUNvbnRlbnQ9e3RoaXMuc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvckRpYWxvZ0NvbnRlbnRzLnRhYmxlQ29udGVudH1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5pc05vblJlY292ZXJhYmxlRXJyb3JQb3B1cFZpc2libGV9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uT2tDbGlja09mTm9uUmVjb3ZlcmFibGVFcnJvck1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICBpZD0nbm9uUmVjb3ZlcmFibGVFcnJvck1lc3NnZSdcclxuICAgICAgICAgICAgICAgIGtleT0nbWFya3NBbmRBbm5vdGF0aW9uc0Vycm9yTWVzc2dlJ1xyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuTm9uUmVjb3ZlcmFibGVEZXRhaWxlZEVycm9yfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBub25SZWNvdmVyYWJsZVNhdmVNYXJrc0FuZEFubm90YXRpb25zRXJyb3JNZXNzYWdlID0gKFxyXG4gICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1zdWJtaXNzaW9uLWVycm9yLWRpYWxvZy5ib2R5LXNpbmdsZS1yZXNwb25zZS1ub3Qtc3VibWl0dGVkJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1zdWJtaXNzaW9uLWVycm9yLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLm5vblJlY292ZXJhYmxlU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvck1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uT2tDbGlja09mTm9uUmVjb3ZlcmFibGVFcnJvck1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICBpZD0nbm9uUmVjb3ZlcmFibGVTYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JNZXNzZ2UnXHJcbiAgICAgICAgICAgICAgICBrZXk9J3NhdmVNYXJrc0FuZEFubm90YXRpb25zRXJyb3JNZXNzZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5BbGxQYWdlTm90QW5ub3RhdGVkfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBncmFjZVBlcmlvZFJlc3BvbnNlVW5tYXJrZWREaWFsb2cgPSB0aGlzLnN0YXRlXHJcbiAgICAgICAgICAgIC5pc0Rpc3BsYXlpbmdHcmFjZVJlc3BvbnNlTGVzc3RoYW4xMDBQZXJjZW50YWdlRXJyb3IgPyB0aGlzLl9mYWlsdXJlUmVhc29uID09PVxyXG4gICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VOYXZpZ2F0ZUZhaWx1cmVSZWFzb24uTWFya3NNaXNzaW5nSW5HcmFjZVBlcmlvZFJlc3BvbnNlID8gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zYXZpbmctbWFya3MtZXJyb3ItZGlhbG9nLmJvZHktY2Fubm90LWxlYXZlLXJlc3BvbnNlLXBhcnRpYWxseS1tYXJrZWQtaW4tZ3JhY2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLmxlYXZpbmctcmVzcG9uc2Utd2FybmluZy1kaWFsb2cuaGVhZGVyJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5pc0Rpc3BsYXlpbmdHcmFjZVJlc3BvbnNlTGVzc3RoYW4xMDBQZXJjZW50YWdlRXJyb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5lcnJvci1kaWFsb2cub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tPZlJlc3BvbnNlSW5HcmFjZU1lc3NhZ2UuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3Jlc3BvbnNlSW5HcmFjZU1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0ncmVzcG9uc2VJbkdyYWNlTWVzc2FnZU1lc3NnZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuR3JhY2VQZXJpb2RXYXJuaW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zYXZpbmctbWFya3MtZXJyb3ItZGlhbG9nLmJvZHktbXVzdC1hbm5vdGF0ZS1hbGwtcGFnZXMtaW4tZ3JhY2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLnNhdmluZy1tYXJrcy1lcnJvci1kaWFsb2cuaGVhZGVyLW11c3QtYW5ub3RhdGUtYWxsLXBhZ2VzLWluLWdyYWNlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuaXNEaXNwbGF5aW5nR3JhY2VSZXNwb25zZUxlc3N0aGFuMTAwUGVyY2VudGFnZUVycm9yfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25Pa0NsaWNrT2ZSZXNwb25zZUluR3JhY2VNZXNzYWdlLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdyZXNwb25zZUluR3JhY2VNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9J3Jlc3BvbnNlSW5HcmFjZU1lc3NhZ2VNZXNzZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgZ3JhY2VQZXJpb2RFeHBpcmVkRXJyb3JEaWFsb2cgPSB0aGlzLnN0YXRlLmlzRGlzcGxheWluZ0dyYWNlUmVzcG9uc2VFeHBpcmVkRXJyb3IgPyAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLmdldEdyYWNlUGVyaW9kRXhwaXJlZE1lc3NhZ2VCb2R5KCl9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2Uuc2F2aW5nLW1hcmtzLWVycm9yLWRpYWxvZy5oZWFkZXItZ3JhY2UtcGVyaW9kLWV4cGlyZWQnXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzRGlzcGxheWluZ0dyYWNlUmVzcG9uc2VFeHBpcmVkRXJyb3J9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uT2tDbGlja09mUmVzcG9uc2VJbkdyYWNlRXhwaXJlZE1lc3NhZ2VPclJlc3BvbnNlUmVtb3ZlZE1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICBpZD0ncmVzcG9uc2VJbkdyYWNlTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIGtleT0ncmVzcG9uc2VJbkdyYWNlTWVzc2FnZU1lc3NnZSdcclxuICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCByZXNwb25zZVJlbW92ZWRFcnJvckRpYWxvZyA9IHRoaXMuc3RhdGUuaXNEaXNwbGF5aW5nUmVzcG9uc2VSZW1vdmVkRXJyb3IgPyAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLmdldFJlc3BvbnNlUmVtb3ZlZEVycm9yRGlhbG9nTWVzc2FnZUJvZHkoKX1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zYXZpbmctbWFya3MtZXJyb3ItZGlhbG9nLmhlYWRlci1yZXNwb25zZS1yZW1vdmVkLWZyb20td29ya2xpc3QnXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzRGlzcGxheWluZ1Jlc3BvbnNlUmVtb3ZlZEVycm9yfVxyXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5vay1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tPZlJlc3BvbnNlSW5HcmFjZUV4cGlyZWRNZXNzYWdlT3JSZXNwb25zZVJlbW92ZWRNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgaWQ9J3Jlc3BvbnNlLXJlbW92ZWQtZXJyb3ItbWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIGtleT0na2V5LXJlc3BvbnNlLXJlbW92ZWQtZXJyb3ItbWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBjb25maXJtYXRpb25EaWFsb2dDb250ZW50OiBzdHJpbmc7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZE1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nQ29udGVudCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5kaXNjYXJkLW1lc3NhZ2UtZGlhbG9nLmJvZHktZGlzY2FyZCdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZE1lc3NhZ2VOYXZpZ2F0ZUF3YXkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucG9wVXBEYXRhLnBvcHVwQ29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nQ29udGVudCA9IHRoaXMucG9wVXBEYXRhLnBvcHVwQ29udGVudDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbkRpYWxvZ0NvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLmRpc2NhcmQtbWVzc2FnZS1kaWFsb2cuYm9keS1uYXZpZ2F0ZWQtYXdheSdcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25maXJtYXRpb25EaWFsb2dDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLmRpc2NhcmQtbWVzc2FnZS1kaWFsb2cuYm9keS1zdGFydC1uZXctbWVzc2FnZS13aGlsZS1jb21wb3NpbmcnXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZGlzY2FyZE1lc3NhZ2VEaWFsb2cgPVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRNZXNzYWdlIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRNZXNzYWdlTmF2aWdhdGVBd2F5IHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRPbk5ld01lc3NhZ2VCdXR0b25DbGljayA/IChcclxuICAgICAgICAgICAgICAgICAgICA8Q29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3BVcERhdGEucG9wdXBDb250ZW50ID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9wVXBEYXRhLnBvcHVwQ29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nQ29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5kaXNjYXJkLW1lc3NhZ2UtZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NoZWNrQm94VmlzaWJsZT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLmRpc2NhcmQtbWVzc2FnZS1kaWFsb2cubm8tYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZXNCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2UuZGlzY2FyZC1tZXNzYWdlLWRpYWxvZy55ZXMtYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblllc0NsaWNrPXt0aGlzLmhhbmRsZVBvcFVwQWN0aW9uLmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuWWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTm9DbGljaz17dGhpcy5oYW5kbGVQb3BVcEFjdGlvbi5iaW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUG9wVXBBY3Rpb25UeXBlLk5vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5NZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgY29uZmlybWF0aW9uSGVhZGVyQ29udGVudDogc3RyaW5nO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUucG9wVXBUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRNZXNzYWdlT25OZXdFeGNlcHRpb246XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRNZXNzYWdlT25WaWV3RXhjZXB0aW9uQnV0dG9uQ2xpY2s6XHJcbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25IZWFkZXJDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5kaXNjYXJkLW1lc3NhZ2UtZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZEV4Y2VwdGlvbk5hdmlnYXRlQXdheTpcclxuICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbkhlYWRlckNvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLmRpc2NhcmQtZXhjZXB0aW9uLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nQ29udGVudCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2UuZGlzY2FyZC1leGNlcHRpb24tZGlhbG9nLmJvZHktbmF2aWdhdGUtYXdheSdcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5Qb3BVcFR5cGUuQ2xvc2VFeGNlcHRpb246XHJcbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25IZWFkZXJDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5jbG9zZS1leGNlcHRpb24tZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbkhlYWRlckNvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLmRpc2NhcmQtZXhjZXB0aW9uLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY29uZmlybWF0aW9uRGlhbG9nQ29udGVudCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2UuZGlzY2FyZC1leGNlcHRpb24tZGlhbG9nLmJvZHktcmFpc2UtbmV3J1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGRpc2NhcmRFeGNlcHRpb25EaWFsb2cgPVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRFeGNlcHRpb24gfHxcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZEV4Y2VwdGlvbk5hdmlnYXRlQXdheSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5EaXNjYXJkT25OZXdFeGNlcHRpb25CdXR0b25DbGljayB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5EaXNjYXJkTWVzc2FnZU9uVmlld0V4Y2VwdGlvbkJ1dHRvbkNsaWNrIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRFeGNlcHRpb25PblZpZXdFeGNlcHRpb25CdXR0b25DbGljayB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5EaXNjYXJkRXhjZXB0aW9uT25WaWV3TWVzc2FnZSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5EaXNjYXJkTWVzc2FnZU9uTmV3RXhjZXB0aW9uIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLkRpc2NhcmRFeGNlcHRpb25Pbk5ld01lc3NhZ2UgfHxcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuQ2xvc2VFeGNlcHRpb24gPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgPENvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9wVXBEYXRhLnBvcHVwQ29udGVudCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcFVwRGF0YS5wb3B1cENvbnRlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbkRpYWxvZ0NvbnRlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtjb25maXJtYXRpb25IZWFkZXJDb250ZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9CdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcucmVzcG9uc2UuZGlzY2FyZC1leGNlcHRpb24tZGlhbG9nLm5vLWJ1dHRvbidcclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeWVzQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLmRpc2NhcmQtZXhjZXB0aW9uLWRpYWxvZy55ZXMtYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblllc0NsaWNrPXt0aGlzLmhhbmRsZVBvcFVwQWN0aW9uLmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuWWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTm9DbGljaz17dGhpcy5oYW5kbGVQb3BVcEFjdGlvbi5iaW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUG9wVXBBY3Rpb25UeXBlLk5vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5FeGNlcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBtYW5kYXRvcnlNZXNzYWdlRGlhbG9nID1cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5NYW5kYXRvcnlNZXNzYWdlID8gKFxyXG4gICAgICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLm1hbmRhdG9yeS1tZXNzYWdlLWRpYWxvZy5ib2R5J1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLm1hbmRhdG9yeS1tZXNzYWdlLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuZXJpYy5lcnJvci1kaWFsb2cub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLmhhbmRsZVBvcFVwQWN0aW9uLmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuT2tcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGlkPSdpZF9tYW5kYXRvcnlfbWVzc2FnZV9kaWFsb2cnXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PSdrZXlfbWFuZGF0b3J5X21lc3NhZ2VfZGlhbG9nJ1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgbGV0IHdpdGhkcmF3RXJyb3JEaWFsb2cgPSB0aGlzLnN0YXRlLmlzV2l0aGRyYXduUmVzcG9uc2VFcnJvciA/IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuZ2V0V2l0aGRyYXduUmVzcG9uc2VFcnJvck1lc3NhZ2UoKX1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1hbGxvY2F0aW9uLWVycm9yLWRpYWxvZy5yZXNwb25zZS1hbGxvY2F0aW9uLWVycm9yLWhlYWRlci13aXRoZHJhd25NYXJrZXInXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzV2l0aGRyYXduUmVzcG9uc2VFcnJvcn1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5lcnJvci1kaWFsb2cub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25Pa0NsaWNrT2ZXaXRoRHJhd0Vycm9yTWVzc2FnZS5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgaWQ9J3dpdGhkcmF3UmVzcG9uc2VNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAga2V5PSd3aXRoZHJhd1Jlc3BvbnNlTWVzc2FnZU1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5ub25lfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICkgOiBudWxsO1xyXG4gICAgICAgIGxldCBzZXNzaW9uQ2xvc2VkRXJyb3JEaWxhb2cgPSB0aGlzLnN0YXRlLmlzUWlnc2Vzc2lvbkNsb3NlZEVycm9yID8gKFxyXG4gICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17dGhpcy5nZXRTZXNzaW9uQ2xvc2VkRXJyb3JNZXNzYWdlKCl9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucmVxdWVzdC1tYXJraW5nLWNoZWNrLWVycm9yLWRpYWxvZy5oZWFkZXItc2Vzc2lvbi1jbG9zZWQnXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzUWlnc2Vzc2lvbkNsb3NlZEVycm9yfVxyXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5vay1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tPZldpdGhEcmF3RXJyb3JNZXNzYWdlLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBpZD0nc2Vzc2lvbkNsb3NlZFJlc3BvbnNlTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIGtleT0nc2Vzc2lvbkNsb3NlZFJlc3BvbnNlTWVzc2FnZU1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5ub25lfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICkgOiBudWxsO1xyXG4gICAgICAgIGxldCByZXNwb25zZVNlYXJjaEZhaWxlZEVycm9yRGlhbG9nID0gdGhpcy5zdGF0ZS5pc1Jlc3BvbnNlU2VhcmNoRmFpbGVkID8gKFxyXG4gICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17dGhpcy5nZXRSZXNwb25zZVNlYXJjaEZhaWxlZEVycm9yTWVzc2FnZSgpfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5oZWFkZXInKX1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5pc1Jlc3BvbnNlU2VhcmNoRmFpbGVkfVxyXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5vay1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tPZlJlc3BvbnNlU2VhcmNoRmFpbGVkRXJyb3JNZXNzYWdlLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBpZD0ncmVtb3ZlZFJlc3BvbnNlTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIGtleT0ncmVtb3ZlZFJlc3BvbnNlTWVzc2FnZU1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5ub25lfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgYXBwbGljYXRpb25PZmZMaW5lRXJyb3JNZXNzYWdlID0gdGhpcy5zdGF0ZS5pc0FwcGxpY2F0aW9uT2ZmbGluZSA/IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMub2ZmbGluZUVycm9yTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5vZmZsaW5lLWRpYWxvZy5oZWFkZXInKX1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5pc0FwcGxpY2F0aW9uT2ZmbGluZX1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5lcnJvci1kaWFsb2cub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25BcHBsaWNhdGlvbkVycm9yTWVzc2FnZVBvcFVwQ2xpY2tlZC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgaWQ9J29mZmxpbmVFcnJvck1lc3NnZSdcclxuICAgICAgICAgICAgICAgIGtleT0nb2ZmbGluZUVycm9yTWVzc2dlJ1xyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuT2ZmTGluZVdhcm5pbmd9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBpZGxlVGltZXIgPSB0aGlzLnN0YXRlLmlzT25saW5lID8gKFxyXG4gICAgICAgICAgICA8SWRsZVRpbWVyXHJcbiAgICAgICAgICAgICAgICBpZGxlQWN0aW9uPXt0aGlzLm9uWWVzQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbkF1dG9Mb2dvdXR9XHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0PXt0aGlzLl9pZGxlVGltZU91dH1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgbGV0IG5vTWFya2luZ0NoZWNrQXZhaWxhYmxlTWVzc2FnZSA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuTm9NYXJraW5nQ2hlY2tSZXF1ZXN0UG9zc2libGUgPyAoXHJcbiAgICAgICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnJlcXVlc3QtbWFya2luZy1jaGVjay1lcnJvci1kaWFsb2cuYm9keS1uby1leGFtaW5lcnMtYXZhaWxhYmxlJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5yZXF1ZXN0LW1hcmtpbmctY2hlY2stZXJyb3ItZGlhbG9nLmhlYWRlci1uby1leGFtaW5lcnMtYXZhaWxhYmxlJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmRvU2hvd05vTWFya2luZ0NoZWNrQXZhaWxhYmxlTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuY2hhbmdlLXN0YXR1cy5vay1idXR0b24nXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMuaGFuZGxlUG9wVXBBY3Rpb24uYmluZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wb3BVcFR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlBvcFVwQWN0aW9uVHlwZS5Pa1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9J2lkX25vX21hcmtpbmdfY2hlY2tfbWVzc2FnZSdcclxuICAgICAgICAgICAgICAgICAgICBrZXk9J2tleV9ub19tYXJraW5nX2NoZWNrX21lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUubm9uZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgbWFya2luZ0NoZWNrQ29tcGxldGVDb25maXJtYXRpb25Qb3B1cCA9IHRoaXMuc3RhdGVcclxuICAgICAgICAgICAgLmlzTWFya2luZ0NoZWNrQ29tcGxldGVDb25maXJtYXRpb25Qb3B1cERpc3BsYXlpbmcgPyAoXHJcbiAgICAgICAgICAgICAgICA8Q29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnBlcmZvcm0tbWFya2luZy1jaGVjay1jb25maXJtYXRpb24tZGlhbG9nLmJvZHknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd7MH0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkTWFya2luZ0NoZWNrRXhhbWluZXIudG9FeGFtaW5lci5mdWxsTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucGVyZm9ybS1tYXJraW5nLWNoZWNrLWNvbmZpcm1hdGlvbi1kaWFsb2cuaGVhZGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tCb3hWaXNpYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBub0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdnZW5lcmljLnVzZXItbWVudS5wcm9maWxlLXNlY3Rpb24uY2FuY2VsLWVtYWlsLWJ1dHRvbidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIHllc0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuY2hhbmdlLXN0YXR1cy5vay1idXR0b24nXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBvblllc0NsaWNrPXt0aGlzLk9uT2tDbGlja09mTWFya2luZ0NoZWNrQ29tcGxldGVDb25maXJtYXRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgb25Ob0NsaWNrPXt0aGlzLk9uQ2FuY2VsQ2xpY2tPZk1hcmtpbmdDaGVja0NvbXBsZXRlQ29uZmlybWF0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5Db21wbGV0ZU1hcmtpbmdDaGVja31cclxuICAgICAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgbGV0IHdhcm5pbmdNZXNzYWdlUG9wdXAgPSAoXHJcbiAgICAgICAgICAgIDxXYXJuaW5nTWVzc2FnZVBvcHVwXHJcbiAgICAgICAgICAgICAgICBpZD0naWRfd2FybmluZ19tZXNzYWdlX3BvcHVwJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdrZXlfd2FybmluZ19tZXNzYWdlX3BvcHVwJ1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmNoYW5nZS1zdGF0dXMub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBsZXQgc3VibWl0RXJyb3JQb3B1cCA9IHRoaXMuc3RhdGUuaXNTdWJtaXRFcnJvclBvcERpc3BsYXlpbmcgPyAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0TWVzc2FnZUVycm9yUG9wdXBDb250ZW50Lm1lc3NhZ2VDb250ZW50XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0TWVzc2FnZUVycm9yUG9wdXBDb250ZW50Lm1lc3NhZ2VIZWFkZXJcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuaXNTdWJtaXRFcnJvclBvcERpc3BsYXlpbmd9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uU3VibWl0UmVzcG9uc2VFcnJvclBvcHVwT2tDbGlja31cclxuICAgICAgICAgICAgICAgIGlkPSdzdWJtaXRFcnJvck1lc3NnZSdcclxuICAgICAgICAgICAgICAgIGtleT0nc3VibWl0RXJyb3JNZXNzZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5TdWJtaXRSZXNwb25zZUVycm9yfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICAvL1BvcCB1cCBmb3IgZGlzcGxheWluZyB3YXJuaW5nIG1lc3NhZ2Ugb24gb3BlbmluZyBhIFFJRyBpbiBhbiBhdXRvem9uZWQgcXVlc3Rpb24gcGFwZXJcclxuICAgICAgICBsZXQgYXV0b3pvbmVkV2FybmluZ01lc3NhZ2UgPSB0aGlzLnN0YXRlLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwRGlzcGxheWluZyA/IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuYXV0b3pvbmVkLXdhcm5pbmctZGlhbG9nLmJvZHknXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LmF1dG96b25lZC13YXJuaW5nLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwRGlzcGxheWluZ31cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5hdXRvem9uZWQtd2FybmluZy1kaWFsb2cub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbkF1dG96b25lZFdhcm5pbmdNZXNzYWdlT2tDbGlja31cclxuICAgICAgICAgICAgICAgIGlkPSdpZF9hdXRvem9uZWRXYXJuaW5nTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgIGtleT0na2V5X2F1dG96b25lZFdhcm5pbmdNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUubm9uZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgLy8gcG9wdXAgd2hlbiBjbGlja2VkIG9uIHRoZSBzZWxlY3QgcmVzcG9uc2VzIGluIFN0ZCBzZXR1cCAtIHNlbGVjdCB0byBtYXJrIGJ1dHRvblxyXG4gICAgICAgIGxldCBzZWxlY3R0b01hcmtQcm92aXNpb25hbERpYWxvZyA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuU2VsZWN0VG9NYXJrQXNQcm92aXNpb25hbCA/IChcclxuICAgICAgICAgICAgICAgIDxNdWx0aU9wdGlvbkNvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuZ2V0U2VsZWN0VG9NYXJrUHJvdmlzaW9uYWxQb3B1cENvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1oZWFkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DYW5jZWxDbGljaz17dGhpcy5vbkNhbmNlbENsaWNrT2ZTZWxlY3RSZXNwb25zZVRvTWFya2FzUHJvdmlzaW9uYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5zZWxlY3RQcm92aXNpb25hbE1hcmtOb3dDbGlja31cclxuICAgICAgICAgICAgICAgICAgICBvbk5vQ2xpY2s9e3RoaXMuc2VsZWN0UHJvdmlzaW9uYWxNYXJrTGF0ZXJDbGlja31cclxuICAgICAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwU2l6ZT17ZW51bXMuUG9wdXBTaXplLk1lZGl1bX1cclxuICAgICAgICAgICAgICAgICAgICBwb3B1cFR5cGU9e2VudW1zLlBvcFVwVHlwZS5TZWxlY3RUb01hcmtBc1Byb3Zpc2lvbmFsfVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNhbmNlbFRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2VsZWN0LXJlc3BvbnNlLnNlbGVjdC10by1tYXJrLXBvcHVwLWJ1dHRvbjEnXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBidXR0b25Ob1RleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2VsZWN0LXJlc3BvbnNlLnNlbGVjdC10by1tYXJrLXBvcHVwLWJ1dHRvbjInXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBidXR0b25ZZXNUZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1idXR0b24zJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5vQnV0dG9uPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBjb21wbGV0ZVN0YW5kYXJkaXNhdGlvblBvcHVwID1cclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5pc0NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uICYmICF0aGlzLnN0YXRlLmlzQ29tcGxldGVTdGFuZGFyZGlzYXRpb24gPyAoXHJcbiAgICAgICAgICAgICAgICA8Q29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5sZWZ0LXBhbmVsLmNvbXBsZXRlLXN0YW5kYXJkaXNhdGlvbi1wb3B1cC1ib2R5J1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLmxlZnQtcGFuZWwuY29tcGxldGUtc3RhbmRhcmRpc2F0aW9uLXBvcHVwLWhlYWRlcidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICBpc0NoZWNrQm94VmlzaWJsZT17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgbm9CdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmxvZ291dC1kaWFsb2cubm8tYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgeWVzQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbmVyaWMubG9nb3V0LWRpYWxvZy55ZXMtYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5Pbk9rQ2xpY2tPZkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uQ29uZmlybWF0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIG9uTm9DbGljaz17dGhpcy5PbkNhbmNlbENsaWNrT2ZDb21wbGV0ZVN0YW5kYXJkaXNhdGlvbkNvbmZpcm1hdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICBkaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUubm9uZX1cclxuICAgICAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgbGV0IGNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uU2V0dXBQb3B1cCA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuQ29tcGxldGVTdGFuZGFyZGlzYXRpb25WYWxpZGF0ZSA/IChcclxuICAgICAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5sZWZ0LXBhbmVsLmNvbXBsZXRlLXN0YW5kYXJkaXNhdGlvbi12YWxpZGF0ZS1ib2R5J1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLmxlZnQtcGFuZWwuY29tcGxldGUtc3RhbmRhcmRpc2F0aW9uLXZhbGlkYXRlLWhlYWRlcidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5wb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5Db21wbGV0ZVN0YW5kYXJkaXNhdGlvblZhbGlkYXRlID8gdHJ1ZSA6IGZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuYXV0b3pvbmVkLXdhcm5pbmctZGlhbG9nLm9rLWJ1dHRvbidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tvZlN0YW5kYXJkaXNhdGlvblNldHVwVmFsaWRhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9J2lkX3N0YW5kYXJkaXNhdGlvbnNldHVwdmFsaWRhdGUnXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PSdrZXlfYXV0b3pvbmVkV2FybmluZ01lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUubm9uZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgbWFya0FzRGVmaW5pdGl2ZURpYWxvZyA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuTWFya0FzRGVmaW5pdGl2ZSA/IChcclxuICAgICAgICAgICAgICAgIDxNdWx0aU9wdGlvbkNvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuZ2V0TWFya0FzRGVmaW5pdGl2ZVBvcHVwQ29udGVudH1cclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAubWFyay1hcy1kZWZpbml0aXZlLm1hcmstYXMtZGVmaW5pdGl2ZS1wb3B1cC1oZWFkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DYW5jZWxDbGljaz17dGhpcy5vbkNhbmNlbENsaWNrT25NYXJrQXNEZWZpbml0aXZlUG9wVXB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5zdWJtaXRDbGlja09uTWFya0FzRGVmaW5pdGl2ZVBvcFVwfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzS2V5Qm9hcmRTdXBwb3J0RW5hYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBTaXplPXtlbnVtcy5Qb3B1cFNpemUuTWVkaXVtfVxyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwVHlwZT17ZW51bXMuUG9wVXBUeXBlLk1hcmtBc0RlZmluaXRpdmV9XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2FuY2VsVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zZWxlY3QtcmVzcG9uc2Uuc2VsZWN0LXRvLW1hcmstcG9wdXAtYnV0dG9uMSdcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvblllc1RleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAubWFyay1hcy1kZWZpbml0aXZlLm1hcmstYXMtZGVmaW5pdGl2ZS1wb3B1cC1zdWJtaXQtYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5vQnV0dG9uPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgaGVhZGVyID0gdGhpcy5pc1VuY2xhc3NpZmllZFdvcmtsaXN0U2VsZWN0ZWQoKSA/XHJcbiAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LmNsYXNzaWZ5LW11bHRpb3B0aW9uLXBvcHVwLmhlYWRlcicgOlxyXG4gICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZWNsYXNzaWZ5LW11bHRpb3B0aW9uLXBvcHVwLmhlYWRlcic7XHJcblxyXG4gICAgICAgIGxldCByZXVzZXBvcHVwSGVhZGVyID0gJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5oZWFkZXInO1xyXG5cclxuICAgICAgICBsZXQgcmV1c2VSaWdBY3Rpb25NdWx0aU9wdGlvbkRpYWxvZyA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuUmV1c2VSaWdBY3Rpb24gPyAoXHJcbiAgICAgICAgICAgICAgICA8TXVsdGlPcHRpb25Db25maXJtYXRpb25EaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLmdldFJlVXNlQWN0aW9uTXVsdGlPcHRpb25Qb3B1cENvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KHJldXNlcG9wdXBIZWFkZXIpfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICBpc0NsYXNzaWZ5UmVzcG9uc2VPa0J1dHRvbkRpc2FibGVkPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbENsaWNrPXt0aGlzLm9uQ2FuY2VsQ2xpY2tPZlJldXNlUmlnUG9wdXB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5vbk9LQ2xpY2tPZlJldXNlUmlncG9wdXB9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNLZXlCb2FyZFN1cHBvcnRFbmFibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICBwb3B1cFNpemU9e2VudW1zLlBvcHVwU2l6ZS5NZWRpdW19XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBUeXBlPXtlbnVtcy5Qb3BVcFR5cGUuUmV1c2VSaWdBY3Rpb259XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2FuY2VsVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5jYW5jZWwtYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uWWVzVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5vay1idXR0b24nXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Tm9CdXR0b249e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT0na2V5X3JldXNlUmlnQWN0aW9uTXVsdGlPcHRpb25EaWFsb2cnXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApIDogbnVsbDtcclxuICAgICAgICAvLyBQb3B1cCB3aGVuIGNsaWNrZWQgb24gdW5jbGFzc2lmaWVkIHdvcmtsc2l0ICdjbGFzc2lmeScgb3IgY2xhc3NpZmllZCB3b3JrbHNpdCAncmVjbGFzc2lmeScgb2YgYSByZXNwb25zZVxyXG4gICAgICAgIGxldCByZWNsYXNzaWZ5UmVzcG9uc2VNdWx0aU9wdGlvbkRpYWxvZyA9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuUmVjbGFzc2lmeU11bHRpT3B0aW9uID8gKFxyXG4gICAgICAgICAgICAgICAgPE11bHRpT3B0aW9uQ29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudD17dGhpcy5nZXRSZWNsYXNzaWZpY2F0aW9uTXVsdGlPcHRpb25Qb3B1cENvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KGhlYWRlcil9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2xhc3NpZnlSZXNwb25zZU9rQnV0dG9uRGlzYWJsZWQ9e3RoaXMuaXNVbmNsYXNzaWZpZWRXb3JrbGlzdFNlbGVjdGVkKCkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2xhc3NpZnlSZXNwb25zZU9rQnV0dG9uRGlzYWJsZWQgOiBmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbENsaWNrPXt0aGlzLm9uQ2FuY2VsQ2xpY2tPZlJlY2xhc3NpZnlNdWx0aU9wdGlvblBvcFVwfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uWWVzQ2xpY2s9e3RoaXMub25SZWNsYXNzaWZ5UmVzcG9uc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNLZXlCb2FyZFN1cHBvcnRFbmFibGVkPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICBwb3B1cFNpemU9e2VudW1zLlBvcHVwU2l6ZS5NZWRpdW19XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wdXBUeXBlPXtlbnVtcy5Qb3BVcFR5cGUuUmVjbGFzc2lmeU11bHRpT3B0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNhbmNlbFRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnJlY2xhc3NpZnktbXVsdGlvcHRpb24tcG9wdXAuY2FuY2VsLWJ1dHRvbidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvblllc1RleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnJlY2xhc3NpZnktbXVsdGlvcHRpb24tcG9wdXAub2stYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5vQnV0dG9uPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICBrZXk9J2tleV9yZWNsYXNzaWZ5UmVzcG9uc2VNdWx0aU9wdGlvbkRpYWxvZydcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkgOiBudWxsO1xyXG5cclxuICAgICAgICAvLyBQb3B1cCBEaWFsb2cgdG8gbm90aWZ5IHVzZXIgYWJvdmUgcmVjbGFzc2lmeSBmYWlsdXJlLlxyXG4gICAgICAgIGxldCByZWNsYXNzaWZ5RXJyb3JQb3B1cERpYWxvZyA9XHJcbiAgICAgICAgICAgICh0aGlzLnN0YXRlLnBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLlJlY2xhc3NpZnlFcnJvciA/XHJcblxyXG4gICAgICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50PXt0aGlzLmdldFJlY2xhc3NpZnlFcnJvclBvcHVwQ29udGVudCgpfVxyXG4gICAgICAgICAgICAgICAgICAgIG11bHRpTGluZUNvbnRlbnQ9e251bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZWNsYXNzaWZ5ZXJyb3ItcG9wdXAuaGVhZGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5Q29udGVudD17bnVsbH1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5vay1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25SZWNsYXNzaWZ5RXJyb3JNZXNzYWdlT2tDbGlja31cclxuICAgICAgICAgICAgICAgICAgICBpZD0ncmVjbGFzc2lmeUVycm9yJ1xyXG4gICAgICAgICAgICAgICAgICAgIGtleT0ncmVjbGFzc2lmeUVycm9yTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5SZWNsYXNzaWZ5RXJyb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyQ29udGVudD17bnVsbH1cclxuICAgICAgICAgICAgICAgIC8+IDogbnVsbFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBQb3B1cCBEaWFsb2cgdG8gbm90aWZ5IHVzZXIgYWJvdmUgY29uY3VycmVudCBzYXZlIGZhaWwuXHJcbiAgICAgICAgbGV0IGNvbmN1cnJlbnRTYXZlRmFpbFBvcHVwID1cclxuICAgICAgICAgICAgKHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuQ29uY3VycmVudFNhdmVGYWlsID9cclxuICAgICAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudD17dGhpcy5jbGFzc2lmeU9yUmVjbGFzc2lmeVNhdmVGYWlsUG9wVXBDb250ZW50fVxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QuY29uY3VycmVudC1lc21hcmtpbmdtb2RlLXNhdmUtZmFpbC1wb3B1cC5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlDb250ZW50PXtudWxsfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LmNvbmN1cnJlbnQtZXNtYXJraW5nbW9kZS1zYXZlLWZhaWwtcG9wdXAub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uQ29uY3VycmVudFNhdmVGYWlsUG9wdXBPa0NsaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgIGlkPSdjb25jdXJyZW50U2F2ZUZhaWxFcnJvcidcclxuICAgICAgICAgICAgICAgICAgICBrZXk9J2NvbmN1cnJlbnRTYXZlRmFpbEVycm9yTWVzc2FnZSdcclxuICAgICAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5Db25jdXJyZW50U2F2ZUZhaWx9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyQ29udGVudD17bnVsbH1cclxuICAgICAgICAgICAgICAgIC8+IDogbnVsbFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBQb3B1cCBkaWFsb2cgdG8gbm90aWZ5IHVzZXIgdGhhdCB0aGUgY3VycmVudCByZXNwb25zZSBoYXMgYWxyZWFkeSBiZWVuIGRpc2NhcmRlZC5cclxuICAgICAgICBsZXQgZGlzY2FyZFJlc3BvbnNlRmFpbFBvcHVwID1cclxuICAgICAgICAgICAgKHRoaXMuc3RhdGUucG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZFJlc3BvbnNlRmFpbCA/XHJcbiAgICAgICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuZGlzY2FyZFJlc3BvbnNlRmFpbFBvcFVwQ29udGVudH1cclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnJlc3BvbnNlLWFscmVhZHktZGlzY2FyZGVkLXBvcHVwLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeUNvbnRlbnQ9e251bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QucmVzcG9uc2UtYWxyZWFkeS1kaXNjYXJkZWQtcG9wdXAub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uRGlzY2FyZFJlc3BvbnNlRmFpbFBvcHVwT2tDbGlja31cclxuICAgICAgICAgICAgICAgICAgICBpZD0nZGlzY2FyZFJlc3BvbnNlRmFpbEVycm9yJ1xyXG4gICAgICAgICAgICAgICAgICAgIGtleT0nY29uY3VycmVudFNhdmVGYWlsRXJyb3JNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLkRpc2NhcmRSZXNwb25zZX1cclxuICAgICAgICAgICAgICAgICAgICBmb290ZXJDb250ZW50PXtudWxsfVxyXG4gICAgICAgICAgICAgICAgLz4gOiBudWxsXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIFBvcHVwIERpYWxvZyB0byBub3RpZnkgdXNlciBhYm92ZSBjb25jdXJyZW50IHNhdmUgZmFpbC5cclxuICAgICAgICBsZXQgdW5DbGFzc2lmaWVkU2NyaXB0aW5TdG1VbmF2YWlsYWJsZVBvcHVwID1cclxuICAgICAgICAgICAgKHRoaXMuc3RhdGUudW5DbGFzc2lmaWVkU2NyaXB0aW5TdG1VbmF2YWlsYWJsZVZpc2libGUgPT09IHRydWUgP1xyXG4gICAgICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50PXtzdHJpbmdIZWxwZXIuZm9ybWF0KGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCdzdGFuZGFyZGlzYXRpb24tc2V0dXAudW5jbGFzc2lmaWVkLXNjcmlwdC11bmF2YWlsYWJsZS1wb3B1cC5jb250ZW50JyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyZXNwb25zZVN0b3JlLmluc3RhbmNlLnNlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKCldKX1cclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC51bmNsYXNzaWZpZWQtc2NyaXB0LXVuYXZhaWxhYmxlLXBvcHVwLmhlYWRlcicpfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeUNvbnRlbnQ9e251bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnVuY2xhc3NpZmllZC1zY3JpcHQtdW5hdmFpbGFibGUtcG9wdXAub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9rQ2xpY2tPblVuYXZhaWxhYmxlUG9wVXB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLnVuQ2xhc3NpZmllZFNjcmlwdGluU3RtVW5hdmFpbGFibGVWaXNpYmxlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlkPSd1bmNsYXNzaWZpZWRzY3JpcHR1bmF2YWlsYWJsZSdcclxuICAgICAgICAgICAgICAgICAgICBrZXk9J3VuY2xhc3NpZmllZHNjcmlwdHVuYXZhaWxhYmxlS2V5J1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyQ29udGVudD17bnVsbH0gLz4gOiBudWxsXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCByaWdOb3RGb3VuZERpYWxvZyA9IHRoaXMuc3RhdGUuc2hvd1JpZ05vdEZvdW5kUG9wVXAgPyAoXHJcbiAgICAgICAgICAgIDxHZW5lcmljRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzZWFyY2gtcmVzcG9uc2Uuc2VhcmNoLXJpZy1ub3QtZm91bmQtY29udGVudCcpfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzZWFyY2gtcmVzcG9uc2Uuc2VhcmNoLXJpZy1ub3QtZm91bmQtdGl0bGUnKX1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5zaG93UmlnTm90Rm91bmRQb3BVcH1cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5lcnJvci1kaWFsb2cub2stYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25SaWdOb3RGb3VuZE9rQ2xpY2t9XHJcbiAgICAgICAgICAgICAgICBpZD0ncmlnTm90Rm91bmRQb3B1cCdcclxuICAgICAgICAgICAgICAgIGtleT0ncmlnTm90Rm91bmRQb3B1cCdcclxuICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLm5vbmV9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBzYXZlRW1haWxNZXNzYWdlID0gc3RyaW5nSGVscGVyLmZvcm1hdChcclxuICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy51c2VyLW1lbnUuZW1haWwtYWRkcmVzcy1zYXZlZC1kaWFsb2cuYm9keScpLFxyXG4gICAgICAgICAgICBbU3RyaW5nKFN0cmluZy5mcm9tQ2hhckNvZGUoMTc5KSldKTtcclxuICAgICAgICBsZXQgZW1haWxTYXZlTWVzc2FnZSA9IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2cgY29udGVudD17c2F2ZUVtYWlsTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy51c2VyLW1lbnUuZW1haWwtYWRkcmVzcy1zYXZlZC1kaWFsb2cuaGVhZGVyJyl9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuaXNTYXZlRW1haWxNZXNzYWdlRGlzcGxheWluZ31cclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dD17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1hbGxvY2F0aW9uLWVycm9yLWRpYWxvZy5vay1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgIG9uT2tDbGljaz17dGhpcy5vbk9rQ2xpY2tPZkVtYWlsU3VjZXNzTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIGlkPSdlbWFpbFNhdmVNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdlbWFpbFNhdmVNZXNzYWdlJ1xyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUuUmVzcG9uc2VBbGxvY2F0aW9uRXJyb3J9IC8+XHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgc2hhcmVSZXNwb25zZVBvcHVwID1cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pc1NoYXJlUmVzcG9uc2VQb3B1cERpc3BsYXlpbmdGb3JQRSB8fCB0aGlzLnN0YXRlLmlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZyA/IChcclxuICAgICAgICAgICAgICAgIDxNdWx0aU9wdGlvbkNvbmZpcm1hdGlvbkRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuc3RhdGUuaXNTaGFyZVJlc3BvbnNlUG9wdXBEaXNwbGF5aW5nRm9yUEUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFNoYXJlUmVzcG9uc2VQb3B1cENvbnRlbnRGb3JQRSA6IHRoaXMuZ2V0U2hhcmVSZXNwb25zZVBvcHVwQ29udGVudCgpfVxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcj17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3Quc2hhcmUtcmVzcG9uc2UtcG9wdXAuaGVhZGVyJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsQ2xpY2s9e3RoaXMuc2hhcmVSZXNwb25zZVBvcHVwQ2xvc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5zaGFyZVJlc3BvbnNlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uTm9DbGljaz17bnVsbH1cclxuICAgICAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwU2l6ZT17ZW51bXMuUG9wdXBTaXplLk1lZGl1bX1cclxuICAgICAgICAgICAgICAgICAgICBwb3B1cFR5cGU9e2VudW1zLlBvcFVwVHlwZS5TaGFyZVJlc3BvbnNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNhbmNlbFRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLmNhbmNlbC1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgICAgICBidXR0b25ZZXNUZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuVHJhbnNsYXRlVGV4dCgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5zaGFyZS1yZXNwb25zZS1wb3B1cC5zaGFyZS1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgICAgICBidXR0b25Ob1RleHQ9e251bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5vQnV0dG9uPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgIC8+KSA6IG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICB7c2VsZWN0dG9NYXJrUHJvdmlzaW9uYWxEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7bWFya0FzRGVmaW5pdGl2ZURpYWxvZ31cclxuICAgICAgICAgICAgICAgIHtjb21wbGV0ZVN0YW5kYXJkaXNhdGlvblBvcHVwfVxyXG4gICAgICAgICAgICAgICAge2NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uU2V0dXBQb3B1cH1cclxuICAgICAgICAgICAgICAgIHthdXRvem9uZWRXYXJuaW5nTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIHtzdWJtaXRDb25maXJtYXRpb25EaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7bWFuZGF0b3J5TWVzc2FnZVZhbGlkYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIHtjb25maXJtYXRpb25EaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7YnVzeUluZGljYXRvcn1cclxuICAgICAgICAgICAgICAgIHtub25SZWNvdmVyYWJsZUVycm9yTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIHtncmFjZVBlcmlvZFJlc3BvbnNlVW5tYXJrZWREaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7cmVzcG9uc2VSZW1vdmVkRXJyb3JEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7Z3JhY2VQZXJpb2RFeHBpcmVkRXJyb3JEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7ZGlzY2FyZE1lc3NhZ2VEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7ZGlzY2FyZEV4Y2VwdGlvbkRpYWxvZ31cclxuICAgICAgICAgICAgICAgIHt3aXRoZHJhd0Vycm9yRGlhbG9nfVxyXG4gICAgICAgICAgICAgICAge21hbmRhdG9yeU1lc3NhZ2VEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7aWRsZVRpbWVyfVxyXG4gICAgICAgICAgICAgICAge25vblJlY292ZXJhYmxlU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvck1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICB7bm9NYXJraW5nQ2hlY2tBdmFpbGFibGVNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAge21hcmtpbmdDaGVja0NvbXBsZXRlQ29uZmlybWF0aW9uUG9wdXB9XHJcbiAgICAgICAgICAgICAgICB7c3VwZXJ2aXNvclNhbXBsaW5nQ29tbWVudFZhbGlkYXRpb25Qb3B1cH1cclxuICAgICAgICAgICAgICAgIHt3YXJuaW5nTWVzc2FnZVBvcHVwfVxyXG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyU2ltdWxhdGlvbkV4aXRlZFFpZ3NQb3B1cCgpfVxyXG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyTG9ja3NJblFpZ1BvcFVwKCl9XHJcbiAgICAgICAgICAgICAgICB7YXBwbGljYXRpb25PZmZMaW5lRXJyb3JNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAge3Jlc3BvbnNlU2VhcmNoRmFpbGVkRXJyb3JEaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7c2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uUG9wdXB9XHJcbiAgICAgICAgICAgICAgICB7c3VibWl0RXJyb3JQb3B1cH1cclxuICAgICAgICAgICAgICAgIHtzaGFyZUNvbmZpcm1hdGlvblBvcHVwfVxyXG4gICAgICAgICAgICAgICAge3Nlc3Npb25DbG9zZWRFcnJvckRpbGFvZ31cclxuICAgICAgICAgICAgICAgIHtyZWNsYXNzaWZ5UmVzcG9uc2VNdWx0aU9wdGlvbkRpYWxvZ31cclxuICAgICAgICAgICAgICAgIHtyZWNsYXNzaWZ5RXJyb3JQb3B1cERpYWxvZ31cclxuICAgICAgICAgICAgICAgIHtjb25jdXJyZW50U2F2ZUZhaWxQb3B1cH1cclxuICAgICAgICAgICAgICAgIHtub3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwfVxyXG4gICAgICAgICAgICAgICAge3Jlc3BvbnNlTW9kaWZpZWRQb3B1cH1cclxuICAgICAgICAgICAgICAgIHt1bkNsYXNzaWZpZWRTY3JpcHRpblN0bVVuYXZhaWxhYmxlUG9wdXB9XHJcbiAgICAgICAgICAgICAgICB7cmlnTm90Rm91bmREaWFsb2d9XHJcbiAgICAgICAgICAgICAgICB7ZW1haWxTYXZlTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIHtzaGFyZVJlc3BvbnNlUG9wdXB9XHJcbiAgICAgICAgICAgICAgICB7cmV1c2VSaWdBY3Rpb25NdWx0aU9wdGlvbkRpYWxvZ31cclxuICAgICAgICAgICAgICAgIHtkaXNjYXJkUmVzcG9uc2VGYWlsUG9wdXB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjb21wb25lbnREaWRNb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdXNlck9wdGlvblN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB1c2VyT3B0aW9uU3RvcmUuVXNlcm9wdGlvblN0b3JlLlVTRVJfT1BUSU9OX1NBVkVfT05fTE9HT1VUX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVzZXJTZXNzaW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsb2dpblN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBsb2dpblN0b3JlLkxvZ2luU3RvcmUuVVBEQVRFX1NFU1NJT05fT05fTE9HT1VUX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmNsZWFyU2Vzc2lvblxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbG9naW5TdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbG9naW5TdG9yZS5Mb2dpblN0b3JlLkNPTkNVUlJFTlRfU0VTU0lPTl9BQ1RJVkUsXHJcbiAgICAgICAgICAgIHRoaXMub25Db25jdXJyZW50U2Vzc2lvbkFjdGl2ZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlNBVkVfTUFSS1NfQU5EX0FOTk9UQVRJT05TX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNcclxuICAgICAgICApO1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5SRUFEWV9UT19OQVZJR0FURSxcclxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZUF3YXlGcm9tUmVzcG9uc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5UUklHR0VSX1NBVklOR19NQVJLU19BTkRfQU5OT1RBVElPTlNfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1RyaWdnZXJlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlNFVF9OT05fUkVDT1ZFUkFCTEVfRVJST1JfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TZXRIYXNOb25SZWNvdmVyYWJsZUVycm9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgdGhpcy5fYm91bmRPbmxpbmVTdGF0dXNFdmVudCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCB0aGlzLl9ib3VuZE9ubGluZVN0YXR1c0V2ZW50KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgbmF2aWdhdGlvbkhlbHBlci5vbkJlZm9yZVdpbmRvd1VubG9hZCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuc2Nyb2xsSW50b1ZpZXdPbkVkaXRpbmdUZXh0Rm9yQW5kcm9pZCk7XHJcblxyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TVUJNSVRfUkVTUE9OU0VfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU3VibWl0UmVzcG9uc2VDb21wbGV0ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TSEFSRV9BTkRfQ0xBU1NJRllfUkVTUE9OU0VfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlUmVuZGVyUHJvdmlvbmFsV29ya2xpc3RcclxuICAgICAgICApO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX05BVklHQVRJT05fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25NZXNzYWdlUGFuZWxFZGl0ZWRcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuTUFSS0lOR01PREVfQ0hBTkdFRF9JTl9QUk9WSVNJT05BTF9SRVNQT05TRV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy51bkNsYXNzaWZpZWRTY3JpcHRpblN0bVVuYXZhaWxhYmxlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlNIT1dfR1JBQ0VfUEVSSU9EX05PVF9GVUxMWV9NQVJLRURfTUVTU0FHRSxcclxuICAgICAgICAgICAgdGhpcy5zaG93UmVzcG9uc2VJbkdyYWNlTm90RnVsbHlNYXJrZWRNZXNzYWdlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuUE9QVVBfRElTUExBWV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblBvcFVwRGlzcGxheUV2ZW50XHJcbiAgICAgICAgKTtcclxuICAgICAgICBleGNlcHRpb25TdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgZXhjZXB0aW9uU3RvcmUuRXhjZXB0aW9uU3RvcmUuRVhDRVBUSU9OX0RJU0NBUkRfUE9QVVBfRElTUExBWV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblBvcFVwRGlzcGxheUV2ZW50XHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuQUNDRVBUX1FVQUxJVFlfQUNUSU9OX0NPTVBMRVRFRCxcclxuICAgICAgICAgICAgdGhpcy5vbkFjY2VwdFF1YWxpdHlGZWVkYmFja0FjdGlvbkNvbXBsZXRlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlJFVFJJRVZFX01BUktTX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1hcmtzUmV0cmlldmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBidXN5SW5kaWNhdG9yU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JTdG9yZS5CdXN5SW5kaWNhdG9yU3RvcmUuQlVTWV9JTkRJQ0FUT1IsXHJcbiAgICAgICAgICAgIHRoaXMuc2V0QnVzeUluZGljYXRvclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlVOUkVBRF9NQU5EQVRPUllfTUVTU0FHRV9TVEFUVVNfVVBEQVRFRCxcclxuICAgICAgICAgICAgdGhpcy5zaG93TWFuZGF0b3J5TWVzc2FnZVBvcHVwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuVVBEQVRFX05PVElGSUNBVElPTl9UUklHR0VSRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGVOb3RpZmljYXRpb25cclxuICAgICAgICApO1xyXG4gICAgICAgIGFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uU3RvcmUuQXBwbGljYXRpb25TdG9yZS5BQ1RJT05fSU5URVJSVVBURURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMudXNlckFjdGlvbkludGVycnVwdGVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3VibWl0U3RvcmUuU3VibWl0U3RvcmUuU1VCTUlUX1JFU1BPTlNFX1NUQVJURUQsXHJcbiAgICAgICAgICAgIHRoaXMub25TdWJtaXRSZXNwb25zZVN0YXJ0ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIGV4YW1pbmVyU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGV4YW1pbmVyU3RvcmUuRXhhbWluZXJTdG9yZS5NQVJLRVJfSU5GT19VUERBVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hcmtlckluZm9ybWF0aW9uUGFuZWxcclxuICAgICAgICApO1xyXG4gICAgICAgIGV4YW1pbmVyU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGV4YW1pbmVyU3RvcmUuRXhhbWluZXJTdG9yZS5RSUdfU0VTU0lPTl9DTE9TRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUWlnRm9yU2Vzc2lvbkNsb3NlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuUkVTUE9OU0VfREFUQV9SRUNFSVZFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblJlc3BvbnNlRGF0YVJlY2VpdmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBuYXZpZ2F0aW9uU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb25TdG9yZS5OYXZpZ2F0aW9uU3RvcmUuQ09OVEFJTkVSX0NIQU5HRV9fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFN0YXRlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuTUFOREFUT1JZX01FU1NBR0VfVkFMSURBVElPTl9QT1BVUF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5tYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwVmlzaWJpbGl0eVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlVQREFURV9NRVNTQUdFX1BSSU9SSVRZX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VQcmlvcml0eVVwZGF0ZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLldPUktMSVNUX01BUktJTkdfTU9ERV9DSEFOR0UsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5XHJcbiAgICAgICAgKTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuV09SS0xJU1RfTUFSS0lOR19NT0RFX0NIQU5HRSxcclxuICAgICAgICAgICAgdGhpcy5yZXNldEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICApO1xyXG4gICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuV29ya0xpc3RTdG9yZS5OT19NQVJLSU5HX0NIRUNLX0FWQUlMQUJMRV9NRVNTQUdFLFxyXG4gICAgICAgICAgICB0aGlzLnNob3dOb01hcmtpbmdDaGVja0F2YWlsYWJsZU1lc3NhZ2VcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5PUEVOX1RFQU1fTUFOQUdFTUVOVF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblRlYW1NYW5hZ2VtZW50T3BlblxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLk1ZX1RFQU1fREFUQV9MT0FERURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuaXNBdXRvem9uZWRNZXNzYWdlUG9wdXBWaXNpYmxlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuVEVBTV9FWENFUFRJT05TX0RBVEFfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLkhFTFBfRVhBTUlORVJTX0RBVEFfUkVDRUlWRUQsXHJcbiAgICAgICAgICAgIHRoaXMuaXNBdXRvem9uZWRNZXNzYWdlUG9wdXBWaXNpYmxlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuQUREX1RPX0hJU1RPUllfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5XHJcbiAgICAgICAgKTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuTUFSS0lOR19DSEVDS19DT01QTEVURV9CVVRUT05fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMubWFya0NoZWNrQ29tcGxldGVCdXR0b25FdmVudFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLk1BUktJTkdfQ0hFQ0tfQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1hcmtDaGVja0NvbXBsZXRlZEV2ZW50XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuU0FNUExJTkdfU1RBVFVTX0NIQU5HRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuU2hvd1N1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXBcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5FWEFNSU5FUl9EUklMTF9ET1dOX0RBVEFfVVBEQVRFRCxcclxuICAgICAgICAgICAgdGhpcy5hZGRUb1JlY2VudEhpc3RvcnlcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5GQUlMVVJFX1dISUxFX0ZFVENISU5HX1RFQU1fREFUQV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvck5hdmlnYXRpb25UZWFtTWFuYWdlbWVudFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLk1ZX1RFQU1fREFUQV9MT0FERURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuVEVBTV9FWENFUFRJT05TX0RBVEFfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QnVzeUluZGljYXRvclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLkhFTFBfRVhBTUlORVJTX0RBVEFfUkVDRUlWRUQsXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0hPV19MT0NLU19JTl9RSUdfUE9QVVAsXHJcbiAgICAgICAgICAgIHRoaXMub25TaG93TG9ja3NJblFpZ3NQb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlFJR19TRUxFQ1RFRF9GUk9NX0xPQ0tFRF9MSVNULFxyXG4gICAgICAgICAgICB0aGlzLm9uUWlnU2VsZWN0ZWRGcm9tTG9ja2VkTGlzdFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlFJR19TRUxFQ1RFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvUWlnRnJvbUxvY2tlZExpc3RcclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5MT0NLU19JTl9RSUdfREFUQV9SRVRSSUVWRUQsXHJcbiAgICAgICAgICAgIHRoaXMuZG9Mb2dvdXRQb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlJFU1BPTlNFX0RBVEFfUkVDRUlWRURfRkFJTEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2VEYXRhUmVjZWl2ZWRGYWlsZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TSE9XX1NJTVVMQVRJT05fUkVTUE9OU0VfU1VCTUlUX0NPTkZJUk1BVElPTl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vbnNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLlNUQU5EQVJESVNBVElPTl9TRVRVUF9DT01QTEVURURfSU5fQkFDS0dST1VORCxcclxuICAgICAgICAgICAgdGhpcy5vblN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGlvbkluQmFja2dyb3VuZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlNJTVVMQVRJT05fRVhJVEVEX1FJR1NfQU5EX0xPQ0tTX0lOX1FJR1NfUkVUUklFVkVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU2ltdWxhdGlvbkV4aXRlZFFpZ3NBbmRMb2Nrc0luUWlnc1JlY2lldmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0lNVUxBVElPTl9UQVJHRVRfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU2ltdWxhdGlvblRhcmdldENvbXBsZXRpb25cclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5TVEFOREFSRElTQVRJT05fU0VUVVBfQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uU3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0aW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0lNVUxBVElPTl9FWElURURfUUlHU19SRVRSSUVWRUQsXHJcbiAgICAgICAgICAgIHRoaXMub25TaW11bGF0aW9uRXhpdGVkUWlnc1JlY2lldmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjY1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBjY1N0b3JlLkNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc1N0b3JlLkVYQU1fQk9EWV9DQ19HRVQsXHJcbiAgICAgICAgICAgIHRoaXMub25FeGFtQm9keUNDTG9hZGVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBlY291cnNld29ya0ZpbGVTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgZWNvdXJzZXdvcmtGaWxlU3RvcmUuRUNvdXJzZVdvcmtGaWxlU3RvcmUuRUNPVVJTRVdPUktfRklMRV9EQVRBX0NMRUFSRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25FY291cnNld29ya0ZpbGVEYXRhQ2xlYXJlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlNBVkVfQUNFVEFURVNfREFUQV9BQ1RJT05fQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QWNldGF0ZVNhdmVJblByb2dyZXNzU3RhdHVzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0hBUkVfQ09ORklSTUFUSU9OX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnNoYXJlQ29uZmlybWF0aW9uUG9wdXBcclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5SRVNFVF9TSEFSRURfQUNFVEFURVNfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QWNldGF0ZVNhdmVJblByb2dyZXNzU3RhdHVzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuUkVTRVRfQUNFVEFURV9TQVZFX0lOX1BST0dSRVNTX1NUQVRVU19DT01QTEVURUQsXHJcbiAgICAgICAgICAgIHRoaXMub25SZXNldEFjZXRhdGVzU2F2ZUluUHJvZ3Jlc3NSZWNlaXZlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGFyZ2V0U3VtbWFyeVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0YXJnZXRTdW1tYXJ5U3RvcmUuVGFyZ2V0U3VtbWFyeVN0b3JlLldPUktMSVNUX0lOSVRJQUxJU0FUSU9OX0NPTVBMRVRFRCxcclxuICAgICAgICAgICAgdGhpcy5pc0F1dG96b25lZE1lc3NhZ2VQb3B1cFZpc2libGVcclxuICAgICAgICApO1xyXG4gICAgICAgIGltYWdlWm9uZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBpbWFnZVpvbmVTdG9yZS5JbWFnZVpvbmVTdG9yZS5FQk9PS19JTUFHRVpPTkVfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlXHJcbiAgICAgICAgICAgICAgICAuUE9QVVBfT1BFTl9TRUxFQ1RfVE9fTUFSS19CVVRUT05fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3RTdGRTZXR1cFJlc3BvbnNlVG9NYXJrXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5TVEFOREFSRElTQVRJT05fUklHX0NSRUFURURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TdGFuZGFyZGlzYXRpb25SaWdDcmVhdGVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5DT01QTEVURV9TVEFOREFSRElTQVRJT05fU0VUVVBfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZVN0YW5kYXJkaXNhdGlvblNldHVwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5HRVRfU1RBTkRBUkRJU0FUSU9OX1RBUkdFVF9ERVRBSUxTX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QnVzeUluZGljYXRvclN0ZFNldHVwTm90Q29tcGxldGVcclxuICAgICAgICApO1xyXG4gICAgICAgIHVzZXJpbmZvc3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHVzZXJpbmZvc3RvcmUuVXNlckluZm9TdG9yZS5TV0lUQ0hfVVNFUl9CVVRUT05fQ0xJQ0ssXHJcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVXNlckJ1dHRvbkNsaWNrXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5TVEFOREFSRElTQVRJT05fUkVTUE9OU0VfREFUQV9VUERBVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2VEYXRhUmVjaWV2ZWRBZnRlclJlZnJlc2hcclxuICAgICAgICApO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLkdFVF9TVEFOREFSRElTQVRJT05fQ0VOVFJFX0RFVEFJTFNfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25SZXNwb25zZURhdGFSZWNpZXZlZEFmdGVyUmVmcmVzaFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlXHJcbiAgICAgICAgICAgICAgICAuTVVMVElfT1BUSU9OX1BPUFVQX09QRU5fUkVDTEFTU0lGWV9QT1BVUF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZWNsYXNzaWZ5TXVsdGlPcHRpb25Qb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TVEFOREFSRElTQVRJT05fU0VUVVBfTEVGVF9QQU5FTF9TRUxFQ1RfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5KTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuUE9QVVBfT1BFTl9SRUNMQVNTSUZZX1BPUFVQX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlY2xhc3NpZnlQb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLlBPUFVQX09QRU5fUkVDTEFTU0lGWV9FUlJPUl9QT1BVUF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZWNsYXNzaWZ5RXJyb3JQb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLkNPTkNVUlJFTlRfU0FWRV9GQUlMX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmNvbmN1cnJlbnRTYXZlRmFpbFBvcHVwKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuQ0xBU1NJRllfUkVTUE9OU0VfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVSZW5kZXJVbmNsYXNzaWZpZWRXb3JrbGlzdCk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlNBVkVfTk9URV9DT01QTEVURURfQUNUSU9OX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlOb3RlU2F2ZUZhaWxlZFBvcHVwKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuUkVDTEFTU0lGSUVEX1JFU1BPTlNFX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlUmVuZGVyT25DbGFzc2lmaWVkUmVzcG9uc2VSZWNlaXZlZCk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLkRFQ0xBU1NJRllfUkVTUE9OU0VfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVSZW5kZXJPbkNsYXNzaWZpZWRSZXNwb25zZVJlY2VpdmVkKTtcclxuICAgICAgICByZXNwb25zZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICByZXNwb25zZVN0b3JlLlJlc3BvbnNlU3RvcmUuUklHX05PVF9GT1VORF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5zaG93T3JIaWRlUmlnTm90Rm91bmRQb3B1cCk7XHJcbiAgICAgICAgdXNlcmluZm9zdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcih1c2VyaW5mb3N0b3JlLlVzZXJJbmZvU3RvcmUuVVNFUklORk9fU0FWRSwgdGhpcy51c2VySW5mb1NhdmVkKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU1RBTkRBUkRJU0FUSU9OX1NIQVJFX1JFU1BPTlNFX1BPUFVQX0RJU1BMQVksXHJcbiAgICAgICAgICAgIHRoaXMuc2hhcmVSZXNwb25zZVBvcHVwT3Blbik7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlJFVVNFX1JJR19QT1BVUF9ESVNQTEFZX0FDVElPTl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZXVzZVJpZ0FjdGlvblBvcHVwT3Blbik7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlJFVVNFX1JJR19BQ1RJT05fQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJldXNlUmlnQWN0aW9uQ29tcGxldGVkRXZlbnQpO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5SRVNQT05TRV9BTFJFQURZX0RJU0NBUkRFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5kaXNjYXJkUmVzcG9uc2VGYWlsUG9wdXApO1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5SRUFEWV9UT19OQVZJR0FURSxcclxuICAgICAgICAgICAgdGhpcy5zdWJtaXRSZXNwb25zZUZyb21NYXJrc2NoZW1lKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjb21wb25lbnRXaWxsVW5tb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlJFQURZX1RPX05BVklHQVRFLFxyXG4gICAgICAgICAgICB0aGlzLnN1Ym1pdFJlc3BvbnNlRnJvbU1hcmtzY2hlbWUpO1xyXG5cclxuICAgICAgICB1c2VyT3B0aW9uU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHVzZXJPcHRpb25TdG9yZS5Vc2Vyb3B0aW9uU3RvcmUuVVNFUl9PUFRJT05fU0FWRV9PTl9MT0dPVVRfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXNlclNlc3Npb25cclxuICAgICAgICApO1xyXG4gICAgICAgIGxvZ2luU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGxvZ2luU3RvcmUuTG9naW5TdG9yZS5VUERBVEVfU0VTU0lPTl9PTl9MT0dPVVRfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTZXNzaW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsb2dpblN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBsb2dpblN0b3JlLkxvZ2luU3RvcmUuQ09OQ1VSUkVOVF9TRVNTSU9OX0FDVElWRSxcclxuICAgICAgICAgICAgdGhpcy5vbkNvbmN1cnJlbnRTZXNzaW9uQWN0aXZlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuU0FWRV9NQVJLU19BTkRfQU5OT1RBVElPTlNfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlJFQURZX1RPX05BVklHQVRFLFxyXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlQXdheUZyb21SZXNwb25zZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtYXJraW5nU3RvcmUuTWFya2luZ1N0b3JlLlRSSUdHRVJfU0FWSU5HX01BUktTX0FORF9BTk5PVEFUSU9OU19FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblNhdmVNYXJrc0FuZEFubm90YXRpb25zVHJpZ2dlcmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuU0VUX05PTl9SRUNPVkVSQUJMRV9FUlJPUl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblNldEhhc05vblJlY292ZXJhYmxlRXJyb3JcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuTUFSS0lOR01PREVfQ0hBTkdFRF9JTl9QUk9WSVNJT05BTF9SRVNQT05TRV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy51bkNsYXNzaWZpZWRTY3JpcHRpblN0bVVuYXZhaWxhYmxlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29ubGluZScsIHRoaXMuX2JvdW5kT25saW5lU3RhdHVzRXZlbnQpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgdGhpcy5fYm91bmRPbmxpbmVTdGF0dXNFdmVudCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIG5hdmlnYXRpb25IZWxwZXIub25CZWZvcmVXaW5kb3dVbmxvYWQpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnNjcm9sbEludG9WaWV3T25FZGl0aW5nVGV4dEZvckFuZHJvaWQpO1xyXG5cclxuICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5NYXJraW5nU3RvcmUuU0hPV19HUkFDRV9QRVJJT0RfTk9UX0ZVTExZX01BUktFRF9NRVNTQUdFLFxyXG4gICAgICAgICAgICB0aGlzLnNob3dSZXNwb25zZUluR3JhY2VOb3RGdWxseU1hcmtlZE1lc3NhZ2VcclxuICAgICAgICApO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5QT1BVUF9ESVNQTEFZX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUG9wVXBEaXNwbGF5RXZlbnRcclxuICAgICAgICApO1xyXG4gICAgICAgIGV4Y2VwdGlvblN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBleGNlcHRpb25TdG9yZS5FeGNlcHRpb25TdG9yZS5FWENFUFRJT05fRElTQ0FSRF9QT1BVUF9ESVNQTEFZX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUG9wVXBEaXNwbGF5RXZlbnRcclxuICAgICAgICApO1xyXG4gICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWFya2luZ1N0b3JlLk1hcmtpbmdTdG9yZS5SRVRSSUVWRV9NQVJLU19FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5tYXJrc1JldHJpZXZlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLkFDQ0VQVF9RVUFMSVRZX0FDVElPTl9DT01QTEVURUQsXHJcbiAgICAgICAgICAgIHRoaXMub25BY2NlcHRRdWFsaXR5RmVlZGJhY2tBY3Rpb25Db21wbGV0ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TVUJNSVRfUkVTUE9OU0VfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU3VibWl0UmVzcG9uc2VDb21wbGV0ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TSEFSRV9BTkRfQ0xBU1NJRllfUkVTUE9OU0VfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlUmVuZGVyUHJvdmlvbmFsV29ya2xpc3RcclxuICAgICAgICApO1xyXG4gICAgICAgIGJ1c3lJbmRpY2F0b3JTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgYnVzeUluZGljYXRvclN0b3JlLkJ1c3lJbmRpY2F0b3JTdG9yZS5CVVNZX0lORElDQVRPUixcclxuICAgICAgICAgICAgdGhpcy5zZXRCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuVU5SRUFEX01BTkRBVE9SWV9NRVNTQUdFX1NUQVRVU19VUERBVEVELFxyXG4gICAgICAgICAgICB0aGlzLnNob3dNYW5kYXRvcnlNZXNzYWdlUG9wdXBcclxuICAgICAgICApO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5VUERBVEVfTk9USUZJQ0FUSU9OX1RSSUdHRVJFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZU5vdGlmaWNhdGlvblxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfTkFWSUdBVElPTl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vbk1lc3NhZ2VQYW5lbEVkaXRlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgYXBwbGljYXRpb25TdG9yZS5BcHBsaWNhdGlvblN0b3JlLkFDVElPTl9JTlRFUlJVUFRFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy51c2VyQWN0aW9uSW50ZXJydXB0ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TVUJNSVRfUkVTUE9OU0VfU1RBUlRFRCxcclxuICAgICAgICAgICAgdGhpcy5vblN1Ym1pdFJlc3BvbnNlU3RhcnRlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZXhhbWluZXJTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgZXhhbWluZXJTdG9yZS5FeGFtaW5lclN0b3JlLk1BUktFUl9JTkZPX1VQREFURURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWFya2VySW5mb3JtYXRpb25QYW5lbFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZXhhbWluZXJTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgZXhhbWluZXJTdG9yZS5FeGFtaW5lclN0b3JlLlFJR19TRVNTSU9OX0NMT1NFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVRaWdGb3JTZXNzaW9uQ2xvc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5SRVNQT05TRV9EQVRBX1JFQ0VJVkVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2VEYXRhUmVjZWl2ZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIG5hdmlnYXRpb25TdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbmF2aWdhdGlvblN0b3JlLk5hdmlnYXRpb25TdG9yZS5DT05UQUlORVJfQ0hBTkdFX19FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoU3RhdGVcclxuICAgICAgICApO1xyXG4gICAgICAgIC8vdGltZXJIZWxwZXIuY2xlYXJJbnRlcnZhbCgpO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgbWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NQU5EQVRPUllfTUVTU0FHRV9WQUxJREFUSU9OX1BPUFVQX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1hbmRhdG9yeU1lc3NhZ2VWYWxpZGF0aW9uUG9wdXBWaXNpYmlsaXR5XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlVQREFURV9NRVNTQUdFX1BSSU9SSVRZX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VQcmlvcml0eVVwZGF0ZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLldPUktMSVNUX01BUktJTkdfTU9ERV9DSEFOR0UsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5XHJcbiAgICAgICAgKTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuV09SS0xJU1RfTUFSS0lOR19NT0RFX0NIQU5HRSxcclxuICAgICAgICAgICAgdGhpcy5yZXNldEJ1c3lJbmRpY2F0b3JcclxuICAgICAgICApO1xyXG4gICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuV29ya0xpc3RTdG9yZS5OT19NQVJLSU5HX0NIRUNLX0FWQUlMQUJMRV9NRVNTQUdFLFxyXG4gICAgICAgICAgICB0aGlzLnNob3dOb01hcmtpbmdDaGVja0F2YWlsYWJsZU1lc3NhZ2VcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5PUEVOX1RFQU1fTUFOQUdFTUVOVF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vblRlYW1NYW5hZ2VtZW50T3BlblxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLk1ZX1RFQU1fREFUQV9MT0FERURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuaXNBdXRvem9uZWRNZXNzYWdlUG9wdXBWaXNpYmxlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuVEVBTV9FWENFUFRJT05TX0RBVEFfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLkhFTFBfRVhBTUlORVJTX0RBVEFfUkVDRUlWRUQsXHJcbiAgICAgICAgICAgIHRoaXMuaXNBdXRvem9uZWRNZXNzYWdlUG9wdXBWaXNpYmxlXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuQUREX1RPX0hJU1RPUllfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5XHJcbiAgICAgICAgKTtcclxuICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLldvcmtMaXN0U3RvcmUuTUFSS0lOR19DSEVDS19DT01QTEVURV9CVVRUT05fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMubWFya0NoZWNrQ29tcGxldGVCdXR0b25FdmVudFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLk1BUktJTkdfQ0hFQ0tfQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm1hcmtDaGVja0NvbXBsZXRlZEV2ZW50XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuU0FNUExJTkdfU1RBVFVTX0NIQU5HRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuU2hvd1N1cGVydmlzb3JTYW1wbGluZ0NvbW1lbnRWYWxpZGF0aW9uUG9wdXBcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5FWEFNSU5FUl9EUklMTF9ET1dOX0RBVEFfVVBEQVRFRCxcclxuICAgICAgICAgICAgdGhpcy5hZGRUb1JlY2VudEhpc3RvcnlcclxuICAgICAgICApO1xyXG4gICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHRlYW1NYW5hZ2VtZW50U3RvcmUuVGVhbU1hbmFnZW1lbnRTdG9yZS5GQUlMVVJFX1dISUxFX0ZFVENISU5HX1RFQU1fREFUQV9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvck5hdmlnYXRpb25UZWFtTWFuYWdlbWVudFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLk1ZX1RFQU1fREFUQV9MT0FERURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLlRlYW1NYW5hZ2VtZW50U3RvcmUuVEVBTV9FWENFUFRJT05TX0RBVEFfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QnVzeUluZGljYXRvclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRTdG9yZS5UZWFtTWFuYWdlbWVudFN0b3JlLkhFTFBfRVhBTUlORVJTX0RBVEFfUkVDRUlWRUQsXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRCdXN5SW5kaWNhdG9yXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0hPV19MT0NLU19JTl9RSUdfUE9QVVAsXHJcbiAgICAgICAgICAgIHRoaXMub25TaG93TG9ja3NJblFpZ3NQb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlFJR19TRUxFQ1RFRF9GUk9NX0xPQ0tFRF9MSVNULFxyXG4gICAgICAgICAgICB0aGlzLm9uUWlnU2VsZWN0ZWRGcm9tTG9ja2VkTGlzdFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlFJR19TRUxFQ1RFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvUWlnRnJvbUxvY2tlZExpc3RcclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5MT0NLU19JTl9RSUdfREFUQV9SRVRSSUVWRUQsXHJcbiAgICAgICAgICAgIHRoaXMuZG9Mb2dvdXRQb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlJFU1BPTlNFX0RBVEFfUkVDRUlWRURfRkFJTEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2VEYXRhUmVjZWl2ZWRGYWlsZWRcclxuICAgICAgICApO1xyXG4gICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5TdWJtaXRTdG9yZS5TSE9XX1NJTVVMQVRJT05fUkVTUE9OU0VfU1VCTUlUX0NPTkZJUk1BVElPTl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5vbnNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5Xb3JrTGlzdFN0b3JlLlNUQU5EQVJESVNBVElPTl9TRVRVUF9DT01QTEVURURfSU5fQkFDS0dST1VORCxcclxuICAgICAgICAgICAgdGhpcy5vblN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGlvbkluQmFja2dyb3VuZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlNJTVVMQVRJT05fRVhJVEVEX1FJR1NfQU5EX0xPQ0tTX0lOX1FJR1NfUkVUUklFVkVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU2ltdWxhdGlvbkV4aXRlZFFpZ3NBbmRMb2Nrc0luUWlnc1JlY2lldmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0lNVUxBVElPTl9UQVJHRVRfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLm9uU2ltdWxhdGlvblRhcmdldENvbXBsZXRpb25cclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5TVEFOREFSRElTQVRJT05fU0VUVVBfQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uU3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0aW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0lNVUxBVElPTl9FWElURURfUUlHU19SRVRSSUVWRUQsXHJcbiAgICAgICAgICAgIHRoaXMub25TaW11bGF0aW9uRXhpdGVkUWlnc1JlY2lldmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjY1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBjY1N0b3JlLkNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc1N0b3JlLkVYQU1fQk9EWV9DQ19HRVQsXHJcbiAgICAgICAgICAgIHRoaXMub25FeGFtQm9keUNDTG9hZGVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBlY291cnNld29ya0ZpbGVTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgZWNvdXJzZXdvcmtGaWxlU3RvcmUuRUNvdXJzZVdvcmtGaWxlU3RvcmUuRUNPVVJTRVdPUktfRklMRV9EQVRBX0NMRUFSRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25FY291cnNld29ya0ZpbGVEYXRhQ2xlYXJlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLlFpZ1N0b3JlLlNBVkVfQUNFVEFURVNfREFUQV9BQ1RJT05fQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QWNldGF0ZVNhdmVJblByb2dyZXNzU3RhdHVzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuU0hBUkVfQ09ORklSTUFUSU9OX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnNoYXJlQ29uZmlybWF0aW9uUG9wdXBcclxuICAgICAgICApO1xyXG4gICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5RaWdTdG9yZS5SRVNFVF9TSEFSRURfQUNFVEFURVNfQ09NUExFVEVELFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QWNldGF0ZVNhdmVJblByb2dyZXNzU3RhdHVzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgcWlnU3RvcmUuUWlnU3RvcmUuUkVTRVRfQUNFVEFURV9TQVZFX0lOX1BST0dSRVNTX1NUQVRVU19DT01QTEVURUQsXHJcbiAgICAgICAgICAgIHRoaXMub25SZXNldEFjZXRhdGVzU2F2ZUluUHJvZ3Jlc3NSZWNlaXZlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGFyZ2V0U3VtbWFyeVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICB0YXJnZXRTdW1tYXJ5U3RvcmUuVGFyZ2V0U3VtbWFyeVN0b3JlLldPUktMSVNUX0lOSVRJQUxJU0FUSU9OX0NPTVBMRVRFRCxcclxuICAgICAgICAgICAgdGhpcy5pc0F1dG96b25lZE1lc3NhZ2VQb3B1cFZpc2libGVcclxuICAgICAgICApO1xyXG4gICAgICAgIGltYWdlWm9uZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBpbWFnZVpvbmVTdG9yZS5JbWFnZVpvbmVTdG9yZS5FQk9PS19JTUFHRVpPTkVfTE9BREVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlXHJcbiAgICAgICAgICAgICAgICAuUE9QVVBfT1BFTl9TRUxFQ1RfVE9fTUFSS19CVVRUT05fRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3RTdGRTZXR1cFJlc3BvbnNlVG9NYXJrXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5TVEFOREFSRElTQVRJT05fUklHX0NSRUFURURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25TdGFuZGFyZGlzYXRpb25SaWdDcmVhdGVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5DT01QTEVURV9TVEFOREFSRElTQVRJT05fU0VUVVBfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZVN0YW5kYXJkaXNhdGlvblNldHVwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5HRVRfU1RBTkRBUkRJU0FUSU9OX1RBUkdFVF9ERVRBSUxTX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0QnVzeUluZGljYXRvclN0ZFNldHVwTm90Q29tcGxldGVcclxuICAgICAgICApO1xyXG4gICAgICAgIHVzZXJpbmZvc3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHVzZXJpbmZvc3RvcmUuVXNlckluZm9TdG9yZS5TV0lUQ0hfVVNFUl9CVVRUT05fQ0xJQ0ssXHJcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVXNlckJ1dHRvbkNsaWNrXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmVcclxuICAgICAgICAgICAgICAgIC5TVEFOREFSRElTQVRJT05fUkVTUE9OU0VfREFUQV9VUERBVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2VEYXRhUmVjaWV2ZWRBZnRlclJlZnJlc2hcclxuICAgICAgICApO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLkdFVF9TVEFOREFSRElTQVRJT05fQ0VOVFJFX0RFVEFJTFNfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25SZXNwb25zZURhdGFSZWNpZXZlZEFmdGVyUmVmcmVzaFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlXHJcbiAgICAgICAgICAgICAgICAuTVVMVElfT1BUSU9OX1BPUFVQX09QRU5fUkVDTEFTU0lGWV9QT1BVUF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZWNsYXNzaWZ5TXVsdGlPcHRpb25Qb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TVEFOREFSRElTQVRJT05fU0VUVVBfTEVGVF9QQU5FTF9TRUxFQ1RfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9SZWNlbnRIaXN0b3J5KTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuUE9QVVBfT1BFTl9SRUNMQVNTSUZZX1BPUFVQX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlY2xhc3NpZnlQb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLlBPUFVQX09QRU5fUkVDTEFTU0lGWV9FUlJPUl9QT1BVUF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZWNsYXNzaWZ5RXJyb3JQb3B1cE9wZW4pO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgLkNPTkNVUlJFTlRfU0FWRV9GQUlMX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmNvbmN1cnJlbnRTYXZlRmFpbFBvcHVwKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuQ0xBU1NJRllfUkVTUE9OU0VfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVSZW5kZXJVbmNsYXNzaWZpZWRXb3JrbGlzdCk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlNBVkVfTk9URV9DT01QTEVURURfQUNUSU9OX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlOb3RlU2F2ZUZhaWxlZFBvcHVwKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuUkVDTEFTU0lGSUVEX1JFU1BPTlNFX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJlUmVuZGVyT25DbGFzc2lmaWVkUmVzcG9uc2VSZWNlaXZlZCk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLkRFQ0xBU1NJRllfUkVTUE9OU0VfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMucmVSZW5kZXJPbkNsYXNzaWZpZWRSZXNwb25zZVJlY2VpdmVkKTtcclxuICAgICAgICByZXNwb25zZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICByZXNwb25zZVN0b3JlLlJlc3BvbnNlU3RvcmUuUklHX05PVF9GT1VORF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5zaG93T3JIaWRlUmlnTm90Rm91bmRQb3B1cCk7XHJcbiAgICAgICAgdXNlcmluZm9zdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcih1c2VyaW5mb3N0b3JlLlVzZXJJbmZvU3RvcmUuVVNFUklORk9fU0FWRSwgdGhpcy51c2VySW5mb1NhdmVkKTtcclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU1RBTkRBUkRJU0FUSU9OX1NIQVJFX1JFU1BPTlNFX1BPUFVQX0RJU1BMQVksXHJcbiAgICAgICAgICAgIHRoaXMuc2hhcmVSZXNwb25zZVBvcHVwT3Blbik7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlJFVVNFX1JJR19QT1BVUF9ESVNQTEFZX0FDVElPTl9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5yZXVzZVJpZ0FjdGlvblBvcHVwT3Blbik7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5TdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLlJFVVNFX1JJR19BQ1RJT05fQ09NUExFVEVEX0VWRU5ULFxyXG4gICAgICAgICAgICB0aGlzLnJldXNlUmlnQWN0aW9uQ29tcGxldGVkRXZlbnQpO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuU3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5SRVNQT05TRV9BTFJFQURZX0RJU0NBUkRFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5kaXNjYXJkUmVzcG9uc2VGYWlsUG9wdXApO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRmlyZXMgYWZ0ZXIgZW1haWwgc2F2ZVxyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSB1c2VySW5mb1NhdmVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc1NhdmVFbWFpbE1lc3NhZ2VEaXNwbGF5aW5nOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuXHQvKipcclxuXHQgKiBFbWFpbCBzYXZlIHN1Y2Nlc3MgbWVzc2FnZSBvayBjbGlja1xyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSBvbk9rQ2xpY2tPZkVtYWlsU3VjZXNzTWVzc2FnZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNTYXZlRW1haWxNZXNzYWdlRGlzcGxheWluZzogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBiZSBpbnZva2VkIHdoZW4gYSBFeGFtQm9keSBDQyBpcyBsb2FkZWQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25FeGFtQm9keUNDTG9hZGVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIHNob3cgbG9ja3MgYW5kIHNpbXVsYXRpb24gZXhpdGVkIHBvcHVwIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHNob3duIGFuZCBleGFtYm9keWNjIGlzIGxvYWRlZFxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICByZVJlbmRlckxvY2tzSW5RaWdQb3BVcDpcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucmVSZW5kZXJMb2Nrc0luUWlnUG9wVXAgJiYgY2NTdG9yZS5pbnN0YW5jZS5pc0V4YW1Cb2R5Q0NMb2FkZWQsXHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIHNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXA6IHRoaXMuc3RhdGUuc2hvd1NpbXVsYXRpb25FeGl0ZWRQb3B1cCAmJiBjY1N0b3JlLmluc3RhbmNlLmlzRXhhbUJvZHlDQ0xvYWRlZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIE1hcmtlciBpbmZvcm1hdGlvbiBwYW5lbC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVNYXJrZXJJbmZvcm1hdGlvblBhbmVsID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIHRoZSBNYXJrZXIgZ290IHdpdGggZHJhd24gZnJvbSB0aGUgUUlHLCBJZiBTbyBzaG93IHRoZSBtZXNzYWdlXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBleGFtaW5lclN0b3JlLmluc3RhbmNlLmdldE1hcmtlckluZm9ybWF0aW9uLmFwcHJvdmFsU3RhdHVzID09PVxyXG4gICAgICAgICAgICBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLldpdGhkcmF3blxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAocWlnU3RvcmUuaW5zdGFuY2UuZ2V0T3ZlcnZpZXdEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFFpZyA9IHFpZ1N0b3JlLmluc3RhbmNlLmdldE92ZXJ2aWV3RGF0YS5xaWdTdW1tYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICAocWlnOiBxaWdJbmZvKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBxaWcuZXhhbWluZXJSb2xlSWQgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YW1pbmVyU3RvcmUuaW5zdGFuY2UuZ2V0TWFya2VySW5mb3JtYXRpb24uZXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpcnN0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZpbmcgZW50cnkgZnJvbSByZWNlbnQgaGlzdG9yeVxyXG4gICAgICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yLnJlbW92ZUhpc3RvcnlJdGVtKFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRRaWcgPyBjdXJyZW50UWlnLm1hcmtTY2hlbWVHcm91cElkIDogMFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNXaXRoZHJhd25SZXNwb25zZUVycm9yOiB0cnVlLCBpc0J1c3k6IGZhbHNlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHFpZyBzZWxlY3RvciBpZiB0aGUgZXhhbWluZXIgc2Vzc2lvbiBpcyBjbG9zZWQgZm9yIHRoZSBxaWcuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdXBkYXRlUWlnRm9yU2Vzc2lvbkNsb3NlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIHRoZSBNYXJrZXIgZ290IHdpdGggZHJhd24gZnJvbSB0aGUgUUlHLCBJZiBTbyBzaG93IHRoZSBtZXNzYWdlXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzUWlnc2Vzc2lvbkNsb3NlZEVycm9yOiB0cnVlLCBpc0J1c3k6IGZhbHNlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIHJlc3BvbnNlIHN1Ym1pc3Npb24gc3RhcnRlZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU3VibWl0UmVzcG9uc2VTdGFydGVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGZvciBzdWJtaXQgYWxsIHRoZSBtYXJrZ3JvdXAgaWQgd2lsbCBhbHdheXMgYmUgemVyb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zdWJtaXRDb25maXJtYXRpb25EaWFsb2d1ZUNvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3Quc3VibWl0LXJlc3BvbnNlLWRpYWxvZy5ib2R5J1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLnN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlSGVhZGVyID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1yZXNwb25zZS1kaWFsb2cuaGVhZGVyJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1hbGwtcmVzcG9uc2VzLWRpYWxvZy5ib2R5J1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLnN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlSGVhZGVyID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1hbGwtcmVzcG9uc2VzLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldENvbmZpcm1hdGlvbkRpYWxvZ3VlU3RhdGUodHJ1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBjb25maXJtYXRpb24gZGlhbG9ndWUgc3RhdGVcclxuICAgICAqIEBwYXJhbSBzdGF0ZVZhbHVlIFRoZSBzdGF0ZSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldENvbmZpcm1hdGlvbkRpYWxvZ3VlU3RhdGUoc3RhdGVWYWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc1N1Ym1pdENvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZzogc3RhdGVWYWx1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24geWVzIGNsaWNrIG9mIHN1Ym1pdCByZXNwb25zZSBjb25maXJtYXRpb24gcG9wIHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25ZZXNDbGlja09mU3VibWl0QnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29uZmlybWF0aW9uRGlhbG9ndWVTdGF0ZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zdWJtaXRSZXNwb25zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc3VibWl0IHJlc3BvbnNlL3NcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdWJtaXRSZXNwb25zZSgpIHtcclxuICAgICAgICBsZXQgYnVzeUluZGljYXRvckludm9rZXI6IGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyO1xyXG4gICAgICAgIGxldCBzdWJtaXRSZXNwb25zZUFyZ3VtZW50OiBTdWJtaXRSZXNwb25zZUFyZ3VtZW50O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGlmIG1hcmtncm91cGlkIGlzIGdyZWF0ZXIgdGhhbiB6ZXJvLCB0aGVuIGl0cyBzaW5nbGUgcmVzcG9uc2Ugc3VibWl0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYnVzeUluZGljYXRvckludm9rZXIgPVxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRNYXJrR3JvdXBJZCA+IDBcclxuICAgICAgICAgICAgICAgID8gZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuc3VibWl0XHJcbiAgICAgICAgICAgICAgICA6IGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLnN1Ym1pdEFsbDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTaG93IGJ1c3kgaW5kaWNhdG9yIG9uIHN1Ym1pdHRpbmcgcmVzcG9uc2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBidXN5SW5kaWNhdG9yQWN0aW9uQ3JlYXRvci5zZXRCdXN5SW5kaWNhdG9ySW52b2tlcihidXN5SW5kaWNhdG9ySW52b2tlcik7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3VibWl0dGluZyAgcmVzcG9uc2VzIGluaXRpYXRlZFxyXG4gICAgICAgICAqIFNlbGVjdCB0aGUgbWFyayBncm91cCBsaXN0IGJhc2VkIG9uIHRoZSBjdXJyZW50IHJlc3BvbnNlIG1vZGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBsZXQgbWFya0dyb3VwSWRMaXN0OiBBcnJheTxcclxuICAgICAgICAgICAgTnVtYmVyXHJcbiAgICAgICAgICAgID4gPSB3b3JrbGlzdENvbXBvbmVudEhlbHBlci5nZXRNYXJrZ3JvdXBJZENvbGxlY3Rpb25Gb3JTdWJtaXQoXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRIZWxwZXIuZ2V0U2VsZWN0ZWRRaWdNYXJraW5nTW9kZSgpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgbGV0IHFpZ2xpc3Q6IEltbXV0YWJsZS5JdGVyYWJsZTxudW1iZXIsIHFpZ1N1bW1hcnk+ID0gcWlnU3RvcmUuaW5zdGFuY2UucmVsYXRlZFFpZ0xpc3Q7XHJcbiAgICAgICAgbGV0IGV4YW1pbmVyUm9sZUlkTGlzdDogQXJyYXk8bnVtYmVyPiA9IG5ldyBBcnJheTxudW1iZXI+KCk7XHJcbiAgICAgICAgcWlnbGlzdFxyXG4gICAgICAgICAgICA/IHFpZ2xpc3QubWFwKCh4OiBxaWdTdW1tYXJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBleGFtaW5lclJvbGVJZExpc3QucHVzaCh4LmV4YW1pbmVyUm9sZUlkKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgOiAoZXhhbWluZXJSb2xlSWRMaXN0ID0gbnVsbCk7XHJcbiAgICAgICAgbGV0IG1hcmtTY2hlbWVHcm91cElkczogQXJyYXk8bnVtYmVyPiA9IG5ldyBBcnJheTxudW1iZXI+KCk7XHJcbiAgICAgICAgcWlnbGlzdFxyXG4gICAgICAgICAgICA/IHFpZ2xpc3QubWFwKCh4OiBxaWdTdW1tYXJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZHMucHVzaCh4Lm1hcmtTY2hlbWVHcm91cElkKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgOiAobWFya1NjaGVtZUdyb3VwSWRzID0gbnVsbCk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogbWFwcGluZyAgdmFsdWVzIG9uIHN1Ym1pdCBhcmd1bWVudFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHN1Ym1pdFJlc3BvbnNlQXJndW1lbnQgPSB7XHJcbiAgICAgICAgICAgIG1hcmtHcm91cElkczogbWFya0dyb3VwSWRMaXN0LFxyXG4gICAgICAgICAgICBtYXJraW5nTW9kZTogdGFyZ2V0SGVscGVyLmdldFNlbGVjdGVkUWlnTWFya2luZ01vZGUoKSxcclxuICAgICAgICAgICAgZXhhbWluZXJSb2xlSWQ6IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgIGV4YW1pbmVyQXBwcm92YWw6IGV4YW1pbmVyU3RvcmUuaW5zdGFuY2UuZ2V0TWFya2VySW5mb3JtYXRpb24uYXBwcm92YWxTdGF0dXMsXHJcbiAgICAgICAgICAgIGlzQWRtaW5SZW1hcmtlcjogbG9naW5TdG9yZS5pbnN0YW5jZS5pc0FkbWluUmVtYXJrZXJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgd29ya2xpc3RUeXBlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlO1xyXG4gICAgICAgIGxldCByZW1hcmtSZXF1ZXN0VHlwZTogZW51bXMuUmVtYXJrUmVxdWVzdFR5cGUgPSB3b3JrbGlzdENvbXBvbmVudEhlbHBlci5nZXRSZW1hcmtSZXF1ZXN0VHlwZShcclxuICAgICAgICAgICAgd29ya2xpc3RUeXBlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogY2FsbGluZyB0byBzZW5kIGRhdGEgdG8gc2VydmVyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbGV0IGRpc3BsYXlJZCA9IHN1Ym1pdFN0b3JlLmluc3RhbmNlLmlzU3VibWl0RnJvbU1hcmtTY2hlbWVcclxuICAgICAgICAgICAgPyByZXNwb25zZVN0b3JlLmluc3RhbmNlLnNlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgc3VibWl0QWN0aW9uQ3JlYXRvci5zdWJtaXRSZXNwb25zZShcclxuICAgICAgICAgICAgc3VibWl0UmVzcG9uc2VBcmd1bWVudCxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgIHdvcmtsaXN0VHlwZSxcclxuICAgICAgICAgICAgcmVtYXJrUmVxdWVzdFR5cGUsXHJcbiAgICAgICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmlzU3VibWl0RnJvbU1hcmtTY2hlbWUsXHJcbiAgICAgICAgICAgIGRpc3BsYXlJZCxcclxuICAgICAgICAgICAgZXhhbWluZXJSb2xlSWRMaXN0LFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZHNcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gbm8gY2xpY2sgb2Ygc3VibWl0IHJlc3BvbnNlIGNvbmZpcm1hdGlvbiBwb3AgdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk5vQ2xpY2tPZlN1Ym1pdEJ1dHRvbigpIHtcclxuICAgICAgICB0aGlzLnNldENvbmZpcm1hdGlvbkRpYWxvZ3VlU3RhdGUoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBidXN5IGluZGljYXRvciB3aGVuIHN1Ym1pdCBpcyBjbGlja2VkIGluIGxpdmUgb3BlbiB3b3JrbGlzdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldEJ1c3lJbmRpY2F0b3IgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzQnVzeTpcclxuICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JTdG9yZS5pbnN0YW5jZS5nZXRCdXN5SW5kaWNhdG9ySW52b2tlciA9PT1cclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5CdXN5SW5kaWNhdG9ySW52b2tlci5ub25lXHJcbiAgICAgICAgICAgICAgICAgICAgPyBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGhpZGluZyBidXN5IGluZGljYXRvclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlc2V0QnVzeUluZGljYXRvciA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNCdXN5OlxyXG4gICAgICAgICAgICAgICAgYnVzeUluZGljYXRvclN0b3JlLmluc3RhbmNlLmdldEJ1c3lJbmRpY2F0b3JJbnZva2VyICE9PVxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLm5vbmVcclxuICAgICAgICAgICAgICAgICAgICA/IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGlkaW5nIGJ1c3kgaW5kaWNhdG9yIG9uIG9rIGNsaWNrIG9mIHZhbGlkYXRpb24gb2Ygc3RkIHNldHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVzZXRCdXN5SW5kaWNhdG9yU3RkU2V0dXBOb3RDb21wbGV0ZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5pc2NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uU3VjY2VzcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpc0J1c3k6XHJcbiAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvclN0b3JlLmluc3RhbmNlLmdldEJ1c3lJbmRpY2F0b3JJbnZva2VyID09PVxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLm5vbmVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hcmtzIHJldHJpZXZhbCBldmVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBtYXJrc1JldHJpZXZlZCA9IChtYXJrR3JvdXBJZDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAobWFya2luZ1N0b3JlLmluc3RhbmNlLmN1cnJlbnRSZXNwb25zZU1vZGUgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuIHx8XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuY3VycmVudFJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcpICYmXHJcbiAgICAgICAgICAgICFtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGxldCBpc0NvbG91clVwZGF0ZWQgPSBjb2xvdXJlZEFubm90YXRpb25zSGVscGVyLnVwZGF0ZUFubm90YXRpb25Db2xvdXJJZk5lZWRlZChcclxuICAgICAgICAgICAgICAgIG1hcmtHcm91cElkXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChpc0NvbG91clVwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0aW5nIHRoZSBxdWV1ZSB0byBsZXQga25vdyB0aGUgYmFja2dyb3VuZCBwcm9jZXNzIHRvIHNhdmUgdGhlIGRpcnR5IG1hcmtzIGFuZCBhbm5vdGF0aW9uc1xyXG4gICAgICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIudXBkYXRlTWFya3NBbmRBbm5vdGF0aW9uc1F1ZXVlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgb24gXCJ5ZXNcIiBjbGljayBvZiBsb2dvdXQgY29uZmlybWF0aW9uIHBvcHVwLiBUaGlzIHdpbGwgdHJpZ2dlciBsb2dvdXQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvblllc0NsaWNrT2ZMb2dvdXRDb25maXJtYXRpb24oaXNBdXRvTG9nT3V0OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXR0aW5nIHRvIHRydWUgYXMgdGhlIGxvZ291dCBoYXMgYmVlbiB0cmlnZ2VyZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9vbkxvZ291dFRyaWdnZXJlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHRpbmcgdGhlIHZhbHVlIHRvIGlkZW50aWZ5IHdoZXRoZXIgaXQgaXMgZnJvbSBpZGxlIHRpbWVvdXRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9pc0F1dG9Mb2dPdXQgPSBpc0F1dG9Mb2dPdXQ7XHJcblxyXG4gICAgICAgIHN3aXRjaCAobmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5QYWdlQ29udGFpbmVycy5RaWdTZWxlY3RvcjpcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5QYWdlQ29udGFpbmVycy5NZXNzYWdlOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlBhZ2VDb250YWluZXJzLlJlcG9ydHM6XHJcbiAgICAgICAgICAgICAgICBsZXQgX3JlbWVtYmVyUWlnOiByZW1lbWJlclFpZyA9IG5ldyByZW1lbWJlclFpZygpO1xyXG4gICAgICAgICAgICAgICAgX3JlbWVtYmVyUWlnLnFpZ0lkID0gMDtcclxuICAgICAgICAgICAgICAgIF9yZW1lbWJlclFpZy5hcmVhID0gZW51bXMuUWlnQXJlYS5RaWdTZWxlY3RvcjtcclxuICAgICAgICAgICAgICAgIHVzZXJPcHRpb25zSGVscGVyLnNhdmUoXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlck9wdGlvbktleXMuUkVNRU1CRVJfUFJFVklPVVNfUUlHLFxyXG4gICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KF9yZW1lbWJlclFpZylcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNhdmluZyBjaGFuZ2VkIHVzZXIgb3B0aW9ucyBpZiBhbnkgb2YgdGhlbSBjaGFuZ2VkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKHVzZXJPcHRpb25zSGVscGVyLmhhc1VzZXJPcHRpb25zQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICB1c2VyT3B0aW9uc0hlbHBlci5Jbml0aWF0ZVNhdmVVc2VyT3B0aW9uKHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXNlclNlc3Npb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0byB1cGRhdGUgbWVzc2FnZSBwcmlvcml0eVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uT2tDbGlja01hbmRhdG9yeU1lc3NhZ2VWYWxpZGF0aW9uUG9wdXAoKSB7XHJcbiAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci51cGRhdGVNZXNzYWdlUHJpb3JpdHkoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSBzZWxlY3RlZCBzdGFuZGFyZGlzYXRpb24gdGFiIGlzIHVuY2xhc3NpZmllZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzVW5jbGFzc2lmaWVkV29ya2xpc3RTZWxlY3RlZCgpIHtcclxuICAgICAgICByZXR1cm4gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3QgPT09IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlVuQ2xhc3NpZmllZFJlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGlkZXMgdGhlIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Qb3B1cE9rQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRvU2hvd1BvcHVwOiBmYWxzZSB9KTtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBoYXMgdGhlIG1hcmsgZ3JvdXAgSWQsIENhbGwgbmF2aWdhdGUgbWV0aG9kIGZvciBjb21wbGV0aW5nIGFjdGlvbnMuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VEZXRhaWxzLnN1Ym1pdHRlZE1hcmtHcm91cElkcyAmJlxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VEZXRhaWxzLnN1Ym1pdHRlZE1hcmtHcm91cElkcy5sZW5ndGggPiAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVBZnRlclN1Ym1pdChcclxuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZURldGFpbHMuc3VibWl0dGVkTWFya0dyb3VwSWRzLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlRGV0YWlscy5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VEZXRhaWxzLmlzRnJvbU1hcmtTY2hlbWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlRGV0YWlscy5zdWJtaXR0ZWRNYXJrR3JvdXBJZHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzaG93cyB0aGUgcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBTaG93U3VwZXJ2aXNvclNhbXBsaW5nQ29tbWVudFZhbGlkYXRpb25Qb3B1cChcclxuICAgICAgICBzdXBlcnZpc29yU2FtcGxpbmdDb21tZW50UmV0dXJuOiBTdXBlcnZpc29yU2FtcGxpbmdDb21tZW50UmV0dXJuXHJcbiAgICApIHtcclxuICAgICAgICBpZiAoc3VwZXJ2aXNvclNhbXBsaW5nQ29tbWVudFJldHVybi5pc1NhbXBsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlRGV0YWlscyA9IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXI6IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RlYW0tbWFuYWdlbWVudC5yZXNwb25zZS5zYW1wbGluZy1lcnJvci1kaWFsb2ctYWxyZWFkeS1zYW1wbGVkLmJvZHknXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZVN0cmluZzogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAndGVhbS1tYW5hZ2VtZW50LnJlc3BvbnNlLnNhbXBsaW5nLWVycm9yLWRpYWxvZy1hbHJlYWR5LXNhbXBsZWQuaGVhZGVyJ1xyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93UG9wdXA6IHRydWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyB0aGUgYWN0aW9uIGV2ZW50IHdoaWxlIG1lc3NhZ2UgcHJpb3JpdHkgdXBkYXRpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWVzc2FnZVByaW9yaXR5VXBkYXRlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkb1Nob3dNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwOiBmYWxzZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiAnTm8nIGNsaWNrIG9mIGxvZ291dCBjb25maXJtYXRpb24gcG9wdXAuVGhpcyB3aWxsIGNhbGwgYSBtZXRob2QgaW4gdGhlIGNvbnRhaW5lci5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk5vQ2xpY2tPZkxvZ291dENvbmZpcm1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLnByb3BzLnJlc2V0TG9nb3V0Q29uZmlybWF0aW9uU2F0dXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdXNlciBzZXNzaW9uIGRhdGEgYnkgY2hhbmdpbmcgdGhlIGxvZ2dlZF9vdXQgc3RhdHVzIHRvIDEuXHJcbiAgICAgKiBsb2dnZWRfb3V0IHN0YXR1cyAxIG1lYW5zIHVzZXIgbG9nZ2VkIG91dCBwcm9wZXJseSBieSBjbGlja2luZyBvbiB0aGVcclxuICAgICAqIGxvZyBvdXQgYnV0dG9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHVwZGF0ZVVzZXJTZXNzaW9uID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRyaWdnZXIgc2F2ZSBtYXJrIGZvciB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGl0ZW0gd2hlbiBsb2dnaW5nIG91dFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChtYXJraW5nU3RvcmUuaW5zdGFuY2UuaXNNYXJraW5nSW5Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICBtYXJraW5nQWN0aW9uQ3JlYXRvci5zYXZlQW5kTmF2aWdhdGUoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvTG9nb3V0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogbmF2aWdhdGluZyBmcm9tIGEgcmVzcG9uc2Ugd2hpY2ggaXMgaW4gdmlldyBtb2RlIGRvZXNuJ3QgcmVxdWlyZSB0byBjYWxsIHNhdmUgbWFya3NcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGxldCBsb2dvdXREYXRhID0gbmV3IGxvZ291dEFyZ3VtZW50KCk7XHJcbiAgICAgICAgICAgIGxvZ291dERhdGEuTWFya2luZ1Nlc3Npb25UcmFja2luZ0lkID0gcGFyc2VJbnQoXHJcbiAgICAgICAgICAgICAgICBsb2dpblNlc3Npb24uTUFSS0lOR19TRVNTSU9OX1RSQUNLSU5HX0lEXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGxvZ291dEFjdGlvbkNyZWF0b3IudXBkYXRlVXNlclNlc3Npb24obG9nb3V0RGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldHRpbmcgbG9naW4gaW52YWxpZCBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbkNvbmN1cnJlbnRTZXNzaW9uQWN0aXZlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNDb25jdXJyZW50U2Vzc2lvbkFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jbGVhclNlc3Npb24oKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgdGhlIHNlc3Npb24gYWZ0ZXIgdXNlciBvcHRpb24gc2F2ZWQgYW5kIGxvZ2dlZF9vdXQgc3RhdHVzIHVwZGF0ZWQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2xlYXJTZXNzaW9uID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBuYXZpZ2F0aW9uSGVscGVyLm9uQmVmb3JlV2luZG93VW5sb2FkKTtcclxuXHJcbiAgICAgICAgLyogdHNsaW50OmRpc2FibGU6bm8tc3RyaW5nLWxpdGVyYWwgKi9cclxuICAgICAgICBpZiAodGhpcy5pc0NvbmN1cnJlbnRTZXNzaW9uQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZVsnaW52YWxpZHVzZXInXSA9ICd0cnVlJztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2lzQXV0b0xvZ091dCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2VbJ2F1dG9sb2dvdXQnXSA9ICd0cnVlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogdHNsaW50OmVuYWJsZTpuby1zdHJpbmctbGl0ZXJhbCAqL1xyXG5cclxuICAgICAgICB1c2VyT3B0aW9uc0hlbHBlci5yZXNldFRva2Vuc0FuZFJlZGlyZWN0KCk7XHJcbiAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkTG9naW5QYWdlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogIGNsZWFyIG1hcmtzIGFuZCBhbm5vdGF0aW9ucyBxdWV1ZSBlbnRyeSBhbmQgdXBkYXRlIGlzRGlydHkgZmllbGRzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyA9IChcclxuICAgICAgICBtYXJrR3JvdXBJZDogbnVtYmVyLFxyXG4gICAgICAgIHNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQ6IGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludCxcclxuICAgICAgICBxdWV1ZU9wZXJhdGlvbjogZW51bXMuTWFya3NBbmRBbm5vdGF0aW9uc1F1ZXVlT3BlcmF0aW9uLFxyXG4gICAgICAgIGlzbmV0d29ya2Vycm9yOiBib29sZWFuXHJcbiAgICApOiB2b2lkID0+IHtcclxuICAgICAgICBsZXQgc2F2ZUVycm9yQ29kZTogZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbkVycm9yQ29kZSA9IG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5nZXRTYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlKFxyXG4gICAgICAgICAgICBtYXJrR3JvdXBJZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24gYmVjb21lIHVuZGVmaW5lZCB3aGVuIHRoZSBtYXJrZXIgaXMgd2l0aGRyYXduIGZyb20gdGhlIHNlbGVjdGVkIHFpZy5cclxuICAgICAgICAvLyBzbyBhZGRlZCB1bmRlZmluZWQgY2hlY2sgYXMgcGFydCBvZiBidWcgNTcyMjYuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbiAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5jdXJyZW50TWFya2luZ1RhcmdldC5tYXJraW5nTW9kZSA9PT1cclxuICAgICAgICAgICAgZW51bXMuTWFya2luZ01vZGUuU2ltdWxhdGlvbiAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5zdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclBvaW50QWZ0ZXJDbG9zZSA9IHNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJQb2ludEFmdGVyQ2xvc2UgPT09XHJcbiAgICAgICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuU3VibWl0XHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyUG9pbnRBZnRlckNsb3NlID1cclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuQ2xvc2VSZXNwb25zZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCA9XHJcbiAgICAgICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuQmFja2dyb3VuZFdvcmtlcjtcclxuICAgICAgICAgICAgc2F2ZUVycm9yQ29kZSA9IGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25FcnJvckNvZGUuTm9uZTtcclxuICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIub25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyhcclxuICAgICAgICAgICAgICAgIG1hcmtHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgZW51bXMuTWFya3NBbmRBbm5vdGF0aW9uc1F1ZXVlT3BlcmF0aW9uLlJlbW92ZVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzaG93U2ltdWxhdGlvbkV4aXRlZFBvcHVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50ICE9PVxyXG4gICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuTm9uZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICAvLyByZXNldCB0aGUgc2F2ZWlucHJvZ3Jlc3MgZmxhZyB3aGVuIHNhdmluZ21hcmtzIGhhcyBiZWVuIGNvbXBsZXRlZFxyXG4gICAgICAgICAgICBtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlci5yZXNldFNhdmVJblByb2dyZXNzKCk7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBzZXQgdGhlIGN1cnJlbnQgbWFya3MgYW5kIGFubm90YXRpb25zIHNhdmUgdHJpZ2dlcmluZyBwb2ludC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQgPSBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50O1xyXG5cclxuICAgICAgICAgICAgaWYgKHNhdmVFcnJvckNvZGUgPT09IGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25FcnJvckNvZGUuUmVzcG9uc2VSZW1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdEFjdGlvbkNyZWF0b3IuZ2V0V29ya2xpc3RNYXJrZXJQcm9ncmVzc0RhdGEoXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGlyZWRNYXJrR3JvdXBJZCA9IG1hcmtHcm91cElkO1xyXG4gICAgICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIub25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyhcclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZU9wZXJhdGlvblxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRGlzcGxheWluZ1Jlc3BvbnNlUmVtb3ZlZEVycm9yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJraW5nU3RvcmUuaW5zdGFuY2UuY3VycmVudFJlc3BvbnNlTW9kZSA9PT0gZW51bXMuUmVzcG9uc2VNb2RlLnBlbmRpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgZG9TaG93U2F2aW5nTWFya3NBbmRBbm5vdGF0aW9uc0luZGljYXRvcjogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNhdmVFcnJvckNvZGUgPT09IGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25FcnJvckNvZGUuQ2xvc2VkUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0QWN0aW9uQ3JlYXRvci5nZXRXb3JrbGlzdE1hcmtlclByb2dyZXNzRGF0YShcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhwaXJlZE1hcmtHcm91cElkID0gbWFya0dyb3VwSWQ7XHJcbiAgICAgICAgICAgICAgICBtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlci5vblNhdmVNYXJrc0FuZEFubm90YXRpb25zKFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlT3BlcmF0aW9uXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNEaXNwbGF5aW5nR3JhY2VSZXNwb25zZUV4cGlyZWRFcnJvcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2luZ1N0b3JlLmluc3RhbmNlLmN1cnJlbnRSZXNwb25zZU1vZGUgPT09IGVudW1zLlJlc3BvbnNlTW9kZS5wZW5kaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3I6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzYXZlRXJyb3JDb2RlID09PSBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlLldpdGhkcmF3blJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIENhbGxpbmcgdGhlIGhlbHBlciBtZXRob2QgdG8gdXBkYXRlIHRoZSBtYXJrcyBhbmQgYW5ub3RhdGlvbnMgcXVldWVcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIub25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyhcclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZU9wZXJhdGlvblxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25XaXRoZHJhd25SZXNwb25zZShcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlLldpdGhkcmF3blJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5uYXZpZ2F0ZVRvXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgc2F2ZUVycm9yQ29kZSA9PT0gZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbkVycm9yQ29kZS5VbmFsbG9jYXRlZFJlc3BvbnNlIHx8XHJcbiAgICAgICAgICAgICAgICBzYXZlRXJyb3JDb2RlID09PSBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlLk1hcmtzQW5kQW5ub3RhdGlvbnNPdXRPZkRhdGVcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIENhbGxpbmcgdGhlIGhlbHBlciBtZXRob2QgdG8gdXBkYXRlIHRoZSBtYXJrcyBhbmQgYW5ub3RhdGlvbnMgcXVldWVcclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIub25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyhcclxuICAgICAgICAgICAgICAgICAgICBtYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZU9wZXJhdGlvblxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCA9PT1cclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuU3VibWl0XHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAgICAgKiBXaGVuIHRoZXJlIGFyZSBlcnJvcnMgaW4gc2F2aW5nIG1hcmtzIGFuZCBhbm5vdGF0aW9ucyB3ZSBoYXZlIHRvIGhpZGUgdGhlIGJ1c3kgaW5kaWNhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgYnVzeUluZGljYXRvckFjdGlvbkNyZWF0b3Iuc2V0QnVzeUluZGljYXRvckludm9rZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLm5vbmVcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9uUmVjb3ZlcmFibGVTYXZlTWFya3NBbmRBbm5vdGF0aW9uc0Vycm9yTWVzc2FnZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5DbG9zZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNXaXRoTm9uUmVjb3ZlcmFibGVFcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQsIG1hcmtHcm91cElkLCBxdWV1ZU9wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGlkZSB0aGUgc2F2aW5nIG1hcmtzIGFuZCBhbm5vdGF0aW9ucyBidXN5IGluZGljYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5kb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkQ29udGFpbmVySWZOZWVkZWQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5QYWdlQ29udGFpbmVycy5Xb3JrTGlzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5DbG9zZVJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGVDb250ZW50UmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNXaXRoTm9uUmVjb3ZlcmFibGVFcnJvcihcclxuICAgICAgICAgICAgICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50LCBtYXJrR3JvdXBJZCwgcXVldWVPcGVyYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNPbmxpbmU6ICFpc25ldHdvcmtlcnJvclxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHNob3cgdGhlIGVycm9yIG1lc3NhZ2Ugd2hlbiBhIG1hcmtlciBpcyB3aXRoZHJhd24gZnJvbSBiYWNrZ3JvdW5kXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25XaXRoZHJhd25SZXNwb25zZSA9IChcclxuICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlOiBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlLFxyXG4gICAgICAgIG5hdmlnYXRpbmdUbzogZW51bXMuU2F2ZUFuZE5hdmlnYXRlXHJcbiAgICApOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLmV4YW1pbmVyQXBwcm92YWxTdGF0dXMgPSBzYXZlTWFya3NBbmRBbm5vdGF0aW9uRXJyb3JDb2RlO1xyXG4gICAgICAgIHRoaXMubmF2aWdhdGVSZXBvbnNlID0gbmF2aWdhdGluZ1RvO1xyXG4gICAgICAgIGxldCBjdXJyZW50UWlnID0gcWlnU3RvcmUuaW5zdGFuY2UuZ2V0T3ZlcnZpZXdEYXRhLnFpZ1N1bW1hcnlcclxuICAgICAgICAgICAgLmZpbHRlcihcclxuICAgICAgICAgICAgKHFpZzogcWlnSW5mbykgPT5cclxuICAgICAgICAgICAgICAgIHFpZy5leGFtaW5lclJvbGVJZCA9PT1cclxuICAgICAgICAgICAgICAgIGV4YW1pbmVyU3RvcmUuaW5zdGFuY2UuZ2V0TWFya2VySW5mb3JtYXRpb24uZXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAuZmlyc3QoKTtcclxuXHJcbiAgICAgICAgLy8gcmVtb3ZlcyBlbnRyeSBmcm9tIHJlY2VudCBoaXN0b3J5XHJcbiAgICAgICAgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yLnJlbW92ZUhpc3RvcnlJdGVtKFxyXG4gICAgICAgICAgICBjdXJyZW50UWlnID8gY3VycmVudFFpZy5tYXJrU2NoZW1lR3JvdXBJZCA6IDBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZG9TaG93U2F2aW5nTWFya3NBbmRBbm5vdGF0aW9uc0luZGljYXRvcjogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzV2l0aGRyYXduUmVzcG9uc2VFcnJvcjogdHJ1ZSxcclxuICAgICAgICAgICAgaXNCdXN5OiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqICBUaGlzIHdpbGwgcmVtb3ZlIHRoZSBpdGVtIGZyb20gbWFya3NBbmRBbm5vdGF0aW9ucyBzYXZlIHByb2Nlc3NpbmcgcXVldWUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TZXRIYXNOb25SZWNvdmVyYWJsZUVycm9yID0gKG1hcmtHcm91cElkOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBoZWxwZXIgbWV0aG9kIHRvIHVwZGF0ZSB0aGUgbWFya3MgYW5kIGFubm90YXRpb25zIHF1ZXVlXHJcbiAgICAgICAgbGV0IHF1ZXVlT3BlcmF0aW9uOiBlbnVtcy5NYXJrc0FuZEFubm90YXRpb25zUXVldWVPcGVyYXRpb24gPVxyXG4gICAgICAgICAgICBlbnVtcy5NYXJrc0FuZEFubm90YXRpb25zUXVldWVPcGVyYXRpb24uUmVtb3ZlO1xyXG4gICAgICAgIG1hcmtzQW5kQW5ub3RhdGlvbnNTYXZlSGVscGVyLm9uU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnMobWFya0dyb3VwSWQsIHF1ZXVlT3BlcmF0aW9uKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gc2hvdyB0aGUgYnVzeSBpbmRpY2F0b3Igb24gdHJpZ2dlcmluZyBzYXZpbmcgb2YgbWFya3MgYW5kIGFubm90YXRpb25zXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1RyaWdnZXJlZCA9IChcclxuICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50OiBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnRcclxuICAgICk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCAhPT1cclxuICAgICAgICAgICAgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50Lk5vbmUgJiZcclxuICAgICAgICAgICAgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCAhPT1cclxuICAgICAgICAgICAgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkJhY2tncm91bmRXb3JrZXJcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHbyB0byBsb2dvdXQgYWZ0ZXIgc2F2aW5nIG1hcmsgaWYgdGhlcmUgaXMgYW55XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbmF2aWdhdGVBd2F5RnJvbVJlc3BvbnNlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmIChtYXJraW5nU3RvcmUuaW5zdGFuY2UubmF2aWdhdGVUbyA9PT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvTG9nb3V0KSB7XHJcbiAgICAgICAgICAgIGxldCBsb2dvdXREYXRhID0gbmV3IGxvZ291dEFyZ3VtZW50KCk7XHJcbiAgICAgICAgICAgIGxvZ291dERhdGEuTWFya2luZ1Nlc3Npb25UcmFja2luZ0lkID0gcGFyc2VJbnQoXHJcbiAgICAgICAgICAgICAgICBsb2dpblNlc3Npb24uTUFSS0lOR19TRVNTSU9OX1RSQUNLSU5HX0lEXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGxvZ291dEFjdGlvbkNyZWF0b3IudXBkYXRlVXNlclNlc3Npb24obG9nb3V0RGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcmVzZXQgbWFyayBlbnRyeSBkZWFjdGl2YXRvcnMgb24gbmF2aWdhdGluZyBhd2F5IGZyb20gcmVzcG9uc2UuXHJcbiAgICAgICAgICAgIGtleURvd25IZWxwZXIuaW5zdGFuY2UucmVzZXRNYXJrRW50cnlEZWFjdGl2YXRvcnMoKTtcclxuICAgICAgICAgICAgLy8gd2UgYXJlIGRlYWN0aXZhdGluZyB0aGUga2V5ZG93biBoZWxwZXIgd2hpbGUgbWVzc2FnZSBwYW5lbCBvciBleGNlcHRpb24gcGFuZWwgaXMgb3Blbi4gV2UgYXJlIGRpc2FibGluZyB0aGF0XHJcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgY29ycmVzcG9uZGluZyBwYW5lbCBpcyBjbG9zZS4gSWYgdXNlciBpcyBuYXZpZ2F0ZSBhd2F5IGZyb20gcmVzcG9uc2Ugc2NyZWVuIHdpdGhvdXQgY2xvc2luZyB0aGUgbWVzc2FnZSBwYW5lbFxyXG4gICAgICAgICAgICAvLyB0aGVuIHdlJ3ZlIHRvIGFjdGl2YXRlIHRoZSBrZXlkb3duIGhlbHBlclxyXG4gICAgICAgICAgICBpZiAobWVzc2FnZVN0b3JlLmluc3RhbmNlLmlzTWVzc2FnZVBhbmVsVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAga2V5RG93bkhlbHBlci5pbnN0YW5jZS5EZUFjdGl2YXRlKGVudW1zLk1hcmtFbnRyeURlYWN0aXZhdG9yLk1lc3NhZ2luZyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhjZXB0aW9uU3RvcmUuaW5zdGFuY2UuaXNFeGNlcHRpb25QYW5lbFZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIGtleURvd25IZWxwZXIuaW5zdGFuY2UuRGVBY3RpdmF0ZShlbnVtcy5NYXJrRW50cnlEZWFjdGl2YXRvci5FeGNlcHRpb24pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcmtpbmdTdG9yZS5pbnN0YW5jZS5uYXZpZ2F0ZVRvID09PSBlbnVtcy5TYXZlQW5kTmF2aWdhdGUudG9NZW51KSB7XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nQWN0aW9uQ3JlYXRvci5yZW1vdmVNYXJrRW50cnlTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIGtleURvd25IZWxwZXIuaW5zdGFuY2UuRGVBY3RpdmF0ZShlbnVtcy5NYXJrRW50cnlEZWFjdGl2YXRvci5NZW51KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvcHlNYXJrc0FzRGVmaW5pdGl2ZVNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIHNob3cgdGhlIGJ1c3kgaW5kaWNhdG9yIG9uIHRyaWdnZXJpbmcgc2F2aW5nIG9mIG1hcmtzIGFuZCBhbm5vdGF0aW9uc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlZnJlc2hTdGF0ZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBzd2l0Y2ggKG5hdmlnYXRpb25TdG9yZS5pbnN0YW5jZS5jb250YWluZXJQYWdlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUGFnZUNvbnRhaW5lcnMuTG9naW46XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyU2Vzc2lvbigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKlxyXG4gICAgICogT24gQWNjZXB0IFF1YWxpdHkgRmVlZGJhY2sgQWN0aW9uIGNvbXBsZXRlZEZcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbkFjY2VwdFF1YWxpdHlGZWVkYmFja0FjdGlvbkNvbXBsZXRlZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBsZXQgcmVzcG9uc2VNb2RlQmFzZWRPblF1YWxpdHlGZWVkYmFjazogZW51bXMuUmVzcG9uc2VNb2RlID0gcXVhbGl0eUZlZWRiYWNrSGVscGVyLmdldFJlc3BvbnNlTW9kZUJhc2VkT25RdWFsaXR5RmVlZGJhY2soKTtcclxuICAgICAgICBpZiAocmVzcG9uc2VNb2RlQmFzZWRPblF1YWxpdHlGZWVkYmFjayAhPT0gZW51bXMuUmVzcG9uc2VNb2RlLmNsb3NlZCkge1xyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VNb2RlID1cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlTW9kZUJhc2VkT25RdWFsaXR5RmVlZGJhY2sgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgID8gcmVzcG9uc2VNb2RlQmFzZWRPblF1YWxpdHlGZWVkYmFja1xyXG4gICAgICAgICAgICAgICAgICAgIDogZW51bXMuUmVzcG9uc2VNb2RlLm9wZW47XHJcbiAgICAgICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgd29ya2xpc3RBY3Rpb25DcmVhdG9yLm5vdGlmeVdvcmtsaXN0VHlwZUNoYW5nZShcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyUGFydElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZW1hcmtSZXF1ZXN0VHlwZSxcclxuICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzRGlyZWN0ZWRSZW1hcmssXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTm9uLVJlY292ZXJhYmxlIG1hcmtzIGFuZCBhbm5vdGF0aW9uIHNhdmUgZXJyb3IgbWVzc2FnZSBvayBjbGlja1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uT2tDbGlja09mTm9uUmVjb3ZlcmFibGVFcnJvck1lc3NhZ2UoKSB7XHJcbiAgICAgICAgLy8gY2xvc2UgdGhlIG5vbi1yZWNvdmVyYWJsZSBlcnJvciBwb3B1cCBvbiBzdWJtaXQgaWYgaXQgaXMgYWxyZWFkeSBvcGVuLlxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm5vblJlY292ZXJhYmxlU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNFcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBub25SZWNvdmVyYWJsZVNhdmVNYXJrc0FuZEFubm90YXRpb25zRXJyb3JNZXNzYWdlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGNsb3NlIHRoZSBub24tcmVjb3ZlcmFibGUgZXJyb3IgcG9wdXAuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNOb25SZWNvdmVyYWJsZUVycm9yUG9wdXBWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgaXNOb25SZWNvdmVyYWJsZUVycm9yUG9wdXBWaXNpYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRoaXMgd2lsbCBjbGVhciB0aGUgbWFya3MgYW5kIGFubm90YXRpb25zIHdpdGggbm9uLXJlY292ZXJhYmxlIGVycm9yIGZyb20gc3RvcmUgY29sbGVjdGlvbi5cclxuICAgICAgICAvLyBUaGlzIHdpbGwgcmVsb2FkIGJ5IGJhY2tncm91bmQgY2FsbCBvciB3aGlsZSBvcGVuaW5nIHRoZSByZXNwb25zZS5cclxuICAgICAgICBtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlci5jbGVhck1hcmtzQW5kQW5ub3RhdGlvbnNGb3JOb25SZWNvdmVyYWJsZUVycm9ycygpO1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwcm9jZXNzQmFzZWRPblNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQgb24gU3VibWl0IHdpbGwgbWFrZSB0aGUgREIgY2FsbC5cclxuICAgICAgICAvLyByZWZyZXNoIGFuZCBuYXZpZ2F0ZSB0byB3b3JrbGlzdCBpZiB0aGVyZSBpcyBhbiBlcnJvci5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQgPT09XHJcbiAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5TdWJtaXRcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkQ29udGFpbmVySWZOZWVkZWQoXHJcbiAgICAgICAgICAgICAgICBlbnVtcy5QYWdlQ29udGFpbmVycy5Xb3JrTGlzdCxcclxuICAgICAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5DbG9zZVJlc3BvbnNlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdGVDb250ZW50UmVmcmVzaCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0Jhc2VkT25TYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50KFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgaGFuZGxlIHRoZSBuYXZpZ2F0aW9uIGJhc2VkIG9uIHRoZSB0cmlnZ2VyaW5nIHBvaW50LlxyXG4gICAgICogQHBhcmFtIHNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnRcclxuICAgICAqIEBwYXJhbSBtYXJrR3JvdXBJZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHByb2Nlc3NCYXNlZE9uU2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludChcclxuICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50OiBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQsXHJcbiAgICAgICAgbWFya0dyb3VwSWQ/OiBudW1iZXJcclxuICAgICkge1xyXG4gICAgICAgIHN3aXRjaCAoc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5DbG9zZVJlc3BvbnNlOlxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkQ29udGFpbmVySWZOZWVkZWQoXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkNsb3NlUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkluYm94OlxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkQ29udGFpbmVySWZOZWVkZWQoXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkluYm94LFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5Mb2dvdXQ6XHJcbiAgICAgICAgICAgICAgICAvKiBUcmlnZ2VyIHNhdmUgbWFyayBmb3IgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBpdGVtIHdoZW4gbG9nZ2luZyBvdXQgKi9cclxuICAgICAgICAgICAgICAgIG1hcmtpbmdBY3Rpb25DcmVhdG9yLnNhdmVBbmROYXZpZ2F0ZShlbnVtcy5TYXZlQW5kTmF2aWdhdGUudG9Mb2dvdXQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LlN1Ym1pdDpcclxuICAgICAgICAgICAgICAgIHN1Ym1pdEhlbHBlci5zYXZlQW5kU3VibWl0UmVzcG9uc2UoXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya0dyb3VwSWQgPyBtYXJrR3JvdXBJZCA6IHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldE1hcmtHcm91cElkXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkNsYXNzaWZ5OlxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIE1hcmtHcm91cFJvd1ZlcnNpb24gYWZ0ZXIgc2F2ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xhc3NpZnlSZXNwb25zZURldGFpbHMuZXNNYXJrR3JvdXBSb3dWZXJzaW9uID0gbWFya2luZ1N0b3JlLmluc3RhbmNlLmdldFVwZGF0ZWRSb3dWZXJzaW9uT25TYXZlQW5kQ2xhc3NpZnk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBjbGFzc2lmeSByZXNwb25zZSBhY3Rpb24gd2l0aCB1cGRhdGVkIE1hcmtHcm91cFJvd1ZlcnNpb25cclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IuY2xhc3NpZnlSZXNwb25zZSh0aGlzLl9jbGFzc2lmeVJlc3BvbnNlRGV0YWlscyxcclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uU3RvcmUuaW5zdGFuY2UuY29udGFpbmVyUGFnZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuU2hhcmVBbmRDbGFzc2lmeTpcclxuICAgICAgICAgICAgICAgIHN1Ym1pdEFjdGlvbkNyZWF0b3Iuc2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuX3NoYXJlUmVzcG9uc2VBcmd1bWVudCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1NoYXJlZEZyb21NYXJrU2NoZW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLmRpc3BsYXlJZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gZ2V0IEdyYWNlIFBlcmlvZCBFeHBpcmVkIE1lc3NhZ2UgQm9keVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRHcmFjZVBlcmlvZEV4cGlyZWRNZXNzYWdlQm9keSgpIHtcclxuICAgICAgICBsZXQgZXJyb3JCb2R5OiBzdHJpbmcgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5zYXZpbmctbWFya3MtZXJyb3ItZGlhbG9nLmJvZHktZ3JhY2UtcGVyaW9kLWV4cGlyZWQtY2hhbmdlcy1ub3Qtc2F2ZWQnXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZXJyb3JCb2R5LnJlcGxhY2UoXHJcbiAgICAgICAgICAgICd7MH0nLFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmRpc3BsYXlJZE9mTWFya0dyb3VwKHRoaXMuZXhwaXJlZE1hcmtHcm91cElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gZ2V0IFJlc3BvbnNlIHJlbW92ZWQgZXJyb3IgZGlhbG9nIE1lc3NhZ2UgQm9keVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSZXNwb25zZVJlbW92ZWRFcnJvckRpYWxvZ01lc3NhZ2VCb2R5KCkge1xyXG4gICAgICAgIGxldCBlcnJvckJvZHk6IHN0cmluZyA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICdtYXJraW5nLnJlc3BvbnNlLnNhdmluZy1tYXJrcy1lcnJvci1kaWFsb2cuYm9keS1yZXNwb25zZS1yZW1vdmVkLWZyb20td29ya2xpc3QnXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZXJyb3JCb2R5LnJlcGxhY2UoXHJcbiAgICAgICAgICAgICd7MH0nLFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmRpc3BsYXlJZE9mTWFya0dyb3VwKHRoaXMuZXhwaXJlZE1hcmtHcm91cElkKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IHJlc3BvbnNlIGluIGdyYWNlIG5vdCBmdWxseSBtYXJrZWQgbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzaG93UmVzcG9uc2VJbkdyYWNlTm90RnVsbHlNYXJrZWRNZXNzYWdlID0gKFxyXG4gICAgICAgIGZhaWx1cmVSZWFzb246IGVudW1zLlJlc3BvbnNlTmF2aWdhdGVGYWlsdXJlUmVhc29uXHJcbiAgICApOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLl9mYWlsdXJlUmVhc29uID0gZmFpbHVyZVJlYXNvbjtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNEaXNwbGF5aW5nR3JhY2VSZXNwb25zZUxlc3N0aGFuMTAwUGVyY2VudGFnZUVycm9yOiB0cnVlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEp1c3QgaGlkZSB0aGUgcmVzcG9uc2UgaW4gZ3JhY2UgbWVzc2FnZSBvbiBvayBjbGljay5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk9rQ2xpY2tPZlJlc3BvbnNlSW5HcmFjZU1lc3NhZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzRGlzcGxheWluZ0dyYWNlUmVzcG9uc2VMZXNzdGhhbjEwMFBlcmNlbnRhZ2VFcnJvcjogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuX2ZhaWx1cmVSZWFzb24gPT09IGVudW1zLlJlc3BvbnNlTmF2aWdhdGVGYWlsdXJlUmVhc29uLkFsbFBhZ2VzTm90QW5ub3RhdGVkSW5HcmFjZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICAvLyBDbG9zaW5nIHRoZSB1c2VyIGluZm9ybWF0aW9uIHBhbmVsLCBpZiB0aGUgcG9wdXAgaXMgdHJpZ2dlcmVkIGR1ZSB0byBsb2dvdXQgYnV0dG9uIGFjdGlvbi5cclxuICAgICAgICAgICAgLy8gbW92aW5nIHRvIGZ1bGwgcmVzcG9uc2Ugdmlldy5cclxuICAgICAgICAgICAgbWFya2luZ0FjdGlvbkNyZWF0b3Iuc2F2ZUFuZE5hdmlnYXRlKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b0Z1bGxSZXNwb25zZXZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLl9mYWlsdXJlUmVhc29uID0gZW51bXMuUmVzcG9uc2VOYXZpZ2F0ZUZhaWx1cmVSZWFzb24uTm9uZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBKdXN0IGhpZGUgdGhlIHJlc3BvbnNlIGluIGdyYWNlIG1lc3NhZ2Ugb24gb2sgY2xpY2suXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Pa0NsaWNrT2ZSZXNwb25zZUluR3JhY2VFeHBpcmVkTWVzc2FnZU9yUmVzcG9uc2VSZW1vdmVkTWVzc2FnZSgpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQgPT09XHJcbiAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5Mb2dvdXRcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVVc2VyU2Vzc2lvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBjbGVhciB0aGUgbWFya3MgYW5kIGFubm90YXRpb25zIHdpdGggbWFyayBzYXZlIGVycm9yc1xyXG4gICAgICAgICAgICAvLyBUaGlzIHdpbGwgcmVsb2FkIGJ5IGJhY2tncm91bmQgY2FsbCBvciB3aGlsZSBvcGVuaW5nIHRoZSByZXNwb25zZS5cclxuICAgICAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIuY2xlYXJNYXJrc0FuZEFubm90YXRpb25zRm9yTWFya1NhdmVFcnJvcnMoKTtcclxuICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkV29ya2xpc3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGVycm9yIG1lc3NhZ2UgdGhhdCBoYXMgdG8gYmUgc2hvd24gd2hpbGUgYSBtYXJrZXIgaXMgd2l0aGRyYXduIGluIHRoZSBiYWNrZ3JvdW5kXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0V2l0aGRyYXduUmVzcG9uc2VFcnJvck1lc3NhZ2UoKSB7XHJcbiAgICAgICAgbGV0IGVycm9yQm9keTogc3RyaW5nID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtYWxsb2NhdGlvbi1lcnJvci1kaWFsb2cucmVzcG9uc2UtYWxsb2NhdGlvbi1lcnJvci13aXRoZHJhd25NYXJrZXInXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZXJyb3JCb2R5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBlcnJvciBtZXNzYWdlIHRoYXQgaGFzIHRvIGJlIHNob3duIHdoaWxlIGEgbWFya2VyIGlzIHdpdGhkcmF3biBpbiB0aGUgYmFja2dyb3VuZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFNlc3Npb25DbG9zZWRFcnJvck1lc3NhZ2UoKSB7XHJcbiAgICAgICAgbGV0IGVycm9yQm9keTogc3RyaW5nID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucmVxdWVzdC1tYXJraW5nLWNoZWNrLWVycm9yLWRpYWxvZy5ib2R5LXNlc3Npb24tY2xvc2VkJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yQm9keTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIGNsaWtpbmcgT2sgYnV0dG9uIG9mIHRoZSByZXNwb25zZSB0cmlnZ2VyIGNsb3NlIHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Pa0NsaWNrT2ZXaXRoRHJhd0Vycm9yTWVzc2FnZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5mb290ZXJUeXBlID09PSBlbnVtcy5Gb290ZXJUeXBlLlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5hdmlnYXRlUmVwb25zZSA9PT0gZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvSW5ib3hNZXNzYWdlUGFnZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzQmFzZWRPblNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LkluYm94XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkTWVzc2FnZVBhZ2UoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCB1cGRhdGVOYXZpZ2F0aW9uUHJvbWlzZSA9IG1hcmtpbmdBY3Rpb25DcmVhdG9yLnVwZGF0ZU5hdmlnYXRpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvUWlnU2VsZWN0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBQcm9taXNlLlByb21pc2UuYWxsKFt1cGRhdGVOYXZpZ2F0aW9uUHJvbWlzZV0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdDogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5wcm9jZXNzQmFzZWRPblNhdmVNYXJrc0FuZEFubm90YXRpb25UcmlnZ2VyaW5nUG9pbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5DbG9zZVJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhhdC5uYXZpZ2F0ZVJlcG9uc2UgPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b0xvZ291dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lm5hdmlnYXRlQXdheUZyb21SZXNwb25zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzV2l0aGRyYXduUmVzcG9uc2VFcnJvcjogZmFsc2UsIGlzQnVzeTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZUFkYXB0ZXJIZWxwZXIuY2xlYXJDYWNoZUJ5S2V5KCdxaWdzZWxlY3RvcicsICdvdmVydmlld2RhdGEnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5nZXRPdmVydmlld0RhdGEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50UWlnID0gcWlnU3RvcmUuaW5zdGFuY2UuZ2V0T3ZlcnZpZXdEYXRhLnFpZ1N1bW1hcnlcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKFxyXG4gICAgICAgICAgICAgICAgICAgIChxaWc6IHFpZ0luZm8pID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFpZy5leGFtaW5lclJvbGVJZCA9PT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhbWluZXJTdG9yZS5pbnN0YW5jZS5nZXRNYXJrZXJJbmZvcm1hdGlvbi5leGFtaW5lclJvbGVJZFxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAuZmlyc3QoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0ZWFtTWFuYWdlbWVudEFjdGlvbkNyZWF0b3IucmVtb3ZlSGlzdG9yeUl0ZW0oXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFFpZyA/IGN1cnJlbnRRaWcubWFya1NjaGVtZUdyb3VwSWQgOiAwXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHFpZ0FjdGlvbkNyZWF0b3IuZ2V0UUlHU2VsZWN0b3JEYXRhKDApO1xyXG4gICAgICAgICAgICBsb2FkQ29udGFpbmVyQWN0aW9uQ3JlYXRvci5sb2FkQ29udGFpbmVyKGVudW1zLlBhZ2VDb250YWluZXJzLlFpZ1NlbGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IG1hbmRhdG9yeSBtZXNzYWdlIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hvd01hbmRhdG9yeU1lc3NhZ2VQb3B1cCA9IChcclxuICAgICAgICBpc1VucmVhZE1hbmRhdG9yeU1lc3NhZ2VQcmVzZW50OiBib29sZWFuLFxyXG4gICAgICAgIHRyaWdnZXJQb2ludDogZW51bXMuVHJpZ2dlclBvaW50XHJcbiAgICApOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoaXNVbnJlYWRNYW5kYXRvcnlNZXNzYWdlUHJlc2VudCkge1xyXG4gICAgICAgICAgICB0aGlzLm1hbmRhdG9yeU1lc3NhZ2VUcmlnZ2VyaW5nUG9pbnQgPSB0cmlnZ2VyUG9pbnQ7XHJcbiAgICAgICAgICAgIHRoaXMub25Qb3BVcERpc3BsYXlFdmVudChcclxuICAgICAgICAgICAgICAgIGVudW1zLlBvcFVwVHlwZS5NYW5kYXRvcnlNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgZW51bXMuUG9wVXBBY3Rpb25UeXBlLlNob3csXHJcbiAgICAgICAgICAgICAgICBudWxsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3BsYXkgdGhlIGNvcnJlc3BvbmRpbmcgcG9wdXBzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Qb3BVcERpc3BsYXlFdmVudCA9IChcclxuICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZSxcclxuICAgICAgICBwb3BVcEFjdGlvblR5cGU6IGVudW1zLlBvcFVwQWN0aW9uVHlwZSxcclxuICAgICAgICBwb3BVcERhdGE6IFBvcFVwRGF0YVxyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5wb3BVcERhdGEgPSBwb3BVcERhdGE7XHJcbiAgICAgICAgaWYgKHBvcFVwQWN0aW9uVHlwZSA9PT0gZW51bXMuUG9wVXBBY3Rpb25UeXBlLlNob3cpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFVwVHlwZTogcG9wVXBUeXBlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGUgZGlmZmVyZW50IHBvcHVwIGFjdGlvbnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBoYW5kbGVQb3BVcEFjdGlvbiA9IChcclxuICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZSxcclxuICAgICAgICBwb3BVcEFjdGlvblR5cGU6IGVudW1zLlBvcFVwQWN0aW9uVHlwZVxyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChwb3BVcEFjdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuU2hvdzpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlBvcFVwQWN0aW9uVHlwZS5ZZXM6XHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIG5hdmlnYXRlZCBmcm9tIG1lc3NhZ2UgcGFuZWwgdGhlIG5hdmlnYXRlIGFjdGlvbiBpcyBjYWxsZWRcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5jYW5OYXZpZ2F0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5jYW5NZXNzYWdlTmF2aWdhdGUodGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLm1lc3NhZ2VBY3Rpb24oZW51bXMuTWVzc2FnZVZpZXdBY3Rpb24uQ2xvc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IHVuZGVmaW5lZCB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9wVXBEaXNwbGF5QWN0aW9uQ3JlYXRvci5wb3BVcERpc3BsYXkoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcFVwVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wVXBBY3Rpb25UeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UubmF2aWdhdGVGcm9tLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7fVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFVwVHlwZTogdW5kZWZpbmVkIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUG9wVXBBY3Rpb25UeXBlLk5vOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHBvcFVwRGlzcGxheUFjdGlvbkNyZWF0b3IucG9wVXBEaXNwbGF5KFxyXG4gICAgICAgICAgICAgICAgICAgIHBvcFVwVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3BVcEFjdGlvblR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLm5hdmlnYXRlRnJvbSxcclxuICAgICAgICAgICAgICAgICAgICB7fVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IHVuZGVmaW5lZCB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlBvcFVwQWN0aW9uVHlwZS5PazpcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBwb3BVcFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5NYW5kYXRvcnlNZXNzYWdlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5mb290ZXJUeXBlICE9PSBlbnVtcy5Gb290ZXJUeXBlLk1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUmVzcG9uc2UgZGlzcGxheWVkIGluIEF0eXBpY2FsIHdvcmtsaXN0IGV2ZW4gYWZ0ZXIgY2hhbmdpbmcgdGhlIHJlc3BvbnNlIHRvICdPbiBob2xkJyBpbiBBSSBJbWFnZSBNYW5hZ2VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zbyBkbyByZWZyZXNoIHdvcmtsaXN0IGNvbnRlbnQgd2hlbiBtYW5kYXRvcnkgbWVzc2FnZSBwb3B1cCBhcHBlYXJzXHJcbiAgICAgICAgICAgICAgICAgICAgLy9UaGlzIHdpbGwgYWZmZWN0IGFsbCByZXNwb25zZSB0eXBlcyBleGNlcHQgbGl2ZS5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2VBZGFwdGVySGVscGVyLmNsZWFyU3RvcmFnZUFyZWEoJ3dvcmtsaXN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVkaXJlY3RpbmcgdG8gaW5ib3ggc2NyZWVuLCBpZiB1c2VyIGN1cnJlbnRseSBub3QgaW4gdGhlIG1lc3NhZ2Ugc2NyZWVuXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkTWVzc2FnZVBhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgcG9wVXBUeXBlID09PSBlbnVtcy5Qb3BVcFR5cGUuTWFuZGF0b3J5TWVzc2FnZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZm9vdGVyVHlwZSA9PT0gZW51bXMuRm9vdGVyVHlwZS5NZXNzYWdlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW5kYXRvcnlNZXNzYWdlVHJpZ2dlcmluZ1BvaW50ICE9PSBlbnVtcy5UcmlnZ2VyUG9pbnQuTWVzc2FnZVN0b3JlXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJlZnJlc2ggaW5ib3ggdGFiIGlmIHdlIGZvdW5kIG1hbmRhdG9yeSBtZXNzYWdlcyBhcmUgYXZhaWxhYmxlIGR1cmluZyBtZXNzYWdlIGxvYWRpbmcgYWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVmcmVzaCB0aGUgaW5ib3ggdGFiIHdpdGggc2VsZWN0ZWQgbWFuZGF0b3J5IG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLnJlZnJlc2hNZXNzYWdlRm9sZGVyKGVudW1zLk1lc3NhZ2VGb2xkZXJUeXBlLkluYm94KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubWFuZGF0b3J5TWVzc2FnZVRyaWdnZXJpbmdQb2ludCA9IGVudW1zLlRyaWdnZXJQb2ludC5Ob25lO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFVwVHlwZTogdW5kZWZpbmVkIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIHJlc3BvbnNlIHN1Ym1pc3Npb24gY29tcGxldGVkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TdWJtaXRSZXNwb25zZUNvbXBsZXRlZCA9IChcclxuICAgICAgICBmcm9tTWFya1NjaGVtZTogYm9vbGVhbixcclxuICAgICAgICBzdWJtaXR0ZWRNYXJrR3JvdXBJZHM6IEFycmF5PG51bWJlcj4sXHJcbiAgICAgICAgc2VsZWN0ZWREaXNwbGF5SWQ6IHN0cmluZ1xyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yRm9yUEUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdWJtaXRNZXNzYWdlRXJyb3JQb3B1cENvbnRlbnQgPSB3b3JrbGlzdENvbXBvbmVudEhlbHBlci5zaG93TWVzc2FnZU9uU3VibWl0UmVzcG9uc2UoXHJcbiAgICAgICAgICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRTdWJtaXR0ZWRSZXNwb25zZXNDb3VudCgpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vdXBkYXRpbmcgcHJvdmlzaW9uYWwgcmVzcG9uc2UgY29sbGVjdGlvbiBhbmQgbmF2aWdhdGluZyBhZnRlciBzaGFyaW5nIFByb3Zpc2lvbmFsIFJlc3BvbnNlXHJcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dTaGFyZUxvYWRpbmdJbmRpY2F0b3IgJiYgZnJvbU1hcmtTY2hlbWUpIHtcclxuICAgICAgICAgICAgbGV0IHN0ZFdvcmtsaXN0VmlldzogZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmlzVG90YWxNYXJrc1ZpZXdTZWxlY3RlZCA/IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld1RvdGFsTWFya3MgOlxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld01hcmtzQnlRdWVzdGlvbjtcclxuICAgICAgICAgICAgbGV0IGlzTmV4dFJlc3BvbnNlQXZhaWxhYmxlID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5pc05leHRSZXNwb25zZUF2YWlsYWJsZShzZWxlY3RlZERpc3BsYXlJZCk7XHJcbiAgICAgICAgICAgIGxldCBuZXh0UmVzcG9uc2VJZCA9XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLm5leHRSZXNwb25zZUlkKHJlc3BvbnNlU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWREaXNwbGF5SWQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGlmIChpc05leHRSZXNwb25zZUF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YSA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZ2V0UmVzcG9uc2VEZXRhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWREaXNwbGF5SWQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHNoYXJlZCByZXNwb25zZSBmcm9tIHByb3Zpc2lvbmFsIHJlc3BvbnNlIHdvcmtsaXN0IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnVwZGF0ZVN0YW5kYXJkaXNhdGlvblJlc3BvbnNlQ29sbGVjdGlvbihcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEuZXNNYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5Qcm92aXNpb25hbFJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNCdXN5OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLnJlc3BvbnNlTmF2aWdhdGlvbihlbnVtcy5SZXNwb25zZU5hdmlnYXRpb24ubmV4dCwgZmFsc2UsIHBhcnNlSW50KG5leHRSZXNwb25zZUlkKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBuZXh0IHJlc3BvbnNlIGlzIG5vdCBhdmFpbGFibGUgdGhlbiBsb2FkIHdvcmtsaXN0LlxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkU3RhbmRhcmRpc2F0aW9uU2V0dXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBMb2dnaW5nIGV2ZW50IGluIGdvb2dsZSBhbmFseXRpY3Mgb3IgYXBwbGljYXRpb24gaW5zaWdodHMgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICBuZXcgYXVkaXRMb2dnaW5nSGVscGVyKCkubG9nSGVscGVyLmxvZ0V2ZW50T25TdWJtaXRSZXNwb25zZShcclxuICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0U3VibWl0dGVkUmVzcG9uc2VzQ291bnQoKSxcclxuICAgICAgICAgICAgc3VibWl0dGVkTWFya0dyb3VwSWRzXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IG1lc3NhZ2VLZXk6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgIGxldCBtZXNzYWdlSGVhZGVyS2V5OiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIC8vIElmIE5vIHZhbGlkYXRpb24gRXJyb3IsIENoZWNrIHRoZSB3aGV0aGVyIHRvIGRpc3BsYXkgdGhlIFF1YWxpdHkgRmVlZGJhY2sgTWVzc2FnZVxyXG4gICAgICAgIGlmICh3b3JrbGlzdENvbXBvbmVudEhlbHBlci5zaG91bGRTaG93UXVhbGl0eUZlZWRiYWNrTWVzc2FnZSgpKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VLZXkgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QucXVhbGl0eS1mZWVkYmFjay1kaWFsb2cuYm9keSdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgbWVzc2FnZUhlYWRlcktleSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5xdWFsaXR5LWZlZWRiYWNrLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0Q3VycmVudFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuV29ya2xpc3RUeXBlLnN0YW5kYXJkaXNhdGlvbiB8fFxyXG4gICAgICAgICAgICBzdWJtaXRTdG9yZS5pbnN0YW5jZS5nZXRDdXJyZW50V29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUuc2Vjb25kc3RhbmRhcmRpc2F0aW9uXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHN1Ym1pdFN0b3JlLmluc3RhbmNlLmdldFN1Ym1pdFJlc3BvbnNlUmV0dXJuLmV4YW1pbmVyQXBwcm92YWxTdGF0dXMgPT09XHJcbiAgICAgICAgICAgICAgICBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLkFwcHJvdmVkXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUtleSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RDb21wb25lbnRIZWxwZXIuZ2V0QXV0b0FwcHJvdmFsU2Vjb25kYXJ5Q29udGVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0dGVkTWFya0dyb3VwSWRzLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlSGVhZGVyS2V5ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5hdXRvLWFwcHJvdmVkLWRpYWxvZy5oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWVzc2FnZUtleSAhPT0gJycpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlRGV0YWlscyA9IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXI6IG1lc3NhZ2VIZWFkZXJLZXksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlU3RyaW5nOiBtZXNzYWdlS2V5LFxyXG4gICAgICAgICAgICAgICAgc3VibWl0dGVkTWFya0dyb3VwSWRzOiBzdWJtaXR0ZWRNYXJrR3JvdXBJZHMsXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5SWQ6IHNlbGVjdGVkRGlzcGxheUlkLFxyXG4gICAgICAgICAgICAgICAgaXNGcm9tTWFya1NjaGVtZTogZnJvbU1hcmtTY2hlbWVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzQnVzeTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkb1Nob3dQb3B1cDogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3VibWl0TWVzc2FnZUVycm9yUG9wdXBDb250ZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpc1N1Ym1pdEVycm9yUG9wRGlzcGxheWluZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzQnVzeTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlQWZ0ZXJTdWJtaXQoc3VibWl0dGVkTWFya0dyb3VwSWRzLCBzZWxlY3RlZERpc3BsYXlJZCwgZnJvbU1hcmtTY2hlbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOYXZpZ2F0ZSBhZnRlciB0aGUgc3VibWl0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbmF2aWdhdGVBZnRlclN1Ym1pdCA9IChcclxuICAgICAgICBzdWJtaXR0ZWRNYXJrR3JvdXBJZHM6IEFycmF5PG51bWJlcj4sXHJcbiAgICAgICAgZGlzcGxheUlkOiBzdHJpbmcsXHJcbiAgICAgICAgZnJvbU1hcmtTY2hlbWU6IGJvb2xlYW5cclxuICAgICkgPT4ge1xyXG4gICAgICAgIC8vIEluZm9ybSByZXNwb25zZSBuYXZpZ2F0aW9uIG1vZHVsZS5cclxuICAgICAgICByZXNwb25zZUFjdGlvbkNyZWF0b3IubmF2aWdhdGVBZnRlclN1Ym1pdChzdWJtaXR0ZWRNYXJrR3JvdXBJZHMsIGRpc3BsYXlJZCwgZnJvbU1hcmtTY2hlbWUpO1xyXG5cclxuICAgICAgICAvLyBOYXZpZ2F0ZSB0byBjb3JyZXNwb25kaW5nIHdvcmtsaXN0IGV2ZW4gaWYgbm90IGluIFF1YWxpdHlGZWVkYmFja091dHN0YW5kaW5nLFxyXG4gICAgICAgIC8vIHRvIGVuc3VyZSB0aGF0IHRoZSBuYXZpZ2F0aW9uIGhhcHBlbnMgY29ycmVjdGx5IGF0IHRoZSB0aW1lIG9mIHN1Ym1pdGlvbi5cclxuICAgICAgICBxdWFsaXR5RmVlZGJhY2tIZWxwZXIuZm9yY2VOYXZpZ2F0aW9uVG9Xb3JrbGlzdChcclxuICAgICAgICAgICAgc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0U3VibWl0UmVzcG9uc2VSZXR1cm4uaGFzUXVhbGl0eUZlZWRiYWNrT3V0c3RhbmRpbmdcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBSZWZyZXNoIHRoZSB3b3JrbGlzdFxyXG4gICAgICAgIHRoaXMuaW5pdGlhdGVDb250ZW50UmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAvLyBDbGVhciB0aGUgbWFya3MgYW5kIGFubm90YXRpb25zIGlmIG5lZWRlZCBmb3IgUmVsb2FkaW5nIHRoZSBEZWZpbml0aXZlTWFya3NcclxuICAgICAgICBzdWJtaXRIZWxwZXIuY2xlYXJNYXJrc0FuZEFubm90YXRpb25zKHN1Ym1pdHRlZE1hcmtHcm91cElkcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnQgdGhlIGNvbnRlbnQgcmVmcmVzaFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGluaXRpYXRlQ29udGVudFJlZnJlc2goKSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgd29ya2xpc3QgY2FjaGUgYW5kIGRvIGNvbnRlbnQgcmVmcmVzaFxyXG4gICAgICAgIGxldCBtYXJraW5nTW9kZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya2luZ01vZGVCeVdvcmtMaXN0VHlwZShcclxuICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZUFkYXB0ZXJIZWxwZXIuY2xlYXJDYWNoZShcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgbWFya2luZ01vZGUsXHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbWFya1JlcXVlc3RUeXBlLFxyXG4gICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgLy8gTG9hZCB0aGUgbWFya2luZyBwcm9ncmVzc1xyXG4gICAgICAgICAgICB3b3JrbGlzdEFjdGlvbkNyZWF0b3IuZ2V0V29ya2xpc3RNYXJrZXJQcm9ncmVzc0RhdGEoXHJcbiAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAuaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlclxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCBkaXNwbGF5IHRoZSB1bnJlYWQgbWFuZGF0b3J5IG1lc3NhZ2UgcG9wdXAgd2hpbGUgdXNlciBpbiBtZXNzYWdlIHNjcmVlbiB1c2luZyBiYWNrZ3JvdW5kIHB1bHNlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25VcGRhdGVOb3RpZmljYXRpb24gPSAoXHJcbiAgICAgICAgdW5yZWFkTWVzc2FnZUNvdW50OiBudW1iZXIsXHJcbiAgICAgICAgaXNNZXNzYWdlUmVhZENvdW50Q2hhbmdlZDogYm9vbGVhbixcclxuICAgICAgICB1bnJlYWRNYW5kYXRvcnlNZXNzYWdlQ291bnQ6IG51bWJlclxyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gZGlzcGxheSB1bnJlYWQgbWFuZGF0b3J5IG1lc3NhZ2VzIGFyZSBhdmFpbGFibGUgcG9wdXAgd2hpbGUgdXNlciBpbiBtZXNzYWdlIHNjcmVlbiBhbmQgbm90IGNvbXBvc2luZyBhIG1lc3NhZ2VcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHVucmVhZE1hbmRhdG9yeU1lc3NhZ2VDb3VudCA+IDAgJiZcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5mb290ZXJUeXBlID09PSBlbnVtcy5Gb290ZXJUeXBlLk1lc3NhZ2UgJiZcclxuICAgICAgICAgICAgIW1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5pc01lc3NhZ2VQYW5lbFZpc2libGVcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5tYW5kYXRvcnlNZXNzYWdlVHJpZ2dlcmluZ1BvaW50ID0gZW51bXMuVHJpZ2dlclBvaW50LkJhY2tncm91bmRQdWxzZTtcclxuICAgICAgICAgICAgdGhpcy5vblBvcFVwRGlzcGxheUV2ZW50KFxyXG4gICAgICAgICAgICAgICAgZW51bXMuUG9wVXBUeXBlLk1hbmRhdG9yeU1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICBlbnVtcy5Qb3BVcEFjdGlvblR5cGUuU2hvdyxcclxuICAgICAgICAgICAgICAgIG51bGxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBwb3AgdXAgaWYgdGhlIG1lc3NhZ2UgcGFuZWwgaXMgZWRpdGVkIG9uIG5hdmlnYXRpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk1lc3NhZ2VQYW5lbEVkaXRlZCA9IChcclxuICAgICAgICBtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50OiBNZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50c1xyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50Lmhhc01lc3NhZ2VDb250YWluc0RpcnR5VmFsdWUgJiZcclxuICAgICAgICAgICAgIW1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnQubmF2aWdhdGlvbkNvbmZpcm1lZFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzID0gbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudDtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5uYXZpZ2F0aW9uQ29uZmlybWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudC5uYXZpZ2F0ZVRvID09PSBlbnVtcy5NZXNzYWdlTmF2aWdhdGlvbi5uZXdFeGNlcHRpb24gfHxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnQubmF2aWdhdGVUbyA9PT1cclxuICAgICAgICAgICAgICAgIGVudW1zLk1lc3NhZ2VOYXZpZ2F0aW9uLmV4Y2VwdGlvbldpdGhJblJlc3BvbnNlXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3BVcERhdGEucG9wdXBDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWFya2luZy5yZXNwb25zZS5kaXNjYXJkLWV4Y2VwdGlvbi1kaWFsb2cuYm9keS1vcGVuLWFub3RoZXInXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudC5uYXZpZ2F0ZVRvID09PSBlbnVtcy5NZXNzYWdlTmF2aWdhdGlvbi5DaGFuZ2VTdGF0dXNcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcFVwRGF0YS5wb3B1cENvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdtZXNzYWdpbmcuY29tcG9zZS1tZXNzYWdlLmRpc2NhcmQtbWVzc2FnZS1kaWFsb2cuYm9keS1zdGFydC1uZXctbWVzc2FnZS13aGlsZS1jb21wb3NpbmcnXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3BVcERhdGEucG9wdXBDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnbWVzc2FnaW5nLmNvbXBvc2UtbWVzc2FnZS5kaXNjYXJkLW1lc3NhZ2UtZGlhbG9nLmJvZHktbmF2aWdhdGVkLWF3YXknXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZE1lc3NhZ2VOYXZpZ2F0ZUF3YXkgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgbWFuZGF0b3J5IG1lc3NhZ2UgdmFsaWRhdGlvbiBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hbmRhdG9yeU1lc3NhZ2VWYWxpZGF0aW9uUG9wdXBWaXNpYmlsaXR5ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkb1Nob3dNYW5kYXRvcnlNZXNzYWdlVmFsaWRhdGlvblBvcHVwOiB0cnVlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldHRpbmcgdGhlIHRpbWVvdXQgb2YgYXBwbGljYXRpb24gb25saW5lIGNoZWNrXHJcbiAgICAgKiBAcGFyYW0ge3R5cGV9IGludGVydmFsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdHJpZ2dlckFwcGxpY2F0aW9uT25saW5lUG9sbChmb3JjZVN0YXJ0UG9sbDogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XHJcbiAgICAgICAgLy8gSWYgdGhlIGFwcGxpY2F0aW9uIHN0YXR1cyBoYXMgYmVlbiBjaGFuZ2VkIHVwZGF0ZSB0aGUgY2FsbFxyXG4gICAgICAgIGlmIChmb3JjZVN0YXJ0UG9sbCB8fCB0aGlzLnN0YXRlLmlzT25saW5lICE9PSBhcHBsaWNhdGlvblN0b3JlLmluc3RhbmNlLmlzT25saW5lKSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyT3B0aW9uc0hlbHBlci5oYXNVc2VyT3B0aW9uc0NoYW5nZWQpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJPcHRpb25zSGVscGVyLkluaXRpYXRlU2F2ZVVzZXJPcHRpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xvc2luZyBhcHBsaWNhdGlvbiBlcnJvciBwb3VwIG1lc3NhZ2VcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbkFwcGxpY2F0aW9uRXJyb3JNZXNzYWdlUG9wVXBDbGlja2VkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0FwcGxpY2F0aW9uT2ZmbGluZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZXIgYWN0aW9uIGhhcyBiZWVuIGludGVycnVwdGVkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdXNlckFjdGlvbkludGVycnVwdGVkKF9pc0Zyb21Mb2dvdXQ6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZiAoX2lzRnJvbUxvZ291dCkge1xyXG4gICAgICAgICAgICB0aGlzLm9mZmxpbmVFcnJvck1lc3NhZ2UgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ2dlbmVyaWMub2ZmbGluZS1kaWFsb2cuYm9keS11c2VyLW9wdGlvbnMtY2hhbmdlZCdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZXNldExvZ291dENvbmZpcm1hdGlvblNhdHVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX29uTG9nb3V0VHJpZ2dlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vZmZsaW5lRXJyb3JNZXNzYWdlID0gc3RyaW5nSGVscGVyLmZvcm1hdChcclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMub2ZmbGluZS1kaWFsb2cuYm9keScpLFxyXG4gICAgICAgICAgICAgICAgW1N0cmluZyhTdHJpbmcuZnJvbUNoYXJDb2RlKDE3OSkpXVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKkhpZGluZyB0aGUgYnVzeSBpbmRpY2F0b3IgaWYgdGhlIGFwcGxpY2F0aW9uIGlzIG9mZmxpbmUgYW5kIHRoZSBidXN5IGluZGljYXRvciB3YXMgc2hvd2luZyBhdCB0aGUgdGltZSBvZiBiZWluZyBvZmZsaW5lKi9cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0J1c3kgJiYgIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpc0FwcGxpY2F0aW9uT2ZmbGluZTogIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUsXHJcbiAgICAgICAgICAgICAgICBpc0J1c3k6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0FwcGxpY2F0aW9uT2ZmbGluZTogIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgdGhlIFFJRyBnb3Qgd2l0aGRyd2FuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SZXNwb25zZURhdGFSZWNlaXZlZCA9IChzZWFyY2hlZFJlc3BvbnNlRGF0YTogU2VhcmNoZWRSZXNwb25zZURhdGEpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoc2VhcmNoZWRSZXNwb25zZURhdGEuYXBwcm92YWxTdGF0dXNJZCA9PT0gZW51bXMuRXhhbWluZXJBcHByb3ZhbC5XaXRoZHJhd24pIHtcclxuICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yLnJlbW92ZUhpc3RvcnlJdGVtKHNlYXJjaGVkUmVzcG9uc2VEYXRhLm1hcmtTY2hlbWVHcm91cElkKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzV2l0aGRyYXduUmVzcG9uc2VFcnJvcjogdHJ1ZSwgaXNCdXN5OiBmYWxzZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogc2hvdyBlcnJvciBwb3B1cCBvbiByZXNwb25zZSBzZWFyY2ggZmFpbGVkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SZXNwb25zZURhdGFSZWNlaXZlZEZhaWxlZCA9IChzZXJ2aWNlRmFpbGVkOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gSWYgdGhpcyBzZXJ2aWNlIGZhaWxlZCB0aGVuIHdlIGRvbnQga25vdyB3aGV0aGVyIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGUgb3Igbm90XHJcbiAgICAgICAgaWYgKCFzZXJ2aWNlRmFpbGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1Jlc3BvbnNlU2VhcmNoRmFpbGVkOiB0cnVlLCBpc0J1c3k6IGZhbHNlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZUVycm9yTmF2aWdhdGlvblRlYW1NYW5hZ2VtZW50ID0gKFxyXG4gICAgICAgIGZhaWx1cmVDb2RlOiBlbnVtcy5GYWlsdXJlQ29kZSxcclxuICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyID0gMFxyXG4gICAgKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChmYWlsdXJlQ29kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLlN1Ym9yZGluYXRlRXhhbWluZXJXaXRoZHJhd246XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuSGllcmFyY2h5Q2hhbmdlZDpcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFRlYW1NYW5hZ2VtZW50KCk7XHJcbiAgICAgICAgICAgICAgICB1c2VySW5mb0FjdGlvbkNyZWF0b3IuY2hhbmdlTWVudVZpc2liaWxpdHkoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuV2l0aGRyYXduOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlQWRhcHRlckhlbHBlci5jbGVhckNhY2hlQnlLZXkoJ3FpZ3NlbGVjdG9yJywgJ292ZXJ2aWV3ZGF0YScpO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkUWlnU2VsZWN0b3IoKTtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvQWN0aW9uQ3JlYXRvci5jaGFuZ2VNZW51VmlzaWJpbGl0eShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0ZWFtTWFuYWdlbWVudEFjdGlvbkNyZWF0b3IucmVtb3ZlSGlzdG9yeUl0ZW0obWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZGluZyBjdXJyZW50IGl0ZW1zIHRvIGhpc3RvcnkgYmFzZWQgdXBvbiB0aGUgdXNlcidzIGFjdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFkZFRvUmVjZW50SGlzdG9yeSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuaXNNYXJraW5nQ2hlY2tNb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU2VsZWN0ZWRRaWdEZXRhaWxzVG9Vc2VyT3B0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIHRoZSBjb250YWluZXIgcGFnZSBpcyByZXNwb25zZSB3ZSBkb250IHdhbnQgdG8gYWRkIHRoYXQgdG8gdGhlIGhpc3RvcnlcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICFxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbiB8fFxyXG4gICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmlzTWFya2luZ0NoZWNrTW9kZSB8fFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uU3RvcmUuaW5zdGFuY2UuY29udGFpbmVyUGFnZSA9PT0gZW51bXMuUGFnZUNvbnRhaW5lcnMuUmVzcG9uc2VcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgX2hpc3RvcnlJdGVtOiBoaXN0b3J5SXRlbSA9IG5ldyBoaXN0b3J5SXRlbSgpO1xyXG5cclxuICAgICAgICAvLyBRSUcgTmFtZSBiYXNlZCBvbiBzdHJpbmcgZm9ybWF0IENDXHJcbiAgICAgICAgX2hpc3RvcnlJdGVtLnFpZ05hbWUgPSBzdHJpbmdGb3JtYXRIZWxwZXIuZm9ybWF0QXdhcmRpbmdCb2R5UUlHKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBOYW1lLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5hc3Nlc3NtZW50Q29kZSxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uc2Vzc2lvbk5hbWUsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyTmFtZSxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uYXNzZXNzbWVudE5hbWUsXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmNvbXBvbmVudE5hbWUsXHJcbiAgICAgICAgICAgIHN0cmluZ0Zvcm1hdEhlbHBlci5nZXRPdmVydmlld1FJR05hbWVGb3JtYXQoKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIF9oaXN0b3J5SXRlbS5xaWdJZCA9IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkO1xyXG4gICAgICAgIF9oaXN0b3J5SXRlbS50aW1lU3RhbXAgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICAvLyBhZGRpbmcgdG8gaGlzdG9yeSBpdGVtIGJhc2VkIG9uIE1hcmtlciBPcGVyYXRpb24gTW9kZVxyXG4gICAgICAgIGlmIChtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzVGVhbU1hbmFnZW1lbnRNb2RlKSB7XHJcbiAgICAgICAgICAgIGxldCBfdGVhbU1hbmFnZW1lbnRIaXN0b3J5SW5mbzogdGVhbU1hbmFnZW1lbnRIaXN0b3J5SW5mbyA9IG5ldyB0ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvKCk7XHJcbiAgICAgICAgICAgIF90ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvLndvcmtsaXN0VHlwZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZTtcclxuICAgICAgICAgICAgX3RlYW1NYW5hZ2VtZW50SGlzdG9yeUluZm8ucmVzcG9uc2VNb2RlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZXNwb25zZU1vZGU7XHJcbiAgICAgICAgICAgIF90ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvLnJlbWFya1JlcXVlc3RUeXBlID1cclxuICAgICAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVtYXJrUmVxdWVzdFR5cGU7XHJcbiAgICAgICAgICAgIF90ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvLnN1Ym9yZGluYXRlRXhhbWluZXJSb2xlSUQgPVxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UgIT09IGVudW1zLlBhZ2VDb250YWluZXJzLlRlYW1NYW5hZ2VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgPyB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyRHJpbGxEb3duRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2UuZXhhbWluZXJEcmlsbERvd25EYXRhLmV4YW1pbmVyUm9sZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMFxyXG4gICAgICAgICAgICAgICAgICAgIDogMDtcclxuICAgICAgICAgICAgX3RlYW1NYW5hZ2VtZW50SGlzdG9yeUluZm8uc3Vib3JkaW5hdGVFeGFtaW5lcklEID1cclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25TdG9yZS5pbnN0YW5jZS5jb250YWluZXJQYWdlICE9PSBlbnVtcy5QYWdlQ29udGFpbmVycy5UZWFtTWFuYWdlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgID8gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5leGFtaW5lckRyaWxsRG93bkRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyRHJpbGxEb3duRGF0YS5leGFtaW5lcklkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMFxyXG4gICAgICAgICAgICAgICAgICAgIDogMDtcclxuICAgICAgICAgICAgX3RlYW1NYW5hZ2VtZW50SGlzdG9yeUluZm8uc3VwZXJ2aXNvckV4YW1pbmVyUm9sZUlEID0gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgLnNlbGVjdGVkRXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgID8gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZEV4YW1pbmVyUm9sZUlkXHJcbiAgICAgICAgICAgICAgICA6IG9wZXJhdGlvbk1vZGVIZWxwZXIuZXhhbWluZXJSb2xlSWQ7XHJcbiAgICAgICAgICAgIF90ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvLnNlbGVjdGVkVGFiID0gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgLnNlbGVjdGVkVGVhbU1hbmFnZW1lbnRUYWJcclxuICAgICAgICAgICAgICAgID8gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFRlYW1NYW5hZ2VtZW50VGFiXHJcbiAgICAgICAgICAgICAgICA6IGVudW1zLlRlYW1NYW5hZ2VtZW50Lk15VGVhbTtcclxuICAgICAgICAgICAgX3RlYW1NYW5hZ2VtZW50SGlzdG9yeUluZm8uY3VycmVudENvbnRhaW5lciA9IG5hdmlnYXRpb25TdG9yZS5pbnN0YW5jZS5jb250YWluZXJQYWdlO1xyXG4gICAgICAgICAgICBfaGlzdG9yeUl0ZW0udGVhbSA9IF90ZWFtTWFuYWdlbWVudEhpc3RvcnlJbmZvO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1N0YW5kYXJkaXNhdGlvblNldHVwTW9kZSkge1xyXG4gICAgICAgICAgICBsZXQgX3N0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm86IHN0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm8gPSBuZXcgc3RhbmRhcmRpc2F0aW9uU2V0dXBIaXN0b3J5SW5mbygpO1xyXG4gICAgICAgICAgICBfc3RhbmRhcmRpc2F0aW9uU2V0dXBIaXN0b3J5SW5mby5zdGFuZGFyZGlzYXRpb25TZXR1cFdvcmtsaXN0VHlwZSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkU3RhbmRhcmRpc2F0aW9uU2V0dXBXb3JrTGlzdDtcclxuICAgICAgICAgICAgX3N0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm8udGltZVN0YW1wID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgX2hpc3RvcnlJdGVtLnN0YW5kYXJkaXNhdGlvblNldHVwID0gX3N0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm87XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IF93b3JrbGlzdEhpc3RvcnlJbmZvOiB3b3JrbGlzdEhpc3RvcnlJbmZvID0gbmV3IHdvcmtsaXN0SGlzdG9yeUluZm8oKTtcclxuICAgICAgICAgICAgX3dvcmtsaXN0SGlzdG9yeUluZm8ud29ya2xpc3RUeXBlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlO1xyXG4gICAgICAgICAgICBfd29ya2xpc3RIaXN0b3J5SW5mby5yZXNwb25zZU1vZGUgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlTW9kZTtcclxuICAgICAgICAgICAgX3dvcmtsaXN0SGlzdG9yeUluZm8ucmVtYXJrUmVxdWVzdFR5cGUgPSB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbWFya1JlcXVlc3RUeXBlO1xyXG4gICAgICAgICAgICBfaGlzdG9yeUl0ZW0ubXlNYXJraW5nID0gX3dvcmtsaXN0SGlzdG9yeUluZm87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgX2lzTWFya2luZ0VuYWJsZWQ6IGJvb2xlYW4gPVxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbiAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5pc01hcmtpbmdFbmFibGVkO1xyXG5cclxuICAgICAgICBfaGlzdG9yeUl0ZW0ubWFya2luZ01ldGhvZElkID1cclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya2luZ01ldGhvZDtcclxuICAgICAgICBfaGlzdG9yeUl0ZW0uaXNFbGVjdHJvbmljU3RhbmRhcmRpc2F0aW9uVGVhbU1lbWJlciA9XHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXI7XHJcblxyXG4gICAgICAgIC8vIHVzZWQgZm9yIHNob3dpbmcvaGlkaW5nIG1hcmtpbmcgbGluayBpbiBtZW51J3MgaGlzdHJveSBsaXN0IHVuZGVyIG1lbnUgdGFiXHJcbiAgICAgICAgX2hpc3RvcnlJdGVtLmlzTWFya2luZ0VuYWJsZWQgPVxyXG4gICAgICAgICAgICBfaXNNYXJraW5nRW5hYmxlZCAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclFpZ1N0YXR1cyAhPT1cclxuICAgICAgICAgICAgZW51bXMuRXhhbWluZXJRSUdTdGF0dXMuV2FpdGluZ1N0YW5kYXJkaXNhdGlvbiAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5jdXJyZW50TWFya2luZ1RhcmdldCAhPSBudWxsO1xyXG5cclxuICAgICAgICAvLyB1c2VkIGZvciBzaG93aW5nL2hpZGluZyB0ZWFtbWFuYWdlbWVudCBsaW5rIGluIG1lbnUncyBoaXN0cm95IGxpc3QgdW5kZXIgbWVudSB0YWJcclxuICAgICAgICBfaGlzdG9yeUl0ZW0uaXNUZWFtTWFuYWdlbWVudEVuYWJsZWQgPVxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbiAmJlxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5pc1RlYW1NYW5hZ2VtZW50RW5hYmxlZDtcclxuXHJcbiAgICAgICAgLy8gdXNlZCBmb3Igc2hvd2luZy9oaWRpbmcgc3RhbmRhcmRpc2F0aW9uIHNldHVwIGxpbmsgaW4gbWVudSdzIGhpc3RvcnkgbGlzdCB1bmRlciBtZW51IHRhYi5cclxuICAgICAgICBfaGlzdG9yeUl0ZW0uaXNTdGFuZGFyZGlzYXRpb25TZXR1cEVuYWJsZWQgPVxyXG4gICAgICAgICAgICAocWlnU3RvcmUuaW5zdGFuY2UuaXNTdGFuZGFyZGlzYXRpb25TZXR1cEJ1dHRvblZpc2libGUocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24pIHx8XHJcbiAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5pc1N0YW5kYXJkaXNhdGlvblNldHVwTGlua1Zpc2libGUocWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24pKTtcclxuXHJcbiAgICAgICAgX2hpc3RvcnlJdGVtLnF1ZXN0aW9uUGFwZXJQYXJ0SWQgPVxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyUGFydElkO1xyXG4gICAgICAgIF9oaXN0b3J5SXRlbS5leGFtaW5lclJvbGVJZCA9IG9wZXJhdGlvbk1vZGVIZWxwZXIuZXhhbWluZXJSb2xlSWQ7XHJcblxyXG4gICAgICAgIGxvYWRDb250YWluZXJBY3Rpb25DcmVhdG9yLmFkZFRvUmVjZW50SGlzdG9yeShfaGlzdG9yeUl0ZW0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZGluZyBjdXJyZW50IHFpZyBkZXRhaWxzIHRvIHVzZXIgb3B0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFkZFNlbGVjdGVkUWlnRGV0YWlsc1RvVXNlck9wdGlvbigpIHtcclxuICAgICAgICBsZXQgX3JlbWVtYmVyUWlnOiByZW1lbWJlclFpZyA9IG5ldyByZW1lbWJlclFpZygpO1xyXG4gICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBfcmVtZW1iZXJRaWcucWlnSWQgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZDtcclxuICAgICAgICAgICAgX3JlbWVtYmVyUWlnLndvcmtsaXN0VHlwZSA9IHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZTtcclxuICAgICAgICAgICAgX3JlbWVtYmVyUWlnLnJlbWFya1JlcXVlc3RUeXBlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZW1hcmtSZXF1ZXN0VHlwZTtcclxuICAgICAgICAgICAgX3JlbWVtYmVyUWlnLnF1ZXN0aW9uUGFwZXJQYXJ0SWQgPVxyXG4gICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ucXVlc3Rpb25QYXBlclBhcnRJZDtcclxuICAgICAgICAgICAgaWYgKG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNUZWFtTWFuYWdlbWVudE1vZGUpIHtcclxuICAgICAgICAgICAgICAgIF9yZW1lbWJlclFpZy5hcmVhID0gZW51bXMuUWlnQXJlYS5UZWFtTWFuYWdlbWVudDtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkVGVhbU1hbmFnZW1lbnRUYWIgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuVGVhbU1hbmFnZW1lbnQuTXlUZWFtXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UgPT09IGVudW1zLlBhZ2VDb250YWluZXJzLldvcmtMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZW1lbWJlclFpZy5zdWJvcmRpbmF0ZUV4YW1pbmVyUm9sZUlEID0gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmV4YW1pbmVyRHJpbGxEb3duRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyRHJpbGxEb3duRGF0YS5leGFtaW5lclJvbGVJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVtZW1iZXJRaWcuc3Vib3JkaW5hdGVFeGFtaW5lcklEID0gdGVhbU1hbmFnZW1lbnRTdG9yZS5pbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmV4YW1pbmVyRHJpbGxEb3duRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyRHJpbGxEb3duRGF0YS5leGFtaW5lcklkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlbWVtYmVyUWlnLnN1Ym9yZGluYXRlRXhhbWluZXJSb2xlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVtZW1iZXJRaWcuc3Vib3JkaW5hdGVFeGFtaW5lcklEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfcmVtZW1iZXJRaWcuZXhhbWluZXJSb2xlSWQgPSB0ZWFtTWFuYWdlbWVudFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkRXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgICAgICA/IHRlYW1NYW5hZ2VtZW50U3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRFeGFtaW5lclJvbGVJZFxyXG4gICAgICAgICAgICAgICAgICAgIDogb3BlcmF0aW9uTW9kZUhlbHBlci5leGFtaW5lclJvbGVJZDtcclxuICAgICAgICAgICAgICAgIF9yZW1lbWJlclFpZy50YWIgPSBlbnVtcy5UZWFtTWFuYWdlbWVudC5NeVRlYW07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFya2VyT3BlcmF0aW9uTW9kZUZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1N0YW5kYXJkaXNhdGlvblNldHVwTW9kZSkge1xyXG4gICAgICAgICAgICAgICAgX3JlbWVtYmVyUWlnLmFyZWEgPSBlbnVtcy5RaWdBcmVhLlN0YW5kYXJkaXNhdGlvblNldHVwO1xyXG4gICAgICAgICAgICAgICAgX3JlbWVtYmVyUWlnLnN0YW5kYXJkaXNhdGlvblNldHVwV29ya2xpc3RUeXBlID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3Q7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfcmVtZW1iZXJRaWcuYXJlYSA9IGVudW1zLlFpZ0FyZWEuTWFya2luZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdXNlck9wdGlvbnNIZWxwZXIuc2F2ZShcclxuICAgICAgICAgICAgICAgIHVzZXJPcHRpb25LZXlzLlJFTUVNQkVSX1BSRVZJT1VTX1FJRyxcclxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KF9yZW1lbWJlclFpZylcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IE5vIE1hcmtpbmcgQ2hlY2sgQXZhaWxhYmxlIFBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hvd05vTWFya2luZ0NoZWNrQXZhaWxhYmxlTWVzc2FnZSA9IChcclxuICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZSxcclxuICAgICAgICBwb3BVcEFjdGlvblR5cGU6IGVudW1zLlBvcFVwQWN0aW9uVHlwZSxcclxuICAgICAgICBwb3BVcERhdGE6IFBvcFVwRGF0YVxyXG4gICAgKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBwb3BVcEFjdGlvblR5cGUgPT09IGVudW1zLlBvcFVwQWN0aW9uVHlwZS5TaG93ICYmXHJcbiAgICAgICAgICAgIHBvcFVwVHlwZSA9PT0gZW51bXMuUG9wVXBUeXBlLk5vTWFya2luZ0NoZWNrUmVxdWVzdFBvc3NpYmxlXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgcG9wVXBUeXBlOiBwb3BVcFR5cGUsXHJcbiAgICAgICAgICAgICAgICBkb1Nob3dOb01hcmtpbmdDaGVja0F2YWlsYWJsZU1lc3NhZ2U6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE5hdmlnYXRlIHRvIHRlYW0gbWFuYWdlbWVudFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uVGVhbU1hbmFnZW1lbnRPcGVuID0gKGlzRnJvbUhpc3Rvcnk6IGJvb2xlYW4gPSBmYWxzZSkgPT4ge1xyXG4gICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFRlYW1NYW5hZ2VtZW50KGlzRnJvbUhpc3RvcnkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFjdGlvbiB3aGVuIHRoZSBjYW5jZWwgYnV0dG9uIGZvciBNYXJraW5nIENoZWNrIGlzIGNsaWNrZWRcclxuICAgICAqIENhbmNlbCB0aGUgcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBPbkNhbmNlbENsaWNrT2ZNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZzogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBY3Rpb24gd2hlbiB0aGUgb2sgYnV0dG9uIGZvciBNYXJraW5nIENoZWNrIGNvbmZpcm1hdGlvbiBpcyBjbGlja2VkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgT25Pa0NsaWNrT2ZNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvbigpIHtcclxuICAgICAgICAvKiBvbiBtYXJraW5nIGNoZWNrIGNvbmZpcm1hdGlvbiBpcyBjbGlja2VkIFNlbmQgdHdvIG1lc3NhZ2VzXHJcbiAgICAgICAgICAgRmlyc3QgTWVzc2FnZSB0byB0aGUgbWFya2VyIHNvIHRoYXQgaXQgd2lsbCBhcHBlYXIgaW4gdGhlIGluYm94XHJcbiAgICAgICAgICAgdGhlICBzZWNvbmQgbWVzc2FnZSB3aXRoIHN5c3l0ZW0gbWVzc2FnZSBwcmlvcml0eSBzbyB0aGF0IHRoZVxyXG4gICAgICAgICAgIG1hcmtpbmcgY2hlY2sgd2lsbCBiZSBjb25zaWRlcmVkIGFzIGNvbXBsZXRlKi9cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZzogZmFsc2UgfSk7XHJcbiAgICAgICAgbGV0IHN5c3RlbU1lc3NhZ2VQcmlvcml0eTogbnVtYmVyID0gMjU1O1xyXG4gICAgICAgIGxldCBtYXJraW5nQ2hlY2tUb0xpc3Q6IEFycmF5PG51bWJlcj4gPSBbXHJcbiAgICAgICAgICAgIHdvcmtsaXN0U3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRNYXJraW5nQ2hlY2tFeGFtaW5lci5mcm9tRXhhbWluZXJJRFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGxldCBxdWVzdGlvblBhcGVySWQgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyUGFydElkO1xyXG4gICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZCA9IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkO1xyXG4gICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3Iuc2VuZEV4YW1pbmVyTWVzc2FnZShcclxuICAgICAgICAgICAgbWFya2luZ0NoZWNrVG9MaXN0LFxyXG4gICAgICAgICAgICAnJyxcclxuICAgICAgICAgICAgJycsXHJcbiAgICAgICAgICAgIHF1ZXN0aW9uUGFwZXJJZCxcclxuICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgZW51bXMuTWVzc2FnZVByaW9yaXR5LkltcG9ydGFudCxcclxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIC0xLFxyXG4gICAgICAgICAgICAtMSxcclxuICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIGVudW1zLlN5c3RlbU1lc3NhZ2UuTWFya3NDaGVja2VkXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5zZW5kRXhhbWluZXJNZXNzYWdlKFxyXG4gICAgICAgICAgICBtYXJraW5nQ2hlY2tUb0xpc3QsXHJcbiAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICAnJyxcclxuICAgICAgICAgICAgcXVlc3Rpb25QYXBlcklkLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICBzeXN0ZW1NZXNzYWdlUHJpb3JpdHksXHJcbiAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAtMSxcclxuICAgICAgICAgICAgLTEsXHJcbiAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICBlbnVtcy5TeXN0ZW1NZXNzYWdlLk1hcmtzQ2hlY2tlZFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXJraW5nIENoZWNrIENvbXBsZXRlIEJ1dHRvbiBDbGlja2VkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFya0NoZWNrQ29tcGxldGVCdXR0b25FdmVudCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNNYXJraW5nQ2hlY2tDb21wbGV0ZUNvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZzogdHJ1ZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAgTWFya2luZyBDaGVjayBDb21wbGV0ZWQgRXZlbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBtYXJrQ2hlY2tDb21wbGV0ZWRFdmVudCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBtYXJraW5nQ2hlY2tBY3Rpb25DcmVhdG9yLmdldE1hcmtDaGVja0V4YW1pbmVycyhcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWRcclxuICAgICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNjcm9sbCB2aWV3IHdoZW4gZm9jdXMgY29tZXMgdG8gdGV4dCBib3ggaW4gYW5kcm9pZCBsaWtlIGluIGlwYWRcclxuICAgICAqIEZpcmVmb3ggaXMgZXhjbHVlZGVkLCBzY3JvbGxJbnRvVmlld0lmTmVlZGVkIGlzIG5vdCBzdXBwb3J0aW5nIGJ5IGJyb3dzZXIgIzQ5MTg0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNjcm9sbEludG9WaWV3T25FZGl0aW5nVGV4dEZvckFuZHJvaWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgbGV0IGFjdGl2ZUVsZW1lbnQ6IEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgaHRtbFV0aWxpdGllcy5pc0FuZHJvaWREZXZpY2UgJiZcclxuICAgICAgICAgICAgIWh0bWxVdGlsaXRpZXMuaXNBbmRyb2lkRmlyZWZveCAmJlxyXG4gICAgICAgICAgICAoYWN0aXZlRWxlbWVudC50YWdOYW1lID09PSAnVEVYVEFSRUEnIHx8IGFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJylcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBlbDogYW55ID0gJChhY3RpdmVFbGVtZW50KVswXTtcclxuICAgICAgICAgICAgICAgIGVsLnNjcm9sbEludG9WaWV3SWZOZWVkZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IGxvY2tzIGluIHFpZyBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU2hvd0xvY2tzSW5RaWdzUG9wdXAgPSAoX2xvY2tzSW5RaWdEZXRhaWxzTGlzdDogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5kb1Nob3dMb2Nrc0luUWlnUG9wVXAgJiZcclxuICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzTGlzdC5sb2Nrc0luUWlnRGV0YWlsc0xpc3QgJiZcclxuICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzTGlzdC5sb2Nrc0luUWlnRGV0YWlsc0xpc3QuY291bnQoKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHJlUmVuZGVyTG9ja3NJblFpZ1BvcFVwOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJlbmRlciB0aGUgcG9wIHVwIHdpdGggbm8gb2YgbG9ja3MgYW5kIHFpZyBuYW1lXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyTG9ja3NJblFpZ1BvcFVwID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIElmIEV4YW0gYm9keSBDQydzIG5vdCBsb2FkZWQgeWV0LCB0aGVuIGRvIG5vdCBzaG93IHRoZSBsb2NrcyBwb3B1cFxyXG4gICAgICAgIGxldCBsb2Nrc1BvcHVwID0gY2NTdG9yZS5pbnN0YW5jZS5pc0V4YW1Cb2R5Q0NMb2FkZWQgPyAoXHJcbiAgICAgICAgICAgIDxMb2Nrc0luUWlnUG9wdXBcclxuICAgICAgICAgICAgICAgIHNob3dMb2Nrc0luUWlnUG9wVXA9e3RoaXMuc3RhdGUucmVSZW5kZXJMb2Nrc0luUWlnUG9wVXB9XHJcbiAgICAgICAgICAgICAgICBmcm9tTG9nb3V0PXtxaWdTdG9yZS5pbnN0YW5jZS5pc1Nob3dMb2Nrc0Zyb21Mb2dvdXR9XHJcbiAgICAgICAgICAgICAgICBvbkNhbmNlbENsaWNrT2ZMb2Nrc0luUWlnUG9wdXA9e3RoaXMub25DYW5jZWxDbGlja09mTG9ja3NJblFpZ1BvcHVwfVxyXG4gICAgICAgICAgICAgICAgb25Mb2dvdXRDbGlja09mTG9ja3NJblFpZ1BvcHVwPXt0aGlzLm9uTG9nb3V0Q2xpY2tPZkxvY2tzSW5RaWdQb3B1cH1cclxuICAgICAgICAgICAgICAgIGlkPSdMb2Nrc0luUWlnUG9wdXAnXHJcbiAgICAgICAgICAgICAgICBrZXk9J0xvY2tzSW5RaWdQb3B1cF9rZXknXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKSA6IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGxvY2tzUG9wdXA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9ja3MgaW4gcWlnIGxpc3QgcmVjaWV2ZWQgZXZlbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblFpZ1NlbGVjdGVkRnJvbUxvY2tlZExpc3QgPSAocWlnSWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmIChsb2dpblN0b3JlLmluc3RhbmNlLmlzQWRtaW5SZW1hcmtlcikge1xyXG4gICAgICAgICAgICAvLyBJbnZva2luZyB0aGUgYWN0aW9uIGNyZWF0b3IgdG8gcmV0cmlldmUgdGhlIEFkbWluIHJlbWFya2VycyBRSUcgZGV0YWlscy5cclxuICAgICAgICAgICAgcWlnQWN0aW9uQ3JlYXRvci5nZXRBZG1pblJlbWFya2VyUUlHU2VsZWN0b3JEYXRhKHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEludm9raW5nIHRoZSBhY3Rpb24gY3JlYXRvciB0byByZXRyaWV2ZSB0aGUgUUlHIGxpc3QgZm9yIHRoZSBRSUcgU2VsZWN0b3JcclxuICAgICAgICAgICAgcWlnQWN0aW9uQ3JlYXRvci5nZXRRSUdTZWxlY3RvckRhdGEocWlnSWQsIHRydWUsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FuY2VsIGNsaWNrIG9uIGxvY2tzIGluIHFpZyBwb3B1cFxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyb2YgRm9vdGVyXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25DYW5jZWxDbGlja09mTG9ja3NJblFpZ1BvcHVwID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICByZVJlbmRlckxvY2tzSW5RaWdQb3BVcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvbkxvZ291dENsaWNrT2ZMb2Nrc0luUWlnUG9wdXAgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5vblllc0NsaWNrT2ZMb2dvdXRDb25maXJtYXRpb24oZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICByZVJlbmRlckxvY2tzSW5RaWdQb3BVcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBuYXZpZ2F0ZVRvUWlnRnJvbUxvY2tlZExpc3QgPSAoXHJcbiAgICAgICAgaXNEYXRhRnJvbVNlYXJjaDogYm9vbGVhbiA9IGZhbHNlLFxyXG4gICAgICAgIGlzRGF0YUZyb21IaXN0b3J5OiBib29sZWFuID0gZmFsc2UsXHJcbiAgICAgICAgaXNGcm9tTG9ja3NJblBvcFVwOiBib29sZWFuID0gZmFsc2VcclxuICAgICkgPT4ge1xyXG4gICAgICAgIGlmIChpc0Zyb21Mb2Nrc0luUG9wVXApIHtcclxuICAgICAgICAgICAgbGV0IGNoYW5nZU9wZXJhdGlvbk1vZGVQcm9taXNlID0gdXNlckluZm9BY3Rpb25DcmVhdG9yLmNoYW5nZU9wZXJhdGlvbk1vZGUoXHJcbiAgICAgICAgICAgICAgICBlbnVtcy5NYXJrZXJPcGVyYXRpb25Nb2RlLlRlYW1NYW5hZ2VtZW50XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbWFya1NjaGVtZUdyb3VwQ0NQcm9taXNlID0gY2NBY3Rpb25DcmVhdG9yLmdldE1hcmtTY2hlbWVHcm91cENDcyhcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ucXVlc3Rpb25QYXBlclBhcnRJZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBsZXQgb3BlblFJR1Byb21pc2U7XHJcbiAgICAgICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5nZXRPdmVydmlld0RhdGEpIHtcclxuICAgICAgICAgICAgICAgIG9wZW5RSUdQcm9taXNlID0gcWlnQWN0aW9uQ3JlYXRvci5vcGVuUUlHKFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3BlblFJR1Byb21pc2UgPSBxaWdBY3Rpb25DcmVhdG9yLmdldFFJR1NlbGVjdG9yRGF0YShcclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIFByb21pc2UuUHJvbWlzZVxyXG4gICAgICAgICAgICAgICAgLmFsbChbY2hhbmdlT3BlcmF0aW9uTW9kZVByb21pc2UsIG1hcmtTY2hlbWVHcm91cENDUHJvbWlzZSwgb3BlblFJR1Byb21pc2VdKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdDogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yLm9wZW5UZWFtTWFuYWdlbWVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHJlUmVuZGVyTG9ja3NJblFpZ1BvcFVwOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGRvTG9nb3V0UG9wdXAgPSAoaXNGcm9tTG9nb3V0OiBib29sZWFuLCBfbG9ja3NJblFpZ0RldGFpbHNMaXN0OiBhbnkpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoaXNGcm9tTG9nb3V0KSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIF9sb2Nrc0luUWlnRGV0YWlsc0xpc3QubG9ja3NJblFpZ0RldGFpbHNMaXN0ICYmXHJcbiAgICAgICAgICAgICAgICBfbG9ja3NJblFpZ0RldGFpbHNMaXN0LmxvY2tzSW5RaWdEZXRhaWxzTGlzdC5jb3VudCgpID4gMFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHFpZ0FjdGlvbkNyZWF0b3Iuc2hvd0xvY2tzSW5RaWdQb3B1cCh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvQWN0aW9uQ3JlYXRvci5zaG93TG9nb3V0UG9wdXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbiBjbGlraW5nIE9rIGJ1dHRvbiBvZiB0aGUgcmVzcG9uc2Ugc2VhcmNoIGZhaWxlZCBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uT2tDbGlja09mUmVzcG9uc2VTZWFyY2hGYWlsZWRFcnJvck1lc3NhZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzUmVzcG9uc2VTZWFyY2hGYWlsZWQ6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZUFkYXB0ZXJIZWxwZXIuY2xlYXJTdG9yYWdlQXJlYSgnbWVzc2FnaW5nJyk7XHJcbiAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5yZWZyZXNoTWVzc2FnZUZvbGRlcihlbnVtcy5NZXNzYWdlRm9sZGVyVHlwZS5JbmJveCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGVycm9yIG1lc3NhZ2UgdGhhdCBoYXMgdG8gYmUgc2hvd24gb24gcmVzcG9uc2Ugc2VhcmNoIGZhaWxlZCB3aGlsZSBhIHJlc3BvbnNlIGlzIGRlYWxsb2NhdGVkIGluIHRoZSBiYWNrZ3JvdW5kXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0UmVzcG9uc2VTZWFyY2hGYWlsZWRFcnJvck1lc3NhZ2UoKSB7XHJcbiAgICAgICAgbGV0IHNlYXJjaFJlc3BvbnNlRGF0YTogU2VhcmNoZWRSZXNwb25zZURhdGEgPSBtZXNzYWdlU3RvcmUuaW5zdGFuY2Uuc2VhcmNoUmVzcG9uc2VEYXRhO1xyXG4gICAgICAgIGxldCBxdWVzdGlvbkdyb3VwOiBzdHJpbmcgPSBtZXNzYWdlSGVscGVyLmdldERpc3BsYXlUZXh0KFxyXG4gICAgICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuZ2V0TWVzc2FnZURhdGEoc2VhcmNoUmVzcG9uc2VEYXRhLm1lc3NhZ2VJZClcclxuICAgICAgICApO1xyXG4gICAgICAgIGxldCBlcnJvckJvZHlQYXJhbWV0ZXI6IHN0cmluZ1tdID0gW3NlYXJjaFJlc3BvbnNlRGF0YS5kaXNwbGF5SWQsIHF1ZXN0aW9uR3JvdXBdO1xyXG5cclxuICAgICAgICBsZXQgZXJyb3JCb2R5OiBzdHJpbmcgPSBzdHJpbmdIZWxwZXIuZm9ybWF0KFxyXG4gICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5ib2R5LXJlc3BvbnNlLXJlbW92ZWQnKSxcclxuICAgICAgICAgICAgZXJyb3JCb2R5UGFyYW1ldGVyXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZXJyb3JCb2R5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc2hvdyBjb25maXJtYXRpb24gcG9wdXAgb24gc3VibWl0aW5nIHNpbXVsYXRpb24gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbnNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBmb3Igc3VibWl0IGFsbCB0aGUgbWFya2dyb3VwIGlkIHdpbGwgYWx3YXlzIGJlIHplcm9cclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuZ2V0TWFya0dyb3VwSWQgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1yZXNwb25zZS1kaWFsb2cuYm9keS1zaW11bGF0aW9uJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLnNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvbkRpYWxvZ3VlSGVhZGVyID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1yZXNwb25zZS1kaWFsb2cuaGVhZGVyJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LnN1Ym1pdC1hbGwtcmVzcG9uc2VzLWRpYWxvZy5ib2R5LXNpbXVsYXRpb24nXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltdWxhdGlvblJlc3BvbnNlU3VibWl0Q29uZmlybWF0aW9uRGlhbG9ndWVIZWFkZXIgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3Quc3VibWl0LWFsbC1yZXNwb25zZXMtZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cDogdHJ1ZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBvbiBjbGlja2luZyB5ZXMgYnV0dG9uIG9mIHNpbXVsYXRpb24gcmVzcG9uc2Ugc3VibWl0IGNvbmZpcm1hdGlvbiBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uWWVzQ2xpY2tPZlNpbXVsYXRpb25SZXNwb25zZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd1NpbXVsYXRpb25SZXNwb25zZVN1Ym1pdENvbmZpcm1hdGlvblBvcHVwOiBmYWxzZSB9KTtcclxuICAgICAgICBpZiAoc3VibWl0U3RvcmUuaW5zdGFuY2UuaXNTdWJtaXRGcm9tTWFya1NjaGVtZSkge1xyXG4gICAgICAgICAgICBzaW11bGF0aW9uTW9kZUhlbHBlci5jaGVja1N0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGlvbihcclxuICAgICAgICAgICAgICAgIGVudW1zLlBhZ2VDb250YWluZXJzLk5vbmUsXHJcbiAgICAgICAgICAgICAgICBlbnVtcy5QYWdlQ29udGFpbmVycy5Ob25lXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JBY3Rpb25DcmVhdG9yLnNldEJ1c3lJbmRpY2F0b3JJbnZva2VyKFxyXG4gICAgICAgICAgICAgICAgZW51bXMuQnVzeUluZGljYXRvckludm9rZXIuc3VibWl0SW5SZXNwb25zZVNjcmVlblxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBtYXJraW5nQWN0aW9uQ3JlYXRvci5zYXZlQW5kTmF2aWdhdGUoZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnN1Ym1pdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWYgc2ltdWxhdGlvbiByZXNwb25zZSBzdWJtaXNzaW9uIGhhcHBlbnMgZnJvbSB3b3JrbGlzdCwgdGhlbiBzdWJtaXNzaW9uXHJcbiAgICAgICAgICAgIC8vIG5lZWRzIHRvIGJlIGJsb2NrZWQgaWYgc3RhbmRhcmRpc2F0aW9uIHNldHVwIGlzIGNvbXBsZXRlZFxyXG4gICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmICghcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIuc3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb21pc2UgPSBxaWdBY3Rpb25DcmVhdG9yLmNoZWNrU3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0ZWQoXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuUGFnZUNvbnRhaW5lcnMuV29ya0xpc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuUGFnZUNvbnRhaW5lcnMuV29ya0xpc3RcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBQcm9taXNlLlByb21pc2UuYWxsKFtwcm9taXNlXSkudGhlbihmdW5jdGlvbiAoZGF0YTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbMF0gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2ltdWxhdGlvbkV4aXRlZFBvcHVwOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0FsbFNpbXVsYXRpb25FeGl0ZWRRaWdzOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN1Ym1pdFJlc3BvbnNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnN1Ym1pdFJlc3BvbnNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBvbiBjbGlja2luZyBubyBidXR0b24gb2Ygc2ltdWxhdGlvbiByZXNwb25zZSBzdWJtaXQgY29uZmlybWF0aW9uIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Ob0NsaWNrT2ZTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRCdXR0b24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dTaW11bGF0aW9uUmVzcG9uc2VTdWJtaXRDb25maXJtYXRpb25Qb3B1cDogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjYWxsIHdoZW4gc2hhcmUgdG9nZ2xlIGJ1dHRvbiBpcyB0dXJuZWQgb2ZmXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hhcmVDb25maXJtYXRpb25Qb3B1cCA9IChjbGllbnRUb2tlbjogc3RyaW5nLCBzaG93U2hhcmVQb3B1cDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hhcmVDb25maXJtYXRpb25DbGllbnRUb2tlbiA9IGNsaWVudFRva2VuO1xyXG4gICAgICAgIG1hcmtpbmdBY3Rpb25DcmVhdG9yLnNob3dPckhpZGVSZW1vdmVDb250ZXh0TWVudShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzU2hhcmVkOiBzaG93U2hhcmVQb3B1cCxcclxuICAgICAgICAgICAgZG9TaG93U2hhcmVDb25maXJtYXRpb25Qb3B1cDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIG9uIGNsaWNraW5nIHllcyBidXR0b24gb2Ygc2hhcmUgY29uZmlybWF0aW9uIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25ZZXNDbGlja09mU2hhcmVDb25maXJtYXRpb25Qb3B1cCgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93U2hhcmVDb25maXJtYXRpb25Qb3B1cDogZmFsc2UgfSk7XHJcbiAgICAgICAgYWNldGF0ZXNBY3Rpb25DcmVhdG9yLnNoYXJlQWNldGF0ZSh0aGlzLnNoYXJlQ29uZmlybWF0aW9uQ2xpZW50VG9rZW4pO1xyXG4gICAgICAgIHRoaXMuc2hhcmVDb25maXJtYXRpb25DbGllbnRUb2tlbiA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9uIGNsaWNraW5nIG5vIGJ1dHRvbiBvZiBzaGFyZSBjb25maXJtYXRpb24gcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk5vQ2xpY2tPZlNoYXJlQ29uZmlybWF0aW9uUG9wdXAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRvU2hvd1NoYXJlQ29uZmlybWF0aW9uUG9wdXA6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMuc2hhcmVDb25maXJtYXRpb25DbGllbnRUb2tlbiA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBzaW11bGF0aW9uIGV4aXRlZCBxaWdzIGluIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyU2ltdWxhdGlvbkV4aXRlZFFpZ3NQb3B1cCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgc2Vjb25kYXJ5Q29udGVudDogc3RyaW5nID0gbnVsbDtcclxuICAgICAgICBsZXQgZm9vdGVyQ29udGVudDogc3RyaW5nID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zaG93QWxsU2ltdWxhdGlvbkV4aXRlZFFpZ3MpIHtcclxuICAgICAgICAgICAgc2Vjb25kYXJ5Q29udGVudCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5leGl0ZWQtc2ltdWxhdGlvbi1kaWFsb2cuc3ViaGVhZGVyLW11bHRpcGxlLXFpZ3MnXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGZvb3RlckNvbnRlbnQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuZXhpdGVkLXNpbXVsYXRpb24tZGlhbG9nLmJvZHktbXVsdGlwbGUtcWlncydcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWNvbmRhcnlDb250ZW50ID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdtYXJraW5nLndvcmtsaXN0LmV4aXRlZC1zaW11bGF0aW9uLWRpYWxvZy5zdWJoZWFkZXItc2luZ2xlLXFpZydcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgZm9vdGVyQ29udGVudCA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnbWFya2luZy53b3JrbGlzdC5leGl0ZWQtc2ltdWxhdGlvbi1kaWFsb2cuYm9keS1zaW5nbGUtcWlnJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgRXhhbSBib2R5IENDJ3Mgbm90IGxvYWRlZCB5ZXQsIHRoZW4gZG8gbm90IHNob3cgdGhlIHNpbXVsYXRpb24gZXhpdGVkIHFpZ3MgcG9wdXBcclxuICAgICAgICBsZXQgc2ltdWxhdGlvbkV4aXRlZFFpZ3NQb3B1cCA9IGNjU3RvcmUuaW5zdGFuY2UuaXNFeGFtQm9keUNDTG9hZGVkID8gKFxyXG4gICAgICAgICAgICA8R2VuZXJpY0RpYWxvZ1xyXG4gICAgICAgICAgICAgICAgY29udGVudD17bnVsbH1cclxuICAgICAgICAgICAgICAgIG11bHRpTGluZUNvbnRlbnQ9e3RoaXMuZ2V0U2ltdWxhdGlvbk1vZGVFeGl0ZWRRaWdzKCl9XHJcbiAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmtpbmcud29ya2xpc3QuZXhpdGVkLXNpbXVsYXRpb24tZGlhbG9nLmhlYWRlcidcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnlDb250ZW50PXtzZWNvbmRhcnlDb250ZW50fVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVBvcHVwPXt0aGlzLnN0YXRlLnNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXB9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMuZXJyb3ItZGlhbG9nLm9rLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgb25Pa0NsaWNrPXt0aGlzLm9uT0tDbGlja09mU2ltdWxhdGlvbkV4aXRlZFFpZ3NQb3B1cC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgaWQ9J21vdmVTaW11bGF0aW9uJ1xyXG4gICAgICAgICAgICAgICAga2V5PSdtb3ZlU2ltdWxhdGlvbk1lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICBwb3B1cERpYWxvZ1R5cGU9e2VudW1zLlBvcHVwRGlhbG9nVHlwZS5TaW11bGF0aW9uRXhpdGVkfVxyXG4gICAgICAgICAgICAgICAgZm9vdGVyQ29udGVudD17Zm9vdGVyQ29udGVudH1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNpbXVsYXRpb25FeGl0ZWRRaWdzUG9wdXA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBzaW11bGF0aW9uIG1vZGUgZXhpdGVkIHFpZ3NcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRTaW11bGF0aW9uTW9kZUV4aXRlZFFpZ3MoKTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICAgICAgbGV0IHFpZ05hbWVzOiBBcnJheTxzdHJpbmc+ID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2hvd1NpbXVsYXRpb25FeGl0ZWRQb3B1cCkge1xyXG4gICAgICAgICAgICAvLyBJZiBhbGwgcWlncyBuZWVkIHRvIGJlIHNob3duIHRoZW4uIFdoZW4gbmF2aWdhdGluZyB0byBxaWdzZWxlY3Rvci5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2hvd0FsbFNpbXVsYXRpb25FeGl0ZWRRaWdzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2ltdWxhdGlvbk1vZGVFeGl0ZWRRaWdMaXN0OiBJbW11dGFibGUuTGlzdDxcclxuICAgICAgICAgICAgICAgICAgICBTaW11bGF0aW9uTW9kZUV4aXRlZFFpZ1xyXG4gICAgICAgICAgICAgICAgICAgID4gPSBJbW11dGFibGUuTGlzdDxTaW11bGF0aW9uTW9kZUV4aXRlZFFpZz4oKTtcclxuICAgICAgICAgICAgICAgIHNpbXVsYXRpb25Nb2RlRXhpdGVkUWlnTGlzdCA9XHJcbiAgICAgICAgICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2ltdWxhdGlvbk1vZGVFeGl0ZWRRaWdMaXN0ID09PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTaW11bGF0aW9uTW9kZUV4aXRlZFFpZ0xpc3QucWlnTGlzdDtcclxuICAgICAgICAgICAgICAgIGlmIChzaW11bGF0aW9uTW9kZUV4aXRlZFFpZ0xpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaW11bGF0aW9uTW9kZUV4aXRlZFFpZ0xpc3QubWFwKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoX3NpbXVsYXRpb25Nb2RlRXhpdGVkUWlnOiBTaW11bGF0aW9uTW9kZUV4aXRlZFFpZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHFpZ05hbWVUb0Rpc3BsYXkgPSBzdHJpbmdGb3JtYXRIZWxwZXIuZm9ybWF0QXdhcmRpbmdCb2R5UUlHKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaW11bGF0aW9uTW9kZUV4aXRlZFFpZy5tYXJrU2NoZW1lR3JvdXBOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaW11bGF0aW9uTW9kZUV4aXRlZFFpZy5hc3Nlc3NtZW50Q29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2ltdWxhdGlvbk1vZGVFeGl0ZWRRaWcuc2Vzc2lvbk5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NpbXVsYXRpb25Nb2RlRXhpdGVkUWlnLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaW11bGF0aW9uTW9kZUV4aXRlZFFpZy5xdWVzdGlvblBhcGVyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywgLy8gVE8gRE86IGhhdmUgdG8gcmV0cml2ZSBDb21wb25lbnROYW1lIGFuZCBBc3Nlc3NtZW50TmFtZSBvbiBzaW11bGF0aW9uUUlnIGRldGFpbHMuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nRm9ybWF0SGVscGVyLmdldE92ZXJ2aWV3UUlHTmFtZUZvcm1hdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcWlnTmFtZXMucHVzaChxaWdOYW1lVG9EaXNwbGF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2hvdyBvbmx5IHRoZSBjdXJycmVudCBxaWcuIFdoZW4gbmF2aWdhdGluZyBmcm9tIHdvcmtsaXN0L3Jlc3BvbnNlIHRvIGFyZWEgb3RoZXIgdGhhblxyXG4gICAgICAgICAgICAgICAgLy8gcWlnc2VsZWN0b3JcclxuICAgICAgICAgICAgICAgIGxldCBxaWdEYXRhID0gcWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXI7XHJcbiAgICAgICAgICAgICAgICBsZXQgcWlnTmFtZVRvRGlzcGxheSA9IHN0cmluZ0Zvcm1hdEhlbHBlci5mb3JtYXRBd2FyZGluZ0JvZHlRSUcoXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnRGF0YS5tYXJrU2NoZW1lR3JvdXBOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ0RhdGEuYXNzZXNzbWVudENvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcWlnRGF0YS5zZXNzaW9uTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBxaWdEYXRhLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ0RhdGEucXVlc3Rpb25QYXBlck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgJycsIC8vIFRPIERPOiBoYXZlIHRvIHJldHJpdmUgQ29tcG9uZW50TmFtZSBhbmQgQXNzZXNzbWVudE5hbWUgb24gc2ltdWxhdGlvblFJZyBkZXRhaWxzLlxyXG4gICAgICAgICAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZ0Zvcm1hdEhlbHBlci5nZXRPdmVydmlld1FJR05hbWVGb3JtYXQoKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHFpZ05hbWVzLnB1c2gocWlnTmFtZVRvRGlzcGxheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHFpZ05hbWVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gT2sgYnV0dG9uIGNsaWNrIG9mIHNpbXVsYXRpb24gZXhpdGVkIHFpZ3MgcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk9LQ2xpY2tPZlNpbXVsYXRpb25FeGl0ZWRRaWdzUG9wdXAgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRDb250YWluZXIgPSBuYXZpZ2F0aW9uU3RvcmUuaW5zdGFuY2UuY29udGFpbmVyUGFnZTtcclxuICAgICAgICAvLyBXaGVuIHRoZSBwb3B1cCBpcyBkaXNwbGF5ZWQgaW4gdGhlIHFpZ3NlbGVjdG9yXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnNob3dBbGxTaW11bGF0aW9uRXhpdGVkUWlncyAmJlxyXG4gICAgICAgICAgICBjdXJyZW50Q29udGFpbmVyID09PSBlbnVtcy5QYWdlQ29udGFpbmVycy5RaWdTZWxlY3RvclxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBzaW11bGF0aW9uTW9kZUhlbHBlci5jbGVhckNhY2hlQmVmb3JCZWZvcmVTaW11bGF0aW9uVGFyZ2V0Q29tcGxldGlvbigpO1xyXG4gICAgICAgICAgICBzaW11bGF0aW9uTW9kZUhlbHBlci5oYW5kbGVTaW11bGF0aW9uVGFyZ2V0Q29tcGxldGlvbih0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBXaGVuIG9ubHkgdGhlIGN1cnJlbnQgcWlnIGlzIHNob3duIGluIHRoZSBwb3B1cFxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUuc2hvd0FsbFNpbXVsYXRpb25FeGl0ZWRRaWdzKSB7XHJcbiAgICAgICAgICAgICAgICBzaW11bGF0aW9uTW9kZUhlbHBlci5jbGVhckNhY2hlQmVmb3JCZWZvcmVTaW11bGF0aW9uVGFyZ2V0Q29tcGxldGlvbigpO1xyXG4gICAgICAgICAgICAgICAgc2ltdWxhdGlvbk1vZGVIZWxwZXIuaGFuZGxlU2ltdWxhdGlvblRhcmdldENvbXBsZXRpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnByb2Nlc3NCYXNlZE9uU2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludCh0aGlzLnRyaWdnZXJQb2ludEFmdGVyQ2xvc2UpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclBvaW50QWZ0ZXJDbG9zZSA9IDA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2hlbiBzdGFuZGFyZGlzYXRpb24gc2V0dXAgaXMgY29tcGxldGVkIGluIGJhY2tncm91bmRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGlvbkluQmFja2dyb3VuZCA9ICgpID0+IHtcclxuICAgICAgICBpZiAobmF2aWdhdGlvblN0b3JlLmluc3RhbmNlLmNvbnRhaW5lclBhZ2UgPT09IGVudW1zLlBhZ2VDb250YWluZXJzLldvcmtMaXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgc2hvd1NpbXVsYXRpb25FeGl0ZWRQb3B1cDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNob3dBbGxTaW11bGF0aW9uRXhpdGVkUWlnczogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIHNpbXVsYXRpb24gdGFyZ2V0IGNvbXBsZXRpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblNpbXVsYXRpb25UYXJnZXRDb21wbGV0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBuYXZpZ2F0ZVRvID0gcWlnU3RvcmUuaW5zdGFuY2UubmF2aWdhdGVUb0FmdGVyU3RkU2V0dXBDaGVjaztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc2hvd1NpbXVsYXRpb25FeGl0ZWRQb3B1cDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuc2hvd0FsbFNpbXVsYXRpb25FeGl0ZWRRaWdzKSB7XHJcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0ZVRvID09PSBlbnVtcy5QYWdlQ29udGFpbmVycy5NZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRNZXNzYWdlUGFnZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5hdmlnYXRlVG8gPT09IGVudW1zLlBhZ2VDb250YWluZXJzLldvcmtMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRXb3JrbGlzdCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5hdmlnYXRlVG8gPT09IGVudW1zLlBhZ2VDb250YWluZXJzLlRlYW1NYW5hZ2VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRUZWFtTWFuYWdlbWVudCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIGdldHRpbmcgdGhlIHNpbXVsYXRpb24gZXhpdGVkIHFpZ3MgYW5kIGxvY2tzIGluIHFpZ3MgZGF0YVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU2ltdWxhdGlvbkV4aXRlZFFpZ3NBbmRMb2Nrc0luUWlnc1JlY2lldmVkID0gKGlzRnJvbUxvZ291dDogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHNpbXVsYXRpb25Nb2RlSGVscGVyLmlzU2ltdWxhdGlvbkV4aXRlZFFpZ0RhdGFBdmFpbGFibGUpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIHNpbXVsYXRpb24gZXhpdGVkIHFpZ3MgdGhlbiBzaG93IHRoZSBwb3B1cFxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzaG93QWxsU2ltdWxhdGlvbkV4aXRlZFFpZ3M6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzaW11bGF0aW9uTW9kZUhlbHBlci5pc0xvY2tJblFpZ3NEYXRhQXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgIC8vIFNob3cgbG9ja3MgaWYgdGhlcmUgaXMgbm8gc2ltdWxhdGlvblxyXG4gICAgICAgICAgICBxaWdBY3Rpb25DcmVhdG9yLnNob3dMb2Nrc0luUWlnUG9wdXAodHJ1ZSwgaXNGcm9tTG9nb3V0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gc3RhbmRhcmRpc2F0aW9uIHNldHVwIGNvbXBsZXRpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGlvbiA9ICgpID0+IHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmlzU3RhbmRhcmRpc2F0aW9uc2V0dXBDb21wbGV0ZWRGb3JUaGVRaWcgJiZcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uc3RhbmRhcmRpc2F0aW9uU2V0dXBDb21wbGV0ZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHNob3dTaW11bGF0aW9uRXhpdGVkUG9wdXA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzaG93QWxsU2ltdWxhdGlvbkV4aXRlZFFpZ3M6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocWlnU3RvcmUuaW5zdGFuY2UubmF2aWdhdGVUb0FmdGVyU3RkU2V0dXBDaGVjayA9PT0gZW51bXMuUGFnZUNvbnRhaW5lcnMuTG9naW4pIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2tpbmcgd2hldGhlciB0aGVyZSBhcmUgYW55IGxvY2tlZCBleGFtaW5lcnMgY3VycmVudGx5LCBpZiB0aGUgc3RhbmRhcmRpc2F0aW9uIHNldHVwIHdhcyBub3QgY29tcGxldGVkXHJcbiAgICAgICAgICAgIC8vIGFuZCB0aGUgdXNlciB3YXMgdHJ5aW5nIHRvIGxvZ291dC5cclxuICAgICAgICAgICAgcWlnQWN0aW9uQ3JlYXRvci5nZXRMb2Nrc0luUWlncyh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gZ2V0dGluZyB0aGUgc2ltdWxhdGlvbiBleGl0ZWQgcWlncyBkYXRhXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TaW11bGF0aW9uRXhpdGVkUWlnc1JlY2lldmVkID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChzaW11bGF0aW9uTW9kZUhlbHBlci5pc1NpbXVsYXRpb25FeGl0ZWRRaWdEYXRhQXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgc2hvd1NpbXVsYXRpb25FeGl0ZWRQb3B1cDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNob3dBbGxTaW11bGF0aW9uRXhpdGVkUWlnczogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGJlIGludm9rZWQgd2hlbiBicm93c2VyIGlzIG9ubGluZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVPbmxpbmVTdGF0dXMgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gc2VuZHMgcGluZyB0byB2YWxpZGF0ZSBuZXR3b3JrIGlzIG9mZmxpbmVcclxuICAgICAgICBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IudmFsaWRhdGVOZXRXb3JrU3RhdHVzKHRydWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIG9rIGNsaWNrIG9mIHN1Ym1pdCByZXNwb25zZSBlcnJvciBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU3VibWl0UmVzcG9uc2VFcnJvclBvcHVwT2tDbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNTdWJtaXRFcnJvclBvcERpc3BsYXlpbmc6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhdGVDb250ZW50UmVmcmVzaCgpO1xyXG4gICAgICAgIGlmIChlY291cnNld29ya0hlbHBlci5pc0VDb3Vyc2V3b3JrQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGVjb3Vyc2V3b3JrSGVscGVyLmNsZWFyRWNvdXJzZXdvcmtGaWxlRGF0YSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFdvcmtsaXN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIE9LIGNsaWNrIG9mIEF1dG96b25lZCBtZXNzYWdlIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25BdXRvem9uZWRXYXJuaW5nTWVzc2FnZU9rQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy9jaGFuZ2UgdGhlIHN0YXRlIHRvIGZhbHNlIHRvIGNsb3NlIHRoZSBwb3B1cFxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0F1dG96b25lZE1lc3NhZ2VQb3B1cERpc3BsYXlpbmc6IGZhbHNlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIEVjb3Vyc2V3b3JrIEZpbGUgZGF0YSBjbGVhcmVkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25FY291cnNld29ya0ZpbGVEYXRhQ2xlYXJlZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBlY291cnNld29ya0hlbHBlci5mZXRjaEVDb3Vyc2VXb3JrQ2FuZGlkYXRlU2NyaXB0TWV0YWRhdGEobnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkV29ya2xpc3QoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gcmVzZXQgdGhlIGFjZXRhdGUgc2F2ZSBpbnByb2dyZXNzIHN0YXR1cy5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZXNldEFjZXRhdGVTYXZlSW5Qcm9ncmVzc1N0YXR1cygpIHtcclxuICAgICAgICAvLyBjaGVja2luZyB3aGV0aGVyIGFueSBhZGRkZWQvbW9kaWZpZWQgYWNldGF0ZXMgYXJlIGZvdW5kIGluIHRoZSBhY2V0YXRlbGlzdCBmcm9tIHN0b3JlLlxyXG4gICAgICAgIGxldCBtb2RpZmllZEFjZXRhdGVzTGlzdDogSW1tdXRhYmxlLkxpc3Q8XHJcbiAgICAgICAgICAgIEFjZXRhdGVcclxuICAgICAgICAgICAgPiA9IHFpZ1N0b3JlLmluc3RhbmNlLmdldE1vZGlmaWVkQWNldGF0ZXNMaXN0KCk7XHJcbiAgICAgICAgaWYgKG1vZGlmaWVkQWNldGF0ZXNMaXN0ICYmIG1vZGlmaWVkQWNldGF0ZXNMaXN0LnNpemUgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIEludm9rZSBhY3Rpb24gY3JlYXRvciB0byBzZXQgc2F2ZUluUHJvZ3Jlc3Mgc3RhdHVzIHRvIHRydWUgYmVmb3JlIGNhbGxpbmcgYWNldGF0ZSBzYXZlIHByb2Nlc3MuXHJcbiAgICAgICAgICAgIGFjZXRhdGVzQWN0aW9uQ3JlYXRvci5yZXNldEFjZXRhdGVTYXZlSW5Qcm9ncmVzc1N0YXR1cyhtb2RpZmllZEFjZXRhdGVzTGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgYWNldGF0ZXMgc2F2ZUluUHJvZ3Jlc3Mgc3RhdHVzIHJlY2VpdmVkIGNhbGxiYWNrIGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUmVzZXRBY2V0YXRlc1NhdmVJblByb2dyZXNzUmVjZWl2ZWQobW9kaWZpZWRBY2V0YXRlc0xpc3Q6IEltbXV0YWJsZS5MaXN0PEFjZXRhdGU+KSB7XHJcbiAgICAgICAgbGV0IHNhdmVhY2V0YXRlc2FyZ3VtZW50czogU2F2ZUFjZXRhdGVzQXJndW1lbnRzID0ge1xyXG4gICAgICAgICAgICBUb29sczogbW9kaWZpZWRBY2V0YXRlc0xpc3RcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGRiIGNhbGwgZm9yIHNhdmluZyB0aGUgYWNldGF0ZSBsaXN0IGluIGRhdGFiYXNlLlxyXG4gICAgICAgIGFjZXRhdGVzQWN0aW9uQ3JlYXRvci5zYXZlQWNldGF0ZXMoc2F2ZWFjZXRhdGVzYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbXBsZXRlIFN0YW5kYXJkaXNhdGlvbiByZWNlaXZlZCBjYWxsYmFjayBldmVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uU2V0dXAoKSB7XHJcbiAgICAgICAgaWYgKCFzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmlzY29tcGxldGVTdGFuZGFyZGlzYXRpb25TdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Db21wbGV0ZVN0YW5kYXJkaXNhdGlvblZhbGlkYXRlLCBpc0J1c3k6IGZhbHNlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBhdXRvem9uZWQgbWVzc2FnZSBzaG91bGQgYmUgZGlzcGxheWVkLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwVmlzaWJsZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5mb290ZXJUeXBlICE9PSBlbnVtcy5Gb290ZXJUeXBlLk1lc3NhZ2UpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZEF3YXJkaW5nQ2FuZGlkYXRlRGF0YTogQXdhcmRpbmdDYW5kaWRhdGVEZXRhaWxzO1xyXG4gICAgICAgICAgICBsZXQgZXhhbVNlc3Npb25JRDogbnVtYmVyO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNBd2FyZGluZ01vZGUpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkQXdhcmRpbmdDYW5kaWRhdGVEYXRhID0gYXdhcmRpbmdIZWxwZXIuYXdhcmRpbmdTZWxlY3RlZENhbmRpZGF0ZURhdGEoKTtcclxuICAgICAgICAgICAgICAgIGV4YW1TZXNzaW9uSUQgPSBzZWxlY3RlZEF3YXJkaW5nQ2FuZGlkYXRlRGF0YS5yZXNwb25zZUl0ZW1Hcm91cHNbMF0uZXhhbVNlc3Npb25JRDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9DaGVja2luZyB0aGUgQ0MgdmFsdWVzXHJcbiAgICAgICAgICAgIGxldCBpc0F1dG96b25lZCA9XHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY0hlbHBlclxyXG4gICAgICAgICAgICAgICAgICAgIC5nZXRFeGFtU2Vzc2lvbkNDVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNOYW1lcy5BdXRvWm9uaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNBd2FyZGluZ01vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBleGFtU2Vzc2lvbklEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbVNlc3Npb25JZFxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnICYmXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY0hlbHBlclxyXG4gICAgICAgICAgICAgICAgICAgIC5nZXRFeGFtU2Vzc2lvbkNDVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNOYW1lcy5EaXNwbGF5QXV0b3pvbmVkUmVzcG9uc2VzV2FybmluZyxcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzQXdhcmRpbmdNb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZXhhbVNlc3Npb25JRFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1TZXNzaW9uSWRcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcclxuICAgICAgICAgICAgLy9nZXR0aW5nIHRoZSBzYXZlZCB1c2VyT3B0aW9uIHZhbHVlXHJcbiAgICAgICAgICAgIGxldCB1c2VyT3B0aW9uQXV0b3pvbmVkVmFsdWUgPVxyXG4gICAgICAgICAgICAgICAgdXNlck9wdGlvbnNIZWxwZXIuZ2V0VXNlck9wdGlvbkJ5TmFtZShcclxuICAgICAgICAgICAgICAgICAgICB1c2VyT3B0aW9uS2V5cy5BVVRPWk9ORURfV0FSTklOR19NRVNTQUdFLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNBd2FyZGluZ01vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhd2FyZGluZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkQ2FuZGlkYXRlRGF0YS5yZXNwb25zZUl0ZW1Hcm91cHNbMF0uZXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5leGFtaW5lclJvbGVJZFxyXG4gICAgICAgICAgICAgICAgKSA9PT0gJ3RydWUnO1xyXG4gICAgICAgICAgICAvL3NldCBzdGF0ZSB0byBkaXNwbGF5IEF1dG96b25lZCBtZXNzYWdlIHBvcHVwXHJcbiAgICAgICAgICAgIGlmIChpc0F1dG96b25lZCAmJiB1c2VyT3B0aW9uQXV0b3pvbmVkVmFsdWUgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQXV0b3pvbmVkTWVzc2FnZVBvcHVwRGlzcGxheWluZzogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL3NhdmluZyB1c2Vyb3B0aW9uIGZvciBhdXRvem9uZWQgbWVzc2FnZSBwb3B1cFxyXG4gICAgICAgICAgICAgICAgdXNlck9wdGlvbnNIZWxwZXIuc2F2ZShcclxuICAgICAgICAgICAgICAgICAgICB1c2VyT3B0aW9uS2V5cy5BVVRPWk9ORURfV0FSTklOR19NRVNTQUdFLFxyXG4gICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHRydWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNBd2FyZGluZ01vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhd2FyZGluZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkQ2FuZGlkYXRlRGF0YS5yZXNwb25zZUl0ZW1Hcm91cHNbMF0uZXhhbWluZXJSb2xlSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5leGFtaW5lclJvbGVJZFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9uIGNsaWNrIHNlbGVjdCB0byBtYXJrIHBvcHVwIGluIFN0ZCBzZXR1cCBjZW50cmUgc2NyaXB0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TZWxlY3RTdGRTZXR1cFJlc3BvbnNlVG9NYXJrID0gKHBvcHVwVHlwZTogZW51bXMuUG9wVXBUeXBlLFxyXG4gICAgICAgIHByb3Zpc2lvbmFsUWlnRGV0YWlsczogSW1tdXRhYmxlLkxpc3Q8UHJvdmlzaW9uYWxRSUdEZXRhaWxzUmV0dXJuPikgPT4ge1xyXG4gICAgICAgIGxldCBwcm92aXNpb25hbE1hcmtpbmdUeXBlOiBlbnVtcy5Qcm92aXNpb25hbE1hcmtpbmdUeXBlID0gZW51bXMuUHJvdmlzaW9uYWxNYXJraW5nVHlwZS5Ob25lO1xyXG4gICAgICAgIGlmIChwb3B1cFR5cGUgPT09IGVudW1zLlBvcFVwVHlwZS5TZWxlY3RUb01hcmtBc1Byb3Zpc2lvbmFsICYmIHRoaXMuaXNDb21tb25Qcm92aXNpb25hbFN0YW5kYXJkaXNhdGlvbkNjT24oKSkge1xyXG4gICAgICAgICAgICBwcm92aXNpb25hbE1hcmtpbmdUeXBlID0gZW51bXMuUHJvdmlzaW9uYWxNYXJraW5nVHlwZS5BbGxvY2F0ZVRvQWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvdmlzaW9uYWxRaWdEZXRhaWxzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdWxhdGVDcmVhdGVNdWx0aVFJR1Byb3Zpc2lvbmFsc1BvcFVwRGF0YShwcm92aXNpb25hbFFpZ0RldGFpbHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcG9wVXBUeXBlOiBwb3B1cFR5cGUsIHByb3Zpc2lvbmFsTWFya2luZ1R5cGU6IHByb3Zpc2lvbmFsTWFya2luZ1R5cGUgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogb24gY2FuY2VsIGNsaWNrIG9mIHRoZSBzZWxlY3QgcmVzcG9uc2UgdG8gbWFyayBhcyBwcm92aXNpb25hbCBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQ2FuY2VsQ2xpY2tPZlNlbGVjdFJlc3BvbnNlVG9NYXJrYXNQcm92aXNpb25hbCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuTm9uZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjYW5jZWwgY2xpY2sgb24gbWFyayBhcyBkZWZpbml0aXZlIHBvcHVwLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQ2FuY2VsQ2xpY2tPbk1hcmtBc0RlZmluaXRpdmVQb3BVcCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuTm9uZSB9KTtcclxuICAgICAgICB0aGlzLmNvcHlNYXJrc0FzRGVmaW5pdGl2ZVNlbGVjdGVkID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzdWJtaXQgY2xpY2sgb24gbWFyayBhcyBkZWZpbml0aXZlIHBvcHVwLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN1Ym1pdENsaWNrT25NYXJrQXNEZWZpbml0aXZlUG9wVXAgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmUgfSk7XHJcblxyXG4gICAgICAgIGxldCBzdGFuZGFyZGlzYXRpb25SZXNwb25zZURhdGFFeGFtaW5lclJvbGVJZCA9IDA7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRFeGFtaW5lclJvbGVJZCA9IDA7XHJcbiAgICAgICAgbGV0IHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGF0YSA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZmV0Y2hTdGFuZGFyZGlzYXRpb25SZXNwb25zZURhdGEoKTtcclxuICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEYXRhKSB7XHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGF0YUV4YW1pbmVyUm9sZUlkID0gc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEYXRhLmV4YW1pbmVyUm9sZUlkO1xyXG4gICAgICAgICAgICBjdXJyZW50RXhhbWluZXJSb2xlSWQgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5leGFtaW5lclJvbGVJZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IuY29weU1hcmtzQW5kQW5ub3RhdGlvbnNBc0RlZmluaXRpdmUodGhpcy5jb3B5TWFya3NBc0RlZmluaXRpdmVTZWxlY3RlZCxcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEYXRhRXhhbWluZXJSb2xlSWQgIT09IGN1cnJlbnRFeGFtaW5lclJvbGVJZCwgcmVzcG9uc2VIZWxwZXIuaGFzQWRkaXRpb25hbE9iamVjdCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogb24gbWFyayBsYXRlciBjbGlja2VkIGZvciBzZWxlY3QgcmVzcG9uc2VzIHBvcHVwIHRvIG1vdmUgYXMgcHJvdmlzaW9uYWxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RQcm92aXNpb25hbE1hcmtMYXRlckNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZHMgPSBBcnJheTxOdW1iZXI+KCk7XHJcbiAgICAgICAgaWYgKHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zICYmIHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aVFpZ0NoZWNrYm94SXRlbXMubWFwKChpdGVtOiBnZW5lcmljQ2hlY2tCb3hJdGVtcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaXNDaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWRzLnB1c2goaXRlbS5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkcy5wdXNoKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLmNyZWF0ZVN0YW5kYXJkaXNhdGlvblJpZyhzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkUmVzcG9uc2VJZCxcclxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWRzLFxyXG4gICAgICAgICAgICBlbnVtcy5NYXJraW5nTW9kZS5QcmVTdGFuZGFyZGlzYXRpb24sIGZhbHNlLCB0aGlzLnN0YXRlLnByb3Zpc2lvbmFsTWFya2luZ1R5cGUpO1xyXG4gICAgfTtcclxuXHJcblx0LyoqXHJcblx0ICogb24gbWFyayBub3cgY2xpY2tlZCBmb3Igc2VsZWN0IHJlc3BvbnNlcyBwb3B1cCB0byBtb3ZlIGFzIHByb3Zpc2lvbmFsXHJcblx0ICovXHJcbiAgICBwcml2YXRlIHNlbGVjdFByb3Zpc2lvbmFsTWFya05vd0NsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZHMgPSBBcnJheTxOdW1iZXI+KCk7XHJcbiAgICAgICAgaWYgKHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zICYmIHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aVFpZ0NoZWNrYm94SXRlbXMubWFwKChpdGVtOiBnZW5lcmljQ2hlY2tCb3hJdGVtcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaXNDaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWRzLnB1c2goaXRlbS5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcmtTY2hlbWVHcm91cElkcy5wdXNoKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLmNyZWF0ZVN0YW5kYXJkaXNhdGlvblJpZyhzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkUmVzcG9uc2VJZCxcclxuICAgICAgICAgICAgbWFya1NjaGVtZUdyb3VwSWRzLFxyXG4gICAgICAgICAgICBlbnVtcy5NYXJraW5nTW9kZS5QcmVTdGFuZGFyZGlzYXRpb24sIHRydWUsIHRoaXMuc3RhdGUucHJvdmlzaW9uYWxNYXJraW5nVHlwZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogbmF2aWdhdGUgdG8gc3RhbmRhcmRpc2F0aW9uIHNldHVwIHNjcmVlbiBvbiBtYXJrIGxhdGVyXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TdGFuZGFyZGlzYXRpb25SaWdDcmVhdGVkID0gKGVycm9ySW5SaWdDcmVhdGlvbjogYm9vbGVhbiwgZG9NYXJrTm93OiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmUgfSk7XHJcbiAgICAgICAgaWYgKCFlcnJvckluUmlnQ3JlYXRpb24pIHtcclxuICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkU3RhbmRhcmRpc2F0aW9uU2V0dXAoKTtcclxuICAgICAgICAgICAgLy8gcHJvbWlzZSB0byBnZXQgc3RhbmRhcmRpc2F0aW9uIHRhcmdldCBkZXRhaWxzXHJcbiAgICAgICAgICAgIGxldCBnZXRTdGFuZGFyZGlzYXRpb25UYXJnZXREZXRhaWxzID0gc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5nZXRTdGFuZGFyZGlzYXRpb25UYXJnZXREZXRhaWxzXHJcbiAgICAgICAgICAgICAgICAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCwgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5leGFtaW5lclJvbGVJZCk7XHJcblxyXG4gICAgICAgICAgICBnZXRTdGFuZGFyZGlzYXRpb25UYXJnZXREZXRhaWxzLnRoZW4oZnVuY3Rpb24gKGl0ZW06IGFueSkge1xyXG4gICAgICAgICAgICAgICAgLy8gbG9hZCBzZWxlY3QgUmVzcG9uc2VzIGRldGFpbHMgb24gY29taW5nIGZyb20gcmVzcG9uc2VcclxuICAgICAgICAgICAgICAgIGxldCBzdGFuZGFyZGlzYXRpb253b3JsaXN0ID0gc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5zdGFuZGFyZGlzYXRpb25TZXR1cFdvcmtMaXN0U2VsZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgKGRvTWFya05vdyA/IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2UgOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5TZWxlY3RSZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZXhhbWluZXJSb2xlSWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVsb2FkIHVuY2xhc3NpZmllZCB3b3JrbGlzdFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlUmVuZGVyVW5jbGFzc2lmaWVkV29ya2xpc3QgPSAoaXNGcm9tUmVzcG9uc2U6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAvLyBVcGRhdGUgc3RhbmRhcmRpc2F0aW9uIHRhcmdldCBkZXRhaWxzXHJcbiAgICAgICAgdGhpcy5jb3B5TWFya3NBc0RlZmluaXRpdmVTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgbGV0IGdldFN0YW5kYXJkaXNhdGlvblRhcmdldERldGFpbHMgPSBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLmdldFN0YW5kYXJkaXNhdGlvblRhcmdldERldGFpbHNcclxuICAgICAgICAgICAgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQsIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZXhhbWluZXJSb2xlSWQpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdW5jbGFzc2lmaWVkIHdvcmtsaXN0IGRldGFpbHNcclxuICAgICAgICBsZXQgc3RhbmRhcmRpc2F0aW9uV29ya2xpc3QgPSBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnN0YW5kYXJkaXNhdGlvblNldHVwV29ya0xpc3RTZWxlY3Rpb25cclxuICAgICAgICAgICAgKGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlVuQ2xhc3NpZmllZFJlc3BvbnNlLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyUm9sZUlkKTtcclxuXHJcbiAgICAgICAgLy8gUmVzcG9uc2UgaWQgaW4gdGhlIHVuY2xhc3NpZmllZCB3b3JrbGlzdCB0byB3aGljaCwgdGhlIG5hdmlnYXRpb24gc2hvdWxkIGhhcHBlbiBhZnRlciBjbGFzc2lmeSBhY3Rpb25cclxuICAgICAgICBsZXQgbmV4dFJlc3BvbnNlSWQgPVxyXG4gICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLm5leHRSZXNwb25zZUlkKHJlc3BvbnNlU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWREaXNwbGF5SWQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgIC8vIEZvciBjbGFzc2lmeSBhY3Rpb25zIGZyb20gcmVzcG9uc2Ugc2NyZW5cclxuICAgICAgICBpZiAobmV4dFJlc3BvbnNlSWQgJiYgaXNGcm9tUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgLy8gUmVtZW1iZXIgdW5jbGFzc2lmaWVkIHdvcmtsaXN0IHZpZXcgdG8gZ28gYmFjayBhZnRlciBjbGFzc2lmeSBhY3Rpb25cclxuICAgICAgICAgICAgbGV0IHN0ZFdvcmtsaXN0VmlldzogZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmlzVG90YWxNYXJrc1ZpZXdTZWxlY3RlZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZS5WaWV3VG90YWxNYXJrcyA6XHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZS5WaWV3TWFya3NCeVF1ZXN0aW9uO1xyXG5cclxuICAgICAgICAgICAgbGV0IHVuY2xhc3NpZmllZFJlc3BvbnNlc1Byb21pc2UgPSBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLmdldFVuQ2xhc3NpZmllZFJlc3BvbnNlRGV0YWlscyhcclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICBsb2dpblNlc3Npb24uRVhBTUlORVJfSUQsIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgZmFsc2UsIHN0ZFdvcmtsaXN0VmlldykudGhlbihmdW5jdGlvbiAoaXRlbTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT24gY2xhc3NpZnlpbmcgcmVzcG9uc2UgZnJvbSByZXNwb25zZSBzY3JlZW4sIG5hdmlnYXRlIHRvIG5leHQgYXZhaWxhYmxlIHJlc3BvbnNlIGluIHRoZSB1bmNsYXNzaWZpZWQgd29ya2xpc3RcclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLnJlc3BvbnNlTmF2aWdhdGlvbihlbnVtcy5SZXNwb25zZU5hdmlnYXRpb24ubmV4dCwgZmFsc2UsIHBhcnNlSW50KG5leHRSZXNwb25zZUlkKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFByb21pc2UuUHJvbWlzZS5hbGwoW3N0YW5kYXJkaXNhdGlvbldvcmtsaXN0LCB1bmNsYXNzaWZpZWRSZXNwb25zZXNQcm9taXNlXSkuXHJcbiAgICAgICAgICAgICAgICB0aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93Q2xhc3NpZnlSZXNwb25zZUJ1c3lJbmRpY2F0b3I6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgUHJvbWlzZS5Qcm9taXNlLmFsbChbc3RhbmRhcmRpc2F0aW9uV29ya2xpc3RdKS5cclxuICAgICAgICAgICAgICAgIHRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkb1Nob3dDbGFzc2lmeVJlc3BvbnNlQnVzeUluZGljYXRvcjogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIE9uIGNsYXNzaWZ5aW5nIGxhc3QgcmVzcG9uc2UgZnJvbSByZXNwb25zZSBzY3JlZW4sIG5hdmlnYXRlIGJhY2sgdG8gdW5jbGFzc2lmaWVkIHdvcmtsaXN0LlxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRTdGFuZGFyZGlzYXRpb25TZXR1cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWxvYWQgcHJvdmlvbmFsIHdvcmtsaXN0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVSZW5kZXJQcm92aW9uYWxXb3JrbGlzdCA9IChmcm9tTWFya1NjaGVtZTogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLl9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yRm9yUEUgJiYgZnJvbU1hcmtTY2hlbWUpIHtcclxuICAgICAgICAgICAgbGV0IHN0ZFdvcmtsaXN0VmlldzogZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmlzVG90YWxNYXJrc1ZpZXdTZWxlY3RlZCA/IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld1RvdGFsTWFya3MgOlxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld01hcmtzQnlRdWVzdGlvbjtcclxuICAgICAgICAgICAgbGV0IG5leHRSZXNwb25zZUlkID1cclxuICAgICAgICAgICAgICAgIG1hcmtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUubmV4dFJlc3BvbnNlSWQodGhpcy5fc2hhcmVSZXNwb25zZURldGFpbHMuZGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZiAobmV4dFJlc3BvbnNlSWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGEgPSBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlRGV0YWlsc1xyXG4gICAgICAgICAgICAgICAgICAgIChyZXNwb25zZVN0b3JlLmluc3RhbmNlLnNlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBzaGFyZWQgcmVzcG9uc2UgZnJvbSBwcm92aXNpb25hbCByZXNwb25zZSB3b3JrbGlzdCBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci51cGRhdGVTdGFuZGFyZGlzYXRpb25SZXNwb25zZUNvbGxlY3Rpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmVzTWFya0dyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuUHJvdmlzaW9uYWxSZXNwb25zZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQnVzeTogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5yZXNwb25zZU5hdmlnYXRpb24oZW51bXMuUmVzcG9uc2VOYXZpZ2F0aW9uLm5leHQsIGZhbHNlLCBwYXJzZUludChuZXh0UmVzcG9uc2VJZCkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgbmV4dCByZXNwb25zZSBpcyBub3QgYXZhaWxhYmxlIHRoZW4gbG9hZCB3b3JrbGlzdC5cclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFN0YW5kYXJkaXNhdGlvblNldHVwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogQWN0aW9uIHdoZW4gdGhlIG9rIGJ1dHRvbiBmb3IgTWFya2luZyBDaGVjayBjb25maXJtYXRpb24gaXMgY2xpY2tlZFxyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSBPbk9rQ2xpY2tPZkNvbXBsZXRlU3RhbmRhcmRpc2F0aW9uQ29uZmlybWF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0J1c3k6IHRydWUsIGlzQ29tcGxldGVTdGFuZGFyZGlzYXRpb246IHRydWUgfSk7XHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5jb21wbGV0ZVN0YW5kYXJkaXNhdGlvblNldHVwKHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFjdGlvbiB3aGVuIHRoZSBvayBidXR0b24gZm9yIE1hcmtpbmcgQ2hlY2sgY29uZmlybWF0aW9uIGlzIGNsaWNrZWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBPbkNhbmNlbENsaWNrT2ZDb21wbGV0ZVN0YW5kYXJkaXNhdGlvbkNvbmZpcm1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLnByb3BzLk9uQ2xpY2tpbmdDYW5jZWxvZlN0ZFNldHVwUG9wdXAodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBY3Rpb24gd2hlbiB0aGUgb2sgYnV0dG9uIGZvciBNYXJraW5nIENoZWNrIGNvbmZpcm1hdGlvbiBpcyBjbGlja2VkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Pa0NsaWNrb2ZTdGFuZGFyZGlzYXRpb25TZXR1cFZhbGlkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lLFxyXG4gICAgICAgICAgICBpc0NvbXBsZXRlU3RhbmRhcmRpc2F0aW9uOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJ1c3lJbmRpY2F0b3JBY3Rpb25DcmVhdG9yLnNldEJ1c3lJbmRpY2F0b3JJbnZva2VyKGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLnZhbGlkYXRlU3RhbmRhcmRpc2F0aW9uU2V0dXApO1xyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IuZ2V0U3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlscyhxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbWluZXJSb2xlSWQpO1xyXG5cclxuICAgICAgICAvLyBnZXQgdGhlIHdvcmtsaXN0IHZpZXcgdHlwZS5cclxuICAgICAgICBsZXQgc3RkV29ya2xpc3RWaWV3VHlwZTogZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZSA9IHVzZXJPcHRpb25zSGVscGVyLmdldFVzZXJPcHRpb25CeU5hbWUodXNlck9wdGlvbktleXMuU0VMRUNURURfR1JJRF9WSUVXX09QVElPTilcclxuICAgICAgICAgICAgPT09ICdmYWxzZScgPyBlbnVtcy5TVERXb3JrbGlzdFZpZXdUeXBlLlZpZXdNYXJrc0J5UXVlc3Rpb24gOiBlbnVtcy5TVERXb3JrbGlzdFZpZXdUeXBlLlZpZXdUb3RhbE1hcmtzO1xyXG5cclxuICAgICAgICAvLyBSZWZyZXNoIHRoZSBncmlkIHdpdGggbGF0ZXN0IGNoYW5nZXMuXHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5nZXRDbGFzc2lmaWVkUmVzcG9uc2VEZXRhaWxzKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgIGxvZ2luU2Vzc2lvbi5FWEFNSU5FUl9JRCwgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgZmFsc2UsIHN0ZFdvcmtsaXN0Vmlld1R5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcG9wIHVwIGNvbnRlbnQgb24gY2xpY2tpbmcgc2VsZWN0IHJlc3BvbnNlIHRvIG1hcmsgYnV0dG9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0IGdldFNlbGVjdFRvTWFya1Byb3Zpc2lvbmFsUG9wdXBDb250ZW50KCk6IEpTWC5FbGVtZW50W10ge1xyXG4gICAgICAgIGxldCBjb250ZW50OiBKU1guRWxlbWVudFtdID0gW107XHJcbiAgICAgICAgbGV0IHNjcmlwdERhdGE6IFN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHMgPSBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmZldGNoU2VsZWN0ZWRTY3JpcHREZXRhaWxzKFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnNlbGVjdGVkUmVzcG9uc2VJZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbGV0IHNob3dNdWx0aVFpZ1BvcHVwOiBib29sZWFuID0gdGhpcy5pc011bHRpUWlnTWFya2luZ0F2YWlsYWJsZSgpO1xyXG4gICAgICAgIGxldCBjZW50cmVDYW5kaWRhdGVEZXRhaWxzOiBzdHJpbmcgPSBzdHJpbmdIZWxwZXIuZm9ybWF0KFxyXG4gICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zZWxlY3QtcmVzcG9uc2Uuc2VsZWN0LXRvLW1hcmstcG9wdXAtY29udGVudC1saW5lMidcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgU3RyaW5nKHNjcmlwdERhdGEuY2FuZGlkYXRlU2NyaXB0SWQpLFxyXG4gICAgICAgICAgICAgICAgc2NyaXB0RGF0YS5jZW50cmVOdW1iZXIsXHJcbiAgICAgICAgICAgICAgICBzY3JpcHREYXRhLmNlbnRyZUNhbmRpZGF0ZU51bWJlci50b1VwcGVyQ2FzZSgpXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBsZXQgaXNDb21tb25Qcm92aXNpb25hbFN0YW5kYXJkaXNhdGlvbkNjT246IGJvb2xlYW4gPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY05hbWVzLkNvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XHJcblxyXG4gICAgICAgIGlmIChzaG93TXVsdGlRaWdQb3B1cCkge1xyXG4gICAgICAgICAgICBjb250ZW50LnB1c2goPHAga2V5PSdzZWxlY3QtdG8tbWFyay1wb3B1cC1jb250ZW50LWxpbmUyJ1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdkaW0tdGV4dCBwYWRkaW5nLWJvdHRvbS0xMCc+e2NlbnRyZUNhbmRpZGF0ZURldGFpbHN9PC9wPik7XHJcblxyXG4gICAgICAgICAgICBjb250ZW50LnB1c2goPHAga2V5PSdzZWxlY3QtdG8tbWFyay1wb3B1cC1jb250ZW50LWxpbmUyJz57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2VsZWN0LXJlc3BvbnNlLnNlbGVjdC10by1tYXJrLW11bHRpcWlnLXBvcHVwLWNvbnRlbnQtbGluZSdcclxuICAgICAgICAgICAgKX08L3A+KTtcclxuICAgICAgICAgICAgY29udGVudC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgPEdlbmVyaWNQb3B1cFdpdGhDaGVja0JveGVzXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdxaWctaXRlbSdcclxuICAgICAgICAgICAgICAgICAgICBpZD0ncG9wdXAtY3JlYXRlcHJvdmlzaW9uYWwtbXVsdGlxaWcnXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM9e3RoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoZWNrZWQ9e3RoaXMub25DaGVja2VkfVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT0ncG9wdXAtY3JlYXRlcHJvdmlzaW9uYWwtbXVsdGlxaWcnIC8+KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZW50LnB1c2goXHJcbiAgICAgICAgICAgICAgICA8cCBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTEnPlxyXG4gICAgICAgICAgICAgICAgICAgIHtpc0NvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uQ2NPbiA/IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2VsZWN0LXJlc3BvbnNlLnNlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTEtcHJvdmlzaW9uYWwnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1jb250ZW50LWxpbmUxJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQucHVzaCg8cCBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTInXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2RpbS10ZXh0IHBhZGRpbmctdG9wLTEwJz57Y2VudHJlQ2FuZGlkYXRlRGV0YWlsc308L3A+KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzQ29tbW9uUHJvdmlzaW9uYWxTdGFuZGFyZGlzYXRpb25DY09uKCkpIHtcclxuICAgICAgICAgICAgY29udGVudC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J29wdGlvbi1ob2xkZXIgcGFkZGluZy10b3AtMTAnPlxyXG4gICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9J29wdGlvbnMnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPSdwYWRkaW5nLXRvcC0xMCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdyYWRpbydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT0nc2VsZWN0ZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J1NUTUFsbG9jYXRlMSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSdzZWxlY3RQcm92aXNpb25hbFNUTSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnN0YXRlLnByb3Zpc2lvbmFsTWFya2luZ1R5cGUgPT09IGVudW1zLlByb3Zpc2lvbmFsTWFya2luZ1R5cGUuQWxsb2NhdGVUb0FsbCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUgOiBmYWxzZX0+PC9pbnB1dD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPSdTVE1BbGxvY2F0ZTEnIG9uQ2xpY2s9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMub25PcHRpb25CdXR0b25DbGljay5iaW5kKHRoaXMsIGVudW1zLlByb3Zpc2lvbmFsTWFya2luZ1R5cGUuQWxsb2NhdGVUb0FsbCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ncmFkaW8tdWknPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xhYmVsLXRleHQnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1vcHRpb24tYWxsb2NhdGUtYWxsJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9J3JhZGlvJyB2YWx1ZT0nc2VsZWN0ZWQnIGlkPSdTVE1BbGxvY2F0ZTInIG5hbWU9J3NlbGVjdFByb3Zpc2lvbmFsU1RNJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUucHJvdmlzaW9uYWxNYXJraW5nVHlwZSA9PT0gZW51bXMuUHJvdmlzaW9uYWxNYXJraW5nVHlwZS5BbGxvY2F0ZWRUb01lID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSA6IGZhbHNlfT48L2lucHV0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J1NUTUFsbG9jYXRlMicgb25DbGljaz1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5vbk9wdGlvbkJ1dHRvbkNsaWNrLmJpbmQodGhpcywgZW51bXMuUHJvdmlzaW9uYWxNYXJraW5nVHlwZS5BbGxvY2F0ZWRUb01lKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdyYWRpby11aSc+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbGFiZWwtdGV4dCc+e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2VsZWN0LXJlc3BvbnNlLnNlbGVjdC10by1tYXJrLXBvcHVwLW9wdGlvbi1hbGxvY2F0ZS1tZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTIwJyBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTMnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1jb250ZW50LWxpbmUzJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9PC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZW50LnB1c2goXHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTEwJyBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTMnPlxyXG4gICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnNlbGVjdC1yZXNwb25zZS5zZWxlY3QtdG8tbWFyay1wb3B1cC1jb250ZW50LWxpbmUzJ1xyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGhhbmRsZSBvcHRpb24gYnV0dG9uIGNsaWNrXHJcbiAgICAgKiBAcGFyYW0gaXNBbGxvY2F0ZVRvTWVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk9wdGlvbkJ1dHRvbkNsaWNrKF9wcm92aXNpb25hbE1hcmtpbmdUeXBlOiBlbnVtcy5Qcm92aXNpb25hbE1hcmtpbmdUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIHByb3Zpc2lvbmFsTWFya2luZ1R5cGU6IF9wcm92aXNpb25hbE1hcmtpbmdUeXBlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgbWFyayBhcyBkZWZpbml0aXZlIHBvcHVwIGNvbnRlbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXQgZ2V0TWFya0FzRGVmaW5pdGl2ZVBvcHVwQ29udGVudCgpOiBKU1guRWxlbWVudFtdIHtcclxuICAgICAgICBsZXQgY29udGVudDogSlNYLkVsZW1lbnRbXSA9IFtdO1xyXG4gICAgICAgIGxldCByZXNwb25zZURhdGE6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscyA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZmV0Y2hTdGFuZGFyZGlzYXRpb25SZXNwb25zZURhdGEoXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRSZXNwb25zZUlkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgbWFya0FzRGVmaW5pdGl2ZVJlc3BvbnNlOiBzdHJpbmcgPSBzdHJpbmdIZWxwZXIuZm9ybWF0KFxyXG4gICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5tYXJrLWFzLWRlZmluaXRpdmUubWFyay1hcy1kZWZpbml0aXZlLXBvcHVwLWNvbnRlbnQtbGluZTInXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIFN0cmluZyhyZXNwb25zZURhdGEuZGlzcGxheUlkKSxcclxuICAgICAgICAgICAgICAgIFN0cmluZyhyZXNwb25zZURhdGEudG90YWxNYXJrVmFsdWUpXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnRlbnQucHVzaChcclxuICAgICAgICAgICAgPHAga2V5PSdtYXJrLWFzLWRlZmluaXRpdmUtcG9wdXAtY29udGVudC1saW5lMSc+XHJcbiAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLm1hcmstYXMtZGVmaW5pdGl2ZS5tYXJrLWFzLWRlZmluaXRpdmUtcG9wdXAtY29udGVudC1saW5lMSdcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnRlbnQucHVzaCg8cCBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTInXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nZGltLXRleHQgcGFkZGluZy10b3AtMjAnPnttYXJrQXNEZWZpbml0aXZlUmVzcG9uc2V9PC9wPik7XHJcbiAgICAgICAgY29udGVudC5wdXNoKFxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTIwJyBrZXk9J3NlbGVjdC10by1tYXJrLXBvcHVwLWNvbnRlbnQtbGluZTMnPlxyXG4gICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5tYXJrLWFzLWRlZmluaXRpdmUubWFyay1hcy1kZWZpbml0aXZlLXBvcHVwLWNvbnRlbnQtbGluZTMnXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgcmFkaW9CdXR0b25UZXh0OiBKU1guRWxlbWVudCA9ICg8ZGl2IGNsYXNzTmFtZT0nb3B0aW9uLWhvbGRlciBwYWRkaW5nLXRvcC0xMCc+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9J29wdGlvbnMnPlxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAnIG9uQ2xpY2s9e3RoaXMub25NYXJrQXNEZWZpbml0aXZlQ29udGVudENsaWNrLmJpbmQodGhpcywgdHJ1ZSl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgdmFsdWU9J3NlbGVjdGVkJyBpZD0nY29weWFzRGVmaW5pdGl2ZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9J21hcmthc2RlZmluaXRpdmUnIC8qIGNoZWNrZWQ9e3RoaXMuY29weU1hcmtzQXNEZWZpbml0aXZlU2VsZWN0ZWQgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlfSovIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2NvcHlhc0RlZmluaXRpdmUnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3JhZGlvLXVpJz48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbGFiZWwtdGV4dCcgaWQ9J21hcmtBc0RlZmluaXRpdmVQb3B1cFJhZGlvQnV0dG9uMSc+e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLm1hcmstYXMtZGVmaW5pdGl2ZS5tYXJrLWFzLWRlZmluaXRpdmUtcG9wdXAtcmFkaW8tMSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTEwIG9wdGlvbi1jb250ZW50Jz57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLm1hcmstYXMtZGVmaW5pdGl2ZS5tYXJrLWFzLWRlZmluaXRpdmUtcG9wdXAtcmFkaW8tMS1kZXNjJ1xyXG4gICAgICAgICAgICAgICAgKX08L3A+XHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPSdwYWRkaW5nLXRvcC0yMCcgb25DbGljaz17dGhpcy5vbk1hcmtBc0RlZmluaXRpdmVDb250ZW50Q2xpY2suYmluZCh0aGlzLCBmYWxzZSl9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgdmFsdWU9JycgaWQ9J2NsZWFyQWxsTWFyaydcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0nbWFya2FzZGVmaW5pdGl2ZScgLyogY2hlY2tlZD17dGhpcy5jb3B5TWFya3NBc0RlZmluaXRpdmVTZWxlY3RlZCA9PT0gZmFsc2UgPyB0cnVlIDogZmFsc2V9ICovIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J2NsZWFyQWxsTWFyayc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ncmFkaW8tdWknPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdsYWJlbC10ZXh0JyBpZD0nbWFya0FzRGVmaW5pdGl2ZVBvcHVwUmFkaW9CdXR0b24yJz57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAubWFyay1hcy1kZWZpbml0aXZlLm1hcmstYXMtZGVmaW5pdGl2ZS1wb3B1cC1yYWRpby0yJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAgcGFkZGluZy1ib3R0b20tNSBvcHRpb24tY29udGVudCc+XHJcbiAgICAgICAgICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAubWFyay1hcy1kZWZpbml0aXZlLm1hcmstYXMtZGVmaW5pdGl2ZS1wb3B1cC1yYWRpby0yLWRlc2MnXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPC91bD5cclxuICAgICAgICA8L2Rpdj4pO1xyXG4gICAgICAgIGNvbnRlbnQucHVzaChyYWRpb0J1dHRvblRleHQpO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyB0aGUgY29weU1hcmtzQXNEZWZpbml0aXZlU2VsZWN0ZWQgZmxhZywgb24gTWFyayBhcyBkZWZpbml0dmUgcG9wdXAgb3B0aW9uIGNsaWNrLlxyXG4gICAgICogQHBhcmFtIGlzQ29weU1hcmtzQW5kQW5ub3RhdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uTWFya0FzRGVmaW5pdGl2ZUNvbnRlbnRDbGljayhpc0NvcHlNYXJrc0FuZEFubm90YXRpb246IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLmNvcHlNYXJrc0FzRGVmaW5pdGl2ZVNlbGVjdGVkID0gaXNDb3B5TWFya3NBbmRBbm5vdGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY29uZGl0aW9ucyB3aGVyZSB0aGUgbXVsdGlxaWcgcG9wdXAgdG8gYmUgc2hvd24gd2hpbGUgc2VsZWN0IHRvIG1hcmsgYnV0dG9uIGlzIGNsaWNrZWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc011bHRpUWlnTWFya2luZ0F2YWlsYWJsZSgpOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgLy8gVGhlIG11bHRpcWlnIHJlc3BvbnNlIHBvcCB3aWxsIG9ubHkgc2hvdyB3aGVuIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgdHJ1ZVxyXG4gICAgICAgIC8vIDEuIFdob2xlUmVzcG9uc2VQcm92aXNpb25hbE1hcmtpbmcgc2hvdWxkIGJlIE9OLlxyXG4gICAgICAgIC8vIDIuIEF2YWlsYWJsZSBRSUdzIGZvciBQcm92aXNpb25hbCBtYXJraW5nIGlzIG1vcmUgdGhhbiBvbmVcclxuICAgICAgICBsZXQgd2hvbGVSZXNwb25zZVByb3Zpc2lvbmFsTWFya2luZzogYm9vbGVhbiA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljSGVscGVyLmdldEV4YW1TZXNzaW9uQ0NWYWx1ZShcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNOYW1lcy5XaG9sZVJlc3BvbnNlUHJvdmlzaW9uYWxNYXJraW5nLFxyXG4gICAgICAgICAgICBtYXJrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzQXdhcmRpbmdNb2RlXHJcbiAgICAgICAgICAgICAgICA/IGF3YXJkaW5nU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRTZXNzaW9uLmV4YW1TZXNzaW9uSWRcclxuICAgICAgICAgICAgICAgIDogcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24uZXhhbVNlc3Npb25JZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAod2hvbGVSZXNwb25zZVByb3Zpc2lvbmFsTWFya2luZyAmJiB0aGlzLm11bHRpUWlnQ2hlY2tib3hJdGVtcyAhPT0gdW5kZWZpbmVkICYmIHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHN3aXRjaCB1c2VyIGJ1dHRvbiBjbGlja1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN3aXRjaFVzZXJCdXR0b25DbGljaygpIHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgbmF2aWdhdGlvbkhlbHBlci5vbkJlZm9yZVdpbmRvd1VubG9hZCk7XHJcbiAgICAgICAgLyogdHNsaW50OmRpc2FibGU6bm8tc3RyaW5nLWxpdGVyYWwgKi9cclxuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2VbJ2FkbWluc3VwcG9ydCddID0gJ3RydWUnO1xyXG4gICAgICAgIC8qIHRzbGludDplbmFibGU6bm8tc3RyaW5nLWxpdGVyYWwgKi9cclxuICAgICAgICB3aW5kb3cub3BlbignPycsICdfc2VsZicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcGxldGUgU3RhbmRhcmRpc2F0aW9uIHJlY2VpdmVkIGNhbGxiYWNrIGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUmVzcG9uc2VEYXRhUmVjaWV2ZWRBZnRlclJlZnJlc2goKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgIFNldHRpbmcgYnVzeSBpbmRpY2F0b3IgdG8gZmFsc2Ugb24gU3RhbmRhcmRpc2F0aW9uIFNldHVwIHJlZnJlc2ggb25cclxuICAgICAgICAgIGNvbXBsZXRpbmcgc3RhbmRhcmRpc2F0aW9uIHNldHVwXHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNCdXN5OiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogUG9wdWxhdGUgcmVjYXNzaWZ5IG11bHRpb3B0aW9uIHBvcFVwIGRhdGFcclxuXHQgKi9cclxuICAgIHByaXZhdGUgcG9wdWxhdGVSZWNhc3NpZnlNdWx0aU9wdGlvblBvcFVwRGF0YShzZWxlY3RlZE1hcmtpbmdNb2RlSWQ6IG51bWJlciA9IDApIHtcclxuICAgICAgICB0aGlzLml0ZW1zID0gbmV3IEFycmF5PGdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zPigpO1xyXG4gICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZCA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQ7XHJcbiAgICAgICAgbGV0IHNzdVN0bUNsYXNzaWZpY2F0aW9uUmVzdHJpY3Rpb246IHNzdVN0bUNsYXNzaWZpY2F0aW9uUmVzdHJpY3Rpb25cclxuICAgICAgICAgICAgPSBzdGRTZXR1cFBlcm1pc3Npb25IZWxwZXIuZ2V0U3N1Q2xhc3NpZmljYXRpb25SZXN0cmljdGlvbkJ5TWFya1NjaGVtZUdyb3VwSWQobWFya1NjaGVtZUdyb3VwSWQpO1xyXG4gICAgICAgIGxldCByZXN0aWN0ZWRUZXh0OiBzdHJpbmcgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZWNsYXNzaWZ5LW11bHRpb3B0aW9uLXBvcHVwLnJlc3RyaWN0ZWQnKTtcclxuICAgICAgICB0aGlzLnN0YW5kYXJkaXNhdGlvblNldHVwSGVscGVyID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBGYWN0b3J5LlxyXG4gICAgICAgICAgICBnZXRTdGFuZGFyZGlzYXRpb25TZXRVcFdvcmtsaXN0SGVscGVyKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRTdGFuZGFyZGlzYXRpb25TZXR1cFdvcmtMaXN0KTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3RyaWN0ZWRUYXJnZXRzID0gdGhpcy5zdGFuZGFyZGlzYXRpb25TZXR1cEhlbHBlci5nZXRSZXN0cmljdGVkU1NVVGFyZ2V0KG1hcmtTY2hlbWVHcm91cElkKTtcclxuXHJcbiAgICAgICAgLy8gT25jZSBzdGQgc2V0dXAgaXMgY29tcGxldGVkLCB0aGVuIHNob3cgb25seSAnc2VlZCcgcmFkaW8gYnV0dG9uIGluIGNsYXNzaWZ5IG9wdGlvbnNcclxuICAgICAgICBpZiAoIXFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLnN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGUpIHtcclxuICAgICAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuY2hlY2tNYXJraW5nTW9kZVRhcmdldEV4aXN0Rm9yVGhpc1FJRyhlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmNyZWF0ZUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oZW51bXMuTWFya2luZ01vZGUuUHJhY3RpY2UsIDEsIHNlbGVjdGVkTWFya2luZ01vZGVJZFxyXG4gICAgICAgICAgICAgICAgICAgICwgc3N1U3RtQ2xhc3NpZmljYXRpb25SZXN0cmljdGlvbi5pc1ByYWN0aWNlUmVzdHJpY3RlZEZvckFueVN0bSwgcmVzdGljdGVkVGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5jaGVja01hcmtpbmdNb2RlVGFyZ2V0RXhpc3RGb3JUaGlzUUlHKGVudW1zLk1hcmtpbmdNb2RlLkVTX1RlYW1BcHByb3ZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmNyZWF0ZUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsLCAyLCBzZWxlY3RlZE1hcmtpbmdNb2RlSWRcclxuICAgICAgICAgICAgICAgICAgICAsIHNzdVN0bUNsYXNzaWZpY2F0aW9uUmVzdHJpY3Rpb24uaXNTdG1TdGFuZGFyZGlzYXRpb25lUmVzdHJpY3RlZEZvckFueVN0bSwgcmVzdGljdGVkVGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5jaGVja01hcmtpbmdNb2RlVGFyZ2V0RXhpc3RGb3JUaGlzUUlHKGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHRoaXMuY3JlYXRlR2VuZXJpY1JhZGlvQnV0dG9uSXRlbShlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCwgMywgc2VsZWN0ZWRNYXJraW5nTW9kZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgLCBzc3VTdG1DbGFzc2lmaWNhdGlvblJlc3RyaWN0aW9uLmlzU3RhbmRhcmRpc2F0aW9uUmVzdHJpY3RlZEZvckFueVN0bSwgcmVzdGljdGVkVGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5jaGVja01hcmtpbmdNb2RlVGFyZ2V0RXhpc3RGb3JUaGlzUUlHKGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2godGhpcy5jcmVhdGVHZW5lcmljUmFkaW9CdXR0b25JdGVtKGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcsIDQsIHNlbGVjdGVkTWFya2luZ01vZGVJZFxyXG4gICAgICAgICAgICAgICAgICAgICwgc3N1U3RtQ2xhc3NpZmljYXRpb25SZXN0cmljdGlvbi5pc1NlZWRpbmdSZXN0cmljdGVkRm9yQW55U3RtLCByZXN0aWN0ZWRUZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLyogIzc1MDgxIDogT24gY2xhc3NpZnlpbmcgYSByZXNwb25zZSBmcm9tIFByb3Zpc2lvbmFsL1VuY2xhc3NpZmllZCB3b3JrbGlzdCBhZnRlciBTU1UgY29tcGxldGUsXHJcbiAgICAgICAgICAgICB0aGUgQ2xhc3NpZmljYXRpb24gcG9wLSB1cCBzaGFsbCBsaXN0IG9ubHkgdGhvc2UgdGFyZ2V0cyB3aGljaCBhcmUgbm90IG1ldCBPUiBcclxuICAgICAgICAgICAgKHdoZXJlIHRoZSB0YXJnZXQgaXMgbWV0IEFORCB0aGUgdHlwZSBpcyBub3QgaW5jbHVkZWQgaW4g4oCcUmVzdHJpY3RTdGFuZGFyZGlzYXRpb25TZXR1cFRhcmdldHPigJ0pLiAqL1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYW5MaXN0VGFyZ2V0SW5DbGFzc2lmaWNhdGlvblBvcFVwKGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlLCByZXN0cmljdGVkVGFyZ2V0cykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmNoZWNrTWFya2luZ01vZGVUYXJnZXRFeGlzdEZvclRoaXNRSUcoZW51bXMuTWFya2luZ01vZGUuUHJhY3RpY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHRoaXMuY3JlYXRlR2VuZXJpY1JhZGlvQnV0dG9uSXRlbShlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSwgMSwgc2VsZWN0ZWRNYXJraW5nTW9kZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICwgc3N1U3RtQ2xhc3NpZmljYXRpb25SZXN0cmljdGlvbi5pc1ByYWN0aWNlUmVzdHJpY3RlZEZvckFueVN0bSwgcmVzdGljdGVkVGV4dCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbkxpc3RUYXJnZXRJbkNsYXNzaWZpY2F0aW9uUG9wVXAoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsLCByZXN0cmljdGVkVGFyZ2V0cykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmNoZWNrTWFya2luZ01vZGVUYXJnZXRFeGlzdEZvclRoaXNRSUcoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmNyZWF0ZUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsLCAyLCBzZWxlY3RlZE1hcmtpbmdNb2RlSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLCBzc3VTdG1DbGFzc2lmaWNhdGlvblJlc3RyaWN0aW9uLmlzU3RtU3RhbmRhcmRpc2F0aW9uZVJlc3RyaWN0ZWRGb3JBbnlTdG0sIHJlc3RpY3RlZFRleHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jYW5MaXN0VGFyZ2V0SW5DbGFzc2lmaWNhdGlvblBvcFVwKGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsLCByZXN0cmljdGVkVGFyZ2V0cykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmNoZWNrTWFya2luZ01vZGVUYXJnZXRFeGlzdEZvclRoaXNRSUcoZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHRoaXMuY3JlYXRlR2VuZXJpY1JhZGlvQnV0dG9uSXRlbShlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCwgMywgc2VsZWN0ZWRNYXJraW5nTW9kZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICwgc3N1U3RtQ2xhc3NpZmljYXRpb25SZXN0cmljdGlvbi5pc1N0YW5kYXJkaXNhdGlvblJlc3RyaWN0ZWRGb3JBbnlTdG0sIHJlc3RpY3RlZFRleHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jYW5MaXN0VGFyZ2V0SW5DbGFzc2lmaWNhdGlvblBvcFVwKGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcsIHJlc3RyaWN0ZWRUYXJnZXRzKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuY2hlY2tNYXJraW5nTW9kZVRhcmdldEV4aXN0Rm9yVGhpc1FJRyhlbnVtcy5NYXJraW5nTW9kZS5TZWVkaW5nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmNyZWF0ZUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oZW51bXMuTWFya2luZ01vZGUuU2VlZGluZywgNCwgc2VsZWN0ZWRNYXJraW5nTW9kZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICwgc3N1U3RtQ2xhc3NpZmljYXRpb25SZXN0cmljdGlvbi5pc1NlZWRpbmdSZXN0cmljdGVkRm9yQW55U3RtLCByZXN0aWN0ZWRUZXh0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUbyBjaGVjayB3aGV0aGVyIHRoZSB0YXJnZXQgY2FuIGJlIGRpc3BsYXllZCBpbiBDbGFzc2lmaWNhdGlvbiBwb3B1cCBPblxyXG4gICAgICogY2xhc3NpZnlpbmcgYSByZXNwb25zZSBmcm9tIFByb3Zpc2lvbmFsL1VuY2xhc3NpZmllZCB3b3JrbGlzdCBhZnRlciBTU1UgY29tcGxldGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjYW5MaXN0VGFyZ2V0SW5DbGFzc2lmaWNhdGlvblBvcFVwKHRhcmdldDogZW51bXMuTWFya2luZ01vZGUsIHJlc3RyaWN0ZWRUYXJnZXRzOiBJbW11dGFibGUuTGlzdDxlbnVtcy5NYXJraW5nTW9kZT4pOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgc3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlsTGlzdCA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuY2xhc3NpZmljYXRpb25TdW1tYXJ5VGFyZ2V0RGV0YWlscztcclxuICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlsTGlzdCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRUYXJnZXQgPSBzdGFuZGFyZGlzYXRpb25UYXJnZXREZXRhaWxMaXN0LlxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcigoeDogc3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlsKSA9PiB4Lm1hcmtpbmdNb2RlSWQgPT09IHRhcmdldCkuZmlyc3QoKTtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVGFyZ2V0LmNvdW50IDwgc2VsZWN0ZWRUYXJnZXQudGFyZ2V0IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgKCFyZXN0cmljdGVkVGFyZ2V0cy5jb250YWlucyh0YXJnZXQpICYmIHNlbGVjdGVkVGFyZ2V0LnRhcmdldCA8PSBzZWxlY3RlZFRhcmdldC5jb3VudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgR2VuZXJpYyBSYWRpbyBCdXR0b24gSXRlbVxyXG4gICAgICogQHBhcmFtIG1hcmtpbmdNb2RlSWRcclxuICAgICAqIEBwYXJhbSBzZXF1ZW5jZU5vXHJcbiAgICAgKiBAcGFyYW0gc2VsZWN0ZWRNYXJraW5nTW9kZUlkXHJcbiAgICAgKiBAcGFyYW0gaXNNYXJraW5nTW9kZVJlc3RyaWN0ZWRGb3JBbnlTdG1cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjcmVhdGVHZW5lcmljUmFkaW9CdXR0b25JdGVtKG1hcmtpbmdNb2RlSWQ6IGVudW1zLk1hcmtpbmdNb2RlLCBzZXF1ZW5jZU5vOiBudW1iZXIsXHJcbiAgICAgICAgc2VsZWN0ZWRNYXJraW5nTW9kZUlkOiBudW1iZXIsIGlzTWFya2luZ01vZGVSZXN0cmljdGVkRm9yQW55U3RtOiBib29sZWFuLCByZXN0aWN0ZWRUZXh0OiBzdHJpbmcpOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcyB7XHJcbiAgICAgICAgbGV0IG9iaiA9IG5ldyBnZW5lcmljUmFkaW9CdXR0b25JdGVtcygpO1xyXG4gICAgICAgIG9iai5zZXF1ZW5jZU5vID0gc2VxdWVuY2VObztcclxuICAgICAgICBvYmouaWQgPSBtYXJraW5nTW9kZUlkO1xyXG4gICAgICAgIG9iai5pc0NoZWNrZWQgPSBvYmouaWQgPT09IHNlbGVjdGVkTWFya2luZ01vZGVJZCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICBvYmoubmFtZSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LmNsYXNzaWZpY2F0aW9uLXR5cGUuJyArIGVudW1zLk1hcmtpbmdNb2RlW21hcmtpbmdNb2RlSWRdKTtcclxuICAgICAgICBvYmouZXJyb3JUZXh0ID0gKGlzTWFya2luZ01vZGVSZXN0cmljdGVkRm9yQW55U3RtID8gJyAtICcgKyByZXN0aWN0ZWRUZXh0IDogJycpO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgcmFkaW8gYnV0dG9uIGZvciBSZXVzZSBhY3Rpb24gcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjcmVhdGVSZXVzZUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oaW5wdXRpZDogbnVtYmVyLCBzZXF1ZW5jZU5vOiBudW1iZXIpOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcyB7XHJcbiAgICAgICAgbGV0IHJhZGlvQnV0b25Gb3JQRSA9IG5ldyBnZW5lcmljUmFkaW9CdXR0b25JdGVtcygpO1xyXG4gICAgICAgIHJhZGlvQnV0b25Gb3JQRS5zZXF1ZW5jZU5vID0gc2VxdWVuY2VObztcclxuICAgICAgICByYWRpb0J1dG9uRm9yUEUuaWQgPSBpbnB1dGlkO1xyXG4gICAgICAgIHJhZGlvQnV0b25Gb3JQRS5pc0NoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIHJhZGlvQnV0b25Gb3JQRS5uYW1lID0gJ0NyZWF0ZSBjb3B5IGFuZCBtb3ZlIHRvIHVuY2xhc3NpZmllZCBsaXN0JztcclxuICAgICAgICByYWRpb0J1dG9uRm9yUEUuZXJyb3JUZXh0ID0gJyc7XHJcbiAgICAgICAgcmV0dXJuIHJhZGlvQnV0b25Gb3JQRTtcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogb24gY2FuY2VsIGNsaWNrIG9mIHJlY2xhc3NpZnkgbXVsdGkgb3B0aW9uIHBvcHVwXHJcblx0ICovXHJcbiAgICBwcml2YXRlIG9uQ2FuY2VsQ2xpY2tPZlJlY2xhc3NpZnlNdWx0aU9wdGlvblBvcFVwID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgLy8gRGlzYWJsZSBjbGFzc2lmeSByZXNwb25zZSAnT0sgYnV0dG9uJyB3aGlsZSBjbGlja2luZyBvbiBjbGFzc2lmeSBtdWx0aSBvcHRpb24gcG9wdXAgJ2NhbmNlbCBidXR0b24nXHJcbiAgICAgICAgaWYgKHRoaXMuaXNVbmNsYXNzaWZpZWRXb3JrbGlzdFNlbGVjdGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0NsYXNzaWZ5UmVzcG9uc2VPa0J1dHRvbkRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucG9wdWxhdGVSZWNhc3NpZnlNdWx0aU9wdGlvblBvcFVwRGF0YSgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uIGNhbmNlbCBjbGljayBvZiBSZXVzZSBSaWcgYWN0aW9uIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25DYW5jZWxDbGlja09mUmV1c2VSaWdQb3B1cCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnJldXNlUklHU2VsZWN0ZWREaXNwbGF5SWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJlY2Fzc2lmeU11bHRpT3B0aW9uUG9wVXBEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJldXNlVW5jbGFzc2lmeVBvcHVwSXRlbSgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gT2sgbWNsaWNrIG9mIFJldXNlUklHIGFjdGlvbiBwb3B1cFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uT0tDbGlja09mUmV1c2VSaWdwb3B1cCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgb3BlbmVkUmVzcG9uc2VEZXRhaWxzID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5nZXRSZXVzYWJsZVJlc3BvbnNlRGV0YWlsc1xyXG4gICAgICAgICAgICAodGhpcy5yZXVzZVJJR1NlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGlmICh0aGlzLnJldXNlVW5jbGFzc2lmeUl0ZW0uZmlsdGVyKGkgPT4gaS5pc0NoZWNrZWQgPT09IHRydWUpWzBdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TWFya2luZ01vZGUgPSB0aGlzLml0ZW1zLmZpbHRlcihpID0+IGkuaXNDaGVja2VkID09PSB0cnVlKVswXS5pZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNYXJraW5nTW9kZSA9IGVudW1zLk1hcmtpbmdNb2RlLlByZVN0YW5kYXJkaXNhdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBkb2N1bWVudElkID0gb3BlbmVkUmVzcG9uc2VEZXRhaWxzLmRvY3VtZW50SWQ7XHJcbiAgICAgICAgbGV0IG1hcmtHcm91cElkID0gb3BlbmVkUmVzcG9uc2VEZXRhaWxzLmVzTWFya0dyb3VwSWQ7XHJcbiAgICAgICAgbGV0IG1hcmtTY2hlbWVHcm91cElkID0gb3BlbmVkUmVzcG9uc2VEZXRhaWxzLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnJldXNlUmlnQWN0aW9uKG1hcmtHcm91cElkLFxyXG4gICAgICAgICAgICBkb2N1bWVudElkLFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TWFya2luZ01vZGUpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lLFxyXG4gICAgICAgICAgICBkb1Nob3dSZXVzZVJpZ0FjdGlvbkJ1c3lJbmRpY2F0b3I6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogcmVjbGFzc2lmeSByZXNwb25zZSB0byBzZWxlY3RlZCBtYXJraW5nIG1vZGUgaW4gcG9wdXBcclxuXHQgKi9cclxuICAgIHByaXZhdGUgb25SZWNsYXNzaWZ5UmVzcG9uc2UgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIC8vIEZldGNoIG1hcmtTY2hlbWVHcm91cElkXHJcbiAgICAgICAgbGV0IG1hcmtTY2hlbWVHcm91cElkID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgLy8gcmlnIG9yZGVyIHVwZGF0ZSBpcyBub3QgcmVxdWlyZWQgZm9yIGNsYXNzaWZ5IGFjdGlvblxyXG4gICAgICAgIGxldCByaWdPcmRlclVwZGF0ZVJlcXVpcmVkOiBib29sZWFuID0gdGhpcy5pc1VuY2xhc3NpZmllZFdvcmtsaXN0U2VsZWN0ZWQoKSA/IGZhbHNlIDogdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gRmV0Y2ggdGhlIG5ldyBtYXJraW5nIG1vZGUgaWQgc2VsZWN0ZWQgZm9yIHJlY2xhc3NpZmljYXRpb25cclxuICAgICAgICB0aGlzLmN1cnJlbnRNYXJraW5nTW9kZSA9IHRoaXMuaXRlbXMuZmlsdGVyKGkgPT4gaS5pc0NoZWNrZWQgPT09IHRydWUpWzBdLmlkO1xyXG4gICAgICAgIHRoaXMucHJldmlvdXNNYXJraW5nTW9kZSA9IHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscy5tYXJraW5nTW9kZUlkO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheUlkID0gdGhpcy5yZWNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzLmRpc3BsYXlJZDtcclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBtb2RlbCBmb3IgcmVjbGFzc2lmeVJlc3BvbnNlQWN0aW9uXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlRGV0YWlsczogdXBkYXRlRVNNYXJrR3JvdXBNYXJraW5nTW9kZURhdGEgPSB7XHJcbiAgICAgICAgICAgIGNhbmRpZGF0ZVNjcmlwdElkOiB0aGlzLnJlY2xhc3NpZnlSZXNwb25zZURldGFpbHMuY2FuZGlkYXRlU2NyaXB0SWQsXHJcbiAgICAgICAgICAgIGVzQ2FuZGlkYXRlU2NyaXB0TWFya1NjaGVtZUdyb3VwSWQ6IHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscy5lc0NhbmRpZGF0ZVNjcmlwdE1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogbWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgIG1hcmtpbmdNb2RlSWQ6IHRoaXMuY3VycmVudE1hcmtpbmdNb2RlLFxyXG4gICAgICAgICAgICBwcmV2aW91c01hcmtpbmdNb2RlSWQ6IHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscy5tYXJraW5nTW9kZUlkLFxyXG4gICAgICAgICAgICByaWdPcmRlcjogbnVsbCxcclxuICAgICAgICAgICAgaXNSaWdPcmRlclVwZGF0ZVJlcXVpcmVkOiByaWdPcmRlclVwZGF0ZVJlcXVpcmVkLFxyXG4gICAgICAgICAgICBkaXNwbGF5SWQ6IHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscy5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgIHRvdGFsTWFya1ZhbHVlOiB0aGlzLnJlY2xhc3NpZnlSZXNwb25zZURldGFpbHMudG90YWxNYXJrVmFsdWUsXHJcbiAgICAgICAgICAgIG9sZFJpZ09yZGVyOiB0aGlzLnJlY2xhc3NpZnlSZXNwb25zZURldGFpbHMucmlnT3JkZXIsXHJcbiAgICAgICAgICAgIGFzc2lnbk5leHRSaWdPcmRlcjogdGhpcy5jdXJyZW50TWFya2luZ01vZGUgIT09IGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgICAgIGVzTWFya0dyb3VwUm93VmVyc2lvbjogdGhpcy5yZWNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzLmVzTWFya0dyb3VwUm93VmVyc2lvblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzVW5jbGFzc2lmaWVkV29ya2xpc3RTZWxlY3RlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzID0gcmVzcG9uc2VEZXRhaWxzO1xyXG4gICAgICAgICAgICB0aGlzLmlzQ2xhc3NpZnlSZXNwb25zZU9rQnV0dG9uRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmUsXHJcbiAgICAgICAgICAgICAgICBkb1Nob3dDbGFzc2lmeVJlc3BvbnNlQnVzeUluZGljYXRvcjogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3VibWl0SGVscGVyLnNhdmVBbmRDbGFzc2lmeVJlc3BvbnNlKHJlc3BvbnNlU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRNYXJrR3JvdXBJZCwgdGhpcy5fY2xhc3NpZnlSZXNwb25zZURldGFpbHMpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2VEZXRhaWxzLnByZXZpb3VzTWFya2luZ01vZGVJZCAhPT0gcmVzcG9uc2VEZXRhaWxzLm1hcmtpbmdNb2RlSWQpIHtcclxuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBjYWxsIGNsYXNzaWZ5IGFjdGlvbiBpZiB0aGVyZSBhcmUgbm8gY2hhbmdlcyBpbiBtYXJraW5nIG1vZGUgXHJcbiAgICAgICAgICAgIC8vIFRoaXMgcmVjbGFzc2lmeSBhY3Rpb24gaXMgYmVpbmcgY2FsbGVkIHdoZW4gcmVjbGFzc2lmeSBhIHJlc3BvbnNlIGZyb20gcmVzcG9uc2Ugc2NyZWVuIFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnJlY2xhc3NpZnlSZXNwb25zZShyZXNwb25zZURldGFpbHMsIGVudW1zLlBhZ2VDb250YWluZXJzLlJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHJlc2V0IHN0YXRlIFxyXG4gICAgICAgIHRoaXMucmVjbGFzc2lmeVJlc3BvbnNlRGV0YWlscyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLnBvcHVsYXRlUmVjYXNzaWZ5TXVsdGlPcHRpb25Qb3BVcERhdGEoKTtcclxuICAgICAgICBsZXQgaXNCdXN5OiBib29sZWFuID0gIXRoaXMuaXNVbmNsYXNzaWZpZWRXb3JrbGlzdFNlbGVjdGVkKCkgP1xyXG4gICAgICAgICAgICByZXNwb25zZURldGFpbHMucHJldmlvdXNNYXJraW5nTW9kZUlkICE9PSByZXNwb25zZURldGFpbHMubWFya2luZ01vZGVJZCA6IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lLFxyXG4gICAgICAgICAgICBkb1Nob3dSZWNsYXNzaWZ5UmVzcG9uc2VCdXN5SW5kaWNhdG9yOiBpc0J1c3lcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCB0aGUgc3RhdGUgb2YgbXVsdGkgb3B0aW9uIHBvcHVwIHR5cGUgdG8gQ2xhc3NpZnkgb3IgUmVjbGFzc2lmeVxyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSByZWNsYXNzaWZ5TXVsdGlPcHRpb25Qb3B1cE9wZW4gPSAoZXNNYXJrR3JvdXBJZDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5yZWNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzID1cclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5nZXRSZXNwb25zZURldGFpbHNCeUVzTWFya0dyb3VwSWRCYXNlZE9uUGVybWlzc2lvbihlc01hcmtHcm91cElkKTtcclxuICAgICAgICB0aGlzLnBvcHVsYXRlUmVjYXNzaWZ5TXVsdGlPcHRpb25Qb3BVcERhdGEodGhpcy5yZWNsYXNzaWZ5UmVzcG9uc2VEZXRhaWxzLm1hcmtpbmdNb2RlSWQpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5SZWNsYXNzaWZ5TXVsdGlPcHRpb24gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQb3B1bGF0ZSByYWRpbyBidXR0b24gaXRlbSBmb3IgUmV1c2VSSUcgcG9wIHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcG9wdWxhdGVSZXVzZVVuY2xhc3NpZnlQb3B1cEl0ZW0oKSB7XHJcbiAgICAgICAgdGhpcy5yZXVzZVVuY2xhc3NpZnlJdGVtID0gbmV3IEFycmF5PGdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zPigpO1xyXG4gICAgICAgIHRoaXMucmV1c2VVbmNsYXNzaWZ5SXRlbS5wdXNoKHRoaXMuY3JlYXRlUmV1c2VHZW5lcmljUmFkaW9CdXR0b25JdGVtKGVudW1zLk1hcmtpbmdNb2RlLlByZVN0YW5kYXJkaXNhdGlvbiwgMSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0IFJldXNlIFJJRyBwb3B1cCBhY3Rpb24gXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0IGdldFJlVXNlQWN0aW9uTXVsdGlPcHRpb25Qb3B1cENvbnRlbnQoKTogSlNYLkVsZW1lbnRbXSB7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQ6IEpTWC5FbGVtZW50W10gPSBbXTtcclxuICAgICAgICBsZXQgb3BlbmVkUmVzcG9uc2VEZXRhaWxzID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgZ2V0UmV1c2FibGVSZXNwb25zZURldGFpbHModGhpcy5yZXVzZVJJR1NlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICBsZXQgcmV1c2VSSUdTZWxlY3RlZENlbnRyZUlkID0gb3BlbmVkUmVzcG9uc2VEZXRhaWxzLmNlbnRyZU51bWJlci50b1N0cmluZygpO1xyXG4gICAgICAgIGxldCByZXVzZVJJR1NlbGVjdGVkQ2FuZGlkYXRlTm8gPSBvcGVuZWRSZXNwb25zZURldGFpbHMuY2VudHJlQ2FuZGlkYXRlTnVtYmVyLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IHJldXNlUklHU2VsZWN0ZWRTY3JpcHRJRCA9IG9wZW5lZFJlc3BvbnNlRGV0YWlscy5jYW5kaWRhdGVTY3JpcHRJZC50b1N0cmluZygpO1xyXG4gICAgICAgIGNvbnRlbnQucHVzaChcclxuICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5yZXVzZS1jb250ZW50Jyl9XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J2RpbS10ZXh0IHBhZGRpbmctdG9wLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5zY3JpcHQtaWQnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9J3JldXNlc2NyaXB0aWQnPnsnOiAxJyArIHJldXNlUklHU2VsZWN0ZWRTY3JpcHRJRCArICcsICd9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5DZW50cmUnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9J3JldXNlY2VudHJlaWQnPnsnOiAnICsgcmV1c2VSSUdTZWxlY3RlZENlbnRyZUlkICsgJywgJ308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2UtYWN0aW9uLXBvcHVwLkNhbmRpZGF0ZScpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0ncmV1c2VjYW5kaWRhdGVpZCc+eyc6ICcgKyByZXVzZVJJR1NlbGVjdGVkQ2FuZGlkYXRlTm99PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvcHRpb24taG9sZGVyIHBhZGRpbmctdG9wLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICA8R2VuZXJpY1BvcHVwV2l0aFJhZGlvQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nb3B0aW9ucydcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3BvcHVwLXJldXNlcmlnLW9wdGlvbi1ob2xkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zPXt0aGlzLnJldXNlVW5jbGFzc2lmeUl0ZW19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlPXt0aGlzLm9uUmV1c2VJdGVtQ2hlY2tlZENoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRPbj17dGhpcy5zdGF0ZS5yZW5kZXJlZE9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaUNsYXNzTmFtZT17J3BhZGRpbmctdG9wLTEwJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PSdwb3B1cC1yZXVzZS11bmNsYXNzaWZ5LW9wdGlvbidcclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWFjdGlvbi1wb3B1cC5yZXVzZS1jbGFzc2lmeS1vcHRpb24nKX1cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjbGFzc2lmeS1vcHRpb25zLWhvbGRlciBwYWRkaW5nLXRvcC0xMCBjbGVhcmZpeCc+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdlbmVyaWNQb3B1cFdpdGhSYWRpb0J1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J29wdGlvbi1pdGVtcydcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3BvcHVwLXJlY2xhc3NpZnktbXVsdGlvcHRpb24nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zPXt0aGlzLml0ZW1zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hlY2tlZENoYW5nZT17dGhpcy5vbkNoZWNrZWRDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkT249e3RoaXMuc3RhdGUucmVuZGVyZWRPbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlDbGFzc05hbWU9eydwYWRkaW5nLXRvcC0xMCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0ncG9wdXAtcmV1c2UtY2xhc3NpZnktb3B0aW9uJyAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvc3Bhbj4pO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBnZXQgcmVjbGFzc2lmaWNhdGlvbiBNdWx0aSBPcHRpb24gUG9wdXAgQ29udGVudFxyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSBnZXQgZ2V0UmVjbGFzc2lmaWNhdGlvbk11bHRpT3B0aW9uUG9wdXBDb250ZW50KCk6IEpTWC5FbGVtZW50W10ge1xyXG4gICAgICAgIGxldCBjb250ZW50OiBKU1guRWxlbWVudFtdID0gW107XHJcblxyXG4gICAgICAgIGNvbnRlbnQucHVzaCg8c3Bhbj48cCBjbGFzc05hbWU9J2RpbS10ZXh0Jz5cclxuICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZWNsYXNzaWZ5LW11bHRpb3B0aW9uLXBvcHVwLnJlc3BvbnNlLWlkJyl9XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Jlc3BvbnNlSUQnPnsnICcgKyB0aGlzLnJlY2xhc3NpZnlSZXNwb25zZURldGFpbHMuZGlzcGxheUlkfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9zcGFuPixcclxuXHRcdDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgeycgJyArIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QucmVjbGFzc2lmeS1tdWx0aW9wdGlvbi1wb3B1cC50b3RhbC1tYXJrJyl9XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3RvdGFsLW1hcmsnPnsnICcgKyB0aGlzLnJlY2xhc3NpZnlSZXNwb25zZURldGFpbHMudG90YWxNYXJrVmFsdWV9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9J3BhZGRpbmctdG9wLTEwJz5cclxuICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnJlY2xhc3NpZnktbXVsdGlvcHRpb24tcG9wdXAuYm9keSdcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSdwYWRkaW5nLXRvcC0xMCc+XHJcbiAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5zdGFuZGFyZGlzYXRpb25TZXR1cENvbXBsZXRlID9cclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5jbGFzc2lmeS1tdWx0aW9wdGlvbi1wb3B1cC5ib2R5LWNvbXBsZXRlLXNldHVwLW1lc3NhZ2UnIDpcclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZWNsYXNzaWZ5LW11bHRpb3B0aW9uLXBvcHVwLmJvZHktY29tcGxldGUtc2V0dXAtbWVzc2FnZSdcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NsYXNzaWZ5LW9wdGlvbnMtaG9sZGVyIHBhZGRpbmctdG9wLTEwIGNsZWFyZml4Jz5cclxuICAgICAgICAgICAgICAgIDxHZW5lcmljUG9wdXBXaXRoUmFkaW9CdXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J29wdGlvbi1pdGVtcydcclxuICAgICAgICAgICAgICAgICAgICBpZD0ncG9wdXAtcmVjbGFzc2lmeS1tdWx0aW9wdGlvbidcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcz17dGhpcy5pdGVtc31cclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlPXt0aGlzLm9uQ2hlY2tlZENoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlZE9uPXt0aGlzLnN0YXRlLnJlbmRlcmVkT259XHJcbiAgICAgICAgICAgICAgICAgICAgbGlDbGFzc05hbWU9eydwYWRkaW5nLXRvcC0xMCd9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PSdwb3B1cC1yZWNsYXNzaWZ5LW11bHRpb3B0aW9uJyAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L3NwYW4+KTtcclxuICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogT24gY2xpY2tpbmcgaXRlbXMgaW4gcmFkaW8gYnV0dG9uIHBvcHVwXHJcblx0ICogQHBhcmFtIGl0ZW1cclxuXHQgKi9cclxuICAgIHByaXZhdGUgb25DaGVja2VkQ2hhbmdlID0gKGl0ZW1Ub0JlVXBkYXRlZDogZ2VuZXJpY1JhZGlvQnV0dG9uSXRlbXMpID0+IHtcclxuICAgICAgICAvLyBzZXQgdGhlIGlzQ2hlY2tlZCBwcm9wZXJ0eSBvZiB0aGUgY2hlY2tlZCBpdGVtIHRvIHRydWVcclxuICAgICAgICB0aGlzLml0ZW1zLm1hcCgoaTogZ2VuZXJpY1JhZGlvQnV0dG9uSXRlbXMpID0+IHtcclxuICAgICAgICAgICAgaS5pc0NoZWNrZWQgPSBpLmlkID09PSBpdGVtVG9CZVVwZGF0ZWQuaWQgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEVuYWJsZSBjbGFzc2lmeSByZXNwb25zZSBPSyBidXR0b24gb24gc2VsZWN0aW5nIGFueSBvZiB0aGUgY2xhc3NpZnkgcmVzcG9uc2UgcmFkaW8gYnV0dG9uIG9wdGlvbnNcclxuICAgICAgICBpZiAodGhpcy5pc1VuY2xhc3NpZmllZFdvcmtsaXN0U2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0NsYXNzaWZ5UmVzcG9uc2VPa0J1dHRvbkRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiByZXVzZSBwb3B1cCB0aGVuIHVuY2hlY2tlZCB1bmNsYXNzaWZ5IG9wdGlvbiB3aGVuIHNlbGVjdCBjbGFzc2lmaWNhdGlvblxyXG4gICAgICAgIGlmICh0aGlzLnJldXNlVW5jbGFzc2lmeUl0ZW0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnJldXNlVW5jbGFzc2lmeUl0ZW0ubWFwKChpOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaS5pc0NoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gY2xpY2tpbmcgaXRlbXMgaW4gcmFkaW8gYnV0b24gcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblJldXNlSXRlbUNoZWNrZWRDaGFuZ2UgPSAoaXRlbVRvQmVVcGRhdGVkOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcykgPT4ge1xyXG4gICAgICAgIHRoaXMucmV1c2VVbmNsYXNzaWZ5SXRlbS5tYXAoKGk6IGdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zKSA9PiB7XHJcbiAgICAgICAgICAgIGkuaXNDaGVja2VkID0gaS5pZCA9PT0gaXRlbVRvQmVVcGRhdGVkLmlkID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZXQgdGhlIGlzQ2hlY2tlZCBwcm9wZXJ0eSBvZiB0aGUgbm90IGNoZWNrZWQgaXRlbSB0byBmYWxzZVxyXG4gICAgICAgIHRoaXMuaXRlbXMubWFwKChpOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcykgPT4ge1xyXG4gICAgICAgICAgICBpLmlzQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIGNhbGxlZCB3aGVuIHJlY2xhc3NpZnkgcG9wdXAgb3Blbi5cclxuICAgICAqIEBwYXJhbSByZWNsYXNzaWZpZWRSZXNwb25zZURldGFpbHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZWNsYXNzaWZ5UG9wdXBPcGVuID0gKHJlY2xhc3NpZmllZFJlc3BvbnNlRGV0YWlsczogdXBkYXRlRVNNYXJrR3JvdXBNYXJraW5nTW9kZURhdGEpOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBwcmV2aW91cywgY3VycmVudCBtYXJraW5nIG1vZGUgcGx1cyBkaXNwbGF5IGlkIHdoZW4gd2UgdHJ5IHRvIHJlY2xhc3NpZnkgZnJvbSB3b3JrbGlzdFxyXG4gICAgICAgIC8vIG9yIHdpdGhpbiByZXNwb25zZS5cclxuICAgICAgICB0aGlzLnByZXZpb3VzTWFya2luZ01vZGUgPSByZWNsYXNzaWZpZWRSZXNwb25zZURldGFpbHMucHJldmlvdXNNYXJraW5nTW9kZUlkO1xyXG4gICAgICAgIHRoaXMuY3VycmVudE1hcmtpbmdNb2RlID0gcmVjbGFzc2lmaWVkUmVzcG9uc2VEZXRhaWxzLm1hcmtpbmdNb2RlSWQ7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5SWQgPSByZWNsYXNzaWZpZWRSZXNwb25zZURldGFpbHMuZGlzcGxheUlkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV1c2VSSUcgYWN0aW9uIHBvcHVwIG9wZW4gXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmV1c2VSaWdBY3Rpb25Qb3B1cE9wZW4gPSAoZGlzcGxheUlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB0aGlzLnJldXNlUklHU2VsZWN0ZWREaXNwbGF5SWQgPSBkaXNwbGF5SWQ7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJlY2Fzc2lmeU11bHRpT3B0aW9uUG9wVXBEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJldXNlVW5jbGFzc2lmeVBvcHVwSXRlbSgpO1xyXG5cclxuICAgICAgICBsZXQgb3BlbmVkUmVzcG9uc2VEZXRhaWxzID0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgZ2V0UmV1c2FibGVSZXNwb25zZURldGFpbHModGhpcy5yZXVzZVJJR1NlbGVjdGVkRGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuUmV1c2VSaWdBY3Rpb25cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldXNlUklHIGFjdGlvbiBjb21wbGV0ZWQgZXZlbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZXVzZVJpZ0FjdGlvbkNvbXBsZXRlZEV2ZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucmV1c2VSSUdTZWxlY3RlZERpc3BsYXlJZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJlY2Fzc2lmeU11bHRpT3B0aW9uUG9wVXBEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJldXNlVW5jbGFzc2lmeVBvcHVwSXRlbSgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lLFxyXG4gICAgICAgICAgICBkb1Nob3dSZXVzZVJpZ0FjdGlvbkJ1c3lJbmRpY2F0b3I6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gb3BlbiBSZWNsYXNzaWZ5IGVycm9yIHBvcHVwXHJcbiAgICAgKiB3aGVuZXZlciBhIGZhaWwgaW4gcmVjbGFzc2lmeSBhY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVjbGFzc2lmeUVycm9yUG9wdXBPcGVuID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5SZWNsYXNzaWZ5RXJyb3IsIGRvU2hvd1JlY2xhc3NpZnlSZXNwb25zZUJ1c3lJbmRpY2F0b3I6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gZ2V0IHRoZSByZWNsYXNzaWZpZWQgcmVzcG9uc2UgZXJyb3IgcG9wdXAgY29udGVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSZWNsYXNzaWZ5RXJyb3JQb3B1cENvbnRlbnQoKSB7XHJcbiAgICAgICAgbGV0IHByZXZpb3VzTWFya2luZ01vZGU6IHN0cmluZyA9IChsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5jbGFzc2lmaWNhdGlvbi10eXBlLidcclxuICAgICAgICAgICAgKyBlbnVtcy5NYXJraW5nTW9kZVt0aGlzLnByZXZpb3VzTWFya2luZ01vZGVdKSk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRNYXJraW5nTW9kZTogc3RyaW5nID0gKGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgKCdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LmNsYXNzaWZpY2F0aW9uLXR5cGUuJ1xyXG4gICAgICAgICAgICArIGVudW1zLk1hcmtpbmdNb2RlW3RoaXMuY3VycmVudE1hcmtpbmdNb2RlXSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gc3RyaW5nSGVscGVyLmZvcm1hdChcclxuICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnJlY2xhc3NpZnllcnJvci1wb3B1cC5ib2R5J1xyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgICBbdGhpcy5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c01hcmtpbmdNb2RlLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudE1hcmtpbmdNb2RlXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgc2hhcmUgcmVzcG9uc2UgcG9wdXAgY29udGVudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRTaGFyZVJlc3BvbnNlUG9wdXBDb250ZW50KCkge1xyXG4gICAgICAgIGxldCBwb3BVcENvbnRlbnQ6IEpTWC5FbGVtZW50W10gPSBbXTtcclxuICAgICAgICBwb3BVcENvbnRlbnQucHVzaCg8cD5cclxuICAgICAgICAgICAge2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3Quc2hhcmUtcmVzcG9uc2UtcG9wdXAuYm9keScpfVxyXG4gICAgICAgIDwvcD4pO1xyXG4gICAgICAgIHBvcFVwQ29udGVudC5wdXNoKDxwIGNsYXNzTmFtZT0nZGltLXRleHQgcGFkZGluZy10b3AtMTAnPlxyXG4gICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLnJlc3BvbnNlLWlkJyl9XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Jlc3BvbnNlSUQnPnt0aGlzLl9zaGFyZVJlc3BvbnNlRGV0YWlscy5kaXNwbGF5SWR9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L3NwYW4+LFxyXG4gICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLnRvdGFsLW1hcmsnKX1cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndG90YWwtbWFyayc+e3RoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLnRvdGFsTWFya1ZhbHVlfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDwvcD4pO1xyXG4gICAgICAgIHBvcFVwQ29udGVudC5wdXNoKDxwIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAnPlxyXG4gICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLmNvbmZpcm1hdGlvbi10ZXh0Jyl9XHJcbiAgICAgICAgPC9wPik7XHJcbiAgICAgICAgcmV0dXJuIHBvcFVwQ29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldCBTaGFyZSBSZXNwb25zZSBQb3B1cCBDb250ZW50IEZvciBQRVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldCBnZXRTaGFyZVJlc3BvbnNlUG9wdXBDb250ZW50Rm9yUEUoKTogSlNYLkVsZW1lbnRbXSB7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQ6IEpTWC5FbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICAgICAgY29udGVudC5wdXNoKFxyXG4gICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgIDxwIGlkPSdjaG9zZS1tZXNzYWdlJz5cclxuICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3Quc2hhcmUtcmVzcG9uc2UtcG9wdXAuY2hvc2UtbWVzc2FnZScpfVxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSdkaW0tdGV4dCBwYWRkaW5nLXRvcC0xMCc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3Quc2hhcmUtcmVzcG9uc2UtcG9wdXAucmVzcG9uc2UtaWQnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdyZXNwb25zZUlEJz57dGhpcy5fc2hhcmVSZXNwb25zZURldGFpbHMuZGlzcGxheUlkfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+LFxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLnRvdGFsLW1hcmsnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSd0b3RhbC1tYXJrJz57dGhpcy5fc2hhcmVSZXNwb25zZURldGFpbHMudG90YWxNYXJrVmFsdWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvcHRpb24taG9sZGVyIHBhZGRpbmctdG9wLTEwJz5cclxuICAgICAgICAgICAgICAgICAgICA8R2VuZXJpY1BvcHVwV2l0aFJhZGlvQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nb3B0aW9ucydcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3BvcHVwLXNoYXJlLXJlc3BvbnNlLW9wdGlvbi1ob2xkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zPXt0aGlzLnJldXNlVW5jbGFzc2lmeUl0ZW19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlPXt0aGlzLm9uUmV1c2VJdGVtQ2hlY2tlZENoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRPbj17dGhpcy5zdGF0ZS5yZW5kZXJlZE9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaUNsYXNzTmFtZT17J3BhZGRpbmctdG9wLTEwJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PSdwb3B1cC1yZXVzZS11bmNsYXNzaWZ5LW9wdGlvbidcclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8cCBpZD0nc2hhcmUtbm90ZScgY2xhc3NOYW1lPSdwYWRkaW5nLXRvcC0xMCBvcHRpb24tY29udGVudCc+e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3Quc2hhcmUtcmVzcG9uc2UtcG9wdXAuc2hhcmUtbm90ZScpfTwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGlkPSdjbGFzc2lmeS1ub3cnIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAnPjxsYWJlbD48c3BhbiBjbGFzc05hbWU9J2xhYmVsLXRleHQnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLmNsYXNzaWZ5LW5vdycpfTwvc3Bhbj48L2xhYmVsPjwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGlkPSdhbm5vdGF0aW9uLW5vdGUnIGNsYXNzTmFtZT0ncGFkZGluZy10b3AtMTAnPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc3RhbmRhcmRpc2F0aW9uLXNldHVwLXdvcmtsaXN0LnNoYXJlLXJlc3BvbnNlLXBvcHVwLmFubm90YXRpb24tbm90ZScpfTwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjbGFzc2lmeS1vcHRpb25zLWhvbGRlciBwYWRkaW5nLXRvcC0xMCBjbGVhcmZpeCc+XHJcbiAgICAgICAgICAgICAgICAgICAgPEdlbmVyaWNQb3B1cFdpdGhSYWRpb0J1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J29wdGlvbi1pdGVtcydcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J3BvcHVwLXJlY2xhc3NpZnktbXVsdGlvcHRpb24nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zPXt0aGlzLml0ZW1zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hlY2tlZENoYW5nZT17dGhpcy5vbkNoZWNrZWRDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkT249e3RoaXMuc3RhdGUucmVuZGVyZWRPbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlDbGFzc05hbWU9eydwYWRkaW5nLXRvcC0xMCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT0ncG9wdXAtcmV1c2UtY2xhc3NpZnktb3B0aW9uJyAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvc3Bhbj4pO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUG9wdWxhdGUgcmFkaW8gYnV0dG9uIGl0ZW0gZm9yIFNoYXJlIGFuZCBDbGFzc2lmeSBwb3AgdXAgZm9yIFBFXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcG9wdWxhdGVTaGFyZUZvclBFY2xhc3NpZnlQb3B1cEl0ZW0oKSB7XHJcbiAgICAgICAgdGhpcy5yZXVzZVVuY2xhc3NpZnlJdGVtID0gbmV3IEFycmF5PGdlbmVyaWNSYWRpb0J1dHRvbkl0ZW1zPigpO1xyXG4gICAgICAgIHRoaXMucmV1c2VVbmNsYXNzaWZ5SXRlbS5wdXNoKHRoaXMuY3JlYXRTaGFyZUZvclBFR2VuZXJpY1JhZGlvQnV0dG9uSXRlbShlbnVtcy5NYXJraW5nTW9kZS5QcmVTdGFuZGFyZGlzYXRpb24sIDEpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSByYWRpbyBidXR0b24gZm9yIFNoYXJlIGFuZCBDbGFzc2lmeVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNyZWF0U2hhcmVGb3JQRUdlbmVyaWNSYWRpb0J1dHRvbkl0ZW0oaW5wdXRpZDogbnVtYmVyLCBzZXF1ZW5jZU5vOiBudW1iZXIpOiBnZW5lcmljUmFkaW9CdXR0b25JdGVtcyB7XHJcbiAgICAgICAgbGV0IHJhZGlvQnV0dG9uRm9yU2hhcmVQRSA9IG5ldyBnZW5lcmljUmFkaW9CdXR0b25JdGVtcygpO1xyXG4gICAgICAgIHJhZGlvQnV0dG9uRm9yU2hhcmVQRS5zZXF1ZW5jZU5vID0gc2VxdWVuY2VObztcclxuICAgICAgICByYWRpb0J1dHRvbkZvclNoYXJlUEUuaWQgPSBpbnB1dGlkO1xyXG4gICAgICAgIHJhZGlvQnV0dG9uRm9yU2hhcmVQRS5pc0NoZWNrZWQgPSByYWRpb0J1dHRvbkZvclNoYXJlUEUuaWQgPT09IGlucHV0aWQgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgcmFkaW9CdXR0b25Gb3JTaGFyZVBFLm5hbWUgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5zaGFyZS1yZXNwb25zZS1wb3B1cC5zaGFyZS1tYXJrJyk7XHJcbiAgICAgICAgcmFkaW9CdXR0b25Gb3JTaGFyZVBFLmVycm9yVGV4dCA9ICcnO1xyXG4gICAgICAgIHJldHVybiByYWRpb0J1dHRvbkZvclNoYXJlUEU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gaGlkZSBSZWNsYXNzaWZ5IGVycm9yIHBvcHVwIG9uIG9rIGNsaWNrLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUmVjbGFzc2lmeUVycm9yTWVzc2FnZU9rQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBzaG93IHRoZSBjb25jdXJyZW50IHNhdmUgZmFpbCBwb3B1cFxyXG4gICAgICogd2hpbGUgdXBkYXRpbmcgdGhlIHNhbWUgcmVzcG9uc2UgbWFya2luZyBtb2RlIGJ5IGRpZmZlcmVudCB1c2VyLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNvbmN1cnJlbnRTYXZlRmFpbFBvcHVwID0gKGFyZWE6IGVudW1zLlBhZ2VDb250YWluZXJzKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jb25jdXJyZW50U2F2ZUZhaWxBcmVhID0gYXJlYTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuQ29uY3VycmVudFNhdmVGYWlsLFxyXG4gICAgICAgICAgICBkb1Nob3dSZWNsYXNzaWZ5UmVzcG9uc2VCdXN5SW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgZG9TaG93Q2xhc3NpZnlSZXNwb25zZUJ1c3lJbmRpY2F0b3I6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIHNob3cgdGhlIGRpc2NhcmQgcmVzcG9uc2UgZmFpbCBwb3B1cCB3aGlsZSBkaXNjYXJkaW5nIHRoZSBzYW1lIHJlc3BvbnNlIGJ5IGRpZmZlcmVudCB1c2VyLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGRpc2NhcmRSZXNwb25zZUZhaWxQb3B1cCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcG9wVXBUeXBlOiBlbnVtcy5Qb3BVcFR5cGUuRGlzY2FyZFJlc3BvbnNlRmFpbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGhpZGUgQ29uY3VycmVudCBTYXZlIEZhaWwgUG9wdXAgb24gb2sgY2xpY2suXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Db25jdXJyZW50U2F2ZUZhaWxQb3B1cE9rQ2xpY2sgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIC8vIGdldCB0aGUgd29ya2xpc3QgdmlldyB0eXBlLlxyXG4gICAgICAgIGxldCBzdGRXb3JrbGlzdFZpZXdUeXBlOiBlbnVtcy5TVERXb3JrbGlzdFZpZXdUeXBlID0gdXNlck9wdGlvbnNIZWxwZXIuZ2V0VXNlck9wdGlvbkJ5TmFtZSh1c2VyT3B0aW9uS2V5cy5TRUxFQ1RFRF9HUklEX1ZJRVdfT1BUSU9OKVxyXG4gICAgICAgICAgICA9PT0gJ2ZhbHNlJyA/IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld01hcmtzQnlRdWVzdGlvbiA6IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld1RvdGFsTWFya3M7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbmN1cnJlbnRTYXZlRmFpbEFyZWEgPT09IGVudW1zLlBhZ2VDb250YWluZXJzLlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIC8vIHdoZW4gY29uY3VycmVueSBlcnJvciBvY2N1cnMgZnJvbSByZXNwb25zZSwgbmF2aWdhdGUgdG8gc3N1XHJcbiAgICAgICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFN0YW5kYXJkaXNhdGlvblNldHVwKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRTdGFuZGFyZGlzYXRpb25TZXR1cFdvcmtMaXN0XHJcbiAgICAgICAgICAgICAgICA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIHRoZSBDbGFzc2lmaWVkIHdvcmtsaXN0IGdyaWQgd2l0aCBsYXRlc3QgY2hhbmdlcy5cclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IuZ2V0Q2xhc3NpZmllZFJlc3BvbnNlRGV0YWlscyhzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2luU2Vzc2lvbi5FWEFNSU5FUl9JRCwgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBmYWxzZSwgc3RkV29ya2xpc3RWaWV3VHlwZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIHRoZSBVbkNsYXNzaWZpZWQgd29ya2xpc3QgZ3JpZCB3aXRoIGxhdGVzdCBjaGFuZ2VzLlxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5nZXRVbkNsYXNzaWZpZWRSZXNwb25zZURldGFpbHMoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgICAgICAgICBsb2dpblNlc3Npb24uRVhBTUlORVJfSUQsIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsIHN0ZFdvcmtsaXN0Vmlld1R5cGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXNldCBjb25jdXJyZW50IFNhdmUgRmFpbCBBcmVhXHJcbiAgICAgICAgdGhpcy5jb25jdXJyZW50U2F2ZUZhaWxBcmVhID0gZW51bXMuUGFnZUNvbnRhaW5lcnMuTm9uZTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHBvcFVwVHlwZTogZW51bXMuUG9wVXBUeXBlLk5vbmVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBoaWRlIGRpc2NhcmQgcmVzcG9uc2UgZmFpbCBwb3B1cCBhbmQgbmF2aWdhdGUgYmFjayB0byB1bmNsYXNzaWZpZWQgd29ya2xpc3Qgd2l0aCByZWZyZXNoZWQgZGF0YS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbkRpc2NhcmRSZXNwb25zZUZhaWxQb3B1cE9rQ2xpY2sgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIC8vIGdldCB0aGUgd29ya2xpc3QgdmlldyB0eXBlLlxyXG4gICAgICAgIGxldCBzdGRXb3JrbGlzdFZpZXdUeXBlOiBlbnVtcy5TVERXb3JrbGlzdFZpZXdUeXBlID0gdXNlck9wdGlvbnNIZWxwZXIuZ2V0VXNlck9wdGlvbkJ5TmFtZSh1c2VyT3B0aW9uS2V5cy5TRUxFQ1RFRF9HUklEX1ZJRVdfT1BUSU9OKVxyXG4gICAgICAgICAgICA9PT0gJ2ZhbHNlJyA/IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld01hcmtzQnlRdWVzdGlvbiA6IGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld1RvdGFsTWFya3M7XHJcblxyXG4gICAgICAgIC8vIFJlZnJlc2ggdGhlIFVuQ2xhc3NpZmllZCB3b3JrbGlzdCBncmlkIHdpdGggbGF0ZXN0IGRhdGEuXHJcbiAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5nZXRVbkNsYXNzaWZpZWRSZXNwb25zZURldGFpbHMoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5leGFtaW5lclJvbGVJZCxcclxuICAgICAgICAgICAgbG9naW5TZXNzaW9uLkVYQU1JTkVSX0lELCBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICBmYWxzZSwgc3RkV29ya2xpc3RWaWV3VHlwZSk7XHJcblxyXG4gICAgICAgIG5hdmlnYXRpb25IZWxwZXIubG9hZFN0YW5kYXJkaXNhdGlvblNldHVwKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwb3BVcFR5cGU6IGVudW1zLlBvcFVwVHlwZS5Ob25lXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFBvcHVsYXRlIHJlY2Fzc2lmeSBtdWx0aW9wdGlvbiBwb3BVcCBkYXRhXHJcblx0ICovXHJcbiAgICBwcml2YXRlIHBvcHVsYXRlQ3JlYXRlTXVsdGlRSUdQcm92aXNpb25hbHNQb3BVcERhdGEocHJvdmlzaW9uYWxRaWdkZXRhaWxzOiBJbW11dGFibGUuTGlzdDxQcm92aXNpb25hbFFJR0RldGFpbHNSZXR1cm4+KSB7XHJcbiAgICAgICAgdGhpcy5tdWx0aVFpZ0NoZWNrYm94SXRlbXMgPSBuZXcgQXJyYXk8Z2VuZXJpY0NoZWNrQm94SXRlbXM+KCk7XHJcbiAgICAgICAgcHJvdmlzaW9uYWxRaWdkZXRhaWxzLm1hcCgoaXRlbTogUHJvdmlzaW9uYWxRSUdEZXRhaWxzUmV0dXJuKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgc2hvdyB0aGUgUUlHcyB3aGljaCBoYXZlIE11bHRpUUlHUHJvdmlzaW9uYWxQZXJtaXNzb24gaW4gdGhlIFN0YW5kYXJkaXNhdGlvblNldHVwUGVybWlzc2lvbnMgQ0MgaXMgT05cclxuICAgICAgICAgICAgbGV0IHN0YW5kYXJkaXNhdGlvblNldHVwQ0NEYXRhOiBzdGFuZGFyZGlzYXRpb25TZXR1cENDRGF0YSA9IHN0ZFNldHVwUGVybWlzc2lvbkhlbHBlci5nZW5lcmF0ZVNURFNldHVwUGVybWlzc2lvbkRhdGEoXHJcbiAgICAgICAgICAgICAgICBpdGVtLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YSwgaXRlbS5yb2xlKTtcclxuICAgICAgICAgICAgaWYgKHN0YW5kYXJkaXNhdGlvblNldHVwQ0NEYXRhICYmIHN0YW5kYXJkaXNhdGlvblNldHVwQ0NEYXRhLnJvbGUucGVybWlzc2lvbnMubXVsdGlRSUdQcm92aXNpb25hbHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlRaWdDaGVja2JveEl0ZW1zLnB1c2godGhpcy5jcmVhdGVHZW5lcmljQ2hlY2tCb3hJdGVtKGl0ZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5tYXJrU2NoZW1lR3JvdXBJZCA9PT0gc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBHZW5lcmljIENoZWNrIEJveCBJdGVtXHJcblx0ICogQHBhcmFtIHByb3Zpc2lvbmFsUWlnRGV0YWlsXHJcblx0ICovXHJcbiAgICBwcml2YXRlIGNyZWF0ZUdlbmVyaWNDaGVja0JveEl0ZW0ocHJvdmlzaW9uYWxRaWdEZXRhaWw6IFByb3Zpc2lvbmFsUUlHRGV0YWlsc1JldHVybiwgaXNjaGVja2VkOiBib29sZWFuKTogZ2VuZXJpY0NoZWNrQm94SXRlbXMge1xyXG4gICAgICAgIGxldCBvYmogPSBuZXcgZ2VuZXJpY0NoZWNrQm94SXRlbXMoKTtcclxuICAgICAgICBvYmouaWQgPSBwcm92aXNpb25hbFFpZ0RldGFpbC5tYXJrU2NoZW1lR3JvdXBJZDtcclxuICAgICAgICBvYmouaXNDaGVja2VkID0gaXNjaGVja2VkO1xyXG4gICAgICAgIG9iai5kaXNhYmxlZCA9IGlzY2hlY2tlZDtcclxuICAgICAgICBvYmoubGFiZWxDb250ZW50ID0gcHJvdmlzaW9uYWxRaWdEZXRhaWwubWFya1NjaGVtZUdyb3VwTmFtZTtcclxuICAgICAgICBvYmouY29udGFpbmVyQ2xhc3NOYW1lID0gJ3BhZGRpbmctdG9wLTEwJztcclxuICAgICAgICBvYmouY2xhc3NOYW1lID0gJ3RleHQtbWlkZGxlIGNoZWNrYm94JztcclxuICAgICAgICBvYmoubGFiZWxDbGFzc05hbWUgPSAndGV4dC1taWRkbGUnO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE9uIGNsaWNraW5nIGl0ZW1zIGluIGNoZWNrIGJveCBwb3B1cFxyXG5cdCAqIEBwYXJhbSBpdGVtXHJcblx0ICovXHJcbiAgICBwcml2YXRlIG9uQ2hlY2tlZCA9IChpdGVtVG9CZVVwZGF0ZWQ6IGdlbmVyaWNDaGVja0JveEl0ZW1zKSA9PiB7XHJcbiAgICAgICAgLy8vLyBzZXQgdGhlIGlzQ2hlY2tlZCBwcm9wZXJ0eSBvZiB0aGUgY2hlY2tlZCBpdGVtIHRvIHRydWVcclxuICAgICAgICB0aGlzLm11bHRpUWlnQ2hlY2tib3hJdGVtcy5tYXAoKGl0ZW06IGdlbmVyaWNDaGVja0JveEl0ZW1zKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0uaXNDaGVja2VkID0gaXRlbS5pZCA9PT0gaXRlbVRvQmVVcGRhdGVkLmlkID8gKGl0ZW0uaXNDaGVja2VkID8gZmFsc2UgOiB0cnVlKSA6IGl0ZW0uaXNDaGVja2VkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZGlzcGxheSBub3RlIG1vZGlmaWVkIGluIGJhY2tncm91bmQgcG9wdXBcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGRpc3BsYXlOb3RlU2F2ZUZhaWxlZFBvcHVwKHNhdmVOb3RlRXJyb3JDb2RlOiBlbnVtcy5TYXZlTm90ZUVycm9yKSB7XHJcbiAgICAgICAgaWYgKHNhdmVOb3RlRXJyb3JDb2RlID09PSBlbnVtcy5TYXZlTm90ZUVycm9yLlRpbWVTdGFtcENoYW5nZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlRGV0YWlscyA9IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWFkZXI6IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5sZWZ0LXBhbmVsLm5vdGUtc2F2ZS1lcnJvci1wb3B1cC1oZWFkZXInXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZVN0cmluZzogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLmxlZnQtcGFuZWwubm90ZS10aW1lc3RhbXAtY2hhbmdlZC1wb3B1cC1ib2R5J1xyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNOb3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwVmlzaWJsZTogdHJ1ZSB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNhdmVOb3RlRXJyb3JDb2RlID09PSBlbnVtcy5TYXZlTm90ZUVycm9yLk1hcmtpbmdNb2RlQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VEZXRhaWxzID0ge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZUhlYWRlcjogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLmxlZnQtcGFuZWwubm90ZS1zYXZlLWVycm9yLXBvcHVwLWhlYWRlcidcclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlU3RyaW5nOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGFuZGFyZGlzYXRpb24tc2V0dXAubGVmdC1wYW5lbC5ub3RlLXJlc3BvbnNlLW1vZGlmaWVkLXBvcHVwLWJvZHknXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1Jlc3BvbnNlTW9kaWZpZWRQb3B1cFZpc2liaWxlOiB0cnVlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBvcHVwIGVsZW1lbnQgZm9yIG5vdGUgdGltZXN0YW1wIGNoYW5nZWQgcG9wdXAuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Ob3RlVGltZVN0YW1wQ2hhbmdlZFBvcHVwQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTm90ZVRpbWVTdGFtcENoYW5nZWRQb3B1cFZpc2libGU6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUG9wdXAgZWxlbWVudCBmb3IgcmVzcG9uc2UgbW9kaWZpZWQgcG9wdXAuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SZXNwb25zZU1vZGlmaWVkUG9wdXBDbG9zZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNSZXNwb25zZU1vZGlmaWVkUG9wdXBWaXNpYmlsZTogZmFsc2UgfSk7XHJcbiAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkU3RhbmRhcmRpc2F0aW9uU2V0dXAoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICBSZXJlbmRlciBjbGFzc2lmaWVkIHdvcmtsaXN0IG9uIGRlY2xhc3NpZnkvcmVjbGFzc2lmeSBzY2VuYXJpb1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlUmVuZGVyT25DbGFzc2lmaWVkUmVzcG9uc2VSZWNlaXZlZCgpIHtcclxuICAgICAgICAvLyBGZXRjaCB0aGUgU1REV29ya2xpc3RWaWV3VHlwZSBmcm9tIHVzZXIgb3B0aW9uc1xyXG4gICAgICAgIGxldCBpc1N0ZFRvdGFsTWFya1ZpZXc6IGJvb2xlYW4gPSB1c2VyT3B0aW9uc0hlbHBlci5nZXRVc2VyT3B0aW9uQnlOYW1lKHVzZXJPcHRpb25LZXlzLlNFTEVDVEVEX0dSSURfVklFV19PUFRJT04pXHJcbiAgICAgICAgICAgID09PSAnZmFsc2UnID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgIGxldCBncmlkVHlwZTogZW51bXMuU1REV29ya2xpc3RWaWV3VHlwZSA9IGlzU3RkVG90YWxNYXJrVmlldyA/XHJcbiAgICAgICAgICAgIGVudW1zLlNURFdvcmtsaXN0Vmlld1R5cGUuVmlld1RvdGFsTWFya3MgOiBlbnVtcy5TVERXb3JrbGlzdFZpZXdUeXBlLlZpZXdNYXJrc0J5UXVlc3Rpb247XHJcblxyXG4gICAgICAgIC8vIHJlZnJlc2ggdGhlIHN1bW1hcnkgdGFyZ2V0cy5cclxuICAgICAgICBsZXQgZ2V0U3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlscyA9XHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IuZ2V0U3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlscyhxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLmV4YW1pbmVyUm9sZUlkKTtcclxuXHJcbiAgICAgICAgZ2V0U3RhbmRhcmRpc2F0aW9uVGFyZ2V0RGV0YWlscy5cclxuICAgICAgICAgICAgdGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyByZWZyZXNoIHRoZSBjbGFzc2lmaWNhdGlvbiBncmlkIG9uY2Ugd2UgcmVjbGFzc2lmeS9kZWNsYXNzaWZ5IGEgcmVzcG9uc2UuXHJcbiAgICAgICAgICAgICAgICBsZXQgZ2V0Q2xhc3NpZmllZFJlc3BvbnNlRGV0YWlscyA9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvci5nZXRDbGFzc2lmaWVkUmVzcG9uc2VEZXRhaWxzKHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luU2Vzc2lvbi5FWEFNSU5FUl9JRCwgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLCBncmlkVHlwZSk7XHJcbiAgICAgICAgICAgICAgICBnZXRDbGFzc2lmaWVkUmVzcG9uc2VEZXRhaWxzLlxyXG4gICAgICAgICAgICAgICAgICAgIHRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93UmVjbGFzc2lmeVJlc3BvbnNlQnVzeUluZGljYXRvcjogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgdmlzaWJpbGl0eSBvZiBVbkNsYXNzaWZpZWQgcmVzcG9uc2UgdW5hdmFpbGFibGUgcG9wdXAuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdW5DbGFzc2lmaWVkU2NyaXB0aW5TdG1VbmF2YWlsYWJsZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgdW5DbGFzc2lmaWVkU2NyaXB0aW5TdG1VbmF2YWlsYWJsZVZpc2libGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9rIGNsaWNrIGFjdGlvbiwgb24gVW5DbGFzc2lmaWVkIHVuYXZhaWxhYmxlIHBvcHVwLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9rQ2xpY2tPblVuYXZhaWxhYmxlUG9wVXAgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHVuQ2xhc3NpZmllZFNjcmlwdGluU3RtVW5hdmFpbGFibGVWaXNpYmxlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRTdGFuZGFyZGlzYXRpb25TZXR1cCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc2F2ZSBNYXJrcyBBbmQgQW5ub3RhdGlvbnMgV2l0aCBOb24gUmVjb3ZlcmFibGUgRXJyb3JcclxuICAgICAqIEBwYXJhbSBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50XHJcbiAgICAgKiBAcGFyYW0gbWFya0dyb3VwSWRcclxuICAgICAqIEBwYXJhbSBxdWV1ZU9wZXJhdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNhdmVNYXJrc0FuZEFubm90YXRpb25zV2l0aE5vblJlY292ZXJhYmxlRXJyb3IoXHJcbiAgICAgICAgc2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludDogZW51bXMuU2F2ZU1hcmtzQW5kQW5ub3RhdGlvbnNQcm9jZXNzaW5nVHJpZ2dlclBvaW50LFxyXG4gICAgICAgIG1hcmtHcm91cElkOiBudW1iZXIsIHF1ZXVlT3BlcmF0aW9uOiBlbnVtcy5NYXJrc0FuZEFubm90YXRpb25zUXVldWVPcGVyYXRpb24pIHtcclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBoZWxwZXIgbWV0aG9kIHRvIHVwZGF0ZSB0aGUgbWFya3MgYW5kIGFubm90YXRpb25zIHF1ZXVlXHJcbiAgICAgICAgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIub25TYXZlTWFya3NBbmRBbm5vdGF0aW9ucyhcclxuICAgICAgICAgICAgbWFya0dyb3VwSWQsXHJcbiAgICAgICAgICAgIHF1ZXVlT3BlcmF0aW9uXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHF1ZXVlIGlzIHByb2Nlc3NlZCBjb21wbGV0ZWx5LCBoYXZlIHRvIGhpZGUgdGhlIHNhdmUgbWFya3MgYW5kIGFubm90YXRpb25zIGJ1c3kgaW5kaWNhdG9yXHJcbiAgICAgICAgaWYgKG1hcmtzQW5kQW5ub3RhdGlvbnNTYXZlSGVscGVyLmlzUXVldWVQcm9jZXNzZWRDb21wbGV0ZWx5KSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIG1hcmtzQW5kQW5ub3RhdGlvbnNTYXZlSGVscGVyLm1hcmtHcm91cEl0ZW1zV2l0aE5vblJlY292ZXJhYmxlRXJyb3JzXHJcbiAgICAgICAgICAgICAgICAgICAgLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAvL1doZW4gdGhlcmUgYXJlIGVycm9ycyBpbiBzYXZpbmcgbWFya3MgYW5kIGFubm90YXRpb25zIHdlIGhhdmUgdG8gaGlkZSB0aGUgYnVzeSBpbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgIGJ1c3lJbmRpY2F0b3JBY3Rpb25DcmVhdG9yLnNldEJ1c3lJbmRpY2F0b3JJbnZva2VyKFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLm5vbmVcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgYXBwcm9wcmlhdGUgZXJyb3IgZGlhbG9nIGNvbnRlbnRzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVNYXJrc0FuZEFubm90YXRpb25zRXJyb3JEaWFsb2dDb250ZW50cyA9IG5ldyBzYXZlTWFya3NBbmRBbm5vdGF0aW9uc05vblJlY292ZXJhYmxlRXJyb3JEaWFsb2dDb250ZW50cyhcclxuICAgICAgICAgICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2xvZ2ljIGZvciBkaXNwbGF5aW5nIGVycm9yIHBvcHVwLlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb1Nob3dTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zSW5kaWNhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNOb25SZWNvdmVyYWJsZUVycm9yUG9wdXBWaXNpYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NCYXNlZE9uU2F2ZU1hcmtzQW5kQW5ub3RhdGlvblRyaWdnZXJpbmdQb2ludChcclxuICAgICAgICAgICAgICAgICAgICBzYXZlTWFya3NBbmRBbm5vdGF0aW9uVHJpZ2dlcmluZ1BvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtHcm91cElkXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBMYXN0IEludm9rZWQgVHJpZ2dlciBwb2ludCBpcyBzdG9yZWQgaW4gbWFya2luZyBTdG9yZS4gUmVzZXQgdGhlIHZhcmlhYmxlIGFmdGVyICdBTEwgQ29tcGxldGVkIFNhdmUnXHJcbiAgICAgICAgICAgIGlmIChtYXJrc0FuZEFubm90YXRpb25zU2F2ZUhlbHBlci5jb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VBY3Rpb25DcmVhdG9yLnRyaWdnZXJTYXZpbmdNYXJrc0FuZEFubm90YXRpb25zKFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlNhdmVNYXJrc0FuZEFubm90YXRpb25zUHJvY2Vzc2luZ1RyaWdnZXJQb2ludC5Ob25lXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBoaWRlIHRoZSBzYXZpbmcgbWFya3MgYW5kIGFubm90YXRpb25zIGJ1c3kgaW5kaWNhdG9yXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGRvU2hvd1NhdmluZ01hcmtzQW5kQW5ub3RhdGlvbnNJbmRpY2F0b3I6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICBSZXJlbmRlciByaWcgbm90IGZvdW5kIHBvcCB1cC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzaG93T3JIaWRlUmlnTm90Rm91bmRQb3B1cCA9IChzaG93T3JIaWRlUmlnTm90Rm91bmQ6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd1JpZ05vdEZvdW5kUG9wVXA6IHNob3dPckhpZGVSaWdOb3RGb3VuZCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICBSZXJlbmRlciBSaWcgbm90IGZvdW5kIHBvcHVwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25SaWdOb3RGb3VuZE9rQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dSaWdOb3RGb3VuZFBvcFVwOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICBEaXNwbGF5IGNvbmZpcm1hdGlvbiBkaWFsb2cgdG8gc2hhcmUgdGhlIHJlc3BvbnNlLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNoYXJlUmVzcG9uc2VQb3B1cE9wZW4gPSAoc2hhcmVSZXNwb25zZURldGFpbHM6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscywgaXNTaGFyZWRGcm9tTWFya1NjaGVtZTogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIFNldCBmbGFnIHRvIGRpc3BsYXkgc2hhcmVSZXNwb25zZSBQb3B1cCBPciBub3QuXHJcbiAgICAgICAgdGhpcy5fc2hhcmVSZXNwb25zZURldGFpbHMgPSBzaGFyZVJlc3BvbnNlRGV0YWlscztcclxuICAgICAgICB0aGlzLl9pc1NoYXJlZEZyb21NYXJrU2NoZW1lID0gaXNTaGFyZWRGcm9tTWFya1NjaGVtZTtcclxuICAgICAgICB0aGlzLl9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJlY2Fzc2lmeU11bHRpT3B0aW9uUG9wVXBEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVNoYXJlRm9yUEVjbGFzc2lmeVBvcHVwSXRlbSgpO1xyXG5cclxuICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGRTZXR1cFBlcm1pc3Npb25DQ0RhdGEucm9sZS5wZXJtaXNzaW9ucy5jbGFzc2lmeSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yRm9yUEUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZ0ZvclBFOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQnVzeTogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBpc0J1c3k6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIENsb3NlIFNoYXJlIFJlc3BvbnNlIGRpYWxvZyBhZnRlciBjbGlja2luZyBDYW5jZWwuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hhcmVSZXNwb25zZVBvcHVwQ2xvc2UgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gU2V0IGZsYWcgdG8gZGlzcGxheSBzaGFyZVJlc3BvbnNlIFBvcHVwIE9yIG5vdC5cclxuICAgICAgICB0aGlzLl9zaG93U2hhcmVMb2FkaW5nSW5kaWNhdG9yID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaXNTaGFyZVJlc3BvbnNlUG9wdXBEaXNwbGF5aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzU2hhcmVSZXNwb25zZVBvcHVwRGlzcGxheWluZ0ZvclBFOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNoYXJlIFByb3Zpc2lvbmFsIFJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hhcmVSZXNwb25zZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpc1NoYXJlUmVzcG9uc2VQb3B1cERpc3BsYXlpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNTaGFyZVJlc3BvbnNlUG9wdXBEaXNwbGF5aW5nRm9yUEU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNCdXN5OiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBsZXQgbWFya2luZ01vZGU6IG51bWJlcjtcclxuXHJcbiAgICAgICAgLy8gRmV0Y2ggbWFya1NjaGVtZUdyb3VwSWRcclxuICAgICAgICBsZXQgbWFya1NjaGVtZUdyb3VwSWQgPSBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5Jc1NoYXJlQW5kQ2xhc3NpZnlPcHRpb25OZWVkZWQpIHtcclxuICAgICAgICAgICAgbWFya2luZ01vZGUgPSB0aGlzLml0ZW1zLmZpbHRlcihpID0+IGkuaXNDaGVja2VkID09PSB0cnVlKVswXS5pZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXJraW5nTW9kZSA9IHRoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLm1hcmtpbmdNb2RlSWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBtYXBwaW5nIHZhbHVlcyBvbiBzdWJtaXQgYXJndW1lbnRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9zaGFyZVJlc3BvbnNlQXJndW1lbnQgPSB7XHJcbiAgICAgICAgICAgIG1hcmtHcm91cElkczogW3RoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLmVzTWFya0dyb3VwSWRdLFxyXG4gICAgICAgICAgICBtYXJraW5nTW9kZTogbWFya2luZ01vZGUsXHJcbiAgICAgICAgICAgIGV4YW1pbmVyUm9sZUlkOiBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICBtYXJrU2NoZW1lR3JvdXBJZDogc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgZXhhbWluZXJBcHByb3ZhbDogZXhhbWluZXJTdG9yZS5pbnN0YW5jZS5nZXRNYXJrZXJJbmZvcm1hdGlvbi5hcHByb3ZhbFN0YXR1cyxcclxuICAgICAgICAgICAgaXNBZG1pblJlbWFya2VyOiBmYWxzZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmICh0aGlzLklzU2hhcmVBbmRDbGFzc2lmeU9wdGlvbk5lZWRlZCl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1NoYXJlZEZyb21NYXJrU2NoZW1lKXtcclxuICAgICAgICAgICAgLy9pbnZva2Ugc2F2ZSBhbmQgbmF2aWdhdGUgUHJvdmlzaW9uYWwgUmVzcG9uc2VcclxuICAgICAgICAgICAgbWFya2luZ0FjdGlvbkNyZWF0b3Iuc2F2ZUFuZE5hdmlnYXRlKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5zaGFyZUFuZENsYXNzaWZ5KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN1Ym1pdEFjdGlvbkNyZWF0b3Iuc2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAodGhpcy5fc2hhcmVSZXNwb25zZUFyZ3VtZW50LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNTaGFyZWRGcm9tTWFya1NjaGVtZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLmRpc3BsYXlJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faXNTaGFyZWRGcm9tTWFya1NjaGVtZSkge1xyXG4gICAgICAgICAgICAgICAgbWFya2luZ0FjdGlvbkNyZWF0b3Iuc2F2ZUFuZE5hdmlnYXRlKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5zdWJtaXQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3VibWl0QWN0aW9uQ3JlYXRvci5zdWJtaXRSZXNwb25zZShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFyZVJlc3BvbnNlQXJndW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5Xb3JrbGlzdFR5cGUubm9uZSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZS5Vbmtub3duLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzU2hhcmVkRnJvbU1hcmtTY2hlbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVSZXNwb25zZURldGFpbHMuZGlzcGxheUlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBJc1NoYXJlQW5kQ2xhc3NpZnlPcHRpb25OZWVkZWQgdmFsdWVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXQgSXNTaGFyZUFuZENsYXNzaWZ5T3B0aW9uTmVlZGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YS5yb2xlLnBlcm1pc3Npb25zLmNsYXNzaWZ5ICYmXHJcbiAgICAgICAgICAgIHRoaXMucmV1c2VVbmNsYXNzaWZ5SXRlbS5maWx0ZXIoaSA9PiBpLmlzQ2hlY2tlZCA9PT0gdHJ1ZSlbMF0gPT09IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnRTYXZlRmFpbFBvcFVwIGNvbnRlbnQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0IGNsYXNzaWZ5T3JSZWNsYXNzaWZ5U2F2ZUZhaWxQb3BVcENvbnRlbnQoKTogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNVbmNsYXNzaWZpZWRXb3JrbGlzdFNlbGVjdGVkID9cclxuICAgICAgICAgICAgc3RyaW5nSGVscGVyLmZvcm1hdChcclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QuY29uY3VycmVudC1lc21hcmtpbmdtb2RlLXNhdmUtZmFpbC1wb3B1cC5ib2R5LXdpdGgtcmVzcG9uc2UtaWQnXHJcbiAgICAgICAgICAgICAgICApLCBbdGhpcy5kaXNwbGF5SWRdKSA6XHJcbiAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5jb25jdXJyZW50LWVzbWFya2luZ21vZGUtc2F2ZS1mYWlsLXBvcHVwLmJvZHknKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgaXNDb21tb25Qcm92aXNpb25hbFN0YW5kYXJkaXNhdGlvbkNjT24uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaXNDb21tb25Qcm92aXNpb25hbFN0YW5kYXJkaXNhdGlvbkNjT24oKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIHJldHVybiBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY05hbWVzLkNvbW1vblByb3Zpc2lvbmFsU3RhbmRhcmRpc2F0aW9uLFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLm1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzdWJtaXRSZXNwb25zZUZyb21NYXJrc2NoZW1lIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHJlc3BvbnNlIGlzIHJlYWR5IHRvIG5hdmlnYXRlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3VibWl0UmVzcG9uc2VGcm9tTWFya3NjaGVtZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAobWFya2luZ1N0b3JlLmluc3RhbmNlLm5hdmlnYXRlVG8gPT09IGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5zaGFyZUFuZENsYXNzaWZ5KSB7XHJcbiAgICAgICAgICAgIHN1Ym1pdEhlbHBlci5zYXZlQW5kU2hhcmVBbmRDbGFzc2lmeVJlc3BvbnNlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVSZXNwb25zZUFyZ3VtZW50LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNTaGFyZWRGcm9tTWFya1NjaGVtZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlUmVzcG9uc2VEZXRhaWxzLmRpc3BsYXlJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGRpc2NhcmQgcmVzcG9uc2UgZmFpbCBwb3B1cCBjb250ZW50IHdpdGggZGlzcGxheUlkLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldCBkaXNjYXJkUmVzcG9uc2VGYWlsUG9wVXBDb250ZW50KCk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIHJldHVybiBzdHJpbmdIZWxwZXIuZm9ybWF0KFxyXG4gICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QucmVzcG9uc2UtYWxyZWFkeS1kaXNjYXJkZWQtcG9wdXAuYm9keS13aXRoLXJlc3BvbnNlLWlkJ1xyXG4gICAgICAgICAgICApLCBbcmVzcG9uc2VTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZERpc3BsYXlJZC50b1N0cmluZygpXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEZvb3RlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvZm9vdGVyLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBdURBO0FBQUE7QUFnR0E7Ozs7QUFJQTtBQUNBO0FBQUE7QUFwR0E7QUFDQTtBQUdBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBUUE7QUFFQTtBQU1BO0FBRUE7QUFFQTtBQUlBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFNQTtBQVVBO0FBNDJEQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFBQTtBQUNBO0FBR0E7QUFHQTtBQUVBO0FBQ0E7QUFxR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNkZBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7Ozs7QUFJQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQU1BO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFJQTtBQUlBO0FBQUE7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBRUE7QUFDQTtBQUNBO0FBd0hBOztBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUF1R0E7O0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFLQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQTZCQTs7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUdBO0FBR0E7QUFBQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQW1EQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFXQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBbURBOztBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQTJEQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNEJBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQUE7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBaURBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW1CQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQUE7QUFDQTtBQUdBO0FBR0E7QUFFQTtBQUNBO0FBa0JBO0FBQ0E7QUF1REE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWlHQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXNZQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW1IQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0lBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBa0NBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQTZCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUErQkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUE4REE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFrQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBMTVLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWlCQTtBQXFCQTtBQW1CQTtBQWNBO0FBY0E7QUFlQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBaUJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBUUE7QUFDQTtBQUNBO0FBSUE7QUFLQTtBQVFBO0FBQ0E7QUFDQTtBQUlBO0FBS0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFLQTtBQVFBO0FBQ0E7QUFDQTtBQUlBO0FBS0E7QUFRQTtBQUVBO0FBQ0E7QUFJQTtBQUtBO0FBUUE7QUFFQTtBQUNBO0FBSUE7QUFLQTtBQVFBO0FBRUE7QUFDQTtBQUlBO0FBS0E7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBS0E7QUFRQTtBQUNBO0FBRUE7QUFjQTtBQWlCQTtBQUNBO0FBQ0E7QUErQkE7QUFlQTtBQWVBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQW1DQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpQ0E7QUF3QkE7QUFjQTtBQWNBO0FBYUE7QUFhQTtBQU9BO0FBd0JBO0FBQ0E7QUFHQTtBQUdBO0FBc0JBO0FBVUE7QUFpQkE7QUFDQTtBQW1CQTtBQUNBO0FBNEJBO0FBc0JBO0FBb0JBO0FBd0JBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUF1QkE7QUFDQTtBQU9BO0FBa0JBO0FBQ0E7QUFHQTtBQWlCQTtBQUNBO0FBRUE7QUFpQkE7QUFDQTtBQUVBO0FBaUJBO0FBQ0E7QUFFQTtBQWdCQTtBQWFBO0FBR0E7QUFVQTtBQUlBO0FBWUE7QUFFQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUtBO0FBS0E7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFFQTtBQUdBO0FBRUE7QUFHQTtBQUVBO0FBR0E7QUFFQTtBQUdBO0FBSUE7QUFFQTtBQUdBO0FBRUE7QUFHQTtBQUVBO0FBRUE7QUFHQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBQ0E7QUFLQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUVBO0FBR0E7QUFFQTtBQUdBO0FBRUE7QUFHQTtBQUVBO0FBR0E7QUFJQTtBQUVBO0FBR0E7QUFFQTtBQUdBO0FBRUE7QUFFQTtBQUdBO0FBR0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBOEZBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUE0REE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQVNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBMFVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUlBO0FBWUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOE5BOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQU9BO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFvRUE7OztBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBdUpBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBNEJBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBZ0JBO0FBZUE7QUE0SkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBSUE7QUFDQTtBQTJCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE2SUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWlNQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUdBO0FBR0E7QUFRQTtBQUFBO0FBQ0E7QUFJQTtBQUtBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUlBO0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTs7O0FBQUE7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUtBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBT0E7QUFDQTtBQUNBOzs7QUFBQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXdIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUVBO0FBR0E7QUFDQTtBQVdBO0FBSUE7QUFDQTtBQVdBO0FBQ0E7OztBQUFBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBSUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQVdBO0FBQ0E7OztBQUFBO0FBb0dBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBSUE7QUFDQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFXQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQVdBO0FBQ0E7OztBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBMEZBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpQkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQWlCQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBc0JBOzs7OztBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEySEE7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUtBO0FBSEE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUVBOzs7QUFBQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBaUJBO0FBSEE7O0FBRUE7QUFDQTtBQUVBO0FBSUE7OztBQUFBO0FBQ0E7QUFBQTtBQUVBOztBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 383:
/* no static exports found */
/* all exports used */
/*!*************************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/classifyresponse.tsx ***!
  \*************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n  React component for Classify response header\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar classifyResponse = function (props) {\r\n    var className = 'primary rounded popup-nav wl-classfy-btn button';\r\n    if (props.isDisabled) {\r\n        className = className + ' disabled';\r\n    }\r\n    var onClickHandler = function (event) {\r\n        if (props.onClickAction) {\r\n            props.onClickAction(props.esMarkGroupId);\r\n        }\r\n    };\r\n    var result = React.createElement(\"button\", { id: 'classifyResponse_' + props.id, key: 'classifyResponse_key_' + props.id, disabled: props.isDisabled ? true : false, title: '', className: className, onClick: onClickHandler }, localeStore.instance.TranslateText(props.buttonTextResourceKey));\r\n    return result;\r\n};\r\nmodule.exports = classifyResponse;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzgzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL2NsYXNzaWZ5cmVzcG9uc2UudHN4Pzc1ZmMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAgUmVhY3QgY29tcG9uZW50IGZvciBDbGFzc2lmeSByZXNwb25zZSBoZWFkZXJcbiovXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG4vKiB0c2xpbnQ6ZW5hYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xuaW1wb3J0IFB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcblxubGV0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbi8qKlxuICogUHJvcGVydGllcyBvZiBDbGFzc2lmeSBidXR0b25cbiAqL1xuaW50ZXJmYWNlIENsYXNzaWZ5UmVzcG9uc2VQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XG5cdGlzRGlzYWJsZWQ6IGJvb2xlYW47XG5cdHJlbmRlcmVkT24/OiBudW1iZXI7XG5cdGVzTWFya0dyb3VwSWQ/OiBudW1iZXI7XG5cdGJ1dHRvblRleHRSZXNvdXJjZUtleTogc3RyaW5nO1xuXHRvbkNsaWNrQWN0aW9uPzogRnVuY3Rpb247XG59XG5cbmNvbnN0IGNsYXNzaWZ5UmVzcG9uc2U6XG5cdFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxDbGFzc2lmeVJlc3BvbnNlUHJvcHM+ID1cblx0KHByb3BzOiBDbGFzc2lmeVJlc3BvbnNlUHJvcHMpID0+IHtcblx0XHRsZXQgY2xhc3NOYW1lOiBzdHJpbmcgPSAncHJpbWFyeSByb3VuZGVkIHBvcHVwLW5hdiB3bC1jbGFzc2Z5LWJ0biBidXR0b24nO1xuXG5cdFx0aWYgKHByb3BzLmlzRGlzYWJsZWQpIHtcblx0XHRcdGNsYXNzTmFtZSA9IGNsYXNzTmFtZSArICcgZGlzYWJsZWQnO1xuXHRcdH1cblxuXHRcdGNvbnN0IG9uQ2xpY2tIYW5kbGVyID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAocHJvcHMub25DbGlja0FjdGlvbikge1xuXHRcdFx0XHRwcm9wcy5vbkNsaWNrQWN0aW9uKHByb3BzLmVzTWFya0dyb3VwSWQpO1xuXHRcdFx0fVxuICAgIFx0fTtcblxuXHRcdGxldCByZXN1bHQgPSA8YnV0dG9uXG5cdFx0XHRpZD17J2NsYXNzaWZ5UmVzcG9uc2VfJyArIHByb3BzLmlkfVxuXHRcdFx0a2V5PXsnY2xhc3NpZnlSZXNwb25zZV9rZXlfJyArIHByb3BzLmlkfVxuXHRcdFx0ZGlzYWJsZWQ9e3Byb3BzLmlzRGlzYWJsZWQgPyB0cnVlIDogZmFsc2V9XG5cdFx0XHR0aXRsZT17Jyd9XG5cdFx0XHRjbGFzc05hbWU9e2NsYXNzTmFtZX1cblx0XHRcdG9uQ2xpY2s9e29uQ2xpY2tIYW5kbGVyfT5cblx0XHRcdHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KHByb3BzLmJ1dHRvblRleHRSZXNvdXJjZUtleSl9XG5cdFx0PC9idXR0b24+O1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnQgPSBjbGFzc2lmeVJlc3BvbnNlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvY2xhc3NpZnlyZXNwb25zZS50c3giXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBYUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 384:
/* no static exports found */
/* all exports used */
/*!********************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/reusebutton.tsx ***!
  \********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for Reuse button header\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\nvar ReuseButton = /** @class */ (function (_super) {\r\n    __extends(ReuseButton, _super);\r\n    /**\r\n     * Constructor for ReuseButton\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function ReuseButton(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.state = {\r\n            reRender: Date.now()\r\n        };\r\n        _this.onReuseClick = _this.onReuseClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    ReuseButton.prototype.render = function () {\r\n        return (React.createElement(\"button\", { id: 'reuse_button_id_' + this.props.id, key: 'reuse_button_key_' + this.props.id, disabled: this.props.isDisabled ? true : false, title: (this.props.isDisabled ?\r\n                localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-button.disable-tooltip')\r\n                : localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-button.enable-tooltip')), className: 'primary button rounded popup-nav reusebtn', onClick: this.onReuseClick }, (this.props.isDisabled ? localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-button.disable')\r\n            : localeStore.instance.TranslateText('standardisation-setup.previous-session.reuse-button.enable'))));\r\n    };\r\n    /**\r\n     * On Reuse click\r\n     */\r\n    ReuseButton.prototype.onReuseClick = function () {\r\n        standardisationActionCreator.reuseRigActionPopupOpen(this.props.displayId);\r\n    };\r\n    return ReuseButton;\r\n}(PureRenderComponent));\r\nmodule.exports = ReuseButton;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3JldXNlYnV0dG9uLnRzeD9hMTYxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gIFJlYWN0IGNvbXBvbmVudCBmb3IgUmV1c2UgYnV0dG9uIGhlYWRlclxuKi9cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmltcG9ydCBQdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uYWN0aW9uY3JlYXRvcicpO1xuXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xuICAgIGRpc3BsYXlJZD86IHN0cmluZztcbiAgICBpc0Rpc2FibGVkOiBib29sZWFuO1xuICAgIHJlbmRlcmVkT24/OiBudW1iZXI7XG59XG5cbi8qKlxuICogU3RhdGUgb2YgYSBSZXVzZUJ1dHRvblxuICovXG5pbnRlcmZhY2UgU3RhdGUge1xuICAgIHJlUmVuZGVyPzogbnVtYmVyO1xufVxuXG5jbGFzcyBSZXVzZUJ1dHRvbiBleHRlbmRzIFB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgUmV1c2VCdXR0b25cbiAgICAgKiBAcGFyYW0gcHJvcHNcbiAgICAgKiBAcGFyYW0gc3RhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBTdGF0ZSkge1xuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcmVSZW5kZXI6IERhdGUubm93KClcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblJldXNlQ2xpY2sgPSB0aGlzLm9uUmV1c2VDbGljay5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgLyoqXG4gICAgKiBSZW5kZXIgY29tcG9uZW50XG4gICAgKi9cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgaWQ9eydyZXVzZV9idXR0b25faWRfJyArIHRoaXMucHJvcHMuaWR9XG4gICAgICAgICAgICBrZXk9eydyZXVzZV9idXR0b25fa2V5XycgKyB0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuaXNEaXNhYmxlZCA/IHRydWUgOiBmYWxzZX1cbiAgICAgICAgICAgIHRpdGxlPXsodGhpcy5wcm9wcy5pc0Rpc2FibGVkID9cbiAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAucHJldmlvdXMtc2Vzc2lvbi5yZXVzZS1idXR0b24uZGlzYWJsZS10b29sdGlwJylcbiAgICAgICAgICAgICAgICA6IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWJ1dHRvbi5lbmFibGUtdG9vbHRpcCcpKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17J3ByaW1hcnkgYnV0dG9uIHJvdW5kZWQgcG9wdXAtbmF2IHJldXNlYnRuJ31cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25SZXVzZUNsaWNrfT5cbiAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMuaXNEaXNhYmxlZCA/IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWJ1dHRvbi5kaXNhYmxlJylcbiAgICAgICAgICAgICAgICA6IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlLWJ1dHRvbi5lbmFibGUnKSl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9uIFJldXNlIGNsaWNrXG4gICAgICovXG4gICAgcHJpdmF0ZSBvblJldXNlQ2xpY2soKSB7XG4gICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IucmV1c2VSaWdBY3Rpb25Qb3B1cE9wZW4odGhpcy5wcm9wcy5kaXNwbGF5SWQpO1xuICAgIH1cbn1cbmV4cG9ydCA9IFJldXNlQnV0dG9uO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3JldXNlYnV0dG9uLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFlQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFJQTtBQUdBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 386:
/* no static exports found */
/* all exports used */
/*!***********************************************************************!*\
  !*** ./src/components/worklist/shared/allfilesnotviewedindicator.tsx ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n  React component for All pages not viewed indicator\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * Stateless All files not viewed indicator component\r\n * @param props\r\n */\r\n/* tslint:disable:variable-name */\r\nvar AllFilesNotViewedIndicator = function (props) {\r\n    /* tslint:enable:variable-name */\r\n    if (props.isECourseworkComponent && !props.allFilesViewed &&\r\n        props.isMarkingCompleted) {\r\n        return ((!props.isTileView) ?\r\n            (React.createElement(\"div\", { className: 'col-inner' },\r\n                React.createElement(\"span\", { title: localeStore.instance.\r\n                        TranslateText('marking.worklist.response-data.not-all-files-viewed-icon-tooltip') },\r\n                    React.createElement(\"span\", { className: 'sprite-icon un-view-icon', id: 'allFilesNotViewed_' + props.id, key: 'allFilesNotViewed_' + props.id }, localeStore.instance.\r\n                        TranslateText('marking.worklist.response-data.not-all-files-viewed-icon-tooltip'))))) :\r\n            (React.createElement(\"div\", { className: 'icon-holder' },\r\n                React.createElement(\"div\", { className: 'col wl-view-indicator', title: localeStore.instance.\r\n                        TranslateText('marking.worklist.response-data.not-all-files-viewed-icon-tooltip') },\r\n                    React.createElement(\"div\", { className: 'col-inner' },\r\n                        React.createElement(\"span\", { id: 'allFilesNotViewed_' + props.id, key: 'allFilesNotViewed_' + props.id, className: 'sprite-icon un-view-icon' }, localeStore.instance.\r\n                            TranslateText('marking.worklist.response-data.not-all-files-viewed-icon-tooltip')))))));\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\nmodule.exports = AllFilesNotViewedIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2FsbGZpbGVzbm90dmlld2VkaW5kaWNhdG9yLnRzeD85MGY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgUmVhY3QgY29tcG9uZW50IGZvciBBbGwgcGFnZXMgbm90IHZpZXdlZCBpbmRpY2F0b3JcclxuKi9cclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBlQ291cnNld29ya0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZWNvdXJzZXdvcmsvZWNvdXJzZXdvcmtoZWxwZXInKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIEFsbCBmaWxlcyBub3Qgdmlld2VkIGluZGljYXRvclxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGFsbEZpbGVzVmlld2VkPzogYm9vbGVhbjtcclxuICAgIGlzTWFya2luZ0NvbXBsZXRlZDogYm9vbGVhbjtcclxuICAgIGlzVGlsZVZpZXc/OiBib29sZWFuO1xyXG4gICAgaXNFQ291cnNld29ya0NvbXBvbmVudD86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdGF0ZWxlc3MgQWxsIGZpbGVzIG5vdCB2aWV3ZWQgaW5kaWNhdG9yIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0gcHJvcHNcclxuICovXHJcbi8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cclxuY29uc3QgQWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3IgPSAocHJvcHM6IFByb3BzKTogSlNYLkVsZW1lbnQgPT4ge1xyXG4gICAgLyogdHNsaW50OmVuYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbiAgICBpZiAocHJvcHMuaXNFQ291cnNld29ya0NvbXBvbmVudCAmJiAhcHJvcHMuYWxsRmlsZXNWaWV3ZWQgJiZcclxuICAgICAgICBwcm9wcy5pc01hcmtpbmdDb21wbGV0ZWQpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAoIXByb3BzLmlzVGlsZVZpZXcpID9cclxuICAgICAgICAgICAgICAgICg8ZGl2IGNsYXNzTmFtZT0nY29sLWlubmVyJz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT17bG9jYWxlU3RvcmUuaW5zdGFuY2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5ub3QtYWxsLWZpbGVzLXZpZXdlZC1pY29uLXRvb2x0aXAnKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Nwcml0ZS1pY29uIHVuLXZpZXctaWNvbidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXsnYWxsRmlsZXNOb3RWaWV3ZWRfJyArIHByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsnYWxsRmlsZXNOb3RWaWV3ZWRfJyArIHByb3BzLmlkfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEubm90LWFsbC1maWxlcy12aWV3ZWQtaWNvbi10b29sdGlwJykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApIDpcclxuICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naWNvbi1ob2xkZXInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sIHdsLXZpZXctaW5kaWNhdG9yJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5ub3QtYWxsLWZpbGVzLXZpZXdlZC1pY29uLXRvb2x0aXAnKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC1pbm5lcic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9eydhbGxGaWxlc05vdFZpZXdlZF8nICsgcHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2FsbEZpbGVzTm90Vmlld2VkXycgKyBwcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzcHJpdGUtaWNvbiB1bi12aWV3LWljb24nPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0ZVRleHQoJ21hcmtpbmcud29ya2xpc3QucmVzcG9uc2UtZGF0YS5ub3QtYWxsLWZpbGVzLXZpZXdlZC1pY29uLXRvb2x0aXAnKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0ID0gQWxsRmlsZXNOb3RWaWV3ZWRJbmRpY2F0b3I7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9hbGxmaWxlc25vdHZpZXdlZGluZGljYXRvci50c3giXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQWFBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFLQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 387:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/components/worklist/shared/generictextcolumn.tsx ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n    React component for generic text column in list view\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:variable-name */\r\nvar GenericTextColumn = function (props) {\r\n    return (React.createElement(\"span\", { id: 'gen_' + props.id, className: 'dim-text txt-val small-text', title: (props.title) ? props.title : '' }, props.textValue));\r\n};\r\nmodule.exports = GenericTextColumn;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2dlbmVyaWN0ZXh0Y29sdW1uLnRzeD8yYTQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgICBSZWFjdCBjb21wb25lbnQgZm9yIGdlbmVyaWMgdGV4dCBjb2x1bW4gaW4gbGlzdCB2aWV3XHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGxhc3QgdXBkYXRlZCBkYXRlLlxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIHRleHRWYWx1ZT86IERhdGU7XHJcbiAgICB0aXRsZT86IHN0cmluZztcclxufVxyXG5cclxuLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xyXG5jb25zdCBHZW5lcmljVGV4dENvbHVtbiA9IChwcm9wczogUHJvcHMpID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPHNwYW4gaWQ9eydnZW5fJyArIHByb3BzLmlkfSBjbGFzc05hbWU9J2RpbS10ZXh0IHR4dC12YWwgc21hbGwtdGV4dCdcclxuICAgICAgICAgICAgdGl0bGU9eyhwcm9wcy50aXRsZSkgPyBwcm9wcy50aXRsZSA6ICcnfT5cclxuICAgICAgICAgICAge3Byb3BzLnRleHRWYWx1ZX1cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICApO1xyXG59O1xyXG5cclxuZXhwb3J0ID0gR2VuZXJpY1RleHRDb2x1bW47XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9nZW5lcmljdGV4dGNvbHVtbi50c3giXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFNQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 388:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/components/worklist/shared/lastupdatedcolumn.tsx ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n    React component for last updated date and time of a response.S\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar constants = __webpack_require__(/*! ../../utility/constants */ 241);\r\nvar GenericDate = __webpack_require__(/*! ./genericdate */ 315);\r\n/**\r\n * React component class for time to end the grace period\r\n */\r\nvar lastUpdatedColumn = function (props) {\r\n    if (props.dateType === enums.WorkListDateType.lastUpdatedDate || enums.WorkListDateType.submittedDate) {\r\n        /**\r\n         * Last updated date\r\n         */\r\n        var displayValue = void 0;\r\n        var formattedDate = void 0;\r\n        if (props.dateValue) {\r\n            formattedDate = (React.createElement(GenericDate, { dateValue: props.dateValue, id: 'dtup_' + props.id, key: 'dtup_' + props.id, className: constants.LASTUPDATED_COLUMN_STYLE }));\r\n        }\r\n        else {\r\n            /**\r\n             * If marking is not started the dateValue prop should be undefined , and shows marking not started text\r\n             */\r\n            formattedDate = (React.createElement(GenericDate, { id: 'dtup_' + props.id, key: 'dtup_' + props.id, className: constants.LASTUPDATED_COLUMN_STYLE, displayText: localeStore.instance.TranslateText('marking.worklist.response-data.marking-not-started') }));\r\n        }\r\n        return (React.createElement(\"div\", null, formattedDate));\r\n    }\r\n};\r\nmodule.exports = lastUpdatedColumn;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2xhc3R1cGRhdGVkY29sdW1uLnRzeD83Njk2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgICBSZWFjdCBjb21wb25lbnQgZm9yIGxhc3QgdXBkYXRlZCBkYXRlIGFuZCB0aW1lIG9mIGEgcmVzcG9uc2UuU1xyXG4qL1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGxvY2FsZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgc3RyaW5nSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL3N0cmluZ2hlbHBlcicpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBjb25zdGFudHMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2NvbnN0YW50cycpO1xyXG5pbXBvcnQgR2VuZXJpY0RhdGUgPSByZXF1aXJlKCcuL2dlbmVyaWNkYXRlJyk7XHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGxhc3QgdXBkYXRlZCBkYXRlLlxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGRhdGVWYWx1ZT86IERhdGU7XHJcbiAgICBkYXRlVHlwZTogZW51bXMuV29ya0xpc3REYXRlVHlwZTtcclxuICAgIGlzVGlsZVZpZXc/OiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50IGNsYXNzIGZvciB0aW1lIHRvIGVuZCB0aGUgZ3JhY2UgcGVyaW9kXHJcbiAqL1xyXG5jb25zdCBsYXN0VXBkYXRlZENvbHVtbiA9IChwcm9wczogUHJvcHMpID0+IHtcclxuXHJcbiAgICBpZiAocHJvcHMuZGF0ZVR5cGUgPT09IGVudW1zLldvcmtMaXN0RGF0ZVR5cGUubGFzdFVwZGF0ZWREYXRlIHx8IGVudW1zLldvcmtMaXN0RGF0ZVR5cGUuc3VibWl0dGVkRGF0ZSkge1xyXG4gICAgICAgIC8qKiBcclxuICAgICAgICAgKiBMYXN0IHVwZGF0ZWQgZGF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGxldCBkaXNwbGF5VmFsdWU7XHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZERhdGU6IEpTWC5FbGVtZW50O1xyXG4gICAgICAgIGlmIChwcm9wcy5kYXRlVmFsdWUpIHtcclxuICAgICAgICAgICAgZm9ybWF0dGVkRGF0ZSA9ICg8R2VuZXJpY0RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlVmFsdWU9e3Byb3BzLmRhdGVWYWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17J2R0dXBfJyArIHByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17J2R0dXBfJyArIHByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y29uc3RhbnRzLkxBU1RVUERBVEVEX0NPTFVNTl9TVFlMRX0gLz4pO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiogXHJcbiAgICAgICAgICAgICAqIElmIG1hcmtpbmcgaXMgbm90IHN0YXJ0ZWQgdGhlIGRhdGVWYWx1ZSBwcm9wIHNob3VsZCBiZSB1bmRlZmluZWQgLCBhbmQgc2hvd3MgbWFya2luZyBub3Qgc3RhcnRlZCB0ZXh0XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBmb3JtYXR0ZWREYXRlID0gKDxHZW5lcmljRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXsnZHR1cF8nICsgcHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsnZHR1cF8nICsgcHJvcHMuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjb25zdGFudHMuTEFTVFVQREFURURfQ09MVU1OX1NUWUxFfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEubWFya2luZy1ub3Qtc3RhcnRlZCcpfSAvPik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2Pntmb3JtYXR0ZWREYXRlfTwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydCA9IGxhc3RVcGRhdGVkQ29sdW1uO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy93b3JrbGlzdC9zaGFyZWQvbGFzdHVwZGF0ZWRjb2x1bW4udHN4Il0sIm1hcHBpbmdzIjoiO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFVQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBR0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 389:
/* no static exports found */
/* all exports used */
/*!*******************************************************************!*\
  !*** ./src/components/worklist/shared/linkedmessageindicator.tsx ***!
  \*******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar localeHelper = __webpack_require__(/*! ../../../utility/locale/localehelper */ 281);\r\nvar worklistStore = __webpack_require__(/*! ../../../stores/worklist/workliststore */ 231);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar markSchemeHelper = __webpack_require__(/*! ../../../utility/markscheme/markschemehelper */ 276);\r\nvar messageStore = __webpack_require__(/*! ../../../stores/message/messagestore */ 240);\r\nvar messagingActionCreator = __webpack_require__(/*! ../../../actions/messaging/messagingactioncreator */ 268);\r\nvar responseHelper = __webpack_require__(/*! ../../utility/responsehelper/responsehelper */ 249);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../utility/ecoursework/ecourseworkhelper */ 238);\r\nvar applicationStore = __webpack_require__(/*! ../../../stores/applicationoffline/applicationstore */ 247);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../../actions/applicationoffline/applicationactioncreator */ 256);\r\nvar makerOperationModeFactory = __webpack_require__(/*! ../../utility/markeroperationmode/markeroperationmodefactory */ 232);\r\n/**\r\n * LinkedMessageIndicator component.\r\n * @param {Props} props\r\n */\r\nvar LinkedMessageIndicator = /** @class */ (function (_super) {\r\n    __extends(LinkedMessageIndicator, _super);\r\n    /**\r\n     * Constructor fot LinkedMessageIndicator\r\n     * @param props\r\n     */\r\n    function LinkedMessageIndicator(props) {\r\n        var _this = _super.call(this, props, null) || this;\r\n        /**\r\n         * Open response message while clicking on linked message icon\r\n         */\r\n        _this.onClick = function (event) {\r\n            event.stopPropagation();\r\n            if (!applicationStore.instance.isOnline) {\r\n                applicationActionCreator.checkActionInterrupted();\r\n            }\r\n            else {\r\n                // open response\r\n                var actualDisplayId = void 0;\r\n                // Ideally marking mode should be read from the opened response,\r\n                // since multiple marking modes won't come in the same worklist now this will work.\r\n                var selectedMarkingMode = worklistStore.instance.getMarkingModeByWorkListType(worklistStore.instance.currentWorklistType);\r\n                if (selectedMarkingMode === enums.MarkingMode.LiveMarking) {\r\n                    actualDisplayId = _this.props.displayId.toString();\r\n                }\r\n                else {\r\n                    var contents = _this.props.displayId.split(' ');\r\n                    actualDisplayId = contents[contents.length - 1];\r\n                }\r\n                eCourseworkHelper.fetchECourseWorkCandidateScriptMetadata(parseInt(actualDisplayId));\r\n                if (!messageStore.instance.isMessagePanelActive) {\r\n                    var openedResponseDetails = makerOperationModeFactory.operationMode.openedResponseDetails(actualDisplayId);\r\n                    responseHelper.openResponse(parseFloat(actualDisplayId), enums.ResponseNavigation.specific, makerOperationModeFactory.operationMode.isStandardisationSetupMode ?\r\n                        enums.ResponseMode.open : worklistStore.instance.getResponseMode, makerOperationModeFactory.operationMode.isStandardisationSetupMode ?\r\n                        openedResponseDetails.esMarkGroupId : openedResponseDetails.markGroupId, enums.ResponseViewMode.zoneView, enums.TriggerPoint.WorkListResponseMessageIcon);\r\n                    markSchemeHelper.getMarks(parseInt(actualDisplayId), selectedMarkingMode);\r\n                }\r\n                else {\r\n                    var messageNavigationArguments = {\r\n                        responseId: parseInt(actualDisplayId),\r\n                        canNavigate: false,\r\n                        navigateTo: enums.MessageNavigation.toResponse,\r\n                        navigationConfirmed: false,\r\n                        hasMessageContainsDirtyValue: undefined,\r\n                        triggerPoint: enums.TriggerPoint.WorkListResponseMessageIcon\r\n                    };\r\n                    messagingActionCreator.canMessageNavigate(messageNavigationArguments);\r\n                }\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    LinkedMessageIndicator.prototype.render = function () {\r\n        var messageContent = this.getMessageContent();\r\n        if (messageContent === undefined && !this.props.isTileView) {\r\n            return null;\r\n        }\r\n        else {\r\n            return (React.createElement(\"div\", { className: 'col wl-message text-center', id: this.props.id + '_messgeIndicator' }, messageContent));\r\n        }\r\n    };\r\n    /**\r\n     * Get message content\r\n     */\r\n    LinkedMessageIndicator.prototype.getMessageContent = function () {\r\n        var messageText = '';\r\n        if (this.props.messageCount > 0) {\r\n            messageText = this.props.isTeamManagementMode ?\r\n                localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.unread-messages-icon-tooltip') :\r\n                localeStore.instance.TranslateText('marking.worklist.response-data.unread-messages-icon-tooltip');\r\n        }\r\n        else if (this.props.hasMessages) {\r\n            messageText = this.props.isTeamManagementMode ?\r\n                localeStore.instance.TranslateText('team-management.examiner-worklist.response-data.messages-icon-tooltip') :\r\n                messageText = localeStore.instance.TranslateText('marking.worklist.response-data.messages-icon-tooltip');\r\n        }\r\n        var messageClass = 'message-icon sprite-icon';\r\n        var messageAltText = localeStore.instance.TranslateText('generic.navigation-bar.inbox');\r\n        var result = undefined;\r\n        if (!this.props.hasMessages) {\r\n            return result;\r\n        }\r\n        if (this.props.messageCount > 0) {\r\n            result = (this.props.isTileView) ? React.createElement(\"div\", { className: 'col-inner' },\r\n                React.createElement(\"a\", { title: messageText, className: 'resp-messages' },\r\n                    React.createElement(\"span\", { className: messageClass },\r\n                        \" \",\r\n                        messageAltText,\r\n                        \" \"),\r\n                    React.createElement(\"span\", { className: 'notification circle', id: this.props.id + '_messageNotification' }, localeHelper.toLocaleString(this.props.messageCount > 0 ? this.props.messageCount : '')))) :\r\n                React.createElement(\"div\", { className: 'wl-message' },\r\n                    React.createElement(\"a\", { title: messageText, className: 'resp-messages', onClick: this.onClick },\r\n                        React.createElement(\"span\", { className: messageClass },\r\n                            \" \",\r\n                            messageAltText,\r\n                            \" \"),\r\n                        React.createElement(\"span\", { className: 'notification circle', id: this.props.id + '_messageNotification' }, localeHelper.toLocaleString(this.props.messageCount > 0 ? this.props.messageCount : ''))));\r\n        }\r\n        else {\r\n            result = (this.props.isTileView) ? React.createElement(\"div\", { className: 'col-inner' },\r\n                React.createElement(\"a\", { title: messageText, className: 'resp-messages' },\r\n                    React.createElement(\"span\", { className: messageClass },\r\n                        \" \",\r\n                        messageAltText,\r\n                        \" \"))) :\r\n                React.createElement(\"div\", { className: 'wl-message' },\r\n                    React.createElement(\"a\", { title: messageText, className: 'resp-messages', onClick: this.onClick },\r\n                        React.createElement(\"span\", { className: messageClass },\r\n                            \" \",\r\n                            messageAltText,\r\n                            \" \")));\r\n        }\r\n        return result;\r\n    };\r\n    return LinkedMessageIndicator;\r\n}(PureRenderComponent));\r\nmodule.exports = LinkedMessageIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL2xpbmtlZG1lc3NhZ2VpbmRpY2F0b3IudHN4P2EyZTciXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBQdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IGxvY2FsZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvbG9jYWxlL2xvY2FsZWhlbHBlcicpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IHJlc3BvbnNlQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvcmVzcG9uc2UvcmVzcG9uc2VhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBtYXJrU2NoZW1lSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9tYXJrc2NoZW1lL21hcmtzY2hlbWVoZWxwZXInKTtcclxuaW1wb3J0IG1lc3NhZ2VTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9tZXNzYWdlL21lc3NhZ2VzdG9yZScpO1xyXG5pbXBvcnQgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvbWVzc2FnaW5nL21lc3NhZ2luZ2FjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHJlc3BvbnNlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9yZXNwb25zZWhlbHBlci9yZXNwb25zZWhlbHBlcicpO1xyXG5pbXBvcnQgZUNvdXJzZXdvcmtIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbnN0b3JlJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IG1ha2VyT3BlcmF0aW9uTW9kZUZhY3RvcnkgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L21hcmtlcm9wZXJhdGlvbm1vZGUvbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3RvcnknKTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGNvbXBvbmVudC5cclxuICogQHBhcmFtIHtQcm9wc30gcHJvcHNcclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBoYXNNZXNzYWdlczogYm9vbGVhbjtcclxuICAgIG1lc3NhZ2VDb3VudD86IG51bWJlcjtcclxuICAgIGlzVGlsZVZpZXc6IGJvb2xlYW47XHJcbiAgICBkaXNwbGF5SWQ6IHN0cmluZztcclxuICAgIGlzVGVhbU1hbmFnZW1lbnRNb2RlOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogTGlua2VkTWVzc2FnZUluZGljYXRvciBjb21wb25lbnQuXHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqL1xyXG5jbGFzcyBMaW5rZWRNZXNzYWdlSW5kaWNhdG9yIGV4dGVuZHMgUHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3QgTGlua2VkTWVzc2FnZUluZGljYXRvclxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2VDb250ZW50ID0gdGhpcy5nZXRNZXNzYWdlQ29udGVudCgpO1xyXG5cclxuICAgICAgICBpZiAobWVzc2FnZUNvbnRlbnQgPT09IHVuZGVmaW5lZCAmJiAhdGhpcy5wcm9wcy5pc1RpbGVWaWV3KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPGRpdiBjbGFzc05hbWU9J2NvbCB3bC1tZXNzYWdlIHRleHQtY2VudGVyJyBpZD17dGhpcy5wcm9wcy5pZCArICdfbWVzc2dlSW5kaWNhdG9yJ30+XHJcbiAgICAgICAgICAgICAgICB7bWVzc2FnZUNvbnRlbnQgfVxyXG4gICAgICAgICAgICA8L2Rpdj4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBtZXNzYWdlIGNvbnRlbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRNZXNzYWdlQ29udGVudCgpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2VUZXh0OiBzdHJpbmcgPSAnJztcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5tZXNzYWdlQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VUZXh0ID0gdGhpcy5wcm9wcy5pc1RlYW1NYW5hZ2VtZW50TW9kZSA/XHJcbiAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QucmVzcG9uc2UtZGF0YS51bnJlYWQtbWVzc2FnZXMtaWNvbi10b29sdGlwJykgOlxyXG4gICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnbWFya2luZy53b3JrbGlzdC5yZXNwb25zZS1kYXRhLnVucmVhZC1tZXNzYWdlcy1pY29uLXRvb2x0aXAnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuaGFzTWVzc2FnZXMpIHtcclxuICAgICAgICAgICAgbWVzc2FnZVRleHQgPSB0aGlzLnByb3BzLmlzVGVhbU1hbmFnZW1lbnRNb2RlID9cclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5yZXNwb25zZS1kYXRhLm1lc3NhZ2VzLWljb24tdG9vbHRpcCcpIDpcclxuICAgICAgICAgICAgbWVzc2FnZVRleHQgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtYXJraW5nLndvcmtsaXN0LnJlc3BvbnNlLWRhdGEubWVzc2FnZXMtaWNvbi10b29sdGlwJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbWVzc2FnZUNsYXNzOiBzdHJpbmcgPSAnbWVzc2FnZS1pY29uIHNwcml0ZS1pY29uJztcclxuICAgICAgICBsZXQgbWVzc2FnZUFsdFRleHQ6IHN0cmluZyA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2dlbmVyaWMubmF2aWdhdGlvbi1iYXIuaW5ib3gnKTtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuaGFzTWVzc2FnZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1lc3NhZ2VDb3VudCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIHJlc3VsdCA9ICh0aGlzLnByb3BzLmlzVGlsZVZpZXcpID8gPCBkaXYgY2xhc3NOYW1lPSAnY29sLWlubmVyJyA+XHJcbiAgICAgICAgICAgICAgICA8YSB0aXRsZSA9IHttZXNzYWdlVGV4dH0gY2xhc3NOYW1lID0gJ3Jlc3AtbWVzc2FnZXMnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZSA9IHttZXNzYWdlQ2xhc3N9PiB7bWVzc2FnZUFsdFRleHR9IDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWUgPSAnbm90aWZpY2F0aW9uIGNpcmNsZScgaWQgPSB7dGhpcy5wcm9wcy5pZCArICdfbWVzc2FnZU5vdGlmaWNhdGlvbid9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlSGVscGVyLnRvTG9jYWxlU3RyaW5nKHRoaXMucHJvcHMubWVzc2FnZUNvdW50ID4gMCA/IHRoaXMucHJvcHMubWVzc2FnZUNvdW50IDogJycpIH1cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PiA6XHJcbiAgICAgICAgICAgICAgICA8IGRpdiBjbGFzc05hbWU9ICd3bC1tZXNzYWdlJyA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGUgPSB7bWVzc2FnZVRleHR9IGNsYXNzTmFtZSA9ICdyZXNwLW1lc3NhZ2VzJyBvbkNsaWNrID0geyB0aGlzLm9uQ2xpY2sgfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZSA9IHttZXNzYWdlQ2xhc3N9PiB7bWVzc2FnZUFsdFRleHR9IDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lID0gJ25vdGlmaWNhdGlvbiBjaXJjbGUnIGlkID0ge3RoaXMucHJvcHMuaWQgKyAnX21lc3NhZ2VOb3RpZmljYXRpb24nfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2NhbGVIZWxwZXIudG9Mb2NhbGVTdHJpbmcodGhpcy5wcm9wcy5tZXNzYWdlQ291bnQgPiAwID8gdGhpcy5wcm9wcy5tZXNzYWdlQ291bnQgOiAnJykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICByZXN1bHQgPSAodGhpcy5wcm9wcy5pc1RpbGVWaWV3KSA/IDxkaXYgY2xhc3NOYW1lPSdjb2wtaW5uZXInPlxyXG4gICAgICAgICAgICAgICAgPGEgdGl0bGU9IHttZXNzYWdlVGV4dH0gY2xhc3NOYW1lPSdyZXNwLW1lc3NhZ2VzJz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e21lc3NhZ2VDbGFzc30+IHttZXNzYWdlQWx0VGV4dH0gPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8L2Rpdj4gOlxyXG4gICAgICAgICAgICAgICAgPCBkaXYgY2xhc3NOYW1lPSAnd2wtbWVzc2FnZScgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSB7bWVzc2FnZVRleHR9IGNsYXNzTmFtZT0ncmVzcC1tZXNzYWdlcycgb25DbGljayA9IHsgdGhpcy5vbkNsaWNrIH0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e21lc3NhZ2VDbGFzc30+IHttZXNzYWdlQWx0VGV4dH0gPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPcGVuIHJlc3BvbnNlIG1lc3NhZ2Ugd2hpbGUgY2xpY2tpbmcgb24gbGlua2VkIG1lc3NhZ2UgaWNvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQ2xpY2sgPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGlmICghYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5pc09ubGluZSkge1xyXG4gICAgICAgICAgICBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IuY2hlY2tBY3Rpb25JbnRlcnJ1cHRlZCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG9wZW4gcmVzcG9uc2VcclxuICAgICAgICAgICAgbGV0IGFjdHVhbERpc3BsYXlJZDogc3RyaW5nO1xyXG4gICAgICAgICAgICAvLyBJZGVhbGx5IG1hcmtpbmcgbW9kZSBzaG91bGQgYmUgcmVhZCBmcm9tIHRoZSBvcGVuZWQgcmVzcG9uc2UsXHJcbiAgICAgICAgICAgIC8vIHNpbmNlIG11bHRpcGxlIG1hcmtpbmcgbW9kZXMgd29uJ3QgY29tZSBpbiB0aGUgc2FtZSB3b3JrbGlzdCBub3cgdGhpcyB3aWxsIHdvcmsuXHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZE1hcmtpbmdNb2RlID0gd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRNYXJraW5nTW9kZUJ5V29ya0xpc3RUeXBlKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuY3VycmVudFdvcmtsaXN0VHlwZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRNYXJraW5nTW9kZSA9PT0gZW51bXMuTWFya2luZ01vZGUuTGl2ZU1hcmtpbmcpIHtcclxuICAgICAgICAgICAgICAgIGFjdHVhbERpc3BsYXlJZCA9IHRoaXMucHJvcHMuZGlzcGxheUlkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudHMgPSB0aGlzLnByb3BzLmRpc3BsYXlJZC5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICAgICAgYWN0dWFsRGlzcGxheUlkID0gY29udGVudHNbY29udGVudHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVDb3Vyc2V3b3JrSGVscGVyLmZldGNoRUNvdXJzZVdvcmtDYW5kaWRhdGVTY3JpcHRNZXRhZGF0YShwYXJzZUludChhY3R1YWxEaXNwbGF5SWQpKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbWVzc2FnZVN0b3JlLmluc3RhbmNlLmlzTWVzc2FnZVBhbmVsQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3BlbmVkUmVzcG9uc2VEZXRhaWxzID0gbWFrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLm9wZW5lZFJlc3BvbnNlRGV0YWlscyhhY3R1YWxEaXNwbGF5SWQpO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VIZWxwZXIub3BlblJlc3BvbnNlKHBhcnNlRmxvYXQoYWN0dWFsRGlzcGxheUlkKSxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZU5hdmlnYXRpb24uc3BlY2lmaWMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFrZXJPcGVyYXRpb25Nb2RlRmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzU3RhbmRhcmRpc2F0aW9uU2V0dXBNb2RlID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW4gOiB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlTW9kZSxcclxuICAgICAgICAgICAgICAgICAgICBtYWtlck9wZXJhdGlvbk1vZGVGYWN0b3J5Lm9wZXJhdGlvbk1vZGUuaXNTdGFuZGFyZGlzYXRpb25TZXR1cE1vZGUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuZWRSZXNwb25zZURldGFpbHMuZXNNYXJrR3JvdXBJZCA6IG9wZW5lZFJlc3BvbnNlRGV0YWlscy5tYXJrR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5SZXNwb25zZVZpZXdNb2RlLnpvbmVWaWV3LFxyXG4gICAgICAgICAgICAgICAgICAgIGVudW1zLlRyaWdnZXJQb2ludC5Xb3JrTGlzdFJlc3BvbnNlTWVzc2FnZUljb24pO1xyXG5cclxuICAgICAgICAgICAgICAgIG1hcmtTY2hlbWVIZWxwZXIuZ2V0TWFya3MocGFyc2VJbnQoYWN0dWFsRGlzcGxheUlkKSwgc2VsZWN0ZWRNYXJraW5nTW9kZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHM6IE1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHBhcnNlSW50KGFjdHVhbERpc3BsYXlJZCksXHJcbiAgICAgICAgICAgICAgICAgICAgY2FuTmF2aWdhdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlVG86IGVudW1zLk1lc3NhZ2VOYXZpZ2F0aW9uLnRvUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkNvbmZpcm1lZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzTWVzc2FnZUNvbnRhaW5zRGlydHlWYWx1ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJQb2ludDogZW51bXMuVHJpZ2dlclBvaW50LldvcmtMaXN0UmVzcG9uc2VNZXNzYWdlSWNvblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IuY2FuTWVzc2FnZU5hdmlnYXRlKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCA9IExpbmtlZE1lc3NhZ2VJbmRpY2F0b3I7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9saW5rZWRtZXNzYWdlaW5kaWNhdG9yLnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFjQTs7O0FBR0E7QUFDQTtBQUFBO0FBRUE7OztBQUdBO0FBQ0E7QUFBQTtBQTZFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUExSEE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBQUE7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUNBOztBQUFBO0FBQUE7QUFDQTtBQUtBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7O0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTs7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBa0RBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 390:
/* no static exports found */
/* all exports used */
/*!******************************************************!*\
  !*** ./src/components/worklist/shared/totalmark.tsx ***!
  \******************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar markingstore = __webpack_require__(/*! ../../../stores/marking/markingstore */ 236);\r\n/**\r\n * React component\r\n * @param {Props} props\r\n */\r\nvar TotalMark = /** @class */ (function (_super) {\r\n    __extends(TotalMark, _super);\r\n    /**\r\n     * Constructor for total mark\r\n     * @param props\r\n     */\r\n    function TotalMark(props) {\r\n        return _super.call(this, props, null) || this;\r\n    }\r\n    /**\r\n     * getTotalMarkOutput\r\n     */\r\n    TotalMark.prototype.getTotalMarkOutput = function () {\r\n        var result = React.createElement(\"span\", null);\r\n        var totalmark;\r\n        var hasComplexOptionality = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ComplexOptionality, markingstore.instance.selectedQIGMarkSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        if (this.props.markingProgress === 0) {\r\n            result = (React.createElement(\"span\", { className: 'large-text dark-link', id: 'totalMark_' + this.props.id }, \"--\"));\r\n        }\r\n        else if (this.props.isNonNumericMark) {\r\n            result = (React.createElement(\"span\", { className: 'large-text dark-link', id: 'totalMark_' + this.props.id }, \"N/A\"));\r\n        }\r\n        else if (hasComplexOptionality && this.props.markingProgress < 100) {\r\n            //Hide totalmark based on cc value and totalprogress.\r\n            totalmark = '...';\r\n            result = (React.createElement(\"span\", { title: this.getTranslated('marking.worklist.complex-optionality.total-marks'), className: 'large-text dark-link', id: 'totalMark_' + this.props.id }, totalmark));\r\n        }\r\n        else {\r\n            totalmark = this.props.totalMark.toLocaleString(localeStore.instance.Locale);\r\n            result = (React.createElement(\"span\", { className: 'large-text dark-link', id: 'totalMark_' + this.props.id }, totalmark));\r\n        }\r\n        return result;\r\n    };\r\n    Object.defineProperty(TotalMark.prototype, \"currentLocale\", {\r\n        /*\r\n         * Get the locale\r\n        */\r\n        get: function () {\r\n            return localeStore.instance.Locale;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Translate the text\r\n     * @param value\r\n     * @returns Localised string\r\n     */\r\n    TotalMark.prototype.getTranslated = function (value) {\r\n        return localeStore.instance.TranslateText(value);\r\n    };\r\n    return TotalMark;\r\n}(pureRenderComponent));\r\nmodule.exports = TotalMark;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3RvdGFsbWFyay50c3g/YzViYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xyXG5pbXBvcnQgbWFya2luZ3N0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL21hcmtpbmcvbWFya2luZ3N0b3JlJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBhIGNvbXBvbmVudFxyXG4gKi9cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIGlzTm9uTnVtZXJpY01hcms6IGJvb2xlYW47XHJcbiAgICBtYXhpbXVtTWFyazogbnVtYmVyO1xyXG4gICAgdG90YWxNYXJrOiBudW1iZXI7XHJcbiAgICBtYXJraW5nUHJvZ3Jlc3M6IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge1Byb3BzfSBwcm9wc1xyXG4gKi9cclxuY2xhc3MgVG90YWxNYXJrIGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgdG90YWwgbWFya1xyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldFRvdGFsTWFya091dHB1dFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZ2V0VG90YWxNYXJrT3V0cHV0KCk6IGFueSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IDxzcGFuPjwvc3Bhbj47XHJcbiAgICAgICAgbGV0IHRvdGFsbWFyaztcclxuICAgICAgICBsZXQgaGFzQ29tcGxleE9wdGlvbmFsaXR5ID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkNvbXBsZXhPcHRpb25hbGl0eSxcclxuICAgICAgICAgICAgbWFya2luZ3N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHTWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5tYXJraW5nUHJvZ3Jlc3MgPT09IDApIHtcclxuXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbGFyZ2UtdGV4dCBkYXJrLWxpbmsnIGlkPXsndG90YWxNYXJrXycgKyB0aGlzLnByb3BzLmlkfT4tLTwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuaXNOb25OdW1lcmljTWFyaykge1xyXG4gICAgICAgICAgICByZXN1bHQgPSAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xhcmdlLXRleHQgZGFyay1saW5rJyBpZD17J3RvdGFsTWFya18nICsgdGhpcy5wcm9wcy5pZH0+Ti9BPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ29tcGxleE9wdGlvbmFsaXR5ICYmIHRoaXMucHJvcHMubWFya2luZ1Byb2dyZXNzIDwgMTAwKSB7XHJcbiAgICAgICAgICAgIC8vSGlkZSB0b3RhbG1hcmsgYmFzZWQgb24gY2MgdmFsdWUgYW5kIHRvdGFscHJvZ3Jlc3MuXHJcbiAgICAgICAgICAgIHRvdGFsbWFyayA9ICcuLi4nO1xyXG4gICAgICAgICAgICByZXN1bHQgPSAoPHNwYW4gdGl0bGU9e3RoaXMuZ2V0VHJhbnNsYXRlZCgnbWFya2luZy53b3JrbGlzdC5jb21wbGV4LW9wdGlvbmFsaXR5LnRvdGFsLW1hcmtzJyl9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2xhcmdlLXRleHQgZGFyay1saW5rJyBpZD17J3RvdGFsTWFya18nICsgdGhpcy5wcm9wcy5pZH0+e3RvdGFsbWFya308L3NwYW4+KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0b3RhbG1hcmsgPSB0aGlzLnByb3BzLnRvdGFsTWFyay50b0xvY2FsZVN0cmluZyhsb2NhbGVTdG9yZS5pbnN0YW5jZS5Mb2NhbGUpO1xyXG4gICAgICAgICAgICByZXN1bHQgPSAoPHNwYW4gY2xhc3NOYW1lPSdsYXJnZS10ZXh0IGRhcmstbGluaycgaWQ9eyd0b3RhbE1hcmtfJyArIHRoaXMucHJvcHMuaWR9Pnt0b3RhbG1hcmt9PC9zcGFuPik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cdC8qXHJcblx0ICogR2V0IHRoZSBsb2NhbGVcclxuXHQqL1xyXG5cdHByb3RlY3RlZCBnZXQgY3VycmVudExvY2FsZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRyYW5zbGF0ZSB0aGUgdGV4dFxyXG5cdCAqIEBwYXJhbSB2YWx1ZVxyXG5cdCAqIEByZXR1cm5zIExvY2FsaXNlZCBzdHJpbmdcclxuXHQgKi9cclxuXHRwcm90ZWN0ZWQgZ2V0VHJhbnNsYXRlZCh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KHZhbHVlKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFRvdGFsTWFyaztcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC90b3RhbG1hcmsudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7OztBQUdBO0FBQ0E7QUFBQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 391:
/* no static exports found */
/* all exports used */
/*!************************************************************!*\
  !*** ./src/components/worklist/shared/totalmarkdetail.tsx ***!
  \************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar totalMark = __webpack_require__(/*! ./totalmark */ 390);\r\n/**\r\n * React component\r\n * @param {Props} props\r\n */\r\nvar TotalMarkDetail = /** @class */ (function (_super) {\r\n    __extends(TotalMarkDetail, _super);\r\n    /**\r\n     * Constructor for TotalMarkTile\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function TotalMarkDetail(props, state) {\r\n        return _super.call(this, props) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    TotalMarkDetail.prototype.render = function () {\r\n        return (this.getTotalMarkOutput());\r\n    };\r\n    return TotalMarkDetail;\r\n}(totalMark));\r\nmodule.exports = TotalMarkDetail;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL3RvdGFsbWFya2RldGFpbC50c3g/MWQ1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IHRvdGFsTWFyayA9IHJlcXVpcmUoJy4vdG90YWxtYXJrJyk7XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqL1xyXG5jbGFzcyBUb3RhbE1hcmtEZXRhaWwgZXh0ZW5kcyB0b3RhbE1hcmsge1xyXG5cclxuXHQvKipcclxuXHQgKiBDb25zdHJ1Y3RvciBmb3IgVG90YWxNYXJrVGlsZVxyXG5cdCAqIEBwYXJhbSBwcm9wc1xyXG5cdCAqIEBwYXJhbSBzdGF0ZVxyXG5cdCAqL1xyXG5cdGNvbnN0cnVjdG9yKHByb3BzOiBhbnksIHN0YXRlOiBhbnkpIHtcclxuXHRcdHN1cGVyKHByb3BzKTtcclxuXHR9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5nZXRUb3RhbE1hcmtPdXRwdXQoKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFRvdGFsTWFya0RldGFpbDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC90b3RhbG1hcmtkZXRhaWwudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVBO0FBRUE7OztBQUdBO0FBQ0E7QUFBQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 395:
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src/actions/logout/logoutaction.ts ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar action = __webpack_require__(/*! ../base/action */ 229);\r\nvar dataRetrievalAction = __webpack_require__(/*! ../base/dataretrievalaction */ 239);\r\nvar actionType = __webpack_require__(/*! ../base/actiontypes */ 228);\r\nvar LogoutAction = /** @class */ (function (_super) {\r\n    __extends(LogoutAction, _super);\r\n    /**\r\n     * Logout action\r\n     * @param success\r\n     * @param errorJsonObject\r\n     */\r\n    function LogoutAction(success, errorJsonObject) {\r\n        var _this = _super.call(this, action.Source.View, actionType.USER_SESSION_UPDATE_ON_LOGOUT, success, errorJsonObject) || this;\r\n        _this.auditLog.logContent = _this.auditLog.logContent.replace(/{success}/g, success.toString());\r\n        return _this;\r\n    }\r\n    return LogoutAction;\r\n}(dataRetrievalAction));\r\nmodule.exports = LogoutAction;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FjdGlvbnMvbG9nb3V0L2xvZ291dGFjdGlvbi50cz9jYWM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhY3Rpb24gPSByZXF1aXJlKCcuLi9iYXNlL2FjdGlvbicpO1xyXG5pbXBvcnQgZGF0YVJldHJpZXZhbEFjdGlvbiA9IHJlcXVpcmUoJy4uL2Jhc2UvZGF0YXJldHJpZXZhbGFjdGlvbicpO1xyXG5pbXBvcnQgYWN0aW9uQXVkaXRMb2dJbmZvID0gcmVxdWlyZSgnLi4vYmFzZS9hdWRpdGxvZ2luZm8vYWN0aW9uYXVkaXRsb2dpbmZvJyk7XHJcbmltcG9ydCBhY3Rpb25UeXBlID0gcmVxdWlyZSgnLi4vYmFzZS9hY3Rpb250eXBlcycpO1xyXG5cclxuY2xhc3MgTG9nb3V0QWN0aW9uIGV4dGVuZHMgZGF0YVJldHJpZXZhbEFjdGlvbiB7XHJcblxyXG4gICAvKipcclxuICAgICogTG9nb3V0IGFjdGlvblxyXG4gICAgKiBAcGFyYW0gc3VjY2Vzc1xyXG4gICAgKiBAcGFyYW0gZXJyb3JKc29uT2JqZWN0XHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3Ioc3VjY2VzczogYm9vbGVhbiwgZXJyb3JKc29uT2JqZWN0PzogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoYWN0aW9uLlNvdXJjZS5WaWV3LCBhY3Rpb25UeXBlLlVTRVJfU0VTU0lPTl9VUERBVEVfT05fTE9HT1VULCBzdWNjZXNzLCBlcnJvckpzb25PYmplY3QpO1xyXG4gICAgICAgIHRoaXMuYXVkaXRMb2cubG9nQ29udGVudCA9IHRoaXMuYXVkaXRMb2cubG9nQ29udGVudC5yZXBsYWNlKC97c3VjY2Vzc30vZywgc3VjY2Vzcy50b1N0cmluZygpKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gTG9nb3V0QWN0aW9uO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FjdGlvbnMvbG9nb3V0L2xvZ291dGFjdGlvbi50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 396:
/* no static exports found */
/* all exports used */
/*!***************************************************!*\
  !*** ./src/actions/logout/logoutactioncreator.ts ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar dispatcher = __webpack_require__(/*! ../../app/dispatcher */ 242);\r\nvar logoutAction = __webpack_require__(/*! ./logoutaction */ 395);\r\nvar authenticationDataService = __webpack_require__(/*! ../../dataservices/authentication/authenticationdataservice */ 453);\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar marksAndAnnotationsSaveHelper = __webpack_require__(/*! ../../utility/marking/marksandannotationssavehelper */ 295);\r\nvar base = __webpack_require__(/*! ../base/actioncreatorbase */ 280);\r\nvar userInfoStore = __webpack_require__(/*! ../../stores/userinfo/userinfostore */ 244);\r\n/**\r\n * Logout action creator helper class\r\n */\r\nvar LogoutActionCreator = /** @class */ (function (_super) {\r\n    __extends(LogoutActionCreator, _super);\r\n    function LogoutActionCreator() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Update user session data\r\n     * @param logoutData\r\n     */\r\n    LogoutActionCreator.prototype.updateUserSession = function (logoutData) {\r\n        var that = this;\r\n        logoutData.isReportsPageAccessed = userInfoStore.instance.isReportsPageSelected;\r\n        marksAndAnnotationsSaveHelper.triggerMarksAndAnnotationsQueueProcessing(enums.SaveMarksAndAnnotationsProcessingTriggerPoint.Logout, function () {\r\n            //needs to be save the pending items in the save marks and annotations queue.\r\n            authenticationDataService.updateUserSession(logoutData, function (success, json) {\r\n                // This will validate the call to find any network failure\r\n                // and is mandatory to add this.\r\n                if (that.validateCall(json, false, true, enums.WarningMessageAction.None, true)) {\r\n                    dispatcher.dispatch(new logoutAction(success, json));\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return LogoutActionCreator;\r\n}(base));\r\nvar logoutActionCreator = new LogoutActionCreator();\r\nmodule.exports = logoutActionCreator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FjdGlvbnMvbG9nb3V0L2xvZ291dGFjdGlvbmNyZWF0b3IudHM/MWYzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4uLy4uL2FwcC9kaXNwYXRjaGVyJyk7XHJcbmltcG9ydCBsb2dvdXRBcmd1bWVudCA9IHJlcXVpcmUoJy4uLy4uL2RhdGFzZXJ2aWNlcy9hdXRoZW50aWNhdGlvbi9sb2dvdXRhcmd1bWVudCcpO1xyXG5pbXBvcnQgbG9nb3V0QWN0aW9uID0gcmVxdWlyZSgnLi9sb2dvdXRhY3Rpb24nKTtcclxuaW1wb3J0IGF1dGhlbnRpY2F0aW9uRGF0YVNlcnZpY2UgPSByZXF1aXJlKCcuLi8uLi9kYXRhc2VydmljZXMvYXV0aGVudGljYXRpb24vYXV0aGVudGljYXRpb25kYXRhc2VydmljZScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IHJlc3BvbnNlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvcmVzcG9uc2UvcmVzcG9uc2VzdG9yZScpO1xyXG5pbXBvcnQgbWFya3NBbmRBbm5vdGF0aW9uc1NhdmVIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L21hcmtpbmcvbWFya3NhbmRhbm5vdGF0aW9uc3NhdmVoZWxwZXInKTtcclxuaW1wb3J0IGJhc2UgPSByZXF1aXJlKCcuLi9iYXNlL2FjdGlvbmNyZWF0b3JiYXNlJyk7XHJcbmltcG9ydCB1c2VySW5mb1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3VzZXJpbmZvL3VzZXJpbmZvc3RvcmUnKTtcclxuXHJcbi8qKlxyXG4gKiBMb2dvdXQgYWN0aW9uIGNyZWF0b3IgaGVscGVyIGNsYXNzXHJcbiAqL1xyXG5jbGFzcyBMb2dvdXRBY3Rpb25DcmVhdG9yIGV4dGVuZHMgYmFzZSB7XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB1c2VyIHNlc3Npb24gZGF0YVxyXG4gICAgICogQHBhcmFtIGxvZ291dERhdGFcclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZVVzZXJTZXNzaW9uKGxvZ291dERhdGE6IGxvZ291dEFyZ3VtZW50KTogdm9pZCB7XHJcblxyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgICAgICBsb2dvdXREYXRhLmlzUmVwb3J0c1BhZ2VBY2Nlc3NlZCA9IHVzZXJJbmZvU3RvcmUuaW5zdGFuY2UuaXNSZXBvcnRzUGFnZVNlbGVjdGVkO1xyXG4gICAgICAgIG1hcmtzQW5kQW5ub3RhdGlvbnNTYXZlSGVscGVyLnRyaWdnZXJNYXJrc0FuZEFubm90YXRpb25zUXVldWVQcm9jZXNzaW5nKFxyXG4gICAgICAgICAgICBlbnVtcy5TYXZlTWFya3NBbmRBbm5vdGF0aW9uc1Byb2Nlc3NpbmdUcmlnZ2VyUG9pbnQuTG9nb3V0LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vbmVlZHMgdG8gYmUgc2F2ZSB0aGUgcGVuZGluZyBpdGVtcyBpbiB0aGUgc2F2ZSBtYXJrcyBhbmQgYW5ub3RhdGlvbnMgcXVldWUuXHJcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbkRhdGFTZXJ2aWNlLnVwZGF0ZVVzZXJTZXNzaW9uKGxvZ291dERhdGEsIGZ1bmN0aW9uIChzdWNjZXNzOiBib29sZWFuLCBqc29uPzogYW55KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCB2YWxpZGF0ZSB0aGUgY2FsbCB0byBmaW5kIGFueSBuZXR3b3JrIGZhaWx1cmVcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgaXMgbWFuZGF0b3J5IHRvIGFkZCB0aGlzLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGF0LnZhbGlkYXRlQ2FsbChqc29uLCBmYWxzZSwgdHJ1ZSwgZW51bXMuV2FybmluZ01lc3NhZ2VBY3Rpb24uTm9uZSwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hlci5kaXNwYXRjaChuZXcgbG9nb3V0QWN0aW9uKHN1Y2Nlc3MsIGpzb24pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgbG9nb3V0QWN0aW9uQ3JlYXRvciA9IG5ldyBMb2dvdXRBY3Rpb25DcmVhdG9yKCk7XHJcbmV4cG9ydCA9IGxvZ291dEFjdGlvbkNyZWF0b3I7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9hY3Rpb25zL2xvZ291dC9sb2dvdXRhY3Rpb25jcmVhdG9yLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBdUJBO0FBdEJBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 398:
/* no static exports found */
/* all exports used */
/*!********************************************!*\
  !*** ./src/components/base/customerror.ts ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/**\r\n * Class for custom error\r\n */\r\nvar CustomError = /** @class */ (function (_super) {\r\n    __extends(CustomError, _super);\r\n    /**\r\n     * Constructor CustomError\r\n     * @param module\r\n     * @param message\r\n     * @param header\r\n     * @param showErrorIcon\r\n     */\r\n    function CustomError(moduleName, message, header, showErrorIcon) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.moduleName = moduleName;\r\n        _this.message = message;\r\n        _this.headerText = header;\r\n        _this.showErrorIcon = showErrorIcon;\r\n        return _this;\r\n    }\r\n    return CustomError;\r\n}(Error));\r\nmodule.exports = CustomError;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYmFzZS9jdXN0b21lcnJvci50cz9mMjRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDbGFzcyBmb3IgY3VzdG9tIGVycm9yXHJcbiAqL1xyXG5jbGFzcyBDdXN0b21FcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIC8qKiBUaGUgY29tcG9uZW50IG5hbWUgKi9cclxuICAgIHB1YmxpYyBtb2R1bGVOYW1lOiBzdHJpbmc7XHJcbiAgICAvKiogVGhlIGVycm9yIG1lc3NhZ2UgKi9cclxuICAgIHB1YmxpYyBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICAvKiBIZWFkZXIgc3RyaW5nIGZvciB0aGUgTWVzc2FnZSovXHJcbiAgICBwdWJsaWMgaGVhZGVyVGV4dDogc3RyaW5nO1xyXG4gICAgLyogYm9vbGVhbiB2YWx1ZSB0byBpbmRpY2F0ZSB3aGV0aGVyIHdlIGhhdmUgdG8gc2hvdyBlcnJvciBpY29uIG9yIG5vdCovXHJcbiAgICBwdWJsaWMgc2hvd0Vycm9ySWNvbjogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIEN1c3RvbUVycm9yXHJcbiAgICAgKiBAcGFyYW0gbW9kdWxlXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxyXG4gICAgICogQHBhcmFtIGhlYWRlclxyXG4gICAgICogQHBhcmFtIHNob3dFcnJvckljb25cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobW9kdWxlTmFtZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGhlYWRlcjogc3RyaW5nLCBzaG93RXJyb3JJY29uOiBib29sZWFuKSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5tb2R1bGVOYW1lID0gbW9kdWxlTmFtZTtcclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gICAgICAgIHRoaXMuaGVhZGVyVGV4dCA9IGhlYWRlcjtcclxuICAgICAgICB0aGlzLnNob3dFcnJvckljb24gPSBzaG93RXJyb3JJY29uO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBDdXN0b21FcnJvcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYmFzZS9jdXN0b21lcnJvci50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQUE7QUFVQTs7Ozs7O0FBTUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 399:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/components/qigselector/locksinqigpopup.tsx ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar qigSelectorActionCreator = __webpack_require__(/*! ../../actions/qigselector/qigselectoractioncreator */ 253);\r\nvar localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\nvar stringFormatHelper = __webpack_require__(/*! ../../utility/stringformat/stringformathelper */ 250);\r\nvar locksInQigPopup = function (props) {\r\n    /**\r\n     * Handles the Click Event of locked qig\r\n     */\r\n    var openQigFromLockedList = function (qigId) {\r\n        qigSelectorActionCreator.qigSelectedFromLockedList(qigId);\r\n    };\r\n    if (props.showLocksInQigPopUp) {\r\n        return (React.createElement(\"div\", { className: 'popup medium popup-overlay fixed-hf examiner-locked open', id: 'examinerLocked', role: 'dialog' },\r\n            React.createElement(\"div\", { className: 'popup-wrap' },\r\n                React.createElement(\"div\", { className: 'popup-header' },\r\n                    React.createElement(\"h4\", { id: 'popup17Title' }, localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.header'))),\r\n                React.createElement(\"div\", { className: 'popup-content', id: 'popup16Desc' },\r\n                    React.createElement(\"p\", { className: 'login-nav-msg padding-bottom-10' }, localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.body')),\r\n                    React.createElement(\"p\", { className: 'login-nav-action padding-bottom-10' }, (props.fromLogout) ? localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.body-logout') : localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.select-a-qig')),\r\n                    getLocksInQigList()),\r\n                renderLogoutSection())));\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n    /**\r\n     * Returns the list of qigs with no of locks\r\n     */\r\n    function getLocksInQigList() {\r\n        var _this = this;\r\n        var locksInQigDetailsList = Immutable.List();\r\n        locksInQigDetailsList = qigStore.instance.getLocksInQigList.locksInQigDetailsList;\r\n        var toRender = locksInQigDetailsList.map(function (_locksInQigDetails, key) {\r\n            var formattedQigName = stringFormatHelper.formatAwardingBodyQIG(_locksInQigDetails.qigName, _locksInQigDetails.assessmentCode, _locksInQigDetails.sessionName, _locksInQigDetails.componentId, _locksInQigDetails.questionPaperName, _locksInQigDetails.assessmentName, _locksInQigDetails.componentName, stringFormatHelper.getOverviewQIGNameFormat());\r\n            return (React.createElement(\"a\", { key: 'lock-' + key, className: 'locked-link table-row', onClick: openQigFromLockedList.bind(_this, _locksInQigDetails.qigId) },\r\n                React.createElement(\"span\", { className: 'lock-msg table-cell bolder' },\r\n                    React.createElement(\"span\", { className: 'lock-count' }, _locksInQigDetails.noOfLocks),\r\n                    React.createElement(\"span\", { className: 'lock-text' }, (_locksInQigDetails.noOfLocks > 1) ? localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.locks-plural') : localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.lock-single'))),\r\n                React.createElement(\"span\", { className: 'lock-hyphen table-cell' }, \"-\"),\r\n                React.createElement(\"span\", { className: 'lock-qig-name table-cell' }, formattedQigName)));\r\n        });\r\n        return (React.createElement(\"div\", { className: 'lock-list-wrapper' },\r\n            React.createElement(\"div\", { id: 'lock-list-table', className: 'lock-list table' }, toRender)));\r\n    }\r\n    /**\r\n     * renders the logout button portion if needed\r\n     */\r\n    function renderLogoutSection() {\r\n        if (props.fromLogout) {\r\n            return (React.createElement(\"div\", { className: 'popup-footer text-right' },\r\n                React.createElement(\"button\", { id: 'lockslogoutbutton', className: 'button rounded', title: localeStore.instance.TranslateText('generic.user-menu.profile-section.logout-button'), onClick: function () { props.onLogoutClickOfLocksInQigPopup(); } }, localeStore.instance.TranslateText('generic.user-menu.profile-section.logout-button')),\r\n                React.createElement(\"button\", { id: 'lockscancelbutton', className: 'button primary rounded', title: localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.cancel-button'), onClick: function () { props.onCancelClickOfLocksInQigPopup(); } }, localeStore.instance.TranslateText('team-management.help-examiners.locks-in-qig-dialog.cancel-button'))));\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n};\r\nmodule.exports = locksInQigPopup;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcWlnc2VsZWN0b3IvbG9ja3NpbnFpZ3BvcHVwLnRzeD80NzczIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgbG9ja3NJblFpZ0RldGFpbHNMaXN0ID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3R5cGluZ3MvbG9ja3NpbnFpZ2RldGFpbHNsaXN0Jyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgcWlnU2VsZWN0b3JBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9xaWdzZWxlY3Rvci9xaWdzZWxlY3RvcmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgc3RyaW5nRm9ybWF0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9zdHJpbmdmb3JtYXQvc3RyaW5nZm9ybWF0aGVscGVyJyk7XHJcblxyXG4vKipcclxuICogUHJvcHMgZm9yIHRoZSBMZWZ0IFBhbmVsXHJcbiAqL1xyXG5pbnRlcmZhY2UgTG9ja3NJblFpZ1BvcHVwUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgc2hvd0xvY2tzSW5RaWdQb3BVcD86IGJvb2xlYW47XHJcbiAgICBmcm9tTG9nb3V0PzogYm9vbGVhbjtcclxuICAgIG9uQ2FuY2VsQ2xpY2tPZkxvY2tzSW5RaWdQb3B1cD86IEZ1bmN0aW9uO1xyXG4gICAgb25Mb2dvdXRDbGlja09mTG9ja3NJblFpZ1BvcHVwPzogRnVuY3Rpb247XHJcbn1cclxuXHJcbmNvbnN0IGxvY2tzSW5RaWdQb3B1cCA9IChwcm9wczogTG9ja3NJblFpZ1BvcHVwUHJvcHMpID0+IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZXMgdGhlIENsaWNrIEV2ZW50IG9mIGxvY2tlZCBxaWdcclxuICAgICAqL1xyXG4gICAgY29uc3Qgb3BlblFpZ0Zyb21Mb2NrZWRMaXN0ID0gKHFpZ0lkOiBudW1iZXIpID0+IHtcclxuICAgICAgICBxaWdTZWxlY3RvckFjdGlvbkNyZWF0b3IucWlnU2VsZWN0ZWRGcm9tTG9ja2VkTGlzdChxaWdJZCk7XHJcbiAgICB9O1xyXG4gICAgaWYgKHByb3BzLnNob3dMb2Nrc0luUWlnUG9wVXApIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9J3BvcHVwIG1lZGl1bSBwb3B1cC1vdmVybGF5IGZpeGVkLWhmIGV4YW1pbmVyLWxvY2tlZCBvcGVuJ1xyXG4gICAgICAgICAgICBpZD0nZXhhbWluZXJMb2NrZWQnIHJvbGU9J2RpYWxvZyc+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC13cmFwJz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC1oZWFkZXInPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoNCBpZD0ncG9wdXAxN1RpdGxlJz57bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RlYW0tbWFuYWdlbWVudC5oZWxwLWV4YW1pbmVycy5sb2Nrcy1pbi1xaWctZGlhbG9nLmhlYWRlcicpfTwvaDQ+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cC1jb250ZW50JyBpZD0ncG9wdXAxNkRlc2MnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbG9naW4tbmF2LW1zZyBwYWRkaW5nLWJvdHRvbS0xMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgPntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuaGVscC1leGFtaW5lcnMubG9ja3MtaW4tcWlnLWRpYWxvZy5ib2R5Jyl9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0nbG9naW4tbmF2LWFjdGlvbiBwYWRkaW5nLWJvdHRvbS0xMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgPnsocHJvcHMuZnJvbUxvZ291dCkgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RlYW0tbWFuYWdlbWVudC5oZWxwLWV4YW1pbmVycy5sb2Nrcy1pbi1xaWctZGlhbG9nLmJvZHktbG9nb3V0JykgOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RlYW0tbWFuYWdlbWVudC5oZWxwLWV4YW1pbmVycy5sb2Nrcy1pbi1xaWctZGlhbG9nLnNlbGVjdC1hLXFpZycpIH08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAge2dldExvY2tzSW5RaWdMaXN0KCl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHtyZW5kZXJMb2dvdXRTZWN0aW9uKCl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHFpZ3Mgd2l0aCBubyBvZiBsb2Nrc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRMb2Nrc0luUWlnTGlzdCgpIHtcclxuICAgICAgICBsZXQgbG9ja3NJblFpZ0RldGFpbHNMaXN0OiBJbW11dGFibGUuTGlzdDxMb2Nrc0luUWlnRGV0YWlscz4gPSBJbW11dGFibGUuTGlzdDxMb2Nrc0luUWlnRGV0YWlscz4oKTtcclxuICAgICAgICBsb2Nrc0luUWlnRGV0YWlsc0xpc3QgPSBxaWdTdG9yZS5pbnN0YW5jZS5nZXRMb2Nrc0luUWlnTGlzdC5sb2Nrc0luUWlnRGV0YWlsc0xpc3Q7XHJcbiAgICAgICAgbGV0IHRvUmVuZGVyID0gbG9ja3NJblFpZ0RldGFpbHNMaXN0Lm1hcCgoX2xvY2tzSW5RaWdEZXRhaWxzOiBMb2Nrc0luUWlnRGV0YWlscyAsIGtleTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmb3JtYXR0ZWRRaWdOYW1lID0gc3RyaW5nRm9ybWF0SGVscGVyLmZvcm1hdEF3YXJkaW5nQm9keVFJRyhcclxuICAgICAgICAgICAgICAgIF9sb2Nrc0luUWlnRGV0YWlscy5xaWdOYW1lLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLmFzc2Vzc21lbnRDb2RlLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLnNlc3Npb25OYW1lLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLnF1ZXN0aW9uUGFwZXJOYW1lLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLmFzc2Vzc21lbnROYW1lLFxyXG4gICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLmNvbXBvbmVudE5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdHJpbmdGb3JtYXRIZWxwZXIuZ2V0T3ZlcnZpZXdRSUdOYW1lRm9ybWF0KCkpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxhIGtleT17J2xvY2stJyArIGtleX0gY2xhc3NOYW1lPSdsb2NrZWQtbGluayB0YWJsZS1yb3cnIG9uQ2xpY2s9e29wZW5RaWdGcm9tTG9ja2VkTGlzdC5iaW5kKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgX2xvY2tzSW5RaWdEZXRhaWxzLnFpZ0lkKSB9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbG9jay1tc2cgdGFibGUtY2VsbCBib2xkZXInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xvY2stY291bnQnPntfbG9ja3NJblFpZ0RldGFpbHMubm9PZkxvY2tzfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdsb2NrLXRleHQnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB7IChfbG9ja3NJblFpZ0RldGFpbHMubm9PZkxvY2tzID4gMSkgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RlYW0tbWFuYWdlbWVudC5oZWxwLWV4YW1pbmVycy5sb2Nrcy1pbi1xaWctZGlhbG9nLmxvY2tzLXBsdXJhbCcpIDogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0ZWFtLW1hbmFnZW1lbnQuaGVscC1leGFtaW5lcnMubG9ja3MtaW4tcWlnLWRpYWxvZy5sb2NrLXNpbmdsZScpIH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbG9jay1oeXBoZW4gdGFibGUtY2VsbCc+LTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2xvY2stcWlnLW5hbWUgdGFibGUtY2VsbCc+e2Zvcm1hdHRlZFFpZ05hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbG9jay1saXN0LXdyYXBwZXInPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD0nbG9jay1saXN0LXRhYmxlJyBjbGFzc05hbWU9J2xvY2stbGlzdCB0YWJsZSc+XHJcbiAgICAgICAgICAgICAgICAgICAge3RvUmVuZGVyfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJlbmRlcnMgdGhlIGxvZ291dCBidXR0b24gcG9ydGlvbiBpZiBuZWVkZWRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVuZGVyTG9nb3V0U2VjdGlvbigpIHtcclxuICAgICAgICBpZiAocHJvcHMuZnJvbUxvZ291dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BvcHVwLWZvb3RlciB0ZXh0LXJpZ2h0Jz5cclxuICAgICAgICAgICAgIFx0PGJ1dHRvbiBpZD0nbG9ja3Nsb2dvdXRidXR0b24nY2xhc3NOYW1lID0nYnV0dG9uIHJvdW5kZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy51c2VyLW1lbnUucHJvZmlsZS1zZWN0aW9uLmxvZ291dC1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgcHJvcHMub25Mb2dvdXRDbGlja09mTG9ja3NJblFpZ1BvcHVwKCk7IH19Pntsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbmVyaWMudXNlci1tZW51LnByb2ZpbGUtc2VjdGlvbi5sb2dvdXQtYnV0dG9uJyl9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9J2xvY2tzY2FuY2VsYnV0dG9uJyBjbGFzc05hbWU9J2J1dHRvbiBwcmltYXJ5IHJvdW5kZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuaGVscC1leGFtaW5lcnMubG9ja3MtaW4tcWlnLWRpYWxvZy5jYW5jZWwtYnV0dG9uJykgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHByb3BzLm9uQ2FuY2VsQ2xpY2tPZkxvY2tzSW5RaWdQb3B1cCgpOyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuaGVscC1leGFtaW5lcnMubG9ja3MtaW4tcWlnLWRpYWxvZy5jYW5jZWwtYnV0dG9uJyl9PC9idXR0b24+XHJcbiAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgPSBsb2Nrc0luUWlnUG9wdXA7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3FpZ3NlbGVjdG9yL2xvY2tzaW5xaWdwb3B1cC50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUlBO0FBRUE7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFJQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBTUE7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 400:
/* no static exports found */
/* all exports used */
/*!******************************************************************!*\
  !*** ./src/components/standardisationsetup/declassifybutton.tsx ***!
  \******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/*\r\n  React component for Generic button.\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\n/**\r\n * React component class for Generic button implementation.\r\n */\r\nvar DeclassifyButton = /** @class */ (function (_super) {\r\n    __extends(DeclassifyButton, _super);\r\n    /**\r\n     * constructor\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function DeclassifyButton(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.onClick = _this.onClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render method\r\n     */\r\n    DeclassifyButton.prototype.render = function () {\r\n        var buttonElement;\r\n        buttonElement = (React.createElement(\"a\", { title: this.props.title, className: this.props.anchorclassName, id: this.props.id, key: this.props.id, onClick: this.onClick },\r\n            React.createElement(\"span\", { className: this.props.spanclassName })));\r\n        return buttonElement;\r\n    };\r\n    /**\r\n     * Click event\r\n     * @param evnt\r\n     */\r\n    DeclassifyButton.prototype.onClick = function (evnt) {\r\n        standardisationActionCreator.declassifyPopupOpen(this.props.displayId, this.props.totalMarkValue, this.props.candidateScriptId, this.props.esCandidateScriptMarkSchemeGroupId, this.props.markingModeId, this.props.rigOrder, this.props.esMarkGroupRowVersion, this.props.markSchemeGroupId);\r\n    };\r\n    return DeclassifyButton;\r\n}(pureRenderComponent));\r\nmodule.exports = DeclassifyButton;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvZGVjbGFzc2lmeWJ1dHRvbi50c3g/MDFmNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gIFJlYWN0IGNvbXBvbmVudCBmb3IgR2VuZXJpYyBidXR0b24uXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGFwcGxpY2F0aW9uU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvYXBwbGljYXRpb25vZmZsaW5lL2FwcGxpY2F0aW9uc3RvcmUnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uL2FjdGlvbnMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcclxuICAgIHRpdGxlOiBzdHJpbmc7XHJcbiAgICBhbmNob3JjbGFzc05hbWU/OiBzdHJpbmc7XHJcbiAgICBzcGFuY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIGRpc3BsYXlJZDogc3RyaW5nO1xyXG5cdHRvdGFsTWFya1ZhbHVlOiBudW1iZXI7XHJcblx0Y2FuZGlkYXRlU2NyaXB0SWQ6IG51bWJlcjtcclxuICAgIGVzQ2FuZGlkYXRlU2NyaXB0TWFya1NjaGVtZUdyb3VwSWQ6IG51bWJlcjtcclxuICAgIG1hcmtTY2hlbWVHcm91cElkOiBudW1iZXI7XHJcblx0bWFya2luZ01vZGVJZDogbnVtYmVyO1xyXG4gICAgcmlnT3JkZXI6IG51bWJlcjtcclxuICAgIGVzTWFya0dyb3VwUm93VmVyc2lvbjogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogUmVhY3QgY29tcG9uZW50IGNsYXNzIGZvciBHZW5lcmljIGJ1dHRvbiBpbXBsZW1lbnRhdGlvbi5cclxuICovXHJcbmNsYXNzIERlY2xhc3NpZnlCdXR0b24gZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG4gICAgICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIG1ldGhvZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBidXR0b25FbGVtZW50OiBKU1guRWxlbWVudDtcclxuICAgICAgICBidXR0b25FbGVtZW50ID0gKFxyXG4gICAgICAgICAgICA8YSB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5hbmNob3JjbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgIGtleT17dGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXt0aGlzLnByb3BzLnNwYW5jbGFzc05hbWV9IC8+XHJcbiAgICAgICAgICAgIDwvYT5cclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBidXR0b25FbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xpY2sgZXZlbnRcclxuICAgICAqIEBwYXJhbSBldm50XHJcbiAgICAgKi9cclxuXHRwcml2YXRlIG9uQ2xpY2soZXZudDogYW55KSB7XHJcblx0XHRzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLmRlY2xhc3NpZnlQb3B1cE9wZW4odGhpcy5wcm9wcy5kaXNwbGF5SWQsIHRoaXMucHJvcHMudG90YWxNYXJrVmFsdWUsXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY2FuZGlkYXRlU2NyaXB0SWQsIHRoaXMucHJvcHMuZXNDYW5kaWRhdGVTY3JpcHRNYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5tYXJraW5nTW9kZUlkLCB0aGlzLnByb3BzLnJpZ09yZGVyLFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmVzTWFya0dyb3VwUm93VmVyc2lvbiwgdGhpcy5wcm9wcy5tYXJrU2NoZW1lR3JvdXBJZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IERlY2xhc3NpZnlCdXR0b247XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3N0YW5kYXJkaXNhdGlvbnNldHVwL2RlY2xhc3NpZnlidXR0b24udHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQWlCQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 401:
/* no static exports found */
/* all exports used */
/*!*******************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/bluebanner.tsx ***!
  \*******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * StatelessComponent component for BlueBanner\r\n * @param props\r\n */\r\nvar blueBanner = function (props) {\r\n    return (React.createElement(\"div\", { className: 'message-bar' },\r\n        React.createElement(\"span\", { className: 'message-content' },\r\n            React.createElement(\"div\", { className: 'text-left', id: 'blue-banner-message' },\r\n                React.createElement(\"p\", null, props.blueBannerMessageKey !== '' || props.blueBannerMessageKey !== undefined\r\n                    ? localeStore.instance.TranslateText(props.blueBannerMessageKey) : null)))));\r\n};\r\nmodule.exports = blueBanner;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL2JsdWViYW5uZXIudHN4P2YyNWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbXBvbmVudHMvYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9lbnVtcycpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BzXHJcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgYmx1ZUJhbm5lck1lc3NhZ2VLZXk6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0YXRlbGVzc0NvbXBvbmVudCBjb21wb25lbnQgZm9yIEJsdWVCYW5uZXJcclxuICogQHBhcmFtIHByb3BzXHJcbiAqL1xyXG5jb25zdCBibHVlQmFubmVyOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8UHJvcHM+ID0gKHByb3BzOiBQcm9wcykgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWVzc2FnZS1iYXInPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J21lc3NhZ2UtY29udGVudCc+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC1sZWZ0JyBpZD0nYmx1ZS1iYW5uZXItbWVzc2FnZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5ibHVlQmFubmVyTWVzc2FnZUtleSAhPT0gJycgfHwgcHJvcHMuYmx1ZUJhbm5lck1lc3NhZ2VLZXkgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KHByb3BzLmJsdWVCYW5uZXJNZXNzYWdlS2V5KSA6IG51bGxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn07XHJcbmV4cG9ydCA9IGJsdWVCYW5uZXI7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvYmx1ZWJhbm5lci50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBWUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBT0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 402:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/rigorder.tsx ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * Stateless component for Script ID column in Standardisation Setup Grid\r\n * @param props\r\n */\r\nvar rigorder = function (props) {\r\n    /**\r\n     * This mehod will return the classification type header\r\n     * @param classificationType\r\n     */\r\n    function getHeaderBody(classificationType) {\r\n        var element;\r\n        if (classificationType) {\r\n            element = (React.createElement(\"div\", { id: props.id, className: props.className }, (localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.classification-type.'\r\n                + enums.MarkingMode[classificationType]))));\r\n        }\r\n        else {\r\n            element = (React.createElement(\"span\", { id: props.id, className: props.className }, props.rigOrder));\r\n        }\r\n        return element;\r\n    }\r\n    return (React.createElement(\"div\", { className: 'header-data cursor-move' },\r\n        props.classificationType === undefined ?\r\n            React.createElement(\"span\", { className: 'sprite-icon drag-icon', title: !qigStore.instance.selectedQIGForMarkerOperation.standardisationSetupComplete ? 'Drag to change the order.' : '' })\r\n            : null,\r\n        getHeaderBody(props.classificationType)));\r\n};\r\nmodule.exports = rigorder;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3JpZ29yZGVyLnRzeD81Y2Y5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuXHJcbmludGVyZmFjZSBSSUdPcmRlclByb3BzIGV4dGVuZHMgUHJvcHNCYXNlIHtcclxuICAgIGNsYXNzaWZpY2F0aW9uVHlwZT86IGVudW1zLk1hcmtpbmdNb2RlO1xyXG4gICAgcmlnT3JkZXI/OiBzdHJpbmc7XHJcbiAgICBjbGFzc05hbWU6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0YXRlbGVzcyBjb21wb25lbnQgZm9yIFNjcmlwdCBJRCBjb2x1bW4gaW4gU3RhbmRhcmRpc2F0aW9uIFNldHVwIEdyaWRcclxuICogQHBhcmFtIHByb3BzXHJcbiAqL1xyXG5jb25zdCByaWdvcmRlcjogUmVhY3QuU3RhdGVsZXNzQ29tcG9uZW50PFJJR09yZGVyUHJvcHM+ID0gKHByb3BzOiBSSUdPcmRlclByb3BzKSA9PiB7XHJcblxyXG4vKipcclxuICogVGhpcyBtZWhvZCB3aWxsIHJldHVybiB0aGUgY2xhc3NpZmljYXRpb24gdHlwZSBoZWFkZXJcclxuICogQHBhcmFtIGNsYXNzaWZpY2F0aW9uVHlwZVxyXG4gKi9cclxuICAgIGZ1bmN0aW9uIGdldEhlYWRlckJvZHkoY2xhc3NpZmljYXRpb25UeXBlOiBlbnVtcy5NYXJraW5nTW9kZSk6IEpTWC5FbGVtZW50IHtcclxuICAgICAgICBsZXQgZWxlbWVudDogSlNYLkVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKGNsYXNzaWZpY2F0aW9uVHlwZSkge1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gKDxkaXYgaWQ9e3Byb3BzLmlkfSBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+eyhsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5zdGFuZGFyZGlzYXRpb24tc2V0dXAtd29ya2xpc3QuY2xhc3NpZmljYXRpb24tdHlwZS4nXHJcbiAgICAgICAgICAgICAgICArIGVudW1zLk1hcmtpbmdNb2RlW2NsYXNzaWZpY2F0aW9uVHlwZV0pKX08L2Rpdj4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSAoPHNwYW4gaWQ9e3Byb3BzLmlkfSBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+e3Byb3BzLnJpZ09yZGVyfTwvc3Bhbj4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdoZWFkZXItZGF0YSBjdXJzb3ItbW92ZSc+XHJcbiAgICAgICAgICAgIHtwcm9wcy5jbGFzc2lmaWNhdGlvblR5cGUgPT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3Nwcml0ZS1pY29uIGRyYWctaWNvbidcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17IXFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLnN0YW5kYXJkaXNhdGlvblNldHVwQ29tcGxldGUgPyAnRHJhZyB0byBjaGFuZ2UgdGhlIG9yZGVyLicgOiAnJ31cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDogbnVsbH1cclxuICAgICAgICAgICAge2dldEhlYWRlckJvZHkocHJvcHMuY2xhc3NpZmljYXRpb25UeXBlKX1cclxuICAgICAgICA8L2Rpdj4pO1xyXG5cclxufTtcclxuZXhwb3J0ID0gcmlnb3JkZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9yaWdvcmRlci50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVFBOzs7QUFHQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 403:
/* no static exports found */
/* all exports used */
/*!****************************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/scriptidgridelement.tsx ***!
  \****************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar stringHelper = __webpack_require__(/*! ../../../utility/generic/stringhelper */ 254);\r\nvar enums = __webpack_require__(/*! ../../utility/enums */ 225);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\nvar qigStore = __webpack_require__(/*! ../../../stores/qigselector/qigstore */ 230);\r\nvar imageZoneActionCreator = __webpack_require__(/*! ../../../actions/imagezones/imagezoneactioncreator */ 439);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../utility/ecoursework/ecourseworkhelper */ 238);\r\nvar responseHelper = __webpack_require__(/*! ../../utility/responsehelper/responsehelper */ 249);\r\n/**\r\n * React component class for Script id\r\n */\r\nvar ScriptIdGridElement = /** @class */ (function (_super) {\r\n    __extends(ScriptIdGridElement, _super);\r\n    /**\r\n     * Constructor for ScriptIdGridElement\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function ScriptIdGridElement(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * This will initiate open response action\r\n         */\r\n        _this.handleScriptClick = function (candidateScriptId) {\r\n            var selectedScriptDetails = standardisationSetupStore.instance.fetchSelectedScriptDetails(parseInt(candidateScriptId));\r\n            // Indicates whether script available to mark as provisional\r\n            var isAvailable = selectedScriptDetails ? (!selectedScriptDetails.isAllocatedALive &&\r\n                !selectedScriptDetails.isUsedForProvisionalMarking) : false;\r\n            standardisationActionCreator.openStandardisationCentreScript(parseInt(candidateScriptId), isAvailable);\r\n            if (eCourseworkHelper.isECourseworkComponent) {\r\n                eCourseworkHelper.fetchECourseWorkCandidateScriptMetadata(parseInt(candidateScriptId), false, true);\r\n            }\r\n            imageZoneActionCreator.getImagezoneList(qigStore.instance.selectedQIGForMarkerOperation.questionPaperPartId, // QuestionPaperId\r\n            qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId, // MarkSchemeGroupId\r\n            qigStore.instance.selectedQIGForMarkerOperation.markingMethod, true);\r\n            responseHelper.openResponse(parseInt(candidateScriptId), // CandidateScriptId\r\n            enums.ResponseNavigation.specific, enums.ResponseMode.closed, 0, // Passing MarkGroupId as 0, since we dont have markGroupId for the non-provisional response.\r\n            enums.ResponseViewMode.zoneView); // Default view mode is Zone View, even if the response has unmanaged SLAO's.\r\n        };\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    ScriptIdGridElement.prototype.render = function () {\r\n        var title = stringHelper.format(localeStore.instance.TranslateText('standardisation-setup.standardisation-setup-worklist.response-data.script-id-tooltip'), [\r\n            this.props.displayText\r\n                ? String(this.props.displayText)\r\n                : String(this.props.displayId)\r\n        ]);\r\n        var displayContent;\r\n        if (this.props.displayText) {\r\n            displayContent = '1' + String(this.props.displayText);\r\n        }\r\n        else {\r\n            displayContent = '1' + String(this.props.displayId);\r\n        }\r\n        return (React.createElement(\"a\", { href: 'javascript:void(0)', id: 'script_' + this.props.id, key: 'res_key_' + this.props.id, title: title, onClick: this.handleScriptClick.bind(this, this.props.displayId) }, displayContent));\r\n    };\r\n    return ScriptIdGridElement;\r\n}(pureRenderComponent));\r\nmodule.exports = ScriptIdGridElement;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3NjcmlwdGlkZ3JpZGVsZW1lbnQudHN4PzE5NzkiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcbmltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgcHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xyXG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XHJcbmltcG9ydCBzdHJpbmdIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dlbmVyaWMvc3RyaW5naGVscGVyJyk7XHJcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IGFwcGxpY2F0aW9uU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi9zdG9yZXMvYXBwbGljYXRpb25vZmZsaW5lL2FwcGxpY2F0aW9uc3RvcmUnKTtcclxuaW1wb3J0IGFwcGxpY2F0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvYXBwbGljYXRpb25vZmZsaW5lL2FwcGxpY2F0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uQWN0aW9uQ3JlYXRvciA9IHJlcXVpcmUoJy4uLy4uLy4uL2FjdGlvbnMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uYWN0aW9uY3JlYXRvcicpO1xyXG5pbXBvcnQgbWFya1NjaGVtZVN0cnVjdHVyZUFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL21hcmtzY2hlbWVzdHJ1Y3R1cmUvbWFya3NjaGVtZXN0cnVjdHVyZWFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcbmltcG9ydCBpbWFnZVpvbmVBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vLi4vYWN0aW9ucy9pbWFnZXpvbmVzL2ltYWdlem9uZWFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHNjcmlwdEFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL3NjcmlwdC9zY3JpcHRhY3Rpb25jcmVhdG9yJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwc3RvcmUnKTtcclxuaW1wb3J0IGNhbmRpZGF0ZVNjcmlwdEluZm8gPSByZXF1aXJlKCcuLi8uLi8uLi9kYXRhc2VydmljZXMvc2NyaXB0L3R5cGluZ3MvY2FuZGlkYXRlc2NyaXB0aW5mbycpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9lY291cnNld29yay9lY291cnNld29ya2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IFByb21pc2UgPSByZXF1aXJlKCdlczYtcHJvbWlzZScpO1xyXG5pbXBvcnQgcmVzcG9uc2VIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3Jlc3BvbnNlaGVscGVyL3Jlc3BvbnNlaGVscGVyJyk7XHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiByZXNwb25zZSBpZCBjb2x1bW5cclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcbiAgICBkaXNwbGF5SWQ/OiBzdHJpbmc7XHJcbiAgICBkaXNwbGF5VGV4dD86IHN0cmluZztcclxuICAgIGlzQ2xpY2thYmxlPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudCBjbGFzcyBmb3IgU2NyaXB0IGlkXHJcbiAqL1xyXG5jbGFzcyBTY3JpcHRJZEdyaWRFbGVtZW50IGV4dGVuZHMgcHVyZVJlbmRlckNvbXBvbmVudDxQcm9wcywgYW55PiB7XHJcbiAgICBwcml2YXRlIGFjdHVhbERpc3BsYXlJZDogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3IgZm9yIFNjcmlwdElkR3JpZEVsZW1lbnRcclxuICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcywgc3RhdGU6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGxldCB0aXRsZSA9IHN0cmluZ0hlbHBlci5mb3JtYXQoXHJcbiAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoXHJcbiAgICAgICAgICAgICAgICAnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnN0YW5kYXJkaXNhdGlvbi1zZXR1cC13b3JrbGlzdC5yZXNwb25zZS1kYXRhLnNjcmlwdC1pZC10b29sdGlwJ1xyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRpc3BsYXlUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgPyBTdHJpbmcodGhpcy5wcm9wcy5kaXNwbGF5VGV4dClcclxuICAgICAgICAgICAgICAgICAgICA6IFN0cmluZyh0aGlzLnByb3BzLmRpc3BsYXlJZClcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCBkaXNwbGF5Q29udGVudDogc3RyaW5nO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRpc3BsYXlUZXh0KSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXlDb250ZW50ID0gJzEnICsgU3RyaW5nKHRoaXMucHJvcHMuZGlzcGxheVRleHQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRpc3BsYXlDb250ZW50ID0gJzEnICsgU3RyaW5nKHRoaXMucHJvcHMuZGlzcGxheUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKSdcclxuICAgICAgICAgICAgICAgIGlkPXsnc2NyaXB0XycgKyB0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAga2V5PXsncmVzX2tleV8nICsgdGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aXRsZX1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU2NyaXB0Q2xpY2suYmluZCh0aGlzLCB0aGlzLnByb3BzLmRpc3BsYXlJZCl9PlxyXG4gICAgICAgICAgICAgICAge2Rpc3BsYXlDb250ZW50fVxyXG4gICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCBpbml0aWF0ZSBvcGVuIHJlc3BvbnNlIGFjdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGhhbmRsZVNjcmlwdENsaWNrID0gKGNhbmRpZGF0ZVNjcmlwdElkOiBzdHJpbmcpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHNlbGVjdGVkU2NyaXB0RGV0YWlsczogU3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlscyA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZmV0Y2hTZWxlY3RlZFNjcmlwdERldGFpbHMoXHJcbiAgICAgICAgICAgIHBhcnNlSW50KGNhbmRpZGF0ZVNjcmlwdElkKVxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBJbmRpY2F0ZXMgd2hldGhlciBzY3JpcHQgYXZhaWxhYmxlIHRvIG1hcmsgYXMgcHJvdmlzaW9uYWxcclxuXHRcdGxldCBpc0F2YWlsYWJsZSA9IHNlbGVjdGVkU2NyaXB0RGV0YWlscyA/ICghc2VsZWN0ZWRTY3JpcHREZXRhaWxzLmlzQWxsb2NhdGVkQUxpdmUgJiZcclxuXHRcdFx0IXNlbGVjdGVkU2NyaXB0RGV0YWlscy5pc1VzZWRGb3JQcm92aXNpb25hbE1hcmtpbmcpIDogZmFsc2U7XHJcblxyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3Iub3BlblN0YW5kYXJkaXNhdGlvbkNlbnRyZVNjcmlwdChcclxuICAgICAgICAgICAgcGFyc2VJbnQoY2FuZGlkYXRlU2NyaXB0SWQpLFxyXG4gICAgICAgICAgICBpc0F2YWlsYWJsZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChlQ291cnNld29ya0hlbHBlci5pc0VDb3Vyc2V3b3JrQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGVDb3Vyc2V3b3JrSGVscGVyLmZldGNoRUNvdXJzZVdvcmtDYW5kaWRhdGVTY3JpcHRNZXRhZGF0YShcclxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGNhbmRpZGF0ZVNjcmlwdElkKSxcclxuICAgICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW1hZ2Vab25lQWN0aW9uQ3JlYXRvci5nZXRJbWFnZXpvbmVMaXN0KFxyXG4gICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5xdWVzdGlvblBhcGVyUGFydElkLCAvLyBRdWVzdGlvblBhcGVySWRcclxuICAgICAgICAgICAgcWlnU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRRSUdGb3JNYXJrZXJPcGVyYXRpb24ubWFya1NjaGVtZUdyb3VwSWQsIC8vIE1hcmtTY2hlbWVHcm91cElkXHJcbiAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtpbmdNZXRob2QsXHJcbiAgICAgICAgICAgIHRydWVcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXNwb25zZUhlbHBlci5vcGVuUmVzcG9uc2UoXHJcbiAgICAgICAgICAgIHBhcnNlSW50KGNhbmRpZGF0ZVNjcmlwdElkKSwgLy8gQ2FuZGlkYXRlU2NyaXB0SWRcclxuICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VOYXZpZ2F0aW9uLnNwZWNpZmljLFxyXG4gICAgICAgICAgICBlbnVtcy5SZXNwb25zZU1vZGUuY2xvc2VkLFxyXG4gICAgICAgICAgICAwLCAvLyBQYXNzaW5nIE1hcmtHcm91cElkIGFzIDAsIHNpbmNlIHdlIGRvbnQgaGF2ZSBtYXJrR3JvdXBJZCBmb3IgdGhlIG5vbi1wcm92aXNpb25hbCByZXNwb25zZS5cclxuICAgICAgICAgICAgZW51bXMuUmVzcG9uc2VWaWV3TW9kZS56b25lVmlld1xyXG4gICAgICAgICk7IC8vIERlZmF1bHQgdmlldyBtb2RlIGlzIFpvbmUgVmlldywgZXZlbiBpZiB0aGUgcmVzcG9uc2UgaGFzIHVubWFuYWdlZCBTTEFPJ3MuXHJcblxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0ID0gU2NyaXB0SWRHcmlkRWxlbWVudDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9zY3JpcHRpZGdyaWRlbGVtZW50LnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFJQTtBQVdBOztBQUVBO0FBQ0E7QUFBQTtBQUdBOzs7O0FBSUE7QUFDQTtBQUFBO0FBcUNBOztBQUVBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUtBO0FBRUE7QUFFQTtBQUNBO0FBSUE7QUFFQTtBQUdBO0FBR0E7O0FBNUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUE0Q0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 404:
/* no static exports found */
/* all exports used */
/*!********************************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/scriptstatusgridelement.tsx ***!
  \********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * React component class for Script Status\r\n */\r\nvar ScriptStatusGridElement = /** @class */ (function (_super) {\r\n    __extends(ScriptStatusGridElement, _super);\r\n    /**\r\n     * Constructor for Script Status\r\n     * @param props Props\r\n     * @param state State\r\n     */\r\n    function ScriptStatusGridElement(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        _this.classNameText = '';\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    ScriptStatusGridElement.prototype.render = function () {\r\n        var parentClass = '';\r\n        var isAvailable = (!this.props.isAllocatedALive\r\n            && !this.props.isUsedForProvisionalMarking);\r\n        var available = (isAvailable) ? localeStore.instance.\r\n            TranslateText('standardisation-setup.right-container.available-status') : localeStore.instance.\r\n            TranslateText('standardisation-setup.right-container.not-available-status');\r\n        if (isAvailable) {\r\n            this.classNameText = 'sprite-icon success-small-icon text-middle';\r\n            parentClass = 'success';\r\n        }\r\n        else {\r\n            this.classNameText = 'sprite-icon not-small-black-icon text-middle';\r\n        }\r\n        return (React.createElement(\"span\", { className: parentClass, id: 'status_' + this.props.id },\r\n            React.createElement(\"span\", { className: this.classNameText }),\r\n            React.createElement(\"span\", { className: 'small-text padding-left-5' }, available)));\r\n    };\r\n    return ScriptStatusGridElement;\r\n}(pureRenderComponent));\r\nmodule.exports = ScriptStatusGridElement;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3NjcmlwdHN0YXR1c2dyaWRlbGVtZW50LnRzeD9hNmJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi8uLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG5pbXBvcnQgc3RyaW5nSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbGl0eS9nZW5lcmljL3N0cmluZ2hlbHBlcicpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvblN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbnN0b3JlJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi9hY3Rpb25zL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5cclxuLyoqXHJcbiAqIFByb3BlcnRpZXMgb2YgU2NyaXB0IFN0YXR1cyBjb2x1bW5cclxuICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIExvY2FsZVNlbGVjdGlvbkJhc2UsIFByb3BzQmFzZSB7XHJcblx0aXNBbGxvY2F0ZWRBTGl2ZTogYm9vbGVhbjtcclxuXHRpc1VzZWRGb3JQcm92aXNpb25hbE1hcmtpbmc6IGJvb2xlYW47XHJcbn1cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudCBjbGFzcyBmb3IgU2NyaXB0IFN0YXR1c1xyXG4gKi9cclxuY2xhc3MgU2NyaXB0U3RhdHVzR3JpZEVsZW1lbnQgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBhbnk+e1xyXG5cdHByaXZhdGUgY2xhc3NOYW1lVGV4dDogc3RyaW5nID0gJyc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbnN0cnVjdG9yIGZvciBTY3JpcHQgU3RhdHVzXHJcblx0ICogQHBhcmFtIHByb3BzIFByb3BzXHJcblx0ICogQHBhcmFtIHN0YXRlIFN0YXRlXHJcblx0ICovXHJcblx0Y29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogYW55KSB7XHJcblx0XHRzdXBlcihwcm9wcywgc3RhdGUpO1xyXG5cdH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBjb21wb25lbnRcclxuICAgICAqL1xyXG5cdHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG5cdFx0bGV0IHBhcmVudENsYXNzOiBzdHJpbmcgPSAnJztcclxuXHJcblx0XHRsZXQgaXNBdmFpbGFibGU6IGJvb2xlYW4gPSAoIXRoaXMucHJvcHMuaXNBbGxvY2F0ZWRBTGl2ZVxyXG5cdFx0XHQmJiAhdGhpcy5wcm9wcy5pc1VzZWRGb3JQcm92aXNpb25hbE1hcmtpbmcpO1xyXG5cclxuXHRcdGxldCBhdmFpbGFibGU6IHN0cmluZyA9IChpc0F2YWlsYWJsZSkgPyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuXHRcdFx0VHJhbnNsYXRlVGV4dCgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnJpZ2h0LWNvbnRhaW5lci5hdmFpbGFibGUtc3RhdHVzJykgOiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5cclxuXHRcdFx0XHRUcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAucmlnaHQtY29udGFpbmVyLm5vdC1hdmFpbGFibGUtc3RhdHVzJyk7XHJcblxyXG5cdFx0aWYgKGlzQXZhaWxhYmxlKSB7XHJcblx0XHRcdHRoaXMuY2xhc3NOYW1lVGV4dCA9ICdzcHJpdGUtaWNvbiBzdWNjZXNzLXNtYWxsLWljb24gdGV4dC1taWRkbGUnO1xyXG5cdFx0XHRwYXJlbnRDbGFzcyA9ICdzdWNjZXNzJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuY2xhc3NOYW1lVGV4dCA9ICdzcHJpdGUtaWNvbiBub3Qtc21hbGwtYmxhY2staWNvbiB0ZXh0LW1pZGRsZSc7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0PHNwYW4gY2xhc3NOYW1lPXtwYXJlbnRDbGFzc30gaWQ9eydzdGF0dXNfJyArIHRoaXMucHJvcHMuaWR9PlxyXG5cdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT17dGhpcy5jbGFzc05hbWVUZXh0fT48L3NwYW4+XHJcblx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSdzbWFsbC10ZXh0IHBhZGRpbmctbGVmdC01Jz57YXZhaWxhYmxlfTwvc3Bhbj5cclxuXHRcdFx0PC9zcGFuPlxyXG5cdFx0KTtcclxuXHR9XHJcbn1cclxuZXhwb3J0ID0gU2NyaXB0U3RhdHVzR3JpZEVsZW1lbnQ7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9zY3JpcHRzdGF0dXNncmlkZWxlbWVudC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBOztBQUVBO0FBQ0E7QUFBQTtBQUdBOzs7O0FBSUE7QUFDQTtBQUFBO0FBUEE7O0FBU0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 405:
/* no static exports found */
/* all exports used */
/*!********************************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/sharedresponseindicator.tsx ***!
  \********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar PureRenderComponent = __webpack_require__(/*! ../../base/purerendercomponent */ 227);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\nvar SharedResponseIndicator = /** @class */ (function (_super) {\r\n    __extends(SharedResponseIndicator, _super);\r\n    /**\r\n     * Constructor for Accuracy indicator\r\n     * @param props\r\n     */\r\n    function SharedResponseIndicator(props) {\r\n        return _super.call(this, props, null) || this;\r\n    }\r\n    /**\r\n     * Render component\r\n     */\r\n    SharedResponseIndicator.prototype.render = function () {\r\n        if (this.props.isSharedProvisional) {\r\n            var toolTip = localeStore.instance.TranslateText('standardisation-setup.shared-response-indicator-tooltip.content');\r\n            var accuracy = (React.createElement(\"div\", { className: 'wl-share' },\r\n                React.createElement(\"span\", { title: toolTip, className: 'sprite-icon share-icon' }, \"Share\")));\r\n            return (accuracy);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    return SharedResponseIndicator;\r\n}(PureRenderComponent));\r\nmodule.exports = SharedResponseIndicator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3NoYXJlZHJlc3BvbnNlaW5kaWNhdG9yLnRzeD9jNDMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5pbXBvcnQgUHVyZVJlbmRlckNvbXBvbmVudCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2UvcHVyZXJlbmRlcmNvbXBvbmVudCcpO1xuaW1wb3J0IGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xuXG4vKipcbiAqIFByb3BlcnRpZXMgb2YgY29tcG9uZW50LlxuICogQHBhcmFtIHtQcm9wc30gcHJvcHNcbiAqL1xuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgTG9jYWxlU2VsZWN0aW9uQmFzZSwgUHJvcHNCYXNlIHtcbiAgICBpc1NoYXJlZFByb3Zpc2lvbmFsOiBib29sZWFuO1xufVxuXG5jbGFzcyBTaGFyZWRSZXNwb25zZUluZGljYXRvciBleHRlbmRzIFB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3IgZm9yIEFjY3VyYWN5IGluZGljYXRvclxuICAgICAqIEBwYXJhbSBwcm9wc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcywgbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxuICAgICAqL1xuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzU2hhcmVkUHJvdmlzaW9uYWwpIHtcbiAgICAgICAgICAgIGxldCB0b29sVGlwOiBzdHJpbmcgPSBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdzdGFuZGFyZGlzYXRpb24tc2V0dXAuc2hhcmVkLXJlc3BvbnNlLWluZGljYXRvci10b29sdGlwLmNvbnRlbnQnKTtcbiAgICAgICAgICAgIGxldCBhY2N1cmFjeTogSlNYLkVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICg8ZGl2IGNsYXNzTmFtZT0nd2wtc2hhcmUnPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT17dG9vbFRpcH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc3ByaXRlLWljb24gc2hhcmUtaWNvbic+U2hhcmVcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2Pik7XG4gICAgICAgICAgICByZXR1cm4gKGFjY3VyYWN5KTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgPSBTaGFyZWRSZXNwb25zZUluZGljYXRvcjtcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9zaGFyZWRyZXNwb25zZWluZGljYXRvci50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBVUE7QUFBQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 406:
/* no static exports found */
/* all exports used */
/*!**********************************************************************************!*\
  !*** ./src/components/standardisationsetup/shared/standardisationresponseid.tsx ***!
  \**********************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar ResponseIdGridElement = __webpack_require__(/*! ../../worklist/shared/responseidgridelement */ 370);\r\n/**\r\n * Stateless component for Note column in Classification Grid\r\n * @param props\r\n */\r\nvar stdResponseId = function (props) {\r\n    return (React.createElement(\"div\", { className: 'col wl-id' },\r\n        React.createElement(\"div\", { className: 'col-inner' },\r\n            React.createElement(ResponseIdGridElement, { selectedLanguage: props.selectedLanguage, displayId: props.displayId, isClickable: props.isResponseIdClickable, id: props.id, key: 'key_response_id_grid_element_' + props.id, isTileView: false, isReusableResponseView: props.isReusableResponseView ? props.isReusableResponseView : false, candidateScriptId: props.candidateScriptId ? props.candidateScriptId : '' }))));\r\n};\r\nmodule.exports = stdResponseId;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3N0YW5kYXJkaXNhdGlvbnJlc3BvbnNlaWQudHN4P2RhMmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IFJlc3BvbnNlSWRHcmlkRWxlbWVudCA9IHJlcXVpcmUoJy4uLy4uL3dvcmtsaXN0L3NoYXJlZC9yZXNwb25zZWlkZ3JpZGVsZW1lbnQnKTtcclxuXHJcbmludGVyZmFjZSBTdGRSZXNwb25zZUlkUHJvcHMgZXh0ZW5kcyBQcm9wc0Jhc2Uge1xyXG4gICAgZGlzcGxheUlkOiBzdHJpbmc7XHJcbiAgICBpc1Jlc3BvbnNlSWRDbGlja2FibGU6IGJvb2xlYW47XHJcbiAgICBzZWxlY3RlZExhbmd1YWdlOiBzdHJpbmc7XHJcbiAgICBpc1JldXNhYmxlUmVzcG9uc2VWaWV3PzogYm9vbGVhbjtcclxuICAgIGNhbmRpZGF0ZVNjcmlwdElkPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogU3RhdGVsZXNzIGNvbXBvbmVudCBmb3IgTm90ZSBjb2x1bW4gaW4gQ2xhc3NpZmljYXRpb24gR3JpZFxyXG4gKiBAcGFyYW0gcHJvcHNcclxuICovXHJcbmNvbnN0IHN0ZFJlc3BvbnNlSWQ6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxTdGRSZXNwb25zZUlkUHJvcHM+ID0gKHByb3BzOiBTdGRSZXNwb25zZUlkUHJvcHMpID0+IHtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wgd2wtaWQnPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLWlubmVyJz5cclxuICAgICAgICAgICAgICAgIDxSZXNwb25zZUlkR3JpZEVsZW1lbnQgc2VsZWN0ZWRMYW5ndWFnZT17cHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5SWQ9e3Byb3BzLmRpc3BsYXlJZH0gaXNDbGlja2FibGU9e3Byb3BzLmlzUmVzcG9uc2VJZENsaWNrYWJsZX1cclxuICAgICAgICAgICAgICAgICAgICBpZD17cHJvcHMuaWR9IGtleT17J2tleV9yZXNwb25zZV9pZF9ncmlkX2VsZW1lbnRfJyArIHByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzVGlsZVZpZXc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzUmV1c2FibGVSZXNwb25zZVZpZXc9e3Byb3BzLmlzUmV1c2FibGVSZXNwb25zZVZpZXcgPyBwcm9wcy5pc1JldXNhYmxlUmVzcG9uc2VWaWV3IDogZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlU2NyaXB0SWQ9e3Byb3BzLmNhbmRpZGF0ZVNjcmlwdElkID8gcHJvcHMuY2FuZGlkYXRlU2NyaXB0SWQgOiAnJ30vPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHQpO1xyXG59O1xyXG5leHBvcnQgPSBzdGRSZXNwb25zZUlkO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvc3RhbmRhcmRpc2F0aW9ucmVzcG9uc2VpZC50c3giXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBVUE7OztBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFTQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 407:
/* no static exports found */
/* all exports used */
/*!***************************************************************!*\
  !*** ./src/components/teammanagement/warningmessagepopup.tsx ***!
  \***************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar GenericDialog = __webpack_require__(/*! ../utility/genericdialog */ 317);\r\nvar warningMessagePopupHelper = __webpack_require__(/*! ../../utility/teammanagement/helpers/warningmessagepopuphelper */ 419);\r\nvar warningMessageStore = __webpack_require__(/*! ../../stores/teammanagement/warningmessagestore */ 327);\r\nvar teamManagementActionCreator = __webpack_require__(/*! ../../actions/teammanagement/teammanagementactioncreator */ 263);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * WarningMessagePopup contain message content and ok button.\r\n * @param props\r\n * @param state\r\n */\r\nvar WarningMessagePopup = /** @class */ (function (_super) {\r\n    __extends(WarningMessagePopup, _super);\r\n    /**\r\n     * Constructor WarningMessagePopup\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function WarningMessagePopup(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        /**\r\n         * Method to handle the warning message actions.\r\n         */\r\n        _this.handleWarningMessageActions = function (failureCode, warningMessageAction, args) {\r\n            _this.failureCode = failureCode;\r\n            _this.warningMessageAction = warningMessageAction;\r\n            _this._warningMessagePopupHelper.bindWarningMessagePopupContent(failureCode);\r\n            _this.setState({ doShowWarningPopup: true });\r\n        };\r\n        // Set the default states\r\n        _this.state = {\r\n            doShowWarningPopup: false\r\n        };\r\n        _this._warningMessagePopupHelper = new warningMessagePopupHelper();\r\n        _this.onOkButtonClick = _this.onOkButtonClick.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render component\r\n     * @returns\r\n     */\r\n    WarningMessagePopup.prototype.render = function () {\r\n        var genericWarningPopup = this.state.doShowWarningPopup ? (React.createElement(GenericDialog, { content: this._warningMessagePopupHelper.warningPopupContent, header: this._warningMessagePopupHelper.warningPopupTitle, displayPopup: this.state.doShowWarningPopup, okButtonText: this.props.buttonText, onOkClick: this.onOkButtonClick, id: this.props.id, key: this.props.id, popupDialogType: enums.PopupDialogType.none })) : null;\r\n        return (React.createElement(\"div\", null, genericWarningPopup));\r\n    };\r\n    /**\r\n     * Component did mount\r\n     */\r\n    WarningMessagePopup.prototype.componentDidMount = function () {\r\n        this.addEventListeners();\r\n    };\r\n    /**\r\n     * Component will unmount\r\n     */\r\n    WarningMessagePopup.prototype.componentWillUnmount = function () {\r\n        this.removeEventListeners();\r\n    };\r\n    /**\r\n     * Add all event listeners for warning message.\r\n     */\r\n    WarningMessagePopup.prototype.addEventListeners = function () {\r\n        warningMessageStore.instance.addListener(warningMessageStore.WarningMessageStore.WARNING_MESSAGE_EVENT, this.handleWarningMessageActions);\r\n    };\r\n    /**\r\n     * Remove all event listeners for warning message.\r\n     */\r\n    WarningMessagePopup.prototype.removeEventListeners = function () {\r\n        warningMessageStore.instance.removeListener(warningMessageStore.WarningMessageStore.WARNING_MESSAGE_EVENT, this.handleWarningMessageActions);\r\n    };\r\n    /**\r\n     * Ok button click event to handle the failure action navigation.\r\n     */\r\n    WarningMessagePopup.prototype.onOkButtonClick = function () {\r\n        if (this.failureCode === enums.FailureCode.Withdrawn) {\r\n            if (qigStore.instance.selectedQIGForMarkerOperation) {\r\n                teamManagementActionCreator.removeHistoryItem(qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId);\r\n            }\r\n        }\r\n        teamManagementActionCreator.warningMessageNavigation(this.failureCode, this.warningMessageAction);\r\n        this.setState({ doShowWarningPopup: false });\r\n    };\r\n    return WarningMessagePopup;\r\n}(pureRenderComponent));\r\nmodule.exports = WarningMessagePopup;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdGVhbW1hbmFnZW1lbnQvd2FybmluZ21lc3NhZ2Vwb3B1cC50c3g/Zjk2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBwdXJlUmVuZGVyQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9wdXJlcmVuZGVyY29tcG9uZW50Jyk7XHJcbmltcG9ydCBHZW5lcmljRGlhbG9nID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9nZW5lcmljZGlhbG9nJyk7XHJcbmltcG9ydCB3YXJuaW5nTWVzc2FnZVBvcHVwSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS90ZWFtbWFuYWdlbWVudC9oZWxwZXJzL3dhcm5pbmdtZXNzYWdlcG9wdXBoZWxwZXInKTtcclxuaW1wb3J0IHdhcm5pbmdNZXNzYWdlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvdGVhbW1hbmFnZW1lbnQvd2FybmluZ21lc3NhZ2VzdG9yZScpO1xyXG5pbXBvcnQgdGVhbU1hbmFnZW1lbnRBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy90ZWFtbWFuYWdlbWVudC90ZWFtbWFuYWdlbWVudGFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgYnV0dG9uVGV4dDogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU3RhdGUge1xyXG4gICAgZG9TaG93V2FybmluZ1BvcHVwPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFdhcm5pbmdNZXNzYWdlUG9wdXAgY29udGFpbiBtZXNzYWdlIGNvbnRlbnQgYW5kIG9rIGJ1dHRvbi5cclxuICogQHBhcmFtIHByb3BzXHJcbiAqIEBwYXJhbSBzdGF0ZVxyXG4gKi9cclxuY2xhc3MgV2FybmluZ01lc3NhZ2VQb3B1cCBleHRlbmRzIHB1cmVSZW5kZXJDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XHJcblxyXG4gICAgLy9XYXJuaW5nIG1lc3NhZ2UgcG9wdXAgaGVscGVyXHJcbiAgICBwcml2YXRlIF93YXJuaW5nTWVzc2FnZVBvcHVwSGVscGVyOiB3YXJuaW5nTWVzc2FnZVBvcHVwSGVscGVyO1xyXG5cclxuICAgIC8vRmFpbHVyZSBjb2RlXHJcbiAgICBwcml2YXRlIGZhaWx1cmVDb2RlOiBlbnVtcy5GYWlsdXJlQ29kZTtcclxuXHJcbiAgICAvL1dhcm5pZyBtZXNzYWdlIGFjdGlvblxyXG4gICAgcHJpdmF0ZSB3YXJuaW5nTWVzc2FnZUFjdGlvbjogZW51bXMuV2FybmluZ01lc3NhZ2VBY3Rpb247XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciBXYXJuaW5nTWVzc2FnZVBvcHVwXHJcbiAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIHN0YXRlOiBTdGF0ZSkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgZGVmYXVsdCBzdGF0ZXNcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBkb1Nob3dXYXJuaW5nUG9wdXA6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5fd2FybmluZ01lc3NhZ2VQb3B1cEhlbHBlciA9IG5ldyB3YXJuaW5nTWVzc2FnZVBvcHVwSGVscGVyKCk7XHJcbiAgICAgICAgdGhpcy5vbk9rQnV0dG9uQ2xpY2sgPSB0aGlzLm9uT2tCdXR0b25DbGljay5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIGNvbXBvbmVudFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IGdlbmVyaWNXYXJuaW5nUG9wdXAgPSB0aGlzLnN0YXRlLmRvU2hvd1dhcm5pbmdQb3B1cCA/IChcclxuICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e3RoaXMuX3dhcm5pbmdNZXNzYWdlUG9wdXBIZWxwZXIud2FybmluZ1BvcHVwQ29udGVudH1cclxuICAgICAgICAgICAgICAgIGhlYWRlcj17dGhpcy5fd2FybmluZ01lc3NhZ2VQb3B1cEhlbHBlci53YXJuaW5nUG9wdXBUaXRsZX1cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5kb1Nob3dXYXJuaW5nUG9wdXB9XHJcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ9e3RoaXMucHJvcHMuYnV0dG9uVGV4dCB9XHJcbiAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25Pa0J1dHRvbkNsaWNrfVxyXG4gICAgICAgICAgICAgICAgaWQ9IHt0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAga2V5PXt0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAgICAgcG9wdXBEaWFsb2dUeXBlPXtlbnVtcy5Qb3B1cERpYWxvZ1R5cGUubm9uZX0gLz5cclxuICAgICAgICApIDogbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuICg8ZGl2PlxyXG4gICAgICAgICAgICB7Z2VuZXJpY1dhcm5pbmdQb3B1cH1cclxuICAgICAgICA8L2Rpdj4pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcG9uZW50IGRpZCBtb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcG9uZW50IHdpbGwgdW5tb3VudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGFsbCBldmVudCBsaXN0ZW5lcnMgZm9yIHdhcm5pbmcgbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhZGRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB3YXJuaW5nTWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKFxyXG4gICAgICAgICAgICB3YXJuaW5nTWVzc2FnZVN0b3JlLldhcm5pbmdNZXNzYWdlU3RvcmUuV0FSTklOR19NRVNTQUdFX0VWRU5ULCB0aGlzLmhhbmRsZVdhcm5pbmdNZXNzYWdlQWN0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYWxsIGV2ZW50IGxpc3RlbmVycyBmb3Igd2FybmluZyBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHdhcm5pbmdNZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoXHJcbiAgICAgICAgICAgIHdhcm5pbmdNZXNzYWdlU3RvcmUuV2FybmluZ01lc3NhZ2VTdG9yZS5XQVJOSU5HX01FU1NBR0VfRVZFTlQsIHRoaXMuaGFuZGxlV2FybmluZ01lc3NhZ2VBY3Rpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBoYW5kbGUgdGhlIHdhcm5pbmcgbWVzc2FnZSBhY3Rpb25zLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGhhbmRsZVdhcm5pbmdNZXNzYWdlQWN0aW9ucyA9IChmYWlsdXJlQ29kZTogZW51bXMuRmFpbHVyZUNvZGUsXHJcbiAgICAgICAgd2FybmluZ01lc3NhZ2VBY3Rpb246IGVudW1zLldhcm5pbmdNZXNzYWdlQWN0aW9uLCBhcmdzPzogYW55KTogdm9pZCA9PiB7XHJcblxyXG4gICAgICAgIHRoaXMuZmFpbHVyZUNvZGUgPSBmYWlsdXJlQ29kZTtcclxuICAgICAgICB0aGlzLndhcm5pbmdNZXNzYWdlQWN0aW9uID0gd2FybmluZ01lc3NhZ2VBY3Rpb247XHJcbiAgICAgICAgdGhpcy5fd2FybmluZ01lc3NhZ2VQb3B1cEhlbHBlci5iaW5kV2FybmluZ01lc3NhZ2VQb3B1cENvbnRlbnQoZmFpbHVyZUNvZGUpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93V2FybmluZ1BvcHVwOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT2sgYnV0dG9uIGNsaWNrIGV2ZW50IHRvIGhhbmRsZSB0aGUgZmFpbHVyZSBhY3Rpb24gbmF2aWdhdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk9rQnV0dG9uQ2xpY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmFpbHVyZUNvZGUgPT09IGVudW1zLkZhaWx1cmVDb2RlLldpdGhkcmF3bil7XHJcbiAgICAgICAgICAgIGlmIChxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbikge1xyXG5cdFx0XHRcdHRlYW1NYW5hZ2VtZW50QWN0aW9uQ3JlYXRvci5yZW1vdmVIaXN0b3J5SXRlbShcclxuXHRcdFx0XHRcdHFpZ1N0b3JlLmluc3RhbmNlLnNlbGVjdGVkUUlHRm9yTWFya2VyT3BlcmF0aW9uLm1hcmtTY2hlbWVHcm91cElkXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG4gICAgICAgIH1cclxuICAgICAgICB0ZWFtTWFuYWdlbWVudEFjdGlvbkNyZWF0b3Iud2FybmluZ01lc3NhZ2VOYXZpZ2F0aW9uKFxyXG4gICAgICAgICAgICB0aGlzLmZhaWx1cmVDb2RlLCB0aGlzLndhcm5pbmdNZXNzYWdlQWN0aW9uKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZG9TaG93V2FybmluZ1BvcHVwOiBmYWxzZSB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gV2FybmluZ01lc3NhZ2VQb3B1cDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdGVhbW1hbmFnZW1lbnQvd2FybmluZ21lc3NhZ2Vwb3B1cC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBOzs7O0FBSUE7QUFDQTtBQUFBO0FBV0E7Ozs7QUFJQTtBQUNBO0FBQUE7QUFnRUE7O0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUF4RUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQVlBO0FBR0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQWVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 409:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/components/utility/genericcheckboxitems.ts ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Check Box Items\r\n */\r\nvar GenericCheckBoxItems = /** @class */ (function () {\r\n    function GenericCheckBoxItems() {\r\n    }\r\n    return GenericCheckBoxItems;\r\n}());\r\nmodule.exports = GenericCheckBoxItems;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9nZW5lcmljY2hlY2tib3hpdGVtcy50cz9hMTdhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDaGVjayBCb3ggSXRlbXNcclxuICovXHJcbmNsYXNzIEdlbmVyaWNDaGVja0JveEl0ZW1zIHtcclxuXHRwdWJsaWMgbGFiZWxDb250ZW50OiBzdHJpbmc7XHJcblx0cHVibGljIGlkOiBudW1iZXI7XHJcblx0cHVibGljIGlzQ2hlY2tlZDogYm9vbGVhbjtcclxuXHRwdWJsaWMgZGlzYWJsZWQ6IGJvb2xlYW47XHJcblx0cHVibGljIGNsYXNzTmFtZT86IHN0cmluZztcclxuXHRwdWJsaWMgbGFiZWxDbGFzc05hbWU/OiBzdHJpbmc7XHJcblx0cHVibGljIGNvbnRhaW5lckNsYXNzTmFtZT86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0ID0gR2VuZXJpY0NoZWNrQm94SXRlbXM7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ2VuZXJpY2NoZWNrYm94aXRlbXMudHMiXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQUE7QUFRQTtBQUFBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 410:
/* no static exports found */
/* all exports used */
/*!***************************************************************!*\
  !*** ./src/components/utility/genericpopupwithcheckboxes.tsx ***!
  \***************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar _this = this;\r\n/*\r\n  React component for Generic button.\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar GenericCheckbox = __webpack_require__(/*! ../utility/genericcheckbox */ 361);\r\n/**\r\n * React component class for Generic popup with check boxes implementation.\r\n */\r\nvar genericPopupWithCheckBoxes = function (props) {\r\n    var that = _this;\r\n    var toRender = (React.createElement(\"div\", { id: props.id, key: 'key_checkbox_genericpopup', className: props.className }, props.items && props.items.map(function (item) {\r\n        return React.createElement(GenericCheckbox, { id: 'checkbox_genericpopup_' + item.id, key: 'checkbox_genericpopup_key' + item.id, containerClassName: item.containerClassName, className: item.className, disabled: item.disabled, isChecked: item.isChecked, labelClassName: item.labelClassName, labelContent: item.labelContent, onSelectionChange: props.onChecked.bind(that, item) });\r\n    })));\r\n    return toRender;\r\n};\r\nmodule.exports = genericPopupWithCheckBoxes;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9nZW5lcmljcG9wdXB3aXRoY2hlY2tib3hlcy50c3g/ZTc4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gIFJlYWN0IGNvbXBvbmVudCBmb3IgR2VuZXJpYyBidXR0b24uXHJcbiovXHJcbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5pbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IGdlbmVyaWNDaGVja0JveEl0ZW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9nZW5lcmljY2hlY2tib3hpdGVtcycpO1xyXG5pbXBvcnQgR2VuZXJpY0NoZWNrYm94ID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9nZW5lcmljY2hlY2tib3gnKTtcclxuXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG5cdGNsYXNzTmFtZT86IHN0cmluZztcclxuXHRvbkNoZWNrZWQ/OiBGdW5jdGlvbjtcclxuXHRpdGVtcz86IEFycmF5PGdlbmVyaWNDaGVja0JveEl0ZW1zPjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlYWN0IGNvbXBvbmVudCBjbGFzcyBmb3IgR2VuZXJpYyBwb3B1cCB3aXRoIGNoZWNrIGJveGVzIGltcGxlbWVudGF0aW9uLlxyXG4gKi9cclxuY29uc3QgZ2VuZXJpY1BvcHVwV2l0aENoZWNrQm94ZXM6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxQcm9wcz4gPSAocHJvcHM6IFByb3BzKSA9PiB7XHJcblx0bGV0IHRoYXQgPSB0aGlzO1xyXG5cdGxldCB0b1JlbmRlciA9ICg8ZGl2IGlkPXtwcm9wcy5pZH0ga2V5PSdrZXlfY2hlY2tib3hfZ2VuZXJpY3BvcHVwJyBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gPlxyXG5cdFx0e1xyXG5cdFx0XHRwcm9wcy5pdGVtcyAmJiBwcm9wcy5pdGVtcy5tYXAoKGl0ZW06IGdlbmVyaWNDaGVja0JveEl0ZW1zKSA9PlxyXG5cdFx0XHRcdDxHZW5lcmljQ2hlY2tib3hcclxuXHRcdFx0XHRcdGlkPXsnY2hlY2tib3hfZ2VuZXJpY3BvcHVwXycgKyBpdGVtLmlkfVxyXG5cdFx0XHRcdFx0a2V5PXsnY2hlY2tib3hfZ2VuZXJpY3BvcHVwX2tleScgKyBpdGVtLmlkfVxyXG5cdFx0XHRcdFx0Y29udGFpbmVyQ2xhc3NOYW1lPXtpdGVtLmNvbnRhaW5lckNsYXNzTmFtZX1cclxuXHRcdFx0XHRcdGNsYXNzTmFtZT17aXRlbS5jbGFzc05hbWV9XHJcblx0XHRcdFx0XHRkaXNhYmxlZD17aXRlbS5kaXNhYmxlZH1cclxuXHRcdFx0XHRcdGlzQ2hlY2tlZD17aXRlbS5pc0NoZWNrZWR9XHJcblx0XHRcdFx0XHRsYWJlbENsYXNzTmFtZT17aXRlbS5sYWJlbENsYXNzTmFtZX1cclxuXHRcdFx0XHRcdGxhYmVsQ29udGVudD17aXRlbS5sYWJlbENvbnRlbnR9XHJcblx0XHRcdFx0XHRvblNlbGVjdGlvbkNoYW5nZT17cHJvcHMub25DaGVja2VkLmJpbmQodGhhdCwgaXRlbSl9IC8+XHJcblx0XHRcdClcclxuXHRcdH1cclxuXHQ8L2Rpdj4pO1xyXG5cclxuXHRyZXR1cm4gdG9SZW5kZXI7XHJcbn07XHJcblxyXG5leHBvcnQgPSBnZW5lcmljUG9wdXBXaXRoQ2hlY2tCb3hlcztcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ2VuZXJpY3BvcHVwd2l0aGNoZWNrYm94ZXMudHN4Il0sIm1hcHBpbmdzIjoiO0FBSUE7QUFKQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQVNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQWNBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 411:
/* no static exports found */
/* all exports used */
/*!*************************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetuphelpers/classifiedhelper.ts ***!
  \*************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar jsonRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar standardisationSetupHelperBase = __webpack_require__(/*! ./standardisationsetuphelperbase */ 292);\r\nvar standardisationSetupGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/standardisationsetupgridcolumns.json */ 273);\r\n/**\r\n * Helper class for Classified grid view\r\n */\r\nvar ClassifiedHelper = /** @class */ (function (_super) {\r\n    __extends(ClassifiedHelper, _super);\r\n    function ClassifiedHelper() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        // Get the worklists that should be hide when the Standardisation Permission CC Configured.\r\n        _this._hiddenStdWorklists = standardisationSetupStore.instance.getHiddenWorklists();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Generate row definition for myTeam and Help other examiners tab\r\n     * @param classifedResponseData\r\n     * @param tabSelection\r\n     * @param gridType\r\n     */\r\n    ClassifiedHelper.prototype.generateStandardisationRowDefinion = function (comparerName, sortDirection, tabSelection, gridType) {\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = this.getRowDefinition(tabSelection, gridType);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Returns the row definition for classifed worklist\r\n     * @param tabSelection\r\n     * @param gridType\r\n     */\r\n    ClassifiedHelper.prototype.getRowDefinition = function (tabSelection, gridType) {\r\n        var index = 0;\r\n        var _classifiedRowCollection = Array();\r\n        var _classifiedRowHeaderCellcollection = Array();\r\n        var _classifiedResponseListData;\r\n        var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, tabSelection, false, gridType);\r\n        var _stdSetupResponseDetails = standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses;\r\n        var marksCount = Immutable.List(_stdSetupResponseDetails).count() > 0 && _stdSetupResponseDetails.first().standardisationMarks ?\r\n            Immutable.List(_stdSetupResponseDetails.first().standardisationMarks).count() : 0;\r\n        // 1. PRACTICE\r\n        // Add response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists &&\r\n                !this._hiddenStdWorklists.contains(enums.MarkingMode.Practice))) {\r\n            // Creating the grid row collection.\r\n            _classifiedRowCollection.push(this.getGridRow('2', this.getEmptyRows(gridColumns, marksCount, gridType), null, 'classify-items-row'));\r\n            // Sort Response based on  rig order.\r\n            _classifiedResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Practice);\r\n            // Check whether data exist, if not add empty row.\r\n            if (_classifiedResponseListData.count() > 0) {\r\n                _classifiedRowCollection =\r\n                    _classifiedRowCollection.concat(this.getRowData(_classifiedResponseListData, gridColumns, gridType, index, enums.StandardisationSetup.ClassifiedResponse));\r\n                index = index + _classifiedResponseListData.count();\r\n            }\r\n            else {\r\n                _classifiedRowCollection.push(this.getGridRow('2', this.getEmptyRows(gridColumns, marksCount, gridType), undefined, 'placeholder-row'));\r\n            }\r\n        }\r\n        // 2. APPROVAL\r\n        // Add response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists &&\r\n                !this._hiddenStdWorklists.contains(enums.MarkingMode.Approval))) {\r\n            // Creating the grid row collection.\r\n            _classifiedRowCollection.push(this.getGridRow('3', this.getEmptyRows(gridColumns, marksCount, gridType), null, 'classify-items-row'));\r\n            // Sort Response based on  rig order.\r\n            _classifiedResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Approval);\r\n            // Check whether data exist, if not add empty row.\r\n            if (_classifiedResponseListData.count() > 0) {\r\n                _classifiedRowCollection =\r\n                    _classifiedRowCollection.concat(this.getRowData(_classifiedResponseListData, gridColumns, gridType, index, enums.StandardisationSetup.ClassifiedResponse));\r\n                index = index + _classifiedResponseListData.count();\r\n            }\r\n            else {\r\n                _classifiedRowCollection.push(this.getGridRow('3', this.getEmptyRows(gridColumns, marksCount, gridType), undefined, 'placeholder-row'));\r\n            }\r\n        }\r\n        // 3. ES TEAM APPROVAL\r\n        // Add response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists &&\r\n                !this._hiddenStdWorklists.contains(enums.MarkingMode.ES_TeamApproval))) {\r\n            // Creating the grid row collection.\r\n            _classifiedRowCollection.push(this.getGridRow('4', this.getEmptyRows(gridColumns, marksCount, gridType), null, 'classify-items-row'));\r\n            // Sort Response based on  rig order.\r\n            _classifiedResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.ES_TeamApproval);\r\n            // Check whether data exist, if not add empty row.\r\n            if (_classifiedResponseListData.count() > 0) {\r\n                _classifiedRowCollection =\r\n                    _classifiedRowCollection.concat(this.getRowData(_classifiedResponseListData, gridColumns, gridType, index, enums.StandardisationSetup.ClassifiedResponse));\r\n                index = index + _classifiedResponseListData.count();\r\n            }\r\n            else {\r\n                _classifiedRowCollection.push(this.getGridRow('4', this.getEmptyRows(gridColumns, marksCount, gridType), undefined, 'placeholder-row'));\r\n            }\r\n        }\r\n        // 4. SEED\r\n        // Add response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists &&\r\n                !this._hiddenStdWorklists.contains(enums.MarkingMode.Seeding))) {\r\n            // Creating the grid row collection.\r\n            _classifiedRowCollection.push(this.getGridRow('70', this.getEmptyRows(gridColumns, marksCount, gridType), null, 'classify-items-row'));\r\n            // Sort Response based on  rig order.\r\n            _classifiedResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Seeding);\r\n            // Check whether data exist, if not add empty row.\r\n            if (_classifiedResponseListData.count() > 0) {\r\n                _classifiedRowCollection =\r\n                    _classifiedRowCollection.concat(this.getRowData(_classifiedResponseListData, gridColumns, gridType, index, enums.StandardisationSetup.ClassifiedResponse));\r\n                index = index + _classifiedResponseListData.count();\r\n            }\r\n            else {\r\n                _classifiedRowCollection.push(this.getGridRow('70', this.getEmptyRows(gridColumns, marksCount, gridType), undefined, 'placeholder-row'));\r\n            }\r\n        }\r\n        // Return the complete row collection.\r\n        this._classifiedListCollection = Immutable.fromJS(_classifiedRowCollection);\r\n        return this._classifiedListCollection;\r\n    };\r\n    /**\r\n     * generateStandardisationFrozenRowBody is used for generating row collection for STD WorkList Grid\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    ClassifiedHelper.prototype.generateStandardisationFrozenRowBody = function (comparerName, sortDirection, standardisationSetupType, gridType) {\r\n        // Get frozen column collection.\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        // Get the Frozen row body for STD Worklist\r\n        var _stdWorkListFrozenRowBodyCollection = this.getFrozenRowBody(standardisationSetupType, gridType);\r\n        return _stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Method for getting the frozen row body for STD worklist\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    ClassifiedHelper.prototype.getFrozenRowBody = function (standardisationSetupType, gridType) {\r\n        var index = 0;\r\n        var _stdWorkListRowHeaderCellcollection = Array();\r\n        var _stdWorkListRowCollection = Array();\r\n        var _stdWorkListCell;\r\n        var _stdResponseListData;\r\n        var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, enums.StandardisationSetup.ClassifiedResponse, true, gridType);\r\n        // Flag to check whether target exceeded.\r\n        var overClassified = false;\r\n        // 1. PRACTICE\r\n        // Add practice response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists && !this._hiddenStdWorklists.contains(enums.MarkingMode.Practice))) {\r\n            // Sort Response based on Rig order.\r\n            _stdResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Practice).toArray();\r\n            _stdWorkListRowHeaderCellcollection = new Array();\r\n            // Add Empty banner for Practice\r\n            _stdWorkListRowCollection.push(this.getFrozenEmptyBannerForClassificationType(enums.MarkingMode.Practice));\r\n            if (_stdResponseListData.length > 0) {\r\n                // Loop through response details.\r\n                for (var pracResponseCount = 0; pracResponseCount < _stdResponseListData.length; pracResponseCount++) {\r\n                    // Getting the std worklist data row     \r\n                    var stdResponseData = _stdResponseListData[pracResponseCount];\r\n                    // Check whetehr the classifcation type exceeded the current target,\r\n                    // and Practice available in restricted target.\r\n                    // if so highlight the exceeded last rows with amber color.\r\n                    overClassified =\r\n                        this.isSSUTargetsOverClassified(standardisationSetupType, enums.MarkingMode.Practice, stdResponseData.rigOrder);\r\n                    // Creating the table row collection.\r\n                    _stdWorkListRowCollection.push(this.getFrozenRowData(stdResponseData, gridType, gridColumns, index, overClassified));\r\n                    index++;\r\n                }\r\n            }\r\n            else {\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n                    _stdWorkListCell = new gridCell();\r\n                    var cellStyle = gridColumns[gridColumnCount].GridColumn === 'ResponseIdColumn' ?\r\n                        'col-response header-col' : 'col-std-classify-items header-col';\r\n                    _stdWorkListCell.setCellStyle(cellStyle);\r\n                    _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                }\r\n                // Creating the table row collection.\r\n                _stdWorkListRowCollection.push(this.getGridRow('2', _stdWorkListRowHeaderCellcollection, undefined, 'placeholder-row'));\r\n            }\r\n            // Reset to false.\r\n            overClassified = false;\r\n        }\r\n        // 2. APPROVAL\r\n        // Add standardisation response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists && !this._hiddenStdWorklists.contains(enums.MarkingMode.Approval))) {\r\n            // Sort Response based on Rig order.\r\n            _stdResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Approval).toArray();\r\n            _stdWorkListRowHeaderCellcollection = new Array();\r\n            // Add Empty banner for Approval\r\n            _stdWorkListRowCollection.push(this.getFrozenEmptyBannerForClassificationType(enums.MarkingMode.Approval));\r\n            if (_stdResponseListData.length > 0) {\r\n                // Loop through response details.\r\n                for (var approvalResponseCount = 0; approvalResponseCount < _stdResponseListData.length; approvalResponseCount++) {\r\n                    // Getting the std worklist data row     \r\n                    var stdResponseData = _stdResponseListData[approvalResponseCount];\r\n                    // Check whetehr the classifcation type exceeded the current target,\r\n                    // and Standardisation available in restricted target.\r\n                    // if so highlight the exceeded last rows with amber color.\r\n                    overClassified =\r\n                        this.isSSUTargetsOverClassified(standardisationSetupType, enums.MarkingMode.Approval, stdResponseData.rigOrder);\r\n                    // Creating the table row collection.\r\n                    _stdWorkListRowCollection.push(this.getFrozenRowData(stdResponseData, gridType, gridColumns, index, overClassified));\r\n                    index++;\r\n                }\r\n            }\r\n            else {\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n                    _stdWorkListCell = new gridCell();\r\n                    var cellStyle = gridColumns[gridColumnCount].GridColumn === 'ResponseIdColumn' ?\r\n                        'col-response header-col' : 'col-std-classify-items header-col';\r\n                    _stdWorkListCell.setCellStyle(cellStyle);\r\n                    _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                }\r\n                // Creating the table row collection.\r\n                _stdWorkListRowCollection.push(this.getGridRow('3', _stdWorkListRowHeaderCellcollection, undefined, 'placeholder-row'));\r\n            }\r\n            // Reset to false.\r\n            overClassified = false;\r\n        }\r\n        // 3. ES TEAM APPROVAL\r\n        // Add STM standardisation response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists && !this._hiddenStdWorklists.contains(enums.MarkingMode.ES_TeamApproval))) {\r\n            // Sort Response based on Rig order.\r\n            _stdResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.ES_TeamApproval)\r\n                    .toArray();\r\n            _stdWorkListRowHeaderCellcollection = new Array();\r\n            // Add Empty banner for ES_TeamApproval\r\n            _stdWorkListRowCollection.push(this.getFrozenEmptyBannerForClassificationType(enums.MarkingMode.ES_TeamApproval));\r\n            if (_stdResponseListData.length > 0) {\r\n                // Loop through response details.\r\n                for (var esTeamResponseCount = 0; esTeamResponseCount < _stdResponseListData.length; esTeamResponseCount++) {\r\n                    // Getting the std worklist data row     \r\n                    var stdResponseData = _stdResponseListData[esTeamResponseCount];\r\n                    // Check whetehr the classifcation type exceeded the current target,\r\n                    // and STM Standardisation available in restricted target.\r\n                    // if so highlight the exceeded last rows with amber color.\r\n                    overClassified =\r\n                        this.isSSUTargetsOverClassified(standardisationSetupType, enums.MarkingMode.ES_TeamApproval, stdResponseData.rigOrder);\r\n                    // Creating the table row collection.\r\n                    _stdWorkListRowCollection.push(this.getFrozenRowData(stdResponseData, gridType, gridColumns, index, overClassified));\r\n                    index++;\r\n                }\r\n            }\r\n            else {\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n                    _stdWorkListCell = new gridCell();\r\n                    var cellStyle = gridColumns[gridColumnCount].GridColumn === 'ResponseIdColumn' ?\r\n                        'col-response header-col' : 'col-std-classify-items header-col';\r\n                    _stdWorkListCell.setCellStyle(cellStyle);\r\n                    _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                }\r\n                // Creating the table row collection.\r\n                _stdWorkListRowCollection.push(this.getGridRow('4', _stdWorkListRowHeaderCellcollection, undefined, 'placeholder-row'));\r\n            }\r\n            // Reset to false.\r\n            overClassified = false;\r\n        }\r\n        // 4. SEED\r\n        // Add Seed response details to grid based on permissions.\r\n        if (!this._hiddenStdWorklists ||\r\n            (this._hiddenStdWorklists && !this._hiddenStdWorklists.contains(enums.MarkingMode.Seeding))) {\r\n            _stdResponseListData =\r\n                standardisationSetupStore.instance.getClassifiedResponsesInSortOrderByMarkingMode(enums.MarkingMode.Seeding).toArray();\r\n            _stdWorkListRowHeaderCellcollection = new Array();\r\n            // Add Empty banner for Seeding\r\n            _stdWorkListRowCollection.push(this.getFrozenEmptyBannerForClassificationType(enums.MarkingMode.Seeding));\r\n            if (_stdResponseListData.length > 0) {\r\n                // Loop through response details.\r\n                for (var seedResponseCount = 0; seedResponseCount < _stdResponseListData.length; seedResponseCount++) {\r\n                    // Getting the std worklist data row     \r\n                    var stdResponseData = _stdResponseListData[seedResponseCount];\r\n                    // Creating the table row collection.\r\n                    _stdWorkListRowCollection.push(this.getFrozenRowData(stdResponseData, gridType, gridColumns, index, false));\r\n                    index++;\r\n                }\r\n            }\r\n            else {\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n                    _stdWorkListCell = new gridCell();\r\n                    var cellStyle = gridColumns[gridColumnCount].GridColumn === 'ResponseIdColumn' ?\r\n                        'col-response header-col' : 'col-std-classify-items header-col';\r\n                    _stdWorkListCell.setCellStyle(cellStyle);\r\n                    _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                }\r\n                // Creating the table row collection.\r\n                _stdWorkListRowCollection.push(this.getGridRow('70', _stdWorkListRowHeaderCellcollection, undefined, 'placeholder-row'));\r\n            }\r\n            // Reset to false.\r\n            overClassified = false;\r\n        }\r\n        // Return the complete row collection.\r\n        var _stdWorkListFrozenRowBodyCollection = Immutable.fromJS(_stdWorkListRowCollection);\r\n        return _stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Method to create empty banner for Different classification Type.\r\n     * @param classificationType\r\n     */\r\n    ClassifiedHelper.prototype.getFrozenEmptyBannerForClassificationType = function (classificationType) {\r\n        var className;\r\n        var _stdWorkListCell;\r\n        var key;\r\n        var _stdWorkListRowHeaderCellcollection = new Array();\r\n        // Go through classification Type and create corresponding Banner.\r\n        switch (classificationType) {\r\n            case enums.MarkingMode.Practice:\r\n                _stdWorkListCell = new gridCell();\r\n                key = 'Empty_Banner_Practice';\r\n                className = 'header-data classify-item-text dark-link';\r\n                _stdWorkListCell.columnElement = this.getRIGOrderColumnElement(key, className, classificationType, undefined);\r\n                break;\r\n            case enums.MarkingMode.Approval:\r\n                _stdWorkListCell = new gridCell();\r\n                key = 'Empty_Banner_Standardisation';\r\n                className = 'header-data classify-item-text dark-link';\r\n                _stdWorkListCell.columnElement = this.getRIGOrderColumnElement(key, className, classificationType, undefined);\r\n                break;\r\n            case enums.MarkingMode.ES_TeamApproval:\r\n                _stdWorkListCell = new gridCell();\r\n                key = 'Empty_Banner_STM_Standardisation';\r\n                className = 'header-data classify-item-text dark-link';\r\n                _stdWorkListCell.columnElement = this.getRIGOrderColumnElement(key, className, classificationType, undefined);\r\n                break;\r\n            case enums.MarkingMode.Seeding:\r\n                _stdWorkListCell = new gridCell();\r\n                key = 'Empty_Banner_Seed';\r\n                className = 'header-data classify-item-text dark-link';\r\n                _stdWorkListCell.columnElement = this.getRIGOrderColumnElement(key, className, classificationType, undefined);\r\n                break;\r\n        }\r\n        _stdWorkListCell.setCellStyle('col-std-classify-items header-col');\r\n        _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n        // Logic to create empty frozen column for Practice/Seed/STM/Qualifcation Labels.\r\n        var emptygridCell;\r\n        emptygridCell = new gridCell();\r\n        emptygridCell.setCellStyle('col-response header-col');\r\n        _stdWorkListRowHeaderCellcollection.push(emptygridCell);\r\n        var cssClass = 'classify-items-row';\r\n        // Creating the table row collection.\r\n        return this.getGridRow(classificationType.toString(), _stdWorkListRowHeaderCellcollection, undefined, cssClass);\r\n    };\r\n    /**\r\n     * Get Unfrozen Empty Rows for Practice/Approval/STD.. Banners.\r\n     * @param gridColumns\r\n     * @param noOfQuestions\r\n     */\r\n    ClassifiedHelper.prototype.getEmptyRows = function (gridColumns, noOfQuestions, gridType) {\r\n        var _classifiedCell;\r\n        var _classifiedRowHeaderCellcollection = new Array();\r\n        // Create cells for Columns returned from JSON File.\r\n        for (var gridColumnCount = 0; gridColumnCount < gridColumns.length; gridColumnCount++) {\r\n            _classifiedCell = new gridCell();\r\n            var cellStyle = gridColumns[gridColumnCount].CssClass ? gridColumns[gridColumnCount].CssClass : '';\r\n            _classifiedCell.setCellStyle(cellStyle);\r\n            _classifiedRowHeaderCellcollection.push(_classifiedCell);\r\n        }\r\n        // Create cells for individual questions.\r\n        for (var gridColumnCount = 0; gridColumnCount < noOfQuestions; gridColumnCount++) {\r\n            _classifiedCell = new gridCell();\r\n            var cellStyle = 'col-question-item';\r\n            _classifiedCell.setCellStyle(cellStyle);\r\n            _classifiedRowHeaderCellcollection.push(_classifiedCell);\r\n        }\r\n        if (gridType === enums.GridType.markByQuestion) {\r\n            //Adding the 'last-cell' column as this column is not added to classified worklst by default\r\n            _classifiedCell = new gridCell();\r\n            var cellStyle = 'last-cell';\r\n            _classifiedCell.setCellStyle(cellStyle);\r\n            _classifiedRowHeaderCellcollection.push(_classifiedCell);\r\n        }\r\n        // return the cell Collection.\r\n        return _classifiedRowHeaderCellcollection;\r\n    };\r\n    return ClassifiedHelper;\r\n}(standardisationSetupHelperBase));\r\nmodule.exports = ClassifiedHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDExLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy9jbGFzc2lmaWVkaGVscGVyLnRzPzM3YTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vZW51bXMnKTtcclxuaW1wb3J0IGdyaWRSb3cgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZHJvdycpO1xyXG5pbXBvcnQgZ3JpZENvbHVtbk5hbWVzID0gcmVxdWlyZSgnLi4vZ3JpZGNvbHVtbm5hbWVzJyk7XHJcbmltcG9ydCBncmlkQ2VsbCA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9ncmlkY2VsbCcpO1xyXG5pbXBvcnQganNvblJlZlJlc29sdmVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9qc29ucmVmcmVzb2x2ZXIvam9zbnJlZnJlc29sdmVyJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IEdlbmVyaWNUZXh0Q29sdW1uID0gcmVxdWlyZSgnLi4vLi4vLi4vd29ya2xpc3Qvc2hhcmVkL2dlbmVyaWN0ZXh0Y29sdW1uJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IHN0ZFNldHVwUGVybWlzc2lvbkhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uc2V0dXBwZXJtaXNzaW9uaGVscGVyJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC9zdGFuZGFyZGlzYXRpb25zZXR1cHN0b3JlJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cEhlbHBlckJhc2UgPSByZXF1aXJlKCcuL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVyYmFzZScpO1xyXG5sZXQgc3RhbmRhcmRpc2F0aW9uU2V0dXBHcmlkQ29sdW1uc0pzb24gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBncmlkY29sdW1ucy5qc29uJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc25hbWVzJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25UYXJnZXREZXRhaWwgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvdHlwaW5ncy9zdGFuZGFyZGlzYXRpb250YXJnZXRkZXRhaWwnKTtcclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgY2xhc3MgZm9yIENsYXNzaWZpZWQgZ3JpZCB2aWV3XHJcbiAqL1xyXG5jbGFzcyBDbGFzc2lmaWVkSGVscGVyIGV4dGVuZHMgc3RhbmRhcmRpc2F0aW9uU2V0dXBIZWxwZXJCYXNlIHtcclxuXHJcbiAgICAvLyBHZXQgdGhlIHdvcmtsaXN0cyB0aGF0IHNob3VsZCBiZSBoaWRlIHdoZW4gdGhlIFN0YW5kYXJkaXNhdGlvbiBQZXJtaXNzaW9uIENDIENvbmZpZ3VyZWQuXHJcbiAgICBwcml2YXRlIF9oaWRkZW5TdGRXb3JrbGlzdHM6IEltbXV0YWJsZS5MaXN0PGVudW1zLk1hcmtpbmdNb2RlPiA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZ2V0SGlkZGVuV29ya2xpc3RzKCk7XHJcblxyXG4gICAgLyogR3JpZCByb3dzIGNvbGxlY3Rpb24gKi9cclxuICAgIHB1YmxpYyBfY2xhc3NpZmllZExpc3RDb2xsZWN0aW9uOiBJbW11dGFibGUuTGlzdDxncmlkUm93PjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIHJvdyBkZWZpbml0aW9uIGZvciBteVRlYW0gYW5kIEhlbHAgb3RoZXIgZXhhbWluZXJzIHRhYlxyXG4gICAgICogQHBhcmFtIGNsYXNzaWZlZFJlc3BvbnNlRGF0YSBcclxuICAgICAqIEBwYXJhbSB0YWJTZWxlY3Rpb24gXHJcbiAgICAgKiBAcGFyYW0gZ3JpZFR5cGUgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZVN0YW5kYXJkaXNhdGlvblJvd0RlZmluaW9uKGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxyXG4gICAgICAgIHRhYlNlbGVjdGlvbjogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4oKTtcclxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0ganNvblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHN0YW5kYXJkaXNhdGlvblNldHVwR3JpZENvbHVtbnNKc29uKTtcclxuICAgICAgICB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGVmaW5pdGlvbih0YWJTZWxlY3Rpb24sIGdyaWRUeXBlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgdGhlIHJvdyBkZWZpbml0aW9uIGZvciBjbGFzc2lmZWQgd29ya2xpc3RcclxuXHQgKiBAcGFyYW0gdGFiU2VsZWN0aW9uIFxyXG5cdCAqIEBwYXJhbSBncmlkVHlwZVxyXG5cdCAqL1xyXG4gICAgcHJpdmF0ZSBnZXRSb3dEZWZpbml0aW9uKHRhYlNlbGVjdGlvbjogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIGxldCBpbmRleDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcclxuICAgICAgICBsZXQgX2NsYXNzaWZpZWRSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xyXG4gICAgICAgIGxldCBfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGE6IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz47XHJcbiAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5nZXRHcmlkQ29sdW1ucyh0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLCB0YWJTZWxlY3Rpb24sXHJcbiAgICAgICAgICAgIGZhbHNlLCBncmlkVHlwZSk7XHJcbiAgICAgICAgbGV0IF9zdGRTZXR1cFJlc3BvbnNlRGV0YWlsczogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPiA9XHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RhbmRhcmRpc2F0aW9uU2V0VXBSZXNwb25zZWRldGFpbHMuc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzO1xyXG5cclxuICAgICAgICBsZXQgbWFya3NDb3VudCA9XHJcbiAgICAgICAgICAgIEltbXV0YWJsZS5MaXN0KF9zdGRTZXR1cFJlc3BvbnNlRGV0YWlscykuY291bnQoKSA+IDAgJiYgX3N0ZFNldHVwUmVzcG9uc2VEZXRhaWxzLmZpcnN0KCkuc3RhbmRhcmRpc2F0aW9uTWFya3MgP1xyXG4gICAgICAgICAgICBJbW11dGFibGUuTGlzdDxSZXNwb25zZU1hcmtEZXRhaWxzPihfc3RkU2V0dXBSZXNwb25zZURldGFpbHMuZmlyc3QoKS5zdGFuZGFyZGlzYXRpb25NYXJrcykuY291bnQoKSA6IDA7XHJcblxyXG4gICAgICAgIC8vIDEuIFBSQUNUSUNFXHJcbiAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGRldGFpbHMgdG8gZ3JpZCBiYXNlZCBvbiBwZXJtaXNzaW9ucy5cclxuICAgICAgICBpZiAoIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cyB8fFxyXG4gICAgICAgICAgICAodGhpcy5faGlkZGVuU3RkV29ya2xpc3RzICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzLmNvbnRhaW5zKGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlKSkpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSBncmlkIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICBfY2xhc3NpZmllZFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdyhcclxuICAgICAgICAgICAgICAgICAgICAnMicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRFbXB0eVJvd3MoZ3JpZENvbHVtbnMsIG1hcmtzQ291bnQsIGdyaWRUeXBlKSxcclxuICAgICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICdjbGFzc2lmeS1pdGVtcy1yb3cnXHJcbiAgICAgICAgICAgICAgICApKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNvcnQgUmVzcG9uc2UgYmFzZWQgb24gIHJpZyBvcmRlci5cclxuICAgICAgICAgICAgX2NsYXNzaWZpZWRSZXNwb25zZUxpc3REYXRhID1cclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZ2V0Q2xhc3NpZmllZFJlc3BvbnNlc0luU29ydE9yZGVyQnlNYXJraW5nTW9kZShlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIGRhdGEgZXhpc3QsIGlmIG5vdCBhZGQgZW1wdHkgcm93LlxyXG4gICAgICAgICAgICBpZiAoX2NsYXNzaWZpZWRSZXNwb25zZUxpc3REYXRhLmNvdW50KCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBfY2xhc3NpZmllZFJvd0NvbGxlY3Rpb24gPVxyXG4gICAgICAgICAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Um93RGF0YShfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEsIGdyaWRDb2x1bW5zLCBncmlkVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LCBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UpKTtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXggKyBfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEuY291bnQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdygnMicsIHRoaXMuZ2V0RW1wdHlSb3dzKGdyaWRDb2x1bW5zLCBtYXJrc0NvdW50LCBncmlkVHlwZSksIHVuZGVmaW5lZCwgJ3BsYWNlaG9sZGVyLXJvdycpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gMi4gQVBQUk9WQUxcclxuICAgICAgICAvLyBBZGQgcmVzcG9uc2UgZGV0YWlscyB0byBncmlkIGJhc2VkIG9uIHBlcm1pc3Npb25zLlxyXG4gICAgICAgIGlmICghdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzIHx8XHJcbiAgICAgICAgICAgICh0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMgJiZcclxuICAgICAgICAgICAgICAgICF0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMuY29udGFpbnMoZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpKSkge1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxyXG4gICAgICAgICAgICAgICAgICAgICczJyxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEVtcHR5Um93cyhncmlkQ29sdW1ucywgbWFya3NDb3VudCwgZ3JpZFR5cGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzaWZ5LWl0ZW1zLXJvdydcclxuICAgICAgICAgICAgICAgICkpO1xyXG5cclxuICAgICAgICAgICAgLy8gU29ydCBSZXNwb25zZSBiYXNlZCBvbiAgcmlnIG9yZGVyLlxyXG4gICAgICAgICAgICBfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEgPVxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5nZXRDbGFzc2lmaWVkUmVzcG9uc2VzSW5Tb3J0T3JkZXJCeU1hcmtpbmdNb2RlKGVudW1zLk1hcmtpbmdNb2RlLkFwcHJvdmFsKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgZGF0YSBleGlzdCwgaWYgbm90IGFkZCBlbXB0eSByb3cuXHJcbiAgICAgICAgICAgIGlmIChfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEuY291bnQoKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRSb3dEYXRhKF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YSwgZ3JpZENvbHVtbnMsIGdyaWRUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLkNsYXNzaWZpZWRSZXNwb25zZSkpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleCArIF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YS5jb3VudCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KCczJywgdGhpcy5nZXRFbXB0eVJvd3MoZ3JpZENvbHVtbnMsIG1hcmtzQ291bnQsIGdyaWRUeXBlKSwgdW5kZWZpbmVkLCAncGxhY2Vob2xkZXItcm93JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAzLiBFUyBURUFNIEFQUFJPVkFMXHJcbiAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGRldGFpbHMgdG8gZ3JpZCBiYXNlZCBvbiBwZXJtaXNzaW9ucy5cclxuICAgICAgICBpZiAoIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cyB8fFxyXG4gICAgICAgICAgICAodGhpcy5faGlkZGVuU3RkV29ya2xpc3RzICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzLmNvbnRhaW5zKGVudW1zLk1hcmtpbmdNb2RlLkVTX1RlYW1BcHByb3ZhbCkpKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgZ3JpZCByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgJzQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RW1wdHlSb3dzKGdyaWRDb2x1bW5zLCBtYXJrc0NvdW50LCBncmlkVHlwZSksXHJcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAnY2xhc3NpZnktaXRlbXMtcm93J1xyXG4gICAgICAgICAgICAgICAgKSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTb3J0IFJlc3BvbnNlIGJhc2VkIG9uICByaWcgb3JkZXIuXHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmdldENsYXNzaWZpZWRSZXNwb25zZXNJblNvcnRPcmRlckJ5TWFya2luZ01vZGUoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgZGF0YSBleGlzdCwgaWYgbm90IGFkZCBlbXB0eSByb3cuXHJcbiAgICAgICAgICAgIGlmIChfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEuY291bnQoKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRSb3dEYXRhKF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YSwgZ3JpZENvbHVtbnMsIGdyaWRUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLkNsYXNzaWZpZWRSZXNwb25zZSkpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleCArIF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YS5jb3VudCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KCc0JywgdGhpcy5nZXRFbXB0eVJvd3MoZ3JpZENvbHVtbnMsIG1hcmtzQ291bnQsIGdyaWRUeXBlKSwgdW5kZWZpbmVkLCAncGxhY2Vob2xkZXItcm93JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyA0LiBTRUVEXHJcbiAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGRldGFpbHMgdG8gZ3JpZCBiYXNlZCBvbiBwZXJtaXNzaW9ucy5cclxuICAgICAgICBpZiAoIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cyB8fFxyXG4gICAgICAgICAgICAodGhpcy5faGlkZGVuU3RkV29ya2xpc3RzICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzLmNvbnRhaW5zKGVudW1zLk1hcmtpbmdNb2RlLlNlZWRpbmcpKSkge1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGdyaWQgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxyXG4gICAgICAgICAgICAgICAgICAgICc3MCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRFbXB0eVJvd3MoZ3JpZENvbHVtbnMsIG1hcmtzQ291bnQsIGdyaWRUeXBlKSxcclxuICAgICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICdjbGFzc2lmeS1pdGVtcy1yb3cnXHJcbiAgICAgICAgICAgICAgICApKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNvcnQgUmVzcG9uc2UgYmFzZWQgb24gIHJpZyBvcmRlci5cclxuICAgICAgICAgICAgX2NsYXNzaWZpZWRSZXNwb25zZUxpc3REYXRhID1cclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZ2V0Q2xhc3NpZmllZFJlc3BvbnNlc0luU29ydE9yZGVyQnlNYXJraW5nTW9kZShlbnVtcy5NYXJraW5nTW9kZS5TZWVkaW5nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgZGF0YSBleGlzdCwgaWYgbm90IGFkZCBlbXB0eSByb3cuXHJcbiAgICAgICAgICAgIGlmIChfY2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEuY291bnQoKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRSb3dEYXRhKF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YSwgZ3JpZENvbHVtbnMsIGdyaWRUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLkNsYXNzaWZpZWRSZXNwb25zZSkpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBpbmRleCArIF9jbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YS5jb3VudCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX2NsYXNzaWZpZWRSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KCc3MCcsIHRoaXMuZ2V0RW1wdHlSb3dzKGdyaWRDb2x1bW5zLCBtYXJrc0NvdW50LCBncmlkVHlwZSksIHVuZGVmaW5lZCwgJ3BsYWNlaG9sZGVyLXJvdycpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBjb21wbGV0ZSByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICB0aGlzLl9jbGFzc2lmaWVkTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuZnJvbUpTKF9jbGFzc2lmaWVkUm93Q29sbGVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsYXNzaWZpZWRMaXN0Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5IGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFNURCBXb3JrTGlzdCBHcmlkXHJcblx0ICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSBcclxuXHQgKiBAcGFyYW0gZ3JpZFR5cGUgXHJcblx0ICovXHJcbiAgICBwdWJsaWMgZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5KGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIC8vIEdldCBmcm96ZW4gY29sdW1uIGNvbGxlY3Rpb24uXHJcbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpzb25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbik7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgRnJvemVuIHJvdyBib2R5IGZvciBTVEQgV29ya2xpc3RcclxuICAgICAgICBsZXQgX3N0ZFdvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb24gPSB0aGlzLmdldEZyb3plblJvd0JvZHkoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLFxyXG4gICAgICAgICAgICBncmlkVHlwZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIF9zdGRXb3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBNZXRob2QgZm9yIGdldHRpbmcgdGhlIGZyb3plbiByb3cgYm9keSBmb3IgU1REIHdvcmtsaXN0XHJcblx0ICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSBcclxuXHQgKiBAcGFyYW0gZ3JpZFR5cGUgXHJcblx0ICovXHJcbiAgICBwdWJsaWMgZ2V0RnJvemVuUm93Qm9keShzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGU6IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLFxyXG4gICAgICAgIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgaW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcclxuICAgICAgICBsZXQgX3N0ZFJlc3BvbnNlTGlzdERhdGE6IGFueTtcclxuICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKFxyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLFxyXG4gICAgICAgICAgICBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cC5DbGFzc2lmaWVkUmVzcG9uc2UsXHJcbiAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgIGdyaWRUeXBlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gRmxhZyB0byBjaGVjayB3aGV0aGVyIHRhcmdldCBleGNlZWRlZC5cclxuICAgICAgICBsZXQgb3ZlckNsYXNzaWZpZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gMS4gUFJBQ1RJQ0VcclxuICAgICAgICAvLyBBZGQgcHJhY3RpY2UgcmVzcG9uc2UgZGV0YWlscyB0byBncmlkIGJhc2VkIG9uIHBlcm1pc3Npb25zLlxyXG4gICAgICAgIGlmICghdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzIHx8XHJcbiAgICAgICAgICAgICh0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMgJiYgIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cy5jb250YWlucyhlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSkpKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBTb3J0IFJlc3BvbnNlIGJhc2VkIG9uIFJpZyBvcmRlci5cclxuICAgICAgICAgICAgX3N0ZFJlc3BvbnNlTGlzdERhdGEgPVxyXG4gICAgICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5nZXRDbGFzc2lmaWVkUmVzcG9uc2VzSW5Tb3J0T3JkZXJCeU1hcmtpbmdNb2RlKGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlKS50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgRW1wdHkgYmFubmVyIGZvciBQcmFjdGljZVxyXG4gICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2godGhpcy5nZXRGcm96ZW5FbXB0eUJhbm5lckZvckNsYXNzaWZpY2F0aW9uVHlwZShlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKF9zdGRSZXNwb25zZUxpc3REYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCByZXNwb25zZSBkZXRhaWxzLlxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcHJhY1Jlc3BvbnNlQ291bnQgPSAwOyBwcmFjUmVzcG9uc2VDb3VudCA8IF9zdGRSZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgcHJhY1Jlc3BvbnNlQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHN0ZCB3b3JrbGlzdCBkYXRhIHJvdyAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ZFJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzID0gX3N0ZFJlc3BvbnNlTGlzdERhdGFbcHJhY1Jlc3BvbnNlQ291bnRdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB3aGV0ZWhyIHRoZSBjbGFzc2lmY2F0aW9uIHR5cGUgZXhjZWVkZWQgdGhlIGN1cnJlbnQgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBQcmFjdGljZSBhdmFpbGFibGUgaW4gcmVzdHJpY3RlZCB0YXJnZXQuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgc28gaGlnaGxpZ2h0IHRoZSBleGNlZWRlZCBsYXN0IHJvd3Mgd2l0aCBhbWJlciBjb2xvci5cclxuICAgICAgICAgICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTU1VUYXJnZXRzT3ZlckNsYXNzaWZpZWQoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLCBlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZSwgc3RkUmVzcG9uc2VEYXRhLnJpZ09yZGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaCh0aGlzLmdldEZyb3plblJvd0RhdGEoc3RkUmVzcG9uc2VEYXRhLCBncmlkVHlwZSwgZ3JpZENvbHVtbnMsIGluZGV4LCBvdmVyQ2xhc3NpZmllZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1ucy5sZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW4gPT09ICdSZXNwb25zZUlkQ29sdW1uJyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29sLXJlc3BvbnNlIGhlYWRlci1jb2wnIDogJ2NvbC1zdGQtY2xhc3NpZnktaXRlbXMgaGVhZGVyLWNvbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSB0YWJsZSByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coJzInLCBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiwgdW5kZWZpbmVkLCAncGxhY2Vob2xkZXItcm93JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IHRvIGZhbHNlLlxyXG4gICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gMi4gQVBQUk9WQUxcclxuICAgICAgICAvLyBBZGQgc3RhbmRhcmRpc2F0aW9uIHJlc3BvbnNlIGRldGFpbHMgdG8gZ3JpZCBiYXNlZCBvbiBwZXJtaXNzaW9ucy5cclxuICAgICAgICBpZiAoIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cyB8fFxyXG4gICAgICAgICAgICAodGhpcy5faGlkZGVuU3RkV29ya2xpc3RzICYmICF0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMuY29udGFpbnMoZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpKSkge1xyXG5cclxuICAgICAgICAgICAgLy8gU29ydCBSZXNwb25zZSBiYXNlZCBvbiBSaWcgb3JkZXIuXHJcbiAgICAgICAgICAgIF9zdGRSZXNwb25zZUxpc3REYXRhID1cclxuICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2UuZ2V0Q2xhc3NpZmllZFJlc3BvbnNlc0luU29ydE9yZGVyQnlNYXJraW5nTW9kZShlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCkudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIEVtcHR5IGJhbm5lciBmb3IgQXBwcm92YWxcclxuICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKHRoaXMuZ2V0RnJvemVuRW1wdHlCYW5uZXJGb3JDbGFzc2lmaWNhdGlvblR5cGUoZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWwpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChfc3RkUmVzcG9uc2VMaXN0RGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggcmVzcG9uc2UgZGV0YWlscy5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGFwcHJvdmFsUmVzcG9uc2VDb3VudCA9IDA7IGFwcHJvdmFsUmVzcG9uc2VDb3VudCA8IF9zdGRSZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgYXBwcm92YWxSZXNwb25zZUNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBzdGQgd29ya2xpc3QgZGF0YSByb3cgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGRSZXNwb25zZURhdGE6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscyA9IF9zdGRSZXNwb25zZUxpc3REYXRhW2FwcHJvdmFsUmVzcG9uc2VDb3VudF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHdoZXRlaHIgdGhlIGNsYXNzaWZjYXRpb24gdHlwZSBleGNlZWRlZCB0aGUgY3VycmVudCB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIFN0YW5kYXJkaXNhdGlvbiBhdmFpbGFibGUgaW4gcmVzdHJpY3RlZCB0YXJnZXQuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgc28gaGlnaGxpZ2h0IHRoZSBleGNlZWRlZCBsYXN0IHJvd3Mgd2l0aCBhbWJlciBjb2xvci5cclxuICAgICAgICAgICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTU1VUYXJnZXRzT3ZlckNsYXNzaWZpZWQoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLCBlbnVtcy5NYXJraW5nTW9kZS5BcHByb3ZhbCwgc3RkUmVzcG9uc2VEYXRhLnJpZ09yZGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaCh0aGlzLmdldEZyb3plblJvd0RhdGEoc3RkUmVzcG9uc2VEYXRhLCBncmlkVHlwZSwgZ3JpZENvbHVtbnMsIGluZGV4LCBvdmVyQ2xhc3NpZmllZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBncmlkQ29sdW1uQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBncmlkQ29sdW1uQ291bnQrK1xyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW4gPT09ICdSZXNwb25zZUlkQ29sdW1uJyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29sLXJlc3BvbnNlIGhlYWRlci1jb2wnIDogJ2NvbC1zdGQtY2xhc3NpZnktaXRlbXMgaGVhZGVyLWNvbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSB0YWJsZSByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEdyaWRSb3coJzMnLCBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiwgdW5kZWZpbmVkLCAncGxhY2Vob2xkZXItcm93JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IHRvIGZhbHNlLlxyXG4gICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gMy4gRVMgVEVBTSBBUFBST1ZBTFxyXG4gICAgICAgIC8vIEFkZCBTVE0gc3RhbmRhcmRpc2F0aW9uIHJlc3BvbnNlIGRldGFpbHMgdG8gZ3JpZCBiYXNlZCBvbiBwZXJtaXNzaW9ucy5cclxuICAgICAgICBpZiAoIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cyB8fFxyXG4gICAgICAgICAgICAodGhpcy5faGlkZGVuU3RkV29ya2xpc3RzICYmICF0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMuY29udGFpbnMoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSkpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFNvcnQgUmVzcG9uc2UgYmFzZWQgb24gUmlnIG9yZGVyLlxyXG4gICAgICAgICAgICBfc3RkUmVzcG9uc2VMaXN0RGF0YSA9XHJcbiAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmdldENsYXNzaWZpZWRSZXNwb25zZXNJblNvcnRPcmRlckJ5TWFya2luZ01vZGUoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKVxyXG4gICAgICAgICAgICAgICAgICAgIC50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgRW1wdHkgYmFubmVyIGZvciBFU19UZWFtQXBwcm92YWxcclxuICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKHRoaXMuZ2V0RnJvemVuRW1wdHlCYW5uZXJGb3JDbGFzc2lmaWNhdGlvblR5cGUoZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoX3N0ZFJlc3BvbnNlTGlzdERhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHJlc3BvbnNlIGRldGFpbHMuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBlc1RlYW1SZXNwb25zZUNvdW50ID0gMDsgZXNUZWFtUmVzcG9uc2VDb3VudCA8IF9zdGRSZXNwb25zZUxpc3REYXRhLmxlbmd0aDsgZXNUZWFtUmVzcG9uc2VDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgc3RkIHdvcmtsaXN0IGRhdGEgcm93ICAgICBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RkUmVzcG9uc2VEYXRhOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHMgPSBfc3RkUmVzcG9uc2VMaXN0RGF0YVtlc1RlYW1SZXNwb25zZUNvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGVociB0aGUgY2xhc3NpZmNhdGlvbiB0eXBlIGV4Y2VlZGVkIHRoZSBjdXJyZW50IHRhcmdldCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgU1RNIFN0YW5kYXJkaXNhdGlvbiBhdmFpbGFibGUgaW4gcmVzdHJpY3RlZCB0YXJnZXQuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgc28gaGlnaGxpZ2h0IHRoZSBleGNlZWRlZCBsYXN0IHJvd3Mgd2l0aCBhbWJlciBjb2xvci5cclxuICAgICAgICAgICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTU1VUYXJnZXRzT3ZlckNsYXNzaWZpZWQoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsLCBzdGRSZXNwb25zZURhdGEucmlnT3JkZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgdGFibGUgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKHRoaXMuZ2V0RnJvemVuUm93RGF0YShzdGRSZXNwb25zZURhdGEsIGdyaWRUeXBlLCBncmlkQ29sdW1ucywgaW5kZXgsIG92ZXJDbGFzc2lmaWVkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5zLmxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbiA9PT0gJ1Jlc3BvbnNlSWRDb2x1bW4nID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb2wtcmVzcG9uc2UgaGVhZGVyLWNvbCcgOiAnY29sLXN0ZC1jbGFzc2lmeS1pdGVtcyBoZWFkZXItY29sJztcclxuICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3N0ZFdvcmtMaXN0Q2VsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdygnNCcsIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLCB1bmRlZmluZWQsICdwbGFjZWhvbGRlci1yb3cnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUmVzZXQgdG8gZmFsc2UuXHJcbiAgICAgICAgICAgIG92ZXJDbGFzc2lmaWVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyA0LiBTRUVEXHJcbiAgICAgICAgLy8gQWRkIFNlZWQgcmVzcG9uc2UgZGV0YWlscyB0byBncmlkIGJhc2VkIG9uIHBlcm1pc3Npb25zLlxyXG4gICAgICAgIGlmICghdGhpcy5faGlkZGVuU3RkV29ya2xpc3RzIHx8XHJcbiAgICAgICAgICAgICh0aGlzLl9oaWRkZW5TdGRXb3JrbGlzdHMgJiYgIXRoaXMuX2hpZGRlblN0ZFdvcmtsaXN0cy5jb250YWlucyhlbnVtcy5NYXJraW5nTW9kZS5TZWVkaW5nKSkpIHtcclxuICAgICAgICAgICAgICAgIF9zdGRSZXNwb25zZUxpc3REYXRhID1cclxuICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLmdldENsYXNzaWZpZWRSZXNwb25zZXNJblNvcnRPcmRlckJ5TWFya2luZ01vZGUoZW51bXMuTWFya2luZ01vZGUuU2VlZGluZykudG9BcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgRW1wdHkgYmFubmVyIGZvciBTZWVkaW5nXHJcbiAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2godGhpcy5nZXRGcm96ZW5FbXB0eUJhbm5lckZvckNsYXNzaWZpY2F0aW9uVHlwZShlbnVtcy5NYXJraW5nTW9kZS5TZWVkaW5nKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKF9zdGRSZXNwb25zZUxpc3REYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggcmVzcG9uc2UgZGV0YWlscy5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzZWVkUmVzcG9uc2VDb3VudCA9IDA7IHNlZWRSZXNwb25zZUNvdW50IDwgX3N0ZFJlc3BvbnNlTGlzdERhdGEubGVuZ3RoOyBzZWVkUmVzcG9uc2VDb3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHN0ZCB3b3JrbGlzdCBkYXRhIHJvdyAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGRSZXNwb25zZURhdGE6IFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscyA9IF9zdGRSZXNwb25zZUxpc3REYXRhW3NlZWRSZXNwb25zZUNvdW50XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0aW5nIHRoZSB0YWJsZSByb3cgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKHRoaXMuZ2V0RnJvemVuUm93RGF0YShzdGRSZXNwb25zZURhdGEsIGdyaWRUeXBlLCBncmlkQ29sdW1ucywgaW5kZXgsIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1ucy5sZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW4gPT09ICdSZXNwb25zZUlkQ29sdW1uJyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbC1yZXNwb25zZSBoZWFkZXItY29sJyA6ICdjb2wtc3RkLWNsYXNzaWZ5LWl0ZW1zIGhlYWRlci1jb2wnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KCc3MCcsIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLCB1bmRlZmluZWQsICdwbGFjZWhvbGRlci1yb3cnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgdG8gZmFsc2UuXHJcbiAgICAgICAgICAgICAgICBvdmVyQ2xhc3NpZmllZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVybiB0aGUgY29tcGxldGUgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gX3N0ZFdvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gY3JlYXRlIGVtcHR5IGJhbm5lciBmb3IgRGlmZmVyZW50IGNsYXNzaWZpY2F0aW9uIFR5cGUuXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NpZmljYXRpb25UeXBlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0RnJvemVuRW1wdHlCYW5uZXJGb3JDbGFzc2lmaWNhdGlvblR5cGUoY2xhc3NpZmljYXRpb25UeXBlOiBlbnVtcy5NYXJraW5nTW9kZSk6IGdyaWRSb3cge1xyXG4gICAgICAgIGxldCBjbGFzc05hbWU6IHN0cmluZztcclxuICAgICAgICBsZXQgX3N0ZFdvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheTxncmlkQ2VsbD4oKTtcclxuXHJcbiAgICAgICAgLy8gR28gdGhyb3VnaCBjbGFzc2lmaWNhdGlvbiBUeXBlIGFuZCBjcmVhdGUgY29ycmVzcG9uZGluZyBCYW5uZXIuXHJcbiAgICAgICAgc3dpdGNoIChjbGFzc2lmaWNhdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5QcmFjdGljZTpcclxuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgIGtleSA9ICdFbXB0eV9CYW5uZXJfUHJhY3RpY2UnO1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2hlYWRlci1kYXRhIGNsYXNzaWZ5LWl0ZW0tdGV4dCBkYXJrLWxpbmsnO1xyXG4gICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRSSUdPcmRlckNvbHVtbkVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc2lmaWNhdGlvblR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWw6XHJcbiAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICBrZXkgPSAnRW1wdHlfQmFubmVyX1N0YW5kYXJkaXNhdGlvbic7XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSAnaGVhZGVyLWRhdGEgY2xhc3NpZnktaXRlbS10ZXh0IGRhcmstbGluayc7XHJcbiAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFJJR09yZGVyQ29sdW1uRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5FU19UZWFtQXBwcm92YWw6XHJcbiAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgICAgICBrZXkgPSAnRW1wdHlfQmFubmVyX1NUTV9TdGFuZGFyZGlzYXRpb24nO1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gJ2hlYWRlci1kYXRhIGNsYXNzaWZ5LWl0ZW0tdGV4dCBkYXJrLWxpbmsnO1xyXG4gICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5nZXRSSUdPcmRlckNvbHVtbkVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc2lmaWNhdGlvblR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuU2VlZGluZzpcclxuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgIGtleSA9ICdFbXB0eV9CYW5uZXJfU2VlZCc7XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSAnaGVhZGVyLWRhdGEgY2xhc3NpZnktaXRlbS10ZXh0IGRhcmstbGluayc7XHJcbiAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFJJR09yZGVyQ29sdW1uRWxlbWVudChcclxuICAgICAgICAgICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9zdGRXb3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKCdjb2wtc3RkLWNsYXNzaWZ5LWl0ZW1zIGhlYWRlci1jb2wnKTtcclxuICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xyXG5cclxuICAgICAgICAvLyBMb2dpYyB0byBjcmVhdGUgZW1wdHkgZnJvemVuIGNvbHVtbiBmb3IgUHJhY3RpY2UvU2VlZC9TVE0vUXVhbGlmY2F0aW9uIExhYmVscy5cclxuICAgICAgICBsZXQgZW1wdHlncmlkQ2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgZW1wdHlncmlkQ2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG5cclxuICAgICAgICBlbXB0eWdyaWRDZWxsLnNldENlbGxTdHlsZSgnY29sLXJlc3BvbnNlIGhlYWRlci1jb2wnKTtcclxuICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKGVtcHR5Z3JpZENlbGwpO1xyXG4gICAgICAgIGxldCBjc3NDbGFzcyA9ICdjbGFzc2lmeS1pdGVtcy1yb3cnO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGluZyB0aGUgdGFibGUgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R3JpZFJvdyhcclxuICAgICAgICAgICAgY2xhc3NpZmljYXRpb25UeXBlLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxyXG4gICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGNzc0NsYXNzXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBVbmZyb3plbiBFbXB0eSBSb3dzIGZvciBQcmFjdGljZS9BcHByb3ZhbC9TVEQuLiBCYW5uZXJzLlxyXG4gICAgICogQHBhcmFtIGdyaWRDb2x1bW5zXHJcbiAgICAgKiBAcGFyYW0gbm9PZlF1ZXN0aW9uc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEVtcHR5Um93cyhncmlkQ29sdW1uczogYW55LCBub09mUXVlc3Rpb25zOiBudW1iZXIsIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSk6IEFycmF5PGdyaWRDZWxsPiB7XHJcbiAgICAgICAgbGV0IF9jbGFzc2lmaWVkQ2VsbDogZ3JpZENlbGw7XHJcbiAgICAgICAgbGV0IF9jbGFzc2lmaWVkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXk8Z3JpZENlbGw+KCk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBjZWxscyBmb3IgQ29sdW1ucyByZXR1cm5lZCBmcm9tIEpTT04gRmlsZS5cclxuICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1ucy5sZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkQ2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xyXG4gICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcclxuICAgICAgICAgICAgX2NsYXNzaWZpZWRDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xyXG4gICAgICAgICAgICBfY2xhc3NpZmllZFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX2NsYXNzaWZpZWRDZWxsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBjZWxscyBmb3IgaW5kaXZpZHVhbCBxdWVzdGlvbnMuXHJcbiAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgbm9PZlF1ZXN0aW9uczsgZ3JpZENvbHVtbkNvdW50KyspIHtcclxuICAgICAgICAgICAgX2NsYXNzaWZpZWRDZWxsID0gbmV3IGdyaWRDZWxsKCk7XHJcbiAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPSAnY29sLXF1ZXN0aW9uLWl0ZW0nO1xyXG4gICAgICAgICAgICBfY2xhc3NpZmllZENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfY2xhc3NpZmllZENlbGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGdyaWRUeXBlID09PSBlbnVtcy5HcmlkVHlwZS5tYXJrQnlRdWVzdGlvbikge1xyXG4gICAgICAgICAgICAvL0FkZGluZyB0aGUgJ2xhc3QtY2VsbCcgY29sdW1uIGFzIHRoaXMgY29sdW1uIGlzIG5vdCBhZGRlZCB0byBjbGFzc2lmaWVkIHdvcmtsc3QgYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICBfY2xhc3NpZmllZENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9ICdsYXN0LWNlbGwnO1xyXG4gICAgICAgICAgICBfY2xhc3NpZmllZENlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XHJcbiAgICAgICAgICAgIF9jbGFzc2lmaWVkUm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfY2xhc3NpZmllZENlbGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXR1cm4gdGhlIGNlbGwgQ29sbGVjdGlvbi5cclxuICAgICAgICByZXR1cm4gX2NsYXNzaWZpZWRSb3dIZWFkZXJDZWxsY29sbGVjdGlvbjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gQ2xhc3NpZmllZEhlbHBlcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcnMvY2xhc3NpZmllZGhlbHBlci50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBOztBQXNnQkE7QUFqZ0JBOzs7OztBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 412:
/* no static exports found */
/* all exports used */
/*!**************************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetuphelpers/provisionalhelper.ts ***!
  \**************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar standardisationsetuphelperbase = __webpack_require__(/*! ./standardisationsetuphelperbase */ 292);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar jsonRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar standardisationSetupGridColumnsJson = __webpack_require__(/*! ../standardisationsetupgridcolumns.json */ 273);\r\nvar comparerList = __webpack_require__(/*! ../../../../utility/sorting/sortbase/comparerlist */ 262);\r\nvar sortHelper = __webpack_require__(/*! ../../../../utility/sorting/sorthelper */ 272);\r\n/**\r\n * Helper class for Classified grid view\r\n */\r\nvar ProvisionalHelper = /** @class */ (function (_super) {\r\n    __extends(ProvisionalHelper, _super);\r\n    function ProvisionalHelper() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * generateStandardisationFrozenRowBody is used for generating row collection for STD WorkList Grid\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    ProvisionalHelper.prototype.generateStandardisationFrozenRowBody = function (comparerName, sortDirection, standardisationSetupType, gridType) {\r\n        // Get frozen column collection.\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        return this.generateFrozenRowBody(standardisationSetupStore.instance.standardisationSetupDetails, standardisationSetupType, gridType, comparerName, sortDirection);\r\n    };\r\n    /**\r\n     * Gets Grid rows\r\n     * @param tabSelection\r\n     * @param gridType\r\n     */\r\n    ProvisionalHelper.prototype.generateStandardisationRowDefinion = function (comparerName, sortDirection, tabSelection, gridType) {\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = this.getRowDefinion(tabSelection, gridType, comparerName, sortDirection);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Returns the row definition for provisional worklist\r\n     * @param tabSelection\r\n     * @param gridType\r\n     */\r\n    ProvisionalHelper.prototype.getRowDefinion = function (tabSelection, gridType, comparerName, sortDirection) {\r\n        var sortedData;\r\n        var _provisionalRowCollection = Array();\r\n        var _provisionalRowHeaderCellcollection = Array();\r\n        var _provisionalResponseListData;\r\n        var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, tabSelection, false, gridType);\r\n        var _stdSetupResponseDetails = standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses;\r\n        var marksCount = _stdSetupResponseDetails.first().standardisationMarks ?\r\n            Immutable.List(_stdSetupResponseDetails.first().standardisationMarks).count() : 0;\r\n        _provisionalResponseListData = Immutable.List(standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses);\r\n        sortedData = Immutable.List(sortHelper.sort(_provisionalResponseListData.toArray(), comparerList[comparerName]));\r\n        _provisionalResponseListData = sortedData;\r\n        if (_provisionalResponseListData.count() > 0) {\r\n            _provisionalRowCollection =\r\n                _provisionalRowCollection.concat(this.getRowData(_provisionalResponseListData, gridColumns, gridType, 0, enums.StandardisationSetup.ProvisionalResponse));\r\n        }\r\n        // Return the complete row collection.\r\n        this._provisionalListCollection = Immutable.fromJS(_provisionalRowCollection);\r\n        return this._provisionalListCollection;\r\n    };\r\n    return ProvisionalHelper;\r\n}(standardisationsetuphelperbase));\r\nmodule.exports = ProvisionalHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy9wcm92aXNpb25hbGhlbHBlci50cz85Mzk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2UgPSByZXF1aXJlKCcuL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVyYmFzZScpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9lbnVtcycpO1xyXG5pbXBvcnQgZ3JpZFJvdyA9IHJlcXVpcmUoJy4uL2dyaWRyb3cnKTtcclxuaW1wb3J0IGpzb25SZWZSZXNvbHZlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvanNvbnJlZnJlc29sdmVyL2pvc25yZWZyZXNvbHZlcicpO1xyXG5pbXBvcnQgZ3JpZENlbGwgPSByZXF1aXJlKCcuLi9ncmlkY2VsbCcpO1xyXG5pbXBvcnQgSW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XHJcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwc3RvcmUnKTtcclxubGV0IHN0YW5kYXJkaXNhdGlvblNldHVwR3JpZENvbHVtbnNKc29uID0gcmVxdWlyZSgnLi4vc3RhbmRhcmRpc2F0aW9uc2V0dXBncmlkY29sdW1ucy5qc29uJyk7XHJcbmltcG9ydCBjb21wYXJlckxpc3QgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3NvcnRpbmcvc29ydGJhc2UvY29tcGFyZXJsaXN0Jyk7XHJcbmltcG9ydCBzb3J0SGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9zb3J0aW5nL3NvcnRoZWxwZXInKTtcclxuXHJcblxyXG4vKipcclxuICogSGVscGVyIGNsYXNzIGZvciBDbGFzc2lmaWVkIGdyaWQgdmlld1xyXG4gKi9cclxuY2xhc3MgUHJvdmlzaW9uYWxIZWxwZXIgZXh0ZW5kcyBzdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2Uge1xyXG5cclxuICAgIC8qIEdyaWQgcm93cyBjb2xsZWN0aW9uICovXHJcbiAgICBwdWJsaWMgX3Byb3Zpc2lvbmFsTGlzdENvbGxlY3Rpb246IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5IGlzIHVzZWQgZm9yIGdlbmVyYXRpbmcgcm93IGNvbGxlY3Rpb24gZm9yIFNURCBXb3JrTGlzdCBHcmlkXHJcbiAgICAgKiBAcGFyYW0gc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlIFxyXG4gICAgICogQHBhcmFtIGdyaWRUeXBlIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5KGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIC8vIEdldCBmcm96ZW4gY29sdW1uIGNvbGxlY3Rpb24uXHJcbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpzb25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlRnJvemVuUm93Qm9keShcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBTdG9yZS5pbnN0YW5jZS5zdGFuZGFyZGlzYXRpb25TZXR1cERldGFpbHMsXHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSxcclxuICAgICAgICAgICAgZ3JpZFR5cGUsXHJcbiAgICAgICAgICAgIGNvbXBhcmVyTmFtZSxcclxuICAgICAgICAgICAgc29ydERpcmVjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIEdyaWQgcm93c1xyXG4gICAgICogQHBhcmFtIHRhYlNlbGVjdGlvbiBcclxuICAgICAqIEBwYXJhbSBncmlkVHlwZSBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdlbmVyYXRlU3RhbmRhcmRpc2F0aW9uUm93RGVmaW5pb24oY29tcGFyZXJOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbixcclxuICAgICAgICB0YWJTZWxlY3Rpb246IGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLFxyXG4gICAgICAgIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpzb25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbik7XHJcbiAgICAgICAgdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaW9uKHRhYlNlbGVjdGlvbiwgZ3JpZFR5cGUsIGNvbXBhcmVyTmFtZSwgc29ydERpcmVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgcm93IGRlZmluaXRpb24gZm9yIHByb3Zpc2lvbmFsIHdvcmtsaXN0XHJcbiAgICAgKiBAcGFyYW0gdGFiU2VsZWN0aW9uIFxyXG4gICAgICogQHBhcmFtIGdyaWRUeXBlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0Um93RGVmaW5pb24odGFiU2VsZWN0aW9uOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcclxuICAgICAgICBncmlkVHlwZTogZW51bXMuR3JpZFR5cGUsXHJcbiAgICAgICAgY29tcGFyZXJOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgc29ydERpcmVjdGlvbjogZW51bXMuU29ydERpcmVjdGlvbik6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgc29ydGVkRGF0YTogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPjtcclxuICAgICAgICBsZXQgX3Byb3Zpc2lvbmFsUm93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9wcm92aXNpb25hbFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XHJcbiAgICAgICAgbGV0IF9wcm92aXNpb25hbFJlc3BvbnNlTGlzdERhdGE6IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz47XHJcbiAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5nZXRHcmlkQ29sdW1ucyh0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLCB0YWJTZWxlY3Rpb24sIGZhbHNlLCBncmlkVHlwZSk7XHJcbiAgICAgICAgbGV0IF9zdGRTZXR1cFJlc3BvbnNlRGV0YWlsczogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPiA9XHJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RhbmRhcmRpc2F0aW9uU2V0VXBSZXNwb25zZWRldGFpbHMuc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzO1xyXG4gICAgICAgIGxldCBtYXJrc0NvdW50ID0gX3N0ZFNldHVwUmVzcG9uc2VEZXRhaWxzLmZpcnN0KCkuc3RhbmRhcmRpc2F0aW9uTWFya3MgP1xyXG4gICAgICAgICAgICBJbW11dGFibGUuTGlzdDxSZXNwb25zZU1hcmtEZXRhaWxzPihfc3RkU2V0dXBSZXNwb25zZURldGFpbHMuZmlyc3QoKS5zdGFuZGFyZGlzYXRpb25NYXJrcykuY291bnQoKSA6IDA7XHJcblxyXG4gICAgICAgIF9wcm92aXNpb25hbFJlc3BvbnNlTGlzdERhdGEgPSBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+XHJcbiAgICAgICAgICAgIChzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0YW5kYXJkaXNhdGlvblNldFVwUmVzcG9uc2VkZXRhaWxzLnN0YW5kYXJkaXNhdGlvblJlc3BvbnNlcyk7XHJcbiAgICAgICAgc29ydGVkRGF0YSA9IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4oXHJcbiAgICAgICAgICAgIHNvcnRIZWxwZXIuc29ydChfcHJvdmlzaW9uYWxSZXNwb25zZUxpc3REYXRhLnRvQXJyYXkoKSwgY29tcGFyZXJMaXN0W2NvbXBhcmVyTmFtZV0pKTtcclxuICAgICAgICBfcHJvdmlzaW9uYWxSZXNwb25zZUxpc3REYXRhID0gc29ydGVkRGF0YTtcclxuICAgICAgICBpZiAoX3Byb3Zpc2lvbmFsUmVzcG9uc2VMaXN0RGF0YS5jb3VudCgpID4gMCkge1xyXG4gICAgICAgICAgICBfcHJvdmlzaW9uYWxSb3dDb2xsZWN0aW9uID1cclxuICAgICAgICAgICAgICAgIF9wcm92aXNpb25hbFJvd0NvbGxlY3Rpb24uY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Um93RGF0YShfcHJvdmlzaW9uYWxSZXNwb25zZUxpc3REYXRhLCBncmlkQ29sdW1ucywgZ3JpZFR5cGUsIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlByb3Zpc2lvbmFsUmVzcG9uc2UpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVybiB0aGUgY29tcGxldGUgcm93IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgdGhpcy5fcHJvdmlzaW9uYWxMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3Byb3Zpc2lvbmFsUm93Q29sbGVjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3Zpc2lvbmFsTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gUHJvdmlzaW9uYWxIZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcnMvcHJvdmlzaW9uYWxoZWxwZXIudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFBQTtBQUFBOztBQTBFQTtBQXJFQTs7OztBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFNQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 413:
/* no static exports found */
/* all exports used */
/*!*****************************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetuphelpers/selectresponsehelper.ts ***!
  \*****************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar React = __webpack_require__(/*! react */ 0);\r\nvar gridRow = __webpack_require__(/*! ../../../utility/grid/gridrow */ 296);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../../../stores/locale/localestore */ 226);\r\nvar standardisationsetuphelperbase = __webpack_require__(/*! ./standardisationsetuphelperbase */ 292);\r\nvar josnRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar standardisationGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/standardisationsetupgridcolumns.json */ 273);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar scriptStatusGridElement = __webpack_require__(/*! ../../../standardisationsetup/shared/scriptstatusgridelement */ 404);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar ReuseButton = __webpack_require__(/*! ../../../standardisationsetup/shared/reusebutton */ 384);\r\nvar ToggleButton = __webpack_require__(/*! ../../../utility/togglebutton */ 308);\r\nvar comparerList = __webpack_require__(/*! ../../../../utility/sorting/sortbase/comparerlist */ 262);\r\nvar sortHelper = __webpack_require__(/*! ../../../../utility/sorting/sorthelper */ 272);\r\nvar standardisationActionCreator = __webpack_require__(/*! ../../../../actions/standardisationsetup/standardisationactioncreator */ 251);\r\n/**\r\n * Helper class for select response grid view\r\n */\r\nvar SelectResponseHelper = /** @class */ (function (_super) {\r\n    __extends(SelectResponseHelper, _super);\r\n    function SelectResponseHelper() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Generate Centre Row Definition\r\n     * @param standardisationCentreList\r\n     */\r\n    SelectResponseHelper.prototype.generateCentreRowDefinition = function (standardisationCentreList) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(standardisationGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var isSeedResponse;\r\n        if (standardisationCentreList != null) {\r\n            var gridSeq = standardisationCentreList.centreList.keySeq();\r\n            var _responseListData = standardisationCentreList.centreList.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.standardisationsetup.SelectResponse.Centre.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _workListRowHeaderCellcollection = new Array();\r\n                _worklistRow = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _workListCell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.Centre:\r\n                            key = gridSeq.get(responseListCount) + '_Centre_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.centreNumber, key));\r\n                            break;\r\n                        case gridColumnNames.Scripts:\r\n                            key = gridSeq.get(responseListCount) + '_Scripts_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.totalScripts.toString(), key));\r\n                            break;\r\n                        case gridColumnNames.ScriptsAvailable:\r\n                            key = gridSeq.get(responseListCount) + '_ScriptsAvailable_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericTextElement(responseData.availableScripts.toString(), key));\r\n                            break;\r\n                        case gridColumnNames.FirstScanned:\r\n                            key = gridSeq.get(responseListCount) + '_FirstScanned_' + gridColumnCount;\r\n                            _workListCell.columnElement = (this.getGenericFormattedDateElement(responseData.firstScanned, key));\r\n                            break;\r\n                        default:\r\n                    }\r\n                    _workListCell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _workListCell.setCellStyle(cellStyle);\r\n                    _workListRowHeaderCellcollection.push(_workListCell);\r\n                }\r\n                _workListRowCollection.push(this.getGridRow(responseData.uniqueId.toString(), _workListRowHeaderCellcollection, undefined, standardisationSetupStore.instance.selectedCentreId === responseData.uniqueId ? 'row selected' : 'row'));\r\n            }\r\n        }\r\n        this._stdSetUpWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Method for getting the frozen row body for STD worklist\r\n     * @param standardisationResponseData\r\n     */\r\n    SelectResponseHelper.prototype.generateStandardisationFrozenRowBodyReusableGrid = function (reusableResponsesList, comparerName, sortDirection) {\r\n        var _stdWorkListRowHeaderCellcollection = Array();\r\n        var _stdWorkListRowCollection = Array();\r\n        var _reusableResponseListData;\r\n        var _stdResponseColumn;\r\n        var componentPropsJson;\r\n        var _stdWorkListCell;\r\n        var key;\r\n        var cssClass;\r\n        _reusableResponseListData = reusableResponsesList.toArray();\r\n        var _comparerName = (sortDirection === enums.SortDirection.Ascending) ? comparerName : comparerName + 'Desc';\r\n        var sortedData = Immutable.List(sortHelper.sort(_reusableResponseListData, comparerList[_comparerName]));\r\n        _reusableResponseListData = sortedData.toArray();\r\n        if (_reusableResponseListData != null) {\r\n            var previousMarkingMode = enums.MarkingMode.None;\r\n            var gridSeq = Immutable.List(_reusableResponseListData).keySeq();\r\n            var responseListLength = _reusableResponseListData.length;\r\n            for (var stdResponseCount = 0; stdResponseCount < responseListLength; stdResponseCount++) {\r\n                // Getting the std worklist data row\r\n                _stdWorkListRowHeaderCellcollection = new Array();\r\n                // instead of accessing _standardisationResponseListData[standardisationResponseListCount]\r\n                // collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var stdResponseData = _reusableResponseListData[stdResponseCount];\r\n                var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, enums.StandardisationSetup.SelectResponse, true, null, enums.StandardisationSessionTab.PreviousSession);\r\n                var gridColumnLength = gridColumns.length;\r\n                // Getting the STD worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _stdResponseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _stdWorkListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    //Switch statement for adding frozen columns in future.\r\n                    switch (_stdResponseColumn) {\r\n                        case gridColumnNames.ScriptId:\r\n                            key = gridSeq.get(stdResponseCount) + '_ScriptId_' + stdResponseCount;\r\n                            _stdWorkListCell.columnElement =\r\n                                this.getResponseIdColumnElement(stdResponseData, key, true, true, stdResponseData.candidateScriptId.toString());\r\n                            _stdWorkListCell.setCellStyle('col-script-id header-col');\r\n                            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                            break;\r\n                        case gridColumnNames.Status:\r\n                            key = 'reusableresponse' + '_Is_Reused_' + stdResponseCount;\r\n                            var responseStatuses = Immutable.List();\r\n                            _stdWorkListCell.columnElement = this.reuseButton(stdResponseData.reUsedQIG, stdResponseCount, stdResponseData.displayId);\r\n                            _stdWorkListCell.setCellStyle('col-re-use');\r\n                            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                            break;\r\n                        case gridColumnNames.OrginalSession:\r\n                            key = gridSeq.get(stdResponseCount) + '_Orginal_Session_' + stdResponseCount;\r\n                            _stdWorkListCell.columnElement = (this.getGenericTextElement(stdResponseData.originalSession.toString(), key));\r\n                            _stdWorkListCell.setCellStyle('col-org-session');\r\n                            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                            break;\r\n                        case gridColumnNames.OrginalClassification:\r\n                            key = gridSeq.get(stdResponseCount) + '_Orginal_Classification_' + stdResponseCount;\r\n                            _stdWorkListCell.columnElement = (this.getGenericTextElement(stdResponseData.originalClassification.toString(), key));\r\n                            _stdWorkListCell.setCellStyle('col-org-classification');\r\n                            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                            break;\r\n                    }\r\n                }\r\n                // Creating the table row collection.\r\n                _stdWorkListRowCollection.push(this.getGridRow(stdResponseData.displayId.toString(), _stdWorkListRowHeaderCellcollection));\r\n            }\r\n        }\r\n        var _stdWorkListFrozenRowBodyCollection = Immutable.fromJS(_stdWorkListRowCollection);\r\n        return _stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Reuse button return\r\n     * @param isDisabled\r\n     * @param id\r\n     * @param displayId\r\n     */\r\n    SelectResponseHelper.prototype.reuseButton = function (isDisabled, id, displayId) {\r\n        var componentProps;\r\n        componentProps = {\r\n            isDisabled: isDisabled,\r\n            id: id,\r\n            renderedOn: Date.now(),\r\n            displayId: displayId\r\n        };\r\n        return React.createElement(ReuseButton, componentProps);\r\n    };\r\n    /**\r\n     * Onclick hide response\r\n     */\r\n    SelectResponseHelper.prototype.hideResponse = function (isChecked, displayID, key) {\r\n        var componentProps;\r\n        componentProps = {\r\n            id: key + '_id',\r\n            key: key + '_key',\r\n            isChecked: isChecked,\r\n            selectedLanguage: localeStore.instance.Locale,\r\n            index: 0,\r\n            onChange: this.onHideResponseToggleChange,\r\n            style: null,\r\n            className: 'form-component',\r\n            title: 'Hide Response',\r\n            isDisabled: false,\r\n            onText: localeStore.instance.TranslateText('generic.toggle-button-states.yes'),\r\n            offText: localeStore.instance.TranslateText('generic.toggle-button-states.no'),\r\n            displayId: displayID\r\n        };\r\n        return React.createElement(ToggleButton, componentProps);\r\n    };\r\n    /**\r\n     * for handling the hide response toggle change event.\r\n     */\r\n    SelectResponseHelper.prototype.onHideResponseToggleChange = function (evt, isChecked, displayId) {\r\n        standardisationActionCreator.updateHideResponseStatus(!isChecked, displayId);\r\n    };\r\n    /**\r\n     * Generate reusable response row definition\r\n     * @param reusableResponsesList\r\n     */\r\n    SelectResponseHelper.prototype.generateReusableResponsesRowDefinition = function (reusableResponsesList, comparerName, sortDirection) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(standardisationGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        var _workListRowCollection = Array();\r\n        var _workListRowHeaderCellcollection = Array();\r\n        var _worklistRow;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _workListCell;\r\n        var key;\r\n        var _reusableResponseListData = reusableResponsesList.toArray();\r\n        var _comparerName = (sortDirection === enums.SortDirection.Ascending) ? comparerName : comparerName + 'Desc';\r\n        var sortedData = Immutable.List(sortHelper.sort(_reusableResponseListData, comparerList[_comparerName]));\r\n        _reusableResponseListData = sortedData.toArray();\r\n        var responseListLength = _reusableResponseListData.length;\r\n        for (var reusableResponseCount = 0; reusableResponseCount < responseListLength; reusableResponseCount++) {\r\n            // Getting the worklist data row\r\n            var gridColumns = this.resolvedGridColumnsJson.standardisationsetup.PreviousSession.ReusableResponse.GridColumns;\r\n            var gridColumnLength = gridColumns.length;\r\n            _workListRowHeaderCellcollection = new Array();\r\n            _worklistRow = new gridRow();\r\n            // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n            // outside the loop globally\r\n            var responseData = _reusableResponseListData[reusableResponseCount];\r\n            for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                _workListCell = new gridCell();\r\n                switch (_responseColumn) {\r\n                    case gridColumnNames.Centre:\r\n                        key = 'reusableresponse' + '_Centre_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getGenericTextElement(responseData.centreNumber.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.CentreCandidateNum:\r\n                        key = 'reusableresponse' + '_Candidate_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getGenericTextElement(responseData.centreCandidateNumber.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.Mark:\r\n                        key = 'reusableresponse' + '_Mark_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getGenericTextElement(responseData.totalMarkValue.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.OrginalMarksUpdated:\r\n                        key = 'reusableresponse' + '_Orginal_Marks_Updated_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getConvertTextElement(responseData.originalMarksUpdated.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.HideResponse:\r\n                        key = 'reusableresponse' + '_HideResponse_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.hideResponse(responseData.hidden, responseData.displayId, key));\r\n                        break;\r\n                    case gridColumnNames.Totaltimereused:\r\n                        key = 'reusableresponse' + '_Totaltimereused_' + reusableResponseCount;\r\n                        var toolTip = this.getToolTipTotalTimeReused(responseData.reusedComponentTooltipData, false);\r\n                        _workListCell.columnElement = (this.getGenericTextElement(responseData.timesReUsed.toString(), key, toolTip));\r\n                        break;\r\n                    case gridColumnNames.LastUsed:\r\n                        key = 'reusableresponse' + '_LastUsed_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getGenericTextElement(responseData.lastUsed.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.TimesReusedInThisSession:\r\n                        key = 'reusableresponse' + '_Times_Reused_In_This_Session_' + reusableResponseCount;\r\n                        var sessionToolTip = this.getToolTipTotalTimeReused(responseData.reusedSessionTooltipData, true);\r\n                        _workListCell.columnElement =\r\n                            (this.getGenericTextElement(responseData.timesReUsedSession.toString(), key, sessionToolTip));\r\n                        break;\r\n                    case gridColumnNames.UpdatePending:\r\n                        key = 'reusableresponse' + '_Update_Pending_' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getConvertTextElement(responseData.updatesPending.toString(), key));\r\n                        break;\r\n                    case gridColumnNames.IsReusedInThisQIG:\r\n                        key = 'reusableresponse' + '_Is_Reused_In_This_QIG' + reusableResponseCount;\r\n                        _workListCell.columnElement = (this.getConvertTextElement(responseData.reUsedQIG.toString(), key));\r\n                        break;\r\n                    default:\r\n                }\r\n                var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                _workListCell.setCellStyle(cellStyle);\r\n                _workListRowHeaderCellcollection.push(_workListCell);\r\n            }\r\n            _workListRowCollection.push(this.getGridRow(responseData.candidateScriptId.toString(), _workListRowHeaderCellcollection, undefined));\r\n        }\r\n        this._stdSetUpWorkListCollection = Immutable.fromJS(_workListRowCollection);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Get Tooltip for total time reused coulumn\r\n     * @param totalTimesReusedTooltip\r\n     */\r\n    SelectResponseHelper.prototype.getToolTipTotalTimeReused = function (totalTimesReusedTooltip, isTooltipForthisSession) {\r\n        var toolTipData = localeStore.instance.TranslateText('standardisation-setup.previous-session.reused-tooltip.not-reused');\r\n        var toolTipList = Immutable.List(totalTimesReusedTooltip).toArray();\r\n        var toolTipListLength = toolTipList.length;\r\n        if (toolTipListLength !== null && toolTipListLength > 0) {\r\n            toolTipData = isTooltipForthisSession ?\r\n                localeStore.instance.TranslateText('standardisation-setup.previous-session.reused-tooltip.reused-in-this-session-tooltip') :\r\n                localeStore.instance.TranslateText('standardisation-setup.previous-session.reused-tooltip.reused-overall-tooltip');\r\n            for (var a = 0; a < toolTipListLength; a++) {\r\n                var rr = toolTipList[a];\r\n                if (rr.marking_Mode === 'ES Team Approval') {\r\n                    rr.marking_Mode = 'ES_TeamApproval';\r\n                }\r\n                else if (rr.marking_Mode === 'Pre_Standardisation' || rr.marking_Mode === 'Pre Standardisation') {\r\n                    rr.marking_Mode = 'PreStandardisation';\r\n                }\r\n                toolTipData = toolTipData + ' '\r\n                    + localeStore.instance.TranslateText('standardisation-setup.previous-session.reused-tooltip.' + rr.marking_Mode)\r\n                    + '(' + rr.timesUsed\r\n                    + (isTooltipForthisSession ? (')') : ('/' + rr.session + ')'))\r\n                    + (a < toolTipListLength - 1 ? ',' : '');\r\n            }\r\n        }\r\n        return toolTipData;\r\n    };\r\n    /**\r\n     * generate Script Row definition\r\n     * @param standardisationScriptList\r\n     */\r\n    SelectResponseHelper.prototype.generateScriptRowDefinition = function (standardisationScriptList) {\r\n        this.resolvedGridColumnsJson = josnRefResolver.resolveRefs(standardisationGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        var _rowCollection = Array();\r\n        var _rowHeaderCellcollection = Array();\r\n        var _row;\r\n        var _responseColumn;\r\n        var componentPropsJson;\r\n        var _cell;\r\n        var key;\r\n        var isSeedResponse;\r\n        if (standardisationScriptList != null) {\r\n            var gridSeq = standardisationScriptList.centreScriptList.keySeq();\r\n            var _responseListData = standardisationScriptList.centreScriptList.toArray();\r\n            var responseListLength = _responseListData.length;\r\n            for (var responseListCount = 0; responseListCount < responseListLength; responseListCount++) {\r\n                // Getting the worklist data row\r\n                var gridColumns = this.resolvedGridColumnsJson.standardisationsetup.SelectResponse.Script.GridColumns;\r\n                var gridColumnLength = gridColumns.length;\r\n                _rowHeaderCellcollection = new Array();\r\n                _row = new gridRow();\r\n                // instead of accessing _responseListData[responseListCount] collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var responseData = _responseListData[responseListCount];\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _responseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    _cell = new gridCell();\r\n                    switch (_responseColumn) {\r\n                        case gridColumnNames.CentreCandidateNum:\r\n                            key = gridSeq.get(responseListCount) + '_CentreCandidateNo_' + gridColumnCount;\r\n                            _cell.columnElement = (this.getGenericTextElement(responseData.centreCandidateNumber, key));\r\n                            break;\r\n                        case gridColumnNames.Status:\r\n                            key = gridSeq.get(responseListCount) + '_Status_' + gridColumnCount;\r\n                            _cell.columnElement = this.getScriptStatusElement(responseData, key);\r\n                            break;\r\n                        case gridColumnNames.SLAOIndicator:\r\n                            key = gridSeq.get(responseListCount) + '_SLAOIndicator_' + gridColumnCount;\r\n                            _cell.columnElement = (this.getSLAOIndicatorElement(responseData, componentPropsJson, key, false, false));\r\n                            break;\r\n                        case gridColumnNames.QuestionItems:\r\n                            if (configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.eBookmarking).toLowerCase() === 'true' ? true : false) {\r\n                                key = gridSeq.get(responseListCount) + '_QuestionItems_' + gridColumnCount;\r\n                                _cell.columnElement = (this.getGenericTextElement(responseData.questionItems.toString(), key));\r\n                            }\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    _cell.isHidden = this.getCellVisibility(_responseColumn);\r\n                    var cellStyle = (gridColumns[gridColumnCount].CssClass) ? gridColumns[gridColumnCount].CssClass : '';\r\n                    _cell.setCellStyle(cellStyle);\r\n                    _rowHeaderCellcollection.push(_cell);\r\n                }\r\n                _rowCollection.push(this.getGridRow(responseData.candidateScriptId.toString(), _rowHeaderCellcollection, undefined));\r\n            }\r\n        }\r\n        this._stdSetUpWorkListCollection = Immutable.fromJS(_rowCollection);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * get Script status element for worklist\r\n     * @param standardisationScriptDetails Get the script status element\r\n     * @param seq\r\n     */\r\n    SelectResponseHelper.prototype.getScriptStatusElement = function (standardisationScriptDetails, seq) {\r\n        var componentProps;\r\n        componentProps = {\r\n            key: seq,\r\n            id: seq,\r\n            isAllocatedALive: standardisationScriptDetails.isAllocatedALive,\r\n            isUsedForProvisionalMarking: standardisationScriptDetails.isUsedForProvisionalMarking,\r\n            selectedLanguage: localeStore.instance.Locale\r\n        };\r\n        return React.createElement(scriptStatusGridElement, componentProps);\r\n    };\r\n    return SelectResponseHelper;\r\n}(standardisationsetuphelperbase));\r\nmodule.exports = SelectResponseHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy9zZWxlY3RyZXNwb25zZWhlbHBlci50cz82ZTBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5pbXBvcnQgZ3JpZFJvdyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9ncmlkcm93Jyk7XG5pbXBvcnQgZ3JpZENlbGwgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZGNlbGwnKTtcbmltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL2VudW1zJyk7XG5pbXBvcnQgbG9jYWxlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvbG9jYWxlL2xvY2FsZXN0b3JlJyk7XG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJiYXNlID0gcmVxdWlyZSgnLi9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2UnKTtcbmltcG9ydCBqb3NuUmVmUmVzb2x2ZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L2pzb25yZWZyZXNvbHZlci9qb3NucmVmcmVzb2x2ZXInKTtcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcbmxldCBzdGFuZGFyZGlzYXRpb25HcmlkQ29sdW1uc0pzb24gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBncmlkY29sdW1ucy5qc29uJyk7XG5pbXBvcnQgZ3JpZENvbHVtbk5hbWVzID0gcmVxdWlyZSgnLi4vZ3JpZGNvbHVtbm5hbWVzJyk7XG5pbXBvcnQgc2NyaXB0U3RhdHVzR3JpZEVsZW1lbnQgPSByZXF1aXJlKCcuLi8uLi8uLi9zdGFuZGFyZGlzYXRpb25zZXR1cC9zaGFyZWQvc2NyaXB0c3RhdHVzZ3JpZGVsZW1lbnQnKTtcbmltcG9ydCBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwc3RvcmUnKTtcbmltcG9ydCBlY291cnNlV29ya0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uL2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcyA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMnKTtcbmltcG9ydCBSZXVzZUJ1dHRvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0YW5kYXJkaXNhdGlvbnNldHVwL3NoYXJlZC9yZXVzZWJ1dHRvbicpO1xuaW1wb3J0IFRvZ2dsZUJ1dHRvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvdG9nZ2xlYnV0dG9uJyk7XG5pbXBvcnQgY29tcGFyZXJMaXN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9zb3J0aW5nL3NvcnRiYXNlL2NvbXBhcmVybGlzdCcpO1xuaW1wb3J0IHNvcnRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3NvcnRpbmcvc29ydGhlbHBlcicpO1xuaW1wb3J0IHN0YW5kYXJkaXNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9hY3Rpb25zL3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbmFjdGlvbmNyZWF0b3InKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHNlbGVjdCByZXNwb25zZSBncmlkIHZpZXdcbiAqL1xuY2xhc3MgU2VsZWN0UmVzcG9uc2VIZWxwZXIgZXh0ZW5kcyBzdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2Uge1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgQ2VudHJlIFJvdyBEZWZpbml0aW9uXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvbkNlbnRyZUxpc3RcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVDZW50cmVSb3dEZWZpbml0aW9uKHN0YW5kYXJkaXNhdGlvbkNlbnRyZUxpc3Q6IFN0YW5kYXJkaXNhdGlvbkNlbnRyZURldGFpbHNMaXN0KSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24gPSBqb3NuUmVmUmVzb2x2ZXIucmVzb2x2ZVJlZnMoc3RhbmRhcmRpc2F0aW9uR3JpZENvbHVtbnNKc29uKTtcbiAgICAgICAgdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb24gPSBJbW11dGFibGUuTGlzdDxncmlkUm93PigpO1xuXG4gICAgICAgIGxldCBfd29ya0xpc3RSb3dDb2xsZWN0aW9uID0gQXJyYXk8Z3JpZFJvdz4oKTtcbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XG4gICAgICAgIGxldCBfd29ya2xpc3RSb3c6IGdyaWRSb3c7XG4gICAgICAgIGxldCBfcmVzcG9uc2VDb2x1bW46IGFueTtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzSnNvbjogYW55O1xuICAgICAgICBsZXQgX3dvcmtMaXN0Q2VsbDogZ3JpZENlbGw7XG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcbiAgICAgICAgbGV0IGlzU2VlZFJlc3BvbnNlOiBib29sZWFuO1xuICAgICAgICBpZiAoc3RhbmRhcmRpc2F0aW9uQ2VudHJlTGlzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgZ3JpZFNlcSA9IHN0YW5kYXJkaXNhdGlvbkNlbnRyZUxpc3QuY2VudHJlTGlzdC5rZXlTZXEoKTtcbiAgICAgICAgICAgIGxldCBfcmVzcG9uc2VMaXN0RGF0YSA9IHN0YW5kYXJkaXNhdGlvbkNlbnRyZUxpc3QuY2VudHJlTGlzdC50b0FycmF5KCk7XG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VMaXN0TGVuZ3RoID0gX3Jlc3BvbnNlTGlzdERhdGEubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgcmVzcG9uc2VMaXN0Q291bnQgPSAwOyByZXNwb25zZUxpc3RDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmVzcG9uc2VMaXN0Q291bnQrKykge1xuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbi5zdGFuZGFyZGlzYXRpb25zZXR1cC5TZWxlY3RSZXNwb25zZS5DZW50cmUuR3JpZENvbHVtbnM7XG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgICBfd29ya2xpc3RSb3cgPSBuZXcgZ3JpZFJvdygpO1xuXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxuICAgICAgICAgICAgICAgIC8vIG91dHNpZGUgdGhlIGxvb3AgZ2xvYmFsbHlcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VEYXRhOiBTdGFuZGFyZGlzYXRpb25DZW50cmVEZXRhaWxzID0gX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcbiAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9yZXNwb25zZUNvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfQ2VudHJlXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5jZW50cmVOdW1iZXIsIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU2NyaXB0czpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NjcmlwdHNfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLnRvdGFsU2NyaXB0cy50b1N0cmluZygpLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNjcmlwdHNBdmFpbGFibGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19TY3JpcHRzQXZhaWxhYmxlXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY1RleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5hdmFpbGFibGVTY3JpcHRzLnRvU3RyaW5nKCksIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuRmlyc3RTY2FubmVkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHJlc3BvbnNlTGlzdENvdW50KSArICdfRmlyc3RTY2FubmVkXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0R2VuZXJpY0Zvcm1hdHRlZERhdGVFbGVtZW50KHJlc3BvbnNlRGF0YS5maXJzdFNjYW5uZWQsIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmlzSGlkZGVuID0gdGhpcy5nZXRDZWxsVmlzaWJpbGl0eShfcmVzcG9uc2VDb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbFN0eWxlID0gKGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MpID8gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcyA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLnNldENlbGxTdHlsZShjZWxsU3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YS51bmlxdWVJZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24sIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc2VsZWN0ZWRDZW50cmVJZCA9PT0gcmVzcG9uc2VEYXRhLnVuaXF1ZUlkID8gJ3JvdyBzZWxlY3RlZCcgOiAncm93J1xuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3dvcmtMaXN0Um93Q29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgZm9yIGdldHRpbmcgdGhlIGZyb3plbiByb3cgYm9keSBmb3IgU1REIHdvcmtsaXN0XG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGF0YVxuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVN0YW5kYXJkaXNhdGlvbkZyb3plblJvd0JvZHlSZXVzYWJsZUdyaWQocmV1c2FibGVSZXNwb25zZXNMaXN0OiBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+LFxuICAgICAgICBjb21wYXJlck5hbWU/OiBzdHJpbmcsXG4gICAgICAgIHNvcnREaXJlY3Rpb24/OiBlbnVtcy5Tb3J0RGlyZWN0aW9uKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuXG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IEFycmF5PGdyaWRDZWxsPigpO1xuICAgICAgICBsZXQgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XG4gICAgICAgIGxldCBfcmV1c2FibGVSZXNwb25zZUxpc3REYXRhOiBTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHNbXTtcbiAgICAgICAgbGV0IF9zdGRSZXNwb25zZUNvbHVtbjogYW55O1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuICAgICAgICBsZXQgY3NzQ2xhc3M6IHN0cmluZztcblxuICAgICAgICBfcmV1c2FibGVSZXNwb25zZUxpc3REYXRhID0gcmV1c2FibGVSZXNwb25zZXNMaXN0LnRvQXJyYXkoKTtcbiAgICAgICAgbGV0IF9jb21wYXJlck5hbWUgPSAoc29ydERpcmVjdGlvbiA9PT0gZW51bXMuU29ydERpcmVjdGlvbi5Bc2NlbmRpbmcpID8gY29tcGFyZXJOYW1lIDogY29tcGFyZXJOYW1lICsgJ0Rlc2MnO1xuICAgICAgICBsZXQgc29ydGVkRGF0YTogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPiA9IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4oXG4gICAgICAgICAgICBzb3J0SGVscGVyLnNvcnQoX3JldXNhYmxlUmVzcG9uc2VMaXN0RGF0YSwgY29tcGFyZXJMaXN0W19jb21wYXJlck5hbWVdKSk7XG4gICAgICAgIF9yZXVzYWJsZVJlc3BvbnNlTGlzdERhdGEgPSBzb3J0ZWREYXRhLnRvQXJyYXkoKTtcblxuICAgICAgICBpZiAoX3JldXNhYmxlUmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgcHJldmlvdXNNYXJraW5nTW9kZTogZW51bXMuTWFya2luZ01vZGUgPSBlbnVtcy5NYXJraW5nTW9kZS5Ob25lO1xuICAgICAgICAgICAgbGV0IGdyaWRTZXEgPSBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+KF9yZXVzYWJsZVJlc3BvbnNlTGlzdERhdGEpLmtleVNlcSgpO1xuICAgICAgICAgICAgbGV0IHJlc3BvbnNlTGlzdExlbmd0aCA9IF9yZXVzYWJsZVJlc3BvbnNlTGlzdERhdGEubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgc3RkUmVzcG9uc2VDb3VudCA9IDA7IHN0ZFJlc3BvbnNlQ291bnQgPCByZXNwb25zZUxpc3RMZW5ndGg7IHN0ZFJlc3BvbnNlQ291bnQrKykge1xuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHN0ZCB3b3JrbGlzdCBkYXRhIHJvd1xuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gbmV3IEFycmF5KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFjY2Vzc2luZyBfc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VMaXN0RGF0YVtzdGFuZGFyZGlzYXRpb25SZXNwb25zZUxpc3RDb3VudF1cbiAgICAgICAgICAgICAgICAvLyBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XG4gICAgICAgICAgICAgICAgbGV0IHN0ZFJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzID0gX3JldXNhYmxlUmVzcG9uc2VMaXN0RGF0YVtzdGRSZXNwb25zZUNvdW50XTtcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24sIGVudW1zLlN0YW5kYXJkaXNhdGlvblNldHVwLlNlbGVjdFJlc3BvbnNlLCB0cnVlLCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXNzaW9uVGFiLlByZXZpb3VzU2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBTVEQgd29ya2xpc3QgY29sdW1uc1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zdGRSZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbCA9IG5ldyBncmlkQ2VsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNvbXBvbmVudFByb3BzO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vU3dpdGNoIHN0YXRlbWVudCBmb3IgYWRkaW5nIGZyb3plbiBjb2x1bW5zIGluIGZ1dHVyZS5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfc3RkUmVzcG9uc2VDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlNjcmlwdElkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHN0ZFJlc3BvbnNlQ291bnQpICsgJ19TY3JpcHRJZF8nICsgc3RkUmVzcG9uc2VDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFJlc3BvbnNlSWRDb2x1bW5FbGVtZW50KHN0ZFJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLmNhbmRpZGF0ZVNjcmlwdElkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKCdjb2wtc2NyaXB0LWlkIGhlYWRlci1jb2wnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU3RhdHVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICdyZXVzYWJsZXJlc3BvbnNlJyArICdfSXNfUmV1c2VkXycgKyBzdGRSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVN0YXR1c2VzID0gSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gdGhpcy5yZXVzZUJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGRSZXNwb25zZURhdGEucmVVc2VkUUlHLCBzdGRSZXNwb25zZUNvdW50LCBzdGRSZXNwb25zZURhdGEuZGlzcGxheUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLnNldENlbGxTdHlsZSgnY29sLXJlLXVzZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLnB1c2goX3N0ZFdvcmtMaXN0Q2VsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5PcmdpbmFsU2Vzc2lvbjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChzdGRSZXNwb25zZUNvdW50KSArICdfT3JnaW5hbF9TZXNzaW9uXycgKyBzdGRSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChzdGRSZXNwb25zZURhdGEub3JpZ2luYWxTZXNzaW9uLnRvU3RyaW5nKCksIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwuc2V0Q2VsbFN0eWxlKCdjb2wtb3JnLXNlc3Npb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuT3JnaW5hbENsYXNzaWZpY2F0aW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdyaWRTZXEuZ2V0KHN0ZFJlc3BvbnNlQ291bnQpICsgJ19PcmdpbmFsX0NsYXNzaWZpY2F0aW9uXycgKyBzdGRSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLm9yaWdpbmFsQ2xhc3NpZmljYXRpb24udG9TdHJpbmcoKSwga2V5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoJ2NvbC1vcmctY2xhc3NpZmljYXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9zdGRXb3JrTGlzdENlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0NvbGxlY3Rpb24ucHVzaChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLmRpc3BsYXlJZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIF9zdGRXb3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldXNlIGJ1dHRvbiByZXR1cm4gXG4gICAgICogQHBhcmFtIGlzRGlzYWJsZWRcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcGFyYW0gZGlzcGxheUlkXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXVzZUJ1dHRvbihpc0Rpc2FibGVkOiBib29sZWFuLCBpZDogbnVtYmVyLCBkaXNwbGF5SWQ6IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KCksXG4gICAgICAgICAgICBkaXNwbGF5SWQ6IGRpc3BsYXlJZFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZXVzZUJ1dHRvbiwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9uY2xpY2sgaGlkZSByZXNwb25zZVxuICAgICAqL1xuICAgIHByaXZhdGUgaGlkZVJlc3BvbnNlKGlzQ2hlY2tlZDogYm9vbGVhbiwgZGlzcGxheUlEOiBzdHJpbmcsIGtleTogc3RyaW5nKTogSlNYLkVsZW1lbnQge1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHM6IGFueTtcbiAgICAgICAgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgICAgICBpZDoga2V5ICsgJ19pZCcsXG4gICAgICAgICAgICBrZXk6IGtleSArICdfa2V5JyxcbiAgICAgICAgICAgIGlzQ2hlY2tlZDogaXNDaGVja2VkLFxuICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZTogbG9jYWxlU3RvcmUuaW5zdGFuY2UuTG9jYWxlLFxuICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkhpZGVSZXNwb25zZVRvZ2dsZUNoYW5nZSxcbiAgICAgICAgICAgIHN0eWxlOiBudWxsLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnZm9ybS1jb21wb25lbnQnLFxuICAgICAgICAgICAgdGl0bGU6ICdIaWRlIFJlc3BvbnNlJyxcbiAgICAgICAgICAgIGlzRGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgb25UZXh0OiBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLnRvZ2dsZS1idXR0b24tc3RhdGVzLnllcycpLFxuICAgICAgICAgICAgb2ZmVGV4dDogbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy50b2dnbGUtYnV0dG9uLXN0YXRlcy5ubycpLFxuICAgICAgICAgICAgZGlzcGxheUlkOiBkaXNwbGF5SURcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9nZ2xlQnV0dG9uLCBjb21wb25lbnRQcm9wcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZm9yIGhhbmRsaW5nIHRoZSBoaWRlIHJlc3BvbnNlIHRvZ2dsZSBjaGFuZ2UgZXZlbnQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBvbkhpZGVSZXNwb25zZVRvZ2dsZUNoYW5nZShldnQ6IGFueSwgaXNDaGVja2VkOiBib29sZWFuLCBkaXNwbGF5SWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBzdGFuZGFyZGlzYXRpb25BY3Rpb25DcmVhdG9yLnVwZGF0ZUhpZGVSZXNwb25zZVN0YXR1cyghaXNDaGVja2VkLCBkaXNwbGF5SWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHJldXNhYmxlIHJlc3BvbnNlIHJvdyBkZWZpbml0aW9uXG4gICAgICogQHBhcmFtIHJldXNhYmxlUmVzcG9uc2VzTGlzdFxuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVJldXNhYmxlUmVzcG9uc2VzUm93RGVmaW5pdGlvbihyZXVzYWJsZVJlc3BvbnNlc0xpc3Q6IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4sXG4gICAgICAgIGNvbXBhcmVyTmFtZT86IHN0cmluZyxcbiAgICAgICAgc29ydERpcmVjdGlvbj86IGVudW1zLlNvcnREaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlZEdyaWRDb2x1bW5zSnNvbiA9IGpvc25SZWZSZXNvbHZlci5yZXNvbHZlUmVmcyhzdGFuZGFyZGlzYXRpb25HcmlkQ29sdW1uc0pzb24pO1xuICAgICAgICB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+KCk7XG5cbiAgICAgICAgbGV0IF93b3JrTGlzdFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xuICAgICAgICBsZXQgX3dvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcbiAgICAgICAgbGV0IF93b3JrbGlzdFJvdzogZ3JpZFJvdztcbiAgICAgICAgbGV0IF9yZXNwb25zZUNvbHVtbjogYW55O1xuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XG4gICAgICAgIGxldCBfd29ya0xpc3RDZWxsOiBncmlkQ2VsbDtcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuXG4gICAgICAgIGxldCBfcmV1c2FibGVSZXNwb25zZUxpc3REYXRhID0gcmV1c2FibGVSZXNwb25zZXNMaXN0LnRvQXJyYXkoKTtcbiAgICAgICAgbGV0IF9jb21wYXJlck5hbWUgPSAoc29ydERpcmVjdGlvbiA9PT0gZW51bXMuU29ydERpcmVjdGlvbi5Bc2NlbmRpbmcpID8gY29tcGFyZXJOYW1lIDogY29tcGFyZXJOYW1lICsgJ0Rlc2MnO1xuICAgICAgICBsZXQgc29ydGVkRGF0YSA9IEltbXV0YWJsZS5MaXN0PGFueT4oXG4gICAgICAgICAgICBzb3J0SGVscGVyLnNvcnQoX3JldXNhYmxlUmVzcG9uc2VMaXN0RGF0YSwgY29tcGFyZXJMaXN0W19jb21wYXJlck5hbWVdKSk7XG4gICAgICAgIF9yZXVzYWJsZVJlc3BvbnNlTGlzdERhdGEgPSBzb3J0ZWREYXRhLnRvQXJyYXkoKTtcbiAgICAgICAgbGV0IHJlc3BvbnNlTGlzdExlbmd0aCA9IF9yZXVzYWJsZVJlc3BvbnNlTGlzdERhdGEubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IHJldXNhYmxlUmVzcG9uc2VDb3VudCA9IDA7IHJldXNhYmxlUmVzcG9uc2VDb3VudCA8IHJlc3BvbnNlTGlzdExlbmd0aDsgcmV1c2FibGVSZXNwb25zZUNvdW50KyspIHtcbiAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHdvcmtsaXN0IGRhdGEgcm93XG4gICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLlByZXZpb3VzU2Vzc2lvbi5SZXVzYWJsZVJlc3BvbnNlLkdyaWRDb2x1bW5zO1xuICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5MZW5ndGggPSBncmlkQ29sdW1ucy5sZW5ndGg7XG4gICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbiA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgX3dvcmtsaXN0Um93ID0gbmV3IGdyaWRSb3coKTtcblxuICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhY2Nlc3NpbmcgX3Jlc3BvbnNlTGlzdERhdGFbcmVzcG9uc2VMaXN0Q291bnRdIGNvbGxlY3Rpb24gaW5zaWRlIGxvb3AsIGl0cyBhY2Nlc3NlZFxuICAgICAgICAgICAgLy8gb3V0c2lkZSB0aGUgbG9vcCBnbG9iYWxseVxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzID0gX3JldXNhYmxlUmVzcG9uc2VMaXN0RGF0YVtyZXVzYWJsZVJlc3BvbnNlQ291bnRdO1xuICAgICAgICAgICAgZm9yIChsZXQgZ3JpZENvbHVtbkNvdW50ID0gMDsgZ3JpZENvbHVtbkNvdW50IDwgZ3JpZENvbHVtbkxlbmd0aDsgZ3JpZENvbHVtbkNvdW50KyspIHtcbiAgICAgICAgICAgICAgICBfcmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XG4gICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsID0gbmV3IGdyaWRDZWxsKCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuQ2VudHJlOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gJ3JldXNhYmxlcmVzcG9uc2UnICsgJ19DZW50cmVfJyArIHJldXNhYmxlUmVzcG9uc2VDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEuY2VudHJlTnVtYmVyLnRvU3RyaW5nKCksIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkNlbnRyZUNhbmRpZGF0ZU51bTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICdyZXVzYWJsZXJlc3BvbnNlJyArICdfQ2FuZGlkYXRlXycgKyByZXVzYWJsZVJlc3BvbnNlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLmNlbnRyZUNhbmRpZGF0ZU51bWJlci50b1N0cmluZygpLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5NYXJrOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gJ3JldXNhYmxlcmVzcG9uc2UnICsgJ19NYXJrXycgKyByZXVzYWJsZVJlc3BvbnNlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLnRvdGFsTWFya1ZhbHVlLnRvU3RyaW5nKCksIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLk9yZ2luYWxNYXJrc1VwZGF0ZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSAncmV1c2FibGVyZXNwb25zZScgKyAnX09yZ2luYWxfTWFya3NfVXBkYXRlZF8nICsgcmV1c2FibGVSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0Q29udmVydFRleHRFbGVtZW50KHJlc3BvbnNlRGF0YS5vcmlnaW5hbE1hcmtzVXBkYXRlZC50b1N0cmluZygpLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5IaWRlUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSAncmV1c2FibGVyZXNwb25zZScgKyAnX0hpZGVSZXNwb25zZV8nICsgcmV1c2FibGVSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuaGlkZVJlc3BvbnNlKHJlc3BvbnNlRGF0YS5oaWRkZW4sIHJlc3BvbnNlRGF0YS5kaXNwbGF5SWQsIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlRvdGFsdGltZXJldXNlZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICdyZXVzYWJsZXJlc3BvbnNlJyArICdfVG90YWx0aW1lcmV1c2VkXycgKyByZXVzYWJsZVJlc3BvbnNlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG9vbFRpcCA9IHRoaXMuZ2V0VG9vbFRpcFRvdGFsVGltZVJldXNlZChyZXNwb25zZURhdGEucmV1c2VkQ29tcG9uZW50VG9vbHRpcERhdGEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEudGltZXNSZVVzZWQudG9TdHJpbmcoKSwga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xUaXApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5MYXN0VXNlZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICdyZXVzYWJsZXJlc3BvbnNlJyArICdfTGFzdFVzZWRfJyArIHJldXNhYmxlUmVzcG9uc2VDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEubGFzdFVzZWQudG9TdHJpbmcoKSwga2V5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuVGltZXNSZXVzZWRJblRoaXNTZXNzaW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gJ3JldXNhYmxlcmVzcG9uc2UnICsgJ19UaW1lc19SZXVzZWRfSW5fVGhpc19TZXNzaW9uXycgKyByZXVzYWJsZVJlc3BvbnNlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2Vzc2lvblRvb2xUaXAgPSB0aGlzLmdldFRvb2xUaXBUb3RhbFRpbWVSZXVzZWQocmVzcG9uc2VEYXRhLnJldXNlZFNlc3Npb25Ub29sdGlwRGF0YSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfd29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEudGltZXNSZVVzZWRTZXNzaW9uLnRvU3RyaW5nKCksIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblRvb2xUaXApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5VcGRhdGVQZW5kaW5nOlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gJ3JldXNhYmxlcmVzcG9uc2UnICsgJ19VcGRhdGVfUGVuZGluZ18nICsgcmV1c2FibGVSZXNwb25zZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0Q29udmVydFRleHRFbGVtZW50KHJlc3BvbnNlRGF0YS51cGRhdGVzUGVuZGluZy50b1N0cmluZygpLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5Jc1JldXNlZEluVGhpc1FJRzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICdyZXVzYWJsZXJlc3BvbnNlJyArICdfSXNfUmV1c2VkX0luX1RoaXNfUUlHJyArIHJldXNhYmxlUmVzcG9uc2VDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdENlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldENvbnZlcnRUZXh0RWxlbWVudChyZXNwb25zZURhdGEucmVVc2VkUUlHLnRvU3RyaW5nKCksIGtleSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBjZWxsU3R5bGUgPSAoZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Dc3NDbGFzcykgPyBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzIDogJyc7XG4gICAgICAgICAgICAgICAgX3dvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoY2VsbFN0eWxlKTtcbiAgICAgICAgICAgICAgICBfd29ya0xpc3RSb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF93b3JrTGlzdENlbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3dvcmtMaXN0Um93Q29sbGVjdGlvbi5wdXNoKFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0R3JpZFJvdyhcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmNhbmRpZGF0ZVNjcmlwdElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIF93b3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLCB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3dvcmtMaXN0Um93Q29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgVG9vbHRpcCBmb3IgdG90YWwgdGltZSByZXVzZWQgY291bHVtblxuICAgICAqIEBwYXJhbSB0b3RhbFRpbWVzUmV1c2VkVG9vbHRpcFxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0VG9vbFRpcFRvdGFsVGltZVJldXNlZCh0b3RhbFRpbWVzUmV1c2VkVG9vbHRpcDogSW1tdXRhYmxlLkxpc3Q8Q29tcG9uZW50VG9vbHRpcD4sIGlzVG9vbHRpcEZvcnRoaXNTZXNzaW9uOiBib29sZWFuKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRvb2xUaXBEYXRhID0gbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxuICAgICAgICAgICAgKCdzdGFuZGFyZGlzYXRpb24tc2V0dXAucHJldmlvdXMtc2Vzc2lvbi5yZXVzZWQtdG9vbHRpcC5ub3QtcmV1c2VkJyk7XG4gICAgICAgIGxldCB0b29sVGlwTGlzdCA9IEltbXV0YWJsZS5MaXN0PENvbXBvbmVudFRvb2x0aXA+KHRvdGFsVGltZXNSZXVzZWRUb29sdGlwKS50b0FycmF5KCk7XG4gICAgICAgIGxldCB0b29sVGlwTGlzdExlbmd0aCA9IHRvb2xUaXBMaXN0Lmxlbmd0aDtcbiAgICAgICAgaWYgKHRvb2xUaXBMaXN0TGVuZ3RoICE9PSBudWxsICYmIHRvb2xUaXBMaXN0TGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdG9vbFRpcERhdGEgPSBpc1Rvb2x0aXBGb3J0aGlzU2Vzc2lvbiA/XG4gICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dFxuICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlZC10b29sdGlwLnJldXNlZC1pbi10aGlzLXNlc3Npb24tdG9vbHRpcCcpIDpcbiAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XG4gICAgICAgICAgICAgICAgICAgICgnc3RhbmRhcmRpc2F0aW9uLXNldHVwLnByZXZpb3VzLXNlc3Npb24ucmV1c2VkLXRvb2x0aXAucmV1c2VkLW92ZXJhbGwtdG9vbHRpcCcpO1xuICAgICAgICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCB0b29sVGlwTGlzdExlbmd0aDsgYSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJyID0gdG9vbFRpcExpc3RbYV07XG4gICAgICAgICAgICAgICAgaWYgKHJyLm1hcmtpbmdfTW9kZSA9PT0gJ0VTIFRlYW0gQXBwcm92YWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJyLm1hcmtpbmdfTW9kZSA9ICdFU19UZWFtQXBwcm92YWwnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocnIubWFya2luZ19Nb2RlID09PSAnUHJlX1N0YW5kYXJkaXNhdGlvbicgfHwgcnIubWFya2luZ19Nb2RlID09PSAnUHJlIFN0YW5kYXJkaXNhdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcnIubWFya2luZ19Nb2RlID0gJ1ByZVN0YW5kYXJkaXNhdGlvbic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvb2xUaXBEYXRhID0gdG9vbFRpcERhdGEgKyAnICdcbiAgICAgICAgICAgICAgICAgICAgKyBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAoJ3N0YW5kYXJkaXNhdGlvbi1zZXR1cC5wcmV2aW91cy1zZXNzaW9uLnJldXNlZC10b29sdGlwLicgKyByci5tYXJraW5nX01vZGUpXG4gICAgICAgICAgICAgICAgICAgICsgJygnICsgcnIudGltZXNVc2VkXG4gICAgICAgICAgICAgICAgICAgICsgKGlzVG9vbHRpcEZvcnRoaXNTZXNzaW9uID8gKCcpJykgOiAoJy8nICsgcnIuc2Vzc2lvbiArICcpJykpXG4gICAgICAgICAgICAgICAgICAgICsgKGEgPCB0b29sVGlwTGlzdExlbmd0aCAtIDEgPyAnLCcgOiAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvb2xUaXBEYXRhO1xuICAgIH1cblxuXHQvKipcblx0ICogZ2VuZXJhdGUgU2NyaXB0IFJvdyBkZWZpbml0aW9uXG5cdCAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TY3JpcHRMaXN0IFxuXHQgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVTY3JpcHRSb3dEZWZpbml0aW9uKHN0YW5kYXJkaXNhdGlvblNjcmlwdExpc3Q6IFN0YW5kYXJkaXNhdGlvblNjcmlwdERldGFpbHNMaXN0KTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0gam9zblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHN0YW5kYXJkaXNhdGlvbkdyaWRDb2x1bW5zSnNvbik7XG4gICAgICAgIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4oKTtcblxuICAgICAgICBsZXQgX3Jvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xuICAgICAgICBsZXQgX3Jvd0hlYWRlckNlbGxjb2xsZWN0aW9uID0gQXJyYXk8Z3JpZENlbGw+KCk7XG4gICAgICAgIGxldCBfcm93OiBncmlkUm93O1xuICAgICAgICBsZXQgX3Jlc3BvbnNlQ29sdW1uOiBhbnk7XG4gICAgICAgIGxldCBjb21wb25lbnRQcm9wc0pzb246IGFueTtcbiAgICAgICAgbGV0IF9jZWxsOiBncmlkQ2VsbDtcbiAgICAgICAgbGV0IGtleTogc3RyaW5nO1xuICAgICAgICBsZXQgaXNTZWVkUmVzcG9uc2U6IGJvb2xlYW47XG4gICAgICAgIGlmIChzdGFuZGFyZGlzYXRpb25TY3JpcHRMaXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gc3RhbmRhcmRpc2F0aW9uU2NyaXB0TGlzdC5jZW50cmVTY3JpcHRMaXN0LmtleVNlcSgpO1xuICAgICAgICAgICAgbGV0IF9yZXNwb25zZUxpc3REYXRhID0gc3RhbmRhcmRpc2F0aW9uU2NyaXB0TGlzdC5jZW50cmVTY3JpcHRMaXN0LnRvQXJyYXkoKTtcbiAgICAgICAgICAgIGxldCByZXNwb25zZUxpc3RMZW5ndGggPSBfcmVzcG9uc2VMaXN0RGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGxldCByZXNwb25zZUxpc3RDb3VudCA9IDA7IHJlc3BvbnNlTGlzdENvdW50IDwgcmVzcG9uc2VMaXN0TGVuZ3RoOyByZXNwb25zZUxpc3RDb3VudCsrKSB7XG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgd29ya2xpc3QgZGF0YSByb3dcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uLnN0YW5kYXJkaXNhdGlvbnNldHVwLlNlbGVjdFJlc3BvbnNlLlNjcmlwdC5HcmlkQ29sdW1ucztcbiAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgICBfcm93ID0gbmV3IGdyaWRSb3coKTtcblxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgYWNjZXNzaW5nIF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XSBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcbiAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XG4gICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlRGF0YTogU3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlscyA9IF9yZXNwb25zZUxpc3REYXRhW3Jlc3BvbnNlTGlzdENvdW50XTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWRDb2x1bW5Db3VudCA9IDA7IGdyaWRDb2x1bW5Db3VudCA8IGdyaWRDb2x1bW5MZW5ndGg7IGdyaWRDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZUNvbHVtbiA9IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uR3JpZENvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcbiAgICAgICAgICAgICAgICAgICAgX2NlbGwgPSBuZXcgZ3JpZENlbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcmVzcG9uc2VDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLkNlbnRyZUNhbmRpZGF0ZU51bTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX0NlbnRyZUNhbmRpZGF0ZU5vXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NlbGwuY29sdW1uRWxlbWVudCA9ICh0aGlzLmdldEdlbmVyaWNUZXh0RWxlbWVudChyZXNwb25zZURhdGEuY2VudHJlQ2FuZGlkYXRlTnVtYmVyLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZ3JpZENvbHVtbk5hbWVzLlN0YXR1czpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1N0YXR1c18nICsgZ3JpZENvbHVtbkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGlzLmdldFNjcmlwdFN0YXR1c0VsZW1lbnQocmVzcG9uc2VEYXRhLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuU0xBT0luZGljYXRvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChyZXNwb25zZUxpc3RDb3VudCkgKyAnX1NMQU9JbmRpY2F0b3JfJyArIGdyaWRDb2x1bW5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2VsbC5jb2x1bW5FbGVtZW50ID0gKHRoaXMuZ2V0U0xBT0luZGljYXRvckVsZW1lbnQocmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGdyaWRDb2x1bW5OYW1lcy5RdWVzdGlvbkl0ZW1zOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuZUJvb2ttYXJraW5nKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ3JpZFNlcS5nZXQocmVzcG9uc2VMaXN0Q291bnQpICsgJ19RdWVzdGlvbkl0ZW1zXycgKyBncmlkQ29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jZWxsLmNvbHVtbkVsZW1lbnQgPSAodGhpcy5nZXRHZW5lcmljVGV4dEVsZW1lbnQocmVzcG9uc2VEYXRhLnF1ZXN0aW9uSXRlbXMudG9TdHJpbmcoKSwga2V5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfY2VsbC5pc0hpZGRlbiA9IHRoaXMuZ2V0Q2VsbFZpc2liaWxpdHkoX3Jlc3BvbnNlQ29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxTdHlsZSA9IChncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkNzc0NsYXNzKSA/IGdyaWRDb2x1bW5zW2dyaWRDb2x1bW5Db3VudF0uQ3NzQ2xhc3MgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgX2NlbGwuc2V0Q2VsbFN0eWxlKGNlbGxTdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIF9yb3dIZWFkZXJDZWxsY29sbGVjdGlvbi5wdXNoKF9jZWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3Jvd0NvbGxlY3Rpb24ucHVzaChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRHcmlkUm93KFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLmNhbmRpZGF0ZVNjcmlwdElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBfcm93SGVhZGVyQ2VsbGNvbGxlY3Rpb24sIHVuZGVmaW5lZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfcm93Q29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGRTZXRVcFdvcmtMaXN0Q29sbGVjdGlvbjtcbiAgICB9XG5cblx0LyoqXG5cdCAqIGdldCBTY3JpcHQgc3RhdHVzIGVsZW1lbnQgZm9yIHdvcmtsaXN0XG5cdCAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzIEdldCB0aGUgc2NyaXB0IHN0YXR1cyBlbGVtZW50XG5cdCAqIEBwYXJhbSBzZXEgXG5cdCAqL1xuICAgIHByaXZhdGUgZ2V0U2NyaXB0U3RhdHVzRWxlbWVudChzdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzOiBTdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzLCBzZXE6IHN0cmluZyk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFByb3BzOiBhbnk7XG4gICAgICAgIGNvbXBvbmVudFByb3BzID0ge1xuICAgICAgICAgICAga2V5OiBzZXEsXG4gICAgICAgICAgICBpZDogc2VxLFxuICAgICAgICAgICAgaXNBbGxvY2F0ZWRBTGl2ZTogc3RhbmRhcmRpc2F0aW9uU2NyaXB0RGV0YWlscy5pc0FsbG9jYXRlZEFMaXZlLFxuICAgICAgICAgICAgaXNVc2VkRm9yUHJvdmlzaW9uYWxNYXJraW5nOiBzdGFuZGFyZGlzYXRpb25TY3JpcHREZXRhaWxzLmlzVXNlZEZvclByb3Zpc2lvbmFsTWFya2luZyxcbiAgICAgICAgICAgIHNlbGVjdGVkTGFuZ3VhZ2U6IGxvY2FsZVN0b3JlLmluc3RhbmNlLkxvY2FsZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChzY3JpcHRTdGF0dXNHcmlkRWxlbWVudCwgY29tcG9uZW50UHJvcHMpO1xuICAgIH1cbn1cblxuZXhwb3J0ID0gU2VsZWN0UmVzcG9uc2VIZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcnMvc2VsZWN0cmVzcG9uc2VoZWxwZXIudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTs7QUF3YkE7QUF0YkE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 414:
/* no static exports found */
/* all exports used */
/*!***************************************************************************************!*\
  !*** ./src/components/utility/grid/standardisationsetuphelpers/unclassifiedhelper.ts ***!
  \***************************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar enums = __webpack_require__(/*! ../../enums */ 225);\r\nvar standardisationsetuphelperbase = __webpack_require__(/*! ./standardisationsetuphelperbase */ 292);\r\nvar gridColumnNames = __webpack_require__(/*! ../gridcolumnnames */ 291);\r\nvar gridCell = __webpack_require__(/*! ../../../utility/grid/gridcell */ 274);\r\nvar jsonRefResolver = __webpack_require__(/*! ../../../../utility/jsonrefresolver/josnrefresolver */ 271);\r\nvar standardisationsetuptGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/standardisationsetupgridcolumns.json */ 273);\r\nvar standardisationSetupGridColumnsJson = __webpack_require__(/*! ../../../utility/grid/standardisationsetupgridcolumns.json */ 273);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar stdSetupPermissionHelper = __webpack_require__(/*! ../../../../utility/standardisationsetup/standardisationsetuppermissionhelper */ 332);\r\nvar qigStore = __webpack_require__(/*! ../../../../stores/qigselector/qigstore */ 230);\r\nvar comparerList = __webpack_require__(/*! ../../../../utility/sorting/sortbase/comparerlist */ 262);\r\nvar standardisationSetupStore = __webpack_require__(/*! ../../../../stores/standardisationsetup/standardisationsetupstore */ 237);\r\nvar sortHelper = __webpack_require__(/*! ../../../../utility/sorting/sorthelper */ 272);\r\nvar submitHelper = __webpack_require__(/*! ../../submit/submithelper */ 282);\r\n/**\r\n * Helper class for UnClassified grid view\r\n */\r\nvar UnClassifiedHelper = /** @class */ (function (_super) {\r\n    __extends(UnClassifiedHelper, _super);\r\n    function UnClassifiedHelper() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._stdSetupPermissionCCValue = stdSetupPermissionHelper\r\n            .getSTDSetupPermissionCCValueByMarkSchemeGroupId(qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId);\r\n        return _this;\r\n    }\r\n    /**\r\n     * generateUnClassifiedFrozenRowBody is used for generating row collection for STD WorkList Grid\r\n     * @param standardisationResponseListData\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    UnClassifiedHelper.prototype.generateStandardisationFrozenRowBody = function (comparerName, sortDirection, standardisationSetupType, gridType) {\r\n        // Get frozen column collection.\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationSetupGridColumnsJson);\r\n        // Get the Frozen row body for STD Worklist\r\n        var _stdWorkListFrozenRowBodyCollection = this.getFrozenRowBody(standardisationSetupType, gridType, comparerName);\r\n        return _stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Method for getting the frozen row body for STD worklist\r\n     * @param comparerName\r\n     * @param standardisationSetupType\r\n     * @param gridType\r\n     */\r\n    UnClassifiedHelper.prototype.getFrozenRowBody = function (standardisationSetupType, gridType, comparerName) {\r\n        var _stdWorkListRowHeaderCellcollection = Array();\r\n        var _stdWorkListRowCollection = Array();\r\n        var _stdResponseListData;\r\n        var _stdResponseColumn;\r\n        var componentPropsJson;\r\n        var _stdWorkListCell;\r\n        var key;\r\n        var cssClass;\r\n        var submitResponseHelper = new submitHelper();\r\n        _stdResponseListData = Immutable.List(standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses);\r\n        if (_stdResponseListData != null) {\r\n            var sortedUnclassifiedData = Immutable.List(sortHelper.sort(_stdResponseListData.toArray(), comparerList[comparerName]));\r\n            var previousMarkingMode = enums.MarkingMode.None;\r\n            var gridSeq_1 = Immutable.List(_stdResponseListData).keySeq();\r\n            var that_1 = this;\r\n            _stdResponseListData = sortedUnclassifiedData;\r\n            sortedUnclassifiedData.forEach(function (stdResponseData, index) {\r\n                // Getting the std worklist data row\r\n                _stdWorkListRowHeaderCellcollection = new Array();\r\n                // collection inside loop, its accessed\r\n                // outside the loop globally\r\n                var gridColumns = that_1.getGridColumns(that_1.resolvedGridColumnsJson, standardisationSetupType, true, gridType);\r\n                var gridColumnLength = gridColumns.length;\r\n                // Getting the STD worklist columns\r\n                for (var gridColumnCount = 0; gridColumnCount < gridColumnLength; gridColumnCount++) {\r\n                    _stdResponseColumn = gridColumns[gridColumnCount].GridColumn;\r\n                    _stdWorkListCell = new gridCell();\r\n                    componentPropsJson = gridColumns[gridColumnCount].ComponentProps;\r\n                    //Switch statement for adding frozen columns in future.\r\n                    switch (_stdResponseColumn) {\r\n                        case gridColumnNames.ResponseIdColumn:\r\n                            key = gridSeq_1.get(index) + '_ResponseIdColumn_' + gridColumnCount;\r\n                            _stdWorkListCell.columnElement = that_1.getResponseIdColumnElement(stdResponseData, key, true);\r\n                            _stdWorkListCell.setCellStyle('col-response header-col');\r\n                            _stdWorkListRowHeaderCellcollection.push(_stdWorkListCell);\r\n                            break;\r\n                    }\r\n                }\r\n                if (stdResponseData) {\r\n                    // Classify button enabling/disabling in unclassified worklist\r\n                    var responseStatuses = submitResponseHelper.\r\n                        submitButtonValidate(stdResponseData, stdResponseData.markingProgress, false, false);\r\n                    // Creating the table row collection.\r\n                    _stdWorkListRowCollection.push(that_1.getGridRow(stdResponseData.displayId.toString(), _stdWorkListRowHeaderCellcollection, undefined, undefined, responseStatuses));\r\n                }\r\n            });\r\n        }\r\n        var _stdWorkListFrozenRowBodyCollection = Immutable.fromJS(_stdWorkListRowCollection);\r\n        return _stdWorkListFrozenRowBodyCollection;\r\n    };\r\n    /**\r\n     * Generate row definition for myTeam and Help other examiners tab\r\n     * @param comparerName\r\n     * @param sortDirection\r\n     * @param tabSelection\r\n     * @param gridType\r\n     */\r\n    UnClassifiedHelper.prototype.generateStandardisationRowDefinion = function (comparerName, sortDirection, tabSelection, gridType) {\r\n        this._stdSetUpWorkListCollection = Immutable.List();\r\n        this.resolvedGridColumnsJson = jsonRefResolver.resolveRefs(standardisationsetuptGridColumnsJson);\r\n        this._stdSetUpWorkListCollection = this.getRowDefinition(tabSelection, gridType, comparerName);\r\n        return this._stdSetUpWorkListCollection;\r\n    };\r\n    /**\r\n     * Returns the row definition for unclassifed worklist\r\n     * @param tabSelection\r\n     * @param gridType\r\n     * @param comparerName\r\n     */\r\n    UnClassifiedHelper.prototype.getRowDefinition = function (tabSelection, gridType, comparerName) {\r\n        var _unClassifiedRowCollection = Array();\r\n        var index = 0;\r\n        var _unClassifiedData;\r\n        var sortedData;\r\n        var _unClassifiedResponseListData;\r\n        var gridColumns = this.getGridColumns(this.resolvedGridColumnsJson, tabSelection, false, gridType);\r\n        _unClassifiedData = standardisationSetupStore.instance.standardisationSetUpResponsedetails.standardisationResponses;\r\n        _unClassifiedResponseListData = Immutable.List(_unClassifiedData);\r\n        sortedData = Immutable.List(sortHelper.sort(_unClassifiedData, comparerList[comparerName]));\r\n        if (_unClassifiedResponseListData.count() > 0) {\r\n            _unClassifiedRowCollection = this.getRowData(sortedData, gridColumns, gridType, index, enums.StandardisationSetup.UnClassifiedResponse);\r\n        }\r\n        this._unClassifiedListCollection = Immutable.fromJS(_unClassifiedRowCollection);\r\n        return this._unClassifiedListCollection;\r\n    };\r\n    /**\r\n     * Change json object to immutable list\r\n     * @param data\r\n     */\r\n    UnClassifiedHelper.prototype.getImmutableUnclassifiedList = function (data) {\r\n        var immutableList = Immutable.List(data);\r\n        data = immutableList;\r\n        return data;\r\n    };\r\n    return UnClassifiedHelper;\r\n}(standardisationsetuphelperbase));\r\nmodule.exports = UnClassifiedHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy91bmNsYXNzaWZpZWRoZWxwZXIudHM/ZTIwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5pbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9lbnVtcycpO1xyXG5pbXBvcnQgc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJiYXNlID0gcmVxdWlyZSgnLi9zdGFuZGFyZGlzYXRpb25zZXR1cGhlbHBlcmJhc2UnKTtcclxuaW1wb3J0IGdyaWRSb3cgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvZ3JpZHJvdycpO1xyXG5pbXBvcnQgZ3JpZENvbHVtbk5hbWVzID0gcmVxdWlyZSgnLi4vZ3JpZGNvbHVtbm5hbWVzJyk7XHJcbmltcG9ydCBncmlkQ2VsbCA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9ncmlkY2VsbCcpO1xyXG5pbXBvcnQganNvblJlZlJlc29sdmVyID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdXRpbGl0eS9qc29ucmVmcmVzb2x2ZXIvam9zbnJlZnJlc29sdmVyJyk7XHJcbmxldCBzdGFuZGFyZGlzYXRpb25zZXR1cHRHcmlkQ29sdW1uc0pzb24gPSByZXF1aXJlKCcuLi8uLi8uLi91dGlsaXR5L2dyaWQvc3RhbmRhcmRpc2F0aW9uc2V0dXBncmlkY29sdW1ucy5qc29uJyk7XHJcbmltcG9ydCB0YWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy90YWdzL3RhZ3N0b3JlJyk7XHJcbmxldCBzdGFuZGFyZGlzYXRpb25TZXR1cEdyaWRDb2x1bW5zSnNvbiA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxpdHkvZ3JpZC9zdGFuZGFyZGlzYXRpb25zZXR1cGdyaWRjb2x1bW5zLmpzb24nKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgR2VuZXJpY1RleHRDb2x1bW4gPSByZXF1aXJlKCcuLi8uLi8uLi93b3JrbGlzdC9zaGFyZWQvZ2VuZXJpY3RleHRjb2x1bW4nKTtcclxuaW1wb3J0IFJpZ09yZGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vc3RhbmRhcmRpc2F0aW9uc2V0dXAvc2hhcmVkL3JpZ29yZGVyJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuaW1wb3J0IHN0ZFNldHVwUGVybWlzc2lvbkNDRGF0YSA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3N0b3Jlcy9zdGFuZGFyZGlzYXRpb25zZXR1cC90eXBpbmdzL3N0YW5kYXJkaXNhdGlvbnNldHVwY2NkYXRhJyk7XHJcbmltcG9ydCBzdGRTZXR1cFBlcm1pc3Npb25IZWxwZXIgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi91dGlsaXR5L3N0YW5kYXJkaXNhdGlvbnNldHVwL3N0YW5kYXJkaXNhdGlvbnNldHVwcGVybWlzc2lvbmhlbHBlcicpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IGNvbXBhcmVyTGlzdCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvc29ydGluZy9zb3J0YmFzZS9jb21wYXJlcmxpc3QnKTtcclxuaW1wb3J0IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zdG9yZXMvc3RhbmRhcmRpc2F0aW9uc2V0dXAvc3RhbmRhcmRpc2F0aW9uc2V0dXBzdG9yZScpO1xyXG5pbXBvcnQgc29ydEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3V0aWxpdHkvc29ydGluZy9zb3J0aGVscGVyJyk7XHJcbmltcG9ydCBzdWJtaXRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9zdWJtaXQvc3VibWl0aGVscGVyJyk7XHJcblxyXG5cclxuLyoqXHJcbiAqIEhlbHBlciBjbGFzcyBmb3IgVW5DbGFzc2lmaWVkIGdyaWQgdmlld1xyXG4gKi9cclxuY2xhc3MgVW5DbGFzc2lmaWVkSGVscGVyIGV4dGVuZHMgc3RhbmRhcmRpc2F0aW9uc2V0dXBoZWxwZXJiYXNlIHtcclxuXHJcbiAgICBwcml2YXRlIF9zdGRTZXR1cFBlcm1pc3Npb25DQ1ZhbHVlOiBzdHJpbmcgPSBzdGRTZXR1cFBlcm1pc3Npb25IZWxwZXJcclxuICAgICAgICAuZ2V0U1REU2V0dXBQZXJtaXNzaW9uQ0NWYWx1ZUJ5TWFya1NjaGVtZUdyb3VwSWQocWlnU3RvcmUuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRRSUdGb3JUaGVMb2dnZWRJblVzZXIubWFya1NjaGVtZUdyb3VwSWQpO1xyXG5cclxuICAgIC8qIEdyaWQgcm93cyBjb2xsZWN0aW9uICovXHJcbiAgICBwdWJsaWMgX3VuQ2xhc3NpZmllZExpc3RDb2xsZWN0aW9uOiBJbW11dGFibGUuTGlzdDxncmlkUm93PjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGdlbmVyYXRlVW5DbGFzc2lmaWVkRnJvemVuUm93Qm9keSBpcyB1c2VkIGZvciBnZW5lcmF0aW5nIHJvdyBjb2xsZWN0aW9uIGZvciBTVEQgV29ya0xpc3QgR3JpZFxyXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblJlc3BvbnNlTGlzdERhdGFcclxuICAgICAqIEBwYXJhbSBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGVcclxuICAgICAqIEBwYXJhbSBncmlkVHlwZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2VuZXJhdGVTdGFuZGFyZGlzYXRpb25Gcm96ZW5Sb3dCb2R5KGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxyXG4gICAgICAgIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZTogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsIGdyaWRUeXBlOiBlbnVtcy5HcmlkVHlwZSk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuXHJcbiAgICAgICAgLy8gR2V0IGZyb3plbiBjb2x1bW4gY29sbGVjdGlvbi5cclxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0ganNvblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHN0YW5kYXJkaXNhdGlvblNldHVwR3JpZENvbHVtbnNKc29uKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBGcm96ZW4gcm93IGJvZHkgZm9yIFNURCBXb3JrbGlzdFxyXG4gICAgICAgIGxldCBfc3RkV29ya0xpc3RGcm96ZW5Sb3dCb2R5Q29sbGVjdGlvbiA9IHRoaXMuZ2V0RnJvemVuUm93Qm9keShcclxuICAgICAgICAgICAgc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlLCBncmlkVHlwZSwgY29tcGFyZXJOYW1lKTtcclxuICAgICAgICByZXR1cm4gX3N0ZFdvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgZm9yIGdldHRpbmcgdGhlIGZyb3plbiByb3cgYm9keSBmb3IgU1REIHdvcmtsaXN0XHJcbiAgICAgKiBAcGFyYW0gY29tcGFyZXJOYW1lIFxyXG4gICAgICogQHBhcmFtIHN0YW5kYXJkaXNhdGlvblNldHVwVHlwZSBcclxuICAgICAqIEBwYXJhbSBncmlkVHlwZSBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEZyb3plblJvd0JvZHkoc3RhbmRhcmRpc2F0aW9uU2V0dXBUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCxcclxuICAgICAgICBncmlkVHlwZTogZW51bXMuR3JpZFR5cGUsIGNvbXBhcmVyTmFtZTogc3RyaW5nKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG5cclxuICAgICAgICBsZXQgX3N0ZFdvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBBcnJheTxncmlkQ2VsbD4oKTtcclxuICAgICAgICBsZXQgX3N0ZFdvcmtMaXN0Um93Q29sbGVjdGlvbiA9IEFycmF5PGdyaWRSb3c+KCk7XHJcbiAgICAgICAgbGV0IF9zdGRSZXNwb25zZUxpc3REYXRhOiBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+O1xyXG4gICAgICAgIGxldCBfc3RkUmVzcG9uc2VDb2x1bW46IGFueTtcclxuICAgICAgICBsZXQgY29tcG9uZW50UHJvcHNKc29uOiBhbnk7XHJcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdENlbGw6IGdyaWRDZWxsO1xyXG4gICAgICAgIGxldCBrZXk6IHN0cmluZztcclxuICAgICAgICBsZXQgY3NzQ2xhc3M6IHN0cmluZztcclxuICAgICAgICBsZXQgc3VibWl0UmVzcG9uc2VIZWxwZXI6IHN1Ym1pdEhlbHBlciA9IG5ldyBzdWJtaXRIZWxwZXIoKTtcclxuXHJcbiAgICAgICAgX3N0ZFJlc3BvbnNlTGlzdERhdGEgPSBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+KFxyXG4gICAgICAgICAgICBzdGFuZGFyZGlzYXRpb25TZXR1cFN0b3JlLmluc3RhbmNlLnN0YW5kYXJkaXNhdGlvblNldFVwUmVzcG9uc2VkZXRhaWxzLnN0YW5kYXJkaXNhdGlvblJlc3BvbnNlcyk7XHJcblxyXG4gICAgICAgIGlmIChfc3RkUmVzcG9uc2VMaXN0RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBzb3J0ZWRVbmNsYXNzaWZpZWREYXRhID0gSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPihcclxuICAgICAgICAgICAgICAgIHNvcnRIZWxwZXIuc29ydChfc3RkUmVzcG9uc2VMaXN0RGF0YS50b0FycmF5KCksIGNvbXBhcmVyTGlzdFtjb21wYXJlck5hbWVdKSk7XHJcbiAgICAgICAgICAgIGxldCBwcmV2aW91c01hcmtpbmdNb2RlOiBlbnVtcy5NYXJraW5nTW9kZSA9IGVudW1zLk1hcmtpbmdNb2RlLk5vbmU7XHJcbiAgICAgICAgICAgIGxldCBncmlkU2VxID0gSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPihfc3RkUmVzcG9uc2VMaXN0RGF0YSkua2V5U2VxKCk7XHJcbiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgICAgICAgICAgX3N0ZFJlc3BvbnNlTGlzdERhdGEgPSBzb3J0ZWRVbmNsYXNzaWZpZWREYXRhO1xyXG4gICAgICAgICAgICBzb3J0ZWRVbmNsYXNzaWZpZWREYXRhLmZvckVhY2goZnVuY3Rpb24oc3RkUmVzcG9uc2VEYXRhLCBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgc3RkIHdvcmtsaXN0IGRhdGEgcm93XHJcbiAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgICAvLyBjb2xsZWN0aW9uIGluc2lkZSBsb29wLCBpdHMgYWNjZXNzZWRcclxuICAgICAgICAgICAgICAgICAvLyBvdXRzaWRlIHRoZSBsb29wIGdsb2JhbGx5XHJcbiAgICAgICAgICAgICAgICAgbGV0IGdyaWRDb2x1bW5zID0gdGhhdC5nZXRHcmlkQ29sdW1ucyh0aGF0LnJlc29sdmVkR3JpZENvbHVtbnNKc29uLCBzdGFuZGFyZGlzYXRpb25TZXR1cFR5cGUsIHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgIGdyaWRUeXBlKTtcclxuICAgICAgICAgICAgICAgICBsZXQgZ3JpZENvbHVtbkxlbmd0aCA9IGdyaWRDb2x1bW5zLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgU1REIHdvcmtsaXN0IGNvbHVtbnNcclxuICAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkQ29sdW1uQ291bnQgPSAwOyBncmlkQ29sdW1uQ291bnQgPCBncmlkQ29sdW1uTGVuZ3RoOyBncmlkQ29sdW1uQ291bnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICBfc3RkUmVzcG9uc2VDb2x1bW4gPSBncmlkQ29sdW1uc1tncmlkQ29sdW1uQ291bnRdLkdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdENlbGwgPSBuZXcgZ3JpZENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcHNKc29uID0gZ3JpZENvbHVtbnNbZ3JpZENvbHVtbkNvdW50XS5Db21wb25lbnRQcm9wcztcclxuICAgICAgICAgICAgICAgICAgICAgLy9Td2l0Y2ggc3RhdGVtZW50IGZvciBhZGRpbmcgZnJvemVuIGNvbHVtbnMgaW4gZnV0dXJlLlxyXG4gICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9zdGRSZXNwb25zZUNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBncmlkQ29sdW1uTmFtZXMuUmVzcG9uc2VJZENvbHVtbjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBncmlkU2VxLmdldChpbmRleCkgKyAnX1Jlc3BvbnNlSWRDb2x1bW5fJyArIGdyaWRDb2x1bW5Db3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RDZWxsLmNvbHVtbkVsZW1lbnQgPSB0aGF0LmdldFJlc3BvbnNlSWRDb2x1bW5FbGVtZW50KHN0ZFJlc3BvbnNlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Q2VsbC5zZXRDZWxsU3R5bGUoJ2NvbC1yZXNwb25zZSBoZWFkZXItY29sJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZFdvcmtMaXN0Um93SGVhZGVyQ2VsbGNvbGxlY3Rpb24ucHVzaChfc3RkV29ya0xpc3RDZWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgaWYgKHN0ZFJlc3BvbnNlRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAvLyBDbGFzc2lmeSBidXR0b24gZW5hYmxpbmcvZGlzYWJsaW5nIGluIHVuY2xhc3NpZmllZCB3b3JrbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXNlcyA9IHN1Ym1pdFJlc3BvbnNlSGVscGVyLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0QnV0dG9uVmFsaWRhdGUoc3RkUmVzcG9uc2VEYXRhLCBzdGRSZXNwb25zZURhdGEubWFya2luZ1Byb2dyZXNzLCBmYWxzZSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHRhYmxlIHJvdyBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICBfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmdldEdyaWRSb3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkUmVzcG9uc2VEYXRhLmRpc3BsYXlJZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGRXb3JrTGlzdFJvd0hlYWRlckNlbGxjb2xsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IF9zdGRXb3JrTGlzdEZyb3plblJvd0JvZHlDb2xsZWN0aW9uID0gSW1tdXRhYmxlLmZyb21KUyhfc3RkV29ya0xpc3RSb3dDb2xsZWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gX3N0ZFdvcmtMaXN0RnJvemVuUm93Qm9keUNvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSByb3cgZGVmaW5pdGlvbiBmb3IgbXlUZWFtIGFuZCBIZWxwIG90aGVyIGV4YW1pbmVycyB0YWJcclxuICAgICAqIEBwYXJhbSBjb21wYXJlck5hbWUgXHJcbiAgICAgKiBAcGFyYW0gc29ydERpcmVjdGlvbiBcclxuICAgICAqIEBwYXJhbSB0YWJTZWxlY3Rpb24gXHJcbiAgICAgKiBAcGFyYW0gZ3JpZFR5cGUgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZVN0YW5kYXJkaXNhdGlvblJvd0RlZmluaW9uKGNvbXBhcmVyTmFtZTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBlbnVtcy5Tb3J0RGlyZWN0aW9uLFxyXG4gICAgICAgIHRhYlNlbGVjdGlvbjogZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAsXHJcbiAgICAgICAgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlKTogSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4ge1xyXG4gICAgICAgIHRoaXMuX3N0ZFNldFVwV29ya0xpc3RDb2xsZWN0aW9uID0gSW1tdXRhYmxlLkxpc3Q8Z3JpZFJvdz4oKTtcclxuICAgICAgICB0aGlzLnJlc29sdmVkR3JpZENvbHVtbnNKc29uID0ganNvblJlZlJlc29sdmVyLnJlc29sdmVSZWZzKHN0YW5kYXJkaXNhdGlvbnNldHVwdEdyaWRDb2x1bW5zSnNvbik7XHJcbiAgICAgICAgdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb24gPSB0aGlzLmdldFJvd0RlZmluaXRpb24odGFiU2VsZWN0aW9uLCBncmlkVHlwZSwgY29tcGFyZXJOYW1lKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RkU2V0VXBXb3JrTGlzdENvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSByb3cgZGVmaW5pdGlvbiBmb3IgdW5jbGFzc2lmZWQgd29ya2xpc3RcclxuICAgICAqIEBwYXJhbSB0YWJTZWxlY3Rpb24gXHJcbiAgICAgKiBAcGFyYW0gZ3JpZFR5cGUgXHJcbiAgICAgKiBAcGFyYW0gY29tcGFyZXJOYW1lIFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFJvd0RlZmluaXRpb24odGFiU2VsZWN0aW9uOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cCwgZ3JpZFR5cGU6IGVudW1zLkdyaWRUeXBlICxcclxuICAgICAgICBjb21wYXJlck5hbWU6IHN0cmluZyk6IEltbXV0YWJsZS5MaXN0PGdyaWRSb3c+IHtcclxuICAgICAgICBsZXQgX3VuQ2xhc3NpZmllZFJvd0NvbGxlY3Rpb24gPSBBcnJheTxncmlkUm93PigpO1xyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgbGV0IF91bkNsYXNzaWZpZWREYXRhOiBhbnk7XHJcbiAgICAgICAgbGV0IHNvcnRlZERhdGE6ICBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+O1xyXG4gICAgICAgIGxldCBfdW5DbGFzc2lmaWVkUmVzcG9uc2VMaXN0RGF0YTogSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPjtcclxuICAgICAgICBsZXQgZ3JpZENvbHVtbnMgPSB0aGlzLmdldEdyaWRDb2x1bW5zKHRoaXMucmVzb2x2ZWRHcmlkQ29sdW1uc0pzb24sIHRhYlNlbGVjdGlvbiwgZmFsc2UsIGdyaWRUeXBlKTtcclxuICAgICAgICBfdW5DbGFzc2lmaWVkRGF0YSA9IHN0YW5kYXJkaXNhdGlvblNldHVwU3RvcmUuaW5zdGFuY2Uuc3RhbmRhcmRpc2F0aW9uU2V0VXBSZXNwb25zZWRldGFpbHMuc3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VzO1xyXG4gICAgICAgIF91bkNsYXNzaWZpZWRSZXNwb25zZUxpc3REYXRhID0gSW1tdXRhYmxlLkxpc3Q8U3RhbmRhcmRpc2F0aW9uUmVzcG9uc2VEZXRhaWxzPihfdW5DbGFzc2lmaWVkRGF0YSk7XHJcbiAgICAgICAgc29ydGVkRGF0YSA9IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4oc29ydEhlbHBlci5zb3J0KFxyXG4gICAgICAgICAgICBfdW5DbGFzc2lmaWVkRGF0YSwgY29tcGFyZXJMaXN0W2NvbXBhcmVyTmFtZV0pKTtcclxuICAgICAgICBpZiAoX3VuQ2xhc3NpZmllZFJlc3BvbnNlTGlzdERhdGEuY291bnQoKSA+IDApe1xyXG4gICAgICAgICAgICBfdW5DbGFzc2lmaWVkUm93Q29sbGVjdGlvbiA9IHRoaXMuZ2V0Um93RGF0YShzb3J0ZWREYXRhLCBncmlkQ29sdW1ucywgZ3JpZFR5cGUsIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuVW5DbGFzc2lmaWVkUmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91bkNsYXNzaWZpZWRMaXN0Q29sbGVjdGlvbiA9IEltbXV0YWJsZS5mcm9tSlMoX3VuQ2xhc3NpZmllZFJvd0NvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91bkNsYXNzaWZpZWRMaXN0Q29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoYW5nZSBqc29uIG9iamVjdCB0byBpbW11dGFibGUgbGlzdFxyXG4gICAgICogQHBhcmFtIGRhdGFcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRJbW11dGFibGVVbmNsYXNzaWZpZWRMaXN0KGRhdGE6IGFueSk6IEltbXV0YWJsZS5MaXN0PFN0YW5kYXJkaXNhdGlvblJlc3BvbnNlRGV0YWlscz4ge1xyXG4gICAgICAgIGxldCBpbW11dGFibGVMaXN0OiBJbW11dGFibGUuTGlzdDxTdGFuZGFyZGlzYXRpb25SZXNwb25zZURldGFpbHM+ID0gSW1tdXRhYmxlLkxpc3QoZGF0YSk7XHJcbiAgICAgICAgZGF0YSA9IGltbXV0YWJsZUxpc3Q7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFVuQ2xhc3NpZmllZEhlbHBlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS9ncmlkL3N0YW5kYXJkaXNhdGlvbnNldHVwaGVscGVycy91bmNsYXNzaWZpZWRoZWxwZXIudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBOztBQXdKQTtBQW5KQTs7Ozs7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 415:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/components/worklist/shared/markscolumn.tsx ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/*\r\n    React component for marks column in marks by question view.\r\n*/\r\n/* tslint:disable:no-unused-variable */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:disable:variable-name */\r\nvar MarksColumn = function (props) {\r\n    var className = (props.usedInTotal || props.textValue === '-') ?\r\n        'dim-text txt-val small-text' : 'small-text strike-out dim-text';\r\n    return (React.createElement(\"span\", { id: 'gen_' + props.id, className: className }, props.textValue));\r\n};\r\nmodule.exports = MarksColumn;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvd29ya2xpc3Qvc2hhcmVkL21hcmtzY29sdW1uLnRzeD85ODgyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAgICBSZWFjdCBjb21wb25lbnQgZm9yIG1hcmtzIGNvbHVtbiBpbiBtYXJrcyBieSBxdWVzdGlvbiB2aWV3LlxyXG4qL1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcblxyXG4vKipcclxuICogUHJvcGVydGllcyBvZiBtYXJrcyBjb2x1bW4uXHJcbiAqL1xyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBMb2NhbGVTZWxlY3Rpb25CYXNlLCBQcm9wc0Jhc2Uge1xyXG4gICAgdGV4dFZhbHVlPzogc3RyaW5nO1xyXG4gICAgdXNlZEluVG90YWw6IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cclxuY29uc3QgTWFya3NDb2x1bW4gPSAocHJvcHM6IFByb3BzKSA9PiB7XHJcbiAgICBsZXQgY2xhc3NOYW1lOiBzdHJpbmcgPSAocHJvcHMudXNlZEluVG90YWwgfHwgcHJvcHMudGV4dFZhbHVlID09PSAnLScpID9cclxuICAgICAgICAnZGltLXRleHQgdHh0LXZhbCBzbWFsbC10ZXh0JyA6ICdzbWFsbC10ZXh0IHN0cmlrZS1vdXQgZGltLXRleHQnO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8c3BhbiBpZD17J2dlbl8nICsgcHJvcHMuaWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cclxuICAgICAgICAgICAge3Byb3BzLnRleHRWYWx1ZX1cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICApO1xyXG59O1xyXG5cclxuZXhwb3J0ID0gTWFya3NDb2x1bW47XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL3dvcmtsaXN0L3NoYXJlZC9tYXJrc2NvbHVtbi50c3giXSwibWFwcGluZ3MiOiI7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 416:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/dataservices/authentication/logoutargument.ts ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * Logout argument class.\r\n */\r\nvar LogoutArgument = /** @class */ (function () {\r\n    function LogoutArgument() {\r\n    }\r\n    return LogoutArgument;\r\n}());\r\nmodule.exports = LogoutArgument;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFzZXJ2aWNlcy9hdXRoZW50aWNhdGlvbi9sb2dvdXRhcmd1bWVudC50cz9kMjhhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBMb2dvdXQgYXJndW1lbnQgY2xhc3MuXHJcbiAqL1xyXG5jbGFzcyBMb2dvdXRBcmd1bWVudCB7XHJcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcblxyXG4gICAgcHVibGljIE1hcmtpbmdTZXNzaW9uVHJhY2tpbmdJZDogbnVtYmVyO1xyXG4gICAgcHVibGljIGlzUmVwb3J0c1BhZ2VBY2Nlc3NlZDogYm9vbGVhbjtcclxuXHJcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbn1cclxuXHJcbmV4cG9ydCA9IExvZ291dEFyZ3VtZW50O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvZGF0YXNlcnZpY2VzL2F1dGhlbnRpY2F0aW9uL2xvZ291dGFyZ3VtZW50LnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7O0FBRUE7QUFDQTtBQUFBO0FBT0E7QUFBQTtBQUFBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 418:
/* no static exports found */
/* all exports used */
/*!*******************************************************************!*\
  !*** ./src/utility/breadcrumb/standardisationsetuphistoryinfo.ts ***!
  \*******************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar historyBase = __webpack_require__(/*! ./historybase */ 447);\r\nvar StandardisationSetupHistoryInfo = /** @class */ (function (_super) {\r\n    __extends(StandardisationSetupHistoryInfo, _super);\r\n    function StandardisationSetupHistoryInfo() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return StandardisationSetupHistoryInfo;\r\n}(historyBase));\r\nmodule.exports = StandardisationSetupHistoryInfo;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvYnJlYWRjcnVtYi9zdGFuZGFyZGlzYXRpb25zZXR1cGhpc3RvcnlpbmZvLnRzPzg3OGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XG5pbXBvcnQgaGlzdG9yeUJhc2UgPSByZXF1aXJlKCcuL2hpc3RvcnliYXNlJyk7XG5cbmNsYXNzIFN0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm8gZXh0ZW5kcyBoaXN0b3J5QmFzZSB7XG4gICAgcHVibGljIHN0YW5kYXJkaXNhdGlvblNldHVwV29ya2xpc3RUeXBlOiBlbnVtcy5TdGFuZGFyZGlzYXRpb25TZXR1cDtcbiAgICBwdWJsaWMgdGltZVN0YW1wOiBudW1iZXI7XG59XG5cbmV4cG9ydCA9IFN0YW5kYXJkaXNhdGlvblNldHVwSGlzdG9yeUluZm87XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L2JyZWFkY3J1bWIvc3RhbmRhcmRpc2F0aW9uc2V0dXBoaXN0b3J5aW5mby50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDQTtBQUVBO0FBQUE7QUFBQTs7QUFHQTtBQUFBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 419:
/* no static exports found */
/* all exports used */
/*!*************************************************************************!*\
  !*** ./src/utility/teammanagement/helpers/warningmessagepopuphelper.ts ***!
  \*************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../../components/utility/enums */ 225);\r\nvar localeStore = __webpack_require__(/*! ../../../stores/locale/localestore */ 226);\r\n/**\r\n * Helper class for warning message popup\r\n */\r\nvar WarningMessagePopupHelper = /** @class */ (function () {\r\n    function WarningMessagePopupHelper() {\r\n    }\r\n    /**\r\n     * Method to bind the warning message popup content.\r\n     */\r\n    WarningMessagePopupHelper.prototype.bindWarningMessagePopupContent = function (failureCode) {\r\n        switch (failureCode) {\r\n            case enums.FailureCode.SubordinateExaminerWithdrawn:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.subordinate-withdrawn-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.SubordinateExaminerWithdrawn] + '-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.subordinate-withdrawn-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.SubordinateExaminerWithdrawn] + '-title');\r\n                break;\r\n            case enums.FailureCode.Withdrawn:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.withdrawn-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.Withdrawn] + '-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.withdrawn-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.Withdrawn] + '-title');\r\n                break;\r\n            case enums.FailureCode.HierarchyChanged:\r\n            case enums.FailureCode.NotASeniorExaminer:\r\n            case enums.FailureCode.NotTeamLead:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.hierarchy-changed-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.HierarchyChanged] + '-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.hierarchy-changed-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.HierarchyChanged] + '-title');\r\n                break;\r\n            case enums.FailureCode.ExaminerStatusAlreadyChanged:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.subordinate-status-already-changed-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.ExaminerStatusAlreadyChanged] + '-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.subordinate-status-already-changed-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.ExaminerStatusAlreadyChanged] + '-title');\r\n                break;\r\n            case enums.FailureCode.Suspended:\r\n            case enums.FailureCode.NotApproved:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.suspended-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.Suspended] + '-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.suspended-dialog.' +\r\n                        enums.FailureCode[enums.FailureCode.Suspended] + '-title');\r\n                break;\r\n            case enums.FailureCode.InvalidPriority:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.hierarchy-changed-dialog.body-priority-changed');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.hierarchy-changed-dialog.HierarchyChanged-title');\r\n                break;\r\n            case enums.FailureCode.AlreadyLocked:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.body');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.ExaminerAlreadyLocked-title');\r\n                break;\r\n            case enums.FailureCode.NotInLockStatus:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.body');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.ExaminerAlreadyunlocked-title');\r\n                break;\r\n            case enums.FailureCode.LockLimitMet:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-limit-reached-dialog.LockLimitReached-content');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-limit-reached-dialog.LockLimitReached-title');\r\n                break;\r\n            case enums.FailureCode.LockIsRequired:\r\n                this._warningPopupContent =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.body');\r\n                this._warningPopupTitle =\r\n                    localeStore.instance.TranslateText('team-management.examiner-worklist.lock-failure-dialog.header-lock-removed');\r\n                break;\r\n        }\r\n    };\r\n    Object.defineProperty(WarningMessagePopupHelper.prototype, \"warningPopupContent\", {\r\n        /**\r\n         * Returns the warning message popup content\r\n         */\r\n        get: function () {\r\n            return this._warningPopupContent;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(WarningMessagePopupHelper.prototype, \"warningPopupTitle\", {\r\n        /**\r\n         * Returns the warning message popup title\r\n         */\r\n        get: function () {\r\n            return this._warningPopupTitle;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return WarningMessagePopupHelper;\r\n}());\r\nmodule.exports = WarningMessagePopupHelper;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvdGVhbW1hbmFnZW1lbnQvaGVscGVycy93YXJuaW5nbWVzc2FnZXBvcHVwaGVscGVyLnRzPzY0NWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCBsb2NhbGVTdG9yZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3N0b3Jlcy9sb2NhbGUvbG9jYWxlc3RvcmUnKTtcclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHdhcm5pbmcgbWVzc2FnZSBwb3B1cFxyXG4gKi9cclxuY2xhc3MgV2FybmluZ01lc3NhZ2VQb3B1cEhlbHBlciB7XHJcblxyXG4gICAgLy8gV2FybmluZyBtZXNzYWdlIHBvcHVwIGNvbnRlbnRcclxuICAgIHByaXZhdGUgX3dhcm5pbmdQb3B1cENvbnRlbnQ6IHN0cmluZztcclxuXHJcbiAgICAvLyAgV2FybmluZyBtZXNzYWdlIHBvcHVwIHRpdGxlXHJcbiAgICBwcml2YXRlIF93YXJuaW5nUG9wdXBUaXRsZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIGJpbmQgdGhlIHdhcm5pbmcgbWVzc2FnZSBwb3B1cCBjb250ZW50LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYmluZFdhcm5pbmdNZXNzYWdlUG9wdXBDb250ZW50KGZhaWx1cmVDb2RlOiBlbnVtcy5GYWlsdXJlQ29kZSkge1xyXG4gICAgICAgIHN3aXRjaCAoZmFpbHVyZUNvZGUpIHtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuU3Vib3JkaW5hdGVFeGFtaW5lcldpdGhkcmF3bjpcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhcm5pbmdQb3B1cENvbnRlbnQgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5zdWJvcmRpbmF0ZS13aXRoZHJhd24tZGlhbG9nLicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5GYWlsdXJlQ29kZVtlbnVtcy5GYWlsdXJlQ29kZS5TdWJvcmRpbmF0ZUV4YW1pbmVyV2l0aGRyYXduXSArICctY29udGVudCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5zdWJvcmRpbmF0ZS13aXRoZHJhd24tZGlhbG9nLicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5GYWlsdXJlQ29kZVtlbnVtcy5GYWlsdXJlQ29kZS5TdWJvcmRpbmF0ZUV4YW1pbmVyV2l0aGRyYXduXSArICctdGl0bGUnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5XaXRoZHJhd246XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93YXJuaW5nUG9wdXBDb250ZW50ID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3Qud2l0aGRyYXduLWRpYWxvZy4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuRmFpbHVyZUNvZGVbZW51bXMuRmFpbHVyZUNvZGUuV2l0aGRyYXduXSArICctY29udGVudCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC53aXRoZHJhd24tZGlhbG9nLicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5GYWlsdXJlQ29kZVtlbnVtcy5GYWlsdXJlQ29kZS5XaXRoZHJhd25dICsgJy10aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkhpZXJhcmNoeUNoYW5nZWQ6XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuTm90QVNlbmlvckV4YW1pbmVyOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLk5vdFRlYW1MZWFkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwQ29udGVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmhpZXJhcmNoeS1jaGFuZ2VkLWRpYWxvZy4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuRmFpbHVyZUNvZGVbZW51bXMuRmFpbHVyZUNvZGUuSGllcmFyY2h5Q2hhbmdlZF0gKyAnLWNvbnRlbnQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhcm5pbmdQb3B1cFRpdGxlID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuaGllcmFyY2h5LWNoYW5nZWQtZGlhbG9nLicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5GYWlsdXJlQ29kZVtlbnVtcy5GYWlsdXJlQ29kZS5IaWVyYXJjaHlDaGFuZ2VkXSArICctdGl0bGUnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5FeGFtaW5lclN0YXR1c0FscmVhZHlDaGFuZ2VkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwQ29udGVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LnN1Ym9yZGluYXRlLXN0YXR1cy1hbHJlYWR5LWNoYW5nZWQtZGlhbG9nLicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtcy5GYWlsdXJlQ29kZVtlbnVtcy5GYWlsdXJlQ29kZS5FeGFtaW5lclN0YXR1c0FscmVhZHlDaGFuZ2VkXSArICctY29udGVudCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5zdWJvcmRpbmF0ZS1zdGF0dXMtYWxyZWFkeS1jaGFuZ2VkLWRpYWxvZy4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuRmFpbHVyZUNvZGVbZW51bXMuRmFpbHVyZUNvZGUuRXhhbWluZXJTdGF0dXNBbHJlYWR5Q2hhbmdlZF0gKyAnLXRpdGxlJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuU3VzcGVuZGVkOlxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLk5vdEFwcHJvdmVkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwQ29udGVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LnN1c3BlbmRlZC1kaWFsb2cuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1zLkZhaWx1cmVDb2RlW2VudW1zLkZhaWx1cmVDb2RlLlN1c3BlbmRlZF0gKyAnLWNvbnRlbnQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhcm5pbmdQb3B1cFRpdGxlID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3Quc3VzcGVuZGVkLWRpYWxvZy4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuRmFpbHVyZUNvZGVbZW51bXMuRmFpbHVyZUNvZGUuU3VzcGVuZGVkXSArICctdGl0bGUnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5GYWlsdXJlQ29kZS5JbnZhbGlkUHJpb3JpdHk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93YXJuaW5nUG9wdXBDb250ZW50ID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QuaGllcmFyY2h5LWNoYW5nZWQtZGlhbG9nLmJvZHktcHJpb3JpdHktY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5oaWVyYXJjaHktY2hhbmdlZC1kaWFsb2cuSGllcmFyY2h5Q2hhbmdlZC10aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkFscmVhZHlMb2NrZWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93YXJuaW5nUG9wdXBDb250ZW50ID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QubG9jay1mYWlsdXJlLWRpYWxvZy5ib2R5Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93YXJuaW5nUG9wdXBUaXRsZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmxvY2stZmFpbHVyZS1kaWFsb2cuRXhhbWluZXJBbHJlYWR5TG9ja2VkLXRpdGxlJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuRmFpbHVyZUNvZGUuTm90SW5Mb2NrU3RhdHVzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwQ29udGVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmxvY2stZmFpbHVyZS1kaWFsb2cuYm9keScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QubG9jay1mYWlsdXJlLWRpYWxvZy5FeGFtaW5lckFscmVhZHl1bmxvY2tlZC10aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkxvY2tMaW1pdE1ldDpcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhcm5pbmdQb3B1cENvbnRlbnQgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCd0ZWFtLW1hbmFnZW1lbnQuZXhhbWluZXItd29ya2xpc3QubG9jay1saW1pdC1yZWFjaGVkLWRpYWxvZy5Mb2NrTGltaXRSZWFjaGVkLWNvbnRlbnQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dhcm5pbmdQb3B1cFRpdGxlID1cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmxvY2stbGltaXQtcmVhY2hlZC1kaWFsb2cuTG9ja0xpbWl0UmVhY2hlZC10aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIGVudW1zLkZhaWx1cmVDb2RlLkxvY2tJc1JlcXVpcmVkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwQ29udGVudCA9XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgndGVhbS1tYW5hZ2VtZW50LmV4YW1pbmVyLXdvcmtsaXN0LmxvY2stZmFpbHVyZS1kaWFsb2cuYm9keScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2FybmluZ1BvcHVwVGl0bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ3RlYW0tbWFuYWdlbWVudC5leGFtaW5lci13b3JrbGlzdC5sb2NrLWZhaWx1cmUtZGlhbG9nLmhlYWRlci1sb2NrLXJlbW92ZWQnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHdhcm5pbmcgbWVzc2FnZSBwb3B1cCBjb250ZW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgd2FybmluZ1BvcHVwQ29udGVudCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl93YXJuaW5nUG9wdXBDb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgd2FybmluZyBtZXNzYWdlIHBvcHVwIHRpdGxlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgd2FybmluZ1BvcHVwVGl0bGUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fd2FybmluZ1BvcHVwVGl0bGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFdhcm5pbmdNZXNzYWdlUG9wdXBIZWxwZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L3RlYW1tYW5hZ2VtZW50L2hlbHBlcnMvd2FybmluZ21lc3NhZ2Vwb3B1cGhlbHBlci50cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFtSEE7QUEzR0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFIQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFLQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 420:
/* no static exports found */
/* all exports used */
/*!***************************************************************************!*\
  !*** ./src/utility/worklistvalidators/directedremarkworklistvalidator.ts ***!
  \***************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../components/utility/ecoursework/ecourseworkhelper */ 238);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * Directed remark worklist concrete implementation of WorkListValidatorSchema\r\n */\r\nvar DirectedRemarkWorklistValidator = /** @class */ (function () {\r\n    function DirectedRemarkWorklistValidator() {\r\n    }\r\n    /**\r\n     * Logic to show marking progress/submit button/blocking exception warning\r\n     * @param response\r\n     */\r\n    DirectedRemarkWorklistValidator.prototype.submitButtonValidate = function (response) {\r\n        this.responseStatuses = Immutable.List();\r\n        this.responseStatuses.clear();\r\n        switch (worklistStore.instance.getResponseMode) {\r\n            case enums.ResponseMode.open:\r\n                this.responseStatuses = this.openResponseValidation(response);\r\n                break;\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * get supervisor remark decision visibility\r\n     * @param response\r\n     */\r\n    DirectedRemarkWorklistValidator.prototype.isSupervisorRemarkDecisionVisible = function (response) {\r\n        var markSchemeGroupId = qigStore.instance.selectedQIGForMarkerOperation.markSchemeGroupId;\r\n        var isSupervisorRemarkDecisionCCOn = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SupervisorRemarkDecision, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n        return (isSupervisorRemarkDecisionCCOn\r\n            && worklistStore.instance.getRemarkRequestType === enums.RemarkRequestType.SupervisorRemark\r\n            && response.markingProgress === 100);\r\n    };\r\n    /**\r\n     * Open directed remark worklist validation for marking progress/submit button\r\n     * @param response\r\n     */\r\n    DirectedRemarkWorklistValidator.prototype.openResponseValidation = function (response) {\r\n        response.isSubmitEnabled = false;\r\n        /** if the marking has started */\r\n        if (response.markingProgress > 0) {\r\n            /** if the marking is completed */\r\n            if (response.markingProgress === 100) {\r\n                // Avoid ForceAnnotationOnEachPage CC while opening single response in multiQig\r\n                // Apply ForceAnnotationOnEachPage CC for all QIGs in the whole response when it turned on for at least one QIG\r\n                var markSchemeGroupId = (response.isWholeResponse &&\r\n                    response.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** taking the cc from cc helper */\r\n                var isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                var isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                /** if slao annotated cc is on and all pages are not annotated OR all pages annotated cc is on\r\n                 *  and all pages are not annotated if both CCs are on, all pages annotated cc has\r\n                 *  the higher priority.\r\n                 */\r\n                if ((!isAllPagesAnnotatedCC && isAllSLAOAnnotatedCC && response.hasAllPagesAnnotated === false)\r\n                    || (isAllPagesAnnotatedCC && response.hasAllPagesAnnotated === false)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllPagesAnnotated);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    if (response.hasBlockingExceptions) {\r\n                        this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    }\r\n                }\r\n                else if (response.hasBlockingExceptions ||\r\n                    (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed)) {\r\n                    /** if the marking is completed and blocking exceptions are there, show both. */\r\n                    /* For an ecoursework component, enable submit button only if all files are viewed in the response.\r\n                       If not all files are viewed then the response view in the worklist will be shown in amber color along with\r\n                       marking progress indicator.\r\n                    */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    if (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed) {\r\n                        this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllFilesViewed);\r\n                    }\r\n                }\r\n                else if (response.hasZoningExceptions) {\r\n                    /** if the marking is completed and zoning exceptions are there, show both. */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasZoningException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if (response.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Unknown\r\n                    && response.accuracyIndicatorTypeID !== enums.AccuracyIndicatorType.Accurate\r\n                    && response.markChangeReasonVisible && !response.markChangeReason) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markChangeReasonNotExist);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if ((response.supervisorRemarkFinalMarkSetID === 0 || response.supervisorRemarkMarkChangeReasonID === 0)\r\n                    && this.isSupervisorRemarkDecisionVisible(response)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.supervisorRemarkDecisionNotSelected);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else {\r\n                    /** if all pages annotated cc is off and if no blocking exceptions are there, show ready to submit button */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.readyToSubmit);\r\n                    response.isSubmitEnabled = true;\r\n                }\r\n            }\r\n            else if (response.hasBlockingExceptions) {\r\n                /** if the marking is in progress and blocking exceptions are there, show both. */\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n            else {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n        }\r\n        else {\r\n            /** if marking not started show the same */\r\n            this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingNotStarted);\r\n            if (response.hasBlockingExceptions) {\r\n                /** if the marking is not started and blocking exceptions are there, show amber. */\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n            }\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    return DirectedRemarkWorklistValidator;\r\n}());\r\nmodule.exports = DirectedRemarkWorklistValidator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL2RpcmVjdGVkcmVtYXJrd29ya2xpc3R2YWxpZGF0b3IudHM/MTY1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcbmltcG9ydCB3b3JrTGlzdFZhbGlkYXRvclNjaGVtYSA9IHJlcXVpcmUoJy4vd29ya2xpc3R2YWxpZGF0b3JzY2hlbWEnKTtcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcbmltcG9ydCB3b3JrbGlzdFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3dvcmtsaXN0c3RvcmUnKTtcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc2hlbHBlcicpO1xuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcblxuLyoqXG4gKiBEaXJlY3RlZCByZW1hcmsgd29ya2xpc3QgY29uY3JldGUgaW1wbGVtZW50YXRpb24gb2YgV29ya0xpc3RWYWxpZGF0b3JTY2hlbWFcbiAqL1xuY2xhc3MgRGlyZWN0ZWRSZW1hcmtXb3JrbGlzdFZhbGlkYXRvciBpbXBsZW1lbnRzIHdvcmtMaXN0VmFsaWRhdG9yU2NoZW1hIHtcbiAgICBwcml2YXRlIHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPjtcblxuICAgIC8qKlxuICAgICAqIExvZ2ljIHRvIHNob3cgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uL2Jsb2NraW5nIGV4Y2VwdGlvbiB3YXJuaW5nXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXG4gICAgICovXG4gICAgcHVibGljIHN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlOiBSZXNwb25zZUJhc2UpIHtcblxuICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4oKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzLmNsZWFyKCk7XG4gICAgICAgIHN3aXRjaCAod29ya2xpc3RTdG9yZS5pbnN0YW5jZS5nZXRSZXNwb25zZU1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5vcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlIGFzIERpcmVjdGVkUmVtYXJrT3BlblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZVN0YXR1c2VzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCBzdXBlcnZpc29yIHJlbWFyayBkZWNpc2lvbiB2aXNpYmlsaXR5XG4gICAgICogQHBhcmFtIHJlc3BvbnNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc1N1cGVydmlzb3JSZW1hcmtEZWNpc2lvblZpc2libGUocmVzcG9uc2U6IFJlc3BvbnNlQmFzZSk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgbWFya1NjaGVtZUdyb3VwSWQgPSBxaWdTdG9yZS5pbnN0YW5jZS5zZWxlY3RlZFFJR0Zvck1hcmtlck9wZXJhdGlvbi5tYXJrU2NoZW1lR3JvdXBJZDtcbiAgICAgICAgbGV0IGlzU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uQ0NPbjogYm9vbGVhbiA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxuICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uLCBtYXJrU2NoZW1lR3JvdXBJZCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiAoaXNTdXBlcnZpc29yUmVtYXJrRGVjaXNpb25DQ09uXG4gICAgICAgICAgICAmJiB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlbWFya1JlcXVlc3RUeXBlID09PSBlbnVtcy5SZW1hcmtSZXF1ZXN0VHlwZS5TdXBlcnZpc29yUmVtYXJrXG4gICAgICAgICAgICAmJiByZXNwb25zZS5tYXJraW5nUHJvZ3Jlc3MgPT09IDEwMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbiBkaXJlY3RlZCByZW1hcmsgd29ya2xpc3QgdmFsaWRhdGlvbiBmb3IgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBvcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlOiBEaXJlY3RlZFJlbWFya09wZW5SZXNwb25zZSkge1xuICAgICAgICByZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGhhcyBzdGFydGVkICovXG4gICAgICAgIGlmIChyZXNwb25zZS5tYXJraW5nUHJvZ3Jlc3MgPiAwKSB7XG4gICAgICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaXMgY29tcGxldGVkICovXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubWFya2luZ1Byb2dyZXNzID09PSAxMDApIHtcblxuICAgICAgICAgICAgICAgIC8vIEF2b2lkIEZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UgQ0Mgd2hpbGUgb3BlbmluZyBzaW5nbGUgcmVzcG9uc2UgaW4gbXVsdGlRaWdcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIGZvciBhbGwgUUlHcyBpbiB0aGUgd2hvbGUgcmVzcG9uc2Ugd2hlbiBpdCB0dXJuZWQgb24gZm9yIGF0IGxlYXN0IG9uZSBRSUdcbiAgICAgICAgICAgICAgICBsZXQgbWFya1NjaGVtZUdyb3VwSWQ6IG51bWJlciA9IChyZXNwb25zZS5pc1dob2xlUmVzcG9uc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVsYXRlZFJJR0RldGFpbHMpID8gMCA6XG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xuXG4gICAgICAgICAgICAgICAgLyoqIHRha2luZyB0aGUgY2MgZnJvbSBjYyBoZWxwZXIgKi9cbiAgICAgICAgICAgICAgICBsZXQgaXNBbGxQYWdlc0Fubm90YXRlZENDID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsIG1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IGlzQWxsU0xBT0Fubm90YXRlZENDID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNMQU9Gb3JjZWRBbm5vdGF0aW9ucywgbWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAvKiogaWYgc2xhbyBhbm5vdGF0ZWQgY2MgaXMgb24gYW5kIGFsbCBwYWdlcyBhcmUgbm90IGFubm90YXRlZCBPUiBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGlzIG9uXG4gICAgICAgICAgICAgICAgICogIGFuZCBhbGwgcGFnZXMgYXJlIG5vdCBhbm5vdGF0ZWQgaWYgYm90aCBDQ3MgYXJlIG9uLCBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGhhc1xuICAgICAgICAgICAgICAgICAqICB0aGUgaGlnaGVyIHByaW9yaXR5LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmICgoIWlzQWxsUGFnZXNBbm5vdGF0ZWRDQyAmJiBpc0FsbFNMQU9Bbm5vdGF0ZWRDQyAmJiByZXNwb25zZS5oYXNBbGxQYWdlc0Fubm90YXRlZCA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHx8IChpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgcmVzcG9uc2UuaGFzQWxsUGFnZXNBbm5vdGF0ZWQgPT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxQYWdlc0Fubm90YXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc0Jsb2NraW5nRXhjZXB0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzRXhjZXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuaGFzQmxvY2tpbmdFeGNlcHRpb25zIHx8XG4gICAgICAgICAgICAgICAgICAgIChlQ291cnNld29ya0hlbHBlci5pc0VDb3Vyc2V3b3JrQ29tcG9uZW50ICYmICFyZXNwb25zZS5hbGxGaWxlc1ZpZXdlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCBhbmQgYmxvY2tpbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgYm90aC4gKi9cbiAgICAgICAgICAgICAgICAgICAgLyogRm9yIGFuIGVjb3Vyc2V3b3JrIGNvbXBvbmVudCwgZW5hYmxlIHN1Ym1pdCBidXR0b24gb25seSBpZiBhbGwgZmlsZXMgYXJlIHZpZXdlZCBpbiB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBhbGwgZmlsZXMgYXJlIHZpZXdlZCB0aGVuIHRoZSByZXNwb25zZSB2aWV3IGluIHRoZSB3b3JrbGlzdCB3aWxsIGJlIHNob3duIGluIGFtYmVyIGNvbG9yIGFsb25nIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgICAgbWFya2luZyBwcm9ncmVzcyBpbmRpY2F0b3IuXG4gICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVDb3Vyc2V3b3JrSGVscGVyLmlzRUNvdXJzZXdvcmtDb21wb25lbnQgJiYgIXJlc3BvbnNlLmFsbEZpbGVzVmlld2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxGaWxlc1ZpZXdlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmhhc1pvbmluZ0V4Y2VwdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaXMgY29tcGxldGVkIGFuZCB6b25pbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgYm90aC4gKi9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNab25pbmdFeGNlcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuYWNjdXJhY3lJbmRpY2F0b3JUeXBlSUQgIT09IGVudW1zLkFjY3VyYWN5SW5kaWNhdG9yVHlwZS5Vbmtub3duXG4gICAgICAgICAgICAgICAgICAgICYmIHJlc3BvbnNlLmFjY3VyYWN5SW5kaWNhdG9yVHlwZUlEICE9PSBlbnVtcy5BY2N1cmFjeUluZGljYXRvclR5cGUuQWNjdXJhdGVcbiAgICAgICAgICAgICAgICAgICAgJiYgcmVzcG9uc2UubWFya0NoYW5nZVJlYXNvblZpc2libGUgJiYgIXJlc3BvbnNlLm1hcmtDaGFuZ2VSZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya0NoYW5nZVJlYXNvbk5vdEV4aXN0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKHJlc3BvbnNlLnN1cGVydmlzb3JSZW1hcmtGaW5hbE1hcmtTZXRJRCA9PT0gMCB8fCByZXNwb25zZS5zdXBlcnZpc29yUmVtYXJrTWFya0NoYW5nZVJlYXNvbklEID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAmJiB0aGlzLmlzU3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uVmlzaWJsZShyZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMuc3VwZXJ2aXNvclJlbWFya0RlY2lzaW9uTm90U2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaXMgb2ZmIGFuZCBpZiBubyBibG9ja2luZyBleGNlcHRpb25zIGFyZSB0aGVyZSwgc2hvdyByZWFkeSB0byBzdWJtaXQgYnV0dG9uICovXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuaGFzQmxvY2tpbmdFeGNlcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGluIHByb2dyZXNzIGFuZCBibG9ja2luZyBleGNlcHRpb25zIGFyZSB0aGVyZSwgc2hvdyBib3RoLiAqL1xuICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKiogaWYgbWFya2luZyBub3Qgc3RhcnRlZCBzaG93IHRoZSBzYW1lICovXG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nTm90U3RhcnRlZCk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuaGFzQmxvY2tpbmdFeGNlcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIG5vdCBzdGFydGVkIGFuZCBibG9ja2luZyBleGNlcHRpb25zIGFyZSB0aGVyZSwgc2hvdyBhbWJlci4gKi9cbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNFeGNlcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VTdGF0dXNlcztcbiAgICB9XG59XG5leHBvcnQgPSBEaXJlY3RlZFJlbWFya1dvcmtsaXN0VmFsaWRhdG9yO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy9kaXJlY3RlZHJlbWFya3dvcmtsaXN0dmFsaWRhdG9yLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFrSEE7QUEvR0E7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 421:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/utility/worklistvalidators/liveworklistvalidator.ts ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../components/utility/ecoursework/ecourseworkhelper */ 238);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar markeroperationmodefactory = __webpack_require__(/*! ../../components/utility/markeroperationmode/markeroperationmodefactory */ 232);\r\n/**\r\n * Live worklist concrete implementation of WorkListValidatorSchema\r\n */\r\nvar LiveWorklistValidator = /** @class */ (function () {\r\n    function LiveWorklistValidator() {\r\n    }\r\n    /**\r\n     * Logic to show marking progress/submit button/blocking exception warning\r\n     * @param response\r\n     */\r\n    LiveWorklistValidator.prototype.submitButtonValidate = function (response) {\r\n        this.responseStatuses = Immutable.List();\r\n        this.responseStatuses.clear();\r\n        switch (worklistStore.instance.getResponseMode) {\r\n            case enums.ResponseMode.open:\r\n                this.responseStatuses = this.openResponseValidation(response);\r\n                break;\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * Open live worklist validation for marking progress/submit button\r\n     * @param response\r\n     */\r\n    LiveWorklistValidator.prototype.openResponseValidation = function (response) {\r\n        response.isSubmitEnabled = false;\r\n        /** if the marking has started */\r\n        if (response.markingProgress > 0) {\r\n            /** if the marking is completed */\r\n            if (response.markingProgress === 100) {\r\n                // Avoid ForceAnnotationOnEachPage CC while opening single response in multiQig\r\n                // Apply ForceAnnotationOnEachPage CC for all QIGs in the whole response when it turned on for at least one QIG\r\n                var markSchemeGroupId = (response.isWholeResponse &&\r\n                    response.relatedRIGDetails) ? 0 :\r\n                    qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** taking the cc from cc helper */\r\n                var isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                var isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                /** if slao annotated cc is on and all pages are not annotated OR all pages annotated cc is on\r\n                 *  and all pages are not annotated if both CCs are on, all pages annotated cc has\r\n                 *  the higher priority.\r\n                 */\r\n                if ((!isAllPagesAnnotatedCC && isAllSLAOAnnotatedCC && response.hasAllPagesAnnotated === false\r\n                    && response.hasAdditionalObjects)\r\n                    || (isAllPagesAnnotatedCC && response.hasAllPagesAnnotated === false)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllPagesAnnotated);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    if (response.hasBlockingExceptions) {\r\n                        this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    }\r\n                }\r\n                else if (response.hasBlockingExceptions ||\r\n                    (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed)) {\r\n                    /** if the marking is completed and blocking exceptions are there, show both. */\r\n                    /* For an ecoursework component, enable submit button only if all files are viewed in the response.\r\n                       If not all files are viewed then the response view in the worklist will be shown in amber color along with\r\n                       marking progress indicator .\r\n                    */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    if (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed) {\r\n                        this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllFilesViewed);\r\n                    }\r\n                }\r\n                if (response.hasZoningExceptions) {\r\n                    /** if the marking is completed and zoning exceptions are there, show both. */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasZoningException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if (response.isWholeResponse && !markeroperationmodefactory.operationMode.isSubmitDisabled(enums.WorklistType.live)\r\n                    && ((!qigStore.instance.isWholeResponseAvailable &&\r\n                        worklistStore.instance.currentWorklistType === enums.WorklistType.live)\r\n                        || (!qigStore.instance.isAtypicalAvailable &&\r\n                            worklistStore.instance.currentWorklistType === enums.WorklistType.atypical))) {\r\n                    //// if permission is changed for whole response in any of the qigs then submit is hidden\r\n                    ////  markeroperationmodefactory.operationMode.isSubmitDisabled - current qig submit disable logic\r\n                    ////  isAtypicalAvailable - for checking if atypical submit available\r\n                    ////  isWholeResponseAvailable - for checking if whole response submit available\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.wholeResponseNotAvailable);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if (this.responseStatuses.count() === 0) {\r\n                    /** if all pages annotated cc is off and if no blocking exceptions are there, show ready to submit button */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.readyToSubmit);\r\n                    response.isSubmitEnabled = true;\r\n                }\r\n            }\r\n            else if (response.hasBlockingExceptions) {\r\n                /** if the marking is in progress and blocking exceptions are there, show both. */\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n            else {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n        }\r\n        else {\r\n            /** if marking not started show the same */\r\n            this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingNotStarted);\r\n            if (response.hasBlockingExceptions) {\r\n                /** if the marking is not started and blocking exceptions are there, show amber. */\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n            }\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    return LiveWorklistValidator;\r\n}());\r\nmodule.exports = LiveWorklistValidator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL2xpdmV3b3JrbGlzdHZhbGlkYXRvci50cz9jZTBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgd29ya0xpc3RWYWxpZGF0b3JTY2hlbWEgPSByZXF1aXJlKCcuL3dvcmtsaXN0dmFsaWRhdG9yc2NoZW1hJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xyXG5pbXBvcnQgZUNvdXJzZXdvcmtIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZWNvdXJzZXdvcmsvZWNvdXJzZXdvcmtoZWxwZXInKTtcclxuaW1wb3J0IHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcbmltcG9ydCBtYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeSA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9tYXJrZXJvcGVyYXRpb25tb2RlL21hcmtlcm9wZXJhdGlvbm1vZGVmYWN0b3J5Jyk7XHJcbi8qKlxyXG4gKiBMaXZlIHdvcmtsaXN0IGNvbmNyZXRlIGltcGxlbWVudGF0aW9uIG9mIFdvcmtMaXN0VmFsaWRhdG9yU2NoZW1hXHJcbiAqL1xyXG5jbGFzcyBMaXZlV29ya2xpc3RWYWxpZGF0b3IgaW1wbGVtZW50cyB3b3JrTGlzdFZhbGlkYXRvclNjaGVtYSB7XHJcbiAgICBwcml2YXRlIHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvZ2ljIHRvIHNob3cgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uL2Jsb2NraW5nIGV4Y2VwdGlvbiB3YXJuaW5nXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlOiBSZXNwb25zZUJhc2UpIHtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCk7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzLmNsZWFyKCk7XHJcbiAgICAgICAgc3dpdGNoICh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5vcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlIGFzIExpdmVPcGVuUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlU3RhdHVzZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPcGVuIGxpdmUgd29ya2xpc3QgdmFsaWRhdGlvbiBmb3IgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlOiBMaXZlT3BlblJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGhhcyBzdGFydGVkICovXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm1hcmtpbmdQcm9ncmVzcyA+IDApIHtcclxuICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCAqL1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubWFya2luZ1Byb2dyZXNzID09PSAxMDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIHdoaWxlIG9wZW5pbmcgc2luZ2xlIHJlc3BvbnNlIGluIG11bHRpUWlnXHJcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIGZvciBhbGwgUUlHcyBpbiB0aGUgd2hvbGUgcmVzcG9uc2Ugd2hlbiBpdCB0dXJuZWQgb24gZm9yIGF0IGxlYXN0IG9uZSBRSUdcclxuICAgICAgICAgICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyID0gKHJlc3BvbnNlLmlzV2hvbGVSZXNwb25zZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlbGF0ZWRSSUdEZXRhaWxzKSA/IDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKiB0YWtpbmcgdGhlIGNjIGZyb20gY2MgaGVscGVyICovXHJcbiAgICAgICAgICAgICAgICBsZXQgaXNBbGxQYWdlc0Fubm90YXRlZENDID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuRm9yY2VBbm5vdGF0aW9uT25FYWNoUGFnZSwgbWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxldCBpc0FsbFNMQU9Bbm5vdGF0ZWRDQyA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNMQU9Gb3JjZWRBbm5vdGF0aW9ucywgbWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8qKiBpZiBzbGFvIGFubm90YXRlZCBjYyBpcyBvbiBhbmQgYWxsIHBhZ2VzIGFyZSBub3QgYW5ub3RhdGVkIE9SIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaXMgb25cclxuICAgICAgICAgICAgICAgICAqICBhbmQgYWxsIHBhZ2VzIGFyZSBub3QgYW5ub3RhdGVkIGlmIGJvdGggQ0NzIGFyZSBvbiwgYWxsIHBhZ2VzIGFubm90YXRlZCBjYyBoYXNcclxuICAgICAgICAgICAgICAgICAqICB0aGUgaGlnaGVyIHByaW9yaXR5LlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBpZiAoKCFpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgaXNBbGxTTEFPQW5ub3RhdGVkQ0MgJiYgcmVzcG9uc2UuaGFzQWxsUGFnZXNBbm5vdGF0ZWQgPT09IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcmVzcG9uc2UuaGFzQWRkaXRpb25hbE9iamVjdHMpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgKGlzQWxsUGFnZXNBbm5vdGF0ZWRDQyAmJiByZXNwb25zZS5oYXNBbGxQYWdlc0Fubm90YXRlZCA9PT0gZmFsc2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubm90QWxsUGFnZXNBbm5vdGF0ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdJblByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaGFzQmxvY2tpbmdFeGNlcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5oYXNCbG9ja2luZ0V4Y2VwdGlvbnMgfHxcclxuICAgICAgICAgICAgICAgICAgICAoZUNvdXJzZXdvcmtIZWxwZXIuaXNFQ291cnNld29ya0NvbXBvbmVudCAmJiAhcmVzcG9uc2UuYWxsRmlsZXNWaWV3ZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCBhbmQgYmxvY2tpbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgYm90aC4gKi9cclxuICAgICAgICAgICAgICAgICAgICAvKiBGb3IgYW4gZWNvdXJzZXdvcmsgY29tcG9uZW50LCBlbmFibGUgc3VibWl0IGJ1dHRvbiBvbmx5IGlmIGFsbCBmaWxlcyBhcmUgdmlld2VkIGluIHRoZSByZXNwb25zZS5cclxuICAgICAgICAgICAgICAgICAgICAgICBJZiBub3QgYWxsIGZpbGVzIGFyZSB2aWV3ZWQgdGhlbiB0aGUgcmVzcG9uc2UgdmlldyBpbiB0aGUgd29ya2xpc3Qgd2lsbCBiZSBzaG93biBpbiBhbWJlciBjb2xvciBhbG9uZyB3aXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgbWFya2luZyBwcm9ncmVzcyBpbmRpY2F0b3IgLlxyXG4gICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzRXhjZXB0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVDb3Vyc2V3b3JrSGVscGVyLmlzRUNvdXJzZXdvcmtDb21wb25lbnQgJiYgIXJlc3BvbnNlLmFsbEZpbGVzVmlld2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vdEFsbEZpbGVzVmlld2VkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGlmIChyZXNwb25zZS5oYXNab25pbmdFeGNlcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCBhbmQgem9uaW5nIGV4Y2VwdGlvbnMgYXJlIHRoZXJlLCBzaG93IGJvdGguICovXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMuaGFzWm9uaW5nRXhjZXB0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmlzV2hvbGVSZXNwb25zZSAmJiAhbWFya2Vyb3BlcmF0aW9ubW9kZWZhY3Rvcnkub3BlcmF0aW9uTW9kZS5pc1N1Ym1pdERpc2FibGVkKGVudW1zLldvcmtsaXN0VHlwZS5saXZlKVxyXG4gICAgICAgICAgICAgICAgICAgICYmICgoIXFpZ1N0b3JlLmluc3RhbmNlLmlzV2hvbGVSZXNwb25zZUF2YWlsYWJsZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2xpc3RTdG9yZS5pbnN0YW5jZS5jdXJyZW50V29ya2xpc3RUeXBlID09PSBlbnVtcy5Xb3JrbGlzdFR5cGUubGl2ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKCFxaWdTdG9yZS5pbnN0YW5jZS5pc0F0eXBpY2FsQXZhaWxhYmxlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmN1cnJlbnRXb3JrbGlzdFR5cGUgPT09IGVudW1zLldvcmtsaXN0VHlwZS5hdHlwaWNhbCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8vLyBpZiBwZXJtaXNzaW9uIGlzIGNoYW5nZWQgZm9yIHdob2xlIHJlc3BvbnNlIGluIGFueSBvZiB0aGUgcWlncyB0aGVuIHN1Ym1pdCBpcyBoaWRkZW5cclxuICAgICAgICAgICAgICAgICAgICAvLy8vICBtYXJrZXJvcGVyYXRpb25tb2RlZmFjdG9yeS5vcGVyYXRpb25Nb2RlLmlzU3VibWl0RGlzYWJsZWQgLSBjdXJyZW50IHFpZyBzdWJtaXQgZGlzYWJsZSBsb2dpY1xyXG4gICAgICAgICAgICAgICAgICAgIC8vLy8gIGlzQXR5cGljYWxBdmFpbGFibGUgLSBmb3IgY2hlY2tpbmcgaWYgYXR5cGljYWwgc3VibWl0IGF2YWlsYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vLy8gIGlzV2hvbGVSZXNwb25zZUF2YWlsYWJsZSAtIGZvciBjaGVja2luZyBpZiB3aG9sZSByZXNwb25zZSBzdWJtaXQgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMud2hvbGVSZXNwb25zZU5vdEF2YWlsYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc3BvbnNlU3RhdHVzZXMuY291bnQoKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKiBpZiBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGlzIG9mZiBhbmQgaWYgbm8gYmxvY2tpbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgcmVhZHkgdG8gc3VibWl0IGJ1dHRvbiAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmlzU3VibWl0RW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuaGFzQmxvY2tpbmdFeGNlcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaXMgaW4gcHJvZ3Jlc3MgYW5kIGJsb2NraW5nIGV4Y2VwdGlvbnMgYXJlIHRoZXJlLCBzaG93IGJvdGguICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNFeGNlcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLyoqIGlmIG1hcmtpbmcgbm90IHN0YXJ0ZWQgc2hvdyB0aGUgc2FtZSAqL1xyXG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nTm90U3RhcnRlZCk7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5oYXNCbG9ja2luZ0V4Y2VwdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIC8qKiBpZiB0aGUgbWFya2luZyBpcyBub3Qgc3RhcnRlZCBhbmQgYmxvY2tpbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgYW1iZXIuICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5oYXNFeGNlcHRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZVN0YXR1c2VzO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCA9IExpdmVXb3JrbGlzdFZhbGlkYXRvcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy9saXZld29ya2xpc3R2YWxpZGF0b3IudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBdUdBO0FBcEdBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 422:
/* no static exports found */
/* all exports used */
/*!*********************************************************************!*\
  !*** ./src/utility/worklistvalidators/practiceworklistvalidator.ts ***!
  \*********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../components/utility/ecoursework/ecourseworkhelper */ 238);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\n/**\r\n * Practice worklist concrete implementation of WorkListValidatorSchema\r\n */\r\nvar PracticeWorklistValidator = /** @class */ (function () {\r\n    function PracticeWorklistValidator() {\r\n    }\r\n    /**\r\n     * Logic to show marking progress/submit button/blocking exception warning\r\n     * @param response\r\n     */\r\n    PracticeWorklistValidator.prototype.submitButtonValidate = function (response) {\r\n        this.responseStatuses = Immutable.List();\r\n        this.responseStatuses.clear();\r\n        switch (worklistStore.instance.getResponseMode) {\r\n            case enums.ResponseMode.open:\r\n                this.responseStatuses = this.openResponseValidation(response);\r\n                break;\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * Open Practice worklist validation for marking progress/submit button\r\n     * @param response\r\n     */\r\n    PracticeWorklistValidator.prototype.openResponseValidation = function (response) {\r\n        response.isSubmitEnabled = false;\r\n        /** if the marking has started */\r\n        if (response.markingProgress > 0) {\r\n            /** if the marking is completed */\r\n            if (response.markingProgress === 100) {\r\n                // Avoid ForceAnnotationOnEachPage CC while opening single response in multiQig\r\n                // Apply ForceAnnotationOnEachPage CC for all QIGs in the whole response when it turned on for at least one QIG\r\n                var markSchemeGroupId = qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** taking the cc from cc helper */\r\n                var isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                var isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                /** if slao annotated cc is on and all pages are not annotated OR all pages annotated cc is on\r\n                 *  and all pages are not annotated if both CCs are on, all pages annotated cc has\r\n                 *  the higher priority.\r\n                 */\r\n                if ((!isAllPagesAnnotatedCC && isAllSLAOAnnotatedCC && response.hasAllPagesAnnotated === false)\r\n                    || (isAllPagesAnnotatedCC && response.hasAllPagesAnnotated === false)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllPagesAnnotated);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed) {\r\n                    /* For an ecoursework component, enable submit button only if all files are viewed in the response.\r\n                       If not all files are viewed then the response view in the worklist will be shown in amber color along with\r\n                       marking progress indicator.\r\n                    */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllFilesViewed);\r\n                }\r\n                else {\r\n                    /** if all pages annotated cc is off show ready to submit button */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.readyToSubmit);\r\n                    response.isSubmitEnabled = true;\r\n                }\r\n            }\r\n            else {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n        }\r\n        else {\r\n            /** if marking not started show the same */\r\n            this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingNotStarted);\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    return PracticeWorklistValidator;\r\n}());\r\nmodule.exports = PracticeWorklistValidator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3ByYWN0aWNld29ya2xpc3R2YWxpZGF0b3IudHM/MjE3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW51bXMgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZW51bXMnKTtcclxuaW1wb3J0IHdvcmtMaXN0VmFsaWRhdG9yU2NoZW1hID0gcmVxdWlyZSgnLi93b3JrbGlzdHZhbGlkYXRvcnNjaGVtYScpO1xyXG5pbXBvcnQgSW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XHJcbmltcG9ydCB3b3JrbGlzdFN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3dvcmtsaXN0L3dvcmtsaXN0c3RvcmUnKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzaGVscGVyJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMnKTtcclxuaW1wb3J0IGVDb3Vyc2V3b3JrSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2Vjb3Vyc2V3b3JrL2Vjb3Vyc2V3b3JraGVscGVyJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG4vKipcclxuICogUHJhY3RpY2Ugd29ya2xpc3QgY29uY3JldGUgaW1wbGVtZW50YXRpb24gb2YgV29ya0xpc3RWYWxpZGF0b3JTY2hlbWFcclxuICovXHJcbmNsYXNzIFByYWN0aWNlV29ya2xpc3RWYWxpZGF0b3IgaW1wbGVtZW50cyB3b3JrTGlzdFZhbGlkYXRvclNjaGVtYSB7XHJcbiAgICBwcml2YXRlIHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvZ2ljIHRvIHNob3cgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uL2Jsb2NraW5nIGV4Y2VwdGlvbiB3YXJuaW5nXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlOiBSZXNwb25zZUJhc2UpIHtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCk7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzLmNsZWFyKCk7XHJcbiAgICAgICAgc3dpdGNoICh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5vcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlIGFzIFByYWN0aWNlT3BlblJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZVN0YXR1c2VzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlbiBQcmFjdGljZSB3b3JrbGlzdCB2YWxpZGF0aW9uIGZvciBtYXJraW5nIHByb2dyZXNzL3N1Ym1pdCBidXR0b25cclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9wZW5SZXNwb25zZVZhbGlkYXRpb24ocmVzcG9uc2U6IFByYWN0aWNlT3BlblJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGhhcyBzdGFydGVkICovXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm1hcmtpbmdQcm9ncmVzcyA+IDApIHtcclxuICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCAqL1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubWFya2luZ1Byb2dyZXNzID09PSAxMDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIHdoaWxlIG9wZW5pbmcgc2luZ2xlIHJlc3BvbnNlIGluIG11bHRpUWlnXHJcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIGZvciBhbGwgUUlHcyBpbiB0aGUgd2hvbGUgcmVzcG9uc2Ugd2hlbiBpdCB0dXJuZWQgb24gZm9yIGF0IGxlYXN0IG9uZSBRSUdcclxuICAgICAgICAgICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyID1cclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiogdGFraW5nIHRoZSBjYyBmcm9tIGNjIGhlbHBlciAqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQWxsUGFnZXNBbm5vdGF0ZWRDQyA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsIG1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNBbGxTTEFPQW5ub3RhdGVkQ0MgPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcy5TTEFPRm9yY2VkQW5ub3RhdGlvbnMsIG1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvKiogaWYgc2xhbyBhbm5vdGF0ZWQgY2MgaXMgb24gYW5kIGFsbCBwYWdlcyBhcmUgbm90IGFubm90YXRlZCBPUiBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGlzIG9uXHJcbiAgICAgICAgICAgICAgICAgKiAgYW5kIGFsbCBwYWdlcyBhcmUgbm90IGFubm90YXRlZCBpZiBib3RoIENDcyBhcmUgb24sIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaGFzXHJcbiAgICAgICAgICAgICAgICAgKiAgdGhlIGhpZ2hlciBwcmlvcml0eS5cclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKCghaXNBbGxQYWdlc0Fubm90YXRlZENDICYmIGlzQWxsU0xBT0Fubm90YXRlZENDICYmIHJlc3BvbnNlLmhhc0FsbFBhZ2VzQW5ub3RhdGVkID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICB8fCAoaXNBbGxQYWdlc0Fubm90YXRlZENDICYmIHJlc3BvbnNlLmhhc0FsbFBhZ2VzQW5ub3RhdGVkID09PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxQYWdlc0Fubm90YXRlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlQ291cnNld29ya0hlbHBlci5pc0VDb3Vyc2V3b3JrQ29tcG9uZW50ICYmICFyZXNwb25zZS5hbGxGaWxlc1ZpZXdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIEZvciBhbiBlY291cnNld29yayBjb21wb25lbnQsIGVuYWJsZSBzdWJtaXQgYnV0dG9uIG9ubHkgaWYgYWxsIGZpbGVzIGFyZSB2aWV3ZWQgaW4gdGhlIHJlc3BvbnNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBhbGwgZmlsZXMgYXJlIHZpZXdlZCB0aGVuIHRoZSByZXNwb25zZSB2aWV3IGluIHRoZSB3b3JrbGlzdCB3aWxsIGJlIHNob3duIGluIGFtYmVyIGNvbG9yIGFsb25nIHdpdGhcclxuICAgICAgICAgICAgICAgICAgICAgICBtYXJraW5nIHByb2dyZXNzIGluZGljYXRvci5cclxuICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vdEFsbEZpbGVzVmlld2VkKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaXMgb2ZmIHNob3cgcmVhZHkgdG8gc3VibWl0IGJ1dHRvbiAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmlzU3VibWl0RW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiogaWYgbWFya2luZyBub3Qgc3RhcnRlZCBzaG93IHRoZSBzYW1lICovXHJcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdOb3RTdGFydGVkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlU3RhdHVzZXM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gUHJhY3RpY2VXb3JrbGlzdFZhbGlkYXRvcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy91dGlsaXR5L3dvcmtsaXN0dmFsaWRhdG9ycy9wcmFjdGljZXdvcmtsaXN0dmFsaWRhdG9yLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUF1RUE7QUFwRUE7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 423:
/* no static exports found */
/* all exports used */
/*!***********************************************************************!*\
  !*** ./src/utility/worklistvalidators/simulationworklistvalidator.ts ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\n/**\r\n * Simulation worklist concrete implementation of WorkListValidatorSchema\r\n */\r\nvar SimualtionWorklistValidator = /** @class */ (function () {\r\n    function SimualtionWorklistValidator() {\r\n    }\r\n    /**\r\n     * Logic to show marking progress/submit button/blocking exception warning\r\n     * @param response\r\n     */\r\n    SimualtionWorklistValidator.prototype.submitButtonValidate = function (response) {\r\n        this.responseStatuses = Immutable.List();\r\n        this.responseStatuses.clear();\r\n        switch (worklistStore.instance.getResponseMode) {\r\n            case enums.ResponseMode.open:\r\n                this.responseStatuses = this.openResponseValidation(response);\r\n                break;\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * Open simulation worklist validation for marking progress/submit button\r\n     * @param response\r\n     */\r\n    SimualtionWorklistValidator.prototype.openResponseValidation = function (response) {\r\n        response.isSubmitEnabled = false;\r\n        /** if the marking has started */\r\n        if (response.markingProgress > 0) {\r\n            /** if the marking is completed */\r\n            if (response.markingProgress === 100) {\r\n                // Avoid ForceAnnotationOnEachPage CC while opening single response in multiQig\r\n                // Apply ForceAnnotationOnEachPage CC for all QIGs in the whole response when it turned on for at least one QIG\r\n                var markSchemeGroupId = qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** taking the cc from cc helper */\r\n                var isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, markSchemeGroupId).toLowerCase() === 'true';\r\n                var isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, markSchemeGroupId).toLowerCase() === 'true';\r\n                /** if slao annotated cc is on and all pages are not annotated OR all pages annotated cc is on\r\n                 *  and all pages are not annotated if both CCs are on, all pages annotated cc has\r\n                 *  the higher priority.\r\n                 */\r\n                if ((!isAllPagesAnnotatedCC && isAllSLAOAnnotatedCC && response.hasAllPagesAnnotated === false)\r\n                    || (isAllPagesAnnotatedCC && response.hasAllPagesAnnotated === false)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllPagesAnnotated);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else {\r\n                    /** if all pages annotated cc is off and if no blocking exceptions are there, show ready to submit button */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.readyToSubmit);\r\n                    response.isSubmitEnabled = true;\r\n                }\r\n            }\r\n            else {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n        }\r\n        else {\r\n            /** if marking not started show the same */\r\n            this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingNotStarted);\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    return SimualtionWorklistValidator;\r\n}());\r\nmodule.exports = SimualtionWorklistValidator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3NpbXVsYXRpb253b3JrbGlzdHZhbGlkYXRvci50cz9lYWM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlbnVtcyA9IHJlcXVpcmUoJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgd29ya0xpc3RWYWxpZGF0b3JTY2hlbWEgPSByZXF1aXJlKCcuL3dvcmtsaXN0dmFsaWRhdG9yc2NoZW1hJyk7XHJcbmltcG9ydCBJbW11dGFibGUgPSByZXF1aXJlKCdpbW11dGFibGUnKTtcclxuaW1wb3J0IHdvcmtsaXN0U3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvd29ya2xpc3Qvd29ya2xpc3RzdG9yZScpO1xyXG5pbXBvcnQgcWlnU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvcWlnc2VsZWN0b3IvcWlnc3RvcmUnKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzaGVscGVyJyk7XHJcbmltcG9ydCBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzbmFtZXMnKTtcclxuLyoqXHJcbiAqIFNpbXVsYXRpb24gd29ya2xpc3QgY29uY3JldGUgaW1wbGVtZW50YXRpb24gb2YgV29ya0xpc3RWYWxpZGF0b3JTY2hlbWFcclxuICovXHJcbmNsYXNzIFNpbXVhbHRpb25Xb3JrbGlzdFZhbGlkYXRvciBpbXBsZW1lbnRzIHdvcmtMaXN0VmFsaWRhdG9yU2NoZW1hIHtcclxuICAgIHByaXZhdGUgcmVzcG9uc2VTdGF0dXNlczogSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9naWMgdG8gc2hvdyBtYXJraW5nIHByb2dyZXNzL3N1Ym1pdCBidXR0b24vYmxvY2tpbmcgZXhjZXB0aW9uIHdhcm5pbmdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3VibWl0QnV0dG9uVmFsaWRhdGUocmVzcG9uc2U6IFJlc3BvbnNlQmFzZSkge1xyXG5cclxuICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSBJbW11dGFibGUuTGlzdDxlbnVtcy5SZXNwb25zZVN0YXR1cz4oKTtcclxuICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMuY2xlYXIoKTtcclxuICAgICAgICBzd2l0Y2ggKHdvcmtsaXN0U3RvcmUuaW5zdGFuY2UuZ2V0UmVzcG9uc2VNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuUmVzcG9uc2VNb2RlLm9wZW46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLm9wZW5SZXNwb25zZVZhbGlkYXRpb24ocmVzcG9uc2UgYXMgU2ltdWxhdGlvbk9wZW5SZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VTdGF0dXNlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZW4gc2ltdWxhdGlvbiB3b3JrbGlzdCB2YWxpZGF0aW9uIGZvciBtYXJraW5nIHByb2dyZXNzL3N1Ym1pdCBidXR0b25cclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9wZW5SZXNwb25zZVZhbGlkYXRpb24ocmVzcG9uc2U6IFNpbXVsYXRpb25PcGVuUmVzcG9uc2UpIHtcclxuICAgICAgICByZXNwb25zZS5pc1N1Ym1pdEVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaGFzIHN0YXJ0ZWQgKi9cclxuICAgICAgICBpZiAocmVzcG9uc2UubWFya2luZ1Byb2dyZXNzID4gMCkge1xyXG4gICAgICAgICAgICAvKiogaWYgdGhlIG1hcmtpbmcgaXMgY29tcGxldGVkICovXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5tYXJraW5nUHJvZ3Jlc3MgPT09IDEwMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEF2b2lkIEZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UgQ0Mgd2hpbGUgb3BlbmluZyBzaW5nbGUgcmVzcG9uc2UgaW4gbXVsdGlRaWdcclxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IEZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UgQ0MgZm9yIGFsbCBRSUdzIGluIHRoZSB3aG9sZSByZXNwb25zZSB3aGVuIGl0IHR1cm5lZCBvbiBmb3IgYXQgbGVhc3Qgb25lIFFJR1xyXG4gICAgICAgICAgICAgICAgbGV0IG1hcmtTY2hlbWVHcm91cElkOiBudW1iZXIgPVxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ1N0b3JlLmluc3RhbmNlLmdldFNlbGVjdGVkUUlHRm9yVGhlTG9nZ2VkSW5Vc2VyLm1hcmtTY2hlbWVHcm91cElkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qKiB0YWtpbmcgdGhlIGNjIGZyb20gY2MgaGVscGVyICovXHJcbiAgICAgICAgICAgICAgICBsZXQgaXNBbGxQYWdlc0Fubm90YXRlZENDID0gY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyLmdldENoYXJhY3RlcmlzdGljVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzTmFtZXMuRm9yY2VBbm5vdGF0aW9uT25FYWNoUGFnZSwgbWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcclxuICAgICAgICAgICAgICAgIGxldCBpc0FsbFNMQU9Bbm5vdGF0ZWRDQyA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLlNMQU9Gb3JjZWRBbm5vdGF0aW9ucywgbWFya1NjaGVtZUdyb3VwSWQpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcclxuICAgICAgICAgICAgICAgIC8qKiBpZiBzbGFvIGFubm90YXRlZCBjYyBpcyBvbiBhbmQgYWxsIHBhZ2VzIGFyZSBub3QgYW5ub3RhdGVkIE9SIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaXMgb25cclxuICAgICAgICAgICAgICAgICAqICBhbmQgYWxsIHBhZ2VzIGFyZSBub3QgYW5ub3RhdGVkIGlmIGJvdGggQ0NzIGFyZSBvbiwgYWxsIHBhZ2VzIGFubm90YXRlZCBjYyBoYXNcclxuICAgICAgICAgICAgICAgICAqICB0aGUgaGlnaGVyIHByaW9yaXR5LlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBpZiAoKCFpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgaXNBbGxTTEFPQW5ub3RhdGVkQ0MgJiYgcmVzcG9uc2UuaGFzQWxsUGFnZXNBbm5vdGF0ZWQgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgIHx8IChpc0FsbFBhZ2VzQW5ub3RhdGVkQ0MgJiYgcmVzcG9uc2UuaGFzQWxsUGFnZXNBbm5vdGF0ZWQgPT09IGZhbHNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vdEFsbFBhZ2VzQW5ub3RhdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qKiBpZiBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGlzIG9mZiBhbmQgaWYgbm8gYmxvY2tpbmcgZXhjZXB0aW9ucyBhcmUgdGhlcmUsIHNob3cgcmVhZHkgdG8gc3VibWl0IGJ1dHRvbiAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmlzU3VibWl0RW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiogaWYgbWFya2luZyBub3Qgc3RhcnRlZCBzaG93IHRoZSBzYW1lICovXHJcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdOb3RTdGFydGVkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlU3RhdHVzZXM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gU2ltdWFsdGlvbldvcmtsaXN0VmFsaWRhdG9yO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3NpbXVsYXRpb253b3JrbGlzdHZhbGlkYXRvci50cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQStEQTtBQTVEQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 424:
/* no static exports found */
/* all exports used */
/*!****************************************************************************!*\
  !*** ./src/utility/worklistvalidators/standardisationworklistvalidator.ts ***!
  \****************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar enums = __webpack_require__(/*! ../../components/utility/enums */ 225);\r\nvar Immutable = __webpack_require__(/*! immutable */ 40);\r\nvar worklistStore = __webpack_require__(/*! ../../stores/worklist/workliststore */ 231);\r\nvar qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\nvar configurableCharacteristicsHelper = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicshelper */ 233);\r\nvar configurableCharacteristicsNames = __webpack_require__(/*! ../../utility/configurablecharacteristic/configurablecharacteristicsnames */ 234);\r\nvar eCourseworkHelper = __webpack_require__(/*! ../../components/utility/ecoursework/ecourseworkhelper */ 238);\r\n/**\r\n * Standardisation worklist concrete implementation of WorkListValidatorSchema\r\n */\r\nvar StandardisationWorklistValidator = /** @class */ (function () {\r\n    function StandardisationWorklistValidator() {\r\n    }\r\n    /**\r\n     * Logic to show marking progress/submit button/blocking exception warning\r\n     * @param response\r\n     */\r\n    StandardisationWorklistValidator.prototype.submitButtonValidate = function (response) {\r\n        this.responseStatuses = Immutable.List();\r\n        this.responseStatuses.clear();\r\n        switch (worklistStore.instance.getResponseMode) {\r\n            case enums.ResponseMode.open:\r\n                this.responseStatuses = this.openResponseValidation(response);\r\n                break;\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    /**\r\n     * Open Standardisation worklist validation for marking progress/submit button\r\n     * @param response\r\n     */\r\n    StandardisationWorklistValidator.prototype.openResponseValidation = function (response) {\r\n        response.isSubmitEnabled = false;\r\n        /** if the marking has started */\r\n        if (response.markingProgress > 0) {\r\n            /** if the marking is completed */\r\n            if (response.markingProgress === 100) {\r\n                // Avoid ForceAnnotationOnEachPage CC while opening single response in multiQig\r\n                // Apply ForceAnnotationOnEachPage CC for all QIGs in the whole response when it turned on for at least one QIG\r\n                var markSchemeGroupId = qigStore.instance.getSelectedQIGForTheLoggedInUser.markSchemeGroupId;\r\n                /** taking the cc from cc helper */\r\n                var isAllPagesAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.ForceAnnotationOnEachPage, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                var isAllSLAOAnnotatedCC = configurableCharacteristicsHelper.getCharacteristicValue(configurableCharacteristicsNames.SLAOForcedAnnotations, markSchemeGroupId).toLowerCase() === 'true' ? true : false;\r\n                /** if slao annotated cc is on and all pages are not annotated OR all pages annotated cc is on\r\n                 *  and all pages are not annotated if both CCs are on, all pages annotated cc has\r\n                 *  the higher priority.\r\n                 */\r\n                if ((!isAllPagesAnnotatedCC && isAllSLAOAnnotatedCC && response.hasAllPagesAnnotated === false)\r\n                    || (isAllPagesAnnotatedCC && response.hasAllPagesAnnotated === false)) {\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllPagesAnnotated);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                }\r\n                else if (eCourseworkHelper.isECourseworkComponent && !response.allFilesViewed) {\r\n                    /* For an ecoursework component, enable submit button only if all files are viewed in the response.\r\n                       If not all files are viewed then the response view in the worklist will be shown in amber color along with\r\n                       marking progress indicator.\r\n                    */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.hasException);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.notAllFilesViewed);\r\n                }\r\n                else {\r\n                    /** if all pages annotated cc is off show ready to submit button */\r\n                    this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.readyToSubmit);\r\n                    response.isSubmitEnabled = true;\r\n                }\r\n            }\r\n            else {\r\n                this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingInProgress);\r\n            }\r\n        }\r\n        else {\r\n            /** if marking not started show the same */\r\n            this.responseStatuses = this.responseStatuses.push(enums.ResponseStatus.markingNotStarted);\r\n        }\r\n        return this.responseStatuses;\r\n    };\r\n    return StandardisationWorklistValidator;\r\n}());\r\nmodule.exports = StandardisationWorklistValidator;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdHkvd29ya2xpc3R2YWxpZGF0b3JzL3N0YW5kYXJkaXNhdGlvbndvcmtsaXN0dmFsaWRhdG9yLnRzPzNiZjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vLi4vY29tcG9uZW50cy91dGlsaXR5L2VudW1zJyk7XHJcbmltcG9ydCB3b3JrTGlzdFZhbGlkYXRvclNjaGVtYSA9IHJlcXVpcmUoJy4vd29ya2xpc3R2YWxpZGF0b3JzY2hlbWEnKTtcclxuaW1wb3J0IEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xyXG5pbXBvcnQgd29ya2xpc3RTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy93b3JrbGlzdC93b3JrbGlzdHN0b3JlJyk7XHJcbmltcG9ydCBxaWdTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScpO1xyXG5pbXBvcnQgY29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NoZWxwZXInKTtcclxuaW1wb3J0IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpYy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3NuYW1lcycpO1xyXG5pbXBvcnQgZUNvdXJzZXdvcmtIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHkvZWNvdXJzZXdvcmsvZWNvdXJzZXdvcmtoZWxwZXInKTtcclxuLyoqXHJcbiAqIFN0YW5kYXJkaXNhdGlvbiB3b3JrbGlzdCBjb25jcmV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBXb3JrTGlzdFZhbGlkYXRvclNjaGVtYVxyXG4gKi9cclxuY2xhc3MgU3RhbmRhcmRpc2F0aW9uV29ya2xpc3RWYWxpZGF0b3IgaW1wbGVtZW50cyB3b3JrTGlzdFZhbGlkYXRvclNjaGVtYSB7XHJcbiAgICBwcml2YXRlIHJlc3BvbnNlU3RhdHVzZXM6IEltbXV0YWJsZS5MaXN0PGVudW1zLlJlc3BvbnNlU3RhdHVzPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvZ2ljIHRvIHNob3cgbWFya2luZyBwcm9ncmVzcy9zdWJtaXQgYnV0dG9uL2Jsb2NraW5nIGV4Y2VwdGlvbiB3YXJuaW5nXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN1Ym1pdEJ1dHRvblZhbGlkYXRlKHJlc3BvbnNlOiBSZXNwb25zZUJhc2UpIHtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gSW1tdXRhYmxlLkxpc3Q8ZW51bXMuUmVzcG9uc2VTdGF0dXM+KCk7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzLmNsZWFyKCk7XHJcbiAgICAgICAgc3dpdGNoICh3b3JrbGlzdFN0b3JlLmluc3RhbmNlLmdldFJlc3BvbnNlTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlJlc3BvbnNlTW9kZS5vcGVuOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5vcGVuUmVzcG9uc2VWYWxpZGF0aW9uKHJlc3BvbnNlIGFzIFN0YW5kYXJkaXNhdGlvbk9wZW5SZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VTdGF0dXNlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZW4gU3RhbmRhcmRpc2F0aW9uIHdvcmtsaXN0IHZhbGlkYXRpb24gZm9yIG1hcmtpbmcgcHJvZ3Jlc3Mvc3VibWl0IGJ1dHRvblxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb3BlblJlc3BvbnNlVmFsaWRhdGlvbihyZXNwb25zZTogU3RhbmRhcmRpc2F0aW9uT3BlblJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmVzcG9uc2UuaXNTdWJtaXRFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGhhcyBzdGFydGVkICovXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm1hcmtpbmdQcm9ncmVzcyA+IDApIHtcclxuICAgICAgICAgICAgLyoqIGlmIHRoZSBtYXJraW5nIGlzIGNvbXBsZXRlZCAqL1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UubWFya2luZ1Byb2dyZXNzID09PSAxMDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIHdoaWxlIG9wZW5pbmcgc2luZ2xlIHJlc3BvbnNlIGluIG11bHRpUWlnXHJcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBGb3JjZUFubm90YXRpb25PbkVhY2hQYWdlIENDIGZvciBhbGwgUUlHcyBpbiB0aGUgd2hvbGUgcmVzcG9uc2Ugd2hlbiBpdCB0dXJuZWQgb24gZm9yIGF0IGxlYXN0IG9uZSBRSUdcclxuICAgICAgICAgICAgICAgIGxldCBtYXJrU2NoZW1lR3JvdXBJZDogbnVtYmVyID1cclxuICAgICAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTZWxlY3RlZFFJR0ZvclRoZUxvZ2dlZEluVXNlci5tYXJrU2NoZW1lR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiogdGFraW5nIHRoZSBjYyBmcm9tIGNjIGhlbHBlciAqL1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzQWxsUGFnZXNBbm5vdGF0ZWRDQyA9IGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc0hlbHBlci5nZXRDaGFyYWN0ZXJpc3RpY1ZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc05hbWVzLkZvcmNlQW5ub3RhdGlvbk9uRWFjaFBhZ2UsIG1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNBbGxTTEFPQW5ub3RhdGVkQ0MgPSBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NIZWxwZXIuZ2V0Q2hhcmFjdGVyaXN0aWNWYWx1ZShcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGVDaGFyYWN0ZXJpc3RpY3NOYW1lcy5TTEFPRm9yY2VkQW5ub3RhdGlvbnMsIG1hcmtTY2hlbWVHcm91cElkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvKiogaWYgc2xhbyBhbm5vdGF0ZWQgY2MgaXMgb24gYW5kIGFsbCBwYWdlcyBhcmUgbm90IGFubm90YXRlZCBPUiBhbGwgcGFnZXMgYW5ub3RhdGVkIGNjIGlzIG9uXHJcbiAgICAgICAgICAgICAgICAgKiAgYW5kIGFsbCBwYWdlcyBhcmUgbm90IGFubm90YXRlZCBpZiBib3RoIENDcyBhcmUgb24sIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaGFzXHJcbiAgICAgICAgICAgICAgICAgKiAgdGhlIGhpZ2hlciBwcmlvcml0eS5cclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKCghaXNBbGxQYWdlc0Fubm90YXRlZENDICYmIGlzQWxsU0xBT0Fubm90YXRlZENDICYmIHJlc3BvbnNlLmhhc0FsbFBhZ2VzQW5ub3RhdGVkID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICB8fCAoaXNBbGxQYWdlc0Fubm90YXRlZENDICYmIHJlc3BvbnNlLmhhc0FsbFBhZ2VzQW5ub3RhdGVkID09PSBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5ub3RBbGxQYWdlc0Fubm90YXRlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlQ291cnNld29ya0hlbHBlci5pc0VDb3Vyc2V3b3JrQ29tcG9uZW50ICYmICFyZXNwb25zZS5hbGxGaWxlc1ZpZXdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIEZvciBhbiBlY291cnNld29yayBjb21wb25lbnQsIGVuYWJsZSBzdWJtaXQgYnV0dG9uIG9ubHkgaWYgYWxsIGZpbGVzIGFyZSB2aWV3ZWQgaW4gdGhlIHJlc3BvbnNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgIElmIG5vdCBhbGwgZmlsZXMgYXJlIHZpZXdlZCB0aGVuIHRoZSByZXNwb25zZSB2aWV3IGluIHRoZSB3b3JrbGlzdCB3aWxsIGJlIHNob3duIGluIGFtYmVyIGNvbG9yIGFsb25nIHdpdGhcclxuICAgICAgICAgICAgICAgICAgICAgICBtYXJraW5nIHByb2dyZXNzIGluZGljYXRvci5cclxuICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLmhhc0V4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVN0YXR1c2VzID0gdGhpcy5yZXNwb25zZVN0YXR1c2VzLnB1c2goZW51bXMuUmVzcG9uc2VTdGF0dXMubWFya2luZ0luUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm5vdEFsbEZpbGVzVmlld2VkKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyoqIGlmIGFsbCBwYWdlcyBhbm5vdGF0ZWQgY2MgaXMgb2ZmIHNob3cgcmVhZHkgdG8gc3VibWl0IGJ1dHRvbiAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLnJlYWR5VG9TdWJtaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmlzU3VibWl0RW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlU3RhdHVzZXMgPSB0aGlzLnJlc3BvbnNlU3RhdHVzZXMucHVzaChlbnVtcy5SZXNwb25zZVN0YXR1cy5tYXJraW5nSW5Qcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvKiogaWYgbWFya2luZyBub3Qgc3RhcnRlZCBzaG93IHRoZSBzYW1lICovXHJcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTdGF0dXNlcyA9IHRoaXMucmVzcG9uc2VTdGF0dXNlcy5wdXNoKGVudW1zLlJlc3BvbnNlU3RhdHVzLm1hcmtpbmdOb3RTdGFydGVkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlU3RhdHVzZXM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gU3RhbmRhcmRpc2F0aW9uV29ya2xpc3RWYWxpZGF0b3I7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvdXRpbGl0eS93b3JrbGlzdHZhbGlkYXRvcnMvc3RhbmRhcmRpc2F0aW9ud29ya2xpc3R2YWxpZGF0b3IudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQXVFQTtBQXBFQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 548:
/* no static exports found */
/* all exports used */
/*!*****************************************************!*\
  !*** ./src/components/message/messagecontainer.tsx ***!
  \*****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* tslint:disable:no-unused-variable */\r\n/**\r\n * Add new dependencies in loadDependencies() method unless your dependencies are not using in constructor\r\n */\r\nvar React = __webpack_require__(/*! react */ 0);\r\n/* tslint:enable:no-unused-variable */\r\nvar pureRenderComponent = __webpack_require__(/*! ../base/purerendercomponent */ 227);\r\nvar enums = __webpack_require__(/*! ../utility/enums */ 225);\r\nvar immutable = __webpack_require__(/*! immutable */ 40);\r\nvar loginSession = __webpack_require__(/*! ../../app/loginsession */ 252);\r\nvar classNames = __webpack_require__(/*! classnames */ 39);\r\nvar Footer = __webpack_require__(/*! ../footer */ 382);\r\nvar BusyIndicator = __webpack_require__(/*! ../utility/busyindicator/busyindicator */ 312);\r\nvar applicationStore = __webpack_require__(/*! ../../stores/applicationoffline/applicationstore */ 247);\r\nvar applicationActionCreator = __webpack_require__(/*! ../../actions/applicationoffline/applicationactioncreator */ 256);\r\n/**\r\n * Add new dependencies in loadDependencies() method unless your dependencies are not using in constructor\r\n */\r\n/* tslint:disable:variable-name no-multiple-var-decl */\r\nvar navigationHelper, Header, notificationCount, MessageLeftPanel, MessageRightPanel, MessageTabItem, messageStore, ccStore, localeStore, MessagePopup, messagingActionCreator, GenericButton, stringFormatHelper, messageHelper, popUpDisplayActionCreator, popupHelper, markingHelper, ConfirmationDialog, responseStore, responseSearchHelper, responseActionCreator, messageTranslationHelper, GenericDialog, navigationStore, userInfoActionCreator, qigStore, userInfoStore, htmlUtilities, urls;\r\n/**\r\n * Class to Display the Left Side Section\r\n */\r\nvar MessageContainer = /** @class */ (function (_super) {\r\n    __extends(MessageContainer, _super);\r\n    /**\r\n     * Constructor Messagecontainer\r\n     * @param props\r\n     * @param state\r\n     */\r\n    function MessageContainer(props, state) {\r\n        var _this = _super.call(this, props, state) || this;\r\n        // this variable will hold the message panel visiblity status.\r\n        _this.isMessagePopupVisible = false;\r\n        _this.selectedMsgDetails = null;\r\n        _this.selectedMsgReadStatus = 1;\r\n        // message type\r\n        _this.currentMessageType = enums.MessageType.InboxCompose;\r\n        _this.subject = '';\r\n        _this.priorityDropdownSelectedItem = enums.MessagePriority.Standard;\r\n        _this.isReplyOrForwardClicked = false;\r\n        _this.searchData = { isVisible: true, isSearching: undefined, searchText: '' };\r\n        // contains qigId: number, isOpen: boolean\r\n        _this.inboxTabExpandOrCollapseDetails = immutable.Map();\r\n        _this.sentTabExpandOrCollapseDetails = immutable.Map();\r\n        _this.deletedTabExpandOrCollapseDetails = immutable.Map();\r\n        _this.isLoadingDataFailed = false;\r\n        _this.messageType = enums.MessageType.None;\r\n        _this.isMessageClicked = false;\r\n        /**\r\n         * This method will call on new message button click\r\n         */\r\n        _this.onNewMessageClick = function () {\r\n            // check online status before proceed\r\n            _this.checkOnlineStatusAndDoMessageAction(enums.MessageType.InboxCompose);\r\n        };\r\n        /**\r\n         * Callback function for message panel close\r\n         */\r\n        _this.onCloseMessagePopup = function () {\r\n            _this.isMessagePopupVisible = false;\r\n            _this.isReplyOrForwardClicked = false;\r\n            _this.currentMessageType = enums.MessageType.InboxCompose;\r\n            messagingActionCreator.messageAction(enums.MessageViewAction.Close);\r\n            /* Defect:24608 - seting focus back to subject on message close for fixing cursor and onscreen keyboard displaying issue in ipad */\r\n            if (htmlUtilities.isIPadDevice) {\r\n                htmlUtilities.setFocusToElement('message-subject');\r\n                htmlUtilities.blurElement('message-subject');\r\n            }\r\n            // if selected tab is sent then update the message folder\r\n            if (_this.selectedTab === enums.MessageFolderType.Sent) {\r\n                // Load the messages\r\n                _this.getMessagesForTheSelectedTab();\r\n            }\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Invoked when the selection changed in messages.\r\n         */\r\n        _this.onMessageClick = function (newlySelectedMsg) {\r\n            _this.isMessageClicked = true;\r\n            //DefectFix:#65417 Checking the online status, otherwise a blank screen will be shown in right panel\r\n            if (!applicationStore.instance.isOnline) {\r\n                applicationActionCreator.checkActionInterrupted();\r\n            }\r\n            else {\r\n                // If the currently selected Item is Unread, Update the collection for updating the QIG group unread message count\r\n                if (_this.selectedMsg.status === enums.MessageReadStatus.New) {\r\n                    var messagesForGrouping = _this.filteredMessages;\r\n                    if (_this.searchData.searchText !== '') {\r\n                        // update the read status of previous message\r\n                        _this.updateReadStatus(_this.selectedMsg);\r\n                        // update the collection with read status to reflect the changes in view, otherwise it won't update due to delay\r\n                        // in action creator call\r\n                        messagesForGrouping.filter(function (x) { return x.examinerMessageId === _this.selectedMsg.examinerMessageId; }).first().status =\r\n                            enums.MessageReadStatus.Read;\r\n                    }\r\n                    _this.messageGroupDetails = messageHelper.getGroupedMessageObject(messagesForGrouping, _this.expandOrCollapseDetails);\r\n                    _this.updateNotification();\r\n                }\r\n                // we don't need to reflect the read status current message in UI untill to click on another message or navigate away.\r\n                if (_this.searchData.searchText !== '' && newlySelectedMsg.status === enums.MessageReadStatus.New) {\r\n                    // update the read status of current message\r\n                    _this.updateReadStatus(newlySelectedMsg);\r\n                }\r\n                _this.selectedMsg = newlySelectedMsg;\r\n                _this.selectedMsgDetails = null;\r\n                messagingActionCreator.getMessageBodyDetails(_this.selectedMsg.examinerMessageId, _this.selectedTab);\r\n                // Refresh the UI.\r\n                _this.setState({\r\n                    renderedOn: Date.now()\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Invoked When the message tab selected.\r\n         */\r\n        _this.onTabSelected = function (messageFolderType) {\r\n            if (!applicationStore.instance.isOnline) {\r\n                applicationActionCreator.checkActionInterrupted();\r\n            }\r\n            else {\r\n                _this.selectedTab = messageFolderType;\r\n                // reset values for the new tab.\r\n                _this.selectedMsg = undefined;\r\n                _this.selectedMsgDetails = null;\r\n                _this.messageGroupDetails.messages = undefined;\r\n                _this.getMessagesForTheSelectedTab();\r\n                _this.setState({\r\n                    renderedOn: Date.now()\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * Handles the action event on Message Received.\r\n         */\r\n        _this.onMessagesReceived = function (selectedMsgId) {\r\n            _this.searchData.isVisible = _this.selectedTab === enums.MessageFolderType.Inbox;\r\n            if (_this.searchData.isSearching) {\r\n                _this.searchData.isSearching = _this.searchData.searchText === '' ? undefined : false;\r\n            }\r\n            _this.messageGroupDetails = messageHelper.getGroupedMessageObject(_this.filteredMessages, _this.expandOrCollapseDetails);\r\n            _this.updateNotification();\r\n            _this.getQigItemsList();\r\n            if (selectedMsgId > 0) {\r\n                if (_this.messageGroupDetails && _this.messageGroupDetails.messages.count() > 0) {\r\n                    _this.selectedMsg = _this.messageGroupDetails.messages.find(function (x) { return x.examinerMessageId === selectedMsgId; });\r\n                    _this.selectedQigName = messageHelper.getDisplayText(_this.selectedMsg);\r\n                }\r\n            }\r\n            else if (_this.messageGroupDetails.messages.count() > 0 && _this.selectedMsg === undefined) {\r\n                // Default first message should be selected in the list. Select I f any message exists\r\n                _this.selectedMsg = _this.messageGroupDetails.messages.first();\r\n            }\r\n            if (_this.selectedMsg !== undefined) {\r\n                // Get the message data.\r\n                messagingActionCreator.getMessageBodyDetails(_this.selectedMsg.examinerMessageId, _this.selectedTab);\r\n            }\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n            // set the scroll position to the selected message for automatic selection\r\n            if (selectedMsgId > 0) {\r\n                var borderHeight = 30;\r\n                var offsetTop = htmlUtilities.getOffsetTop('msg-item unread selected', false);\r\n                htmlUtilities.setScrollTop('msg-list-container', offsetTop - borderHeight);\r\n            }\r\n        };\r\n        /**\r\n         * Handles the action event on Message Details Received.\r\n         */\r\n        _this.onMessageDetailsReceived = function (msgId) {\r\n            // Check the selection got changed while receives the message\r\n            if (_this.selectedMsg.examinerMessageId === msgId) {\r\n                _this.selectedMsgDetails = messageStore.instance.getMessageDetails(_this.selectedMsg.examinerMessageId);\r\n                _this.hasPermissionToViewStandardisationWorklist();\r\n                // update the default selected message if search filter is not applied.\r\n                if (_this.searchData.searchText === '') {\r\n                    _this.updateReadStatus(_this.selectedMsg);\r\n                }\r\n                _this.setState({\r\n                    renderedOn: Date.now()\r\n                });\r\n            }\r\n        };\r\n        /**\r\n         * This method will refresh the given message folder\r\n         */\r\n        _this.onRefreshMessageTab = function (messageFolderType) {\r\n            // change the selected tab to given folder\r\n            _this.selectedTab = messageFolderType;\r\n            _this.selectedMsgDetails = null;\r\n            // Load the messages\r\n            _this.getMessagesForTheSelectedTab();\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * Re render the component\r\n         */\r\n        _this.onReRender = function () {\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * This method will return the QIG items list\r\n         */\r\n        _this.getQigItemsList = function () {\r\n            _this.qigListItems = new Array();\r\n            var msg = messageStore.instance.messagesMarkSchemes;\r\n            if (msg) {\r\n                msg.forEach(function (message) {\r\n                    if (!qigStore.instance.isQIGHidden(message.markSchemeGroupId)) {\r\n                        var item = {\r\n                            name: stringFormatHelper.formatAwardingBodyQIG(message.markSchemeGroupName, message.assessmentCode, message.sessionName, message.componentId, message.questionPaperName, message.assessmentName, message.componentName, stringFormatHelper.getOverviewQIGNameFormat()),\r\n                            id: message.markSchemeGroupId,\r\n                            parentExaminerDisplayName: _this.formattedExaminerName(message.parentInitials, message.parentSurname),\r\n                            parentExaminerId: message.parentExaminerId,\r\n                            questionPaperPartId: message.questionPaperPartId,\r\n                            examinerRoleId: message.examinerRoleId,\r\n                            approvalStatusId: message.approvalStatusId,\r\n                            coordinationComplete: message.coordinationComplete\r\n                        };\r\n                        _this.qigListItems.push(item);\r\n                    }\r\n                });\r\n            }\r\n            return _this.qigListItems.sort(function (obj1, obj2) {\r\n                return obj1.name.localeCompare(obj2.name);\r\n            });\r\n        };\r\n        /**\r\n         * This method will return the selected QIG details\r\n         */\r\n        _this.getSelectedQigDetails = function () {\r\n            // If an examiner has only one qig to be selected from the list. Display that list\r\n            if (_this.qigListItems.length === 1) {\r\n                _this.getSupervisorAndQIGDetails(_this.qigListItems[0].id);\r\n            }\r\n            else {\r\n                _this.selectedQigItemId = 0;\r\n                _this.selectedQigName = localeStore.instance.TranslateText('messaging.compose-message.select-qig-placeholder');\r\n                _this.supervisorName = '';\r\n                _this.supervisorId = 0;\r\n            }\r\n        };\r\n        /**\r\n         * Callback function for QIG dropdown select action\r\n         */\r\n        _this.onQigItemSelected = function (selectedItem) {\r\n            _this.getSupervisorAndQIGDetails(selectedItem);\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        _this.resetMessagePopup = function (navigateTo) {\r\n            if (_this.selectedMsg !== undefined && _this.selectedMsg.status === enums.MessageReadStatus.New) {\r\n                _this.messageGroupDetails = messageHelper.getGroupedMessageObject(_this.filteredMessages, _this.expandOrCollapseDetails);\r\n                _this.updateNotification();\r\n            }\r\n            switch (navigateTo) {\r\n                case enums.SaveAndNavigate.newMessageButtonClick:\r\n                    _this.resetvariables();\r\n                    // fill qig items\r\n                    _this.getQigItemsList();\r\n                    // reset the selected item\r\n                    _this.getSelectedQigDetails();\r\n                    messagingActionCreator.messageAction(enums.MessageViewAction.Open, enums.MessageType.InboxCompose);\r\n                    break;\r\n                case enums.SaveAndNavigate.toReplyMessage:\r\n                    _this.setvariablesforReplyForward(enums.MessageAction.Reply);\r\n                    break;\r\n                case enums.SaveAndNavigate.toForwardMessage:\r\n                    _this.setvariablesforReplyForward(enums.MessageAction.Forward);\r\n                    break;\r\n            }\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Callback function for message menu action click\r\n         * @param messageMenuActionType\r\n         */\r\n        _this.onMessageMenuActionClick = function (messageMenuActionType) {\r\n            _this.messageGroupDetails = messageHelper.getGroupedMessageObject(_this.filteredMessages, _this.expandOrCollapseDetails);\r\n            _this.updateNotification();\r\n            if (messageMenuActionType === enums.MessageAction.Delete) {\r\n                _this.showDeleteMessagePopUp();\r\n            }\r\n            if (!messageStore.instance.isMessagePanelActive && messageMenuActionType !== enums.MessageAction.Delete) {\r\n                _this.isReplyOrForwardClicked = true;\r\n                _this.setvariablesforReplyForward(messageMenuActionType);\r\n            }\r\n            else {\r\n                var responseNavigationFailureReasons = markingHelper.canNavigateAwayFromCurrentResponse();\r\n                if (messageMenuActionType === enums.MessageAction.Reply) {\r\n                    popupHelper.navigateAwayFromResponse(responseNavigationFailureReasons, enums.SaveAndNavigate.toReplyMessage);\r\n                }\r\n                else if (messageMenuActionType === enums.MessageAction.Forward) {\r\n                    popupHelper.navigateAwayFromResponse(responseNavigationFailureReasons, enums.SaveAndNavigate.toForwardMessage);\r\n                }\r\n                _this.isReplyOrForwardClicked = true;\r\n            }\r\n        };\r\n        /**\r\n         * This method will return the supervisor details against a qig\r\n         */\r\n        _this.getSupervisorAndQIGDetails = function (qigId) {\r\n            var item = _this.qigListItems.filter(function (x) { return x.id === qigId; })[0];\r\n            if (item) {\r\n                _this.selectedQigItemId = item.id;\r\n                _this.selectedQigName = item.name;\r\n                _this.supervisorName = item.parentExaminerDisplayName;\r\n                _this.supervisorId = item.parentExaminerId;\r\n                _this.selectedQuestionPaperPartId = item.questionPaperPartId;\r\n            }\r\n        };\r\n        /**\r\n         * Reset private variables\r\n         */\r\n        _this.resetvariables = function () {\r\n            _this.currentMessageType = enums.MessageType.InboxCompose;\r\n            _this.responseId = undefined;\r\n            _this.subject = '';\r\n            _this.selectedQigName = '';\r\n            _this.supervisorId = 0;\r\n            _this.supervisorName = '';\r\n            _this.priorityDropdownSelectedItem = enums.MessagePriority.Standard;\r\n            _this.selectedQigItemId = undefined;\r\n            _this.messageBody = '';\r\n            _this.isReplyOrForwardClicked = false;\r\n        };\r\n        /**\r\n         * This method will set variables for Reply and Forward\r\n         */\r\n        _this.doSetvariablesforReplyForward = function (messageMenuActionType) {\r\n            _this.isMessagePopupVisible = true;\r\n            _this.getSupervisorAndQIGDetails(_this.selectedMsg.markSchemeGroupId);\r\n            _this.responseId = _this.selectedMsgDetails.displayId;\r\n            _this.priorityDropdownSelectedItem = messageHelper.getPriorityDropDownSelectedItem(_this.selectedMsg.priorityName);\r\n            var translatedMessageContents = messageTranslationHelper.getTranslatedContent(_this.selectedMsg);\r\n            var messageBody;\r\n            // If selected message is a system message then set the corresponding language json file entry\r\n            if (_this.selectedMsg.examBodyMessageTypeId != null && _this.selectedMsg.examBodyMessageTypeId !== enums.SystemMessage.None) {\r\n                messageBody = translatedMessageContents.content;\r\n            }\r\n            else {\r\n                messageBody = _this.selectedMsgDetails.body;\r\n            }\r\n            switch (messageMenuActionType) {\r\n                case enums.MessageAction.Reply:\r\n                    _this.currentMessageType = enums.MessageType.InboxReply;\r\n                    _this.supervisorId = _this.selectedMsg.fromExaminerId;\r\n                    _this.supervisorName = _this.selectedMsg.examinerDetails.fullName;\r\n                    _this.subject = messageHelper.getSubjectContent(enums.MessageType.InboxReply, translatedMessageContents.subject);\r\n                    _this.messageBody = messageHelper.getMessageContent(enums.MessageType.InboxReply, _this.selectedMsg.examinerDetails.fullName, _this.selectedMsg.displayDate, messageBody);\r\n                    _this.selectedQigItemId = _this.selectedMsg.markSchemeGroupId;\r\n                    messagingActionCreator.messageAction(enums.MessageViewAction.Open, enums.MessageType.InboxReply);\r\n                    break;\r\n                case enums.MessageAction.Forward:\r\n                    _this.currentMessageType = enums.MessageType.InboxForward;\r\n                    var selectedQigItem = _this.getQigItemsList().filter(function (x) { return x.id === _this.selectedQigItemId; });\r\n                    var qigId = _this.selectedQigItemId;\r\n                    var examinerRoleId = selectedQigItem[0].examinerRoleId;\r\n                    var args = {\r\n                        examinerRoleId: examinerRoleId,\r\n                        qigId: qigId\r\n                    };\r\n                    messagingActionCreator.getTeamDetails(args);\r\n                    _this.subject = messageHelper.getSubjectContent(enums.MessageType.InboxForward, translatedMessageContents.subject);\r\n                    _this.messageBody = messageHelper.getMessageContent(enums.MessageType.InboxForward, _this.selectedMsg.examinerDetails.fullName, _this.selectedMsg.displayDate, messageBody);\r\n                    _this.priorityDropdownSelectedItem = messageHelper.getPriorityDropDownSelectedItem(_this.selectedMsg.priorityName);\r\n                    messagingActionCreator.messageAction(enums.MessageViewAction.Open, enums.MessageType.InboxForward);\r\n                    break;\r\n            }\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Will display delete message confirmation dialog\r\n         */\r\n        _this.showDeleteMessagePopUp = function () {\r\n            _this.updateNotification();\r\n            // display dialog box\r\n            _this.setState({ isDeleteMessagePopupVisible: true });\r\n        };\r\n        /**\r\n         * Delete message confirmation dialog Yes click\r\n         */\r\n        _this.onYesButtonDeleteMessageClick = function () {\r\n            _this.deleteMessage();\r\n            // hiding confirmation dialog\r\n            _this.setState({ isDeleteMessagePopupVisible: false });\r\n        };\r\n        /**\r\n         * Delete message confirmation dialog No click\r\n         */\r\n        _this.onNoButtonDeleteMessageClick = function () {\r\n            // hiding confirmation dialog\r\n            _this.setState({ isDeleteMessagePopupVisible: false });\r\n        };\r\n        /**\r\n         * Update the message deleted Status to database\r\n         */\r\n        _this.updateMessageDeletedStatus = function () {\r\n            var messages = _this.messageGroupDetails.messages;\r\n            // Scenario 1. After a deleting a message, Check any other message exists just next to the current QIG, If So Select that item\r\n            // Find All messages related to the the Selected message\r\n            var messagesInTheSelectedQigs = immutable.List(messages.filter(function (x) { return x.markSchemeGroupId === _this.selectedMsg.markSchemeGroupId; }));\r\n            // Find the message index with in the selected QIG messages\r\n            var selectedMessageIndexInTheQIG = messagesInTheSelectedQigs.findIndex(function (x) { return x.examinerMessageId === _this.selectedMsg.examinerMessageId; });\r\n            // Check currently selected message is the last item in the QIG Group.\r\n            if (selectedMessageIndexInTheQIG === messagesInTheSelectedQigs.count() - 1) {\r\n                // Select Previous message in the same group, If it has a previous item in the message\r\n                if (messagesInTheSelectedQigs.count() > 1) {\r\n                    _this.selectedMsg = messagesInTheSelectedQigs.get(selectedMessageIndexInTheQIG - 1);\r\n                }\r\n                else {\r\n                    //  Select the next Item In the all messages, If it is Not the last messages in the Panel.\r\n                    var selectedMessageIndexInAllMessages = messages.findIndex(function (x) { return x.examinerMessageId === _this.selectedMsg.examinerMessageId; });\r\n                    if (selectedMessageIndexInAllMessages !== messages.count() - 1) {\r\n                        _this.selectedMsg = messages.get(selectedMessageIndexInAllMessages + 1);\r\n                    }\r\n                    else if (messages.count() > 1) {\r\n                        // If it is laste message in all messages and has a previous message select.\r\n                        _this.selectedMsg = messages.get(selectedMessageIndexInAllMessages - 1);\r\n                    }\r\n                    else {\r\n                        // All deleted.\r\n                        _this.selectedMsg = undefined;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                // Message Deleted In a QIG group and has a next message with in  the Group, Select Next Message in the Selected QIG Group.\r\n                _this.selectedMsg = messagesInTheSelectedQigs.get(selectedMessageIndexInTheQIG + 1);\r\n            }\r\n            _this.selectedMsgDetails = null;\r\n            // refresh the data\r\n            _this.getMessagesForInboxOnDeletion();\r\n            _this.setState({ renderedOn: Date.now() });\r\n        };\r\n        /**\r\n         * Open the response page.\r\n         */\r\n        _this.navigateToResponsePage = function () {\r\n            navigationHelper.loadResponsePage();\r\n        };\r\n        /**\r\n         * Show Loading Indicator.\r\n         */\r\n        _this.onDisplayIdClick = function () {\r\n            var messageNavigationArguments = {\r\n                responseId: null,\r\n                canNavigate: true,\r\n                navigateTo: enums.MessageNavigation.toSearchedResponse,\r\n                navigationConfirmed: false,\r\n                hasMessageContainsDirtyValue: undefined,\r\n                triggerPoint: enums.TriggerPoint.None\r\n            };\r\n            if (messageStore.instance.isMessagePanelActive) {\r\n                messageNavigationArguments.canNavigate = false;\r\n                messagingActionCreator.canMessageNavigate(messageNavigationArguments);\r\n            }\r\n            else {\r\n                _this.openSearchedResponse(messageNavigationArguments);\r\n            }\r\n        };\r\n        /**\r\n         * Update the message count\r\n         */\r\n        _this.updateNotification = function () {\r\n            _this.unreadMessageCount = messageStore.instance.getUnreadMessageCount;\r\n        };\r\n        _this.openSearchedResponse = function (messageNavigationArguments) {\r\n            if (messageNavigationArguments.canNavigate &&\r\n                messageNavigationArguments.navigateTo === enums.MessageNavigation.toSearchedResponse) {\r\n                responseActionCreator.getResponseDetails(_this.selectedMsgDetails.displayId, _this.selectedMsgDetails.markGroupId, _this.selectedMsgDetails.esMarkGroupId, _this.selectedMsg.markSchemeGroupId, _this.selectedMsg.examinerMessageId, _this.selectedMsgDetails.candidateScriptId, loginSession.EXAMINER_ID, _this.selectedMsgDetails.isElectronicStandardisationTeamMember, _this.selectedMsgDetails.isTeamManagement, _this.selectedMsgDetails.isStandardisationSetup, _this.selectedMsgDetails.standardisationSetupWorklistType, _this.selectedMsgDetails.esDisplayId);\r\n                _this.setState({ isOpeningResponse: true });\r\n            }\r\n        };\r\n        /**\r\n         * Data Received For Opening the response. Validate marker is withdrwan from the QIG\r\n         */\r\n        _this.initiateSerachResponse = function (searchedResponseData) {\r\n            _this.searchedResponseData = searchedResponseData;\r\n            if (searchedResponseData.approvalStatusId === enums.ExaminerApproval.Withdrawn) {\r\n                _this.setState({ isOpeningResponse: false });\r\n                _this.getMessagesForTheSelectedTab();\r\n                _this.selectedMsg = undefined;\r\n                _this.selectedMsgDetails = null;\r\n                return;\r\n            }\r\n            else if (searchedResponseData.hasQualityFeedbackOutstanding &&\r\n                searchedResponseData.loggedInExaminerId === searchedResponseData.examinerId) {\r\n                // Display Message for indicating the Quality feedback message\r\n                _this.setState({ isOpeningResponse: false, hasOpeningQualityFeedbackQutstandingQIGsResponse: true });\r\n                return;\r\n            }\r\n            responseSearchHelper.initiateSerachResponse(searchedResponseData);\r\n        };\r\n        /**\r\n         * Close the Quality feedback message.\r\n         */\r\n        _this.onQualityFeedbackWarningMessageClose = function () {\r\n            _this.setState({ hasOpeningQualityFeedbackQutstandingQIGsResponse: false });\r\n        };\r\n        /**\r\n         * We've to clear the existing search filter if the user is navigating to menu.\r\n         */\r\n        _this.onMenuOpen = function (doVisible) {\r\n            if (doVisible === void 0) { doVisible = true; }\r\n            _this.expandOrCollapseDetails = undefined;\r\n            if (doVisible && _this.searchData.searchText !== '') {\r\n                _this.onSearch('');\r\n            }\r\n            _this.onMessagesReceived(0);\r\n        };\r\n        /**\r\n         * Callback function function for on search\r\n         */\r\n        _this.onSearch = function (searchText) {\r\n            _this.searchData = { isVisible: true, isSearching: true, searchText: searchText };\r\n            _this.selectedMsg = undefined;\r\n            _this.onMessagesReceived(0);\r\n        };\r\n        /**\r\n         * Update the collection with expand or collapse details\r\n         * @param qigId number\r\n         * @param isOpen boolean\r\n         */\r\n        _this.onExpandOrCollapse = function (qigId, isOpen) {\r\n            // Dictionary already contains the key then update the value otherwise add a new entry.\r\n            _this.expandOrCollapseDetails = _this.expandOrCollapseDetails.set(qigId, isOpen);\r\n            _this.onMessagesReceived(0);\r\n        };\r\n        /**\r\n         * hide busy indicator on response search failed\r\n         */\r\n        _this.onResponseDataReceivedFailed = function () {\r\n            _this.setState({ isOpeningResponse: false });\r\n        };\r\n        // Handles the action event on Message Details Received failed\r\n        _this.onMessageDetailsReceivedFailed = function () {\r\n            _this.isLoadingDataFailed = true;\r\n            _this.setState({\r\n                renderedOn: Date.now()\r\n            });\r\n        };\r\n        /**\r\n         * Actions to be done when online status updated\r\n         */\r\n        _this.onOnlineStatusUpdated = function () {\r\n            //DefectFix #65417: Removed offline check, since on offline, the offline message is showing without any user action\r\n            if (applicationStore.instance.isOnline) {\r\n                // if in online mode, the proceed the action\r\n                switch (_this.messageType) {\r\n                    case enums.MessageType.InboxCompose:\r\n                        _this.onNewMessageClicked();\r\n                        break;\r\n                    case enums.MessageType.InboxForward:\r\n                        _this.doSetvariablesforReplyForward(enums.MessageAction.Forward);\r\n                        break;\r\n                    case enums.MessageType.InboxReply:\r\n                        _this.doSetvariablesforReplyForward(enums.MessageAction.Reply);\r\n                        break;\r\n                }\r\n                /*If the application goes offline when clicking a response from inbox and then comes back online\r\n                loading response indicator will be shown and no response will be loaded, so setting loading\r\n                indicator to false when back online*/\r\n                if (_this.state.isOpeningResponse === true) {\r\n                    _this.setState({ isOpeningResponse: false });\r\n                }\r\n                _this.messageType = enums.MessageType.None;\r\n            }\r\n        };\r\n        /**\r\n         * Gets whether Examiner have permission to view respnses in  standardisation setup classified worklist.\r\n         * If we have no permission in classifications we have to disable linked responseID click in messaging.\r\n         */\r\n        _this.hasPermissionToViewStandardisationWorklist = function () {\r\n            var hasPermissionInStdSetupWorklist = true;\r\n            if (_this.selectedMsgDetails.isStandardisationSetup\r\n                && _this.selectedMsgDetails.standardisationSetupWorklistType === enums.StandardisationSetup.ClassifiedResponse) {\r\n                hasPermissionInStdSetupWorklist = false;\r\n                var stdSetupPremissionsData = qigStore.instance.getSSUPermissionsData(_this.selectedMsgDetails.markSchemeGroupID);\r\n                if (stdSetupPremissionsData.role.viewByClassification.classifications) {\r\n                    switch (_this.selectedMsgDetails.markingModeId) {\r\n                        case enums.MarkingMode.Practice:\r\n                            hasPermissionInStdSetupWorklist = stdSetupPremissionsData.role.viewByClassification.classifications.practice;\r\n                            break;\r\n                        case enums.MarkingMode.Approval:\r\n                            hasPermissionInStdSetupWorklist = stdSetupPremissionsData.role.viewByClassification.classifications.standardisation;\r\n                            break;\r\n                        case enums.MarkingMode.ES_TeamApproval:\r\n                            hasPermissionInStdSetupWorklist =\r\n                                stdSetupPremissionsData.role.viewByClassification.classifications.stmStandardisation;\r\n                            break;\r\n                        case enums.MarkingMode.Seeding:\r\n                            hasPermissionInStdSetupWorklist = stdSetupPremissionsData.role.viewByClassification.classifications.seeding;\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            _this.selectedMsgDetails.hasPermissionInStdSetupWorklist = hasPermissionInStdSetupWorklist;\r\n        };\r\n        // If page is refreshed, redirect to login page. // This will clear the memory.\r\n        if (!loginSession.IS_AUTHENTICATED) {\r\n            navigationHelper.loadLoginPage();\r\n            window.location.replace(config.general.SERVICE_BASE_URL);\r\n            return _this;\r\n        }\r\n        _this.logoutConfirmation = _this.showLogoutConfirmation.bind(_this, true);\r\n        _this.resetLogoutConfirmationSatus = _this.showLogoutConfirmation.bind(_this, false);\r\n        /* binding the parent(current) context to showLogoutConfirmation which is passed as prop to child and executing inside child */\r\n        /* setting submit confirmation yes/no functions to initialize. */\r\n        _this.state = {\r\n            modulesLoaded: false,\r\n            isLogoutConfirmationPopupDisplaying: false,\r\n            isDefaultTabActive: true,\r\n            isOpeningResponse: false,\r\n            hasOpeningQualityFeedbackQutstandingQIGsResponse: false\r\n        };\r\n        _this.selectedTab = enums.MessageFolderType.Inbox;\r\n        _this.onMessageClick = _this.onMessageClick.bind(_this);\r\n        _this.showDeleteMessagePopUp = _this.showDeleteMessagePopUp.bind(_this);\r\n        _this.onTabSelected = _this.onTabSelected.bind(_this);\r\n        _this.onQualityFeedbackWarningMessageClose = _this.onQualityFeedbackWarningMessageClose.bind(_this);\r\n        _this.onMessageDetailsReceivedFailed = _this.onMessageDetailsReceivedFailed.bind(_this);\r\n        _this.hasPermissionToViewStandardisationWorklist = _this.hasPermissionToViewStandardisationWorklist.bind(_this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Render Method to display the data.\r\n     */\r\n    MessageContainer.prototype.render = function () {\r\n        var footer = (React.createElement(Footer, { id: this.props.id, key: 'key_' + this.props.id, selectedLanguage: this.props.selectedLanguage, footerType: enums.FooterType.Message, isLogoutConfirmationPopupDisplaying: this.state.isLogoutConfirmationPopupDisplaying, resetLogoutConfirmationSatus: this.resetLogoutConfirmationSatus }));\r\n        var busyIndicator = (React.createElement(BusyIndicator, { id: 'modules_loading_indicator', isBusy: true, key: 'response_loading_indicator', isMarkingBusy: false, busyIndicatorInvoker: enums.BusyIndicatorInvoker.loadingModules, showBackgroundScreen: false, doShowDialog: !this.state.modulesLoaded || !this.state.scriptLoaded }));\r\n        if (this.state.modulesLoaded && this.state.scriptLoaded) {\r\n            var header = React.createElement(Header, { selectedLanguage: this.props.selectedLanguage, containerPage: enums.PageContainers.Message, unReadMessageCount: this.unreadMessageCount });\r\n            var nonRecoverableErrorMessage = (React.createElement(GenericDialog, { content: localeStore.instance.TranslateText('messaging.message-lists.quality-feedback-pending-dialog.body'), header: localeStore.instance.TranslateText('home.qig-statuses.QualityFeedback'), displayPopup: this.state.hasOpeningQualityFeedbackQutstandingQIGsResponse, okButtonText: localeStore.instance.TranslateText('generic.error-dialog.ok-button'), onOkClick: this.onQualityFeedbackWarningMessageClose, id: 'nonRecoverableErrorMessge', key: 'marksAndAnnotationsErrorMessge', popupDialogType: enums.PopupDialogType.QualityFeedbackWarning }));\r\n            var deleteMessage = (React.createElement(ConfirmationDialog, { content: localeStore.instance.TranslateText('messaging.message-lists.delete-message-dialog.body'), header: localeStore.instance.TranslateText('messaging.message-lists.delete-message-dialog.header'), displayPopup: this.state.isDeleteMessagePopupVisible, isCheckBoxVisible: false, noButtonText: localeStore.instance.TranslateText('messaging.message-lists.delete-message-dialog.no-button'), yesButtonText: localeStore.instance.TranslateText('messaging.message-lists.delete-message-dialog.yes-button'), onYesClick: this.onYesButtonDeleteMessageClick, onNoClick: this.onNoButtonDeleteMessageClick, dialogType: enums.PopupDialogType.MbCReturnToWorklistConfirmation, isKeyBoardSupportEnabled: true }));\r\n            return (React.createElement(\"div\", { className: classNames('message-wrapper', { 'loading': this.selectedMsg && this.state.isOpeningResponse }) },\r\n                this.renderLoadingIndicator(),\r\n                header,\r\n                React.createElement(\"div\", { className: 'content-wrapper relative' },\r\n                    React.createElement(MessagePopup, { isOpen: this.isMessagePopupVisible, closeMessagePanel: this.onCloseMessagePopup, messageType: this.currentMessageType, onResetPopupCallback: this.resetMessagePopup, responseId: this.responseId, selectedLanguage: this.props.selectedLanguage, qigItemsList: this.qigListItems, selectedQigItemId: this.selectedQigItemId, selectedQigItem: this.selectedQigName, supervisorId: this.supervisorId, supervisorName: this.supervisorName, subject: this.subject, priorityDropDownSelectedItem: this.priorityDropdownSelectedItem, onQigItemSelected: this.onQigItemSelected, messageBody: this.messageBody, questionPaperPartId: this.selectedQuestionPaperPartId, selectedMessage: this.selectedMsg, selectedMsgDetails: this.selectedMsgDetails, isReplyOrForwardClicked: this.isReplyOrForwardClicked }),\r\n                    React.createElement(\"div\", { className: 'tab-holder horizontal msg-tab' },\r\n                        React.createElement(\"div\", { className: 'msg-tab-header' },\r\n                            React.createElement(\"div\", { className: 'col-wrap' },\r\n                                React.createElement(\"div\", { className: 'col-9-of-12 msg-tabs-nav' },\r\n                                    React.createElement(\"ul\", { className: 'tab-nav padding-left-10', role: 'tablist' },\r\n                                        React.createElement(MessageTabItem, { messageFolderType: enums.MessageFolderType.Inbox, isSelected: this.selectedTab === enums.MessageFolderType.Inbox, onTabSelected: this.onTabSelected, unReadMessageCount: messageStore.instance.getUnreadMessageCount }),\r\n                                        React.createElement(MessageTabItem, { messageFolderType: enums.MessageFolderType.Sent, isSelected: this.selectedTab === enums.MessageFolderType.Sent, onTabSelected: this.onTabSelected, unReadMessageCount: 0 }),\r\n                                        React.createElement(MessageTabItem, { messageFolderType: enums.MessageFolderType.Deleted, isSelected: this.selectedTab === enums.MessageFolderType.Deleted, onTabSelected: this.onTabSelected, unReadMessageCount: 0 }))),\r\n                                React.createElement(\"div\", { className: 'col-3-of-12 text-right compose-msg-btn-wrap' },\r\n                                    React.createElement(GenericButton, { id: 'new_message_btn', key: 'key_new_message_btn', className: 'button primary rounded', title: localeStore.instance.TranslateText('messaging.message-lists.top-panel.new-message-button'), content: localeStore.instance.TranslateText('messaging.message-lists.top-panel.new-message-button'), disabled: false, onClick: this.onNewMessageClick })))),\r\n                        React.createElement(MessageLeftPanel, { selectedLanguage: this.props.selectedLanguage, selectedTab: this.selectedTab, messages: this.messageGroupDetails, onSearch: this.onSearch, searchData: this.searchData, selectedMsg: this.selectedMsg, onSelectedMessageChanged: this.onMessageClick, messageGroupDetails: this.messageGroupDetails, onExpandOrCollapse: this.onExpandOrCollapse, isMessageClicked: this.isMessageClicked }),\r\n                        React.createElement(MessageRightPanel, { selectedLanguage: this.props.selectedLanguage, message: this.selectedMsg, messageDetails: this.selectedMsgDetails, selectedTab: this.selectedTab, isForwardButtonHidden: this.isForwardButtonHidden(this.selectedMsg ? this.selectedMsg.markSchemeGroupId : 0), onMessageMenuActionClickCallback: this.onMessageMenuActionClick, onDisplayIdClick: this.onDisplayIdClick }))),\r\n                deleteMessage,\r\n                nonRecoverableErrorMessage,\r\n                footer));\r\n        }\r\n        else {\r\n            return (React.createElement(\"div\", null,\r\n                busyIndicator,\r\n                footer));\r\n        }\r\n    };\r\n    /**\r\n     * Render Loading Indicator\r\n     */\r\n    MessageContainer.prototype.renderLoadingIndicator = function () {\r\n        if (!this.forceDisableLoading &&\r\n            (this.messageGroupDetails === undefined ||\r\n                this.messageGroupDetails.messages === undefined ||\r\n                (this.messageGroupDetails.messages.count() > 0 &&\r\n                    (this.selectedMsgDetails === null || this.state.isOpeningResponse)))) {\r\n            var loadingTextKey = this.state.isOpeningResponse ? 'loadResponseInMessage' : 'loadingModules';\r\n            return (React.createElement(\"div\", { className: 'message-loader vertical-middle loading' },\r\n                React.createElement(\"span\", { className: 'loader middle-content' },\r\n                    React.createElement(\"span\", { className: 'dot' }),\r\n                    \" \",\r\n                    React.createElement(\"span\", { className: 'dot' }),\r\n                    \" \",\r\n                    React.createElement(\"span\", { className: 'dot' }),\r\n                    React.createElement(\"div\", { className: 'loading-text padding-top-30' }, localeStore.instance.TranslateText('generic.busy-indicator.' + loadingTextKey)))));\r\n        }\r\n    };\r\n    /**\r\n     * This method will call when composing new message while system is in online mode\r\n     */\r\n    MessageContainer.prototype.onNewMessageClicked = function () {\r\n        var _this = this;\r\n        if (!messageStore.instance.isMessagePanelActive) {\r\n            this.resetMessagePopup(enums.SaveAndNavigate.newMessageButtonClick);\r\n            this.isMessagePopupVisible = true;\r\n            if (this.selectedQigItemId && this.selectedQigItemId !== 0) {\r\n                var selectedQigItem = this.qigListItems.filter(function (x) { return x.id === _this.selectedQigItemId; });\r\n                if (selectedQigItem && selectedQigItem.length > 0) {\r\n                    var qigId = this.selectedQigItemId;\r\n                    var examinerRoleId = selectedQigItem[0].examinerRoleId;\r\n                    var args = {\r\n                        examinerRoleId: examinerRoleId,\r\n                        qigId: qigId\r\n                    };\r\n                    messagingActionCreator.getTeamDetails(args);\r\n                }\r\n            }\r\n            this.setState({ renderedOn: Date.now() });\r\n        }\r\n        else {\r\n            var responseNavigationFailureReasons = markingHelper.canNavigateAwayFromCurrentResponse();\r\n            popupHelper.navigateAwayFromResponse(responseNavigationFailureReasons, enums.SaveAndNavigate.newMessageButtonClick);\r\n        }\r\n    };\r\n    /**\r\n     * Get the Messages for the selected tab\r\n     */\r\n    MessageContainer.prototype.getMessagesForTheSelectedTab = function () {\r\n        var canRefresh = this.selectedTab === enums.MessageFolderType.Deleted ? messageStore.instance.isMessageDeleted() : false;\r\n        canRefresh = (this.selectedTab === enums.MessageFolderType.Inbox) || (this.selectedTab === enums.MessageFolderType.Sent) ?\r\n            messageStore.instance.isMessageDataRequireUpdation : canRefresh;\r\n        var args = {\r\n            recentMessageTime: null,\r\n            messageFolderType: this.selectedTab,\r\n            forceLoadMessages: (canRefresh\r\n                || messageStore.instance.isNewExaminerRoleCreated\r\n                || messageStore.instance.isUnreadMandatoryMessagePresent),\r\n            hiddenQigList: qigStore.instance.HiddenQIGs\r\n        };\r\n        messagingActionCreator.getMessages(args);\r\n    };\r\n    /**\r\n     *  Get the Messages for the selected tab\r\n     */\r\n    MessageContainer.prototype.getMessagesForInboxOnDeletion = function () {\r\n        var args = {\r\n            recentMessageTime: null,\r\n            messageFolderType: enums.MessageFolderType.Inbox,\r\n            forceLoadMessages: messageStore.instance.isMessageDataRequireUpdation,\r\n            hiddenQigList: qigStore.instance.HiddenQIGs\r\n        };\r\n        messagingActionCreator.getMessages(args);\r\n    };\r\n    /**\r\n     * Redirect to the start page if not authenticated\r\n     */\r\n    MessageContainer.prototype.componentWillMount = function () {\r\n        if (!loginSession.IS_AUTHENTICATED) {\r\n            navigationHelper.loadLoginPage();\r\n        }\r\n    };\r\n    /**\r\n     * Comparing the props to check the updats are made by self\r\n     * @param nextProps\r\n     */\r\n    MessageContainer.prototype.componentWillReceiveProps = function (nextProps) {\r\n        // If current online status if offline\r\n        // and application is getting online now, then if we have already a loading indicator\r\n        // visible before the application goes offline then remvoe the loading indicator.\r\n        if (!this.props.isOnline && nextProps.isOnline) {\r\n            this.isLoadingDataFailed = true;\r\n        }\r\n    };\r\n    /**\r\n     * Method to load dependencies\r\n     */\r\n    MessageContainer.prototype.dependenciesLoaded = function () {\r\n        this.setState({ scriptLoaded: true });\r\n    };\r\n    /**\r\n     * load the modules required for MessageContainer\r\n     */\r\n    MessageContainer.prototype.componentDidMount = function () {\r\n        if (this.state == null) {\r\n            return;\r\n        }\r\n        this.loadDependenciesAndEventListeners();\r\n    };\r\n    /**\r\n     * load the modules required for MessageContainer\r\n     */\r\n    MessageContainer.prototype.componentDidUpdate = function () {\r\n        // This will reset the failed data only in online to\r\n        // prevent loading indicator spinning inifinte time\r\n        if (this.props.isOnline) {\r\n            this.isLoadingDataFailed = false;\r\n        }\r\n    };\r\n    /**\r\n     * Component will unmount\r\n     */\r\n    MessageContainer.prototype.componentWillUnmount = function () {\r\n        if (this.state == null || !this.state.modulesLoaded) {\r\n            return;\r\n        }\r\n        this.removeEventListeners();\r\n        messageHelper.removeInitMouseClickEventScriptBlock();\r\n    };\r\n    /**\r\n     *  This will load the dependencies dynamically during component mount.\r\n     */\r\n    MessageContainer.prototype.loadDependenciesAndEventListeners = function () {\r\n        var _this = this;\r\n        var ensurePromise = __webpack_require__.e/* require.ensure */(11).then((function () {\r\n            navigationHelper = __webpack_require__(/*! ../utility/navigation/navigationhelper */ 248);\r\n            notificationCount = __webpack_require__(/*! ./notificationcount */ 465);\r\n            MessageLeftPanel = __webpack_require__(/*! ./messageleftpanel */ 549);\r\n            MessageRightPanel = __webpack_require__(/*! ./messagerightpanel */ 489);\r\n            MessageTabItem = __webpack_require__(/*! ./messagetabitem */ 550);\r\n            messageStore = __webpack_require__(/*! ../../stores/message/messagestore */ 240);\r\n            ccStore = __webpack_require__(/*! ../../stores/configurablecharacteristics/configurablecharacteristicsstore */ 341);\r\n            localeStore = __webpack_require__(/*! ../../stores/locale/localestore */ 226);\r\n            MessagePopup = __webpack_require__(/*! ./messagepopup */ 457);\r\n            messagingActionCreator = __webpack_require__(/*! ../../actions/messaging/messagingactioncreator */ 268);\r\n            GenericButton = __webpack_require__(/*! ../utility/genericbutton */ 290);\r\n            stringFormatHelper = __webpack_require__(/*! ../../utility/stringformat/stringformathelper */ 250);\r\n            messageHelper = __webpack_require__(/*! ../utility/message/messagehelper */ 283);\r\n            Header = __webpack_require__(/*! ../header */ 337);\r\n            popUpDisplayActionCreator = __webpack_require__(/*! ../../actions/popupdisplay/popupdisplayactioncreator */ 328);\r\n            popupHelper = __webpack_require__(/*! ../utility/popup/popuphelper */ 288);\r\n            markingHelper = __webpack_require__(/*! ../../utility/markscheme/markinghelper */ 267);\r\n            ConfirmationDialog = __webpack_require__(/*! ../utility/confirmationdialog */ 408);\r\n            responseSearchHelper = __webpack_require__(/*! ../../utility/responsesearch/responsesearchhelper */ 321);\r\n            responseStore = __webpack_require__(/*! ../../stores/response/responsestore */ 235);\r\n            responseActionCreator = __webpack_require__(/*! ../../actions/response/responseactioncreator */ 257);\r\n            messageTranslationHelper = __webpack_require__(/*! ../utility/message/messagetranslationhelper */ 459);\r\n            GenericDialog = __webpack_require__(/*! ../utility/genericdialog */ 317);\r\n            navigationStore = __webpack_require__(/*! ../../stores/navigation/navigationstore */ 275);\r\n            userInfoActionCreator = __webpack_require__(/*! ../../actions/userinfo/userinfoactioncreator */ 255);\r\n            qigStore = __webpack_require__(/*! ../../stores/qigselector/qigstore */ 230);\r\n            userInfoStore = __webpack_require__(/*! ../../stores/userinfo/userinfostore */ 244);\r\n            htmlUtilities = __webpack_require__(/*! ../../utility/generic/htmlutilities */ 243);\r\n            urls = __webpack_require__(/*! ../../dataservices/base/urls */ 266);\r\n            // Message container, leaves the operation mode. Reset the operations mode.\r\n            userInfoActionCreator.changeOperationMode(enums.MarkerOperationMode.Marking);\r\n            // Load the messages\r\n            this.getMessagesForTheSelectedTab();\r\n            // fill qig items\r\n            this.getQigItemsList();\r\n            // reset the selected item\r\n            this.getSelectedQigDetails();\r\n            this.loadTinyMCE();\r\n            messageHelper.addInitMouseClickEventScriptBlock();\r\n            this.addEventListeners();\r\n            this.setState({ modulesLoaded: true });\r\n            // hook all event listeners.\r\n        }.bind(this)).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\r\n        ensurePromise.catch(function (e) {\r\n            _this.props.setOfflineContainer(true, true);\r\n        });\r\n    };\r\n    /**\r\n     * Load Tyny MCE\r\n     *\r\n     * @private\r\n     * @memberof MessageContainer\r\n     */\r\n    MessageContainer.prototype.loadTinyMCE = function () {\r\n        var url = htmlUtilities.getFullUrl(urls.TINYMCE_URL);\r\n        // If tinyMCE script is not loaded then load that\r\n        if (!htmlUtilities.isScriptLoaded(url)) {\r\n            var script = document.createElement('script');\r\n            script.src = url;\r\n            script.async = true;\r\n            script.onload = (this.dependenciesLoaded.bind(this));\r\n            document.body.appendChild(script);\r\n        }\r\n        else {\r\n            this.dependenciesLoaded();\r\n        }\r\n    };\r\n    /**\r\n     * Method to add event listeners\r\n     */\r\n    MessageContainer.prototype.addEventListeners = function () {\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_RECEIVED, this.onMessagesReceived);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_DETAILS_RECEIVED, this.onMessageDetailsReceived);\r\n        ccStore.instance.addListener(ccStore.ConfigurableCharacteristicsStore.EXAM_BODY_CC_GET, this.onReRender);\r\n        messageStore.instance.addListener(messageStore.MessageStore.UPDATE_NOTIFICATION_TRIGGERED_EVENT, this.onReRender);\r\n        messageStore.instance.addListener(messageStore.MessageStore.SEND_MESSAGE_SUCCESS_EVENT, this.onCloseMessagePopup);\r\n        messageStore.instance.addListener(messageStore.MessageStore.REFRESH_MESSAGE_TAB, this.onRefreshMessageTab);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_DELETE_EVENT, this.updateMessageDeletedStatus);\r\n        responseStore.instance.addListener(responseStore.ResponseStore.RESPONSE_OPENED, this.navigateToResponsePage);\r\n        responseSearchHelper.addResponseSearchEvents();\r\n        messageStore.instance.addListener(messageStore.MessageStore.UPDATE_NOTIFICATION_TRIGGERED_EVENT, this.updateNotification);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_NAVIGATION_EVENT, this.openSearchedResponse);\r\n        messageStore.instance.addListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_EVENT, this.initiateSerachResponse);\r\n        userInfoStore.instance.addListener(userInfoStore.UserInfoStore.SHOW_LOGOUT_POPUP_EVENT, this.logoutConfirmation);\r\n        navigationStore.instance.addListener(navigationStore.NavigationStore.MENU_VISIBILITY_EVENT, this.onMenuOpen);\r\n        messageStore.instance.addListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_FAILED_EVENT, this.onResponseDataReceivedFailed);\r\n        messageStore.instance.addListener(messageStore.MessageStore.MESSAGE_DETAILS_RECEIVED_FAILED, this.onMessageDetailsReceivedFailed);\r\n        applicationStore.instance.addListener(applicationStore.ApplicationStore.ONLINE_STATUS_UPDATED_EVENT, this.onOnlineStatusUpdated);\r\n    };\r\n    /**\r\n     * Method to remove event listeners\r\n     */\r\n    MessageContainer.prototype.removeEventListeners = function () {\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_RECEIVED, this.onMessagesReceived);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_DETAILS_RECEIVED, this.onMessageDetailsReceived);\r\n        ccStore.instance.removeListener(ccStore.ConfigurableCharacteristicsStore.EXAM_BODY_CC_GET, this.onReRender);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.UPDATE_NOTIFICATION_TRIGGERED_EVENT, this.onReRender);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.SEND_MESSAGE_SUCCESS_EVENT, this.onCloseMessagePopup);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.REFRESH_MESSAGE_TAB, this.onRefreshMessageTab);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_DELETE_EVENT, this.updateMessageDeletedStatus);\r\n        responseStore.instance.removeListener(responseStore.ResponseStore.RESPONSE_OPENED, this.navigateToResponsePage);\r\n        responseSearchHelper.removeResponseSearchEvents();\r\n        messageStore.instance.removeListener(messageStore.MessageStore.UPDATE_NOTIFICATION_TRIGGERED_EVENT, this.updateNotification);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_NAVIGATION_EVENT, this.openSearchedResponse);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_EVENT, this.initiateSerachResponse);\r\n        userInfoStore.instance.removeListener(userInfoStore.UserInfoStore.SHOW_LOGOUT_POPUP_EVENT, this.logoutConfirmation);\r\n        navigationStore.instance.removeListener(navigationStore.NavigationStore.MENU_VISIBILITY_EVENT, this.onMenuOpen);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.RESPONSE_DATA_RECEIVED_FAILED_EVENT, this.onResponseDataReceivedFailed);\r\n        messageStore.instance.removeListener(messageStore.MessageStore.MESSAGE_DETAILS_RECEIVED_FAILED, this.onMessageDetailsReceivedFailed);\r\n        applicationStore.instance.removeListener(applicationStore.ApplicationStore.ONLINE_STATUS_UPDATED_EVENT, this.onOnlineStatusUpdated);\r\n    };\r\n    /**\r\n     * Method to redirect to worklist page on clicking button\r\n     */\r\n    MessageContainer.prototype.renderWorkListPage = function () {\r\n        navigationHelper.navigateToWorklist();\r\n    };\r\n    /**\r\n     * this will shows the confirmation popup on logout based on the ask on logout value.\r\n     */\r\n    MessageContainer.prototype.showLogoutConfirmation = function (logout) {\r\n        this.setState({ isLogoutConfirmationPopupDisplaying: logout });\r\n    };\r\n    /**\r\n     * Update the Read Status to database\r\n     * @param message : message to update the read status\r\n     */\r\n    MessageContainer.prototype.updateReadStatus = function (message) {\r\n        // If the message is currently in un read status and also make sure it is not made as read already\r\n        if (message &&\r\n            (message.status === enums.MessageReadStatus.New\r\n                && !messageStore.instance.isMessageRead(message.examinerMessageId))) {\r\n            var examinerList = [];\r\n            examinerList[0] = 0;\r\n            var args = {\r\n                messageId: message.examinerMessageId,\r\n                messageDistributionIds: message.messageDistributionIds,\r\n                examinerMessageStatusId: enums.MessageReadStatus.Read\r\n            };\r\n            // action for updating read status for the newly selected response.\r\n            messagingActionCreator.updateMessageStatus(args);\r\n        }\r\n    };\r\n    /**\r\n     * This will returns the formatted the examiner name\r\n     */\r\n    MessageContainer.prototype.formattedExaminerName = function (parentInitials, parentSurname) {\r\n        var formattedString = stringFormatHelper.getUserNameFormat().toLowerCase();\r\n        formattedString = formattedString.replace('{initials}', parentInitials);\r\n        formattedString = formattedString.replace('{surname}', parentSurname);\r\n        return formattedString;\r\n    };\r\n    /**\r\n     * invoke when select reply/forward message action\r\n     * @param messageMenuActionType\r\n     */\r\n    MessageContainer.prototype.setvariablesforReplyForward = function (messageMenuActionType) {\r\n        // check online status before proceed\r\n        switch (messageMenuActionType) {\r\n            case enums.MessageAction.Forward:\r\n                this.checkOnlineStatusAndDoMessageAction(enums.MessageType.InboxForward);\r\n                break;\r\n            case enums.MessageAction.Reply:\r\n                this.checkOnlineStatusAndDoMessageAction(enums.MessageType.InboxReply);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Delete the selected message - updating database\r\n     */\r\n    MessageContainer.prototype.deleteMessage = function () {\r\n        if (this.selectedMsg) {\r\n            var examinerList = [];\r\n            examinerList[0] = 0;\r\n            var args = {\r\n                messageId: this.selectedMsg.examinerMessageId,\r\n                messageDistributionIds: this.selectedMsg.messageDistributionIds,\r\n                examinerMessageStatusId: enums.MessageReadStatus.Closed\r\n            };\r\n            // action for updating read status for the newly selected response.\r\n            messagingActionCreator.updateMessageStatus(args);\r\n        }\r\n    };\r\n    /**\r\n     * returns whether the forward button is hidden or not\r\n     * @param markSchemeGroupId\r\n     */\r\n    MessageContainer.prototype.isForwardButtonHidden = function (markSchemeGroupId) {\r\n        var item = this.qigListItems.filter(function (x) { return x.id === markSchemeGroupId; })[0];\r\n        if (item === undefined) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Object.defineProperty(MessageContainer.prototype, \"expandOrCollapseDetails\", {\r\n        /**\r\n         * Returns expand or collapse object based on selected tab\r\n         */\r\n        get: function () {\r\n            switch (this.selectedTab) {\r\n                case enums.MessageFolderType.Sent:\r\n                    if (!this.sentTabExpandOrCollapseDetails) {\r\n                        this.sentTabExpandOrCollapseDetails = immutable.Map();\r\n                    }\r\n                    return this.sentTabExpandOrCollapseDetails;\r\n                case enums.MessageFolderType.Deleted:\r\n                    if (!this.deletedTabExpandOrCollapseDetails) {\r\n                        this.deletedTabExpandOrCollapseDetails = immutable.Map();\r\n                    }\r\n                    return this.deletedTabExpandOrCollapseDetails;\r\n                default:\r\n                    if (!this.inboxTabExpandOrCollapseDetails) {\r\n                        this.inboxTabExpandOrCollapseDetails = immutable.Map();\r\n                    }\r\n                    return this.inboxTabExpandOrCollapseDetails;\r\n            }\r\n        },\r\n        /**\r\n         * set expand or collapse object based on selected tab\r\n         */\r\n        set: function (expandOrCollapseDetails) {\r\n            if (expandOrCollapseDetails === undefined) {\r\n                this.sentTabExpandOrCollapseDetails = undefined;\r\n                this.deletedTabExpandOrCollapseDetails = undefined;\r\n                this.inboxTabExpandOrCollapseDetails = undefined;\r\n            }\r\n            switch (this.selectedTab) {\r\n                case enums.MessageFolderType.Sent:\r\n                    this.sentTabExpandOrCollapseDetails = expandOrCollapseDetails;\r\n                    break;\r\n                case enums.MessageFolderType.Deleted:\r\n                    this.deletedTabExpandOrCollapseDetails = expandOrCollapseDetails;\r\n                    break;\r\n                default:\r\n                    this.inboxTabExpandOrCollapseDetails = expandOrCollapseDetails;\r\n                    break;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MessageContainer.prototype, \"filteredMessages\", {\r\n        /**\r\n         * Returns the filtered set of messages if filter is applicable\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            var filteredMessages = messageStore.instance.messages;\r\n            if (this.searchData.searchText !== '' && this.searchData.isVisible) {\r\n                filteredMessages = immutable.List(filteredMessages.filter(function (message) {\r\n                    return messageTranslationHelper.getExaminerName(message).toLowerCase().indexOf(_this.searchData.searchText.toLowerCase()) !== -1;\r\n                }));\r\n            }\r\n            return filteredMessages;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MessageContainer.prototype, \"forceDisableLoading\", {\r\n        // Disable loading indicator when application goes offline/\r\n        // if it failed to retrienve data.\r\n        get: function () {\r\n            return this.isLoadingDataFailed || !this.props.isOnline;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * check online status\r\n     * @param messageType\r\n     */\r\n    MessageContainer.prototype.checkOnlineStatusAndDoMessageAction = function (messageType) {\r\n        /* Will request tinymce font when open a compose message panel first time\r\n        (ie, when render message popup component first time). If open the compose message panel in offline mode,\r\n        then the font request will get failed and thus the font family buttons are not visible.\r\n        Since this request is happens only once, the font family buttons are not visible during that session.\r\n        So we first do a ping and check the network status and if the system is in online,\r\n        then proceed the message action (compose/reply/forward). If the system is in offline mode,\r\n        then shows offline popup and dont proceed the message action.*/\r\n        if (applicationStore.instance.isOnline) {\r\n            // ping and check online status if system is in online mode\r\n            this.messageType = messageType;\r\n            applicationActionCreator.validateNetWorkStatus(true);\r\n        }\r\n        else {\r\n            // if in offline mode, then show offline popup\r\n            applicationActionCreator.checkActionInterrupted();\r\n        }\r\n    };\r\n    return MessageContainer;\r\n}(pureRenderComponent));\r\nmodule.exports = MessageContainer;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQ4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbWVzc2FnZS9tZXNzYWdlY29udGFpbmVyLnRzeD8zN2Y2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG4vKipcclxuICogQWRkIG5ldyBkZXBlbmRlbmNpZXMgaW4gbG9hZERlcGVuZGVuY2llcygpIG1ldGhvZCB1bmxlc3MgeW91ciBkZXBlbmRlbmNpZXMgYXJlIG5vdCB1c2luZyBpbiBjb25zdHJ1Y3RvclxyXG4gKi9cclxuaW1wb3J0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuLyogdHNsaW50OmVuYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuaW1wb3J0IHB1cmVSZW5kZXJDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL3B1cmVyZW5kZXJjb21wb25lbnQnKTtcclxuaW1wb3J0IGVudW1zID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9lbnVtcycpO1xyXG5pbXBvcnQgaW1tdXRhYmxlID0gcmVxdWlyZSgnaW1tdXRhYmxlJyk7XHJcbmltcG9ydCBsb2FkTWVzc2FnZUFyZ3VtZW50cyA9IHJlcXVpcmUoJy4uLy4uL2RhdGFzZXJ2aWNlcy9tZXNzYWdpbmcvbG9hZG1lc3NhZ2VzYXJndW1lbnRzJyk7XHJcbmltcG9ydCBtZXNzYWdlQXJndW1lbnQgPSByZXF1aXJlKCcuLi8uLi9kYXRhc2VydmljZXMvbWVzc2FnaW5nL21lc3NhZ2Vhcmd1bWVudCcpO1xyXG5pbXBvcnQgbG9naW5TZXNzaW9uID0gcmVxdWlyZSgnLi4vLi4vYXBwL2xvZ2luc2Vzc2lvbicpO1xyXG5sZXQgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuaW1wb3J0IEZvb3RlciA9IHJlcXVpcmUoJy4uL2Zvb3RlcicpO1xyXG5pbXBvcnQgdGVhbUFyZ3VtZW50ID0gcmVxdWlyZSgnLi4vLi4vZGF0YXNlcnZpY2VzL21lc3NhZ2luZy90ZWFtYXJndW1lbnQnKTtcclxuaW1wb3J0IEJ1c3lJbmRpY2F0b3IgPSByZXF1aXJlKCcuLi91dGlsaXR5L2J1c3lpbmRpY2F0b3IvYnVzeWluZGljYXRvcicpO1xyXG5pbXBvcnQgYXBwbGljYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9hcHBsaWNhdGlvbm9mZmxpbmUvYXBwbGljYXRpb25zdG9yZScpO1xyXG5pbXBvcnQgUHJvbWlzZSA9IHJlcXVpcmUoJ2VzNi1wcm9taXNlJyk7XHJcbmltcG9ydCBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL2FwcGxpY2F0aW9ub2ZmbGluZS9hcHBsaWNhdGlvbmFjdGlvbmNyZWF0b3InKTtcclxuaW1wb3J0IHN0YW5kYXJkaXNhdGlvblNldHVwQ0NEYXRhID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3N0YW5kYXJkaXNhdGlvbnNldHVwL3R5cGluZ3Mvc3RhbmRhcmRpc2F0aW9uc2V0dXBjY2RhdGEnKTtcclxuZGVjbGFyZSBsZXQgdGlueW1jZTogYW55O1xyXG5kZWNsYXJlIGxldCBjb25maWc6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBBZGQgbmV3IGRlcGVuZGVuY2llcyBpbiBsb2FkRGVwZW5kZW5jaWVzKCkgbWV0aG9kIHVubGVzcyB5b3VyIGRlcGVuZGVuY2llcyBhcmUgbm90IHVzaW5nIGluIGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5cclxuLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSBuby1tdWx0aXBsZS12YXItZGVjbCAqL1xyXG5sZXQgbmF2aWdhdGlvbkhlbHBlciwgSGVhZGVyLCBub3RpZmljYXRpb25Db3VudCwgTWVzc2FnZUxlZnRQYW5lbCwgTWVzc2FnZVJpZ2h0UGFuZWwsIE1lc3NhZ2VUYWJJdGVtLCBtZXNzYWdlU3RvcmUsXHJcbiAgICBjY1N0b3JlLCBsb2NhbGVTdG9yZSwgTWVzc2FnZVBvcHVwLCBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLCBHZW5lcmljQnV0dG9uLCBzdHJpbmdGb3JtYXRIZWxwZXIsXHJcbiAgICBtZXNzYWdlSGVscGVyLCBwb3BVcERpc3BsYXlBY3Rpb25DcmVhdG9yLCBwb3B1cEhlbHBlciwgbWFya2luZ0hlbHBlciwgQ29uZmlybWF0aW9uRGlhbG9nLCByZXNwb25zZVN0b3JlLCByZXNwb25zZVNlYXJjaEhlbHBlcixcclxuICAgIHJlc3BvbnNlQWN0aW9uQ3JlYXRvciwgbWVzc2FnZVRyYW5zbGF0aW9uSGVscGVyLCBHZW5lcmljRGlhbG9nLCBuYXZpZ2F0aW9uU3RvcmUsIHVzZXJJbmZvQWN0aW9uQ3JlYXRvciwgcWlnU3RvcmUsIHVzZXJJbmZvU3RvcmUsXHJcbiAgICBodG1sVXRpbGl0aWVzLCB1cmxzO1xyXG4vKiB0c2xpbnQ6ZW5hYmxlOnZhcmlhYmxlLW5hbWUgbm8tbXVsdGlwbGUtdmFyLWRlY2wgKi9cclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0aWVzIG9mIGEgY29tcG9uZW50XHJcbiAqL1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby1lbXB0eS1pbnRlcmZhY2VzICovXHJcbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIFByb3BzQmFzZSwgTG9jYWxlU2VsZWN0aW9uQmFzZSB7XHJcbn1cclxuLyogdHNsaW50OmVuYWJsZTpuby1lbXB0eS1pbnRlcmZhY2VzICovXHJcblxyXG4vKipcclxuICogU3RhdGUgb2YgYSBjb21wb25lbnRcclxuICovXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgICBtb2R1bGVzTG9hZGVkPzogYm9vbGVhbjtcclxuICAgIGlzTG9nb3V0Q29uZmlybWF0aW9uUG9wdXBEaXNwbGF5aW5nPzogYm9vbGVhbjtcclxuICAgIHJlbmRlcmVkT24/OiBudW1iZXI7XHJcbiAgICBpc0RlZmF1bHRUYWJBY3RpdmU/OiBib29sZWFuO1xyXG4gICAgaXNEZWxldGVNZXNzYWdlUG9wdXBWaXNpYmxlPzogYm9vbGVhbjtcclxuICAgIGlzT3BlbmluZ1Jlc3BvbnNlPzogYm9vbGVhbjtcclxuICAgIGhhc09wZW5pbmdRdWFsaXR5RmVlZGJhY2tRdXRzdGFuZGluZ1FJR3NSZXNwb25zZT86IGJvb2xlYW47XHJcbiAgICBzY3JpcHRMb2FkZWQ/OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSXRlbSB7XHJcbiAgICBpZDogbnVtYmVyO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgcGFyZW50RXhhbWluZXJEaXNwbGF5TmFtZTogc3RyaW5nO1xyXG4gICAgcGFyZW50RXhhbWluZXJJZDogbnVtYmVyO1xyXG4gICAgcXVlc3Rpb25QYXBlclBhcnRJZDogbnVtYmVyO1xyXG4gICAgZXhhbWluZXJSb2xlSWQ6IG51bWJlcjtcclxuICAgIGFwcHJvdmFsU3RhdHVzSWQ6IG51bWJlcjtcclxuICAgIGNvb3JkaW5hdGlvbkNvbXBsZXRlOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgdG8gRGlzcGxheSB0aGUgTGVmdCBTaWRlIFNlY3Rpb25cclxuICovXHJcbmNsYXNzIE1lc3NhZ2VDb250YWluZXIgZXh0ZW5kcyBwdXJlUmVuZGVyQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xyXG4gICAgcHJpdmF0ZSBpc0Fza09uTG9nb3V0Q2hlY2tib3hWaXNpYmxlOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBsb2dvdXRDb25maXJtYXRpb246IGFueTtcclxuICAgIHByaXZhdGUgcmVzZXRMb2dvdXRDb25maXJtYXRpb25TYXR1czogRnVuY3Rpb247XHJcbiAgICBwcml2YXRlIHNlbGVjdGVkVGFiOiBlbnVtcy5NZXNzYWdlRm9sZGVyVHlwZTtcclxuICAgIC8vIHRoaXMgdmFyaWFibGUgd2lsbCBob2xkIHRoZSBtZXNzYWdlIHBhbmVsIHZpc2libGl0eSBzdGF0dXMuXHJcbiAgICBwcml2YXRlIGlzTWVzc2FnZVBvcHVwVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBxaWdMaXN0SXRlbXM6IEFycmF5PEl0ZW0+O1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZFFpZ05hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgc3VwZXJ2aXNvcklkOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHN1cGVydmlzb3JOYW1lOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHNlbGVjdGVkTXNnOiBNZXNzYWdlO1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZE1zZ0RldGFpbHM6IE1lc3NhZ2VEZXRhaWxzID0gbnVsbDtcclxuICAgIHByaXZhdGUgc2VsZWN0ZWRNc2dSZWFkU3RhdHVzOiBlbnVtcy5NZXNzYWdlUmVhZFN0YXR1cyA9IDE7XHJcbiAgICAvLyBtZXNzYWdlIHR5cGVcclxuICAgIHByaXZhdGUgY3VycmVudE1lc3NhZ2VUeXBlOiBlbnVtcy5NZXNzYWdlVHlwZSA9IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Q29tcG9zZTtcclxuICAgIHByaXZhdGUgcmVzcG9uc2VJZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBzdWJqZWN0OiBzdHJpbmcgPSAnJztcclxuICAgIHByaXZhdGUgcHJpb3JpdHlEcm9wZG93blNlbGVjdGVkSXRlbTogZW51bXMuTWVzc2FnZVByaW9yaXR5ID0gZW51bXMuTWVzc2FnZVByaW9yaXR5LlN0YW5kYXJkO1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZFFpZ0l0ZW1JZDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtZXNzYWdlQm9keTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZFF1ZXN0aW9uUGFwZXJQYXJ0SWQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgdW5yZWFkTWVzc2FnZUNvdW50OiBudW1iZXI7XHJcbiAgICAvLyBTdG9yZXMgYWxsIHRoZSBtZXNzYWdlcyBhbmQgR3JvdXBlZCBNZXNzYWdlcy5cclxuICAgIHByaXZhdGUgbWVzc2FnZUdyb3VwRGV0YWlsczogTWVzc2FnZUdyb3VwRGV0YWlscztcclxuICAgIHByaXZhdGUgaXNSZXBseU9yRm9yd2FyZENsaWNrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc2VhcmNoZWRSZXNwb25zZURhdGE6IFNlYXJjaGVkUmVzcG9uc2VEYXRhO1xyXG4gICAgcHJpdmF0ZSBzZWFyY2hEYXRhOiBTZWFyY2hEYXRhID0geyBpc1Zpc2libGU6IHRydWUsIGlzU2VhcmNoaW5nOiB1bmRlZmluZWQsIHNlYXJjaFRleHQ6ICcnIH07XHJcbiAgICAvLyBjb250YWlucyBxaWdJZDogbnVtYmVyLCBpc09wZW46IGJvb2xlYW5cclxuICAgIHByaXZhdGUgaW5ib3hUYWJFeHBhbmRPckNvbGxhcHNlRGV0YWlsczogaW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+ID0gaW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+KCk7XHJcbiAgICBwcml2YXRlIHNlbnRUYWJFeHBhbmRPckNvbGxhcHNlRGV0YWlsczogaW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+ID0gaW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+KCk7XHJcbiAgICBwcml2YXRlIGRlbGV0ZWRUYWJFeHBhbmRPckNvbGxhcHNlRGV0YWlsczogaW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+ID0gaW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+KCk7XHJcbiAgICBwcml2YXRlIGlzTG9hZGluZ0RhdGFGYWlsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbWVzc2FnZVR5cGU6IGVudW1zLk1lc3NhZ2VUeXBlID0gZW51bXMuTWVzc2FnZVR5cGUuTm9uZTtcclxuICAgIHByaXZhdGUgaXNNZXNzYWdlQ2xpY2tlZCA9IGZhbHNlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3IgTWVzc2FnZWNvbnRhaW5lclxyXG4gICAgICogQHBhcmFtIHByb3BzXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzLCBzdGF0ZTogU3RhdGUpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgc3RhdGUpO1xyXG5cclxuICAgICAgICAvLyBJZiBwYWdlIGlzIHJlZnJlc2hlZCwgcmVkaXJlY3QgdG8gbG9naW4gcGFnZS4gLy8gVGhpcyB3aWxsIGNsZWFyIHRoZSBtZW1vcnkuXHJcbiAgICAgICAgaWYgKCFsb2dpblNlc3Npb24uSVNfQVVUSEVOVElDQVRFRCkge1xyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRMb2dpblBhZ2UoKTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoY29uZmlnLmdlbmVyYWwuU0VSVklDRV9CQVNFX1VSTCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubG9nb3V0Q29uZmlybWF0aW9uID0gdGhpcy5zaG93TG9nb3V0Q29uZmlybWF0aW9uLmJpbmQodGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5yZXNldExvZ291dENvbmZpcm1hdGlvblNhdHVzID0gdGhpcy5zaG93TG9nb3V0Q29uZmlybWF0aW9uLmJpbmQodGhpcywgZmFsc2UpO1xyXG4gICAgICAgIC8qIGJpbmRpbmcgdGhlIHBhcmVudChjdXJyZW50KSBjb250ZXh0IHRvIHNob3dMb2dvdXRDb25maXJtYXRpb24gd2hpY2ggaXMgcGFzc2VkIGFzIHByb3AgdG8gY2hpbGQgYW5kIGV4ZWN1dGluZyBpbnNpZGUgY2hpbGQgKi9cclxuICAgICAgICAvKiBzZXR0aW5nIHN1Ym1pdCBjb25maXJtYXRpb24geWVzL25vIGZ1bmN0aW9ucyB0byBpbml0aWFsaXplLiAqL1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIG1vZHVsZXNMb2FkZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc0xvZ291dENvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzRGVmYXVsdFRhYkFjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgaXNPcGVuaW5nUmVzcG9uc2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBoYXNPcGVuaW5nUXVhbGl0eUZlZWRiYWNrUXV0c3RhbmRpbmdRSUdzUmVzcG9uc2U6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkVGFiID0gZW51bXMuTWVzc2FnZUZvbGRlclR5cGUuSW5ib3g7XHJcbiAgICAgICAgdGhpcy5vbk1lc3NhZ2VDbGljayA9IHRoaXMub25NZXNzYWdlQ2xpY2suYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnNob3dEZWxldGVNZXNzYWdlUG9wVXAgPSB0aGlzLnNob3dEZWxldGVNZXNzYWdlUG9wVXAuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uVGFiU2VsZWN0ZWQgPSB0aGlzLm9uVGFiU2VsZWN0ZWQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uUXVhbGl0eUZlZWRiYWNrV2FybmluZ01lc3NhZ2VDbG9zZSA9IHRoaXMub25RdWFsaXR5RmVlZGJhY2tXYXJuaW5nTWVzc2FnZUNsb3NlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbk1lc3NhZ2VEZXRhaWxzUmVjZWl2ZWRGYWlsZWQgPSB0aGlzLm9uTWVzc2FnZURldGFpbHNSZWNlaXZlZEZhaWxlZC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGFzUGVybWlzc2lvblRvVmlld1N0YW5kYXJkaXNhdGlvbldvcmtsaXN0ID0gdGhpcy5oYXNQZXJtaXNzaW9uVG9WaWV3U3RhbmRhcmRpc2F0aW9uV29ya2xpc3QuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBNZXRob2QgdG8gZGlzcGxheSB0aGUgZGF0YS5cclxuICAgICAqL1xyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xyXG5cclxuXHJcbiAgICAgICAgbGV0IGZvb3RlciA9ICg8Rm9vdGVyIGlkPXt0aGlzLnByb3BzLmlkfSBrZXk9eydrZXlfJyArIHRoaXMucHJvcHMuaWR9IHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX1cclxuICAgICAgICAgICAgZm9vdGVyVHlwZT17ZW51bXMuRm9vdGVyVHlwZS5NZXNzYWdlfVxyXG4gICAgICAgICAgICBpc0xvZ291dENvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZz17dGhpcy5zdGF0ZS5pc0xvZ291dENvbmZpcm1hdGlvblBvcHVwRGlzcGxheWluZ31cclxuICAgICAgICAgICAgcmVzZXRMb2dvdXRDb25maXJtYXRpb25TYXR1cz17dGhpcy5yZXNldExvZ291dENvbmZpcm1hdGlvblNhdHVzfSAvPik7XHJcblxyXG4gICAgICAgIGxldCBidXN5SW5kaWNhdG9yID0gKDxCdXN5SW5kaWNhdG9yIGlkPXsnbW9kdWxlc19sb2FkaW5nX2luZGljYXRvcid9XHJcbiAgICAgICAgICAgIGlzQnVzeT17dHJ1ZX1cclxuICAgICAgICAgICAga2V5PXsncmVzcG9uc2VfbG9hZGluZ19pbmRpY2F0b3InfVxyXG4gICAgICAgICAgICBpc01hcmtpbmdCdXN5PXtmYWxzZX1cclxuICAgICAgICAgICAgYnVzeUluZGljYXRvckludm9rZXI9e2VudW1zLkJ1c3lJbmRpY2F0b3JJbnZva2VyLmxvYWRpbmdNb2R1bGVzfVxyXG4gICAgICAgICAgICBzaG93QmFja2dyb3VuZFNjcmVlbj17ZmFsc2V9XHJcbiAgICAgICAgICAgIGRvU2hvd0RpYWxvZz17IXRoaXMuc3RhdGUubW9kdWxlc0xvYWRlZCB8fCAhdGhpcy5zdGF0ZS5zY3JpcHRMb2FkZWR9IC8+KTtcclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm1vZHVsZXNMb2FkZWQgJiYgdGhpcy5zdGF0ZS5zY3JpcHRMb2FkZWQpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBoZWFkZXIgPSA8SGVhZGVyIHNlbGVjdGVkTGFuZ3VhZ2U9e3RoaXMucHJvcHMuc2VsZWN0ZWRMYW5ndWFnZX0gY29udGFpbmVyUGFnZT17ZW51bXMuUGFnZUNvbnRhaW5lcnMuTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgIHVuUmVhZE1lc3NhZ2VDb3VudD17dGhpcy51bnJlYWRNZXNzYWdlQ291bnR9IC8+O1xyXG5cclxuICAgICAgICAgICAgbGV0IG5vblJlY292ZXJhYmxlRXJyb3JNZXNzYWdlID0gKFxyXG4gICAgICAgICAgICAgICAgPEdlbmVyaWNEaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcubWVzc2FnZS1saXN0cy5xdWFsaXR5LWZlZWRiYWNrLXBlbmRpbmctZGlhbG9nLmJvZHknKX1cclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ2hvbWUucWlnLXN0YXR1c2VzLlF1YWxpdHlGZWVkYmFjaycpfVxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlQb3B1cD17dGhpcy5zdGF0ZS5oYXNPcGVuaW5nUXVhbGl0eUZlZWRiYWNrUXV0c3RhbmRpbmdRSUdzUmVzcG9uc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdnZW5lcmljLmVycm9yLWRpYWxvZy5vay1idXR0b24nKX1cclxuICAgICAgICAgICAgICAgICAgICBvbk9rQ2xpY2s9e3RoaXMub25RdWFsaXR5RmVlZGJhY2tXYXJuaW5nTWVzc2FnZUNsb3NlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlkPSdub25SZWNvdmVyYWJsZUVycm9yTWVzc2dlJ1xyXG4gICAgICAgICAgICAgICAgICAgIGtleT0nbWFya3NBbmRBbm5vdGF0aW9uc0Vycm9yTWVzc2dlJ1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwRGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLlF1YWxpdHlGZWVkYmFja1dhcm5pbmd9IC8+KTtcclxuXHJcblxyXG4gICAgICAgICAgICBsZXQgZGVsZXRlTWVzc2FnZSA9ICg8Q29uZmlybWF0aW9uRGlhbG9nXHJcbiAgICAgICAgICAgICAgICBjb250ZW50PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcubWVzc2FnZS1saXN0cy5kZWxldGUtbWVzc2FnZS1kaWFsb2cuYm9keScpfVxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcubWVzc2FnZS1saXN0cy5kZWxldGUtbWVzc2FnZS1kaWFsb2cuaGVhZGVyJyl9XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5UG9wdXA9e3RoaXMuc3RhdGUuaXNEZWxldGVNZXNzYWdlUG9wdXBWaXNpYmxlfVxyXG4gICAgICAgICAgICAgICAgaXNDaGVja0JveFZpc2libGU9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgbm9CdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcubWVzc2FnZS1saXN0cy5kZWxldGUtbWVzc2FnZS1kaWFsb2cubm8tYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICB5ZXNCdXR0b25UZXh0PXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0KCdtZXNzYWdpbmcubWVzc2FnZS1saXN0cy5kZWxldGUtbWVzc2FnZS1kaWFsb2cueWVzLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgb25ZZXNDbGljaz17dGhpcy5vblllc0J1dHRvbkRlbGV0ZU1lc3NhZ2VDbGlja31cclxuICAgICAgICAgICAgICAgIG9uTm9DbGljaz17dGhpcy5vbk5vQnV0dG9uRGVsZXRlTWVzc2FnZUNsaWNrfVxyXG4gICAgICAgICAgICAgICAgZGlhbG9nVHlwZT17ZW51bXMuUG9wdXBEaWFsb2dUeXBlLk1iQ1JldHVyblRvV29ya2xpc3RDb25maXJtYXRpb259XHJcbiAgICAgICAgICAgICAgICBpc0tleUJvYXJkU3VwcG9ydEVuYWJsZWQ9e3RydWV9XHJcbiAgICAgICAgICAgIC8+KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWVzc2FnZS13cmFwcGVyJywgeyAnbG9hZGluZyc6IHRoaXMuc2VsZWN0ZWRNc2cgJiYgdGhpcy5zdGF0ZS5pc09wZW5pbmdSZXNwb25zZSB9KX0+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyTG9hZGluZ0luZGljYXRvcigpfVxyXG4gICAgICAgICAgICAgICAgICAgIHtoZWFkZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtd3JhcHBlciByZWxhdGl2ZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxNZXNzYWdlUG9wdXAgaXNPcGVuPXt0aGlzLmlzTWVzc2FnZVBvcHVwVmlzaWJsZX0gY2xvc2VNZXNzYWdlUGFuZWw9e3RoaXMub25DbG9zZU1lc3NhZ2VQb3B1cH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VUeXBlPXt0aGlzLmN1cnJlbnRNZXNzYWdlVHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVzZXRQb3B1cENhbGxiYWNrPXt0aGlzLnJlc2V0TWVzc2FnZVBvcHVwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJZD17dGhpcy5yZXNwb25zZUlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfSBxaWdJdGVtc0xpc3Q9e3RoaXMucWlnTGlzdEl0ZW1zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRRaWdJdGVtSWQ9e3RoaXMuc2VsZWN0ZWRRaWdJdGVtSWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFFpZ0l0ZW09e3RoaXMuc2VsZWN0ZWRRaWdOYW1lfSBzdXBlcnZpc29ySWQ9e3RoaXMuc3VwZXJ2aXNvcklkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwZXJ2aXNvck5hbWU9e3RoaXMuc3VwZXJ2aXNvck5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0PXt0aGlzLnN1YmplY3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmlvcml0eURyb3BEb3duU2VsZWN0ZWRJdGVtPXt0aGlzLnByaW9yaXR5RHJvcGRvd25TZWxlY3RlZEl0ZW19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblFpZ0l0ZW1TZWxlY3RlZD17dGhpcy5vblFpZ0l0ZW1TZWxlY3RlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VCb2R5PXt0aGlzLm1lc3NhZ2VCb2R5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb25QYXBlclBhcnRJZD17dGhpcy5zZWxlY3RlZFF1ZXN0aW9uUGFwZXJQYXJ0SWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1lc3NhZ2U9e3RoaXMuc2VsZWN0ZWRNc2d9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1zZ0RldGFpbHM9e3RoaXMuc2VsZWN0ZWRNc2dEZXRhaWxzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXBseU9yRm9yd2FyZENsaWNrZWQ9e3RoaXMuaXNSZXBseU9yRm9yd2FyZENsaWNrZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0YWItaG9sZGVyIGhvcml6b250YWwgbXNnLXRhYic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXNnLXRhYi1oZWFkZXInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtd3JhcCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjb2wtOS1vZi0xMiBtc2ctdGFicy1uYXYnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT0ndGFiLW5hdiBwYWRkaW5nLWxlZnQtMTAnIHJvbGU9J3RhYmxpc3QnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZXNzYWdlVGFiSXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlRm9sZGVyVHlwZT17ZW51bXMuTWVzc2FnZUZvbGRlclR5cGUuSW5ib3h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3RoaXMuc2VsZWN0ZWRUYWIgPT09IGVudW1zLk1lc3NhZ2VGb2xkZXJUeXBlLkluYm94fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRhYlNlbGVjdGVkPXt0aGlzLm9uVGFiU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuUmVhZE1lc3NhZ2VDb3VudD17bWVzc2FnZVN0b3JlLmluc3RhbmNlLmdldFVucmVhZE1lc3NhZ2VDb3VudH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVzc2FnZVRhYkl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUZvbGRlclR5cGU9e2VudW1zLk1lc3NhZ2VGb2xkZXJUeXBlLlNlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3RoaXMuc2VsZWN0ZWRUYWIgPT09IGVudW1zLk1lc3NhZ2VGb2xkZXJUeXBlLlNlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVGFiU2VsZWN0ZWQ9e3RoaXMub25UYWJTZWxlY3RlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5SZWFkTWVzc2FnZUNvdW50PXswfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZXNzYWdlVGFiSXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlRm9sZGVyVHlwZT17ZW51bXMuTWVzc2FnZUZvbGRlclR5cGUuRGVsZXRlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17dGhpcy5zZWxlY3RlZFRhYiA9PT0gZW51bXMuTWVzc2FnZUZvbGRlclR5cGUuRGVsZXRlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25UYWJTZWxlY3RlZD17dGhpcy5vblRhYlNlbGVjdGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1blJlYWRNZXNzYWdlQ291bnQ9ezB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbC0zLW9mLTEyIHRleHQtcmlnaHQgY29tcG9zZS1tc2ctYnRuLXdyYXAnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdlbmVyaWNCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17J25ld19tZXNzYWdlX2J0bid9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXsna2V5X25ld19tZXNzYWdlX2J0bid9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdidXR0b24gcHJpbWFyeSByb3VuZGVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtsb2NhbGVTdG9yZS5pbnN0YW5jZS5UcmFuc2xhdGVUZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnbWVzc2FnaW5nLm1lc3NhZ2UtbGlzdHMudG9wLXBhbmVsLm5ldy1tZXNzYWdlLWJ1dHRvbicpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e2xvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCdtZXNzYWdpbmcubWVzc2FnZS1saXN0cy50b3AtcGFuZWwubmV3LW1lc3NhZ2UtYnV0dG9uJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25OZXdNZXNzYWdlQ2xpY2t9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVzc2FnZUxlZnRQYW5lbCBzZWxlY3RlZExhbmd1YWdlPXt0aGlzLnByb3BzLnNlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRUYWI9e3RoaXMuc2VsZWN0ZWRUYWJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM9e3RoaXMubWVzc2FnZUdyb3VwRGV0YWlsc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17dGhpcy5vblNlYXJjaH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hEYXRhPXt0aGlzLnNlYXJjaERhdGF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRNc2c9e3RoaXMuc2VsZWN0ZWRNc2d9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RlZE1lc3NhZ2VDaGFuZ2VkPXt0aGlzLm9uTWVzc2FnZUNsaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VHcm91cERldGFpbHM9e3RoaXMubWVzc2FnZUdyb3VwRGV0YWlsc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkV4cGFuZE9yQ29sbGFwc2U9e3RoaXMub25FeHBhbmRPckNvbGxhcHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWVzc2FnZUNsaWNrZWQ9e3RoaXMuaXNNZXNzYWdlQ2xpY2tlZH0vPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VSaWdodFBhbmVsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMYW5ndWFnZT17dGhpcy5wcm9wcy5zZWxlY3RlZExhbmd1YWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc2VsZWN0ZWRNc2d9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZURldGFpbHM9e3RoaXMuc2VsZWN0ZWRNc2dEZXRhaWxzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVGFiPXt0aGlzLnNlbGVjdGVkVGFifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRm9yd2FyZEJ1dHRvbkhpZGRlbj17dGhpcy5pc0ZvcndhcmRCdXR0b25IaWRkZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNc2cgPyB0aGlzLnNlbGVjdGVkTXNnLm1hcmtTY2hlbWVHcm91cElkIDogMCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25NZXNzYWdlTWVudUFjdGlvbkNsaWNrQ2FsbGJhY2s9e3RoaXMub25NZXNzYWdlTWVudUFjdGlvbkNsaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGlzcGxheUlkQ2xpY2s9e3RoaXMub25EaXNwbGF5SWRDbGlja30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAge2RlbGV0ZU1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAge25vblJlY292ZXJhYmxlRXJyb3JNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgIHtmb290ZXJ9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gKDxkaXY+XHJcbiAgICAgICAgICAgICAgICB7YnVzeUluZGljYXRvcn1cclxuICAgICAgICAgICAgICAgIHtmb290ZXJ9XHJcbiAgICAgICAgICAgIDwvZGl2Pik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIExvYWRpbmcgSW5kaWNhdG9yXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyTG9hZGluZ0luZGljYXRvcigpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmZvcmNlRGlzYWJsZUxvYWRpbmcgJiZcclxuICAgICAgICAgICAgKHRoaXMubWVzc2FnZUdyb3VwRGV0YWlscyA9PT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VHcm91cERldGFpbHMubWVzc2FnZXMgPT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMubWVzc2FnZUdyb3VwRGV0YWlscy5tZXNzYWdlcy5jb3VudCgpID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnNlbGVjdGVkTXNnRGV0YWlscyA9PT0gbnVsbCB8fCB0aGlzLnN0YXRlLmlzT3BlbmluZ1Jlc3BvbnNlKSkpKSB7XHJcbiAgICAgICAgICAgIGxldCBsb2FkaW5nVGV4dEtleSA9IHRoaXMuc3RhdGUuaXNPcGVuaW5nUmVzcG9uc2UgPyAnbG9hZFJlc3BvbnNlSW5NZXNzYWdlJyA6ICdsb2FkaW5nTW9kdWxlcyc7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWVzc2FnZS1sb2FkZXIgdmVydGljYWwtbWlkZGxlIGxvYWRpbmcnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbG9hZGVyIG1pZGRsZS1jb250ZW50Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdkb3QnPjwvc3Bhbj4gPHNwYW4gY2xhc3NOYW1lPSdkb3QnPjwvc3Bhbj4gPHNwYW4gY2xhc3NOYW1lPSdkb3QnPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2xvYWRpbmctdGV4dCBwYWRkaW5nLXRvcC0zMCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYWxlU3RvcmUuaW5zdGFuY2UuVHJhbnNsYXRlVGV4dCgnZ2VuZXJpYy5idXN5LWluZGljYXRvci4nICsgbG9hZGluZ1RleHRLZXkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGNhbGwgb24gbmV3IG1lc3NhZ2UgYnV0dG9uIGNsaWNrXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25OZXdNZXNzYWdlQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gY2hlY2sgb25saW5lIHN0YXR1cyBiZWZvcmUgcHJvY2VlZFxyXG4gICAgICAgIHRoaXMuY2hlY2tPbmxpbmVTdGF0dXNBbmREb01lc3NhZ2VBY3Rpb24oZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hDb21wb3NlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGNhbGwgd2hlbiBjb21wb3NpbmcgbmV3IG1lc3NhZ2Ugd2hpbGUgc3lzdGVtIGlzIGluIG9ubGluZSBtb2RlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25OZXdNZXNzYWdlQ2xpY2tlZCgpIHtcclxuICAgICAgICBpZiAoIW1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5pc01lc3NhZ2VQYW5lbEFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0TWVzc2FnZVBvcHVwKGVudW1zLlNhdmVBbmROYXZpZ2F0ZS5uZXdNZXNzYWdlQnV0dG9uQ2xpY2spO1xyXG4gICAgICAgICAgICB0aGlzLmlzTWVzc2FnZVBvcHVwVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUWlnSXRlbUlkICYmIHRoaXMuc2VsZWN0ZWRRaWdJdGVtSWQgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZFFpZ0l0ZW0gPSB0aGlzLnFpZ0xpc3RJdGVtcy5maWx0ZXIoKHg6IEl0ZW0pID0+IHguaWQgPT09IHRoaXMuc2VsZWN0ZWRRaWdJdGVtSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUWlnSXRlbSAmJiBzZWxlY3RlZFFpZ0l0ZW0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBxaWdJZDogbnVtYmVyID0gdGhpcy5zZWxlY3RlZFFpZ0l0ZW1JZDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXhhbWluZXJSb2xlSWQ6IG51bWJlciA9IHNlbGVjdGVkUWlnSXRlbVswXS5leGFtaW5lclJvbGVJZDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYXJnczogdGVhbUFyZ3VtZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFtaW5lclJvbGVJZDogZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHFpZ0lkOiBxaWdJZFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5nZXRUZWFtRGV0YWlscyhhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VOYXZpZ2F0aW9uRmFpbHVyZVJlYXNvbnM6IEFycmF5PGVudW1zLlJlc3BvbnNlTmF2aWdhdGVGYWlsdXJlUmVhc29uPiA9XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nSGVscGVyLmNhbk5hdmlnYXRlQXdheUZyb21DdXJyZW50UmVzcG9uc2UoKTtcclxuICAgICAgICAgICAgcG9wdXBIZWxwZXIubmF2aWdhdGVBd2F5RnJvbVJlc3BvbnNlKHJlc3BvbnNlTmF2aWdhdGlvbkZhaWx1cmVSZWFzb25zLCBlbnVtcy5TYXZlQW5kTmF2aWdhdGUubmV3TWVzc2FnZUJ1dHRvbkNsaWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmb3IgbWVzc2FnZSBwYW5lbCBjbG9zZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uQ2xvc2VNZXNzYWdlUG9wdXAgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc01lc3NhZ2VQb3B1cFZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzUmVwbHlPckZvcndhcmRDbGlja2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50TWVzc2FnZVR5cGUgPSBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveENvbXBvc2U7XHJcbiAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5tZXNzYWdlQWN0aW9uKGVudW1zLk1lc3NhZ2VWaWV3QWN0aW9uLkNsb3NlKTtcclxuXHJcbiAgICAgICAgLyogRGVmZWN0OjI0NjA4IC0gc2V0aW5nIGZvY3VzIGJhY2sgdG8gc3ViamVjdCBvbiBtZXNzYWdlIGNsb3NlIGZvciBmaXhpbmcgY3Vyc29yIGFuZCBvbnNjcmVlbiBrZXlib2FyZCBkaXNwbGF5aW5nIGlzc3VlIGluIGlwYWQgKi9cclxuICAgICAgICBpZiAoaHRtbFV0aWxpdGllcy5pc0lQYWREZXZpY2UpIHtcclxuICAgICAgICAgICAgaHRtbFV0aWxpdGllcy5zZXRGb2N1c1RvRWxlbWVudCgnbWVzc2FnZS1zdWJqZWN0Jyk7XHJcbiAgICAgICAgICAgIGh0bWxVdGlsaXRpZXMuYmx1ckVsZW1lbnQoJ21lc3NhZ2Utc3ViamVjdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBzZWxlY3RlZCB0YWIgaXMgc2VudCB0aGVuIHVwZGF0ZSB0aGUgbWVzc2FnZSBmb2xkZXJcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFRhYiA9PT0gZW51bXMuTWVzc2FnZUZvbGRlclR5cGUuU2VudCkge1xyXG4gICAgICAgICAgICAvLyBMb2FkIHRoZSBtZXNzYWdlc1xyXG4gICAgICAgICAgICB0aGlzLmdldE1lc3NhZ2VzRm9yVGhlU2VsZWN0ZWRUYWIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBzZWxlY3Rpb24gY2hhbmdlZCBpbiBtZXNzYWdlcy5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk1lc3NhZ2VDbGljayA9IChuZXdseVNlbGVjdGVkTXNnOiBNZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc01lc3NhZ2VDbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICAvL0RlZmVjdEZpeDojNjU0MTcgQ2hlY2tpbmcgdGhlIG9ubGluZSBzdGF0dXMsIG90aGVyd2lzZSBhIGJsYW5rIHNjcmVlbiB3aWxsIGJlIHNob3duIGluIHJpZ2h0IHBhbmVsXHJcbiAgICAgICAgaWYgKCFhcHBsaWNhdGlvblN0b3JlLmluc3RhbmNlLmlzT25saW5lKSB7XHJcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uQWN0aW9uQ3JlYXRvci5jaGVja0FjdGlvbkludGVycnVwdGVkKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBJdGVtIGlzIFVucmVhZCwgVXBkYXRlIHRoZSBjb2xsZWN0aW9uIGZvciB1cGRhdGluZyB0aGUgUUlHIGdyb3VwIHVucmVhZCBtZXNzYWdlIGNvdW50XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTXNnLnN0YXR1cyA9PT0gZW51bXMuTWVzc2FnZVJlYWRTdGF0dXMuTmV3KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZXNGb3JHcm91cGluZzogaW1tdXRhYmxlLkxpc3Q8TWVzc2FnZT4gPSB0aGlzLmZpbHRlcmVkTWVzc2FnZXM7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hEYXRhLnNlYXJjaFRleHQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSByZWFkIHN0YXR1cyBvZiBwcmV2aW91cyBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZWFkU3RhdHVzKHRoaXMuc2VsZWN0ZWRNc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgY29sbGVjdGlvbiB3aXRoIHJlYWQgc3RhdHVzIHRvIHJlZmxlY3QgdGhlIGNoYW5nZXMgaW4gdmlldywgb3RoZXJ3aXNlIGl0IHdvbid0IHVwZGF0ZSBkdWUgdG8gZGVsYXlcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbiBhY3Rpb24gY3JlYXRvciBjYWxsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNGb3JHcm91cGluZy5maWx0ZXIoKHg6IE1lc3NhZ2UpID0+IHguZXhhbWluZXJNZXNzYWdlSWQgPT09IHRoaXMuc2VsZWN0ZWRNc2cuZXhhbWluZXJNZXNzYWdlSWQpLmZpcnN0KCkuc3RhdHVzID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bXMuTWVzc2FnZVJlYWRTdGF0dXMuUmVhZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZUdyb3VwRGV0YWlscyA9IG1lc3NhZ2VIZWxwZXIuZ2V0R3JvdXBlZE1lc3NhZ2VPYmplY3QobWVzc2FnZXNGb3JHcm91cGluZywgdGhpcy5leHBhbmRPckNvbGxhcHNlRGV0YWlscyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5vdGlmaWNhdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJlZmxlY3QgdGhlIHJlYWQgc3RhdHVzIGN1cnJlbnQgbWVzc2FnZSBpbiBVSSB1bnRpbGwgdG8gY2xpY2sgb24gYW5vdGhlciBtZXNzYWdlIG9yIG5hdmlnYXRlIGF3YXkuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaERhdGEuc2VhcmNoVGV4dCAhPT0gJycgJiYgbmV3bHlTZWxlY3RlZE1zZy5zdGF0dXMgPT09IGVudW1zLk1lc3NhZ2VSZWFkU3RhdHVzLk5ldykge1xyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSByZWFkIHN0YXR1cyBvZiBjdXJyZW50IG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmVhZFN0YXR1cyhuZXdseVNlbGVjdGVkTXNnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZyA9IG5ld2x5U2VsZWN0ZWRNc2c7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNc2dEZXRhaWxzID0gbnVsbDtcclxuICAgICAgICAgICAgbWVzc2FnaW5nQWN0aW9uQ3JlYXRvci5nZXRNZXNzYWdlQm9keURldGFpbHModGhpcy5zZWxlY3RlZE1zZy5leGFtaW5lck1lc3NhZ2VJZCwgdGhpcy5zZWxlY3RlZFRhYik7XHJcbiAgICAgICAgICAgIC8vIFJlZnJlc2ggdGhlIFVJLlxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEludm9rZWQgV2hlbiB0aGUgbWVzc2FnZSB0YWIgc2VsZWN0ZWQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25UYWJTZWxlY3RlZCA9IChtZXNzYWdlRm9sZGVyVHlwZTogZW51bXMuTWVzc2FnZUZvbGRlclR5cGUpID0+IHtcclxuICAgICAgICBpZiAoIWFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUpIHtcclxuICAgICAgICAgICAgYXBwbGljYXRpb25BY3Rpb25DcmVhdG9yLmNoZWNrQWN0aW9uSW50ZXJydXB0ZWQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGFiID0gbWVzc2FnZUZvbGRlclR5cGU7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHZhbHVlcyBmb3IgdGhlIG5ldyB0YWIuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNc2cgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNc2dEZXRhaWxzID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlR3JvdXBEZXRhaWxzLm1lc3NhZ2VzID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nZXRNZXNzYWdlc0ZvclRoZVNlbGVjdGVkVGFiKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBNZXNzYWdlcyBmb3IgdGhlIHNlbGVjdGVkIHRhYlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldE1lc3NhZ2VzRm9yVGhlU2VsZWN0ZWRUYWIoKSB7XHJcbiAgICAgICAgbGV0IGNhblJlZnJlc2g6IGJvb2xlYW4gPSB0aGlzLnNlbGVjdGVkVGFiID09PSBlbnVtcy5NZXNzYWdlRm9sZGVyVHlwZS5EZWxldGVkID8gbWVzc2FnZVN0b3JlLmluc3RhbmNlLmlzTWVzc2FnZURlbGV0ZWQoKSA6IGZhbHNlO1xyXG4gICAgICAgIGNhblJlZnJlc2ggPSAodGhpcy5zZWxlY3RlZFRhYiA9PT0gZW51bXMuTWVzc2FnZUZvbGRlclR5cGUuSW5ib3gpIHx8ICh0aGlzLnNlbGVjdGVkVGFiID09PSBlbnVtcy5NZXNzYWdlRm9sZGVyVHlwZS5TZW50KSA/XHJcbiAgICAgICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5pc01lc3NhZ2VEYXRhUmVxdWlyZVVwZGF0aW9uIDogY2FuUmVmcmVzaDtcclxuICAgICAgICBsZXQgYXJnczogbG9hZE1lc3NhZ2VBcmd1bWVudHMgPSB7XHJcbiAgICAgICAgICAgIHJlY2VudE1lc3NhZ2VUaW1lOiBudWxsLFxyXG4gICAgICAgICAgICBtZXNzYWdlRm9sZGVyVHlwZTogdGhpcy5zZWxlY3RlZFRhYixcclxuICAgICAgICAgICAgZm9yY2VMb2FkTWVzc2FnZXM6IChjYW5SZWZyZXNoXHJcbiAgICAgICAgICAgICAgICB8fCBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuaXNOZXdFeGFtaW5lclJvbGVDcmVhdGVkXHJcbiAgICAgICAgICAgICAgICB8fCBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuaXNVbnJlYWRNYW5kYXRvcnlNZXNzYWdlUHJlc2VudCksXHJcbiAgICAgICAgICAgIGhpZGRlblFpZ0xpc3Q6IHFpZ1N0b3JlLmluc3RhbmNlLkhpZGRlblFJR3NcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLmdldE1lc3NhZ2VzKGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIEdldCB0aGUgTWVzc2FnZXMgZm9yIHRoZSBzZWxlY3RlZCB0YWJcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRNZXNzYWdlc0ZvckluYm94T25EZWxldGlvbigpIHtcclxuICAgICAgICBsZXQgYXJnczogbG9hZE1lc3NhZ2VBcmd1bWVudHMgPSB7XHJcbiAgICAgICAgICAgIHJlY2VudE1lc3NhZ2VUaW1lOiBudWxsLFxyXG4gICAgICAgICAgICBtZXNzYWdlRm9sZGVyVHlwZTogZW51bXMuTWVzc2FnZUZvbGRlclR5cGUuSW5ib3gsXHJcbiAgICAgICAgICAgIGZvcmNlTG9hZE1lc3NhZ2VzOiBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuaXNNZXNzYWdlRGF0YVJlcXVpcmVVcGRhdGlvbixcclxuICAgICAgICAgICAgaGlkZGVuUWlnTGlzdDogcWlnU3RvcmUuaW5zdGFuY2UuSGlkZGVuUUlHc1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IuZ2V0TWVzc2FnZXMoYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWRpcmVjdCB0byB0aGUgc3RhcnQgcGFnZSBpZiBub3QgYXV0aGVudGljYXRlZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29tcG9uZW50V2lsbE1vdW50KCkge1xyXG4gICAgICAgIGlmICghbG9naW5TZXNzaW9uLklTX0FVVEhFTlRJQ0FURUQpIHtcclxuICAgICAgICAgICAgbmF2aWdhdGlvbkhlbHBlci5sb2FkTG9naW5QYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBDb21wYXJpbmcgdGhlIHByb3BzIHRvIGNoZWNrIHRoZSB1cGRhdHMgYXJlIG1hZGUgYnkgc2VsZlxyXG5cdCAqIEBwYXJhbSBuZXh0UHJvcHNcclxuXHQgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wczogUHJvcHMpIHtcclxuXHJcbiAgICAgICAgLy8gSWYgY3VycmVudCBvbmxpbmUgc3RhdHVzIGlmIG9mZmxpbmVcclxuICAgICAgICAvLyBhbmQgYXBwbGljYXRpb24gaXMgZ2V0dGluZyBvbmxpbmUgbm93LCB0aGVuIGlmIHdlIGhhdmUgYWxyZWFkeSBhIGxvYWRpbmcgaW5kaWNhdG9yXHJcbiAgICAgICAgLy8gdmlzaWJsZSBiZWZvcmUgdGhlIGFwcGxpY2F0aW9uIGdvZXMgb2ZmbGluZSB0aGVuIHJlbXZvZSB0aGUgbG9hZGluZyBpbmRpY2F0b3IuXHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmlzT25saW5lICYmIG5leHRQcm9wcy5pc09ubGluZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzTG9hZGluZ0RhdGFGYWlsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byBsb2FkIGRlcGVuZGVuY2llc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGRlcGVuZGVuY2llc0xvYWRlZCgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2NyaXB0TG9hZGVkOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIGxvYWQgdGhlIG1vZHVsZXMgcmVxdWlyZWQgZm9yIE1lc3NhZ2VDb250YWluZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvYWREZXBlbmRlbmNpZXNBbmRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIGxvYWQgdGhlIG1vZHVsZXMgcmVxdWlyZWQgZm9yIE1lc3NhZ2VDb250YWluZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuXHJcbiAgICAgICAgLy8gVGhpcyB3aWxsIHJlc2V0IHRoZSBmYWlsZWQgZGF0YSBvbmx5IGluIG9ubGluZSB0b1xyXG4gICAgICAgIC8vIHByZXZlbnQgbG9hZGluZyBpbmRpY2F0b3Igc3Bpbm5pbmcgaW5pZmludGUgdGltZVxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlzT25saW5lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nRGF0YUZhaWxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wb25lbnQgd2lsbCB1bm1vdW50XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gbnVsbCB8fCAhdGhpcy5zdGF0ZS5tb2R1bGVzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICBtZXNzYWdlSGVscGVyLnJlbW92ZUluaXRNb3VzZUNsaWNrRXZlbnRTY3JpcHRCbG9jaygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIFRoaXMgd2lsbCBsb2FkIHRoZSBkZXBlbmRlbmNpZXMgZHluYW1pY2FsbHkgZHVyaW5nIGNvbXBvbmVudCBtb3VudC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBsb2FkRGVwZW5kZW5jaWVzQW5kRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgbGV0IGVuc3VyZVByb21pc2U6IGFueSA9IHJlcXVpcmUuZW5zdXJlKFsnLi4vdXRpbGl0eS9uYXZpZ2F0aW9uL25hdmlnYXRpb25oZWxwZXInLFxyXG4gICAgICAgICAgICAnLi9ub3RpZmljYXRpb25jb3VudCcsXHJcbiAgICAgICAgICAgICcuL21lc3NhZ2VsZWZ0cGFuZWwnLCAnLi9tZXNzYWdlcmlnaHRwYW5lbCcsXHJcbiAgICAgICAgICAgICcuL21lc3NhZ2V0YWJpdGVtJywgJy4uLy4uL3N0b3Jlcy9tZXNzYWdlL21lc3NhZ2VzdG9yZScsXHJcbiAgICAgICAgICAgICcuLi8uLi9zdG9yZXMvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzL2NvbmZpZ3VyYWJsZWNoYXJhY3RlcmlzdGljc3N0b3JlJywgJy4vbWVzc2FnZXBvcHVwJyxcclxuICAgICAgICAgICAgJy4uLy4uL2FjdGlvbnMvbWVzc2FnaW5nL21lc3NhZ2luZ2FjdGlvbmNyZWF0b3InLCAnLi4vdXRpbGl0eS9nZW5lcmljYnV0dG9uJywgJy4uLy4uL3V0aWxpdHkvc3RyaW5nZm9ybWF0L3N0cmluZ2Zvcm1hdGhlbHBlcicsXHJcbiAgICAgICAgICAgICcuLi91dGlsaXR5L21lc3NhZ2UvbWVzc2FnZWhlbHBlcicsXHJcbiAgICAgICAgICAgICcuLi9oZWFkZXInLFxyXG4gICAgICAgICAgICAnLi4vLi4vYWN0aW9ucy9wb3B1cGRpc3BsYXkvcG9wdXBkaXNwbGF5YWN0aW9uY3JlYXRvcicsXHJcbiAgICAgICAgICAgICcuLi91dGlsaXR5L3BvcHVwL3BvcHVwaGVscGVyJyxcclxuICAgICAgICAgICAgJy4uLy4uL3V0aWxpdHkvbWFya3NjaGVtZS9tYXJraW5naGVscGVyJywgJy4uL3V0aWxpdHkvY29uZmlybWF0aW9uZGlhbG9nJyxcclxuICAgICAgICAgICAgJy4uLy4uL3V0aWxpdHkvcmVzcG9uc2VzZWFyY2gvcmVzcG9uc2VzZWFyY2hoZWxwZXInLFxyXG4gICAgICAgICAgICAnLi4vLi4vc3RvcmVzL3Jlc3BvbnNlL3Jlc3BvbnNlc3RvcmUnLFxyXG4gICAgICAgICAgICAnLi4vLi4vYWN0aW9ucy9yZXNwb25zZS9yZXNwb25zZWFjdGlvbmNyZWF0b3InLCAnLi4vdXRpbGl0eS9tZXNzYWdlL21lc3NhZ2V0cmFuc2xhdGlvbmhlbHBlcicsXHJcbiAgICAgICAgICAgICcuLi91dGlsaXR5L2dlbmVyaWNkaWFsb2cnLCAnLi4vLi4vc3RvcmVzL25hdmlnYXRpb24vbmF2aWdhdGlvbnN0b3JlJywgJy4uLy4uL2FjdGlvbnMvdXNlcmluZm8vdXNlcmluZm9hY3Rpb25jcmVhdG9yJyxcclxuICAgICAgICAgICAgJy4uLy4uL3N0b3Jlcy9xaWdzZWxlY3Rvci9xaWdzdG9yZScsICcuLi8uLi9zdG9yZXMvdXNlcmluZm8vdXNlcmluZm9zdG9yZScsICcuLi8uLi91dGlsaXR5L2dlbmVyaWMvaHRtbHV0aWxpdGllcycsXHJcbiAgICAgICAgICAgICcuLi8uLi9kYXRhc2VydmljZXMvYmFzZS91cmxzJ10sXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uSGVscGVyID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9uYXZpZ2F0aW9uL25hdmlnYXRpb25oZWxwZXInKTtcclxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkNvdW50ID0gcmVxdWlyZSgnLi9ub3RpZmljYXRpb25jb3VudCcpO1xyXG4gICAgICAgICAgICAgICAgTWVzc2FnZUxlZnRQYW5lbCA9IHJlcXVpcmUoJy4vbWVzc2FnZWxlZnRwYW5lbCcpO1xyXG4gICAgICAgICAgICAgICAgTWVzc2FnZVJpZ2h0UGFuZWwgPSByZXF1aXJlKCcuL21lc3NhZ2VyaWdodHBhbmVsJyk7XHJcbiAgICAgICAgICAgICAgICBNZXNzYWdlVGFiSXRlbSA9IHJlcXVpcmUoJy4vbWVzc2FnZXRhYml0ZW0nKTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9tZXNzYWdlL21lc3NhZ2VzdG9yZScpO1xyXG4gICAgICAgICAgICAgICAgY2NTdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9jb25maWd1cmFibGVjaGFyYWN0ZXJpc3RpY3MvY29uZmlndXJhYmxlY2hhcmFjdGVyaXN0aWNzc3RvcmUnKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsZVN0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL2xvY2FsZS9sb2NhbGVzdG9yZScpO1xyXG4gICAgICAgICAgICAgICAgTWVzc2FnZVBvcHVwID0gcmVxdWlyZSgnLi9tZXNzYWdlcG9wdXAnKTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IgPSByZXF1aXJlKCcuLi8uLi9hY3Rpb25zL21lc3NhZ2luZy9tZXNzYWdpbmdhY3Rpb25jcmVhdG9yJyk7XHJcbiAgICAgICAgICAgICAgICBHZW5lcmljQnV0dG9uID0gcmVxdWlyZSgnLi4vdXRpbGl0eS9nZW5lcmljYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmdGb3JtYXRIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L3N0cmluZ2Zvcm1hdC9zdHJpbmdmb3JtYXRoZWxwZXInKTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L21lc3NhZ2UvbWVzc2FnZWhlbHBlcicpO1xyXG4gICAgICAgICAgICAgICAgSGVhZGVyID0gcmVxdWlyZSgnLi4vaGVhZGVyJyk7XHJcbiAgICAgICAgICAgICAgICBwb3BVcERpc3BsYXlBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9wb3B1cGRpc3BsYXkvcG9wdXBkaXNwbGF5YWN0aW9uY3JlYXRvcicpO1xyXG4gICAgICAgICAgICAgICAgcG9wdXBIZWxwZXIgPSByZXF1aXJlKCcuLi91dGlsaXR5L3BvcHVwL3BvcHVwaGVscGVyJyk7XHJcbiAgICAgICAgICAgICAgICBtYXJraW5nSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbGl0eS9tYXJrc2NoZW1lL21hcmtpbmdoZWxwZXInKTtcclxuICAgICAgICAgICAgICAgIENvbmZpcm1hdGlvbkRpYWxvZyA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvY29uZmlybWF0aW9uZGlhbG9nJyk7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVNlYXJjaEhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxpdHkvcmVzcG9uc2VzZWFyY2gvcmVzcG9uc2VzZWFyY2hoZWxwZXInKTtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RvcmUgPSByZXF1aXJlKCcuLi8uLi9zdG9yZXMvcmVzcG9uc2UvcmVzcG9uc2VzdG9yZScpO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VBY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy9yZXNwb25zZS9yZXNwb25zZWFjdGlvbmNyZWF0b3InKTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VUcmFuc2xhdGlvbkhlbHBlciA9IHJlcXVpcmUoJy4uL3V0aWxpdHkvbWVzc2FnZS9tZXNzYWdldHJhbnNsYXRpb25oZWxwZXInKTtcclxuICAgICAgICAgICAgICAgIEdlbmVyaWNEaWFsb2cgPSByZXF1aXJlKCcuLi91dGlsaXR5L2dlbmVyaWNkaWFsb2cnKTtcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25TdG9yZSA9IHJlcXVpcmUoJy4uLy4uL3N0b3Jlcy9uYXZpZ2F0aW9uL25hdmlnYXRpb25zdG9yZScpO1xyXG4gICAgICAgICAgICAgICAgdXNlckluZm9BY3Rpb25DcmVhdG9yID0gcmVxdWlyZSgnLi4vLi4vYWN0aW9ucy91c2VyaW5mby91c2VyaW5mb2FjdGlvbmNyZWF0b3InKTtcclxuICAgICAgICAgICAgICAgIHFpZ1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3FpZ3NlbGVjdG9yL3FpZ3N0b3JlJyk7XHJcbiAgICAgICAgICAgICAgICB1c2VySW5mb1N0b3JlID0gcmVxdWlyZSgnLi4vLi4vc3RvcmVzL3VzZXJpbmZvL3VzZXJpbmZvc3RvcmUnKTtcclxuICAgICAgICAgICAgICAgIGh0bWxVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi8uLi91dGlsaXR5L2dlbmVyaWMvaHRtbHV0aWxpdGllcycpO1xyXG4gICAgICAgICAgICAgICAgdXJscyA9IHJlcXVpcmUoJy4uLy4uL2RhdGFzZXJ2aWNlcy9iYXNlL3VybHMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBNZXNzYWdlIGNvbnRhaW5lciwgbGVhdmVzIHRoZSBvcGVyYXRpb24gbW9kZS4gUmVzZXQgdGhlIG9wZXJhdGlvbnMgbW9kZS5cclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvQWN0aW9uQ3JlYXRvci5jaGFuZ2VPcGVyYXRpb25Nb2RlKGVudW1zLk1hcmtlck9wZXJhdGlvbk1vZGUuTWFya2luZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTG9hZCB0aGUgbWVzc2FnZXNcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TWVzc2FnZXNGb3JUaGVTZWxlY3RlZFRhYigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGZpbGwgcWlnIGl0ZW1zXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFFpZ0l0ZW1zTGlzdCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIHNlbGVjdGVkIGl0ZW1cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2VsZWN0ZWRRaWdEZXRhaWxzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkVGlueU1DRSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VIZWxwZXIuYWRkSW5pdE1vdXNlQ2xpY2tFdmVudFNjcmlwdEJsb2NrKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZHVsZXNMb2FkZWQ6IHRydWUgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaG9vayBhbGwgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICBlbnN1cmVQcm9taXNlLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0T2ZmbGluZUNvbnRhaW5lcih0cnVlLCB0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgVHlueSBNQ0VcclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIE1lc3NhZ2VDb250YWluZXJcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBsb2FkVGlueU1DRSgpIHtcclxuICAgICAgICBsZXQgdXJsOiBzdHJpbmcgPSBodG1sVXRpbGl0aWVzLmdldEZ1bGxVcmwodXJscy5USU5ZTUNFX1VSTCk7XHJcbiAgICAgICAgLy8gSWYgdGlueU1DRSBzY3JpcHQgaXMgbm90IGxvYWRlZCB0aGVuIGxvYWQgdGhhdFxyXG4gICAgICAgIGlmICghaHRtbFV0aWxpdGllcy5pc1NjcmlwdExvYWRlZCh1cmwpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAgICAgICAgICBzY3JpcHQuc3JjID0gdXJsO1xyXG4gICAgICAgICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xyXG4gICAgICAgICAgICBzY3JpcHQub25sb2FkID0gKHRoaXMuZGVwZW5kZW5jaWVzTG9hZGVkLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXNMb2FkZWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2QgdG8gYWRkIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfUkVDRUlWRUQsIHRoaXMub25NZXNzYWdlc1JlY2VpdmVkKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX0RFVEFJTFNfUkVDRUlWRUQsIHRoaXMub25NZXNzYWdlRGV0YWlsc1JlY2VpdmVkKTtcclxuICAgICAgICBjY1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKGNjU3RvcmUuQ29uZmlndXJhYmxlQ2hhcmFjdGVyaXN0aWNzU3RvcmUuRVhBTV9CT0RZX0NDX0dFVCwgdGhpcy5vblJlUmVuZGVyKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5VUERBVEVfTk9USUZJQ0FUSU9OX1RSSUdHRVJFRF9FVkVOVCwgdGhpcy5vblJlUmVuZGVyKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5TRU5EX01FU1NBR0VfU1VDQ0VTU19FVkVOVCwgdGhpcy5vbkNsb3NlTWVzc2FnZVBvcHVwKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5SRUZSRVNIX01FU1NBR0VfVEFCLCB0aGlzLm9uUmVmcmVzaE1lc3NhZ2VUYWIpO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfREVMRVRFX0VWRU5ULCB0aGlzLnVwZGF0ZU1lc3NhZ2VEZWxldGVkU3RhdHVzKTtcclxuICAgICAgICByZXNwb25zZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKHJlc3BvbnNlU3RvcmUuUmVzcG9uc2VTdG9yZS5SRVNQT05TRV9PUEVORUQsIHRoaXMubmF2aWdhdGVUb1Jlc3BvbnNlUGFnZSk7XHJcbiAgICAgICAgcmVzcG9uc2VTZWFyY2hIZWxwZXIuYWRkUmVzcG9uc2VTZWFyY2hFdmVudHMoKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5VUERBVEVfTk9USUZJQ0FUSU9OX1RSSUdHRVJFRF9FVkVOVCwgdGhpcy51cGRhdGVOb3RpZmljYXRpb24pO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLk1FU1NBR0VfTkFWSUdBVElPTl9FVkVOVCwgdGhpcy5vcGVuU2VhcmNoZWRSZXNwb25zZSk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuUkVTUE9OU0VfREFUQV9SRUNFSVZFRF9FVkVOVCxcclxuICAgICAgICAgICAgdGhpcy5pbml0aWF0ZVNlcmFjaFJlc3BvbnNlKTtcclxuICAgICAgICB1c2VySW5mb1N0b3JlLmluc3RhbmNlLmFkZExpc3RlbmVyKHVzZXJJbmZvU3RvcmUuVXNlckluZm9TdG9yZS5TSE9XX0xPR09VVF9QT1BVUF9FVkVOVCwgdGhpcy5sb2dvdXRDb25maXJtYXRpb24pO1xyXG4gICAgICAgIG5hdmlnYXRpb25TdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihuYXZpZ2F0aW9uU3RvcmUuTmF2aWdhdGlvblN0b3JlLk1FTlVfVklTSUJJTElUWV9FVkVOVCwgdGhpcy5vbk1lbnVPcGVuKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5SRVNQT05TRV9EQVRBX1JFQ0VJVkVEX0ZBSUxFRF9FVkVOVCwgdGhpcy5vblJlc3BvbnNlRGF0YVJlY2VpdmVkRmFpbGVkKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UuYWRkTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX0RFVEFJTFNfUkVDRUlWRURfRkFJTEVELCB0aGlzLm9uTWVzc2FnZURldGFpbHNSZWNlaXZlZEZhaWxlZCk7XHJcbiAgICAgICAgYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcihhcHBsaWNhdGlvblN0b3JlLkFwcGxpY2F0aW9uU3RvcmUuT05MSU5FX1NUQVRVU19VUERBVEVEX0VWRU5ULCB0aGlzLm9uT25saW5lU3RhdHVzVXBkYXRlZCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWV0aG9kIHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lcnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZW1vdmVFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX1JFQ0VJVkVELCB0aGlzLm9uTWVzc2FnZXNSZWNlaXZlZCk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuTUVTU0FHRV9ERVRBSUxTX1JFQ0VJVkVELCB0aGlzLm9uTWVzc2FnZURldGFpbHNSZWNlaXZlZCk7XHJcbiAgICAgICAgY2NTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihjY1N0b3JlLkNvbmZpZ3VyYWJsZUNoYXJhY3RlcmlzdGljc1N0b3JlLkVYQU1fQk9EWV9DQ19HRVQsIHRoaXMub25SZVJlbmRlcik7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuVVBEQVRFX05PVElGSUNBVElPTl9UUklHR0VSRURfRVZFTlQsIHRoaXMub25SZVJlbmRlcik7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuU0VORF9NRVNTQUdFX1NVQ0NFU1NfRVZFTlQsIHRoaXMub25DbG9zZU1lc3NhZ2VQb3B1cCk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuUkVGUkVTSF9NRVNTQUdFX1RBQiwgdGhpcy5vblJlZnJlc2hNZXNzYWdlVGFiKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX0RFTEVURV9FVkVOVCwgdGhpcy51cGRhdGVNZXNzYWdlRGVsZXRlZFN0YXR1cyk7XHJcbiAgICAgICAgcmVzcG9uc2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihyZXNwb25zZVN0b3JlLlJlc3BvbnNlU3RvcmUuUkVTUE9OU0VfT1BFTkVELCB0aGlzLm5hdmlnYXRlVG9SZXNwb25zZVBhZ2UpO1xyXG4gICAgICAgIHJlc3BvbnNlU2VhcmNoSGVscGVyLnJlbW92ZVJlc3BvbnNlU2VhcmNoRXZlbnRzKCk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuVVBEQVRFX05PVElGSUNBVElPTl9UUklHR0VSRURfRVZFTlQsIHRoaXMudXBkYXRlTm90aWZpY2F0aW9uKTtcclxuICAgICAgICBtZXNzYWdlU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIobWVzc2FnZVN0b3JlLk1lc3NhZ2VTdG9yZS5NRVNTQUdFX05BVklHQVRJT05fRVZFTlQsIHRoaXMub3BlblNlYXJjaGVkUmVzcG9uc2UpO1xyXG4gICAgICAgIG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcihtZXNzYWdlU3RvcmUuTWVzc2FnZVN0b3JlLlJFU1BPTlNFX0RBVEFfUkVDRUlWRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdGVTZXJhY2hSZXNwb25zZSk7XHJcbiAgICAgICAgdXNlckluZm9TdG9yZS5pbnN0YW5jZS5yZW1vdmVMaXN0ZW5lcih1c2VySW5mb1N0b3JlLlVzZXJJbmZvU3RvcmUuU0hPV19MT0dPVVRfUE9QVVBfRVZFTlQsIHRoaXMubG9nb3V0Q29uZmlybWF0aW9uKTtcclxuICAgICAgICBuYXZpZ2F0aW9uU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIobmF2aWdhdGlvblN0b3JlLk5hdmlnYXRpb25TdG9yZS5NRU5VX1ZJU0lCSUxJVFlfRVZFTlQsIHRoaXMub25NZW51T3Blbik7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuUkVTUE9OU0VfREFUQV9SRUNFSVZFRF9GQUlMRURfRVZFTlQsXHJcbiAgICAgICAgICAgIHRoaXMub25SZXNwb25zZURhdGFSZWNlaXZlZEZhaWxlZCk7XHJcbiAgICAgICAgbWVzc2FnZVN0b3JlLmluc3RhbmNlLnJlbW92ZUxpc3RlbmVyKG1lc3NhZ2VTdG9yZS5NZXNzYWdlU3RvcmUuTUVTU0FHRV9ERVRBSUxTX1JFQ0VJVkVEX0ZBSUxFRCxcclxuICAgICAgICAgICAgdGhpcy5vbk1lc3NhZ2VEZXRhaWxzUmVjZWl2ZWRGYWlsZWQpO1xyXG4gICAgICAgIGFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UucmVtb3ZlTGlzdGVuZXIoYXBwbGljYXRpb25TdG9yZS5BcHBsaWNhdGlvblN0b3JlLk9OTElORV9TVEFUVVNfVVBEQVRFRF9FVkVOVCwgdGhpcy5vbk9ubGluZVN0YXR1c1VwZGF0ZWQpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCB0byByZWRpcmVjdCB0byB3b3JrbGlzdCBwYWdlIG9uIGNsaWNraW5nIGJ1dHRvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHJlbmRlcldvcmtMaXN0UGFnZSgpIHtcclxuICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLm5hdmlnYXRlVG9Xb3JrbGlzdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhpcyB3aWxsIHNob3dzIHRoZSBjb25maXJtYXRpb24gcG9wdXAgb24gbG9nb3V0IGJhc2VkIG9uIHRoZSBhc2sgb24gbG9nb3V0IHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNob3dMb2dvdXRDb25maXJtYXRpb24obG9nb3V0OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9nb3V0Q29uZmlybWF0aW9uUG9wdXBEaXNwbGF5aW5nOiBsb2dvdXQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBhY3Rpb24gZXZlbnQgb24gTWVzc2FnZSBSZWNlaXZlZC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvbk1lc3NhZ2VzUmVjZWl2ZWQgPSAoc2VsZWN0ZWRNc2dJZDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hEYXRhLmlzVmlzaWJsZSA9IHRoaXMuc2VsZWN0ZWRUYWIgPT09IGVudW1zLk1lc3NhZ2VGb2xkZXJUeXBlLkluYm94O1xyXG4gICAgICAgIGlmICh0aGlzLnNlYXJjaERhdGEuaXNTZWFyY2hpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hEYXRhLmlzU2VhcmNoaW5nID0gdGhpcy5zZWFyY2hEYXRhLnNlYXJjaFRleHQgPT09ICcnID8gdW5kZWZpbmVkIDogZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWVzc2FnZUdyb3VwRGV0YWlscyA9IG1lc3NhZ2VIZWxwZXIuZ2V0R3JvdXBlZE1lc3NhZ2VPYmplY3QodGhpcy5maWx0ZXJlZE1lc3NhZ2VzLCB0aGlzLmV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZU5vdGlmaWNhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZ2V0UWlnSXRlbXNMaXN0KCk7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkTXNnSWQgPiAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2VHcm91cERldGFpbHMgJiYgdGhpcy5tZXNzYWdlR3JvdXBEZXRhaWxzLm1lc3NhZ2VzLmNvdW50KCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTXNnID0gdGhpcy5tZXNzYWdlR3JvdXBEZXRhaWxzLm1lc3NhZ2VzLmZpbmQoKHg6IE1lc3NhZ2UpID0+IHguZXhhbWluZXJNZXNzYWdlSWQgPT09IHNlbGVjdGVkTXNnSWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFFpZ05hbWUgPSBtZXNzYWdlSGVscGVyLmdldERpc3BsYXlUZXh0KHRoaXMuc2VsZWN0ZWRNc2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1lc3NhZ2VHcm91cERldGFpbHMubWVzc2FnZXMuY291bnQoKSA+IDAgJiYgdGhpcy5zZWxlY3RlZE1zZyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIERlZmF1bHQgZmlyc3QgbWVzc2FnZSBzaG91bGQgYmUgc2VsZWN0ZWQgaW4gdGhlIGxpc3QuIFNlbGVjdCBJIGYgYW55IG1lc3NhZ2UgZXhpc3RzXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNc2cgPSB0aGlzLm1lc3NhZ2VHcm91cERldGFpbHMubWVzc2FnZXMuZmlyc3QoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTXNnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBtZXNzYWdlIGRhdGEuXHJcbiAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IuZ2V0TWVzc2FnZUJvZHlEZXRhaWxzKHRoaXMuc2VsZWN0ZWRNc2cuZXhhbWluZXJNZXNzYWdlSWQsIHRoaXMuc2VsZWN0ZWRUYWIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHJlbmRlcmVkT246IERhdGUubm93KClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2V0IHRoZSBzY3JvbGwgcG9zaXRpb24gdG8gdGhlIHNlbGVjdGVkIG1lc3NhZ2UgZm9yIGF1dG9tYXRpYyBzZWxlY3Rpb25cclxuICAgICAgICBpZiAoc2VsZWN0ZWRNc2dJZCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGJvcmRlckhlaWdodDogbnVtYmVyID0gMzA7XHJcbiAgICAgICAgICAgIGxldCBvZmZzZXRUb3A6IG51bWJlciA9IGh0bWxVdGlsaXRpZXMuZ2V0T2Zmc2V0VG9wKCdtc2ctaXRlbSB1bnJlYWQgc2VsZWN0ZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGh0bWxVdGlsaXRpZXMuc2V0U2Nyb2xsVG9wKCdtc2ctbGlzdC1jb250YWluZXInLCBvZmZzZXRUb3AgLSBib3JkZXJIZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBhY3Rpb24gZXZlbnQgb24gTWVzc2FnZSBEZXRhaWxzIFJlY2VpdmVkLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uTWVzc2FnZURldGFpbHNSZWNlaXZlZCA9IChtc2dJZDogbnVtYmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gQ2hlY2sgdGhlIHNlbGVjdGlvbiBnb3QgY2hhbmdlZCB3aGlsZSByZWNlaXZlcyB0aGUgbWVzc2FnZVxyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTXNnLmV4YW1pbmVyTWVzc2FnZUlkID09PSBtc2dJZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTXNnRGV0YWlscyA9IG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5nZXRNZXNzYWdlRGV0YWlscyh0aGlzLnNlbGVjdGVkTXNnLmV4YW1pbmVyTWVzc2FnZUlkKTtcclxuICAgICAgICAgICAgdGhpcy5oYXNQZXJtaXNzaW9uVG9WaWV3U3RhbmRhcmRpc2F0aW9uV29ya2xpc3QoKTtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkZWZhdWx0IHNlbGVjdGVkIG1lc3NhZ2UgaWYgc2VhcmNoIGZpbHRlciBpcyBub3QgYXBwbGllZC5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoRGF0YS5zZWFyY2hUZXh0ID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZWFkU3RhdHVzKHRoaXMuc2VsZWN0ZWRNc2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyZWRPbjogRGF0ZS5ub3coKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHRoZSBSZWFkIFN0YXR1cyB0byBkYXRhYmFzZVxyXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgOiBtZXNzYWdlIHRvIHVwZGF0ZSB0aGUgcmVhZCBzdGF0dXNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVSZWFkU3RhdHVzKG1lc3NhZ2U6IE1lc3NhZ2UpIHtcclxuICAgICAgICAvLyBJZiB0aGUgbWVzc2FnZSBpcyBjdXJyZW50bHkgaW4gdW4gcmVhZCBzdGF0dXMgYW5kIGFsc28gbWFrZSBzdXJlIGl0IGlzIG5vdCBtYWRlIGFzIHJlYWQgYWxyZWFkeVxyXG4gICAgICAgIGlmIChtZXNzYWdlICYmXHJcbiAgICAgICAgICAgIChtZXNzYWdlLnN0YXR1cyA9PT0gZW51bXMuTWVzc2FnZVJlYWRTdGF0dXMuTmV3XHJcbiAgICAgICAgICAgICAgICAmJiAhbWVzc2FnZVN0b3JlLmluc3RhbmNlLmlzTWVzc2FnZVJlYWQobWVzc2FnZS5leGFtaW5lck1lc3NhZ2VJZCkpKSB7XHJcbiAgICAgICAgICAgIGxldCBleGFtaW5lckxpc3Q6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgICAgIGV4YW1pbmVyTGlzdFswXSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBhcmdzOiBtZXNzYWdlQXJndW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UuZXhhbWluZXJNZXNzYWdlSWQsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlRGlzdHJpYnV0aW9uSWRzOiBtZXNzYWdlLm1lc3NhZ2VEaXN0cmlidXRpb25JZHMsXHJcbiAgICAgICAgICAgICAgICBleGFtaW5lck1lc3NhZ2VTdGF0dXNJZDogZW51bXMuTWVzc2FnZVJlYWRTdGF0dXMuUmVhZFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gYWN0aW9uIGZvciB1cGRhdGluZyByZWFkIHN0YXR1cyBmb3IgdGhlIG5ld2x5IHNlbGVjdGVkIHJlc3BvbnNlLlxyXG4gICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLnVwZGF0ZU1lc3NhZ2VTdGF0dXMoYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZWZyZXNoIHRoZSBnaXZlbiBtZXNzYWdlIGZvbGRlclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUmVmcmVzaE1lc3NhZ2VUYWIgPSAobWVzc2FnZUZvbGRlclR5cGU6IGVudW1zLk1lc3NhZ2VGb2xkZXJUeXBlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gY2hhbmdlIHRoZSBzZWxlY3RlZCB0YWIgdG8gZ2l2ZW4gZm9sZGVyXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRhYiA9IG1lc3NhZ2VGb2xkZXJUeXBlO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNc2dEZXRhaWxzID0gbnVsbDtcclxuICAgICAgICAvLyBMb2FkIHRoZSBtZXNzYWdlc1xyXG4gICAgICAgIHRoaXMuZ2V0TWVzc2FnZXNGb3JUaGVTZWxlY3RlZFRhYigpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICByZW5kZXJlZE9uOiBEYXRlLm5vdygpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmUgcmVuZGVyIHRoZSBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblJlUmVuZGVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICByZW5kZXJlZE9uOiBEYXRlLm5vdygpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIFFJRyBpdGVtcyBsaXN0XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0UWlnSXRlbXNMaXN0ID0gKCk6IEFycmF5PEl0ZW0+ID0+IHtcclxuICAgICAgICB0aGlzLnFpZ0xpc3RJdGVtcyA9IG5ldyBBcnJheTxJdGVtPigpO1xyXG4gICAgICAgIGxldCBtc2cgPSBtZXNzYWdlU3RvcmUuaW5zdGFuY2UubWVzc2FnZXNNYXJrU2NoZW1lcztcclxuICAgICAgICBpZiAobXNnKSB7XHJcbiAgICAgICAgICAgIG1zZy5mb3JFYWNoKChtZXNzYWdlOiBNZXNzYWdpbmdNYXJrU2NoZW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXFpZ1N0b3JlLmluc3RhbmNlLmlzUUlHSGlkZGVuKG1lc3NhZ2UubWFya1NjaGVtZUdyb3VwSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW06IEl0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0cmluZ0Zvcm1hdEhlbHBlci5mb3JtYXRBd2FyZGluZ0JvZHlRSUcoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmtTY2hlbWVHcm91cE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFzc2Vzc21lbnRDb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZXNzaW9uTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tcG9uZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnF1ZXN0aW9uUGFwZXJOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hc3Nlc3NtZW50TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29tcG9uZW50TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0Zvcm1hdEhlbHBlci5nZXRPdmVydmlld1FJR05hbWVGb3JtYXQoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLm1hcmtTY2hlbWVHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRFeGFtaW5lckRpc3BsYXlOYW1lOiB0aGlzLmZvcm1hdHRlZEV4YW1pbmVyTmFtZShtZXNzYWdlLnBhcmVudEluaXRpYWxzLCBtZXNzYWdlLnBhcmVudFN1cm5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRFeGFtaW5lcklkOiBtZXNzYWdlLnBhcmVudEV4YW1pbmVySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uUGFwZXJQYXJ0SWQ6IG1lc3NhZ2UucXVlc3Rpb25QYXBlclBhcnRJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhbWluZXJSb2xlSWQ6IG1lc3NhZ2UuZXhhbWluZXJSb2xlSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcHJvdmFsU3RhdHVzSWQ6IG1lc3NhZ2UuYXBwcm92YWxTdGF0dXNJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0aW9uQ29tcGxldGU6IG1lc3NhZ2UuY29vcmRpbmF0aW9uQ29tcGxldGVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnFpZ0xpc3RJdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucWlnTGlzdEl0ZW1zLnNvcnQoZnVuY3Rpb24gKG9iajE6IEl0ZW0sIG9iajI6IEl0ZW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajEubmFtZS5sb2NhbGVDb21wYXJlKG9iajIubmFtZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIHNlbGVjdGVkIFFJRyBkZXRhaWxzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0U2VsZWN0ZWRRaWdEZXRhaWxzID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIElmIGFuIGV4YW1pbmVyIGhhcyBvbmx5IG9uZSBxaWcgdG8gYmUgc2VsZWN0ZWQgZnJvbSB0aGUgbGlzdC4gRGlzcGxheSB0aGF0IGxpc3RcclxuICAgICAgICBpZiAodGhpcy5xaWdMaXN0SXRlbXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U3VwZXJ2aXNvckFuZFFJR0RldGFpbHModGhpcy5xaWdMaXN0SXRlbXNbMF0uaWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRRaWdJdGVtSWQgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUWlnTmFtZSA9IGxvY2FsZVN0b3JlLmluc3RhbmNlLlRyYW5zbGF0ZVRleHQoJ21lc3NhZ2luZy5jb21wb3NlLW1lc3NhZ2Uuc2VsZWN0LXFpZy1wbGFjZWhvbGRlcicpO1xyXG4gICAgICAgICAgICB0aGlzLnN1cGVydmlzb3JOYW1lID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMuc3VwZXJ2aXNvcklkID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyB3aWxsIHJldHVybnMgdGhlIGZvcm1hdHRlZCB0aGUgZXhhbWluZXIgbmFtZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGZvcm1hdHRlZEV4YW1pbmVyTmFtZShwYXJlbnRJbml0aWFsczogc3RyaW5nLCBwYXJlbnRTdXJuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBmb3JtYXR0ZWRTdHJpbmc6IHN0cmluZyA9IHN0cmluZ0Zvcm1hdEhlbHBlci5nZXRVc2VyTmFtZUZvcm1hdCgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gZm9ybWF0dGVkU3RyaW5nLnJlcGxhY2UoJ3tpbml0aWFsc30nLCBwYXJlbnRJbml0aWFscyk7XHJcbiAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gZm9ybWF0dGVkU3RyaW5nLnJlcGxhY2UoJ3tzdXJuYW1lfScsIHBhcmVudFN1cm5hbWUpO1xyXG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWRTdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmb3IgUUlHIGRyb3Bkb3duIHNlbGVjdCBhY3Rpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblFpZ0l0ZW1TZWxlY3RlZCA9IChzZWxlY3RlZEl0ZW06IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHRoaXMuZ2V0U3VwZXJ2aXNvckFuZFFJR0RldGFpbHMoc2VsZWN0ZWRJdGVtKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWRPbjogRGF0ZS5ub3coKSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSByZXNldE1lc3NhZ2VQb3B1cCA9IChuYXZpZ2F0ZVRvOiBlbnVtcy5TYXZlQW5kTmF2aWdhdGUpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1zZyAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0ZWRNc2cuc3RhdHVzID09PSBlbnVtcy5NZXNzYWdlUmVhZFN0YXR1cy5OZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlR3JvdXBEZXRhaWxzID0gbWVzc2FnZUhlbHBlci5nZXRHcm91cGVkTWVzc2FnZU9iamVjdCh0aGlzLmZpbHRlcmVkTWVzc2FnZXMsIHRoaXMuZXhwYW5kT3JDb2xsYXBzZURldGFpbHMpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU5vdGlmaWNhdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoIChuYXZpZ2F0ZVRvKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU2F2ZUFuZE5hdmlnYXRlLm5ld01lc3NhZ2VCdXR0b25DbGljazpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXR2YXJpYWJsZXMoKTtcclxuICAgICAgICAgICAgICAgIC8vIGZpbGwgcWlnIGl0ZW1zXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFFpZ0l0ZW1zTGlzdCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIHNlbGVjdGVkIGl0ZW1cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2VsZWN0ZWRRaWdEZXRhaWxzKCk7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLm1lc3NhZ2VBY3Rpb24oZW51bXMuTWVzc2FnZVZpZXdBY3Rpb24uT3BlbiwgZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hDb21wb3NlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b1JlcGx5TWVzc2FnZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dmFyaWFibGVzZm9yUmVwbHlGb3J3YXJkKGVudW1zLk1lc3NhZ2VBY3Rpb24uUmVwbHkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvRm9yd2FyZE1lc3NhZ2U6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHZhcmlhYmxlc2ZvclJlcGx5Rm9yd2FyZChlbnVtcy5NZXNzYWdlQWN0aW9uLkZvcndhcmQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZW5kZXJlZE9uOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBtZXNzYWdlIG1lbnUgYWN0aW9uIGNsaWNrXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZU1lbnVBY3Rpb25UeXBlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25NZXNzYWdlTWVudUFjdGlvbkNsaWNrID0gKG1lc3NhZ2VNZW51QWN0aW9uVHlwZTogZW51bXMuTWVzc2FnZUFjdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMubWVzc2FnZUdyb3VwRGV0YWlscyA9IG1lc3NhZ2VIZWxwZXIuZ2V0R3JvdXBlZE1lc3NhZ2VPYmplY3QodGhpcy5maWx0ZXJlZE1lc3NhZ2VzLCB0aGlzLmV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZU5vdGlmaWNhdGlvbigpO1xyXG4gICAgICAgIGlmIChtZXNzYWdlTWVudUFjdGlvblR5cGUgPT09IGVudW1zLk1lc3NhZ2VBY3Rpb24uRGVsZXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0RlbGV0ZU1lc3NhZ2VQb3BVcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5pc01lc3NhZ2VQYW5lbEFjdGl2ZSAmJiBtZXNzYWdlTWVudUFjdGlvblR5cGUgIT09IGVudW1zLk1lc3NhZ2VBY3Rpb24uRGVsZXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSZXBseU9yRm9yd2FyZENsaWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNldHZhcmlhYmxlc2ZvclJlcGx5Rm9yd2FyZChtZXNzYWdlTWVudUFjdGlvblR5cGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCByZXNwb25zZU5hdmlnYXRpb25GYWlsdXJlUmVhc29uczogQXJyYXk8ZW51bXMuUmVzcG9uc2VOYXZpZ2F0ZUZhaWx1cmVSZWFzb24+ID1cclxuICAgICAgICAgICAgICAgIG1hcmtpbmdIZWxwZXIuY2FuTmF2aWdhdGVBd2F5RnJvbUN1cnJlbnRSZXNwb25zZSgpO1xyXG4gICAgICAgICAgICBpZiAobWVzc2FnZU1lbnVBY3Rpb25UeXBlID09PSBlbnVtcy5NZXNzYWdlQWN0aW9uLlJlcGx5KSB7XHJcbiAgICAgICAgICAgICAgICBwb3B1cEhlbHBlci5uYXZpZ2F0ZUF3YXlGcm9tUmVzcG9uc2UocmVzcG9uc2VOYXZpZ2F0aW9uRmFpbHVyZVJlYXNvbnMsIGVudW1zLlNhdmVBbmROYXZpZ2F0ZS50b1JlcGx5TWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZU1lbnVBY3Rpb25UeXBlID09PSBlbnVtcy5NZXNzYWdlQWN0aW9uLkZvcndhcmQpIHtcclxuICAgICAgICAgICAgICAgIHBvcHVwSGVscGVyLm5hdmlnYXRlQXdheUZyb21SZXNwb25zZShyZXNwb25zZU5hdmlnYXRpb25GYWlsdXJlUmVhc29ucywgZW51bXMuU2F2ZUFuZE5hdmlnYXRlLnRvRm9yd2FyZE1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaXNSZXBseU9yRm9yd2FyZENsaWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgc3VwZXJ2aXNvciBkZXRhaWxzIGFnYWluc3QgYSBxaWdcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRTdXBlcnZpc29yQW5kUUlHRGV0YWlscyA9IChxaWdJZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgbGV0IGl0ZW06IEl0ZW0gPSB0aGlzLnFpZ0xpc3RJdGVtcy5maWx0ZXIoKHg6IEl0ZW0pID0+IHguaWQgPT09IHFpZ0lkKVswXTtcclxuICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUWlnSXRlbUlkID0gaXRlbS5pZDtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFFpZ05hbWUgPSBpdGVtLm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3VwZXJ2aXNvck5hbWUgPSBpdGVtLnBhcmVudEV4YW1pbmVyRGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3VwZXJ2aXNvcklkID0gaXRlbS5wYXJlbnRFeGFtaW5lcklkO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUXVlc3Rpb25QYXBlclBhcnRJZCA9IGl0ZW0ucXVlc3Rpb25QYXBlclBhcnRJZDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgcHJpdmF0ZSB2YXJpYWJsZXNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZXNldHZhcmlhYmxlcyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRNZXNzYWdlVHlwZSA9IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Q29tcG9zZTtcclxuICAgICAgICB0aGlzLnJlc3BvbnNlSWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0ID0gJyc7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFFpZ05hbWUgPSAnJztcclxuICAgICAgICB0aGlzLnN1cGVydmlzb3JJZCA9IDA7XHJcbiAgICAgICAgdGhpcy5zdXBlcnZpc29yTmFtZSA9ICcnO1xyXG4gICAgICAgIHRoaXMucHJpb3JpdHlEcm9wZG93blNlbGVjdGVkSXRlbSA9IGVudW1zLk1lc3NhZ2VQcmlvcml0eS5TdGFuZGFyZDtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkUWlnSXRlbUlkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZUJvZHkgPSAnJztcclxuICAgICAgICB0aGlzLmlzUmVwbHlPckZvcndhcmRDbGlja2VkID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogaW52b2tlIHdoZW4gc2VsZWN0IHJlcGx5L2ZvcndhcmQgbWVzc2FnZSBhY3Rpb25cclxuICAgICAqIEBwYXJhbSBtZXNzYWdlTWVudUFjdGlvblR5cGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXR2YXJpYWJsZXNmb3JSZXBseUZvcndhcmQobWVzc2FnZU1lbnVBY3Rpb25UeXBlOiBlbnVtcy5NZXNzYWdlQWN0aW9uKSB7XHJcbiAgICAgICAgLy8gY2hlY2sgb25saW5lIHN0YXR1cyBiZWZvcmUgcHJvY2VlZFxyXG4gICAgICAgIHN3aXRjaCAobWVzc2FnZU1lbnVBY3Rpb25UeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZUFjdGlvbi5Gb3J3YXJkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja09ubGluZVN0YXR1c0FuZERvTWVzc2FnZUFjdGlvbihlbnVtcy5NZXNzYWdlVHlwZS5JbmJveEZvcndhcmQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZUFjdGlvbi5SZXBseTpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tPbmxpbmVTdGF0dXNBbmREb01lc3NhZ2VBY3Rpb24oZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hSZXBseSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHNldCB2YXJpYWJsZXMgZm9yIFJlcGx5IGFuZCBGb3J3YXJkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZG9TZXR2YXJpYWJsZXNmb3JSZXBseUZvcndhcmQgPSAobWVzc2FnZU1lbnVBY3Rpb25UeXBlOiBlbnVtcy5NZXNzYWdlQWN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc01lc3NhZ2VQb3B1cFZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZ2V0U3VwZXJ2aXNvckFuZFFJR0RldGFpbHModGhpcy5zZWxlY3RlZE1zZy5tYXJrU2NoZW1lR3JvdXBJZCk7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZUlkID0gdGhpcy5zZWxlY3RlZE1zZ0RldGFpbHMuZGlzcGxheUlkO1xyXG4gICAgICAgIHRoaXMucHJpb3JpdHlEcm9wZG93blNlbGVjdGVkSXRlbSA9IG1lc3NhZ2VIZWxwZXIuZ2V0UHJpb3JpdHlEcm9wRG93blNlbGVjdGVkSXRlbSh0aGlzLnNlbGVjdGVkTXNnLnByaW9yaXR5TmFtZSk7XHJcbiAgICAgICAgbGV0IHRyYW5zbGF0ZWRNZXNzYWdlQ29udGVudHM6IFRyYW5zbGF0ZWRNZXNzYWdlQ29udGVudCA9IG1lc3NhZ2VUcmFuc2xhdGlvbkhlbHBlci5nZXRUcmFuc2xhdGVkQ29udGVudCh0aGlzLnNlbGVjdGVkTXNnKTtcclxuICAgICAgICBsZXQgbWVzc2FnZUJvZHk6IHN0cmluZztcclxuICAgICAgICAvLyBJZiBzZWxlY3RlZCBtZXNzYWdlIGlzIGEgc3lzdGVtIG1lc3NhZ2UgdGhlbiBzZXQgdGhlIGNvcnJlc3BvbmRpbmcgbGFuZ3VhZ2UganNvbiBmaWxlIGVudHJ5XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRNc2cuZXhhbUJvZHlNZXNzYWdlVHlwZUlkICE9IG51bGwgJiYgdGhpcy5zZWxlY3RlZE1zZy5leGFtQm9keU1lc3NhZ2VUeXBlSWQgIT09IGVudW1zLlN5c3RlbU1lc3NhZ2UuTm9uZSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlQm9keSA9IHRyYW5zbGF0ZWRNZXNzYWdlQ29udGVudHMuY29udGVudDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtZXNzYWdlQm9keSA9IHRoaXMuc2VsZWN0ZWRNc2dEZXRhaWxzLmJvZHk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2VNZW51QWN0aW9uVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VBY3Rpb24uUmVwbHk6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRNZXNzYWdlVHlwZSA9IGVudW1zLk1lc3NhZ2VUeXBlLkluYm94UmVwbHk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1cGVydmlzb3JJZCA9IHRoaXMuc2VsZWN0ZWRNc2cuZnJvbUV4YW1pbmVySWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1cGVydmlzb3JOYW1lID0gdGhpcy5zZWxlY3RlZE1zZy5leGFtaW5lckRldGFpbHMuZnVsbE5hbWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1YmplY3QgPSBtZXNzYWdlSGVscGVyLmdldFN1YmplY3RDb250ZW50KGVudW1zLk1lc3NhZ2VUeXBlLkluYm94UmVwbHksIHRyYW5zbGF0ZWRNZXNzYWdlQ29udGVudHMuc3ViamVjdCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VCb2R5ID0gbWVzc2FnZUhlbHBlci5nZXRNZXNzYWdlQ29udGVudChlbnVtcy5NZXNzYWdlVHlwZS5JbmJveFJlcGx5LFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNc2cuZXhhbWluZXJEZXRhaWxzLmZ1bGxOYW1lLCB0aGlzLnNlbGVjdGVkTXNnLmRpc3BsYXlEYXRlLCBtZXNzYWdlQm9keSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUWlnSXRlbUlkID0gdGhpcy5zZWxlY3RlZE1zZy5tYXJrU2NoZW1lR3JvdXBJZDtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IubWVzc2FnZUFjdGlvbihlbnVtcy5NZXNzYWdlVmlld0FjdGlvbi5PcGVuLCBlbnVtcy5NZXNzYWdlVHlwZS5JbmJveFJlcGx5KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VBY3Rpb24uRm9yd2FyZDpcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE1lc3NhZ2VUeXBlID0gZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hGb3J3YXJkO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZFFpZ0l0ZW0gPSB0aGlzLmdldFFpZ0l0ZW1zTGlzdCgpLmZpbHRlcigoeDogSXRlbSkgPT4geC5pZCA9PT0gdGhpcy5zZWxlY3RlZFFpZ0l0ZW1JZCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcWlnSWQ6IG51bWJlciA9IHRoaXMuc2VsZWN0ZWRRaWdJdGVtSWQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXhhbWluZXJSb2xlSWQ6IG51bWJlciA9IHNlbGVjdGVkUWlnSXRlbVswXS5leGFtaW5lclJvbGVJZDtcclxuICAgICAgICAgICAgICAgIGxldCBhcmdzOiB0ZWFtQXJndW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhhbWluZXJSb2xlSWQ6IGV4YW1pbmVyUm9sZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHFpZ0lkOiBxaWdJZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IuZ2V0VGVhbURldGFpbHMoYXJncyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJqZWN0ID0gbWVzc2FnZUhlbHBlci5nZXRTdWJqZWN0Q29udGVudChlbnVtcy5NZXNzYWdlVHlwZS5JbmJveEZvcndhcmQsIHRyYW5zbGF0ZWRNZXNzYWdlQ29udGVudHMuc3ViamVjdCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VCb2R5ID0gbWVzc2FnZUhlbHBlci5nZXRNZXNzYWdlQ29udGVudChlbnVtcy5NZXNzYWdlVHlwZS5JbmJveEZvcndhcmQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZy5leGFtaW5lckRldGFpbHMuZnVsbE5hbWUsIHRoaXMuc2VsZWN0ZWRNc2cuZGlzcGxheURhdGUsIG1lc3NhZ2VCb2R5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJpb3JpdHlEcm9wZG93blNlbGVjdGVkSXRlbSA9IG1lc3NhZ2VIZWxwZXIuZ2V0UHJpb3JpdHlEcm9wRG93blNlbGVjdGVkSXRlbSh0aGlzLnNlbGVjdGVkTXNnLnByaW9yaXR5TmFtZSk7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLm1lc3NhZ2VBY3Rpb24oZW51bXMuTWVzc2FnZVZpZXdBY3Rpb24uT3BlbiwgZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hGb3J3YXJkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlbmRlcmVkT246IERhdGUubm93KCkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVsZXRlIHRoZSBzZWxlY3RlZCBtZXNzYWdlIC0gdXBkYXRpbmcgZGF0YWJhc2VcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBkZWxldGVNZXNzYWdlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTXNnKSB7XHJcbiAgICAgICAgICAgIGxldCBleGFtaW5lckxpc3Q6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgICAgIGV4YW1pbmVyTGlzdFswXSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBhcmdzOiBtZXNzYWdlQXJndW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMuc2VsZWN0ZWRNc2cuZXhhbWluZXJNZXNzYWdlSWQsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlRGlzdHJpYnV0aW9uSWRzOiB0aGlzLnNlbGVjdGVkTXNnLm1lc3NhZ2VEaXN0cmlidXRpb25JZHMsXHJcbiAgICAgICAgICAgICAgICBleGFtaW5lck1lc3NhZ2VTdGF0dXNJZDogZW51bXMuTWVzc2FnZVJlYWRTdGF0dXMuQ2xvc2VkXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBhY3Rpb24gZm9yIHVwZGF0aW5nIHJlYWQgc3RhdHVzIGZvciB0aGUgbmV3bHkgc2VsZWN0ZWQgcmVzcG9uc2UuXHJcbiAgICAgICAgICAgIG1lc3NhZ2luZ0FjdGlvbkNyZWF0b3IudXBkYXRlTWVzc2FnZVN0YXR1cyhhcmdzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXaWxsIGRpc3BsYXkgZGVsZXRlIG1lc3NhZ2UgY29uZmlybWF0aW9uIGRpYWxvZ1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNob3dEZWxldGVNZXNzYWdlUG9wVXAgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVOb3RpZmljYXRpb24oKTtcclxuICAgICAgICAvLyBkaXNwbGF5IGRpYWxvZyBib3hcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNEZWxldGVNZXNzYWdlUG9wdXBWaXNpYmxlOiB0cnVlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlbGV0ZSBtZXNzYWdlIGNvbmZpcm1hdGlvbiBkaWFsb2cgWWVzIGNsaWNrXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25ZZXNCdXR0b25EZWxldGVNZXNzYWdlQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5kZWxldGVNZXNzYWdlKCk7XHJcbiAgICAgICAgLy8gaGlkaW5nIGNvbmZpcm1hdGlvbiBkaWFsb2dcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNEZWxldGVNZXNzYWdlUG9wdXBWaXNpYmxlOiBmYWxzZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWxldGUgbWVzc2FnZSBjb25maXJtYXRpb24gZGlhbG9nIE5vIGNsaWNrXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25Ob0J1dHRvbkRlbGV0ZU1lc3NhZ2VDbGljayA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAvLyBoaWRpbmcgY29uZmlybWF0aW9uIGRpYWxvZ1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0RlbGV0ZU1lc3NhZ2VQb3B1cFZpc2libGU6IGZhbHNlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgbWVzc2FnZSBkZWxldGVkIFN0YXR1cyB0byBkYXRhYmFzZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHVwZGF0ZU1lc3NhZ2VEZWxldGVkU3RhdHVzID0gKCk6IHZvaWQgPT4ge1xyXG5cclxuICAgICAgICBsZXQgbWVzc2FnZXMgPSB0aGlzLm1lc3NhZ2VHcm91cERldGFpbHMubWVzc2FnZXM7XHJcblxyXG4gICAgICAgIC8vIFNjZW5hcmlvIDEuIEFmdGVyIGEgZGVsZXRpbmcgYSBtZXNzYWdlLCBDaGVjayBhbnkgb3RoZXIgbWVzc2FnZSBleGlzdHMganVzdCBuZXh0IHRvIHRoZSBjdXJyZW50IFFJRywgSWYgU28gU2VsZWN0IHRoYXQgaXRlbVxyXG4gICAgICAgIC8vIEZpbmQgQWxsIG1lc3NhZ2VzIHJlbGF0ZWQgdG8gdGhlIHRoZSBTZWxlY3RlZCBtZXNzYWdlXHJcbiAgICAgICAgbGV0IG1lc3NhZ2VzSW5UaGVTZWxlY3RlZFFpZ3MgPVxyXG4gICAgICAgICAgICBpbW11dGFibGUuTGlzdDxNZXNzYWdlPihtZXNzYWdlcy5maWx0ZXIoKHg6IE1lc3NhZ2UpID0+IHgubWFya1NjaGVtZUdyb3VwSWQgPT09IHRoaXMuc2VsZWN0ZWRNc2cubWFya1NjaGVtZUdyb3VwSWQpKTtcclxuXHJcbiAgICAgICAgLy8gRmluZCB0aGUgbWVzc2FnZSBpbmRleCB3aXRoIGluIHRoZSBzZWxlY3RlZCBRSUcgbWVzc2FnZXNcclxuICAgICAgICBsZXQgc2VsZWN0ZWRNZXNzYWdlSW5kZXhJblRoZVFJRyA9XHJcbiAgICAgICAgICAgIG1lc3NhZ2VzSW5UaGVTZWxlY3RlZFFpZ3MuZmluZEluZGV4KCh4OiBNZXNzYWdlKSA9PiB4LmV4YW1pbmVyTWVzc2FnZUlkID09PSB0aGlzLnNlbGVjdGVkTXNnLmV4YW1pbmVyTWVzc2FnZUlkKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgY3VycmVudGx5IHNlbGVjdGVkIG1lc3NhZ2UgaXMgdGhlIGxhc3QgaXRlbSBpbiB0aGUgUUlHIEdyb3VwLlxyXG4gICAgICAgIGlmIChzZWxlY3RlZE1lc3NhZ2VJbmRleEluVGhlUUlHID09PSBtZXNzYWdlc0luVGhlU2VsZWN0ZWRRaWdzLmNvdW50KCkgLSAxKSB7XHJcbiAgICAgICAgICAgIC8vIFNlbGVjdCBQcmV2aW91cyBtZXNzYWdlIGluIHRoZSBzYW1lIGdyb3VwLCBJZiBpdCBoYXMgYSBwcmV2aW91cyBpdGVtIGluIHRoZSBtZXNzYWdlXHJcbiAgICAgICAgICAgIGlmIChtZXNzYWdlc0luVGhlU2VsZWN0ZWRRaWdzLmNvdW50KCkgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTXNnID0gbWVzc2FnZXNJblRoZVNlbGVjdGVkUWlncy5nZXQoc2VsZWN0ZWRNZXNzYWdlSW5kZXhJblRoZVFJRyAtIDEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gIFNlbGVjdCB0aGUgbmV4dCBJdGVtIEluIHRoZSBhbGwgbWVzc2FnZXMsIElmIGl0IGlzIE5vdCB0aGUgbGFzdCBtZXNzYWdlcyBpbiB0aGUgUGFuZWwuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRNZXNzYWdlSW5kZXhJbkFsbE1lc3NhZ2VzID1cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5maW5kSW5kZXgoKHg6IE1lc3NhZ2UpID0+IHguZXhhbWluZXJNZXNzYWdlSWQgPT09IHRoaXMuc2VsZWN0ZWRNc2cuZXhhbWluZXJNZXNzYWdlSWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE1lc3NhZ2VJbmRleEluQWxsTWVzc2FnZXMgIT09IG1lc3NhZ2VzLmNvdW50KCkgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZyA9IG1lc3NhZ2VzLmdldChzZWxlY3RlZE1lc3NhZ2VJbmRleEluQWxsTWVzc2FnZXMgKyAxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZXMuY291bnQoKSA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCBpcyBsYXN0ZSBtZXNzYWdlIGluIGFsbCBtZXNzYWdlcyBhbmQgaGFzIGEgcHJldmlvdXMgbWVzc2FnZSBzZWxlY3QuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZyA9IG1lc3NhZ2VzLmdldChzZWxlY3RlZE1lc3NhZ2VJbmRleEluQWxsTWVzc2FnZXMgLSAxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGRlbGV0ZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE1lc3NhZ2UgRGVsZXRlZCBJbiBhIFFJRyBncm91cCBhbmQgaGFzIGEgbmV4dCBtZXNzYWdlIHdpdGggaW4gIHRoZSBHcm91cCwgU2VsZWN0IE5leHQgTWVzc2FnZSBpbiB0aGUgU2VsZWN0ZWQgUUlHIEdyb3VwLlxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTXNnID0gbWVzc2FnZXNJblRoZVNlbGVjdGVkUWlncy5nZXQoc2VsZWN0ZWRNZXNzYWdlSW5kZXhJblRoZVFJRyArIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZE1zZ0RldGFpbHMgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyByZWZyZXNoIHRoZSBkYXRhXHJcbiAgICAgICAgdGhpcy5nZXRNZXNzYWdlc0ZvckluYm94T25EZWxldGlvbigpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZW5kZXJlZE9uOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZW4gdGhlIHJlc3BvbnNlIHBhZ2UuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbmF2aWdhdGVUb1Jlc3BvbnNlUGFnZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBuYXZpZ2F0aW9uSGVscGVyLmxvYWRSZXNwb25zZVBhZ2UoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IExvYWRpbmcgSW5kaWNhdG9yLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uRGlzcGxheUlkQ2xpY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzOiBNZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyA9IHtcclxuICAgICAgICAgICAgcmVzcG9uc2VJZDogbnVsbCxcclxuICAgICAgICAgICAgY2FuTmF2aWdhdGU6IHRydWUsXHJcbiAgICAgICAgICAgIG5hdmlnYXRlVG86IGVudW1zLk1lc3NhZ2VOYXZpZ2F0aW9uLnRvU2VhcmNoZWRSZXNwb25zZSxcclxuICAgICAgICAgICAgbmF2aWdhdGlvbkNvbmZpcm1lZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGhhc01lc3NhZ2VDb250YWluc0RpcnR5VmFsdWU6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgdHJpZ2dlclBvaW50OiBlbnVtcy5UcmlnZ2VyUG9pbnQuTm9uZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5pc01lc3NhZ2VQYW5lbEFjdGl2ZSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cy5jYW5OYXZpZ2F0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBtZXNzYWdpbmdBY3Rpb25DcmVhdG9yLmNhbk1lc3NhZ2VOYXZpZ2F0ZShtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuU2VhcmNoZWRSZXNwb25zZShtZXNzYWdlTmF2aWdhdGlvbkFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgbWVzc2FnZSBjb3VudFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHVwZGF0ZU5vdGlmaWNhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnVucmVhZE1lc3NhZ2VDb3VudCA9IG1lc3NhZ2VTdG9yZS5pbnN0YW5jZS5nZXRVbnJlYWRNZXNzYWdlQ291bnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB3aGV0aGVyIHRoZSBmb3J3YXJkIGJ1dHRvbiBpcyBoaWRkZW4gb3Igbm90XHJcbiAgICAgKiBAcGFyYW0gbWFya1NjaGVtZUdyb3VwSWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpc0ZvcndhcmRCdXR0b25IaWRkZW4obWFya1NjaGVtZUdyb3VwSWQ6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBpdGVtOiBJdGVtID0gdGhpcy5xaWdMaXN0SXRlbXMuZmlsdGVyKCh4OiBJdGVtKSA9PiB4LmlkID09PSBtYXJrU2NoZW1lR3JvdXBJZClbMF07XHJcbiAgICAgICAgaWYgKGl0ZW0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb3BlblNlYXJjaGVkUmVzcG9uc2UgPSAobWVzc2FnZU5hdmlnYXRpb25Bcmd1bWVudHM6IE1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLmNhbk5hdmlnYXRlICYmXHJcbiAgICAgICAgICAgIG1lc3NhZ2VOYXZpZ2F0aW9uQXJndW1lbnRzLm5hdmlnYXRlVG8gPT09IGVudW1zLk1lc3NhZ2VOYXZpZ2F0aW9uLnRvU2VhcmNoZWRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXNwb25zZUFjdGlvbkNyZWF0b3IuZ2V0UmVzcG9uc2VEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZ0RldGFpbHMuZGlzcGxheUlkLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZ0RldGFpbHMubWFya0dyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTXNnRGV0YWlscy5lc01hcmtHcm91cElkLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZy5tYXJrU2NoZW1lR3JvdXBJZCxcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNc2cuZXhhbWluZXJNZXNzYWdlSWQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTXNnRGV0YWlscy5jYW5kaWRhdGVTY3JpcHRJZCxcclxuICAgICAgICAgICAgICAgIGxvZ2luU2Vzc2lvbi5FWEFNSU5FUl9JRCxcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNc2dEZXRhaWxzLmlzRWxlY3Ryb25pY1N0YW5kYXJkaXNhdGlvblRlYW1NZW1iZXIsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTXNnRGV0YWlscy5pc1RlYW1NYW5hZ2VtZW50LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZ0RldGFpbHMuaXNTdGFuZGFyZGlzYXRpb25TZXR1cCxcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNc2dEZXRhaWxzLnN0YW5kYXJkaXNhdGlvblNldHVwV29ya2xpc3RUeXBlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZ0RldGFpbHMuZXNEaXNwbGF5SWQpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuaW5nUmVzcG9uc2U6IHRydWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERhdGEgUmVjZWl2ZWQgRm9yIE9wZW5pbmcgdGhlIHJlc3BvbnNlLiBWYWxpZGF0ZSBtYXJrZXIgaXMgd2l0aGRyd2FuIGZyb20gdGhlIFFJR1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGluaXRpYXRlU2VyYWNoUmVzcG9uc2UgPSAoc2VhcmNoZWRSZXNwb25zZURhdGE6IFNlYXJjaGVkUmVzcG9uc2VEYXRhKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hlZFJlc3BvbnNlRGF0YSA9IHNlYXJjaGVkUmVzcG9uc2VEYXRhO1xyXG4gICAgICAgIGlmIChzZWFyY2hlZFJlc3BvbnNlRGF0YS5hcHByb3ZhbFN0YXR1c0lkID09PSBlbnVtcy5FeGFtaW5lckFwcHJvdmFsLldpdGhkcmF3bikge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuaW5nUmVzcG9uc2U6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmdldE1lc3NhZ2VzRm9yVGhlU2VsZWN0ZWRUYWIoKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE1zZ0RldGFpbHMgPSBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIGlmIChzZWFyY2hlZFJlc3BvbnNlRGF0YS5oYXNRdWFsaXR5RmVlZGJhY2tPdXRzdGFuZGluZyAmJlxyXG4gICAgICAgICAgICBzZWFyY2hlZFJlc3BvbnNlRGF0YS5sb2dnZWRJbkV4YW1pbmVySWQgPT09IHNlYXJjaGVkUmVzcG9uc2VEYXRhLmV4YW1pbmVySWQpIHtcclxuICAgICAgICAgICAgLy8gRGlzcGxheSBNZXNzYWdlIGZvciBpbmRpY2F0aW5nIHRoZSBRdWFsaXR5IGZlZWRiYWNrIG1lc3NhZ2VcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbmluZ1Jlc3BvbnNlOiBmYWxzZSwgaGFzT3BlbmluZ1F1YWxpdHlGZWVkYmFja1F1dHN0YW5kaW5nUUlHc1Jlc3BvbnNlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXNwb25zZVNlYXJjaEhlbHBlci5pbml0aWF0ZVNlcmFjaFJlc3BvbnNlKHNlYXJjaGVkUmVzcG9uc2VEYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbG9zZSB0aGUgUXVhbGl0eSBmZWVkYmFjayBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uUXVhbGl0eUZlZWRiYWNrV2FybmluZ01lc3NhZ2VDbG9zZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaGFzT3BlbmluZ1F1YWxpdHlGZWVkYmFja1F1dHN0YW5kaW5nUUlHc1Jlc3BvbnNlOiBmYWxzZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXZSd2ZSB0byBjbGVhciB0aGUgZXhpc3Rpbmcgc2VhcmNoIGZpbHRlciBpZiB0aGUgdXNlciBpcyBuYXZpZ2F0aW5nIHRvIG1lbnUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25NZW51T3BlbiA9IChkb1Zpc2libGU6IGJvb2xlYW4gPSB0cnVlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5leHBhbmRPckNvbGxhcHNlRGV0YWlscyA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoZG9WaXNpYmxlICYmIHRoaXMuc2VhcmNoRGF0YS5zZWFyY2hUZXh0ICE9PSAnJykge1xyXG4gICAgICAgICAgICB0aGlzLm9uU2VhcmNoKCcnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub25NZXNzYWdlc1JlY2VpdmVkKDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZnVuY3Rpb24gZm9yIG9uIHNlYXJjaFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU2VhcmNoID0gKHNlYXJjaFRleHQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRoaXMuc2VhcmNoRGF0YSA9IHsgaXNWaXNpYmxlOiB0cnVlLCBpc1NlYXJjaGluZzogdHJ1ZSwgc2VhcmNoVGV4dDogc2VhcmNoVGV4dCB9O1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNc2cgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5vbk1lc3NhZ2VzUmVjZWl2ZWQoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIGNvbGxlY3Rpb24gd2l0aCBleHBhbmQgb3IgY29sbGFwc2UgZGV0YWlsc1xyXG4gICAgICogQHBhcmFtIHFpZ0lkIG51bWJlclxyXG4gICAgICogQHBhcmFtIGlzT3BlbiBib29sZWFuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25FeHBhbmRPckNvbGxhcHNlID0gKHFpZ0lkOiBudW1iZXIsIGlzT3BlbjogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIC8vIERpY3Rpb25hcnkgYWxyZWFkeSBjb250YWlucyB0aGUga2V5IHRoZW4gdXBkYXRlIHRoZSB2YWx1ZSBvdGhlcndpc2UgYWRkIGEgbmV3IGVudHJ5LlxyXG4gICAgICAgIHRoaXMuZXhwYW5kT3JDb2xsYXBzZURldGFpbHMgPSB0aGlzLmV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzLnNldChxaWdJZCwgaXNPcGVuKTtcclxuICAgICAgICB0aGlzLm9uTWVzc2FnZXNSZWNlaXZlZCgwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgZXhwYW5kIG9yIGNvbGxhcHNlIG9iamVjdCBiYXNlZCBvbiBzZWxlY3RlZCB0YWJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBleHBhbmRPckNvbGxhcHNlRGV0YWlscygpOiBpbW11dGFibGUuTWFwPG51bWJlciwgYm9vbGVhbj4ge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zZWxlY3RlZFRhYikge1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VGb2xkZXJUeXBlLlNlbnQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2VudFRhYkV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW50VGFiRXhwYW5kT3JDb2xsYXBzZURldGFpbHMgPSBpbW11dGFibGUuTWFwPG51bWJlciwgYm9vbGVhbj4oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbnRUYWJFeHBhbmRPckNvbGxhcHNlRGV0YWlscztcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlRm9sZGVyVHlwZS5EZWxldGVkOlxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRlbGV0ZWRUYWJFeHBhbmRPckNvbGxhcHNlRGV0YWlscykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlZFRhYkV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzID0gaW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxldGVkVGFiRXhwYW5kT3JDb2xsYXBzZURldGFpbHM7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW5ib3hUYWJFeHBhbmRPckNvbGxhcHNlRGV0YWlscykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5ib3hUYWJFeHBhbmRPckNvbGxhcHNlRGV0YWlscyA9IGltbXV0YWJsZS5NYXA8bnVtYmVyLCBib29sZWFuPigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5ib3hUYWJFeHBhbmRPckNvbGxhcHNlRGV0YWlscztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXQgZXhwYW5kIG9yIGNvbGxhcHNlIG9iamVjdCBiYXNlZCBvbiBzZWxlY3RlZCB0YWJcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldCBleHBhbmRPckNvbGxhcHNlRGV0YWlscyhleHBhbmRPckNvbGxhcHNlRGV0YWlsczogaW1tdXRhYmxlLk1hcDxudW1iZXIsIGJvb2xlYW4+KSB7XHJcbiAgICAgICAgaWYgKGV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZW50VGFiRXhwYW5kT3JDb2xsYXBzZURldGFpbHMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlZFRhYkV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLmluYm94VGFiRXhwYW5kT3JDb2xsYXBzZURldGFpbHMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc2VsZWN0ZWRUYWIpIHtcclxuICAgICAgICAgICAgY2FzZSBlbnVtcy5NZXNzYWdlRm9sZGVyVHlwZS5TZW50OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW50VGFiRXhwYW5kT3JDb2xsYXBzZURldGFpbHMgPSBleHBhbmRPckNvbGxhcHNlRGV0YWlscztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VGb2xkZXJUeXBlLkRlbGV0ZWQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZWRUYWJFeHBhbmRPckNvbGxhcHNlRGV0YWlscyA9IGV4cGFuZE9yQ29sbGFwc2VEZXRhaWxzO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluYm94VGFiRXhwYW5kT3JDb2xsYXBzZURldGFpbHMgPSBleHBhbmRPckNvbGxhcHNlRGV0YWlscztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGZpbHRlcmVkIHNldCBvZiBtZXNzYWdlcyBpZiBmaWx0ZXIgaXMgYXBwbGljYWJsZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldCBmaWx0ZXJlZE1lc3NhZ2VzKCk6IGltbXV0YWJsZS5MaXN0PE1lc3NhZ2U+IHtcclxuICAgICAgICBsZXQgZmlsdGVyZWRNZXNzYWdlczogaW1tdXRhYmxlLkxpc3Q8TWVzc2FnZT4gPSBtZXNzYWdlU3RvcmUuaW5zdGFuY2UubWVzc2FnZXM7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoRGF0YS5zZWFyY2hUZXh0ICE9PSAnJyAmJiB0aGlzLnNlYXJjaERhdGEuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIGZpbHRlcmVkTWVzc2FnZXMgPSBpbW11dGFibGUuTGlzdDxNZXNzYWdlPihmaWx0ZXJlZE1lc3NhZ2VzLmZpbHRlcigobWVzc2FnZTogTWVzc2FnZSkgPT5cclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VUcmFuc2xhdGlvbkhlbHBlci5nZXRFeGFtaW5lck5hbWUobWVzc2FnZSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHRoaXMuc2VhcmNoRGF0YS5zZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkpICE9PSAtMSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkTWVzc2FnZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoaWRlIGJ1c3kgaW5kaWNhdG9yIG9uIHJlc3BvbnNlIHNlYXJjaCBmYWlsZWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBvblJlc3BvbnNlRGF0YVJlY2VpdmVkRmFpbGVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc09wZW5pbmdSZXNwb25zZTogZmFsc2UgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEhhbmRsZXMgdGhlIGFjdGlvbiBldmVudCBvbiBNZXNzYWdlIERldGFpbHMgUmVjZWl2ZWQgZmFpbGVkXHJcbiAgICBwcml2YXRlIG9uTWVzc2FnZURldGFpbHNSZWNlaXZlZEZhaWxlZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLmlzTG9hZGluZ0RhdGFGYWlsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICByZW5kZXJlZE9uOiBEYXRlLm5vdygpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIERpc2FibGUgbG9hZGluZyBpbmRpY2F0b3Igd2hlbiBhcHBsaWNhdGlvbiBnb2VzIG9mZmxpbmUvXHJcbiAgICAvLyBpZiBpdCBmYWlsZWQgdG8gcmV0cmllbnZlIGRhdGEuXHJcbiAgICBwcml2YXRlIGdldCBmb3JjZURpc2FibGVMb2FkaW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzTG9hZGluZ0RhdGFGYWlsZWQgfHwgIXRoaXMucHJvcHMuaXNPbmxpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjaGVjayBvbmxpbmUgc3RhdHVzXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVR5cGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjaGVja09ubGluZVN0YXR1c0FuZERvTWVzc2FnZUFjdGlvbihtZXNzYWdlVHlwZTogZW51bXMuTWVzc2FnZVR5cGUpIHtcclxuICAgICAgICAvKiBXaWxsIHJlcXVlc3QgdGlueW1jZSBmb250IHdoZW4gb3BlbiBhIGNvbXBvc2UgbWVzc2FnZSBwYW5lbCBmaXJzdCB0aW1lXHJcbiAgICAgICAgKGllLCB3aGVuIHJlbmRlciBtZXNzYWdlIHBvcHVwIGNvbXBvbmVudCBmaXJzdCB0aW1lKS4gSWYgb3BlbiB0aGUgY29tcG9zZSBtZXNzYWdlIHBhbmVsIGluIG9mZmxpbmUgbW9kZSxcclxuICAgICAgICB0aGVuIHRoZSBmb250IHJlcXVlc3Qgd2lsbCBnZXQgZmFpbGVkIGFuZCB0aHVzIHRoZSBmb250IGZhbWlseSBidXR0b25zIGFyZSBub3QgdmlzaWJsZS5cclxuICAgICAgICBTaW5jZSB0aGlzIHJlcXVlc3QgaXMgaGFwcGVucyBvbmx5IG9uY2UsIHRoZSBmb250IGZhbWlseSBidXR0b25zIGFyZSBub3QgdmlzaWJsZSBkdXJpbmcgdGhhdCBzZXNzaW9uLlxyXG4gICAgICAgIFNvIHdlIGZpcnN0IGRvIGEgcGluZyBhbmQgY2hlY2sgdGhlIG5ldHdvcmsgc3RhdHVzIGFuZCBpZiB0aGUgc3lzdGVtIGlzIGluIG9ubGluZSxcclxuICAgICAgICB0aGVuIHByb2NlZWQgdGhlIG1lc3NhZ2UgYWN0aW9uIChjb21wb3NlL3JlcGx5L2ZvcndhcmQpLiBJZiB0aGUgc3lzdGVtIGlzIGluIG9mZmxpbmUgbW9kZSxcclxuICAgICAgICB0aGVuIHNob3dzIG9mZmxpbmUgcG9wdXAgYW5kIGRvbuKAmXQgcHJvY2VlZCB0aGUgbWVzc2FnZSBhY3Rpb24uKi9cclxuICAgICAgICBpZiAoYXBwbGljYXRpb25TdG9yZS5pbnN0YW5jZS5pc09ubGluZSkge1xyXG4gICAgICAgICAgICAvLyBwaW5nIGFuZCBjaGVjayBvbmxpbmUgc3RhdHVzIGlmIHN5c3RlbSBpcyBpbiBvbmxpbmUgbW9kZVxyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VUeXBlID0gbWVzc2FnZVR5cGU7XHJcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uQWN0aW9uQ3JlYXRvci52YWxpZGF0ZU5ldFdvcmtTdGF0dXModHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gaWYgaW4gb2ZmbGluZSBtb2RlLCB0aGVuIHNob3cgb2ZmbGluZSBwb3B1cFxyXG4gICAgICAgICAgICBhcHBsaWNhdGlvbkFjdGlvbkNyZWF0b3IuY2hlY2tBY3Rpb25JbnRlcnJ1cHRlZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFjdGlvbnMgdG8gYmUgZG9uZSB3aGVuIG9ubGluZSBzdGF0dXMgdXBkYXRlZFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uT25saW5lU3RhdHVzVXBkYXRlZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAvL0RlZmVjdEZpeCAjNjU0MTc6IFJlbW92ZWQgb2ZmbGluZSBjaGVjaywgc2luY2Ugb24gb2ZmbGluZSwgdGhlIG9mZmxpbmUgbWVzc2FnZSBpcyBzaG93aW5nIHdpdGhvdXQgYW55IHVzZXIgYWN0aW9uXHJcbiAgICAgICAgaWYgKGFwcGxpY2F0aW9uU3RvcmUuaW5zdGFuY2UuaXNPbmxpbmUpIHtcclxuICAgICAgICAgICAgLy8gaWYgaW4gb25saW5lIG1vZGUsIHRoZSBwcm9jZWVkIHRoZSBhY3Rpb25cclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm1lc3NhZ2VUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGVudW1zLk1lc3NhZ2VUeXBlLkluYm94Q29tcG9zZTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTmV3TWVzc2FnZUNsaWNrZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hGb3J3YXJkOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9TZXR2YXJpYWJsZXNmb3JSZXBseUZvcndhcmQoZW51bXMuTWVzc2FnZUFjdGlvbi5Gb3J3YXJkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuTWVzc2FnZVR5cGUuSW5ib3hSZXBseTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvU2V0dmFyaWFibGVzZm9yUmVwbHlGb3J3YXJkKGVudW1zLk1lc3NhZ2VBY3Rpb24uUmVwbHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qSWYgdGhlIGFwcGxpY2F0aW9uIGdvZXMgb2ZmbGluZSB3aGVuIGNsaWNraW5nIGEgcmVzcG9uc2UgZnJvbSBpbmJveCBhbmQgdGhlbiBjb21lcyBiYWNrIG9ubGluZVxyXG4gICAgICAgICAgICBsb2FkaW5nIHJlc3BvbnNlIGluZGljYXRvciB3aWxsIGJlIHNob3duIGFuZCBubyByZXNwb25zZSB3aWxsIGJlIGxvYWRlZCwgc28gc2V0dGluZyBsb2FkaW5nXHJcbiAgICAgICAgICAgIGluZGljYXRvciB0byBmYWxzZSB3aGVuIGJhY2sgb25saW5lKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNPcGVuaW5nUmVzcG9uc2UgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc09wZW5pbmdSZXNwb25zZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlVHlwZSA9IGVudW1zLk1lc3NhZ2VUeXBlLk5vbmU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgd2hldGhlciBFeGFtaW5lciBoYXZlIHBlcm1pc3Npb24gdG8gdmlldyByZXNwbnNlcyBpbiAgc3RhbmRhcmRpc2F0aW9uIHNldHVwIGNsYXNzaWZpZWQgd29ya2xpc3QuXHJcbiAgICAgKiBJZiB3ZSBoYXZlIG5vIHBlcm1pc3Npb24gaW4gY2xhc3NpZmljYXRpb25zIHdlIGhhdmUgdG8gZGlzYWJsZSBsaW5rZWQgcmVzcG9uc2VJRCBjbGljayBpbiBtZXNzYWdpbmcuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgaGFzUGVybWlzc2lvblRvVmlld1N0YW5kYXJkaXNhdGlvbldvcmtsaXN0ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGxldCBoYXNQZXJtaXNzaW9uSW5TdGRTZXR1cFdvcmtsaXN0OiBib29sZWFuID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE1zZ0RldGFpbHMuaXNTdGFuZGFyZGlzYXRpb25TZXR1cFxyXG4gICAgICAgICAgICAmJiB0aGlzLnNlbGVjdGVkTXNnRGV0YWlscy5zdGFuZGFyZGlzYXRpb25TZXR1cFdvcmtsaXN0VHlwZSA9PT0gZW51bXMuU3RhbmRhcmRpc2F0aW9uU2V0dXAuQ2xhc3NpZmllZFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGhhc1Blcm1pc3Npb25JblN0ZFNldHVwV29ya2xpc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IHN0ZFNldHVwUHJlbWlzc2lvbnNEYXRhOiBzdGFuZGFyZGlzYXRpb25TZXR1cENDRGF0YSA9XHJcbiAgICAgICAgICAgICAgICBxaWdTdG9yZS5pbnN0YW5jZS5nZXRTU1VQZXJtaXNzaW9uc0RhdGEodGhpcy5zZWxlY3RlZE1zZ0RldGFpbHMubWFya1NjaGVtZUdyb3VwSUQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHN0ZFNldHVwUHJlbWlzc2lvbnNEYXRhLnJvbGUudmlld0J5Q2xhc3NpZmljYXRpb24uY2xhc3NpZmljYXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc2VsZWN0ZWRNc2dEZXRhaWxzLm1hcmtpbmdNb2RlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVudW1zLk1hcmtpbmdNb2RlLlByYWN0aWNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNQZXJtaXNzaW9uSW5TdGRTZXR1cFdvcmtsaXN0ID0gc3RkU2V0dXBQcmVtaXNzaW9uc0RhdGEucm9sZS52aWV3QnlDbGFzc2lmaWNhdGlvbi5jbGFzc2lmaWNhdGlvbnMucHJhY3RpY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuQXBwcm92YWw6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1Blcm1pc3Npb25JblN0ZFNldHVwV29ya2xpc3QgPSBzdGRTZXR1cFByZW1pc3Npb25zRGF0YS5yb2xlLnZpZXdCeUNsYXNzaWZpY2F0aW9uLmNsYXNzaWZpY2F0aW9ucy5zdGFuZGFyZGlzYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW51bXMuTWFya2luZ01vZGUuRVNfVGVhbUFwcHJvdmFsOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNQZXJtaXNzaW9uSW5TdGRTZXR1cFdvcmtsaXN0ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFNldHVwUHJlbWlzc2lvbnNEYXRhLnJvbGUudmlld0J5Q2xhc3NpZmljYXRpb24uY2xhc3NpZmljYXRpb25zLnN0bVN0YW5kYXJkaXNhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbnVtcy5NYXJraW5nTW9kZS5TZWVkaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNQZXJtaXNzaW9uSW5TdGRTZXR1cFdvcmtsaXN0ID0gc3RkU2V0dXBQcmVtaXNzaW9uc0RhdGEucm9sZS52aWV3QnlDbGFzc2lmaWNhdGlvbi5jbGFzc2lmaWNhdGlvbnMuc2VlZGluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZE1zZ0RldGFpbHMuaGFzUGVybWlzc2lvbkluU3RkU2V0dXBXb3JrbGlzdCA9IGhhc1Blcm1pc3Npb25JblN0ZFNldHVwV29ya2xpc3Q7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0ID0gTWVzc2FnZUNvbnRhaW5lcjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9jb21wb25lbnRzL21lc3NhZ2UvbWVzc2FnZWNvbnRhaW5lci50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTs7QUFFQTtBQUVBO0FBQ0E7QUF3Q0E7O0FBRUE7QUFDQTtBQUFBO0FBb0NBOzs7O0FBSUE7QUFDQTtBQUFBO0FBcENBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE0TUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTZCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNFFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXdCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0JBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBb0JBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNkRBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE4QkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzdkNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7O0FBRUE7QUFFQTtBQUdBO0FBS0E7QUFTQTtBQUVBO0FBR0E7QUFZQTtBQWFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFLQTtBQU9BO0FBQ0E7QUFhQTtBQVVBO0FBV0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUFBOztBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBVUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFvRkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0EsZ0ZBZ0JBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQTBEQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQTZFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTBGQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcURBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUE4R0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBcUZBO0FBSEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUF2QkE7QUE0QkE7QUFIQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBOzs7QUFBQTtBQW1CQTtBQUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThEQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ })

});